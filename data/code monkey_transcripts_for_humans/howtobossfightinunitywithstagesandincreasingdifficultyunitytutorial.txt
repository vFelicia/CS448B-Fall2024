With timestamps:

00:00 - this video is sponsored by hosting er in
00:02 - this video we're going to make a very
00:04 - simple bus fight it will have multiple
00:06 - stages and increasing difficulty I've
00:08 - used this system in both the FPS game
00:10 - and the top-down shooter games and make
00:12 - reasonable let's begin our goal here is
00:19 - to make a really cool phosphite with
00:21 - various stages boss fights can be really
00:23 - unique so after you follow this video
00:25 - and make your own super cool unique bus
00:26 - fight then you can make a WebGL film to
00:29 - share it with your friends and host it
00:30 - on a website which you can get through
00:32 - hosting her hosting er provides
00:33 - best-in-class hosting services that are
00:35 - extremely fast and very affordable with
00:37 - excellent customer support to help you
00:39 - succeed choose from a variety of plans
00:41 - and pick the one that best suits your
00:43 - needs making your website from scratch
00:44 - can be hard but hosting er makes this
00:47 - much easier by supporting WordPress
00:48 - which is a few clicks you can use the
00:50 - auto installer to get WordPress
00:52 - installed on your website then you can
00:54 - pick from a giant selection of templates
00:56 - to quickly get started and then
00:57 - customize the website to exactly as you
00:59 - want it here for example I have easily
01:02 - built a simple website by customizing a
01:04 - template when excellent WordPress
01:06 - feature is how you have these buttons to
01:08 - swap between desktop table and phone
01:10 - this points so you can rest assure that
01:12 - your website will look great on any
01:13 - device also if you're making some really
01:16 - cool online integration for your game
01:17 - then check out their super fast and
01:19 - affordable cloud hosting solutions all
01:21 - the plans come with a 30-day money-back
01:23 - guarantee so you can try out the
01:24 - services without any risk go to hosting
01:27 - air.com slash code monkey and use the
01:29 - coupon code monkey to get up to 91
01:30 - percent off yearly web hosting plants
01:32 - click the link in the description and
01:34 - succeed faster using the link help
01:37 - support the channel so thank you to
01:38 - hosting her and also thank you to these
01:40 - awesome supporters for making this video
01:42 - possible go to patreon.com/scishow to
01:44 - code monkey to get some perks and help
01:46 - keep the videos free for everyone ok so
01:49 - here's what we want to make I have my
01:51 - player character that I can move around
01:52 - and shoot and now inside this door I
01:55 - have the boss battle area so as I go in
01:58 - there we go there's the boss battle
02:00 - he's a nice turret and as soon as I go
02:02 - in the door closes behind me and he
02:04 - starts aiming at me and tries to shoot
02:06 - me some enemies also get spawn as you
02:09 - can see and if I deal enough damage
02:13 - shoot and their yo now we enter into the
02:14 - second stage of our bus battle and we
02:17 - have more and more enemies being spawned
02:18 - as well as some shield transformers in
02:20 - order to stop the possible being shot ok
02:26 - so I took out all the Transformers and
02:28 - now the boss battle is vulnerable so now
02:30 - I shoot him and now there go now we have
02:32 - another shield that we need to take care
02:33 - of so we are now on the third stage ok
02:41 - so as I take out this transform there
02:43 - you go now he's vulnerable in the final
02:45 - stage and as I shoot him and shoot him
02:47 - again and there you go all the enemies
02:49 - die instantly and the battle is over
02:51 - alright so that's very intense but it's
02:54 - very nice and now in here the enemy
02:56 - drops a key as he is dead so now I can
02:59 - pick up the nice blue key and I go in I
03:02 - open the door and I go in I have my nice
03:04 - trophy I pick it up and I've won this
03:06 - nice mini game alright awesome if you
03:09 - haven't seen it yet then go play the
03:11 - top-down shooter game I made recently to
03:13 - see this must fight in action in a
03:15 - complete game in the page where you play
03:17 - the game you can also see links to all
03:19 - of the elements used for example you saw
03:21 - me using the key door system as well as
03:23 - the animated alpha line effect so what
03:26 - we're going to build here is similar to
03:27 - the battle system we made previously
03:29 - this boss battle is essentially a more
03:31 - expanded version of that concept now
03:34 - boss fights are very tricky to show in a
03:36 - tutorial video because each is so unique
03:39 - so here we're going to make a specific
03:40 - type of boss fights but what I want you
03:43 - to learn from this is how to think
03:44 - through the logic rather than follow
03:46 - this exact format as long as you
03:48 - understand the core logic behind how to
03:49 - set up multiple stages you can then
03:51 - apply it to your own unique boss fights
03:53 - alright so this is our goal let's get to
03:56 - it
03:56 - okay so here's our starting scene I have
03:59 - my player character and I can walk
04:00 - around I can aim and shoot over here is
04:03 - the enclosed enemy bus area so this is
04:06 - where we're going to have our nice boss
04:08 - fight okay so first of all let's just
04:11 - place the enemy turret prefab over here
04:14 - I have the prefabs and let's just play
04:15 - see turret right down the middle
04:17 - alright let's see this in action ok so
04:20 - here I am and as I approach the turret
04:22 - yep there you go he sees me
04:24 - starts aiming any start shooting all
04:25 - right so far so good now let's make our
04:27 - boss battle so here let's make a new
04:30 - c-sharp script call this our boss battle
04:33 - and let's make a new game object and
04:38 - attach the script on to it okay now here
04:40 - let's start off by just identifying when
04:42 - the battle should start so for that we
04:44 - can use the same logic that we use in
04:46 - the battle system video so checking the
04:48 - description if you haven't seen it yet
04:49 - in that video we created a simple script
04:52 - to capture physics triggers so here
04:54 - we're going to use the exact same logic
04:55 - so here is the script we made in that
04:58 - video as you can see it's very simple we
05:01 - just have a ontriggerenter 2d to test if
05:03 - the player enter the trigger and if so
05:05 - then we fire off this event so back in
05:08 - the editor let's make a game object to
05:09 - hold our trigger so let's drag the
05:13 - script onto it ok and now we just need
05:16 - to add a box Collider 2d and make it is
05:20 - trigger and let's also set the lair to
05:28 - ignore recast so it doesn't walk our
05:29 - shooting and just like that we have our
05:31 - trigger working so the player Center is
05:34 - this area it won't trigger that event on
05:36 - that script so now we can go back into
05:38 - the boss battle script and here let's
05:41 - have a feel for our trigger and we
05:49 - simply subscribe to that event and in
05:51 - that event let's start a battle and
05:58 - after we start let's unsubscribe to that
06:00 - event so we don't start the battle
06:01 - multiple times alright so this should be
06:05 - working we just need to drag our
06:06 - reference so here in the editor with the
06:08 - boss battle we just try V reference in
06:10 - there ok alright so let's test so here I
06:14 - am and as I approach and enter the
06:16 - trigger if there you go we have our star
06:17 - town alright awesome so here we have
06:21 - another great example of the power
06:22 - writing clean code this script is very
06:24 - basic and only focused on a single task
06:26 - which allows us to easily use it and
06:28 - reuse it in many scenarios ok so we have
06:31 - our start baton working now when we
06:33 - start and let's spawn some enemies so
06:35 - we're here already have a bunch of enemy
06:38 - so let's add a film to reference our
06:40 - prefabs so here in our script with
06:42 - certainly just one and here in the
06:46 - editor and let's drag our reference
06:48 - let's use the archer enemy okay now
06:50 - let's make a simple spawn enemies
06:52 - function and now we need the position so
06:59 - for now let's just try a specific point
07:01 - and after spawning we need to do them
07:12 - like we did on the battle system video
07:14 - which is they have this enemy spawn
07:16 - script this is what enables a nice the
07:18 - some of effect and then makes them
07:19 - active so we simply call the spawn in
07:21 - order to actually spawn it okay so now
07:23 - when we start our battle let's also
07:25 - spawn an enemy so as we enter our
07:28 - trigger we should be able to see an
07:29 - enemy being spawn let's see okay here we
07:32 - are and as I move up and enter the
07:34 - trigger and if there we go there's the
07:36 - enemy being spawn and now he's fallen
07:37 - chasing an attacking right great so now
07:41 - that we can spawn and me in a specific
07:43 - position let's spawn it in a random
07:45 - position instead so back in the editor
07:47 - let's use some simple game objects to
07:50 - identify our various spawn positions so
07:52 - inside the boss battle game object let's
07:54 - make a new empty game object call this
07:57 - our spawn positions and inside let's add
08:00 - a bunch of game objects which won't
08:01 - represent the various spawn positions
08:03 - that the enemies can spawn so just one
08:06 - so for example let's say an enemy can
08:09 - spawn in here in order to visually see
08:11 - them we can go all the way appear to the
08:12 - inspector and select an icon so let's
08:14 - say this one and there you go now we can
08:16 - visually see and now let's place all of
08:18 - the spawn positions alright so just like
08:23 - this we have a whole range of spawn
08:24 - positions now that we have them all
08:26 - placed let's grab them through code so
08:29 - in our boss battle script let's make a
08:31 - list of vector threes for our spawn
08:32 - positions
08:45 - all right so first we construct our list
08:48 - and then we cycle through all the
08:51 - children inside our spawn positions
08:52 - container and we simply add them to the
08:54 - list all right so now we have a nice
08:57 - list of vector threes for all of our
08:58 - spawn positions and then down here when
09:01 - we are spawning an enemy let's grab a
09:03 - villain spawn position all right so we
09:11 - simply grab a random position from
09:13 - inside of our list so just like this we
09:16 - should be able to have our enemy
09:17 - spawning in random positions and now
09:19 - just for testing let's try spawning a
09:21 - bunch of enemies constantly so for that
09:24 - we can use a class in the utilities as
09:29 - always you can download the utilities
09:30 - for free from unity code monkey comm and
09:32 - in the utilities we have the function
09:34 - periodic which automatically triggers a
09:36 - function every certain amount of time so
09:39 - this is perfect in this case let's call
09:41 - the function spawn enemy and let's call
09:44 - it every let's say half a second so
09:47 - every half a second this function will
09:48 - be triggered which won't spawn an enemy
09:50 - on a random position okay let's test
09:52 - okay here we are and as I move up and
09:55 - there you go the battle has started side
09:57 - in here and see if enemies are being
09:58 - spawn any up there's one there one there
10:00 - on there and they're spawning all over
10:02 - the place not one down here and there
10:04 - and there all right so awesome now we
10:05 - have way too many enemies but if they
10:07 - are all being strong automatically in
10:10 - random positions all right so now that
10:13 - we have the start of the battle and the
10:15 - enemies beings fun let's handle these
10:16 - stages for our boss battle so the first
10:19 - thing we need to do is define what
10:20 - stages are based on so in this case
10:23 - we're going to make it based on the
10:24 - torrent health now one of the elements
10:26 - that make up the turret is the health
10:28 - system this was actually my very first
10:30 - video on the channel and I'm using that
10:31 - class here so again that tells you the
10:33 - power of writing clean code so first in
10:35 - our boss battle let's add a field to
10:37 - grab our turret so then we access the
10:42 - turret we get the health system and now
10:46 - let's subscribe to the on damage event
10:48 - so this event is fired whenever the
10:50 - Torah takes damage so when that happens
10:55 - let's see if we should go into the next
10:57 - stage so the handle our stages let's
11:00 - make a simple state machine so all the
11:02 - way up here and let's define a new
11:16 - alright so we have an enone for all of
11:19 - our stages including our waiting to
11:20 - start stage we store them in a field and
11:23 - by default we start on waiting to start
11:25 - and when it takes damage and let's see
11:27 - if we should go into the next stage so
11:36 - here if the turret is under 70% health
11:39 - then we want to go into the next stage
11:40 - so let's make a function to handle
11:42 - moving to the next stage all right so
11:54 - here we're doing a simple switch on the
11:56 - current stage and we're going to the
11:57 - next one so if we're waiting we go to
11:59 - stage 1 for stage 1 go to 2 to 3 and so
12:01 - on so on the start button we can also
12:04 - use this function since when we start
12:06 - we're going to be on waiting to start so
12:08 - we start the next stage and we go from
12:09 - start to stage 1 and then here when the
12:11 - enemy is under 70% health then we go
12:15 - into the next stage do the same for all
12:20 - the others and actually we don't have on
12:24 - the stage 3 since that's when the enemy
12:26 - has died so here we cannot subscribe to
12:29 - the other than
12:34 - so when the turret dies we have the boss
12:36 - battle being over all right so here our
12:38 - logic should all be working let's just
12:40 - add some debug long so we can test the
12:42 - sound now so here we should not have
12:48 - defaults since we don't want anything to
12:49 - happen on stage three so get rid of that
12:51 - one and down all right this should be
12:53 - working
12:54 - let's test okay so here we are and as
12:56 - soon as we enter the trigger yep there
12:58 - yo starting battle so we start battling
13:00 - we went to stage one now as I shoot him
13:02 - and once he goes under 70% there you go
13:05 - Stage two
13:06 - and now shoot him some more and under
13:08 - thirty and he's on stage three and now
13:10 - killing and there we go
13:12 - he's done and the boss battle is over
13:14 - all right now let's also make sure we
13:16 - destroy all the enemies when the battle
13:18 - is over so let's make that function in
13:20 - here just call it destroy all enemies
13:23 - now in order to destroy them that means
13:26 - we also need to store a list of every
13:27 - time we spawn an enemy so over here we
13:30 - have a list of our enemy spawns and down
13:35 - here we cycle through it alright so here
13:45 - we just cycle through the enemy list and
13:46 - we kill the enemy and we make sure that
13:48 - we added when we spawn an enemy so we
13:52 - just need to call destroy all enemies
13:53 - over here when the boss battle is for
13:56 - all right that should be working
13:58 - let's see if all the enemies die when
13:59 - the boss also dies okay here we are
14:02 - let's move up and there you go the
14:03 - battle on starting enemies are spawning
14:05 - there's the enemy push it down to 79 15
14:08 - keep shooting and once he goes boom
14:10 - there you go all the enemies died
14:12 - instantly alright awesome now we still
14:14 - got another issue which is enemies are
14:16 - still being spawned so let's stop that
14:18 - over here on sarvatma we're creating a
14:20 - function periodic in order to spawn
14:21 - every enemy once per second now this
14:24 - class already has a very easy way to
14:26 - stop it which is I can assign a function
14:28 - name and then when the battle is over
14:32 - I can call stop all functions with a
14:35 - certain name so that should stop the
14:38 - other function let's see okay so here we
14:41 - are and we go in and there you go the
14:42 - battle start
14:43 - shooty turret and just one more there
14:47 - you go they all died and now let's see
14:48 - and yep no more enemies are being spun
14:51 - alright awesome okay so our boss fight
14:55 - is coming along nicely now let's have
14:56 - the shield system to stop the player
14:58 - between stages
15:19 - all right so I've had this yield now I
15:21 - covered how the shield vision works in a
15:24 - shader graph tutorial so go check that
15:25 - out so as you can see we have the shield
15:27 - and connected to it we have two
15:29 - transformers and in the shield we have
15:31 - the shield field script this one
15:34 - contains the links to the Transformers
15:35 - as well as the lines that go to it so
15:37 - here is the code for the shield field as
15:39 - you can see it's pretty small just 18
15:41 - lines long one start we subscribe to the
15:43 - on destroyed functions so whenever a
15:45 - shield transformer is destroyed it goes
15:47 - into this function it destroys all of
15:50 - the power lines connected to that
15:51 - transform and we test the form of them
15:53 - are dead and if all of them are dead
15:55 - then we destroy the shield so that's
15:57 - it's some very simple logic
16:10 - so here in the editor I have to shield
16:13 - setups so the first one only has two
16:15 - transformers and the second one has four
16:17 - transformers so what we're going to do
16:19 - is enable the shield whenever a stage
16:21 - changes so let's go into the code here
16:23 - in our boss battle script let's go all
16:25 - the way up here
16:26 - add some references for our heels so I
16:32 - have a reference for the shield one the
16:33 - co2 and onstart and let's start them
16:37 - hidden
16:38 - so both shields are disabled and then
16:41 - down here when we have the start next
16:43 - stage when you go from stage 1 into
16:45 - stage 2 let's enable the first shield
16:47 - and from 2 to 3 in a only second one all
16:51 - right so all this should be working we
16:53 - simply set the game object to active and
16:55 - then all DC logic is handled by itself
16:57 - and when transformers are destroyed the
16:59 - shell gets destroyed and platon and
17:01 - continue shooting the turret which goes
17:02 - into the next stage ok let's test ok
17:06 - here we are and let's go in and there
17:08 - you go the battle starting no after I
17:10 - take him under 70% there you go the
17:12 - shield pops up now we have transformers
17:14 - now shut down and yep he's gone now I
17:19 - can shoot the turret again once he goes
17:22 - under 30% there we go now we got some
17:24 - more some more and way too many enemies
17:26 - but let's keep and yep they're all gone
17:31 - no she don't
17:32 - and there you go they all died and I won
17:34 - the nice boss battle alright so here we
17:37 - have multiple stages working with our
17:39 - nice shield system awesome so as you saw
17:42 - the game became quite a lot difficult
17:44 - that's mainly because the enemies are
17:46 - being spawned every second so after a
17:48 - while the player can get massively
17:49 - overwhelmed so let's make it more of a
17:52 - smoother difficulty curve
17:53 - first of all let's set a maximum to how
17:55 - many enemies can be spawned so on the
17:58 - spawn enemy function
18:00 - well let's cycle through the enemy list
18:02 - to count how many are alive
18:10 - all right so here we have some very
18:13 - simple magic we're just going through
18:14 - the enemy spawn list seeing how many are
18:16 - alive and if more than a certain amount
18:18 - are alive then we're not going to spend
18:20 - any more and we simply return from this
18:21 - function okay so for testing let's put
18:24 - this lower and see if we can no longer
18:25 - spawn more than three enemies let's test
18:28 - okay let's go up and there's one there's
18:32 - two there's three okay let's see if any
18:34 - more get spawn and nope you don't have
18:37 - any more spawn enemies all right awesome
18:40 - so we can now limit how many enemies we
18:42 - have at once in order to make sure that
18:44 - our difficulty stays more stable okay
18:47 - now let's set a limit back to something
18:49 - more reasonable so let's say like seven
18:51 - and then down here let's also randomize
18:54 - the type of enemy so to do that let's
18:56 - add two more films for over here so we
19:02 - have the enemy shooter archer and
19:04 - charger and now let's spawn them at
19:11 - different rates depending on the
19:13 - difficulty so let's get a random number
19:15 - between 0 and 100 okay so here we have
19:26 - some very based logic we get random
19:28 - between 0 and 100 by default we choose a
19:31 - Archer then if a number is under 65 then
19:34 - we choose a charger and if it's under 15
19:36 - then we choose a shooter so we have a
19:39 - 15% chance of a shooter than a 50%
19:41 - chance of a charger and a 35% chance of
19:45 - an archer all right let's test okay
19:48 - let's go up and start the battle and
19:49 - there you go there's a charger there's
19:52 - an archer and let's see if we there's a
19:54 - shooter right there alright so we now
19:56 - have three different enemy types between
19:58 - spawn awesome now the game is still very
20:00 - difficult so let's add some health
20:02 - pickups I already have a simple prefab
20:04 - in here very simple just has a script
20:07 - for a health pickup as well as the
20:09 - circle monitor set to trigger so we need
20:12 - to do is in Senshi 8 this prefab so for
20:14 - that let's go up here add another
20:15 - reference
20:18 - okay we have our reference to our health
20:20 - pickup and now let's make a function to
20:22 - spawn it and we're going to do pretty
20:24 - much the same thing that we did with the
20:25 - enemy so we're going to get a random
20:28 - spawn position and we're going to
20:31 - instantiate our prefab
20:35 - all right so we just want it on a random
20:38 - position and now let's also make a
20:40 - function periodic to trigger this one
20:46 - all right this should be working
20:48 - let's test okay here we are let's go up
20:51 - and there's an enemy there's our turret
20:53 - and let's see any of there we go there's
20:56 - our home and if I pick it up and there
20:59 - you go I get some home right awesome so
21:01 - we now have random home pickups being
21:03 - spawned in order to keep our difficulty
21:05 - a bit better but it still is quite
21:07 - insane so let's make sure that
21:08 - difficulty starts off slow and increases
21:11 - as we move on to different stages so
21:14 - here for example on start let's spawn
21:16 - two enemies as soon as it starts and
21:19 - let's spawn the enemies much slower so
21:21 - in here on let's say every four seconds
21:24 - then here we have the next stage from
21:26 - stage one to two let's find a bunch more
21:40 - all right so here we have a bunch of
21:42 - enemies being spawned make me a nice
21:44 - increasing difficulty curve so the first
21:46 - one we spawned to you directly then one
21:48 - every four seconds as well as the nice
21:50 - health pickup then until we serve the
21:52 - health pickup then the enemy then we
21:53 - spawn an enemy after a half second one
21:55 - and a half four point five and so on and
21:57 - on the end one we spawned this much okay
22:00 - let's test ok so here we are let's see
22:03 - and since I go up there you go the
22:05 - battle has started and now we have one
22:07 - enemy in there and another one in there
22:09 - so as you can see now it's much easier
22:10 - so now I can try taking them all out
22:15 - there we go now we are on stage two and
22:18 - we got more enemies being spawned ok so
22:21 - it's getting more difficult
22:26 - okay so here we are on stage two and as
22:29 - I take him down and we go into stage
22:32 - three and there you go more she owns
22:34 - more enemies more things so now it's
22:36 - getting a lot more difficult there we
22:42 - are and we have a ton of enemies and as
22:44 - I take out the sentry gun and there you
22:46 - go they all die instantly and we went a
22:49 - nice boss battle alright awesome so
22:52 - everything is pretty much working
22:53 - knowledge is polish this up a bit at the
22:56 - door on start and a door on exit as well
22:58 - as a nice trophy okay so here in the
23:00 - editor I had this door down here then
23:03 - this door then we also have a key let's
23:05 - place the key on top of the enemy and
23:07 - then we have a nice trophy the door and
23:09 - Q are made in the door key system video
23:11 - so check that out and now let's make
23:13 - some logic for example for this door to
23:15 - close as soon as the battle starts to do
23:18 - that let's go into our bus battle and
23:20 - make some events okay here we have when
23:25 - the boss battle started and on the bus
23:27 - battle over okay now let's make a script
23:35 - to connect these onto our doors so let's
23:38 - make a new script
23:54 - all right so here we have a very simple
23:56 - script we have a reference to the door
23:58 - the key game object and the boss battle
24:01 - on start we hide the key game object
24:03 - then we subscribe to both the events on
24:05 - our bus battle when the boss battle
24:07 - starts we close the door and we set the
24:09 - call to red then when the boss battle
24:11 - ends then we show our key game object so
24:14 - again this is how we're doing a lot of
24:16 - connections between a lot of different
24:17 - types of objects without any of them
24:19 - knowing about the other so the boss
24:21 - battle knows absolutely nothing about
24:22 - doors or keys or anything okay let's
24:25 - test okay so here we are and there's our
24:27 - nice door being open and as soon as I go
24:29 - in the battle starts there you go the
24:31 - door closes automatically now we have
24:34 - our boss battles so let's take care of
24:35 - it all right let's go kill him and boom
24:45 - there you go he's dead and yep there's
24:47 - the key and spawn automatically and now
24:49 - I pick up the key now I have the blue
24:50 - key and over here we have the blue door
24:53 - let's use it open it and now we have our
24:55 - nice trophy and go in and we won this
24:57 - nice mini game all right awesome
24:59 - so just like this we have our complete
25:02 - nice and simple and boss fights again as
25:04 - I said boss fights are very specific and
25:06 - each is completely unique so instead of
25:08 - following this directly I hope you learn
25:10 - the logic for how to create your own
25:11 - custom boss fights so the logic for how
25:14 - to set out multiple stages with multiple
25:16 - actions multiple events and everything
25:17 - so now go ahead and make your own unique
25:20 - boss fight thank you to hosting er and
25:22 - also thank you to these awesome
25:23 - supporters for making this video
25:24 - possible go to patreon.com/scishow t
25:27 - code monkey to get some perks and help
25:29 - keep the videos free for everyone as
25:31 - long as you can download the project
25:32 - from Zinni some buddies from unity
25:34 - called monkey comm subscribe to the
25:36 - channel for more unity tutorials post
25:38 - any quick
25:39 - [Music]

Cleaned transcript:

this video is sponsored by hosting er in this video we're going to make a very simple bus fight it will have multiple stages and increasing difficulty I've used this system in both the FPS game and the topdown shooter games and make reasonable let's begin our goal here is to make a really cool phosphite with various stages boss fights can be really unique so after you follow this video and make your own super cool unique bus fight then you can make a WebGL film to share it with your friends and host it on a website which you can get through hosting her hosting er provides bestinclass hosting services that are extremely fast and very affordable with excellent customer support to help you succeed choose from a variety of plans and pick the one that best suits your needs making your website from scratch can be hard but hosting er makes this much easier by supporting WordPress which is a few clicks you can use the auto installer to get WordPress installed on your website then you can pick from a giant selection of templates to quickly get started and then customize the website to exactly as you want it here for example I have easily built a simple website by customizing a template when excellent WordPress feature is how you have these buttons to swap between desktop table and phone this points so you can rest assure that your website will look great on any device also if you're making some really cool online integration for your game then check out their super fast and affordable cloud hosting solutions all the plans come with a 30day moneyback guarantee so you can try out the services without any risk go to hosting air.com slash code monkey and use the coupon code monkey to get up to 91 percent off yearly web hosting plants click the link in the description and succeed faster using the link help support the channel so thank you to hosting her and also thank you to these awesome supporters for making this video possible go to patreon.com/scishow to code monkey to get some perks and help keep the videos free for everyone ok so here's what we want to make I have my player character that I can move around and shoot and now inside this door I have the boss battle area so as I go in there we go there's the boss battle he's a nice turret and as soon as I go in the door closes behind me and he starts aiming at me and tries to shoot me some enemies also get spawn as you can see and if I deal enough damage shoot and their yo now we enter into the second stage of our bus battle and we have more and more enemies being spawned as well as some shield transformers in order to stop the possible being shot ok so I took out all the Transformers and now the boss battle is vulnerable so now I shoot him and now there go now we have another shield that we need to take care of so we are now on the third stage ok so as I take out this transform there you go now he's vulnerable in the final stage and as I shoot him and shoot him again and there you go all the enemies die instantly and the battle is over alright so that's very intense but it's very nice and now in here the enemy drops a key as he is dead so now I can pick up the nice blue key and I go in I open the door and I go in I have my nice trophy I pick it up and I've won this nice mini game alright awesome if you haven't seen it yet then go play the topdown shooter game I made recently to see this must fight in action in a complete game in the page where you play the game you can also see links to all of the elements used for example you saw me using the key door system as well as the animated alpha line effect so what we're going to build here is similar to the battle system we made previously this boss battle is essentially a more expanded version of that concept now boss fights are very tricky to show in a tutorial video because each is so unique so here we're going to make a specific type of boss fights but what I want you to learn from this is how to think through the logic rather than follow this exact format as long as you understand the core logic behind how to set up multiple stages you can then apply it to your own unique boss fights alright so this is our goal let's get to it okay so here's our starting scene I have my player character and I can walk around I can aim and shoot over here is the enclosed enemy bus area so this is where we're going to have our nice boss fight okay so first of all let's just place the enemy turret prefab over here I have the prefabs and let's just play see turret right down the middle alright let's see this in action ok so here I am and as I approach the turret yep there you go he sees me starts aiming any start shooting all right so far so good now let's make our boss battle so here let's make a new csharp script call this our boss battle and let's make a new game object and attach the script on to it okay now here let's start off by just identifying when the battle should start so for that we can use the same logic that we use in the battle system video so checking the description if you haven't seen it yet in that video we created a simple script to capture physics triggers so here we're going to use the exact same logic so here is the script we made in that video as you can see it's very simple we just have a ontriggerenter 2d to test if the player enter the trigger and if so then we fire off this event so back in the editor let's make a game object to hold our trigger so let's drag the script onto it ok and now we just need to add a box Collider 2d and make it is trigger and let's also set the lair to ignore recast so it doesn't walk our shooting and just like that we have our trigger working so the player Center is this area it won't trigger that event on that script so now we can go back into the boss battle script and here let's have a feel for our trigger and we simply subscribe to that event and in that event let's start a battle and after we start let's unsubscribe to that event so we don't start the battle multiple times alright so this should be working we just need to drag our reference so here in the editor with the boss battle we just try V reference in there ok alright so let's test so here I am and as I approach and enter the trigger if there you go we have our star town alright awesome so here we have another great example of the power writing clean code this script is very basic and only focused on a single task which allows us to easily use it and reuse it in many scenarios ok so we have our start baton working now when we start and let's spawn some enemies so we're here already have a bunch of enemy so let's add a film to reference our prefabs so here in our script with certainly just one and here in the editor and let's drag our reference let's use the archer enemy okay now let's make a simple spawn enemies function and now we need the position so for now let's just try a specific point and after spawning we need to do them like we did on the battle system video which is they have this enemy spawn script this is what enables a nice the some of effect and then makes them active so we simply call the spawn in order to actually spawn it okay so now when we start our battle let's also spawn an enemy so as we enter our trigger we should be able to see an enemy being spawn let's see okay here we are and as I move up and enter the trigger and if there we go there's the enemy being spawn and now he's fallen chasing an attacking right great so now that we can spawn and me in a specific position let's spawn it in a random position instead so back in the editor let's use some simple game objects to identify our various spawn positions so inside the boss battle game object let's make a new empty game object call this our spawn positions and inside let's add a bunch of game objects which won't represent the various spawn positions that the enemies can spawn so just one so for example let's say an enemy can spawn in here in order to visually see them we can go all the way appear to the inspector and select an icon so let's say this one and there you go now we can visually see and now let's place all of the spawn positions alright so just like this we have a whole range of spawn positions now that we have them all placed let's grab them through code so in our boss battle script let's make a list of vector threes for our spawn positions all right so first we construct our list and then we cycle through all the children inside our spawn positions container and we simply add them to the list all right so now we have a nice list of vector threes for all of our spawn positions and then down here when we are spawning an enemy let's grab a villain spawn position all right so we simply grab a random position from inside of our list so just like this we should be able to have our enemy spawning in random positions and now just for testing let's try spawning a bunch of enemies constantly so for that we can use a class in the utilities as always you can download the utilities for free from unity code monkey comm and in the utilities we have the function periodic which automatically triggers a function every certain amount of time so this is perfect in this case let's call the function spawn enemy and let's call it every let's say half a second so every half a second this function will be triggered which won't spawn an enemy on a random position okay let's test okay here we are and as I move up and there you go the battle has started side in here and see if enemies are being spawn any up there's one there one there on there and they're spawning all over the place not one down here and there and there all right so awesome now we have way too many enemies but if they are all being strong automatically in random positions all right so now that we have the start of the battle and the enemies beings fun let's handle these stages for our boss battle so the first thing we need to do is define what stages are based on so in this case we're going to make it based on the torrent health now one of the elements that make up the turret is the health system this was actually my very first video on the channel and I'm using that class here so again that tells you the power of writing clean code so first in our boss battle let's add a field to grab our turret so then we access the turret we get the health system and now let's subscribe to the on damage event so this event is fired whenever the Torah takes damage so when that happens let's see if we should go into the next stage so the handle our stages let's make a simple state machine so all the way up here and let's define a new alright so we have an enone for all of our stages including our waiting to start stage we store them in a field and by default we start on waiting to start and when it takes damage and let's see if we should go into the next stage so here if the turret is under 70% health then we want to go into the next stage so let's make a function to handle moving to the next stage all right so here we're doing a simple switch on the current stage and we're going to the next one so if we're waiting we go to stage 1 for stage 1 go to 2 to 3 and so on so on the start button we can also use this function since when we start we're going to be on waiting to start so we start the next stage and we go from start to stage 1 and then here when the enemy is under 70% health then we go into the next stage do the same for all the others and actually we don't have on the stage 3 since that's when the enemy has died so here we cannot subscribe to the other than so when the turret dies we have the boss battle being over all right so here our logic should all be working let's just add some debug long so we can test the sound now so here we should not have defaults since we don't want anything to happen on stage three so get rid of that one and down all right this should be working let's test okay so here we are and as soon as we enter the trigger yep there yo starting battle so we start battling we went to stage one now as I shoot him and once he goes under 70% there you go Stage two and now shoot him some more and under thirty and he's on stage three and now killing and there we go he's done and the boss battle is over all right now let's also make sure we destroy all the enemies when the battle is over so let's make that function in here just call it destroy all enemies now in order to destroy them that means we also need to store a list of every time we spawn an enemy so over here we have a list of our enemy spawns and down here we cycle through it alright so here we just cycle through the enemy list and we kill the enemy and we make sure that we added when we spawn an enemy so we just need to call destroy all enemies over here when the boss battle is for all right that should be working let's see if all the enemies die when the boss also dies okay here we are let's move up and there you go the battle on starting enemies are spawning there's the enemy push it down to 79 15 keep shooting and once he goes boom there you go all the enemies died instantly alright awesome now we still got another issue which is enemies are still being spawned so let's stop that over here on sarvatma we're creating a function periodic in order to spawn every enemy once per second now this class already has a very easy way to stop it which is I can assign a function name and then when the battle is over I can call stop all functions with a certain name so that should stop the other function let's see okay so here we are and we go in and there you go the battle start shooty turret and just one more there you go they all died and now let's see and yep no more enemies are being spun alright awesome okay so our boss fight is coming along nicely now let's have the shield system to stop the player between stages all right so I've had this yield now I covered how the shield vision works in a shader graph tutorial so go check that out so as you can see we have the shield and connected to it we have two transformers and in the shield we have the shield field script this one contains the links to the Transformers as well as the lines that go to it so here is the code for the shield field as you can see it's pretty small just 18 lines long one start we subscribe to the on destroyed functions so whenever a shield transformer is destroyed it goes into this function it destroys all of the power lines connected to that transform and we test the form of them are dead and if all of them are dead then we destroy the shield so that's it's some very simple logic so here in the editor I have to shield setups so the first one only has two transformers and the second one has four transformers so what we're going to do is enable the shield whenever a stage changes so let's go into the code here in our boss battle script let's go all the way up here add some references for our heels so I have a reference for the shield one the co2 and onstart and let's start them hidden so both shields are disabled and then down here when we have the start next stage when you go from stage 1 into stage 2 let's enable the first shield and from 2 to 3 in a only second one all right so all this should be working we simply set the game object to active and then all DC logic is handled by itself and when transformers are destroyed the shell gets destroyed and platon and continue shooting the turret which goes into the next stage ok let's test ok here we are and let's go in and there you go the battle starting no after I take him under 70% there you go the shield pops up now we have transformers now shut down and yep he's gone now I can shoot the turret again once he goes under 30% there we go now we got some more some more and way too many enemies but let's keep and yep they're all gone no she don't and there you go they all died and I won the nice boss battle alright so here we have multiple stages working with our nice shield system awesome so as you saw the game became quite a lot difficult that's mainly because the enemies are being spawned every second so after a while the player can get massively overwhelmed so let's make it more of a smoother difficulty curve first of all let's set a maximum to how many enemies can be spawned so on the spawn enemy function well let's cycle through the enemy list to count how many are alive all right so here we have some very simple magic we're just going through the enemy spawn list seeing how many are alive and if more than a certain amount are alive then we're not going to spend any more and we simply return from this function okay so for testing let's put this lower and see if we can no longer spawn more than three enemies let's test okay let's go up and there's one there's two there's three okay let's see if any more get spawn and nope you don't have any more spawn enemies all right awesome so we can now limit how many enemies we have at once in order to make sure that our difficulty stays more stable okay now let's set a limit back to something more reasonable so let's say like seven and then down here let's also randomize the type of enemy so to do that let's add two more films for over here so we have the enemy shooter archer and charger and now let's spawn them at different rates depending on the difficulty so let's get a random number between 0 and 100 okay so here we have some very based logic we get random between 0 and 100 by default we choose a Archer then if a number is under 65 then we choose a charger and if it's under 15 then we choose a shooter so we have a 15% chance of a shooter than a 50% chance of a charger and a 35% chance of an archer all right let's test okay let's go up and start the battle and there you go there's a charger there's an archer and let's see if we there's a shooter right there alright so we now have three different enemy types between spawn awesome now the game is still very difficult so let's add some health pickups I already have a simple prefab in here very simple just has a script for a health pickup as well as the circle monitor set to trigger so we need to do is in Senshi 8 this prefab so for that let's go up here add another reference okay we have our reference to our health pickup and now let's make a function to spawn it and we're going to do pretty much the same thing that we did with the enemy so we're going to get a random spawn position and we're going to instantiate our prefab all right so we just want it on a random position and now let's also make a function periodic to trigger this one all right this should be working let's test okay here we are let's go up and there's an enemy there's our turret and let's see any of there we go there's our home and if I pick it up and there you go I get some home right awesome so we now have random home pickups being spawned in order to keep our difficulty a bit better but it still is quite insane so let's make sure that difficulty starts off slow and increases as we move on to different stages so here for example on start let's spawn two enemies as soon as it starts and let's spawn the enemies much slower so in here on let's say every four seconds then here we have the next stage from stage one to two let's find a bunch more all right so here we have a bunch of enemies being spawned make me a nice increasing difficulty curve so the first one we spawned to you directly then one every four seconds as well as the nice health pickup then until we serve the health pickup then the enemy then we spawn an enemy after a half second one and a half four point five and so on and on the end one we spawned this much okay let's test ok so here we are let's see and since I go up there you go the battle has started and now we have one enemy in there and another one in there so as you can see now it's much easier so now I can try taking them all out there we go now we are on stage two and we got more enemies being spawned ok so it's getting more difficult okay so here we are on stage two and as I take him down and we go into stage three and there you go more she owns more enemies more things so now it's getting a lot more difficult there we are and we have a ton of enemies and as I take out the sentry gun and there you go they all die instantly and we went a nice boss battle alright awesome so everything is pretty much working knowledge is polish this up a bit at the door on start and a door on exit as well as a nice trophy okay so here in the editor I had this door down here then this door then we also have a key let's place the key on top of the enemy and then we have a nice trophy the door and Q are made in the door key system video so check that out and now let's make some logic for example for this door to close as soon as the battle starts to do that let's go into our bus battle and make some events okay here we have when the boss battle started and on the bus battle over okay now let's make a script to connect these onto our doors so let's make a new script all right so here we have a very simple script we have a reference to the door the key game object and the boss battle on start we hide the key game object then we subscribe to both the events on our bus battle when the boss battle starts we close the door and we set the call to red then when the boss battle ends then we show our key game object so again this is how we're doing a lot of connections between a lot of different types of objects without any of them knowing about the other so the boss battle knows absolutely nothing about doors or keys or anything okay let's test okay so here we are and there's our nice door being open and as soon as I go in the battle starts there you go the door closes automatically now we have our boss battles so let's take care of it all right let's go kill him and boom there you go he's dead and yep there's the key and spawn automatically and now I pick up the key now I have the blue key and over here we have the blue door let's use it open it and now we have our nice trophy and go in and we won this nice mini game all right awesome so just like this we have our complete nice and simple and boss fights again as I said boss fights are very specific and each is completely unique so instead of following this directly I hope you learn the logic for how to create your own custom boss fights so the logic for how to set out multiple stages with multiple actions multiple events and everything so now go ahead and make your own unique boss fight thank you to hosting er and also thank you to these awesome supporters for making this video possible go to patreon.com/scishow t code monkey to get some perks and help keep the videos free for everyone as long as you can download the project from Zinni some buddies from unity called monkey comm subscribe to the channel for more unity tutorials post any quick
