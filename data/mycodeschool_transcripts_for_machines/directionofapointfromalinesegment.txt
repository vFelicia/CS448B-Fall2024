hi there and welcome to another geometry video in the series maths for programmers previously in this series we saw how to calculate the area of a polygon using the concept of vector cross product in this video will once again use the concept of vector cross product to solve another fundamental problem in geometry how to find the direction of a point from a line segment so let's say I have a line segment a B and a point P what we want to know is if we're traveling along the line segment from A to B so I'll draw an arrow in this direction to indicate the direction in which we are moving so if we're moving from A to B we want to know whether P is to our left which raised in this case or whether P is to our right the point P doesn't have to lie between a and B so here we have a point P which actually lies much behind the line segment AP however this point still counts as being to the right of the line segment a B similarly we could have another point P Prime that is located much after the line segment a B however this point is also considered to be on the right of the line segment a B what we are trying to say is that if we extend this line segment infinitely in both directions and we are still traveling in the general direction of line segment a B then any point in this half will be considered to be on the left of the line segment and any point in this bottom half would be considered to be on the right of the line segment a B this is a very fundamental problem and is commonly encountered for example when giving directions in an online map so let's say we have a user at Point a who actually wants to reach the point C now a good set of directions to give this user would be to ask him to first reach point B and then take a right turn in order to reach point C how do we know that the user has to take a right turn at B and not a left turn well this is because the Point C lies to the right of line segment a B knowing the direction of a point from a line segment also acts as the building to solve more complicated problems such as finding if two line segments intersect and also finding the convex hull of a set of points so we have with us two points a and B which together represent the line segment a B and we also have a Third Point P and we need to tell whether P is to the left of a B or to the right in order to do that we first need to fix a mathematical representation for the points a B and P so we will first use a coordinate system now the choice the coordinate system is very important and can make it difficult or easy depending on your choice to solve the problem for most twodimensional problems and this is a two dimensional problem choosing the Cartesian plane as the coordinate system is a natural choice and also a good choice so let's draw this diagram on an arbitrary Cartesian plane so in this plane we have two perpendicular axes x and y and we also have numbers marked along both axes to help us identify the coordinate value of point so in order to represent the point a we can simply use its x coordinate value which is say roughly minus 30 and its y coordinate value which is say roughly plus 10 so in this case we can say x is minus 30 comma 10 similarly the rough coordinate values for B would be say 29 comma minus 15 and P can be represented mathematically as the order 15 comma 28 as we said at the beginning of this video we want to use the concept of cross product from vector algebra to solve this problem and now that we have a mathematical representation of all the points we can proceed to use the cross product however cross product can only be applied to a pair of vectors at a time and here we have three points so what we can do is let's just ignore the point a for now now we're left with only two points B and P so let's take the cross product of B and P so B cross P mathematically is equal to the x coordinate of B into the y coordinate of P minus the y coordinate of B into the x coordinate of P now the cross product is an interesting property let's label the origin of the coordinate system the point where the X as well as the Y coordinates have a value of zero as o or the origin and now let's draw the angle B or P now the cross product is positive if and only if this angle is counterclockwise and conversely the cross product is negative if and only if this angle is clockwise we can quickly verify it for this given example here we can quite clearly see that the angle bo P is counterclockwise so we expect the cross product to be positive and if we calculate the value of the cross product it comes up to be 1037 which is indeed positive let's wipe that out and let's extend the line segment we'll be infinitely in both directions now we can make an interesting observation any point P that is in this upper half if we notice the angle this point makes with the line segment bo so if we take B or P for any point that is in this upper half the angle will be counterclockwise which means the value of the cross product is going to be positive similarly if we look at any point in this lower half the angle that this point makes so if you take bo P for a point that is in this lower half the angle will always be clockwise which means the expected value of the cross product will be negative now suppose that we had a line segment ap where a was at the origin of the coordinate system now we can just remove this o and replace it by a without making any difference anywhere and now let's say we're traveling in the direction of AP we can see quite clearly that the points P that have a positive cross product where B cross P is positive are exactly the same points that are to the left of a B and the points that have a negative cross product are nothing but those points which are to the right of a B so given a line segment a B and a point P if a happens to be at the origin of the corner system we can find out the direction of P very easily we can simply take the cross product B P and if it's positive that means P is to the left of a B and if it's negative that means P is to the right if we now go back to our original problem where we have a line segment a B where is not at the origin how can we go about solving this problem well a simple solution is to translate the coordinate system so that the origin lies exactly at a to do this we can subtract the coordinate values of a from all three points a B and P of course when we subtract a from itself we get zero which is why a becomes the origin and when we complete the translation we will have values for P as 45 comma 18 and the value for B as 59 comma minus 25 since a is now at the origin to decide whether P is to the left of the line segment a B or to the right we can simply compute the cross product B cross B and if it is positive we will know that B is to the left which it is in this case or if it is negative we know that B is to the right one interesting case that we haven't explored is what happens when the cross product is exactly zero in that case P is neither to the left nor to the right of line segment a P in fact if we were to extend line segment a B in both directions infinitely then P would be lying somewhere along this line now let's take a look at some C++ code that finds the direction of a point from a line segment the first thing we need to do is figure out how to represent a point in our program and since C++ is an objectoriented language a good decision is to use a struct or a class so we'll declare a struct called point that has two member variables x and y and these of course represent the x and y coordinates of the point itself notice that we use the double data type to store the x and y because the coordinates of a point can have any real number as it their value not necessarily just integers since we talked about left and right directions in the program a lot let's declare some constants so that we don't have to use strings everywhere so here we declare three integers as constants one to represent the left direction to represent the right direction and the third one for the case when the point is exactly on the line okay now we will declare a function called get direction which takes the three points a B and is P as input a and B of course represent the line segment a B and P is the point whose direction we want to know and this function will return an int and this integer would be one of these three constants left right around the line to mean that P is either to the left of a B or to the right of a B or exactly on the line containing the line segment a B since the point a may not necessarily lie on the origin the first thing we need to do is subtract the value of point a from point B and P as us now we don't know how to do subtraction but let's just assume that a function subtract exists which can solve our problem so in that case we can just do something like this we can say B is equal to subtract of B comma a we'll take this to mean that B is B minus a there should exist a function called subtract which given two points returns the second point subtracted from the first point similarly we can also say P is equal to subtract of P comma a so at this point in our program we now are in a situation where both B and P have been translated by the value of a and a is effectively now at the origin so now we need to calculate the cross product of B and P we need to calculate B cross B just like we assumed that there is a function called subtract we'll also assume that there is a function that can get us the cross product of B comma P so then we can write some code like this we can say cross product is equal to the value of B cross P and we'll assume that another function called get browse product exists which will compute P cross P for us the remaining part of the code is now quite simple if the cross product is greater than zero then we know that P must be to the left of a B so we can return left similarly if the cross product is less than zero then P must be to the right of a B so we return right and if the cross product is neither greater than zero nor less than zero of course this means that the cross product must be exactly zero and in this case P must be lying on the line containing the line segment ab so we will return the constant on the line the functions subtract and get cross product are quite simple to write so we can take a quick look at them so I'll just erase this and we can see these functions so the get cross product function takes two points p1 and p2 and simply calculates the cross product using the formula that we saw previously similarly the subtract function takes two points p1 and p2 creates a new point called result which contains the value of p2 subtracted from p1 for both the x and ycoordinates so in this video we found out how to solve a very fundamental geometric problem using a program which is finding the direction of a point from a line segment and this has many important uses such as telling the user in an online map that he needs to take a particular kind of turn like a right or left turn that's it for this video I hope you enjoyed it thanks for watching