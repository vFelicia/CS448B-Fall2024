welcome to another video in the series mats for programmers so far in this series we've been looking primarily at number theory algorithms in this video though we'll be looking at a basic geometry algorithm how to find the area of a polygon any program that deals with computer graphics is bound to deal with polygons a very good example is an online map buildings and parks and other manmade structures in an online map are typically represented by polygons here I am highlighting just four of the polygons representing buildings another good example is threedimensional computer games so in a popular game like Counter Strike the various surfaces on display are usually approximated by polygons informally a polygon is defined as a closed twodimensional shape whose boundaries are all made of line segments so the simplest kind of polygon is a triangle another slightly more complicated polygon is something like this which has a large number of sides and with varying angles however both of these are classified as simple polygons because their edges do not intersect each other an example of a non simple polygon would be something like this here you can see that the edges of the polygon intersect each other at many points in this video we'll only be dealing with simple polygons and how to find the area of simple polygons for any geometry algorithm the choice of space is very important since polygons are twodimensional shapes the natural selection is to use a twodimensional space so we can use the simple Cartesian plane so this plane has an x axis and y axis on this plane let's say we had a point with x value 3 and Y value 1 labeled by a what is the best way to represent such a point in our program a good design decision would be to use a separate data structure or a class to represent a point so let's see how we can do that in C or C++ we can simply declare a structure point which has two member variables x and y to represent the x coordinate and the coordinate of the point notice that we use doubles to store both the X and y coordinate because typically the value of a coordinate can be any real number to represent a point such as a in our code we would simply declare a variable let's say we call it a of the type point and then we can assign the x coordinate to 3 and the y coordinate to 1 ok now that we know how to store a point let's draw a very simple triangle so the first vertex of the triangle we can keep it as a which is at 3 comma 1 we'll then put up another vertex we'll call it B at 2 comma 3 the third vertex though will be somewhat special we choose it to be oh the origin of the coordinate system so both the X and y values of this point O are 0 so what is the area of this triangle OAB because of the fact that one of the vertices lies on the origin there is a very simple formula that involves the coordinate values of the other two vertices so in this case since oh is the origin the formula involves the vertices a and B and this formula is as follows it is the x coordinate of a multiplied by the y coordinate of B minus the y coordinate of a multiplied by the x coordinate of P the whole divided by 2 the expression inside these pair of parentheses has a special meaning in vector algebra this expression stands for the cross product of the vectors a and B with this in mind now let's look at the code to calculate the area of a triangle one of those points is on the origin and the other two points will be taken in as argument so let us first define the cross product itself as a function so given two points a and B this function simply computes X into B Y minus a Y into B X so it computes the cross product of these vectors a and B we can now write the function to compute the area so given the points a and B this computes the area of the triangle OAB we simply take the cross product and divide it by two if we applied the formula for these values of a and B so it is three come over and P is 2 comma 3 we get 3 into 3 minus 1 and 2 2 the whole divided by 2 which is equal to 3.5 now what if we were to exchange a and B so a became the point 2 comma 3 and B became the point 3 comma 1 of course the triangle itself does not change but if you apply our formula if you apply the code that we have written here you will get the answer as minus 3.5 so we get the area having the same magnitude of 3.5 but the sign is opposite this is because the cross product has a very interesting property when the triangle OAB is in clockwise order then the value of the cross product is negative on the other hand when the triangle OAB is in counterclockwise order then the value of the cross product is positive this property of the cross product function where negative value is returned for a clockwise triangle and a positive value is returned for a counterclockwise triangle will be very useful to us later on however for now we need to fix our area method so that this return value is always positive because a negative area does not make sense through that we'll simply take the absolute value of cross product divided by 2 here I'm using the ABS function from the C math library in C++ in order to use this function we'll need to put a include statement these two statements help us include the C math library and then allow us to use all functions from the standard namespace the standard namespace contains the ABS function that we're using in our area method okay and now we know how to find the area of one kind of polygon basically we know how to find the area of a triangle which has one of its vertices on the origin now let's try to extend our area algorithm a little bit and see how to find the area of a triangle where none of the vertices are on the origin so let's say we had a triangle ABC like this with the origin inside of it so one way in which we can solve this problem is by subtracting the value of the coordinates of a from a B and C essentially what we are doing is translating this triangle so that a moves to the origin and B and C also translate appropriately so we then get a triangle like this where a has been translated to the origin and we can now use our previous formula on the triangle OBC to calculate this area however there is a more elegant way of computing the same area instead of translating the triangle so that a is at the origin we can actually construct three smaller triangles inside of ABC by drawing three lines from the origin oh one two a one two B and one two see we get three smaller triangles and the sum of the areas of these three triangles is equal to the area of the triangle ABC since each of these three triangles has one vertex at the origin we can simply apply our previous formula to calculate the area of a B plus OB c + OC a and this will be our final answer so now let's take a look at the code to calculate the area of a triangle given all three points a B and C so in this modified function we now take three points as arguments a B as well as C and none of them need to be at the origin we calculate the sum of the triangle OAB OBC as well as OC a and then we take the absolute value of sum and divide it by 2 okay this algorithm seems to work well for any triangle with points ABC if the origin is inside the triangle but what if the origin is outside the triangle so let's say we have a triangle ABC like this let's see what pens so initially we are computing the cross product of a and P which means we are computing the area of the triangle OAB since OAB is counterclockwise in this case the value will be positive and I will show this area in green in the second step we calculate the value of the cross product of B and C which means for calculating the area of the triangle OBC once again since OBC is counterclockwise this value will also be positive and I will be showing it in green so now the total we have calculated is actually more than the area of the triangle however finally we calculate the cross product of C and a now OC is actually in clockwise order so the value will be negative so I will show this area in red so we're subtracting the area OCA from the area that we have already calculated let me erase the areas where the red and green overlap and we see that the area computed finally the part shown in green is exactly the area we needed so our area function works for any kind of triangle not just those containing the origin our next step will be to figure out how to extend this algorithm so that it works not just for triangles but for polygons containing any number of sides so let's take an example of this sixsided polygon with vertices ABCDE and F which contains the origin and approach to finding the area of this polygon based on the approach we use for the triangle could be let us divide this sixsided polygon into many smaller triangles such that each triangle has at least one vertex at the origin and then we can just take the sum of the areas of all these small triangles in order to get the sum of the polygons so we can take the triangle OAB and then the triangle OBC and then Oct and so on if we look at all six of these triangles the sum of the areas is equal to the sum of the polygons itself and each of these triangles has one vertex at the origin now let's look at the code to compute the area of a polygon with an arbitrary number of sides to start with we'll actually need to update the signature of the method we can no longer take individual points since the polygon can have any number of sides instead we'll take in an array of points which gives us all the vertices of the polygon and we'll also take an additional integer n as input which gives us the number of sides in the polygon so we'll take a variable called sum and initialize it to zero this variable denotes the sum of the areas of the triangles which together make up our polygon from our diagram to the right side it is quite clear that an nsided polygon will have n triangles inside it so we'll run a loop n times where each iteration of the loop should compute one of the triangles looking at the diagram it is quite clear that each triangle has of course one vertex at the origin and the other two vertices are consecutive vertices in the polygon so we have o AV o bc o C D and so on this is true all the way until o EF but for the last vertex F we actually want to pair it with the first vertex of the polygon so o F pairs with a to give us the triangle ofa so inside our loop we'll add the cross product of vertices of AI with the vertex at I plus 1 we use this operator modulo n to take care of the special case for the last vertex because we want the last vertex to pair with the zero at vertex by taking modulo n when I is n minus 1 I plus 1 will equal 0 outside the loop as before we can simply take the absolute value of sum divided by 2 and return it so we now have an algorithm that computes the area of a polygon with any number of SCI as long as it is almost convex and it contains the origin now the question for you is do you think this algorithm will still work if we had a very concave polygon like this sitting outside the origin well actually this algorithm works fine even for concave polygons like these but I'll let you figure out the proof to that one in our next video of this series we will see how we can use the vector cross product to solve another important geometry problem how to find if two line segments intersect in the meanwhile I hope you enjoyed this video thanks for watching