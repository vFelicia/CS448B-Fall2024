With timestamps:

00:00 - but the last stream ended up getting cut
00:03 - off and it was it just was kind of
00:05 - heartbreaking hopefully this one is
00:09 - gonna work but I don't really know where
00:13 - this is streaming though like it's an
00:17 - absent one I know but that's from
00:19 - Facebook it's actually not streaming to
00:22 - YouTube because on YouTube you would
00:24 - have to create a whole new event it's
00:26 - not streaming is it on YouTube or we
00:29 - live on YouTube we live right now we're
00:35 - on youtuber live we're live okay guys so
00:38 - nice we're getting some people back also
00:41 - I don't know what happened guys the live
00:44 - stream broke and it also broke our heart
00:46 - but we're on part two and we're just
00:48 - finishing up this is where we're at
00:50 - right now okay look look we've finished
00:52 - we so far we set up the react app using
00:55 - Create react app we set up firebase we
00:58 - set up react router we build the navbar
01:00 - we built the banner we built the product
01:03 - component we introduced react context
01:05 - API we set up at the basket button we
01:07 - build checkout page we even built a
01:09 - subtotal component and right now guys we
01:12 - are at the part where we are going to
01:14 - add the login functionality and then
01:17 - deploy the app so with that said let's
01:21 - get right into it let's do it let's go
01:25 - what we have is we have the login page
01:27 - right here and we basically want to now
01:32 - let's go ahead and style everything and
01:35 - then what we gonna get connect firebase
01:37 - to our react app okay so in order to do
01:43 - that what we need to do now is go ahead
01:46 - and so if the first-years Connect
01:49 - firebase so I'm gonna go ahead and
01:50 - create a firebase yes so firebase dot J
01:54 - s yeah and basically why now inside of
01:59 - this snippet what I want to do is I've
02:00 - got a nice little neat little piece of
02:02 - code that you guys would have seen in
02:04 - other examples so firebase so here we go
02:07 - so I'm gonna go ahead and we need all
02:10 - config so right now if we go into
02:12 - firebase com
02:20 - Kazi hello yep I'm here so if you go on
02:32 - to firebase.com
02:33 - all my bad my bad okay here we go you
02:36 - know I just complain my babies are
02:38 - Frankie all right all right five days
02:44 - calm and this drop in the config oh yeah
02:48 - I got that I mean I have a copy since
02:50 - the start of time yeah so we just need
02:53 - that at this point now so we basically
02:55 - want to paste that in here oh nice
03:02 - awesome there we go
03:04 - and basically what this is gonna do guys
03:07 - is we need to go ahead and in the
03:09 - terminal now we need to do NPM I
03:11 - firebase so that will install all of the
03:14 - firebase dependencies so if you're going
03:16 - to go ahead and do that cause II so NPM
03:18 - i5s also we go yeah so now we're gonna
03:29 - do is this watch hockey bass keeps
03:31 - asking this question we should probably
03:33 - answer it he says what if there is no
03:35 - connection when developing with firebase
03:36 - is there some kind of emulator that runs
03:38 - locally yep so if is if you're regarding
03:42 - your so for cloud function so any sort
03:47 - of service work yes there's an emulator
03:49 - for database I believe there is an
03:51 - emulator for database they have a lot of
03:54 - support for offline so even if you have
03:56 - set everything up and then you start
03:58 - pushing it they are into your database
04:00 - it will actually sort of queue it up so
04:03 - it will queue up all of the pushes and a
04:06 - really really clever way and then when
04:07 - you get an internet connection again it
04:09 - will push that to the database and we
04:11 - even sync this off timestamps it's
04:13 - really clever how it does but they do
04:15 - have a bunch of emulators yes they do
04:19 - good question so now what we're gonna do
04:22 - is we have all of the keys so we have
04:24 - the keys here
04:26 - and let's go ahead and we've got so
04:27 - these two things right here at the bomb
04:29 - are basically setting up a database
04:31 - instance we don't actually need the DB
04:33 - right now we can go ahead and get rid of
04:34 - that we need the authentication so here
04:36 - firebase toss okay and what we're gonna
04:40 - do is let's go into our login ojs and
04:43 - let's go ahead and stop so what we did
04:45 - right there guys is we actually just
04:47 - connected firebase to our react
04:49 - front-end so it's that simple okay it's
04:52 - really that simple to get that working
04:54 - so what we're gonna do here is I'm gonna
04:57 - basically going to add a class name so
05:00 - we're sticking to our BEM naming
05:02 - conventions for saying class name login
05:04 - and here I am saying I want to have
05:08 - firstly I want to have a link at the top
05:11 - so I'm gonna copy a snippet here I want
05:13 - the link at the top to basically be it's
05:15 - a link that goes back to the home page
05:17 - and it's gonna be an image and the
05:20 - source is all this is guys it's a link
05:23 - to you it's an Amazon picture so again
05:26 - I'm gonna double line it so you guys can
05:28 - just copy that if you'd like so I'm
05:30 - gonna double line this right now so
05:32 - there you go you see that all on one
05:34 - page so you can pause it there and you
05:36 - can copy that out so this is essentially
05:39 - just all it is right there is actually
05:42 - just the I'm just opening up one my
05:45 - local so that is actually right now is
05:47 - the Amazon logo so you should be able to
05:49 - see Kazi that you can see the Amazon
05:52 - logo somewhere
05:53 - are you ready the NPM stop oh yeah yeah
06:05 - here we go
06:07 - somebody said this spent five hours
06:09 - today on creating a nav bar with flexbox
06:11 - awesome it's that logos up nice awesome
06:15 - nice so what we're gonna do now is go
06:18 - into login doe CSS and make that not
06:20 - look so ugly so cuz that looks really
06:22 - nasty right now so I'm gonna go ahead
06:25 - and where we have that at the moment I'm
06:27 - gonna say width so I want that to be a
06:29 - fixed width because we don't ever want
06:31 - it to get bigger than a certain size so
06:33 - login logo and I'm gonna say it is a
06:37 - width of a 100 pixels so with 100 pixels
06:41 - and here it is object fit contained so
06:47 - again we're gonna keep the aspect ratio
06:48 - and what I'm doing now is I'm adding a
06:52 - margin left and a margin right of auto
06:55 - so that it centers actually front for
06:57 - now just leave it there
06:58 - just leave it like that for now what
07:01 - we're gonna do now is so we have the
07:02 - Amazon logo right I'm gonna show you
07:05 - very clearly how we do this so we have
07:06 - the Amazon logo here and then I'm gonna
07:08 - have a container so I'm gonna say div
07:10 - don't login container and this is gonna
07:12 - have all of the forms and everything
07:14 - that we're gonna have so the sign in so
07:17 - inside of here we're gonna have a h1
07:18 - which says sign in so sign in and if you
07:22 - save that you should be able to see it
07:23 - on the screen to say h1 sign in we're
07:25 - gonna have an email so here I'm gonna
07:27 - say h5 let's just we're trying to build
07:31 - this form here exactly that you know
07:34 - cool so now I'm gonna say so before I
07:38 - actually have this I'm gonna say forms
07:41 - I'm gonna surround the whole thing
07:42 - inside of a form so that way we get that
07:43 - whole inter functionality so here we do
07:47 - this and we'll say email and I'm gonna
07:49 - have an input field okay and then I'm
07:52 - gonna have another h5 and I'm gonna say
07:56 - I'm gonna have another h5 and I'm gonna
07:59 - say password so it's gonna be password
08:02 - and here I'm gonna have another input
08:04 - phone so I'm gonna copy that paste it
08:06 - and save so now we have rough outline of
08:08 - sort of some email and password login
08:11 - stuff
08:12 - and then what we're gonna do is actually
08:14 - have a sign-up button so you actually
08:16 - wanna have a button underneath that so
08:18 - button and this is gonna say sign in
08:21 - okay so we have the button to sign in so
08:24 - you can see we've already got like an
08:25 - outline for a sort of basic sign-in form
08:29 - okay it's very simple and on Amazon's
08:32 - website this is a little bit of cherry
08:34 - on the top so we have the form and they
08:37 - basically have this where it says by
08:38 - signing in your agree terms and
08:39 - conditions of use and so blah blah they
08:42 - just add that little authentic I was in
08:44 - touch my even yeah yeah you know like
08:49 - once we get it styled right it look
08:50 - really nice and then we have the button
08:52 - and here we'll say create your Amazon
08:57 - account exactly so cause he just showed
09:00 - on the screen and what our I can go so
09:02 - this is how it looks right now and let's
09:04 - show what it would look like after yeah
09:08 - so we're gonna go from that to that you
09:10 - know so let's go ahead and start that so
09:14 - right now we have the login the CSS so
09:19 - the first thing I'm gonna do right now
09:20 - is go ahead and go to login so here and
09:24 - I'm going to style it by giving it a
09:28 - background color of white because right
09:29 - now it's on a gray background so I'm
09:31 - going to say everything should be white
09:33 - right so that should have actually
09:37 - Scalia everything should be white but I
09:39 - need to give it a height of a hundred
09:41 - view height so that will actually
09:42 - calculate how big your screen is and
09:45 - then it'll give it a white background
09:46 - right so here that should have popped in
09:50 - so you should see a white oh yes is that
09:53 - white background you know it's a display
09:56 - flex let me do that first so say display
10:00 - slacks and that's also dear so if I do
10:03 - that oh these stars getting applied as I
10:06 - think now so right now the stars aren't
10:09 - actually getting pushed onto there so
10:12 - let's see so we've got login
10:15 - I've got log into CSS Logan no CSS
10:21 - 100 view i lastname login pulling it in
10:27 - okay again went if I change this 200 and
10:31 - fix 50 does that change now why is that
10:39 - I'm not sure we're not doing NPM NPM
10:42 - stuff we are doing NPM running way yeah
10:46 - we're running okay so let's go ahead and
10:50 - change something else then so log in
10:52 - container let's go ahead and start
10:54 - styling that so let's do this and we'll
10:57 - fix that in a second so log in container
10:59 - they say the login container should have
11:01 - a width of 300 pixels because right now
11:03 - that text is way too long so if I save
11:05 - that see if that restrict okay so it is
11:09 - applying styles
11:09 - so we'll get to the bottom of why that's
11:11 - happening so right now 100 view high I'm
11:19 - saying display flex and I want to do
11:20 - flex direction column because I need to
11:24 - basically I want to have have everything
11:26 - in a column so we'd use that and then I
11:28 - want to say a line items in the center
11:30 - so I should walk so that's really
11:36 - straining me debug this quickly one sec
11:38 - so what I'm gonna do by debugging I'm
11:40 - just right clicking I'm clicking inspect
11:41 - and I'm just checking to see that my
11:45 - class names were added so right now
11:47 - nothing was actually added for the class
11:51 - name login so it's interesting because
11:56 - it's not actually picking up that that
11:59 - class name and that is because oh okay
12:02 - there we go
12:03 - yeah so this is a very easy mistake to
12:07 - make guys he's here as his class name
12:08 - the capital and so before it was this oh
12:13 - yeah is insane right Chaplin yeah yeah
12:17 - so and now if we do that it won't make
12:21 - it gets the stars that we had it yeah oh
12:23 - yeah Lauren caught that he's like class
12:25 - name type oh oh nice that's amazing
12:29 - I love that there miss miss also caught
12:32 - that
12:33 - awesome that's nice to see everyone's
12:37 - like clued into wee-wee when says are
12:40 - you a web dev are you okay so we've got
12:47 - the log in now so what we're gonna do
12:49 - now is we've got login logo right but
12:52 - that's touching the top I don't want it
12:53 - to touch top because it doesn't look
12:55 - very great so right now I'm gonna add a
12:57 - margin top and bottom of 20 pixels so
13:01 - margin top Obama to me pixels and you'll
13:03 - see that it gives that gap at the top
13:05 - which is what we want the width is good
13:08 - and what is a good okay so now what I'm
13:11 - gonna do is I want to style this inside
13:12 - of this box all right so the first thing
13:15 - I'm gonna do is for the container I
13:17 - basically want to say the I wanna say
13:21 - display flex so I'm giving it a display
13:23 - flex and that will put everything inside
13:25 - of a row so you'll scrunch everything up
13:27 - right which is not nice so we want to
13:30 - basically say nope
13:31 - make it a column instead so it's its
13:35 - column so now everything sort of using
13:37 - the Mac space they can we want to say
13:39 - that the padding around everything
13:42 - should be 20 pixels because we want to
13:45 - kind of Pat it in a bit and if we want
13:48 - to say they should have a light gray
13:50 - border so a light gray border around it
13:53 - so there you go so even just adding a
13:55 - little border immediately sort of makes
13:57 - it pop a little bit more and the height
13:59 - we have to fit the content okay so now
14:04 - I'm gonna do is or the height actually
14:05 - didn't change anything so we can get rid
14:06 - of love so now what I'm gonna do is I'm
14:08 - actually gonna use some I like to show
14:11 - different ways of using CSS selectors so
14:13 - previously obviously what we could do is
14:15 - add class names to everything but I
14:17 - think it'll be beneficial to you guys to
14:19 - see how I can target things which you
14:22 - like direct children of this and like
14:25 - first child of something else
14:26 - so in this case I want to target all of
14:29 - the h1 elements so for example this one
14:32 - the sign-in element right so in order to
14:35 - do that that's inside of the login
14:36 - container so here now what I'm gonna do
14:40 - is I'm gonna say login container the
14:43 - first child which is a h1 so like there
14:46 - eh one child of a logging container I
14:49 - want the font weight to be 500 and the
14:51 - margin bomb to be too many pixels if I
14:53 - saved that look what happens it finds it
14:56 - and it stars it you know and what I'm
14:59 - also gonna do now is show you how you
15:01 - can also do nested so like for example
15:03 - here we have a form and I want all of
15:06 - the h5 elements to be styled so I but I
15:10 - want to basically only use this class
15:12 - name to style them so I'm saying go and
15:14 - find the login container go and find the
15:17 - child which is a form and then go and
15:19 - find the h5 element as opposed to giving
15:21 - every single thing a class name so I'm
15:23 - showing you both ways as to how to do it
15:25 - because I find I think they'll be useful
15:27 - to everyone so now I'm gonna say is
15:29 - there some saying go to login container
15:32 - go to the form beneath it and beneath
15:34 - that form get the h5 and I give it a
15:37 - margin bottom so if I save that notice
15:39 - how everything should get a little
15:40 - spacing all right I'm gonna do the same
15:43 - thing for the input now so if I go here
15:46 - I'm gonna do the same thing so I'm
15:48 - giving the input fields a bit taller
15:51 - because right now they're too small give
15:53 - them a margin bottom so it doesn't touch
15:55 - the field below it too closely but a
15:58 - white background and a width of 98 and
16:00 - the reason why I'll show you 98 in a
16:02 - second is it will make sense because
16:04 - right now there's some padding to
16:06 - consider around the the sort of input
16:09 - fields and as a rather than adding
16:11 - padding and things like that
16:12 - 98 perfectly aligns with the current
16:15 - Amazon account bun so we can just go it
16:17 - up and it works pretty nice the next
16:20 - thing we want to do is the P tags so the
16:24 - P tag I'm referring to is this
16:25 - disclaimer so what I'm going to do is
16:28 - basically add a margin to the top so
16:29 - it's not touching that sign-in button
16:31 - and I want the text to be a little
16:32 - smaller so what I'm gonna do here is go
16:35 - ahead and start that so we've got the
16:38 - margin top of 15 pixels and the font
16:40 - size of 12 pixels here so if I add that
16:44 - there you go excited to come together
16:46 - and the Sign In button and the register
16:49 - button are the last two things and I
16:50 - will go ahead and give them classes
16:52 - because we've got a few of those so I'm
16:54 - not going to just mess around too much
16:56 - with those buttons so in this one I'm
16:58 - going
16:58 - go ahead and give this one login sign-in
17:01 - button and for the register button I'm
17:04 - gonna go in and give this one this log
17:07 - in register button okay and then what
17:10 - we're gonna do is I'm pretty much gonna
17:12 - apply the exact same styles that you saw
17:14 - earlier to the buttons but so the first
17:18 - one I'm gonna do is a sign-in button so
17:19 - this is a snippet of what we've seen
17:21 - earlier so remember we had that gradient
17:23 - border color we had that background
17:25 - orange and these are the same values
17:28 - that we saw earlier so you can save this
17:30 - and look what happens to that sign in
17:33 - the sign-in looks immediately Amazon
17:36 - like it looks like the Amazon saw
17:37 - sign-in button right so it's really it's
17:40 - time to look there and then what I'm
17:42 - gonna do is I'm basically gonna use
17:43 - similar styles but I'm gonna not have
17:47 - the background color so I'm gonna do
17:50 - that for the register button so now if I
17:53 - save that you see we get like a very
17:54 - nice contrast we get an immediate
17:57 - sign-in bomb which is the sort of call
17:59 - to action that you're gonna you want the
18:01 - user's attention to go towards but if
18:03 - they don't have it the secondary
18:05 - function is to create an account okay so
18:08 - what we can do at this point is for the
18:10 - input type here we can do email and for
18:12 - the input type here we can do password
18:14 - and for the button as it's inside of a
18:18 - form we can do type is a submit alright
18:21 - and that will give you that sort of
18:22 - typical form behavior when you click
18:24 - enter it will submit and what we need to
18:27 - do now is hook up two functions so I
18:29 - need an on click login and an on click
18:31 - register so here I'm gonna have on click
18:35 - on click and here I'm gonna have login
18:40 - board when they click sign-in right and
18:42 - then the other one you're gonna have for
18:43 - creating an account exactly so on click
18:47 - here would be on click is register okay
18:53 - so these are gonna be local functions so
18:55 - I'm gonna go ahead and create them at
18:57 - the top song as a const login takes an
19:01 - event and i'm gonna do a dot prevent
19:05 - default because guys if you have a form
19:07 - and you submit that form it's gonna
19:10 - cause the page to refresh
19:12 - so in this case if I click sign-in it's
19:14 - gonna cause the page to refresh and
19:15 - react we hate refreshing so we get the
19:18 - event that gets fired off so here this
19:20 - is actually an event so I can rename it
19:21 - to event and you do prevent default this
19:24 - will stop the Refresh so this stops the
19:27 - Refresh so you have to include this line
19:30 - yeah and then we're gonna say login
19:33 - stuff so do log-in stuff to do the login
19:37 - logic yeah so there we go diligent login
19:41 - logic there okay then we're gonna have
19:44 - another function so I'm going to copy
19:46 - this and this is gonna be for the
19:49 - register and this one again it would be
19:52 - prevent default do the register logic
19:55 - okay now this is where it gets very
19:58 - crazy as to how powerful firebase is
20:01 - okay so the first thing we do is go over
20:03 - to our firebase console you know over
20:11 - 205 sponsor and go to authentication
20:15 - alright so go to authentication and on
20:18 - in order to get this working like we
20:21 - need it basically if you go to sign-in
20:24 - method and go to email password and just
20:31 - enable it's that crazy guys if you just
20:35 - enable that and you click safe like it's
20:38 - lit every other platform authentication
20:40 - is like takes forever and here is like
20:42 - just going able it yeah it's insane how
20:46 - that works so we do that and now what
20:50 - we're gonna do is that's all that we
20:52 - need to do on the backend so we go back
20:54 - to our code and this load up localhost
20:56 - on the right so people look what's
20:57 - running awesome so what I'm gonna do now
21:01 - is I'm gonna say for the login Lord
21:04 - logic I'm basically gonna have it so
21:06 - that we do Aust so remember what I did
21:11 - in when I stopped the firebase so when I
21:15 - saw a firebase ice we exported this
21:19 - earth module and this is everything that
21:21 - we need in order to handle the logging
21:23 - in logging and
21:24 - that stuff so now what I'm gonna do is
21:26 - here I'm gonna say auth dot so I have to
21:30 - import that firstly so I'm gonna import
21:32 - that from our local firebase so here
21:35 - I'm gonna say auth dot and then
21:38 - basically we have this amazing function
21:40 - that's built into firebase and it's
21:41 - called Auto
21:41 - sign in with email and password so it
21:44 - couldn't get any more straight for guys
21:45 - like here and what we're getting is but
21:48 - here we need the email and we need the
21:49 - password right we need the email and we
21:51 - need the password oops
21:52 - you know on the parser but we're not
21:55 - currently tracking this from my input
21:58 - our inputs right so we've got the input
22:00 - here and input here but we need
22:02 - something to keep track of that so
22:04 - basically before we do that we're gonna
22:06 - use something called state inside of
22:09 - react and the way we do that is
22:11 - basically the short-term memory so here
22:13 - I'm gonna set up a variable so it's
22:16 - basically how to write variables in
22:17 - react so here I'm gonna write a variable
22:19 - which will represent an email and that
22:22 - we need a second method that comes
22:23 - alongside it and that's called same and
22:25 - that's how we update the value here we
22:27 - say use state and the initial value is
22:30 - blank okay so I'm gonna do the same
22:32 - thing for the password and if you want
22:35 - to look into this more there's the react
22:37 - Docs for this is for the use state hook
22:41 - the react stalks are amazing and they
22:43 - pretty much explain and give you
22:44 - examples of how you use the use state
22:46 - hook and it's really really gonna help
22:49 - you out so now if we go over we need to
22:51 - import this so I do this you stay and
22:54 - there we go now I've set up two pieces
22:57 - of state now the magic here happens I
23:00 - love that comment man this 1000 is
23:02 - underrated thank you so much so now if
23:06 - we go to the input right so we need to
23:08 - map the values here so the first one
23:10 - we're gonna do is we're gonna map the
23:12 - email value here and we are gonna map
23:14 - the email the password value here so
23:17 - your password so if you just try and
23:20 - type in cozy notice how it's not going
23:23 - to let you it's not gonna let you change
23:29 - anything so if you try and type in
23:34 - and while I type in yeah it's not like
23:37 - you type in right yeah okay so it's not
23:41 - like you type in so at this point what
23:43 - we need to do is because it says usual
23:45 - Oh whoo ha ha useful so that we've
23:54 - mapped it but the the value is blank and
23:57 - it's constantly being mapped out so we
24:00 - need to listen to an unchanged so
24:02 - unchanged is the magic and basically
24:04 - what we do is we get the event and we
24:06 - say every time we type in we're gonna
24:09 - say set the email to event oops
24:12 - event dot target dot value what this is
24:16 - basically saying oh come on event dot
24:18 - target value there we go I'm gonna tell
24:21 - you the value and basically what this is
24:22 - saying guys is that when you type in I
24:24 - want you to basically go and grab the
24:26 - latest food that was in there and push
24:29 - that into the email variable and
24:31 - rerender and do all this or clever logic
24:33 - that needs to do I'm going to do the
24:35 - same thing for the password so what
24:38 - we're basically saying with all of this
24:39 - is that now we have to react variables
24:44 - so which are basically stored in the
24:46 - state and these two variables are going
24:50 - to contain and keep track of what is
24:53 - typed inside of those impact fields for
24:55 - email and password now once we have
24:58 - those we can actually carry on and do
25:00 - what we were doing before so we can say
25:01 - auth dot and then we can say sign in
25:04 - with email and password because now we
25:07 - have the email and we have the password
25:09 - because we have these two variables up
25:10 - here right and what we can do is we can
25:14 - say so if everything actually works then
25:16 - it's as simple as just saying dot then
25:19 - and then that will give us back some
25:21 - kind of authentication so it will give
25:23 - us some kind of object back right we
25:25 - don't really care about what that object
25:26 - is at this point but then what I'm gonna
25:28 - say is here logged in so here you logged
25:33 - in successfully so we will actually want
25:35 - to redirect at this point so redirect to
25:38 - your home page okay and then here what I
25:42 - want to say is if there was something
25:43 - wrong catcher and because right now we
25:46 - just wanna we don't really care too much
25:47 - by the front and we just wanna say a lot
25:50 - so this will pop up a sort of like the
25:53 - sort of browser pop up and it will say
25:54 - Allah II don't message so just show a
25:57 - message from firebase so for example if
26:00 - you logged in and the credentials are
26:02 - wrong or something like that it will pop
26:04 - up with that now for the register we do
26:07 - something very similar so we say auth
26:10 - dot but here what we say is we could say
26:13 - create user with email and password and
26:17 - I passed an email and I pass a password
26:19 - but here what I do is I say then and I
26:22 - say auth because we basically if it's
26:24 - remember guys then is when everything
26:26 - goes well it's when you things went well
26:28 - and nothing broke so here I would have
26:30 - said create a user and logged in so
26:35 - that's what happens when you do this so
26:37 - here we would do the same thing as we
26:39 - would say logged in redirect to home
26:42 - page so again here I would say logged in
26:44 - create a user and logged in we then want
26:47 - to redirect to the home page okay but if
26:50 - anything went wrong we say cat chip
26:53 - so catch it and again we just want to do
26:56 - this where we basically a lot on the
26:59 - screen in a very simple easy way now
27:02 - that's literally all we need to get
27:07 - authentication up and running but with
27:09 - that said there are two steps now that
27:12 - we want to do one is the redirect we
27:13 - need to fix the redirect okay we need it
27:16 - so that it redirects to the home page if
27:18 - everything went well to do that that's
27:21 - the first thing we're gonna solve - to
27:22 - do that react rule gives us a really
27:25 - nice hook okay cuz there's a really nice
27:27 - hook could use history so step one is
27:32 - redirect and also just to sort of
27:33 - clarify step two is going to be
27:36 - listening to sort of listening to if the
27:41 - user logged in or logged out and
27:43 - basically pushing that value into the
27:46 - data layer so listen to login let me up
27:50 - listen to login and we want to push it
27:52 - into the day Allah
27:55 - you know and I'll show you a really nice
27:59 - way that we do that so here we have the
28:02 - use history right so what we're gonna do
28:04 - now is we are going to say so the first
28:08 - thing to get this variable working you
28:10 - just say Const history equals a used
28:13 - history and for those of you who are
28:14 - familiar with browser history or like
28:17 - any sort of redirecting usually you push
28:20 - into the history when you want to
28:22 - redirect so here all we need to do is as
28:25 - simple as saying history dot push for
28:28 - slash and that will actually do it so a
28:31 - reason why we push here instead of doing
28:33 - a replace is that say for example when
28:35 - you click the back button on the browser
28:36 - we want them to be able to come back to
28:38 - the login page so you know that that
28:40 - natural behavior all right so we're
28:42 - gonna save that and I'm also gonna do
28:44 - the same thing here but notice how we
28:45 - only do this redirect guys if nothing
28:48 - went wrong so only if we land in the
28:51 - then block right so only if we land in
28:54 - the same damn block so only if we've
28:56 - successfully logged in do you want it to
28:58 - actually happen so that's step one so we
29:01 - just solve the redirect so this will
29:03 - actually redirect us now okay but what
29:07 - we want to happen now so is it will log
29:09 - us in
29:10 - yes but do we one know that we're logged
29:13 - in or like how do we how do we go about
29:15 - that because it will log us in and then
29:17 - even if i refresh it will actually still
29:19 - be logged in but what we need now is we
29:21 - need some kind of listener which is
29:23 - going to always listen to that log in
29:26 - log out event and if it does we need to
29:29 - update our data layer so that we can
29:31 - then keep track of what's going on okay
29:33 - oh yeah cause the happy birthday in the
29:36 - UK bro yeah thanks oh it's exactly howdy
29:48 - thank you bro I appreciate it I'm 26 now
29:51 - yeah nice wait how old are you I'm 25
29:58 - I'm turning 26 in September
30:01 - after me huh that's it no ma'am no does
30:08 - that break after this damn Wow I mean
30:12 - it's gonna happen in eight hours is my
30:17 - birthday in California here but like
30:19 - that's funny that in different parts of
30:21 - the world because somebody else wished
30:22 - me to yeah that's why I realized cuz
30:25 - here it just ten twelve o'clock yeah
30:28 - though yeah it's yes 12 it's midnight
30:31 - guys so I just want you guys to take a
30:33 - second and just think sunny in the
30:35 - comments below because it's a midnight
30:37 - his time you guys and he's been out here
30:39 - grinding and streaming since what I'm
30:43 - almost six hours straight we're almost
30:45 - about to go into six hours straight so
30:48 - guys just let him know how much you love
30:50 - him and appreciate him for being here
30:51 - and coding and building this entire
30:53 - thing up for you guys cuz that's really
30:55 - awesome dude no I appreciate that I did
30:58 - and this here is it's crazy to be able
31:01 - to do this stuff and like the fact that
31:03 - so many people watching and getting
31:05 - involved and commenting and engaging
31:06 - with us it's amazing so it's really
31:09 - really nice yeah this is awesome
31:12 - people are saying happy birthday damn
31:14 - well true hybrid defenses thank you guys
31:18 - I really appreciate it
31:19 - Steve that was interesting he says he
31:22 - has spent 35 years as a developer he
31:25 - mostly uses typescript which also you
31:26 - use sunny yeah I use have yeah and then
31:30 - he's like react react native and pre-act
31:32 - I also coach and teach saw one of your
31:34 - videos the other day and I would
31:35 - recommend your channel for new devs
31:37 - thank you Steve yeah this channel would
31:39 - make is great for new devs and I feel
31:43 - like people who are probably a little
31:44 - bit more experienced but you know
31:45 - somebody would have seen five years of
31:47 - experience you know maybe they'll still
31:48 - pick up some trip tips and tricks that
31:51 - Sunny's got definitely and then guys
31:54 - like it doesn't matter if you knew all
31:55 - your experience I always find even if I
31:58 - if I I don't consider myself an X bio in
32:01 - react I always keep going with a with a
32:03 - sore beginner mindset and try and like
32:05 - sponge in and just learn everything I
32:07 - can which is awesome
32:09 - Matt one says honey love and appreciate
32:11 - you love you too
32:14 - saying it you're the best thank you so
32:17 - much
32:18 - Tyrone Sonny you're a legend I love that
32:21 - yeah that is on it all right yes okay
32:28 - this is awesome
32:29 - nice all right that's awesome
32:36 - so we have the log in thank you so much
32:40 - have enough nice so we have the yep so
32:44 - we've logged in right so we need a
32:45 - listener now all right we need a
32:48 - listener and basically is where we put
32:52 - that is inside of apt ojs so let's go
32:55 - over to apt or Jess and basically the
32:58 - reason why I put it here guys is because
32:59 - now you can actually see what I meant by
33:02 - keeping things high level right right
33:04 - now at this point we have every single
33:07 - thing such a high level we have the
33:09 - routing and then we have pretty much at
33:12 - this route render this and this this
33:14 - route render this at this we render
33:16 - these two is so clean like it's really
33:18 - clean intimate so maintain and come in
33:21 - and figure out what's going on at what
33:22 - route right so what we need to do now is
33:26 - basically we we are going to use a
33:29 - combination of two things we're going to
33:30 - use a so first thing we need the data
33:33 - layer so let's pull that in so we've got
33:35 - the data layer here so let's go ahead
33:37 - and do import like that so we've got the
33:41 - data layer and let's go ahead and we
33:44 - don't actually need the basket here but
33:46 - I'm just gonna leave it there we're
33:47 - gonna have the dispatch we do need the
33:49 - dispatch and guys what we need right now
33:51 - is we need the a user fact we need
33:55 - basically we need a piece of code so I
33:57 - always expand it this way we need a
33:58 - piece of code so a piece of code which
34:02 - runs based on a given condition okay so
34:08 - this is what we call a user fact hook
34:11 - and this is tremendously powerful guys
34:14 - like this is seriously powerful and you
34:17 - should definitely learn this a user fact
34:20 - is going to be your best friend when it
34:21 - comes to understanding how to rewrite
34:24 - class-based components into functional
34:27 - component
34:28 - it comes in really handy when you start
34:30 - doing that but right now I'm gonna say
34:31 - use effect and this basically takes a it
34:35 - takes a function so let's go ahead and
34:39 - here and it takes a function and the
34:41 - second argument is the dependency so
34:43 - here if we leave this blank it's going
34:46 - to run once when up come the app
34:48 - component loads and then it won't run
34:51 - again okay so it's gonna run one minute
34:53 - once when the app component load and it
34:55 - won't run again if I put basket in here
34:57 - for example it's going to run once when
34:59 - the app component loads and then every
35:01 - single time the basket even changes
35:03 - right so that's gonna be a really big
35:06 - deal right and that's something that we
35:09 - need to remember and sort of keep them
35:10 - keep in mind so let's go ahead and now I
35:15 - don't want the basket now I just went to
35:16 - run once and the reason why I wanted to
35:18 - run once is because I'm gonna create a
35:20 - listener which is going to be listening
35:22 - all the time to if the user signed in or
35:26 - signed out okay and if we was to create
35:29 - several listeners then it's going to
35:31 - actually sort of is going to become
35:33 - quite expensive and it's going to
35:35 - actually be it's going to slow the
35:39 - computer down and just make everything
35:40 - solve it's gonna make your browser just
35:42 - freak out and it's gonna make chrome go
35:44 - a bit crazy so what we're gonna do now
35:46 - is we are going to do this we're gonna
35:48 - import our Earth module from firebase so
35:51 - go to top and import that and then what
35:54 - we need to do yes so somebody who said a
35:57 - good thing if you use a return and you
35:59 - use effect and the result of that will
36:00 - run when the component is unmounted we
36:03 - yes that's very correct so if you return
36:05 - something inside of a use effect when
36:07 - the components of unmounting sort of
36:09 - refresh rear Enders it will do a cleanup
36:12 - or any sort of cleanup that you need to
36:14 - do so we are gonna do that here we're
36:16 - actually gonna do that very very like
36:18 - very look quite like quickly now so here
36:21 - we have auth and then they have a very
36:24 - handy listener function and it's called
36:27 - on earth state changed now this is
36:30 - what's so nice guys we are logging in
36:32 - and logging out in a completely
36:34 - different component like it's a logging
36:36 - component and log out component it's
36:38 - completely different there's no sort of
36:40 - login logic in this
36:41 - Wow all right but it's inside the Same
36:44 - Same Same project so it picks up but
36:48 - what we're gonna do is every time the
36:49 - authentication state changes we
36:52 - basically say get the auth user so it
36:54 - gives us something called auth user yeah
36:56 - which is basically we can name this
36:57 - whatever we want but that's what it
36:59 - essentially gives us back
37:00 - so it's an authenticated user now when
37:03 - this comes back what we need to check we
37:05 - need to say if there is an auth user
37:08 - then the user is logged in so the user
37:12 - is logged in so you can do whatever you
37:14 - want to do at this point
37:15 - else the user is logged down so that's
37:19 - how you basically determine with this
37:21 - list now if the user is logged in a
37:23 - logged out okay now what we basically
37:26 - need to do at this point is say what we
37:32 - need to do is point is basically all we
37:33 - want to do is say so inside of reducer
37:35 - so inside of all reducer let me go ahead
37:38 - and clear this basket so remember we
37:40 - added these products we can go ahead and
37:41 - make it an empty basket to begin with
37:43 - we've already got this initial blank
37:45 - user okay we're going to initially got
37:48 - this initial blank user I'm gonna go
37:49 - ahead and create a new case so I'm gonna
37:52 - say case and I'm gonna say set user
37:57 - alright and this one is going to be like
38:00 - the only the only purpose of this is
38:02 - going to be to update the user when they
38:05 - login or when they log out okay and what
38:07 - this is gonna do is just going to return
38:10 - the current state so that's how we do
38:12 - this we return the current state and
38:15 - basically I'm gonna set the user to
38:18 - whatever the action dot user was so if
38:20 - it came in as no it would set the user
38:22 - to no inside of the store if the user
38:25 - was authenticated it would set the user
38:27 - to whatever the authenticated user was
38:29 - and that would be then in the day Alea
38:30 - for us to use throughout the the
38:33 - componentry so I'm gonna save that and
38:36 - then I'm gonna go over to apt oh yes so
38:38 - now here it becomes quite simple
38:41 - actually all we need to do is dispatch
38:43 - when we login so dispatch and I'm gonna
38:45 - basically pass an object here and the
38:47 - first thing it's gonna be type sunny you
38:50 - have a perfect British accent hey hey
38:58 - it's proper very Shack so here we need
39:03 - to do is need to say set user and I'm
39:06 - basically gonna say here I'm passing a
39:09 - user right and the user lam passing here
39:12 - is auth user because that's the one that
39:15 - we get back and I'm checking if it was
39:17 - present so I'm saying if it was present
39:19 - just set that response to the user
39:21 - object and then that way we get all of
39:23 - the sort of stuff so a lot of people are
39:26 - asking if we're using Redux in this
39:27 - project we're using we're actually using
39:30 - react context API as an alternative so
39:33 - that's answer that question so here we
39:36 - do is if the user is logged in we
39:37 - basically push them into the dialer else
39:40 - when the user is logged now we're
39:42 - basically going to dispatch the same
39:45 - thing so the same thing but we're saying
39:47 - the user to know okay so that's a really
39:51 - important point now we're saying the
39:52 - user to know and we need to also import
39:55 - user fact so let's go ahead and do that
39:58 - all right there we go
40:01 - so we said used to know so I hope this
40:04 - makes sense so when we login we're
40:06 - actually pushing the user into their
40:07 - lair when we log out we're setting the
40:08 - user to know okay
40:10 - and now remember guys when I said like
40:13 - if anything changes or for some reason
40:15 - it renders again what we need to mean to
40:17 - clean this up so this listener actually
40:19 - returns us something called an
40:21 - unsubscribe which is very nice how
40:23 - Google have done this why it returns or
40:25 - something good unsubscribe and what we
40:27 - can do in in in react which is really
40:30 - nice with these hooks is the user fact
40:33 - hook has something called a cleanup so
40:35 - you just return something from the
40:36 - function so this is how you do a cleanup
40:38 - so any cleanup operations go in there go
40:44 - in here alright so like even if you had
40:47 - a timer you would you clear the timer
40:49 - here or whatever you want to do and
40:51 - basically all we're gonna do here is
40:51 - just say unsubscribe that's it
40:54 - they say unsubscribe and that will
40:56 - detach the listener and then like say
40:58 - for example if this a pre-rendered for
41:00 - any reason it would a detach it and then
41:03 - reattach it with a new listener and it
41:05 - would do everything okay so what the
41:08 - now means is what we can do is we have
41:12 - both parts of the equation right and
41:15 - Daniel Dukas as well we encode thank you
41:17 - very much it's very clean way of doing
41:20 - this so what we are now going to do is
41:24 - we have the and this is completely
41:27 - decoupled guys so it's really nice and
41:29 - login Jess we have all of this login
41:31 - logic and it's completely separate the
41:34 - app digest because here we have a
41:35 - listener see see that's the way you want
41:37 - it you want it in completely detach and
41:39 - so that is not going to be attached and
41:43 - sort of two coupled or tightly coupled
41:46 - we call it so with that said now we why
41:49 - do I always do this to just check if
41:52 - everything is working what we can
41:53 - actually do here is we rather than
41:54 - getting the basket from the state I'm
41:56 - actually going to go ahead and get the
41:57 - user in the state okay and I'm gonna
41:59 - console.log the user so I'm gonna
42:02 - console.log the user so I'm gonna post
42:08 - love the user so now Kazi if you could
42:12 - so if you could just go to the actual so
42:17 - bring up the console and let's go over
42:20 - to yep so we're in the console and we
42:22 - should see now that so let's see the
42:27 - console we should see now that we have
42:30 - so I'm gonna go ahead and add a debug
42:32 - statement so I'm gonna say something
42:34 - like user is I'm just gonna do this and
42:38 - say user is this so what we're gonna do
42:40 - now is if we yeah so user is no can you
42:43 - see that right so as a user is oh right
42:46 - so we're not logged in right now and you
42:49 - see that's at the apt yes that even
42:50 - though we're in the login come on so now
42:52 - what I want you to do is if you could
42:53 - just enter an email a password and click
42:55 - create your Amazon account because
42:57 - remember if you actually create sign-in
42:59 - for a click sign in first and you'll see
43:01 - it doesn't do a redirect so so firstly
43:04 - it says the email just is badly
43:05 - formatted which is great because that's
43:08 - actually firebase coming back and it's
43:10 - at that catch statement so what we just
43:11 - saw there was at this point we saw the
43:14 - catch right so if you go ahead and add
43:18 - the and add the password so ABC ABC or
43:21 - something
43:22 - click sign in first so you see there's
43:26 - no user record so the user a million so
43:29 - nice that came back from fibers but if
43:30 - we could create look what happens it's
43:32 - signed it logs in right so it's actually
43:34 - creating an account it's logged in and
43:37 - if we scroll down into the into the
43:41 - console you'll see that the user is no
43:43 - longer no you can see the user should be
43:46 - so let's go down the user is yes and we
43:49 - got an authenticated user now and what's
43:51 - really cool here guys is if we refresh
43:53 - that listener will pick up basically I'm
43:57 - sure it stores it in the cookies but
43:58 - you'll see now look we actually have the
44:00 - listeners still logged in so the the
44:02 - person is still logged in right so it is
44:04 - very very nice ok so now what we are
44:09 - gonna do is that that's crazy right like
44:13 - it really works clean and that's as
44:15 - unbelievable and I if you click that and
44:18 - you so click that object and you'll see
44:20 - inside of it you've got a bunch of weird
44:22 - stuff I mean we don't really need to
44:23 - know too much of that but you've got
44:25 - inside of it you want email do you have
44:27 - the email things like display name which
44:29 - we used in the Instagram con but you've
44:31 - got the email they right
44:33 - you've even verified yeah yeah which is
44:36 - crazy right
44:38 - mostly cool so I'm a node says he's
44:41 - gotta get asleep and no worries dude
44:42 - this is going to be recorded so we can
44:44 - actually you can rewatch these things at
44:48 - your own pace nice so now what we are
44:51 - gonna do is so we've got the login
44:54 - working the redirect worked so now
44:56 - rather than saying hello cause II
44:58 - sign-in I wanted to say hello
45:00 - whatever email you signed into right so
45:03 - this just goes to show you how powerful
45:06 - this all is now so one way to do is I'm
45:07 - gonna go over to the header component so
45:09 - hello Jess and here instead of basket I
45:12 - just do user that's it I don't know what
45:16 - we're using this basket here no here we
45:18 - are so I'm keeping the basket sorry
45:19 - so I'm gonna get to the user as well we
45:23 - don't need that and basically what I can
45:25 - do now is you can see there's no prop
45:26 - drilling I just go into the data layer
45:28 - say go get that and what I can do now is
45:31 - that where it says hello Kazi I can
45:33 - actually just say
45:35 - hello and I can say here user email
45:39 - right and also I want to happen is I'm
45:43 - gonna add some really nice little bit of
45:45 - code now so I'm gonna go ahead and say
45:47 - inside of the header jeaious I'm gonna
45:50 - say that the link to login is only going
45:55 - to show if the user is not logged in
45:58 - so if here what I'm gonna do is I'm
45:59 - going to say this is some JavaScript
46:01 - code here I'm gonna say if there is no
46:03 - user so if they're not logged in then we
46:06 - want to push them to the login page
46:07 - right otherwise I want to basically have
46:12 - it so I'm gonna go into so it's only
46:15 - gonna do that if they're if they're if
46:19 - they're are logged in so it's only gonna
46:21 - push it to a login page if they're
46:22 - logged out so and then I want to
46:23 - basically habit so that if they click on
46:25 - the if they click on that hello cause II
46:30 - sign-in pot right I'm gonna have it so
46:32 - that let's have it so if I'm gonna
46:35 - create a function here so I'm gonna say
46:39 - I'm gonna have a function up here saying
46:41 - Const login so this is when they click
46:45 - on that option right now basically we're
46:47 - saying if there is a user so if they are
46:50 - signed in then I basically want to do
46:52 - sign out so I want to say oath don't
46:54 - sign out and I'll show you why right and
46:57 - this will make a lot of sense in a sec I
46:58 - need to pull in the auth module from
47:00 - firebase this bit is really sort of
47:04 - clean and how we do it so we've were all
47:07 - starts I now login so now basically here
47:12 - I have login so here we have science so
47:14 - right now it says sign in always I don't
47:16 - want it to say sign in oiz I wanted to
47:18 - say sign in when there is no user right
47:22 - so I'm gonna have it so that instead it
47:24 - says if there is a user I want it to say
47:27 - sign out okay otherwise sign in right
47:34 - and although this logic and it's only
47:35 - gonna redirect me to the login page if
47:37 - there is if there is no user and this
47:39 - login function is gonna check if they
47:42 - are logged in then it's gonna sign them
47:43 - out now this combination works really
47:46 - elegantly because if I save this
47:49 - now check out what happens so it's gonna
47:51 - say hello and it says cozy at the top
47:54 - and then it says sign out so let's make
47:55 - the screen a little wider so that it
47:57 - doesn't doesn't get to thing yep there
48:01 - we go and if we click sign out no boom
48:07 - it just signed you out and you can see
48:09 - now at the bottom you see it dispatched
48:12 - the action to set the user to know oh
48:14 - and then alright and if we think sign in
48:18 - now the two will be it'll be a true so
48:23 - push us to the login page oh wow
48:26 - which is just so clean guys it's just
48:29 - really really nice yeah and it's so so
48:32 - clean and it's a really really nice way
48:34 - of doing it damn yeah so I hope you like
48:46 - that cuz that's that's a really nice
48:48 - little nice finishing touch on it right
48:51 - and I know I can imagine the sort of use
48:53 - cases you can do here guys like we can
48:55 - have it so that like if we wanted to we
48:57 - can actually have it to the point where
49:00 - if you try to add something to your
49:02 - basket we could just check if the user
49:03 - exists and then if it if they want
49:06 - before you add it to the basket it could
49:07 - take you to the login page and do that
49:09 - kind of check you see but like to do all
49:12 - of that it would be really easy now
49:13 - because we have this data layer so
49:15 - everything so nicely and decoupled and
49:17 - like you don't have to bother about like
49:20 - if this knows about this or if that
49:21 - knows about that it's just everything
49:24 - it's completely like isolated and don't
49:26 - on it that's an a beautiful yes it's all
49:29 - isolated that's the cool part yeah and
49:32 - now imagine you've got a team of like 10
49:35 - developers right if they're all coding
49:37 - on isolated things the likelihood of
49:40 - breaking stuff is actually not that high
49:42 - because all you're doing is that you
49:44 - everything sort of detached yeah
49:46 - whereas if we were doing prop drilling
49:48 - and we didn't use the data layer like
49:50 - react context API you could one simple
49:54 - prop change like remember when we got
49:56 - the item wrong for the ID it caused a
49:59 - whole riffraff in a big company that
50:01 - would become
50:02 - it would be really tough for like ten
50:04 - developers to work together if things
50:05 - are really tightly coupled that's why we
50:08 - write our code this way and we have it
50:09 - very maintainable and sort of
50:11 - understandable in this way so I think
50:14 - cozy with that said we actually just
50:17 - finished the final point really are you
50:22 - sure because one of the things that when
50:25 - I if I oh when i refresh you're right it
50:28 - does actually go away
50:29 - yeah oh if you are logged in if you yeah
50:33 - so your login would stay persistent but
50:36 - your refresh the shopping basket at the
50:38 - moment is non persistent because we're
50:41 - using the we're using a store yeah got
50:44 - it
50:45 - okay sick awesome so are we ready to
50:48 - deploy this now I think we're ready to
50:51 - deploy oh snap okay let's so let's go
50:54 - ahead and ring that little bell oh yeah
50:58 - here we go all right guys we're done
51:00 - with building the login page and so now
51:04 - I'm gonna change that arrow from a
51:07 - finger pointing to a check mark and
51:11 - we're going to be on to the next step
51:14 - but first we're gonna hear a little
51:16 - that's right we just finished the login
51:20 - functionality now guys it's time to
51:22 - actually deploy that app so at this
51:24 - point I know a lot of you guys are tired
51:30 - and I know I mean now I'm tired Sony's
51:34 - tired but are you guys actually excited
51:37 - to see this app go live and be able to
51:41 - actually use it yes you will be able to
51:44 - use it from the chat are you guys
51:47 - exactly and guys when you actually when
51:50 - we deploy this we want you guys to go
51:53 - and visit the actual website that we
51:55 - deploy check for yourselves play around
51:57 - with the have a play with it and if you
51:59 - guys like it shoot a story for it and
52:01 - post me in Kazi and tag us in it and
52:03 - guys what they think you have to do this
52:07 - oh yeah you guys will make my birthday
52:10 - like so amazing if you guys actually
52:12 - make a story of the app and like record
52:15 - yourself and
52:16 - Gordon tagged us like that would be
52:17 - amazing yeah awesome guys so at this
52:21 - point we are going to deploy really soon
52:25 - so let's actually go here so let's open
52:29 - your command line up so now what is it
52:31 - it's a firebase in it yep so firstly if
52:35 - you haven't done this before you have to
52:37 - do firebase login yeah so like a login
52:40 - will pretty much open up a prompt for
52:41 - you so I think at this point we've we've
52:44 - already logged in yep so weird if I base
52:48 - and net yeah yep and then here you have
52:51 - to pay really close attention guys and
52:53 - be careful for this step so firebase in
52:54 - there and then it's you just use the
52:58 - arrow keys to go down to your hosting
53:00 - and you wanna press the spacebar yeah
53:02 - yep and you press ENTER mm-hmm for this
53:07 - status you want to click on yep use an
53:09 - existing project and you want to find
53:11 - your project so I think here it's clone
53:15 - yeah it's that one yeah I say it comes
53:17 - up with because of the name because it's
53:19 - Amazon so it's up and then here guys you
53:24 - have to write build right that's right
53:26 - build and then you make sure you write
53:29 - build here otherwise it will not work
53:30 - okay you have to use up all right here
53:34 - it's a single page app so yes we have to
53:37 - write type in why okay I'm seeing
53:41 - everybody's super excited Daniel is like
53:42 - yes Danny is like waiting to click that
53:45 - you know super excited always lit thanks
53:50 - for giving us such a great project
53:51 - awesome guys love to work all right so
53:54 - now what are we doing it's okay now
53:56 - we're gonna do a single page app yeah so
53:58 - we're gonna hit Y here that's important
54:00 - guys why yep okay exactly so it's done
54:04 - and that's it so we've configured it so
54:06 - we need to do to come on did that
54:08 - mistake again by the way which one oh
54:12 - okay yeah guys make so if we can fix
54:17 - this so make sure you're actually in the
54:20 - Amazon clone folder because we done yeah
54:24 - so here to get the together if you do
54:28 - end up running into this mistake all you
54:29 - need to do is
54:30 - the firebase Arcee and firebase JSON
54:32 - files yep and you just need to run
54:36 - firebase and then again and really
54:38 - delete the build as well right
54:39 - oh yeah we can delete that yeah okay and
54:43 - then I gonna do firebase and net yep and
54:46 - this will show you guys how quick it is
54:48 - as well so don't freak out if that
54:49 - happens just go down to you hosting I
54:51 - was saying boom we're gonna existing
54:54 - project boom let's go to clone Amazon
54:57 - clone build and then we're gonna say yes
55:00 - it's a single page app and then build so
55:04 - yeah we yeah oh so here we do two
55:06 - commands we do em p.m. run build so it's
55:09 - the first one and this will actually
55:10 - package the app together so it basically
55:12 - gets all of the stuff that we just wrote
55:14 - and it pushes it into build yeah and
55:16 - it's gonna strip out all the developer
55:18 - dependencies all the stuff that you
55:19 - don't need in the actual deployment
55:21 - because it needs to be lightweight all
55:23 - right
55:23 - it has to be very lightweight and like
55:25 - and it just strips out all the rubbish
55:26 - and it makes it like an optimized
55:27 - production build just like it says that
55:29 - so Steve all that wrong folder
55:31 - AHA oh yeah he said everybody will be
55:35 - pointing people in your direction nice
55:37 - at sick Nights awesome all right yeah so
55:43 - once this is done the cmp remember
55:47 - creating optimize production build
55:49 - that's taking no longer than it usually
55:52 - does oh there we go
55:54 - yeah so don't freak out so then the next
55:56 - thing we want to do is once that's done
55:58 - it will actually bundle it into the
56:00 - build folder if you make any changes you
56:02 - need to run NPM um but again together
56:04 - from the latest build but now all we
56:06 - need to do is do firebase deploy and
56:10 - ready get ready for this are you guys
56:13 - ready that's my question to you we are
56:15 - about to deploy do you want to see it
56:17 - deployed well I hope that you are
56:20 - answering yes and I see a lot of you
56:22 - guys are saying yes you would like to
56:24 - see it deployed so at this point guys
56:26 - we're gonna do a countdown all right do
56:29 - a countdown with us and drop it in the
56:31 - chat below I think this is a very big
56:33 - moment yeah uh 4 3 2 1
56:43 - all right guys we're gonna write
56:44 - firebase is it gonna be firebase deploy
56:47 - sunny yep firebase deploy all right
56:50 - firebase deploy and now guys it is time
56:53 - it is deploying and it's hosting it's
56:55 - using that build to deploy it and now
56:58 - here is the link that's it guys I'll
57:01 - live so I've just sent the Musti link
57:06 - inside of the comment section guys go
57:09 - check it out and if you like it what
57:17 - happened what you think comments we are
57:20 - live you guys that is it we have done it
57:23 - together so great job and we are
57:29 - actually also done so there is that
57:33 - little bell that happened right now this
57:36 - great job everybody alright let's take
57:41 - some okay
57:48 - pool party said hi guys learning a lot
57:50 - from you to you awesome glad to hear
57:53 - that did Daniel solo solar Joey it says
57:57 - there's firebase offer a way to keep
57:59 - track of people that create accounts
58:00 - with the app yes it does and it's
58:02 - actually inside of the console so that's
58:04 - really cool you can check in from inside
58:06 - of there and you can also use the file
58:08 - store database to actually push the
58:10 - users information in real time into the
58:12 - database so that's also thank you
58:15 - yeah yes awesome Wow guys this was an
58:19 - amazing build thank you guys so much for
58:21 - being here guys this is again the final
58:24 - version of the app this is what it's
58:26 - looking like you guys can actually go
58:28 - and play with it you can log in you can
58:31 - log out you can add things to the basket
58:33 - you can go to your basket remove things
58:35 - you'll see the subtotal change there is
58:38 - user authentication all of this
58:40 - functionality you guys learned so in in
58:43 - wrapping this up Sonny may have learned
58:47 - how to use react to build this app they
58:50 - have learned about context api's they've
58:52 - use learn about firebase hosting and
58:55 - firebase authentic
58:57 - they have learned about how to use react
59:00 - routers so they could have pages like
59:01 - log in and check out and yeah it's also
59:06 - a sync it's still a single page
59:08 - application and they've also a lot about
59:11 - the difference between things like link
59:14 - you know component in react versus H ref
59:19 - and how link loads the page instantly
59:22 - without refreshing yep exactly
59:25 - and we deployed it live so I mean that's
59:27 - oh and a big thing is data layer exactly
59:32 - yes and the day that's a react contacts
59:35 - API and I think that will actually be
59:37 - really useful for a lot of people
59:38 - running through that but man there was a
59:41 - huge amount of knowledge bombs in this
59:43 - video like we went through a whole
59:45 - lifecycle of an app build I hope you
59:48 - guys found that useful we got so many
59:50 - comments near in the end everybody was
59:52 - going crazy like yes like I totally
59:55 - missed these comments so he had like
59:56 - people going yes Salani of 5 4 3 2 1
60:01 - even Astron was counting down nice I
60:05 - love that oh wow Emmet Tyrone see was
60:10 - conning down he's like one Azran is like
60:13 - let's go legends beautiful link was
60:16 - there he's like yay learning from you
60:19 - too best of the best I love it as you
60:23 - guys know all this love really really
60:25 - baby she's no poor guys yeah Astro asks
60:31 - sunny can we use firebase and want to
60:33 - create a web app for our clients like
60:35 - creating crud forms using firebase and
60:37 - not sequel and node that's a really good
60:41 - question for you cause II what do you
60:43 - think yes yeah exactly you can
60:46 - definitely have you can definitely have
60:49 - crud functionality in firebase but think
60:53 - in one of the apps that we built we
60:54 - actually in the to do app we completely
60:57 - showed that the quad functionality in
60:59 - firebase but yeah you can definitely
61:01 - have that and then and if you check out
61:03 - a few live streams back we've got all of
61:05 - that so yeah so you're so good okay Mac
61:08 - times 3000 thank you
61:10 - looking forward to learning from you
61:12 - guys and Daniel's like clicked on it
61:14 - awesome you guys hopefully checked it
61:16 - out Abdul Basit is like big work love
61:21 - that a MRSA amazing guys hopefully guys
61:23 - checked out the app as well and had some
61:25 - fun with it yeah but guys at this point
61:29 - thank you so much for watching we love
61:32 - you I am starving so I have to go and
61:35 - eat I'm gonna grab some food and send
61:40 - you any sign off message I just want to
61:43 - say thank you so much guys for your
61:44 - support you guys were amazing this video
61:47 - and there's so many of you guys were so
61:49 - attentive and laser-focused and it's
61:50 - just so amazing to see and it makes us
61:53 - guys really just want to carry on doing
61:55 - this so I hope you guys love that and
61:57 - thank you so much for watching that and
61:59 - a big big happy birthday to Kazi that's
62:01 - all just dropping some the sister for
62:03 - machine-gunned of comments in that
62:04 - section right now
62:07 - thank you really appreciate it I love
62:10 - this comment but law says you guys are
62:11 - so awesome you guys should be rated the
62:13 - best what I've gained here I don't think
62:14 - I gained this knowledge in the next two
62:16 - years and he says this is really react
62:19 - in its simplest form yes guys that's one
62:21 - of the things that you will learn on
62:23 - this channel we take these concepts
62:25 - we'll make them extremely simple for you
62:27 - and then teach you how to make an income
62:30 - with those skills if there's one thing I
62:32 - want to leave you guys like what's your
62:34 - next step is guys if you have gotten
62:37 - value from this and you are excited
62:39 - about all of this I want you to very
62:42 - seriously consider jumping into profit
62:45 - with JavaScript which is our program
62:47 - will really literally teach you all of
62:50 - these skills and all of these apps but
62:52 - the most important thing is like we
62:53 - handhold you actually landing jobs but
62:56 - there's freelancing jobs or full-time
62:58 - jobs or whatever it is so if you are
63:01 - serious about like improving your skills
63:04 - and landing jobs and starting to make
63:07 - money with coding then definitely jump
63:11 - into that course definitely make sure
63:15 - even if you guys are on the fence go
63:17 - check it out and give it a read because
63:20 - I think you realize that there's so much
63:22 - more value as opposed to what you're
63:23 - normally
63:24 - used to encoding courses or boot camps
63:26 - we give you very personalized feedback
63:30 - guys and you literally have a media
63:32 - access to like trying to me tactic Ozzie
63:34 - everyone is literally there your
63:36 - fingertips to guide you along from start
63:39 - to finish yeah yeah yep
63:43 - awesome and all the information about
63:45 - that course is on that page to click
63:47 - that link in the description below it'll
63:49 - tell you how much it costs
63:51 - what's the program and all of those
63:53 - details but just make sure you go and
63:54 - check it out and let's see if I have it
63:56 - here
63:57 - I don't but yeah just definitely go and
63:59 - check it out you guys awesome thank you
64:01 - guys love you guys
64:03 - really really appreciate you thank you
64:05 - for being here and part of this
64:07 - community and on this live and just
64:10 - giving us so much love we love it and
64:12 - we'll be seeing you guys everyday on
64:15 - these lives and so we'll be seeing guys
64:18 - hopefully tomorrow that's it yeah this
64:21 - cause II I love your face and that is
64:23 - funny love you guys peace out we will
64:27 - see you in the next video peace

Cleaned transcript:

but the last stream ended up getting cut off and it was it just was kind of heartbreaking hopefully this one is gonna work but I don't really know where this is streaming though like it's an absent one I know but that's from Facebook it's actually not streaming to YouTube because on YouTube you would have to create a whole new event it's not streaming is it on YouTube or we live on YouTube we live right now we're on youtuber live we're live okay guys so nice we're getting some people back also I don't know what happened guys the live stream broke and it also broke our heart but we're on part two and we're just finishing up this is where we're at right now okay look look we've finished we so far we set up the react app using Create react app we set up firebase we set up react router we build the navbar we built the banner we built the product component we introduced react context API we set up at the basket button we build checkout page we even built a subtotal component and right now guys we are at the part where we are going to add the login functionality and then deploy the app so with that said let's get right into it let's do it let's go what we have is we have the login page right here and we basically want to now let's go ahead and style everything and then what we gonna get connect firebase to our react app okay so in order to do that what we need to do now is go ahead and so if the firstyears Connect firebase so I'm gonna go ahead and create a firebase yes so firebase dot J s yeah and basically why now inside of this snippet what I want to do is I've got a nice little neat little piece of code that you guys would have seen in other examples so firebase so here we go so I'm gonna go ahead and we need all config so right now if we go into firebase com Kazi hello yep I'm here so if you go on to firebase.com all my bad my bad okay here we go you know I just complain my babies are Frankie all right all right five days calm and this drop in the config oh yeah I got that I mean I have a copy since the start of time yeah so we just need that at this point now so we basically want to paste that in here oh nice awesome there we go and basically what this is gonna do guys is we need to go ahead and in the terminal now we need to do NPM I firebase so that will install all of the firebase dependencies so if you're going to go ahead and do that cause II so NPM i5s also we go yeah so now we're gonna do is this watch hockey bass keeps asking this question we should probably answer it he says what if there is no connection when developing with firebase is there some kind of emulator that runs locally yep so if is if you're regarding your so for cloud function so any sort of service work yes there's an emulator for database I believe there is an emulator for database they have a lot of support for offline so even if you have set everything up and then you start pushing it they are into your database it will actually sort of queue it up so it will queue up all of the pushes and a really really clever way and then when you get an internet connection again it will push that to the database and we even sync this off timestamps it's really clever how it does but they do have a bunch of emulators yes they do good question so now what we're gonna do is we have all of the keys so we have the keys here and let's go ahead and we've got so these two things right here at the bomb are basically setting up a database instance we don't actually need the DB right now we can go ahead and get rid of that we need the authentication so here firebase toss okay and what we're gonna do is let's go into our login ojs and let's go ahead and stop so what we did right there guys is we actually just connected firebase to our react frontend so it's that simple okay it's really that simple to get that working so what we're gonna do here is I'm gonna basically going to add a class name so we're sticking to our BEM naming conventions for saying class name login and here I am saying I want to have firstly I want to have a link at the top so I'm gonna copy a snippet here I want the link at the top to basically be it's a link that goes back to the home page and it's gonna be an image and the source is all this is guys it's a link to you it's an Amazon picture so again I'm gonna double line it so you guys can just copy that if you'd like so I'm gonna double line this right now so there you go you see that all on one page so you can pause it there and you can copy that out so this is essentially just all it is right there is actually just the I'm just opening up one my local so that is actually right now is the Amazon logo so you should be able to see Kazi that you can see the Amazon logo somewhere are you ready the NPM stop oh yeah yeah here we go somebody said this spent five hours today on creating a nav bar with flexbox awesome it's that logos up nice awesome nice so what we're gonna do now is go into login doe CSS and make that not look so ugly so cuz that looks really nasty right now so I'm gonna go ahead and where we have that at the moment I'm gonna say width so I want that to be a fixed width because we don't ever want it to get bigger than a certain size so login logo and I'm gonna say it is a width of a 100 pixels so with 100 pixels and here it is object fit contained so again we're gonna keep the aspect ratio and what I'm doing now is I'm adding a margin left and a margin right of auto so that it centers actually front for now just leave it there just leave it like that for now what we're gonna do now is so we have the Amazon logo right I'm gonna show you very clearly how we do this so we have the Amazon logo here and then I'm gonna have a container so I'm gonna say div don't login container and this is gonna have all of the forms and everything that we're gonna have so the sign in so inside of here we're gonna have a h1 which says sign in so sign in and if you save that you should be able to see it on the screen to say h1 sign in we're gonna have an email so here I'm gonna say h5 let's just we're trying to build this form here exactly that you know cool so now I'm gonna say so before I actually have this I'm gonna say forms I'm gonna surround the whole thing inside of a form so that way we get that whole inter functionality so here we do this and we'll say email and I'm gonna have an input field okay and then I'm gonna have another h5 and I'm gonna say I'm gonna have another h5 and I'm gonna say password so it's gonna be password and here I'm gonna have another input phone so I'm gonna copy that paste it and save so now we have rough outline of sort of some email and password login stuff and then what we're gonna do is actually have a signup button so you actually wanna have a button underneath that so button and this is gonna say sign in okay so we have the button to sign in so you can see we've already got like an outline for a sort of basic signin form okay it's very simple and on Amazon's website this is a little bit of cherry on the top so we have the form and they basically have this where it says by signing in your agree terms and conditions of use and so blah blah they just add that little authentic I was in touch my even yeah yeah you know like once we get it styled right it look really nice and then we have the button and here we'll say create your Amazon account exactly so cause he just showed on the screen and what our I can go so this is how it looks right now and let's show what it would look like after yeah so we're gonna go from that to that you know so let's go ahead and start that so right now we have the login the CSS so the first thing I'm gonna do right now is go ahead and go to login so here and I'm going to style it by giving it a background color of white because right now it's on a gray background so I'm going to say everything should be white right so that should have actually Scalia everything should be white but I need to give it a height of a hundred view height so that will actually calculate how big your screen is and then it'll give it a white background right so here that should have popped in so you should see a white oh yes is that white background you know it's a display flex let me do that first so say display slacks and that's also dear so if I do that oh these stars getting applied as I think now so right now the stars aren't actually getting pushed onto there so let's see so we've got login I've got log into CSS Logan no CSS 100 view i lastname login pulling it in okay again went if I change this 200 and fix 50 does that change now why is that I'm not sure we're not doing NPM NPM stuff we are doing NPM running way yeah we're running okay so let's go ahead and change something else then so log in container let's go ahead and start styling that so let's do this and we'll fix that in a second so log in container they say the login container should have a width of 300 pixels because right now that text is way too long so if I save that see if that restrict okay so it is applying styles so we'll get to the bottom of why that's happening so right now 100 view high I'm saying display flex and I want to do flex direction column because I need to basically I want to have have everything in a column so we'd use that and then I want to say a line items in the center so I should walk so that's really straining me debug this quickly one sec so what I'm gonna do by debugging I'm just right clicking I'm clicking inspect and I'm just checking to see that my class names were added so right now nothing was actually added for the class name login so it's interesting because it's not actually picking up that that class name and that is because oh okay there we go yeah so this is a very easy mistake to make guys he's here as his class name the capital and so before it was this oh yeah is insane right Chaplin yeah yeah so and now if we do that it won't make it gets the stars that we had it yeah oh yeah Lauren caught that he's like class name type oh oh nice that's amazing I love that there miss miss also caught that awesome that's nice to see everyone's like clued into weewee when says are you a web dev are you okay so we've got the log in now so what we're gonna do now is we've got login logo right but that's touching the top I don't want it to touch top because it doesn't look very great so right now I'm gonna add a margin top and bottom of 20 pixels so margin top Obama to me pixels and you'll see that it gives that gap at the top which is what we want the width is good and what is a good okay so now what I'm gonna do is I want to style this inside of this box all right so the first thing I'm gonna do is for the container I basically want to say the I wanna say display flex so I'm giving it a display flex and that will put everything inside of a row so you'll scrunch everything up right which is not nice so we want to basically say nope make it a column instead so it's its column so now everything sort of using the Mac space they can we want to say that the padding around everything should be 20 pixels because we want to kind of Pat it in a bit and if we want to say they should have a light gray border so a light gray border around it so there you go so even just adding a little border immediately sort of makes it pop a little bit more and the height we have to fit the content okay so now I'm gonna do is or the height actually didn't change anything so we can get rid of love so now what I'm gonna do is I'm actually gonna use some I like to show different ways of using CSS selectors so previously obviously what we could do is add class names to everything but I think it'll be beneficial to you guys to see how I can target things which you like direct children of this and like first child of something else so in this case I want to target all of the h1 elements so for example this one the signin element right so in order to do that that's inside of the login container so here now what I'm gonna do is I'm gonna say login container the first child which is a h1 so like there eh one child of a logging container I want the font weight to be 500 and the margin bomb to be too many pixels if I saved that look what happens it finds it and it stars it you know and what I'm also gonna do now is show you how you can also do nested so like for example here we have a form and I want all of the h5 elements to be styled so I but I want to basically only use this class name to style them so I'm saying go and find the login container go and find the child which is a form and then go and find the h5 element as opposed to giving every single thing a class name so I'm showing you both ways as to how to do it because I find I think they'll be useful to everyone so now I'm gonna say is there some saying go to login container go to the form beneath it and beneath that form get the h5 and I give it a margin bottom so if I save that notice how everything should get a little spacing all right I'm gonna do the same thing for the input now so if I go here I'm gonna do the same thing so I'm giving the input fields a bit taller because right now they're too small give them a margin bottom so it doesn't touch the field below it too closely but a white background and a width of 98 and the reason why I'll show you 98 in a second is it will make sense because right now there's some padding to consider around the the sort of input fields and as a rather than adding padding and things like that 98 perfectly aligns with the current Amazon account bun so we can just go it up and it works pretty nice the next thing we want to do is the P tags so the P tag I'm referring to is this disclaimer so what I'm going to do is basically add a margin to the top so it's not touching that signin button and I want the text to be a little smaller so what I'm gonna do here is go ahead and start that so we've got the margin top of 15 pixels and the font size of 12 pixels here so if I add that there you go excited to come together and the Sign In button and the register button are the last two things and I will go ahead and give them classes because we've got a few of those so I'm not going to just mess around too much with those buttons so in this one I'm going go ahead and give this one login signin button and for the register button I'm gonna go in and give this one this log in register button okay and then what we're gonna do is I'm pretty much gonna apply the exact same styles that you saw earlier to the buttons but so the first one I'm gonna do is a signin button so this is a snippet of what we've seen earlier so remember we had that gradient border color we had that background orange and these are the same values that we saw earlier so you can save this and look what happens to that sign in the signin looks immediately Amazon like it looks like the Amazon saw signin button right so it's really it's time to look there and then what I'm gonna do is I'm basically gonna use similar styles but I'm gonna not have the background color so I'm gonna do that for the register button so now if I save that you see we get like a very nice contrast we get an immediate signin bomb which is the sort of call to action that you're gonna you want the user's attention to go towards but if they don't have it the secondary function is to create an account okay so what we can do at this point is for the input type here we can do email and for the input type here we can do password and for the button as it's inside of a form we can do type is a submit alright and that will give you that sort of typical form behavior when you click enter it will submit and what we need to do now is hook up two functions so I need an on click login and an on click register so here I'm gonna have on click on click and here I'm gonna have login board when they click signin right and then the other one you're gonna have for creating an account exactly so on click here would be on click is register okay so these are gonna be local functions so I'm gonna go ahead and create them at the top song as a const login takes an event and i'm gonna do a dot prevent default because guys if you have a form and you submit that form it's gonna cause the page to refresh so in this case if I click signin it's gonna cause the page to refresh and react we hate refreshing so we get the event that gets fired off so here this is actually an event so I can rename it to event and you do prevent default this will stop the Refresh so this stops the Refresh so you have to include this line yeah and then we're gonna say login stuff so do login stuff to do the login logic yeah so there we go diligent login logic there okay then we're gonna have another function so I'm going to copy this and this is gonna be for the register and this one again it would be prevent default do the register logic okay now this is where it gets very crazy as to how powerful firebase is okay so the first thing we do is go over to our firebase console you know over 205 sponsor and go to authentication alright so go to authentication and on in order to get this working like we need it basically if you go to signin method and go to email password and just enable it's that crazy guys if you just enable that and you click safe like it's lit every other platform authentication is like takes forever and here is like just going able it yeah it's insane how that works so we do that and now what we're gonna do is that's all that we need to do on the backend so we go back to our code and this load up localhost on the right so people look what's running awesome so what I'm gonna do now is I'm gonna say for the login Lord logic I'm basically gonna have it so that we do Aust so remember what I did in when I stopped the firebase so when I saw a firebase ice we exported this earth module and this is everything that we need in order to handle the logging in logging and that stuff so now what I'm gonna do is here I'm gonna say auth dot so I have to import that firstly so I'm gonna import that from our local firebase so here I'm gonna say auth dot and then basically we have this amazing function that's built into firebase and it's called Auto sign in with email and password so it couldn't get any more straight for guys like here and what we're getting is but here we need the email and we need the password right we need the email and we need the password oops you know on the parser but we're not currently tracking this from my input our inputs right so we've got the input here and input here but we need something to keep track of that so basically before we do that we're gonna use something called state inside of react and the way we do that is basically the shortterm memory so here I'm gonna set up a variable so it's basically how to write variables in react so here I'm gonna write a variable which will represent an email and that we need a second method that comes alongside it and that's called same and that's how we update the value here we say use state and the initial value is blank okay so I'm gonna do the same thing for the password and if you want to look into this more there's the react Docs for this is for the use state hook the react stalks are amazing and they pretty much explain and give you examples of how you use the use state hook and it's really really gonna help you out so now if we go over we need to import this so I do this you stay and there we go now I've set up two pieces of state now the magic here happens I love that comment man this 1000 is underrated thank you so much so now if we go to the input right so we need to map the values here so the first one we're gonna do is we're gonna map the email value here and we are gonna map the email the password value here so your password so if you just try and type in cozy notice how it's not going to let you it's not gonna let you change anything so if you try and type in and while I type in yeah it's not like you type in right yeah okay so it's not like you type in so at this point what we need to do is because it says usual Oh whoo ha ha useful so that we've mapped it but the the value is blank and it's constantly being mapped out so we need to listen to an unchanged so unchanged is the magic and basically what we do is we get the event and we say every time we type in we're gonna say set the email to event oops event dot target dot value what this is basically saying oh come on event dot target value there we go I'm gonna tell you the value and basically what this is saying guys is that when you type in I want you to basically go and grab the latest food that was in there and push that into the email variable and rerender and do all this or clever logic that needs to do I'm going to do the same thing for the password so what we're basically saying with all of this is that now we have to react variables so which are basically stored in the state and these two variables are going to contain and keep track of what is typed inside of those impact fields for email and password now once we have those we can actually carry on and do what we were doing before so we can say auth dot and then we can say sign in with email and password because now we have the email and we have the password because we have these two variables up here right and what we can do is we can say so if everything actually works then it's as simple as just saying dot then and then that will give us back some kind of authentication so it will give us some kind of object back right we don't really care about what that object is at this point but then what I'm gonna say is here logged in so here you logged in successfully so we will actually want to redirect at this point so redirect to your home page okay and then here what I want to say is if there was something wrong catcher and because right now we just wanna we don't really care too much by the front and we just wanna say a lot so this will pop up a sort of like the sort of browser pop up and it will say Allah II don't message so just show a message from firebase so for example if you logged in and the credentials are wrong or something like that it will pop up with that now for the register we do something very similar so we say auth dot but here what we say is we could say create user with email and password and I passed an email and I pass a password but here what I do is I say then and I say auth because we basically if it's remember guys then is when everything goes well it's when you things went well and nothing broke so here I would have said create a user and logged in so that's what happens when you do this so here we would do the same thing as we would say logged in redirect to home page so again here I would say logged in create a user and logged in we then want to redirect to the home page okay but if anything went wrong we say cat chip so catch it and again we just want to do this where we basically a lot on the screen in a very simple easy way now that's literally all we need to get authentication up and running but with that said there are two steps now that we want to do one is the redirect we need to fix the redirect okay we need it so that it redirects to the home page if everything went well to do that that's the first thing we're gonna solve to do that react rule gives us a really nice hook okay cuz there's a really nice hook could use history so step one is redirect and also just to sort of clarify step two is going to be listening to sort of listening to if the user logged in or logged out and basically pushing that value into the data layer so listen to login let me up listen to login and we want to push it into the day Allah you know and I'll show you a really nice way that we do that so here we have the use history right so what we're gonna do now is we are going to say so the first thing to get this variable working you just say Const history equals a used history and for those of you who are familiar with browser history or like any sort of redirecting usually you push into the history when you want to redirect so here all we need to do is as simple as saying history dot push for slash and that will actually do it so a reason why we push here instead of doing a replace is that say for example when you click the back button on the browser we want them to be able to come back to the login page so you know that that natural behavior all right so we're gonna save that and I'm also gonna do the same thing here but notice how we only do this redirect guys if nothing went wrong so only if we land in the then block right so only if we land in the same damn block so only if we've successfully logged in do you want it to actually happen so that's step one so we just solve the redirect so this will actually redirect us now okay but what we want to happen now so is it will log us in yes but do we one know that we're logged in or like how do we how do we go about that because it will log us in and then even if i refresh it will actually still be logged in but what we need now is we need some kind of listener which is going to always listen to that log in log out event and if it does we need to update our data layer so that we can then keep track of what's going on okay oh yeah cause the happy birthday in the UK bro yeah thanks oh it's exactly howdy thank you bro I appreciate it I'm 26 now yeah nice wait how old are you I'm 25 I'm turning 26 in September after me huh that's it no ma'am no does that break after this damn Wow I mean it's gonna happen in eight hours is my birthday in California here but like that's funny that in different parts of the world because somebody else wished me to yeah that's why I realized cuz here it just ten twelve o'clock yeah though yeah it's yes 12 it's midnight guys so I just want you guys to take a second and just think sunny in the comments below because it's a midnight his time you guys and he's been out here grinding and streaming since what I'm almost six hours straight we're almost about to go into six hours straight so guys just let him know how much you love him and appreciate him for being here and coding and building this entire thing up for you guys cuz that's really awesome dude no I appreciate that I did and this here is it's crazy to be able to do this stuff and like the fact that so many people watching and getting involved and commenting and engaging with us it's amazing so it's really really nice yeah this is awesome people are saying happy birthday damn well true hybrid defenses thank you guys I really appreciate it Steve that was interesting he says he has spent 35 years as a developer he mostly uses typescript which also you use sunny yeah I use have yeah and then he's like react react native and preact I also coach and teach saw one of your videos the other day and I would recommend your channel for new devs thank you Steve yeah this channel would make is great for new devs and I feel like people who are probably a little bit more experienced but you know somebody would have seen five years of experience you know maybe they'll still pick up some trip tips and tricks that Sunny's got definitely and then guys like it doesn't matter if you knew all your experience I always find even if I if I I don't consider myself an X bio in react I always keep going with a with a sore beginner mindset and try and like sponge in and just learn everything I can which is awesome Matt one says honey love and appreciate you love you too saying it you're the best thank you so much Tyrone Sonny you're a legend I love that yeah that is on it all right yes okay this is awesome nice all right that's awesome so we have the log in thank you so much have enough nice so we have the yep so we've logged in right so we need a listener now all right we need a listener and basically is where we put that is inside of apt ojs so let's go over to apt or Jess and basically the reason why I put it here guys is because now you can actually see what I meant by keeping things high level right right now at this point we have every single thing such a high level we have the routing and then we have pretty much at this route render this and this this route render this at this we render these two is so clean like it's really clean intimate so maintain and come in and figure out what's going on at what route right so what we need to do now is basically we we are going to use a combination of two things we're going to use a so first thing we need the data layer so let's pull that in so we've got the data layer here so let's go ahead and do import like that so we've got the data layer and let's go ahead and we don't actually need the basket here but I'm just gonna leave it there we're gonna have the dispatch we do need the dispatch and guys what we need right now is we need the a user fact we need basically we need a piece of code so I always expand it this way we need a piece of code so a piece of code which runs based on a given condition okay so this is what we call a user fact hook and this is tremendously powerful guys like this is seriously powerful and you should definitely learn this a user fact is going to be your best friend when it comes to understanding how to rewrite classbased components into functional component it comes in really handy when you start doing that but right now I'm gonna say use effect and this basically takes a it takes a function so let's go ahead and here and it takes a function and the second argument is the dependency so here if we leave this blank it's going to run once when up come the app component loads and then it won't run again okay so it's gonna run one minute once when the app component load and it won't run again if I put basket in here for example it's going to run once when the app component loads and then every single time the basket even changes right so that's gonna be a really big deal right and that's something that we need to remember and sort of keep them keep in mind so let's go ahead and now I don't want the basket now I just went to run once and the reason why I wanted to run once is because I'm gonna create a listener which is going to be listening all the time to if the user signed in or signed out okay and if we was to create several listeners then it's going to actually sort of is going to become quite expensive and it's going to actually be it's going to slow the computer down and just make everything solve it's gonna make your browser just freak out and it's gonna make chrome go a bit crazy so what we're gonna do now is we are going to do this we're gonna import our Earth module from firebase so go to top and import that and then what we need to do yes so somebody who said a good thing if you use a return and you use effect and the result of that will run when the component is unmounted we yes that's very correct so if you return something inside of a use effect when the components of unmounting sort of refresh rear Enders it will do a cleanup or any sort of cleanup that you need to do so we are gonna do that here we're actually gonna do that very very like very look quite like quickly now so here we have auth and then they have a very handy listener function and it's called on earth state changed now this is what's so nice guys we are logging in and logging out in a completely different component like it's a logging component and log out component it's completely different there's no sort of login logic in this Wow all right but it's inside the Same Same Same project so it picks up but what we're gonna do is every time the authentication state changes we basically say get the auth user so it gives us something called auth user yeah which is basically we can name this whatever we want but that's what it essentially gives us back so it's an authenticated user now when this comes back what we need to check we need to say if there is an auth user then the user is logged in so the user is logged in so you can do whatever you want to do at this point else the user is logged down so that's how you basically determine with this list now if the user is logged in a logged out okay now what we basically need to do at this point is say what we need to do is point is basically all we want to do is say so inside of reducer so inside of all reducer let me go ahead and clear this basket so remember we added these products we can go ahead and make it an empty basket to begin with we've already got this initial blank user okay we're going to initially got this initial blank user I'm gonna go ahead and create a new case so I'm gonna say case and I'm gonna say set user alright and this one is going to be like the only the only purpose of this is going to be to update the user when they login or when they log out okay and what this is gonna do is just going to return the current state so that's how we do this we return the current state and basically I'm gonna set the user to whatever the action dot user was so if it came in as no it would set the user to no inside of the store if the user was authenticated it would set the user to whatever the authenticated user was and that would be then in the day Alea for us to use throughout the the componentry so I'm gonna save that and then I'm gonna go over to apt oh yes so now here it becomes quite simple actually all we need to do is dispatch when we login so dispatch and I'm gonna basically pass an object here and the first thing it's gonna be type sunny you have a perfect British accent hey hey it's proper very Shack so here we need to do is need to say set user and I'm basically gonna say here I'm passing a user right and the user lam passing here is auth user because that's the one that we get back and I'm checking if it was present so I'm saying if it was present just set that response to the user object and then that way we get all of the sort of stuff so a lot of people are asking if we're using Redux in this project we're using we're actually using react context API as an alternative so that's answer that question so here we do is if the user is logged in we basically push them into the dialer else when the user is logged now we're basically going to dispatch the same thing so the same thing but we're saying the user to know okay so that's a really important point now we're saying the user to know and we need to also import user fact so let's go ahead and do that all right there we go so we said used to know so I hope this makes sense so when we login we're actually pushing the user into their lair when we log out we're setting the user to know okay and now remember guys when I said like if anything changes or for some reason it renders again what we need to mean to clean this up so this listener actually returns us something called an unsubscribe which is very nice how Google have done this why it returns or something good unsubscribe and what we can do in in in react which is really nice with these hooks is the user fact hook has something called a cleanup so you just return something from the function so this is how you do a cleanup so any cleanup operations go in there go in here alright so like even if you had a timer you would you clear the timer here or whatever you want to do and basically all we're gonna do here is just say unsubscribe that's it they say unsubscribe and that will detach the listener and then like say for example if this a prerendered for any reason it would a detach it and then reattach it with a new listener and it would do everything okay so what the now means is what we can do is we have both parts of the equation right and Daniel Dukas as well we encode thank you very much it's very clean way of doing this so what we are now going to do is we have the and this is completely decoupled guys so it's really nice and login Jess we have all of this login logic and it's completely separate the app digest because here we have a listener see see that's the way you want it you want it in completely detach and so that is not going to be attached and sort of two coupled or tightly coupled we call it so with that said now we why do I always do this to just check if everything is working what we can actually do here is we rather than getting the basket from the state I'm actually going to go ahead and get the user in the state okay and I'm gonna console.log the user so I'm gonna console.log the user so I'm gonna post love the user so now Kazi if you could so if you could just go to the actual so bring up the console and let's go over to yep so we're in the console and we should see now that so let's see the console we should see now that we have so I'm gonna go ahead and add a debug statement so I'm gonna say something like user is I'm just gonna do this and say user is this so what we're gonna do now is if we yeah so user is no can you see that right so as a user is oh right so we're not logged in right now and you see that's at the apt yes that even though we're in the login come on so now what I want you to do is if you could just enter an email a password and click create your Amazon account because remember if you actually create signin for a click sign in first and you'll see it doesn't do a redirect so so firstly it says the email just is badly formatted which is great because that's actually firebase coming back and it's at that catch statement so what we just saw there was at this point we saw the catch right so if you go ahead and add the and add the password so ABC ABC or something click sign in first so you see there's no user record so the user a million so nice that came back from fibers but if we could create look what happens it's signed it logs in right so it's actually creating an account it's logged in and if we scroll down into the into the console you'll see that the user is no longer no you can see the user should be so let's go down the user is yes and we got an authenticated user now and what's really cool here guys is if we refresh that listener will pick up basically I'm sure it stores it in the cookies but you'll see now look we actually have the listeners still logged in so the the person is still logged in right so it is very very nice ok so now what we are gonna do is that that's crazy right like it really works clean and that's as unbelievable and I if you click that and you so click that object and you'll see inside of it you've got a bunch of weird stuff I mean we don't really need to know too much of that but you've got inside of it you want email do you have the email things like display name which we used in the Instagram con but you've got the email they right you've even verified yeah yeah which is crazy right mostly cool so I'm a node says he's gotta get asleep and no worries dude this is going to be recorded so we can actually you can rewatch these things at your own pace nice so now what we are gonna do is so we've got the login working the redirect worked so now rather than saying hello cause II signin I wanted to say hello whatever email you signed into right so this just goes to show you how powerful this all is now so one way to do is I'm gonna go over to the header component so hello Jess and here instead of basket I just do user that's it I don't know what we're using this basket here no here we are so I'm keeping the basket sorry so I'm gonna get to the user as well we don't need that and basically what I can do now is you can see there's no prop drilling I just go into the data layer say go get that and what I can do now is that where it says hello Kazi I can actually just say hello and I can say here user email right and also I want to happen is I'm gonna add some really nice little bit of code now so I'm gonna go ahead and say inside of the header jeaious I'm gonna say that the link to login is only going to show if the user is not logged in so if here what I'm gonna do is I'm going to say this is some JavaScript code here I'm gonna say if there is no user so if they're not logged in then we want to push them to the login page right otherwise I want to basically have it so I'm gonna go into so it's only gonna do that if they're if they're if they're are logged in so it's only gonna push it to a login page if they're logged out so and then I want to basically habit so that if they click on the if they click on that hello cause II signin pot right I'm gonna have it so that let's have it so if I'm gonna create a function here so I'm gonna say I'm gonna have a function up here saying Const login so this is when they click on that option right now basically we're saying if there is a user so if they are signed in then I basically want to do sign out so I want to say oath don't sign out and I'll show you why right and this will make a lot of sense in a sec I need to pull in the auth module from firebase this bit is really sort of clean and how we do it so we've were all starts I now login so now basically here I have login so here we have science so right now it says sign in always I don't want it to say sign in oiz I wanted to say sign in when there is no user right so I'm gonna have it so that instead it says if there is a user I want it to say sign out okay otherwise sign in right and although this logic and it's only gonna redirect me to the login page if there is if there is no user and this login function is gonna check if they are logged in then it's gonna sign them out now this combination works really elegantly because if I save this now check out what happens so it's gonna say hello and it says cozy at the top and then it says sign out so let's make the screen a little wider so that it doesn't doesn't get to thing yep there we go and if we click sign out no boom it just signed you out and you can see now at the bottom you see it dispatched the action to set the user to know oh and then alright and if we think sign in now the two will be it'll be a true so push us to the login page oh wow which is just so clean guys it's just really really nice yeah and it's so so clean and it's a really really nice way of doing it damn yeah so I hope you like that cuz that's that's a really nice little nice finishing touch on it right and I know I can imagine the sort of use cases you can do here guys like we can have it so that like if we wanted to we can actually have it to the point where if you try to add something to your basket we could just check if the user exists and then if it if they want before you add it to the basket it could take you to the login page and do that kind of check you see but like to do all of that it would be really easy now because we have this data layer so everything so nicely and decoupled and like you don't have to bother about like if this knows about this or if that knows about that it's just everything it's completely like isolated and don't on it that's an a beautiful yes it's all isolated that's the cool part yeah and now imagine you've got a team of like 10 developers right if they're all coding on isolated things the likelihood of breaking stuff is actually not that high because all you're doing is that you everything sort of detached yeah whereas if we were doing prop drilling and we didn't use the data layer like react context API you could one simple prop change like remember when we got the item wrong for the ID it caused a whole riffraff in a big company that would become it would be really tough for like ten developers to work together if things are really tightly coupled that's why we write our code this way and we have it very maintainable and sort of understandable in this way so I think cozy with that said we actually just finished the final point really are you sure because one of the things that when I if I oh when i refresh you're right it does actually go away yeah oh if you are logged in if you yeah so your login would stay persistent but your refresh the shopping basket at the moment is non persistent because we're using the we're using a store yeah got it okay sick awesome so are we ready to deploy this now I think we're ready to deploy oh snap okay let's so let's go ahead and ring that little bell oh yeah here we go all right guys we're done with building the login page and so now I'm gonna change that arrow from a finger pointing to a check mark and we're going to be on to the next step but first we're gonna hear a little that's right we just finished the login functionality now guys it's time to actually deploy that app so at this point I know a lot of you guys are tired and I know I mean now I'm tired Sony's tired but are you guys actually excited to see this app go live and be able to actually use it yes you will be able to use it from the chat are you guys exactly and guys when you actually when we deploy this we want you guys to go and visit the actual website that we deploy check for yourselves play around with the have a play with it and if you guys like it shoot a story for it and post me in Kazi and tag us in it and guys what they think you have to do this oh yeah you guys will make my birthday like so amazing if you guys actually make a story of the app and like record yourself and Gordon tagged us like that would be amazing yeah awesome guys so at this point we are going to deploy really soon so let's actually go here so let's open your command line up so now what is it it's a firebase in it yep so firstly if you haven't done this before you have to do firebase login yeah so like a login will pretty much open up a prompt for you so I think at this point we've we've already logged in yep so weird if I base and net yeah yep and then here you have to pay really close attention guys and be careful for this step so firebase in there and then it's you just use the arrow keys to go down to your hosting and you wanna press the spacebar yeah yep and you press ENTER mmhmm for this status you want to click on yep use an existing project and you want to find your project so I think here it's clone yeah it's that one yeah I say it comes up with because of the name because it's Amazon so it's up and then here guys you have to write build right that's right build and then you make sure you write build here otherwise it will not work okay you have to use up all right here it's a single page app so yes we have to write type in why okay I'm seeing everybody's super excited Daniel is like yes Danny is like waiting to click that you know super excited always lit thanks for giving us such a great project awesome guys love to work all right so now what are we doing it's okay now we're gonna do a single page app yeah so we're gonna hit Y here that's important guys why yep okay exactly so it's done and that's it so we've configured it so we need to do to come on did that mistake again by the way which one oh okay yeah guys make so if we can fix this so make sure you're actually in the Amazon clone folder because we done yeah so here to get the together if you do end up running into this mistake all you need to do is the firebase Arcee and firebase JSON files yep and you just need to run firebase and then again and really delete the build as well right oh yeah we can delete that yeah okay and then I gonna do firebase and net yep and this will show you guys how quick it is as well so don't freak out if that happens just go down to you hosting I was saying boom we're gonna existing project boom let's go to clone Amazon clone build and then we're gonna say yes it's a single page app and then build so yeah we yeah oh so here we do two commands we do em p.m. run build so it's the first one and this will actually package the app together so it basically gets all of the stuff that we just wrote and it pushes it into build yeah and it's gonna strip out all the developer dependencies all the stuff that you don't need in the actual deployment because it needs to be lightweight all right it has to be very lightweight and like and it just strips out all the rubbish and it makes it like an optimized production build just like it says that so Steve all that wrong folder AHA oh yeah he said everybody will be pointing people in your direction nice at sick Nights awesome all right yeah so once this is done the cmp remember creating optimize production build that's taking no longer than it usually does oh there we go yeah so don't freak out so then the next thing we want to do is once that's done it will actually bundle it into the build folder if you make any changes you need to run NPM um but again together from the latest build but now all we need to do is do firebase deploy and ready get ready for this are you guys ready that's my question to you we are about to deploy do you want to see it deployed well I hope that you are answering yes and I see a lot of you guys are saying yes you would like to see it deployed so at this point guys we're gonna do a countdown all right do a countdown with us and drop it in the chat below I think this is a very big moment yeah uh 4 3 2 1 all right guys we're gonna write firebase is it gonna be firebase deploy sunny yep firebase deploy all right firebase deploy and now guys it is time it is deploying and it's hosting it's using that build to deploy it and now here is the link that's it guys I'll live so I've just sent the Musti link inside of the comment section guys go check it out and if you like it what happened what you think comments we are live you guys that is it we have done it together so great job and we are actually also done so there is that little bell that happened right now this great job everybody alright let's take some okay pool party said hi guys learning a lot from you to you awesome glad to hear that did Daniel solo solar Joey it says there's firebase offer a way to keep track of people that create accounts with the app yes it does and it's actually inside of the console so that's really cool you can check in from inside of there and you can also use the file store database to actually push the users information in real time into the database so that's also thank you yeah yes awesome Wow guys this was an amazing build thank you guys so much for being here guys this is again the final version of the app this is what it's looking like you guys can actually go and play with it you can log in you can log out you can add things to the basket you can go to your basket remove things you'll see the subtotal change there is user authentication all of this functionality you guys learned so in in wrapping this up Sonny may have learned how to use react to build this app they have learned about context api's they've use learn about firebase hosting and firebase authentic they have learned about how to use react routers so they could have pages like log in and check out and yeah it's also a sync it's still a single page application and they've also a lot about the difference between things like link you know component in react versus H ref and how link loads the page instantly without refreshing yep exactly and we deployed it live so I mean that's oh and a big thing is data layer exactly yes and the day that's a react contacts API and I think that will actually be really useful for a lot of people running through that but man there was a huge amount of knowledge bombs in this video like we went through a whole lifecycle of an app build I hope you guys found that useful we got so many comments near in the end everybody was going crazy like yes like I totally missed these comments so he had like people going yes Salani of 5 4 3 2 1 even Astron was counting down nice I love that oh wow Emmet Tyrone see was conning down he's like one Azran is like let's go legends beautiful link was there he's like yay learning from you too best of the best I love it as you guys know all this love really really baby she's no poor guys yeah Astro asks sunny can we use firebase and want to create a web app for our clients like creating crud forms using firebase and not sequel and node that's a really good question for you cause II what do you think yes yeah exactly you can definitely have you can definitely have crud functionality in firebase but think in one of the apps that we built we actually in the to do app we completely showed that the quad functionality in firebase but yeah you can definitely have that and then and if you check out a few live streams back we've got all of that so yeah so you're so good okay Mac times 3000 thank you looking forward to learning from you guys and Daniel's like clicked on it awesome you guys hopefully checked it out Abdul Basit is like big work love that a MRSA amazing guys hopefully guys checked out the app as well and had some fun with it yeah but guys at this point thank you so much for watching we love you I am starving so I have to go and eat I'm gonna grab some food and send you any sign off message I just want to say thank you so much guys for your support you guys were amazing this video and there's so many of you guys were so attentive and laserfocused and it's just so amazing to see and it makes us guys really just want to carry on doing this so I hope you guys love that and thank you so much for watching that and a big big happy birthday to Kazi that's all just dropping some the sister for machinegunned of comments in that section right now thank you really appreciate it I love this comment but law says you guys are so awesome you guys should be rated the best what I've gained here I don't think I gained this knowledge in the next two years and he says this is really react in its simplest form yes guys that's one of the things that you will learn on this channel we take these concepts we'll make them extremely simple for you and then teach you how to make an income with those skills if there's one thing I want to leave you guys like what's your next step is guys if you have gotten value from this and you are excited about all of this I want you to very seriously consider jumping into profit with JavaScript which is our program will really literally teach you all of these skills and all of these apps but the most important thing is like we handhold you actually landing jobs but there's freelancing jobs or fulltime jobs or whatever it is so if you are serious about like improving your skills and landing jobs and starting to make money with coding then definitely jump into that course definitely make sure even if you guys are on the fence go check it out and give it a read because I think you realize that there's so much more value as opposed to what you're normally used to encoding courses or boot camps we give you very personalized feedback guys and you literally have a media access to like trying to me tactic Ozzie everyone is literally there your fingertips to guide you along from start to finish yeah yeah yep awesome and all the information about that course is on that page to click that link in the description below it'll tell you how much it costs what's the program and all of those details but just make sure you go and check it out and let's see if I have it here I don't but yeah just definitely go and check it out you guys awesome thank you guys love you guys really really appreciate you thank you for being here and part of this community and on this live and just giving us so much love we love it and we'll be seeing you guys everyday on these lives and so we'll be seeing guys hopefully tomorrow that's it yeah this cause II I love your face and that is funny love you guys peace out we will see you in the next video peace
