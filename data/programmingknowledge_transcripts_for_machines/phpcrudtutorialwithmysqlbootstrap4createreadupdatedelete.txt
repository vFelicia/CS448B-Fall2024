hey what's going on guys welcome back to programming knowledge and this is another video tutorial series and in this particular series were gonna be building an application a very simple application this application will enable us to create read update and delete a particular record in our database so if you're interested and want to learn more about this project stay tuned and surely I will give you all the steps needed to create this particular application so if you're new here in our channel please consider subscribing and turn on the notification bells so you get updated whenever we have a new upload so let's go directly to the main content of this video and here we have the expected output of our application so here we have the table displaying all the records of users so for now we have only three records available in our database and we have few options here so for example we have the recycle icon to enable us to delete this if you want to delete this particular record you can delete this if you click on this recycle icon so click and then you will be presented with this confirmation are you sure you want to delete this user so if you really want to delete this user so you just have to click on OK and there you have it user deleted with success ok and then we also have the full name is enabled with a link so if we try to click on the link we will be they're redirected to another page which is the Edit user so we have here the IDs we cannot edit the ID but we can edit the full name and email address of this particular user and of course here at the left side we have the option to add new user so if we try to add a new user here so say for example the name is John Doe and John Doe gmail.com and click on save so their user with success and we have a new user which is John Doe and we have the email John Doe at gmail.com so this is the expected output of our project I know this is just a very simple application but it will help you get started with PHP jQuery and other underlying technologies that we're gonna use here so this is how the files are organized with this project so we have here the directory for classes directory for CSS database directory for includes and GS and of course this two important files which is deformed at PHP and index dot PHP so under classes we have two files which is data based at PHP and user that PHP so I'm gonna be providing you the starter files for this project so you could follow me along with this tutorial so you can find the link in the description below you can download the files or the starter files but for this project and you can follow along with this tutorial so before going any further with our project I'm going to show you first the structure of our database so what I have here is programming knowledge as the database name and the table name is crude underscore users so that's C R UD underscore users and the user or the crude animal users table has three attributes namely ID name and email so the ID is the primary key with the type in and the land is 11 and of course the auto increment is enabled for this particular attribute and of course the second one is the name the type is varchar' of our car which is the land s100 and of course the same with email the land is 100 and type is were chartered worker for this particular attribute email so that's the structure of our crude underscore users table and all our records will go here and for now let's go back to our editor and start working with our project so the first thing that we're gonna need is to set up our database dot PHP so we're going to create a database class so as you can see I have here the database that PHP file and we have a class NIDA base with five attributes for the host name the database name the user name password and this connection variable or connection attribute so we have you the method for the DB connection so we have try and catch clause and of course this is the standard way of connecting to our database we're just going to supply all necessary information such as the host name the database name the user name and the password and of course other properties or attributes needed for this connection which is for now we have the PDO attribute error mode is error mode underscore exception and of course video the second attribute is the MySQL attribute initialize command which has set names utf8 as the character encoding for our connection so that's the basic connection and we're just gonna use this class to connect to our database and of course we're gonna include this or require this database class to our user that PHP class so in this file we're gonna require the database class so the first thing is required once and then database that PHP so we can now use the class database in our user dot PHP file so as you can see we have here the class user and inside this class we're going to add several functions such as the constructor the function to execute queries function to insert function to update function to delete and of course another function to redirect by using a URL so the first thing the we're going to add here is the attribute which is private con and of course the constructor for this particular user class so public function underscore underscore construct okay and then curly braces open and close curly braces inside here we're going to define or create an object for our database class so database equals new database and of course this database we're going to assign this to a new variable which is DB equals database and of course the method to connect to our database matches we have DB connection and then open and close and then let's just assign our attribute connection so this one equals DB okay so another function which is the function to run our s SQL queries so public function and then the name is run query and this accepts SQL statement and of course we're just going to define the statement statement and then the attribute which is the connection and call the method prepare to prepare the statement that we're going to execute and then of course return the statement variable okay so let's just leave this function for now and then we're just going to use this function later on in our project so another function that we're going to create is the insert function so this will be another public function then insert and of course this function accepts the name and of course the email of our user so first let's I the try and catch class for this function so exception e ok so now we have the try and catch and this should be video exception and whenever we have an exception with our code we should display this exception by using the e and then getting the message by using the get message function so right here we're going to define the statement and then we're going to use the connection and call the prepare method or function and supply the SQL statement which is insert into table name which is crude users and then we're going to supply the attribute or attributes which are name and email and the values should be named and of course email okay and then of course we need to bind the parameters that we're going to use so statement and then the function bind parameter and of course the name and then of course the variable name the same read the email and this should be email and of course this one should be emailed and then stmd we're going to execute the statement and return as DMT okay so there you have it we now have the public function insert that will enable us to insert the user by using name and email attributes so last time we have created the database that PHP and the database class so we already have this deep connection function and all the other details on how to connect to our database and also in the last video we also have created the insert function and the construct function of the user class so in this particular video guys we will update this update function so we're gonna be dealing with this particular functional also this two functions below which is the delete and redirect URL method so first let's just start on the function for update so let's just add the public function and then update in this particular method or function guys takes three parameters which is the name okay and the email and of course it's ID so of course this is going to be pretty standard format we're going to use here we will add the try and catch block so this is gonna be a video exception and inside the try catch or the try block we will be adding the statement and of course we're going to use our connection right and then repair and we'll just have to type in the SQL command which has update so we're going to update the users okay so set name equal to name and then of course the email will be equals to email and we're ID equals the supplied ID so here we're gonna be using the statement and then we need to bind the parameter which is for our number one is the name course so we'll just have to copy this line for the other parameters so the second will be for email okay and then this one also for email and then this is for our ID okay you just have to make sure guys that the name here all this is the same with the what we have here in the SQL command so so if you are or if you're having the name here so make sure it is the same with this parameters in the bind bottom part so just to make sure that it is clear for you that you need to have the same keyword from here and here so after this we need to execute our code so we're gonna calling the function execute and of course return the statement that we have here on the update function so that's pretty much it for the update function so we have the try and catch and also the statement and binding the parameters and executing in the last is to return the statement and of course if something bad happens here we need to display something which is we just have to use the eve area ball and the get message for us to have a very meaningful message if something went wrong here at the top so there you go we have the complete function for our update so whenever we have to call the update or update the value for our users for example the name the email so we just have to use this function so another method that we're going to define here is the delete function so public function delete and of course this particular function takes in a ID so there you go and of course as I've mentioned before we need to have this try and catch statement so that we will know or the application will not exit abnormally so there you go and then e horrible so after that one I just have to copy this line and paste it here okay so I noticed that the color of my code changes because I think I mess up with the double code here so I just have to add here and there you go so inside here we're going to define another variable which is the statement and using our connection we're going to have the prepare function and of course our SQL which is delete from crude users which is our table name and the ID so we're IV equals our parameter ID so statement and then we need to bind the parameter and ID so I think I also type it here it should be small P okay and of course I just have to return the statement here so there so that's our function delete and last function that we're going to define here is the redirect method or function so public function click for public function redirect okay and this particular function takes in a URL and their location which is the URL there we go so that's the user class so as a sort of review we define the constructor the run query function we also have the insert the update and delete and also this last function which is redirect so the next file that we're going to modify next is the form that PHP so form that PHP file is where the adding of users and anything of users happen so we're going to add the form inside the main element here before that we need to add the heading one element that says or edit users and this particular element has the style we're going to add the margin to top and set it to 10px and of course after that one we need to add the paragraph that says required fields are in asterisk it's just assess that all the fields with asterisks are required so basically we're just telling the users that you need to supply or they need to fill up the required fields ok so after this we need to define the form for no let's just remove the class and also the action ok and after this one we need to add a division or a div element with class form group ok and of course we need to have the label for our ID and of course it says or the ID or the label for this as ID input type text and the name is ivy we're going to add the idea for this particular element which is of course value ID and I think the value for this now we'll just leave it as empty and we'll just set this input into readonly because we're not going to edit the ID so the only values that are editable as the name and email so I think we just have to copy this one for our name and one for our email ok but I forgot to add a class for this so this is going to be form control so I'll just have to copy this class and paste it for the other inputs and of course this particular particular label is for name so name and of course the name for this particular element is name and the ID is tidy so it should not be readonly and as for the value we're going to go back to this later on for setting the value for this particular input so the same thing with our email so it's going this is good this is going to be for our email so the label for our email and of course the name is email and IDs of course the email so the same thing with the name it's not going to be a readonly and the value is empty for now so another step is to add the placeholder for this email so placeholder is say for example John Doe at gmail.com and the this particular field is required and of course the max length for this is 100 so there you go another for this name input we need to have this required attribute and max length of 100 and of course we need to also have this place holder for this particular input element so this is going to be the first name first name and last name okay and we need to add this to have the asterisks for this fields to signify that it's that these particular fields are required so after this we need to add the button for our forms or input type button and the name of this is BTN see the value is of course save so this particular input button we need to have the class so it should be with class BTN and BTN primary and another class mark margin bottom and value is two so for now let's just go to our browser and try to preview our form that PHP file so this is our website let's just refresh this and try to click on this add new so this is our website if you try to click on this add new option so we now have the form we have the heading 1 add or edit users required fields or industries so we have you the ID which is readonly the name with asterisk and also the placeholder first name and last name and email and we have the email input and of course the submit button so in this particular tutorial guys in this particular video we're going to continue working on with the form dot PHP file and include or integrate the user class that we have created from the previous videos so let's go back to our code editor and start working with our form that page be fine so in this video we're going to add the logic for handling if the user wants to add records or want to add users to our database and also we're going to add the logic handling the Edit editing of certain records from our database so I think we're going to start with the post variable so in this particular logic we're going to handle the save or saving of users to our database so we have here the button name as BTN Save so we're just going to check if that particular name of the variable is set in our post variables so if we set the post and of course the name of our button ok and open and close parentheses so it just means that if the user submitted the form with our button bTW and save then process this logic inside for adding the user to our database but first let's just change this type or bottom type in to submit instead of button ok to ensure that the form will be submitted if the user clicks on this particular button so let's go back to this logic and try to setup the handling of inserting records to our database so first let's just get the value of our name so we're going to use the strip tags for that and of course the name of our input variable or I mean input element so this is for the name and of course we need one for our email so let's just copy and paste the same line and just change this into email ok and try to align this and of course as always we need to try or we need to add try and catch logic also or lines just to make sure that our software our project will exit normally okay and if ID is not equal to null then we need to make sure that we're going to update the users but first I think we need to set up or we need a new object of our user class that we have defined in our previous tutorials so before we're going to use the user class we're going to require it first so require ones and then of course the classes and user data HB so that file contains our user class and let's create the object of our user so object user equals new user ok and then we can just use this particular object here in our logic down below so next again if the ID is not equal to null then we need to make sure to update the user ok object user and then update and this of course this particular method or function we have already defined it in our user dot PHP so update and it takes three parameters the name email and ID which we're going to supply it here named email and of course the ID for that particular user and after that we're going to read the req object user redirect to index dot PHP index dot PHP and let's just set the query variable update were updated so as you can see also the rhetoric function we already define it here in our user that page with class so function redirect and if the ID is not equal to null or if the idea is null then we need to insert a new user so object if object object Jack user insert and of course the insert function takes in two parameters which is the email and the name and after that we're just going to redirect the page into the index dot PHP and update this query variable into inserted okay and otherwise we need to read the req to index dot PHP and say that there was an error during the processing of inserting the user to the database and of course we need also to display it's if something happens so our logic of up so get message okay and that's it for our adding the user to our database so again we also need to work on with the editing of user okay so here you need to check if the user for ID edit ID of the user if the Edit ID query variable is set we need to do something and set the values here in our form so as you can see now that the values here in our form for example the name so it's kind of empty for now so let's make sure to add values to this if the Edit ID is set so first thing that we're going to need is to get the ID so okay and the Edit ID and we're going to define a statement here statement and of course using or object user we're going to run a query again this particular function we have already defined it in our user that page with user that PHP file under the user class so this particular function takes in a warrant as SQL statement so select all from the table name which is the crude users we're IP equals the ID that we're going to supply then after this line we need to execute the statement by using the execute function and array array for our ID okay and we need to get the user wrong user equals s TM T and then fetch and video fetch associative very Hey there you go and then we need to end a statement here else we're just going to set the ID in to known and of course the role user null as well and when now we can set the values from or we can set the values to our form if the Edit ID is present or is set so here at the forum we need to make sure that the form is populated with the correct values so input type text with our name I did this is for the input variable or input element ID so in here we need to display of course the idea of our user so print and then draw a user and then we're just going to get the ID and the same thing with the others so let's check for now values and instead of ID we're going to use name for this and also this we're going to use the email email value okay so we have not yet tested our script but let's just continue working on with this index not PHP and try to display all the users that we have at to EDD so later on we're going to have to test the project if all the things that we have worked works and try to see if there's any problems with our logic or anything so for now let's just continue working on with this index at the HP and try to display all the users from our database so the first step that we're gonna make is to require first the user class so again because we're going to use this class to manipulate all the necessary things that we need for class for the users okay so new sir classes inserted at page P and we're going to add a new object out of this particular class user so object user was your user and here we need to run a query for us to get all the users that are saved in our database so here I think inside here and then we need to have we need to add a table for this right so before that we're going to add a division or their element and you need to have this class table responsive responsive and inside this div is the table actual table and this table has to have this plus table and table stripe okay and table SM and we need to define the table head for this which contains a table rock for our headers okay so th this is for righty and the course before ring and the email email there you go and we're just going to add another MPP boom head for this so this is actually for the actions say for example if we want to add it or something so we can add for this particular column a value or a bottle something like that if we need to so after the table head we need to run the query first to get the users from our database so the finder query and inside this is select all from good users and the final statement we're going to use the object to run the query there you go and we're going to use the query that we have already defined and then here we need to execute the statement okay so after this we need to define the table body of our table of course and we need to check first if we have something or we've got something from our statement so if statement raw count is greater than greater than zero which means we have users who are rehab already users that have been added to our database so if the user or we have users then we need to execute the fetching of the users are the actual users so raw user and equals the statement fetch and video fetch associative array and of course opening curly brace and this also and first we're going to arrange this first and we're going to close first this statement okay below I think it should be here mmm here right about here so HP and close the while statement and of course we're going to close the if statement okay so after that we're going to if the user has or if the statement has Rose then which means we need to populate our table so first we need to define the table row first okay and also the table data so the first thing that we're going to add here is the ID of the user so this will be for ID so pin row user and then of course we're going to get the ID okay and the second one will be our name okay so raw user and the name but for this particular table data we need to do something also for editing or user so instead of playing displaying the name we need to add a link that links to our form that PHP file and we're going to supply the ID for this link because as you can remember the foreign dot PHP file can accept edit underscore ID which signify the idea that we're going or we're trying to edit so form that PHP and then we find the eddie underscore ID equals PHP and we're going to paint the ID of our user there you go and of course we need to close our link so right about here you have to close the deal which contains the name of our users so whenever we click on this particular user name it will be redirected to form that PHP that contains our setting the edit underscore ID and if the edit underscore ID is set then that's the time that the form will be populated with values are the ID the name and the email so let's go back here and of course now that we have the name we also need one for our email so this one is for our email and we need to add another one for delete so of course we want our project to have this delete capability or functionality so whenever we click on this lilit function then we're going to there's a dialog box or a dialog that says or a confirmation that says do you really want do you really want to delete this particular user so if you want to confirm then the user will be deleted okay so I think we're we're just going to copy and paste this link here and instead replace this into this link and instead of form that PHP we need to set this into index dot PHP and of course the theory variable into delete underscore ID so we're gonna leave this row ID here and instead of using the name we're going to get or use the feature of bootstrap to display a trash icon there you go so if we try to refresh our page right now so let's go back to our browser and try to see our index dot PHP so go back to index dot PHP and here we have index dot PHP and as you can see we now have records to our table but it is not formatting correctly okay so let's go back to our code and try to edit and try to figure out what's wrong with our logic because we know that we have already the record but it is not aligned correctly with our columns form full name in the actions here for our date so let's go back to our code editor okay so we need to change something here so instead of separating this table records for table data so we need to make sure that all the table records or table data belongs to this particular table record so there you go so table records and all the table data inside so save and refresh this page so there you go we have the data that comes from our database so now let's try to add a new record to this form or this table so go to the form that page B by clicking on this add new icon or option here and so the first thing that we're going to input is the name so for example we need we will just name our new user as Jake Jake number and the email is Jake nomer at gmail.com and save so as you can see the Jake number has been added so this particular table but we don't have the prompt that the user has been added so we're going to work on that so the first thing that we're going to add is the user is prompt so say for example we're trying to add users so there should be a display here that says that the user has been added successfully or whenever we have already deleted the subject or to the users then there should be a display also for the the user has been deleted successfully or if there's an error and also if the user has been edited excess fully so we're going to all we're going to add all that in this particular video so let's start let's go back to our code editor and try working on with our index that page ok so right about here we need to add all the prompts or all the display if there's an action that has been done in our project so if we added users if we add the users or if we have deleted the users or if there's an error of any actions that we have defined or we have done in our project so the first thing is we need to open up our page tag here and check if the period variable for updated is set so the first event or action that we're going to check if there's an app date so this is this query variable is coming from the form dot PHP so if you try to go here in form dot PHP and we have here after editing or updating the file or the user we're going to redirect the user into index dot PHP and we're setting up the update that query variable so here we're just trying to check if that particular variable is present then we need to display something so echo and then define the dip here let's just close this div first and add classes to this so class we're going to use the alert coming from the bootstrap so alert and this alert is of type info and alert it should be dismissible this mis'able fade and show and the role of this particular element s alert okay and inside this we need to define a strong message so strong user and update that with success and we need to add a button to our alert so far on this is actually for closing the alert so button and then we're just going to close this right now and the type of this should be course button and this should have the class of cloves and data dismiss again guys this is the power absolute stop technology so if you want to know more about bootstrap technology so we have plenty of tutorials in our channel you can check that out and try to learn this awesome project bootstrap so a label should be force close and straight contain also span and close this as well and try to add another attribute they should be inside these fine gentlemen there you go and here is the icon for our nose button so times there you go and we'll just try this for now so save index dot PHP and let's try to go to our browser refresh the page and let's go to form that PHP by clicking on this record so we have here a error for us so form that page be on line 15 song called call to undefined function fetch on line 15 so we're going to try and check if what's the problem with this particular function so for line 15 so there you go row user and we miss the symbol greater than sign and we just need to refresh this okay and say let's go back to our back and refresh so there you go we have the user with IDs ID equals to 7 so the values for name is Jake Nomar and the email is Jake number at gmail.com so for example we don't like the the last name for this so Jake we're just going to use Jake Cuenca for now and save so there you go we have the alert that says the user updated with success so we know that our alert function or alert logic is working so we're trying to do the same thing with update I mean a delete in error and also the whenever we have added a new user okay so go back to you next up HP and for us to have or for us to save time I'll just copy and paste this line or these lines and try to paste it here else if it said deleted so we're just going to change the values also here user diluted with success there you go and of course we need to add another one for inserted else if inserted is defined then this will be inserted with success and another one for error as a URL query error is defined then it means eebee or database error something like that and try to change this message also so say for example something something went wrong with your action try again so for now let's try this insert that if it will work for us and maybe delete that later on so go back to our and try to refresh the page so insert it let's try to add a new user so this will be Jean for James James Jones and the email is James Jones at gmail.com there you go and try to save so there you go user inserted with success so we know that the alert for our data insertion is working so another one is for the delete ok so I think we we already have defined the link and as you can see this is working link but we need to add certain logic for this for the deletion of user should work so let's go back to our quota to code editor for now okay so in our index dot PHP we need also to try to delete if the user click on the delete button so if is set the get variable if get delete ie is set then that means that the user try is trying to delete a certain record from our database so get and of course you need to supply the delete ID ID there you go so time catch again the PDO exception okay so and try to display video exception the message from the exception of course and inside here we're going to check if the user ID is not equal to null because there's no point if the user ID is now there's going are there's no point of deleting it from our user and it will cause errors if the ID is not a force or forces we're going to check if it is none so if object user delete and of course we need to supply the ID for that and open and close parentheses an object user we need to use the redirect function and redirect to index that PHP but of course we delete that query variable so delete that and before anything else also we need to add a confirmation if we user trying tries to delete certain record so for now we're going to add a confirmation class for this particular bar and delete so that we can prompt the user if he accidentally click on that particular a delete button so class and Confirmation there you go and then we're going to define here the query or J quick information so if the class confirmation and then if the user are I mean the jQuery detects the click on confirmation class then we can return are you sure you want to delete this user and the user has the option to go or continue with this action so save index that page me and try to refresh our page so after refreshing the page I got this error and expect a dollar sign on line 20 so we just need to add a variable name here so should be okay so save that index at PHP and go back to our browser so let's try to delete a record here so I think the second record is good so click on this and a confirmation will be displayed are you sure you want to delete this user and then click on ok so as you can see user deleted with success but I think what I think the user is still there so we're going to check what's wrong with our logic so here we're just going to try and display the ID if there's an ID here so or if the ID is set here so ID for them was to ID and we're going to disable first 30 direct for now so we can see if there's something wrong with our logic so let's go back to our browser refresh the page and click on this and okay so my program expects these two parameters so as you can see we have an error here user that PHP on line 55 so we'll try to try to figure out what's wrong with fiftyfive so let's go to user dot PHP and online 55 we need to figure out so here I think we need to make some changes so as you can see my param expects us to have two parameters but we only supplied one which is the ID so we need also to include the placeholder for that and I'll just copy and paste this here and also I've noticed that I spelled B from keyword SQL and also I missed the execute okay so I think it should do or it should solve our problem so before that also you need to change the index dot PHP so uncomment this line and remove the VAR down test and let's try to go back to our browser and check to see if now lately Todd and it is working so refresh the page and try to delete certain record by clicking this icon and okay so there you go user delete edit success and we now only have four records and we can try another one for this okay and okay and you can view the information of this also and redirecting to edit dot PHP with all the information included for this particular user and here's all the users from our database so I think that concludes our fivepart tutorial series on this particular project so we can now add user we can now read the user we can update and of course we can delete the user so thank you for watching and if you're new here in our channel please consider subscribing and press the notification bell so you can get updated whenever we have a new upload thanks