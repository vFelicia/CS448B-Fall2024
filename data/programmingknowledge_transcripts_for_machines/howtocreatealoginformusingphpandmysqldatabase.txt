hey what's up guys welcome back to programming knowledge and this is a video on how to create user login in PHP and this is related to the previous video series and how to create user registration form so in that tutorial we have discussed and learned how to create user registration form and we define its database so we're gonna be using the same database so the database name is user accounts and it has a table name users and the users has ID first name last name email phone number and password so the ID is auto increment and it has a it has the size of the lovin the first name is bar chart or bar card with 100 SD Len last name the same length and the same type email the same also phone number we have the bar chart work card 50 us length and password the same 50 as then so as I've said we're gonna be using the same database so you can go ahead and create your own database with user accounts and then users table okay and then all this attributes ID first name last name email phone number in password so we'll be learning how to create this particular login page and we're gonna be using the email and password for our login credentials and I will be showing you all the steps so that we could get up and running with this login page so for now let's create our new project so go to your local host directory and create a new folder and let's name it user login okay so we'll be defining few things or if you files here so we have the first file will be like in the page P then the second one will be config dot PHP and we also have the index dot PHP and also one for lock out that page okay and we'll be placing our images in IMG folder in CSS into CSS folder so open up login that PHP and let's define date HTML structure for this one so we have a basic structure of our login at page P and for the title let us say program knowledge okay we need to include bootstrap jQuery and font awesome in our project because we're gonna be using all those libraries to beautify our HTML structure because for now if we try to visit our page it's it's empty so let's go back to our browser and search for the booster CDN also jQuery CDN and also front also a click on this first link for bootstrap CDN so you have different files that we have or we have different files that can be included in our project so we have the complete CSS so click the copy and let's go back to our login dot PHP so link and of course paste the link that we have copied from the bootstrap CDN page okay and go back to our browser again we need to include the bootstrap minified that CSS it's a copy and go back to Kent or login dot PHP we need to make sure to include this at the bottom or before the closing body tag and for the SSRC paste the code that we have from the bootstraps idiot page again let's go back to our browser and let's click on this jQuery CDN and for now let's use this secret three point two point something version and click on this with minified and club b or copy this to fit board and go back to our code and then paste it about the bootstrap to mean that javascript okay so let's just make sure to properly format our code and the next one will be the font awesome okay click on the font awesome thing the first one and then start using free so we have here the link that we can include in our page so just click on this button okay and go back to our code and make sure to include this below read that CSS a and we need to define a container here so div with a glass container and of course another glass or its height as 100% it's a specific or stop signs and another div with the class T flex with another clip justify content sender and of course again the H 100 and another tip read the class of user underscore art and another div deep flex again with justify content center class deep fix and justify content centered and inside here will be the logo for our login page as you can see in our sample page here so we have here the logo so we will define the logo inside this div so that will be inside another dip switches with the class of brand underscore logo complainer then we will define our image here for the logo and let's on a glass for our logo which is brand logo and I'll text will be programming knowledge logo okay and for our logo I have created a very artistic I have some in my microwave abilities to create this very awesome logo for our legged page so you could create your own logo just make sure to make it circle so it will fit in our login form so go ahead so go ahead up and place your logo into or IMG folder in our project okay so make sure to paste this logo or your logo inside this IMG folder and for the source of our image let's type in IMG and of course the file name of our loan over just for my case IMG / logo dot PNG and so let's create a new CSS files so that we could target this class and also this class and we will define styles for this so link and for our reference it will be CSS and styles that CSS okay so we have to create this style that CSS inside our CSS folder so I create my new CSS file and save it inside the CSS folder this will be styles that CSS and let's star get the body in HTML so this will be margin zero cutting is zero hi hydrant height will be 100% in background color it will be 63 ABC 10 this should be back as important okay and another for a user card and also the brand logo container and another one for the local okay to save us from time and just paste and be the rules that applies to this classes and you can pause the video and copy all the classes that order lucid I'll be pasting in here so we have defined the height for our user card as 400 the way it will be 250 pixels margin top auto margin bottom auto background will be f 3 9 0 positionrelative display flex justify content center flash flex direction column and so on all you have to do is post a video if you want to copy all this Styles applied to this user card class and for the brand underscore logo container we have the position as absolute high it will be 100 170 px and also the will top will be negative 25 px border ages 50 percent background will be 60 a3 BC and padding will be 10 pixels textaligncenter and for our logo will be 150px are pixels and with a hundred fifty pixels also very buttery just as 50% and border will be to excel so solid and white so we'll try to save and preview our page save our style that CSS and make sure also to save your login dot PHP and go back to our server browser and reload so I think the CSS rules are working so in this tutorial we'll continue working on with this login form and we will be adding different inputs so input for our username and input for our password so let's go ahead and open up our login that page become so let's pick up where we left off so this is where we ended last time we added our own logo for our signin form and let's go ahead another tip for this the class defects and let's add another class which is justify content center we'll be adding another one which is for container and we will add also styles for this for container later on ok so inside this div blips the point or for and of course inside this form let's define all the inputs so first let's create a div with input group of in and play this part and class of input root X inside this will be adding an icon which we will be using font awesome so I and then in class 3s and then F a user and right after this then let's add our input with the type text' name will be username and the ID will be horse username and also add class to this which has poor control in the user and this will be a required fill and before we forget let's rip this one into another div so two input input good okay and close this live here add class status which smb3 this is mainly related to good sir this in v3 this is for the spacing of our division or depth okay so we'll just Kapiti this input curve for our password also so input group this will be for the password our user so the name will be password ID password and also instead of input user it it should be input class and let's just change this into two and let's add another formula so do in the class form okay and then another live this will hold the remember me rotten if you're familiar with that custom checkbox okay one sec custom trackball CS so inside here let's type in the input type which is checkbox course and/or the name it will be or let's not add link to this but be good anyway let's just add me so remember me and the class will be custom control input and with the ID custom control custom control in line and let's just add label so with the class cost function bingo and inside here let's just I remember and of course this will be for our custom custom control in line which is this input checkbox so let's now add the button for our signee so after this div which is with the class for container let's add another one which is with the class D flex and let's add another class for this justify content contain content center in NP three and it's just a class or custom class for this like entertainer and let's add another in a way which is a lot on its own so with a type button and with the name the name will be one and ID is again let's I've as to this which is V TN and then custom class like in ep N and the value or the displayed text will be lucky okay so the next step is to add the sign up button also or link again this is optional but further let's just add this to our four empty 450 1 4 and inside this div let's define another div with class defects justify content center and another custom custom class which is links and inside this div let's just say don't have an account so class April 2 and X would be signup so as I said this is only optional if you want to implement this signup you could put in the links and for example the link will be for example registration that page so you could put the link here and another day for forgot password defects in justify content center inside this then let's just define a link to present the password so forgot your password click that so now that we have added all the elements to our form let's try to preview our page in and see if it looks good in our browser so save our file login dot PHP and go back to our browser navigate to localhost and of course user lucky and the page that were concerned with is the login dot PHP so we have here the newly added elements we have the input remembering me option and we have the links for sign up and forgot password so as we can see they're not set yet or they're not looking good yet so we need to customize the CSS for our elements so let's go back to our file ok so one thing that I know this earlier is the they have the same icon which is the user font awesome user so instead of user for our password let's just type in the key so let's try that saver fine and you'll dr. browser and refresh so instead of these or icon this will be a newly added icon which is the key that signifies our password okay so let's just change this into type password instead of text let's say password okay now let's go to our Styles that CSS we have defined different or few classes here that we need to target in our CSS to make sure that our ligand form looks again you can pause the video and try to copy all the CSS styles that were going to define here so number one will be for container with margin top 100 px or higher pixels e dot e log in a p.m. will be with 100% background will be C zero three nine to be and tag this as important color will be white and this will be important so another one will be love II media focus box shadow will be done and tab this is important as well and the outline will be 0px in ten as well the log in to dinner we have padding0 to REM and and vertex so background is zc0 p90 B or ten color will be light and mortar will be 0 this will be identical order radius to your point little hi ru C are 0 0.25 REM and this will be important as well and then input user and put pass this is for our input in our legged form or username and password so focus box shadow will be men and this will be important as well and outline will be 0px and the last one will be custom checkbox weight custom input or control input input and check then custom control then label before it will be background color background color will be also the C's 039 to be fact it's as important as well so save our style that CSS and go back to your browser and refresh the page so as you can see we now have a nicelooking laggy for so in the previous tutorial we have added key elements and also added these styles of this login form so now let's do the quick fix for this login button extending way beyond the user and password elements so let's go back to our login that page become okay so here in our code I think we have mistyped the class for lock in container so instead of let's make it an underscore so it would reflect or it will be the same with the flag and container that we have defined in our styles that CSS so go ahead save your file back in that PHP and go back to our browser and refresh so as you can see the login button is now aligned with the two elements or the username and password elements at the top so let's continue working on with this plugin form and work with our actual logic to allow the user to log in in this particular login form so before going any further let's try to move this form or the end form tag so we would include the login button so at the end of our hold just before right before the end body tag let's add another script to work with our login logic so inside here let's define the unload function of the jquery right let's try it frist if it's working or not so alert so same verify logging that PHP and go back to our browser refresh the page and we have the alert that's saying alert so next let's try to select our button so our button has the glass okay so if this button is good we will do some logic inside this function so let's try this first and let's try to see if this is working or not so login that PHP save and go back to our browser refresh and let's try let's try to click on this login button so it's working okay so let's remove this and let's define a new variable here which is valid let's just check if the validity of our forms is true so if the form is valid let's get the value of our username okay so target our username which is with the ID username and get the value same thing with our password so the same read password ID so the name of this variable will also be password and let's prevent the submission of this form because we're going to be doing the submission by using the Ajax call to a GS login dot PHP file so this part right here let's define the Ajax call ok so the type will be post ok and the URL will be GS GS that PHP and the date of course will be our username and password okay so username and plus in Duvalier username and password and the value password so if this is successful let's display alert first success and if it's not a success of course let's define also our display alert this will be ours or there were errors while was doing the operation let's just change this later okay same we're fine and go to jes login that PHP that's let's just try to echo something here so hello from GS plugin that HP we save J is lagging at PHP and go back to our browser refresh and click on this login button so I think we have learned so let's try to turtle so accordingly type our e.preventdefault is not a function let's try to troubleshoot the problem so accordingly we prevent that default is not a function because we miss the t letter it there so same logging that PHP and go back to our browser again refresh and click on the login button so accordingly accordingly it was a success the next step is we're going to work with our config that PHP to actually connect our code to database or MySQL database so config that PHP let's open the page without here and define your variables so that we could connect to our database so the user for my case is root the password is empty and the database name as we have defined earlier is the user accounts okay let us connect to our database with the video so inside here let's type in MySQL cause it was localhost and our giving name will be equals that TB named variables that we have defined a data semicolon and the character set for this will be utf8 and force need to pass in the user and the password password yes and let's just set a single attribute for this video object set attribute will be for video attribute our mode and of course video on column in error mode will be returned exception whenever there's an error okay so once we have that we could include this to our genius login dot PHP so here because I've been required once the config that PHP and let's try to let's try to use our video object so select all from users for now and and define a statement the empty select of course using the video object prepared and of course the SQL so the result will be denied and then execute let's just pass in a an empty array and if result a result result yes echo success okay else there were errors there were errors while connecting to database Hey so see me comment and let's go back to our login dot PHP so instead of success let's alert the data coming from the GS login dot PHP so lucky in that PHP save and go back to our browser refresh and type in something and click on login so we have an error there accordingly and defined class constant error mode because we have mistyped this error mode exception so instead of error mode with on the all the letters type in so let's just make it e our arm movement so save the config that page we find in refresh our page and click on the login button so we know from GS login that PHP so hurting ly it was a success so in our genius lagging at page P file instead of success so let's define a new variable that we hold all the data coming from the database so fetch and then video fetch associative array and then let's just bar them the user variable for now and save the file go back to our browser refresh the page and type in somebody's and click on lucky so we have the record with the first name Jane and the last name doe with Jane Doe gmail.com as the email and phone number s there also class where it is Jane Doe so it's working okay so instead of selecting all users we need to filter out with the username and password but we're going to use the email app username for now and the password password equals a make one so user name this will be the values coming from our login form oops which is username and the same with our password it is just passing in the password hey bastard so instead of passing an mtheory let's pass in the username and the password and define an if statement statement or SD NP select row count is greater than zero meaning we have a success we found the user in our database else there is no user for that combo or something combo enclose our statement instead of success let's just echo a value one and we'll check here in our login dot PHP if the value is 1 if the response is with the value 1 so you need to trim the data coming from our Jes login dot PHP and test check a if it is equal to 1 and let's redirect our user said I am out we know that location feature equals the index with tobacco index dot PHP and set the delay for about two seconds right save or lag in that PHP and let's go back to our genius lagging at PHP so we have here line number four echo hello from JJ as lock it up in PHP we need to remove this so say J is lagging that PHP and go back to our browser refresh so for example you have Jane Doe at gmail.com in your database and you just need to type in the password and then click on this login button so we have the value coming from OJ's login dot PHP as number one it signifies that we found a user in our database bed with the combination that we entered in the field username and the password so ok and wait for a few seconds so it's redirected to our index dot PHP but for now if we try to click on this back button we could see again the login that page before which means that we need to set the session so that every time we try to log in with our username and password if we are authenticated then we can stay for it for that particular page or we can stay in that index dot PHP instead of lugging that page where every time sewing or jeaious login dot PHP we need to set the session or start the session so session and then start and inside the statement we need to set our session variable and let's pass in our index which will be user login and then let's pass in the user values which is the era coming from our database or the associative array we got from our database so save this and inside the login dot PHP we need to check at the dot so let's open up the page here it goes and let's check a the session with session user liking is set and on header location index dot PHP same and let's copy and paste this one so in our index net page we could also check if the session user login is not set redirect to login dot PHP so we'll just add a element here welcome to index save index dot PHP and go back to your browser refresh and type in your username and password click on login so the user is found on ok so we're not redirected to index that page B that's because we need to add one line to our files so inside log in that page we need also to set a session or start the session because we're using the session variable below and make sure to copy and paste these also to index dot PHP because again we're using a session variable here so index at PHP saved and lagging that PHP save so refresh our page we are automatically redirected to our index dot PHP we won't be able to go to our like in PHP file because the session is set so it's checking if the session is set then stay in index dot PHP otherwise go to login dot PHP there is one more thing that we need here we need a link for us to log out in index dot PHP so let's go back to index dot PHP so we're just going to add the link here and this should be indexed at PHP and not out equals to true and type in black out okay save in here we need to check if the logout variable is set so if is set get the log out so we need to destroy the session so session destroy and unset the session redirect to our login that page pin hey save our file index dot PHP and let's go back to our browser and refresh so we have here the log out link so let's click on this we have successfully leg out from index dot PHP so we'll try to log in again in index.php by typing in or username and password using or evening so transfer it and then plug in one so we are now at the index dot PHP okay so I think that's all there is to it in this tutorial thanks you