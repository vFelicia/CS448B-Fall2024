so first of all what is docker so docker is an open source project that automates the deployment of applications inside software containers by providing an additional layer of abstraction and automation of operating system level virtualization on linux so that is the definition which is available on wikipedia but really what is docker so docker provides a uniformed wrapper around a software package and this wrapper is called docker container which you can ship or build and inside these containers you can run any app anywhere now docker containers are similar to shipping containers now as you all know in the shipping container the container size is always same regardless of the content inside the container so these container can fit on all trucks or ships or trains regardless of the content inside the container in a same way docker packages a software into standardized unit for development shipment and deployment so let me give you a real world example so let's say i developed a node.js application which depends upon some version of node.js and it uses some database and it's dependent on some shared library let's say and i want to give this software to the devops guy or let's say to my colleague to run it on his computer or on the qa system or on the cloud by devops or in the production system so i don't really care where it runs i just care that it should run when somebody tries to run my software now if docker is not present or any containerized system is not present the normal procedure will be that i give my software to my colleague or the devops guys and he has to install all the dependencies and for example node.js version and the database system exactly like a system on which i have tested my software now if you will just use docker to containerize your system you just need to package your system into a docker container and you can just give this docker container to your colleague or the devops guys and he will just run this docker container on the cloud or a qa machine or any other production system wherever he wants to run it and he can just run your software without worrying about all the dependencies or the environment setup which your software depends upon so nowadays docker is becoming more or less a standard for the containerizing systems and you can find the docker containers everywhere on linux operating system or windows operating system or in the data center cloud serverless application and so on now let's compare docker container versus virtual machines so containers and virtual machine have similar resource isolation and allocation benefits but docker containers and virtual machine functions differently because containers virtualize the operating system instead of hardware and containers are more portable and efficient so when you talk about virtual machines you can see this diagram on the right hand side so virtual machines or vms are an abstraction of physical hardware turning one server into many servers and it is made possible by the hypervisor which allows virtual machines to run on a single machine so each virtual machine or vm includes full copy of operating system so let's say this is your server and on this server you have your hypervisor and on top of your hypervisor you can run different virtual machines so this is virtual machine one virtual machine 2 virtual machine 3 which have this operating system 1 operating system 2 and operating system 3 or you can have the similar operating system in all the three virtual machine let's say now the important thing to note here is each virtual machine includes full copy of operating system the application necessary binaries and the libraries which takes up to tens of gb's of memory and that is the reason that virtual machines can be slower now on the other hand in the container and you can see on the left hand side this diagram so containers are an abstraction on the app layer that packages the code and dependencies together so you have your server and then you have your host operating system and then on top of your host operating system you can run your docker engine and the containers are the abstraction at the app layer that packages the code and dependencies together so multiple containers can run on the same machine and share the same os kernel with other containers but each container runs as isolated process in the user space as a result container takes less space than virtual machine and usually container images typically takes tens of megabytes in size in comparison to the virtual machine which which can take up to let's say several gbs of memory also containers can handle more application and require fewer virtual machines and operating system now when we talk about docker containers versus virtual machines the idea is to use containers and virtual machines together so the containers and the virtual machines can be used together which provides a great deal of flexibility in deploying and managing your apps now let's talk about the docker architecture so whenever you will install docker the docker engine will be installed on your system so docker engine will contain docker cli docker daemon and the docker registry now there is something called docker hub which is a cloud based service where you can share your applications automate the workflow and assemble apps for the components now when you talk about docker two things are really important and these are docker images and docker containers so first of all what is docker container so a container is a standard unit of software that packages up your code and it's all dependencies so the application runs quickly and reliably from one environment to the other environment now when you create your docker container which is essentially a unit of your software it can run everywhere regardless of the kernel version regardless of the host distro the only condition is that the container and the host architecture must match and you can run anything inside your containerized solution so if it can run on your host then it can run on your container that is if it runs on a linux kernel it can run now let's talk about docker container images so a docker container image is a lightweight standalone executable package of software that includes everything needed to run the application that is code your runtime your system tools and the system libraries and the settings so the container images becomes container at run time and in case of docker containers images becomes containers when they run on docker engine so images turns into container when these images runs on your docker engine now it's important to note that your docker image is not a virtual hard disk or vhd it's not a file system it uses union file system and it's only a read only layer also the docker images doesn't have any state so when your docker images runs as docker container inside the docker engine and when you stop these running containers these images will not have or will not save any state so they are stateless so basically an image is a tar file which has a hierarchy and an arbitrary depth and that's how it fits into your docker registry for example docker hub or any private docker registry so this was a brief introduction about docker in this video we are going to see how we can download and install docker on our windows 10 operating system so let's get started first of all open your favorite browser and search for docker but before installing docker desktop application on our windows operating system let's see what are the system requirements for installing this application so before going to the docker.com website i'm going to search on my browser install docker windows which will open this link from dot docs.docker.com forward slash docker for windows and this link i'm going to put in the description of the video also so you can also see all the description here and from here you can click this button which is going to redirect you to the downloads page but before that let's see what are the system requirements for downloading this application so as you can see here for installing docker on your windows operating system you need to have at least windows 10 64bit pro enterprise or education version and hyperv and containers windows feature must be enabled and some other requirements are 64bit processor with second level address translation 4gb system ram and bios level hardware virtualization system must be enabled in bios settings so if you don't have a windows 10 64bit pro version or enterprise or education version then also you can install docker on your windows operating system but the procedure will be little different so for that you can go to suspended products and tools and then go to this tool which is called docker toolbox which is now a legacy for legacy operating systems so here you can just click on the install toolbox on windows button i'm going to just open this link in the next tab and here you can follow the procedure of installing docker toolbox on your other windows operating system for example if you have windows 10 home version or if you have windows 8 or windows 7 then you can install docker toolbox so first of all how to check which windows 10 version you have if you have windows 10 operating system running so for that what you can do is you can just right click on this windows button and then click on run and then just type win ver w i n v e r and then click ok which is going to open this kind of window and here you can find the windows 10 version you are running so as you can see here i'm running windows 10 pro version also the second requirement was let's see the second requirement which is hyperv and containers windows features must be enabled so how to verify that so to check that the simple procedure is just right click on your toolbar windows toolbar and then click on task manager so once this task manager opens you just need to go to the performance section and then you need to verify this section which is called virtualization it needs to be enabled by default it is enabled on your windows 10 operating system so you don't need to do any extra thing unless you have manually disabled this feature so now i'm going to click this button which says download from docker hub and here you will see this web page first so first of all you need to create a docker id if you haven't already have a docker id you can just click on this sign up link here which will open this kind of web page and here you can create your docker account which requires a docker id email address and password and you need to just agree these terms and conditions so once you have your docker id which i already have i'm going to sign into my docker account which is going to redirect me to this page which is the downloads page and from here i can just download this docker desktop application for windows also if you have searched for docker and if you have opened this main website from docker which is docker.com you can just click on get started and then click on download desktop for mac and windows which will also redirect you to the same page and you can see welcome my docker id is shown here so in order to download this desktop application you need to have your docker id you and you need to log in to the docker website in order to download this executable file so let's just click on this button which is going to start the download of this executable file i have already downloaded this executable file so i'm going to cancel this installation and you can see on my downloads folder i already have this docker desktop installer which is around megabytes so i'm going to just double click on this executable file and i'm going to just start the installation so i'm going to minimize this browser and you can see the installation has been started so the first window here is the configuration so i'm going to just leave everything as default and then click ok which is going to unpack all the files the installation procedure is straightforward i guess you just need to click some buttons and docker will be installed out of the box and now you can see after few seconds i can see this docker desktop icon on my desktop and you can see this message which says installation succeeded so i'm going to just uh click close and log out button which will log me out of windows 10 operating system so i need to log in once again so now i have logged in to my windows 10 operating system once again and immediately after logging into my windows 10 operating system i can see this window which says hyperv and container features are not enabled do you want to enable them for docker to be able to work properly i will say ok which is going to enable all these features i thought they are already enabled somehow but according to docker it wants to enable them once again let's say and now i will click on this docker desktop icon from here which is going to start the docker desktop application and i can see this message which is hyperv service vmm is not available if you have enabled hyperv just restart your computer now so i'm going to restart my computer and i will then try to just start docker application once again so now i'm going to click on this docker icon once again and you will see on your tool bar here you can see docker is starting so it will take some time to start docker and i can see this message which says docker desktop is running so i can open powershell and start hacking with docker or docker compose also when you click on this docker icon here you can see bunch of options here for the documentation docker hub switch to windows containers and all other settings here so one thing i will recommend here is to sign in with your docker credentials which you have already created and i'm going to sign in with my docker credentials and after signing in you will be able to see your docker id and the sign out option so let's get started with docker so first of all you can start the command prompt i'm going to just type cmd which is going to show me this option which is command prompt and here you can just type docker hyphen version or hyphen v will also work and you can see the version which we have installed now let's also check if docker is working with the docker hub perfectly fine or not to test this you can just run docker run hello hyphen world okay so just run this command this is the most popular command to test whether docker is running or not or it's able to fetch all the images from docker hub or not so i'm going to just run this command and when i run this command you can see this kind of output so you can see on the first line it says unable to find image hello world latest locally so it didn't find this image locally so it has pulled this image from the docker hub repository so you can see in the next line latest pulling from library hello world and once the pull is complete and you can see the status downloaded the new image hello world and then the latest version of hello world and then it says hello from docker that means everything is working fine with your docker and it's able to run your docker images and this is the first docker image we have run which ran successfully few more commands i can show you here for example you can also say docker images and then press enter and you will see the list of all the images you have on your system so we have just downloaded this docker image which is hello world image so this is how you can download and install docker on your windows 10 operating system in this video we are going to see how we can download and install docker on our mac operating system so let's get started so first of all open your favorite browser and search for docker and the first link which will appear here will be from docker.com so we are going to click into this link and then straight away you can see this button gets started or this button gets started so you can click on one of these buttons and then you will be able to see this button which says download docker for mac and windows so i'm going to just click on this button which will be redirect me to the docker hub website now in order to download the docker binary you need to have a docker account so if you haven't created a docker account you can just click on this sign up link here and then just fill your basic details like docker id email and password and create your docker id and docker account and once you have your docker id and docker account you can just log in with your docker account here on this website so i'm going to just give my docker credentials first is the docker id and then second is the password and now i'm going to just sign into this docker hub website which will allow me to download this docker desktop for mac so i'm going to just click on this download link here which will start the download of the docker now once this docker dot dmg file is downloaded i'm going to just click on this docker.dmg file and i'm going to minimize the browser and you can see this dmg file is opening first of all and once this window opens you just need to drag this docker icon to your applications so it's that simple to install a docker on your mac operating system so once docker is copied into your applications folder you can close this window and open docker from here or you can just go to the launchpad and you will be able to see this docker icon here so you can just click on the docker icon which is going to start the docker on your mac operating system so just wait for few seconds and now you will see this message which says docker is an app downloaded from internet are you sure you want to open it so i'm going to just say open and in the next step i can see this window which asks me to give some privileged access so i'm going to just click on ok and then i'm going to give my max password and now you can see docker desktop is starting on my mac operating system and your you can see this docker icon on top of your mac desktop so i will wait for this docker desktop to start and once this docker's desktop starts we will start testing if everything is working fine in the meantime i can also give my docker id and password to login to the docker using this docker desktop application so let me give my docker id and the password and then i'm going to just say login and you can see i am logged in with my docker id into this docker desktop application and now i can see this message which says docker desktop is now up and running so what we are going to do next is we are going to just uh open the terminal so i'm going to just search for terminal and then i'm going to open the terminal and once my terminal is open i can just check the docker version by just giving this docker version command and then press enter and i can see this long message and here the version information is displayed and then the api version is displayed and all the other information about my docker is displayed here also when i give docker info command so let me just clear this terminal once again and then i'm going to just give docker info command and it's going to give me bunch of information about docker and docker engine and the status of docker engine let me clear this terminal once again and now i'm going to test a docker by giving this command so i'm going to just say docker run hello world and then press enter which is going to fetch this hello world image from docker hub if it's not already present on my mac locally and once this image is pulled it's going to just display hello from docker that means everything is working fine and you can start working with docker now one more command you can use here is this command which is docker images which is going to show you the list of images which are present on your mac operating system and you can see i only have one image right now which is hello world which i have fetched just a few seconds ago and you can see this docker icon here so when you click on this docker icon you can do lots of thing for example if you want to restart your docker then you can just click on this if you want to quick quit the docker desktop then you can click here and there are lots of settings and updates and preferences settings you can do from this docker desktop icon and there are lots of other settings you can do from this window or this menu from here so this is how you can download and install docker on your mac operating system in this video we are going to see how we can download and install docker on our ubuntu operating system so let's get started so what i'm going to do is i'm going to open my favorite browser and then i'm going to search here docker install ubuntu and the first link which will appear here will be from docs docs.docker.com i'm going to put the link in the description also so i'm going to click this link which is the official documentation of installing docker engine community edition on your ubuntu operating system so here you can see the prerequisite of installing docker on your ubuntu operating system so you can see the os requirements and right now i have this version which is 18.04 lts version and if you have the older version of docker or docker io or docker engine installed you can use this command to uninstall previous versions of docker now to install docker you can just scroll a little bit down and they have the very good documentation of installing docker on your ubuntu operating system so we are going to just copy these commands and paste it on our terminal and we will be good to go so the first command is sudo aptget update so i'm going to just copy this command and i'm going to just open my terminal here and then just paste this command and then give my ubuntu's password and then just press enter it's going to update all the repositories and then i'm going to just copy the second command in a meanwhile so this is the second command and in the second command we install the packages to allow the apt to use the repository over https so let's just copy this command and go to our terminal and then let me just clear the terminal and now i'm going to just paste this command and then press enter which is going to start the installation i'm going to press y and then press enter and in the meantime we are going to copy the third command which is to add docker's official gpg key so for that you need to have curl and curl we are installing using the second command so when the second command is finished you will have curl on your system and then we can just give the third command so hopefully that is complete so let's clear the terminal once again and then paste the third command and it's okay so we will move to the next command which is to verify that you now have the key with the fingerprints so i'm going to just copy this and then paste it here and verify this and you will see the similar result which is also shown here when you give this command so now we will move to the next command which is to install the docker repository so for ubuntu you need the first option here which is x 8664. so i'm going to just copy this command once again and then go to the terminal clear this terminal and then paste this command and then press enter which is going to install the docker repository and then in the next step we are going to update the repositories once again before installing docker so here you can see the next command which is to update the repositories again and then we are going to just install the docker so after update we are going to install the latest version of docker engine which is the community version so for that we just need to give this command which is going to install docker ce and docker cecli and containered dot io so i'm going to just copy this last command and then paste it to the terminal so clear the terminal just paste this command and then just wait for the installation to complete so it's that easy to install docker community edition on your ubuntu operating system and if you want to install a specific version of these packages you can give these commands so when you give this command apt cache medicine docker minus ce you will see a different version of docker which are available for your ubuntu operating system so from here you just need to take the version and then replace this placeholder for the version string with the actual version of whatever tool you want to install so for example if you want to install the version of docker ce for example we need the latest version of uh the docker ce then you can just copy this and then just replace this placeholder string by this string okay same you can do for the docker cecli so once this command is finished i'm going to once again clear the terminal and we are going to run this command which is sudo docker run hello world in order to test whether everything is working fine or not and here i'm going to just write sudo docker run hello hyphen world and then press enter and i'm going to give my ubuntu's password and you can see when you run this command it prints hello from docker so first of all what happens is because we are running this docker command for the first time it's going to find the docker locally and if it's not found then it's going to pull your docker image from the docker hub and then execute this hello world image which is going to print this kind of output so if you see this kind of output that means docker is running on your system and also you can check the docker images now so you can just give this command sudo docker which is going to list out all the docker images you have on your ubuntu operating system so that's how you can install docker on your ubuntu operating system in this video we will talk about how does docker works and we will see some commands related to docker and docker images so as i have told you in the earlier videos also you can build your docker images that holds your applications using docker files and then you can create your docker containers from those docker images to run your applications and then you can share your docker images via docker hub or via your private registry now if you want to see this docker flow in the form of a diagram you can see this diagram here so you can create a docker file which we are going to see how we can create a docker file in the later videos so docker file is a file from which you can build your applications into docker images so what happens is you pull some images which are already there on the docker hub and you use those images with your application and you write all that uh code or that script inside your docker file so how will your application run inside a container you write everything in a docker file and then you build your docker file which will create a docker image and when you run your docker image it will be converted to a docker container now let's see some commands related to docker so the first command which i want to show you is the docker search command so you just write docker search and then you give your options for example whatever image you want to fetch from your docker hub you can just write that image name for example i just write ubuntu here so you can search all the images which are there related to ubuntu on docker hub using this command so docker search ubuntu so when you give docker search ubuntu you will see this kind of result in the form of a table and the first column here is the name the second column here is the description third is the number of stars and if the image have more number of stars then it's more popular also you have the column for official so if you see ok under official for a particular image so for example this first image with the name ubuntu is the official image on docker hub and you can also see some description here so clearly uh this first image which is an official image also is the most popular image on docker hub about ubuntu now let's see some options which are related to docker search so i'm going to just write docker search here and then i can give the filter option which we use to filter our results so i'm going to just write a filter here so let's say we want to filter our result on the basis of stars an image on the docker hub so i can just write stars here is equal to 3 and then the name of an image i'm searching for so for example i'm searching for ubuntu here so i will just write ubuntu and this example will display the images with the name ubuntu and which have at least three stars i'm going to just press enter so you can see all the result of the images which have at least three stars now if you give here let's say number of star is equal to 100 so it's going to search for all the images which have at least 100 stars now if you want to give more than one filter you can add this filter option once again so you can just write hyphen hyphen filter and then the next filter so the first filter we have here is for the stars and the second filter i have added here is for the official image so i just want all the images which are official so that's why i have just given this filter which is is official is equal to true and then i'm going to just press enter and i will only see the official images which are present on the docker hub and which have more than 100 stars in a similar way i can also search for automated image which are not official but which are there by some users which are there on docker hub right so it's going to show you all the images which are not official but automated now there is this option which is called uh no trunk also which is going to show you the description without truncating uh this description so right now you can see in the description you see this description and these three dots so that means this description have more content in the description so i can just give this option which is no trunk which is not going to truncate this description it's going to show you the full description here so sometimes this option can get really messy if the description is really large so just use it wisely now instead of for this hyphen hyphen filter you can also simply write hyphen f for the filter option so either you can just give the full filter option or you can just give hyphen f for the filter and the result will be the same now the next command which i'm going to show you here is the docker images so i'm going to just write docker images and this command we use to list out all the local images you have on your host so when you give this command docker images it's going to give you all the images which you have on your host as i said and right now i only have one uh image which is hello world image which we have pulled in the previous videos when i have shown you how to install docker on your various operating system so right now i only have one docker image which is hello world now there are some options which are related to docker images so we are going to see all those options one by one so with this docker images option you can give the name of the image now let's say i give here the option java so you can list the images using the name or the tag so when you give this docker images java command it's going to search all the images related to java and you can see there is no image which is related to java on my host machine so let's pull the java image from the docker hub so i'm going to just write docker here and then pull so the pull command you can use to pull an image or a repository from docker hub or from your private repository so i'm going to just pull the java image from the docker hub so you can see when you give this docker pull java command it's going to pull always the latest tagged image from the docker hub and in the output also you can see using default tag so the default tag is always the latest tag that's why it's going to pull the latest java image so now you can see this java image with the latest tag is downloaded on my host so let me clear the terminal and now i'm going to give the docker images command once again so docker images and now i have the java image with the tag latest and the hello world image with the tag latest so now i can use the docker images and then the name of the image also so i can search uh based on the name of the image also so i can just write docker images java which is going to just give me the images which are related to java i can also search with the image name and the tag so let's say i want to search for the java image which have the tag let's say 8 which is not present on my host so it's going to give you the empty result without any image if you give the tag which is present so the latest tag is present on my host so it's going to give you the java image with the latest tag so let me give the docker images command once again and you can see by default in the result you will see the name of the repository or an image then the tag of that image and then the image id this id is very useful when you have a multiple image related to let's say java so you can use this image id to remove that image or work with that image so that's why this id is important also you can see when this image is created and the size of the image so the different images with different tag have different sizes so sometimes you want the images with the less size or sometimes you want the images which have the full feature so in that case you can use a different kind of image with different tag which suits your requirement for your application in this video we will talk about basics of docker file so first of all what is a docker file so docker can build images automatically by reading the instructions from the docker file and a docker file is a text document that contains all the commands a user could call on the command line to assemble an image now as i have previously told you you can use docker file and then once you write your instructions in the docker file you can build your docker file to produce a docker image and when you run the docker image it's called the docker container so let's see how we can create a docker file and then we will see how we can build our docker file to make an image so right now i'm in my home directory so here i'm going to create a directory called d1 let's say and then i'm going to cd in this d1 directory and right now it doesn't contain any files or folders so let's create our docker file in this d1 folder so i'm going to just write touch and then docker file so by convention we usually name our docker file as docker file with the capital d and this docker file doesn't contain any extension so it's without any extension so let's create this file so now i have this docker file in my deven folder right so now i'm going to open this docker file in any editor you can use the editor of your choice right from the nano bim or any editor i like to use the visual studio code editor so i'm going to use that so i'm going to just write code and then i'm going to just write dot which is going to open the current directory in my visual studio code so here i have this docker file right now in visual studio code there are many extensions you can install related to docker that's why i like to use this visual studio code and straight away when i open this docker file in my visual studio code i can see this popup which says docker extension is recommended for this file so you can click on this install button or you can just install this docker extension from this extension option here also so you can just search for docker here and then it will give you the most popular docker extension right so just choose the most popular one from here and i'm going to just install this docker extension and once this extension is installed it's going to help you with your docker files and docker commands in general okay so there are bunch of keywords which you can use inside your docker file and each keyword means something so we will start with the arg keyword so this arg keyword we can use to provide any argument as the name suggests and i'm going to explain this arg in detail after the other keyword which is from so here what i'm going to do is i'm going to just write version here and version equals i'm going to give here is 20.04 so version here is the name of the argument and 20.04 is the value of the argument now after this we are going to use another keyword which is from now this from defines the base image used to start the build process so there are many base images which you can find on the docker hub and we are going to use one such base image which is ubuntu and then after colon you can choose which version of ubuntu base image you want to have so here uh as i have defined this arg is equal to 20.04 so we are going to fetch the ubuntu 20.04 from the docker hub as our base image so how we can use this argument with this from uh keyword you just need to use this dollar symbol and then inside these curly brackets you just need to pass your argument so my argument name is version so i'm passing uh this argument here this means that we want to fetch the ubuntu 20.04 image from the docker hub now this from instruction supports variables that are declared by any arg instruction that occurs before the first from and an arg declared before the from keyword is outside of the build stage so it can't be used in any instruction after from so now once we have the image we are going to use one more keyword which is the run keyword so this run is the central executing directive for the docker file so this run you can use to run commands using the docker file so for now i want to run inside this ubuntu base image apt get update command and also i'm going to give the flag y for yes and now let's move to the next command so the next command i'm going to use here is the cm d command so the cmd command can be used for executing a specific command within a container so let's say i just want to run the bash inside the container so i'm going to just use these square brackets and with the double quotes i'm going to just write bash here so this is a very basic docker file now let's see how we can just use this docker file to build some image so i'm going to open the terminal inside my visual studio code editor and as i can see i'm in my d1 directory which i have created and here i have this docker file right so now let's list out what are the docker images we have on our system so i'm going to just write a sudo docker images command to list out all the images and now i want to run or build this docker file and create an image so right now we have hello world and i want to create one more image using this docker file so to build a docker file you can give a command build so just write sudo docker build and then dot so when you run this docker build command the current working directory is called the build context and by default the docker file is assumed to be located in this directory but you can also specify the directory path using a flag called hyphen f that we will see a little bit later but just give this command for now which is sudo docker build space dot so now you can see that when we run this docker build command the build is run by the docker daemon not by your cli so the first thing a build process does is to send the entire context to the docker demon and that we can see here sending build context to the docker demon now in most cases it's best to start with the empty directory and then you start adding your docker file in that directory now when you run this docker build command you will also see that these layers are fetched from your base image from the docker hub and also you will be able to see which step is executed so the step one out of four is this arg step step two is the from step and at this step it's going to pull the base image from the docker hub and you have some intermediate layers here which are created and then we have used this run command which in itself has created its own layer and it has installed the updates using this updates command and at last we have given this cmd command so now let's give the docker images command once again so i'm going to just give sudo docker images command and now you're going to see this ubuntu base image which is fetched from the docker hub and you have this image which doesn't have any name or tag because we haven't provided any name or tag to our docker image and this only have this image id which you can see here also which is successfully built this image id so using this image id you know that your image is created here now let's say you are in some other directory other than the directory in which your docker file is there so for building a docker file from some different directory you use the hyphen f flag so what you do here you just use sudo docker build and then hyphen f and then you just give the path to your docker file so when you give this command and then you need to provide the context also so you need to create this context inside this current directory so when you give this command it's also going to give you the same result so because we have effectively given the same command so we don't need to modify our image so once again when you give the docker images command it's going to show the same image because your image is not modified and you haven't changed your context which is your current directory now as you can see we don't have any name and tag to our image so if you want to provide the repository name and the tag for your image what you can do is you can give this docker build command and then give the hyphen t flag so using this hyphen t flag you can specify the repository and the tag at which you want to save your image so let's say i want to give the repository name as my underscore app and the tag which i want to give here is let's say one so after the colon you can provide the tag also here so when you run this command and don't forget to provide this context which is dot which is the current directory and then press enter it's going to just create the same image and you will see here an extra step is shown here which is tagged with my app colon one so at this step also you will observe that docker is smart enough to know that you want to create the same image from the same docker file and you haven't changed your docker files so it's not going to change your image or create or recreate your image once again because we haven't changed our docker file right we have just give the repository name and the tag so now when you give this command docker images then you will see that the repository name is my app and the tag associated with it is one so this is how you can give the repository name and the tag now if you will observe here we have our base image also here which is ubuntu 20.04 so in future if you create different docker file and it requires the same ubuntu docker image and the same tag which is 20.04 then your docker build command will be smart enough to know that and it's not going to pull this image from the docker hub again because you already have this image on your local pc so as i said we have fetched this ubuntu image and the version for it is 20.04 here in the version if you don't know the version you can always write the latest so just write latest here and it's going to just fetch the latest version of the base image you want to have so let me just save this file with the latest version and then run the same command with hyphen t my app and the tag will be the same and the context will be the same and now you will see that it's going to fetch the latest version of ubuntu here and now when i give this docker images command you will see the tag latest here instead of 20.04 which was this more specific version i wanted right so latest is the latest version which will be available on the docker hub for this base image so those are some of the basics of docker files we are going to learn about docker files in the upcoming videos also till now we have learned the basics of docker files and how we can create docker images using docker files now in this video we are going to learn about docker containers so as i have told you earlier when you run an image it's called a container so in the last video we have created this docker file and we have already built our docker file to produce an image so let's list out the docker images which we have created in the last video so just give the command docker images here and this was the image which we have created we have named our image as my app and the tag which we have given to our image is one here now this is the image id so let's see how we can run this image to create a container now in order to list out all the running containers you have the command which is called sudo docker ps which is going to give you the list of all the running containers so right now we don't have any running container now if you want to see the list of all the container including running or thus exited containers then you can give the command with the flag hyphen a and it's going to give you the list of all the containers you have on your system so it's going to give you the list of all the running container as well as if they are exited and if they are no more running then also it's going to give you the list of all the containers so you can see i have ran this hello world container two months ago right and right now the status of this container is exited that means it's not running so this is how you can see the list of all the containers now to run a container what you need is a command called run so you just write sudo docker run and then you can give with this run command some options for example and then you give the name of the image so it requires uh the image in order to run a container and then you can give some commands so you can give some commands with the docker round image and also you can give some args here okay so let me just write args right so this is the basic syntax of a docker run command so let's say we want to run our docker image which is my app right so let me just once again give this docker images command and i want to run this image so to run a container you just need one thing which is the docker image so you can just write sudo docker run and then the image id so this is the image id of this repository which is my app so let's say we want to run this image so i'm going to just take the image id of this image and then i'm going to just press enter and as soon as i press enter it's going to run the container and exits immediately so when i run this docker run image id command then it's going to run and it's going to exit immediately right so when you give this uh docker ps command so let's list out all the running containers right so all the running containers still you will see there is no running container but when you give this command with hyphen a flag which means we want to see all the containers then it's going to show you that it ran this uh container with this image so we uh ran the container with this image and this is the same image which we have used in this command right and it was exited about a minute ago right so it ran and it exited immediately now here one more interesting thing to note here is when you run the container with the run command dot co automatically generates a container name with a string of randomly selected numbers and letters so if you uh are wondering what this name is this is just a automatically generated name which is generated by docker for you now if you want to give a specific name to your docker container there is a flag for that so we are going to run the docker run command for the same image and this time what we are going to do is we are going to give some name to our container so before the image id i'm going to just provide this name flag and then i can give the name to my container so the name i have given here is my ubuntu container to my container and let's give the same command with this flag and once again you don't see any output here on the terminal but as i have told you it has just ran the container and exited immediately so when we give the docker ps hyphen a command once again you will see this time that now our container name is my ubuntu container right so this was the container which uh we ran earlier and this time with the last docker run command we have given the name to our container and the image was this one so image is unchanged but we have created a new container with the name my ubuntu container right and the command which we ran is badabash command which is coming from this line of docker file now when you run your docker containers it's run in two modes one is attached mode or in the foreground and other is in the detached mode or in the background and by default docker runs the container in the attached mode that means it's attached to the terminal session where it displays the output and the message so if this docker file has some commands or some output related to this docker file then it's going to show you the output in the terminal when you run the container with the docker run command but because we don't have any uh output associated with the docker file it doesn't show any output right now if you want to run your docker file in the detached mode what you can do here is you can give the hyphen d flag that means you want to run your container in the detached mode so just give hyphen d and then i'm going to give the same command here and let's see what happens and you can see it's going to give you this message which says error response from the daemon conflict the container name this is already in use right so this container we have already defined so you cannot create this container with the same name so you need to give the different name here so let's say i'm going to just give my ubuntu container 2 now okay and then i have also given this hyphen d command to run it in the detached mode and now you will see that there is an output which is printed here and this is the container id of your container now if you have observed here in the previous command where it has should thrown this error it has this long container id now when you give the docker ps hyphen a command you will see in the container id some part of this container id is shown so for example i can see here up to this part of the container id is shown but in the background the container id is so much bigger right so now when i give the docker ps hyphen a command once again i can see one more container which is created and the container id you can see it's going to show you the starting few uh values of the container here until i think until d so using this id also you can delete or work with your container or you can take the full id of the container and work with your container okay so this id will also work or in the short form or the first few letters of the id will also work which is shown here now we have seen that how we can run our docker container in the detached mode and as i told you that by default docker runs the container in the attached mode or in the foreground right now let's see how we can run our container interactively so docker allows you to run the container in interactive mode that means you can execute commands inside the container while it's still running so let's see how we can run our docker container interactively so now what i'm going to do here is i'm going to just create a new container let's say it's container 3 my open to container underscore 3 and i don't want to run it in detached mode instead i want to run this container in the interactive mode so here i can give hyphen i t flag which means that we want to run our container in the interactive mode and the image name is same which we have created using this docker file so let's see what happens when i run this command like this so when i run this command like this you will see the bash shell which appears here and this is what i was expecting so now as you can see here in this docker file when we have created this image the last command which we wanted is this bash command and it has just given us this bash command shell in the last right so this is how you can run your container in the interactive mode now when i open the new terminal so let this terminal be like this and let me open the new terminal in the visual studio code you can open the new terminal by just clicking on this plus button or you can open your default terminal on your operating system also you can see i'm in the second terminal and here i'm going to give this sudo docker ps command without hyphenae that means i want to see only the running docker containers and then i'm going to provide my password of my operating system and this time you will observe that when i give this docker ps command it's going to give me some output because now the container which i have created which is my ubuntu container 3 is still running in the other terminal as you can see we have uh running bash shell in the docker container so this bash shell is running inside our container right so when you uh just give some ls command you will see the file system directories here inside your container you can also give for example up time so as the name suggests the uptime command will give you the time for which the system has been up or running right and as we have seen in the last video we have only uh given this bash command so our container is not doing much it's just opening the bash a shell now there are many interesting things which you can do with your docker run command and that we are going to see in the next videos also i want to show you uh some more commands related to docker run and uh docker in general so now what i'm going to do is i'm going to switch to my terminal so i'm going to open my default terminal on my ubuntu operating system also i'm going to open my browser and i'm going to just search for docker hub i want to show you how this docker hub looks like so the first link here is hub.docker.com and when you click on this link you will see uh this web page here from where you can just sign in with your docker id which you have created earlier or you can search for some images so let's say i'm going to search for an image called busy box and then press enter and you will see an official image of busy box and as you can see uh you will see the tag here on the top which is going to show you if it's official it's going to show you it's an official image and otherwise it's going to show you verified or the other information associated with the image so the most popular one and the official one is this one so i'm going to just click on this base image and here i will see some more information related to this image so if i want to just pull this image on my pc i can just give this docker pull busy box command so let's do this and i'm going to show you how we can use the docker run command with the busy box uh image which we are going to pull so i'm going to just write docker pull busy box here and then press enter and i'm going to just give my ubuntu's password which is going to just pull the latest tag image of the busy box right so if you don't provide any tag after colon then it's going to pull the latest image so now let's run the docker images commands so i'm going to just give images and now you can see this busy box image is there so you can run the docker run command with the images you have in this list also so till now we have seen how we can run the docker run command with the container which we have created but you can also use this docker run command with the base images also for example busy box or ubuntu 20.04 or ubuntu latest version and i have pulled this busy box base image because it's very small in size you can see it's only around 1.22 megabytes so if you want to quickly test something with some linux terminal or linux operating system busy box is the image to go so now as i told you you can use this docker run command with the images you have in your local pc so you can just give docker run and the name of your image which is busy box here and then you can do something with it so you can just write echo so it means that we want to run the echo command inside our busy box container when it runs and let's say we just want to print hello world here so i'm going to just write hello world and then press enter and it's going to run this busy box image as the container and it's going to print or execute whatever command you have given after this busy box command right so basically what this means is we are running echo inside our busy box container also when you give the docker ps hyphen a command so let's give this docker ps hyphen a and you will see this busy box command also so you can see this busy box and what command it has ran so we have we ran echo hello world and it was created 42 seconds ago and it was exited right so status is executed now let's say you just want to work with the busybox shell what you can do you can just give the same command but instead of giving this echo you can run it in the interactive manner using this i t flag and then you can just tell that you want to run the shell so just write sh which is going to run this container and open the shell inside the container right so let's give this command and when you give this run command with the id flag it attached us to the interactive tty in the container right so because we are running the sh command after this run command so it's going to open the shell inside your busy box container and here again you can run your basic commands or whatever you want to do inside the container so we are not working inside our operating system we are working inside our container now in order to exit from the container you can just give this exit command and you will come out of this container now the last thing which i want to show you before just finishing this video and that is how we can remove some containers so now we ran so many commands and we have so many containers and as you can see we have so many dead container that means all the containers are exited and they are not running anymore so when you give this docker ps command you can see only one container is running and all the other containers when you see using hyphen a are exited so let's say you want to remove some of these containers so let me clear the terminal and let me just give this docker ps hyphen a command so let's say i want to remove this container and this container so there is a very simple command which is called rm so you can just write sudo and then the docker command and then just give rm and then after that you can give the container id of the container so let's say i want to just give this container id of the container so just copy and paste this container id and then press enter and if you see the container id in return in the output that means this container is removed so once again when you give the docker ps hyphen a you will see that this container is already removed right in the same way you can remove multiple uh containers using this rm command so you can just give container id space container id to space you can give multiple container id in this manner and it's going to remove all the container ids which you have given after the rm command so so right now we want to remove two containers and as i said if you see the container id in the output that means that container is removed and in my case as i can see this container is removed but the container with this id is not removed means the container with this id is not removed because it's running right so if the container is running and if you want to remove it you need to stop this container first and then you can remove the container so as i have shown you this container is running here so i i can either just give this exit command or i can stop the container let's see how we can stop the container using a command called stop so let's say i want to just stop this container so i can just give the command docker stop just write docker stop and then the name of your container so my container name is this one so i want to stop this container and then press enter and if you see the container id in the output that means this container is stopped so when you give this docker ps without hyphen a you can see there is no container running anymore and now in the list of all containers you will see this container and now when you give this docker rm with this container id it's going to give you the output that means this container is successfully removed okay so you use top command to stop the container and then you can use rm command to remove the container in the last few videos we have seen the fundamentals of using docker files docker images and docker containers now in this video i want to give you a concrete example of using the docker container so i'm going to give you a real world example of how you can really use docker containers and how these docker containers are really useful in certain situations so we are going to compile and run a c plus program inside a docker container now you might say that uh compiling and building a c plus plus program on your host operating system is also easy so why do we need a container so consider a situation in which you have a c plus plus program and you want to compile a c plus program with different version of gcc let's say now it's really hard to maintain different version of gcc on your linux or windows operating system but using docker containers it's really easy to use and compile your program in different gcc versions using docker containers also let's say you want to develop a c plus program which works on multiple operating system or you want to compile your c plus plus program for a cross plate form application so docker containers are really useful for c plus plus cross platform development with containers with containers you can choose a target with a platform that runs completely different operating system other than your host operating system or the system on which you are developing so let's say you are just working on your windows operating system but you want to compile your c plus plus program on a linux operating system or any special version of linux operating system you can do it easily with the docker container so let's start with our example so as you can see on my visual studio code i have opened a docker folder and inside this docker folder i have this directory d1 which we have created in the previous video and now i'm going to create a new directory inside this docker directory and i'm going to name this directory as d2 and now i'm going to just go inside this d2 directory so let's go inside this t2 directory and here inside this d2 directory i'm going to create a new cpp file let's say so you can use touch on the terminal or you can just click on new file here and then just create a new cpp file with the extension cpp i'm going to name my file as main dot cpp and as soon as you create a cpp file inside your visual studio code editor it's going to give you the suggestion for the c plus plus extension so i'm going to install this c plus extension so now this c plus extension is installed and this c plus plus extension is going to help me to uh work with the c plus plus file inside my visual studio code editor so what i'm going to do here is inside my main.cpp file i'm going to just write a very simple program here which just prints hello docker container so normally what you will do on your host machine if you have a g plus plus or gcc you can compile your c plus program using the g plus plus right so you can see i have this main.cpp so i can compile this program using g plus plus hyphen o and then the executable file name which i want to create let's say i want to just give the name test to my file and then my main.cpp file right so i'm going to just uh press enter which is going to create this executable file you can see here also i'm going to do ls here also so you can see this executable file and now you can just run this test executable file or binary file using this command dot forward slash and the name of your binary file and it's going to print hello docker container and i want to create a docker container and i want to compile my c plus plus program inside my docker container and i want to run my c plus plus program inside my docker container this is what i have done in my host machine not inside my docker container right so let me just clear the terminal and inside my d2 directory where my c plus file is there or my cpp file is there i'm going to create a docker file so i'm going to just right click and i'm going to just create this docker file here and then press enter and i can remove this test binary file because i don't need it for my docker container now if you don't know which base image you want to use so for example if you want to use gcc to compile your c plus plus program you can go to docker hub and search for gcc here and when you search for gcc you will be able to find the official gcc image here you can see docker official image or let's just press enter and see what result it gives so you can see the official image is this one with this official image tag and it has more than 10 million downloads so i'm going to just click on this gcc link and you can see when you just scroll down what are the tags you can use with gcc also you can see how you can pull this gcc base image using docker so the name is really simple gcc so what we are going to do is we are going to just write from and then our base image i'm going to use here is gcc now the version or the tag i want to use here is the latest or you can choose the tags which are available here so you can choose 10.2.0 or 10.2 or from all these tags which are available here you can also go to tags section and see the more specific tags you want to use for your c plus plus program so now once we have the base image the next step is to copy our current folder which contains our cpp code into the docker image under the file system where we want to copy this so for copying our local files into the docker image we use this copy command okay and as you can see it suggest us uh that we need to provide the source so source in our case is dot because we want to copy all the files from the current folder and the destination will be the destination inside the file system of your docker image in our case it's gcc so in gcc base image file system you will find this path which already exists there so you can just write user forward slash src which is already there inside the file system of gcc base image okay so as i said this command is going to copy all the files which are there in your local directory to this directory inside your docker image okay now if you want to copy some specific file then you can do this also you can just write main dot cpp and then you can copy a specific file into uh the folder which should already exist inside your image which you are using right so for now for simplicity i would just want to copy all the files from the color current directory to user forward slash source forward slash the directory which we are going to create so let's say we want to create this directory where we want to copy all the files cpp test let's say so this path already exists in the file system and this is the folder name which we want to create and copy our local files to this folder in the docker image right now we are going to define the work directory so we can just use this work there keyword to define the working directory in which you want to work now okay so because we want to work inside this directory because we are copying our c plus file inside this directory we are going to set our work directory as this one that means when you run any command it's going to run inside this directory which you set as work directory now in the next step i want to run the command which will compile the c plus plus program using this main.cpp so now i can just give the g plus plus command then hyphen o as the flag and let's say i want to name my binary as test and the file name which i want to compile is main dot cpp so this run command is going to compile my c plus program inside my cpp test directory under user source folder right now in the next step i'm going to give the command using cmd which will be the command which i want to run inside the container so this is going to run the program output from the previous step into our container so this works like this as you have already seen in the last video also so if you want to run your binary you can just give dot forward slash and the name of your binary which is test right so this binary is going to be uh run using this cmd command inside our container so that's it that's how you can create this docker file to compile your c plus program and run it now let's build our docker file to create an image for that you can just give sudo docker then your build command so build and then the build context and then you can provide hyphen t to provide the name of your image i am going to name my image as cpp underscore test for example and then you can also give the tag to your image let's say i want to provide the tag one to my image okay so this is going to create a docker image using the docker file so you can see it has pulled the base image in the first step then copied our files from the local directory to the directory which we have defined and then it has set the work directory and then in the next step it has compiled our c plus program and in the last step we have set the test binary to run when we run our container so now let's list out all the images you can just give docker images command for that and you will see that this repository is created about a minute ago and this is the image id for that image right so now we want to run our container using this image so for that we have seen in the last video we can give sudo docker run command and then i'm going to give the hyphen hyphen rm flag and this rm flag causes docker to remove automatically the container if it already exists so if the container which we are going to run already exists then it's going to remove that container and then it's going to rerun that container so this command is handy when you want to just run only one container at a time and then i'm going to give this i t flag with hyphen so i t flag for running this container in the interactive mode and then your image so you can give this image name cpp test here or image id also you can give so i am going to give the image name which is cpp underscore test with the tag so tag we have provided is one okay so here as i said you can give the image id or the repository name and the tag and then when you run this docker container it's going to print hello docker container that means we ran the test binary inside our docker container right now as i said you can change this tag instead of latest you can choose the version of gcc you want to use for compiling and running your c plus programs so that's why this docker and docker containers will help you to just cross compile in cross platform applications now let's say you want to compile your c plus plus program using the c lag compiler instead of gcc okay so we want to compile our program using c lag compiler instead of gcc so let me clear this terminal and let me go one directory up here and i'm going to create a new directory so i'm going to just write mkdir d3 and inside this d3 directory what i want to do is i want to just have the same cpp file so i will just copy this cpp file into the d3 uh directory also and then we are going to create a docker file inside this d3 directory so let's create this docker file here so now let's move to the docker hub website and let's search for c lang if we have something related to c lang compiler on docker or not so i'm going to just write c lang here and as i remember there is no official a base image for c lang on the docker hub so what we can do we can use the base images we already have on our system and then we can install the c lang compiler on that base image so i'm going to just give this sudo docker images command and from these images let's say we will use this ubuntu latest or ubuntu 20.04 to compile our c plus program inside the ubuntu base image using the sealang compiler okay so what i'm going to do is i'm going to just write this kind of docker file i'm going to explain you all the steps one by one so we want the base image ubuntu with the tag latest because we already have downloaded or pulled this image in the previous videos so we don't need to pull it once again now in the next step i'm running apt get y update and app get install update to update apps on the base image so that's what you do when you want to install any software on your ubuntu operating system so this command is going to update the apps on the base image now in the next step using this apt get hyphen y install c lang command we want to install c lang on our base image which is ubuntu right the next step are relatively easier because we have seen these steps in the other docker files also so we want to copy all the files in the current directory into this directory inside our base image and then we want to set the work there which is the same where we have copied our c plus plus files and then to compile your c plus program using c lang you can just replace the gcc with c lang plus plus and the rest of the command will look like same as you have seen in the case of gcc also so you can see g plus plus hyphen node test main dot cpp and here also you can give this command the only thing i want to change here is the main dot cpp the file name here okay because our binary name is test we are going to just run this binary using this command so this is going to run inside our container okay in the d3 folder i have created this docker file to compile my c plus plus program using c lag and i'm going to run this now so let me clear the terminal once again so now let's build our docker image using this docker file so for that i need to go inside the d3 directory and then i'm going to give the docker build command with the context or in the current directory and then hyphen t to give the name of my image so let's say i want to give the name to my image as c lang underscore cpp and the version or the tag which i want to provide here is let's say 1.0.0 okay so let's build our image using this command so now as you can see the build of this image is successful with the name c lang underscore cpp and the tag 1.0.0 so let's run the container for this image using the docker run command so i'm going to just provide sudo docker run oops by mistake i pressed ctrl c that's why it break so let me just give this command once again and then give this image name with the tag 1.0.0 so we want to run our container using this image so let's press enter now and as expected we see hello docker container that means we successfully ran this binary file which is compiled using clang in our container and the output is printed now let's say you want to change something in the output so instead of let's say hello docker container i just want to print hello world here okay so i will just save this program and then i can just build it again but this time i will build it with the different tags so let's say i just did the miner change so i will just change the tag as 1.0.1 so let's build this image which is going to be built really fast and now let's run this image using this docker run command but don't forget to change the tag because i have changed the tag for the image also to 1.0.1 so here also i'm going to change the tag for the image and then press enter which is going to run this program and it prints hello world so how simple is this so this is how you can compile and run your c plus plus programs using docker containers so as i said i just wanted to give you a real world example same thing you can do for your java programs or any other programs which you want to run in different environments in this video we are going to see how we can do port mapping between your docker container and your host machine so let's say you have some kind of a server and that server listens on some particular port so you need to expose your port from your docker container so the outer world will be able to interact with your server so in this video we are going to take an example of a node js server the same concepts you can apply on any other kind of server it can be a nginx server it can be a python flask or django server or any other kind of server so let's start with our example of dockerizing our node.js web app so what i'm going to do is i'm going to just create a new directory for me so i'm going to just write mkdir d4 and then i'm going to go inside that the 4 directory and here i'm going to create a new node js app so for initializing my app i'm going to just write npm init and then hyphen y and then press enter which is going to create a package.json file inside my d4 folder now for this node.js server i will be using express so i need to install express locally for this app so if you already know something about node.js or npm you can easily install the npm package using npm ins tall and the package name in our case it's uh express which is a very popular node.js package or npm package so i'm going to just write express here and then i'm going to give this save flag here so it's going to be installed inside my directory and this express will be added a as the dependency in my package.json file so let me uh press enter which is going to install this express package in my directory you can see this new directory is created which is node modules and this new dependency is added in my package.json which is express so now let's create our server.js file so if you can see in our package.json file uh the main entry point right now is the index.js you can change it to server.js and let's create this server.js file server.js here and then press enter which is going to create this server.js file so we are going to write a very simple node.js code which is going to use express and it's going to just print hello world whenever somebody uh will make a get request to this server so i'm going to just uh copying and pasting this code because this code is available everywhere and it's very simple so what i have done i have just imported this express and then i have created these two variables one is the port variable which will be exposed via a browser or via the rest request and then we have the host here which is basically the local host and we have one get request here so whenever somebody makes a get request to the server we are going to just send hello world so very simple uh node.js server code and we are going to run this code let me clear this terminal so i'm going to just write node and the name of my server file which is server.js and when i just run this server.js using node.js it's running like this and it's printing uh on which host and ports it's running so let's open our browser and we are going to just open this url which is 0.0.0.0 colon the port number on which we have started this node.js server and i'm going to just press enter and it just prints hello world which is the expected result right so now we want to dockerize our node.js server so let's see how we can dockerize our node.js server so for that i'm going to just close this app or stop this app and now i'm going to create a new docker file so let's just create this docker file by just giving this command which is touch docker file now i'm going to go inside my docker file and here inside my docker file i'm going to use the node base image so when you go to the docker hub there is an official base image for node.js and that's what we are going to use so i am going to just write from and the base image will be node and the version of node we are going to use is version 12. so you can use the latest tag also here which is going to give you the latest version now in the next step i'm going to define the working directory using the work their keyword and we are going to define this work there in the user forward slash src for slash app folder and now this should be work data right so like this okay so we have defined our working directory inside this working directory we are going to uh copy our code and then we are going to do all the stuff now uh let's copy uh all the files which are there in our current folder to this docker image so we are going to use the copy keyword to copy uh all the files but first of all we need to copy the package.json to the container so that we will be able to run the npm install command and npm install command what it does it just installs all the dependencies into uh our container right so let's first of all copy the package dot json file so we are going to copy uh the package log dot json file and package dot json file so these two files are responsible for all the dependencies to this directory right so now we have copied the package json files so next step is to install all the dependencies using npm install so you can just give this command run npm ins tall now if you are uh working in the production environment this command can be a little bit different let me just write this in the form of comment so you can just write run and npm ci and then you can give this only production flag production okay so if you are working in the production environment you can give this command if you are working in the development environment then you can just do uh this command so npm install will install all the dependencies and in our case there is only one dependency which is express right so via this npm install this express npm package will be installed in our uh docker image now in the next step once uh all the dependencies will be installed we are going to just copy all the files uh which are there in our server code so we only have this one file which is server.js but let's say you have many modules and many files inside your node.js projects so i'm going to just write copy and then i'm going to copy all the files and folders which are there in the current directory okay now next step is important and this step is we are going to expose our port so i'm going to just write expose and we are going to expose the port which we are using in our server so we are using uh port 8080 in our server so we are going to expose this port this means that we want to expose port 8080 into our docker container so this exposed keyword means that we want to expose port 8080 from our container to the outside world for example to our host machine and this expose is a way of documenting so it's not going to publish your port at runtime it's just a way of documenting in your docker file that you intend to expose this port 8080 in your docker container so exposing port using this exposed keyword is a way of documenting which port are used but it does not actually map or open any port we are going to open and map the port using the docker run command and we are going to use a different flag for publishing our port or opening or mapping our port later when we just build and run our our docker con now the next step here will be to run our node.js application and we all know that we just need cmd and then inside our square brackets we will just write npm and then we are going to just give this comma and then we are going to give the name of our server.js file so this will be server dot js now here one interesting point to note here is when we are going to copy uh all the files and folders from our current directory uh to the docker image you can see i have used dot dot that means it's going to copy node modules also into your docker image and we have already installed our node packages using this npm install so this is going to overwrite this node modules folder from your image right so to avoid copying your node modules into your docker image you can create a docker ignore file so this docker ignore file is going to prevent your local node modules or your debug logs from being copied into your docker image so let's uh just create this docker ignore file so to create uh this docker ignore file you can just write touch dot docker ignore in the same format which i have used so this format is recognized by docker and whatever you write inside this docker ignore a file so let's create this docker ignore file first of all so we have created this docker ignore file and we want to exclude the npm modules and npm debug.log file from copying into our image so this means that we have added npm modules and the npm debug log file uh which will be excluded when we are going to copy the files from our local container to the docker image okay so this will avoid the overwriting of our npm modules now we are done and we can build our image so let me clear this terminal so now let's build our image by giving the docker build command so i'm going to just write sudo uh docker build hyphen t and then the image name so let's say i'm going to just give the name node underscore test colon the tag you can give any tag to your image so let's say i am going to give 1.0.0 or tag to my image and then the context and then press enter which is going to just build this image and in few seconds this image will be created so let me clear this terminal once again and let's list out all the images so sudo docker images and when you see here our docker image is created with the tag 1.0.0 15 seconds ago okay so now we are going to run our container so to run our container we can just use a sudo docker run so as i told you we want to expose this port 8080 so that this server can listen to the request from the outside the container right so in order to map the port we use the flag which is called hyphen p which is also called publish and hyphen p is a way of mapping a host port to a running container port so this is our running container port and let's say we want to uh map this port which is running inside the container to our local host machine and we want to let's say give the port 3000 in our local host machine and which is going to be mapped to port 8080 so if you specify this expose the port and if you specify this publish flag to map the ports then the service in the container is accessible from anywhere even outside the docker so this means that we want to expose port 8080 from our container to the port 3000 inside our host machine and now let's give the name of our image which we want to run which is node underscore test colon 1.0.0 okay and let's run this docker container and this gives me error and the error is obvious because instead of using npm i should have used node okay because we have started our server using node command not npm npm we used just for installing our packages and managing our packages right so let's rebuild our image once again and once our image is rebuilt we are going to just run our container so now our container is running and we can see the same output now we might be confused or you might be confused that we are exposing uh the port 8080 and when we go on this url on our browser so let's go to this url on our browser and let's see if it works or not so it's not going to work because we have mapped the port 8080 to the port 3000 on our local machine so this is the port on the container on your docker container and this is the port which uh it'll listen on your local machine so we want to listen on port 3000 on our host machine so instead of port 8080 you can give port 3000 and it's going to print hello world right this is how this uh port mapping work so this will be the port which will be available on your local host and this is the port you have exposed inside your docker container so let me just stop this container so i'm going to go to the next terminal and i'm going to just write sudo docker ps to list out all the running containers and this container is running so i'm going to just use the container id from here just copy the container id and then sudo and then the container id which is going to stop this container now this container is stopped and you can see in this terminal also that we are out of the container right so now let's say let me just uh clear this terminal and now let's say we want to map to the port 8080 itself on our host machine also from our docker container so this is the port on the docker container and we want to map this port to the same port on our host machine if it's available then it's going to run fine so let's run this command and now this time when you go to the browser on port 3000 obviously you will not get anything because we have mapped uh the port 8080 to our host machine now and now when you give port 8080 it's going to give you hello world if you want to run this server in the detached mode as i have told you you can use hyphen d so that this node.js will run in the detached mode that means it will run in the background so this is how you can expose the http port you can also expose the tcp port and the udp port from your docker container so let me uh just stop this container so i'm going to just stop this container first of all and let me show you how you can expose the udp and the tcp ports so let's say you are running uh application and in this application you are doing some tcp communication or the udp communication so for mapping the tcp port and the udp port you uh can use the flag hyphen p and then you can use this kind of notation so the port which you want to expose from your container let's say i'm just exposing port 80 and forward slash tcp so in case you want to expose the tcp port you just need to uh write forward slash tcp after the port which you want to expose from your container and this will be the port uh you want to expose to the host machine so this port will be available on your host machine um from this port to your container so this is the mapping right for udp you just write forward slash udp right so the flag is hyphen p you just need to write forward slash tcp or forward slash udp to expose the udp or the tcp flag you can expose multiple ports also by using this hyphen p flag so it's not that you just can use only one hyphen p flag you can use multiple hyphen p flags to expose multiple ports from your container to the host machine so this is how port mapping works in a docker i hope you haven't understood this concept so in this video we are going to talk about docker hub so what is docker hub so docker hub is a service provided by docker for finding and sharing your container images with your teams or with the general public so as you can see i'm on this website which is hub.docker.com and here i can sign in at the time of downloading the docker on your operating system you might have created a docker id for you and the password for you so you can log in with that docker id and password so once you are signed in with your docker id and password you will be able to see this kind of web page here you have this explore option where you can explore all the other repositories you have this repository option and under this repository option you will be able to see and manage your repositories which you have created and which you have pushed into your docker registry here you also have the option for organization which we are not going to cover in this video and also you have all these general uh account related uh stuff here right now let's talk about the pricing a little bit so you can see uh for public repository docker hub is absolutely free and that's what we are going to uh be using but if you are working in an organization or you want to create some private repositories for your docker images then you can choose one of these options which are provided here also it's not necessary that you need to use docker hub as a docker registry you can create a docker registry you have this documentation which you can use to create a docker registry i know uh google cloud provide a docker registry or a github nowadays also provide these kind of docker registries so you can create your own registry if you want you don't need a docker hub for just managing your images right so right now you can see i don't have any image on my docker hub account so to start with i have this very simple uh docker file which i want to convert to the docker image and then i want to push that image to my docker hub registry so let me list all the docker images on my operating system right now i don't have any image so let's uh build one image so i'm going to just write pseudo docker build dot hyphen t and the name of the image i'm going to just name my image as hello and then press enter which is going to just create this image i have this hello world image which is created five seconds ago right so now let me just also quickly run this image to see everything is working so i'm going to once again write sudo docker run hyphen hyphen rm hyphen it and the name of the image which is hello and then press enter and it prints the content of my main.cpp that's what it's doing so that's a very basic minimal image the size is very small that's why i have done this and once you have all these images let me just clear the terminal and then let me just move this terminal a little bit up and let's just list all the images once again so now i have this image hello and i want to push this image to my docker hub registry so in order to push this image first of all you need to log in with your docker id into your docker terminal most probably you are already logged in but if you are not you can just give this command which is sudo docker login and if you want to log out then you can just write log out here right so let's give this command which is a pseudo docker login and then give your username here i'm going to provide my username and then you need to provide your password so let me quickly provide my password and then press enter which is going to log me in the docker so you can see login succeeded and now i can just push my images to my docker hub registry so first thing we generally do in order to push the image to the registry is we just tag it so we can give this command which is a docker and then tag and then the name of your image my image name is hello you can also take the image id and then give the space and then give some tag to your image so right now because i want to push my uh docker image to this docker hub account and which has the username codebind i will just first of all write code bind here and then forward slash and then you can give the name of your image i will just leave it as hello and then you can give the tag of your image so i'm going to just give the tag 1.0.0 so this tag is useful whenever you want to just let's say keep working on your image and you want to update the image and want to just version your image into multiple versions so you have the track of all these versions right so i'm going to just tag my image i'm going to press enter and then i will once again list all the images and now you can see i have this image with the this name and i have the tag 1.0.0 right now once you do that you are ready to push your image to the docker registry the command is very simple sudo docker push and the name of your docker file which is codebind forward slash hello in my case you also need to give the tag here 1.0.0 and then you can just press enter which is going to push your image to your docker hub registry so just wait for some seconds and you can see it's pushed so i'm going to go to my docker hub web page and then refresh this web page and now i can see this image which is available here and also you will be able to see that this image is a public image so it's not private so anybody on docker can see your image right also when you click on this image you will be able to see more information about the image so here you can give that little description for your image and also you can even write the readme for your image uh what it's doing and what's the purpose of this image right so here is the general information about the image you can also see this tags uh section where you will be able to see uh the tags related to your image i only have one tag here and the size of this image is around 746 kilobyte right and also you can see how you can pull this image so you can just pull this image using docker pull codebind forward slash hello and then you need to use this tag you can just copy this and then pull this image also also you have the build section this is for the automation so if you are using github or bitbucket automation system then you can directly push your image from the github or bitbucket into your docker registry you also have the collaborator tab and then webhooks also and then you have the settings related to your docker image right so you can make it private if you want and also you can delete your image from this section right so let's say i just want to pull this image i will just copy this text and then i will just uh write sudo and then paste uh this test text uh which i have copied which is uh docker pull and the name of my image with the tag and it's going to pull this image if it's already not there on your operating system so this was the simple demonstration using which you can create your images and then push your images to the docker hub and then manage your images using the docker hub so i hope you've enjoyed this video and i will see you in the next video