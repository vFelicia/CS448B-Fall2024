in this video you'll build a tick tock web 3.0 dab with next js you'll be building this on the solana blockchain we'll write your own program and you'll code up your smart contract and what's amazing about this is you'll be using anchor framework which makes it so much easier to actually use rust again why we'll be using solana for this is solana is blazingly fast and it is a wonderful user experience that's why this app is gonna be on solana you'll use cargo to compile and deploy your very own smart contract i'll show you how to use phantom wallet to actually authenticate users so they can log in and log out of your app lastly we'll take this app and deploy it using netlify and at that point you'll have your very own tick tock web 3.0 dab deployed and hosted on the internet ready for anyone to be able to use also i am super excited to actually share this with you guys this has been weeks and months in the process we have built our own cli tool that you guys will now get to start using i'm unbelievably excited about this we publish our own package in npm nerdy things aside what this basically means is you'll be able to write one line like npx clever programmer and it'll get you set up with the entire project with all the assets you don't have to go and like get the images from somewhere else you don't have to like download different dependencies on your own this will just install all the dependencies and everything taken care of for you so i'm especially excited because you'll get to do that in this project with that said go ahead and smash that like button break that thing right now and uh subscribe to the channel because this is a channel where you become a better web 3d developer so i hope you're excited with that said i'm gonna get out of your way and i'm gonna let your instructor lance take it away and get you started on this build lance let's go welcome welcome to the tick tock demo lance here let me show you guys around so when you first open your app you're going to see this page right here all this means is that you need to select your wallet and of course we're going to be using phantom because this is on solana so as you can see phantom's detected i'm going to connect my wallet bam and all we need to do now is just pick a username for yourself so i'm going to use qazi's name for this one and let's get a profile image at the moment we set it up so that we're going to use dicepear to get all our avatars so if i go here we can create our custom profile by writing in a seat so if i just put kazi this is what it thinks kazi or generates for qazi so very beautiful let's take that svg and paste it onto here i'll just click sign up so every time we do something on this app you're gonna see the phantom wallet here ask if we can approve this transaction that's because everything we do is gonna be stored on chain so let's hit approve and bam there we go we are logged in on tick tock and how do i know because if i scroll down you're gonna see all these different tick tocks by different people as you can see drac we got lance here we got another launch one here and if i press play how awesome is that and you can see on each of these there's different comments like this one right so if i look there's comments there's our boy kevi kev awesome and another cool feature that you can do is that you can actually add a comment so thank you all right i'm logged in as kazi i'm gonna go hit reply and let's leave a comment and like i said before even the comments are stored on change and after a couple seconds bam there you go there's qazi's comment over there 40 seconds ago how awesome is that cool and you don't have to worry because all of this is on the dev net this is not the main answer you're not going to lose actual solana by storing these comments on chain but the purpose of this video is to show you guys how to develop on the solana chain so we can leave comments and not only that we can go ahead and click this little heart and let's drop a like and bam look at that so the heart turns red and there's a beautiful three right there so that's pretty sick we got comments we got likes but guess what that's not all we can also upload your very own tick tocks onto your app so let me show you guys how to do that all we need to do is click this plus icon right here and you're going to see this model for upload new video that's because we need to fill in now so to get a tick tock video of course let's go to tech talk and i'm going to go to our clever programmer tick tock and let's pick a random video let's do this building chess app right here what you need to do is right click this click copy video address head back over to your app and you can just put any description you want building chess app and react right and then paste that video url and let's hit create new awesome and all you have to do is hit a proof again and bam there it is this is the video i just uploaded and you can see it's uploaded by the username that's login quasi so how cool is that you can put your very own tick tocks on a website that you created so that's enough demo do you guys want to build this let's head over to the tutorial and just like kazi said this is gonna be on the salon chain so i'm pretty excited one thing i wanted to mention i love making these projects so that you guys can have cool stuff for your portfolio one thing that you could do to make it better it would make me really happy is to go in this code change all of it understand how it works and make it your own right let's say you don't want to make tick tock maybe you want to make your own version of tick tock this is a really good launching point to do that enough of my rant let's get started with the build so over here you'll see that i have my terminal open and one thing that i'm happy to announce is that clever programmer has their own cli tool so if you guys just do npx clever programmer now you're gonna get the tick tock project like the starter files that we need so no more creating next step no more install dependencies or looking for the repo to get it working you're gonna have everything you'll need the only thing i'll need to ask from you is double check on your terminal for node dash version yeah cool and notice how i have 16. so our cli tool is going to work on version 16 and up so if you're version 14 or 12 definitely update it if you're watching this from the future this might be a little bit different when you run this command okay so if you're with me in the present do npx clever programmer and let's see boom awesome so you're going to see a couple questions enter your email address i'm going to say lance clever programmer and for my name i'ma hit links beautiful cool and look at this how cool is this when it says what project would you like to initialize at the moment it's just tick tock but soon we're going to have all the other starter files for each project going forward so it's going to make all of our lives easier so i'm going to go ahead and select tick tock and look at that while you wait smash that like button and if you look at the front end it's installing the dependencies boom and i don't know if you guys saw that but as it finished it literally opens up bs code and opens the project right away so that is super cool if i look at vs code now the front end folder is already set up this is our next js app if you look the yarn lock file you're gonna notice all the packages that we have installed is already in here and the package.json as well right there's solana wallet adapter axios javascript time ago react icons all of it is in there and guess what you all have to do was write npx clever programmer so with that said setup is done okay cool so all i did so far was x out my terminal and made this a little bit bigger because we're no longer going to need it i can just use my integrated terminal one thing i wanted to mention with our cli tool we essentially just did a git clone so if you want to push this you're gonna see that you don't have permission i'm gonna do right now and show you guys how to create your own repo and any changes that you wanna make on here will now be pushed to that repository so how do we do that all you have to do is just open up your browser so go to github.com and i'm gonna go ahead and make this bigger and let's just create a new repository okay you're with me so far and again there is many many different ways to do one thing if you have your own way go for it i'm just going to make a new repo and connect this to it if you're new for my beginners out there feel free to follow along so all i'm going to do is do a tick tock solana that's going to be the name of my repo and for now i can just do create repo boom so you're going to see this page and it's going to show you give you insight on how to set it up but what we can do here is head over back to your vs code right and i'm going to click control b and command control j or command j if you're on mac and all you guys need to do let me just fix this up all you guys need to do is just get remote set dash url origin we're going to change the remote origin of this one to now be connected to the new repo we just made so go ahead and copy this link i'm gonna copy and i'm gonna right click and there we go i'm gonna hit enter boom so now it's connected how do i know because now if i try to push so let's make it small change all i'm gonna do is add a space here hit save and if i do a git status you can check the changes that you made i modified pack json cool and if you're okay with that change just do a git add dot to add all changes and then you just do a git commit i'm gonna say set up own repo okay and then i'll just do a git push and now you shouldn't see permission failed or anything like that because now it's directly connected to the one we just created boom so get push awesome and if i hit refresh on here look at that and here's my comment setup on repo essentially you forked the project that we created and as you can see our boy david who originally created project is a contributor and now you're free to just add whatever you want to this so that's how we're going to be developing once that's set up we can actually set this up to netlify now right if you don't know netlify is a website that can host your static apps one thing we can do is connect our github repo so every time i make a change it's going to redeploy it live so it's always going to be redeployed we'll have to set it up once we do it for the first time so if that sounds cool to you let me show you guys how to do that awesome so once you clear terminal the first thing you want to do is an npm install netlify dash cli dash g if you're wondering what this does we're just installing the cli tool from netlify globally so i don't have to go on the website and set things up i can just do it all from the comfort of my command line so i'm going to do this and hit enter i already have it installed but i want to do it with you guys okay cool so once that's done all you guys have to do now is if you type in the word netlify you're going to see a list of commands that you can run with the cli tool we see init which we're going to use later build api addons there's a bunch of different things you could do you can even set up environment variables through the cli what we want to focus on is initializing our site right so i can shorten our command instead of saying netlify i can say ntl and then i'm going to say ntl login right i'm going to hit enter and for me i'm already logged in but for you guys what might happen is on your browser the netlify website will pop up and it's going to prompt you to log in i highly suggest you connect it to github because it's going to make this next step a lot simpler so make a netlife account with them make an account with them by just hopping to your new tab right here and all you have to write is ntl.fyi clever and you can go ahead and sign up with them if you don't have an account nice cool so once you have an account and logged in you can go ahead and exit out what you need to do next right after i clear this it's just going to be an ntl init what this does it automatically sets up a netlife website and i'll show you guys in a second ntl init boom so look at that so now it's going to ask you connect this to an existing metlife site or just make a new one so we're making a new one i'm gonna hit this one and now we can give it a name i'm gonna go ahead and select create and configure a new site because we're making a new one awesome for the team just select enter and then now here's where you can name your website so this will be the url that people type in to get there so for me i'm just going to say tick tock solana awesome so there isn't any other ones called ticktock solano that i have so it went through for the base directory make sure it's front end especially if you use our cli tool because that's where our next app lives enter and we used yarn so what you need to write in this section is yarn run build and for current directory you can just hit enter for this for net life functions folder hit enter and now we just say yes because we need this plugin and boom adding deploy key cool so now it's hooked up to our github repo and every time i hit push it's going to deploy the site so what we could do to test this out let's run it again do this and make that change take out that space hit save go through the process of setting up git again if i do a git add dot commit m removed spacing from package.json and we'll still get push okay boom we can see those changes on our github just like normal remove spacing from package.json and then we head to netlify we can make this guy a little bit bigger i'm gonna hit login and there it is there's tiktok solana and you're going to notice that it failed right the reason why it failed is because there's some things we got to set up on this and what we can do is go to deploy settings go to environment and click edit variables you can also do this on the cli tool but i'm just going to show you since we're already on the website what you want to do at this point is going to be in capitals npm flags right flags or flag and we're going to just put dash force make sure this one is lowercase okay i'm just going to check it's force awesome because what you might run into is some peer dependency issues on the modules this will just override that because you should just be fine okay once that's done i'm gonna go back to deploys and let's do trigger deploy and let's clear cache and deploy site cool and now let's just wait for this thing to be finished and live oops hold on might be a mistake on my part let me go back to environment i think this should actually be flags let's hit save now let's try this again okay cool now let's wait for it to load there we go so you can see the dash test force is disabled now look at that so the side is live now so what that means is i can go over here and click preview if you want to preview the site or we can click deploys and just click on the link right here so you can see tic tac solana lfi dot app and you can actually copy this link and send it to all your friends and show them what you made obviously right now ain't much but every time we push to our github repo this live site is updating and that's the cool part about this so with that said netlify set up we have our repo ready to go let's get to coding before we move any further i want to talk about the project so what i'm going to do is open up my little whiteboarding app and as you know we're coding this project on the solana chain and if you watched our facebook video you know that we use something called anchor and as a refresher anchor is just a framework where we can build secure solana programs quickly and if you didn't know if you're more familiar with the term smart contract that is the equivalent on solana programs or essentially smart contracts yeah cool so with that said anchor underneath the hood handles a bunch of security checks that we don't really need to do that we're gonna need to care about if we're gonna write this natively but since we're running anchor it's gonna make that a lot easier the main reason i'm using anchor is because it creates an interface that we can use on the front end to call our solana program what does that mean to you guys on our next.js app if i want to be able to create and upload a video i'm going to need to talk to my solana smart contract to create that video and it makes it really easy with anchor you with me so far another prerequisites to this is one you have to be able to install the anchor cli tool and lucky for you guys if you did npx clever programmer you're going to notice this folder called tick tock clone this is actually the anchor build itself so that step is already done for you but if you wanted to do this on your own one thing that i like to share with you guys are these links right here all right let me just clean this up a little bit and we'll also provide these links in the description but essentially these this is how we can get started with installation and if you want to learn about any cli commands this is where you're going to go and as a disclaimer by no means am i saying i'm a developer expert and solana what i want to do is get as much practice as i can and whatever i learned from building these amazing projects for you i want you guys to be able to take away and learn on your own so what that means is if you're watching this and none of this is making sense watch it over and over again and take what you do understand and build something that you're passionate about because that's how you really understand my goals with these builds is to essentially be a launching pad for you to create really cool projects and maybe learn something along the way cool with that said one benefit that i want to show you guys is we can use the anchor cli tool to write a program but if the setup is really difficult for you guys solana made something really cool and i'm about to show you guys there is a tool out there where you don't need to install anchor at all all you have to do is type in this beta.solepg.io hit enter and as you can see let me make this bigger if you guys are familiar with remix at all if you're coming from solidity background this is essentially the remix for solana what that means is i can write my smart contracts on here deploy them build them and test them all on the browser which is amazing so that if setup is an issue this is going to be the way to go so what i'll be doing for this tutorial is creating the smart contract on solana playground that being said i'm excited for this build i want you guys to take your time with these concepts that i'm going to be talking about today and for my anchor experts my rust experts out there if there's any you know improvements that i could do feel free to leave a comment down below i'm always wanting to learn more just like you guys so with that said let's go awesome so this is the solano playground like i mentioned before this is a place where we can write the smart contract of our build so we're going to start with this first and build out the whole smart contract and another benefit about doing this is that the tests are really easy to do so once we make a function i can just test it right away and see if it works cool so let's get started one thing i want to do is set up any additional libraries that we're going to need awesome so the anchor prelude comes by default another one that we're going to need to do is use right this is how the equivalent of an import in javascript we can say solana underscore program colon entry point colon program result okay that's one that we're gonna use another one that we're gonna use we're gonna say use std mem colon size of this one is important because with rust or with anchor they really care about the size of everything unlike javascript where you can put like in a massive array and it wouldn't cause any problems the reason for this is because rust is a lower level language and error handling is a lot easier if we know exactly the size of everything and we can do that by using this library right here cool other than that let's do another use anchor let's see anchor lang i believe and then after that it's colon colon solana underscore program log brackets soul underscore log compute underscore units right this is going to help us log our units this is essentially important for budgeting when it comes to how much solana are we spending for the smart contract right don't worry about that too much these are all the libraries that we're going to be needing to use right over here this is the place where we're going to declare ird or in other words our programs address so by default when you use the lab program it's going to be all these ones but once i hit this build button it's going to generate a new program for us later okay cool now i just want to take this time to go over the anatomy of an anchor project and explain to you guys to the best of my knowledge so if you see this hashtag bracket program you can think of this as what anchor uses to define what a solana smart contract or program is right so this is the name of our smart contract by default it's called hello anchor and if you see this pub fn you can look at that as a function if you're coming from javascript so what is this function it's initializing right here are the parameters right it's context is initialized which i'll get into in a second and notice how it talks about it's going to take in a parameter called data and this is the data type an unsigned integer that's 64 bytes okay cool and then it's going to take in a result and here is the logic for that initialize function so you might be wondering what the hell does this mean well essentially context is essentially the state so if we come down here you're going to see something called pub struct initialize what that means is i'm creating essentially initialize object and i'm defining the characteristics of that object right so you can see pub new account is going to be account and the signer is the user that is associated with the program and the system program is the program and it also brings in all the information about it that's what it is on a really high level and that's how i'm using to explain to you guys coming in from javascript or our old builds okay cool notice how we have another obstruct here right like i said if this is creating a new object this is essentially a class and here are the properties it's gonna take in data cool so that's essentially on a high level the anatomy of an anchor project i'm gonna be morphing this to what we want out of this build cool so like i said if this program is telling us what a smart contract is then this mod is essentially all the instructions that we want our smart contract to do so at the moment you can say that this smart contract we can initialize something if you understand that let's go ahead and think about what i want to do for this app right so i'm just going to make some space here to separate it and let's go ahead and delete this cool so the first thing i want to do is pub fn create underscore user so if i were to ask you guys what does this function do or what do you think it does it's just going to create a user create a user for what for my next app right for tick tock this is creating a user on tiktok okay if that's the case it's me like normal where you make this a function and the difference if you're coming from javascript going into rust is i'm gonna make this arrow here and then i'm gonna say program result camel case right this is the library that we're importing you can look at this is what is this function returning right on a very high level so i'm going to do something like this and what i can write in here is going to be the logic of how do we want to create a user so just like any other function this function is going to take a couple parameters and with rust you need to define what is the type that you're expecting from the parameters so that error handling is a lot easier so if i say something like ctx all right that just means context and context is essentially a container that holds the data that we define on this program so what i'll do is i'll write everything out and i'll talk about it a little bit after so ctx is all you need to write here and put a colon and then you're just going to write context create user all right then you have a comma here because there's a couple more parameters that i want to add and it's going to be named and that's going to be string and it's going to take in a profile url right so what i want to do later in tik tok is you can sign up and put in whatever name or username that you want and i also want to give you guys a nice profile image that you can attach to it so that's why it's going to take that in as a parameter so profile url and then that's also going to be a string cool awesome with that said ctx here is the parameter you're probably wondering what is create user so before we move any further with this if you're wondering what create user is it doesn't exist yet we haven't made a struct or in other words class that defines what a create user object is so what we can do is actually edit this one so we still need this here hashtag derive accounts because if you remember the word accounts in this case it's essentially like data stored on the solana network it's a trait that we can add to this object or class whatever so whatever struct i create after this line is going to inherit all the qualities of it so enough jibber jabber i'm just going to start coding what i'm going to do here is for this struct i'm going to write create user right so now when i pass in a create user object you know what i'm you know what i'm talking about also you're gonna need this info here it's essentially what's called a lifetime variable if you know what rust is that's something that's common within that language okay we're gonna need this here to get all the information about create user and then when you come down to here this hashtag account this part alone is essentially an attribute that can define specific behaviors for our account for example i'm saying the payer is the signer which is essentially the one who created the contract the wallet that's associated with that and there's something that's space equals eight plus eight that's essentially saying how much space is this taking okay like i said space is very important to know for this code so what i want to do is let's edit this oh so the changes i want to make is a little something like this i'm just going to format it because there's a couple things i want to add to it cool so we're still going to need init here another thing that we're going to add is something called seeds essentially you could look at this as a hash and whatever i put here will help generate a unique hash all right later down in the video i'm going to be talking about die something called dice bear and this what this does is let you create an avatar based on whatever you type in here so take a look if i do blah blah blah blah i get this randomly generated avatar based on what i wrote so if i say lance this will generate this right so without getting too low level or complicated if i go back to the solana playground whatever i put in this array is going to generate a unique hash or seed so what we can do here is input a bunch of information that will help create generate that okay so don't worry too much about what i put here that's just mainly the main purpose so what i'm going to write is b as ref oops lowercase after that let's add a comma because i also want to put authority dot key parentheses dot as underscore okay cool another thing to add is a comma right after this and put something called bump so adding on to what i said earlier whatever i put here will generate a unique hash if that hash already exists what bump will do is basically add like a number or two i believe it does like 20 times until it checks if that unique hash is used or not so that's why i'm going gonna add bump here cool so that we can ensure we have a unique hash after that the payer here is actually gonna equal the authority if you didn't know the authority is the one that is gonna allow us to upgrade our contract basically whoever the address that's associated with making this program so we'll do that as the authority and then for the space it's not going to be equals eight plus eight what it's going to be though is size of do the user right that's created so i say user account then parentheses then we're gonna say plus the user right the space of this is gonna depend on the user that's logged in on his name so if my name is lance or if my name is supercalifragic listbigalidocious right we need to add that as the space great so the username that length and also the underscore url blank then plus eight okay cool all right off the bat you're gonna say like lance this doesn't exist where are you getting this from there's a couple things you have to do also so what i mean is coming back up to the top here underneath the declarity let's add some space like i said we're going to need to essentially hard code how much space we're going to be taking for each thing all right so in this case we need to determine how long can users make their name and essentially how long can the video url length be so if i write const user underscore name underscore length right i have to determine how big it will be so if i say colon i'll say it's a use size of about equal 100 so this kind of equates to roughly one character right so this is how long the username how long do you want the video url to be well we can say const video oops video underscore url length and let's give this a size of about 225. so if we try to input a size that's longer than this it's not going to work i'm literally saying how much space that this account is going to be does that make sense cool all right so i'm going to be coming back jumping around and adding more essentially constants for each thing so while i'm here let's make another cons and this one is going to be the user underscore url underscore length all right which is also going to be the same as the video length so 225 so essentially it doesn't matter which one we put here video url length or user url link because it's supposed to be the same size and again this con's user url length is going to represent the url that we get from this so if this is my url it can only be 225 characters long which this is plenty with this awesome so just in case you guys forget this is going to be username length username length this one just contains the user profile image url link cool awesome all right so that is that's essentially all we're gonna need to authenticate the user account the next thing i want to do is basically define the attributes of a create user right are probably not needed so let me just start fresh i'm just gonna code it up and then talk about it okay so what i'm gonna do is pub user say account brackets info cool so i'm essentially saying the user is going to be all of this information right this user account here and this user account here isn't just essentially another struct that hasn't been created yet so we're going to get to that what would a user object look like but right now we're dealing with create user so the next attribute we're going to need to do the hashtag account and just make this mutable when you see something like mute here mut i'm saying that this could be changed essentially what i'm trying to set up is this i'll say pub the authority is gonna be whoever the signer is okay i'm gonna have this comma boom and then also make a little comment for me and for you this is essentially the authority or in other words this is signer who paid the transaction fee because anytime we store something on train there's going to be some transaction fees so i'm just saying who's ever paying for this is going to represent who's paying for it okay so now i'm going to move a little bit more quicker now now that you guys are starting to get used to the flow i'm going to say pub system underscore program it's going to be an unchecked account and of course we're going to put in this lifetime variable here info again okay which is essentially a simple test account for tick tock okay cool so next step what i want to do is just say pub clock and it's just going to be sis var this and say our info again and i'll say clock essentially we're going to use this clock to save time cool and with that said this is our create user struct awesome using this same pattern we can actually make the user account structure let's define what is a user account look like and maybe that will make more sense to you guys so coming down before here we don't need this i'm just going to edit this i don't need the hashtag derive default but i will be using the hashtag account again here and the name of this struct is like i said is going to be user account so what i ask you guys here is what would be the if you were making a schema or an object in javascript or what a user account would look like what would be some properties that you want to keep track of what i'm thinking is pub user underscore name what is their username and what would be the data type of it exactly you got it muhammad it's a string i don't know if your name is actually muhammad but i hope that you guys like realized and looked so shout out to muhammad out there okay so that's the username all right what's next i also want to keep track of pub user wallet address right essentially what's the wallet address of the user so this one can just be the pub key or sorry pub key like that okay lastly remember what i said earlier we're going to be storing that user's name so if it's me it's lance and also the nice profile url that we get here so for this i'm just going to say user underscore profile underscore image underscore url colon string okay so this is essentially the behaviors or what can we expect when i say user account and if i wanted to access any specific properties of that later in my front end i can reference it using this so i hope that makes a little bit more sense to you because now this should be a little bit more clear right when i create a go ahead and create a user object right i'm going to take into account what is a user account and for the space of it i want to check what is that user's name that length then the video url that link or like i said it could have been uh user url as well cool so now it should be all connecting together slowly awesome so now that's set up we can go ahead and write the logic of the create user function and it should make a little bit more sense to you when i start typing this out so in the create user function if i want to create be creating a user let's say let user is going to equal this okay cool so let's break this down i'm saying in this function there's going to be a user variable and it's going to equal this and mute so remember what i said earlier mute make sure that this can be changed depending on when i call it where i call it what am i calling that what am i making mutable this ctx ctx right from the parameter and it's grabbing the context of create user so get the contacts that i need go into the accounts which again is just the data stored on the program and get me the user and once you get that storyline to the variable and that's going to represent the user are you with me so far cool other than that let's set up the authority so what i can do is say user dot user underscore wallet underscore address all right so if you think about it what is user underscore wallet where is this coming from this property remember what we just did if you see the highlighted it's coming from here right so that tells me that user is referencing this struct and i'm referencing that user's wallet address cool so that user's wallet address i'm going to set it equal to the context right the data that i have stored that accounts.authority.key right essentially i'm setting the authority key as this user's value or the value of this i set the value of the wallet address to be what i get from here which is exactly what it is okay in other words i just set up the authority awesome all right so the next thing i want to do is if i write writing comments let's set the text all right so set the text let's move a little bit faster now user.username is going to equal name right user.username is coming from once again here and i'm setting the value of that property to be the name and what is the name it's going to be whatever i passed in so imagine me later in my front end i'm going to be calling this create user function and i'm going to be passing in lance and i'm going to be passing in my url that i get from here all right so that's what i'm doing setting it equal to there and then from there let's do a user dot user underscore profile underscore image underscore url it's gonna equal you guessed it this whatever i passed in as my url awesome all right so take a second you tell me what does this mean so if you were able to explain it i think you're getting the hang of this so that's essentially all the logic we need to write all we need to do now is write something called message exclamation point and we're gonna say user added you can look at this as the equivalent of console logging on a solana program so if i put a comment here this is just logging it right cool after that remember this where it's going to compute the units all right i just want to make sure i'm going to do that here so i'm going to say solana log underscore compute oops underscore units and call that function all right oops in short this essentially is also logging right but it's going to log how many compute units are left if you're wondering why i'm doing this it's important for the budget because remember it's all based on who the signer who the authority is so this is gonna help okay one last thing is you wanna and it's kind of unique to rust uh you wanna add this okay right here which essentially it's essentially saying that if all this runs the function has passed cool so we're gonna be adding this okay to every single function with that said that's the create user function that wasn't too bad so let's go ahead and go over here and you'll notice build and deploy all i want to do is build and what i do with build is you can see any errors that come up if i wrote something wrong or you get any warning so let's try building let's see what we get yep here we go already have some errors and that's because ah quick thing to note i can see starting from line 16 it's expecting a semicolon right so in javascript we can get away without putting any semicolons but any other language like java or even rust like this but semicolons are pretty important so cool let's see if that fixes the issue let's hit build again okay cool so now the issue is on line 33 this sysvar thing i might have typed it wrong pub struct sysfar info t oh i see so after looking around i realized that this it should be more like this info instead of the back tick and just add that in there and anytime i see info i should put this like that boom so now it's actually the right color that makes more sense so let me try building okay cool okay let's build this up cool okay it says problem with my compute units probably because semicolon again let's see if that gets fixed going back to here unchecked account i see another info that i missed awesome all right so let me just hit refresh because this is getting hard to read cool all right so now that's done let's go back to this and if i refresh notice how it still saves everything i coded up that's because whatever you write here is just cached on the browser if you wanted to reset it back to default just clear your brush your cache let's hit build and awesome so i only see oh okay we actually got a couple errors expected more semicolon issues yep that's one right there and of course another one right here all right so i'm gonna take a moment to get all the semicolons done and i'll let you guys know if there was anything interesting that i see use your username that's a semicolon 54 size has issue with size of oh i see that's because this should actually be underscore and if you see warnings don't worry about those because it's just letting me know that it's unused so let's do a build again alright so build asreft okay oh i see i just forgot to put the parentheses here i might have done that somewhere else let's do build unexpected 935 yep this should have a semicolon too let me just refresh this get a little bit clearer picture yes okay cool final so yeah i just add a bunch of semicolons and some typos here and there which is expected sometimes and if you just see warnings we're good to go right like for example user url length i'm not using it in there so anchor is just letting me know like hey this isn't you other than that every single thing seems to be working fine awesome uh deployment can only be done from the playground wallet right because playground comes with the wallet and when i want to deploy this i have to be connected so we can just hit connect for now let's also just save key pair because we're going to need that later cool and i'm going to remember it because it's key pair one awesome so now i can deploy but i don't want you to do that yet i wanted to do deploy once i know that the build is stable and working and if you come down to here we can actually test all these functions we create once we deployed it so for now i'm just gonna be checking it with build and then i'm gonna be testing the functions after it's all said and done so this is like the trial run try to get you guys familiar with the anatomy but from this point forward i'm gonna be moving forward like faster and not explaining everything as much sounds good all right let's keep up right so one of the first things i want to do is come up to the very very top here and you see this mod hello anchor right that's not the name of my smart contract right what i want to call this smart contract is tick tock underscore clone you can name this whatever you want but this is what i want okay cool now let's go ahead and make our next function so that was kind of just a quick demo on what the anatomy of an anchor project looks like so hopefully i didn't scare you away too much and you clicked off the video but if you're still here amazing you're taking that leap so just to reward you guys let's hop back into our build and let's get back to some nice comfortable web 2 stuff so what i'm saying is let me just do it something like this make sure you're in the front end and we can x out all of these guys let's start working on our index so let me set it up real quick this is our beautiful next app that we'll have like this and how is that can you guys see that cool so again we don't need all of this starter file so let's go ahead and clean it up i'm gonna go ahead and take out the head from here we can keep the styles for now i also just want to erase everything from here onwards until that closing div let's hit delete hit save and if you remember this is actually our live version which we'll check back in a bit later i'll clean up this because it's our netlify and i'll clean up this because it's our github cool so if i press ctrl j or command j we'll get the terminal and remember since we're using the fire cli tool let's just do ntl dev and what i'll do is just open up your local machine and open up localhost 888 and we should see a blank project awesome so now we're ready to get started let's work on the index okay cool the next thing i want to do is i'm probably not going to use this styles home module and just so you know we're not going to be using tailwind for this we're going to be using vanilla css so that's been a while so what i'm going to do is change this not from container but i think i should just call this and we don't since i'm calling it app and i'm going to use this in our global css i'm just going to say class name app awesome so i just want to talk about how i'm thinking about this index right so if i'm making a app on the salon chain we're going to essentially need a wallet to connect to our app so for this app i'm going to be using phantom wallet so i want to set some conditional rendering that if it's connected the wallet is connected we're going to load the main view component right based on our ternary statement and if we're not connected what i want to do is load up some different jsx so i'm going to say div with the class name equal to login container okay and if i make that dip let's make a closing do awesome and you're going to see the squiggly line that's because this is commented out if i brought it back in though it looks a lot nicer so let's leave it in for now but because that component doesn't exist we're going to comment it out later cool so i'm going to quickly do this set up another div and let's see this one i'm going to call class name login title and we'll say log 2 because again if the user is not logged in i want this little like jsx that's going to represent a little thing that says the user should log in so let's do that div here class name equals login sub title cool and then there we just want to say manage your account something like check notifications comment on videos comma more and if i do like an alt z here you should be able to see all that in one line nice cool then there's a closing div awesome and like i said if i hit save we're going to see some errors because main view doesn't exist so let's go ahead and create it so to create a component all we have to do is come over to our front end and let's see and just make a folder let's call it components all right in this component folder i'm going to hit new file and let's say main view dot js cool and then when we make the main vjs i'm going to command b and let's do rs code snippet this is an extension that i'm using that's just going to create a component like so so if i hit save on the main view it's all good and saved and again we don't have connected yet so what i'll do is let's just temporarily make a variable called connected and if we are connected we should see the main view so let's hit save main view is not defined and guess what that's because rule number one if you want to use a component let's import said component right okay so i'm gonna do is write main view from that path so it's dot forward slash components slash main view and look at that main view is highlighted and now if i hit save hey look at that so main view is gonna load if my wallet is hypothetically connected if i were to say false we should see log on to tick tock so let's just fix this make it look a little nicer cool so now that our index is set up let's clean up our login so like i said i'm just gonna put this in our global css so if i go to not pages to styles let's go to global css i'm just going to add it on to here cool so if i do command b can you guys see that yeah cool so let's do dot app because that is like the main container if you remember index this is app the styling that i want to put for this is going to be a height of 100 vh because i want my app to take 100 of my screen or in this case the view height next let's add a background right background of 2 c 2 d 3 0 hit save boom that's the background for our tick tock and then we're going to add display flex here because i want to use flexbox for this and then we'll do a justify content center and a align items center cool so that's the css for the app and if you want to take a look if i go to localhost 3001 i actually have the finished project up and running so this is what we want to get to so i basically want to create a nice little square that has this text and this select wallet button right here okay but if you look at where we're at right now we're not quite there yet so let's add a little bit more styling to our project so if i remember see what's the next thing i need to style it's going to be the login container itself that is going to be this white background that you see here so let's select it by saying login container then we can say background color is simply just white cool save you can see it instantly reflected right here now how do i get that square that i was talking about just say 350 pixels and say min underscore height height and height then we can say 300 pixels let's hit save cool right so we're slowly getting there all right so now let's see i want to format this in the right spot so what i can do is use flexbox what i'll do is a display lex all right so anytime you want to use flexbox you have to run display flex so that you can start using it so next i don't want it in a row because that's what it is by default so i can select the direction direction as column so look what happens it makes it back to the original column but the main reason why i did this is because then i can do an align item center cool let's do a justify content a space around nice and we can do a border radius of 15 pixels and now it's looking a lot closer to what it is right so now as you can see the manager account and check notifications is a little funky that's because that one is gonna be the login subtitle which might fix it so let's go ahead and go back to there so let's target the login subtitle login sub subtitle i believe that's how we spelled it yes it's correct and let's make the font size of this uh let's say one are you okay cool just to make sure and then the color i'm just gonna add hashtag nine five nine five nine five okay and for the text aligned because i want it more center let's make it center and let's add a margin top of negative 80 pixels and i'm noticing it too guys it's not exactly moving so let's see what's going on login subtitle is that exactly what i wrote it is not that's why okay cool so let's put it back to here because i think i wanted it like this hey there you go that looks more like it so let's compare yeah so this should actually be together and that just might be because of the way i put the divs together i just pressed alt z again so now it looks more like this and see yeah i think i want it more like this all i did was just make this capital and just change the spacing around here what you'll notice is that it's not exactly like this that's because once i add you know phantom wallet button the margin top minus 80 pixels will start taking an effect okay so for now this is it let's go ahead and set up our phantom connection okay cool so the next thing i want to do is we can go ahead and press ctrl b or command b and what i want to do is let's go ahead and set up a context folder don't make it in components make it at the root of your project of your front end i mean and i'll say context okay what i want to do with this context is create a wallet connection provider so let's go inside contacts and let's do a new file and let's write wallet connection provider.js this is something that we're going to need to do in order to set up phantom wallet with our app and for now since there's nothing that we're going to see in the front end i'm just going to make this full screen cool all right so within the wallet connection provider we're going to import a couple of things so let's set it up like so we're going to be importing the connection provider and something called the wallet provider these are things that we're going to need to wrap around our app in order to get started with phantom so if you're wondering where this specifically is coming from it's from all right let me do command control b here from at solana wallet adapter dash react okay cool because if i go ahead and do control b and click on package json all right this is where we're getting that library from cool now to understand it let's keep on moving we got the wall provider if i do i'll see here all right we can see it a lot better awesome so that's not all we do have some more things to import like i want to import the wallet modal so let's get the provider for that as well let's do the water modal provider from that solana oops slash wallet slash dash dash react and you want boom all right like i said this is just a model modal that comes with this library that's gonna pop up when i press the button okay cool so next we want specifically the phantom wallet adapter and that's going to be coming from hat solana wallet adapter dash wallets cool i hope i solo that right double check dash i want to see the popup solana ah okay another thing you want to do is import in a react hook which is just going to be use memo okay and that's going to be coming from react of course cool so after we import use memo all we need to do is import something called cluster api url from solana web3.js right because when you're developing on the salon chain you could go to connect a different cluster url so that means like you can connect to the devnet the testnet the your local environment more more importantly if you want to upload this to the mainnet or you actually use you could for this project particularly we're going to be going and working on the devnet so what we're going to do is let's set up our wallet connection provider wallet connection provider we're taking that import provider and just make sure it's spelled it correctly provider wallet connection provider awesome and then what we're going to do from here is make the arrow function and it's going to take in two parameters on this case which is just going to be children awesome cool so within here we're going to set up a few variables one i'm going to call endpoint and in this endpoint we're going to use memo right and inside that memo it's going to have an anonymous that is going to simply just call cluster api url and we're just going to pass in devnet so if you wanted to change this to mainnet at all in the future like you're confident with your build it's stable and secure you can just say mainnet or if you want to go to testnet you could say testname so for like i said we'll be using devnet here and over here let's put a comma okay yep i was right comma here and then just empty array and what i want to do next is set up another variable which is going to be const wallet all right and the wallets like i said is going to use use memo once again and what we're going to do is set up anonymous function again which is going to return a new phantom wallet adapter so we're making use of that library over here all right just add the parentheses because that's actually a function and then we're going to do another comma array cool and then from there we just need to return all the providers so we can get it up and running let's do a connection provider and let's close that off boom and here we can add attribute called endpoint and it's going to be exactly what it is which is just the endpoint const that we made i'm basically saying let's use this to connect to the devnet that's all that's saying and then the next line let's put in the wallet provider that we inputted cool and what wallet do we want to provide like i said we're just using phantom if you guys wanted to use different wallets or add more you could do that through here so i'm going to pass in that and we'll also put auto connect if it's connected okay awesome so now after that i want to set up the modal so we'll use that provider and it's going to take in children not capital children because that is the parameter that's getting passed in and after all this setup we of course have to do an export default wallet connection provide save and i'll just copy boom save and i just need this to remember this so once that's done let's head over to our app all right so to head to the index what i can do is control p and not index we actually need to go to underscore app because in the app this is where we need to import that provider and wrap it within our whole next.js app right here so we need that global but we also need to import dynamic that's just something we're going to need for our wallet connection provider and this is going to come from next slash dynamic then from there we can also import that salon wallet adapter see if i can type it out adapter dash react ui that's the one and we want the styling styles.css boom so i import that this can stay the same cool and since we have dynamic what i want to do next is come up to the top here and then we'll do a const wallet connection provider equals dynamic and then inside parentheses here which is how we're going to import all of that context so we're going to do arrow function and then write import and then write dot dot forward slash context slash the provider cool so then from there we're going to write this line ssr and let's make that false awesome and then from there now we can safely wrap this with the provider itself so i'm just going to add these parentheses here and let's tab on this and then on here let's add the provider wallet connection provider boom bam cool that's a lot of space let me just format that awesome so if i hit save here now we wrapped our whole app with the provider all we have to do now is actually add that button because now we can use that okay and then before i move on let's go check in our little app just gonna click on this expected oh i know let me just take a look yes this parenthesis should actually just go right down here beautiful so if i look at the app again yep we shouldn't see any issues with that so i'm gonna make this smaller once again so that we can actually see it so now we have module not found we should have the module so i don't think it's missing let me just take a look aha adapt react ui why don't you guys say i'm something all right it's adapter save boom okay so we're all good and like i said now we just have to hop back into index and import a couple of things so what i'd like to import is something called use wallet and it's just a hook that comes from the solana wallet adapter it's a nana wallet adapter specifically the react one okay and the last thing i want to import is the wallet multi button which is literally the button that i mentioned over here it's the select wobble button and once we add that the spacing will look a lot better from at solana adapter wallet connect ui boom that looks good to me let's hit save and check this out guys if i go in between these two divs that's where i want to insert it i'm just going to say wallet multi button and bam there we go there's the select the wallet button let's give this a try let's see what happens if i click oh actually before i even get too excited guys remember how we had connected is false right this hardcoded attribute if i put true we're going to load the main view or in other words right if i log in with the actual finished app we see the modal this is the model coming to play this is the wallet that is detected i click on phantom put in your password and bam there is the tick tock and this is what i call the main view alright so if you look here that's what we're supposed to see if connected is true right so now the actual variable is going to come into play so i won't need that anymore what i will need is to make use of the used wallet and get the connected from the used wallet hook basically if the wallet is connected this should return true and then we'll see the main view if it's not connected load the login button cool so moment of truth let's see if this works let's select wallet and let's hit phantom hey look at that it's up and running it's good to go so now we're logged in that is the phantom wallet connection and just in case you have no idea what i'm talking about what is phantom if you go to phantom google chrome you should see the extension here and this is how you can get your wallet where you can hold your solana your other cryptocurrencies that are available so just add it to your chrome extension and you should be able to use the app sounds good awesome this is super cool let's move on awesome so now that you understand how this main view component is being loaded one thing that you didn't get to see from me coding this is that there's a step in between like when you first log in there should be a sign up model that comes up if you don't have an account on the app just yet uh because i did it's got load it up already so let me show you if i go to my second wallet and i press refresh here notice how it loads up right away because i already have an account i don't need to see the log it's connected and i have an account but if i were to make a new wallet on phantom let's go to add connect create new wallet boom wallet number six we'll see the login that we did before and then what happens when i click select wallet boom the signup model appears so all of this is located in the main view component and if you didn't know from the demo if i were to input something for the username and the profile image it's going to call the create user function from my solana smart contract and create a user and once that's done it will then load the actual page itself so if i were to make an account and i can show you by switching back to while it won and i hit refresh you sign up for a second but it recognizes there's a user already and bam there is the tick tock app right so what we want to do now is let's set up that sign up code so just to get you guys familiar with what it looks like i'll just load up wallet numbers let's hit refresh boom we're already connected with phantom so we don't see the login but we don't have an account so we see the sign up so what i want to do now is come over here press control p or command p and let's go to main view and this is the one where it's not going to show up here because i'm not connected to that wallet but when i log in i want to see this so there is a couple things that do go does go into main view so we are going to be jumping back and forth from this and updating it as we go okay so what i'll start is probably just the jsx of this so let me just see if i can select wallet let's see let's get back to wallet number one so we can see it instantly okay let's hit refresh on this guy phantom boom so we're back to main view now we can see this if i took main view out hit save boom it's gone so again working on the jsx one thing i want to set up it'll make more sense later is a fragment here and within this fragment we're going to have another conditional rendering with a ternary statement so this time we're going to be checking for his account okay and again his account doesn't exist yet but it will in a bit okay cool so basically if there is an account we want to be loading the tick tocks right tick tocks will go here if we do have an account difference is if we don't have an account you can go to here space this guy up call in parentheses boom and you can put these guys back together actually if we don't have an account we need to load the sign up so this is where signup is going to go so again all right i'll set it up sign so cool so now that signup's here if i hit save we're going to see an error because one is account is not defined and sign up isn't defined either so let's temporarily add is account and let's say uh false because i do want to see sign and now we're going to see what i said which is sign up is not defined yep cool which is totally fine all we need to do to fix that is just make that signup component so i'm going to new file and i'm just going to say sign up okay and now that i have the sign up js here take out that menu you do our little code snippet boom and then within the sign up we can hit save and then come back to main view and simply just import the sign up from boom so now it's there okay let's hit save do i see it anywhere signup should have the div in here where are you sign up okay cool it showed up when i hit refresh there it is there's sign up and then again just like before if i change his account to true tick tocks will go here yeah is that simple enough so let's bring it back to false and let's start making the jsx for sign up so this is what we want to eventually get into so i can see the background color of this is definitely going to be white it looks like we're going to have to separate this into a div write this into a div and then there's a sign up button as well so i'm going to go code that up now like i was saying before we're going to be using vanilla css for this so if i go to jobman b go to my styles let's go ahead and make a new file the file that i want to make is going to be the name of the component so that's the convention i'm going for so signup.module.css and since we're here let's also do main view name view dot module dot css okay so sign up we can head over to there and let's just set up the classes that i want because i already have them in mind and i don't want i want you guys to be able to see the changes as i go okay i'm gonna hit ctrl b and let's just set up the classes and i'm not gonna fill it out because again i want to show you guys so that's the auth container i'm gonna be using something called title and i'm going to be using comment sign up form we're going to be having an input field class and after input field class let's do an input title and we'll do an input contain we'll also have input itself we'll have a hybrid input again we're gonna do a login button then we're gonna have a login button oops button cool so again i just selected all the classes and reason being is if i hit save now command b and i go back to see i go back to sign up and now i import styles from then i'll say and then i'll say dot styles slash sign up module dot css and hit save and now i can just freely add classes and you won't see that annoying styles is not defined styles is not defined or it'll be like login containers not defined it's all going to be there and now i'm just free to make these dips so here's the first div and then this one will be the class name of that auth container so style dot container okay so we have the auth container already go back to the sign up module take a look at what auth container is going to have so if i say auth container here you can give this one a background color of and if i hit save you won't see anything because let's see if i add some words now there it is so now the background of this div is white right cool well that's what i have just for now i'm going to add the rest of the dibs okay cool we just added a quick h1 with a class name styles let's do alt c so that's easier that's way better then another div here this will be where our style that sign up form goes and within that we'll also have another div with the input okay another one this one will be input and i'll have username in here cool and that's its own div which will be the actual input container and it's like its name it will hold an input and inputs can actually be selfclosing i will give this a class name of input as well that's what i set up before type will be text and the we're going to have an on change here right later on let's just set it up on change equals and it's going to be we're going to be using some state here but we can comment that out for now so closing div closing div then we have the following div will be another input field and this one this input field is going to be for the url so this one will be style dot input field and then same convention as before styles dot input title scroll down okay and this one will be title for this will just be profile image oh and i also forgot to put the colon on this guy awesome and now that we have that let's add the actual input container oh and this should be style nice the input container will contain input same as before text and again there's also going to be an unchanged here that i'll put just to remind me but let's also count it out because i'm not using it yet okay so then it's closing div closing div closing div and then you need this little sign up button styles dot log in and there will be an on click here as well but i'm just gonna leave it blank for now and again the button is just gonna say sign let's save boom we're done right imagine this is your sign up but our goal is to make it look very pretty just like this okay so now for the fun part now the jsx is there to get it started looking like this we just have to add some more css you guys still with me cool thank you for answering so now let's just give this a min width i'm thinking 25 rem and then let me have min height of 20 rpm okay now we'll have a display flex oh let me just show you guys so you can see this display flex because i want to use flexbox and let's make the flex direction column but look what happens if i save this it looks like that once i put flux direction column it's going to put it back to how it was essentially but you can control that direction with flexbox again the main reason why i want to use flexbox is for justify content center and also let's align it horizontally we can do that with a line item center we can also add a little bit of padding which will just be 1.2 rem nice you see is that the right size yes okay cool now we have the padding we have the background color let's also border radius something one a okay we're getting there uh the reason why it doesn't look as like the height doesn't look as the same is because once we add the button it is gonna take up more space and the padding will take be taken into an account yeah okay so for the title is next we'll give it a font weight of there see how that looks okay didn't really change that much reads bolder yeah i don't think this does much but let me just make sure i have a title do i have a title okay and yeah i do have a title sign up to tick tock but i think it's because it's h1 it's already gonna be bold already but we can't mess with the font size i'm thinking let's make this one size 1.5 rem okay cool yeah so we're changing it back to this i was thinking that was a little too big but now it's about the same size okay and just for fun let's add a margin zero three rem zero there we go that's better in terms of spacing and now we'll work on the sign up yeah i liked making out the classes first and then building out with you guys so you could like literally see me changing it live okay now we display flex awesome now you can see because this is the sign up form right here and when i display flex this it puts it into a row and again we don't necessarily want this to be a row we just want to do display flex to start using flexbox but by default it always makes it rough okay back to normal let's do a width of 100 okay and now the margin bottom will be 1.5 rem there you go okay cool so don't freak out that the input is all the way to the left here that's what we want to do we're just gonna when i get to the input part of this we're gonna increase the width of it so it takes up all of the space so don't worry we'll do that next so for input field if i just do it with a hundred percent let's see what happens okay i'll put input filed input how you spell it input field oh i put that dot okay there was another input field somewhere oh i see now there is this again so let me go styles input filed input field and the dot dot again it says save cool all right so going back to this with 100 let's just do a background color of so there you go so this is the input field that we're seeing here it's the container right how do i know because if when i put a background color aqua it made this whole background aqua and because there's another import field div this is also going to be awkward so it looks like one block but it's actually just two divs two days with the same name and same styling cool so that should be fine then what we do want to do is margin bottom one are you a okay cool so the spacing is starting to get a lot more clear now for the title we also want to give this a width of a hundred percent all right and again you don't notice a change but if i put a background color of red right what happens when i take out the hundred percent okay i guess i didn't change anything but the background color is red and now it's taking up a hundred percent oops oh yeah i guess i don't really need this then what i do need though is a font weight and let's make this 600 okay cool yeah that is a little bit bolder and now with the title let's mess with the font size which should also be one aria okay and margin bottom will be 0.5 already cool now we're going to mess with the actual input container and if you're wondering what is input container let's do like a green there you go this whole thing is the input container that holds the input as you can see okay and in fact we actually do need to give this a background color because if you remember this is the actual background color of the input this is how we style inputs because by default we get this ugly old looking square with the outline but we can change it up by just making the background color the same as the finished which is f a f c f c cool hard to see but that should be the same color as this awesome so what i'll do now is a display flex and let's add a border of one pixel and let's give that border an e c f one f four solid oh yeah cool so now it's a little bit more easy to see now that we have that slight border but notice how this is annoying when i get to input we can remove that outline what i do want to add is some padding though for the padding i want to do 0.6 rem and 0.4 rna boom there we go now we're getting somewhere right so let's fix this eyesore let's give it a flex of one oops oh next one none let me just see something real quick okay that's weird this should actually be two input fields but when i did flex one it doesn't look like it let me just double check and troubleshoot real quick ah okay so on line 25 i have a styles filed input container like i've mashed it into one so what i'll do to fix this is we have the field we have the title we need the input container here okay there we go that's a lot better i'm happy with that now we can just go back to styling so border none let's get rid of that learning annoying outline and if you didn't know what outline is on input if i click on this that little black border that comes up let's do it outline now okay so now when i click it no outline and you can see how it looks you can see the input still it's not the same color but if i do a background none here boom custom input field i can still click this and i can still type in it super cool i think one thing i'm missing is we want the round edges on the input field and that should actually go on input container so let's add that too okay so board border radius is going to be 1rm border radius oh nice okay cool i'm getting really happy with that so let's start styling that login button there's a couple of things for this it's going to be background and the color i have for you guys is going to be 4e before like i said you don't always have to follow my colors and styling automatically if you don't like how this is styled i highly encourage you to style it on your own right padding so i feel like that's the best way to learn if you are making a project with us and making it your own instead of just just mindlessly following i think mindlessly following tutorial is good if you're a beginner just so you can get exposed to coding but going back into the code and understanding is definitely the way to go i really can't spell radius for the life of me but this is how you spell it now it's looking better okay so for color should be a nice whiteish color now let's do a cursor pointer cursor pointer yep now it feels like an actual button and there's actually a little transition that i have where it changes let's see if it's working all right do you see that the sign up button boom it's really cool oops i clicked out of it yeah so to do that it's this cool little transition here nope am i not logged in oh yeah we already have an account on this let's get back to this wallet or actually this wallet there you go cool like i said cool transition when i click on it it's just a nice little touch which is going to be 0.2 seconds linear cool so there's that transition then we're gonna do a max width of 500 pixels oh yeah this guy needs to see it too very cool max width 500 pixels and what else oh the min width this is really going to change it 300. there you go cool awesome now i'm just going to make sure the sign up looks a lot better and to do that we can just add display flex right you see something display flex and let's do a line item center okay so that so if display flex is actually row align items will now center things horizontally vertically and now justify content is going to put that in the center there cool from here let's add a font weight of 800 okay nice and then a font size 1.2 rem oh i got way bigger nice and i can already see the difference it's like a spot to diff game right what's the difference you guys see it yep i know i see it too tick tock has a capital t here okay cool and again we have the login button active which is going to activate that transition and when that transition happens i want to see scale 0.9 let's test it out this feels really nice all right so that's pretty cool again you can take any things that you learned if you didn't know how transitions worked for a beginner you now know that you can do transform scale with an active state to do this nice so that is the sign up to use tick tock cool so the next step is i want to start getting this function working where we can create a user because we already have it written in our smart contract we just need to hook it up into our front end so at the moment i can click this button all i want but nothing is going to happen so one thing that we're going to have to do first there's a lot of setup involved when connecting it to your front end but the first thing i wanted to do is probably make a new folder inside the front and we'll call this folder utils all right inside utils we'll also have a file called const.js all right this is where this is where our constants will go and since we're not going to be doing any front end for a while let's just go ahead and make this bigger okay cool can the class see it yes you can awesome so now we're going to do and import the cluster url api url again from solana web 3.js like we did before and then we're also going to do the public key from there as well public key and let's make this camp case okay awesome and then what we're going to do is export const right solana oops oh wait we already did that already if we don't need to do that what we need to do is export cons tick tock underscore program underscore id if you guys are wondering what the program id is if i go back to my website right and i make this bigger i'm on the salon playground when we first started if you notice this was one one one one one but when i hit build it generated a new program id which again is just your contract address if you're more familiar with that okay so here i'm setting up a variable that has just that so to do that we're going to set it equal to new public key and inside we're just going to paste that address so i actually should have grabbed it while it was there but we can easily just copy this this is the program address and we're gonna hit paste right here boom so that is our program address okay cool and another thing that we're gonna need to do over here is oops let's cancel that over here is if you go over to here one thing or one step that we're gonna have to do often is after we deploy we're gonna have to export the program idl okay this is gonna contain all our functions and our structs all the information about our program essentially okay and what i wanna do with this is essentially click on this and it should open in vs code boom so you can see in the idea we have the hello anchor name the bruiser profile image right that's the default anchor program so that means this isn't the right idea what we need to do is actually deploy this now okay cool so this is good to know so if i refresh and i hit deploy all right we're back to smart contract stuff if i hit deploy you're going to say initial deployment cost 5.24 and i only have four solana right so even in the devnet you need solana but luckily on the devnet you don't need to pay for it what you could do is there's a solana faucet right somebody made this website where you can just get solana easily so i can just airdrop two and put in your address so the address is going to be right here so i just want to copy this so i'm just click on this it takes you to the salon explorer okay this is ticking all so what we could actually do is come over to here and let's click on oops we're connected again let's click on this wallet thing let's click connect to phantom wallet so we could just directly connect to my wall cool and i don't want to be wallet six let's be wallet one because i definitely have some salon in there cool so now you can see this is the wallet this is the new wallet address and now it's easier for me to get it and i should have plenty of soul but again i wanted to show you guys if you did once you can just go to your phantom wallet copy your address paste it on here talk about how much soil you want usually i just do two at a time and click devnet cool successfully airdropped to seoul to that wall address so i remember i had 15. so what do i have now i have 17. okay so let's try deploying let's just do build and deploy so i'm going to build just warnings no errors that's fine and let's hit deploy oh i see it's because it still wants to use my playground wallet that's fine then that just means that we need to connect to our playground wallet then so i guess i do have to go back here i want to see if i can actually just copy this without any issues no there can be a smart way to do this extra program credentials program id we got that oh silly me how could i forget the reason why it's taking a long time to load is because it should actually be devnet boom okay cool so you can see my attempts to build are here but really i just want the address give me the address and what i can do now is on the solana faucet instead of my actual phantom wallet i'll put the playground wallet which is the authority to upgrade and deploy your smart contract i'll hit devnet back to seoul faucet and now we have six sole i suggest just doing this over and over so that you have a lot of soul and you don't have to worry about air dropping for a while but since i'm building with you guys i'm just gonna head and hit deploy because we already built and see how it took the solana and now we wait boom deployment successful so now we should have a new idea so let's just double check that now it's ideal three i'll delete them later but there you go the name doesn't say hello anchor anymore the instructions are here right user profile image url and type string cool and now we can see if i press alt z create user that's there awesome cool so let me just go back to that vs code and what we want to do is take this idl right head over to here all i did was hit copy right copy and in my utils i'm going to make a new file and i'm going to call it tick talk clone dot json this is very important every time when i set this up this is the name that i want to use and inside this will be the idl contents that you had before cool so now in my utils it's there what i can do from here is go to const and import it okay so if i want to import it all i'm going to do is just say import tick tock from that path so now it's there and every time i say the word tiktok here right i'm gonna say export cons talk idl and again this step is important so that we can use this to interact with our program on the solana chain and just run the commands or instructions that we set up on there okay cool and that's going to be our constraint yes all right for my next trick we're going to go back into the utils folder and let's make another file which oops not folder and make another file and we're going to call it utils.js okay and then utils.js there's a couple things that we need to import so what i'm going to import is import star as anchor from this is the at project serum anchor right so we're going to import anchor here and we also want to import something called wallet not connected error right from the solano wallet adapter base and then remember the things that we literally just set up the tick tock idl tick tock ideal and we also want the tick tock program underscore id which should also come from the cons yep tick tock program underscore id amazing and what we could do after that is let's set up a function so the function that i want to create and i make sure i export this one it's called get program instance so like i said we need to from the front end get the program that's on the solana chain that's the first step so what we're gonna need to pass is connection right and wallet so what kind of connection are we going to have and what kind of wallet are we using so there we go semicolon i mean curly brackets here and all we're going to write is if there is no or not wallet dot public key then we want to throw a new wallet not connected error okay just some error handling for the edge case and if there is then let's cut up a provider variable and that provider will have a new anchor right we're using anchor anchor provider connection wallet let me just format this connection wallet let's see what else that we passed in as well as the anchor dot anchor provider dot default options yep cool awesome and still in that function i just want to set up the idl cons idl is equal to the tick tock idl that we imported and then this will have the address of the program or specifically the deployed program so here i want to save it as program id equals tick tock programming so anytime i'll go back into my cons and redeploy my smart contract i just change this and now it's dynamic so when i do program id it'll be known as program id and we can also make a variable called const program and that's going to be equal to this program client from that we create from the idl so we're going to say anchor here dot program idl comma program id and provider yes sir and then last but not least let's return that program that we just created okay so get every set up everything pass it in to the client or the cli client and return the program cool i think this utils looks good what i want to do now is set up our own custom hook so if you didn't know and react especially if you're doing function based components there is something called hooks which are essentially like super powers or functions in react we can actually make our own custom hooks so what i want to do is let's make a folder in our front end and i'm going to call it hooks right this will be where two of our hooks are going to go the main one that i want to focus on if i want to create a user it's going to be a hook called use account and that's just what i'm going to call this awesome so with use account there is a lot of things we need to import on this one so bear with me we're going to import and use effect hook right come in here click react and we're going to import token program id and this program id is not the one that we created this one is specifically going to come from the solana spl token one you also want to import use wallet from the adapter react let's see we're going to import get program instance from utils that one we're getting from our details and that should be it another one probably is if you remember going back to here nope believe it is in here we did this import cluster api we're going to do that again but i just thought of a way to make it just a little bit more dynamic so what i'll do is head over to const instead of calling this directly and then passing cluster api at devnet this is what we could do in const we can set up another variable actually we can say export because i want to be able to use this solana host right this is just a variable to hold our devnet url so again this is a good time to use this right you can say cluster api url devnet right so here we go we have a dynamic way to do this without manually putting a cluster api url everywhere what i could do with this is the following so if i remember while the connection provider i can just import solana host right so we don't need this anymore we can just import the lana host from the const and then instead of saying this guess what we can say salon host right with that same example we can go back into use account and let's import solana host again that's the whole reason why we did this i'll say solana host and bam boom okay i keep saying noises boom bam boom so after we do that let's set up some variables here we can do a const anchor this one we're going to use require for pat project serum anchor and then we can say cons utf 8 is going to equal anchor.utils.bytes.utf8 okay cool so that's that variable setup there's come up with more things we want to destructure this anchor real quick and get the bn and get the web3 from the anchor object and another one i want to get is something called system program and that's going to come from web3 so yeah we've got web3 from anchor and then we got system program from web3 now we want to set up a variable here called default accounts and the default account is going to be an object which has a property of token program which will in turn have a value of our token program id and again it's not the one that we made it's the salon from the salon spl token okay then we have a clock attribute with the anchor dot web three dot sis var there you go then we have the system program oops not that one which is going to take the actual system program we destructured but specifically the exact program id nice okay cool so now for the actual hook itself right we just set up an object here and imported a bunch of stuff what this hook will actually do is the following we can say the function const use account right it's going to be equal a constitutes account is actually gonna be a function and it's gonna have a variable called cons and it's going to use wallet and that's what we imported here cool and we also want to set up a connection variable and the connection is going to have a value of the web3.connection and we just pass in whatever url we're using devnet testnet and if you remember it's all stored in solana host right now it's making sense so probably let's do a cons program and let's use the get program instance that we made earlier in utils right to actually get the program and if you remember what it passes in it takes in a connection and a wallet so we can just pass in the same thing to the devnet and then the wallet we pass in is wallet from the used wallet awesome so for cons sign up oops it's a variable which will equal an asynchronous function okay this asynchronous function is going to take in a name and as well as a profile because remember the front end it's going to take a name and a profile image and this function is going to contain the smart contract instruction call so in here we're going to have to call the create user okay cool so if i want to call create user there's a couple things that we need to do so the first thing is the following to make a variable user pda right and we say await anchor dot web three dot public capital k key dot find program address okay and i'm just gonna press enter for spacing and we're gonna do in this it's gonna take an argument of utf8 dot encode use and then wallet dot public key dot 2 buffer and last but not least it will take the program dot program id okay and remember what program is it's program from the get program instance and we get the actual id here just press let's see how's that cool awesome we can simply just do an await now and we also want to wait for the actual instruction call so if program oops program if program is the actual program itself then we want to connect to it by doing the rpc and from here call the name of our instructions what was the name of our instruction in our smart contract do you remember exactly it was create user right just double check salon playground what is our command create user awesome make sure it's the same spelling okay so that's it rpc.create user and what does that instruction and the program take takes name and profile yes is it coming together now i hope so i really hope so guys again these are not easy concepts to understand the first time it takes me a while to understand and i'm still learning even today so my goal is if i keep repeating those concepts it's just going to click right so account user can be user underscore and authority is going to be the wallet dot public key like key comma dot default accounts all the accounts that are associated with this smart contract and at the moment it's technically zero but eventually if a lot of people are using your app you'll have a lot of counts okay cool all right so there's closing curly bracket closing parenthesis closing curly bracket and then here is where we want to return our sign up and again that's our function cool so that is it we're not actually calling the create user yet we just set it up so when we run this custom hook then create the user okay and now the next thing to do is figure out when do i want to run this hook okay so i'm super happy you guys are following along so far and i know it was a lot of setup but now we can go back on the things we already made and get everything up and connected so what i mean by that is let's head over to main view again so if i scroll here main view and let's just set up a bunch of things that we wanted to get so that's gonna be import use effect right we're gonna be using some of this later use effect and also the hook use state from react okay and then we also want to import use wallet from atlanta slash adapter dash react yay okay and then from there i put in ort m port okay then we can also do oops import our good old friend solana host we're going to mac the maximum use of that variable and this is going to come from this path i believe it's utils yeah nutils and then const we also want to bring in get program instance right so now this should all start being familiar to you on what everything is which would make me super happy so now it's like utils details yeah okay and then we're gonna do another import of the token program id but again this is from the at salon spl and if you didn't know spl is solana program library so that's what the program id is for all righty so we have that and now another thing we could do is import some hooks or just the one hook so far which is going to be import use account from the hooks slash use account so now we can start using this okay oh and one thing i forgot to mention too is we didn't import the styles from here yet so let's import styles from that path which was dot styles yep and then we could just say main dot module dot css and we do have that right guys let me just double check it was command styles yes sir okay it's right there main view okay cool so now we can start like making the jsx of the main view later okay so there we have it all right so moving on let's set up some more variables and the variable that i want to set up is the anchor one again so let's set up an anchor is equal to the require the project serum all right boom and cons utf8 it's going to equal anchor.mutils.bytes.etf8 okay and just like before we want to do the structuring of the anchor object and get bn and web3 and we want to destructure web 3 again too let me just fix this const cis program set that equal to web 3. yes cool so we're getting again web 3 from anchor and system program from three awesome i also want to be setting up my default accounts again let's kind of let's do a default accounts you're going to notice as we're building there's a lot of the same code or just similar code in different places so once you know what the piece is you can see like oh this goes here this goes here token program it's going to be exactly the same as last time token program id clock will be anchor dot web 3 cis var cloud clock pub key and system program will be system program dot program id yes okay got the default accounts and remember how we got the use state there is a bunch of state that i want to start setting up and to do that if you want to start using the hook it should be inside the function component itself so here i'll start setting a bunch of them up cool so there's you state here and for now we'll just do is count so now you're going to see this is where it comes from is account and set account and the default state will be false if i ask you guys if it's initially going to be false right is account is going to be false which one is going to load sign up or the tick talks will go here so if you said sign up you're right because the default state is false there they sign up then we can switch this state to true so we're kind of using this like a flag or a toggle okay awesome and while we're here let's do the cons wallet is equal to use wallet and we're going to set up the connection again which is going to be new anchor dot web 3 dot connection and this is where our solana host comes in so i'm basically saying the connection is on the devnet again okay and the cons program remember the get program instance we're fetching the program essentially with the connection which is devnet and the wallet which will be phantom okay cool here we can actually use the used account hook so remember what the use account hook does right where are you use account hook yes use account is actually the function sign up right where it actually keeps saying actually it's the function signup which will in turn create the user from our program so coming back to main view let's use that hook so i want to get to the sign up function from use account right so let's think about this in my main view is that where i'm going to call the sign up function what is main view main view is let's go here main view is essentially the view after the user signed up which is where the tick tocks go like i was saying so it wouldn't be in main view the sign up function should go in sign up so now the naming should start making some sense too cool so how do we get the sign up function in the signup component well there's something called props which essentially you can pass things down from parent to child so if i were to illustrate this concept let's picture like a square here that represents our main view right so this is m for main view component right what is the child main view component it's going to be sign up because that lives inside the main view so we can illustrate that drawing so the child of maine is going to be sign up so i'll just write it as sign i feel like khan academy right now okay cool so where does the sign up function live the signup function lives in main view so let's have a little circle here and that represents the function we're good so if the function is here how do i get it to this component we're gonna have to pass it down to sign up as a prop okay so now you might be asking lance how do i pass it down as a prop luckily it's pretty easy and it's like a react basic so this one's for you beginners if i go back to my selection here all i need to do to get that to start working is come down below here and say sign up alright that's the name of the prop is equal to the sign up function so this is how we pass down props to a child all right while we're here i also want to pass down another prop called wallet and what i'll pass is the wallop republic and we got to make sure that it's 2 base 58 because that's the format that it wants it in or that makes it a lot more easy to deal with or work with cool so those are just so if i ask you how many props we passed down you pass down two and they will all exist in one prop object okay cool so pass down to props to sign up let's move over to sign up and i'm sorry the whole time the sidebar was here and then let's go to sign up and now you might ask okay so now that signup function exists or is passed down to sign up but you now have to accept the prop so usually what happens is you go props right and if i were to console log this you would see an object that contains wallet and sign up and to get the signup function you have to usually say props dot signup cool but we can use something called destructuring which you've seen me done before which is this so if it's an object to destructure it you write out the brackets for the object and instead of writing props i can now just write the names of the attributes so here in this case it'll just be sign up is this the real one i'm going to use i just have wallet there just in case i don't believe i'm actually using it but i could revisit that later all i want to do now is just pass in or accept the signup so this is so every time i say sign up now i don't have to say props that sign up or in this case sign up signup this looks so weird to me all right cool sounds good and while we're here let's also import the hook that i want to use which is just going to be use state which will come into play in a second now let's see what's going on oh from react awesome so if i hit save this is our main app maybe we can split it up a little bit cool how are we doing nice okay so now no errors right i can see sign up if i were to console.log it like i told you let's see what we see we might not see it yet because we're not in the sign up part yet yep i was right so what we have to do is this click select wallet phantom log in again webpack imported module is not defined oh one second okay this is actually telling me that use account in main view is not a function okay so let's look at use account okay it's not a function ah there we go the reason why it's not recognizing as a function is because i forgot to add a export default use account hey there we go so now we can head back over to sign up hit refresh real quick hey so here we are so now let's see if my console log is working and it should show us a function yes exactly so we got our hooks working awesome so now we successfully passed down the sign up the question is when do i use this function and what are you guys passing into it so in other words if i were to make an account called lance and my profile image is this cool guy right here right how do we save this and then pass it to the signup function because right now it's really not getting saved that's where the use stake hook comes in and we just have to set it up like so if you come up here we don't need this console log anymore what we can say is const array is equal to use state because again this remember i talked about the structuring an object this is how you destructure an array because you state actually returns an array with two things right whatever an array of whatever you pass in here by default it's undefined and a function and i can define those by giving them a name so i'll call that username and the function is going to be called set that username that's typically the convention is set whatever you put here by that logic how should we do profile try to guess it before i write it i'm gonna say const profile is set profile you got it so then we say use state right here yeah cool awesome once that is done right how do we then sign up we can create a function called sign clicked all right this can really just be whatever name you want i'm just going to do it that because it makes sense to me and let's console.log signing up all right cool we'll just leave that at there because it's really noticeable awesome okay cool so this function is something we just created when is it being called i really believe program is just thinking so if i was thinking when should the function be called if i'm using this app if you said when i click the button you're correct at the moment we don't we shouldn't see a console log that's because in here and i mentioned this before we're going to add an on click yeah in that on click we're going to have the sign signup click and notice it's signup clicked not the sign up function yeah so let's save that and now if i make this guy bigger let's see what we see boom every time i click this we're running that signup function we created so what do we want to happen when the sign up is clicked that's what i would ask myself and what i want to happen we call the sign up function right we say sign up i think it's just like this sign up and what do we pass in the signup function if you forgot what we have to pass in go back to use account and look we pass in a name right name and profile i hope that's coming together for you but then how do i pass in the name i could hard code it right you're right i could put lance here and then i put the image here but that means every time i sign up all the accounts are going to be lands with the same image i want to make this dynamic so to make it dynamic we need to put like a variable here so what variables can we put here that's right username and profile so for now let's take this out because i don't want to call it when i press it let's figure out how to say like if i were to write lance here how would i save that using state so that's right you might be catching on if you were paying attention right on change is going to come into play now so we don't know on change basically will run when there's a change in this input field right so let's say on change we're going to say e for event and we're going to say set user name so using that function from the state and we're going to say e dot target dot value so that's how we grab the value of the inputs on change so essentially we want to copy this down here right but what should i change here if you're thinking about this yes you guys are experts right it's going to be set profile yes and it's going to be target that value still because that's going to be whatever i write here so what should we do to see this is let's console.log right username and profile let's try to run this experiment and i'm going to make this bigger so it's super clear because once i explain this i'm not going to explain it as much later on awesome so in the console when i hit refresh for the very first time we see undefined and that's because there is no username there is no profile image but if i were to click on that input field and let me just make this a little bit bigger if i were to click on the input field of username if i type in l will happened right look at the console it's a l in there because when i click l that's considered a change and every time there is a change we're setting the user name so that's why only the top part is changed if i say a and c e right so the latest one is what the username is currently all right if i'm talking about this guy right here i hit paste how many changes would this be if i hit paste one change so now username is lance and my profile image is this image right so now we have the variable that contains whatever i put in my input the reason why i'm taking my time to explain this is because you can reuse this for any app all right this is like react fundamentals to me so enough over explaining if you guys already get the idea feel free to skip but i hope that was you were able to understand that so now that i know that these two variables will always contain what's ever in the input i can then call sign up and then pass in username for name and profile for the profile image beautiful so now that that function is done let's see what it brings us and as i was saying once that function is done it's all hooked up and it should be ready to go one last thing i will do though is coming over and use account once this await is done right i want to have a console log here is with user oops user is signed up this is how we can test if code went through from the front end there's a way to test it on the anchor build itself and also solano playground itself but since i'm already here this console should only run if this function call is resolved does that make sense cool so moment of truth now i'll go ahead and bring back my little website and for all intents and purposes i'm going to hit refresh cool now there's no username username state is blank because it gets reset and i'll say lance and my profile image will be this guy and let's see what happens right and actually should make this bigger in fact so that we can see that console look all right so i'm expecting errors but let's see if it works on the first try okay transaction may have failed to confirm usually if you see this that's not a good sign and there you go failed to send transaction transaction simulation failed let's see if i can troubleshoot this problem okay so from my understanding whenever i see this that usually means they try to take seoul because any time you do something on the chain you have to pay some transaction fees and that usually means i have no soul but i thought i did but if i check my wallet while it's six oh obviously now wallet six has no solana so that makes a lot of sense why this isn't working so let me just refresh this real quick and actually change the wallet where i have plenty of soul so i'm in walnut 1 and i have 17 so that shouldn't be an issue let's see if we get the same error so repeating the steps again if i see if i write lance now username has something if i paste this that should be the dice pair oh it gets so happy because it doesn't say transaction may fail this is actually working once it approved a user is signed up so officially there is an account that is signed up with our program and its name is lance and the profile image is this dice pair of now the seed kodi so that's super exciting to know every time we make a new function on solano playground or your smart contract we're going to be testing it on here and it's the same process throughout right we did a lot of the setup so it's going to be the same thing so that's exciting let's move on to the next function okay so i think that's a pretty good spot to stop on the front end i want to start coding back on the smart contract so i hope you guys are ready for to come back to that one thing i want to do is save my progress by coming down below and let's hit this vs code right here if you remember we do a command j and then let's update that github repo so if i do see boom so we could do a cd dot dot and let's do a git status right so if i go to date status you can see all the things that we change and if i increase the size of this it's going to look a lot better all right so look at all the work we did so far one thing that you should get into the habit of is saving your progress by updating on your repo if i do get status again we should see i added all those files so git commit and i know we added a lot of things it's been a while since i've pushed so let's just say add i added create user functionality because that's kind of summing up everything usually i like to be pushing more often but that's a good start so if we do that we can do get push and if you remember our old tic toc lana solana tik tok app.net life i think if i go to netflix here go to log in we should be able to see our website update all right so this is what it was at the very beginning of this video but now if i come below here it's going to be building again so every time we push it's directly connected to our github it should push all those changes and show the app again okay here we go it's starting to move now it's not going to take as long as the initial deployment because it's already deployed so it's a lot faster now awesome so this is good to see side is live and the beautiful sparkle emoji so this was our live site i hit refresh wow it's already live and it's already up to date so we can connect our wallet hit connect and we can create a user okay that's good to know all we need to do now is next this out and let's hop over to solana playground okay so going back to the playground let's just clean a lot of this up we can keep these guys dice barrier cool but i don't need that specific image and we don't need any of these so it's all cleaned up full screen and now we're back to our smart contract i hope you guys didn't forget but i want to add another function so if we're thinking about ticktock right what are the functions on here so this is the finished app once again let's see am i on one sure boom so i'm already signed up and we have all the videos here right so how did we add the video on tiktok if you remember the demo we clicked on this guy and then we uploaded a new video by inputting a description and putting up your video url if you're already looking at this and thinking about how we did create user it's a lot similar right so what did we do if you remember the steps we created a new function or the instruction that we want our program to do awesome so let's get started all right so to get started i remember i made some variables here that we have to determine the size of i'm going to make the rest of them now so we did username length we also need to do something called text all right for text length all that is will be the video and comment text length which will just be a use size again but this time of 10 24 so we can have a long description essentially okay other than that another variable that i want to set up since we're already here is going to be concept number of allowed likes right space we don't want the users to be liking the same video over and over again we just want to be able to like it once cool so we're just going to say five then after that we're going to say const number of allowed likes wait no i did that already awesome so number of allowed like space will just be five okay that should be good for now in terms of hardcoded space what we can do now is start coding up the instruction and the next instruction is gonna be like i said create video right that's the process of uploading a new video on tick tock right so how do we start off a function we can use this kind of as a template so we'll say pub fn and the name which is create underscore video and for create video it's going to take in a couple parameters as well which is going to be ctx for context and this time is going to be context remember if we looked we took create user i'm sorry guys let me zoom this in so you can see that a lot better how's that create video will be the context right so again we have to create a struct so let's do a description it'll be a description parameter and what is the data type of the description of the video it's going to be a string all right how do i know it's a string it's because this will be considered a string and this is the description right here building chess app and react okay so description will be string the video url which is a lot like the profile image url is gonna be string as well all right so we also wanna store or take in the creator name right so if i'm logged in as lance this is where we're gonna pass in links and then of course the creator creator url which will be a string as well so they're all strings except for the context of create video okay and we need this little arrow here and we're gonna type in program result and that's going to be what gets passed in so for program result right we just want to log the description here we'll say and oops description so we can see it once a week another thing i want to do is literally get the video so before i move any further remember how we we're starting out this function and for it's a lot make a lot more sense we created the struct for create user i'm going to do the same thing so let's take a moment to do just that all right so coming down below over here where we see the structs what i want to do is make another one this one is going to be for create video so just if you scroll up here using this as a template we also want to derive accounts so we're going to derive accounts okay when we derive accounts we have to write the struct exactly right over it we're gonna write pubstruct the name of the class or the structure here so we say create video and we always do info here okay info after that curly brackets and everything within this curly brackets is going to define what needs to happen or what are the behaviors of creating the video okay so first we need to authenticate the video account right so we're going to do the brackets account just like we did previously nothing new and we had parentheses here and oops it automatically finished it for us but we just want to do init we're going to set the seeds again the seed is going to equal b video dot as underscore ref parentheses comma random key dot key dot as ref okay cool so now that we set up the seeds we also want to add the bump again just in case it's not a unique hash we're going to add the bump to increment it by like one five and i think it's up to 20. uh the pair just like before is going to be the same as the authority cool after the pair we have to define the space of the video how much space does it take it's going to be size of video account video account okay and that's parentheses here plus right all the defined stuff that we put in at the top so it's going to be whatever the size of video count and text underscore length plus the username length plus the user url underscore and last but not least we also want the video url link video underscore url let me always do a plus eight right here plus eight i wonder if this works without z no okay cool so that should be fine i wonder why these aren't highlighted the same way diffuser url length let me see that's interesting to know but that's essentially should be the size of it all right plus i'm going to keep going i wonder if i can hit enter here plus 8 plus 32 and then it's going to be times the number of allowed likes right so we're actually using that as well space all right so there's 32 bits in a pub key and we have five so for this one cool so there's a lot of things that goes into the video essentially that's why there's a lot other than that underneath this we need to define the essentially the attributes of the pub key which is going to be pub video which will have a value of the account info video account and again we don't have a video account just yet we're going to create that struct in just a bit next we're going to we're essentially going to do something just like this or similar we're gonna get the hashtag account again and say mute and this time this is gonna be random key which will also be account info info okay after that let's define the authority right essentially the signer who pays the transaction fee once again it's literally the same as this all right i can even copy paste it because that's going to be the same okay other than that we need to run a system program again and we also do the clock so do you see what i mean like after a certain point you're going to start to recognize oh some of these things need the same exact pubs so there you go for that and remember this one is just to save the time cool so we made the see we made the create user struct and then we made the user account we made the create video now let's make the create let's make now let's make the actual video account itself okay so to do that we can just get our account attribute and say pub struct once again okay cool so this one is simple a lot more simplified and easier to understand a video count right what should go what should be the keys of a video object if you're thinking java the ones that might not be inherently obvious would be you need to keep track of the authority which was just pub key you need to keep track of what else the description of the video so if you remember if this is the video object itself there's a description that we're going to need to save or set so we can set that up by saying pub description and we define what the type is right after okay so we also need pub video underscore url which will also be string right these all are going to be strings the most part pub creator underscore name string we also have pub creator url which will also be string and we'll also have pub comment count right we need to be able to count how many comments there are so if i go here you can see there's one on this one zero on this one four on this one so each video has a property called common count and this is where we are setting up or defining that just like we would in a class so then that one is going to be unsigned 64 integer so pub index all right the video's index is going to be 64. because we're going to be multiple videos so we're going to give them an index as well so let's do pub creator time all right this one will be i64 okay assigned 64. cool next we want to set up something called a vector which is something you'll understand if you know rust so you're going to say people who liked and that's going to be the property beck pub key so the way i look at this with rust you should know exactly how much space you're using with the vector the amount of likes can drastically go up right there's no we can't set a real hardcoded limit to it so with the vector you're just essentially allotting space for it and pointing to it okay this is how much people liked it all right at least from that's to my knowledge okay so pub likes you can say and then you can say pub remove 64. cool so all of that is what makes up a video object and we're taking that into account when we create a video right here video count and we're also taking that account when we're talking about the space okay cool so one thing i'll do is i should add some semicolons i believe i'm missing some but again build will let me know let's see i'm expecting a couple warnings or errors cons text length i see help provide a item for text oh duh i have to put like the use size of it i just put 10 24. let me just double check yeah use size i know i did put u size i just put two here build mismatched okay so i'm just going to go through all these errors one by one let's try to figure this out together oh there's actually is a semicolon that i just added that shouldn't be there boom i'm gonna hit refresh to clear it it's pretty easy to read nice that's normal oh did i not remove that semicolon oh no i didn't okay compiling oh there you go that's where we need some semicolons i knew i was missing it somewhere okay expected a comma oh not single one comma cool and that definitely affected the likes there pine pub key in the scope can just refresh that again let's see yeah if you wonder why i'm refreshing it's because sometimes it's hard for me to read all those errors there's so many but if i just click build let's see again yeah just move this around it's easier to see okay that's a little bit easier to see now program result expected result that not have program result we have salon entry point here so let me see if i copy this over i might have just typed this wrong so this is program result reflected here should be the same oh duh i didn't finish creating the rest of the function so program result isn't going to give anything okay cool now i see the issue let's just carry on what we need to do is create underscore video right create okay so and then if you're wondering what happened with the other errors i might have missed up something with beck public key so if you need a second i'm going to show you guys this just make sure your video count all the properties are this and pause it give you a second cool awesome so now it's all fixed up i just format it a lot better and fix some spelling okay now we can move on and finish the rest of the create video function so that's going to be over here and i'm just logging the description that's passed in from this function and now let's actually get the video so to get the video i'm going to make a variable here and it will say and mute right because remember mute means i'm going to be able to change it if i don't put mute it becomes immutable and i can't change it oops the account video account we're getting that video account and then on top of that we're setting that equal to mute ctx so essentially this video will have a data type of account video account and it's going to equal the context.accounts remember it's taking in the context of create video so we're going to take that context go to the account and then grab the video so we're getting the video so this thing right here you can look at it as get the video okay once we got the video with that line of code just line this up with that line of code what i want to do next is set the authority so if i say video because we got it now the authority i want it to equal the context of the accounts and in the count the not only is the video stored on there but the authority is too we know that from authority dot key okay boom then we also want the video dot description the description must be the have the value of description that's passed in so notice how we're taking the keys from the video account struct and we're setting and defining the values for them here okay and this is the one where i can't forget i should be putting a semicolon okay semicolon i'm going to say video why this why isn't this formatting the way i want to okay cool so let's do a video dot video underscore url that's the next and do video that's what gets passed in all right then we can do a video creator name creator i'm just going in and set that equal to the creator name that's passed in which should be the same of the username right so if i log in as lance the creator name should also be passed in atlanta so video doctor underscore url gonna be equal to that creator url so we're gonna technically separate these just to visualize a little bit better this is like the video stuff this is the creator's information cool and each video is going to have a comment count so what should be the value of the comment account at the beginning when you upload video it shouldn't start with five comments so that's why i'm gonna set it to zero also video dot create tour underscore time that's gonna be ctx accounts dot unix underscore time stamp so we can have a timestamp associated with the creating time okay then we have the video that likes which is just like comments how many likes can we expect when first creating a video it's zero awesome okay and once all that's said and done we can say message here and say video again which is just logging and just like before we want to do our soul log and compute the units so we know exactly how much units are left and every function has to end with an okay because that's how you know everything passed and i believe you can pass things in here as well but we don't need to awesome so let's run anchor build let's see what errors come up oh look at that message and description okay that's fine we just need to add a semicolon i can understand that let video unexpected token oh that's because yeah that's because i didn't add the semicolon so this compiling separates it so cannot find function solana compute unit okay that should be units okay compiling so now it's the video authority no field authority on type count video account okay so let's go into video seven let's see what we're missing so it's saying oh authori thor ritti okay finished no way okay cool awesome it always makes me happy when you run the code and there's no errors who can relate finished let's go so now what we could do is upgrade this right the cool thing about cilantro programs is that it's upgradable unlike other contracts because like once you finish the contract and you put all your functions in there you try to change it it's not gonna work luckily with these programs you can upgrade them so i'm going to upgrade this contract and once we do we should update our idea luckily i had enough soul see did i have enough soul deployment successful awesome so one thing i want to show you is if you come over back to vs code right i zoomed out a lot and we just do command j here command b awesome and let's just head over to the idl right or in other words the utils tic tac clone json do an alt z here you can see how there is a create user function in the under the instructions but there shouldn't be well there now there should be a create video instruction and that's what this idl should contain so just to make sure everyone refreshed and let's do a idl and export it idl4 and let's take a look if it's there so now we have create user as an instruction and create video awesome so let's take this idl for and copy the contents and remember this idea is not in our project right so we can access out let's x out two and let's make sure we paste it in our tiktok clone and now that's a lot better let's hit save so now when we get the program instance and we get the idl it's updated with the new instructions and the structs that we created on here so that's the process to update your program with your front end okay so remember that we're gonna be doing it about two more times after this so now that we have that function let's set up the front end for it yeah all right and we had our fun making the create user function but now let's go back into comfortable front end web 2 stuff so let's head back to the code so coming below here oh my god this looks insane but we can just save this and let's head back into main view just for a second here and what i want to talk about now is we made the function for create video but in order to test we have to create something that's going to fetch the videos that are already there so at the moment there is none because we haven't uploaded any but we need to set that up still in order to see something happening so what we're going to do is come over to your hooks again and let's make a new file this one is we use tick tock tick tock.js boom all right so we're making another custom hook all right so i can go ahead and make this a wave okay and we can increase the size of this too how's that guys all right cool so follow along with me it's going to be a similar process to when we did the last custom hook except this time we want to be fetching the video accounts that are in the program so let's import which would be the first thing we do the token program id from solana not from our utils from solana sbl token okay from there let's also get the wallet from solano adapter react we also can import something called public key which we have before public key which will come from solana web3.js and our best friend the solana host okay so if you think about this logically we want to be getting the videos from the smart contract right so in order to do that we have to get the program luckily we already made something that gets the program so let's do import get program instance from there we're going to do utils slash utils that's where it lives we can also do a const anchor equals require the at project serum anchor okay now this thing is similar to literally the last hook we're gonna get the anchor.utils.utf8 okay then we use const bn because we're going to be destructuring again anchor and then remember we're getting web 3 from here so what did we get last time from web3 we got you're exactly right system program from web3 okay cool let's set up our default account again then it's going to be token program is the value shall be token program id and then the clock which just saves the time will be anchor web3.cis bar underscore clock underscore pub key system program is going to be systemprogram.pro id cool so that's our default accounts nothing new here we're just setting it up once again now for the real function itself tic tac we're going to do const use tick tock okay awesome this shouldn't be curly brackets it should actually be parentheses and again since it's a function we just got to set up like one there we go okay now that we set up the function let's take in a couple of parameters and there's actually a lot that comes with the use tick tock we want to get a parameter called set tick talks right this is capital t and then user detail video url description remember this is all the besides that tick tock these are all the keys of video object that we created from our smart program we're gonna pass all those information in so we can set it same kind of pattern set description set video url and set new video cool so just to quickly go over these parameters like i said these are the keys of the video when you see something with set we can infer that we're probably going to pass in a state here that's going to have the description like the same way we did with the login right so if i come back to here really quickly right remember how we save the state of the user name and with set username we can assume that we're probably going to save the state of the description and the video url so that's how i'm thinking about this right so a set of description video rail and then also set tick tocks should hold all the tick tocks that we have in that account so they're going to do const wallet which is the first line of code in the function and con's wallet will equal use wallet again and let's get our connection ready so the connection is going to equal new anchor.web3.connection and this is capital c solana host because what is solano host you should be hearing it in your head i don't even have to say it yes it's dev const program equals get program instance connection wallet all right okay cool so again this is the use tick tock function now within here we'll have the get tick tocks it's going to be asynchronous this is like the sign up section of the user account right where in this use tick tock we have a get tick tocks function okay let's have a console log here just to know so i know that it is like in fact fetching or at least it's running and afterwards let's say cons videos and let's get that video account so to get the video we can do program.account right dot video account that's the specific type of account that i want and if i do all i get all of them okay then we can just console log the videos which should be just an array of every single video that we have if there's no videos like we have right now the array will be empty so if we are able to get those videos we're gonna just use set tick tocks right which will be videos yeah awesome and again we didn't make the state for set tick tocks but we are when we set it up in main view i believe but here we're just calling it right because where we're gonna use that tick tocks set tick tocks will exist i hope that makes sense to you guys so let's make a comment here save all videos in state for frontend awesome so that's to get tick tocks within use tick tock but there's actually more functions within there so this one is going to be like video so like video is exactly what it sounds like it's going to be what's going to allow us to one like the video or in other words create a comment so maybe we don't need to make this just yet but i can set up the skeleton of it okay so function to call like video from smart contract all right so we don't have that yet but we're setting up a skeleton cool and if we're gonna follow that convention we also have a function that's gonna allow us to function to call create comments from smart contract yeah so notice how we made a function we're going to be making a video function from the smart contract in our playground and a create comment but we didn't need to make a get video because there's already a way to get all the videos just directly calling the account from the program so that's the reason why it's like this okay so this one's going to be consecrate comment equals async address and i'll go over this again once we have that function but for now i'm just continuing to code this cool now this is the one that we do need this one is the actual new video itself right so what function are we gonna call from the smart contract here function to call create video there it is new video just to make it different name async just like the others and it's not gonna take any parameters because the parameters that we're going to take all exist already globally use ticktock and we just have to pass it in when we call the instruction okay so one of the first things is we need a random and we can get a render key by saying anchor web 3 key pair keypair oops.keeper and it actually has a generate method in here dot generate and then what do you want to just read which is the public key cool awesome other than that let's do a let video underscore pda equal to weight anchor.web3.com public key find program address okay address parentheses here and inside we can have the utf8 again dot encode video comma random key that we set up to buffer okay and then we want to put comma program.program just passing this all in the program address okay after that we have the transaction which is going to be abbreviated as tx and here we're going to await the program rpc8 video and inside it's going to take in a couple parameters and it's going to take the exact same parameters that we set up on our playground so if you remember it's going to be the description the video url the creator name and the creator url so let's translate that in here let me make sure i spell description script we're going to pass in video url and this one will say user detail as the creator name because these are detail user name and user detail dot user profile image your all right because we also want the profile image so if you take a look in here we have the name and when i look at the comments our picture is also on here cool all right so let's go back to the code user profile image url and then it's going to take in an object all right that's why this is really well so the object that this is taking in is going to be accounts and the accounts are going gonna have the video pda from before and random key as the random key and then we're gonna have the authority be the wallet public key and again we're gonna do this dot dot default account and the closing parentheses here is the end of the parameters and all you need to do is console.log right tx all of that was part of dx if i'm able to console.log tx we can assume that a video was created so we can test that function okay from there we also want to set the description to empty right we're doing this because if i create a new video we should clear the description because that's going to indicate that we already sent it right if you were making a todo app and you put in your todo in the input field you press enter that should be cleared so we can do that since it's saved as a state by saying set description is just empty string and set see what else do we need set video url to empty string and set new video show as false because that's going to be true okay awesome and then there is this function within use ticktalk called get you can just set that here and i'm just going to keep it here so let me make a comment for this one function to fetch comments from the comments on the smart contract all right so there's no function that we're creating called get comments we're just fetching it from the account itself cool and i won't forget this time i got you guys after getting all the comments did i write this right let me see oh yeah get comments after writing all the comments i wanted to be able to return all those functions right you have to return it like this so if i do get tick tocks like video create comment new video and get comments so if i return it like this i'm essentially going to be able to destructure each function individually from this hook so that's how you make your own custom hook and like i said i won't forget let's do export default tick tock cool all right so that's the use tick tock hook completely so once that's done we can actually put this to use so let me just add the front end and we can just start testing some of these things okay so now that we have this custom hook we can hop back over to main view and make a little bit more progress on this thing okay so when we have say the use tick tock right hook we want to import that as well where is use account right here let's type in import use tick tock awesome so remember when we're using hook it should always be within the function component itself and if i do use tick tock i'm going to write it down here and that's the structure the functions that we're going to use which is going to be pretty much all of them it's going to be get tick tocks right tick tocks liking the video create comment new video and get comments and get comments and we're going to set that equal to that hook and use tick tock is going to take in a couple different things going to be set tick tocks actually this makes more sense if i put in those states right because it's going to remember if you remember use tick tock we are using states right so we need to pass those in and if we want to pass them in we have to set it up so i'm going to set it up right under here and we say cons tick tocks comma set tick tocks right this is a use date right that we're setting up that's going to hold all the tick tocks in our app other than that we can just set up the rest let's do use state and i know there's going to be a couple of these so let's make copies so it's going to be one two three and four i believe so the first one new video show right and then there's set new video show we're also gonna have a description and set description this is going to be similar to the username like i keep mentioning over and over but it's going to be running the on change okay and this one is going to be set video your same deal after that this is going to be user detail this is going to help out mostly for comments so this one makes this one will make sense much later okay so now let's set the initial state like when we first load new video show what should be the initial state like i was talking about earlier it should be false which should be the initial state of description empty string because it should be blank an empty string if i were to put hello here you would see in the input field hello because that's what's i want to show up in that input okay and then user detail you can actually just leave blank it can be undefined cool so now we set up all those states i feel more comfortable of passing them in parameters so let's put set tech talks here notice how it's not grayed out anymore right user detail video url description description and set video url and of course set new video show okay we're passing that into use tick tock so that when we call anything of any of those things in the function it exists so it wouldn't be undefined or not show cool so did we import use effect yet yes we did so we could set that up next let's set up the use effect and if you don't know use effect is a react hook which lets us perform side effects at different points in the component's life cycle so if that doesn't make sense to you go look up documentation on use effect but the best thing i can explain to you is i want if you want to run a function when the component first loads or when there's a change or when it unmounts this is the place to do it so you just put a function in here or a check that you want to happen every single time right so basically what i want to happen is if wallet we're getting this from the wallet contacts if it's connected or while it dot connected that is true then what should happen we shouldn't see this sign up anymore i clicked sign up and there's already a user but we should get to the page and we should get the tick tocks so let's go back to the page if the wild is connected let's get the tick tocks okay cool so remember there is one more thing i want to do there also is the check account and that doesn't exist yet check account so let's make a function const check account all right this function is literally going to check if the user is connected or not this is where this is finally going to come into play so follow along with me it's going to be let user underscore pda just like the video pda but now it's user now it's going to be weight anchor dot web3 dot public key dot find program parentheses utf8 and then code okay and now we do a wallet dot public key dot to buffer from there we're gonna do a program.program id awesome so we have the user plda and from there let's set up a try catch block i'm gonna set up the cache first since it's easy if there is no user we gotta make sure the set account is false right because what happens if the account is false right if the account is false then we should be re seeing this up still but then if the account does exist let's do a const user info is equal to await.program.program waitprogram dot account dot user account dot fetch user pda okay so then if that works then let's console log the user info so we can actually see the account that we're fetching and then we're gonna set the user detail with that user info okay and then we have set user detail here that exists and of course we want to set the account to true so now it should start to come together if is account is true what's going to happen we should see the essentially the tick tock app but for now there's like a placeholder that says tic tocs will go here okay cool so i feel comfortable with that and that's the function that's the what i call the recipe but when do you want to run this command i want to run it if the wallet is connected yeah so let's do check account here right so when we first load the component if that wallet is connected then we can check the account and get tick tocks the problem with usefx is every time there is an update right let's say i change something under the create new video this user effect is going to run again so we're going to check account again and get ticktock i don't want that to happen so use effect actually takes two parameters and comma here and this is called a dependency module right if you just have an empty array here this use effect will only run once when the component first okay i hope you're following because if the dependency module has something in here like wallet.connected it will only update once or if this is changed like if it changed to true or false it will run this and check it which is exactly how i want to run it and that's why you use these effects because it gives you a lot of control of when to run certain functions if you're familiar with with the web 2 space you can use user effects to make an api call you can use effects to authenticate a user and many more things like that so that's only a little spiel and use effects awesome okay so just taking a look that should be just fine and we are importing the style import styles from main view okay cool so i'm going to do the same thing like we did with sign up where i prepared the skeleton of the css and then we coded up as you see it but just for fun let's go test our app right so i'm going to refresh this oh let me open up the vs code are you running the project still no we're not so in here let's do a ntl dev and get up and running not found that's probably because i'm not in the right path we're in tick tock clone youtube only but when we should be in front and okay clear now we should be able to entail there because that actually exists there hey okay so our login is still working i can input my path boom tick tocks will go here we already have an account so we loaded right wait for it we loaded this jsx because we have an account made already we did that earlier but what if i did wallet two now let's see wallet number two i'll hit refresh right now it's gonna prompt us to log in and let's also keep track of the console because remember it should be showing us the user later let's select wallet phantom detected approve and now we're gonna register wallet number two for our app for the very first time we'll hit connect fetching tick tock so that's working we shouldn't be getting any tick tock so we don't have any and now it's prompting us to sign up all right so for the username let's think i'm gonna shout out one of my students arnesha right and we're going to get her a nice profile picture let's do our nisha cool this is our new show and let's bring that over here and get x out the old one this is our profile image let's hit sign up hey okay so that means it should be working let's get signing up user is signed up and it does take a couple seconds but if i hit refresh now oops nothing i'm gonna give someone some time there we go awesome so that means our nisha is signed up and if you look it's console logging that user the user details so that's amazing so now let's make this very pretty because it should look more like this yeah so if you want to learn how to do that get excited because now it's happening so like i said i want to be setting up the css so that's going to be easy for us to see what's happening so i'm going to go and do control p and let's find main view module that css there we go and the only thing that we need for the skeleton is i'm gonna have a div called app videos we're gonna have another videos but this time i'm using the webkit webkit scroll bar because the way i'm setting up i want to be able to hide that scroll bar this is how you and you say this i can just add that now display now and we'll talk about it later so you can see what i mean cool so this hides the scroll bar for i believe chrome safari and opera but this one this app videos oops if i do dash ms overflowed over none and then we do scroll bar dash with none this one is specifically going to hide the videos for i believe internet explorer and firefox all right it could be switched i sometimes mix this up but for now this is it i'm gonna add up videos later so i'm gonna hit save okay go back to medium i guess i can do control p and now when i add the jsx it's not gonna say undefined because we are already importing awesome cool so there's going to be a bunch of unfinished things here but bear with me so let's do this again if right there is an account we need to take new video show right and upload models but essentially if new video show exists we're gonna load the upload model all right upload okay and upload model doesn't exist so let's just quickly create it now we're finally gonna start to make all the components on tick tock now okay cool so now it exists we'll come back to this in a second but it's just closing div trying to see curly bracket and we can hit enter here and now for some styling right this should be the app itself so this is where it comes in div class name oops styles dot app videos right is that how i named it should be app videos yes it is thanks for confirming guys okay now in this div right i'm gonna get the tick tocks dot length equal to zero i'm setting this up as a condition for my ternary statement which is basically saying if the tick tock length is zero right this is where we'll have just something really ugly it's just gonna say no video you can upload this and fix it yourself but for now this is what i'm gonna include for no videos like i said since this is a ternary what happens if the length is not zero and it can only be more than zero so in that case if it is then we want to do it tick tocks dot map and we're mapping through the tick tock's state that we set up which holds every single tick tock for us it is going to be zero it's going to be empty but if it did have some all right we're going to use the map function and for every single tick tock in an array let's say we have two we're going to iterate twice this map is going to run twice so every single time we want to be returning a video component oops a video component all right and this doesn't exist yet but this component will hold the actual ticktock video itself so you can imagine we'll be passing a lot of things onto this cool cool setting up video now and let's import video okay this is why i held off from styling the main view all because if i did this at the beginning it'd be a little bit confusing but now it's not right so here where is the end of the map oh and if i do this i won't have to write return awesome okay so then there's this closing parenthesis closing bracket and then the closing div then over here in between this will have another component called bottom bar if you're wondering what bottom bar is if i take a second bottom bar is going to be this little guy right here right so that is that component which is going to have the button to create a new video we actually use this button to refresh to get the tick tocks again as well too so you don't have to refresh the browser so that's good to know for later that is the bottom bar oops click the playground awesome so where was i and then should be closing div and then sign up and everything else sounds good save and let's take a look at our app any errors yep bottom bar is not defined as expected all right so let's make that a new component okay hitting save and now when i check are you undefined still oh duh i have to import it i was on such a good flow guys but now here we go bottom bar nice so let's refresh this a bit hey no videos bottom bar right that's totally fine but once we add styling to everything it should make a little bit more sense so i'm thinking about this i think i want to start styling the video.js because if i style the video component when we create a new video you'll be able to see it yeah let's do that so to start styling our video component we're going to need to hop back to our code and let's go to video.js let's get started so the first thing i want to do is import a couple things from react so let's import use ref use state from react cool so after that we have a couple different things we can import but it's not going to make sense till later on so what i'll do instead is let's just import our styles from and the path of styles slash video dot module dot css and yes i know this doesn't exist just yet but we'll get to it we'll get to it right now so go into styles let's make a new file it's just gonna be video module.css all right same thing i'm setting up the styles so that later on we can just not worry about it being undefined wrapper and then dot video player okay unfortunately we're not going to be able to really see what this looks like until we get a video and luckily since it doesn't have any styling i think i'm just going to style it as we go now so position is going to be relative and the background color is going to be black and the width is going to be 100 okay the height is also going to be 100 and the scroll snap align is going to be start so this is the feature where in tick tock scroll it just a little bit it like goes to that and scrolls to the next dip boom right so i'm not like scrolling hands up boom see that's pretty cool so this is going to help with that there awesome and then the video player itself is going to be object fit fill and with 100 and height 100 okay cool so now that's done we can head back over to our video and we're gonna need to pass down a lot of props so remember what i explained before props going back into main let's take a look at what we need to pass into video which i'd imagine is a lot okay so one of the first things about this is this first parameter in map represents the element in the tick tock array which is literally a tick tock which is why we're client tick top second parameter in map is essentially the incrementer for an index so it goes 0 one two three four anytime you're creating a component you should give it a unique key so that's what i'll set up first the key is gonna equal the id right so if there's one video the id will be zero there's two the id will be one cool so let's address is going to equal right and now we just have to map out the object so if tick tock is the object that holds the tick top we can get the address by doing tick tock dot public key and remember we want it to be readable so let's do two base 50 and there you go so the url we're gonna do the same kind of thing for all the other properties so it's gonna be ticktock.account.videourl okay and for the channel the channel you can look at it as the ticktock name ticktalkcount.creator name i think that's what we called it channel and then the index of the video index of the video is going to be tick tock oops dot account index dot two number okay and then from there if we do likes likes will be however many likes the tick tock has tick tock that account that likes and if you remember what it is by default it should be zero now so something that we will visually see the most is the description of the tick tock and it's simply just tick tock dot account dot description if you're wondering where i was able to figure this out on is if you were to take this out and just only console log tick tock you will see each object and if you open up that object you can see like oh if i open up publicly i should see the public key okay so description now we can just see the number of shares i don't think we actually have the amount of shares on this but we do have like video is going to be just like video there's also like a dress right this each video needs to store the people that liked it so just to put a visual to that this video is storing that i this account liked it all right but this guy i didn't like i didn't personally like this tic tac on this account but three other people did and it's remembering that it saved it on so that's what like address is right so to get that we can do tick tock count dot people who liked okay then we can also do create comment because we should be able to create a comment from each video alright again visual if i can do this i should be able to create comments so let's create a comment to get comments and then we should also be keeping track of the common count which again by default it's one until somebody adds their own account let's do a two number here helping like video comes from get tick tocks yep looks pretty good to me all that's passed in from main view so now we have to accept those props from the video now coming to video we can accept the props here and if we destructure them it'll be a lot easier to call them so i'm just going to write them all out okay so that was a lot awesome and then yes okay cool so then there's a couple of states that we want to set up here and remember how i'm using use rep it's going to come into play later but let's set it up so const playing i want to keep track of the playing state right is the tick tock playing if it is right then it should be true but if it's not playing it should be false so by default do you want your tick tocks to be playing probably not so i'm going to set playing to false otherwise it would all play at once and that's really insane so let's do show comments right as another state we want to keep track of so this is where we click on the comment and then we'll see the little text that showcases all the comments so we can change that essentially this is going to be like a toggle just is playing and then cons video ref right this is where the user ref comes in and by default it's no all right we're going to be grabbing a reference to the video where we can set it to play or pause all right it's going to be a lot more clear once i start building more of it out but if you're following with me you're gucci so on video press that's the function name i'm creating right so if i click the video or press the video in this case we're going to check if playing is true or false because if playing is true does that mean the video is running or does that mean the video is paused it means the video is running if playing is true so what do you want to happen we want video ref current right because that's coming from the ref object to be dot pause okay else which means if playing is false we need to be able to play the video so let's do the same thing here except this time and of course in order to change the state of playing after we hit pause we have to do a set playing false and then followed by a set playing true underneath the else yeah cool all right so we also want to be able to hide comments this is a function that we're going to place somewhere what state is going to be affected by this it's going to be the set show comments model and if i want to hide comments it should be false what if i want to show comments that's a no it's a whole function on itself show comments and if i want to show comments it's going to be show comments modal true yes true true true okay awesome so for the just x of the video there's gonna be components in this video itself right like the sidebar the footer the comments but i'm not gonna make all them right away i'll just write out the whole jsx and then we'll start talking about it so we can do is do that and we can say class name styles dot wrapper okay and there's actually a video tag here that we can call upon with the class name the video player right so styles that video player and we want to say uh loop you can just put that right here because after it's done playing it should loop just like it doesn't so on click that can equal on video press then we hit ref that can equal the video ref right this is where we're getting the use of use rep and getting the reference of this video through here right every tag is going to come with a reference object or attribute sorry and the source of this video is just going to be the tick tock url right and that's how we're able to play these videos so in theory you should be able to do it with youtube as well if you wanted to use those kind of videos but you might have to format it or you might have to deal with some cores if youtube doesn't allow you to just copy youtube videos like that cool all right so for now i already know there's gonna be a component that goes here so let's comment it out there's also gonna be a sidebar yes these are all things that i'm going to come back to once i have an actual video right because you can't even see these things until we have one okay i will set up show comments model because we already did set up that state so this can exist and since it's javascript right in html you have to separate it by putting these curly brackets here so i'm writing javascript now and essentially if show comments model is true we should show comments component and we need the closing first delaware awesome so this one i can make because if i save this it will say it's undefined even though like when i load the video and i don't want to want that to happen so let's import that let's do new file comments cool all right i feel comfortable with that for now so if anything we should just see a video minus the footer in the sidebar alright so we're making great progress on being able to create a video real soon the next thing we should probably just work on is the upload model so if we're going to work on the upload model click the upload model file and then let's set it up okay so i'm in the upload model file and there is some props that we're going to be needing to pass so i think actually i lied let's go back and go do that so in main view let's take a look at what props we need to pass down to upload modo all right there's only a few not as much as video look at this alright but upload model does need some and now upload model is going to need description and that can just be as description video url which is just video url new video as new video set description we're gonna pass in that state there and set video url and set new video show cool so now we're good to go awesome so let's accept those props by destruction them first so that we can call them by their names without saying props dot the description video url and so forth okay awesome so that's all the props i believe let's also set up the css so i'm going to go back to styles simply just say new file upload modal.module that's css okay cool and i usually do i'm gonna set up the skeleton so that you guys can visually see it as well and actually i won't fill out the styling cool so there will be a wrapper there will be modal buttons there will be a title div and input okay just like before we also need an input class and a button class so this is the skeleton of all the divs i may might forget one but let's see i think that's pretty solid we just need to import that style so import styles from and then that path which should just be the forward slash upload model it doesn't even show up css yeah that sounds about right cool and luckily luckily there's no like hooks or anything we need to do here we just need to set up all the dips so let's clean this up a bit and i'll just say class name wrapper yeah this styles right then we got div class name upload video input field i can never spell feel it filed again there you go thank you guys then we can do a div class name of input title which will just hold this word description it's if you're noticing it's very similar to when we were trying to sign up a user same kind of text box so if you want the visual just like that very similar to signing up yeah there you go awesome so after the input title let's do the input container which of course contains n input the input has the input class type equal text value is equaling description and then we gotta have the on change which i can actually put now i don't have to save it for later you guys know what this is now description yep and of course if you want the input field you want to do e dot target that value so closing div closing div enter div class name all right so we're just going to the same setup with input field and the title in the container you it's like silent coding session because i'm so focused what you guys should be following along it's like the same thing yeah unchange again set video url we want to make your e target dot value to grab that input nothing new here div closing div and we want to set the modal buttons do i have that class in here oh yeah i do moto buttons cool so this is going to contain buttons oh and uh an on click and we actually have the function that i want to run if we click it which is going to be set new video to false okay this one's going to have a unique class name it's going to have two let me see there's a cancel button and then there's just a button it's going to have both so to write that we're going to write a template literal i'm going to say style dot button as well as style.cancel okay and in between them we'll just have the word cancel right just in case you want one more button on click again and when we click we're going to run new video right which is a function that comes from that's getting passed down to upload modal and give it two class names as well template literal style dot button and style dot create and i know i just realized it's gonna be styles cool style styles all right i'm just gonna write create new one here create okay default upload model i'll hit save now and it's not gonna have any css if i were to open it it's just not possible to open it because if you remember you get this upload model to get here you have to click this right here and to get this we're going to need the bottom bar component okay so let's get it rolling with the bottom bar we want to make this little guy over here so i'm going to head over to my code and let's get back to main view reason why i go to main view is because with bottom bar there's a couple of things i want to pass down so with bottom bar all it's going to take as props is set new video show and that's going to be set new video show all right i'm going to get tick tocks and put in get tick tocks awesome so those are the only two see if i spell them right yes so now i'm going to go to bottom bar and since i have this little guy open let's make a bottom bar styling bottom bar css so bottom bar dot module dot css okay cool so now that i have that set up let's get the skeleton of this wrapper we have an add video button and just a bottom icon nice okay bottom icon so just those three things and then coming back to the bottom bar component clear this up oops image stop bring this up a little bit and here there's a couple react icons that we're going to get and remember our cli tool was able to import react icons so there's no need for you to do that which is super awesome and let's also import style from that styles slash bar dot module that's css alright so take a second these are the icons that we're going to need a iphil home the outline compass io's ad and the message minus the bs person all this is are just the icons that you see here yeah cool so let's destructure our beautiful props and set new video show is what we're going to type then we can get tick tocks here and nice all right time for some jsx we're going to fix up this div and give it a name i'm thinking oh i said style let me put the style with s styles so styles dot wrapper is the parent tip and here we'll use the ai fill home and i can actually give icons a class name as well which will just be style dot bottom icon okay underneath the ai from home we have ai outline compass with the same class name okay and we're not going to close it just yet because i want to add in an on click to this all right so for the on click let's see if i do this we can say on click let's get tick tocks because remember i said this button right here actually refreshes and runs the get tick tock function again so we don't have to click this refresh button okay just a smart way to do that all right after that we can finally write another div and say class name styles add video book okay and the add video button is the middle thing so it's going to be ios app so close give it the class name and on click of course and what we want to happen is set new video true because if set new video is true we're going to load that component the upload model right let's see oh give it some in some inline styling it looks like which is going to be oops color black cool closing dad the rest of the icons now it's the buy message minus class name style dot bottom line or styles okay then there is bs person with class name styles that bottom icon awesome let's save that and now it's been a while but let's do the split screen again and there it is there's our beautiful little app with all the icons on there right and i'm gonna have to zoom out a little bit guys sorry so i can see this a lot better but we can do it a little bit more like this there we go i'm feeling that we can zoom this in just a little bit more cool so take a look this is what our bottom bar looks like with all the icons but it should be looking more like this so how can we get it to look like that that's where the css comes in so to start let's add a width actually before i start the width let's add a background color let's make it red cool so this is our bottom bar this red thing so it's going to be black but i just read because it's easier to see now if i give a width of 72.6 percent okay and let's give it a display flex because if you remember what is the default flex direction if you just say this ball it's row you got it so then here let's justify content and i want space evenly okay so this puts even space around all of that for this we want the color to be white cool except for the plus icon plus icon should be back with black with a background of white okay now for the font size that should be 2 rm the padding let's give it some padding on here 20 pixels nice and let's give it a border dash top of 2 pixels solid white okay and that's just this little line that separates the video from the bottom bar you guys haven't even noticed that when i was using tick tock but it's pretty cool small details that you don't notice that developers think of so now let's add a border radius and if you didn't know the way i'm formatting this it's top right bottom left i believe oh what the hell oh yeah i was here zero zero 20 pixels nice so see how i was right top right nothing yeah left right bottom right and top bottom left that's what i mean there we go now we want the gap to be about 40 pixels oops hey so added spacing between all of them and now it grew so it should be almost the size of it let's see let's do a margin dash left 47 nice yeah don't worry about the new no videos that's going to go away once we have videos cool now let's work on the add video button which will just have a width of 45 pixels oops a background color of white and we get the idea with this i don't want to make it ready when i saw it let's do black there we go and now let's fix up this add video button but the color of it should be black not sure if that changed much let's do display flex on this because i want to make sure that it's centered as you can see it's like by default nuts okay justify content center nice and let's align the items okay cool so now it's super center let's do border radius of 0.4 are you there we go awesome okay and again if it doesn't match up with the size that's probably because the icons are small oh did i just delete it localhost three thousand and one okay cool all right for the bottom icon let's do a cursor cursor awesome oops cool so that's our bottom bar let's see if i can click this hey there's our model and one comes up i can hit cancel and it's gone boom boom boom boom all right of course it looks ugly because if you remember we didn't do the css for it so let's go back and get that done so it can look more like this cool so what we're gonna do is go over to joel p upload modal css all right so let's get to work so getting started with this going back to the top let's open that model and this is the before and this should be the after right so as you can see we're gonna need to make a white background again this is probably its own div which we did and we got to style our own custom input once again okay so building off what we learned before for the wrapper let's make the position absolute left 50 top should be 50 and it's gonna be a transform effect here transform translate negative 50 percent and negative 50 as well okay i'm going to give this a z index 10 and can't forget the semicolon background color of white cool it's in the perfect spot all right after that we need the min width and make that min width 20 rem let's make the min height 20 rem as well cool yeah it's obviously not in the right spot but we're gonna get it there border dash radius radius 10 pixels to make it nice and let's add a padding give it a padding of 1.2 rpm display flex and again if i hit save here it's going to put it in a row but we want it back to the column column flex direction justify content center and align cool back over there now we have model buttons next which is the display flex justify content space evenly then we're going to add a margin top 20 pixels and a padding of 10 pixels cool all right for the title if you're not sure what the title is if i give this a background color around that's the title right that's what i do if i'm not sure what i'm targeting but i know what i'm targeting now let's do a font weight of boulder why did i pick control s wax and folder font size was going to be 1.5 rem and for the margin i just want to give it like a 1.5 rem a zero three rem and a zero okay that's looking a lot nicer and let's start working on our input fields so again let's do a background color biscuit right that's the input field there's two of them so it doesn't it looks like a one big box but it's not right with 100 we've seen this before margin dash bottom one rem okay then we have input title 100 oops input title font size needs to be one are you one rep and let's add a margin bottom margin bottom can be 0.5 already there you go then for the container let's do a display flex a border one pixel hash tag pc f4 let's make it solid nice okay then a border dash radius rem padding is going to be 0.6 and then 0.4 here then we got background color which will be hashtag fa fcfc hey okay cool cool now for input let's give it a flex of one yeah i can only tell uh one of these divs are messed up but let me just fix finish this input styling border is none oops border dash radius okay now it's bothering us i'm gonna save this temporarily yeah this one is round already that doesn't seem right styles oh i see i gave this input container instead of there you go now it's in sync now i can give this a border radius one rem as well yes okay next let's give it a padding let's beef it up a little bit same as the other one and a background color i think i'm styling this wrong this is actually just a flex one right this is border none and there should be no outline that's what i'm missing and the background should be known i was like it doesn't make sense that it has a color there we go that's more get on custom input all right let's dial the button color will be white the padding will be five pixels the border dash radius can be nine pixels color will be hashtag fff and we'll have a transition from 0.2 linear with and then we can do an align items center here okay we can do justify content center display flex font weight of 600 font dash size i'm thinking 0.9 rem okay and a margin of 0.5 cool if you're wondering why they're the same thing once we get to the create button and the cancel button they'll start to look a little bit different watch so i do background color and i do this hashtag for e that's create new and the border will be two pixels oops two pixels hashtag fed five five solid and the color of this one shall be right here f e two d by five what should be property value expected color there you go that's more like it canceled the only issue is that the upload new video is not entirely in the right spot that's so strange like we're so close it should be more in the middle that should be taken care of from the transform someone's gonna come back up here transform that's why translate hey there we go so we got the upload model up and running and there it's good to go so that's it we have it right here awesome so while i'm here i just remembered if i go back to main view css i didn't finish the app videos so what i'm going to do is go ahead and finish that so for main view css and remain view css for app videos all i want to do is a position relative a height of 800 pixels a border dash radius 20 pixels 20 pixels zero and margin dash left of 47 pixel okay we also want to overflow scroll here and the width of 80 percent and the max width max width of 500 pixels okay and then there's the squirrel snap type and let's do y mandatory hit save and yeah there's that scroll bar that we didn't want so that means this needs to be fixed webkit oh it should be dash webkit there we go i guess that's all i need to do other than that this is looking a lot closer to this cool so that is the upload model css along with finishing the main view finally all right so are you guys ready because that was a lot of front end we got a lot done we got the skinnier slim version of tik tok that's okay but what i really want to see is if i click the upload model will my tick tock upload and can we create a video from our smart contract so let's enjoy that process and let's see if we get any errors and it works first time so what we can do is head over to tick tock right oh i saw it already let's do tick tock clever programmer and i'm going to go ahead and click this and let's click copy video address all right i always like to make sure that it's the bigger version or you'll help yes or something this is the one you want all right so the one you copied from here is the one you want we actually don't need the code and for the description let's put tutorial hell because that is the description let's hit paste and here we go nervous let's hit create new oh yeah password okay okay so let's log in first before we do anything crazy cool so it's prompting me to log in boom this is my account with tiktok let's click this let's hit description tutorial hell and just to make sure this is wallet have solana yes it does this is wallet number two i forgot what username i put for this oh i think it was our nisha that's it yes okay it doesn't say transaction made fail it actually gives us an estimate to approve okay so the model disappeared which is a good sign no major errors so we just gotta wait a bit let's see let's go we have a tick tock right the main thing i want to see is if this is something wow okay longest time that i can imagine we were able to generate a tick tock from our link and we ran it through a smart contract so all of it's working this is not just for show we can actually add videos so cool and of course we can't really comment because we haven't set up that front end but what i want to do now is since we have so much momentum guys let's start building out the rest of the smart contracts so i'm actually really happy that worked on the first try if you're watching this video and you worked the first try without any errors give this video a thumbs up and leave a comment down below saying bear if you say bear in the comments i'll know that you made it up to this point and you're able to create a video and create a user so leave that comment bear give this a thumbs up and let's continue on so coming into the solana playground we have so much momentum guys we've made create user we made create video let's make create comment again we can just use our previous functions as a template right so it's not like you're going in blind each time you make this it should make a little bit more sense so if we want to go ahead and create a comment what we should do is come down below here let's do some spacing and let's say pub let's increase the size of this pub fn create underscore comment all right it's going to take in some parameters and same pattern the context parameter is going to be the data type of context create comment yes a struct that we're going to make in just a bit okay so we're gonna have the text right when we create a comment we should pass in whatever we said as text and that's gonna always be a string cool then we need the commenter name like the person who commented and then we need the commenter url what's their profile picture which is also be a string so those are the only parameters that we're going to need we just need to put in program result again and tell our code what is that result okay so the logic for this instruction is going to be something like we're going to say let video and say and mute count video account right because we want to get the video why do we want to get a video because we want to be directly affecting the video account object because the video count object holds the comments or at least how much number of comments there are and now that's going to equal the and mute because we want to make it mutable and say ctx.accounts.video we're taking the context we're getting the the context of the account and we're getting the video here okay semicolon right next we can say let comment which is going to have data type of and mute again account and comment account so we need to make a stroke for this so keep that in mind for later okay so now we can say equals and mute ctx accounts dot comments or not comments sorry should be comment semicolon i wonder if i can make this smaller can i okay that's the smallest it goes cool so zoom out a bit you can probably see it a lot better and before i write any more logic let's create the structs for it so again if you ever get lost we can use this as a template right so we need to make the create comment struct and also the comment account struct so when creating the create comment struct what are we going to need take a guess it's going to be the hash to derive counts and we're going to add pub struct right after it so that it can inherit the information we need so create comment is going to have info and not that it's going to be this one yep give it that lifetime variable info and we can also do account and put mute and we can say pub video is going to have the account info right of video account okay and then from there let's authenticate the comment account just like we did with video so we can control its behavior here by putting parentheses oops and yes basically something like the suggestion right here we do need init we got to set up the seeds to create that unique hash and to create that in cuny cash we're going to pass in a couple things like b comment dot as underscore ref parentheses comma video key dot as underscore ref comma comma video dot comment underscore count dot 2 underscore b underscore bytes i turn it then from there we can do a dot as underscore ref parentheses okie dokie so that's the seeds and usually what we do after writing all of that we add this bump just in case it's not a unique hash we can increment it by 1 or up to 20 i believe so payer is going to be the same as the authority and the space we determine how is this create comment struck right and the size of this is going to be this whatever the size of comment count is no parentheses plus plus the text underscore plus user underscore name score name underscore length plus user underscore url underscore length plus the video underscore url underscore link it's going to need all the information to get an accurate estimate of how much space the comment will create a comment is going to take okay looks pretty good to me hard to see so i'm going to just zoom out one more time just for now then underneath that we can add comment pub comment right here say account say info and it's going to take in the comment account which doesn't exist yet cool let's do a hashtag count mute all right this is the same thing as before right if you remember we had the authority we needed the system program and we needed the clock very standard we're going to use that same information again so look what happens paste same thing authority signer info system program one of the differences this should have system and this is infoclock i believe that's the only difference cool so that is create comment now let's create the comment account struct so to get started with that let's get the account attribute again and say pub struct comment account okay then we can say club authority will be the pub key pub text will be a string and again i don't know if i have to explain this again but the comment account is essentially what the comment object looks like so the authority is always needed but the text is going to be what is the comment string or the text inside of it what information will we need again it's going to be the commenter's name i want that to be a key of this all right you can look at this as like setting up schemas in the database right because this is technically our back end here so this is our commenter url string then we can do a pub index q64 unsigned integer then we can do a pub video underscore time and do i 60 signage let's put everything correctly awesome so that's it for comments we have the comrade comment struck the common account struct and now i'm feel comfortable explaining the rest of the function yes so this is where we left off and what i wanted to do next is now that we're going to create the comment function we can set values to the keys of the comment account object so what i mean by that if i do comment.authority what should be the value right if you remember from previous examples it's going to be ctx.accounts and then we can get the authority from there by doing that authority method okay now how do i get the text of a comment account we can do comments here right because we have that context and we can do comment dot right scroll down text that's how we get the text comment text equal to text right i'm saying equal to text because that is a parameter that we pass in when i'm making that call okay so i hope that makes sense and let's add these semicolons so then let's continue on let's move faster commenter oh no no comment dot com enter underscore name should be the commenter i'm just going to that's passed in we have the comments dot com mentor underscore url is equal to the commenter underscore url cool another thing i want to keep track of and i believe i did also in this case i forgot we kept track of the index right and video time so let's do that so comment dot index is going to equal video dot comment underscore count and comment dot video underscore time is going to equal c to x counts dot clock unix underscore time snap cool and when we create a comment on a video let's say if i create a comment onto this video how many comments should have should it be plus two plus three right it should be common sense plus one so how do we increase the videos comments or and specifically the video and we have the videos contacts information because of this so i can save video here videos comment i'm accessing that key underscore count right so by default it's zero but if i'm creating a comment plus equals one if you have any basic programming languages this isn't scary so cool and again what do we put when the function is passed or it's true or executed we can say okay boom all right so that is the create comment there's only one more function i want to make which is liking the video and since we're here i'm thinking let's go ahead and make it so that we can just bang out the front end and we'll be done cool so after getting the create comment function down let's go ahead and make the like video one or like i said so where am i where am i so this is where it is pub fn come down here and all we need to do is write pub fn like video at this point you guys are pros at making functions on the solana chain and i'm super proud all right so again it's gonna take in a parameter but luckily if we're just liking a video it's not gonna take much all we need is just the context of like video so that is gonna be a struct yes okay cool so then we can take program result then program result and what programs is going to be is let video right because we want to get the video once again and to get the video we can say mute count video count alright so this tells me i'm grabbing the video account and setting it equal to the the type this variable is going to be the video count and it's going to be equal to mute ctx.accounts.video that's how i get that reference cool so this is the part that i'm excited about it's definitely different than the other functions we've done so far but there's a way to essentially loop through something on rust and there is for loops on rust from what i know but iterating is what we're going to do so we're going to use something called iter which essentially is going to iterate through the accounts and the reason why we're doing that is because it is safer than indexing because with indexing with a for loop there could be a chance that your loop goes out of bounds and that just means outside the number of elements in the array so if there's an array of three right if you do it in array bracket three that's going to be undefined so it's safer than indexing so for loops aren't really used as much i'd say right to my knowledge but mostly they're going to be using something called iter so to iterate we're going to say editor pub key and that's the type and we're going to set it equal to video that people who liked so just to break it down but we're getting the video or the video data from the accounts and what we're doing next is the value at people who liked which is essentially just an array and we're going to loop through them or iterate through them is the better term so from there we want to do let user the liking the video okay and the type is pub key equal ctx and we just have to get the pup key so ctx.accounts.authority.key same time same well same thing that we've done before to get the key cool and from there we can just do a video dot likes plus equals one right because when we like the video we want to increment that like counter by one so if this was two before when i liked it it became three yeah simple enough so that's what we want to set up with this and remember in the video struct there is a key that's people who liked just keeps the array that's this one right here we want to also save who liked the video so that way you can't like it twice so let's dot push right user liking the video so essentially user liking the video is the that account authority who's ever logged in and you're pushing that into that array at that key cool and that's all like video is right so from there we can say okay to confirm and bam and the only struck i believe we need to make for this is just like video struct which shouldn't be too hard so i'm just going to scroll all the way down to the bottom let's find my like video stroke okay coming down to the bottom now we'll do the pub struct right oh and don't forget we also need to of course derive the accounts again and do a publish drop like video and we'll get the info okay then from there let's do the hashtag accounts attribute and remember we want to define that behavior so we say mute you want to be make it changeable and we could say pub video and the pub video is going to be the account info comma video account because the like is associated with the video so we're gonna need it here okay and it's the same thing as before we need that authority again but i'm not gonna copy this one because this one included system we need this guy again same thing boom so system program unchecked account info comma and then info clock yes sir believe it or not that's it for like video alright so that wasn't too bad i think that's a good sign getting the hang of it but still a little confusing for you just making and stuff over and over again like your own anchor projects it's going to make this a lot more easy to understand so let's go ahead and hit build let's see any errors that come up i'm expecting some i think i see why i copy pasted this and just added system but in reality this shouldn't care about unchecked account this should just be program info system there we go that was my fault guys i thought i could just simply copy paste it but i could not so let's build this again and now it has a problem with the seeds on 203 well i thought there would be a lot more but this isn't bad so the as ref i'm assuming that's because it should be more like this because it's a method okay 104 can't find pub key in this scope that's interesting okay what if i remove this and not define the type would be mad at me oh okay so no warnings but i'm not sure if that's gonna work but the only way to find out is just to actually test it so no warnings that's a good sign with that that's all the functions inside our smart contract the only time we'll come back here is if there's any errors but again let's update our smart contract by upgrading it and let's see i have 6.5 so hopefully that's enough it is pretty big now so it's deploying and as it's deploying there are the two things that we need to check now is to are we able to create comments because that's what we added and can we like the video a deployment successful so what's the process for upgrading your new upgraded smart contract onto your front end if you remember i go in here and let's export the new program idl right so now it's idl5 let's go ahead and open let's go to this vs code let's click on this so hopefully it opens up to there see i'm gonna have to open it up in my downloads okay there it is idl5 and boom it's really small so let's increase that size let's do an alt c here and now it looks hideous but let's see if our new instructions are here so there's i see create user i see create video do we have create comment yes we do do we have like video yes we do so this is our latest ideal let's control c right and let's go click on tick tock clone json this is our old idl from our last program before we updated it and it doesn't have create comment or like video so we want to basically erase this and paste it so now because of the way we set it up in the beginning it's gonna be updated no need to change any code on the front end this is all you have to do so that's pretty simple to update your program and now all we need to do next is set up the front end for create comments and like in the video so the first thing i want to tackle back into our front end is the sidebar so let me just double check in main view here we have sidebar where is the sidebar oh it might be in video.js actually yep we have a sidebar and a footer to carry what we're gonna do is let's set it up okay so just to quickly recap in the video.js we are passing so many things that we're gonna need for the video and we're going to need to pass some of that into sidebar as well so for sidebar let's pass in all those props that we need which essentially is just address we have chairs on show comments and then show comments all of these are coming from our used tick tock hook if you remember we set up all the functions of getting comments of liking the video we just didn't add that functionality to call it from our front end just yet but for now i'm just going to set up the jsx of each component then we can go back and do that sounds like a plan awesome we're almost done guys so let's do a like video then we do index and then we'll set that to index the index that's in curly brackets okay and then let's do the likes address which will be the same name likes address okay for messages it's going to be comment and bam that's the sidebar right while we're here let's just set up the props for footer i'm not going to do anything just yet but i do want to set up the props oh and i just realized i think it might be pretty small so for footer you can have channel is equal to channel which is just a creator name prescription is equal to description and there's also something that we have song and that's just gonna be uh index if you did want to pass in the actual song name you'd have to save as well okay so that's it for the footer we can also do comments right since we're here for comments there is something called on hide where we can now hide comments there it is the put the index in here as well you can put the address here create comment get comments and a comment count and that's going to be it cool so i'm passing props now so when we go back around to add them all later but the main focus right now is going to be the sidebar so with that said if i go into the sidebar side do i not have a sidebar that doesn't seem right oh yeah i guess i never did make a sidebar component because they were commented out cool so let's make those components so i believe that was sidebar dot js okay and there was also footer since i commented that out as well okay trying to think what was footer again not too sure but we'll cross that bridge when we get to it this is side and on video we should be importing all those things so import sidebar cool import nice okay so shouldn't have any errors of like sidebar being undefined since we made this sidebar let's also make the css file for it so that's going to be sidebar.module.css cool and what else what else yeah we could just set up the css for it like the skeleton is just going to be sidebar and sidebar button that's it for the skeleton for now let's go on to here and let's just take a look at our app it's been a while see enter password i want to see what lance is my lance account which is wallet number one and if we in a new wallet we have to refresh because now i'm signed in as myself for sure because i'm in wallet number one and again no sidebar is visible right now then let's get to work on that so i guess the first thing we should do is sidebar module let's actually set up some things for the sidebar itself if i do position absolute and top 50 percent i just want to make it make sure it's visible right 10 pixels and color white okay so let's just save that for now we'll worry about sidebar button later okay not visible yet probably because we're going to need to put in the name of the div so let's first import that import styles from dot sidebar.module.css class name is the style sidebar i don't know why that's cap hey there it is that's in the right spot too the sidebar should be just about there and then just drop down as well okay awesome so let's make the rest of the things that we're going to need and i can already tell you that there is the icons right what if i go back to here oops i got too excited there you go now i should be able to click my pen i need to get these icons right here and one way to get them is actually with material ui once again okay and i already have them picked out for you you just need to write the same ones that i do so going back to the code you can do the split screen style okay oof all right that's a lot better so let me get the react icons and that's going to be right here so we have favorite icon the message icon and the share icon yeah okay and then from here there's some hooks that i want to use in sidebar so let's do this use effect and use state once again and while we're importing let's get use wallet at this point you guys should know where this is from adapter react cool and we passed a couple things into sidebar so let's destructure and that is the following address likes shares messages on show comments like video index likes address cool now in terms of states all right we can also set that up here i'm going to do a const con use state and const wallet is going to equal that hook for the use state the initial state is false and the variable or like the name of the state will be light and set because if we like it the heart should turn red yeah if we unlock if it's not liked or not like that at all it should be false so there's no toggle like button just if it's liked or not cool so remember how you passed in a like address we want to actually want to loop through that and double check if we liked it or not so again i'm using use effect here to do just that so if wallet.connected which is why we imported wallet if it's connected let's actually loop through the address likes address dot for each and it's just gonna be an address here cool now if as we're looping through the addresses if the wallet dot public key right dot 2 base 58 to format it is equal equal equal to address dot 2 base 58 essentially if i'm looping through and i find that the user that's logged in is matched to one of the people that liked the video already right then we can set liked to true because if it is true then we should see the red heart cool nice so that's the if statement here and i don't want this to run every time there's a change right every time we're fetching or changing the state of something we want this to run when the wallet changes or when the likes address changes which makes sense to me cool okay so from there let's just work on jsx in that case then we need to write the div with another class name this one is styles.sidebar button okay then like question mark all right turn every statement here if it is it is true then the favorite icon right favorite icon the font size needs to be large and we're gonna have some inline styling here where the fill will be red so that's how we make sure that something is light we're gonna color this icon red and the stroke is also red okay cool now if set is false which is by default right what should happen is we have the favorite icon still the difference is the font size is still large but right we're not going to add any styling because it's not doesn't have to be red or anything it should be just clear as is but we will add it on click because if it's not liked we should have the functionality of liking it and if you remember we have used tick tock and we passed down that function here to like the video and we pass in is liking the video that's why i put address here okay because if you remember it's kind of hard to see but going down to our instructions like video takes in an address okay or rather yet this like video is taking in the struck like video and in the front end we're gonna make a function that is also that is like video all right so in reality what i actually mean to say is this like video is coming from this right here yeah remember it's the function to call it like video from smart contract and it takes in cool so i hope that cleared it up just going back into the sidebar awesome so we have all of that stuff oh yeah there's extra parentheses here there you go then next to it i want like the likes it should show the number of likes so that's why we have this right here then it should be closing div and then in between these two we'll have another div this one will be styles dot side bar button and here we can have an on click of show comments so what that tells me is this is the button that we pressed to look at the or just bring up that component is that how i spelled it let me just double check yeah the suggestion confirms it you just all see this not gonna make it any better oops control minus cool so i know that's a little small i just needed to see just a little bit for now yeah so this should go out here and we should close it off nice so now i feel comfortable zooming back in for you guys awesome so now we can just get the message icon that we imported give it font size large to match with the heart and we can give the messages here okay so it's closing div opening div class name and this is also styles that sidebar button it's going to have share icon font size large also and it should show me the shares okay and then closing div closing div sidebar boom so let's save it's been a while let's take a look oh on show comment is not defined so that's on show comments wait a second oh comments cool let's refresh connect keep signing me out boom hey there we go that makes sense okay for some reason we're not seeing the oh no the share icon is in there see cool and the reason why it looks a little wonky is because the styling isn't all the way there and we don't have this stuff set up right here you can x this guy out cool but in that case this is it for the sidebar okay i did speak too soon because i did want to finish up the sidebar css because i believe i didn't finish that just yet awesome so yeah it looks like that but if we have this sidebar here let's change the padding to 20 pixels there we go and let's do a text align center there we go so that looks a lot better now of course it is a little bit skinnier but it might be fixed once we add in that footer so now the sidebar is complete one thing we can do while we're here is it's been a while since we pushed so let's go ahead and get status cool so this is all the changes we've made since the last time i pushed it's a lot once again but let's just open up our netlife again so it's tick tock solana i think i see it boom test one two three four boom and let's see did i not have an account with this guy oh it's wallet one okay oh oh i know it's because i haven't it's been a while since i uploaded this all right so we're going to use git i'll get add dot to add those changes and you can view those right hit commit add create video and more front end all right that's the best way i could describe that so let's do git push and netfly will redeploy our live app for us so once again so let's go to nullify just watch it grow okay and then go to sites tick tock solana and there it is building awesome so site is live let's go ahead and go back to this and we should be able to click this link again hey and it automatically logged me in because my wallet is connected and i already have an account look at that it's just like our local host was cool so now our live site is updated so if your friends were to look at this link they would see those changes awesome so now that it's pushed i think the next thing to do is let's set up that footer so i'm just going to go in here bring this guy down oh and just to make sure we can see stuff now that will fight dev connects this guy out and since it's going to generate a new one with texas cool let's do the footer so with the footer it has a little bit more stuff than the sidebar so to get started i'm thinking we should just get the css file out of the way so if i do this go to styles new file footer.module.css cool and let's import that now import styles styles nice okay so let's set up the skeleton so that we can just visualize me styling the footer a lot easier cool so that footer is the class that i want to set up there's a dot footer text dot footer text p dot footer record there's also a div that i'm seeing footer icon and dot footer ticker oh and this one's special it's like ticker okay there's also a container or a class called footer text and i believe it's actually underscore there is dot footer ticker h1 and there are some key frames on here right because looking at the finished product you see the spinning record to do that we have some keyframes or essentially just animations to spin that record so to get started with keyframes you just say add keyframes and press tab there's like a little guide here with the identifier for us it's going to be spin the record cool so then we can say from transform rotate 0 degrees to transform rotate 360 because that means it's going to just do a full rotation and then once it reaches zero get back to zero it's gonna do it again okay awesome so i will finish that but that's gonna be the skeleton of the footer css coming back to here all right i'm gonna go ahead and start coding what i need so i will need the music note icon which is that record so i'll just paste that on here no state at all but we are gonna use an image here so let's do import image from next image and i'm sorry it's not music note icon isn't the spinning record that's actually something else cool we got the styles here and now let's accept the props that footer passes down and let me just remind myself what that i think it was in video yes so just three things description song and channel okay so destructuring this let's get channel with two ends description and song okay cool now when it comes to the jsx let's give this guy a beautiful name i'm thinking we'll call her style.footer okay then within that i'm going to do class name styles order text and we're basically using all the classes that i defined in the css okay cool so for h3 we can say at the channel name which is essentially just the username and underneath is the description so for this video we should see tutorialhelp as a description if it's on there nope now it's working and underneath that underneath that p tag we have a div which i'll call styles.footer starts up for the ticker and here we'll use the music note i can give that a class name of styles.folder and we have a p tag which just holds some spacing of and nbsp i'm gonna do this two more times and we'll have the song right here which isn't really going to show anything so div then opening did for this style name we'll have the dot footer record and remember we we have it set up so we can have an image so let's use that image and it's going to have a source i have the link for you guys one second it's going to be this right here the static dot noun project let me do alt static dot now the noun project dot com slash png and then these numbers.png so you can pause that take the image or you might be able to find it in the next config as well and let's give it an alt final record so this is the spinny thing so the width is going to be 50 and the height will also be 50. okay export default footer that looks pretty good to me and don't really see much because let me refresh yeah don't really see much but maybe if i add styling you can see it a lot better all right let's get to work so for dot footer position i'm gonna make relative and color shall be white okay the bottom will be 150 pixels hey oh cool am i on wallet too should be in one one oh i registered as their nisha yeah and one i just totally forgot cool so shout out my student anisha so margin left 40 pixels okay then we'll do display flex awesome then we're going to do a flex one cool so we're getting there and it says zero because that's the index so for this class i'm targeting let's do a padding bottom let's make that 20 pixels okay cool that added some spacing now for the record here is where we can include the animation if i press tab uh all the little parameters can help us right here but we just need the name which is spin the record which will then get those keyframes we want to say infinite because we want to keep it going the time it takes to make that rotation five seconds and let's play linear look at that i'm gonna go just spin it around there let's put the height 50 pixels cool so once you have the height it made it spin in place now the filter invert one nice position absolute oh that's okay and we're gonna get it back to the right spot in a second and let's do a right 20 pixels there you go now it's aligned i like that so for the footer icon i think it's position absolute no that's relative but let's be absolute nice so now for the ticker thing let's have a height of fit content okay and the margin left 30 pixels okay and a width of 60 cool and just make sure that i have those classes footer ticker okay oh okay so it's just yeah i don't really have a dot ticker okay that's why i didn't really do much but i'm sure this will do something i think i have footer text right underscore oh i don't have footer text oh yeah i guess there is instead of missing dibs there's divs i don't really need because it does look fine and on its own okay we do we can do this one i have padding bottom here but i forgot why i coded this up initially that changing no not really okay i might have removed this so if i do a dot footer ticker h1 let's do a padding dash top seven pixels cool again nothing but other than that this looks pretty good so far yep i'm pretty happy with that so there you go once the footer all said and done okay so at this point i'd say we have everything we need to get like video working the only thing that we do have to do is go to the use tick tock hook and set it up so use tick tock all right so remember this like video everything should be hooked up we just need to add the functionality so with like video i want to add a console log here that's just going to say video light video has been light cool so if you see that console log that means just tells us the function has been running what we're going to need to do is make const x again and a weight program we got be using this from get program rpc dot the name of the instruction which is like video i'm getting this like video here from our solana playground because that's the name of my function pretty sure unless it's like underscore oh it is like underscore video it's good catch so like underscore video okay let's have a parenthesis here and curly brackets because this is going to take in accounts okay and for the key of accounts the video is going to be new public key address and for the authority we know how to get the authority it's going to from from the front end to my wallet.public key with the default accounts okay cool all right i guess that's pretty much it that's pretty much it for the like video i guess we can just console.log tx here so that we know it did go through but because we set up the front end we should see the red heart so again it always makes me nervous because now we're gonna see if our smart contract is working so let's see if it works first try of course that like video is not a function okay let's do like video let me just check that idea that's how i can confirm for sure see create user i see create create comment oh okay it is like video so it took out that underscore not this okay awesome so i'm just going crazy let's head back to that use tick tock hook i think i pasted something boom so let's save this it's like video now i'm just going to hit refresh just to smoothen the deal let's do the whole process let's go to wallet refresh all right okay that's good to know tick tocks dot length on main view so let's go to main view it's a good thing we did this guys i don't want to print that what i did want to do was this tick tocks dot length let's try to refresh that again nice okay so now lance wants to upload a video let's go back to tick tock and get just going to take this one copy video address just to double check that's really loud and now let's go back to here cool so to confirm this 888 is the one that we made if i do this i forgot what the name of this starting out with blockchain sure starting out with blockchain let's put the video url in there create new we actually have the estimated soul proof takes a second let's see if this refresh button works so if i click this video it's there and that's me there's my account that's there so let's say i'm looking at our niches let's see if i can like the video come on no balance charges found so that's entry i hit approve the tx console log oh video liked and the console logged huh i guess we can really tell once i refresh because it should set this to true let's go we can like tick tocks awesome all right if i click this again i can't like it because i already did all right so that's awesome so lance gave a like to this tick tock i could give a like to the next talk oh what okay that's interesting this shouldn't be red as well that is a problem okay so it went away when i press refresh if i click this oh okay so i can like the video for some reason it also showed up there but it fixed itself once i refreshed it a few times yeah cool so that makes sense i like this video i did not like this one but i can't alright if i switch to anisha let's see to wallet number two let's see if that stays hey look at that one that was me all right number one but it's not red so but if i do like it and approve it's gonna take a little bit hey two likes all right we're going up we're going we're getting closer and closer to getting viral here all right so we got two likes now and the like feature is working beautifully so let me just log on to my account and refresh so we can see that's two and it shows that i like and this should still be zero awesome so it looks pretty good to me i think what i'll do next is let's create the comments model that comes up right because if you look here if i click on this little icon there it is there's the comments and right that's the component on itself but once we finish that guys we're pretty much done with the project so how exciting is that we are almost done with the build if you're looking at me and you've made it this far you're crushing it right now so let's set up the front end now okay okay let's move on to our next component right it's gonna be the comments one which we already set up but we do need to set up the comments.module.css right now cool so get rid of that let's get the skeleton out of the way so we have our usual wrapper a class called comments header the close button see what else do i have here after the close button we have some more keyframes for the wrapper and actually call it wrapper and on the keyframes i'll just set it up now it's gonna be zero percent the zero percent the opacity will be zero and then we want to transform y make it move up nope not translate and let's make it go up a hundred percent and when it's 100 i want the opacity to just be one visible not visible i always mix up the two transform translate y make it go down okay cool so that's the keyframes for the wrapper okay from here let's do that button and we have a comment input wrapper and then we do this i'm targeting all the inputs in the comment input wrapper which should just be one in this case and if i hit save the skeleton is there we go to comments let's import that guy styles from styles comments.module.css beautiful okay awesome so there are some states that we will use here so let me just grab that real quick let's say use state use effect okay that should be it for now and just refresh my memory oops what are we passing into comments can you tell me guys did you say it we are passing so a couple things so let's just destructure those guys so i believe it's address on hide we have create comment index get comments and comment count cool and for our states on the menu today we have const equals use date to set up our use date and it's going to be comments right so this state is going to hold all our comments and we're going to have that set comments here too so the idea is with using tick tock we're going to get all the comments associated with that video and with that same hook we're going to set those comments into the state so we can put it into our front end that's the idea so the initial state will be empty array then we can say const new comment set new comment is equal to use date okay awesome okay cool so next thing i want to do is let's make a function here that's actually going to get the comments so getting comments this will be an asynchronous function and it's going to do let comments equals away get comments we've done this something similar to this a little bit ago and we'll get comment count as well we're going to pass that in to get comments because where is get comments coming from as i was mentioning before it should be from use tik tok get comments right you function to fetch the comments from the comment account in smart contract which we set up so that's what we're doing here on comments okay then we're going to do a comments dot sort all right we're going to sort all the comments so it always shows up in order and we put in a b and we're gonna set it so that b is the video time.2 number minus a dot video time to number as well yeah that's about right then we're going to do set comments to those sorted comments awesome so we're basically fetching all the comments and it might not come sorted when we get them so we're going to sort them to make sure and then set it to that state but again this is just the function when do we call this that's where our use effect comes in so let's call use effect again and the key here is what do you what is the function that you want to do getting comments and when do you want to when do you want to run it whenever the index changes right it's going to be once when it loads and then whenever the index gets updated cool so there's another function here that's going to be called reply clicked also asynchronous and this one's going to await create comment right and remember create comment is also in use tick tock and that one actually calls the create comment from the smart contract okay so it does take in some parameters like the address and the comment account wait no it doesn't i lied does not take the address wait it does take the comment i was just looking at the wrong comment count and it does take new comment that's the only difference between the two functions and then after that set the new comment to clear right because there's going to be a little input here where you can write the comment so that tells me we're gonna have it unchanged somewhere that's what this state is for okay so that's where pi clicked and this should function should run when i click the reply button or the add comment button whatever you want okay so jsx time now we have class name styles.wrapper and within that one we'll have another div called class name style dot comments header okay then we have a p tag called comment right and then just say how many comments we see like three comments four comments all right then we'll have another p tag and just to be curious i wonder if this works already ah okay i see comments dot sort oh it's okay because we didn't fetch any comments so this can't possibly so it's not gonna work just yet let me just finish this out after this it will have a class name which is style.close button and yeah this is part of the reason why it's not working because it's going to be on click on hi is there an unhide yes there is okay cool okay and here there's going to be end times let's close the p tag right here that makes more sense okay so then it should be closing div and here this is something interesting once we get that comments array all right let me see comments is oh yeah we're getting it from this once we get that comments array we can say comments dot map comment all right we're gonna map through each comment and for every single comment in the array i want to make a component called comment card so you might be wondering lance what is comic card comic card john is going to be this thing each individual thing right here is considered a comic card and we're just making that component so that we can reuse it without making it over and over right does that make sense so what we're going to do now all right is make that common card so here this is probably our last component right give it up for our last component guys we're already here so common card.js rafc e boom common card cool and since we're here this guy is going to take some props which is going to be the key which will be yeah so every like prop or component needs a key so let's do index.2 number all right so there's already an index associated with it let's just make that the key so that's what i'm saying here the username so we can get the username in here it's going to be equal to comment dot commenter name the only errors i can foresee is either i spelled something wrong or i forgot something so let's take a look at that that text avatar and if i had to put money on it it's probably something to comment with all these m's comment dot commenter url right for the avatar then there's a time stamp which is going to be comment video time videotime.2 number yeah that's it for common card cool closing parentheses and then all these guys and then this is where we should have the comment input wrapper yeah and i already know that when i was messing with this looks funny when there's no comments but when there's more it looks a lot nicer okay this input is selfclosing the type will equal text there's an on change on here right remember we have predicted that how not predicted i knew but based on the name that i was writing you guys can probably infer that there's a set new comment here on change and they're going to need to be e and how do we grab that input field e.target.value again you could use that for anything you need if you want to grab an input so value is going to be equal to whatever a new comment is all right and placeholder it's that nice little message that says leave comment little cta right there and button class name oops let me style that button oops see daisy oh okay i hope that's a lot easier to see you can take a moment to pause and see what i wrote so far okay cool so now we gotta on click to here because this is where the reply click will be called right that button and we'll just have a little reply here cool i know we don't have the get comments functionality yet cool so to get this annoying error out of the way we need to go into use tick tock and let's get create comment up does xs app and for create comment this is what we'll do we'll say let comment underscore pda equal to await anchor dot web 3 dot capital public key dot find program address parentheses right inside those parentheses again you might have seen this might be familiar to you that's because it is same kind of template that we're going to need this time instead of video we're doing comment and the new public key pass in address dot to buffer then we'll do a new b and u b n count oh i know what comma here new n account dot two array like method and let's pass in buffer yep be eight okay cool and just add a comma and i'll just put in the program id as well program that cool so that is the argument of find program address then here if user detail which we should have then we should set up a tx again and just await program.rpc.com again this isn't fetching comments this is the ability to make one so comma user detail dot user name comma user detail dot user profile is it profile image yeah it is profile image url because we want to get the user's name and their image just as you can see here okay boom is that it oh no there's also an object that we need to pass in here which is just the accounts like i done before so video dot new pub key address comment will be comment underscore pda authority will be wallet dot public key then we'll do that comma default accounts again spread operator and just for formatting purposes add some column and just to be super sure it's console.tx all right because that means if we can see this that means we can see the basically the receipt or like the transaction hash that comes after it's done so let me refresh cool awesome not only that i can't really create comment till we also get all the comments all right so we need to complete this function as well that's the reason why we're getting the error the first time so to get comments we're gonna need to make an empty array so let's say comment signers equals empty array and then let's make a for loop a regular for loop so it's just going to be eyes less than the count which is then increment cool and now what we can do is let comment signer add some space between these guys oh that explains a lot okay set that equal to all weight anchor dot web three dot public key dot program address all right same thing we pass in if you want the program address which is gonna be u utf8 code passing comment again new public key pass an address and then the buffer we do the new bn except this time we put dot 2 array and then put buffer with be and eight then we do program.program id okay then we do comment signers.push oh this one should be signers and then you push the comment signer into there yep that makes a lot more sense to me but we're not done yet that was just a for loop looping through all the comments and then adding that comment onto there what we need to do next is const comments is equal to await program dot account dot comment account or get all the comment account and then we need to do a fetch multiple yep that's a method to fetch multiple comment signers yes that's why we set it up before and over here we can console log the comments to see the ones that we're getting and then we need to return comments so if we return comments that's an array that we can sort so that's why we wouldn't see that error from here anymore so let's hit sin and now moment of truth refresh right click comment what's going on invalid class name what do you mean class name i should show me where this was i'm going to say it's at comments it's the only thing i could think of nope nope yeah i'm going to say it's that comments because it only happened when i clicked it let's check out class name class lowercase name oh i see it yeah right there good catch so let's refresh this again make him a big okay nothing still come on all right so if it's nothing that means we need to look at the sidebar again that's why you can't see it guys that's because we didn't do the styling for it so let's do this down for it right now so let's do the comments so if i remember it correctly text line will be center the background will be hashtag fff all right so i wonder if that would actually show it already no okay i got too excited width will be 100 the height will be 60 percent of the page and let's give it a padding of 20 pixels okay position will be absolute okay i'm just seeing something no okay and then we can add border top that's not done left radius which will be 20 pixels and the border top right radius will be also 20 pixels because again what we're styling here is this guy so look how it's supposed to be round over here we're gonna do bottom zero i'm gonna do left zero oh it's there it exists and if i click this x ay awesome i was going crazy i was like i thought i did this already but apparently i didn't so the animation is gonna be comment 0.2 that's like actually a standard 0.2 ease in it's like easy on the eyes that's how i remember cool now moving on to the comments header pull this up we're going to do a display flex which will set it to a row then we can do justify content space align item center and let's give it some more padding over here 0 and 20 pixels so top left 0 right top 0 20 pixels believe margin top will be 20 or minus 20 yeah and let's just see is that right let me just add the rest of this then we can figure it out let's do a font size 2 rem cursor pointer this might be because there's four comments but let me just see something with no no it should be more like that i think the margin top is too much maybe like 10. that feels pretty good to me cool so then we have the close button it's like right there it's so small compared to that one okay but then we have the button itself right here which we can give a background of hashtag 4 e or 4ce hey okay cool that's the button padding i'll just give you a 0.6 rem and one rem border radius 0.6 then a color of fff there we go also cursor pointer uh a transition let's give it that transition of 0.2 seconds linear do it max with oh 5.5 rem all right from there let's do an align items center justify content and display flex probably should do that first then we can do font weight let's give it 600 and font size oops font dash size 0.8 and of course border okay looks a lot better so let's fix up that comment input oh wait i don't need to write that i already heard i already wrote it the whole point so this one has display flex i'll put that first this time and adjustify content center and align item center let's give it a gap of 10 pixels right we're back on track it's back on the right place a margin top of 11 rem awesome like i said the the comment's going to look going to be in a weird spot but once we add more it's going to look a lot cleaner padding 10 pixels okay cool so from here the border will be none the outline will be none the width will be 100 yay okay cool looks a lot i feel a lot better about that one all right 100 and the font size font size it's going to be 1 r e m cool all right so now that we have all the front end you don't really need this as much now i can just go boop and boop and once i have more comments populate this will get pushed down to where it's supposed to go awesome so let's just refresh this for sanity and let's run through the process let's see if we can create a comment so moment of truth once again let's comment out with this one and let's say this not tutorial hell all right let's hit reply yes okay cool it doesn't say transaction may fail like i said it's actually computing how much solo would take that's a good sign i'll hit approve no errors okay i'm going to exit out just let it chill for a bit and we just wait till the comment finally loads yep no common card is not defined and that's an easy fix though okay i'll be perfect let's import comp card here common card save refresh okay let's click yes okay it's working right like it's funny because it just says comment card but that's just because there's only one comment and if there is a comment because of the map it's just going to load this div so the next step is let's finish out the comma card man i don't understand how happy i am that our smart contract is working just fine i hope you guys are just excited as i am so like i just was saying we only have to do is just comment card so i'm gonna set that up right now so first order of business let's make the common card style comment card dot module dot css and now that's done i can set up the skeleton of this okay so again you guys know the drill by now let's set up the skeleton the wrapper text container div oops there you go text container i think i want an avatar we'll have a username class as well there'll be like a reply bit and there's a comment text there's a time stamp and last but not least there's a button cool now in common card let's import styles from you believe this is our last component guys so who's with me you're almost done let's do styles slash comment card dot module.css amazing so let's finish this out strong so what i want to do set up all my imports import image from next image i want to import a heart outlined and we have an assets folder if you didn't know that you got from the cli tool that comes with all the images so no more making their builds along with me and you're like lance where did you get those assets from all right the cli tool will take care of all of your problems okay assets slash heart outlined svg and it's a package that it's installed we're going to get time ago all right that's how we're going to get the timestamp on the front end side okay let's also import yen from that javascript time ago slash locale slash end.json we're gonna need that one okay and we can do time ago dot add default locale pass in en and we can make a variable here called time go which will equal new time ago the end us it's going to constantly update when that comment was posted on the front end and again i just need to double check what i got from the comments card which again is actually from comments ah key username comment avatar timestamp so let's destructure stuff username timestamp avatar and comment nice okay and in the return here clean this up and let's plug in all the names so this is where our parent div goes and it's usually the wrapper and within that wrapper we'll have a div with no name and inside that div will host our image oops and we can actually define the width here 34 height of 34. okay this is where we give it that class name of style avatar styles that avatar habitat avatar and the source will equal avatar and even the will equal the username because that kind of makes sense yeah so closing div then opening with the opening div we're just going to do a style.txt container which has a nameless div and here it's going to contain that user like the actual username and the photo itself so style.username username alright so this contains our picture and this contains our username and the comment itself okay that's what it is after those two divs hit enter here inside of spam and the span will show us how long ago was that comment that i just made okay so that's going to be new date time stamp times 100 a thousand all right this is how you format it and then let's say let me see twitter oh yeah it is twitter now or dash now yeah okay and then we close the span which it already is then it's closing closing div and open the div so now that's it goes closing div closing div and now this makes more sense if i do a class name style dot button here and let's put a div in between that which will also hold the image of that outline like we can't like these replies but on tick tock you should see a little heart next to the comment where you can like it but if you did want to add that functionality you can now that you know how to add instructions on your smart contract so this one i'll give a width of 24 and a height of 24 as well unexpected i guess it lost the closing dude that it was supposed to have oh i see another one of these all right i'll take a look at that in a second let me just finish this out yep oh yeah there's no source that's why could be the reason outlined there you go there's my profile picture lance this is not tutorial that was my comment but now it's fully loaded it just looks really ugly because i didn't add any styling yet so that's the image closing div closing div and closing div yep that looks good all right last step guys let's add some css so for the final css that we need to add we're going to start with the wrapper which is just going to be display flex and we're going to add some padding 20 pixels that's padding right 10 pixels add some padding bottom 0 and padding top there could have been an easy way to do this but i already committed okay so then font size is going to be 0.9 rem text container is going to be text align left because i want all these comments to shift to the left there you go we can also add a margin left while we're here 10 pixels boom add some spacing there and of course a display flex yes okay then justify content space between and online center that hard over and a width of 100 see if it takes up that space there we go look at that and it's 14 minutes ago that's pretty accurate let's do border radius for the avatar let's make it 50 percent cool it wouldn't be that much noticeable but we also want to do an object fit cover yeah okay next is username i don't know why that's all in caps wait did i just add a username i don't want to do that cool and then for username let's add opacity of 0.5 yes okay and there's a little reply bit here that says cursor pointer which i believe now i'm thinking about i think i'm missing go back to common card it's the reply bit here apply bit i guess i don't have that anymore so i guess i can count that out and then there's comment text this one will have margin of four pixels and zero just shifts it down font size of one rem yes and let's style that timestamp a little bit let's give it an opacity of 0.5 and the button will have an opacity 0.3 cool and there it is there's our beautiful comment with that said i think that's it guys we have the tick tock build right so let's just run through all the functionality one last time all right and you know what before we even do that before i get too excited let's do this on our live link it's only fitting so if we go to get status let's see all the changes yep all the comments stuff hit add get commit m right add the rest of the front end basically and then we can do git push let's visit netlify see how he's doing or just write nullify ticktock solana and because we pushed it's automatically building once again now we wait oh okay that's a good sign there's failed to come to resolve heart outline that's why it's good to watch our deploys because now i know exactly where it failed and that's because this guy right here i'm surprised even got the heart outline even though it wasn't spelled the same but oh yeah since that was a change we can actually read a trigger redeploy by just adding that fixed import for heart outline and a good push yes sir and then we go back to here and now you see it failed and now it's building okay cool so let's just track it one more time fingers crossed okay side is live okay cool so it's up and running let's click deploys let's click ticktock salon and let's connect our phantom one awesome so again i'm logged in as lance because i'm in wallet one but what if let's select the random wallets pick wallet for all right let's run through the process right this is it we built this together it's been a long day building with you guys but i hope you're happy with this app let's celebrate by walking through what it can do so here it is this is demo but i hope you guys are demoing with me so log it's tick tock select the wallet we're using phantom of course click connect and let's create a user all right this one i'll call it alex and we have alex right here wow this is alex i like his hair this is his profile image and we'll click sign up click approve give it a second we can even refresh in a bit boom we're in our app i'm logged in as alex and you can see the tick tocks that we've uploaded previously and just to make sure i can give this one okay let's hit approve give it a chance to communicate with the blockchain hey you saw that it changed one like right provided by alex we can add a comment and say this is amazing all right we'll hit reply again all of these are being stored on the solana network right even my comments will hit of course on a large scale that is a lot of storage that we're going to be taking up if we put our comments here remember the main purpose of this build is to show you something that's familiar on web 2 and help you learn about concepts about web 3. this time it's on solana chain which means we're using anchor rust and all the other technologies that you learned so a lot of playground is in the beta stages right now and i showed you guys how to use it so again shout outs to a developer called akron he is one of the developers behind this playground and he helped me a lot understand russ code and anchor and even help me fix some bugs on here so super cool dude the people behind the solana playground are amazing i left a comment let's see if i refresh it see one hey look it's alex he says this is amazing i'm so happy with that let's go and now for the finale right let's add a video on tick tock so let's do a throwback here all the way let's do this advice for inspiring javascript developers i feel like that's kidding let's copy that link how do we create a new video you click this guy right here advice for aspiring developers i'll shorten it okay and let's paste it here let's hit create new let's hit approve right give it a couple seconds and there it is a tick tock uploaded by alex himself the new user that we logged in this is amazing congratulations on making it this far on the build right we did so much this site is even live you can copy this link and send it to your mom and she can see it and log in and make a tick tock i hope you guys enjoyed this i highly encourage you guys to play with the code add some more functions on the smart contract because i showed you how to do that and upgrade it i also want you guys to be on the lookout for our future videos and if you haven't go watch our amazon video that isn't on the salon chain but we use other cool technologies on that as well it's been a pleasure i'll see you guys in the next video peace