With timestamps:

00:00 - hey guys is Chris here in today's
00:02 - tutorial you're going to learn about
00:03 - firebase authentication specifically
00:06 - we're going to build a login page
00:07 - together that is going to set the email
00:09 - and passwords that the user can use to
00:11 - create an account or to sign in now
00:13 - eventually we're going to deal with all
00:15 - of the different firebase authentication
00:16 - methods like Google sign-in and facebook
00:19 - login and stuff like that but in today's
00:21 - lesson we're going to look at email and
00:23 - password
00:24 - specifically okay so the best part about
00:27 - it all is that it's actually not very
00:28 - hard as you're going to find out now
00:30 - before we get started there's one thing
00:32 - I want to say I'm going to try something
00:33 - a little different
00:34 - in today's video and that is one lucky
00:37 - subscriber and it could be you is going
00:40 - to win the app or game of their choice
00:42 - from App Store now if the winner turns
00:44 - out to be you you're going to be able to
00:46 - pick any app or game I'm going to buy
00:48 - you a final money and then I'm going to
00:49 - gift it to you so watch to the end of
00:51 - this video to find out how that lucky
00:53 - subscriber could be you okay so with
00:55 - that said let's get started so we're
01:03 - going to start by creating a brand new
01:05 - Xcode project it's going to be a single
01:08 - View application and I'm going to call
01:11 - this a custom email login now most of
01:16 - these settings you should have already
01:18 - if you've built any other apps before
01:20 - but you should just double check that
01:22 - the language is Swift okay I'm going to
01:25 - click Next
01:27 - save it on my desktop and that's all we
01:31 - want to do right here now we're going to
01:33 - jump into the firebase side of things
01:35 - because we want to create that firebase
01:36 - app that is going to store our users so
01:39 - let's create a new project in firebase
01:42 - and I'm going to call this custom email
01:45 - login and I'm just going to change this
01:48 - to Canada now we're going to click Add
01:55 - firebase to your iOS app so this bundle
01:58 - ID we're just going to quickly jump back
02:00 - into Xcode here this is our bundle
02:03 - identifier you can get to this page from
02:05 - clicking here under general and that's
02:10 - where the bundle identifier is
02:12 - now paste it into there and you can give
02:14 - this the nickname email login and add
02:19 - the app now it's going to create a
02:21 - configuration file for us to download
02:23 - and it should start automatically I'm
02:26 - going to save it on my desktop there and
02:28 - we're going to add this into our project
02:31 - just by simply clicking and dragging
02:34 - this guy into Xcode now make sure copy
02:38 - items if needed is checked on so that it
02:41 - copies it into our project folder and
02:43 - click finish
02:44 - so now that it's there let's go back
02:46 - here continue and now we have to install
02:49 - the firebase libraries with cocoa pods
02:53 - and this is stuff that we should have
02:55 - done before in the previous fire-based
02:58 - lessons to offer this project but I mean
03:00 - you should know how to do this so I'm
03:03 - going to close out this Xcode project
03:05 - I'm going to open up terminal and then
03:08 - I'm going to navigate to my project
03:11 - folder so it is custom and you can press
03:18 - tab to complete the folder name for you
03:22 - and here I am inside my project folder
03:25 - so I'm going to type in pod space in it
03:27 - and if I open up my project folder now I
03:31 - have a pod file so I'm just going to
03:34 - open this in my text editor and here
03:40 - we're going to add some firebase
03:42 - libraries so firebase core we need that
03:46 - so we're going to paste it down here but
03:48 - we're also going to need another one so
03:50 - let's go to the documentation so I'm
03:54 - just going to click continue here and
03:56 - we're going to do that in a sec but what
03:59 - I want to do is jump to the
04:00 - documentation I will show you the
04:02 - different firebase libraries we can add
04:04 - so other documentation this gift sort of
04:07 - guide is really helpful we're going to
04:09 - need this under authentication as well
04:12 - but what I want to go through here is
04:17 - down here just under iOS under get
04:21 - started the available pods section tells
04:24 - you
04:25 - which parts you need to add depending on
04:26 - which features you want to use so we're
04:28 - dealing with an authentication now we
04:30 - also want to add this pod as well so go
04:32 - ahead and copy that and paste that under
04:35 - there so I'm going to save it and we can
04:37 - jump back into terminal and we can do a
04:40 - pod install so it's going to go ahead
04:44 - and it's going to do that really fast
04:46 - because it did it before I've done this
04:49 - before but for you it might actually
04:51 - take a while it might actually take ten
04:53 - fifteen minutes five minutes you know
04:55 - however long it takes to download all of
04:57 - this stuff furthermore if you get an
05:00 - error message about saying something
05:01 - like your cocoa pod libraries are out of
05:03 - date or something like that you can
05:05 - simply go back to the first lesson in
05:07 - this series and then just install cocoa
05:10 - pods again and it's going to actually
05:11 - update the files and then you can come
05:13 - back here and you can do a pod install
05:16 - for us now everything is good to go
05:19 - we're going to go back to our project
05:21 - folder and now we're going to open up
05:23 - our XC workspace file and inside this
05:28 - file we need to configure it for
05:31 - firebase got last step which we skipped
05:34 - a couple of minutes ago so import
05:36 - firebase here in your app delegate duck
05:38 - twist and then under here before the
05:43 - return statement we're going to say fire
05:45 - app and notice that we have a fire off
05:48 - now so far our app sought configure okay
05:53 - so now we have our Xcode project
05:55 - connecting to this this firebase app
05:59 - that we have on firebase okay so here
06:03 - jumping back and forth but this is kind
06:06 - of necessary we're going to set up the
06:07 - authentication method for our app first
06:11 - so if you click authenticate in here you
06:14 - can go to sign and methods right now
06:17 - everything is disabled we're going to
06:20 - enable email and password okay so go
06:23 - ahead and save that now it would be very
06:26 - helpful for us to have the
06:30 - authentication documentation handy so
06:34 - under there under authentication iOS and
06:36 - password authentication
06:38 - telling us to do pod far based off but
06:41 - guess what we already did that so we can
06:45 - jump straight to this part in fact we
06:48 - already did this you know in the app
06:51 - delegate far out configure we did that
06:53 - and here's the thing to note we are
06:57 - looking at this one
06:59 - create user with email okay so that's
07:03 - using fire off right we're going to
07:05 - create a new user using that function by
07:08 - passing in the email and the password
07:10 - and for sign-in we are going to do this
07:14 - one sign-in with email and password like
07:17 - done so now back to our Xcode project we
07:23 - need to create some sort of UI that
07:26 - contains some text fields for the user
07:28 - to enter in their email or password so
07:30 - let's jump into the storyboard and
07:33 - quickly do that so I'm going to move
07:36 - kind of quickly here and if you can't
07:40 - follow along or you're having trouble
07:42 - following along check in the description
07:44 - below the video for the link to this
07:47 - project and you can just download the
07:48 - Xcode project and look at the source
07:50 - code and run it and play with that so
07:53 - background I'm going to choose the
07:55 - screen I really like the screen for some
07:57 - reason it reminds me of Evernote which I
08:01 - really like except that it went paid and
08:04 - I stopped using it so now I'm using
08:05 - OneNote but I would really prefer to use
08:07 - Evernote if I had the money to pay for
08:09 - it so first we're going to start with a
08:12 - segmented control and this control is
08:14 - going to let us choose sign in or
08:17 - register so I'm going to change the
08:19 - title for the first segment to sign in
08:24 - and toggle to the second segment here
08:26 - I'm going to call it register and then
08:30 - we're going to have a label right
08:31 - underneath that and this label is going
08:34 - to be just saying either sign in or
08:37 - register I'm going to make this text
08:40 - white and next we're going to have we're
08:44 - going to have some other labels actually
08:45 - so we're going to have a label here that
08:48 - says this is the email field and I'm
08:51 - going to change that to white
08:52 - I have a label here and this is going to
08:55 - be for the password and the color is
08:59 - going to be white as well and then we're
09:01 - going to do text field I'm going to add
09:03 - two text fields one for the email one
09:05 - for the password like that and finally
09:08 - we're going to have a button now this is
09:10 - all going to come together soon I
09:12 - promise this button I'm going to call it
09:15 - sign-in for now okay so now let's just
09:18 - put some of this stuff in to stack views
09:20 - first of all we're going to add these
09:22 - two things into a stack view so give me
09:25 - a horizontal stack view and it's going
09:27 - to squish it like that for now that's
09:29 - going to be fine we're going to add
09:30 - these two put it into a stack see by
09:32 - clicking this button below so now both
09:34 - of these guys are in horizontal stack
09:36 - views as you can see from this document
09:38 - outline and now we're going to highlight
09:40 - all of these elements I forgot to
09:43 - mention you can highlight elements by
09:44 - holding down the command button and
09:46 - clicking each one but it's going to be
09:48 - very hard it might be a little difficult
09:51 - okay so I've selected them all like that
09:54 - another way you can do it is simply
09:56 - probably easier is to highlight doc I
09:59 - hold down shift and then click the last
10:01 - element it's just going to highlight it
10:03 - all before before you pop these guys
10:06 - into effect view itself I want to make
10:08 - sure that you have the correct order
10:10 - because once we pop it into a staff you
10:11 - the order matters so the first element
10:14 - on top here I want you to have the
10:17 - segmented control and then define and
10:20 - label and then the stack view for the
10:22 - email stack for you for the password and
10:24 - then the sign-in button
10:25 - lastly so if you have that order and you
10:28 - have them all highlight it like I do now
10:30 - you can click the stack view button and
10:33 - now it's going to dump it all into a
10:34 - stack view it's all squished it's fine
10:37 - we're going to add some constraints to
10:40 - this guy first so highlight that stack
10:44 - view we're going to go down here we're
10:46 - going to vertically center it in the
10:48 - container and we're going to add some
10:51 - constraints so that it left and right
10:55 - specifically zero zero so that it hugs
10:58 - the two edges there you add these two
11:01 - constraints and now I'm going to update
11:03 - frames and now it's going to sit in the
11:05 - middle
11:06 - furthermore we're going to we're going
11:09 - to change the spacing to 30 spread them
11:12 - out a bit and we're going to change the
11:14 - alignment to Center so you see all the
11:17 - elements here are aligned to the left
11:18 - I'm going to change that to center so
11:20 - they're all Center aligned and as for
11:24 - the email and password fields they're so
11:28 - squished right so highlight this stack
11:30 - view with the email and we're going to
11:32 - have to give it an idea of what it's
11:35 - what it should be so we're going to put
11:37 - 0 0 for the left and right constraints
11:39 - so it reaches all the way across like
11:42 - that okay and for the second stack 3 for
11:46 - the password 1 I'm going to do the same
11:48 - thing I'm going to do that and lastly
11:53 - let's add some spacing let's work on the
11:55 - password faculty first so select the
11:58 - stack view with the password and the
12:00 - text field in it and give it a spacing
12:01 - give it like 20 something like that and
12:04 - for the email 1 I'm going to have to
12:06 - play with this a little bit just so 40
12:09 - now maybe 60 that's too much
12:14 - 55 something with that maybe it's 50
12:21 - that looks about right to me if you want
12:23 - to be precise about it you can spend a
12:26 - little more time on it now what we're
12:29 - going to do is we're going to connect
12:30 - all of these elements to our view
12:33 - controller via IB outlets so that we can
12:36 - manipulate them we can read its values
12:39 - and stuff like that so go ahead and
12:40 - click assistant editor up here and
12:43 - usually I tend to run out of space so
12:46 - I'm going to use this document outline
12:48 - to connect my outlets now create some
12:52 - space up here because that's where we're
12:53 - going to do our outlets hold down
12:55 - control click and drag this segment to
12:57 - control over here and create an outlet
13:00 - I'm going to call this my let's call it
13:05 - the fine and selector
13:11 - and for the label here we're going to
13:15 - add an outlet for that you call this the
13:17 - sign-in label and for this email text
13:25 - field we're going to need that we call
13:28 - this the email text field we're going to
13:32 - need the password text field squared
13:38 - text field okay and the sign-in button
13:47 - right here and this part sign-in button
13:50 - so it's about the tests on sign-in
13:53 - button in this part when you're
13:55 - connecting the outlets some people end
13:58 - up making mistakes maybe they make a
14:00 - typo or they end up dragging the wrong
14:02 - element for example if I was dragging
14:04 - the text field I might have accidentally
14:06 - did it for the label instead and so
14:08 - people get into these weird states where
14:12 - the wrong things are connected and it's
14:15 - going to work right now but when you run
14:17 - your app things are going to go bad or
14:19 - when you try to like a signed text to
14:21 - read the text from this property right
14:24 - here it's not going to work because it's
14:26 - actually a label and not a text field
14:28 - because you connected the wrong thing so
14:30 - in order to fix that all you need to do
14:33 - is you can go in your document outline
14:35 - you can right-click it and you can see
14:38 - what property this element is connected
14:42 - to so you can see here for my password
14:44 - text field if I right-click it it is
14:46 - connected to this outlet called password
14:49 - text field if I had connected my label I
14:52 - would see it if I right-click my label
14:54 - here I would see something here
14:55 - connected to that property all you need
14:58 - to do is click the little X to break
14:59 - that connection
15:00 - so for example I'm going to do this with
15:02 - my password text so I'm going to click
15:04 - this little X break the connection and
15:06 - now it's not connected to anything in
15:09 - fact you can see this little circle this
15:11 - little dot is not filled in which means
15:14 - this property is not connected to an
15:17 - element so now what you can do is
15:18 - right-click your text field
15:20 - and then click this little circle under
15:23 - the side name referencing outlet as you
15:25 - can see there in st. Joe I get up to
15:28 - here and then choose the property and
15:30 - here don't make the mistake and connect
15:32 - it to the wrong property they'll connect
15:35 - it to the email text field or else
15:37 - you're going to have to fix things again
15:38 - connect it to password text field okay
15:40 - so that's just a little segue to tell
15:43 - you about that we also want to handle a
15:46 - couple of events so for example is the
15:48 - user select sign-in versus register we
15:52 - want to know about that
15:53 - so hold down control click and drag it
15:56 - down to here under override function did
16:00 - receive memory warning this time we're
16:02 - not adding an outlet we're adding an
16:04 - action ok and this is a sign-in selector
16:09 - change for the type I'm going to to
16:13 - segmented control just so the parameter
16:15 - is of type of segmented control we're
16:19 - not done yet
16:19 - we need to add another action under
16:23 - sign-in button ok
16:26 - so we're going to add an action and this
16:29 - is going to be sign-in button tap and
16:34 - the type is UI button Connect you should
16:38 - see something like that now so far all
16:41 - we've been doing is hooking up our user
16:43 - interface we haven't actually done
16:45 - anything with firebase yet now this
16:48 - could have been a separate video in
16:49 - itself and that's why I'm moving kind of
16:52 - fast because I don't want to spend that
16:53 - much time on just the user interface
16:55 - because the point of this video is to
16:57 - show you guys how to do firebase
17:00 - authentication but that pretty much does
17:02 - it for our UI okay so let's write a
17:08 - little bit of code right here when the
17:11 - user taps on this segment of the control
17:15 - and changes it from sign in or register
17:18 - that matters to us right because when
17:21 - the user hits this button we need to
17:23 - know if we're telling firebase to
17:25 - register a new user as and create a new
17:27 - user or to try and sign in the user
17:29 - right so we need to keep track of
17:31 - whether whether
17:34 - the user has the fine and tab
17:36 - highlighted or the register tab
17:38 - highlighted now what you can do is you
17:43 - can just check the assignment selector
17:46 - to see if segment 1 is selected or
17:48 - segment 2 is selected and because you
17:50 - know segment 1 is sorry I think it's
17:53 - segment 0 because the index for the
17:55 - segment start at 0 segment 0 is sign an
17:58 - assignment 1 it's registered but you
18:01 - have to know that and it might be
18:03 - unclear for someone else who is reading
18:05 - your code so what I like to do is just a
18:07 - little more work it might be a little
18:09 - extra code but I find that it's worth
18:12 - the clarity that it provides so I'm
18:14 - going to create a boolean variable just
18:16 - to signify if it's in if it's sign in or
18:19 - not and to start I'm going to set it to
18:23 - true because by default it is set to
18:24 - sign in and when the assignment selector
18:28 - has changed I basically say is sign in
18:36 - I'm just going to need to flip this from
18:38 - true to false or false to true and one
18:40 - trick you can do is you can just add
18:42 - that exclamation mark which represents
18:44 - which stands for not so if I do this
18:49 - it's just going to say is sign in is
18:51 - equal to the opposite of whatever is
18:54 - sign in right now so that's true this is
18:57 - going to flip it to false and assign it
18:59 - back here so this is flip be boolean
19:04 - okay and here going to check the bool
19:09 - and set the button and labeled ok so
19:13 - because if is sign in we're going to
19:16 - want to say define then label dot text
19:21 - is equal to sign in and sign in button
19:25 - dot to set title is sign in for control
19:33 - state press dot choose normal and
19:37 - otherwise we want to say the sign and
19:40 - label dot text is equal to register
19:46 - in the sign-in button dot set title to
19:49 - register for control state normal okay
19:54 - so that's going to handle our UI now
19:56 - this is the fun part here we want to say
20:01 - check if it's signed in or register so
20:06 - again we do if it is sign in right then
20:10 - sign in the user with firebase I'll
20:18 - register the user with firebase okay so
20:25 - now we can jump back to the
20:27 - documentation here before we can
20:30 - actually use the sign in or the create
20:35 - user functions our view controller needs
20:39 - to know about the firebase classes and
20:42 - libraries so we need to go up here above
20:45 - view controller and just import firebase
20:49 - and an import firebase off do I not need
20:55 - to do that might just need that so here
20:59 - we can do
21:00 - firebase off dot off like that and we
21:05 - can pretty much just follow this right
21:11 - where are we here sign-in right we can
21:15 - pretty much just follow this so you can
21:18 - do far off dot auth dot sign-in and
21:22 - autocomplete is gonna be really nice
21:24 - here so press ENTER so we need to
21:28 - provide it with the email and the
21:30 - password has two strings and then we can
21:33 - open up this completion closure to
21:36 - handle the result okay so before we pass
21:41 - in the email in the password what we
21:43 - want to do is probably just check about
21:45 - the fields aren't nil or if they aren't
21:47 - empty in fact you would probably want to
21:50 - do some no form validation on the email
21:59 - and password just to make sure that
22:01 - they're correct and especially if you're
22:03 - registering a new user with firebase on
22:06 - you and you want to make sure that their
22:08 - password is secure and contains a
22:09 - certain number of characters or capitals
22:11 - or whatnot then you would probably want
22:13 - to do some validation but I'm not going
22:15 - to do all that in this lesson because my
22:18 - main focus is wanting to show you guys
22:20 - these firebase authentication functions
22:23 - here so I'm just going to leave this as
22:26 - a to do or maybe we'll do it in a
22:28 - follow-up lesson or maybe a separate
22:29 - lesson to teach you guys how to do some
22:31 - validation but here I'm just going to do
22:33 - a basic check to see if email and
22:36 - password are both filled in so we can
22:38 - use optional binding on the text fields
22:40 - so let's let email equals email text
22:44 - field text comma and path equals
22:51 - password text field like that and inside
22:56 - here I know that both of those fields
22:58 - are filled in so I'm just going to copy
23:01 - this and only we're only going to do
23:04 - this if those two fields are filled in
23:06 - so here I can simply pass an email email
23:12 - like that
23:13 - and here can pass and pass like that
23:18 - okay so here for the completion closure
23:22 - I'm going to double click it and that's
23:24 - going to open up the closure I'm going
23:26 - to this parameter is going to contain
23:30 - the user which notice is an optional and
23:32 - the error is also an optional so user
23:35 - and error if the sign-in was successful
23:40 - then we should get a user so we can
23:42 - check that check that user isn't nil if
23:47 - let you equals user then user is found
23:54 - go to Home screen or wherever you know
23:57 - you want to send the user after else
24:00 - error check error or check error and
24:07 - show message
24:10 - for registering a user down here we're
24:14 - going to use the fire auth off create
24:19 - user with email and password so again we
24:23 - just pop it in the email is path and for
24:27 - this completion closure double click it
24:29 - again it has the same thing so user
24:32 - error so if let u equal user check that
24:41 - user isn't no user is found go to Home
24:49 - screen L error check error and show
24:59 - message okay so that should be it now
25:05 - what we need to do is in our main
25:09 - storyboard we need to add another screen
25:11 - for them to actually visit after three
25:13 - days completed to sign in on
25:15 - registration so I'm going to add another
25:17 - view controller here and I'm very simply
25:21 - going to just set the color and add a
25:26 - label and just say you're in and change
25:33 - that to white and then we're going to
25:37 - Center that label horizontally and
25:39 - vertically inside this container update
25:41 - frames so that's it and how are they
25:44 - going to get from this view controller
25:45 - to this one well we can create a manual
25:48 - segue so up here I'm going to click this
25:51 - guy hold down ctrl on my keyboard drag
25:53 - it over here and click show it's going
25:57 - to create this segue here that we
25:59 - manually invoke but we got to give it an
26:02 - identifier so call this go to home go
26:07 - back to the view controller and now we
26:09 - can invoke it after the user has logged
26:11 - in so there's something wrong here
26:14 - cannot convert value of type UI text
26:18 - field ah my mistake here what we want to
26:22 - check is
26:22 - the text property of the text field I
26:25 - forgot to do that for this password we
26:28 - want to be grabbing the text from the
26:30 - text field and checking if that is nil
26:32 - okay so now that gets rid of all of
26:34 - those errors so if the user isn't know
26:38 - we're going to go to the home screen by
26:40 - invoking that segue we just added so
26:44 - perform segue with identifier go to home
26:48 - and the sender is self and the sender is
26:53 - basically who is calling or performing
26:57 - that segue and self is just view
26:59 - controller so that's why I have that
27:01 - there and perform segue is a function of
27:07 - view controller but because we're inside
27:10 - where this code is inside of a closure
27:12 - here we need to use the self keyword
27:15 - like that
27:18 - okay so self dot perform segue go to
27:24 - home so all right so now we're ready to
27:32 - try this out let's run the project and
27:35 - keep an eye on our firebase app in the
27:40 - users section here let me just separate
27:45 - this into two little windows like that
27:51 - alright so one thing that I might not
27:55 - have done we'll see if it will see if it
27:57 - happens but the keyboard might block the
28:00 - sign-in button which is ironic because I
28:02 - just did a video on that so we're just
28:06 - going to register that I forgot to add
28:08 - the code to dismiss the keyboard so
28:11 - we're going to choose register first
28:12 - okay and I put in my email you guys want
28:15 - to send me some fan mail go on right
28:18 - ahead and actually this password this is
28:21 - kind of embarrassing because my password
28:24 - is going to be seen by everyone and we
28:26 - got to set this password to secure text
28:29 - entry right so we're going to do that in
28:30 - just a sec so I can click register and
28:34 - hopefully
28:36 - that populates the user here reload boom
28:40 - alright there's our user so there's not
28:43 - email for everyone to see this message
28:46 - here you're in alright cool
28:49 - so let's stop the project let's go back
28:54 - to the storyboard let's change this text
28:57 - field to secure text entry okay right
29:00 - now I have the password text field
29:02 - selected secure text entry boom okay and
29:06 - what we also want to add in the view
29:08 - controller dot Swift down here and this
29:12 - is this is getting sticky because we
29:14 - have so many brackets here and that you
29:16 - can get you know pretty confused but
29:19 - make sure that you put it if you want to
29:22 - start a new function the safest way just
29:23 - grab the last bracket and put it above
29:26 - that okay but another thing you can do
29:30 - is you can start separating your
29:32 - functions into different sections using
29:34 - the mark keyword make sure you show you
29:37 - guys that another time so we want to
29:40 - override the touches began and we want
29:43 - to say email text field resign first
29:47 - responder and password text field resign
29:50 - first responder and this is just going
29:52 - to dismiss the keyboard when the view is
29:57 - tapped on okay so now let's run it again
30:00 - and try to sign in with this new user
30:02 - that we created
30:09 - all right we're under sign in here and
30:12 - moment of truth let's go here sign in
30:17 - boom we're in all right so that's going
30:22 - to do it for our email and password
30:26 - authentication with firebase now we did
30:29 - a lot of work just building this demo
30:31 - just building the UI building you know
30:34 - all the forms and arranging them into a
30:37 - form with Auto layout and stuff the
30:40 - actual part of connecting to firebase to
30:44 - create a user or sign in the user was
30:47 - actually pretty simple once you're
30:50 - so you know even though this video was
30:52 - long I mean most of the work was just to
30:55 - build our UI here in fact when I was
31:00 - reading the documentation in firebase
31:02 - they also had some sort of pre-built UI
31:05 - that you could use maybe we'll take a
31:07 - look at that please drop an
31:09 - authentication solution far with UI auth
31:12 - maybe we'll take a look at that in the
31:15 - future but I want to show you guys how
31:17 - to build in login form and how to sign
31:22 - in users and create users using email
31:24 - and password authentication so I hope
31:27 - you are able to build this out for
31:28 - yourself if you weren't able to or you
31:31 - just want to download the project check
31:33 - the link below those in the description
31:35 - of the video for downloading this Xcode
31:38 - project so I hope you enjoyed that
31:41 - tutorial now let me tell you about how
31:43 - you can win the app or game of your
31:44 - choice so number one you have to be a
31:46 - subscriber it goes about things I hit
31:48 - that subscribe button below if you're
31:49 - not already
31:50 - number two is give this video a like by
31:53 - hitting the thumbs up button below the
31:54 - video as well
31:55 - and lastly comment below by answering
31:58 - this question well it's just one app or
32:01 - game that you can list out so let me
32:03 - know the only rule I have for this
32:05 - contest or giveaway is that the app or
32:07 - game that you choose cannot exceed $10
32:10 - USD now the reason I say that is to give
32:13 - more people chances to win the more I do
32:15 - this because if I don't put a cap on it
32:17 - and there's some apps or games out there
32:19 - that are like twenty thirty dollars I'm
32:21 - going to go broke so there's still a lot
32:23 - of things to you buy for $10 USD and I
32:25 - hope you guys enjoy it oh yeah one last
32:28 - thing I'm going to choose the winner
32:29 - randomly and I'll reveal who that is in
32:32 - the next video so stay tuned make sure
32:35 - you watch that video to find out who
32:36 - wins and probably also for another
32:39 - chance to win as well okay so thanks for
32:41 - watching I'll see you guys in the next
32:43 - lesson bye for now
32:46 - Oh batteries

Cleaned transcript:

hey guys is Chris here in today's tutorial you're going to learn about firebase authentication specifically we're going to build a login page together that is going to set the email and passwords that the user can use to create an account or to sign in now eventually we're going to deal with all of the different firebase authentication methods like Google signin and facebook login and stuff like that but in today's lesson we're going to look at email and password specifically okay so the best part about it all is that it's actually not very hard as you're going to find out now before we get started there's one thing I want to say I'm going to try something a little different in today's video and that is one lucky subscriber and it could be you is going to win the app or game of their choice from App Store now if the winner turns out to be you you're going to be able to pick any app or game I'm going to buy you a final money and then I'm going to gift it to you so watch to the end of this video to find out how that lucky subscriber could be you okay so with that said let's get started so we're going to start by creating a brand new Xcode project it's going to be a single View application and I'm going to call this a custom email login now most of these settings you should have already if you've built any other apps before but you should just double check that the language is Swift okay I'm going to click Next save it on my desktop and that's all we want to do right here now we're going to jump into the firebase side of things because we want to create that firebase app that is going to store our users so let's create a new project in firebase and I'm going to call this custom email login and I'm just going to change this to Canada now we're going to click Add firebase to your iOS app so this bundle ID we're just going to quickly jump back into Xcode here this is our bundle identifier you can get to this page from clicking here under general and that's where the bundle identifier is now paste it into there and you can give this the nickname email login and add the app now it's going to create a configuration file for us to download and it should start automatically I'm going to save it on my desktop there and we're going to add this into our project just by simply clicking and dragging this guy into Xcode now make sure copy items if needed is checked on so that it copies it into our project folder and click finish so now that it's there let's go back here continue and now we have to install the firebase libraries with cocoa pods and this is stuff that we should have done before in the previous firebased lessons to offer this project but I mean you should know how to do this so I'm going to close out this Xcode project I'm going to open up terminal and then I'm going to navigate to my project folder so it is custom and you can press tab to complete the folder name for you and here I am inside my project folder so I'm going to type in pod space in it and if I open up my project folder now I have a pod file so I'm just going to open this in my text editor and here we're going to add some firebase libraries so firebase core we need that so we're going to paste it down here but we're also going to need another one so let's go to the documentation so I'm just going to click continue here and we're going to do that in a sec but what I want to do is jump to the documentation I will show you the different firebase libraries we can add so other documentation this gift sort of guide is really helpful we're going to need this under authentication as well but what I want to go through here is down here just under iOS under get started the available pods section tells you which parts you need to add depending on which features you want to use so we're dealing with an authentication now we also want to add this pod as well so go ahead and copy that and paste that under there so I'm going to save it and we can jump back into terminal and we can do a pod install so it's going to go ahead and it's going to do that really fast because it did it before I've done this before but for you it might actually take a while it might actually take ten fifteen minutes five minutes you know however long it takes to download all of this stuff furthermore if you get an error message about saying something like your cocoa pod libraries are out of date or something like that you can simply go back to the first lesson in this series and then just install cocoa pods again and it's going to actually update the files and then you can come back here and you can do a pod install for us now everything is good to go we're going to go back to our project folder and now we're going to open up our XC workspace file and inside this file we need to configure it for firebase got last step which we skipped a couple of minutes ago so import firebase here in your app delegate duck twist and then under here before the return statement we're going to say fire app and notice that we have a fire off now so far our app sought configure okay so now we have our Xcode project connecting to this this firebase app that we have on firebase okay so here jumping back and forth but this is kind of necessary we're going to set up the authentication method for our app first so if you click authenticate in here you can go to sign and methods right now everything is disabled we're going to enable email and password okay so go ahead and save that now it would be very helpful for us to have the authentication documentation handy so under there under authentication iOS and password authentication telling us to do pod far based off but guess what we already did that so we can jump straight to this part in fact we already did this you know in the app delegate far out configure we did that and here's the thing to note we are looking at this one create user with email okay so that's using fire off right we're going to create a new user using that function by passing in the email and the password and for signin we are going to do this one signin with email and password like done so now back to our Xcode project we need to create some sort of UI that contains some text fields for the user to enter in their email or password so let's jump into the storyboard and quickly do that so I'm going to move kind of quickly here and if you can't follow along or you're having trouble following along check in the description below the video for the link to this project and you can just download the Xcode project and look at the source code and run it and play with that so background I'm going to choose the screen I really like the screen for some reason it reminds me of Evernote which I really like except that it went paid and I stopped using it so now I'm using OneNote but I would really prefer to use Evernote if I had the money to pay for it so first we're going to start with a segmented control and this control is going to let us choose sign in or register so I'm going to change the title for the first segment to sign in and toggle to the second segment here I'm going to call it register and then we're going to have a label right underneath that and this label is going to be just saying either sign in or register I'm going to make this text white and next we're going to have we're going to have some other labels actually so we're going to have a label here that says this is the email field and I'm going to change that to white I have a label here and this is going to be for the password and the color is going to be white as well and then we're going to do text field I'm going to add two text fields one for the email one for the password like that and finally we're going to have a button now this is all going to come together soon I promise this button I'm going to call it signin for now okay so now let's just put some of this stuff in to stack views first of all we're going to add these two things into a stack view so give me a horizontal stack view and it's going to squish it like that for now that's going to be fine we're going to add these two put it into a stack see by clicking this button below so now both of these guys are in horizontal stack views as you can see from this document outline and now we're going to highlight all of these elements I forgot to mention you can highlight elements by holding down the command button and clicking each one but it's going to be very hard it might be a little difficult okay so I've selected them all like that another way you can do it is simply probably easier is to highlight doc I hold down shift and then click the last element it's just going to highlight it all before before you pop these guys into effect view itself I want to make sure that you have the correct order because once we pop it into a staff you the order matters so the first element on top here I want you to have the segmented control and then define and label and then the stack view for the email stack for you for the password and then the signin button lastly so if you have that order and you have them all highlight it like I do now you can click the stack view button and now it's going to dump it all into a stack view it's all squished it's fine we're going to add some constraints to this guy first so highlight that stack view we're going to go down here we're going to vertically center it in the container and we're going to add some constraints so that it left and right specifically zero zero so that it hugs the two edges there you add these two constraints and now I'm going to update frames and now it's going to sit in the middle furthermore we're going to we're going to change the spacing to 30 spread them out a bit and we're going to change the alignment to Center so you see all the elements here are aligned to the left I'm going to change that to center so they're all Center aligned and as for the email and password fields they're so squished right so highlight this stack view with the email and we're going to have to give it an idea of what it's what it should be so we're going to put 0 0 for the left and right constraints so it reaches all the way across like that okay and for the second stack 3 for the password 1 I'm going to do the same thing I'm going to do that and lastly let's add some spacing let's work on the password faculty first so select the stack view with the password and the text field in it and give it a spacing give it like 20 something like that and for the email 1 I'm going to have to play with this a little bit just so 40 now maybe 60 that's too much 55 something with that maybe it's 50 that looks about right to me if you want to be precise about it you can spend a little more time on it now what we're going to do is we're going to connect all of these elements to our view controller via IB outlets so that we can manipulate them we can read its values and stuff like that so go ahead and click assistant editor up here and usually I tend to run out of space so I'm going to use this document outline to connect my outlets now create some space up here because that's where we're going to do our outlets hold down control click and drag this segment to control over here and create an outlet I'm going to call this my let's call it the fine and selector and for the label here we're going to add an outlet for that you call this the signin label and for this email text field we're going to need that we call this the email text field we're going to need the password text field squared text field okay and the signin button right here and this part signin button so it's about the tests on signin button in this part when you're connecting the outlets some people end up making mistakes maybe they make a typo or they end up dragging the wrong element for example if I was dragging the text field I might have accidentally did it for the label instead and so people get into these weird states where the wrong things are connected and it's going to work right now but when you run your app things are going to go bad or when you try to like a signed text to read the text from this property right here it's not going to work because it's actually a label and not a text field because you connected the wrong thing so in order to fix that all you need to do is you can go in your document outline you can rightclick it and you can see what property this element is connected to so you can see here for my password text field if I rightclick it it is connected to this outlet called password text field if I had connected my label I would see it if I rightclick my label here I would see something here connected to that property all you need to do is click the little X to break that connection so for example I'm going to do this with my password text so I'm going to click this little X break the connection and now it's not connected to anything in fact you can see this little circle this little dot is not filled in which means this property is not connected to an element so now what you can do is rightclick your text field and then click this little circle under the side name referencing outlet as you can see there in st. Joe I get up to here and then choose the property and here don't make the mistake and connect it to the wrong property they'll connect it to the email text field or else you're going to have to fix things again connect it to password text field okay so that's just a little segue to tell you about that we also want to handle a couple of events so for example is the user select signin versus register we want to know about that so hold down control click and drag it down to here under override function did receive memory warning this time we're not adding an outlet we're adding an action ok and this is a signin selector change for the type I'm going to to segmented control just so the parameter is of type of segmented control we're not done yet we need to add another action under signin button ok so we're going to add an action and this is going to be signin button tap and the type is UI button Connect you should see something like that now so far all we've been doing is hooking up our user interface we haven't actually done anything with firebase yet now this could have been a separate video in itself and that's why I'm moving kind of fast because I don't want to spend that much time on just the user interface because the point of this video is to show you guys how to do firebase authentication but that pretty much does it for our UI okay so let's write a little bit of code right here when the user taps on this segment of the control and changes it from sign in or register that matters to us right because when the user hits this button we need to know if we're telling firebase to register a new user as and create a new user or to try and sign in the user right so we need to keep track of whether whether the user has the fine and tab highlighted or the register tab highlighted now what you can do is you can just check the assignment selector to see if segment 1 is selected or segment 2 is selected and because you know segment 1 is sorry I think it's segment 0 because the index for the segment start at 0 segment 0 is sign an assignment 1 it's registered but you have to know that and it might be unclear for someone else who is reading your code so what I like to do is just a little more work it might be a little extra code but I find that it's worth the clarity that it provides so I'm going to create a boolean variable just to signify if it's in if it's sign in or not and to start I'm going to set it to true because by default it is set to sign in and when the assignment selector has changed I basically say is sign in I'm just going to need to flip this from true to false or false to true and one trick you can do is you can just add that exclamation mark which represents which stands for not so if I do this it's just going to say is sign in is equal to the opposite of whatever is sign in right now so that's true this is going to flip it to false and assign it back here so this is flip be boolean okay and here going to check the bool and set the button and labeled ok so because if is sign in we're going to want to say define then label dot text is equal to sign in and sign in button dot to set title is sign in for control state press dot choose normal and otherwise we want to say the sign and label dot text is equal to register in the signin button dot set title to register for control state normal okay so that's going to handle our UI now this is the fun part here we want to say check if it's signed in or register so again we do if it is sign in right then sign in the user with firebase I'll register the user with firebase okay so now we can jump back to the documentation here before we can actually use the sign in or the create user functions our view controller needs to know about the firebase classes and libraries so we need to go up here above view controller and just import firebase and an import firebase off do I not need to do that might just need that so here we can do firebase off dot off like that and we can pretty much just follow this right where are we here signin right we can pretty much just follow this so you can do far off dot auth dot signin and autocomplete is gonna be really nice here so press ENTER so we need to provide it with the email and the password has two strings and then we can open up this completion closure to handle the result okay so before we pass in the email in the password what we want to do is probably just check about the fields aren't nil or if they aren't empty in fact you would probably want to do some no form validation on the email and password just to make sure that they're correct and especially if you're registering a new user with firebase on you and you want to make sure that their password is secure and contains a certain number of characters or capitals or whatnot then you would probably want to do some validation but I'm not going to do all that in this lesson because my main focus is wanting to show you guys these firebase authentication functions here so I'm just going to leave this as a to do or maybe we'll do it in a followup lesson or maybe a separate lesson to teach you guys how to do some validation but here I'm just going to do a basic check to see if email and password are both filled in so we can use optional binding on the text fields so let's let email equals email text field text comma and path equals password text field like that and inside here I know that both of those fields are filled in so I'm just going to copy this and only we're only going to do this if those two fields are filled in so here I can simply pass an email email like that and here can pass and pass like that okay so here for the completion closure I'm going to double click it and that's going to open up the closure I'm going to this parameter is going to contain the user which notice is an optional and the error is also an optional so user and error if the signin was successful then we should get a user so we can check that check that user isn't nil if let you equals user then user is found go to Home screen or wherever you know you want to send the user after else error check error or check error and show message for registering a user down here we're going to use the fire auth off create user with email and password so again we just pop it in the email is path and for this completion closure double click it again it has the same thing so user error so if let u equal user check that user isn't no user is found go to Home screen L error check error and show message okay so that should be it now what we need to do is in our main storyboard we need to add another screen for them to actually visit after three days completed to sign in on registration so I'm going to add another view controller here and I'm very simply going to just set the color and add a label and just say you're in and change that to white and then we're going to Center that label horizontally and vertically inside this container update frames so that's it and how are they going to get from this view controller to this one well we can create a manual segue so up here I'm going to click this guy hold down ctrl on my keyboard drag it over here and click show it's going to create this segue here that we manually invoke but we got to give it an identifier so call this go to home go back to the view controller and now we can invoke it after the user has logged in so there's something wrong here cannot convert value of type UI text field ah my mistake here what we want to check is the text property of the text field I forgot to do that for this password we want to be grabbing the text from the text field and checking if that is nil okay so now that gets rid of all of those errors so if the user isn't know we're going to go to the home screen by invoking that segue we just added so perform segue with identifier go to home and the sender is self and the sender is basically who is calling or performing that segue and self is just view controller so that's why I have that there and perform segue is a function of view controller but because we're inside where this code is inside of a closure here we need to use the self keyword like that okay so self dot perform segue go to home so all right so now we're ready to try this out let's run the project and keep an eye on our firebase app in the users section here let me just separate this into two little windows like that alright so one thing that I might not have done we'll see if it will see if it happens but the keyboard might block the signin button which is ironic because I just did a video on that so we're just going to register that I forgot to add the code to dismiss the keyboard so we're going to choose register first okay and I put in my email you guys want to send me some fan mail go on right ahead and actually this password this is kind of embarrassing because my password is going to be seen by everyone and we got to set this password to secure text entry right so we're going to do that in just a sec so I can click register and hopefully that populates the user here reload boom alright there's our user so there's not email for everyone to see this message here you're in alright cool so let's stop the project let's go back to the storyboard let's change this text field to secure text entry okay right now I have the password text field selected secure text entry boom okay and what we also want to add in the view controller dot Swift down here and this is this is getting sticky because we have so many brackets here and that you can get you know pretty confused but make sure that you put it if you want to start a new function the safest way just grab the last bracket and put it above that okay but another thing you can do is you can start separating your functions into different sections using the mark keyword make sure you show you guys that another time so we want to override the touches began and we want to say email text field resign first responder and password text field resign first responder and this is just going to dismiss the keyboard when the view is tapped on okay so now let's run it again and try to sign in with this new user that we created all right we're under sign in here and moment of truth let's go here sign in boom we're in all right so that's going to do it for our email and password authentication with firebase now we did a lot of work just building this demo just building the UI building you know all the forms and arranging them into a form with Auto layout and stuff the actual part of connecting to firebase to create a user or sign in the user was actually pretty simple once you're so you know even though this video was long I mean most of the work was just to build our UI here in fact when I was reading the documentation in firebase they also had some sort of prebuilt UI that you could use maybe we'll take a look at that please drop an authentication solution far with UI auth maybe we'll take a look at that in the future but I want to show you guys how to build in login form and how to sign in users and create users using email and password authentication so I hope you are able to build this out for yourself if you weren't able to or you just want to download the project check the link below those in the description of the video for downloading this Xcode project so I hope you enjoyed that tutorial now let me tell you about how you can win the app or game of your choice so number one you have to be a subscriber it goes about things I hit that subscribe button below if you're not already number two is give this video a like by hitting the thumbs up button below the video as well and lastly comment below by answering this question well it's just one app or game that you can list out so let me know the only rule I have for this contest or giveaway is that the app or game that you choose cannot exceed $10 USD now the reason I say that is to give more people chances to win the more I do this because if I don't put a cap on it and there's some apps or games out there that are like twenty thirty dollars I'm going to go broke so there's still a lot of things to you buy for $10 USD and I hope you guys enjoy it oh yeah one last thing I'm going to choose the winner randomly and I'll reveal who that is in the next video so stay tuned make sure you watch that video to find out who wins and probably also for another chance to win as well okay so thanks for watching I'll see you guys in the next lesson bye for now Oh batteries
