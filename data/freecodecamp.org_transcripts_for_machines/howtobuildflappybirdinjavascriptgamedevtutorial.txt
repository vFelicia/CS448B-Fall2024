today we're gonna see another tutorial about javascript and we're gonna create the floppy bird game using pure javascript so this tutorial will be in two different parts the first one will be the about the logic of the of the game and then the part two will will be about writing the code so we now go directly to write the code because we have to know the logic behind everything first now let's go and see the logic about the game so uh here what we need in html5 all we need is to create our canvas giving us on id and then a widget and the height so in our web browser in our page we'll get something like this so here is the widget and here is the height now everything else well created using javascript to create games we just just have to draw images to the canvas continuously and and changing their positions so first we're gonna select our canvas using document.getelementbyid of the canvas and we don't have to write all this line every time so we're gonna set this to a variable and then using the get context that gives us a lot of methods and properties that gives us us access to the canvas to write or to draw anything we want in the canvas so we'll get the context of our canvas and we said that a variable set x context so we won't have to write the line again now we have to load the images first to load an image we say var we will give the image a name and then we will say new the object image and then we have to give the image a source so we will say image name that source src equals the emission sound for example images slash image.png and the same thing for the audio when we when we need to download an audio file now to draw an image we will say ctx dot draw image function this function gets a lot of arguments so we'll just give it for now for the example just five arguments which are the image name its x position its y position its width and its height same for example we have the bird image then we give it 100 pixels for the x position and 150 pixels for the y position and its width is 50 pixels the height is 50. so here in the left in our canvas we will get something like this so this is the y position this is the x position and this is the height and this is the width so our image will be right here to move our bird here we just have to to change the values of y and x positions now to draw our images to the canvas we will use everything inside the function called draw so the first thing i'm going to draw is the background so i'm going to set x.draw image background and i'm giving it an x position equals to zero the y position equals the zero and i'm not giving it a width and the height because i already set all the width and the height of images using photoshop so this line of code will give us something like this in our canvas and then we will say settings.draw image now we will draw the pipe north and the pipe knot has a pipe x position and the pipe y position so we'll get something like this and for the pipe south remember you have the same pipe x position but for the pipe y position we will add the constant to the pipe south so we will get something like this and this is the constant so the constant here is the pipe height plus a gap now we're gonna draw a front ground so the front graph has a zero position and this y position so this is the canvas height and this is the foreground height and this is the canvas height minus the foreground height so our so our foreground will be in this place now we're gonna draw our bird our bird has a an x position and the y position so it will be here now we have to draw the images continuously so for that we will use a callback function so we will use the request animation frame so this function here so this function here we call the draw function then the draw function executes then it's called the request animation frame again the request animation frame called the draw function again and so on and this code will be run again and again and again so we will have to call the draw function just once now as you remember this is the bird y position so our bird here will go down by the gravity the gravity here is a number and we increment the bird y position by the number and when our uh player press a k on the keyboard the bird will goes up so we will decrement the bird y position so in our code we will get something like this so the bird y we will increment it by the gravity the gravity may equal to one or two or one pound five and on key down event we will decrement the y position by 20 for example and we can change it in our game now for our game we will need a lot of pipes so for that we will set an array called pipe and we will initiate this array with this coordinates so the x position will be the canvas with it and the y position is zero now inside our draw function beside the code we already typed so we use a full loop to loop all over the pipe array so we will draw the pipe node and its position is the pipe of i that x and its y position is this so we get for example the pipe north right here because the pipe 0 for example the x have this x position and the pipe zero that y will have a zero position and for the pipe south it could be right here now to move our pipes we will say pipe of i dot x minus minus so our pipe here will go from the right to the left just like this now this is our canvas with that this is for example 188 pixels so we so what i want to say here is when our pipe reaches this position we have to add new coordinates to our pipe array so we will say f the pipe either x equals canvas that we did minus 188 means when our pipe reaches this place we have to push near coordinates to our pipe again we will say x covers the wooded so we'll create our pipe just right here and then we have to to set a new y position so to set a new y position here different y positions we need to use the random function so we'll use the matrix random and demand that floor demanded random one gives us a number between zero and one and method flow will gives us or we return an integer now we need numbers between zero so this is the maximum y position and minus the height of this pipe so for that we'll say we'll multiply our math at random by the pipe north dot height so now we will get we will get zero if the map that random return zero and we will get the pipe not that height if demanded random returns one then we say minus the pipe north that height so in this case we will get numbers between zero and minus the pipeline dot height and so then we'll get new pipes for example right here and so on when these pipes reaches this position we will push new coordinates to our pipe array now let's set our game over rules remember this is our bird x position this is our bird y position and this is our burnt x position plus the builder with it and this is the bird y position plus beard height now this is the pipe x position and this is the pipe y position and this is the pipe x position plus pipe down with it now this place is the pipe y position plus its height and here is the pipe y position plus the constant and here is the covers that height minus the foreground that height now it's a game over f for example if our bird touches the front of the pipe which means the bird x plus bird that with it is greater than or equal to the pipe x so this is the first rule and if our bird is in this place and then if our bird x plus bird with it is less than the pipe x that the pipe x plus the pipe down with it and f in this case this is the bird y position is less than the pipe wire plus pipe height or for example in this case if the bird y plus bird height is greater than the pipe y plastic constant and the last one we will see all if the third wire plus the bird dot height is greater than the canvas the height minus the foreground dot height so this is it for the game over rolls now this is the end of the logic about the floppy bird game now let's go and write our code now guys let's go and write our code so in the description you will find the starter template which has some images the background image this is its resolution so will be our canvas and the other images and apply dot mp3 and the score does mp3 and then the index.html and the floppybird.js for our javascript code i'm gonna run my file and i will create the compass giving it an id then with it and the height so here is my canvas now i'm gonna link my html file to my javascript i'll go now to my floppy dab floppy bird.js i'm gonna test if it works and yes now let's create our canvas variable to select the canvas then the context now we will load the images so i create variables different variables for every image so i'm gonna create one for the bird and one for the background one for the front ground and then one the one and then two for the pipe mouth and the pipes so for all of them you'll see equals the new the object image so for each one now i will give them a source send.src equals i'm going to copy this and the last one is for the pipe itself now so i'm gonna save the images so my folder images then the bird.png all my images are in the same directory and the last one i'm gonna check now if my images are loaded and yes now we will draw our images so we're gonna set a new function trowel first i'm gonna draw the the background i'm gonna set x draw image i'm giving it the background object and then the x position under one position and i'm gonna call the draw function now i'm gonna draw the pipe north and south take the draw ms so the pipe north i'm gonna use some uh x and do i positions for now here's my pipe now pipe south and for the pipe uh and for the pipe salt we're gonna add the not pipe dot height plus the gap so i'm gonna say just constant and i'm gonna create some variables right here and say the var the constant here equals the pipe not that height plus the gap and the car position to 70 or 75 pixels i'm gonna copy this to the bottom and now if we refresh i will get my pipe south i'm going to set 80 for the gap or 85 it looks great now let's go and draw the the front ground i'm going to set x that draw image the foreground zero and zero now if i say zero one zero for the y position it is at the top so i'm gonna say converted height minus the front ground at height so it's in its place now i will draw the bird i'm going to say for example 10 pixels for the exposition and 150 for the y position now we will change the x and y position later so i'm going to say bird x for the x position and bird y for the y position i'm going to change them in my code this line now our now our bird will will fall continuously because of the gravity so we will say the bird y plus and the gravity so we'll increment it by the gravity so we will set the gravity to to 1 for now let's refresh now the budget is now moving so we have to request the animation frame for the draw function now the bird is falling cool so the request animation here called the draw and the draw called the request animation and then it calls the draw again and again and again now let's go and now if our player hits or press ok and the keyboard then the birds will move up so set a new function called move up so the bird y will decrement by 20 for example for now so if i hit or if i press ok you see the bird goes up and then goes down by the gravity again now let's go and declare the pipe coordinates it's an array as we saw before so i'm going to see if our pipe equals an empty array and then pipe then pipe of zero equals so i'm going to give it an x coordinate so the pipe will be there and do y equals zero now we're gonna use a full loop to print or to draw all the pipes i'm gonna copy this inside the loop and i'm going to change the x val values with the pipe of i dot x so this is the x position for every i in the pipe array so the pipe nut and the pipe side has the same positions for the x positions and here is the y position now we'll say pipe of i minus minus to move uh to move the the pipe to the left to the to the left here now my pipes are moving to the to the left now i have to add new pipes to my array so i'm going to say f the pipe of i that x equals 125 example you can use whatever value you want i will push a new object to my array pipe so the x position is always covers that with it and the white position here is a random position so we'll use the math floor and the matte random multiply by the piping off that height minus the pipe north dot height and here is the result i have to change the gravity here so the ground i'm going to say 1.5 for the gravity and 25 for the for the move up function to make things easier so that's good now now let's detect if there's a collision so if if there is a collision we will reload the page and now let's check that there's equation also equation now we'll say and for the white positions if the position is less than the pipe the pipeline plus the height of the pipe oh the dead y is greater than or equal to the height of that point plus extra exposure now i'm gonna check that cool but if i go through the gap if i go through the the gap nothing happens that's cool now when our bird hits the the fog the front ground it's a game over also so let's say if the bird y plus the bird dot height is greater than or equal to canvas height minus the front ground height so whenever it touches the front ground it's a game over now if the pipe i the x equals a five will increment the score by one and and will go and print that to the to the canvas so we're gonna give it a style a color for our text and a font a font size on the font family and then we're going to use ctx dot felt text to print the text to our canvas so here we're giving it the text to show a string and then the x position i'm going to say for 10 and then 20 for the y position now it's at the top i'm going to move it to the bottom i'm going to say canvas height minus 20. now it's at the bottom now the score increment 2 3 oh that's a game over now let's add some sounds to the game let's first create audio files so i'm going to save our fly when our bird fly we will make this sound and win the score increment we will use this sound so i'm gonna give it the source of the files so i'm gonna say sounds fly does mp3 and then for the score it's score does mp3 so when i move up the bird it means when the bird flies then i will play the the fly sound so i'm going to say fly dot play and now if the score increments then we will say skull dot play now you can hear the sound when i press ok on the keyboard and doing the score increments if i pass through the gap so this is the guys for this tutorial