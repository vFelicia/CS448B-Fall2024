hey what's up welcome back to css3 at 30 days today we are going to be doing something really fun and that is creating a pacman animation we're going to make a little pacman chasing the blinky ghost across the screen and it's gonna be a lot of fun now what is pacman uh if you don't know what pacman is then google it i don't know anyone who doesn't know what pacman is pacman is a classic arcade game it's timeless it's a little yellow chomping uh ball that eats little pebbles along this maze and there's ghosts chasing him and when he gets a special pebble he gets to chase the ghosts and eat the ghosts and get bonus points really fun simple little game and we're just going to create a nice simple animation of pacman moving along a pat moving along a path chasing the ghost so check this out in my browser and i'm going to show you what we're making check it out right here here it is now there are a number of things going on here all of this this entire thing is css just css there's no javascript nothing like that it's purely css animations and css3 and that's what's exciting about it so let's check out what's going on here we have the path in the background with these little pebbles it's very simple it looks like he's eating them we also have a circle here and that circle is chomping and moving as well so a couple things there then we have this ghost blinky what blinky is doing is uh quite literally blinking colors so he's moving along the timeline as well along the path and he's blinking colors in and out from red to hot pink and he also has big googly eyes and his pupils are moving back and forth so he's got a number of things going on i haven't seen a css tutorial online yet other than this one where they code the ghost as well i've only seen css pacman animations in varying degrees uh in different examples but i haven't seen one with the ghost so i wanted to throw the ghost in here because it's kind of exciting all right so let's get coding let's make our pacman and let's make our goats and let's animate them right now so jump over here in your code editor download 17 pacman you got the three files there again give you a moment to download those files and come right back here and and then i'm going to show you what's going on here so we've got our index file with some markup and i'm going to show you what's going on in terms of the html this is what the html looks like for the pacman we have a div with the class of path wraps everything that is the container which is simply that black path right here with the dots inside then we have div with the class of pacman that is pacman that's it for pacman then we have a div the class of ghost which wraps uh a div with the class of eyes and div with the class of skirt so the eyes are the eyes and the pupils the skirt is the the bottom of the ghost those triangles that look like a skirt so and that's it for the markup you don't have to code it because it's already there this isn't an html course it's a css course but just to show you how simple the html is and all the magic happens in css jump into your sandbox okay so let's get started let's jump in and say we're going to start with path and that path is going to be a position of relative a width of 100 a height of 100 pixels a background of triple three but whatever color you want it to be works as well padding 20 pixels all around box sizing i want to be border box because i want it to be a fixed 100 pixel height if i don't declare border box i'm going to have 140 pixel height element because the padding adds to that height so i want it to be border box to keep that padding within it so the element is 100 pixels height max overflow hidden very important because when the ghost when blinky and pacman go off the screen out of the element i want them to disappear not slide outside and be visible and be kind of odd it would look like a little glitch so that's it for the path save that check it out here in the browser it's just gonna be a big long um like a dark gray rectangle all right jump back in here i'm just gonna tab in one and say path virtual element after content empty string position relative note position absolute okay display block border top 12 pixels dotted white what we're making here are those little pebbles along the middle of the path now if i say width 90 i have to give it a width because of the condition that it's in it's an after virtual element that you cannot see until you give a width and or a height so we got the width uh and the height is the 12 pixels of the top border so simply i'm creating an element that is just a top border the width is 90 if we save that and check it out here in the browser we've got it right here we've got our 12 pixel dotted border we've got our 20 pixel padding on the left and the top as you can see very clearly the problem is is that this is not centered within the path vertically or horizontally so let's deal with that right now over here in the code editor simply going to say top 50 that's going to push it down 50 percent of the height of that parent element and left five percent because we are ninety percent width if we want to fill a 100 width if we push it over five percent there's also five percent on the other side so now we're perfectly centered in terms of the top fifty percent we're going to have a little problem save that check it out it's perfectly centered horizontally but we've got too much space in the top that's because it's going 50 percent down from the top of this element so this actually here to here is exactly 50 but i want it to be 50 from the center of these these uh dots because those dots are 12 pixels in height half of that if we bring it up half of those pixels it's going to be perfectly centered so margin top negative 6 pixels save that bam now we are perfectly centered both vertically and horizontally all right now let's get down to the fun stuff let let's create pacman there's pacman we're gonna say position absolute zed index 99 so he's always on top of everything top 50 we want him down 50 from the top of the the path and now um that's it for now now you're not going to see pacman because he is simply just a position a zindex and a top value there's nothing showing us visually that it's pacman where that's going to come into play is the before and after virtual elements so let's go down and style those up we're going to say pacman before and pacman after in here we're going to give him content of an empty string display block and we're going to say height 0 width 0 this is weird why are we doing this well we're actually going to create pacman out of a border not actually out of creating a background color okay so we're gonna say position absolute and then we're gonna go border solid 30 pixels yellow that save that check it out in the browser it's going to give us a yellow square and that's because we have we have a 60 by 60 element because there's uh there's a border top there's a border left there's a border bottom and there's a border right of 30 pixels so now what we're going to do is we're going to remove certain sides of the border in order to give us the illusion or make it look like we have half circles now what do i mean by half circles i'm styling both before and after with these identical styles so there are two elements on top of each other if i move one over say pacman after and i give him margin left of like like 65 pixels save that check it out in the browser i moved him over just enough so you can see there's two and so now now we're gonna leave it like that for now and then style it up so you can see what they both look like let's go back here to before and after and let's say margin top i want it to be negative 30 pixels so he's centered in that path border radius 100 should do the trick or 50 50 is fine should give us a perfect circle if i save that and check it out in the browser we got two perfect circles sitting in the middle of the path now let's remove some sides of the border border right color transparent save that check it out so i removed the right border of the four sides and now it actually looks like pacman we're not going to stop there because we actually want two parts to this pacman a top part and a bottom part and we're gonna make those chomp together in this manner i don't really know if i were just to have one chunk out of one side of a circle i don't really know how to connect those in an animation but what we can do is create two of these elements and animate them individually so it looks like there's a chomping animation this method specifically i'm going to give credit to travis nielsen of dev tips in his css animations tutorials on youtube check him out uh he created a pacman loader and he did basically pacman he called him a chomper chomp chomp and um he used the before and after virtual elements and animated those individually so uh i am going to give credit where credit is due this specific part is uh inspired by travis so thank you for that um the rest of it however is a mishmash of me just jamming and trying to figure out how to make this work so let's show you what's going on border right color we're also going to say border bottom color is transparent now watch what happens save that check it out bam now we've got two half circles because we cut out two parts of the border but now what we're going to do is make the the after virtual element uh have kind of an inverted version of that so we can you'll see what i mean so let's give the after pseudo element the border color of yellow to reset it back to a circle there it is now what we're going to do is say border right color is transparent and the border top color is transparent as well if i save that and check it out now we got the other side now this will make a lot more sense if i remove this margin left of pacman after and now they're connected and they look like a pacman all we have to do now is animate those two separately to rotate a certain amount of degrees on both sides so it looks like a chomper let's do that right now so simply go up to the pacman before after and we're going to give it an animation so animation we're going to name it mouth top and we're gonna do it over 0.7 seconds ease infinitely infinite save that it's not going to work until we define a keyframe so go to the bottom and add your keyframes at the bottom of your style sheet that's usually a good place to do it keyframes this one's called mouth top and now it's just simply playing with timelines so we're going to say at the 50 point of the timeline so this goes from 0 to one hundred percent you can also define it based on uh seconds i believe but anyway we got fifty percent way through the animation we are going to say transform this is just css rotate i'm going to say 44 degrees specifically chose that number for a reason i'll show you why save that refresh in your browser now it's all rotating 44 degrees but i want the bottom mouth to rotate negative 44 degrees so that one goes up rather than down as well so simply all we have to do is well while we're down here in the keyframes let's define another keyframe copy this one in fact save you some typing paste it call it mouth bottom rotate it negative 44 degrees scroll up to your before and after copy this style right here paste it in the after pseudo element style and change the name to mouth bottom same exact animation just inverted save it check it on the browser bam just like that chomping perfectly now why did i choose 44 well let me show you what happens when i do 46 degrees look at the back end the rear end of pacman there's a little bit of a oops a little bit of a line that appears there and that's not okay 45 degrees shows the same hair line just a little smaller 44 degrees was the perfect number where i found no line at all where the mouth closed the most okay now all we have to do is move him so let's create another keyframe here and let's call it keyframes move forward and i'm just going to say at zero percent uh of the animation i want pacman to be negative 20 position i'll show you why in a moment and at 100 i want him to be at left 100 so that the left side of pacman is going to be 100 so he's going to be off of the screen so if i save this and move up to pacman give this an animation of animation we called it move forward five seconds linear and infinite save that check it out in the browser watch what happens see how he's coming out from off of the screen on the left side and then disappears on the right that's exactly what we want let me show you in that keyframe what happens if the left is actually zero percent what you might think he starts his left side of the element starts right here so he goes off screen but then just appears out of nowhere and it's not smooth but if we have it left negative 20 where we know he's off the screen that's gonna solve the problem he slides out so he goes off the screen like that comes back out gently i like it you might even sample 10 and see what happens there if you wanted you could play around with a number maybe that looks a bit more like he's half off there and half coming out that works too so that's it for move forward now that's it for pacman actually so we made a pacman animation i could have left it here but i thought nah i wanna make a ghost and i wanna make that ghost run so let's do that and now we're gonna start styling up this ghost okay so now we're gonna say ghosts should have just called him boo ghost position absolute zed index 99 so he's on top of the screen as well top 50 left twenty percent i'm doing that because i want him in front of pacman i'll show you i'll show you a bit here margin top we're gonna bring him up negative 35 pixels because i want the height to be 70 pixels in height and the width to be 60 pixels in width so margin top is half of 70 so that it's perfectly aligned vertically in the center if i save that and go back here you actually won't see anything because we haven't given him any colors so let's go back to the ghost here again let's go background red let's get make him red save that now check out your browser so we've got a rectangle a red rectangle so now we just need to shape him out so let's say the border top uh the border top left radius is 70 pixels and the border top right radius is 70 pixels watch what happens just the top rounds out the top left the top right that looks nice and now let's start shaping him out a little bit more he needs to have that skirt and the eyes so let's let's use as minimal amount of markup as possible and let's say uh goes before now what we're going to do is say goes before and then ghost after and now we're going to use this use the ghost before and after for the the googly eyes the the the white part of his eyes or her eyes content uh empty string position absolute background white height 25 pixels and width 20 pixels i want them to be not a perfect circle i want them to be like a long like a long eyeball border radius uh we're going to make that 100 perfectly round uh rounded edges all over the place save it let's check it out see what happened here so we have the right shape i think that's the shape i want both of them are right there they're stacked on top of one another so we're going to have to move that so go back here in your code editor and let's simply say top 15 pixels from the top and then left we're going to go four pixels from the left now really i'm just styling this is where i want the before i to be i want the after eye to be over a bit so simply go down here we're going to declare a ghost after pseudo elements virtual element you know what i mean and we're just going to say left 28 pixels that's the only thing we need to change save that check it out we've got our two white eyes starting to come together it looks pretty cool all right now let's style those eyes so i have an element called eyes in the markup but i want to use the before and after virtual elements as well so we're going to go eyes before and eyes after okay now again as usual content empty string so it can be visible on the screen position absolute so we can move it around wherever we want it outside of the flow of the document background blue we want blue eyes heights 10 pixels so these are the pupils i probably could have called these pupils but oh well width 10 pixels border radius 100 that's border radius 100 and uh save that let's see what's happening okay so there's our little blue eye up there we need to move it down and over a bit so back here top 25 pixels and left 5 pixels save that there it is looks good i don't think i need to do anything else with that one now i just need to move the second eye the after uh virtual element over so i'm going to say eyes after and left is going to be 30 pixels and that will move him over to the right spot i believe save that refresh uh it's i don't i don't see it i think this is a zindex problem go back here and both of them going to say that index 99 again save that bam there it is it was just hidden behind the i you couldn't see it so i needed to move that pupil forward using zindex that was important okay now uh we have one more thing to do here with the the look of this little blinky is the skirt is what i called it so let's go down another style here oops not there let's do it after the eyes and let's go skirt position whoops let's go position absolute height zero width zero uh border solid 10 pixels triple three doing this because i'm using borders for this and let's save that and see what it is so there we go we have a 10 pixel border that is 333 the color of the background so it looks it's gonna look like it's seethrough the it's gonna look like we're creating those triangles so we have a square in order to create a triangle out of the border we need to remove the one of the sides so that you can see through it to see the red so watch this we're going to go border top color transparent and save that so okay now you can't really see anything there we're going to move it down to the bottom we're going to say bottom negative 10 pixels let's go bottom 0 to see where it is there it is but we want him to beat that to be down more so negative 10 pixels is the height of that element that should do the trick so there we go so we got one there but now we need to do a couple more so you can see how this is working as pacman passes through him you can actually see where it's where it is okay so now what we need to do is simply uh style so we styled skirt with that style but now we're going to style the before and after virtual elements as well before and skirt after and now we're going to do is again content position at absolute height zero width zero border is gonna be solid 10 pixels triple three come to think of it i could have just styled this in a much more efficient manner why don't i go like this i'm gonna copy that i'm gonna remove all these styles for now i'm gonna paste this right there so all those have that style and i'm gonna move these slightly in a sec so save that check it out in the browser okay so you can't see them there because they're all stacked on top of one another so now all we got to do is style each of these individually so i'm going to split these out okay so now we're going to say before is going to have a left position of 10 pixels gonna move over 10 pixels and then the after is going to be moved over uh left 30 pixels save it let's check it out okay you don't see it because these actually have to have these are virtual elements so they have to have a content so simply all we're gonna do here is uh content empty string copy that after this is gonna have content empty string save that bam there it is just like that so now we have the three little uh skirt frills uh that make up this ghost so now this ghost looks done so now all we gotta do is move the ghost google his eyes and flash his color we already created the move animation so let's just move him uh so let's see what happens if we go back up to the ghost right here and wait here it is and let's give him the animation of animation move forward five seconds linear infinite save that and let's see what happens okay he's moving but where's pacman pacman is hiding directly behind him so that's a problem we need to separate them so what i'm going to do is just simply delay how long pacman takes until he starts his animation you don't have to do anything really extra you just go up to pacman and let me see here animation let's just have another line here called animation delay i'm going to delay him 0.8 seconds you can delete him however long you want and it will space him out from the ghost watch this okay do you see what has happened now they're spaced apart but when i refreshed look where pacman was he was just sitting there and then he disappeared off the screen negative 20 and then started his animation that looks bad so all we have to do is move pacman by default 20 left off the screen so he's just going to be left negative 20 save that now when he's waiting for his animation he's going to be off the screen and then he's going to come out so now perfect so now if i delay this longer like say two seconds these are going to be spaced apart a lot more like that and now looks like the ghost is chasing him i mean maybe that's fun maybe that's a cool way of doing it maybe you want to delay like 2.5 seconds see what that looks like halfway it's coming out and that looks like the ghost is chasing him and now like he's chasing the go whatever you want to do works totally fine i'm going to leave mine with something like maybe one second for now okay now the ghost needs to um let's make him flash let's make him blink blinky all right let's scroll down to the ghost we're going to create an animation called color swap or blink maybe you want to call it blink whatever works for you so let's go back to the ghosts and let's give him an animation so we did move forward but we're actually going to do another one you can do a comma and add another animation very easily just like this so we're going to say um you could say color swap like this you can call it blink you know blink is kind of a fun one blinky sure let's call it that and we're gonna say 0.5 seconds uh is how long it will take linear is the is the arc and infinite we're going to have it happen forever so save that uh we need to actually create that animation now called blinky so go down create a keyframe call it blinky and all we're going to do for blinky for swapping the color is halfway through the animation timeline change the background to hot pink halfway through it's going to swap to hot pink and then swap back to its other color so save that check it out so now he's blinking and you can change that color to whatever you want you can change it to i don't know like triple three i don't know what's going to happen looks like he kind of like disappears into the into the background which is kind of cool i kind of like that and maybe if i sped up the animation time i don't know like 0.2 seconds let's see what happens you know that's something 0.4 seconds let's see yeah i like that one that looks fun but you can have whatever color swap you want and um okay so that's good now what we got to do is we've got to make his eyes move back and forth so we got to make those little peepers uh move left and right so what we're going to do is go to the ghosts pupils which are eyes okay and let's go with before and after and we're going to say animation we're going to start with peeper left so the left peeper 0.7 seconds linear infinite again okay and now the we have to create an animation called paper left and so now if we just started with that let's go down the bottom create a keyframe called keyframes paper left and then what we're going to do with paper left is at zero percent comma and 100 percent so the left position of that is gonna be five pixels and that's because the position of the left eyeball is actually five pixels so i want it to be at its five pixel default state and then move over a little bit so let's move it over uh people left at the 50 mark of the timeline i wanted to move over left let's move it over a little bit so sorry not that long i want it to be 10 pixels over so if i save that we've already got that set up refresh so now you see how that eyeball is going back and forth but now the the right eyeball is not there so that's because it's getting the same animation as the left peeper so we want to separate that and have it have its own animation so while we're down here let's copy this and do another keyframe called peeper right and the left the zero and 100 percent part of the timeline is going to be 30 pixels from the left because that is the default state of the right eyeball up here you can see i after left 30 pixels so we want it to start there and then move over probably 8 pixels and then do that so let's scroll back down to paper right the left position won't be ten percent uh save this actually we're gonna have to add that style uh so copy paper left on this one and and the after add paper right save that and watch what happens right here so that's super weird unless that's the style you're going for but obviously it's not what we're going for so paper right the the 50 mark the left position make it 38 pixels so now they're going roughly the same you can see they're both they're off a little bit so maybe if i did this 35 pixels it's going to be the same distance so they're both going to move exactly the same way so now they're moving at exactly a uniform speed and distance and pace they're identical but if you want to give them a little bit more of a googly googly eye look you can have it move a little bit few more pixels so now they look a little bit you know a little bit more googly looking yeah interesting up to you however you want to do it you can even go something like this like top i don't know i don't know what's going to happen here what's the top uh the top by default for this is 25 pixels so maybe we move it to 20 pixels let's see what happens so that eyeball is like doing like a little it's kind of cool i'm gonna take that out okay save that and really refresh that's it so we have our pacman chomping moving along the top the path going off screen coming back out from the beginning we have our blinky ghost all css flashing moving and his eyeballs are moving back and forth and that is really cool that's really quite something that's it for today this was a big lesson but i really enjoyed making this so i really wanted to give it the time of day so that you can create something really interesting show your friends show your mom and uh they'll really think you're cool that you spent a lot of time on your computer making pacman john