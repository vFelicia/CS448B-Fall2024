learn how to build a fully functional YouTube clone using flutter UI kit Firebase as a backend and River pod for State Management this tutorial covers everything from Google signin authentication to uploading and displaying videos profile customization and much more designed for beginners it will guide you through Firebase and River pod from scratch but a basic understanding of flutter and dart is recommended am Min from code HQ created this course let's start an amazing journey of creating the fully stck YouTube clone with tons of great features and a beautiful UI this tutorial is designed to make you master not only flutter but also Firebase and reward po 2.5 if you are an absolute beginner don't worry as I go through Concepts step by step and will cover different Technologies to complete this app we'll start off by signing user with Google and collecting users data for creating username we will check the fire database in real time to see if username is not repeated and if it was show an error to say username is already already taken inside the homepage we can see all the videos uploaded from different channels users can upload their own videos in title description and select the thumbnail manually when video is uploaded by clicking it we are navigated on the actual video page which has exactly the same yoi as the YouTube in your phone I can play the video and move it back or forward we can also like the video see number of viewers And subscribe to their Channel I can add comment to the video and the first comment will be displayed under the video similar to the actual YouTube also while opening a video I can see all the other suggested videos under it next it also has a powerful search engine and I can filter videos and channels at the same time and I can open any channel or video by clicking on it I have my personal Channel with all my information and videos I have uploaded also a channel settings page which allow me to customize the channel profile beside long videos I'm also able to upload short videos edit the video and Export it this course is for beginners and to get it started you don't need any knowledge of Firebase or river poot you just need to have a basic understanding of flut and dart by the end of tutorial you will be familiar with most of Firebase features like authentication signing methods database storage and a lot of useful methods and classes you will also learn different rivert concepts and providers to manage a state inside flut projects so if you're ready let's get it started the first thing that I need to do is to create my Firebase project and I'm going to just do it using the flut fire CLI and it is really a great way to create your fire project which is really easy so let's just open the CMD and here I'm going to just uh use the flut fi uh CLI to create my fireb project before starting make sure that new Js is installed in your computer and if it is done just run this command which it will install fireb tools inside your computer it will take a while and then fireb will be installed very well now fireb should be installed in my computer and I can just check it using the Firebase D Dash version using this command you can just check if FL uh if Firebase is installed in your computer and as you can see this is the current version of my Firebase is and it is a result now I want to just go and open my project so I can just use this command to go inside my YouTube clone project and here the next thing that I need to do is to sign in with my Firebase account so I'm going to just use the Firebase login command which it will go and uh enable me to log in with my current account I'm already logged in with this account but I'm not going to continue with this because I want to log in with another account so I can just use the Firebase log out and using this command I can just log out from my current account and I want to log in with another account so I will run the command Firebase login once again now I hit yes and now it will open the chome for me which allow me to use any account I want to sign in with I have two account I want to use my second account and I will sign in with this one just hit the continue and now all it very well now we are signed it with my fire account very well and as you can see it is also logged in here the next comment that I need to use is this one which it will just go and activate Fifi CLI inside my project so I'm going to just run it it won't take long and fifier CLI will be activated and now as a last step you need to configure your Fifi so I'm going to just run the command Fifi configure and it will just go ahead and fish all the available fire projects that I have and as you can see I have not any project and I I can just go and create a new Fus project the name of the Fus project that I'm going to use is YouTube am Min ahmed2 so I'm going to use this uh name or ID for my fibus project also keep in mind that your Fus project should not be already taken and if it is taken you will not be able to create a f uh you will not be able to create your fireb project so keep this in mind and hit enter now it's creating my fibus project we are having some error so let me run this command once again flut fire configure let's see if we can create our Fus project right now let's give a name to our fibers project I'm going to give it a name YouTube Ahmed amini clone let's hit enter and now it's trying to create my fbas project and again we are getting some error let me just try to create my Firebase project from the console it is also available for me I'm going to just open firebase.com and let's see if we can create a project right here I'm going to change my account to the second one and I want to create my Firebase project here let's see if we can create our project from the console hit on the create project and I'm going to just uh call it YouTube Ahmed amini yeah I can just create this project and hit continue make sure to uh not check this enable Google analytics for this project and then head to create your first Prest project now it's trying to create my project so let's wait for it oh very well after some problems and errors now finally I can create my Firebase project and it is created so let's hit continue and now I have my Firebase project so now let's get back here and I'm going to run the command flutter fire configure once again and and now it's stying to fish my fireb project and I should have one Firebase projects already so let's just find that project and as you can see yeah I have the project uh the name is YouTu clone and I'm going to just hit enter the next thing you can do is to you can choose which platforms you want to configure and I'm going to just do it for Android and iOS so just hit the space button to deselect Mac OS and Vib and hit enter now it's fetching my configuration for Android and when it is done it will also do it for iOS so let's wait for it till all the config uh all the configurations are done very well finally hit yes and now my fibus project is created and everything is done so let's just open the project uh I can also show you that Google services. Json file is automatically generated for me and also I have a file called Firebase options with all the config uh all the configurations related to Firebase is generated inside this file and everything is done for us automatically now let's just finish our configurations before starting you need to make sure that you have all the Firebase packages installed inside your PML file so I'm going to tell you once again that it's highly recommended that you download the starting project from my GitHub which is the link in the description below and if you download it you can access to all this Firebase projects and everything in the starting project so make sure to do it if you download the starting project you will have all this but if not you have to install this packages Firebase out Firebase core Firebase storage and all other packages uh these are related to the Firebase and also you need to install the package Google sign in which we use it to sign with Google which is the package right here very well as a last step I need to initialize my Firebase inside men Dart I just need to add some lines of cut here yeah just add here and now I need to import Firebase code and also I need to import the Firebase options file inside my project also uh because we are using FL River Po in this tutorial I need to wrap my app here with provider scope because we are going to need it I'm going to just use provider SC here and the child will be my app and now I will be able to use FL rivp inside my project everything is done and I have it's working just run the emulator very well now the emulator is run and as you can see we are seeing only a black screen because we have nothing in our men Dart and we are only placing a container and now I'm going to just create my login page and there I can just create all the logic and UI related to the signing user with Google so let's work on it first of all I need to create a a folder called a and inside this folder I can just uh create all the stuff related to signing the user with Google and first of all I'm going to create a file called login page just import the material. dart and create an inad this widget I'm going to call it login page and here let's return and scaffold and we'll create everything here just take the login page and put it inside this instead of this container and import the login page now as you can see we are seeing this screen so let's work on the UI I will also minimize this page that I can see my emulator first of all I will work on the UI of this page and then I will create the logic and functionality to sign in user with Google first let me give it a background color and I will use for now only a background of gray later on I can change this next I can just go inside the body and I can create a safe area the child will be just a center widget and again child will be a column very good so the first thing that I'm going to create inside this column will be an image and I just want to show a YouTube logo image inside this column and I should also tell you that inside this accet folder I have all icons and also images that I will use throughout this project so I'm going to say once again that please download the starting project which you will access all these assets and everything inside this project and I'm going to use a lot of uh these images throughout this project and the first one will be just uh YouTube logo so I'm going to just create an asset image and the image first of all I need to mention the assets then images and then the image that I'm going to use here is an image called YouTube Das signin jpack very good and as you can see this is the logo I'm going to also change the height and I will give it a height of 150 let me also remove this background color I think the original white background color is the best for this also I'm going to give it a padding and also some more style let's wrap it with a padding widget and I will just give it a padding only from the top and also a padding of 25 from the bottom a padding of 20 from the top and also a pading of 25 from the bottom very well now it looks very nice next I will also create a text which inside this text I'm going to just say welcome to YouTube let's also change the text style of this text and I'm going to give it a pH size of 30 and also a pH way of bold and I uh and also I'm going to change the color and I will give it a color of blue gray now I think it looks much better the next I'm going to just give it a spacer and the final thing that I'm going to add here is going to be a button so at the end of this page right here I want to add a button in which the user will be able to sign in with Google whenever the user Taps on a button and for doing it I'm going to just use an image that I have already in my assets folder so let's again uh use the image. assets and again first of all I need to mention the assets then images and the name of the image that we are using here is sign in with google.png sign in with google.png this is the image that you're using here and as you can see this is the exact image let's just change the height and I'm going to just give it a height of 60 I'm going to also wrap it with a padding and I'm going to just give it a padding only from the bottom and a padding of 55 very nice I think it looks very nice the last step that I need to do is to wrap uh this assd image with a just sctor because I want the user to be able to click on this button and when they click it I uh they should be able to sign with Google let's just wrap it with the gure detector and it has an an property which it will be empty for now later on I will add the logic and functionality so that's it uh the UI of this login page is created now we can just go and create the function to sign in with Google let me just create a folder which I'm going to call it repository and another folder which I will call it pages I will move the login page inside the pages I'm going to just do it to make our code more readable and maintainable later on we can read our code much easier in this way and inside the repository I'm going to create a file called OD service and inside this service I can create all the uh logic related to letting user sign in with Google so everything will be here and our code will be much readable and maintainable let's create a class called OD service and here first of all I want to Define two fils one will be Firebase o and the next one will be Google sign in and we need both of them to make user sign in with Google so let's just SC them the first one will be Firebase ALS I need to import it let me import this first I'm going to import Firebase out and I'm going to also import Google sign in now I can just create an inance of Firebase art which I'm going to just call it us and I'm also going to create an in sense of Google sign in which I'm going to just call it Google sign in very well I also generate Constructor for it and it is done so let's work on the logic how can we let user sign in with Google let me just create a method which I'm going to just call it sign in with Google it is an a synr method and I can just use the inocence of Google sign in which I just created and the first method that I create here or I should say the first method I'm going to use here is a method called sign in and what does this method does it will just pop up a window which all user to choose its Google account from all the Google accounts that the user has so I can just uh save the result of this method inside the variable which I'm going to just call it user very well now I can use the user and I'm going to just call the method authenticate of course first of all I need to make it await because we don't know when the user will choose its account and once you await it now I can use the method authentication and doing that user will be signed in now I will just put it inside a variable called Google ass very well the next thing that I want to do is to create a credential and I can just use the Google OD provider and then you use this credential using this I can create my credential and as you can see we have two properties here the first one is access token and the next one is ID token and we can just uh and we can just initialize this access token and ID token using this Google art that we already created I can just uh use Google art and then call Access token Google art do access token let's see what's wrong here yeah I forgot to make this method await as well because we need to await this method as well and now it's working for the ID token I also need to use this google. ID token and now it's working I will just save this credential inside a variable called credential and the last step that I need to do is to connect my Firebase art with Google signning so everything I did up to now was signing with Google but it has nothing to do with fireus off but that is not what we want we also wanted to connect with fireb art so as you can see we have this in a sense of o fireb o I'm going to just use it and then I have a method called sign in with credential and what I want to provide is this credential which the spelling is wrong let me just correct it credential and now it is done I can also await this method and now it is done and we can just sign in with Google using this method so right now it is done the last question is that how can we use this method the asset management solution that I'm going to use throughout this project as I said before will be FL River poot and using this Asset Management solution I will handle the state in my site my project which in this case it is a user so I can just handle this user and access it throughout my project using the FL rpod if you're already familiar with State Management Solutions and specifically flut R po you know why do we need to use it but if you are not familiar with it don't worry as I'm going to explain everything related to flut R pot throughout this project so let me just import FL R pot here let me also tell you that you need to install the package which is already inside my pp. file uh this is the package you need to install this package and once you uh install it you can just import it right here and the way that flod works is that it has a lot of providers and the most important uh ones and famous ones that we are going to use a lot throughout this project will be the simple provider stream provider and especially future provider I'm going to use a lot this kind of providers and you will understand how I'm going to use it just follow along and you will understand how can I use it first I'm going to just create my first provider which I'm going to just call it OD service provider and I'm going to just use the simple provider and as you can see when I create this provider I access to a riff and this riff is just some magic stuff from FL part which allow us to do a lot of things especially we can connect our providers together so use this RI later on I can create consumer widget and then I can connect and access to this provider and I will return return it this class at service you will understand what I mean if you can't understand what I mean don't worry when I do it you will understand how does it work so what I'm going to return is this class odd service and we have two fills to initialize the first one is a which I'm going to just give it firebase. innocense and also the second one is Google signin which I just need to give it an in a sense of Google sign in and now the errors are gone very well let me also do like this that we can see the full screen so I just created my first uh provider which is OD service provider and now I can use it to handle the set which in this case it is a user so let's get back to the login page so you saw how I created the provider but now what you need to know is how can we use this provider inside our UI page which in this case it's a login page the way that FL workot works is that you need to create a consumer wiget and using this magic consumer Viet you can access to your all uh providers and states that you have in your FL r pod and inside your project so there are two ways that you can create consumer widget I I can just change the whole stess widget or also stateful widget to a consumer widget or I can just create a consumer widget in a specific part of my my file so I can just create a consumer widget as a widget or I can just change the whole status widget into a consumer widget so I'm going to show you both how can you do it but the first thing that I'm going to do is to change this St widget into a consumer widget now I need to add a second property inside this build method which is going to be type widget riff and I'm going to just call it riff and now accessing this riff I can do uh I can access to my provider I come here inside this ontap property at the end of my page which is exactly right here and here using this riff I can use some methods like read or watch I need to explain something that there are two methods that we can use using this ref you can use read or you can use watch and there is a big difference between these two meals read and watch and through this project when I'm working you will understand when when do you need to use read and when do you need to use watch so you will understand all of that just make sure to follow along just for now I'm going to tell you this that whenever you're doing something that you need to do it only once you will use the read method but when you uh you use watch method you want to keep keep track of something because you don't want to do it once and you do want it to do multiple times and you want to keep track of the changes that is happening on that provider so in short when you want to keep track of the changes inside the provider and you want to understand whether the value has changed or not you need to use watch but if you don't care if the value changes or not or you don't want to get uh or you don't want to keep track the changes you can use the rate method and mostly inside this on properties is uh we use the red method and inside the Bel methods most of the times we use watch method it's also a tip that you can use it for now I'm going to just use the read method and the provider I'm going to use is this OD service provider so let's just paste it here and also import it now I can access to my sign in with Google method very well I can also make it a synness and await this method we are done what else I want to do is I want to go inside the men. dart and I want to check whether we are signed in or not how can we do it we can do it using a stream Builder so I'm going to just take this login page and instead I'm going to just use an stream Builder so the stream off for this stream Builder will be a method from Firebase art so first of all I need to create an inocence of Firebase art and then I can use a specific method which is used here which is called our state changes and what does this method does it will just go and check what's happening inside fireb alt so it will just give us information about what's going on in the fire o whether we are signed in specifically uh it will check whether we are signed in or not and inside the Builder I can just check it so I'm going to just create two conditions for now the first first conditions will be snapshot. has data and if it's not so if a snapshot. has data is not true it means that we do not have any data in this case I'm going to just go and return a login page and if that's not the case it means that we have data and the user is signed in in that case I'm going to just show a container for now so I'm going to just return container very well now I'm going to just terminate the current project and run it once again so now let's check if it's working or not I'm going to head on the button sign in with Google and I can just choose my Ahmed amini account I really forgot a very big step here I forgot to enable the Google sign in as a provider method to to all of us to sign with it and also I need to generate show one and 256 to be able to use Google sign in I'm really sorry I forgot these two big steps so let's do it right now first of all I'm going to go inside my project let's go inside the authentication part head on the get started and now I want to be able to sign in with Google and we need to just enable the sign in method as you can see these are all the signin videos that you can use to sign in with Firebase email password Google Facebook and a lot of this but what I want to be able to use is Google signin so just hit it here and I just enable it to be able to use Google sign in the you also need to provide a supportive email here and I'm going to just use my T Ahmed amini Emil here and then hit save very well now it's going to be enable us to use Google sign in our fire project it is done and the second thing that I need to do is to generate sha one and sha 256 in my fire project so let's get back to the vs code and open Terminal first of all go to Android and here you need to use a command which will generate but shs in your project just run this command GR signing report and we got an error let me just do it once again yeah it's working and it's generating show and and also shot 256 for my Firebase project let's wait for it and now it is buil successfully as you can see so this is the first one show one just copy it get back to the fireb console uh go to project overview and I believe uh I just need to find my app okay now let's go to the first app I'm going to just do it for Android for now and add fingerprint and here you can just paste your first showan and paste it right here and save the file get back to the vs good and now I'm going to just copy the second one add fingerprint and paste the second one very well now that we just generated the Sha one and also sh 256 everything is done and I can just sign it with Google and there should be no problem let's just once again terminate the current project and I'm going to just run it once again very well let's check if it's working click on the signning Google button choose your account yeah very well nice it's working as you can see if I just explain to you what happened right here so first of all we click on this button and it just went to this provider and used and triggered this signing with Google method and when it's triggered this method the signing finished here and in inside and inside the m dot I created a logic like this that create an Builder and inside this Builder we check the current or we check the current OD changes inside our Firebase OD so it just check whether we are signed in or not and we check here that if you are not signed in if the snapshot ha is not true in this case return the login page but if you're signed in just return a container for now but I'm going to change it in the future so I can just put a homepage here and now we'll have this homepage when we are signed in very well it's done it's working and now I need to work on the second part of my signing and R authentication okay so now let's start the second part which is going to be adding all the user data Into the Fire Reser database so not only I want Reser to be signed in with Google but after that I want them to add all the user data into collection and the database and for doing it I need to use the firer database so inside this uh Firebase console as you can see I'm going to open this fire database and now that it's open I can just click on create database here I need to choose a location and I'm going to just choose the southeast uh Asia Singapore it is the nearest place for my location just make sure to choose a place where it's near to where you're living currently just choose your location and hit next the next I'm going to just choose that it is uh only in test mode because it's not a real project and then I can just create this database let's wait for it to be created okay so as you can see the database is created and for now as you can see it's only an empty database and I'm going to just add all the information for user video and everything inside this database so for now it's okay and also this is going to be the rules section and here I can actually change the rules and I'm going to just remove this condition of if I can just remove it just keep in mind that I'm doing this because it's only a test mode project but if it's but if you're creating a project for production make sure to create the appropriate rules to just uh handle all the security things but for now because it's only for test mode I'm going to just publish this rules and that's all right now I can just get back to the vs code here inside the repository I'm going to just create a new file called user data service and here I'm going to just create the class called once again user data service here I need to actually create two fils one is going to be for the Firebase firer and the next one is going to be for Firebase o and I need to create both these and it will help me to use both the packages easily so first of all I'm going to just create the farest o and also it will be imported automatically and the next one is going to be for the farest fire store and let me just first of all import this package cloud firer and now I can create this field for Firebase firar and I'm going to just call this fire ster let me just generate Constructor for this as well and now I can create my first method to actually add the user data to the fire store so I'm going to just call this method add user data to firester and this method is going to be asness and I can just uh do everything necessary inside this method and actually first of all I need to create a user model here because you know if I want to add the user data into this collection of users first of all I need to store that inside a model so first of all I need to create this model so I'm going to just create a new folder called model and inside that I can actually create a a file called user model I'm going to just name this user model and I will create all the fs accessory to this user model and I'm going to have a lot of fields like display name username email profile picture and all of this so let me just create them one by one the first one is going to be a string called display name it is the first fied I want to create for this model the next one is going to be for the username let me just create it the third one is again a string of EML the next one is going to be for the profile picture the next one is number of subscriptions videos the next one is user ID and let me just also specify the data type which is going to be a string the next one is going to be uh description I also want to have an optional description for each Channel or user so the last one is going to be the type and if you wonder what is this type and why do I even need to use this you'll understand later on when I want to work on the search feature on that time I need to use this type fill inside the user model for now just remember that I'm going to need I'm going to need to use this type and I'm going to also add this field for the video model as well so I want to have it for both user model and also for the video model and that is all you need to know for now now let me just generate Constructor for this as well and I also want to generate Jon calization and that should be okay now I get back to the user data service and here I can actually create an instance of user model so let me just create it let me just import for this user model and then I'm going to just call this user and I will just create the inocence of this user model and now I need to initialize all values for this different fills and actually I'm going to do that using some parameters so I need to create some parameters to fill out the value use for this fills and I'm going to just create them one by one and all of them are going to be required and the first one is going to be for the display name and of course it's a type of string the next one is going to be for the username the next one is a string of ml the next one is for description the next one is going to be for the profile picture again it's a type of a string and the next one actually I have made a mistake here and I have made the wrong data type for the videos and also subscriptions and let me just go to the user model because the videos and the subscriptions is not a type of string but actually the videoos going to be as a type of integer and the subscriptions is going to be a type of list so make sure to just uh correct this it was a mistake this should not be strings and now let me just remove this adj realizations and I have to generate that once again let me just do it real quick okay that should be all right let me also specify that this list is a type of string so I have a list of strings for the subscriptions and I want to just generate Json realization once again I have to correct this error I just need to add an extra parentheses here and actually inside these two methods uh to map and from map maybe I want to change the field for the list of subscriptions because it may have generated the wrong one so I want to just bring some changes here so inside the FR map I'm going to just remove this thing for the subscription and I will create one from my own because this may not work properly so just remove it and instead use this one and now it should be working fine perfectly get back to the user data service and now I can create the actual parameters here uh first of all for the subscriptions let me just create this parameter and actually I don't need to create any parameter for the subscriptions and because for now I'm going to just leave it as an empty list because once the user is created and the channel is created it has no subscriptions it's going to be empty for now so that is the initial value just an empty list and for the videos I'm going to just leave it like zero that should be great and the next one is user ID and for the user ID actually I can just use the current U ID for the current user who is logged in because that is the exact user ID which I want to use and that's going to be unique for every and that's going to be unique for every each user so I can just use this o this in a sense of O and then I'm going to just bring it down and I'm going to just use the current user and then uid so the uid of the current user of the user who is logged in is going to be the user ID of that specific Channel and the final one is going to be the type and I'm going to just leave it as the user because that is a user model the type is going to be a user and later on I'm going to create the video model the top is going to be just a video and once again you will know what this about so just for now don't worry about it now that everything is done and I have the user model I can actually create the collection of users and add the user data inside that collection so I'm going to just use this inance of firestore and then I'm going to use the collection keyword and it will just create a new collection called users and if there's already a collection it will just add the data into the uh collection so I'm going to just go inside the collection of users and then I need to specify a document for this specific collection and this document is going to be just the current user and the U ID and this document is going to be just the current user that I'm going to just add and the uid for it is going to be just the exact user ID which I have so I'm going to just put this us. Curr user. uid as the user ID for this specific document and finally I'm going to just use the set method to actually set the all data I want to be inside that collection and this specific document and here I can just use this inance of user and then use a method called T map that I just created and using this T map I can actually add all the data into the firer database and I can actually add all this data Into the Fire database just like and this is a really better way to do that uh so now this stuff are done and we're good here very well now I have to create a provider for this class so once again we are using the provider FL R PO for this class to handle the set which in this case it is the user so I'm going to create another provider which I'm going to just call it user data service provider and of course once again we are using the simple provider which is a the simplest provider possible in FL rpod and here I'm going to just return this user data service class exactly like the previous example we need to initialize fire a and also fire fire so let's uh let's do it real quick very well and I'm going to just put some commas here to refactor for format de code very well now we have access to this provider and as I said already to you that why do we need to use this providers it will really help us to handle a set and use in this case like the user data we are able to use this user throughout our project and it makes life much easier for us so let's just take this and where do we need to add this provider this user data service provider I'm going to do it in username page so we don't have anyone yet let's create one so I'm going to create a new file which I'm going to just call it username page. Dart import the material. dart and just create an this wiget this is going to be just called username page and here I'm going to just return and scaped so the first thing I want to work on the UI of this uh uh username page and later on we can add the functionality and I will explain to you what each uh uh what do we need to do inside this username pitch so I'm going to I'm going to just explain everything later on first of all let's create the UI of this username pitch let me just run the emulator that we can see how the UI is looking okay this is what we got for now as you can see we are showing the homepage because we showed this inside of our meno Dart let me just open it real quick uh this is our meno Dart and right now what we're showing is just an stream Builder and we are saying that if we are signed in I should show a login page and in other cases I want to show the homepage but I'm going to change this to username page for now later on I will work it I will just change it and fix it completely but for now I'm going to just return the username page that we just created let me also just minimize the vs code that we can just see while we are working on the UI of this username page it's going to be like this okay I'm going to just close this page and open username pitch inside this scold let's move on to the body and here first of all I'm going to just create a safe area the child is going to be a padding widget and we have a symmetric padding widget and I'm going to just give it a padding vertically 26 and also horizontally 14 okay this is going to be my padding let me just close this one as well okay very well I'm going to also put a const here for now only or maybe I should remove it okay inside this padding I can have a text and this text is going to be just saying enter the username I'm going to also change the text style here and give it a color of blue gray very well and as you can see this is what we got for now uh I forgot to add a column here let me just uh take this padding and first of all inside the safe area I want to have a column and inside the children property I can have a lot of widgets and the first widget right here is going to be the padding widget which is a text which says enter the username after this I want to add the next fidget which is a text field so we want to allow user to enter a username and we need a text field to do that so I'm going to just create a text form field which it has a lot of uh properties which I have to add first of all I want to work on the decoration of this text field which is which needs a class called input decoration let me just change the properties first of all I have to give it a hand text which going to be just saying like uh insert username this is going to be my hand text I'm going to also add a border which is the type class of outline input border and it has a b site which I'm going to just change the color inside this border s and I'm going to give you the color of blue let me just put some commas here to format the code now I also want to add uh not only border but enabled border and also Focus border so it just changes uh I want to change the color of this borders on different uh uh conditions for example uh if it is in ened border I want to give it a blue color if it is a focused border I want to give it a green color so let's just quickly work on this one as well first of all if you have an enabled border let me just copy this cod as well I also want the color of the Border Side to be blue but if you have a focus B in this case I want to change the color to something like green and I think this looks very nice as you can see the color is right now blue but if I click on it it got on a focus mode and right now the color is green and it looks very nice the next one I want to add a suffix icon which for now I'm going to just use icons verified user rounded and the color of this suffix icon is going to be just a color of green so I'm going to just give it a colors of green later on I'm going to change this because uh the suffix icon also safix icon color needs to be changed based on validation so let me tell you right now that I want to add a validation feature for this username text field it means that whenever the user is typing a username I'm going to go through the database and I'm checking that if there is a username the same as the user has typed inside this textfield if it is the same it means that this username is already taken and it is similar in this case I'm going to give the user an error to say you have to change your username because it is already taken inside our database so when you want to work on that functionality as well I need to change some UI which one of them is the suffix icon and also suffix icon color which if the validation is true I'm going to show this verified user around it but if the validation is false it mean the user is not allowed to continue I'm going to show it uh cancel icon so I'm going to work on that one as well so I just told you already to know it I also need to wrap this text form field with a padding widget so I'm going to add a padding and the padding is going to be just from right side and also left side give it a padding once from the left side which is going to be a padding of 20 and also from the right side I'm going to give it a padding of 15 let me just also change the left side to 15 again I'm going to just minim uh resize this V good that we can see this emulator properly very well this looks very nice and finally what I need to add is I need to add an spacer first of all because you want to give a resize and finally I need to add a button at the bottom of the ptch because this is where the user will be able to submit this T field so I'm going to just create a flat button so if you wonder what is this a flat button it is is a button that I have already created and I can just open this flat Button as you can see it takes three arguments a text unpress and also a color so you can just change it on uh on whatever you like and inside this widget we have only a container and then a text buttom so it's really simple and of course if you have downloaded this starting project you have access to all this uh widget pages and everything that I'm going to use throughout this project now I have to initialize this text on present the text is going to be just something like continue not anything else the unpress is going to be empty for now later on I'm going to add some stuff to it and the color is going to be just a color of green for now very well and now you're getting an error I don't know what's the reason let me just run this uh project once again let me just terminate this and also run the project once again yeah this is what we have so far uh what I need the final step for the completing of the UI of this page is to just go up and here inside the column I need to change the cross AIS alignment properties and I'm going to just give it something like cross access alignment. stretch and it should solve everything for us and as you can see this is what we got and also the enter usern text is now at the beginning so it's great let me also just give it a padding to this flat button because it's not looking very nice so I'm going to just wrap this with a padding widget and I'm going to just give it a padding from bottom something like 45 or I should give it a little smaller like 30 and also I'm going to give it padding from left side eight and also right side eight and now it looks perfect let's also add some const to this this file because it giving it's giving us some warning which is not looking very nice and Al it's also slowing down the computer so let's just add this const and now everything is good so now that we are done with uh creating of this UI I need to work on the functionality and the first functionality that I'm going to work on is to have the unique user's name so what I basically want to do is to whenever the user is typing something inside this text field and they're entering their username I you want to add this functionality that it should just go and check the database and if the username that is typed inside this text field is similar to any of the text uh to any of the usernames inside my database if they're the same I want to just give an error to the user to say the user name is already taken so this is my goal and let's work on this first I need to change this estate widget to an stateful widget and I need to set uh I need to add some more properties to this text form field right now let me just go inside this textt form field I need to add first of all a controller and also I need a for key here uh we need a key and also I just need to wrap this text form field with a form widget very well so let me just go and create first of all the controller it is a type text editing controller which in this case I'm going to just call it username controller very well and I also going to create a form key I'm going to just call it form key and it is a global key which is the type form State very well I can just use this form key and put it inside the key property inside my text field and I can also put this username controller right here okay now that we have the controller and also the form key I think we are able to continue and create a method right here I'm going to go inside the state and here I need to create a method called validate user uh validate username and this method is void it means that we are not retaining anything and inside this method I want to create this functionality to not all you users enter any similar username which is already inside my database so let me just create an instance of Firebase fir store and then I should go inside users collection and here I need to get everything inside this database and I'm going to just first of all I need to make this method as synr and await this now I should store it inside a variable called users map now that I have access to the users map I can just go ahead and I go and take all the docks and then I can use the map method and using this method I have access to every single user inside this collection and I want to return this user and finally change it to a list now I have a list of users so let me just store it inside this users variable now that we have a list of users I want to create a for Loop and check every single user inside the database and see if the there's a similarity between our username and the usernames inside database so what I can do is to create a for Loop I'm going to just say for user or user in users it means that we are going and checking every single user inside this users class this users list so when we checking it and I'm checking every single user inside this users list which is our database and here first of all I also want to have an string which I'm going to just call it targeted username and I can just give it something like I can make it initially equal to nothing it means I didn't need to give it value for now first of all I need to say user. data username this is the username from database it is every single username inside the database because we are using a for Loop so now now that we have access to every single user username inside the database I can go and check it to see if there is similarity if it's similar to my username that is typed inside the text field my username is called this username controller so let me just take this and I'm going to create a condition to say if username controller. text is equal to this username if that is the case it means if the uh if the username that is typed inside the text field is equal to every single username inside my database if that is the case it means that the username is already taken and in this case I don't want to allow user to continue so let me just create a a Boolean here I'm going to call it is validate and using this Boolean is validate uh it just allow us to keep track of validation and we can understand on which case the validation is false or true if that is the case it means that validation is not true so I'm going to put I'm going to change this is validate property equal to false and I'm going to do a c set also very well but I also want to make another condition because in the first condition we just saw uh we just uh told that if the username controller it means the username that that is typed inside the text field is similar to one of the usernames I want to make the validation false it means I I want all user to continue but what if the user changes the username when they see that they are getting error they want to change the username in this case I'm going to add another condition to say if the username controller the text it means the my username it is not equal to targeted username targeted username is the username that uh already was in our database and it was equal to my username I also need to add this inside my targeted username here this username that was inside my database if you got confused on while I was working I'm going to explain it once I'm done so don't worry a lot about it I'm saying that if the username controller. text it means the username that is typed inside the text field is not equal to the targeted username in this case all you want to make make the is valid property once again equal to true and also I'm going to do a set set once again and now we are done creating this validate username so let me just check uh let me just review it once quickly that what I've done inside this method first of all I just moved on to the collection of users and got everything inside this database and then I had this users map I use this map method to access every single user inside this database and change it to a list so now we have a list of users then I created a for Loop and I uh and I just told that go inside every single user in the list of users and now inside this forup we are checking that if the username that we are typing inside the text field is equal to user. data. username which is basically every single username inside our database so if our username is equal to every single username inside each one of the username I should say like this that if our username is equal to each of that usernames inside the database I don't want to allow user to continue so I'm going to uh make this as validate equal to false I don't want to allow user to continue because the validation is not true but I want to also make another condition to say if the user changes the username it means that if they uh changing the username that my username is not equal to that uh repeated username in that case I want to make is validate equal to true and I want to all user to continue this is basically all I did to create this validation now I need to put this method somewhere and I'm going to just put it inside the unchanged property in the text form field let me just find this text form field and here we have an unchanged property which takes an argument which is just our username if you wonder what is this unchanged uh property or I should say listener inside this text form field it is a list that triggers every time we release a key on the keyboard it means that whenever you start typing on the text form field this unchanged property will be triggering every time so I think this is the best place to add this valid username method so I'm going to just put this method here I also want to add another property which is validator it Al uh once again it takes the username and here we can change this as well and also I have Auto validate mode which I'm going to also change this one to always when I change this one to always it just allow us to see the changes real time and we don't need to wait to submit the button and in real time you can see the changes and the validation very well now everything should be good the final step is to change the UI based on validation I take this as validate property and I'm going to change some stuff based on whether the validation is true or or false the first thing that I need to change is this suffix icon so I'm going to say that if is validated is true I'm going to show this verified user rounded icon but if it is false I want to show a cancel icons I need to remove this const I also need to change the color based on whether we are uh able to continue or not so I'm going to say f is validate uh if is validate is equal to true I need to show I need to use a colors of green but if it is equal to false I want to show a color of red which basically just tells the user that something is wrong here okay I also need to change the background color of this flat button on whether we are uh the validation is true or false so let me just check it once again that if is validated equal to true I want to show a color of green but if it is equal false I want to show a color of red not red I mean something like uh green but with a shade of 100 that looks perfect it's something like white color we change the background color of this flat button I also need to change this onpress but not now I will do it later on when we add something inside that and I change the suffix icon color the suffix icon and I believe that is all I need to change on whether we are able to continue and we are validate to continue or we are not valid it okay that is okay for now let me just put some const here we are getting all these errors because my computer is not really working well right now that is why that these errors are not permanent it's just temporary errors because my computer is really slowing down right now okay right now let's go and work on the last step I need which is to add the user data inside the collection of users whenever we are pressing this button so as I already told you inside this username page the responsibility of this username page is not to only enter and allow user to enter the username the responsibility is to add the whole user's data inside the database inside this onpress property so I want to do this so let me just leave a comment to say add users data inside database so that is what you want to do inside this onpress and for doing it first of all I need to change this stateful widget to a consumer stateful widget we already saw how can we change an EST this widget to a consumer widget but right now we are seeing how can we do it to a stateful widget so let me just do it all you need to do is to just just add a consumer before this stateful widget and I'm going to just oh I'm going to just also import the flut package and I also need to do this before this state right here and also this one and once I do it the errors will be gone now I have this uh consumer stateful widget which allow me to use the ri and connect between all my providers inside flut River pot so now I'm going to use the Riff and then I'm going to use the read method and the provider that I'm going to using here is user data service provider and right now I'm able to use this add user data to fire store method as you can see we have some properties here that I need to initialize a display name username email description and profile picture so I have to initialize all of them uh about display name email address and also pfile picture I will pass them as parameters and I will just initialize them inside the men D so first of all let me just create them I'm going to create a final string display name final string perect pick and also final string display name profile picture and also I need an ml very well I'm going to just generate Constructor for them and now everything should be good okay very good now let's go to the bottom of the page and put that values inside this method for display name it is widget. display name also I'm going to do the same for email and exactly the same for profile picture very good about the username I can just use the username controller. text and also the description will be empty for now because whenever you're creating a new user it does not have a description but later on the person can just add a description on their own so first of all I'm going to just put this initially equal to empty now we have all this uh display name username email description and profile pictures and everything is good let me also just make this method as sign this and I wait this uh method now everything should be good and we should be able to add user data to the fire restore and as a final steps I also want to add this validation here I'm going to just say if is validate is equal to true I'm able to just uh run this method but if it is equal to false I'm going to just return a null it means that the user will not be able to uh use this add user data to F store when the validation is not true and also I'm going to do the same for the validator property here I'm going to just say return if is validate is equal to true in this case I'm going to just return null and what does null mean it means that it there's no problem but if it is equal to false it means that we are having some error I'm going to just return username already taken so I want to return this let me just explain what we did here inside the validator I uh first of all we have this username and here I'm going to just say if is validate is equal to true it means that there is no problem and we can just continue in this case I'm going to return a null it means that there is no problem but if the a Val is equal to false it means there is a problem and I'm going to return this text which is the exact exception to tell the user that the username already taken very well everything is good now I can just go on and continue whether it is working or not so let me just run the emulator once again ah of course we should have some error I forgot one step now I need to go inside the men do Dart and I need to add one more functionality right here so what we doing inside the men dot for now is just we are having an stram Builder and we are checking whether we are signed in or not using this special method or set changes and we are checking if you're signed in if we have not any data it means that we are not signed in I want to just return login page in other cases we are returning a username page but that is not all I want to do after I checked that I am signed in or not in the first condition which says if you're not signed in just return a login page I'm going to also put another condition which says if the data is loading I need to return a loader so I'm going to just say that if the snapshot that connection is set is equal to connection is said. waiting it means that the data is loading for now I'm going to just return a loader and if you wonder what is this loader it is a prebuilt widget I have created and it is just simply a size box with a height and width and also a circular progress indicator and of course you have access to it when if you have downloaded the starting project okay and the final thing that I want to do is to add a second stream Builder here and in the second stream Builder I want to check whether the user data is added to the fire resore or not let me just explain it real quick in the firstam Builder we are checking that if the user is signed in or not and if they are not signed in we are returning a login page if the data is loading you want to show a loader and if you are signed in I want to show another stream Builder and in the second stream Builder I want to check whether the data is added to the fire or not so you can just guess that in the Stream property I need to add something related to my database okay so let's just go and create an inance of Firebase firer I'm going to just move on to the collection of users the doc will be the uid of the current users uid so I'm going to just create a Firebase inance and then I'm going to use the Char user. uid and finally I need to use the snapshots you just know that whenever we using a stream Builders we always use this snapshots now inside the second stream Builder let's also check whether the data is added or not so I'm going to create some more conditions the first condition I'm going to just say if the snapshot. has data is not true or this is basically a sign in Dart programming language to say or or snapshot the data that exists is again not true if that is the case it means that the user data is not added to forer and in this case I'm going to just return the username pitch and I need to give a value to this uh display name Prof for picture and email as well so I just need to create an in of Firebase alt to say now now I have access to this current user which is basically the user that has signed in right now and I can just use its values so I'm going to just store it inside a variable called user and I can just use this user to initialize display name profile picture and also email the next one is profile picture and I'm going to use that as well it is a F URL I mean and also the final one is ml so in the first condition we are checking that if we do not have any data in this case I want to return the username page and we already know that inside the username page we add all the users data inside the users collection and our database in the second condition once again I'm going to check if there is the data is loading I want to return a loader so if the snapshot do connection instead is equal to connection instead. waiting in this case I'm going to just return a loader and finally if the snapshot that has data is not equal to false it means that the we have the data it is not loading in this case I'm going to just return the homepage so let me just uh review it once really quickly we have twoam Builders inside the main. inside the firstam Builder I'm checking whether we are signed in or not it means that I'm going to use this outstate changes method and I say if we are not signed in go to the login page if you are getting the data and it's loading just return a loader widget and finally when we have the data I want to return this stream Builder the second stream Builder in the second stream Builder I'm checking inside my users collection inside my database and I'm checking that okay I'm signed in but does the this user that has signed in uh has added the data to the fire sore or not so I'm going to check it right this that if the data is not added to the fire s I'm going to return a username page which all user to add the data and if it is loading return a loader and if you have the data and everything is done just return the homepage right now let me just run the project to see does it work or not right now we are inside the homepage because I have already signed in let me just uh close this uh project and I'm going to go and delete the whole project and right now I want to go and run the project once again very well as you can see when we open the app for the first time we get this login pitch and this is exactly in the firstam Builder that we don't have any data uh right here so we are having this login pitch when I click on the button we can sign in with Google uh first of all let me just uh connect to the internet because I forgot to connect it okay as you can see I have this two uh IDs these two accounts signed in let me just uh first of all open my database inside uh Firebase console okay this is my project and I'm going to just move on to the firestore database and I have already these two accounts these two users inside my collection but I want to just delete one of them okay right now inside my collection and users collection I have only one account it is the display name Ahmed amini and also the username Ahmed amini not capitalized so just keep this in mind because I'm going to check it right now let's get back to the emulator I'm going to sign in with my second account take Ahmed amini that I just removed it from my collection right now I'm going to just select this one and as you can see it is taking me to the username page let me just open vs code right now the authentication is done so the first Builder is done and now it just uh open the second stream Builder and because the user data is not added it open the username page right this one and now let's check the validation that it's working or not as you saw the username for the first account was Ahmed amini if I type the same username it should give me an error or should not allow me to continue so let me just type that one Ahmed amini and as you can see it's not working whenever I type a username which is already inside my database as you can see this is the username in my database it's giving me an error to say username already taken and right now if I click this it won't work because I said if the validation is false you should not all user to add the user data so I need to change this and when I change it I back uh again I can once again enter and continue the process okay I'm going to just type div coder this is going to be my username and right now I'm able to continue and when I hit continue I will be navigated to the homepage because when we have the data we want to show the homepage everything is working and it works perfectly fine now let's just move on to the next feature that you want to create in this project which is going to be the channel feature so as you can see inside the starting project I have already this channel feature inside which I have just a widget uh folder inside I have these two files the first one is the settings dialogue and also the second one is the settings item and of course if you have downloaded the storing project you have access to all of these files and folders and everything should be good to you so inside the channel folder I need to create two folders the first one is going to be for my channel and also the second one is going to be for the user channel so of course I could just created one single page for this but I'm not going to do that and I want to just have two separate files and Pages for my channel and also the user's Channel and it will make my life much easier and you will see how I'm going to do that and if you can just understand what I'm saying you will understand once I'm working on it so let's just uh create the first folder which is going to be my channel and the next one is going to to be the user Channel and basically I just want to put everything related to my channel inside this folder and everything related to the user Channel inside this folder and what I mean by the user's channel is every other channel but not my own channel which Inside by Channel I'm going to just show my own user it mean uh the carrying users data and inside the user Channel I'm going to show any other user channel that the user clicks on you will understand what I'm seeing later on when Once I'm working on it and and for now I'm going to just work on my channel and then when I finish on that I will work in the user Channel let me just also put this widget folder inside my channel which I'm going to need it and I can also create a new folder which I'm going to just call pages and I will put all the screens inside this folder but before working on a channel I need to work inside my homepage let me just uh go to the homepage and right here what I want to do is to display my profile picture inside the homepage that whenever someone comes to the homepage which is going to be the first page that appears whenever the user opens this YouTube colum uh the first page that they are going to see is this homepage and I want to show and display the profile picture right inside the homepage which when the user opens the app they can see that on which account they are signed in so first of all let me just uh open the emulator and run the project okay the project is running and as you can see the first page that I'm seeing is this homepage and I want to just create this circle Avatar inside which I will show the perfect picture right here next to this search icon so let me just work on it and and what I'm going to do is let me just close this extra tabs that we can see the vs code properly and work good and after this padding widget inside which I show an image button of search I just want to go ahead and create a circle water and inside that I can just show the purple picture of the current user who has signed in and I will just give it a radius of something like 15 and also a background color of gray for now and this is what we have and I can also wrap it with a padding widget let me just resize this V Cod that you can see emulator properly and I will put it right here and like this very well I'm going to just wrap this circle of water with a padding widget and I will give it a padding from the right side which is going to be a padding of eight and now it should look much beautiful and and I can just increase this padding to something like 12 and now it should be much better okay the next I want to display my profile picture inside of the circle water so whenever the user signs in and they will see this homepage for the first time they should see their profile picture which is going to be the current user profile picture inside the circle water so let's just work on it and for doing it I need to create a consumer widget so up to now we have saw we have seen that how can weate create I mean how can we convert a stess widget into a consumer widget and using this consumer widget we can just listen to all changes to a specific provider and change the UI based on that provider and all the values but not only we are able to just change like this stad lless widget into a consumer widget I'm also able to just create a consumer widget in some parts of this stad widget I mean that I don't have to just convert the whole stad widget into a consumer widget I can just create one inside the file let me just do it like this I can just create a consumer widget which is just a very simple widget which comes from the FL package and H and now it has a builder property and right here I can just return whatever I want so let me come like this and then I have access to this riff and we basically know that using this riff I can do anything and connect my consumer budget to provider that I want to so let me just use this RI and then the watch method and right here I need to use a provider to get to just fetch me the current users data so how can I do it I need to create that method and also that provider so I want to create it inside this authentication uh feature let me just go inside the repository and then user data service and inside this user data service as you can see we have the first method add user data to the fire store so this is the first first method that allow us to add the data but not only we want to add the data but we also want to fish the data back so let me just create the second method and fet the data from the fire store and I'm going to just call it fetch current user data and of course it's going to be an inchron method and here I can use the fire store and go inside the collection of users and the do and the document ID is just going to be the U ID of the current user uh account so I'm going to just use the a current user and uid and finally I'm going to get back all the data that I get from this collection and I can just store it inside a variable which I can just call it current user map now I want to convert this map into a user model so we already have a user model so I'm going to use this and I can just use um I can use a method called from map that we already created inside this user model so let me just go inside as you can see we have two methods to map and also from map that we just uh generated using the sterilization and using these two special methods to map and from map I can add and also fed the data from firer we already saw that how we added the data to fire using two map but now we are getting back the data from the from map so I just use the from map method from this user model and now I need to provide a map which is going to be the current user map. data so now we have the data and I can just return this user which is a type user model I'm going to also specify what we are returning from this uh method which is going to be a future of user model very well now that I have the method I also want to create a provider for this one and I can just go ahead and create the first folder called provider inside this authentication and I can just create this first and also the last provider that we have here which is going to be a future provider of current user provider so I can just call it user provider and here I need to create a future provider up to now we also only a simple provider and using that provider we were able to connect different providers we use drift use CER widgets but above that I'm also able to just create a future provider future provider is just an alternative to Future Builder which we have in flut SDK itself and it's a much more useful way which makes our code maintainable and readable and also organizable so I just uh can say that future provider is much better uh Choice than a future Builder from the FL SDK and we can just simply create it like any other provider I'm going to just uh first give it a name like current user provider and then I can just specify the type of Provider which is in this case a future provider and as you can see we already have this riff and what I want to do is to just use this Riff to find the method that I just created inside user data service this fetch user uh this fetch cing user data so let me just use this R and then the watch method and then the provider that I need to use just guess it which provider it's the current user data I mean it's user data service provider if you remember it and then I can just use the fish current user data provider and I'm going to also make this method asnr and await this and finally I can just insert it inside a variable of type user model which I'm going to just call it user and I'm going to return this user let me also import this user model and I will also just specify the type of this feature provider which in this case user model here we just specify that we are returning a user model from this future provider so now let me just use this current user uh provider which is a type feature provider and I'm just going to paste it here and import it and here I have access to a special method called win and what is this win it is all us to just organize our code based on different situations like if you have the data if you're having an error and what if if the data is loading so we can just handle the data and show it to the UI based on different scenarios and first of all let me just specify Y what if we have loading I just want to show a loader page and of course we have this inside the starting project and the next if there is an error I'm going to just return this error page again we have this inside the starting project and when we have the data actually I want to return this portol picture which is going to be this circle Avatar so let me just copy it and now I'm going to paste it right here and the data is going to be just the current user in this case and everything is good I also need to return this riff and put accounts here so everything is good and what we are saying is basically we have a consumer widget to just listen to our providers and change the UI based on different values and then I'm going to return this r. watch and we use this current user provider which is a type future provider and we are just saying that when we have an error we want to show this error pitch if the data is loading we want to show a loader and when we have the actual data I just want to show a per I mean I just want to show a circle aor inside which I want to just uh show the background image so I'm going to just use the cached Network image provider and the URL is going to be current user do powerfold picture let me just remove this Con and everything should be good very well and now we should be able to see our own Prof Prof picture the current user profile picture inside the homepage using this consumer widget so let's check it we have this error let me just uh terminate the project and run it once again as you can see the data is loading and while loading it shows me uh a circle uh indicator because it's loading the data on one it data is loaded it shows me the profile picture and this is the current user's profile picture and everything is working fine now that we are done with the homage I can just get back to the channel feature and start creating my pages and everything inside this folder so first of all I need to create a file for the my channel screen so let me just create this file real quick which I can just call it my channel screen and inside this file I just want to show everything related to my channel basically what I want to create is just uh a page inside which I want to show all my the current users data which is going to be my peral picture display name username number of subscriptions and videos and also a tab bar and a tab view so I just want to create this so let's go ahead and do it I need to uh import this material. Dart and then I can just create this status fidget which I'm going to just call it my channel screen so now let's create this scaffold inside of which we have a body and just like always a safe area the child is a padding the padding is going to be just from for now only from the top side which I'm going to give it a padding of 12 I mean 20 and also the child is going to be a column so now inside this column first of all let me just give a cons to this scaffold inside this column the first thing that I want to create is a circle a and I want to just show my profile picture inside the circle of water and I will give it a radius of 34 a background color of something like gray and I will also show the background image but for now I'm not going to do it let me just run the project that we can see what we have so far okay we are again inside this homepage so for now I'm going I'm going to just change the men Dart and instead of the homepage I just want to show my channel and it's not going to be last forever because once I'm done and I have created some of the pages I will just convert this into the home screen and I will put the my channel screen uh on the wherever it's needed but it's just going to going to be for now that I can just uh show you that how I'm creating this page and again I'm going to just minimize this WIS that you can see properly the emulator okay let's just go ahead and create this my channel screen and the first thing I need to change this main access alignment to Center that I can just Center this actually not like this so I'm not going to do this and instead I'm going to just wrap this circular water with the center vet and now we have this right here I can also increase this uh to something like 38 that it gets much bigger after this circle AAR I want to show something like a display name and for doing it I just need to create a text and for now my displ name is going to be Ahmed amini let's also change the styling of this text we will have a f size of something like 24 f Way of buold and that's all for now this is what we got I can also increase this phone size actually to something like 27 that it gets much bigger I'm it 26 the next I want to create a rich text so inside this Rich text what I want to create is basically I want to show the username number of subscriptions and also number of videos inside this rich first of all let me just remove this const and put it right here right here and right here and here I need to create a text text is pan and it has a children and I'm going to create three children for it one is going to be for the username the next one for number of subscriptions and final one is for number of videos so let me just create them the first one is going to be my username so I can just call something like ahmar Das amini I can also just copy and paste it some more times some two times more and the next one is going to be for number of subscriptions and initially it's going to be equal to no subscriptions because whenever the user creates account for the first time there is no subscriptions and also there is no videos so I'm going to just write like this as you can see nothing is displaying into the emulator and the reason is that I haven't changed the text Style and right now the color is just something like white and you can't see it so let me just change the styling here we are going to have a color of like blue gray and let's see how does it look like it looks good let me just also add some spaces right here and now it should look much better and finally I also want to add a text here to say just more about this channel just like the actual YouTube and I just need to add some padding to this as you can see it's not really looking very nice so I need to add some padding to it and first of all I'm going to just wrap this text for display name and wrap it with a padding of course first of all I'm going to give it a padding from the top side a padding of 10 and also from the bottom side I can give it a padding of like maybe four and that's it it looks nice the next I also can wrap this Rich text with a padding and I will give you the padding only from the bottom side and it will be something like nine and I hope it looks beautiful I think it does so let me just put a con right here and also write here so now I have this I have a c I have a display name I have this username subscriptions videos and also this text at the bottom then next I want to create uh actually some uh buttons right here which is going to be for the managing videos and also uh navigating to some other pages and it's exactly the same like we have in actual YouTube colog Let me just go ahead and create this so first of all I need to create a container and inside this container I want to create my button first of all let me let me just give it a decoration it has a colors of like gray for now and I'm I'm going to also give it a border radius which is going to be B radius from the old sides and it will be circular to something like nine and I hope it looks nice and I need to give it a child that we can actually see this container and the child of this container is going to be a text button and this text button has an onpress which is for now just empty and also it has a text to say manage videos let me just change the UI because it really doesn't look very uh beautiful for now let me just change the textel of this one and give it a color of like black and then I can just uh give this gray color a shed of 300 and now it should be like this after that I also want to create two more buttons in a row just side by side to this manage videos button and these two buttons are going to be the type image button first of all let me just take this container and first I want to have a row inside the row I want to have this container I'll say two more image buttons and if you just want wonder that what is this image button uh I should say that it is a preu fidget that I have already created and of course it's inside the starting project and basically it's just a padding widget it has a g detector to uh just check this on top and here we have just a container inside which I have used an asset from the asset folder in my project and it's very useful having this image button first of all it has an onpress of course it's going to be empty for now and also we have an image a half color which is going to be true for now and this image is going to be something like pin.png let me just check it this is the icon that I have created I'm going to just copy this one more time and the next icon I mean the asset is going to be just time watched. PNG and as you can see this is the second icon having this SI about changing the size of this but S I can just wrap them with expanded widget first of all starting from this container I'm going to just wrap it with expanded vidget and I will give it a flex of three and this F just specify the size of this child of this expanded widget I'm going to also just wrap this two B two more bottons with expanded fidget I'm not going to just specify the legs and this is the final one and as you can see it looks much beautiful right now I just need to change the height of this manage videos button so let me just come here inside the container I can just change the height property to something like maybe 40 and I need to give it something like 44 I believe or it should be like 41 I have it matches and I think that's perfect I don't need to change it anymore I also want to get that color from this image button you know the color of this button is just something like soft blue background let me just implement this inside the manage vide Button as well and instead of this we can just have this one and I will also have to import it and this soft blue uh this soft blue gray background is just a color which I have already created inside this files colors and of course it's inside the instarting project and it's going to be very useful throughout this project these colors so now we have everything and as you can see this is how it looks like I just need to wrap this row with a padding and give it a padding from the top side so let me just do it we will have a padding from the top side and it's going to be a padding of 10 I believe so I can just increase the uh I mean this pading to something like 16 which makes it much more beautiful okay let's go to the final part which is going to be adding a tab bar and a tab bar view here so first of all I'm going to just add a tab bar here so let me just scroll down and outside of this row and a padding I can just create the tab bar I also do a comment here can understand that I have created a tab bar right here and I have can I can just use the P belt widget from the flutter itself which is the tab bar and to use this tab bar and tab bar view inside flutter first of all you need to have a controller and I'm going to just use the default controller so what I can do is to just take all this scaffold let me just take all of them and I need to return first of all a default tab controller and using this default tab controller I can just specify like I want to have seven tabs here and the child is going to be just my whole project now I can use this tab bar to create it and the first and the only I mean the only required parameter inside this tab bar is a tab so you need to have just specify all the tabs that you want to create and tabs that I want to create the first one is the home let me just copy and paste it some more times I want to have seven tabs so I'm going to just need to create six more of these tabs the next one is videos the next one is shorts community playlists channels and the final is about so this is just extra I'm going to remove it and now we have this t board but when I see the emulator it's really not looking very beautiful so I need to change some properties inside this tabbo to make it much more beautiful and the first one which is more important is this is scrollable right now that it's looking like this it's because it's not scrollable and makes it it will look like this but if I just uh change this scrollable to true now it looks like this which is much more beautiful but I'm going to also add some more properties uh some more properties to this stb to make it much more beautiful further than this uh first of all let's just add a label style which is going to be the type text style and I will just change the F size to 15 and I also want to just give it a f w of w500 so I will just use this fway 500 I will also want to change the indicator size so let me just change it real quick and the indicator size is going to be just the tab bar indicator size. level good and the indicator padding is the next property which I'm going to just give it a padding from the top side and 12 very good I believe that's enough for now and if it's necessary I'm going to also add some more properties to this tab bar and right now it should be much more beautiful I just need to just wrap the whole tab bar with a padding to give it a padding from the bottom I mean from the top side and I would have a padding of like 14 in from the top side okay and this is what we got for now and I believe it's much more beautiful now that we have this tab bar let's also add a tab bar view which is basically the pages that we need uh inside each tab as you can see if I scroll between different tabs right now nothing changes there's no Pages let's add that one as well so just above this padding and tab bar I can just create this tab bar View and it got a children property which is required and I just need to add seven children for each of these tabs that we have so let's just create them one by one I'm going to just create a center vet which has a child of this text which is going to be again the same names that we had before and I will just copy it six more times that we can use in this tab view the next one is going to be videos shorts community playlist Channel and the final one is going to be about very good now let me just do it a cons here and right now uh let me just wrap this tab view with expanded widget we got some UI error now everything should be good and when I just scroll into different tabs the page changes now I'm inside the video use tab and the shorts Community playlist and everything so on and so forth so now it's looking much more beautiful so I believe that we have a really good UI till now so before going into the logic and adding the logic to actually display the actual data of the current user let me just uh modify and organize my code as you can see there are a lot of code inside this page we have 152 lines of code and I leave it some it's somehow messy so I'm going to just put some of this uh you know widgets inside a different file and it's going to be parts of this file let me just show you what I really mean first of all we have all these widgets from starting from the circle lator up to this more about this channel up to this right here and it's all about the users data like perfect picture display name username and everything so I can just uh you know add it inside a separate file which is going to be my vidget top header because it's the top header of my page so I'm going to just go let me just close this off and inside my channel I can add a new folder which I can just call parts and inside this folder I will put the different parts of my pages like my channel screen pages I divide them into different parts and put it right here which makes my code much morean organizable and the first file is as I said is going to be top header let me just UT the material the dart create an status widget which I'm going to just call it top header widget actually it's not a widget it's just top header because it's part of my screen and here at first I'm going to just return a colum and then I can paste all the quit right here now inside this my channel screen instead of all that good I can just you know use this top header right here just import it and use it right inside the my channel screen and as you can see the UI is just exactly the same there's no changes and I can exactly do the same to this you know tab bar and tab bar view let me just copy this on a as well this tab bar and right here I can create a new file which I can just call it tab bar and here I'm going to just call it tab bar widget again not widget you know I can just call it page tab bar and I will just paste it inside this instead of this placeholder very good now let me just use it inside this screen and the final one is going to be just this tab bar view a new file which I can just call it uh Tabb bar View and I can just call it page know tabs and actually let me just rename this to top pages you know it gives more meaning to say top pages and I can just return this one as well right here and let me just use it inside my channel screen and that's it now my code is much more recognizable I have a tab pages right here I have a tab bar and also I have some buttons here and here I also have this top header actually I can just put this buttons as well inside a separate file so it's starting from this padding up to right here I can just copy all the code and create a new part which is going to be buttons again UT the material. dart create an status fidget which I'm going to call it buttons and that's it of buttons here just return a column and inside this column I can have all this widgets you have to import this one as well and now we don't have any error also import this one very good and now I can use this buttons right here and as you can see uh let me just remove this const because I can just put a const the whole page right now and as you can see right now the code is much more organized I have a my channel screen here I have a top header which I just show my uh user data I have but which I have three buttons inside the row I have a tab a page tabbo and also tab pages and as you can see the UI is exactly the same and there is no difference here now that you are done here let me just add the most important part it means adding the actual data from server and placing just inside this different widgets so what I want to do right now is to use that future provider that I just created and add the data and put the data inside different widgets in this screen and to do that I can just change the whole St widget to a consumer widget and as you know I have to add a widget RI into the the belt function okay right now instead of returning this default tab controller let me just take everything I need to use this rev and then I can use the watch method to watch a method and what I'm going to just watch is the current user data provider which you already know that it's a future provider let me just hover over it and you can see it's a type future provider of a user model and now once again like we just saw inside the homepage I can just use the the win method which is a special method which again allow me to handle situation on different cases like the data error and loading and we're exactly going to do the same once again again if we have the loading I just want to show a loader pitch if we got any error I just want to show an error pitch and finally when we have the data I just want to show everything which I had really good and as you can see the data is the current user once again using this current user I can just put the actual data inside each of these pages first of all I'm going to go inside this top header and create a parameter here which is going to be the type user model and I can just place this user model into actual qu first of all let me just change the circle aor and we have a background image once again I'm going to use this cached Network image provider and I can use the user. purple Peck to add the value right here remove the cons and everything should be good the next one is the display name I can again use this user. display name to show the display name of the current user the next one is going to be for the username number of subscriptions and also videos let me just place them each one of them user do username this is the first one the next one is number of subscriptions so I can just say once again user. subscriptions and after that I'm going to just say it is number of subscriptions just to tell the users that it's about subscriptions because this one is just giving us it's just giving us a number like if the subscriptions is equal to zero which is which is equal to zero initially it will just give us a zero but I also want to show subscriptions which just tell the user that it's about subscriptions and the next one is about videos so I can just say user videos and videos okay now inside my channel screen I have this error because it wants this user which is going to be equal to current user let me just remove this const okay and let me just check what we have as you can see I have this data actually my display name is not really looking very nice but the other information is good the information is completely correct this is my display name which I'm going to just change it this is the username diff coder this is number of subscriptions which is giving me an empty list so let me just change it real quick I don't want to have a list I want to have the actual data so I can use this user. subscriptions do length actually and it will just give me the number of uh length of this list of subscriptions and right now it's giving me zero subscriptions and zero videos so everything is perfectly working fine and we have shown all the data inside this page the next I also need to create a new page for settings Channel I need to create a page which I inside that I can just change some of the settings inside my screen like display name username description and all of this I need to be able to change it on as well so first of all let me just close all the saved pages and then I can just go and create a new page which is called channel settings just import the material. dart and create an status fidget called my channel settings okay that's great the next I need to have a scapel just like always and then inside the body I want to have a sephara inside which I want to have a padding and once again we'll have a padding only from the top side which is going to be a pading of 20 and then inside the child I have this column okay everything is good up to now so now inside this column I want to create my settings Channel which is going to be just first of all I need to show once again the profile picture inside a circle a and then I can show my display name username and description and here we don't want to just display this information we want to be able to change this information so I want to enable user to edit the users data like users will be able to edit username edit display name and edit this description so let's just create each one of them uh the first I just need to create actually an stack widget okay first of all ins the children I can create an asset image and it's going to be inside the assets and the first one is the flut background.png let me just run the emulator once again and we can see how does it look like I will just once again minimize this V code that you can see inul lat and I just need to go to men. Dart and again because we are working on the UI I will change this my channel screen to the screen that I am building which is going to be channel settings okay great now inside here the first thing that I had to show was a flut background and actually it's not inside the assets it's inside assets and then images and then I have this asset flut background.png and I just want to show this as a background image for my uh project and my channel and first of all let me just remove this uh you know padding because we don't need to have a padding from the top side side and it's just want to be just stick to the top of the pitch about the height I also need to change the height of this asset image so let me just wrap it with a size box and change the height to something like 200 pixel or should I make it just smaller to something like 170 and I just need to change the fit property inside this image to box fit do cover and it will just cover the whole page for me first of all let me also change the WID to double do infinity and now everything is great then inside this background I also want to add my perect picture right at this you know at the center of this background right here I want to show my perect picture so I can just create another widget inside this stack uh widget which I'm going just create a circle AAR inside which I want to show my profile picture the radius is going to be just something like 20 background color gray and it's like that and I'm going to just wrap it with a position to change the position of this circle AAR I will give it a position from the left side I want to have a padding or I can say a distance of 50 pixel let me add some more like 120 you can just uh use trials and errors to find the perfect spot for yourself and also I'm going to do the same for the top which is going to be first of all 80 or it's a lot let me just use 65 and that's perfect I will also uh change this bar you know the radius of the Circ water to 30 I want to make it bigger and change this to XD and right now I maybe it's okay and you can as I said you can just use trials and errors to find the perfect spot the perfect place for the circle over here it's all about what we did and right now it's just a blue gray uh right now it's just a gray color but later on I will add the profile picture right inside the circle over and actually I also want to add a camera image right here I need again this position and the child is going to be an asset image once again and I will use assets and then I will go inside icons and then I'm going to use this camera.png it's an icon which I have inside my access folder and it's the icon that I need first of all let me just change the height to something like 30 maybe I want to make it much smaller uh something like 38 or 34 that should be perfect and I can also change the color to white and finally I just need to change the position so I wanted the position to be something like it has a 10 pixel distance from the right side or should I increase it to 60 and also I want it to have some distance from the top something like 20 maybe that's great or maybe 10 and that's now I believe beautiful and later on we can use this to change the profile picture and we will see how we can do it okay this was the top of my page the next I want to add some more stuff to this page which is going to be uh some item widgets in which I can just change my display name my username and also description and it's all about the V that I have here so I have this settings item I believe I can use this settings item to just create that rows which allow me to change display name and username and everything so let's use the settings item let's get back to the channel settings and write after the Stag widget inside the column uh I'm going to just write a comment to say the second part which just specify for me that where are we right now and right here I will create this settings item and of course import it and as you can see it has some required parameters and I identifier onpress and value the identifier for the for the first one is going to be just name because we're creating a name the onpress is going to be just empty for now and the value is going to be something like ah I mean my name actually my display name and this is created right here I want to create some more of this so let me create this one as well the second one is going to be for the username so I will give it it I I will give it an identifier of handle and my username is going to be Ahmed amini it's just hard Cod it now and the last one is about description and description is going to be empty for now because when users create their account for the first time they have no description but later on they can add their description and we will add this functionality as well now let me just add some size box between them and it has a height of something like 60 maybe or 14 that's going to be completely enough for this one so now we have this name handle and description and it's looking I believe beautiful I just need to add add an a size box right here as well because I wanted to have some distance from the top of the pitch so right now everything is correct and I also want to add some more widgets at the end of this column which is going to be the first one a row let me just create a row as children and inside this children I can first of all create a text to say keep all my subscribers private I'm just creating this because it's actually inside the actual YouTube and the next I also want to create a switch uh widget and the value is for now true and it has an unchanged which has the value and I will just say why what is the switch and how can we use it actually this is the switch I just want to be able to have this one as well in my project say uh keep all my subscribers private and users can just change this pattern or this switch true or false they can change it and for doing it first of all let me just have the full screen uh instead of just putting it true and as the value of the switch I can actually make it more Dynamic first of all let me just change this this widget this stess wiget into a stateful vget and then I can create a Boolean just called uh I can call this bran as something like uh is Switched I'm going to call it like this and initially it will be equal to false because we don't want this switch to be true initially and then instead of this true I can just give it this value of this Boolean which is a switched and whenever this unchanged property inside the switch triggers that means whenever the user changes this switch I want the value of this unchanged to go inside the is switch so I will put and insert the value of a value which is the value of this switch inside the is switch and uh later on I can just do a c set everything should be perfectly fine and let me also change the UI of this uh first of all I need to give it a main AIS alignment to space between and I can just wrap it with a padding widget from the left Ed and also from the right it will be it and that's looking perfectly fine okay that's great and the last I also want to add a text at the end of my page at the bottom of my page so let me create a text here to just say changes made on your names and profile pictures are visible only to YouTube and not other Google services so it's just a text that we already have in the actual YouTube so I'm going to just add it here there is no purpose for adding it but I just want it to be or I can say it want I want it to have a more beautiful UI so I add this one as well uh as this just this text I just need to change the text align and also give it some padding so first of all let me just give it a text align which is going to be text align do Center and I will also wrap this with a padding a padding from the left I can see just a padding symmetric and horizontal 10 and this is actually how it looks like I will also change the background color I mean the color of this T so let's just change the style and I will give it a color of something like gray and not actually gray but I can give it a color of blue gray I believe this is more beautiful and everything is per perfectly fine it's great let me just give it also a vertical padding and give it a a padding of 4 in or I just just increase it to something like 20 okay this is my settings Channel page inside which I can just change my display name my user name and also the description the UI is complete now and what I can work on right now is just the adding the logic and functionality to see the profile picture right here and then be able to change and edit this username this will name and everything so before this we saw that how can we convert an set this fidget into a consumer vget and we also saw that how can we create a consumer widget inside an scaffold without just changing all the whole St list or stold widget but now I want to convert a stateful widget into a consumer widget and for doing it you just need to uh you know add a consumer before a stateful vet and then let me just import this FL R part to this file and then copy consumer you also need to paste it right here before this set here and also here and right now the all errors are gone and you can just use a consumer inside your stateful widgets and you don't have to just create a riff by yourself because you already have access to this RI let me just show it somewhere for example inside this I can just have access to this R and I can use for example this red method it's already M for me so now let's go and create the logic to first of all add the current user data first of all for this you know P for picture because I wanted to show it right there and also there and there so once again like I did before I can just take the whole scaffold let me just take the whole scaffold and I can use ref doat and once again I'm us using the current user data provider and using this way method if the data is loading I will show a loader also for the error one I will show an error page and when we have the data I actually want to show all this widgets and everything here okay so now this data is once again the current user and I can just use it to display my data first of all I need to change the background image of this circle aor I will create this background image once again using this cached Network image provider and the URL is going to be the current user. profile picture let me just remove this cons and everything is good it should show and as you can see this is my profile picture and it's showing well right here the next I also want to change my display name right here let me just take this and use the current user do display name the next one is the username so I will do exactly the same but I will change the display name to username and the next one is about descriptions I will again use this one but description okay I believe everything is done so I have my perer picture my display name username and also this descriptions and it is done but the next I want to be able to edit this what I mean is whenever the user clicks on this pen uh button whenever the user click on it they should be able to just you know change or edit their display name username and descriptions so how can I do it inside this onpress for the first one is going to be the display name so let's add how can we just edit display name I need to create this so I will have a comment here so let me just create a new folder called repository inside inside my channel and here I need to create create a file which is going to be just maybe edit fields. Dart and right here I can just create a class called edit settings fil and again I need to have access to the Firebase fire and also Firebase off let me just create them the first one is Firebase firer so I will have an inance of fire Reser and the next one is going to be for the Firebase o and then I can just generate Constructor for it the first method inside this class is going to be the edit display name of course it's an inst method and here we want to be able to edit the display name and I need this display name as a parameter here so I'm going to just write display name it will be used as parameter and what I want to do is to just go inside the fur and then the collection of users the doc is going to be just the current user uid so I'm going to use the alt. current user uid and then I will just update and what I want to update is the display name because we want to edit that field so I'm going to just go inside display name and I want to just update it to the new display name which is going to be this display name which we have as parameter let me just create uh some more of this because so I need to do the same for a username and also descriptions the next one is going to be edit username and also we have the edit description here we have the username and also the username here we have the description okay everything is perfect okay let me just create a provider out of this and again it's going to be just a simple provider and we already know that how can you create this providers this is going to be just called edit settings provider again equal to simple provider and I can just return this edit settings filed I just need to initialize this firer and also Fest out okay everything is right and now I can just use this edit settings provider to access this class okay now I want to just use this to uh you know create this functionality to edit the display name and here I can use my second widget which I already created which is is going to be the settings dialogue so whenever this uh onpress is triggered first of all I want to show a dialogue and then inside the Builder I want to return this settings dialogue okay it's great and as you can see inside the settings dialogue I have an identifier let me just see what I need to do I have to go and get to that edit fils provider and then I can access to this edit display name actually so I want to have this method and when do I really need to use the this display name is whenever yeah we have an identifier which I can just give it something like display name and the next property is just onsave and this onsave has a display name and this like this and right here I can use this RI to edit display name and this uh parameter that I need to fill inside this Ed display name which is my display name the new display name is going to be just this name and everything is working perfectly fine and if you just get confused that what I I what I exactly did here I'm going to just uh go through it once again so don't worry before that let me just finish these two adds for the the username and also description as well and then I'm going to just uh tell you that what I did let me just copy everything and I will paste the same for the username but I just need to change this to username I need to use this edit username again username and also change this one to username okay and I will also do the same for the description I just need to change this to description this one and also this one okay now it should be working so let's see what exactly we did first of all I just created this uh settings dialogue which is it shows it's just a dialogue it's just an alert dialogue when whenever we click on the botton I want to show an alert dialogue and say if you really want to just edit that and inside this alert dialog I have an identifier which is specify whether it's a display name a username or a description and then I have a text field which inside this text field the user is able to enter the new uh display name user usern name of description and I just get access to that using this controller and finally I have this uh you know cancel button which just navigate back and also the save button which allow me to just save everything and and I just pass this save uh function as a parameter to this channel settings page so what I'm doing here is basically to say first of all whenever this button is clicked show me a dialogue and then return the settings dialogue which the identifier for here is displaying it and then I have this unsave method whenever the user clicks on Save I want to access this name so this name is the exact new name that the user uh has entered inside the text field and I just get access to this name and I just call this provider edit settings and then I use the edit display name and as you saw here I just go inside the collection of users on the uid of the current user I just update the current display name the current username and also the current descriptions so this is all I did inside this page and now I have to test it out whether it's working or not so let me just run the project yeah it's already running so let me just do a h restart so as you can see we have this one my profile picture display name and everything and when I click on this button it gives me something like dialog and I can just enter for example my new display name which is going to be ahmar amini okay and when I click save now it has to change my display name so let me just do a hot Resort because it's not a stream it's a future it's not changing instantly but it should be changed yeah and as you can see this is my new display name and I can also do the same for the username and also for the description so let me just give it a new description for example hello world I am Ahmed amini okay let me just do a save once again and after doing a hot restart the description should be edited and this is my new description Hello World I'm Ahmed so everything is working now I have my channel and I have my channel settings and I'm able to edit my properties inside the current user I'm able to edit display name I'm able to edit username and also description as I said at the beginning of the course we have we will have a lot of homeworks throughout this tutorial and here I'm going to give you the first to homeworks the first homework is going to be you have to change this you have to create this ability and this feature that user can change the profile picture as well so as you saw I have created this uh little uh camera icon I want you to create this feature that whenever the user clicks on this button they should be able to pick a new image and change their profile picture I want you to do this and the second homework is going to be very easy you just need to add a validation to this username as you saw at the authentication feature whenever the user wants to create create a username uh we check whether the username is unique or not so all the validation that you saw already I want you to create the same validation in this part as well that whenever the user tries to addit username they should also check uh they should also be checked that if the username is validate or not so I want you create this two features and this is going to be your first homeworks and I hope that you can do it well now I want to also change this uh text it's not looking very nice let me just change it to identifier I want it to be something like your new display name and I will do the same for the this one as well I want to change to your new username and also for this one know your new description now let me just do a hot restart and when I click on this it says your new display name and I'm able to change it and if the UI is if you believe that the UI is not looking very nice maybe at the end I also change the UI more and you can also do it yourself to change the UI appropriately like the way you want it to be I'm not going to go any further so in the previous tutorial we saw how can we create uh the my channel page and we also added every logic and everything necessary to that uh creating of my channel and right now I want to just focus on creating user channel so we already have this folder right here and I'm going to just go ahead and create the pages first of all and inside that I have only one page which is going to be user Channel page so what you want to create inside this page is something really similar to my channel I'm going to just show a background image of flut background and then I will show profile picture display name username number of subscriptions and videos but the way that I format this data will be a little different than I did in my channel and also I will have a subscribe button which inside whenever a user clicks on that subscribe button we will be able to subscribe the user that we are inside the channel and also at the bottom of the page I will show the users videos so uh any video that the user or the channel has uploaded will be shown on their profile and this is what exactly I want to create so let's work on it and also remember that uh for now I will not work on the logic and I will not show the actual data of the user Channel because up to now we didn't have that provider or repository and whenever I create the search screen which after creating it I will be able to click on a user click on a channel and then I'll be navigated to this page so in that case I can actually show the data of this page but for now it will be just hardcoded let's create this status wiget and I'm going to just call it user Channel p page and just like always I will just use a scaffold inside the body I can just create a safe area child padding let me just give it a padding from the top side okay and the child is going to be just a column like always okay so now first of all the first fidget inside this column is going to be just once again an image. asset which I can just show uh I can go inside the images and then I can just use this flut background that we already used in the my channel page as well and I'm going to use this one right here as well let me just uh run the emulator that you can see how it's looking surely we will see the my channel page right here because I have put it inside the m. Dart but for now I'm going to again change this to user Channel and you notice that I'm going to just do it as a test mode uh it's only in a test mode because I want you to see how this UI of different pages looking but at the end it will be just showing here the homepage and I will create all the userflow necessary for this application so as you can see this is what we have let me just resize this V that you can see it properly and we can C faster like this and I will just remove actually let me just close this extra pages actually all the pages are extra except this one and I will close all of them uh let me just remove this padding because we don't need it right now uh I can just actually remove this padding widget and I believe it's okay and this is the background image after the background image I want to show my profile picture display name and everything so let me just create the row and inside the children first of all I will create a circle Avatar with a radius of like 30 and also a background color of gray and then after the circle a water I want to have a column so basically inside this column I want to create my display name first of all so let me just write this one Hamad amini which is going to be my display name and also after that I can have just my username and finally I want to use a rich text uh basically I just want to create my subscriptions and videos inside this Rich Text okay let me just uh ref format discode and right here first of all I will create uh the first text which is going to be for subscriptions so I will just say no subscriptions and I will also create one for videos which I can just say no videos okay that's great and this is how it looks like let me just give it a color because right now it doesn't have a color you can't see it and I will just give it a color of like blue gray let's see what's the problem here yeah I need to change it to style and basically I have put it in the wrong place I should do it right here so this is what we got up to now we got a circle aat and then we have display name username subscriptions and everything but of course it's not looking very nice so let me just work on to uh make it more beautiful first of all I will increase the radius of this circle Avatar something like 38 it might be beautiful and you know I can just uh give this Row first of all a padding from the both side so I will give it a padding from the left side 12 and also from the right side 12 now it looks better and also I will give it a padding from the top SL which is going to be a pattering of like 20 then I can just uh uh make this text a little bigger first of all let me just put a cons here and then I will also change the style of this display name and I would give it a frint size of something like 24 and also a Fint way of Bol and the next one is this usern name let me just go inside I will just copy everything from this one but I won't really touch this F size I will give it a f size of turn actually I want to make it a smaller and this one is going to be like this okay and I will also give it a color like a color of blue gray may be beautiful yeah that's great and I can just copy the same text style for this one as well and right now it's looking much more beautiful right let me just put some cons here MH and inside this column or I should say I want to bring this usern name at starting of this column inside this column I can just change this cross access alignment to something like start and right now it's great and let's give it you know a padding from I need to give a padding to this display name username and also this number of subscriptions first of all let me just add a padding to this column and it will be just a padding from the left side I believe and I will give it a padding of like 12 and I believe it nice so this is going to be our page we have a circle aatar we have a display name username number of subscriptions and videos let me just also create some spaces here between this new subscriptions and new videos okay that's great the next I want to add a subscribe button in which we will be able to subscribe this uh particular user so let me just create this one as well outside of this padding outside of this row I will just go ahead and create a flat button and this t should be just something like subscribe all capitalized the unpress is going to be empty for now because I didn't have anything to write but later on I will fill it out and I will make user be able to just subscribe user when they click on this particular button and let me just uh make this column cross access alignment equal to stretch okay and it will just make wider this flat button at the end of my page and I can just give it some padding as well first of all from the top side a padding of 20 and also maybe I can give it a padding from the left side and also the right side and right now it should look beautiful so this is our page up to now we have a background image of flut and then we have this information circular water inside which I will show the purple picture display name username number of subscriptions and videos and also we have a button which enable users to subscribe this particular Channel and then at the bottom of the page I also want to have something like some wigets to show the videos of this particular user so what I really mean is just uh let me just come at the bottom of the page outside of this padding I want to make a condition to say if there is videos inside this page I will show the videos and if there is not I will just share something like no video inside this channel so let me just create this and later on I can add this functionality using this you know whether we have videos or not because when we want to create the actual when I when I display the actual data which videos is also part of them I can just create this condition that if the user. videos is not equal to zero I can show the videos and if it is equal to zero I can just show a text to say no video but for now I can do it just using a Boolean so I'm going to just create a Boolean to say is you know have have videos and it will be equal to false initially and later on when I have the actual data I will just remove this Boolean and use the actual data of videos but for now just to add this functionality I'm doing it manually and at the bottom of the page after this pading I will say if have videos is equal to true in that case is I want to show the actual videos so for now it's going to be just a size box because I don't have the actual videos when I have it I will show the actual videos and if you don't have the actual videos I just want to show a text to say no video this is what I want to have and for now as you can see we have this no videos I just need to change the style to wrap it with a widget first of all I will wrap it with the center to bring it at the center of the page and I will also change the styling of this text let me just give it a fin size of like 23 and also already make it bold okay that looks great let me just increase this uh Fint size something like 26 or maybe 24 and will also want it to be right here not there so I can maybe add a spacer or also I can add padding actually I could just use padding I believe so let me just wrap this with a padding widget and I will give it a padding only from the top side and I will use just a media quy which makes our code match responsive and it will be just the same in all the screens and I will use hide here and I will just say that ad is pading from like 0.0% of this page and actually maybe it's really a lot so let me just use 0.2 and it's perfect so now we have all the UI completed we have a background image and then we have shown this data the profile picture and everything and then we are able to subscribe the user and then we wanted to be able to show all the users video here but if the channel doesn't have any video I will just show text to say no video and for now it's just all hardcoded and once I have the actual data I will create uh and display all the data inside this page so right now that we are done with the authentication and also the channel feature and I can just show and display every single data of the users and also my Channel I want to work on the next feature which is going to be the upload feature I wanted to enable user to upload any video to the channel on F screen and doing that first of all I need to create a bottom navigation bar inside the homepage so right now this is the homepage and I want to have a bottom navigation bar right here at the bottom so let me just open this homepage and at the end of this page I can just have this bottom navigation bar property and the bottom navigation that I want to create in this project is going to be the Google nav bar and we have a package for that let me just show I have already installed this package and this is the package Google Navar just make sure to install the latest version of this package and using this package I can create a very beautiful bottom navigation and uh I already have created it and it is available inside the starting project and if you have downloaded the starting project you will have all this uh stuff let me just show you inside the content feature I have bottom navigation a and as you can see I have used this Google or I can say GV it is a class from the Google Nav barar and using this class we have this beautiful bottom navigation bar and all of them Ripple color hover color these are all properties related to the UI of this gav and it will make the Google uh navigation bar much more beautiful and the only required parameter inside this gav is a tabs property inside which I can just create all the buttons I want to have inside this navigation bar and I have this five buttons uh a home viom Cloud upload search and heartbroken and this is what I got up to now the other properties are just related to the UI for example this curve just shows the animation that uh we have when we switch between the different tabs which right now it is is into line year and we have a duration for example we want to have a duration of for 19 milliseconds whenever we switch between different tabs so these are all properties related to this uiio for example we have a color of gray active color icon size and tab background color and everything here you can just uh go through this and it's really easy and I have just used this package called Google navbar from Dart package and this is a demo of this package and you can see it's really beautiful okay so let me just use this bottom navigation class inside homepage and I have to just import it and right now let me do a hard Resort and this is the bottom navigation I can simply switch between different tabs the first one is the home video cam in here I will show the shorts here upload search and also the last one is going to be log out I also need to uh do something for this because right now we are getting some overflow and I will uh fix it that's not a big deal okay so right now let me have this functionality to show different pages inside each tab here and doing that let me just open this bottom navigation page uh we have have a property called ontap change and selected index and everything first of all let me have this ontap change so what is this ontap change whenever we change between different tabs it means that we we are whenever we switch between different tabs this uh method will be triggered and this index is just the index of the current tab that we are in right now for example when I'm inside this Home tab this index will be equal to zero when I'm on this short stamp it will be equal to one and so on and so forth and I can just use this to just create this functionality to uh move on between different tabs and I will not do anything right here and I can just pass a parameter for uh botom navigation and initialize this value inside the homepage and I also need to uh let me just create this uh method really fast and it's going to be just a function and it has an INT which is going to be the index as parameter and I'm going to just call it unpressed let me just generate Constructor for it and I will just initialize the value here to say widget do unpressed or I should just say unpressed okay and right now we are getting this error inside the homepage and we need to initialize this onpress which has this index as parameter and I need to do something inside this onpress and I also want to create uh something let me just first of all change this St this vget into a stateful vget and then I can have a current index it is a type integer I don't need to make it final we have a current index which is going to be equal to zero initially and then I can just put it inside this selected index and inside the homepage once again we have this current index let me also create it here and I will just change this stead vet into a stateful pdet and then I can just create this current index which again is equal to zero initially so what basically I'm doing is to just create the functionality of switching between different tabs and showing different pages based on different tabs that we are in right now and I'm just doing this because I have separated this bottom navigation file from the homepage but if I just put everything inside the homepage it will be much easier but I don't want to do it and just to make our code much more recognizable I want to go WR this and I have just separated this bottom navigation from the homepage and what basically we are doing is that whenever this uh ontap change method is triggered and it's triggered whenever we switch between different tabs I just want to just trigger this onpress which I have initialized it inside the homepage and what I want to do is to say whenever this unpress is triggered first of all I want to make an F statement because I will say if index is not equal to two in this case what I just want to do is to put this index inside the current index and again finally do a setad and why I make this estad F adment to say if index is not equal to two you will understand it later on so I will explain it to you why I'm doing this for now just understand that if index is not equal to do we'll put the index which is going to be once again I'm saying the index of the current tab that we are in inside the current index and let me also create some pages here we will have a list or I can just create it let me just see if we have it already no we haven't I just need to create a list inside the Library which is going to be the pages list uh let me just remove this typo okay so here I can just have a list which is going to be the pages of all the pages that we have throughout this project inside the bottom navigation and for now I'm going to just put some you know widgets but later on I can just change it and replace it with some real Pages for now it's going to be some something like home I can just copy and paste it some more times the next one is shorts the next one is uh upload as you can see this upload is at the index number two 0 one and number two because whenever we upload uh maybe you have a good uh maybe you have uh understanding of why I made this statement because uh whenever the index is equal to two we want to uh just upload video we don't want to show any page and the next one also will be the home later on I will change it inside the home page and uh let me just tell you inside the body I have to show uh different pages based on what we have so at the end of this column right here I can just make an expanded widget and the child is just going to be the pages first of all let me just import it and the index is going to be the current index okay and right now I will show you what I have created so far let me just do a hot restart so as you can see the first page is the homepage right now it is a center which wiget of text and right now we only have a center widget and inside which I have a text to say home when I navigate to this one it says shorts and uplers home and everything so I just I have just created this uh to say let me just explain to you once again what I have done so far first of all I have created this gnv from the Google Navar package and it's a package to create this beautiful bottom navigation bar for us and here we have five tabs for each of these tabs that we have for the home shorts upload search and L log out and we have an ontap change property which just it has it is a method which triggers every time we switch between different tabs and I have initialized it inside the homepage to say if index is not equal to two I want to put the index inside the current index which this current index is the current index of the page that we are right now so it's really simple and we have all this Pages here which later on I will replace them with real pages and we have this but whenever we click on this button see I have this if statement to say that if index is not equal to two this should happen this is index number zero index number one index number two so three and four this index number four is going to have uh in the index number two I want to upload a video so I don't want to show any page but what I want to show is just a model bottom shet so I believe I already have it inside starting project I have yeah I have this create bottom sheet and as you can see uh inside this bottom sheet I have some vets let me just show you in the imediator first of all let me just create it so I need to have an else statement if the index index is equal to two I just want to show a model bottom sheet and inside the Builder I will return this create bottom sheet which I already have created okay right now when I go to index number two which is for the upload this model bottom sheet appears and pop up and right now we have only a title to say create and then we have all these options to create a short upload a video go live and create the post so what I work right now is this upload a video and let me right now let me just open this Morel bottom sheet and this is the item for the upload a video and you can just go through this page uh I haven't explained it yet uh it's a really simple page it's a create bottom shade and it's simply a container and we have a column a text to say create and then I have all this image items which all of them are just inside the starting project you can just go through every single one of them and it's not really hard so this is the item to upload a video and whenever the user clicks on this item I want them to upload a video and then put it inside the storage and then into the fire store I already have this method file and here I will create a method to pick image so whenever this upload video button is clicked I want the user to pick a video I will uh create a method to pick a video and then they can upload it into the fire store and uh also the Firebase storage so first of all let me just create it real quick then the method name is going to be P video and of course it's going to be a synchronous and I can just use the image picker class to say Peck a video and the source for now is going to be just the gallery I'm going to just say image source. gallery okay of course it's going to be a weit and I can just put it inside an x file called file so I hope hope that you are already familiar how we can work with this image picker class I just uh use this method called pick video to pick a video from the gallery image seces gallery and then I have this file which is going to be the type x file if you are not familiar with this uh package I have already video and you can just check it out uh I'm not going to go in details but I have right now this file the type x file but I want to change it into a file type so I need to import this and then I will call it a video and to say like this and if you can inter send it just make sure to go through the video on image speaker package and finally if the video is not equal to null and that's why that I will return this video okay so now we have this pick video and whenever this upload the video button is clicked I want to show I want to just trigger this Pig video okay and let me just check it in the emulator that whenever I click this upload a video we will be able to upload any video from the gallery okay it's working so the next uh when we get the video we wanted to put it inside Firebase storage uh let me just open my uh Firebase project and first of all just make sure to enable this Firebase storage and you can just go through this build and then you can just enable this storage I have already done it but you should also make sure to do it because we need to store all the videos and images inside this Firebase storage now inside the methods file I can just create a new method called quid file in this storage so let me just create this method real fast and of course this method is going to be asynchron and what I want to do in this method is to just uh upload the file which in this is going to be a video inside the Firebase storage so first of all let me just uh import and I and I have already done it you just need to import the Firebase storage and then I can create an inance of Firebase storage and then using this inance of Firebase storage I can just use the Riff method and then inside the child I can specify where this file should be located inside the fireb storage which in this case I'm going to just use a parameter uh I need actually three parameters here the first parameter is going to be the file so it's the file that I'm going to upload inside the storage the number uh the second one is going to be the number and it's just simply that a number that help me to differ between different files and different videos and also the third one which is going to be the file type I just need to specify whether this file is a video or image or something because I need to use this method for uploading the video and also uploading the profile picture and I can just use it for both cases so let me just uh specify the file type and here the first thing that I'm going to just say is I want to uh just upload the file type so first of all I just need to specify the file type so we understand that this file a type of video or image or something the next I just use uh something like a number and as I said this number is just used to specify and differ between different files I mean between different images and different videos and it help us to do that so the result of this method is going to be something like a riff so let me just store it inside this riff variable and then I can just use this Riff to put the file I can put a file I can put a string data or blob but in this case I'm going to just put a file and the file is going to be this file which is this one and I will just store this result of this inside a variable called upload and then I just need to let it up be uploaded so let me just await this upload and what I'm doing is just uh giving it some time for this file to be uploaded inside this storage and then I will put the result inside a variable called snapshot okay and now finally using this snapshot I can just download the URL so let me just use this RI and finally get download URL so basically we are just downloading it and the result is going to be the type of string so let me just write string and it is uh download URL and of course it's going to be a wait because it will take some time and if we don't know when the uh snapshot will be downloaded and finally I just want to return this uh download URL let me just uh correct this typo okay so let me just explain once again that what we are doing inside this method first of all I just create an instance of fireb storage and then I use this RI and finally the child to just specify where I want this file to be located inside the storage and I just said it should be first of all I need to specify the file type and then a number to Just differ between different images and videos and then using this RI which we got the result from the first method I just uh used it to put the file inside the storage and then we await this upload because we will give it some time to be uploaded and finally I just downloaded a uh URL and of course it's a type of string and it this download URL is basically the URL of the video or the image that we uploaded and I can just use this method across my project and use it to put any file inside the storage so I can use it many times now that you are done here let me just go back to uploading the video and the first thing I need to do is to just create a page so as you can see inside the upload bottom sheet whenever the user clicks on this button upload a video we let them to upload a video and pick a video from their Galler and once the video is picked I want them to go to a new page called uh video details and inside that page they can just uh give their video a title a description and then they can choose uh a thumbnail finally they can publish their video inside the database so first of all let me just create this page and later on they can work on the logic okay so inside the upload feature I can create a new file a new uh folder which I'm going to call long video okay so this is going to be the long video and first of all I will create a page called video Details page input the material. dart and create an status fidget which I'm going to just call it video details PCH here just like always I need to uh return an scaffold later I have a body a safe area the child is going to be a padding and it has a padding from the top side padding of 20 the child of this padding is just going to be a column and I need to create everything right here so first of all uh let me just explain to you that what's uh uh going to be this page and how it will look like I just want to create a page inside which I can uh you know enter and insert all the details of my video uh first of all I need to create uh a text fi for entering the title then I need to create a text fill for entering the description so I need basically two text fills and then I want to create a button called select thumbnail and when user clicks on it they can select their thumbnail and finally they can publish their video so let me just work on it inside the column uh inside the children property first of all I will create a text field so Tex fil has a decoration just type input decoration let me give it a text to say enter the title and then I also want to give it a suffix icon or maybe a perfect second uh okay first of all let me just run the emulator that we can see how this page is going to look like and we can see it real time okay now the project is run and uh let me just go inside the men D and change the homepage to this this page that I'm just creating it which is going to be the video Details page I'm just doing it for now and later on I can just fix all of them and this is the page and this is the text field that I just created let me just minimize this vs that you can see the emulator properly and I can just do it like this now inside this video Details page uh the first thing that I just created was a text fi and I can also give it a a padding from the left and the right side and I will with a padding of 10 from the left from the left and also from the right side and it will look much better right now and I can just modify this text fi like uh giving it the border which is going to be the type outline input border and here the Border Side and now I want to just give it a color of something like blue now I have this text field to enable me enter the title and I just want to create the same text field also for the description but before that let me also give it a perect icon so exactly here I can give it a perect icon which is going to be the type icon and the name will be title so this is the icon that I want to have as a perix and it looks like this and before this text field I also want to have a text to say enter the title let me just create this as well that I can just tell the user that okay you need to create uh you need to enter your title here and it looks like this I just need to maybe change the cross AIS alignment to start and now it looks great let me also change the text style of this text to give it a f size of like 15 a color of gray okay and now it should lock nice and I can also give it a size box uh to give it a distance from this text field and it will be a size box with a height of four okay I give it a size box with a height of five and now it looks much better let me just uh do it real quick for also the description I need to Cate a text like this to say in enter the description and I need to create the same text field again this time for the description so let me just copy it and paste it right there I just need to change this SX as say enter the description and I also need to change the perfect icon and I need to actually I don't need to have a perfect icon so let me just remove this perfect icon okay so now it looks great and I also need to give a size box between these two so I will create a size box with a height of something like 20 or I also should change this to like 40 or I believe 30 is enough and I again need to have uh you know a size box between these two to give it a size box with a height of five okay that's great now I I have a text fi for a title and also text fi for a description the next I want to create a button and this button is just to select the thumbnail so let me just specify it here that I need to I just make a comment to say I need to create a button to select thumbnail from here and it's going to be just a container so now I just need to remove this cons from here and put it in this places to remove this blue warnings okay so I have a container and let me just change the decoration of this container actually I just want to create a container which has uh first of all let me change let me give it a color so I will give it a color of blue and I also want to change the Border radius so I will give it a b radius of something like 11 bar radius. all and then I give it a bar radius of type circular which is 11 and then the child of this uh container is going to be just a text button and it it has an unpressed which for now is going to be just empty and the text is just going to say select thumbnail okay and I also want to change the text style of this select thumbnail and I will give it a color of white okay everything is perfect I just need to go above the page and here this cross uh cross aess alignment should be stretch and now as you can see this button looks like this which is perfect and let me also wrap this container with a padding and I will give it a padding from the top side and a padding of 12 okay that looks I believe so great and I also want to change something from this inter the description text field because I want to give it uh I want this text field to be much bigger than this so I need to change the max lines of this text fill to be something like five actually not the title the description so now this title uh this description text field is much bigger because description has more stuff to write inside okay everything is good and now let me just change this this widget into wiget because I need to create some controllers for this text field and I also want it to be like this okay whenever the user uh clicks on this select thumbnail they should be able to pick an image and that image is going to be the thumbnail of this video and then when the image is uploaded I want to display the image right here and also whenever the image is selected so the image here is going to be the thumbnail and when the thumbnail is selected I want to display a button here to say publish the video so first of all let me just create this uh controllers for the text field and the first one is going to be just a title controller which is of course the type text editing controller let me just copy and paste it one more time and the second one is going to be for description controller and I will just put it inside uh a property called controller the first one is for the title controller and of course I just need to remove this const and the second one is going to be for the description controller and once again I just need to remove this const from here okay now I also want to create a variable for saying if the thumbnail is selected or not so let me just create a Boolean which I'm going to just call it s thumbnail selected so if the Tom is selected or not based on it I want to show different stuff inside this page and I'm going to just create a new button here for publishing the video so let me just copy everything from this uh Button as well I will just take this and copy it one more time I'm going to just change this to say publish and I also I also want to change the color to Green now I have this uh second button to publish the video and and I don't want this button to be displayed whenever the thumbnail is not selected I mean when the thumbnail is selected in which case I want to show this display uh this publish button so let me just uh give it a you know a condition to say if is thumbnail selected variable is equal to true in this case only I want to show this publish button but if it's not true I just want to show a size box it means nothing and right now you can see because this thumbnail selected variable is equal to files right now uh we are not seeing anything so right now I need to uh select the thumbnail whenever the user clicks on this but select thumbnail I want to uh select a thumbnail so I need to have a peak image uh method let me just open this method folder uh file and I need to create a new method here to say Peak image and here of course this image is going to be just our thumbnail and you know what I can just copy everything from here let me just copy it and paste it right there I just need to change this peak video into Peak image they're completely the same once again I'm saying that if you don't know how to work with this image picker class so as you can see I have UT this this image picker it is a DT package and if you don't know how to work with it I have a video already and you can learn everything about this package but for now yeah we are doing this and we are picking image and finally I should call it image not video okay now let me back get back here and whenever the user clicks on this button I want this peak image method to be triggered okay and it will just let them to pick image from gallery and as you can see the return uh uh the return of this method is just an image so I can just get that and I can just put it inside a variable called like image and let me just create this variable as well of course it's going to be the type string so let me just create a final no no it's not final a string called image and it will be initially equal to uh it will not have an initial value so I have a string image and when the user Peak an image uh later on i1 the result of that Peak image go inside and be stored inside this image variable and when we pick an image it means that we selected a thumbnail I want this thumbnail selected variable to be equal to true because we selected the thumbnail again I'm going to do a set it and now I just want to display this image right here so I will display it right here to say if it's thumbnail selected is equal to true I want to show this uh file type which is going to be image let's see what is the error here okay I just need to change because that's not a type of string actually it's a type of file now the error should be gone yeah that's right and I also say if it's not true I want to just display a size box so what you saying here that if this thumbnail selected is equal to true I want to show this image and it has a cached height which in this case going to be 160 and also it has a cached WID which is going to be 400 okay everything is done and now let me just do a hot rest and we will check how it's looking and I will also explain to you once again that what we did throughout this file so now I can inter title and then I can enter a description and then I can select the thumbnail and right now I don't have any image so let me just put some image inside this emulator I will go inside my pictures and I can just put this image right here yeah now I can just select this image and once I selected it should be uploaded right here so let me see if there's any problem when I click on this Peck image button this meod should be triggered and then the result of this uh method which is going to be an image it should be stored inside this image and once it's done I want a select the thumbnail to be equal to true and then do a set set so what's wrong here let me just terminate the project and run it once again now when I click on this button I can s an IM image and again it's not working so let me just check what's the problem here when we pick an image this s th s it should be equal to true and then I do a set set it's just saying that future Dynamic is not a subtype of file maybe I just need to specify the return type of this peak image which is going to be a future of file this is the type of this big image and of course it just need to be like this and let me just remove this if admin I don't need it anymore really let me just make it like this and then I have to await this method and make this method a signal I hope the error is gone now now if I select the thumbnail again it's not working maybe I need to have back this seted and now when i s a thumbnail yeah it's working perfectly okay that's great now we have this thumbnail let me just give it a size box uh I want this image to have some distance from the top side so let me just find this image and then I want it to have a padding we will have a padding from the top side okay and I can also do it the same uh here I wanted to have a padding from the top uh from the down side as well from the bottom side I will give it a padding from the bottom 12 as well so now it's working it's great and now what I basically want to do is to whenever I select on this uh button when I select the thumbnail and now I can publish the video whenever I click on this button to publish the video my video model and my video should be uh published and the data should be stored inside the database so first of all I need to create this video model so let me just go and create it inside the long video I can have a new file called video model and let's see which features uh I mean which fills do we need inside this model so let me just create a class called video model and here we're going to have some Fails Like video URL thumbnail title that published views video user ID type and likes so let me just create them one by one the first one is going to be the video URL the next one is going to be thumbnail the next one title the next one is going to be date published I also want to know on which date the video was published the next one is going to be views the next one is video ID so each video should have a unique video ID that we can later on refer to that video and I also want to have a user ID because I want to know which user and which channel has published this specific video and the next one is going to be a list of likes so I just want to know that how many people and which people has liked this video and also the final one is going to be type and once again if you don't know why I'm just creating this type I want to just uh specify that this model is a video or it's a user and in the next feature which is going to be the search feature you will understand that why I'm creating this type now let me just generate Constructor for it and I also want to generate Json calization and I will remove this two because we don't need it anymore and also this convert uh we getting some error here now the errors are gone and everything is okay so now I have this video model and what basically I want to do is to just when the thumbnail is selected and I have the image inside here I want to publish the video and the first thing that I want to do is to put the file inside the storage so what basically I'm doing is just to say uh use the put file in the storage the file is going to be the image the number is going to be just some random number so I will use the U the uid package let me just import it and using this package I can just create a random number okay it's going to be the type string I will call it random number and I will use the V4 method so it just generate a ROM number for us and I can just use it to differ between different files I will use this random number and the file typ here is going to be video so first of all I put the file inside the storage and of course the result is going to be my thumbnail and I can just put it inside a variable called thumbnail so now that I have the thumbnail I actually want to upload the video inside the fireb fire ser and for being it I need to create a repository to upload a video and I'm going to just call it video repository here I need to create a class called video repository and here once again I need to have a Firebase a and also a Firebase Fire Resource so let me just create them really fast the first one is a Firebase fire and the next one is going to be Firebase us and I'm going to just call it Al and let me just let me just generate Constructor for it and now the first method uh is going to be just uploading the video into the fire store so I will create a method called upload video to fire store this me is going to be any synchronous and then here I just want to upload it so I will use this firer and then I will create a new collection called videos and the document of this uh video is going to be just the video ID and then I can set the data and the data is going to be here a video model so let me just create this video model first of all import it video model and it's going to be equal to video model so this is our video model and let's initialize the value here first of all we have a video URL so all this uh things should be you know initialize using this parameters so let me just let me just give it some parameters required string video URL the next one is required string the thumbnail because we need to have all this values uh from the video Details page the next one is a thumbnail the next one is going to be the title and description actually I don't need description but I need the thumbnail the next one is dat published views is going to be just empty and then video video ID it's going to be again to type string this video ID and again it's going to be de published actually it's a type dead time and I need the user ID as well and here I get this error because I made a mistake while creating the video model let me just uh correct it because this de publish is not a type string actually it's a type de time and I just need to fix that and here it's not as a string it's as date time now the errors should be gone and this views is going to be just an empty list actually it's going to be zero so this views is Ty okay again I made this mistake views is not a type uh string but it's a type integer and I just need to also correct it right here so this view is going to be equal to zero and the likes is going to be a LM list and the type is going to be video so now everything is okay and here I will just set this to video. two map because I want to put the data inside apply the data inside the Firebase fire sir and let me just do an await here and now everything should be okay let me also just remove this unnecessary stuff so now I have this and let me just create a controller and a provider for this so I will just say final video controller I should say or video provider I mean so I would say long video provider just like what we did in the previous examples as well and it's going to have a simple provider which returns this video repository and the Firebase is going to be just Firebase fire not sense and I believe I don't need this Firebase Al so I will just remove this and I will also remove this from here now everything should be good and I can just use this long video provider and here for first of all let me just change this St full widget into a consumer St full widget and I will put this consumer in here and also here so you're already familiar with this things and you know how can I do it and here I can just use this RI to call the watch method and then I will use the long video provider to access it as with upload video for fire sir now I have to initialize all this parameters dat published and everything the data publish is going to be just dat time.now simple the next one is going to be user ID which is going to be Firebase alsin sense. Curren user. ID so the user ID is going to be just the uh U ID of the current user because only the current user is uploading the video right it's absolutely clear let me just put a comma here and then I have the video URL thumbnail is okay the title is going to be just the title controller. text and then this video ID I can just create a random ID so let me just create this one as well I will say string I will just call it the video ID and it's going to be again V4 so this is going to be my video ID and finally this video URL is just okay uh so this was a thumbnail I believe there is a mistake here the video yeah I will get the video from the previous page so I just need to create it as a parameter here let me just create it right here to say final I believe it's Ty file so I'm going to just sa video I just need to get this video from the previous page and now let me also correct this because this is not a video it is an image because this is our thumbnail and the video URL is going to be just widget. video and I will have access to it from the previous page so now everything should be okay and I just need to upload a video and inside this pick video whenever I pick the video in this case I want to get back to that whenever I get the video I don't want to just return it but actually I want to do a navigation so I want to just do like this and then say material page out and I just want to make a na navigation to video Details page and the video is going to be just the video of course I can just remove this uh return because I don't want to return anything I will just change this string to a file and I will also need to give it a context and now everything should be okay I will initialize this context right here and I also want to say that what we are returning from this big video which is uh just a future of file as we saw from the previous one and actually we are not returning anything it's just a future here I want to say that it is a wait and again it's this is a s so I believe everything should be okay right now let's see if there's any error here because it says that the argument type file can be assigned to a string because I need to take its path not the actual video okay so everything is okay let me just do hard restart and if there is no error actually we have some error here let me just remove this required we don't need it to be required and I just need to put a exclamation mark here so now everything should be okay let me just do a hot restart and everything should be working so I forgot just one step right here and that is that I also need to put the video inside the storage and then I need to get the URL back and put it inside the database so let me just do this step real quick and I will just create uh this video URL variable and then I can just use this put file into the storage and the file here just needs to be the video I mean the widget. video that we get it as parameter from the previous page and then we have this number which is again going to be just uh that random number that we just created and the file type is going to be just a video instead of a thumbnail or image so now I have this video URL and when I use this provider and inside this method I will just use this video URL as uh my video that is going to be uploaded Inside the Fire database so now everything should be okay and when I upload the video uh it should just be upload it and we will check it so let me just run the project okay then this is our project and let me just uh make uh everything just right because we don't want to just see this B inside the men Dart uh let me just do like this and then I will close all the pages and then inside the men Dart uh I just don't want to show this video details the screen but instead I want to show the homepage and this is going to be my homepage and now I need to just create all that Pages like Channel page and the next upload page whenever I click on here and when I click here I can upload just a video and when I upload this video let me just check if it works or not so when I click on it it should just go and upload the file inside the database first of all we are navigated to this page so here I can just type a title for this uh video which is going to be first video on the platform and then the description which is going to be something like hello it's not really important as you saw I have not added a description inside my video model but it can be just a homework to you and you can just add the description inside your model uh and you can just show it on but I have not done it so I don't need it and the next I can just select a thumbnail so I'm going to select this one and now I'm able to publish the video so let's see if it's working or do we get any error the type feature Dynamic is not a type of string so that's going to be our error and that's right here if I put on a weit and do a sing here maybe it can just solve our problem let me also do it for the next method because as you know this put file in the storage is going to be a type of future let me also make it clear that it is a type of future string I mean what we return from this method is a future of a string it just need to be more clear and I await this method let me do a hard rest start and I'm going to just uh try one one more time let's come here I will click upload a video and I will upload this video near I'm going to just run it once again first video on the platform description is going to be just hello I will select a thumbnail for it like this video and then I can just publish the video let's see if it works this time or not okay it looks like everything is just right so we have this new collection of videos and as you can see this is going to be the video ID and this is the title which it says first video on the platform the type is video this is the user ID it means uh the user ID of the channel who uploaded this video into this platform and then we have this video ID and as you can see this video ID and this one right here is exactly the same because we want it to be the same and the guy who uploaded this video has this user ID B4 AP and if I just open this users collection you can see that it should be exactly right here here and the guy B for EP this is the exact guy which is of course div this is the account that I just upload the video with so everything is correct and it's working perfectly well and now that I I can upload the video into the firest fire store I want to be able to retrieve this video and display it into the UI so I can just do it using something like stream Builder and let's start working on it so now I have to work on just you know retrieving the data and the video back from the firester database and I can just do it inside this content feature it's also one of the other features that I have and I want to show my videos short videos and comments inside this content feature and as you can see I have already this long video in which I have this part video and this is going to be the video and it's just a starting project and we have some stuff here and and I also have this uh bar of navigation which already we saw it and also I have this widgets which is going to be video external button it's just a simple widget it has a container and a row and I have also video first comment which for now I don't have to be concerned of the comment I just need to work on the video so let's start working on it and the first thing that I want to just create is a post because this post is going to be just something uh this post is going to be the first thing that the user sees when he open the feed screen I mean uh the thumbnail and the title and everything will be inside this post so actually this post uh widget is going to be just the thumbnail and the title and this stuff that you want to show it to the user I'm going to just show a thumbnail a title and the profile picture display name of the channel who uploaded that video and also I want to to show that how many views that video has and also uh the date published of the video so I'm going to just show this stuff inside this page and let's start creating it first of all I will just import the material. dart create an set this widget and I don't need to create an scaffold first of all let me just give it a name something like post and that's enough and here as I said I don't need to create an scaffold but I do need to create something like a container and then the child will be a column so first of all let me just tell you how it's going to be created um the first thing is going to be uh the thumbnail so the thumbnail that we already uploaded and here it's going to be just a cached Network image and then after that I can show the profile picture and title and later on the display and uh number of views and also the did publish so it's going to be really easy and quick first of all let me just inut the cached Network image I will use this package to show this uh thumbnail and for doing it let me just create cached Network image widget and the image URL for now I'm going to just use uh some random ede from the internet let me just type here image and I can just use any image for now it's going to be just hardcoded for now but later on I can just add the actual thumbnail when we get the data but for now it's going to be just hardcoded that you can just see it for now copy image address yeah I can just copy this address and paste it exactly right here okay this is going to be the cached Network image let me just put a comma here so after showing the image then I can show the perfect picture and title but before that as I said uh let me just work and just uh put all the pages inside the which they should be so let me just do some stuff here I'm going to show all the pages for example when I click on this button and when I click on this button on the profile picture I should see the account pit which I already have it like let me just show it to you exactly here I have an account feature and right here I have all the items which is exactly the same like the YouTube uh so let me just show this page and for now there is no page exactly but I have this items and so first of all let me just create you know this uh account pitch because it's really necessary so I'm going to just create a pitch called account pitch and I will import the material. dart create an stus fidget and I will just call it account page and return and scaffold and inside this account page I just need to show all the users data actual the current users actual data and for doing it uh inside the body I can have a column and inside the children's I can show everything right here and for now I'm going to just show the items so now let me just open this homepage and what I want to do is when I the user clicks on this profile picture they should be navigated to the account page so let me just find this uh Circle aatar and I will just wrap it with a gesture detector and inside the onp property I can say whenever the user clicks on it I want them to be navigated to that page so let me just create a navigator real quick okay now as you can see when I C click on this I'm navigated to this page and let me just do some customization inside this page and I'm going to just come here first of all I will up this column with a safe area and also give it a padding just like always and let me now just wrap it with a padding and I will give it a padding of 20 from the top side just like always and now I also want to show the users the current users information like the profile picture the display name and everything so let me just do that as well inside the column first of all I need to create a circle aor it's going to have big radius like 40 I'll say a background image of gray and then below that I can just uh create a text which I will show just the display name I need to change the texy to give it a f size of something like 24 and also the F way of bold and that's enough then I also want to show the username so let me just create that one as well something like Ahmed amini at sign Ahmed amini I I also want to change the style and we will have a f size of like 1.5 and also a color of blue gray okay so this is going to be my username I can just change this page later on as like if I want to change it I can just customize this display name username and everything and I can just make it the way I want it looks like but for now I'm going to just be okay with this and just let me uh have a padding with this text so I will wrap this text with a padding and I would give it a padding from the uh from the bottom side and it going to be a padding of 12 so I hope it looks uh much better and I also can have a padding you know uh right here so I will WRA this text as well with a padding and I will have a padding this time from the top side again a padding of 12 so everything is okay now let me just uh have a parameter here so the parameter is going to be a user model because we want to show the uh exact user the current users's data inside this page I will call it user and generate Constructor so now I have to initialize the value here which is going to be this current user so first of all let me remove this cons and then the user is going to be just the current user and now I should be able to have the actual data let me just run the project once again or it's actually running right now so I have created this user and I have the value but I need to initialize it inside this widgets like Circle text because right now as you can see we have only the hard the hard coded value so here inside the background image I will once again use the cached Network image provider and the URL is going to be just uh this user. profile picture the next is going to be just a display name and it will have this user do display name the next one is and the final one is going to be the username so we will have the username here and let me also just put some cons here because we will be able to get rid of this blue warnings which slow down the tempter okay so now we can see that we have the actual value the perect picture display name and the username so everything is working perfectly fine and I also want to have a button here that let me just uh uh you know navigate back and have a navigation. pop to the previous page that I came from here to this page so let me just create that one as well and for doing it you know I just need to take everything from the circle Avatar to this uh text at the end and first of all I need to create a row and I will paste it again here and again I will take all of this and create a new column and paste it again right here but before that inside the row I want to have an icon button the unpress is going to be just something like uh navigation. pop uh I mean Navigator pop which it will just let us to get back to the previous pitch and then the icon is going to be just something like icons. Arrow back and now I have this um actually the UI is not really looking very nice now I just need to bring it once again to the center so let me just have a look at it okay so I really don't know what's wrong here so I will just uh you know fix this uh UI prob later on so we don't need to focus on this one right now I will just change this uh Arrow or I would just change it everything is good I will change I will just fix this UI uh problem later on for now I don't have to focus on this and when I click on this I will be navigated back to this hom page so this is also working well and inside the hom page exactly this page all you want to show the data that we get from the fire back which is going to give you the videos so now we can work on that one let me just open this post so we are trying to creat this post which is uh as I said before is going to be our thumbnail title and exactly the first thing that the users will see when they are on the F uh F screen okay and let me just uh put this post inside this screen that I want to be seeing it which is going to be just uh the video screen so here I need to create a new file to just call it long video screen and I will just UT the material. dart and then create an scaffold to just call it video I mean long video screen create the scaffold and inside the body I will just have a column okay so now I need to put this long video screen inside actually the body of the homepage or I should just say let me open this Pages uh file in the first page I want to have the this long video screen page and instead of just having a text like this to say home I want to have the actual page of long video screen and this is going to be the first page and for now it's just empty so let's work on it and inside the long video screen I can just have you know an stream Builder which inside I show the post so let me just remove this column and instead I can have and stream Builder because I want to show the actual data using this stream Builder and the stream is going to be just Firebase so I will just create an instance of Firebase firer then I will go inside the collection of videos then I'm not going to just specify a doc because I want to just get all all the documents so I'm going to just say snapshots I want to just go to let me just explain it to you I want to just go through the collection of videos and then get a snapshot of all documents inside this collection okay then we have a builder and what I want to do here is actually to return you know a list view. Builder and that's it inside this uh you know list be do Builder I want to just return a post and this list. Builder also has an item count but for now it's going to be just something like one I just want to show one post because I don't have the actual value and it's going to be just uh right for now because right now we don't have an actual value but later on when we added the value it would be much great so let me just run the project okay so that's what we are seeing right now and I will just minimize the vs code that we can see it and this uh picture is this post and this cach network image that we just created inside the post as I said to you the first thing that the users will see inside this video screen will be the thumbnail the title and just this page so this post is exactly the first thing that the users will see when uh they want to click on a video and they when they click on this post they will be navigated to the video which we will created that one as well but first let's work on this post so the next thing after showing this image is going to be just the profile picture and that stuff and for doing it first of all I need to create a row I believe and then inside the row I want to show a circle aor I mean I need to show the purple picture inside a circle AAR so let me just create this it has a radius of something like 20 and then it has a background color of gray and after that I want to show the profile pck I mean I want to show the display name or actually I don't want to show the display name but I want to show the title of the video which in this case going to be just any title it's just hardcoded for now I can just save once again first video here so this is going to be the the title of the video and I also want to show just an icon button here I want to have an icon at the end of this page and the icon is going to be just something like uh yeah this is the name of the icon more word and it's just three do uh upon each other in the actual YouTube we have this icon in the thumbnail so I also want to have this now let me just do something like uh I want to change the main axis alignment of this row and we will have a main AIS alignment of space between and this way or actually not a space between but I can put it a start and then have a spacer between uh for this icon so I will just do it like this okay I just Chang the main access alignment to start because we want to have everything at the beginning but later on add a spor to just put away this icon at the end of this row okay now let me just do some customization here for example adding a padding to this title so let me just wrap it with a padding and I will give just a padding from the left side a padding of something like 10 and now it looks beautiful and I also want to change the text uh style of this title because it needs to be something like uh first of all it has to be bold maybe that's okay for now and after this row at a continuous to the column I want to show the display name of the user who uploaded this video the the number of views and also dead published so let me just uh create maybe another row so the next inside this row I just need to create the display name and number of views and did published so let me just first of all create a display name which is going to be Ahmed amini and then I can also just create the number of views for now and for now it's going to be just say new because initially number of views is equal to zero and when the user clicks on the video uh it will just increment and then I can also create the de publish which uh now I'm going to just say like a moment ago okay that's all right and now you can see it's like this and let me just give it a padding it just needs some customize uh it just needs some customize to look beautiful and I will give it a padding like symmetric and then horizontally a padding of eight the next I also need to change uh you know the background I I also just need to change the color of this text so I will give it all a color of blue gray and now now it looks like this and let me just uh wrap this row with a padding as well to just uh you know give it a padding from the left side and I will just use the media query for this uh for doing this purpose and I will have I will use this media query do size of context and then W and I can just use something like 0.1 let's see yeah I think it looks great let me just do something like 0.2 and now that's much better so now I have this and let me also just you know give it some padding to this profile picture because it's not really looking very nice and for doing it I'm going to just wrap this circle I was already padding I can have a padding from the top side like four and also from the left side four five and now uh you know I will give it a padding of eight from the top side so now it looks perfect and we have this uh we have this uh Network image we have this thumbnail perfect picture uh title and this stuff and now I want to give it the actual value instead of just some hardcoded and for doing it I need to have you know I just need to get the value of this and I will just use a parameter so I will have a video model and I will call it a video and then I will generate Constructor for it but before it let me just uh have the actual value of video here and it's going to be just the video and now inside this stream Builder when I get the data so first of all uh let me just check some if you're already familiar how to work with stream Builders you know that uh we can check some conditions here that if we got the data if the data is loading and when we have the actual data we just want to show and display this list view. Builder that we return the actual data which is going to be a list of videos first of all I just want to check if the data is not equal if the data if the data is equal to null so I'm going to just say if the snapshot the data is equal to null in this case I want to just return you know an error page because we don't have any edor and else I want to just check if the data is loading so I will just say if a snapshot. connection set is equal to connection set. waiting it means that we don't have uh the data yet it mean the data is loading which in this case I want to just return the loader pitch and actually I don't want to check it like this snap the data is equal to n but um a safer way to do it is just to say snapshot. has data is not true so this is a more safer way to say if we don't have the data it doesn't matter if it is null or it is any other case but if it don't have the data I just want to show that this's error pitch and we don't care why we don't have the the data but in this case we only want to sh the error p and when we have the data it's not loading in this case only we want to return this list without Builder inside this stream Builder inside the function I want to just uh first of all get the actual data right here so I will just say snapshot the data and then docs so this docs is going to be just so what I what actually I'm doing is just to say snapshot the data which in this case the data is going to be a collection of videos so then I get the docs which is all documents it means all the videos I can just store it inside a variable called video Maps so I have this video maps and then I can do a map and I get each video right now and now that I have each video I want to use the video model do from map and the map is going to be just the video. data so now I have this and I'm going to just return this and finally converted into a list so I hope now I have this list of videos yeah now I have a list of video model so what I actually did was that first of all I used this I Snapchat the data and then I got all the docs it means all the videos which are going to be a list of cury document sshot and then I stored it inside this video maps and then I use this map to go through each of the videos and then use the FR map to convert that into a video model and then finally convert all of them into a list and store it inside this variable videos so now inside this l. Builder instead of uh having this one as a hardcoded uh number I can just use this videos do length and the video is going to be just videos index let me just remove this cons and everything should be good so now let me just do a hot restart and if you don't have any error it should be per it should be working perfectly fine actually we got some error here so let me just uh find we have something imported like dart. GS which I need to remove that yeah this is going to be that let me just remove that and do how to start once again it just says that type time stop is not a subtype of dat time in the typ cast so we got some error type we got some type errors and let me just find it where we have this error to resolve it so to resolve this error I just need to change this from map method inside the video model and just remove this uh stuff from the publish and replace what I'm writing here okay so this would be working and now when I open the emulator you can see that there is no error so let me just do a how Restort once again just make sure to replace this code instead of that and everything is good up to now and the error is gone let me just open the post one second so here I just need to replace this hardcoded codes with the actual dat which is going to be this video okay first of all I will just show the profile picture and instead of this I can just say video do uh thumbnail this is going to be the purle uh I mean this is going to be the thumbnail and it should be uploaded in a moment the next one is going to be the circle aor in which here I just need to show the uh profile picture of the user who uploaded this video so I in in the background image I can just use the cache Network image provider and here I'm going to just say video do uh actually so I'm going to just uh comment this for now I will just do it later on the next one is the title I'm going to just say video. title and remove this cons from here yeah it's great the next one is going to be the number of views and and this is first of all the again the display the display name of the user who is uploading this video and the next one is number of views so I can just say video do views and I have to change it to a string the next one is did publish which for now I'm going to just put it like this so uh What uh else I need to do is to you know find the the display name and the profile picture of the user who uploaded this video and I can just do it really easily because I have the user ID and using this user ID I can find the actual data of the you know Channel who uploaded this video and that is the reason that I just added this user ID as one of the parameters you know as one of the fields inside the video model because using it I want to find the the the the guy who just uploaded this video and it can help us using this user ID so now to initialize the value for the uh display name right here and also for the profile picture of the current user who just uploaded the video I need to create a consumer vidget and for this means I'm going to just change this instead this widget into a consumer widget and I have to just add and I just need to add this fidget drive right here inside the build meod which I'm going to just call the drift so right here I need to create a new provider so I'm going to just open uh user provider and as you can see right now we only have one provider which is going to be for current user provider I'm going to create one new provider which is called any user data provider and why I'm creating this actually there are some times that I don't need to just retrieve the current user but I want to just retrieve any user which is needed exactly like what I need inside this post which uh different users upload different videos and I want to just retrieve the current uh you know uh the display name of the user who uploaded the video and for this case I need to create this any user data provider and there's a difference between this provider and the current user data provider so let me just show it to you because uh first of all I'm going to create a future provider and in this case ref is not the only parameter in the previous providers that you saw we only had one provide uh we had only one parameter which was R and we just used it to connect different providers together but in this case when we are using any user data provider I need to add one more parameter which is going to be just the user ID and if you wonder why I need to add this user ID because as you can see uh when I want to retrieved for example the display name of the current user it asks me for a user ID and for this case I need to just initialize this user ID and pass it as a parameter uh in this provider and for this means I don't uh I cannot just use a simple feature provider but I need to use something like feature provider. family and using this family I can just add a new parameter so I just need to create this feature provider but that's not just a simple feature provider I need to add a family right here and right now I can add my second argument which is going to be the user ID now once again I can just use this uh fetch current user data or I should just create a new method because this fetch current user data is just only retrieving as the current user data but I want to retrieve any user data using a user ID and I just don't want to have this uh uid as the current user but it should be any user ID so I can just copy this uh method and paste it right here exactly here and I'm going to just uh uh add something like fetch any user data provider so let me just remove this current and this method is called Fetch any user data and in this case I don't want the uid to be the current user uid but it should be the user ID which I'm going to just pass it as parameter okay everything is okay right now and here I'm going to just say ref and then I can use the watch method to use this uh let me come here I'm going to just use this user data service provider and finally the uh fetch any user data and the user ID in this case is going to be just user ID and I'm going to just initialize it inside the post widget so everything is okay and when I get this uh it gives me a result of user model which I'm going to just call it user and I will also AWA this and make this method a sness and finally I can just return this user from this provider and everything should be okay now inside the post I need to you know inside this consumer widget use this RI to just you know retrieve the this provider so I'm going to just write uh let me see what was this provider any user data provider I can just use this and also let me just import it and when I use this provider it asks for a parameter because as you can see we added this uh extra parameter which is going to be the user ID ref is okay but I need to initialize this user ID and this user ID is going to be just video. user ID this is the user ID that I need to use and I'm going to just store this inside a variable called user model but this user model is not just a simple user model it is an asingle value so I'm going to also just write here that the type of this user model is this it is just not a simple user model it is a single value and later on I can just say user model and then I'm going to just use I'm not going to use when because I don't need that I'm going to just say when data and this method just gives us the data when we have it and it's not just checking the uh time when we we got error or for example the data is loading so it it doesn't care about that and it will only give us the data whenever we have it so I'm going to just use this when data and of course we get a value which is going to be just the user model so I'm going to just say user and finally I can just return this user so what basically I did was I I use this user model and I said whenever we get the data uh which is going to be which the data is going to be just a user I want the user to be returned and the result of this is going to be the actual user model that I need so I'm going to just call it user so let me see if there's an error and it says that a value of type aing value cannot be assigned to variable of type user model so I'm going to not I will not say it is a type of user model let me just use this user and actually I can use this user to initialize the values and I will first of all use it here I'm going to say value and display name you just need to use this value to get the actual value of this because it's an async value and now it's okay so this was the display name and I also need to initialize this uh uh per picture right here inside this circle aat it has another property called background image and I'm going to just use cache Network image provider and finally uh user. value. profile pick it's okay let me just remove this cons and add an exclamation mark right here so now everything should be okay let me just reformat The Code by putting some commas here and also I'll put some cons right here and here and also I will change the value of this uh which is going to be for uh the date published later on I will also change that but for now we don't need to care about it so everything should be okay and let me just run the emulator to check it out and as you can see everything is working and we are getting the first post which is going to be the title first video on a platform this is the display name this is the actual number of views and also I'm going to just say uh I just need to mention that this is the number of views so let me just open this post and this is uh where I need to show the number of views let me just take this I will use this string and later on like this I will say that this is a number of views actually not here but right here so now it also says that that's uh we got zero views and whenever we got zero views I can simply say no views so let me just uh do this as well I'm going to just uh have a condition right here to say you know whenever the views is equal to zero I want to I want to just display something like no views but if it is not equal to zero I just want to show and display the actual number of views in this post so let me just say video do views and if this is equal to zero in this case I'm going to just say no view but if it it is not right in this case I'm going to say and now that should be all right and as you can see for now we are getting no view because there is no VI in this post so this is basically the post we show a thumbnail and then we show profile picture title display name and number of views and also that did published but now what I want to do is whenever I click on this post I want it to be navigated inside a video and there I can just actually display the actual video that the user uploaded so let's work on this and create the video so let me just open this uh video and this is the starting code for this file and uh first of all I want to just uh create the navigation to this page whenever the user clicks on the post so I'm going to just uh wrap the this column with a gesture. detector to just say whenever user clicks on it I want to get a navigation to the video and let me just create this navigation okay so now when I click on this thumbnail we are just navigated to this page which is going to be the video and I will upload everything here uh and here I just need to display the actual video that which the user just uploaded and I'm going to just close all the an necessary pages so inside this video as you can see everything that we have uh right now for example the video is inside this app bar because I want to display it right here and then uh I will display some other stuff inside the body of this video okay so first of all let me just uh display the actual video inside uh here and for doing it I need to just import the video player package which I'm going to use in this uh project so let me just import it and first of all you have to install the package inside your pu. file and then you can use this package to display the video so let me just uh show you this video player package I'm going to just open it uh this is the video player package for the flutter and we are using it so let me just open the documentation and of course you can just use this documentation to learn how to use this package inside your PL project and as you can see first you need to add some installation and it asks for some permission for Android and also for the iOS so in my case I need to add this permission inside my Android project inside the Android manifest file uh and I believe that I already have added this package which basically it asks for an it asks for an internet uh permission let me just open the Android manifest file and I'm uh I just believe that I have already added this uh as you can see this permission inside the under manifest fault so just make sure to add the necessary permissions for your Android or if you have an iOS you just need to add the necessary permissions for your iOS okay so when you're done with this installation and you're good you can just continue and let's come to this example and as you can uh see here the first thing uh yeah here we can just find everything necessary for installation of this package and the first thing that I need to do is to just uh initialize this package inside my in so I'm going to just copy this this is everything for any solution and I will just create let me close this page first of all I will change this stess fidget into a stateful fidget and then I can create an in set so you are already I'm sure that you're already familiar with using this in set whenever we open the page for the first time this everything inside this in set will be triggered and I'm going to just uh copy everything right here and I need to create a controller so I'm going to say final video player controller and of course as you can see this video player controller is from the package video player and it's not of course final and I will also add an this Mark here to say that electron I will surely initialize this video player controller okay and then using this controller I can initialize this video player and what we have basically done is we said uh video player controller and then uh I did it using this nwork URL because we are getting this uh you know video from Network URL which of course in our case it is from the Firebase and this is going to be the video later on I will just change it to a real video but for now we are just using this uh Sample video from the package which is just uh a short video and then I initialize it and finally doing a seta set so uh using this our video player will be initialized and then I can just display the actual video and for doing it right now as you can see see I have only a container but instead of a container I can actual I can display the actual video right here so let me see where should I just uh display this video I believe I can display it right uh here or maybe not so let me just check it once so I can just display the video right here and I can just say uh video player and here I just need to initialize the controller which in this case is controller and I need to put an exclamation mark and of course I'm going to just uh I need to wrap this uh stack widget I believe with an aspect ratio uh this is the highest widget inside this appb so let me just wrap this with a aspect ratio and the aspect ratio for this uh widget is going to be just the aspect ratio of the video that we have so I'm going to just say uh actually I don't need to put the aspect ratio right here maybe I should do it just inside the video so I'm going to just wrap this video player with aspect ratio and the aspect ratio in here will be just the aspect ratio of this video so I'm going to just say controller. value. aspect ratio and I believe that's all right okay then uh right here it should just display the video and as you can see this is the video of a b and this is just the sample video of the a sample video which this video player package use it as a default and later on I can just replace it with the actual video which I have inside my database but for now it's going to be okay and for now let me just customize this page to make it a little more beautiful okay so I'm going to just minimize this wh that you can see it properly and here you can see the emulator and see the changes in real time so this is the title and uh let me just wrap this whole uh let me just wrap this title with a padding so I will give it a padding from the right side and we are having a padding only from the left side which is going to be a padding of 10 or maybe a padding of 12 okay then we have a number of views but beside number of views I also want to show the that publish time so we can see that when we publish this video so right here I can just copy it and paste it one more time and here I'm going to just say for example five minutes ago it's just the date published of this video and actually I don't need like this padding so I'm going to just say a padding of four from the left side and also here a patting of uh four from the right side so it's going to be okay and then I also want to wrap uh so I also want to have a pad from the top side for this row and I will give it a padding of something like eight and I think it should be a pading of five and I think that's all right okay then here we have the purle picture so this is exactly this circle aor I need to just uh make it a little bigger this profile picture and then we have this display name of the user who uploaded this video which is uh here like ah it's just a hardcoded and then we have the Subscribe button but before that I also want to show the number of subscribers that this user has so I'm going to just have one more text to say like for example one subscriptions okay and I just need to change the style of this text I will just first of all give it a Fone size of something like 15 and also I will change the fot we to something like w500 okay and then I can just wrap it with a padding to give it a padding from the right side and it's going to be just a padding of six okay everything is good I just need to add a spacer here because I want this uh subscribe button to be at the end and right now it is great and let me also give it a padding from the left side uh and it's going to be just a padding of six or maybe yeah that's all right I can have just a padding like this but the phone size I think it should be something like tur because it's yeah I think that's right now looking very well so this is the video page and later on I can also add something like a comment section because I want to have I want to display all the comments right here and I'm not going to work on it for now let me just work on this likes button because it's not looking very nice uh let me just find it yeah here we have this uh thumb up and also we have this thumb down but first of all let me just increase the width between these two I'm going to just give it a BD of like 15 and it should be inside a container and I believe I can add and increase this vertical uh padding of this container to something like 15 okay I think it looks better now let me also increase this weight a little more to something like 19 and now it should be better and when this video is liked I want this I want to just change the color of this th app but for now it's okay so now we have this and uh this is the video this is the title of video number of views that published profile picture of the user who uploaded this video display name number of subscriptions for the user uploaded and also we have a subscribe button and also we can like this video or unlike this video and also we have some other buttons and first of all let me just give a padding to this title okay so I'm going to just give it a padding from the top side and just a padding of four not more okay now it should be great and also this padding to turn right now it looks great and everything is good okay now the UI looks very good and let me just uh improve the user experience of this uh video whenever we click on a video I want some icons to appear because it's exactly like we have in the actual YouTube when you click on a video you can just for example pause or play the video you can move uh ahead or you can move just uh backwards so this is all the features that we have in the actual YouTube and I'll uh I just want to implement this inside my uh project that whenever I click on this some icons should appear and then I will be able to play the video and do some more stuff so let me just create them and first of all I will just remove this unnecessary inputs and then here I can just have some variables that I will use and the first one is going to be a bullion of uh is show icons so as I said I want to be able to show the icon and also just appear or disappear the icons whenever the user clicks on the whenever the user clicks on this video and then I also want to have a Boolean to say is playing so whe whether the video is playing or it is not playing and that's all right so first of all let me just work on this is show icons and I will just display some icons whenever I click on this video and first of all let me just create this icons which are just some images that I already have inside the assets of my folder as you can can see inside the assets I have icons and also I have images and of course once again if you have downloaded this project you have access to all of them and I will just use some of the images inside my project to display this play icon pause icon go ahead and go backward icons so what I basically want to do is to wrap this video player with a gesture detector or maybe I have already done it yeah I have this gesture detector to this whole video and right here I'm going to just say that if is show icons is equal to false in this case for example I want to display icons and whenever x equal to false I want to disappeared icons so let me just do like this that whenever s show icons is equal to false I want to display the icons inside this method and if if it is not equal to uh true I will do this method okay first of all if s ions is equal to true it means that we have the icons I want to just disappear them and when we don't have them I want to appear this icons but now first of all let's have those icons uh we have some stack widgets here this is the first one this is the next one so here I'm going to just in set of this container I can show the actual value and here I'm going to just display the icon of playing that whenever user clicks on it they will be able to play the video so I'm going to just uh use an image. assets and then I will just say assets and then inside it inside the images folder I can just show this play.png okay and this is the icon that we have it here so let me just change the color of this and I will change it to a color of white and now you can see it properly let me just change this to for example something like 170 and also the top should be something like 82 or maybe I should increase it yeah I believe right now it looks better so this is the first for playing the video and the next I also want to be able to uh head backward and also uh hit go forward so let me just create that one as well I will just copy this position and copy it two more times this uh this one is going to be for backward and next one is going to be for forward and it's just assets images and inside that I have go go back final and also the next one is going to be just go ahead final inside this I can just have go ahead final and of course I will need to change this positions for example will make it something like 30 and also this one do like uh let me say from the right side something like three so you can just uh do some stuff to have some trials and errors to find the exact positions of this three icons and it will of course take some time to have the exact position but later on you can have the uh you can just put it whatever you want so I can just increase it to something like 45 this one and also from the top side I want it to be like 85 or maybe I should increase it even more like something like 96 and this one to 55 so as I said before with some trials and errors you will understand the exact position of each one of them and also let me change this one I mean this one to something like 55 and also actually not 55 so I will just put it like 45 or maybe for8 and I can also change this one to like 94 so with some trials and errors you will find the exact position to have this icons and later on I also can organize it much more to make it more beautiful but for now it is okay now I want to be able to appear or disappear the icons whenever the user clicks on this video so I'm going to just select this uh exactly right here I believe that FS show icons is equal to true in this case I want to disappear the icon and for doing it I can just say s show icons should be equal to false and of course I will do a set set so if show can is equal to true I want it to be equal to false and if it is equal to false I will make it equal to true for this icons uh let me just uh make it clear that whenever we want to display this icons so I will wrap I will not wrap I will just only say that if show icons is equal to true I want to display this but if it's equal to false I will just show a size box it means nothing and I will do the same for the next one as well I will only say let me say like this that if s show icons is equal to true I it needs to be displayed but if it's equal to false I only want to have a size box and the next one will be exactly the same and right now when I click on it you can see it appears and when I click on it it will disappear so it's exactly like the YouTube and now I also want to be able to play the video so how can I just make it to play let me just resize the SS code that you can see the code properly I will create a meod right here to say you know first of all toggle video player so in toggle video player I will say if the video is playing I want it to be paused and if the video is paused I want it to be played for example right now the video is paused so when I click on it it should play the video but if it is playing the video when I click on it it should just pause the video so how can I do it I will just make a condition to say if I can just use the video player controller for this mean so I'm going to just say controller do value do is playing it just G as if the video is playing or not so I'm going to just say that if the video is playing I need to pause the video but if it is not the case else it means that the video is not playing I need to play the video so how can I make the video to be paused I'm going to just use this controller. value. pause I believe I just need to say actually I don't need the value I'm going to just say pause the video and that's all when the video is playing I want the video to be paused and also I will make a playing equal to false because the video is not playing anymore and I will also do a set it so if you're wondering why do I need this displaying you will see later on because I need to change the UI based on where if the video is playing or not and whenever the video is not playing I want it to be played so I can just use this controller do play the video and again I'm going to just make S playing equal to true and do a set step so now I have this toggle video player and I will just use this method on whenever I click on this play button so it's going to be exactly right here and let me just show it whenever I click on this the video is playing and when I click it again it will just stop the video when I click again it will play the video and when I click it again it will just pause the video for me so this is exactly the behavior that I want to have so now I can also toggle video player and I can just you know make the video to stop and pause and now I also want the video to be go ahead and also go backwards so let me just create some meod for it first of all I will create a meod to say go backward and the next one is going to be go forward so how can I create this Behavior to make the video go backward and also go forward first of all let me just use it so the go back word is going to be used exactly here go back final right here and also in this one for the go ahead final I can just use go forward to create this Behavior I just need to take the position of the video that we are in right now and then I will add a duration to it for example it can be a duration of 1 second or any seconds that I want for example in the actual YouTube we have the functionality to go ahead 5 seconds and also 10 seconds you can change the the settings so uh default it is 10 seconds but of course in this video I'm not going to use like 10 seconds and I will just use one second so if you're not understanding just follow along to get what I'm saying what exactly I need to do is first of all I need to get the position of the video that we are in of course it's a type duration so I'm going to just call this position and then I can use the controller to say value and then position and this position will give us the exact uh position of the video that we are in for example if I have played the video and it is at the half of the video it will say me exactly that we are at this position of the video and it is played and now that I give uh I have access to this position I want to add a duration of for example 1 second to that position so now this position is going to be equal to the position that we had but plus a duration of like one second and then I will just say the controller I will just use this controller and I will use this S2 and this S2 uh method is just a meod from this video player package and it will just make the video to go and jump on a specific part of the video uh which takes an argument of position so I can just tell this video to jump on this part of the video and that part is going to be just this position okay so everything is done for going backward let me just explain to you what again that what I have done here I just use this controller to get the position of the video the video that we are in and then I st it inside this position variable and then I say okay the position the current position that v in plus a duration of 1 second should be stored inside this position so this is the new value of the position and then I just use the seek to method to jump on this new position of the video actually for backward I don't need to use the plus but I need to use the minus because we are not uh going forward we're going backward and then I can exactly do the same for the going forward but with this difference that in this Cas I want to have a plus so we are going forward let me just do a hot rest so click on this and it will just navigate us right here we are also getting some bottom error flows which I need to fix later on as well so as you can see it's working perfectly fine and we have this and also this button should be also working that we can just go forward and also go backward but to see it properly I just need to show a progress indicator right at the end of this page to see on which uh position of the video are we currently in and uh just to see the progress of the video and for doing it I can just create this video progress indicator inside this video screen so as you can see I already have this uh align widget and inside that that I only have a simple container which there is nothing inside it so I can just replace this container with a video progress indicator which of course this uh widget is just uh came from the actual video player package that we just installed and here first of all I need to assign a controller that we can use the controller that we just created and also the all scribing will be equal to true so now it should be good and you can see that right now we have this progress indicator and I just need to bring it down at the bottom of this page but before that let me also uh change some colors of it for example the plate color should be equal to rate so I just change the property called colors and it takes just a video progress colors widget so I just need to add this and right now we have a plate color which I'm going to just use a color of R and also I need to just change the buered color which this one is going to be equal to gray a color of gray so basically this color of red is the color of the video which is just passed on and also the buer color is the color of the progress indicator that we have not seen the video yet so you will understand once we have it okay as you can see this is the video when I just click on it you can see that it just uh goes away and right now this part of the video has been seen and this gray part has not been seen it's okay I just need to just relocate this progress indicator because it's it's not really looking very nice at the top of this video and I want it to be just right there just like the actual YouTube that we have so for doing it I believe that I can you know use a size uh I can just use a position let me just wrap this with a position vdet and then I can just some uh change the top for example to something like Ed but as you might know uh first of all let me just see if it's working or not actually I really don't need uh this position and it should be just working perfectly but I don't know what's the problem now so I have to just relate this video progress indicator and put it exactly right there and I also believe that I can just take this aspect ratio so let me just take this one and instead of that I can just wrap it right here so I'm going to just wrap it with the aspect ratio and then put it right here maybe that just solve the problem yeah it's completely okay and right now we have this progress indicator at the bottom of the video which is really looking very nice and it's exactly like the YouTube and I can just play the video and it's just going on and I can just do like this and using this button I can just go backward so now that everything is set up and I can just play the video we can see the progress indicator right here and everything is just okay let's just uh initialize the actual value what I mean is just let's just use the actual video and also the actual display name profile picture of the user who just uploaded this video and everything so first of all let me just replace this with the actual video so let me just create a Constructor and I can just create a video model and I'm going to just call it the video and I will just generate Constructor for this parameter and I can use this video to get the actual value of this video and instead of just this uh just a hardcoded video which is uh we are getting from the internet I can just replace it with the actual video and I'm going to just say the video URL so this is what we really need and instead of the hardcoded B video we are getting the actual video from our database so right now we are getting this error in the PST because I need to initialize this so let me just initialize the video right here inside the PST and the video is going to be just the video and right now it is okay and everything should be really fine and let me just do a hard Restort when I click on a thumbnail we are navigated to this page and here we should be able to see the video yeah and as you can see this is the video that we just uploaded inside the database and we are seeing the actual video and I can just uh uh play the video and I can just stop the video I can just go backward oh this is just uh is been wrong and uh this is going forward and also this is getting backward so I just need to replace this too so and I can just do it real quick uh inside the video I just need to replace this go forward and also go backward uh Ms this is not going to be go forward it is go let me just see it is not go backward it is the go forward and also the next one it's go backward let me just change it okay and now everything should be good and I this is going forward and also this one is getting backward the video and I can just play it or I can just pause it so now everything is okay and I also need to change this other stuff for example number of views that published and uh title and and other things and first of all let me just change the title and I just uh use the actual title that we have here so let me just do that real quick here we have the title A hardcoded how to learn FL quickly and instead of that I can just use widget. video. tile and the next one is number of views so I can just say use like this to say uh widget do video do views and also here I'm going to just say views that we can understand this is is the number of views because this one is just an integer and right now we have this zero views and again I'm going to just uh give it something like this to say if number of views is equal to zero I just want to display no View and for doing it I can just create a condition once again to say if the widget. video. views is you know something like equal to zero in this case I want to just display no view but if it is not true I just want to display the number of views that we have here and for now it is no View and the next uh so I have this title I have number of views and the next I also want to just change uh number of subscriptions and also the Prof picture and the display name of the user who just uploaded this video and for doing it I need to once again use the uh provider of any user data provider so let me just do that real quick and for doing it I need to change this stateful widget into a consumer stateful widget and of course I will need to inut the FL R part package and I will just add a consumer right here and also a consumer here so now we are able to use the flut R part inside this video and I can just do it inside the build method right here and I will just use ref. watch and also the method that uh the provider I need to use is any user data provider and of course you are just familiar with it and how can we use it it takes a parameter and the parameter here is going to be just a user ID of the uh Channel who just uploaded this video so I can just say vet. video. user ID so now the result of this uh provider is going to be just an async value and of course we know that it is a in sync value of user uh model and now everything should be okay and I'm going to just call it user and now I can just use this user to initialize the actual value of the guy who just uploaded this video first of all I can change the profile picture so I'm going to just change the background image I will use the cache Network image provider and it's going to be just user. do profal p and it should be just all right the next I can change the display name of the channel who uploaded this video so for now it was just a hardcoded Ahmed amini but now we are going to just use the actual value and once again I'm using user. value. display name let's just put an exclamation mark here to say that this value is not going to be null and also I'm going to change the number of subscriptions to let's once again say user. value do number of subscriptions that we have here and let's see what's the problem here yeah of course because uh I just need to change it to something like a string because uh number of subscriptions is a list it is not a string so we can't use directly inside a text and I can just use it like this and I'm going to use a method called lent to give as the actual length of this list of subscriptions and also here I'm going to just write subscriptions and once again I'm going to just take the whole thing to say uh as you can see right now so we are getting this error and it will be just solved I'm going to just say if the number of subscriptions is equal to zero it should just be returned to something like no subscriptions but if it is not equal to zero for example it is one two or it is more than zero we just wanted to show the actual number of subscriptions for it once again I just need to create a condition to say if the user. value. subscriptions is empty so in this case I just want to say something like no subscriptions and let me just put an exclaimation Mark here but if it is not true it means that we have more than one subscriptions I just want to show this and now let me just do a hot restart and everything should be okay okay and we should be able to see the actual values instead of just hardcoded as you can see we are also getting some errors while the data is loading in the post and also the long video screen I will also solve that it is just uh some temporary errors that while we are retrieving the data we get that and also in the video we get that error as well but as you can see we are getting the actual value this is the title first video on a platform this is the actual number of views no view for now this is the purple picture the guy who just uploaded of course the display name is Ahmed amini and also we have no subscriptions and this is the video so that is all right uh but let me also uh add some improvement to the user experience of this video and also post and the first thing that I want to do is to just change whenever we are getting the video uh whenever the data is loading and we getting the video I just want to show a loader let me just find that and it is right here instead of just simply a size box I want to use and return a loader widget here to say okay now it should just return a loader and also I can just wrap it with a padding if we need that as well and I will just give it a padding from the top side and it's going to be a padding of 10 okay now it should be good and let me also this long video screen as you can see we have this uh conditions to say if the data is not if you don't have an uh any data it should just return an error pitch if the data is loading we should have a loader and also when we got the data we want to show a lp. builder so everything is okay right here but maybe it's not okay in the post uh I believe so because uh we are getting the error whenever we upload whenever I do a h rest start I get some temporary errors it means that we need to add some more conditions but this one should be okay and the error should be from this uh part whenever we are retrieving the data so we are saying that if snapshot. has data is uh not true and also let me add one more condition to say or so this is basically just or to say if snapshot the data is equal to null if we got these two cases if the snapshot. has it is not equal to true and also if the snapshot data is equal to true I mean uh if you have both these two cases if snapshot. has data is not true and also if snapshot. data is equal to null in these two cases I just want to return an error pitch and when we are getting the data I mean when we are just uh waiting for the data I just want to return a loader and in other cases whenever we are getting the data I just wanted return as list with Builder so now everything should be okay as you can see we are getting this loader but right now we have the data so it should not be just displaying uh actually I forgot to add one more step because you know whenever we are uploading this video page I should add one more condition to say if the data is initialized if our controller is initialized in that case we want to show the video so let me just create this one as well this is not actually true so I need to just take all of them this padding widget inside which I have a load and I'm going to just uh use once again this size box because that's completely all all right here and I don't need to change it but actually I need to change it whenever the data is not initialized so let me just add this condition once again I think it should be inside this aspect ratio I think that is a great place to do so yeah that's right let me just add this condition to say the child of this preferred size widget should be an aspect ratio but that is only true whenever the data is initialized so I'm going to just say if the controller do uh value do is initialized it means that if the data is initialized only in this case I want to show this video and everything related to it but if it is not initialized I just want to show a simple padding widget and that is it and now it should be okay let me just do a h rest start and let's see if it is working properly like you want it to work okay right now we got this thumbnail when I click on the thumbnail we are now we get to the actual video and right now as you can see this is working properly I just need to add and increase the padding so let me just do that as well I just need to have a padding not from the top side but actually from the bottom side and it's going to be a padding of something like 90 maybe you can just do some trials and error you will you will understand how it should be and I can just make it something like 100 and right now it is okay and right now because the data is not initialized we are just seeing this uh loading but whenever the data is loaded and we got the actual video on that Guess The Video will be uh display so right now it is working well and there's no problem okay now I'm going to just upload two more videos to this platform because I want to just show you one more feature that is happening inside the video and let's just upload this new video I'm going to just click here upload a video and then I can upload this a very short video now I just need to enter a title and also description something like this is our second video and also uh and also the description is something like uh optional I can just leave it empty and it's not a big deal the next I'm going to just select the thumbnail and it's again and once again it's going to be just this thumbnail because I don't have any other image inside my emulator and of course it's not a big deal now I'm going to just publish this video and now this video should be just uploading and I can also check it inside my fire press console this is my database and I can just do I refresh this PCH to see if the video is uploaded or not and I believe the video should be just uploaded so let me just do a hard rest start to check it inside the emulator yeah as you can see the video is just uploaded this is our first video which says first video on the platform and also this one is the second video and the title is just this is our second video of course the thumbnails are the same let's wait for the thumbnail to be uploaded it may take a while because my internet connection is just weak right now but it should be just done and right now I have two videos uploaded by the same guy D Ahmed amini this is my account which I uploaded two videos using these two accounts and what I want to just show you is if I click inside the video uh right now you can see that I'm only seeing only one video but it's not the same inside the the actual YouTube clone because in the YouTube when you just open a video you can see other videos or the suggested videos just at the bottom right here so right now it is empty but it should not be like this and I should just upload some more videos right here so it can be any video but not the above video it's just uh and it is just like the actual YouTube that we have in our phone so right now what I want to do is to just uh using a stream Builder show the other videos at a bottom of this page so how can I do that I just want to come here and I believe that after the padding inside the list view I can just use an stream Builder to show the other videos right here so I'm going to just create an stream Builder and the stream is going to be just once again the inance of fire fire let me just create this and then I'm going to go inside the collection of videos and of course videos we have to take the Snapchats but using this stream we are getting actually all the videos but that is not what we actually want because we want to get all the videos but not the above video not this video and of course the reason is clear so how can I do it I can just do it using uh I just need to add a condition and I'm going to just do it using this word method and I'm going to just say that I need to take all the videos inside this CL collection but except one video and it is the video that the user ID is the same the user ID of the above video so I'm going to just say where user ID is not equal to the widget. video. user ID so I'm going to I'm going to just explain one more time what basically I say here is that I want to take all the videos inside this collection but not the video which the US user ID is equal to the user ID above I don't want to take that video and finally I just take all the snapshots of this video okay the next is inside the Builder and here once again I can make some conditions here to check if the data is loading or if we are not getting the data first of all I'm going to just say if snapshot. data I mean snapshot. has. has data is not equal to true it means that we don't have any data or maybe snapshot. data is equal to null so I'm going to just check that if we don't have any data I just want to return an error pitch so I'm going to just say error just return this error pitch this is the first condition the second condition is going to be the the time when the data is loading and I'm going to just say if the snapshot. connectionist said is equal to okay connectionist waiting it means that the data is not loaded yet in this case I want to just return the loader and finally when we have the data I just want to return post again actually I want to return a list V Builder here so I just need to show a list and in this case I'm going to just return a list without Builder and the item Builder is going to be just here I will return the post and of course it takes a video and I have to initialize that one as well and the video here is going to be just something like let me create it here actually right here I can say snapshot. data. docs here I'm going to just take all the docs it means this docs is all the videos so I can just call it something like videos map but here it wants me a video model okay so right now that I have this videos map I can just convert it into a something like a video model so I'm going to just use this map method and then I take each of this video and here I can just say video model actually like this video model I will use the from map method and here I'm going to just say video. data okay so I have to just return this the result of this uh from from m method and the result will be added to the something like videos and here I can just say videos and I will take each index inside here so let's see what's the problem here actually it should be a list right now yeah I have to convert this into a list I just forgot it now everything should be working so what I did here was uh first of all I took all the docs which is of course all the videos and then I stored it inside this videoos map map and then I just use the map method to just convert each of these videos into a video model and then convert everything into a list and inser it inside this videos list and finally I just returned it each index of these videos to this post so now everything should be working and let me just also put some Comas here to just format the code and everything should be all right now right now so let me just do a hot restart if I open the first video not only this video but I should also see the other videos at the bottom of this page but right now it's not doing that so let me just check if there's any problem here okay actually I got the error that why we are just getting this the reason is just I made a mistake right here uh in the condition right here I said that if the user ID is not equal to the user ID of this guy so it's completely wrong because I should not say this because uh in this case you are saying that if the videos are uploaded by the same guy it should not be uh displayed here but that's wrong I should not use the user ID but I should use the video ID and here I'm going to just also say video ID and right now it should be working perfectly yeah as you can see it's working right now and that was the only problem that I used the user ID in a setad of a video ID so just make sure to make it right and right now I can see the other videos this is my the actual video and then at the bottom I can see the other videos as well so let me just upload another video okay if I want to just upload another video here this is going to be 10 seconds video long enter a title I'm going to just say our third video and the description I can just leave it empty because it's optional and then I have to select the thumbnail and I'm going to just select this one and finally I can just publish the video let me also do a refresh to this Firebase console to see if the video is uploaded or not and we can just check it inside this console okay now the video is uploaded and this should be it this is the second video and maybe this one is the third video that I just uploaded yeah that's right this is our third video and if I do a hard Restort here I should be able to see the video okay right now as you can see we got three videos this is our third video our first video and also the second video and when I open a video for example let me just open the first video on the platform as you can see I can also see the other videos our third video and also the second video I can see both and they're just displaying at the bottom of the actual video that we are just playing so it is exactly how it is inside the actual YouTube so I we also got this feature and this is the first video in the platform this is the third video and also this one is the second video and I can just scroll through this page now that I have this Behavior I also want to add the comment feature to this platform so at the bottom of this video right here I need to display a comment box and then when the user clicks on it they should be you know it should be open a modal bottom sheet and then inside that users should be able to uh post their comment and also their they can see their first comment and also inside the bottom sheet they will be able to see all the comments inside a specific post and video okay let's start on the comment section okay right now that we are done with the video we can just go and start creating the commment feature and it's going to be the next feature that I will create to this project so the first thing I need to upload a comment and then I can show it and display it into the UI so first of all inside this upload folder I can add a new folder and I'm going to just call it comments and Okay so it should not be a file let me just remove this I'm going to add a folder to this upload folder to say it should be called comments and I will put just everything related to the comments inside this folder and the first thing I need to create a model for this comment as we had for the video and also we had for the user I need a model for the comment as well and I'm going to just call it comment model okay so let's create this comment model which I'm going to just call it comment model and this model is going to have five fils one is going to be for the video ID the comment text and uh let me just create them one by one so the first one is going to be the common text and we want to know which comment has the user just posted the next one is going to be the video ID of course it's all it's again an string uh why I'm just creating a video ID field it's because we want to know the comments are belong to which video and for doing it I need to have this video ID here as well and the next one we also need a comment ID just we had in the video ID and also we had in the user ID we again need an ID for the comment as well so it's going to be comment ID and the next I just want to show that display name and also the perpose picture so I'll also add this one as well display name and also the next one is going to be profile picture so I have this five fil inside this model and let me just generate Constructor for it and that's it I also need to just generate Json calization and I don't need this two so let me just remove them and also remove this unnecessary import so inside this model I have a comment text a video ID a comment ID display name and the profile picture and now I can just go and actually upload this comment so let me just create a repository and I'm going to just call it comment repository and here I have this class again comment repository let me just create an inocence of Firebase uh o and also Firebase firer because we are going to need it inside this repository and I will have final Firebase fir store which I'm going to just call it fir store and the next I also want to add or maybe we don't need a fire so maybe it's okay let me just generate a Constructor and now we have this fire Ser now the first method that I need to create here is going to be a method to just upload everything inside the Firebase F store so I need to create a method called uh upload comment to firer and using this method I can just upload this comment inside the firer and of course it going to be just a synchron this and now I can use a wait to say okay I will go inside the fire store and I will just create a new collection called comments it's going to be the third collection that we have inside this project then I need to have a doc and this Doc is going to be a comment ID so as I said I need a comment ID here and then I'm going to just set everything inside this collection and before that actually I need to create a Comm an inance of commment model here so let me just create it it's uh going to be the type comment model I will just call it comment and it's equal to comment model and here I'm going to just use the two map because I want to add uh first of all let me just create an inance of this and then I will need to use that to Method so here I have an inance of comment the comment model and I have to initialize this values the comment text video ID comment ID display name and perect picture and I'm going to just fill all of them using parameters okay let me just put a comment here to re format the code here and then I can just have some parameters here and using this parameters I will just initialize the values and all of them are going to be just required the first one is uh the for commment text the next one is going to be for the video ID the next one is going to be comment ID or actually I can generate the comment ID here and I don't need to uh pass it as a parameter I can just do it right here and the next one is going to be just uh the profile picture and also display name so let me just create this one as well this is for the display name and also the last one is going to be for the profile pick okay right now I have all of them now let me just generate a common ID here as well and as you know I need to import The UU ID package and using this package I can just generate any random number or everything I want so let me just create one here right here before the inance of comment model I can just uh have any string I'm going to just call it comment ID and it's going to be equal to this uu ID and then I can just use the V4 and to just generate a random uh string for me and I can just use this comment ID right here okay so right now that I have everything done here when I want to set the data actually I can use this in sense of common model this one and then I can use the two map method to just send everything inside the firester database and and of course it should be just familiar with this because we already did that with the user and also we did that for the video okay so using this I will just send everything to the farest database and now I need to create the UI of the command page so now I need to create the UI of the comment page because I should be able to use this method right there but before that let me just create a provider for this comment repository it's going to be called comment provider and it's equal to a simple provider and I'm going to just return the comment repository the fire store is going to be just fire store fire firester do inance let me just create an inance of this and right now everything should be done all right so now let me just create this commment page UI and actually this commment is not going to be a page actually it's going to be just a model bottom sheet and of course you should be familiar with that I'm not going to create a page but I'm going to just create a model bottom sheet first of all let me just open this video and as you can see inside the project whenever I I open a video uh right here be before I display the other videos exactly right here I want to have a box and when the user clicks on the box they will be able to open this model bottom sheet and the comment sheet and then also they will be able to see the first comment right here inside this box it's exactly like the actual YouTube so they are able to see the first comment or sometimes the most popular comment right inside XEX boox okay so let me just create that uh I believe that after this row yeah so after this row I should be able to create this box let me just see if it's okay so this one is the row and then I have single Char scroll view or maybe I should do it outside this padding yeah I believe this is a good place here I'm going to just write a comment to say comment box I'm going to just create it here and it's going to be basically just a container it's not uh something hard I'm going to just create a simple container I just need to give it a color of gray and I also need to give it a height and also a weight the height is going to be something like 45 and also the we is going to be something like 200 yeah this is the box which I need and of course I will change the color and also I'm going to just give it a padding and also I need to add a border radius inside it first of all let me add a decoration and here I have a b radius and I will just give it a b radius of something like maybe 14 it's a b radius from the old sides and it's going to be a circular of for in and that should be all right and of course I need to put this comment inside this decoration because otherwise it will give us error okay I have this actually this 14 is a lot let me just put it something like eight and right now it should be okay I also need to add a padding I mean I need to wrap uh this container with a padding because I want it to have some distance from the left side the right side and also from the top and bottom bottom side okay let me just have a padding here and it's going to be a padding of symmetric and then horizontally it will be in eight and also vertically I will have a padding of 12 and it looks like this I believe it's beautiful and I just need to change the color of this uh container because this deep gray color is not looking very nice and I will just give it some shade of something like maybe 200 let me just see or maybe a shed of 300 it should look perfect yeah right now it looks more like the actual U and when the user click on this container this should should be just uh able to open that model bottom sheet. comment sheet so I will just wrap this container with a gesture detector and in the onta property when the user clicks on this container I want them to be able to open a comment sheet okay so when the user clicks on this container I just want to show a model bottom sheet and the context is context and the Builder I will just return a comment sheet here and of course I need to create this common sheet right now okay so let me just create uh actually this common sheet and right now let's just scroll up let me find this content and right here I need to add a new folder because as you already know I have different folders for the content and also for the upload I have three folders inside the upload one is for the comment for the long video and for the short video and exactly I have these three folders inside the context because inside the content folder because I want to just display all the contents right here so here I'm going to just add the new feature I mean the new content which is going to be the forur the comment and in the next tutorial I will also add the short video but for now let's work on the comment and here I will just add a file called comment sheet so now let's create the UI of this comment sheet and it's going to be really easy it's not that hard and let me just create an set this and I will just call it comment back to the video I need to import this and error should be gone now here I'm going to just return a container because it's as I said before it's not a page actually it's just a simple container and inside this container and inside this comment sheet I just want to have uh first of all I will just write and add some text like comments and also I will add a text to say remember to keep comments respectful on this stuff and at the bottom of this comment sh I just want to have uh a text field which inside that user will be able to actually add its comment so we'll have a profile picture of course the profile picture of the current user and then we will have a text build and also a button which all user to actually upload the comment to the fire database so let's create that it's going to be really easy inside this container the child is going to be just a column and inside the children first of all I will have a row and inside this Row first of all I can have a text to just say comments and I will also change the style that style is going to be have a font size of 20 and also I will give it a front way of both so now I also need to add a button to this row and it's going to be just a close button which when you when the user clicks on this button they will be just navigated uh to the previous page so outside of this text I can just add an icon button and the onpress is going to be just empty for now and inside the icons I can just add an icon of close and let me just reformat the and now it should be okay and let me just show it inside the emulator that how this page is actually working when the user clicks on this container they will be able to see this uh container so this is actually the common sheet and actually the size is okay and right now this is going to be the comments and this is the button and let me just change the M xelement of this row and it's going to be just a main AIS element do space between and now it should be okay and I will also actually add some padding to this row let me just wrap it with a padding widget and we will have a padding of actually symmetry horizontally equal to 8 and also vertically equal to 12 and it should be good I believe and it's great the next I also want to add a text here to say remember to keep comments respectful and also follow our community and guid list it's the same like we have in actual YouTube and outside this row I can just added this text and it's going to be just remember to keep comments respectful and to follow our community and guideline so it's exactly like we have in the actual YouTube and let me just uh copy and paste it outside this padding it's the correct place and as you can see it's like this and I also need to actually add it inside a container so let me just take this and then I will create a container here and the childart of this container is going to be this text okay now I need to change actually the decoration of this container and I will just give it a color of gray with a shade of like 400 it's like this and it should be good actually and I also need to change the padding of this container and I will just give it a a padding from the all sides and it's going to be a value of six okay so right now it looks nice let me also just uh maybe it's correct and if I want to add some more installing to this container I will do it later on but for now it's going to be okay and at the bottom of this container I mean at the bottom of this column I just want to add a row and inside this row actually I can just create first of all a circle aor to show the dis the profile picture of the current user who is just uploading this comment and then I can have a text fi and at the end I can have a button to let user to actually upload that comment so first of all let me just create this circle aor and it will have a radius of something like 15 the next I want to give it a background color and the background color is of course gray and I will later on add a background image and it's going to be the purple picture of the current user but for now I'm going to just leave it empty like this and I can just increase this radius of this circle something like 18 and right now it should be better and I will just put all of them at the bottom of the pitch so I can just have an spacer here because I want this row to be at the bottom of this container not like here and it should be good and let me just wrap it with a padding and here I will have a a padding from the bottom side like a padding of 10 and also I want to have a padding from the right side it and also from the left side it so now it should be okay and it looks okay the next after the circle ofor I want to add a text field and this text field also has a decoration because I want to change the styling of this text field and of course it's a type of input decoration and here here first of all I will just change the border of this text field and here I need to add a class of input border actually outline input border and inside this class I have this Border Side which here I can just add a border side and then here I can just change the color so I will just give it a color of like gray it's okay now I also want to add a hand text so the hand text is going to be just something like add a comment and it will just let the user to know what's this text about and also uh and I also can just wrap this text f with a size box because uh I just wanted to have an a specific size and I will just give it a height of 45 and also a weight of 140 let's see let's see how it does it look like and it looks like this it's okay let me just increase the WID of this text field to something like 250 and I also can increas it to something like 265 actually not 165 265 and right now it should be okay and at the end I also want to add an icon button here to be able to send this comment okay right now it looks good and I can also just add a size box between this circle and the text field and it's going to be just right here and it just has a WID of 10 pixel and that should be all right and now let me just create this uh icon button at the bottom of uh at the end of this row and it's going to be just outside of this size box and here I can just have an icon button and the unpress is going to be just empty for now because I will later add the functionality to it but the icon is going to be just an icons of send and I believe it's a g icon let me also remove this Con from this padding and add the padding right here right here there there and also here so now I have this icon at the end and let me just change the size and also the color of this icon I will give it a color of green and also change the size to something like 28 let's see how does it look like uh let me just increase it to something like 35 yeah and I believe it should be great and actually I can also increase this uh the WID of this text bu to something like 280 or maybe 275 yeah so I believe this is really nice and now that we have the functionality here it should be great now let me also create a common tile whenever the user adds a comment so we need to have this comment tile that when the user clicks on this icon button they should be able to add the comment but we don't have actually the comment TI let me also create that right now and inside this comment actually inside the content I can have uh or I don't need any folder I'm going to just add it right inside the content so here inside the comments I'm going to just create a new file called comment TI and just like always let me just UT the material Dart and create the status widget I'm going to just call it common tile and here I'm going to just return container okay so let's see how this comment TI is going to look like it's a really simple think I just need to add a row to just uh create a circle Avatar a display name a dead publish and also the comment T so it's going to be really easy first of all the CH of this container is going to be just a column inside this column first of all I can have a row because I want to display a circle Avatar and the other stuff so let me first of all create the circle AAR it's going to have a radius of something like 15 and also a background color of gray the next after the circle aor I can actually create the display name which is going to be for now only a hard coded of Ahmed amini later on I can just give it the actual value of displ name let me we also change the style of this display name to something like this and I will give it a front sze of Ed and also I will change the Funway of this to something like Funway w500 that should be all right and the next after this I also want to add the de published of this comment so we should know that when this comment was published and again it's going to be a text to just say like a moment ago and right now after the row inside the column I want to just show the actual comment text that the user just posted and it's going to be once again inside the text to just say like uh first comment on the platform and I also want to add an icon at the end of this row so let me just create that one as well actually after this did publish of this comment I also want to have and icon because we have this in actual YouTube and I also want to have this and the icon is just called more width okay this is the name of the icon and I want to have it at the end of this row and also I would add an spor here okay that's going to be great and now I can just add my first comment so let me just open this commment sheet and at the bottom whenever the user clicks on on this send icon it's actually right this one when the user clicks on it I want to upload the comment to the fire store and here I can do it and first of all I need to change this stus fidget into consumer fidget because you want to read the the we want to just use the flod just like always to actually read the different providers here I'm going to just add this fidget RI and now I'm able to use this riff here and I will just say rev. watch and the provider that I'm going to use here is just the comment provider and now I can just use this upload comment to the fire Restort and as you can see I have some parameters to just initialize and it's going to be a comment text video ID display name profile picture and everything and let me just have all of them and actually I need three different sources to get each of this uh par first of all is a common text and of course it's going to be just the easiest one I just need to have a controller to this text field and for doing it I need to change this consumer widget into a consumer stateful widget so first of all let me just convert it back to the stess widget then I'm going to just change it let me just remove this widget dri as well now I have to change this estet into an stateful vget and now I'm going to change this stateful wiget into a consumer state full widget and I have to add consumer right here and also here right now it should be great let's also put some cons here to remove this blue warnings which makes our computer slow down and it's great now uh to initialize this comment Tex I just need to add a controller to it and right here I can just create that so it's going to be just once again to type text editing controller and I will just call it comment comment controller so I just created an instance of this text editing controller and now I can use this controller inside this text field right uh here and let me also remove this const and right now it should be okay so now I can just use this comments controller to initialize this comment TT so I'm going to just say comment controller. text and it's going to be the actual value of this comment the next I need to have the video ID and I can just have it using uh parameters uh and I need to create a new parameter here I'm going to just call it a video model and I need to initialize it and get the value from the previous page so let me just create this one and also generate Constructor now inside the video I need need to initialize this and the video here it should be vet. video and that's all right now back to the comment sheet I have this video and right here the video ID is going to be just something like vet. video. video ID and the final thing is the display name and also the profile picture I need this one as well and as you know this display name and profile picture should be the display name and the profile picture of the uh actually the current user because uh who is just sending and uploading this comment it's the guy who just uploaded this comment so uh this display name and the profile picture is exactly the data of the current user because only the current user is uploading the comment and for doing it I need to use another uh you know uh I need to use another provider here so let me just use this riat and here I need to have the current user data provider and I will just say when data when we actually get the data and this data is going to be just the user I want to take this user and actually I want to return that so let me just return this user and that should be all right and I will just store it inside a variable called user so now I can just use this user to initialize the value of display name and also the profile picture I will say user. value. display name and also I will do the same for the profile picture I have a user do value and also do profile picture okay that should be all right and everything should be good right now so right now I have this upload comment to the forer and of course it's going to be a future of void this method is a feature of void because it should be like this and then inside the commment sheet I need to make this method a wait and also asness this method so now everything should be good and let's test it out and let's see if it's working or not okay so now let's test it out if I add a new comment and I'm going to just say first comment and okay now if I just press on a send button let's see if the comment is added or not so now here it should be just added a new collection called comments and we should have the first comment called first comment let's check it out yeah as you can see we have this comments collection and this is the comment ID and this is all this stuff the comment TT is equal to first comment this is the comment ID as you can see we also have it here this is the display name of the user who uploaded this comment and also this is the profile picture and actually this is the video ID so everything is just working perfectly fine and right now I should also be able to display the comments because whenever we add a new comment we want it to display right here now I want to display this comments right after this text to say remember to comments respectful after that I want to just create an stream Builder and display all the comments so let's have this stream Builder and this stream is going to be just first of all let's create an instance of fireus fire store and then I'm going to just open the collection of comments and finally I can just take all the snapshots but remember uh like this I don't want to just take all the snapshots I want to have a condition here so I'm going to just use once again this word meod because I actually don't want to get all the comments but I want to have a condition to say I want to take all the comments but the video ID should be equal to the widget. video ID because as you know each video has its own comments and we just don't want to get all the comments in our database we just want to get each uh video's comments on that specific video I hope I'm clear because we want to get all the comments in a specific video so that's why I'm going to add this condition to say I want to take all the comments but the video ID should be the equal to video ID of this specific video and finally I take all the snapshots then we have a builder here and just like always I need to add some conditions here to say if the data is null or we don't have the data it's going to be the first condition to say if snapshot. data I mean if snapshot. has data is not true or snapshot do data is equal to null so you should know how does it work because I have done this before a lot of times and you should be just familiar with this which in this case I'm going to just return the error page because we don't have the actual data and there is some error the next I want to check if the data is loading so I'm going to just say if snapshot. connection is equal to connection set do waiting which in this case I want to just return the loader just like always and finally when we don't have each of these conditions the data is not having any data and it's not loading in this case it means that we have the actual data and here I just want to return a list with Builder and here we have this item Builder and also I want to have an item count and here I just want to display all the comments so how am I supposed to do so actually I can just say here we have snapshot. dat. dogs and then I can just store it inside a variable called comments map using this I just retrieve all the comments I want to convert this map into an actual comment model because we are working with models and not maps or this stuff so let me just converted into a map and first of all I need to use this map method to actually get each of these comments and I want to just return this comment and finally I will just uh convert it into a list and now it should be a list of commment models uh actually not like this I want to have a comment model yeah I want to have a commment model and use the from map method and the map is going to be just a commment do data I'm not going to explain this a lot because I have done this a lot so I'm going to just explain shortly I just get this comments map which is actually all the docs inside the collection of comments then I use the map method to just get actual each of the comments and then I use the from map to convert this map or everything into a commment model so I just converted to a commment model and finally uh I just turned it into a list so now I have a list uh of common models let me just specify the data type of this variable it's a list of comment model I'm going to just call it comments and the item count is going to be just comments. length and inside the item Builder I'm going to just return a comment tile and let me just open This commment Ti because we want to display all the information inside this comment tole and here I need to have a comment model as a parameter so let me just create that as well I have a comment uh uh model and I'm going to just call it comment and let me just generate a Constructor for it and here I have to initialize it and comment is going to be just equal to comments and each of these indexes so you should be just familiar how to use with list with. Builder it's not hard and now I'm going to just use the actual data of this comment to show the value first of all I need to initialize this background image and let me just create an cache Network image provider and the URL and the image of this cach network image provider is going to be just something like comment. purpose picture the next one is display name so it will have comment do display name and I also need to initialize the value for the de publish but I'm going to do it later on I'm going to I'm going to just wrap it with the cons and also this one and here I need to show the actual comment so I'm going to just say comment. comment text so now everything should be okay and let me just do a hot restart I open the first video and when I open this comment sheet as you can see I should be able to see the first comment but we are getting some error it means that there should be some problem here let's see if there is any problem okay so now I believe I I know what is the problem and again it's a very silly stupid mistake I just uh here inside a condition for this stream Builder I specified that where the video ID is equal to widget. video do I forgot to add a video ID here because we just want to compare if the video ID of this comment is equal to the video ID of this whole video and now everything should be good and as you can see this is our very first comment it was was a very silly mistake and this is programming and we can all sometimes make mistakes and we forgot some stuff and it start just a big deal and right now everything is great so we can see this is the first comment and actually it's not looking very nice so let me just change the styling of this comment and then everything should be great let me just open the comment tile and I also minimize the vs code that you can see the emulator properly as I'm just changing this comment tile and the first thing uh the first thing let me just remove this unnecessary container and the next I can just change this F size to something like 16 because it is really big and I also want to just increase the phone size of this a moment ago to this did published let me just add a text style to this one and first of all I will change the color to something like Gray or maybe blue gray okay now I also want to add a size box here and it's going to just have a BD of something like eight and it should be great now I can also just add a size box between this circle aor and this display name let me just add that one as well and here again we have a size box with a weight of eight and now let me also change this actual text and this comment and let me just find it this is going to be that common text and I will just wrap it with a padding and I just want to uh give it a padding from the right side but I'm not going to just give it a hard value because in that case it will be a lot it will just cause a lot of problems when we try down on different devices because of different dimensions that this stuff so let me just use media query here I'm going to just use media query do size of and then I can say where and then I'm going to just say give it a size of something like uh 07 0.7 size of this screen now it should be okay let me just remove this const from the whole page if there is any con let's see what's a problem here actually it's not a problem I just forgot to add this agenes so I'm going to just say padding is agenes do only and then from the right right side I can add this media query and actually this is a lot so I'm going to just use 0.6 and it should be great or maybe 58 okay right now it is great and it's working and I just also want to just wrap the whole column with a padding and I will just give it a padding from the top side and it's going to be a padding of seven because I wanted to have some distance from the top sides and while this one is not just changing let me just remove this padding from this column and instead maybe I should give this padding to this row let's see if it's working okay it should be great now I have this back and I will just want the the padding to be back on the column and I can just wrap the circle ofar with a padding as well and I will give it a padding of seven from the top side okay right now everything is cool and we have this comment feature done and it's great so let's work on the next feature so right now that we are done with the videos and comments and everything now I can just move on to the next section which is going to be the short video and now I have to upload the short video and then I will also display it inside the page and first of all I need to create a meter as you can see I already have this pe video I'm going to just copy it one more time and here I'm going to just change the name to Pig short video and here I'm not going to return the video Details page but instead I'm going to uh create a new page called page screen and I'm going to navigate to that new page so let me just come here to the short video feature as you can see I already have this widget folder inside the starting project as you can see inside which I have this my trim slider and it is a package and it is a vet that I have already created and I use it to let the user to triam the video as like they want so we can just go through this file and see how everything is written here I'm not going to go through it right now so right now I can create a new folder inside this short video and I'm going to just call it pages and create the first page here called sh video screen now I'm going to just input the material. dart and create an stad lless widget I can just call it V uh short video screen and just like always I can return an scaffold and then inside the body just like always a safe area then the sh is going to be a padding the padding is going to be just a padding from the top side and I'm going to just give it a padding of 20 just like always and then the child of this padding can be my column okay so right now I have this short video screen and I came back to this method and now in the peak short video method I'm going to just navigate to this short video screen so what actually I want to do is that whenever the user tap on this Method pictur video which I'm going to just call this method inside the upload section which I will show you uh whenever I call that meod I want to take a file I want to pick a video and then I want to just navigate to this short video screen so let me just open this upload bottom sheet as well and as you can see we already have this upload a video and whenever we tap on this button I pick a video but whenever the user picks a short video I want the other method which is called pick short video triggered so I'm going to just call this method and of course I will aoid this so that's all right let me also just run the emulator that I can show you right here okay so right now when I click right here I can upload a video and also create a shirt and when I click on a create a Shir I should be navigated to that page now I can pick a video when I click on this video I will be just navigated to this empty page because right now there's nothing inside this short video screen so now let me just work on the UI of this page and we are going to just create a lot of stuff here what I want to do inside this page is to create some functionality to let the user edit this short video and for doing it I need to use a flut package called video editor so let me just show this package to you really fast so this is a package it's the video editor version 30 and the latest publish was eight months ago so you just need to install this package inside your P demo file which I already have done it as you can see I have this package right here and uh just make sure to install this package to be able to edit the video and I'm going to just UT this let me just remove the unnecessary Pages here and I'm going to just UT the video editor package because I need to use this package to actually edit the video so now I import this package and then I can use it to actually edit the video and first of all let me create the UI and uh just tell you that how this UI is going to be look like first I'm going to create one botton at the left side to just navigate back and at the right side I want to create a circle a just to display the you know length of the video then I want to display the actual video and the center and then at the bottom I can just have the trim slider from the of course the video editor package and finally I'm going to just have a button which uh it's going to be just let us to export the video first of all I need to change this stess vet into St vet and it allows me to create the initialization of this package so let me just uh go inside this package as you can see uh right now that we have installed this package and of course this is the demo of uh how it looks like uh all the features inside this package and to just initialize this package it's really simple let me just do it real quick I just need to I can just copy this code from the package from the I can just copy the code from the documentation then I'm going to just paste it right there as you can see I have created a controller for this video editor package and then I don't want it to be like this and actually I want to have the actual ual video here which I can just get it from the parameters so I'm going to just create this one as well and uh this video is going to be the type short video so now I have to create a model for the short video just like I did for the video for the user and for the comment I also need to create a model for this short video so let me just create that real quick I'm going to put it inside a new folder called model and the only file here is going to be the short video model so in this model model which I'm going to just call it I'm going to just call it short video model I will have four fills it's going to be the caption the user ID of the guy who is just uploading this short video uh and also I want to have uh the user ID the caption the DAT publish and also this is Stu so let me just create them one by one the first one is going to be just the caption the next one is going to be the user ID the next is going to be the actual short video and the final one is going to be the type dead time and it's of course did published just like we have the for the comment and also for the long video now let me just generate Constructor for this and also I'm going to generate Json calization now I will remove this unnecessary parts and I can also remove this one so now we can use this short video model to actually get this video so I'm going to just specify the type of this to short video model and of course I'm going to just call it short video now I can generate Constructor and this is it and of course the name is short video just like always uh this initial uh initializing this video editor package is really similar to initializing the video player package they're really similar and there are not a lot of difference between them and I can actually do it inside the edit set for first of all let me create this uh video editor controller and I'm going to just call it editor controller okay and now I can just create an ed method and of course you know how this method is working and I'm going to just paste everything right there and remove this part and also I'm going to call this controller editor controller okay that should be all right let's see what's the error of course I should not call this one uh final and this should be all right and let's see what's wrong here yeah because this short video should not be the type short video model yeah actually I don't need to use the actual model here I will use it later on I can just call it the type file because it is a type of file uh the video that we're getting from the image Pier package is of course it gives us a file back so I'm going to just call this a file or I can also make it a string and just uh send the path here but I'm also okay with this one so now everything is okay I have initialized this and of course as you can see I have a minan duration and also a Max duration here and you know the short videos in YouTube the maximum size is going to be 60 seconds so I'm going to just change it to 60 and also the minimum duration here is going to be 3 seconds so it means that the users can upload any video with the minimum duration of 3 seconds and the maximum duration of 60 seconds okay now let me just check the package once again and I also have to do like this and it's going to just uh initialize the package completely for me so let me just copy this one actually I can just copy all this because I don't need to do it manually and I'm going to just pack it I'm going to past it right here and change the controller to editor controller okay now everything should be just all right and I will be able to use this package to edit the video and do a lot of stuff okay now inside the column that I have just initialized the package actually I can create the UI of this page and the background color of this scaffold is going to be black I want to have a dark theme here and then inside the column first of all I will create a row and then I will change the main access alignment to main access alignment do space between now that it's all right inside the children I will have one uh icon button and the icon for this is going to be just icons. Arrow back I just want to navigate back to the previous page whenever the user clicks on this arrow button and also I'm going to just create a circle Avatar and inside this circle AAR I just want to show the tri duration of the video because this is a video editor uh we are using video editor and I'm allowing user to edit this video and here I'm going to just show the trim duration and the radius for it is going to be just something like 18 and also I will give it a background color of something like blue G for now okay that should be all right let's see if it's working first of all let's see what's the error here I need to have a sh video which is going to be here right video now I should be able to see this let me just do a hot Resort now when I want to upload a short video I can choose this video and now I will be navigated to this page this is the uh icon button and also right here I can show the triam duration let me also change something here I want to just make this circular water is smaller and also actually I want to change this Arrow back icon as well so I can do that later on as well for now let me just wrap this row widget with a padding I want to have a padding from the both left and the right side and it's going to be a padding of right a padding of eight from the left and also from the right side that's all right now I have this one and actually inside the circle aatar I want to show the trim Direction but I'm going to do that later on for now it's going to be just empty the next I actually want to show the actual video here and to show the actual video I can just use a class from this video editor package so I'm going to just go outside of this r and then I can just use a class called crop grid viewer. preview and using this class I just need to initialize this video controller and I'll be able to show the actual video and as you can see this is going to be the actual video and of course I will have to change the aspect ratio of this uh video because short videos are actually uh doesn't have the aspect ratio of the long video so I will change that later on but for now okay we just have this uh video right here as well and also one other thing that I need to keep in mind is that I just want to display all of them whenever the data is initialized whenever this package is initialized so for doing it let me also do one more step here whenever I'm showing this column I just want to make sure that everything is initialized so for doing it I can just say editor controller do is initialized let's see if it if we have it or not here so yeah it's called initialize here so if this all the stuff are initialized in this case I only want to show this column but in other case I just want to display a simple size box and that's all right and just make sure that everything is okay and we will not get any error okay so now the next stuff after I have this is going to be just the trim slider and as you can see I already have this uh prebuilt fidget this stream slender and you can just go through this files and see how everything is working so I have this prebuilt fidget inside the starting project and then I can just uh create that trim slender after this video so I'm going to just uh uh use this trim slender and let me see what's it called and name of this class is just my trim slender so I can just import this and everything should be all right let's see what is I need to also uh initialize this controller which I'm going to just say editor controller and also the next parameter here is going to be a height I'm going to give it something like 45 and it should be all right for now or maybe that's all right and as you can see I can just play with this dream slender okay let me just go once again I will upload this video and I will be navigated to this short video screen and actually I can play with this short video and everything but for now it's not actually really working but it will be solved and it's not a big deal so the next thing I just need to create at the button at the end of done so I'm going to just create a container here I have a child of a text button I just want to create a text button with an unpressed which for now is of course empty and then the child it's going to be a text to say done and I just want to export the video whenever I click on this button and I also want to change the you know styling of this container I want it to be uh first of all let me have a decoration and a box decoration here I'm going to just give it a color of white and I also want to change the Border radius for this and I'm going to just give it a big border radius from the old sides and it's going to have a border radius of 18 I hope that's perfect okay so so let's see how does it look like I have it right here and I also want it to be located at the right side of the page so what I can do is to just wrap this container with an align withget and then I will change the alignment to you know bottom right and it should just change its location and as you can see yeah right now it's located at the bottom so now first of all let me just change the aspect ratio of this video because I want it to be like a short video and I can just do it when I'm initializing this uh package right here when I say initialize this video editor I can change the aspect ratio and the perfect aspect ratio for this is going to be something like 3 2 3.5 and I have just get that uh aspect ratio by trial an error and I believe that this is the perfect aspect ratio for this video let me just do a hard Resort now when I go to the same page of create a short and then right here you should see that the aspect ratio is actually like this but it's not really looking very nice so let me just change it so I think that this aspect ratio is great and it's looking better this 4 to five this aspect ratio of 4 to 3.6 and it's actually looking like this and of course it's better than previous one you can actually change this uh numbers and you can just have your best aspect ratio now I also want to have a spor vet right here for this crop grid View and it will just make this dream sler go at the bottom and actually this is not what I want so I'm going to also have another spacer right here and let's see how does it look like right now and it looks just perfect and the way I want it to be at the top we have this arrow button and also the circle aor at the middle we have this video and at the bottom I have this stream sler and also this one and actually I also need to to uh give a padding to this uh bottom at the end so let me just wrap this container with a padding as well and I will just give it a padding of something like 12 from the bottom side and that should be good for now okay so right now we are done with the UI and let's work on the logic so I want to export the video whenever I click on this done button so I need to create a method called expert and I'm going to just create it right here and it's going to be called export video and of course it's going to be an as this method and I just want to trigger this method whenever I click on a button done right here so I'm going to just replace this with this right here so now let's work on the exporting video and it's going to be really simple and I can just use the package Video Editor to do so and we can use one of IT classes and of course some other classes of this video editor package to export the video and of course if you just to know uh there's also a separate package in flutter for just exporting video of course uh it can do a lot of other features it's a package called fmm Peg and that package is mainly focused on exporting video of course it can do a lot of other things as well so it has a lot of features but mainly that package is used to export video but for now because we have already used this video editor package we can also export our video using this package and we can use one of its classes to do so so let's just s exporting video and the first thing I want to do is to just create a configuration so I'm going to just use one of the classes from this package called video fmpg video editor config and just using this class I need to initialize the controller here which I'm going to just call video Ed I mean editor controller and I can just get a config so I'm going to just store it inside a variable called config now that I have access the config actually I can get a method called uh get execute uh config and now the result of this method is going to be just an execute so I'm going to just once again store it inside a variable called execute and now that I have done this finally I'll be able to get my command so I'm going to just write final string command and it's going to be equal to execute do command of course I have to make this method a wait because we don't know when it it's going to be done and now I can use the command and using this command I can actually export my video so I did all these steps just to take this command and now I have it now the actually process of exporting video will start from here which I will use a class called ffmpeg kit so I'm going to just use this method and of course if you can see here we just uh also exported this one because it's necessary uh right here I can use the execute async method so I'm going to just just use this method so now I have used the class of FMP EG kit that and then I have used this CL this method called execute asnc and this method would actually export the video for us and as you can see it has one required parameter which is the command which I just already created now this method also has some other parameters which I need to use and the second one is going to be just a method and of course it takes a session so I'm going to just write session right here because it takes that and right inside this method I can actually see if the exporting process is a success or it's a fail or whatever and I can also have some more parameters the next one is going to be just null because I didn't need it and the next parameter and the final parameter which I need here is going to be something that gives us a status so I can see whether uh what is the progress of exporting video I can actually and Visually see the progress of exporting video and the next one is just for this one so uh as I said this execute aing will export the video for me and it has one required parameters which is the command which I already generated and then in the second one it takes me it takes a session it means I have access to a session and using it I can actually see if the exporting process is a success if I can actually export the video and or not the next one I don't need and the final one is the status so I can actually see the progress of exporting a video so right now first of all let's actually see see if I can export the video or not and for doing it I can actually use decision to get a return code and I will store this return code inside a variable called code and of course it's going to be the type return code it is a data type generated uh created inside this package and of course I'm going to just call this code and make this a weight and also I will have like this to just say we will initialize this variable and also I need to make this method a sign so now I have a code and this return code will just tell us if the return code was a success or not and I can just uh make some conditions here to actually check that and I'm going to just say if the return code do is success and here I will just put the code if the return code. is Success it means that if the exporting process was success and we actually exported the video I'm going to just export the video right here so this is our first condition and the second condition is just else if the exporting process was not a success and we will not and we did uh and we were not able to export the video and here I'm going to just show some error to the user so we have these two conditions if you can export the video or we will just show some errors to the user and right now let me also create some variables here first I want to just accurate a variable for ex exporting it means if we are exporting right now and I want it to be a type of value Notifier and if you wonder why I didn't need to use this kind of value Notifier I'm using it because later on I want to display it inside the UI and I need to use some listables and for using listables I need this variables to be the type of value Notifier and it will just help me to you know uh display the values in real time to the UI and you will see that later on so this value is going to be just false for now and of course it's a type bullan I have an is exporting it's a type value identifier of bullan and initially it's equal to zero I mean initially it's equal to false and also I'm going to just have this once again one more variable and this time I want to have I want to show the exporting progress and again it's going to be just a value Notifier initially it will be equal to zero and the type of it the data type is going to be just double okay so right now now I have this two and let me just see how can I use it first of all the is exporting uh whenever I start the process of exporting video I want this is exporting to be equal to false so I'm going to just say as exporting do value should be equal to of course it should be true because it's initially yeah because initially it equal to false and when I start the process of exporting video I want the value of it to be equal to true and I need to use this value because of course it's a value Notifier and when the exporting process is done I want this is exporting that value to once again become equal to false okay and here in the status I also want to have a show the progress of exporting video so I'm going to just say exporting progress do value should be equal to here I just need to show the actual value of exporting video and I can just do it using a class uh from the config and here I'm going to just use get fmpg progress and here the time is going to be just uh this status I can use this status to uh get the actual time and I'm going to just say status do get time and also I want to convert it into an integer so like this I can just actually get the actual value of exporting progress so this should be good and one last step whenever I get some errors I'm going to just show some error to say show error snack bar and the message is going to be just something like failed uh video cannot be exported I will show just this error and whenever I can actually export the video I want to navigate it to and I want to navigate to a new page called video Details page and inside that page I can uh fill out the other fils for that short video for example because in this video because in this page we only export the video but in the the next page I also want to fill out the caption and also uh the de publish so other stuff so I need to also have another page for completing the sh video fields for ding that I'm going to just uh create a navigator so I'm going to just say navigator and here I need to create a new page to navigate so I'm going to just create that page as well inside the show video inside the pages I can create the second page called the short video details page and as I said inside this page I can actually fill out the other parameters and other fills inside let me just uh import the material Lo dot create an setet and I'm going to just call it short video detail pitch and now just like always I can return this safe area and then padding and here I'm going to just give it a padding from the top side and of course it's going to be just a padding of 20 that's all right now let me just uh create this navigation and I will just say okay just navigate to this short video Details page that's all right and let me just put a cons here and that should be all right and now everything is okay let me also remove this error and what actually I have done here is let me just go to it once again I want to export the video and initially I have put the S exporting value equal to true because we have started a process of exporting video and then then I have created an configuration for this and then once I have this command I have used the actual meod of execute Asing which let me just export the video and this command is going to be just the first required parameter the next I have some other parameters as well and in the second one which is going to be a function I I can actually see if the exporting Pro process is a is a success or not and I can just do it using this code and I will say if the return code is success I can actually make this exporting equal to false and navigate to this short video Details page which inside this page I can actually fill out the other fields for the short video like the caption and other things and if it's not equal to success and if it failed to export the video I'm going to just show an error to say failed video cannot be exported and also here I can actually see the status of exporting video so that's going to be all right and everything should be good for now I will also specify the return type for this Expos video and it's going to be just a future of void and now everything should be okay and let's check it inside the emulator so let me just run the project so now when I want to upload a short video I can choose my video I will choose this one and then I will be navigated to this short video screen and I can modify this like I can change the icon specify which parts of the video I want to just uh get and I can just remove the other parts and when everything is done I can just hit the down button to actually publish the video and when I mean to actually export the video and when the video is being exported I will be navigated to this page which is short video Details page and of course for now it's going to be just a blank scaffold but now I can actually create the page and first of all at the tight I mean at a appb of this I want to create some stuff so let me just create an upo and here I have a title which I'm going to just give it a text to say video details and actually this is going to be the video details let me also give that a color I'm going to change the background color to red and also I need to change the text style for this TT so I'm going to just give it a style and then I can change the text style first of all I will give it a color of white and that should be all right and it was good if I could change the color of this arrow button as well but that's not for me I cannot do it anything okay so for now it's going to be okay and let me also change this property of Center title and I will put it equal to true and it will make the title to go in a center okay so that should be all right now let's work on the body of it and the child of this padding is going to be just a column and inside the column what I want to actually create is first of all a text field at the top and inside that text field I can actually fill out the caption for this short video and at a publish button I can actually publish the video into the fire database so first of all let me just create this text field that's going to be the text field let me just change this properties I will give it a decoration and it's going to be the type input decoration here I can give it a hand text and I will give it something like write caption and I can actually give it a border as well so I'm going to just give it a border and of course is going to be the type outline input border here I will have a border side and I will use this class Border Side and here I can actually change the color to something like maybe blue let's see it looks like this and let me also give a padding to this column or maybe this text build I actually give that padding to this color so I can give it a padding from the left side like 10 and also from the right side 10 and and it should be all right so this is going to be the padding now I also want to create a button at the end for publishing the video so I'm going to just go after the text field I can create a flat button of course it's a PR fidget that I have inside the starting project the text is going to be just publish the onpress is going to be just empty for now but later on I will use it to actually publish the video and the color of it I can be using something like a color of green okay that should be all right and now let me just remove this cons and put it here here and that should be all right and it looks like this and I can actually change that and give it let me just go to the column and here I will change the cross access alignment to cross access alignment do stretch now it should solve it and also I want to give it spacer so after the text F I can just have a spacer and that should give it a distance from this two and I actually want to give a pading to this flat button and I will give it a padding from the bottom side a padding of 30 and that should be all right and now that everything is done I can actually publish the video and for ding it let me also create a controller so let's change this stess widget into a stateful widget and then I will create a controller called caption controller and of course is a type text editing controller and I will just take this caption controller and put it inside the text field so I will give it inside this controller and that should be all right and let me just remove this cons and it should be all right so now I'm ready to actually publish the video and first of all let me just get back to the short video screen and here whenever I navigate to that page as you can see here I also want to give it a video so I will say this video and it should be just equal to the video that I just exported so let me just come here and give it a parameter so I'm going to just say of course it should be a type of file and I'm going to just call it video video let me also UT a d. iio and I will generate Constructor for it now I have to initialize it and it should be the video should be equal to this video that we are getting again from the parameter and of course the type is the name of it is short video so I'm going to just write like this and it should be all right and I need to remove this cons and it should be all right now I can actually take this video so I have everything right now I have the DAT published I can just create one that did publish is of course just a current time so I'm going to just create a dead time and then it will be called dead and it will be equal to dead time. now so I have this caption I have the DAT time I have the video and I also have the user ID it's simple getting the user ID I can just get I can I can just take the current user ID so actually I have everything and I can actually publish the video right now and for doing it I can create a repository so I'm going to just create a new folder called repository and inside that I have only one file called short video repository here I can create a class called short video repository and just like always first of all I need to create uh some fields for Firebase fire and also Firebase OD so I'm going to just create Firebase alt and I'm going to just call it alt and the next one I'm going to just create one for the Firebase firer and of course I'm going to just call it fire store and then I can generate Constructor for it and now I'll be able to use this Al and also fire so add short video to fire restore this is going to be just the first method here and of course it's an Asing this method and then I can just use this file and then I'm going to just create a new collection called short yeah that's short and then I will have a dock and the dock here is going to be just uh I can create a comment uh a short video ID yeah that's all right actually however I actually don't need to do it because the way I will display the short videos later on is something that I don't even need this ID so I can actually just remove this Doc and I I don't need to even set the video I can actually just add and the data here so this is ADD let me just explain to you that this add is another method it's an alternative for setting the data but the difference here is that I don't actually need a doc I can just set the data and it will just give it some random ID but if I use set I can actually uh give it my uh my unique ID for each uh document but because I don't need actually uh unique document for each of this uh documents I'm going to just use this add method because later on when I uh you will see later on that whenever I get back the data when I display it into the UI I will just display them all inside the list with the Builder and I actually don't need any ID so I'm going to just use add and then here I can use uh an inance of short video model so let me just create it really fast I'm going to just say short video model as you already know I have created and I'm going to just call it short video and it will be equal to short video model now let me just initialize this values first of all is the caption the user ID short video and that published and I will just take all these values from the parameters so let me just create that inside the parameters the first one is and all of them are going to be just required string caption the next one is going to be just string user ID string short video this is going to be the actual video and the final one is going to be just dead time it's going to be called Dead published why we give any error here okay so now it should be all right and I have all this one let's see what's a problem here the short video is actually not a string but let me open this short video model and this short video should be a string actually and there should be no problem yeah it's actually because of the renames as you can see this short video is actually the same to the short video which I have named to this in ense of short video model so I can actually change it to just video and this should be just all right let me also give this a video now everything is okay I can put a comma here and then a semicolon to reformat the codee and now inside the ad I can just use short video and then just the two map as you already saw we have done it multiple times and I will just add all the data inside the firer collection and I will also change the return type of it to something like a future of void and it should be all right now I will get back to the short video Details page and right here I can just say actually first of all I need to create a provider for this just like always let me just remove this too and here I'm going to just create a provider I will name it short video provider and it's going to be just like always equal to simple provider and here I will return short video repository the art is going to be just F this fire fireb offense I will do the same for the fire as well and that should be all right okay now let's actually publish the video right here and for doing it I need to convert this stateful widget into a consumer stateful widget so let me just import this and then I will take this consumer I put it right here and also here now I will be able to use this riff and I'm going to just say riffat and then I will use short video provider and then I can use this method add short video to the fer and the caption here is going to be just the caption controller. text the user ID is going to be just actually let me remove this user ID I don't need to initialize this value here and then I will get back to the short video repository because I have the OD actually here I don't need to uh give it a parameter so I will remove this user ID I don't need to take this as parameter and here the user ID is going to be just. karing user. uid and that should be all right okay and the next one is the video which I can just give it the viget do video and actually it's a type of file not a string so let me just check that and actually I can take the path yeah I me just say widget. video dop because I just want to store the path of this video and then the date publish is going to be just something like that which is the DAT time now and you already know so now it should be all right let me just synchronize this method and also make this a wait now everything should be okay and we will be able to actually upload the short video so now that we have upload the short video I need somewhere to actually get back the short videos and display it into a UI and inside a page and for doing it I need to go to the content feature and right here I have comments long video and the next I will create a new folder called short video okay now inside this short video I can just create a folder called pages and the first file is going to be Just sh video page okay now I'm going to just import the material. dart and create an thisel called short video page just like always let's create this scaffold inside the body I'm going to just create a safe area the child is going to be just a padding and I will have only a padding from the right uh from the top side and it's going to be just a padding of 20 okay now the sh for this padding is going to be just a column or actually I don't need it this column and I'm going to just display the data inside the N stream Builder okay that should be all right now I actually want to display the the data and just like always I can do it using an stream Builder and here the stream is going to be just the Firebase fire restore let me just create an any sense of Firebase fire restor and then I'm going to just open the collection of shirts where I just store all the short videos and then I can just say snapshots because and here I don't need any condition I don't need anything I just want to get all the data back it means all the sh videos back and then inside the Builder I want to create first of all some conditions which uh I'm going to just say if the data is not equal to I mean if it don't have the data so I'm going to just say the snapshot. data is equal to null or for example if snapshot so here I'm going to just say if a snapshot. data is equal to n or a snapshot. has data is not true just like always I'm going to just return this error page and in the next one I'm going to just say if snapshot do connection set is equal to connection set. waiting which in this case I'm going to just return the loader and finally when I get back the data I just want to return a list view. Builder here the inside the item Builder I can actually once again create this one I'm going to put a semicolon right here and actually I get the data and displayed right here so to get the data I'm going to just say snapshot. data. docs and it will just give me all the documents back I'm going to just put exclamation mark right here and then I will store it inside a variable called short videos or short video Maps the next I'm going to just I want to take each of this short videos so I'm I can just uh take one of them so I'm going to just and actually you want to convert it into a short video model so I'm going to just say short uh video model this is going to be the data type the data type and then I'm going to name it short video and it will be equal to short video model. from map and the map here is going to be just short video maps and I will just take each of this indexes yeah and actually here I need to specify the data because I don't want it to be like this and I actually want the data so that should be all right let me just remove this so what I have done here is just like always I get all the docks here which is of course that the short videos and then I convert it into a short video model just like this and now finally I just want to return uh a short video tile which I need to create so I'm going to just do like this and later on I can just create that I'm going to just create a new folder called widgets and inside that I can create this short video tile just like always let me just import the material. create the St this wiget called short video tile and now I can actually import this and that should be all right and this short video to takes a short video model as parameter so I'm going to just create this short video model I'm going to just call it short video then I can generate Constructor for it and that should be all right now let me also give value to the short video which is going to be equal to short video okay now everything should be good and we can actually display the data let me just create this short video to and this short video to is going to be just each short video that you want to display it's just the actual video the title of the video and then the date publish that's all so let me just create it instead of this placeholder I can actually return a p padding and here I will have a padding from the top side and then the child is going to be just a column so now uh for actually displaying the video I need to convert into a stateful widget and then I need to initialize this video player and first of all let me in uh let me just create the configuration for using the video player package and first of all I need to import that let me just import the video player because we want to display a video and for creating the configuration for video player first of all I need to create a controller so I'm going to just call it short video controller and initially it will be it will not be equal to anything so then I need to also specify the data type which is going to be just video player controller and that should be all right of course it's not final then I need to create an init set because the initialization and configuration will be done inside this and set and I can just do like this the name of the controller is short video controller and that should be all right I just need to take this and instead of this thing I need to actually show the actual video and the actual video here is going to be just the short video which I take from the parameters let me just first of all use a widget short video and the actual sh video that should be all right and this is the actual video which want to display and now inside the column I can just say whenever the short video controller is initialized I just want to check if this is initialized let me also put an exclamation mark here and only in this case I just want to show the as the actual value so I'm going to just create an this aspect ratio the aspect ratio here is going to be just L1 to 16 and that should be all right and the child is going to be just the video player and the controller is going to be just short video controller okay so that should be all right right now if we if the data is initialized I want to display this but if it is not initialized I'm going to just return something like a size box okay so now it should be all right and then we also put a cons here actually I'm not going to do this inside here but I need to do it for the column okay it should be right here I'll put this and then like this and this should be actually right here now after displaying the video I also want to display the caption and also the DAT publish so let me just create a row and right here I can actually create a text and then uh here I'm going to display the caption so I can actually display the actual caption I don't need to give it a hard code and here I'm going to just use this uh widget. short video. caption and let me just change the text style here so I will change the style property here and the text style is going to be just the F size of 20 and also a f Way of Bolt so now it should be all right let me just give it a const and then after this text I also want to display the de publish so let me just give it one another text and here the de publish is going to be just short video and here just the de published and then that should be all right let me also just convert it into a string and just just one thing that remember for displaying the date published and for displaying dates inside this project I'm going to use a package called time ago so I have already installed it inside my ppml file let me just show it to you it's going to be just this package and using this I can actually display the dates very beautifully and you can also just install this and then you'll be able to do so I will just import this package and now right here I can use a class of this uh actually first of all I need to make this time ago as like this so I'm going to just say I will use this as time ago and then I will be able to use that time ago. format and here the DAT is going to be just like this let me just remove this because I should not use I should not convert into a string and right now it should be all right so now everything is actually done let me also to change the main access alignment inside this row and I will give it something like the space between and now everything should be okay now I have to do one last step and inside the list with. Builder I need to add the item count property and the value of it is going to be just equal to snapshot. data. dos. length and it's basically just the number of short videos that we have inside this collection now everything is perfect and let's check if it's working or not so I'm going to just run the emulator now let's sayest if it's working or not so I'm going to just click right here to create a short I will just choose this video and now I will be navigated to this page which allow me to actually edit this short video I can choose whichever part of this video that I want and this is the demo of the video and once I'm done with everything I can just click here done to export the video and once it's exported I will be navigated to this video Details page which inside I can actually uh write a caption to this video and once I click on this button it will be published to the fire database so let me just give it a caption and I will just write first short video and I will hit publish now this video should be published so let's go and check the Firebase console to see if it's working or not and this collection of shirts is being created or not so let's just check it on I'm going to just uh refresh this page so as you can see this new collection of shirts is being created and in this collection the first video and the first short video is just like this the caption is first short video this is a dead publish short video this is the actual video and also this is going to be the user ID which is starting with B4 EP and this is my current user and my channel so the video is uploaded successfully and I just need to show it in the UI and of course I have already created that uh sh video page as you can see this is going to be the page actually the name is short video page yeah this is the page and I just need to put this page somewhere so first of all let me just uh close all the unnecessary pages and now I'm going to just open the page list and in the second page instead of just this Center text to say sh I'm going to just put the actual page so the name of page is just short video page and I have to just import it and it should be all right now let's check it out let me just do a hard restart first so now in the second page it should be the all the short videos and as you can see this is going to be the short video this is the demo of the video and this is the title first short video and also this is the date published 4 minutes ago so everything is working perfectly fine and the last thing that I need to do here is first of all give a p to this dead publish and also the title and also I want to be able to open this video I want to be able to pause and also play this video whenever I click on it I should be able to play it so let's work on this first let me just open the short video tile and inside that I'm going to just give a padding to this row at the bottom I'm going to just drop it with the padding and I will just give it a padding only from the right side a padding of 10 and also from the left side again a padding of 10 so that should be all right and it should be good yeah this is great and let me also give it a padding from the top side I think it's also good and I will give it a padding of something like six and it should be great yeah and the final thing is to just be able to play this video so let me just come here so I'm going to just wrap this aspect ratio with a gure detector and on the on property I will create this logic that whenever I click on this if it's not playing it should play and if it's playing it should just pause so let me just use this short video controller do value and then I'm going to just say if it's uh playing actually I need to create this inside condition so I'm going to just say if this is the case let me just put an exclamation mark here and also an exclamation mark at the beginning and what does it really mean is that short video controller. value that is playing but it's not true it means if the video is not playing in this case only I want it to be played so I'm going to just say value. playay or actually I don't need to use the value and I'm going to just say play the video and else if it's not the case I wanted the video to be pause so I'm going to just say short video controller do pause okay this is done the only thing I did was that I'm saying that if the video is not playing it should play the video and in the else cases it means that if the video is not it means if the video is playing in this case pause the video now it should be great and if I come here and click on the short video it should start playing and when I click again it stops when I click again it start again so everything is working perfectly fine and we are done with the short videos now let's just work on the final feature for this project which is going to be the search feature and I also want to be able to and let users be able to search both video videos and also channels so this is going to be the last feature that I'm going to add in this project so let's create it real quick inside the features folder I'm going to create a new folder called search and here let me just find it actually I can create a new folder inside it and the first one is going to be for Pages the second one is going to be for the wigets and the final one is going to be just for the providers so first of all I want to work on the UI of the search screen so let me just create create a new file inside the pages folder called search screen and after I'm done with the UI I can just work on the functionality of actually searching videos and channels so let me just import material. Dart then I can create an status fidget call it search screen and just like always I'm going to just return a simple scaffold and inside the body once again safe area the child is going to be just a padding and I will give it a padding from the top side just like always a padding of 20 okay so I'm done now here and the CH of this padding is going to be just a column and I will create everything inside this column so first of all let me tell you how this page is going to look like actually I want to create a page and first of all inside this column I will create a row and inside that row I will have an icon button and just an arrow button then next I want to create a text field which inside users will be able to se for the both videos and users so just is going to be just a simple text field and the final one I'm going to just add a search button which whenever user clicks on them they will be able to search for the videos and channels and everything and of course after at the end of the column I want to show all the uh found items so let's just create them as I said first let's work on the UI so I'm going to just create it real quick as you already see in the video this is the page that I want to create so first of all let's have a row and inside the Row first of all I have this icon button the unpress is going to be just empty for now and the icon is going to be just an icon of Arrow so I have this Arrow back this is the icon that I use here and I will just use this to navigate it back to the previous pitch let's also put some cons here to remove this blue warnings and after this icon button I actually want to create a text field so I'm going to just create a text form field here and and first of all let's change the UI for this text form field so I'm going to give it a decoration and using the input decoration I will give it some Styles first of all the hand text I will just give it a hand text of something like search YouTube and I also want to give it a border so I'm going to just use the outline inut border class and in the Border site I can use this class to actually change the color of this body border of this text F so I'm going to just change the color to something like maybe blue okay that's all right now let me just put this class somewhere in my project so I'm going to just take the search screen and find this Pages list and for now I'm going to just put this as a first list because it it makes my life much easier to see the changes inside this page but later on when I'm done with this page I will put it as a third page after the long video and short video pages but for now it's going to be just okay and let me just to hard start that you can see the changes of this search screen and I'm going to also just remove on the all the an necessary pages so I don't need them I'm currently working on this search screen and as you can see this is the icon button and I also need to wrap this side this uh text from filled with a size box that actually I can see it so let me just wrap it to the size box and here I'm going to give it a height of something like 50 and also a weight of like 200 and this is the pitch I actually need to increase the width for this so I'm going to give it something like 200 2080 and that should be much better or 70 is I believe it's okay so this is what I got it now and I'm going to also decrease the height to 45 and I think it is better and that's all right I also want to give this a border radius for this text F and for now this uh UI for the text is going to be okay but at the end I'm going to change this a little bit but for now let's be okay and continue with this so here I'm going to just use a preu widget called custom bottom it is a preu widget which I have already created and of course if you have downloaded the starting project you have all of them so I now have to initialize some of the values like icon data on T and half color and everything the icon is going to be just something icon. search we have this from the flutter itself the on Tab is going to be just empty for now and Al the half color it will be equal to true so that's uh so this should be all right and I should be able to see the icon actually here and this is going to be the icon and I also want to wrap this with a size box to give it my favorite uh height and weight so let me just give it a height of 34 and also a weight of 65 I believe that is the correct weight let's just check it out so this is what I have created created so far and actually I want to increase the height and a little the width for this uh search button so I'm going to just increase the height to something like 39 and I hope this fits this and I believe this is beautiful and later on if I want I can actually change the UI for this pitch much more and improve the UI and the ux for this page but for now I'm going to just be okay and now let's create the uh search user tile widget because whenever I'm uh searching for users so I should be able to see some users and I need to create that uh widget so as you can see in the page this is the exact widget that I want to create right now so I'm going to create a new file called search user tile widget or search channel tile widget so I'm going to create this page first of all let me just import the material. dart and create an status fet I'm going to just call it search channel tile I'm going to just call it like this and then I can actually create this page so as you saw in the video this is the page that I want to create and we will have a circle aatar first of all we have a row I have a circle AAR and the next child is going to be just a column inside which I display the display name the usern name number of subscriptions and also I want to have a subscribe button which all user to subscribe the specified channel so let's just create it first of all I will have a row and inside the children first of all I want to have a circle Avatar and the circle of water has a radius of 40 or 45 and also I would give it a background color of gray and I also want to wrap this uh row with a padding because I need to have some paddings from different directions like from the top side and also from left and right s side maybe so first of all Let me give it a padding from the top sides and a padding of 10 so after the circle aat I want to have the next child to be a column and inside this column I actually want to create first of all a display name so let me just create a Tex and I'm going to just call it Ahmed amini this is my display name I also change a style for this and I'm going to just give it a f size of 17 and also a f way and the F way that I'm going to just use here uh I'm going to just use a Funway of w500 okay after the display name I need to create a username so let me just create one I'm going to just call it AD Sign Ahmed amini this is going to be my hardcoded username but later on I will actually give it the actual username that I have but for now let's work on the UI as I said so the text St here I'm going to just give it a color of blue gray and I also want to change the phone size to something like tur in I want to make it a smaller and after the username I want to create the number of subscription and it's going to be for now just no subscriptions and again I want to give it a color of let me just change the text style and I will give it a color of blue gray okay this should be all right and I'm not going to change the F size for now and at the end I just want to create a subscribe button so let me just create that one as well and it's going to be just a flat button as you can see the text here is going to be just subscribe the unpress is going to be just empty for now and the color is going to be just black I think it looks perfect okay this should be it and now I want to actually use this that I can see the UI for this one so let me just take this and inside the search screen uh right here outside of the row and inside the column I want to display it in inside for now I'm going to just show hard Cod it I don't need to use any stream Builder or list with Builder I'm going to just do like this and this is what I have created so far and I need to actually change it a little so let me just get back uh I want to make this circle aat is smaller and also I need to change the main AIS alignment for this row and the main AIS alignment is going to be just something like space let's use a space around or maybe I should give it a space m or that's not looking very nice so I'm going to just use a space between and right now I also want to give an spor at the end of this row that makes that brings this column to this right here so at the end of this column or I should say at the end of the row I want to have a spacer ret yeah so let me just create an spacer here and now it's like here and I also want to give a padding to this column I'm going to give it a padding from the left and also from the right side so I will just give it a padding from the right side a padding of something or maybe from the left side ping like 20 and that should be all right or let me give it something like 35 and or I believe it should be 45 so for now it's going to be guess okay and I love this so I also want to change the radius for this circle aor and I I just give it 40 and this should be perfect for this thing and also let me just change the uh pading I'm going to also give a padding to this Row from the left side and a padding of 10 and that should be perfect so now I have this I also want to change the UI for this subscribe button and I need to make uh make this subscribe button to have a little smaller height and also I will widen this button so I'm going to just need to to wrap this flat button with a size box I will change the height to like 40 and I also want to give it a v so let me just give it a v of something like 80 and that should be perfect or I should increase it to something like 130 or 20 is okay as well or maybe even 10 because that looks perfect and now I also want to give this a size box to this subscribe button from the top side and I need to create a size box here and I will give it a height of like eight from the top side so that should be okay so now I have this and the search tile user widget is perfect and that is the way I want to and again if I want to improve the UI for this I can do it later on but for now let's be done with the UI and let's work on the logic for so first of all let's create the providers and inside this search and providers I'm going to just create a new file called search providers and here I need to actually create two providers one for the videos and also the next one is going to be for the channels so I'm going to just create both of them so the first one I'm going to just create call it all channels provider and using this provider I just want to get and retrieve all the channels POS possible inside this project so it means all channels or all users and let's create this simple provider and now I want to get back all the channels and to get the channels it's really simple it's not a big deal I can just use the Firebase fire store I'm going to just do it manually myself I don't need to use any provider or anything right here I'm going to just create an inance of Firebase fire store then I'm going to go inside the collection of users then I'm going to just get back all the channel and users inside this project of course I need to make this in and await this method now I'm going to just store this inside a variable called users map and this should be all right now I want to take each of the users from this users map so I'm going to just say users map and of course it's an iterable and then I can get all the docs of course now it's a list of variables and then I can use a method called map and this map just give me back each of the user so I'm going to just call this user and now what I want to do here is to actually use the user model and here I'm going to use a method called first of all let me just import this here I can use a method called from map and using this from map I can take each of this users and then I want to convert them into a model of user model and Fin finally at the end I want to convert everything into a list so let me just explain what I have done here first of all I will put some comments here to refer my deod what actually I have done here is first of all I took uh I went into the collection of users and restored them all inside a variable called users map and then I took docs and using this docs it means all the channels or all the users and then I use the map method to take each of the user from this collection from this list and then I convert them into a user model because I need a user model and not a map and then I finally convert everything into a list the result is going to be just a list of user models and I'm going to just call it users so that should be all right and finally I want to return this users and it's going to be just the return of this provider I exactly want to do the same for a video so let me just take this and copy one more time I'm going to just call this one all videos provider and this time I want to go inside the collection of videos and get everything and I'm going to just call it videos map then I will take each of this videos map I will have the docs and I want to do a map method here I will call it videos and of course this is going to be a a list of video models now I want to take each of the video and here I'm going to just use the video model and here let me just just Chang this to video and also here I'm going to just return a list of videos so now I have two providers one for the videos and one for the channels and using these two providers I can take all the videos and all the channels right here now let's get back to the search screen and here I can display all of them using a list. builder so first of all let me just create an expanded widget and the child is going to be just a simple list view. Builder and let me just tell you how I'm going to do this here we have the item Builder and that should be all right and I also have an item count and actually the way I want to create this uh first of all I will convert this St vet into a St vet and then inside this that I can create a list and this list is going to just called found items and for now it's going to be just empty and this found items is basically all the items that I have found all the videos in channels and everything all of them are going to just be inside this found items list so now let's get back to the list with that Builder here the item count is going to be just found items do length because as much item that we have right there it will be the item count for this list with that Builder and right here I'm going to just display all of them but before that I need to create a meod to filter the list because actually I don't want to just display all the videos or all the users that I have in the project I just want to display all the videos or users that the user have searched let me just explain myself I just want to display the searched or a specified users and videos based on what users have searched so for example if they search ah all the videos and channels that have this specific keywords they will be appear into the page so not all of them and for filtering the list I need to create a method here and I'm going to just create after this variable and I will just call it filter uh list okay this method is going to be just a syn I believe and I will just need to create them first of all uh I need to change this stateful widget into a consumer stateful widget because I need to use the providers that I just created a moment ago let me just import this and take this consumer and I will put it right here and also right there now I can use this refi to connect between different providers that I have and here I want to just first of all get all the channels that I have so I'm going to just use this all channels provider so now first of all I'm going to just get all the channels and as you know the result of this provider is just all the channel or I can just say as the result is a list of user models and I can just call it users let me just import this and that should be all right let's see what's wrong here and I also need to await this so now I have the users but I as I said before I don't want to display all the users I just just want to display a specified users that user have searched the specified users not all of them so for doing it I can actually create a condition I'm going to just say users and then I will use a method called where and using this where I can actually create a condition to say this element each of them is going to be just a user and here I want to create a where it means which users do I want to display and I'm going to just say each of the user that has actually a display name so I'm going to just search the users based on their display name and I'm going to just say user. display name do to string do to lower case so I will get the display name of the user and then I'm going to just say if it contains what I want which is going to be just the keyword that the user has just searched and I need to do it using a parameter so I'm going to just say keyword selected and I will just create here and I'm going to just say string keyword selected I will just uh fill that as parameter so if the display name of the user I going to convert it to string and then to ler case and if it contains if it contains the keyword selected in this case only I want to convert that into a list and do that stuff so I'm going to just say in this case I'm going to just convert it into a list all the users that has this condition I'm going to convert all of them into a list and finally store it inside a variable called found channels this is going to be the found channels and I can actually do the same for the video as well so let me just copy it one more time and in this case I'm going to call it found videos and I'm going to just map or fear and I'm going to just go through each of the video here let me just rename this to video and everything I also need to actually return something here so this should be returned here and also here and everything should be okay right now so these are the found channels and also these are going to be the found videos and here inside this method not outside I want to create another list which I'm going to just call it result and again it's going to be just empty for now okay so now I have this result and what I want to do is to add all the found channels and videos inside this result so I can just say result and then I'm going to use add and also I have this at all and I'm going to just use at all because I want to add a list to this result and here I'm going to add all the found channels right here so if you don't know and if you happen to use this at all it's actually a method that you can add a list into another list so what I'm doing right now is I'm adding a list of found channels into the list of result and I can just do it using this add all and actually I can do the same for the videos so I'm going to just say result. add all and I'm going to just add all the videos right here and at the end I'm going to just use a set set and inside the set set first of all I will Shuffle this list of uh result so let me just use the shuffle method it's going to just uh randomize all the items inside this rist of results because I don't want to be I don't want it to be a specific or for example first of all videos channels I want it to be shuffled and at the end I'm going to just add everything inside the list of results into this list of found items so I can just say found item should be equal to result and using this everything inside the result will be inside the found items so right now this list that I just created uh at the beginning this list of found items it has all the videos and channels so I can display it into this list with that Builder that I have created and actually I want to create another list inside list with Builder and it's going to be just a list for the widget because this found items is containing models it's not containing widgets but I need to work with the widgets and not models so I'm going to just uh create this list and I can just call it found you know items yeah this is the name found items and of course it's going to be just once again empty for now and here what I can actually do so this list of found items is going to just contain all the wigets into that list and as you know I have this found items and if I use the index inside that it means that each of this uh which I'm going to just call this variable uh something like selected item and what I mean by item is that it's not uh specified whe whether it is a video or a channel that's why I'm going to call it selected item so now the selected item is whether a video or it can be maybe a channel so now the final part is going to be just I need to create some conditions to see if it's a video or if it's a user and if it was a video I'm going to add a post or a video into the list of found items and if it is a user I'm going to add that one uh the search user tile widget into this list and if you wonder how can I do it I can do it using the type fill that I have created inside both users and also videos and as you remember from the previous that I told I need I needed to create this type and if you wonder why I need it so I need this type to specify whether it's a video or a post and of and of course I have created this inside each model of video and also channel so now I can create some conditions to say if the selected item do type this selected item the type if it is equal to a video in this case I want to add that video into the list of found items but if else if the selected item. type is equal to user in this case I'm going to add that user inside that list and for now it has this type uh it gets some error and maybe I should not make it funnel let's see what's wrong here and now the errors are gone and actually I have some typo here I have renamed two lists the same this found items I have here and also I have this found items there so I need to change this actually I'm going to keep this widget data type but I need to rename this I'm not going to call this found items but I can just call it items widget it was just uh some renames that caused this error so I can just call it items wiget so now back to what I said if the selected item the type is equal to a video I want to add that video to the list and if it is uh user I want to add the search user tile widget that I just created now into this list of items widget and let's just do that and also I can create other you know conditions as well that if for example this list is empty what I should happen for example if the list of found items is empty and this case for example I just want to return a size box but for now first of all let's add the video and also the user to the list so first of all I'm going to make this condition that if the selected type if this selected item it's a video all you want to add a post or a video into that list so I can just say in this case the items widget list do I'm going to just say add and then what I'm going to add here is going to be just the post widget that I have created and here I just need to give it the video which in this case going to be just the selected item so now it should be all right whenever it's a video I'm going to just add this post which you know it's the thumbnail and everything of the my video to this list of items widget but if it is a user in this case the list of items widget I will add a search user tile widget search Channel tile so this is what I'm going to add if it is a video for now I can just give it a const okay so let me just explain what I have done here I have a list of items widget of course it's a data type is a widget so it contains widget inside this list the next I have created an index for this final items it means that this selected item is just every single item that I that has been searched it can be a video it can be a user and I have just created this recation that if this item is a video in this case I want to add that video to that list of items wiget but if it is a user in this case I want to add that user to the list of items widget and if it is empty I just want to return a sized box and finally when this all conditions are done I'm going to just return this items widget but at the index number zero so if you wonder why I do need to use this index number zero because it is exactly what I need to do here and every time the list V that Builder rebuild itself it gets a new index and at each time the index number zero which is going to be the first item will appear and when I do that you will see that it's completely working and it's correct so at the end I'm going to just return the first item of this items widget list and that should be perfect now let me just use this method of filter list somewhere and the best place for doing it I believe is going to be just a inside the unchanged property for the text field me just find this text fi here I have an unchanged property and if you wonder when this metod triggers every time that I release a key on the keyboard This whenever you type something inside this text fil or you release a key this unchanged method will be triggered so I believe this is the best place because whenever a new character or a new key is released I want this filter list to be triggered and change the items so let me just use this filter list method here and the keyword selected here is going to be just it can be the value yeah I don't need to use any controller and I'm going to just do it using this value that I have here so this filter list should be a future let me just specify this that the result of this method is going to be just a future of void because I'm not returning anything and also I want to this me make this method a and aoid this so now this should be all right and it should display everything let me just do a hot restart okay so right now if I search for example a as you can see it's working now I can see this this is going to be the first user and also this is going to be the second user and I hope it's perfectly okay actually it's not okay because I haven't give it the actual value inside the search tile widget so for now as you can see this is just a hard C it but it's not an actual value and I need to give it actual value so I need to create that and here I can give it actually a user model because this is what it needs and I'm going to just call it user now let me just generate Constructor here and now I just want to take this user and put it where it needs also I need to put some cons here to remove this blue warnings first of all I need to give it a background image the circle AER and of course I need to display the port picture of the user who is displaying here and for D get just like always I can use a cache Network image provider and here I can just say user. profile picture the next one is going to be just the display name so let me just remove this hardcoded text and then instead I'm going to use user. display name and put accounts here the next one is going to be for the username it's user dot actually username and accounts here the next one is going to be just the number of subscriptions and here I can just say user do subscriptions. T string for now it's going to be all right and everything should be okay now inside this search screen I need to give a value for this search tile um search channel tile and it wants a user which is going to be just the selected item here so I need to just give it the selected item because this is what it takes now let me just do a hard to start and it should be working so if I search here something like a maybe it gives me back yeah this is going to be the channel and also this is the second Channel but I don't know why it's giving me back the same channels it should not be doing like this so we got some errors here and let me just find out what's wrong here actually I had some errors here which I just need to solve right now and first of all is that I have created this provider all channels provider but I haven't used actually the provider for the videos and as you can see I have used here the users any set of videos and I need to do like this videos and now let me just create the provider for the videos as well I mean I have to use this provider as well so this is going to be just a list of video models and I'm going to just call it videos and here I can just use ratch and here I'm going to just use all videos provider and that should be all right and of course I'm going to just await this method as well now I have this videos and instead of working on the display name I need to work under the title in terms of channels I want to I want to search on its display name if the keyboard selected is inside the display name of this specific Channel but in terms of videos I want to check the title if the keyword selected is inside the title of this specific video and now this should be all right and one other mistake that I made inside the list F the Builder I don't need to use else if I just need to use if and again right here I only need to use if instead of lse if because that's going to give give us some error and now everything should be just okay let me just do a hot rest start and now if I search for example for a as you can see I get one channel called Ahmed amini and also I get this video first video on the platform for example if I add H you can see the video disappears but I still I can get this video so everything is working perfectly fine so now that we are completely done with a search feature and as you can see I can search any user in video for example I search ah and as you can see all the channels or videos related to the my search will appear on this list for example right now I'm getting this Channel ahmar amini and for example right now we have arol M and all these channels and also videos so the search feature is completely work working perfect but now I want to just go one step further and what I want to do is whenever I click on a channel for example this mik acman I want to be navigated to this profile so when I click on mikar acan I should go to the Mikasa AC's profile and as you know I have already created this user Channel page and up to now I only have the UI but now I want to give it the actual value first of all I need to convert this status widget into a stateful widget and then I can just create a user ID so I'm going to just create this string user ID and using this user ID I can get the actual user of that a specific channel so I'm going to just generate Constructor for it and also let me just put a cons here to remove this blue warning so right now everything is perfect and I can just use a provider called each user data provider which I already have created inside the out feature and of course you should be familiar with this and using this any user data provider I can get the data of the channel which I have clicked on so let me just uh come here and here I just want to create a consumer widget and I can just get all the data using that so let me just copy this uh column I'm going to take this whole column and cut that make sure to just cut this column and here I can just create a consumer widget here I have a builder and here I can just use this ri. watch and here the method I want to use is that any user data provider and of course here I need to have a user ID which I can just say widget. user ID and it is the user ID that we get from the parameter and here we have this when that it can of course you're just familiar with this uh we can handle different conditions whether we have the data whether we have the error or loading first of all if we got the actual data I just want to return everything that I have and the next of course if you got any error I just want to return the error page and if you got uh if the data is loading I just want to uh show the loader pitch so that's all right now let me just show the actual value because using this any user data provider result of this method is going to be a user of course type is user model if you wonder which user is this it's based on the user ID that we give and right now that I have this user ID I need to go to the search screen and what I want to do is whenever I click on a channel so let me just come to this search channel tile and I want to just wrap the whole thing with a G detector and into the onp property I just want to I just want to make sure that when someone click on this specific Channel they should be navigated to that profile so I'm going to just create a navigation here and here I'm going to just return this user Channel page and of course as you can see it takes and it wants a user ID and the user ID is going to be just this user. user ID the one that we are getting from the parameter so everything should be all right now let me just get back to this user Channel page and here I just need to fill out all the data so first of all I need to give it a background image of course it's going to be the perfect picture so I'm going to just use once again the cach network image just like we always use and the URL is going to be just this data I'm going to just call this user because it is any user that uh we have clicked on and the profile picture is going to be just user do profile P now let me just remove this const and that should be all right the next let me also fill out the display name and it's of course just user. display name and again remove the const and put it here the next one is going to be the username and again that's going to be just user do username and remove the and put it here so I'm going to just do that for all of them and for example the number of subscriptions and instead of this no subscriptions I want to give it the actual value of number of subscriptions here so what I can use here is it should be user actually let me just put it inside the string and here I'm going to just say the value of it is equal to user do subscriptions. length and I just need to remove this cons and this should be all right and right now we are just getting the user. subscriptions. L and here I'm going to just say subscriptions and of course I'm going to just do the same for the number of videos as well so let me just copy that and paste it here and in instead of subscriptions I'm going to just say videos but it does it doesn't need a link because number of videos is an integer inside my model it's not a list so that should be all right and also let me just have some distance here and that should be all right so right now we're done here and of course I don't want to have this Boolean as I said before this Boolean was just temporary because I didn't have the actual value I just created this but now that I have I don't need this bullion anymore and I can just use the actual value of the videos and actually I need a new whole provider to show the value so let me just uh go back to show that this Boolean for now this should be all right but later on I'm going to just change it before that I will show you how this channel this page is going to look like so that should be all right also let me just return this one so now it should be good and let me just check it to you whether it's working or not and if it was working I will work on the videos as well so now when I click on this rmen arlet for example when I click on it as you can see I navigated to this arm in arlet profile this is the display name this is the profile picture username number of subscription and also a number of videos so this should be videos let me just change it real quick this is going to be number of videos and of course it says that for now it has no video so I'm going to just change right now so it's working as you can see we get the data of this specific Channel but now let me just show the videos of this specific channel so how can we do that as I already told you uh I'm not going to use this uh Boolean because it was just temporarily but now I want to use the actual value to see if we have videos or we don't have any video actually I need to create a new provider as I already told you so let me just create that one as well and I can create this provider anywhere I want for example I can create that right here so I'm going to just say this is for the provider and here I'm going to just create channel provider so here let me just create this I'm going to just uh call this provider something like each Channel videos provider because I want to get all the videos of a specific Channel using this provider so this should be all right and of course I'm going to just use a simple provider just like always and let's see how we can just create that one here I need to go first of all inside the collection of videos but actually I remember I don't want to use this provid I actually need to use a future provider because for need to get the value I need to use the VIN method again and that should be the perfect provider and instead of a simple provider I can use the feuture provider or I also can use the stream provider but here the feuture provider is perfect so here I need to go inside the collection of videos because I want to get all the videos of a specific channel so I need to go inside the video collection so let me just go first of all uh Into the Fire firer inance so I just need to create an inance of this Firebase fire store and then I can go inside the collection of videos and then here I just want to create a condition to say if the user ID because as you know I have a field inside a video collection called user ID and then I'm going to say if the user ID inside that video is equal to the user ID that I want to take from the parameters so I need to add this user ID as parameter and here of course this feature provider is not going to be just a feature provider not a simple feature provider but I'm going to just use the keyword family and now that should be all right so now I'm going to just say uh I create an inance of Firebase fire then I go inside the collection of videos and where the user ID is equal to this user ID that I take from the parameter in this case I want to get everything from this collection so now I need to store this inside a variable called videos map and now I got all these videos and now what I want to do is to just convert this list of videos into user model into video model actually so I can just say videos map and then I can use a method called first of all I need to go inside the docks of course uh I need to make this aist because of course it's a future provider I need to make this iniz and now it should be working perfectly so now inside this video map I can go into the docs and now I have all the videos and I can just call it videos okay I'm going to just call this videos and then I can go into the videos and then do the map and map means I can get each of this video and then I want to convert them into a video model so I can just say video model and then I will use the from map and the map is going to be just a video. data and finally at the end I'm going to just convert everything into a list and here this is going to be a list of video model so let me just so when I convert everything into a list I get this videos back and here I need to call this one so I'm going to just say final list of video model and I can just call it video models and that should be all right so now I have this video models and I can just return this video models okay perfect now I have this video models and this videos are going to be the videos of a specific Channel because everything is in this condition that I have created because I'm saying only on only and only I want the videos which the user ID is equal to the user ID that I take from the parameter so now that I have created this provider I can actually just go back to this user Channel page and here I can actually show the videos of this specific user and for doing it as you can see in this pitch I already have this first consumer bdet and using this consumer Viet I just get the user data of this specific user but I need to actually create a second consumer vget so let me just take this first one I'm going to just uh take the first consumer widget and I will just take it out and first of all I want to have a column inside this column I can have this consumer widget and and also right here after the first consumer vet I want to create another one so let me just write a comment here to say second consumer viget and using the second consumer vidget I can actually show all the videos of this specific user that we are in in the channel right now so I'm going to just create this uh consumer vidget and it has a builder now I can actually use this riat and the provider here is going to be just each Channel videos provider and I have to just uh initialize this user ID here which is going to be widget. user ID and now I can actually use this win method and now I can have uh based on different scenarios I can actually handle the data when I have this data when I have an error or when the data is loading so you're already familiar with this stuff so it should not be hard for you if the data is loading I'm going to just return a loader just like always when we got an error I'm going to just return this error page and when we have the actual data in this case what I want to return is uh let me just show it to you I have this right here let me just take this padding up to right here I'm going to just delete the rest of it I don't need it for now and I can actually show this inside the data so this should be good let me just put a semicolon here and everything must be good let me just see where is this error actually I need to return this and now everything should be good so basically I just want to display all the videos inside the second consumer widget so inside uh this column I have two consumer vets let me just uh uh walk you through it so what we have done inside this file I have a column inside that I have two consumer widgets inside the first consumer widget I just want to display all the user data like profile picture display name and everything and inside the second consumer vget I want to display the videos of that specific channel that we are in and we are clicked inside it so this data is going to be just the videos all the videos inside this Channel and actually I can just display all of them using a grid view. Builder it's a prebuilt widget that we have inside the flut SDK and actually I don't need this no video uh and I can just take it out and instead of the that I can display it using a grid view. Builder so now inside this grid view. Builder we have to required parameters this grid delegate and also the item Builder the first parameter of grid delegate is just something uh related to the UI so this is going to be uh what I use here the cross AIS count of two the cross AIS spacing of it and also the main AIS spacing of it this is something uh related to the UI and also I have this item Builder here and inside item Builder I can actually display the videos using this uh provider that I have just created so let me just do that real quick and what I can do is actually say if I want to just create a condition here to say if the videos is not empty in this case I want to just return a post here and the video here is going to be just videos index so that should be the video all the videos inside this specific Channel let me just reformat The Code by putting some comment here and now I think I can actually run the project to see if it's working or not and here I also need uh the item count property which it just it just tells us how many videos do we have here and the and it's going to be just something like videos. link so that should be good and here uh it just needs to return something here and I've I've just said here that if the videos is not empty so if we have some videos here I just want to return this post and in other cases I'm going to just return a size box means nothing so now this should be good and let me just uh run the emulator and also the project to see how does it look like and if it's working or not and also before running the emulator let me also uh do something here I actually want to take a I want to wrap this gv. Builder I can wrap it with a size box and I will just give it a height of something like 80 I hope that is the perfect size for this great V do Builder and now I think everything should be good so let me just run the project good the project is run and let me just test it out if I search your ah it should bring all the searches and all the results here and when I click on the second one Ahmed amini so this is the videos of this user this is the data and also this is going to be the videos and it should be working fine and this should be good now let me also do something else here and inside the first consumer vet I want to display uh some text so let me just uh create them first that you can understand what I mean I want to create a condition here so I'm going to just say user. videos do is empty or I can just say if the user. videos is equal to zero it means that the user has no video in this case I can actually display a t to say no video this user doesn't have any video but if the user has any video I just want to display a text to say this specific user I want to have the display name of this user so I'm going to just say user do display name and I'm going to just say here videos so this should be good let me just put a cons here and I also want to wrap this text with a center widget and what actually I'm doing here is to have a condition to say if this specific Channel doesn't have any video I just want to display a text to say no video but if it has any videos all you want to say okay the videos of this specific user I just want to display them and in the second consumer vet I can actually show the videos but in this uh part I just want to say okay uh this is going to be the videos of this user and let me just take this and I need to display it after this flat button not before it so let me just put it after this flat button and now it should be good let me just check it out if it's looking good or not and as you can see this is the text that I have created it looks like this Ahmed Amin's videos it's good I just need to uh change the text style of this and also its position so first of all let me just change the styling of this text the text style here I'm going to just change the font size to something like 23 and also I will give it a font way of Bol and this should be good about the text style let me also change its position by giving it a padding so I will just wrap this text with a padding and I will give it a padding from the left side a padding of 10 and also from the top side a padding of like for in and I hope this looks good so it looks like this videos and these are going to be the videos and when I click actually on this videos it will be navigated to that a specific video so everything is perfectly working great and these are the videos and actually I just want to display the thumbnails not all this information inside that post like we also have have the display name we have the dead population we have a lot of things inside this post but I just want to see the thumbnails of this videos and when the user clicks on them they should be navigated to that specific video and I also uh let me just change the text sty for this one I will give it a style and again I want to give it the same text style that I have for this one so let me just copy this and paste it right there F size of 23 and also F we of Bolt that when we don't have any video it should display a text to the user that there's no video inside this channel so this channel has not uploaded any video and now it should be great so this part is great and now I can display the videos of other users other channels but I also want to display videos of my own channel so how can I do it let me just open that my channel and inside my channel screen I also want to display my videos let me just put some cont here where should I actually put this videos actually when I click on my profile right here so this is inside the account page and when I click right on my profile I want to be navigated to this my channel page so let me just create this one as well uh inside the account page when I click on my own profile which is going to be just this row I think this row contains all this stuff or it should be this column yeah uh I'm going to just wrap this column with with gesture detector and in the on property I'm going to just make this that whenever someone clicks on this profile this column they should be navigated to this my channel page so I'm going to just create a navigation here and I'm going to just return my channel screen so this should be good let me just put some commas here to reformat the code and now when I actually click on my profile I should be navigated to this my channel page and that is is great so this page is already made and I just want to display my videos inside this page as well uh let me just go into through this my channel page and where I actually uh where I can actually put my videos it should be inside this top pages and actually I can create a whole maybe a whole new page for that because for now as you can see we are only showing some pages uh some vide like text Home Videos short community playlist Channel about but I don't want to have this and basically instead of it I want to have some actual pages so instead of this uh home the first one I want to have an actual page to display my videos inside that and inside my channel the parts I can actually have or maybe inside the pages yeah here I can have home page I can say home Channel page let me just UT the material. dart create an inad this fidget and I'm going to just call it home Channel page so that should be all right and right here I'm going to just create an scaffold maybe it's necessary or maybe not maybe I remove it uh so let's see how it does it look like and inside the body I can actually show all the videos so I can just copy everything from the previous example inside the user Channel page I have a second consumer wiget and I am sure that I can use the second consumer fdet to display all my videos inside my channel as well let me just take this I'm going to just copy and paste it right here of course I'm going to need a lot of things here first of all let me just import this post the error page and also the loader and basically I can also import this one and this FL River pod actually what I really need here is a user ID and the user ID here is going to be just the current user ID so I can just create an incense of Firebase OD and then the current user and the U ID because the user ID of this one is going to be my own user ID because we are working on my own channel page and all the videos of this one is going to be all the videos when the user ID is my own user ID that I'm currently signed in with uh let me just see what is the error right now and let me just remove this and this should be good so now let's do a hard rest start and before that let me just put that page right here this home Channel page and let's see if it's working or not and actually as you know I don't have any video inside this uh account I haven't uploaded any video with this account so I can also make a condition here I just remembered I can make a condition that do we have any video inside this page or not if we have video we are going to just display the videos but if we don't have any video I can just display a text to say no video inside this collection I don't know if there is any way to do it actually of course it is we have this videos and I'm going to just create the condition right here to say if the videos. length is equal to zero this means that we don't have any video which in this case I'm going to just uh return a text to say no video but if it is not the case it means we have video and in that case I'm going to just display all the videos we have let me just wrap this one with a center widget and put a cons right here and also I'm going to just change the text style for this text and I'm going to just give it a font size of 23 and a f Way of both so let me just create that the font size is going to be 23 and the f Way is going to be just a f Way of Bol everything should be perfect now and as you can see I get this no video because we don't have any video inside this channel so I haven't uploaded any from this Channel and now everything should be good and we are able to see the videos of my own channel and also other users Channel now that we are almost at the end of this tutorial I want to just make the UI and also the ux in some of the pages look a little better so so I'm going to just uh work on the UI first of all let me open this account page and as you can see this is the UI for the account page and it's really not looking very nice so let me just change some of this stuff here first of all I can remove temporarily this icon button and also I can just take out this circle aor and put it inside this row this is the perfect place for the circle aatar and this is what we got up to now I also want to wrap this row with a padding so I will give it a padding from the left side a padding of 20 and also I uh I can give it a padding from the top side and this is what we get up to here and also I want to bring this username to the start of this column so I think I can just uh give this uh column a cross axis alignment and this should be a start that is good and and also after the username I want to have a text here so let me just have a text here to say manage your Google account and this one I wanted to change the text style so I will give it first of all a color of blue and maybe a f Way of w500 yeah this is what I got here now let me also change the username I just want to give it an add signed at the beginning this is the username let me just take this and I'm going to just do like this and here just before it I wanted to have an add sign now it looks like add sign text so whatever the username is I want it to be add signed that username so that should be good and now let me just give it a padding from this to bottom side as well to this row so I'm going to just give a padding to this row only from the bottom side and I will give it a padding of ter so I wanted to have a great distance here and this is what we get actually now let me also give a padding to this items as well and I will give it a padding of maybe 20 so I'm going to just wrap this items with a padding and I will give it a padding from the left side and it should be a padding of 20 this should be good and this is what we get and also after this items I also want to add another text that we actually have in YouTube so I'm going to just add a text to say privacy policy dot terms of services and let me also change the style for this text I will give it a color of blue gray a font size of 1.5 and also a way of w500 let me just put some cons here to remove this blue warnings and this should be good and actually this is what we got up to here and before that I just need to have a spacer and also I need to wrap this text with a padding to give it a padding from the bottom side and it should be pading of 12 that is great now this is what I got up to here I have this uh information at the top side then I have this items and then I have this text also let me just give it a distance between this profile picture and this information so let me just create a size box between these two after the circle aor I can have a size box with a weight of like maybe five and this is what we get up to now so this is going to be our account page and right now it looks much better than the previous one and also I can actually remove the font wave for for this manage your Google account text let me just remove this phone to and this should be better so this is going to be the final one and when I click on it I navigated to this my screen page and everything is great so now I also want to work and improve the UI of the search screen as well the screen that right now I'm in and basically I can just change this text field and make it more beautiful and fancy so let me just open this sech screen and right here let me find the text field so here I'm going to just uh make this text field look a little more beautiful and for doing it I can do a lot of stuff here first I just need to change the color to gray color with a shade of 200 let me just remove this const and everything should be good and also I want to add a border radius to this uh border so I'm going to add a border radius here a border radius from the all sides it should be circular and I will give it a border radius of 18 I want this uh text F to have border radius as well and now I can just copy everything from this border and I'm creating some more border like Focus border also enabled border so I'm going to just copy the to this ones as well and the fil property will be true because I want this text field to have color so this is going to be the color of this text field and also the content padding I want it to have some padding from the top side uh I mean from the left side a padding of Daring and also from the bottom side a padding of 12 so I want it to be the padding and also let me put some commas here to reformat the code and I also want to change the hand style for this text field so I'm going to just give it a text Style and here I can change the font size to like 4 in and also the font weight to w500 now this should be good let me see it right here and this is what we got up to now let me also change the width of this to something like uh 295 actually it's a lot so let me just give it something like 280 or maybe it should be 275 and and also basically I also want to change this uh icon at the end as well so let me just find that the search button I want it to have a BD of something like 50 I want it to be a little smaller actually something like 53 should be good and I also want to increase the height to 43 or I should make it 55 I think that looks good and I also want to change the height of the size box to something like 43 I want it to be a little smaller and now I want to change this WID to 279 and I think that looks great and I also want to change the color of this one as well so I will change the color of this Arrow back to something like gray with a shade of 600 or 700 and let me just remove this cons and everything should be good so this is the new UI of this text f and I think it looks much beautiful now about the UI and the user experience inside this project I want to give you a final homework for the entire project I just want you to fix all the remaining stuff inside different files and different pages for example inside my home Channel as you can see I have zero subscriptions and zero videos so I want to make this condition that whenever we have no subscription it should be like no subscription and when we got no videos it means it's zero videos we should have a text to say no video so something like that I want you to do all this stuff inside different files and pages and just fix all this box this small box and this is going to be your final homework inside different files and different pages I have some hardcoded dat publish as well so I haven't had uh the actual value so I want you to give them the actual value and also use the time ago package to create an accurate uh de publish for all them so this is going to be your final homework to just solve all this small box inside different files and different pages and now I'm going to just work on the last feature here and it's to have the subscription The View and also the like feature actually before that let me just work on one other feature and it's going to be the feature of first comment in every video so when I open a video in this box right here all you want to have the First Command displayed and for doing it I need to create this feature inside this uh as you can see here I have this commment box and right here I have this container and inside this container in the child property I want to create a consumer widget inside which I can just display the first comment in every video so I'm going to just create a consumer widget here and inside the Builder I can actually create this functionality and actually before that for displaying the comment and the first comment inside this video I need to have a comment provider so uh inside the content here inside the comment folder I can create uh a comment provider and inside this provider that I'm going to just create right now I will be able to get all the comments and later on I can display the first comment inside that box in the video so I'm going to just call this uh comments provider and it will be equal to just a simple provider and here I can do everything right here so here first of all I'm going to just create an inance of Firebase fire store and then I'm going to go inside the collection of comments and here which comments do I want to get I need to use this where method to get a specific comments because I just don't want to get all the comments inside this collection because there are a lot of comments I just want to get every comments in every single video so I just want to do this and for doing it I need to say I just want to get all the comments where the video ID is equal to the video ID which I'm going to just take as parameter here maybe I should not create a simple provider or I should have of course I need to have a future provider not a simple provider so I'm going to create this feature provider and it's not a simple feature provider it is a feature provider. family because I want to have a parameter here which is going to be the video ID and let me just explain to you once again that what I'm doing here I don't want to get all the comments I'm going inside the collection of comments and then I'm saying okay uh inside this collection I want to take all the comments where the video ID is equal to the this video ID that I have and of course I will initialize this video ID right inside the video file and finally I'm going to just get all this comments let me just make this method as this and also await this and right now I get the result of this should be something like comments map but actually I don't need map and I just want to convert them into a comment model so for doing it I can just take this comments map and then I go through all the docks inside this comment map and then I can use the map method which give me access to all comments every single comment inside this list and then I can con conver them into a comment model so I'm going to just say comment model. from map and the map here is going to be comment do data of course you should be familiar with this because we have done it a lot of times and finally I'm going to just convert everything back to a list and of course the result of this is going to be a list of comment models first of all let me just put some comments here to refactor the code and here I'm going to just specify that the result of this all of them are going to be a list of comment model which I can just call it comments and finally I just want to return this comments from this provider so this is going to be the provider I have this feature provider that family which returns a comments and of course it takes as a parameter this video ID now I can just get back to the video inside this consumer widget I can use the Riff to say riff doat and now I use this comments provider first let me just import it and I also need to initialize the parameter which is going to be the video ID I believe I can just say vget do video. video ID and now the result of this should be a list of video models but it's an async value so you should be already familiar that the result of this provider is not going to be just a simple list of comment moduls and it's going to be actually Asing value so I'm going to just say the result of this is going to be async value of a list of comment models and I can just call it comments and now I actually can use this comments to display the first comment here and here I'm going to just create a condition first and I will just say if the comments this is going to be a list is empty so uh yeah first of all I should say comments. value now I have the list and I'm going to just say if it is empty in this case I'm going to just return a simple size box let me just put an exclamation mark here and now it should be good but if it is not empty in this case I'm going to just return a vget that I have already created and it's called the video first comment in this case I'm going to just return this video first comment and it is a vet that I have already created inside the starting project you can access this widget let me just uh go inside it and here you can only see a column inside B I have two rows the first row says this text comment and also it has a number of comments that we have inside this video and in the second row I have a circle aor inside which I show the guy who just uh posted that comment and also I have the actual comment the actual first comment on that video so here I need to create a parameter and it's going to be a comment model because I want to display that first comment and I can just call it first comment actually I'm going to just call this first comment let me also import this comment model and also generate Constructor now I have to initialize it inside this video and it asks me for a first comment and this first comments is going to be just the comments in index number zero so this is going to be the first comment actually first of all once again I need to use this value and then I can get the first comment here now it should be good let me just get back to this video first comment and I have to just initialize this first comment here we have the numbers and here I can just say first comment actually maybe instead of this first comment I should just get the whole comments yeah I think that's a better idea because as you can see here I also want to display the number of comments that we have inside this video so for ding get I need to have the whole comments not only the first comments so let me just change it back to the comments and this should be actually a list of comments a list of comment models and instead of first comment I can have the comments and here I can just say I want to just uh initialize the whole comments not only the first comment and here I need to change it to comments now everything should be good and I'm going to just use this comments and here I can say comments. length is actually the number of comments that we have inside this video this is a hardc text and I don't have to change it uh the next I also want to display the profile picture of the guy who just posted that comment so for ding GE I actually just need a user model or I can just take the perect picture but I prefer to have the whole user model so I'm going to just say user model and I have this user let me just generate Constructor for it and I also want to have this the value of the user should be only this user this user that I have it right here so let me just initialize it I'm going to say the user will be equal to user I should say user. value and inside this video first comment I can just initialize this background image here and the background image which is going to be the profile picture for this guy is going to be once again let me just use this cached Network image provider and the URL is going to be just user. profile picture this should be good and now let me just initialize the most important thing here which is going to be the first comment and it is only the comments and I want to take the first comment here and I want to just specify that I want to take the common texture that should be all right now let me just do a hot rest start and check it out whether it's working or not now I'm going to just write a comment here first comment and hit send and here I have the first comment and right now when I get back I should see the first comment here as well and here we go we have this command displayed right here but it has some errors some bottom overflow so let me just fix this real quick and now the error is fixed and as you can see the first comment is displayed properly now I want to add the liking functionality as well and for doing it I'm going to just do it right here whenever the users click on this Thum up button they should be able to like this video and I can just do it right here inside this on the property and I'm going to just create this method called like video so let me just create this method uh in this state and I'm going to just create it right here it's going to be an a method and I have to create the actual method inside this video rep itory inside this video repository after now I have only one method called upload video to the firer and I also want to put this method to like video as well right here so I can just create this method which I'm going to just call like video again it's an asynchron method and I should be able to like video here so the algorithm I'm going to just create for liking video is going to be something like if my uid is inside the list of likes on that specific video in that case it means that I have already liked that video so in this case I'm going to just dislike it but if it is the opposite I'm going to just dislike that video so if it's not clear for you just make sure to follow along and you will understand what I mean uh first of all I need to have some parameters here inside this like video and the first one is going to be just a list of all the likes so I want to just have access to the people who has liked that specific video the next parameter is going to be the video ID so I want to have access that video ID of the video that you are trying to like and the next one should be so maybe that's enough let me just create it and later on we will understand so what actually I want to do is first of all create an instance of Firebase fire store and then I'm going to go inside the collection of videos and then the doc is going to be the video ID so I have this inside my parameter I'm going to go inside the collection of videos and then I'm going to go inside the document with this video ID and then I'm going to just update so what should I update here is going to be first of all let me create this I'm going to update a parameter called likes and this is a list actually and I want to update this uh fi likes so I need to use this field value and then I can use this array Union if you are not already familiar with this thing a reunion field value it's just something that I can use to modify and update the value of this field in this case it's a likes it is a list and I just want to update this field so I can just use this field value. AR Union and I'm going to just go through this list of likes and add my uid so I can also have the current user uid here and I'm going to just add the current user ID inside this list but when are we doing this we will be doing this whenever the video is not already liked by me so if I haven't liked that video I want to do this so let me create this condition first of all I'm going to just cut it and here I'm going to create a condition to say if likes do so this likes is going to be a list let me also specify this that this likes is going to be a list if likes. contains my uid which is going to be current user ID and I'm going to just put an exclamation mark here to say it should be the verse what does it mean is if my current ID is not inside this likes list in this case I want to like that video because it means that I haven't liked that video and I want to do it so I can just paste this one it means that I have to like that video but if that is the opposite so I can just copy once again here from this side not exclamation mark to say if I have already liked that video so the likes list contains my uid it means that I have already liked that video and in this case I just want to dislike that video so I can just copy this one here and I'm going to just change this array Union to array remove let me explain one second that what I have done inside this method I have three parameters the likes list it's a list of all the likes inside that video the next I have this video ID and also I have the current user ID what I'm seeing here is if my current user ID is not inside this list of likes it means that I haven't like that video and in this case I want to like it I want to insert my uid inside the list of likes and if it is the reverse it means that I have already liked that video I want to do the opposite and I just want to remove my uid from this list now I can actually use this method before that let me also specify that this like video is going to be a type of future and it doesn't return anything so it can be just void and also I have to make this method a synchronize and also await this and also this one now it should be good and I can just use this and I can do it using this long video provider so let me just get back to this video and right here I can use a RI to say I want to watch this provider let me just import it and then I can use this like video I need to provide this uh three parameters here the likes and also video ID and current user U ID and also let me just just to be safe let me make these three parameters required because they should be required and I'm going to just put some required before them uh it's not that much necessary but just to be safe it's better choice now I can get back to this video and I have to initialize them the first one is going to be the current user ID and it can be just the U ID of my current user and I can just uh find it using this Firebase .n. current user. uid the next one is going to be the list of likes and I have again access to this uh let me just see it so this is the video and I can just have access to it using video. likes first of all let me just use this widget. video. likes and the next one is going to be the video ID and it can be again viget video. video ID so now it should be good just let me make this method a wait now it should work and before testing it out I also want to bring some changes when I like the video in default this button thumb up color is equal to black but whenever we like the video it should change to Blue so let me also create this functionality as well and it's really easy I can just give it a color and here the color is going to be based on a condition I'm going to just say uh if this widget. video. likes it means this list of likes contains my current user view IDE this fire . instance. Curren user uid if it contains that let me see what's wrong here so if this list of likes contains my current user uid it means that I have liked that video and in this case I want the color of this button to be blue but if it is not true I just wanted to have a color of black now it should be good and also I want to display the number of likes right here so I need to create a text here to say I want to display how many likes this uh video has so for doing it I can just create something like this and here I'm going to just say widget. video. likes. length I just want to display how many likes this video has so now everything should be perfect and let me just run the project to see if it's working or not so now let's check it out when I click on this like button and right now after I do a hot rest start as you can see the video is being liked now let me also put a size box here between these two so I'm going to go inside this video and then let me find the th up and right here I can just add a size box it will have a weight of like five and right now as you can see it looks much beautiful there is only one point about liking this video here and it is that it's not real time I did not use any stream for liking the video and as you saw I needed a hot restart to see the changes so here I'm going to give you another homework try to use a stream provider and make the changes in real time and that's not really hard so I'm going to give you a hint that how can you do it you can just create an stream provider and get all the data of videos using that stream provider and then use that value in the like uh section so you will be able to see all the changes in real time so now first of all let me put all the pages together and for doing it I'm going to just open this Pages list and here the first pitch here should be this long video screen after that I want this short video screen right after this long video and the next one is going to be search screen upload so search screen should be after this upload and the final page is going to be the logout page so now this should be good and we're good to go the next feature that I want to create is actually the view feat Fe so whenever the user clicks on a post and they are navigated to the video screen and they are just watching a video the views for that specific video should be incremented by one and the best place for creating this view functionality is going to be right inside this post that whenever the user clicks on a thumbnail and they are navigated to this video right after the navigation I want to increment the views of that video and for doing it I can just create an incense of Firebase fire ster and I'm going to going to go inside the collection of videos into the document of video ID so let me just find what is the video ID here I should have it as a parameter yeah I can just say video. video ID and then I'm going to just update one field here and it's going to be the field of views so I'm going to just say the field of views let me just uh like this that you can see the code properly so what I did I just went into the collection of videos the document of video ID so I want to just uh increment the views of this specific video I'm just updating it and I just want to make it this field so I'm going to just say field value you already know using this I can go inside this field and I want to increment and I'm going to just increment a number of one so just doing this I can actually increment the views filled inside this video by one and this should be good now the last feature that I also want to add inside this project is going to be the Subscribe Feature so whenever the user clicks subscribe on a specific Channel they should be able to subscribe that channel and I'm going to just create this function right inside the channel uh folder the users Channel and here I have a provider called Channel provider so I believe I can just create another provider for this and actually I need a provider or maybe I need a repository so I'm going to just create a new file called subscribe repository and here actually first of all let me create a class I'm going to just call this subscribe and here I can have first of all an innocense of Firebase firer just like what we did always and I think maybe I don't need an innocense of Firebase all so that should be it and now actually I want to generate Constructor for this that should be good so here I'm going to just create a method called subscribe Channel and a this method and here the way that you want to subscribe channels is exactly like we like the videos so they exactly the same we have likes list in the video model and also I have a subscribe subscriptions list inside the user model or the channel model so they're going to be the way of uh doing them is going to be really the same and there's no difference and just like the previous one I need to have three required parameters here the first one is going to be the user ID so this user ID is the user of the channel who we are trying to subscribe the next one is going to be the current user ID I mean the user of myself that I'm trying to subscribe a channel and also I may need the subscriptions list so I want to know all the people who have subscribed that channel so I need a subscriptions list as well here so now uh the way I'm doing it is again creating some conditions to say if the uh first of all let me specify that the subscriptions is a list I'm going to just say that if this list of subscriptions contains my user id the current user ID this means that I have already subscribed that a specific channel so for doing it I need to remove my subscription so let me just create an instance of Firebase firer I can just use this firer and then I'm going to go inside a collection of users the doc should be so I'm trying to remove my subscription from that specific channel so the doc here should be the user ID and I just want to update a field here which is going to be the field of subscription and here I'm going to just say fi value and I want to remove my subscription from this list so I'm going to just say remove the current user ID from here so that should be good I just need to do like this so what I said here is that if the list of subscriptions contains my user ID so this means that I have already subscribe this Channel and for doing it I just want to remove my subscriptions my user ID from this field of subscriptions so this was the first condition and the second one is going to be like this it's going to be exactly uh the reverse of this one I can say if the subscriptions let me copy this one and I just need to add an exclamation mark at the beginning to just reverse everything here I'm going to just say if the current user ID if my ID is not inside the list of sub subscriptions in this case I want to add it so I going to just copy this but I just need to change this AR remove to array Union I want to add my ID inside this collection so now everything should be okay let me just make this method a wait and also I will do this for this one so this should be good let me just correct this one and now I can actually use this subscribe Channel method and also I want to specify that this is a feature of void and so let me see where should I use actually this subscribe Channel method the first place that I'm going to use it is inside the video so let me open this video and find this uh subscribe flat button it should be uh here let me just find it real quick so here is the first place that actually I want to use it and actually here I want to subscribe user and I will have a comment here to say subscribe you Channel and also a just forgot to add a provider here so let me just find the subscribed repository and here I also want to add a provider here so I'm going to just call it subscribe Channel provider and it's going to be a simple provider and here I'm going to just return this subscribe and also I need to require this I need to make this required and now I have to initialize this fire ster which is going to be the Firebase firer do any sense so now I have this let me just use this provider inside video I'm going to go inside this video and here I can actually use this so I'm going to say riat this provider and I'm going to just subscribe the channel here I need to initialize some values the user ID the user ID here is going to be just uh let me just find it first of all I'm going to just put a comma here and also a s column okay I have a video that is one of the things I have and also I have this any user data provider which I get a user from this so I have everything here and the user ID is going to be just user. user ID I should have this uh value. user ID and this should be good the next I need the current user ID and it's really simple I can just get it using Firebase fire ster actually Firebase all I need to create an of firebase. instance docar user. uid and the next one is going to be the list of subscriptions and again easy I can just say widget. video. subscriptions actually again I need the user so I'm going to just say user. value. subscriptions so this should be okay and now I have actually all the values here and let me just make this meod a and await this and now I should be able to actually uh subscribe all the channels and one other Placer I also want to add this uh method here is going to be just I'm going to just copy this inside the search screen here is also one of the places that I can actually subscribe user inside this search channel tile so I also have I also should have uh a subscribe button here as you can see I have it and here I'm going to just I'm going to just paste this in here okay so I'm going to just convert this stess widget into a consumer vidget first and I need to add the viget dri here this should be good and I'm going to just import this I also need to import one let me see here first let me import this Firebase off and now this should be good the only thing I need here is going to be the value of user because I don't have the value of user here so let me see actually I have this yeah this is going to be the user so I have this I just need to remove this value I don't need to have it so now we are done here and it should be working and we should be able to subscribe channels so that was it and I hope you got the most out of this tutorial and now you can try building similar projects on your own to examine all the stuff you have learned here so bye and good luck