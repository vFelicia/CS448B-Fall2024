the mediator design pattern is a pattern that provides a central authority through which the different components of an application may communicate if a unit of code has too many direct relationships between components it may be time to have a central point of control that components can communicate through this diagram shows what the mediator design pattern is like you have one mediator up here and then you have these other components called colleagues that communicate through the mediator and then the mediator communicates back to the other colleagues an analogy would be an airport traffic control system so a tower this would be the mediator right here handles what planes can take off and land because all communications are done from the plains to the control tower so flight 77 communicates to air traffic control that they're ready to land and so the air traffic control tells flight 112 that they have to wait a little bit before they land the planes are not communicating between each other they're all communicating to the control tower and then the control tower communicates back to the planes so the centralized controller is mediating all the communication this design pattern can be implemented in different ways but here is a simple example in this example we have participants that are joining a chat session by registering with a chat room which is the mediator so the mediator in this example is the chat room right here and the mediator is going to define an interface for communicating with colleague objects it's going to maintain references to the colleague objects and it's going to manage central control over the operations now in this example that the colleagues are going to be the participants right it's right up here and these are going to be mediated by the mediator and each instance is going to make maintain a reference to the mediator so in this example the participant is going to have a name and then it's going to have the reference to the mediator which is the chat room it starts off with it with null and there's two functions that the participants can do they can send where they're going to send a message to people in the chat room so it's going to pass you're going to pass in the message and who you're sending the message to and when you call this message it's actually going to call the mediator this dot chatroom dot send so the chat room is defined up here and we're gonna do the send method from the chat room and send over the message this which is the reference to the participant sending the message and two who we're sending the message to and then to receive a message we're just going to have the message and from and we're just going to console.log the message so let's look through the chat room now so we're going to maintain a list of participants here which is just an empty object right now and then you can register with the chat room by passing in the participant and so we're going to add to this participant's object the the name and set to the participant and here we're going to do set the chat room to this so up here in the participant the chat room is now going to be set to the current chat room and remember the participant calls the chat room that send function here so it's defined here where we pass in a message who it's from and who it's to if it's too someone in particular it's just going to be a single message we're going to call 2 dot receive remember 2 is the participant receiving the message and we're going to call the receive function and pass the message into the from if you do not pass in who the message is to we're going to broadcast the message to all the participants in the chat room so we're going to run this for loop that goes through every participant in the chat room and you can see instead of just calling the receive function on who we're sending it to it's going to call the receive function on every participant in the chat room so it gets sent to everybody so let's see how that works we're going to create five participants here with five different names and then we're going to create the chat room here and then we're going to register all those participants with the chat room so they've all entered the chat room now here we're going to call quincy.send and we're going to pass in how is it going and we're not going to pass in who this message is going to so it's just going to go to to everybody and the next few messages we're actually going to pass in who it's going to and each of these messages goes to quincy so when we run this you'll see in the console that those just go to one person so let's run that so you can see the first few messages quincy sends a message to all four of the other people how's it going how's it going how's it going how's it going and that just happened just because of this and then the next messages only get sent to one person so you can see the rest of these messages here are these messages sent directly to quincy so our chat room is mediating all of these messages thanks for watching my name is beau carnes don't forget to subscribe and remember use your code for good