hey this is Andrew Brown your favorite Cloud instructor hey it's ashishan your favorite Cloud security instructor today I'm here to talk about GI of advanced security certification or as called ghas with love um and the way we're going to get certified is as always we're going to do our HandsOn labs in our own accounts the lecture content and uh going through a practice exam and you know as always we provide you a free practice exam I want to remind you if you like uh Cloud certifications and this expansion into security certifications with our uh friend aish the best way to do that is to purchase the optional uh additional study materials on the exam Pro platform but let shees tell you a little bit about himself for those of you who probably have not heard of me before I am the host of a popular podcast called Cloud security podcast I've been in the cyber security industry for over 14 years teaching cloud and Cloud security to a lot of people as well through Sans in fact I was part of Andrew's free Court camp that we did uh a few month ago for AWS so I look forward to having all of you enjoy the certification course that we have created here for you guys let's get into the course all right see you soon ciao ciao what is gup foundations GitHub Foundation is the entry level GitHub certification that teaches you GitHub Version Control Basics how do you develop programs how do you manage projects that are running in GitHub there's a lot more that's involved in this The Unofficial course code for this is ghf but one thing to note over here is that GitHub is still the leading Version Control service in the world and giup is still the most common way most developers showcase their code either to their employers or companies using it for storing their own private code as well so from that perspective understanding getup and giup related products are quite crucial for most developers out there who is the certification for consider this GAA Foundation is important for people who are either new to Cloud programming you may not even be a developer in a tech role but want to develop the skills for a developer and you want to showcase that portfolio to a potential future employer or you just want to learn Version Control fundamentals all these reasons could be substantial enough for a lot of people based on where you are in your journey on learning and understanding GitHub and it would test your skills for how much you understand git by itself and git has its own I guess knowledge curve that you need to understand before you jump on the GitHub so in case you're thinking of going for GitHub Foundation I would definitely encourage you to learn git first and then come for the GitHub certification talking about GitHub certification road map it is advisable that you probably start with GitHub Foundation which is considered level 100 especially if you've never done much work in GitHub yourselves you probably having understanding of Kit and GitHub would be very valuable and probably worthwhile spending some time on GitHub Foundation passing that exam followed by either you can choose the G of advanced security which is great for cloud security Engineers who probably look at programming and are also looking at automating a lot of the cloud security features that they may be working on whether it's building infrastructure scode or whether it is using terraform or other languages in cloud formation I can keep going on or you can just choose the path of being a better developer by understanding giup actions now having a understanding gith up actions is good both from a security and from a development perspective as you get better at this from a security perspective the next Evolution would be to become an Enterprise engineer now it's worthwhile calling out GitHub does not validate programming technical diagramming code management and a lot of other skills are required for the role of a developer or even a cloud secured engineer in any organization however ever this at least is a way for you to Showcase to your future employer or your current employer that you understand some features and essential things that you might need to work on on a daytoday basis in GitHub how long it would take you to study depending on where you are with your level of understanding of Kit GitHub already you could be looking at anywhere if you are starting today and have never done GitHub or it any kind line of code be probably looking at 20 hours plus of work however if you're an experienced person who's looking to do GitHub Advanced security you and you have enough years of experience in GitHub itself you probably already have some technical knowledge in GitHub and git and have a strong background in technology and doesn't have to be all kinds of Technology at least one or two which is just good enough for you to be decent and understanding the flow of how languages are stored in Version Control how you can manage them a lot more of those Basics as well in that case you probably only need 4 Hour hours but on average you're probably looking at at 14 hours of average study time with 50% lecture in lab and 50% practice exams I would definitely recommend you to study 1 to two hours a day for a 14day what does it take to pass the exam exam Pro and myself are huge Believers of video textures lab HandsOn Labs that are related to an actual project and doing some online practice exams are definitely if you can find the paid one definitely great there are some free ones as well on exam Pro if you wanted to check that out but doing those three just watching lectures one video from an experience trainer having HandsOn Labs that you can follow along on your own GitHub account and having a way for you to practice online tests that are available from other organizers or even free and paid ones as well definitely would be a great way to make sure you definitely pass the exam now from a Content perspective there are seven domains that have been shared by GitHub the domain one will describe ghs or GitHub Advanced security features and functionality domain two 10% for configure and use secret scanning domain three 15% for configure and use dependency management domain four for 15% configure and use cod scanning domain five for use cod scanning with cql and domain 6 20% describe GitHub Advanced security best practices and domain 7 10% for configure get GitHub Advanced secureity Tools in GitHub Enterprise now how would you even take the exam you can give the exam in person or online at your own convenience from your home uh you would be using the provider PSI online or they have a network of test centers as well you could find the closest one that is in the city that you're in using the Google search just find out the closest Center you have for PSI next to you now it's worthwh calling out online version would have a proctor or someone who's basically supervising and looking at what you're doing while you're giving the online exam so just something that you be should be wary of in a t in a test center there are already people monitoring you so uh I guess depends on what you're more comfortable with doing doing it online or doing it in person now it's worthwhile calling out GitHub does not provide a passing score but having a scoring of 75% correct answers would ensure that you pass the certificate ification as I said there is no passing score but at least aiming for that 75% correct answer would ensure that you pass the certification there are 75 questions in the exam 60 scored and 50 unscored now unscored are the tricky ones where they don't really Mark you on them but they're definitely there and you would not know which ones are those so you can technically afford to have 15 CT scored questions wrong there is no penalty for wrong answers so you might as well give answers to all the multiple choice and multiple answers that are available 15 questions of the exams are unscored so they would not count towards your final score um unscored just means that they would not be used to Mark you but they would be used for introducing any new questions in the future this also helps them determine of the exam is too easy and the passing score the question difficulty needs to be increased and also discover users who are attempting to cheat the exam or just steal dump questions hopefully you're not one of them and you're just basically following what we teach you which is video tutorials HandsOn Labs that you follow along and and finally just some practice online Labs or practice exam that you're following along and one final point if you encounter an ex a question that you've never sted for keep it cool and remember there would be unscored questions as well now the total duration is 2 hours and 1.6 minutes per question is the time you have I would say it probably exam Time by itself is 1 120 Minutes the seating time is 150 because you have to account for the fact that when you start if it's an online exam or if if you're going to in person you would have that 105 minutes of showing your ID verifying uh if you're doing the online exam they would look at the webcam that you have given them and also consider the fact are there any desk any items on your desk they would make you clear it so 15 20 minutes that would be probably in the beginning maybe 20 minutes and then towards the tail end as well where you might be ask for a midd of feedback assuming you have done git foundation and you've gone through some of the other lectures we have on git Foundation having a basic understanding of git I'll just do a quick refresher for everyone to be on the same page in case the last time you went through this was some time ago G is a distributed version control system or dvcs which is created by lonus telt hopefully I did not mispronounce the name but lonus was the creator of Linux kernel so potentially it's Linux but I don't want to call it I feel it's Linus so apologies if I got that name wrong now git is how you interact with the Version Control System each change on your code which can be committed which by a command called git commit and can be tracked before for how it was before the change how it is after the change and what is the change being made now GitHub is a Version Control service I would even say it's like a SAS service which allows you to access kit based version control system from anywhere on the internet it is a hosting manag remote gate repository to I guess people like the technical term but they have expanded to other offerings as well like for example now you can also have project management tools pull requests code reviews GitHub has even got GitHub pages and wikis GitHub action is something that you would hear about in other certification but also as someone who's working in cyber security you would also hear about GitHub actions as a way to automate a lot of the cord and being able to trigger security tooling when a certain action happens G pilot is also catching a lot of traction which is the AI uh based product that has been launched by GitHub GitHub code base code spaces Marketplace G there's a lot more that's being added on and worthwhile knowing that you don't need to know all of these for the exam but this is just a quick refresher on one GitHub is and fun fact GAA was originally written using Ruby un rails common git terms for those who don't remember at the moment repository commit three I would probably say the most common one that you would use quite often uh even if you start from the top which is repository which represents a logical container holding the to base so a lot of people talk about hey this is my link to my repository very common word commit is a change of the data that you do to your local repository that you commit onto the the branch that is local on your laptop now you would use something like a branch to create a new Branch uh depending on the practice you have and your organization now remote would be if you are a have hosting a project a version of your project somewhere but you want to exchange commit you would be a remote cloning or clone clone is basically you know a friend of yours or someone you know on the internet has created amazing Repository that you want to work with you can use clone to clone that repository and make it better or just start using it yourself as well uh also make sure when you're using a repository that you're cloning make sure you have uh at least have a look at the license that they have Apache license or MIT license these are important for Enterprise that are using it because not all repositories on GitHub are free to use they do have license requirements that you should look at especially the read me file now we spoke about repository commit Branch clone checkout is to switch between different branches in your local repository and probably the our next two important ones are pull and push now the pull example is that I have been working on a local repository for some time and now I have finally May realize that oh my God people have been still pushing changes onto the main repository so now I am running a few comits behind the main branch and that's how you can pull some of the changes from your Remo repository which may be at ker.com and merge that into your branch so your branch has the latest information on the all the code changes that happen now once you have done that you may want to push that change the keyword being push you should want you may want to push that change to the local repo from the local repository to your remote repository on k.com uh the same goes for fetch you can download data from a remote repo without integrating it into your work reset undoes any local changes with options to unstage or revert commit basically you might make some changes but you're not like oh I don't really think I wanted to make those you can just use the Reser button to undo all those changes now this is uh going to unstage any com any commits you would have dat locally that you have not pushed to the remote repository so worthwh knowing the changes should still be on your local repository if they have been pushed onto the remote repository then the reset is not really going to change anything on the remote repository itself merge can combine commit histories into one chaging files prepares and organizes changes for a commit now commit saves your changes as a snapshot in the local repository and add adds changes to the staging Raz of the next comit now we we have explained what repository is a GitHub repo is your GitHub repo when you push Upstream to GitHub GitHub allows you to access and manage your G repo with several functionality you could use GitHub installed locally on your laptop to view different branches if you have cloned a repository you can view different branches you can look at the tags that are being used commit history and a lot of related information around releases code bases but you can also perform actions like for example you can put yourself on the watch list you can start watching the repository for any changes you can even Fork from it where you can create a a separate Branch or a separate I probably say a separate version or a separate version of the project and make it your own or you can clone that to download that locally a git commit represents the incremental changes to a code base represented with a git tree graph at a specific time the simplest example for this is that you have made some changes after you have cloned a repository from github.com or another source and that you made into a repository and you're ready to commit that into a branch potentially the main branch of the GitHub you're working with then you can use git commit to commit the changes onto GitHub now each Comet does have a sha hash that acts as an ID and and it can have actions like addition modification deletion and it can it contains pieces of information for the changes but it may not contain the whole file a get branch is a Divergence of the state of repo it's almost like you want to keep the original code base intact but you would want to start making some changes that you can bring back onto the main code base in this case the example we have provided is a feature Branch one and feature Branch two a production Branch a main branch now going by feature branch and main main branch is the active code that is something that everyone is happy with it is stable and that is then pushed onto production which is the production Branch now you may choose that you want to add a new feature to the application you're working in you may create a separate Branch for it you would make all your changes you would commit your changes you can test your changes and when you're happy that youve just have succeeded you would come back to the merge over here and so you'll go from the feature branch and merge it onto the main branch and once things are good and tested on the main branch they can be pushed on production that would be an example of a workflow which is also similar to something called a GitHub flow as well that you would get to know now get mode has a concept called upstream and downstream Upstream would mean that you're sending it from your local repository or your local develop environment onto Upstream to where the changes are being pushed to now in this case it could be the remote github.com and when you do a pull from remote GitHub repository then you're doing a downstream change basically a repository that pulls or clones from another repository that is called upstream or down on screen what is GitHub Advanced security ghas ghas or GitHub Advanced security refers to the understanding on how to use security features of GitHub to secure your code from security vulnerabilities now if you are already on GitHub you can probably just go to a repository of your choice I've just gone to www. cloudcity bootcamp.com which is a website that we run for cloud security boot camp you can go to the security Tab and you can all already see services that you have turned on and are available for you based on whether you have a private or a public repo depend about code scanning and secret scanning it is important to know there are more features as well for a gup security but these are based on the paid plan for example from a free and team tier code scanning secret scanning and reviewing or dependency is AA available for all in public repos however no security overview or repo rules are available for free achiev if you were Enterprise however you would get everything for all public and basically if you're an Enterprise however you would get code scanning secret scanning review dependency with Advanced security and would also include security overview and reper rules when it comes to depender board alerts and security updates and version updates that is equal for everyone for teams and free tier as well as Enterprise tier for a free tier you would require required reviews can be made required status checks can be done with public repos uh in teams plan as well as Enterprise plan you can require review and require status checks but you can do that for all types of Reapers both public and private get up security advisory is only available for public repos if you are on a free or team plan it is available like get up security advisory will be available Enterprise Cloud because Enterprise license usually expensive now you do have the capability to do ro based Access Control require MFA audit logging however there is no audit log API or GitHub connect or samles ssos or even an IP allow list if you want to free your team plan however if you're on an Enterprise plan you would get audit log API GitHub connect saml single sign on L app and you would also get an IP allow list with your Enterprise Cloud as well ghas or GitHub Advanced security before you dive into this you probably want to understand why is GitHub security feature important now as a developer or as someone who writes shares and perhaps even develops code you would want to be proud of the quality of the code you create now usually the quality of the code is is deteriorated either by not using the right kind of syntax or creating code that is unsafe which contains a lot of security vulnerabilities that can potentially harm the production environment that your organization is working on now get of advanced security ghas is integrated within GitHub and can allow you to check for secrets that are in stored in your code it can allow you to look at vulnerability that are probably coming from a open source library that may be used by either a package or a set of libraries in your code it could also detect vulnerabilities that just could be in the logic of the code or the way the program has been written other things to note that are available from GitHub Advanced security which are in addition to looking at just how safe the quality of the cord is would be security overview GitHub account repository rules management audit logs GitHub security advisory and GitHub repository policies these are security features you can enable around the use of repository and how GitHub is used in your entire organization which is quite crucial to manage access to sensitive areas of kup for developers like for example you don't want someone or anyone in the organization to be able to Simply go and delete production repositories which is a big no no so managing the repository rules and having an overview of what security looks like in terms of the quality of the code across the board definitely is where GI Advanced security if you're still not convinced cisq or Consortium for information and software quality they found that poor software quality cost they found that the poor software quality costed us companies approximately 2.08 trillion annually this is from the 2022 report uh and the key contributors to poor software quality was cyber crime Tech debt or technical debt and software supply chain problems now cyber crime and software supply chain problems could definitely be very easily measured and corrected to an extent using GitHub like for example if you remove Secrets which potentially could be leaked in the code or if you remove software cord vulnerabilities you can even inform technical debt work with the required time to complete a tasks to manage some of the tech as well and last but not least soft is Supply in vulnerability GitHub has options to detect help you remove software Supply vulnerable now there are three components to ghas G Advanced security secret scanning Depend and code scanning Now secret scanning on face value it is Secrets stored of past in your repository it allows you to scan for secrets and raise alerts it also can take actions from GitHub dependabot is an open Source vulnerability scan it looks for vulnerabilities in open source libraries used in your container so dependencies or just the libraries that are used by packages which could be vulnerable it can help raise an alert for it it can also take an action from GitHub on vulnerabilities that it identifies as well and third is code scanning scans for code vulnerabilities and raises alerts on vulnerabilities that are identified and you can use GitHub action workflow and code ql to perform from sophisticated Cod scanning by integrating other SEC security tools in there as well which are non GitHub security tools too now what do I do with these GitHub security alerts like we been talking about ghs can give you alerts on these special things but what do you do when you get these alerts now as a alert now as it stands if the alert makes sense instantly when you read it like yep I understand that it's basically asking me to remove a secret that I've accidentally put in or it's asking you to resolve vulnerability by replacing a open source vulnerability which is potentially a library that you had recently uh linked from somewhere you can easily work on that yourself however if the alert does not make sense now whether it's a dependent Bo alert or Cod scanning alert or a secret scanning alert the security alerts in your GTO repository May sometimes require ition say from your product owner or manager so it's worthwhile raising it with them so you can work with the application security teams of your organization to understand the vulnerability and understand what the required action could be now if the alert is not on your own repository uh there are processes in most Organization for you to raise alerts for any vulnerability you find in a repository that you don't normally own so you should be able to inform them privately now there is a private vulnerability reporting feature available in GitHub but if you have any internal processes that are used perhaps to inform this you can use that as well now keeping all the excitement aside we have been talking about ghs and you may or may not already be using this but it's worthwhile knowing that depending on whether you are in organization level user on GitHub or you are a personal or individual level user on GitHub you may have to enable get H GitHub Advanced security different way now the personal one as I would as it was shown in the lab earlier in terms of the plans you have certain capability are available by default for personal accounts on all public repositories on an organization level it helps you enable GitHub Advanced security at an organization level especially if you work in an organization where any developer can create as many repositories as they want and instead of manually scanning for what new repositories have been added and what new repositories need to be added to ghs and enabled you can use the organization level enabling of ghs as to understand how you can quickly apply that to every repository that is in within your organization at an organization level you can simply go onto the organization click on settings on the right hand side this is an example for my cloud security boot camp organization and on the settings tab you should have within the security column you should be able to see authentication security code security verified and approved domains and my favorite especially for the ghas lab secrets and variables now once you go on ghs the personal account however is a bit different uh you can have a look at the settings and go into code security analysis and you should be able to access the security features there however it is important to know that the personal account does not have access to all ghs features such as authentication security verified approved domains secrets and variables if you are looking to only en if you're looking to enable ghas only on individual repositories you can do that as well so not just at an organization level or a personal level you can go on to a repository that you want to enable ghs on perhaps it's your own personal repository you can click on settings under settings there is security you have code security deploy keys and secret variables under the security column it is important to understand that the level of G of security you have would give you the I mean you can to if you don't have ghs features turned on you probably would not get any alerting however knowing where they are and understanding that hey I can just completely go to my repository name put a/ Security in the end of it and you would be able to see the current security posture of what is enabled on your repository from GitHub security you can enable it automatically for all new repositories by simply clicking on the button automatically enable again this is under the security settings for the repository um and you would be able to at least have that in such a way that all new repositories moving forward are automatically turned down however any existing repositories that were not enabled for ghs before would have to be retroactively enabled individually okay in this lab we're going to show you how you can look into what kind of plan you're in now this is me Lo into my profile that's my icon over there so if I just click on that profile and go you can simply click on your profile which should bring you to this page which is basically what everyone sees usually when they go online so you can have a look at everything you have on your your repository 55 projects packages and everything else now if I do edit profile I can edit a lot of the information provided over here but but I'm after information about what kind of packages do I have so if I go on to here I go to settings and I go building and plan plan and usage I'm currently paying nothing so I have the GitHub free proudly now I can click on now this is what allows me at the moment I have all these actions what is not included is also provided as well and what I can also do is I can go compare all plans and I can see what can I upgrade to for $4 that I think is Australian I would say or us uh depending on the currency you're in and can get all these features I only care about the security compliance F because we on the ghas class as I was talking in the as I was showing in the slides CT scanning for public repository secret scanning for public repository depends the review for public repository but no security overview for me no depend alert and and you do get depend about alert but no repository rules all that required tofa audit logging is also available and R based access control is also available and get of advisory available for public services but for the moment this is how you check whether you have a plan that is a team plan or Pro Plan or a free plan or Enterprise plan now if you are on an Enterprise plan or a team plan I would definitely be mindful uh that you obviously are working with other people as well so uh if this is the first time you are looking at get and making it some of these changes maybe you may not even have access to the bills and plan most likely because someone else in your organization is managing it for you so you may not be able to see it this is my personal account not my organization account which is why I can see pretty much billing and plans if I come just to here and go settings but you may see different things based on where you are okay now that is a lab that I wanted to show you on how you can check the plans let's go back to the slides okay now we're back on the GitHub security uh now we're back on the GitHub now we back on GitHub let's just show you how you can look at an individual repository and see what the ghs level in your personal repository as well as organization repository so if this is my personal account I go into my settings and I can go into Cod security and Analysis and I can see that I don't have anything automatically turned on at the moment for dependent about alert depend about security updates secret scanning as well I can either disable it or enable it and I can also have it automatically enabled for so I can just take this box and we have enabled for everything I don't have to hit a save button anywhere as you can see the tick box over here is the way for me to know yep makes sense now I have removed it similarly I can just have hey Dependable now dependency graph is the only thing that I have enabled for all new private repositories I'm not asking for any Wonder reporting for that so I'm going to enable this now also for private repositories as well so this is how you see how your ghas is enabled I can have it for enable all it should enable that for everyone but you know this is just one of the ways to see it now another way for you to see this would be if I was in the organization now I have an organization as well so if I go to organization now as you can see it shows me I am logged in now as Cloud security boot camp which is the organization now if I go to settings under this and then within settings if I come to security I have authentication security which I can sign up for requires two Factor authentication for everyone in the organization so I can enforce multiactor authentication code security and Analysis I can as mentioned earlier I can have this enabled for every new repository that is created inside the organization but anything old would have to be retro retroactively fit in so I don't have any actions of Secrets but you can see it depend all of them have been put in here now this is also to verify the domain y that's pretty much how you would verify what ghs access you have now let's take a bit more um I guess better example where I can just go into one of my repositories let just go this one this is a public repository I can go to security I can see that I don't have enabl dependa board alert I don't have Cod scanning I don't have secret scanning because I Haven enabled it so I don't have aert however go depender board these are disabled as well code scanning is disabled secret scanning well okay now now that you know because I don't have I have not enabled anything now I can just simply come to settings and I can apply this directly oh this one over here and now I can just basically enable it individually if I like to but I rather do it at a top level so I'm going to go to my profile settings and I'm going to go under security so I'm going to say dependency graph yes I want depend alert and depend savings as well okay sweet so I have that set now so this is what how most people do that as well so welcome to how it is done in real life okay so this is the repository I can go to security and I can see security is enabled but I have because this is an existing repository and I just enabled depender board for all the new repositories I have to enable this manually so I'm going to do enable alerts I've have done that yep I have enabled dependency code I'm going to enable the Oney reporting for this repository as you can see and let's do security upates as well and alerts all right so now we have a private vulnerability reporting as well as the dependency graph and depend the board so it should start populating information over here but this time you would Noti is that if I go to security my Dependable alerts are enabled my private reporting is enabled because I've enabled them now I can do Secret scanning alerts if I just do enableing setting uh thought I had oh yeah yeah secret scanning was right at the bottom so I didn't really see it so now secret scanning has also been turned on for this particular repository now if it was it would get appeared under security and you should be able to see under here if there are any secrets now at the moment there have not been any secrets found there has not been any vulnerable or detend dependo but I know I have a vable repository that I have that I keep for occasion like these when I want to show you something so if I can name the challenges just do not remember the name of the repository it was I want to say npm package so it was nope maybe it was node nope maybe I called it vulnerable nope I did not that CL vulnerability is a different repository uh this is basically how you identify uh and slowly uh make sure that you don't end up having a lot of repositories because what happens you're trying to look for just want one repository that I know I have which I just cannot remember the name of for the life of me but this is what people would be oh there you go Cognito V2 demo that's the one now this is a really old repository that I've had for a while 6 years ago as you can see so I know it has a lot of there you go it has already got seven security alerts for me I didn't have the secret scanning enabl so let's just enable that and maybe that comes up with something as well okay so let's go to security I had dependabot alert I had security advisory I can see seven dependabot alerts this is what it looks like when you have a Dependable alert now we're going into bit more detail about what these are and what you do with them but this is how you would notice how you to see alerts within a repository now this is at the moment a if I go back to code this is a public repository however we want a private repository as well what can we do with a private repository so I'm going to go customize repositories I want it to be type is private I have one private collection and if I go in here if I go to security if you notice I only have depend board because that's what my plan allows me for so that's all I have uh I do not get any lot more features so I can find out more about how to do code scanning I can enable alerts but primarily I can just do dependabot if I only have a regular plan and if I although I can I'm allowed to create private repositories but I don't get a lot of security features for private repositories that's the yeah that is the end of the lab let's continue the lon now so far we've been talking about security vulnerability alerting what to do with it but we haven't really covered what is a security vulnerability security vulnerability is a potential risk to an organization that can be exploited by a malicious attacker to misuse or negatively impact the organization notice how it did not say a hacker uh because technically as a security person I'm respectful of the fact that a hacker could be a good person and Al alternatively a bad person as well but uh collectively calling every bad person hacker is probably not fair which is why the industry uses the word malicious attacker so anyone who is attacking or uh looking to impact an organization in a negative way would be a malicious attacker uh the way they would do this would be they are exploiting a vulnerability that perhaps exist in the software itself or where theof software is hosted or it could be misus by anyone who is a legitimate uh user or it could be a misuse by anyone who's a legitimate user and potentially internal threat who just happens to have the right access to the code that they want to maliciously change there are different kinds of security vulnerabilities depending on where and how you're looking you can have web based security vulnerabilities which are like common examples like xss csrf ssrf the open source vulnerabilities which are vulnerabilities found in libraries that are referenced in libraries used by bigger softwares and open source vulnerability could be a vulnerability that happens to be publicly listed as a free software or free library for use and perhaps doesn't have a patched library or patch component which allows for someone to basically take over the software or impact the software negatively now other kinds also could include stored Secrets like username password or API access access tokens and more cloud misconfiguration is another one these days now that a lot of cloud infrastructure is being produced by infrastructure as code languages stored in GitHub as well you could have a lot of cloud misconfiguration that could be triggered just from the infrastructure scored uh so Cloud misconfiguration come for that as well now zero day is a unique one where you I mean no one really knows when a zero day is going to come by zero day but the idea behind zero day is that no one knew about it before today hence zero day uh so anyone basically is planning for zero day is looking at it from a very likely looking at it from a very low likely possibility because no one really ever knows when a zero day is going to come out the final one which is probably the most common one a lot of people already know of viruses and malware and if you happen to work in an organization you probably have heard of ransomware which is very popular these days as well which has been locking at a lot of machines now all of this could be discovered by doing regular security scanning which allows for bugs to be discovered so that you can fix them before a misuse can happen how do you ident identify what kind of vulnerabilities are there or what type of vulnerabilities are there in your GitHub at the moment now fortunately ghs has Services which help you identify secrets dependencies and in even and even software security bugs which is under the security section of each repository you would find depend abort code scanning and secret scanning Now secret scanning helps you identify Secrets passwords password access tokens and any sensitive information which you may classify as a secret with the high entropy essentially uh your a AWS access keys are another great example as well now in terms of dependencies depend board helps you identify security vulnerabilities in open source libraries that are used by the code in your repository and finally code scanning helps you identify Security vulnerables in the code itself which may be just simply because there is poor code quality used in the Repository something which should be really helpful is that there are of course a lot of vulnerabilities lot of software types lot of software uh practices that are followed across the board so it may be hard to keep up with the wabil what is the final detail of a vulnerability now on the screen I have an example of vulnerability which is from the GitHub advisory database which is a list maintained by GitHub for all the security vulnerabilities based on cves uh which are collected from multiple thread intelligence sources and in fact also includes github's own Wonder T research for multiple languages so that they can keep their customers informed now this is free for anyone to be using if you use a URL there you'll be able to find the advisory yourself and go through all the vulnerabilities that they have discovered and advised their customers on all 16796 at the time of the recording uh across so many different languages to help understand more about the security vulnerability you have found let's talk about ghs secret scanning secret scanning is scanning repository for more than one type of secret using regular expression by more than one type of secret I mean it could be a username password it could be access token it could be aw secret keys and many more this service from GitHub aims to prevent any company secrets from being accidentally leaked on any of their public or private Repository before misuse or potential misuse by a pricious attacker now in terms of location for where secrets are scanned it is your entire GitHub repository it is your entire git history on all branches present in your GitHub repository the description and comments in issues title descriptions comments in your open and closed historical issues pull request which is still in beta as a 2024 and get our discussions as well now to Simply turn on secret scanning you can go under Secrets go for secret scanning and just simply turn on by clicking on the enable button ghs secret scanning partner program now there are partner programs available from GitHub which is essentially integration that GitHub has with other product companies to be able to notify you of any of their secrets being linked on a public or an internal G repository now the partner will provide a regular expression to detect possible secret like for example there is association with uh hashiko terraform AWS npm packages Ruby and uh AWS Amazon Azure Google cloud in case of an Amazon example if a user makes a commit or pushes a change GitHub would run a secret reject pattern based on what the partner has shared so in this case of if it was AWS or Amazon web services a cloud service provider if they were to say all our access keys or secrets are shared in this particular format GitHub would be able to run a Rex pattern on the information being committed by the user to GitHub they would be able to send a match to verify with the endpoint that is from the partner to determine if the match secret is real and uh that is how you can have other extended parties not just the GitHub Secrets but also potential secrets from popular services that your organization may be working with to identify any secrets being leaked how can you use ghs now you obviously need the ghas license is required to scan both private and internal repository owned by organization especially if you are on a GitHub Enterprise Cloud Now secret scanning is disabled by default follow repositories which you can simply enabled by clicking the enable Button as a GitHub administrator either on the repository that you want it to be running on or at an organization level now to enable ghs secret scanning once enabled it runs continuously and can be trickered to run always or when a commit is made to the repository you can run it as a push protection or a continous scan in terms of push protection a secret is scanned for every commit and it prevents secrets from appearing into the repository in the first place so it's more of a prevention based approach continous scan is more of a detection based approach where it detects and alerts on any existing secrets that you may have now it does not prevent any new secrets from being added because it's simply scanning for any secrets being present the full list of current secret patterns can be seen on the documentation for secret scanning but I would say the balance would be defined between push protection and the con scan okay folks in this part of the lab we would run secret scanning now I already have a repository which is a public repository under Cloud Security Board in GitHub it's called ghas example lab files that's the URL I'll make this available later on as well I have given each folder for each of the scanning in secret scanning as you can see I have three files at this point in time I have Secret in all of them all of those files and so I've got one there I've got one here somewhere but the idea is let's enable secret scanning at an individual repository level and then see how quickly it picks up so to do that if I go to settings I click on code security and Analysis and if I scroll down there's an option here it says secret scanning receive alerts on GitHub for detected Secrets keys and other tokens so once I enable this oh look at that instantly it picked up three files which is exactly the three files I have so GitHub credential you yes so this is where you see the file and I've got the AWS access AWS secret access all right perfect so it's picked up the files that I had I can go into each one of them and I can see oh that's the file that I had and that is the exact thing that's called out in the file that's the file name now I can either close as revoked or used in test Market as a false positive uh whatever the action that I decide is the use case here I can just say it's using test in order uction code so it's okay for me to put the code in here and that could be the end of it but that is basically the lab to end to enable it once and to enable it go into settings and code security analysis at the bottom of the page secret scanning now if you ever enable it and if you see the numbers that's basically that's basically numbers which could include other things as well in our case we don't have um I think we only have depend aboard code scanning and secret scanning all three enabled it didn't have any findings for dependo or code scanning because I guess all TW are working as expected so no issues there so for this secret scanning three alerts and you can go into each one of the D you get now that is the end of this lab I'll see you in the next class all right in the next part of the lab we will cover how you can exclude directories from Secret scanning for alerts so if I go into any of my repository oh let me just come back to my actual profile yep that's my profile I'm just going to go to one of my repositories let just say this one and within this I want to include I want to exclude a few directories like for example I want to exclude the directory for I need something with a few more directories in there so let me just find another repository we've got a few folders so I can actually show you the structure uh repository I think it's called Uh view uh nope not that one I haven't created the folder terap collection I'm trying to find a place effect oh there you go okay so I this is one place where I have uh enabled cloud trail I just want to see do I have any security turned on over here I only have dependo uh this is a private repository where it makes sense for me to have a doget ignore file now what I'll do is I will add a file now for me to exclude I'm going to add a file create a new file and I will put a link so I obviously want the file type to be secretor scanning so I'll just put that in here uh which is within the GAA folder secret scanning and now parts to ignore it could be anything it could be a pi file or yaml file I just put yam file for the sake of this uh yeah I'm I look I think I'm pretty happy with it so I'm just going to go ahead and do commit change uh create it uh added Fubar for not secret scanning it's important to want make it as descriptive as possible me the shortest number of words possible probably two opposite ends of what I'm trying to say essentially is that keep it succinct if you can but it should also be obvious what you're trying to do so I am clear on what I've done I've created a folder as well now if I come back onto my tree you should see dog ignore the GitHub f file as well so which has my secrets file in there as well so that's it uh that is how you would configure what uh folders or files to ignore as part of your alerts uh for from coming from showing up on your secret scanning alerts this is how you would do it and for you to see any alerts uh well this is a private repository you would not see it because I don't have a paid version but if you were to go to any of my my public repositories if you go to security you should see secret scanning and any open alerts would come over here all right that's the end of the secret skying lab I'll see you in the next Club hello hello all right let's go through the lab for understanding how to set notification alerts I'm going to go back to my cloud KY boot camp my website repository um in there now if you look at watch in in this which is the column that I clicked on right now at the moment it is set for all activity now I can set it for custom and I can pick security alerts as my uh reason for what I want to watch for I click on apply once I've applied this I come into settings and now over here as I go through this I should be able to pick uh let's find the option oops not going to go in the danger zone uh uh where is it I think I'm looking for something called email notification that's the one it was right on the left now I'm going to put my super secret password in before anyone else sees it okay so now I can have my email notification for say info@ ken.com and approved head I said the approved automatic approve the message is read only now now I can just simply do I don't really want to set the approval header uh I can basically say uh GitHub security as my approved header so I know how I can uh describe them separately and I go Set up notification and voila now I should get notification for security alerts now this basically means every time I do have a update setting yeah so yeah so at this point in time we have configured uh the notification to be sent as email now another thing that you have to look out for is under notification usually if you had on a paid version unlike myself which I'm not you would also see a button for for watching as well I've basically put the notification at the moment that you should get emails now this is uh going to send me emails of everything as well and not just this but I can also go to my organization so if I go to my organization and I can go into settings for my organization and if I look at the bottom left I should have notifications here as well uh oops okay okay for most a lot of the things I actually need like a k up Enterprise so I might not be able to do the remaining part but this is how you at least would explore sorry this is how you would explore what you can do with it now you can also Grant a team member a way to manage permission or manage these so you can just simply come in here I can put my name actually I realized I don't have any team members in there so or teams in there but if you have a team you can definitely include the team to be able to manage your um security alerts as well that's pretty much what I want to cover on this lab I'll see you in the next Lab before we start talking about GitHub dependable the first thing you probably want to know is just how prolific open source projects are as per the November 2023 report the state of the Octo report from GitHub it was shared that in 2023 developers made 301 million total contributions onto open source projects across GitHub open source are projects or repositories or libraries on the internet that are maintained by someone called maintainers now there are repositories for open source that may be maintained for a while but may no longer be maintained anymore because either the maintainers have not had the time to go back and look at the open source repositories or open source libraries itself have had developed some vulnerabilities and there probably was no awareness on how to resolve those vulnerabilities now there could be multiple reasons for why an open source is not being maintained in get the dependency graph is a good place to see what open source dependencies are in use in your project this is a great way for you to identify where you may have dependencies and what may or may not be a security risk the example on the top is showing you there has a high or at least two high dependencies which are high risk that's why they marked as high and the bottom one there are open source libraries that do not have any security vulnerable so you can totally ignore them and let them continue unless one day they do dependency graph by itself is not enough this is when dependabot comes in now dependabot is part of the GitHub Advanced security it uses the dependency graph that we spoke about just before to scan and alert on any insecure dependencies easiest way to understand dependency is that if you I guess the example of grocery store is the best one if you go to a grocery store and if you're trying to buy a bread if you T if you turn the food around or turn the packaging around you would notice that there is something called ingredients and if you go through the ingredients one by one you can find out which ones you're comfortable with which ones are organic which ones are not organic which ones are chemical acid or whatever similarly in the code that people write a lot of us use libraries open Source projects and a lot more information that may be helpful for the project to run but necessarily might not have been created by us this is where the dependency graph for hey this particular file seems to use this particular version of this particular language which probably has some replications or maybe not but dependabot is able to scan on triggers for GitHub action it can also scan packages as long as they had dependency graft enabled on that repository the alerts are based on GitHub advisory database entri which is maintained and an example of it for the kind of format is shown on the left for the different kind of package managers that can be available now it is worth noting that you cannot scan an archived repository and this is not your antivirus so you can't scan for males again I go back to the ingredient an example as long as you care about the ingredients that are like your libraries files classes that are being used in your code that dependency craft should be able to show you for the languages it supports which I have some called out in the example here how does one enable depend board for your repository depender board is always enabled by default for all public repositories and some private repositories hence the ASX you can enable get of advanced security dependency scan for all repositories inside an organization if it's your own private repository you would have to still enable it but for all public repositories it is enable by default going a bit more deeper into the private repositories if your repository is private dependo requires you to have an additional ghas license for you to be able to use dependabot on your private repositories now this is a good example of how dependency graph is used for creating Dependable alerts using security updates and the version updates which you can review thought it was a good explanation of what it could look like if it was being used however as I mentioned for dependency review by itself for private repositories it requires a ghas license now once you've identified depend about alerts and this can be configured on pull requests get up actions and other activities that happen but identifying vulnerability is a first step once youve identified vulnerability the next thing you would want to do is you can look at hey is the vulnerability valid or is it a false positive if it's a false positive you can ignore the alert if it's not a false positive if it's valid but downgrading to an older version without the vulnerability may be an easy solution that you can quickly do perhaps the solution is also could be you may have to upgrade to a newer version now both of these scenarios would require you to work with the developing team to understand the implications of upgrading or downgrading a version of a library as the usage varies per organization and depending on the software or the library it may be a crucial part of your production environment so you simply don't want to have all the uh upgrades and downgrades happen by yourself in spite of all the things I called out I would share some limitations of depend abort as well just to close off this lesson all alerts need to be reviewed by validating for false positive or actual vulnerabilities not all alerts would have a security patch so depending what security update is not a fullprof plan especially if you don't have a version to upgrade or downgrade to this is quite common if open source vulnerability is on an open source project that is not no longer maintained and unless someone takes responsibility of maintaining the open source project you are in a bit of a pickle or Mexican standoff whatever the right word would be now there are only limited languages that are supported by dependabot so in case your organization uses a language that is not currently supported by dependabot you may have to rec consider this option last but not least if you are using a private repository you are required to have a ghas license for you to be able to use depend Port but for public it's enabled by default that's all I want to cover for this lesson I will see you in the next lesson okay so in this lab we'll talk about enabling dependo alerts for public and private repository by the way just notice on the right hand top right hand side you can click on this to have your state of octe report which I was referring to earlier in terms of how much how much open source is being used okay to start with I'm going to find a public repository of mine I've got this uh I think I've got a few but I'm just going to start with the yeah I'm just going to start with this public one so just to show you how it's enabled if I go into security so security depend abort at the moment I have it turned on but I don't have any vulnerabilities this is what it would look like if it was already enabled let's find one where we don't have this enabled perhaps over here we don't have it enabled okay so this is a good one when you come on to this uh security Tab and you click on dependo you probably would see this as disabled if it hasn't been turned on now there are two ways to turn on dependo alert similar to some of the other GitHub Advanced security features you can either enable this on both public and private repositories or you can have this enabled at an organization level this is a public repository as I would show you here because it's public so I'll go to settings I come on to code security and Analysis over here I can see okay so I want to enable I want to receive alerts for vulnerabilities that affect dependencies manually generate the depend Bo pull request to automatically attempting to pull request or group all security updates to resolve allow depend to open pull request out automatically to keep your dependencies up to date if you notice the theme over here now to open pull request to open pull request and to open pull request so any pull request that is open and it has potentially adding a library that has wondery onto it this is how you would do it now I would personally recommend you to just have my person favorite is just to enable all of them uh but then that depends on how I guess what your posture may be like for example uh the dependency graph is enabled by default now I just enabled dependo alert I can also add dependo rules as well we can have my custom rules for how my alerts are going now this is obviously for part two of the lab but for the moment I'm just going to enable all of these because I definitely want to be notified every time there's a pull record and what I could be doing with it as well okay version update uh oh yeah so this what's I calling out the depend about version update requires you to check the frequency uh and to blah blah blah where the package manifestor located and you can get more information from configuration option for dependabot this is by default sing it to weekly uh if you're okay with that you can definitely make that change the file would be saved in GitHub dependabot yaml uh if you remember our previous lab on secret scanning do GitHub is a location where we store for secret scanning as well the files that need to be ignored similarly in dependo within the do gethub folder you can save on what libraries uh where the Manifest would be and how often do you want the schedule to run at the moment I think this is a bit Advanced for this class so I'm going to ignore that and I'm going to come back to my SEC security uh settings code security and Analysis I see how I have everything now you can obviously learn more about depend Bo alert on the page over here it talks you how you can configure your repository that dependable automatically updates the packages that you use um at the moment we are just focused on getting the alerts so I have enabled them now I go to security and I go on to dependo alerts are enabled now I can either click on here to save your dependo alerts or or I can click on this directly so it looks like at the moment there are no alerts for this right this is good I don't want to create any alerts but it's a good thing that there are no alerts now let's look at a private repository so if I go to repositories and let me just find a private one uh perhaps I can filter yes all right this is my private repository now this should have uh my understanding depend what it's disabled again s similar process I can now this time instead of going to settings I'm going to come over here and click on this reports setting and I can now enable the same things from here as well right so now that is enabled for my private Wonder oh sorry private repository as well now it's worthwhile noting that there would be some limitation that you will come across in terms of how and when it can be scanned but uh at least you're able to use diend about by default on your private and public report which is a good thing now we have that was the first part of the lab next part is to enable this at an organization level so I'll go to my organization specifically and now if I go to settings and I would go for code security and Analysis now over here depend alert affects your dependencies automatically enabled for all my repositories and it is enabled and automatically enable for all my repositories you want group okay now doing this has enabled it for all my repositories at least all the new ones I'll come through and that's from that point onwards you're doing depend alerts okay in the next part of the lab we'll talk about some actual Wonder abilities but this is the first part of the lab okay uh in this particular part of the lab we'll talk about vulnerabilities on dependencies that we may have so for this I have a repository that I had from before I'm just going to find the repository quickly so if I just go into this now it's worthwhile knowing that if you don't have a file that doesn't have an open source you probably would not find anything on the depender board but I think it was called view I want to say oh yeah perfect so this is a one this is a lab that uh I maintain with a friend of mine with that we have intentionally kept it vulnerable uh in terms of the libraries that are there that are vulnerable as you can see there hasn't been any change done for six seven years on this particular repository that has been intentional so uh the purpose of this lab is to show you I can already see seven alerts on my security so if I go onto that depender board is aler depender board alerts are enabled and when I click on depender board I can already see that I have a few by few moderate Wonder abilities in total seven open so this is what it would look like now the big question over here as we were talking and will be looking at this as a developer you have a look at this and you have to understand okay hook subject to provoke what does that really mean I don't know but I think what it does mean to me is that this was open two months ago some of them were open two years 5 years so this is to show you the fact that 7 years ago when I created the Repository none of these Wonder abilities existed but 5 years ago there was one discovered for cross scripting on the on a package in the file that I have for my npm which is a web packet bundle analyzer in the package.json file all of them seem to be on the package.json file and if I click on any one of them I can see how I can resolve it upgrade the web package to fix the depend board alert from going from 3.2.2 I can go from uh depend I can change the dependency and the recommendation is version of prior to our vulnerable packages use uh string without blah blah blah okay so patched version is 3.3.2 so instead of going for less than oh sorry that is that what it is oh yeah so I need to go for greater than or equal to 3.2 instead of less than 3.2 so that's if I change that update and if I would put a pull request in and that should be able to resolve the vulnerability now as you can see then four year later 2 year later 5 months ago 6 years ago 2 years ago two months ago so uh the important parts over here is to do the same thing so if I go to each vulnerability and identify okay am I using this package it is saying that my package.json file has ho uh if I pronounce that right as set to 6.1.3 but there is no patch available now as an organization I have to make a Cho Choice fa looks like the vulnerability the severity is high uh and am I someone who's not click on this package or Json file uh if I just do a command F I can already see yep I am using it and I'm using a version 5.0.3 which is vulnerable and it affects every version Which is less than 6.1.3 now I can make a choice and go the issue has been patched in version 9.0.3 I can go all the way there or backport it to 8.5.1 this is a obviously a bigger change uh for people who are developers you probably understand it now that I have been using version five in my where was it 5.0.3 moving from 5.0.3 to 8.5.1 or even .x that's a big change for people who have been the development background would understand this so This requires a lot more understanding of what other options are there how would we change it would changing the ho file would that affect anything else we have in the code so there's a lot more that needs to go into this as well as you understand the depend board alerts now you probably want to send email notifications for this as well so you would have email notification and you can even set up notification for how and where that should be going or uh in terms of I guess getting an email rather than going into this every single time and you can also have the these Auto triage feature which is still in beta at the moment so I'm not going to experiment on this lab but you can definitely if by the time you come to this recording it's already enabled you may want to give that a short where uh where dependent Bo opens a pull request and ignores false positive and SS alerts as well but this is how you would start and investigate any alert that you would get on depender board where after that as a business you'll make the call for are we going to fix this wondery create a poll request and update the package.json file which is the vulnerable which carries the vulnerable open source package or are we just going to leave it I leave that choice to you but that is the end of the lab Cod scanning is a service from GitHub which allows you to use code ql which is a proprietary service from GitHub or a code analysis engine if that's what you prefer if that's if that's EAS to understand basically code scanning helps you analyze a code in the G repository to find security vulnerabilities and coding errors Cod scanning is available for all public repositories and private repositories owned by organization as long as you have GitHub Advanced security enabled for the private repository code scanning needs to be enabled for public repositories as well and depending on whether you are happy with the default settings of code ql you are also welcome to use third party tools by GitHub through the integration they have provided for the languages they support code scanning uses GitHub action for workflow especially if you are folking a repository you would find that you won't be able to enable code scanning without having GitHub actions enabled because when you enable code scanning it runs a set of workflows which is in GitHub actions which is required for COD scan to work now similar to secret scanning and cod scanning the language is being supported and once enabled it fairly quickly goes through the code repository and even if you go for the default option but you can also go for the advanced option but I wanted to call it out that if you are folking a repository so it's not as simple as code scanning being enabled and we'll go through a lab later on in this lesson where we'll help you enable the Cod scanning capability now to enable code scanning when you simply click on enable you get this default configuration if you go for the default option by simply going into your repository clicking on code security and Analysis and on the right hand side in the middle you'll see code ql analysis setup and you just pick the default option once you pick the default option you should see the window on the the left and you simply hit enable code ql now it doesn't happen instantly it does take a few minutes for code ql to enable so you'll see the setting up screen and you would need to wait a few minutes before it actually gets enabled you would get to see this in the lab at the end of this lesson but for now this is how you enable code ql now as I mentioned there are two options when you click on the setup option for your codee ql analysis you can either use a default option or you can use the advanced option if you use the advanced option you're basically saying you're going to write a configuration file in yaml and you would not be using the default options provided by GitHub you would be using your own so that's the difference between a default and an advanced for the purpose of Simplicity and if you're learning I would say focus on the default it gives you the GitHub recommended option to start off with but if you are an advanced user definitely go ahead and write your own code ql configuration now it is possible to use code ql with third party as I called out earlier the simple workflow could be if you have Microsoft Defender if you have a container image being created or any thirdparty integration that is available in the GitHub Marketplace for the category of security they would all be available for you to use in the third party tool as integration for COD ql now the list keeps changing the at the time of the screenshot when I clicked on explore workflow after enabling code ql I only got 74 workflow options for security and again these are all going to use GitHub actions but this may be different if you see it on your GitHub profile depending on when you're watching this course it's worthwhile calling out why is code scanning important in the context of software development life cycle now software development life cycle goes through code where you where you actually write the code you build the code you test the code and then you release and deploy the code now you can run code scanning on every pull request which I would not recommend in fact GitHub doesn't recommend either GitHub in fact recommends the use of on P request path as a way or even request path ignore as a way to only scan for files which you want to include and use the pull request path ignore to exclude or not initiate any code scanning for the files that you have called out but if you know the location of what files you want to be scanned for code scanning then use the path variable but if you don't want to include certain files use the paths ignore variable actions on repository can have a set of actions that can occur on premerge pull request or push request so every stage of the software development life cycle if you're looking to integrate not just Cod scanning but security these options are available now to run a code scanning it is a trigger now the trigger could be multiple the trigger could also be from a push to the repository where you're pushing a line of code into the repository or someone has asked or triggered a pull quest which is triggered in a manner that it identifies that there is potential vulnerable code in there or you can write it on a or you can run it on a schedule basis the default is weekly provided by GitHub now code scanning configuration would allow you to change the code scanning schedule as well as event but that is also the advanced option if you decide to go the advanced path of writing your own yaml then that is definitely the path you can take now prevention is better than cure as someone said so if you are able to apply this preventatively or at an organization level enable it so that people have the option to do Cod scanning you may have a short of enabling code scanning made available for everyone welcome to the code scanning lab in this lab I already have created an example file if you are on GitHub you can go to github.com code Cloud security boot camp I have a repository that I've created over here which is public so you should be able to access it and I can put this uh in there as well but essentially it just Cloud secy boot camp and within that ghas example lab files which is the GitHub advanc security I'll create each folder for each of the different types of advanced security you can do in this particular lab we're talking about code scanning so let's do code scanning as you can see uh there's one file in here I haven't added a lot so the first one first thing you need to do is go into settings and the lab will talk about how do you enable GitHub code scanning to do that in your repository you can go to settings go into code security I don't have anything enabled as you can see depender board none of them are available Cod scanning is available which is under again code security analysis under the settings of your repository if you go into code security and Analysis by clicking on code security analysis and if you scroll down you should see a question said code ql analysis now as I mentioned in the lesson code scanning uses code ql so to enable that you need to click on setup default I would show you Advan in another example but for now we'll just use the default option it does take a few minutes it has recognized that the file that that I have is a python file in this repository it is important to know that code ql can only work against languages that we or that GitHub allows for in this case I picked one that it does I have picked the on push and pull request to protected Branch as well as the main I'm happy with that and it would do a weekly schedule now I'll enable this I can edit this if I want uh but I HP I'm happy with this so I'm just going to not going to change any of this I'm just going to go okay I'm going to say enable now it does take a few minutes and if you're curious as to if it's setting up over here if you're curious as to what it's doing if you come to actions you should start seeing over here basically uh as I've called out in the lab as well it uses GitHub actions to do it and because it's a public repository it is going to queue up a set of workflows in GitHub work in GitHub actions and at the moment I've kicked out the workflow for code qu setup it takes a few minutes once it completes we can continue the lab so I'm just going to pause the video and come back or I might just keep continue the recording and it might just uh or what I might do is I might just fast forward it there would be different parts to it as code ql is added and enabled just for you know for sh okay looks like code ql is set up now so if I go back to settings and code security analysis okay I can see the file last scan was 1 minute ago now if I go to security and I should see code scanning is enabled and I can click over here for view alerts it doesn't have any alerts it hasn't found anything on this yet it's a good thing so that means we are safe for now uh but if I go into code code scanning so it doesn't look like there's a lot I would have thought this would be picked up but this is a good example where it is not being picked up but to make it work what we can do is there's a I have this repository that I'm going to fork okay so while it's forking uh this is a website or this is a Juice Shop is by an OS Project which if you don't know is open web application security project they have a lot of these wonderful applications that you can use to identify if you have any uh vulnerabilities to so to continue to show you how it can work I'm going to click on actions CU I understand my workflow go ahead blah blah blah I need to do so if I go to settings for this and I click on code security analysis if I find my code scanning as you can see it would not be enable a because I don't have GitHub actions to enable that I can go into actions I understand my work and go ahead I clicked on that green button that appeared now it takes only a few seconds now I go back so okay now that I've enabled GitHub actions I can go into settings and if I go into code security and analysis on the left I should see the code ql analysis now to enable the for a repository the easiest thing to do is to click simply click on setup and use the default option you can use it has recognized there is Javascript files in here and python files in here so we'll do enable and if you want to see the act the set of actions that are taking place either you can just stop on this page and see what's going on and it would not show you anything or you can go to actions tab and you can see how it set up we'll fast forward the video to the point where it enables it but this is how you would enable code ql or code scanning another thing you can do while this comes up so I might open a new tab and I can show you how it works in an organization as well so if I go into this is my organization I can go into settings and within settings I have code security and I can use global settings under clo security and as you can see I can configure it I can and I can call it out recommend the extended query suite for repositories enabling default the extended query includes the default Suite plus lower severity issues so once I enable that I it would be enabled for extending queries to default Suite however it doesn't mean it automatically enables it for all the repositories however you can at least configure the recommendation for query seats to happen that is a global setting now there is a beta feature as well where you can see that I have two and I can apply uh to all repositories uh configuration for COD security uh I can even configure I can actually say hey I'm going to select these and I'm going to apply configuration for G recommended ones so I can just go k k up recommended to public repositories I want it to be as default for newly created repositories I want only public private and internal all repositories I want the code security configuration to be applied for all repositories once I apply that and it should kick off and it now has GitHub recommended okay so that is how you enable on a organization level if you however were on a personal account so I'm just going to go to my personal account if I just click on your profile so this is my personal account I can go into any of the packages I think I have the same package here as well but let me just go to repositories and I have have one called Juice Shop over here as well which I've basically foled earlier as you can see uh I had enabled Cod scanning before so I have a lot of alerts already on for COD scanning on everything is found that is the name of the file that it is looking at so it has found a lot of the code scanning wabil this is what it looks like I can look into the warning but for the time being what what I would do is the same thing uh maybe let me show you a file which I'll show you a file where I don't have it enabled so if I come back to the personal page I can pick any repository I just say I pick Cloud security Wonder Chief now to enable secret so to enable uh to enable scanning or code scanning on this if you notice I don't have code scanning enabled because I clicked on security and it show that it's not enabled so if I go to settings and I click on code security and Analysis and I come down I can see that code ql analysis is available I can click on setup same thing that you see at an organization repository it would not be any different when it's a personal account so you can do that and if you want you can click on edit and you can have a look at these but I don't believe you can change them unless you want to extend the default Suite in any other way but simply clicking on enable code ql should enable that for disal tutory now it's worthwhile noting I don't have uh I have a plenty of Json nothing really sophisticated over here it's just a readme file I'm not expecting it to do a lot of things here but I should see the same if I click on actions I should be able to see that I don't have much in there apart from I have all these Services enabled and to always confirm if you have Services enabled click on security for any repository and you should be able to see what services are enabled that's pretty much it that's what I want to cover in terms of enabling code secure code scanning for repositories and that's the end of this uh chapter I'll see you in the class using code ql to do code scanning this is how you enable code scanning by going to settings code security and Analysis code ql analysis and setup now for this we are picking the default option for now but we will talk about advaned in a bit in the same module this is how you would enable it for an individual repository but you can also enable that for a organization in GitHub as well if you are working for an Enterprise you probably already have third party tools that you may be using already that are already scanning cord doing wable scanning and a lot more fortunately GitHub Advanced security also allows you to import alerts from thirdparty code scan results in the form of sarif files that is static anal is results interchange format so Mouse full but s a r i f those who did not get the full thing so sarif files are basically alerts that have been captured in a third party scan of the same code that is in your repository right now so sarif files now you can upload these files using Cod scanning API Cod ql CLI or even GitHub actions however worthwhile calling out if you do use GitHub action method it still requires the use of giup actions workflow using the upload sarif action with the sarif file as the input and for those of you who probably know GitHub actions in detail you understand this this would be a step inside a GitHub actions file here I have in the screenshot an example of what a sarif file looks like it has configuration this is from a JavaScript typescript SF file that I downloaded from G iub the First Column is configuration second as a rule source and third as the unique identifier and fourth as the alert now this is a standard format that is recommended to be used if you're importing third party scan results into GitHub so that you can see them in code scanning in the way it should be seen now in case you're wondering what happens when you click on code ql enable it basically runs a set of GitHub actions in the background and we'll show this in the lab as well you can even have workflow files created as yaml format in the GitHub workflow SL cq. now the name of the file is not important you can call it anything you like but you can refer to it in the spe in the action that should happen when code scanning is enabled and it would understand oh this is the file that I need to use now Cod scanning obviously is once enabled kicks off actions by itself first one would be to install code ql and second one if you have a schedule it would set up a schedule for a periodic scan to run of code scanning for the repository that you have in front of it now if you choose to go down the custom configuration path that is instead of using default configuration if you choose custom configuration in this example I'm using a code q. yaml file that's the file would define what configuration would be used for scanning code in that repository another thing that also happens automatically is that it detects what language is being used for code scanning uh code qy is pretty smart like that they obviously support a a certain number of languages and they have detection capability for understanding that the repository that they're working on has a certain kind of language and code k pretty smart to detect it however you are able to add query Suite uh into it as well now more on query Suite later to enhance your findings that we understand what happens when code scanning is enabled it is important to know that code scanning essentially is running a code ql analysis engine in the background which is why get up action starts off by installing code ql the analysis engine first creates a database using information from the code repository and the database itself is a single directory created to analyze relational data copyed source file and a language specific database schema that specifies a mutual relationship in the data which goes back to what I was referring to that it automatically detects what language is in use that's how it will be able to work on it once the database is created code ql can run queries again against that code ql database for code ql queries you need ql or query language which is object oriented query language and the language is used to run against the code ql database which has the information on the code database now let's Deep dive into code ql GitHub code ql is a sematic code analysis engine that's you query data as so it were data in this case it would be a cql database which would have the relational context of the source code of all the files that are in the repository cql is not just to find information that is relevant for a nonsecurity activity you can also use it for identifying vulnerabilities pql files usually have AQL extension and there usually two types of queries one is alert based and the second one is pathbased and alert based highlights issues in a specific location in your code that's what would raising alert a path query would describe the flow of information between a source and a link to your code the screen also has an example of a code ql query if you notice a fourth line or even if you just look at the format and I'm going to talk a bit more about the format it does look like a databased query it has import from where select dive a bit more deeper into this essentially import would be defining the library or modules that you want to import into the query now this is your cql classes for people who are used to programming they might understand this already but I would say the easiest way to understand this is that uh first it starts off by having a lot of comments it helps you understand what each information needs to be the very first section is a commented section for query metadata that is if you have any some queries that you wanted to include in your code qul execution second line is for import where you can import different code ql libraries or modules by calling them out in your code ql file as you create them now this could also be code ql classes and predicates as well now there are other variables you can also use in a code query for example you can use name to define a label for the query you're currently to create description could be description in detail on what the query would be related to the kind as I mentioned earlier there are two kinds either alert or path and the prompt for that would be either problem or path problem problem severity defines the level of severity error warning or note Precision defines the priority of the problem is this a very high or a high or a medium or a low risk ID is a unique identifier and tags are labels you can attach to identify the query easily so let's put this into practice if I had the above which is if error handle the error as a comment the if expression in this Ruby is a bit redundant because there is nothing really going on if I use the if statement but what if I wrot it the way that it is at the bottom I first import the Ruby abstract syntax tree which is ASG file for code ql after that I use the if Express now it calls if Express which is from that ruby. ASG file that I imported just before now where not exist ex if express. getet then is basically where the content of the if then expression does not exist and select is a as I said earlier is a filter that you apply for what you want the result to be filtered by so in this case it would be it would be a human readable message of the problem based on this if expression is redundant that is if it matches a criteria it is going to display the result that was just a single query but you could also have something called a query Suite which is basically grouping of code queries that run against your cord but a grouping of it not just one or two but you can have as many that makes sense and are available in your code quer Suite GitHub also has a builtin code Suite which is set as default but you can also do security extended version to it as well now queries included in the Bild feed also are supported by languages like C C++ C go Java cing queries Java and typescript which is the example I showed you earlier python queries which is the lab we'll be seeing soon JavaScript is also in the lab Ruby queries for code ql analysis Swift queries for people who are the Apple iPhone people writing quotes for apps that would be swift queries for code analysis the builin queries for the query suet can be viewed in your GitHub documentation which is easy to find this is specific one is for python analysis you can see the first one being accepting unknown SSH host Keys when using paramiko aary file right during tar file extraction bed HTML filtering rejects all of these are definitely things you can call out as well as things that are helpful for you to quickly understand what the query would relate to there also code ql packs now cql packs are consisting of not just cql queries libraries which you can use the pack to share create and us it as a dependency as well and in your metadata if you'd like to include that in there as well a Cod ql pack contains queries Library files query sues metadata but there are three kinds of cod Q packs for example you have query pack Library pack and the Mortal pack query pack is a precompiled query which was what we were looking at just in the previous slide Library pack is to be used with a query pack but they do not contain any query these queries are not compiled separately but these could be custom on that you would created yourself model packs used to expand code scanning to recognize libraries and Frameworks that are not supported by default like for example if you may have an organization specific code ql query that you would want to include you can use this for that now that we understand the anatomy of code ql and what happens when code ql is running it is worthwhile knowing once you've enabled code scanning you can use two ways to run code ql code scanning one is code scanning workflow where it's a default you are either using Code ql packs or code ql queries to inform your code Quil analysis engine on what test to run the second option is your custom configuration file which is if you have used the Advan option for setting up code ql you could use that as a way to start building up code ql packs as well as code ql queries that you can be adding to the scan about the registry of standard code ql packs it maintains on GitHub which also reminds me that you can use code qul code ql to scan containers as well either using third party tools or simply using existing packages available in your code ql now different kind of packages do exist you can install standard packages like your code ql CPP C go Java JavaScript Python and Ruby as well which can be automatic downloaded if not download already worthwhile knowing that if you have both that is if you already have a workflow defined but you also Define queries in your configuration file the workflow files queries would be the only ones used unless you add the plus symbol to include the configuration file queries when the workflow kicks off more information can this be F can more advanced information on this can be found on the gab website now so far we've been talking about how to enable code scanning we've spoke about how to use code ql and what really happens when you start it and what kind of rules you can have now we can go a lot more deeper into it and I would highly encourage you to do that but GitHub Advanced security is a bit more than just configuration files it's also about all these alerts that you're going to get perhaps could be over 100 alerts when you run it on a file all these alerts may appear on under your security tab for your repository and please don't send this as it is to your development team or whoever supposed to be responsible for looking after the results of vable instances in your code repository instead I would encourage you to have this workflow for your alerts first one would be someone in your team is triaging whether the Cod scan alerts are genuinely a false positive that is they are not true or are they a true positive which means they are true and someone needs to investigate this further because you have identified it is a one and it can be exploited now the step two on this workflow would be now that you've identified that it's a true positive your organization most likely has a security risk Matrix to identify hey what do you do with high medium or low rating of risk for security and specifically technical risk of security and you would be expected to follow the appropriate procedure to take steps towards resolving the vity that is if it makes sense for the identified risk rating at this point in time you are engaging with the development team the product management team and anyone else who probably is supposed to be in the loop for them to be aware of a vulnerability being identif ified especially if it's a very high or a high vulnerability and the rating may change from organization to organization but the processes on the at least on a very very high level are very similar the steps to take after you've identified a true positive may vary from an organization as well okay welcome to the lab for module 5 we can talk about code ql to start off with I am in my cloud security boot camp get a repository I only have one just an example lab file that I created I had that enabled for so just for me to see what how I have enabled and what I have enabl for security I can simply click on the security tab on the top and clicking on that which has number three next to it I can simply go and see okay my dependabot alert is enabled my code scanning en is en enabled and my scanning for Secrets is also enabled but looks like I only have three Secrets which is probably a bad thing but still but I don't have any dependabot vulnerability I don't have any code scanning vulnerability now I'll be honest I'm not the best programmer in the world but one thing I know for sure is I at least know how to find wable cord which I can fix so in this scenario I have an example for you that I've looked into before uh oh there a very popular organization called oosp and what I'll do is I will copy that repository over here so this is called Juice Shop which is a repository from oosp Juice Shop oosp is a open source vulnerability management project they are they stand for open web application security project and the intent behind had U is the most modern sophisticated insecure web application that's how they describe it because the intent behind creating this repositories for people like you and me for us to learn on how we can do security and what are some of the bad things we can look at but in our specific scenario we can use this to test out the GitHub Advanced security get code scanning option so for this I would do a fork that is I would create a copy of this for myself I can do that by clicking on the fork button you can click on the drop down if you like and you can say where you want to create it I already have a folk on my personal but I want to create a new one so I'll just click on create a new new one and I can choose the owner to be my organization now there is no other repository under Cloud security boot camp with that name so that's what would stick and I can probably say number two so just it's a bit different and I can copy the master Branch only I don't really want to have any of the sub branches uh if I've done all of that I can just click on the green button which is create Fork now it does take a few seconds sometimes few minutes but well it only take a few second but it that is how it would be and now you you notice this is under Cloud security boot camp if you see where my mouse is highlighted uh it is a public repository called Juice Shop under Cloud boot camp and it's folked from the actual original repository now we're not done yet we obviously only have a one rable repository that I have just brought into my uh GitHub organization I don't really know how to do I I don't really know yet how to learn code scanning so what I'll do is I'll go and enable this first so if I go to settings on the top right and code security and Analysis now I've mentioned this before but I'll call it again because this is a fork and because we just learned from the class that code ql code scanning requires GitHub actions we would not be able to do anything just yet so let me show you why if I go to code security analysis and if I see look at that it's not not enabled because GitHub action is not available now I can either click on enable it here or I can submit a code scanning result which is the s a file I can click on that and basically talks about how you can upload a SF file using the three options that are available but I'm going to keep it simple for you guys so I'm just going to Simply click on enable it now it's going to ask me hey you understand you can either look at the workflow directory yourself but you can look at it after as well but you can say I understand my workflow go ahead and enable them because we are smart people so I'm going to click on the green button all right now we are under the actions tab which is your GitHub actions tab workflow and as we just learned in the class um workflow is where you define all the automated action that the GitHub action is about to take we're obviously keen on the code key scan uh it hasn't run yet so that's why you don't see it but you can see the file that would be triggered when code ql is enabled so if I click on that you would be able to see the file which is the workflow and code analysis file this is the file that we run this is what a code ql custom would look like custom Advance would look like the easiest way to understand this uh this is a GitHub exper this is a GitHub action file more than a codee ql file so the simple way to understand this if you've never seen codee ql is that this would run on push as well as a pull request this also calls out that hey when you are running a job called analyze run the analyze function run it on an Ubuntu container it should have action and content as the read and the security event should be written down it should be on JavaScript and typescript language now once it's defined what the analysis directory database container would be you can then look at the number of steps each name is the step that would be taken that's name code checkout repository initial initialize code ql and then Auto build perform code ql analysis now all of that is triggering a GitHub /ql action and it's already called out the file and the checkout it needs to run that's how that's the simplest example of a code ql scan now that we've done all of this you you should come back onto security which is in the top if I click on that you would notice that depend of what was already set up so it has identified that I have 13 Oneil in my depender board which I'm going to ignore for now because we are focused on code scanning at the moment it's not if I click on code scanning it's not configured but instead of configuring here let me just take you to settings and code security and Analysis you scroll scroll down should see Cod scanning and now look at that looks a bit different doesn't it now I have spoken about the third party tools I will talk about it again but for now let's just choose setup and default I'm happy with this it's identified that I have python as well as JavaScript in my repository it has extended some query suets as well and I have it on push and pull it would run on weekly schedule now I can edit this if I want but I don't really want to so I'm just going to go enable code ql now once this is starting to set up you should see assigned repository setting save may take a while because Code full scan of the repository now if you look at the bottom it says it's setting up so code ql is still setting up if you want to see what it's about you can go to the actions tab which is on the top and you can see it's running a code Q all set up now if you give it a few minutes uh it should run the code ql and hopefully because we definitely have aable code in here the security number should update from 13 to a larger number with a bit more than just my dependency B alert but while it's doing that I wanted to show you what third party tools you can use as well now if I go into settings I come back over here and if I click on the explore workflow these are there are 74 code scanning workflows that are available for us to use the best one obviously being the code ql analysis from GitHub itself if you just want to stick to that but there are a lot of third parties that you can also use for code scanning there are Microsoft products nonmicrosoft products uh a lot of them basically you can keep going through all of them pick the one that your organization has already gotten an allegiance with or probably already working with uh they also as you can see this is by GitHub actions as well I would probably only go for the one that you recognize there's one from meta for a python compliance one uh I would only look at the ones that you are comfortable to run in your organization and are bu I guess for lack of better word identities that you trust or organizations that you trust I think at this point in time I'm only only accepting GitHub actions as the OWN ERS or Microsoft as the owner that's probably trustworthy for me I can probably use those uh Microsoft Corporation quite a few of them depending on the purpose you can search the one that makes the most sense for you and just use that so you can integrate that to integrate that let's just do configure if you click on configure it takes you to the code ql file now this is exactly what we spoke about in the class we gave it the name when do we want it on what branches do we want it how often should the schedule run for that workflow what should the analyze job have whether the security event should be written you should fetch internal or private code ql packs the strategy and then we are on to the steps this is exactly what I was showing you in the previous one if you notice over here you can first initialize code ql that's what's going to kick off it's going to identify the language from its existing Matrix and also the build and if the build is manual it's going to run a shell command and the shell command is going to basically if you are manual make bootstrap make release and exit and the rest of the analysis would happen at the same time as well that's when it would use the perform code analysis now this is how code ql itself runs which is what we would seeing over here uh if I just refresh this page sorry just one second oops not that I wanted to do that uh it is still setting up so um the if I come back to the action it can still set up still in progress give it a few minutes and it should just basically work after that so I'm going to pause the video and I'll come back for e e e e e e okay look like my okay I'm back and looks like my code ql is setup is finished so I go into code ql I can see that there was an a bit of an error as you can see over here realtime shooting of the error uh for some reason it was not able to make a connection and was timed out but it's still finished so I'm not going to question it now because of a success uh but let's just quickly see what it did so if I click on analyze I can see it did a perform it a setup so if I click clicking on this it you can see what it did exactly what was called out in the file it basically had a checkout repository with the with it basically called out the image it called out the GitHub token to be used and as it went through it it initialized it set a code ql and perform post initialize you can actually see the entire job over here the more important thing over here is the output cleaning up orphan evaluate there are no errors over here which is a good thing so it definitely worked uh so did analyzing the python files and it did a great job of looking at it and it did some adjusting required nope not required quired okay so now if you look at the top you probably will notice that hey there are 132 things that have been wrong which is probably not a bad well it is a bad thing as I was saying in my example there are 119 uh incorrect there are 119 wable files potentially if impacting this particular code repository it is mod is meant to be so uh if you see more don't be afraid because it just could be that when you're running this Cod scan against the version of Juice Shop that you're running there may have been more one that have been discovered but the important thing over here is I have it enabled and now I can see my code scanning results as as you would have noticed it does take a few minutes even after it's turned on for to finish a full scan but this is what I am facing at this point in time I have 119 open issues now it is important to understand the criticality so if I click on severity you would see there's low medium high and critical this is what I was referring to in the class that critical means that it is really critical that this should be looked at today like right now and it may be different for different organizations but I would still looking at the critical that we have if I just filter this by critical you would notice that there is a lot of critical right there right so I'm just going to go okay I can't clue everything here so I'm going to sort uh how do I what's the best way to approach this I have 119 code ql 19 of them out of the 119 have been found to be critical so I would as a first step if I was most organization I would just go through these uh let's take the first one ex oh now remember we are doing it based on the severity we're not doing it based on oh what looks the most interesting it is very important for for you to know that you're responding based on the criticality of the severity of the ra alert raised over here critical being the most important followed by high followed by medium followed by low and when there are 119 the last thing you want to do is send it all to your developers because as we saw in the class this could have a lot of false positive in there as well so let's check let's investigate the first one just for you know actually how about we do code section that probably is the more enticing one or even hardcoded credential as well that could be something people should look at so if I click on hardcoded credential oh look at that it has a beer token right there which it looks like it definitely looks like a password so I probably would this is definitely in my opinion it is it is a critical because I can see it's a code now me as a security analyst who's reviewing this I can either copy out this entire token and if I have an internal validator for for o tokens or just oo jot tokens I can simply use that to identify is this coded is this key still vulnerable or is it still active and uh if it is I need to ask the developer responsible for this repository to replace them and probably remove them as well especially if this is a public repository which in my case it is what about another one let's just go code injection which we were looking at just slightly this this is based on the fact that I am not filtering the input that I'm taking from the user that's where it's calling out that hey by the way if you're directly evaluating user input code without properly sanitizing the input first allows an attack's arbitary code execution so I could literally send it some kind of injection attack and it would be interpreting it and running that instead of running the actual code now these are some of the examples and as you would have seen in the class we spoke about how these are uh to be triaged don't send all of them to the developers in one go make sure you at least have a look at whether they are false positive or true positiv now if you notice it's reported a bit of a warning for me so if I go into this I can see that the status of the tool now there's two ways to come here you can either click on that button or I can go back on tools go back one more you can see over here it says add tool and and says tools if you press in tools you should see I only have one tool called code ql and it last Rand 10 n minutes ago it is looking for it has looked at 571 file 571 that for typescript three files that were Python and 14 files that were JavaScript so it's primarily a typescript uh file or typescript repository I can click on this and view the setup I can go okay it is the code ql that I had enabled it is set with default nothing to see there I can click on view configuration I can see when it was last configured and look at that I'm actually on the same screen that I was on before now if this was important for me when it last ran the scan and I found that it could not process a file due to syntax error a part error for syntax was to now I have two options either this is a legit like I can go into the last scan and look at where it was where it found what it found and look at that all of that and there was one particular place it was called out as it should not be right okay so all of these looks like name changes that need to happen and yeah that has not been called out and to ignore the white space for now yeah so it's basically showing us hey this is a change that we can uh we can commit if you want by making by fixing broker links and it is being shared by someone else and at this point in time I don't want to accept any queries from so I'm going to keep going back one more step back I can cancel it all right now the syntax error at this point in time I have the choice of uh either I can use the exclude option in my configuration file to exclude the folder altoe where that JavaScript is because we didn't have a lot of java files but if I want to I can just correct that as well and use that as a way to um I guess continue my scanner full Glory now these are just the standard tools that are available from code ql if I keep going back you can OB obviously worthwhile knowing you can also add tools as well which takes you back to the workflow screen and you can set up a work for yourself that is how you would identify enable as well as triage Cod ql results for based on COD scanning done by GitHub Advanced security that is all that is all I wanted to cover in this lab I will see you in the next one it's important to understand how GitHub Advanced security works with the software development life cycle now if you are a developer you you probably understand a software development life cycle but if you've never heard that before a software development life cycle is what you see as a diagram at the bottom from the time you write your first line of code in your IDE all the way up to you deploying that into your version control system and all the way into an environment that entire process is called software development cycle now security can be integrated at various parts and it's the same with ghas GitHub Advanced security allows you to integrate things like security policies code scanning secret scanning depend the board and also provides you a security overview depending on the organization you're working for this may look slightly different and based on the plan you have with GitHub this may look a bit different as well but one thing is for certain you do want appropriate security access controls for all the findings you don't really want everyone in your organization to be aware of all the vulnerabilities that have identified for a repository especially if it's a production repository so you may decide and choose to have only a small set of team members or individuals who can access these services and get notifications from it that is probably the number one best practice I'll call out right as the bat As you move into a bit more detail on how and what services can be applied the First Security Service that I'll call out in GitHub Advanced security that you can use in your organization especially if you have a GitHub Enterprise unfortunately this is not available for nonenterprise license the service that I'm talking about is called security overview security overview helps you get an overall security status across all your repositories within an organization now that helps you look at all the risk posture secret scanning Cod scanning as well as dependenc as well in one good picture if you are someone who has looked at security policies before that is usually in the beginning where you can configure how people can inform certain threats that may be in your repository usually security team would Define the policy and how this can be used to report on any threats this is usually done at the project configuration status where you are defining where before someone code has import into the repository on how you want your vulnerabilities to be disclosed this is no particular order it's just my preference to have secret scanning as a first thing that I normally get implemented if you're thinking of implementing security into your GitHub pipeline I would say GitHub Advanced security secret scanning or secret scanning in general could be a good place to start integrating security because secret scanning is known to most people and as we have done in other modules here you probably would understand what secrets are and why you don't want them there but if it's not implemented you probably want to work with the security team to integrate that or extend your GitHub Advanced security to enable secret scanning the other concept after secret scanning which is a great place for security is dependable and dependency review these are looking at dependencies based on the open source libraries that are available in the code we obviously spoke about it detail about these in the previous module so I'll definitely encourage you to find out a bit more but in terms of who gets actioned or who gets a request here even though the service may be integrated into your pipeline similar to secret scanning Dependable depend scanning as well as code scanning they all work independently they all have their own set of results and based on the organization you may be working with one or more security team for each one of these or a dedicated security individual who would be helping your tregs as well we have been talking about vulnerabilities it's important to understand how usually security vulnerabilities are reported globally there are two big parameters common vulnerability and exposure which is cve and common weakness enumeration which is cwe following is a screenshot from GitHub advisory where you can see the rating on the right hand side with cwe 400 cve 2024 32476 now this number is different for different vulnerabilities and different weaknesses when I talk about vulnerability I'm specifically referring to the cve number and a cve score is basically a reference method for publicly known vulnerabilities of a software or a hardware for a particular version of software and Hardware like it could be a nodejs version 1.0.0 has a certain vulnerability and that would be disclosed as cve on the other hand common weakness alumination or cwe is a globally recognized reference as well however that focuses on type of classes of weaknesses rather than individual versions it looks as family of class for weaknesses side this is also a good point to talk about GitHub advisory database that is a URL that I've provided github.com advisories is a great way for you to identify all the advisory security advisory specifically for all the vulnerabilities cve packages and others that have been disclosed and GitHub maintains a database of all the known vulnerabilities for certain known languages now in case your language is not in the one supported then I would encourage you to have your own thirdparty way of identifying threats cves and cwe for the code that you may be running in your GitHub Enterprise GitHub organization GitHub repository or GitHub Enterprise now that you understand where software security development life cycle can work with security you also understand advisory and the types of vulnerabilities it's important to also understand where does the line get drawn for roles and responsibilities now again I would put the cavar that not everything that I share here is applicable to all organizations it may be different to for different organizations but generally speaking you would know that developers are responsible for developing code they are usually contributors into a repository or could be more than one repository at the same time there are project owners project managers and team leads and other managers who are encourag to be participating as a username who are also given a user account in GitHub the reason for this could be approval required for a certain commit or a certain kind of commit or it just could be review of the code for the individual contributor who has been contributing the codin security team also gets access to repositories that are used by developers this could be based on secret scan scanning or any of the other ghas services they may have identified something that they want to work on and they may require access to repository so sometimes they may also have a similar role to a developer depending on how extensive or how involved they are in terms of the repository last but not least is GI of administrator this may be in the development team this may be in the platform team this may be people who are in the corporate department but they are responsible for managing the security as well as your user management as well as your repository management to to an extent depending on which organization you're talking about they are responsible for anything to do with configuration of GitHub itself like if you need access to a certain repository they would be able to help you out and probably the other side of the coin the security roles usually there is someone called an application security expert who works with a project team whether it's a developer or a project owner to help them triage vulnerabilities have been identified by the GitHub Advanced security tool now obviously there are people who would primarily work on building the workflow for this as well because they may be just starting off in their Journey they may even only have secret scanning enabled and none of the other GitHub Advanced security servic enabled so it may be just their job is to figure out what that workflow would be and enable those Services they could also be contributors in one or more repositories especially if they are uh talking about security repositories or trying to eradicate vulnerabilities from certain repositories which brings me to security policy security policy are definitions you can have in a security. MD file which lies in the do GitHub folder of your repositories you can enable it for entire organization as well if you like but in general what they're meant to be is they are a way to securely report security vulnerabilities for a particular repository so in the previous slide we spoke about the different workflows you may have based on what GitHub advaned Security Service you may have turned on each one of them would give you a certain number of vulnerabilities and depending on how and what you should be doing that could be defined in the security MD file so next time you find a vulnerability definitely look into the security. MD file or markdown file inside your GitHub folder for the repository to identify how can you disclose the vulnerability to the owner of that repository responsibly depending on your organization you may obviously have all of the services turned on or you may take my advice and if you've never done get of advanced security before you may start off by enabling a secret scanning and then move through dependency alert and then move to code scanning irrespective of the path you chose depending on how many of these services are integrated the workflow would depend on the rating that your cve or cwe has your organization may decide that any CV score of nine and above could mean that you have to escalate to a senior or get manager involved however if it's a loss Wonder te you may not have to do that and you can just triage that yourself but what that workflow can look like would differ from organization to organization but in general there is a known rating provided to everyone in the organization for them to know on a glance that hey if I get a Oneil which is of a certain CV score or if I get a Oneil which is marked as high by GitHub Advanced security I should use a security policy that I've we find just now in the repository to inform the right people in the organization about the vulnerability that I have discovered and how I can help perhaps remediate that GitHub Advanced Security Administration now one of the biggest part about administration of GitHub Advanced security would be to enable GitHub Advanced security itself the choices could vary based on how many public reports repositories private repositories you may have as you can see from the diagram here public repositories have all these Services already enabled by default it's only when you switch to private repository you would get features only if Advanced security is enabled to enable you can enable obviously on all repositories in one go and you can do that across the board on your GitHub organization level by automatically enabling it the question remains that would you enable that for only the ones that are existing in your GitHub Advanced security at the moment or GitHub repository GitHub organization at the moment or would you enable that for all new private repositories as well that is something that you would have to make a decision on and perhaps require an interaction with other other team members and managers to make that call on how much of GitHub Advanced security would you enable across the board there are two ways to enable GitHub Advanced Security One is using the GitHub user interface simply loging into the website and enabling Services either at a per repository level or at the organization level or you could use administrative shell provided by GitHub CLI to activate GitHub Advanced security and perhaps all services of GitHub Advanced security for your organization in GitHub the biggest question here still remember is should everyone have access to all the findings and also should you really have all the services turned on or has there been a staged approach so that you're able to identify and remediate vulnerability and not just have a lot of Vil to triage without uh having a proper process around it now that you've enabled GitHub Advanced security you probably want to have restrictions on on who can view what alerts and from what GI of advanced Security Services you may already be aware that by Nature security vulnerabilities are sensitive and by the same nature disclosing all the vulnerabilities to individuals who may perhaps may not have the right kind of access or may not be even informed about the right steps to take you may want to be mindful of Who You disclose the alerts to so alert rules for example the depend rule for alert similarly Cod scanning alert secret scanning alert can be used to identify who the appropriate owner would be for any alerts that are created for identifying a code scanning alert or a secret scanning alert or dependabot alert the example shown over here is for dependo alert which you can find in your personal applications in your personal repositories in GitHub as well and there are certain amount of minimum permissions required if you notice except for code scanning everything else requires at least a repository administrator or a organization owner role which is super user level role so you get an administrative Privileges and that's why it would be important for you to think about the workflow that you choose and who you should choose to expose the alerts to now you may need a owner or security manager to perform you may need an owner or a security manager permission to view security of all repositories because you decide that hey only the security team should have access to it but you can like any all the other features of get Advanced security you can enable this per repo or for a team or for entire organization as well but this is a great way to identify the overall risk and vulnerable T posture of your repositories and projects in your GitHub account talking about alerts in your repository there is a service called security overview which is only available for GitHub Enterprise plan users but if you look at the screenshot it's a great service that helps you look at all your repositories in one single glass pane for knowing what the overall security landscape looks like now whether it's in terms of how many repositories are impacted by by code scanning how many are impacted by depender board or secret scanning and what the overall risk posture looks like GitHub also provides you with logging in terms of administration you are able to identify and audit what users have been doing if you are on a personal account you get access to things like security log and sponsorship log for all the activity that your user may have performed in that particular in that particular account similarly organization level uh the security logs are called audit logs and both organization level as well as personal account has sponsorship logs uh which are because you can get sponsor for your repositories you can also see the activity performed by the sponsors themselves as well there's another way to manage and administer GitHub Advanced security if you have access to GitHub access token which you can easily generate from your GitHub account you would be able to log in into the API and make specific requests for secret scanning or code scanning undependable mod alert please be mindful this is an automated way or programmatic way of accessing this so a lot of the usual features perhaps audit log or security log would be the only two helpful things that you can actually find out you can use to identify if someone is using programmatic access that would be one kind of administration you may want to do is is now that you know the logs you know that there is API actions possible you would use the logging mechanism to understand who which user has performed what action in GitHub if there is a suspicious one