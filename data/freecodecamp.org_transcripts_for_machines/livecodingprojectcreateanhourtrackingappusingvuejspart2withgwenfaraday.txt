hi everyone welcome back to another vjs stream on free code camp hi sassy it's good to see you again hi tom so today is a continuation of the last app basically last week's app which was this view nwjs hours tracking app and i'm going to post this in the chat i think it's in the description below too let me oops there we go all right so i was basically building this application to track hours in vue.js so you can still watch the last stream and you can also read the readme here there's some more details about it so basically i made a couple screens last week um got the front a lot of the front end started anyway and so today i would like to be able to set up some kind of a database solution and then finish setting up some more of the screens in the application and just real quick i looked through quite a few solutions that people use for databases for desktop apps over the last few days and it's quite different because i'm so used to you know attaching the database to a backend and from the front end calling an api or even doing a full stack application together like a django app but there's a distinct front end and back end but in desktop apps it seems like it's recommended to just call called because it's all compiled into an application anyway so um i don't have to differentiate between the front and back end as much it's okay to i guess call the database from the front end and so out of all the options pouchdb looked really good so this is the one i'm gonna work with today for the application i also set up this is uh comes from couchdb so i set up couchdb earlier just to check it out because i hadn't used couchdb before but i used dynamo and and a couple other i would say similar databases yeah so um that was the starter for this app so i have the code open and i'm going to go ahead and run the code with the npm start command and this should open my browser window for the nwjs application all right cool so this is what i did last time this is all in bootstrap by the way and i have this page is the hours log and then i have a projects page uh there's no canada project that was just the default from this drop down component that i added oh add new project isn't set up yet but i do have this ad entry for the hours log where you can add a new hours entry um so i think i'm going to start off trying to for this hours log i'm going to start off trying to save this in a database and figuring that part out so i'm going to come to pouch db skip bower um okay so npm i'm not going to use the node because i can just use it directly for my view app here so i'm gonna go ahead and install pouchdb um oh right i have to stop it anyway oh well so let me get this installed on first okay and then just in my html i can require db and i shouldn't have to do anything else okay and then i'll have to set up the database so i guess i'm going to do this in my main.js file in the view application that's still installing can everyone hear me okay um oh let's see source so in my main js file um oh here's the public so here's my index.html file which is let's see build files will be autoinjected so i can add this in the header okay cool hi oliver i think this is the first time i've seen you here welcome to the stream so let me just add the db here in the head tag above anything that's going to be injected and above the view app um okay so now it says working with local databases to create local database you can simply call new patchdb and give it a name so this is what i'm going to do rdb equals new pouchdb and i think i'll put that in my main js file for right now and then i can separate it later so i'll say pouch db config let me zoom in one where's the drag there it is okay pouch db config okay so this is my new db i won't call it kittens though i'll call it hours for hours tracking let me do this camel case okay so i have a new db instance and then okay it says live code example pro tip whenever you see this live example in the guide you can download it just to follow along at home for example to run this app okay i don't want to do that how to oh remote databases and give it a path to a database in couchdb i don't think i want to do that although i do have couchdb running right now just in case get basic info about the database working with databases okay and then oh interesting so i can um all right let me run my app i think with the dev tools oh npm start i think i'll be able to navigate through this database using the in browser dev tools the same ones i use in chrome or firefox okay so that's loading let me try to open the dev tools let's see inspect so okay not in source let's see is it in i can't remember which one application sources why am i i'm having a brain fart right now i can't remember yeah here it is application all right so indexeddb um i'm not using index db cache storage application cache local storage um okay i thought maybe it would be in here but i guess i need to read a little bit more let's see indexeddb web sql inspectors you can use the normal developer tools to see what your database looks like under the hood in chrome just choose the overflow icon tools developer tools then click on resources tab then indexeddb okay tools developer tools all right so oh these are the developer tools resources tab do i have a resources tab um more tools yeah i don't see it okay i mean index db is here anyway so this is probably what they're talking about but yeah i don't see it there so maybe it just hasn't added the database yet so okay um so i have this which is a new db hours tracking and seems to be doing okay yeah there's nothing to add right now so how do i add a table or a collection to the database um you can also enable debug logging oh wait what am i doing i'm not importing pouchdb from oh yeah i am it's in my index.html file okay nevermind so i have my pouchdb database and so i should be able to let me enable the debug mode put that here okay delete your local database in chrome you can use clear cache all right um debug mode i wonder if it's in working with documents so patchdb is a nosql database yeah okay so to store a document you simply use put um okay so db.get mittens okay so there i think there is no concept of tables in this database it's just put the documents and then retrieve them by the id okay well um this is interesting okay i think what i'm going to do first then is finish up some of these pages just so i can get going with this and then work on putting things in the database so i think i'm going to pick back up on the projects page where i was here and make it so you can add a project because i'm going to need a foreign key relation between these projects and which hours or which project certain hours go to so i think i'm going to finish setting up that so select projects i need an add new project page which will match this schema here so i'll need a name description color and then create it at updated should be automatic so i need a name description and a color for the project so the first thing i need to do is create a view for that get out of here in my source so i have app which is oh wait this is the wait one second i think that was a different let me open this in the code editor make sure that's the right app there we go all right so yeah i was wondering where my views folder was okay so here's the projects page that i have and i have the time entry page which is the form for entering new hours so i'm going to copy that and i'll go to views and now i'm going to put i guess project entry page since i'm calling the other one time entry and i'm going to paste this let's see what i need to change not time entry but project entry and okay i don't need date pickers for this and okay i have submit and reset buttons so i need to grab form elements for this oh and let me change the page name to project entry uh start date end date okay so i have a basic boilerplate for it um oh yeah let me add it to the router real quick so i can wrap to that page add time entry so let me copy this go to the end and this one will be add project project entry okay now i need to import this at the top um project entry project entry okay so now i have it routable so let me go to my hours log or not my hours log um okay in my app no actually it's from the projects page it's not from the main bar so this here this add new project so let me just create a link from here and say at click and then i'm going to use the view router so dollar sign router dot push and then whatever route so actually i could do based off the name so i could do name is project entry let's see if that works oh i need to run it again so npm start and that'll take a minute okay so now project entry is routable and then yeah the database is really the next thing because i need to be able to add these hours and projects in here so from the hours log if i add an entry from here okay cool i can add a project entry let me just add those fields real quick and then i'll get back to the database so name description and color and from okay from here i have these label start date so this is going to be name and then add description and then i'll add color and i'm using vidif not beautify this is bootstrap okay let me look up bootstrap view then for the forum elements bootstrap view here we go okay uh get oh docs here we go so let me look for form and i think just all the form components are on one page here so where is the code here it is so this b form b form group b form input so this is what i want b form input and then so the first two name and description are these inputs let's see this one will be type of text which is default so i don't think i need it there required placeholder is name and v model is form data and then i'll put name which i don't have there yet so name id is okay and now let me just copy this actually i'll probably want a text area so let me search for that form text area yeah let me copy this one it's a form text area okay b form input now i have text area i think this is actually zoomed in too much maybe yeah that's better it was sideways scrolling a lot okay so the model is is it form data dot description and then i'll say enter a description for the placeholder three to six rows that's fine um and then oh yeah i'm not closing it that's why it was giving me an error okay cool that looks good i wonder if you can resize things oh not really in this that's fine so i have a name description and then i need a color picker so let me look for color picker i wonder if they have one they have bar color schemes color picker those date pickers oh here's color picker it's a third party library i guess view color picker v color vert view color picker do i want to add a whole color picker um yeah it looks pretty easy to use let me look at the other ones oh you can zoom panes independently in vs code i didn't know about that um pretty sure there's an html native color picker um is there html an html color picker oh wait color picker type color oh it only works in modern browsers well good thing this is latest version of chromium um okay color picker let's see actually i don't need the name because i'm gonna remodel this so i guess i can do v model is form data dot color type color oh cool thank you i didn't even know i didn't even know html had one and that looks just as good as any other one except i can change the style a little bit of how it's displayed thank you okay let me just put these in my data real quick so i need name description and then color which i guess it's a string i'm not sure um let's see let me actually see what it is let me open up the dev tools inspect and i think i have view yeah i have the view dev tools here so let me look at um let's see project entry yeah cool i have the color there thank you that was easy all right so now i have project entry page and the hours log and add new time entry page so now i really need to hook this up to the database and i think my mind just being so used to let me get rid of these um you know having it connected to a back end it's it's kind of strange to i guess imagine this database or imagine how to use it okay so related api documentation there's get and there's put and i'm guessing get because i'm gonna need to get back or query for a whole bunch of objects of the same yeah you did thank you i'm going to need to query for a whole bunch of objects of the same type so i guess i can pass in options let me look at their examples so they have db.get my doctor okay let's stop then um but that's just searching by id how can i pull things back without using the id okay create update a batch of documents that's good okay db.bulk docs so i i'd have to create a different database for i think i need one database for projects and one database for users with this with pouchdb okay bulk update delete what about bulk get oh fetch a batch of documents db all docs fetch multiple documents indexed and sorted by the id uh deleted documents are only included if option.keys is specified okay so i basically need to set up two databases oh i was wondering why the database didn't show up it's because i put it in the wrong application that was that was dumb um okay so here i'm actually going to have to um go back i think it's working with databases yeah i need this and then i need to set up the debug too so i have all of these imports all of those okay i'm going to set up database config here and two databases and then i need to set up the debug options you can also enable debug logging by doing this i want logging because i want to make sure that it's working okay so kittens what other so these are i think it the concept of db here is like a table so i'm gonna do time entry and then was the other one projects or this would be time entries and let's see deleting your local database differences between local and remote okay and now oh i'm not actually importing this in this app into the index.js so let me go into public go to index.html i mean and then i need to paste the link there which is setting up pouchdb i already installed it so i just need to add this link to the head tag oh hi jared good to see you too bad you're here not here to help me with nwjs okay so let's see script tag pouch cb and i think that's it let me rerun the server because i'm guessing i'll need to rerun it so it can see that import in the index.html all right now it's going to reopen the window uh maybe there's an error i don't know let's see pouchdb is not defined okay um so i have it here um because i thought that it would expose oh not enough in that file from here i thought that it would expose that pouch db variable for me to use but i guess it's not doing that so i could i guess i could do it just directly npm install it wait someone sent me a message uh nw dot window dot okay just to automate the devtools opening sure let me add that thanks for the tip um let me add this to i guess just anywhere for right now um i'll have to take that out before i build this as an app okay so i guess next time i next time i run my server it should automatically open the devtools the first line of js and then comment it out okay pouchdb is not defined so let me actually take this out i'm gonna try oh it did restart patch tv is still not fun i know let me actually install it just like i would any other view module here and uh let's see mpm and oops i copied npm install okay npm install pouchdb and it's taking a minute yeah that'll just be easier if i can import it in view okay yeah i don't know why i didn't do that before now let me do npm start and while that's going i'll come to my main js and i'm gonna put that with my library imports 08 require i wonder if i can import this then um db uh import pouch db i'll see if this works from pouch db cannot read enable of undefined in my source main js oh dot pouchdb.debug.in okay so i wonder if it's even registering pouch db because i don't seem to have the debug enable available so let me look in application oh cool i do have it awesome so i do have if you can see on the side there i have pouchdb projects and patchdb time entries and then i can open those up and um i can look at all the different i don't know i'm not too familiar with um the index to db in the browser so yeah i'll have to try that out okay but anyway i do have my two databases here that i added that's good so i should be able to start adding things to them so how do i do let's see i can do create update doc create database delete yeah let me go to create or update so it's just db.put and then um i need the doc okay um so here i have the two dbs here i have time entries and projects the thing is though i'm wondering if i should put it here now i'm thinking that maybe i want this in my view x or in an extra config that i import into my view x because this is really where i'm going to be working with that db stuff so let's see let me make not in my router in my store let me make a new file and i'm going to call it db config dot js and then i'm going to take pouch db uh take it here is this a good idea does anyone else have a better idea set it up in my view x and then i'm going to take these because otherwise i mean could i inject it into my global state but then i want to use it from view x so i need access to those databases from here anyway oh wait i made this new file let me use that new file um okay so let me use that file and then let me import import db config from db config okay and now i need to um export oh wait this is these are both the bees why am i doing two dbs so let me export these as two different things i'm gonna do um t e db no i need to spell this out so time entry db and i'll call this projects db and actually that should be time entries okay and then from here i need to export something so i need to export export um yeah i was thinking i could export these individually but i want to export an object because then i can add options or do whatever i want so let me export default in object and i'll do time entries eb and then i'll do projects db okay um oh it has the option to refresh that's cool okay so now i have these two database instances and i can pull these out so when i import them into view x i can just go ahead and get time entries and projects db and then i can do whatever i want with them in my view x store and then i can interact with the database from any component through the store okay um so i think i think that will work and now let me do db.put doc options callback um so let me grab this and let me just do a test here so let me do um okay so doc i need name gwen and then options uh options i'll just leave an empty object for that and then callback function um this will be just console.log worked even though there's no error handling all right so how do i see documents that i've added which one did i add to oh i don't even have db there let me add this to time entries oh no projects projects db um export projects db was not found in db config okay exports projects db okay so let's see projects db did i misspell something i think i misspelled something did i oh it seems to be right projects db let me restart the server and see okay these are both new pouchdb projects dp okay export project stevie was not found in db config learning from source store index.js hmm that's weird okay let me look at index.js see if i'm importing the right file so i do have db config which is that file name and then i'm importing let me try time entries yeah why why aren't the exports being found in here i'm exporting default oh because i'm requiring this maybe um maybe i need to import let's see import from i think this i feel like that's what i was doing anyway in the main.js file no i thought i had it here where i changed it to import maybe i didn't i can't remember okay it was not found in let's see it wasn't found in the dbconfig file so let me actually see because this is creating the new pouchdb instances and i am exporting the correct um values from there so that's a little bit strange let me see um time entries projects db exports um let me see what these are equal to from here so let me try to get it to pause on the debugger okay so um entries db these are both correct and pouch db those are both correct and then what i'm exporting is also correct which is strange okay but then when i'm importing it so the problem is when i'm importing it here and i can do a debugger here that should restart on its own does anyone have an idea about why this isn't working let's see it's restarting cannot read property line number of undefined okay let me play it and maybe i'll restart the server again and this should open the dev tools so it should open the new debugger i think because the devtools will open before the app finishes okay so i have my two index db's i'll refresh both of them console.log inside of export okay so here's the problem cannot read put of undefined um but these are defined console.log so inside of export um i looked at these in the debugger and when i had a debugger in here where is it get out of there in here let's see and it says that they're defined here or at least it shows time entries but it was saying in the other file that time entries and projects aren't defined which is weird i can make sure that this one yeah these are all spelled the same let me step over oh yeah try pudding okay let's try putting inside of try put inside of db config yeah i guess it will work from there maybe i'll just move it to this main file because it doesn't seem to like the importing exporting and that might because because it's only set up it's not set up to use es6 but i don't see how that would make sense because this import works yeah i don't know let me see oh wait did i let me get this back and now in here okay so time entries db.put and then let me see i got rid of all the debuggers so let me just play cannot read property put of undefined let me refresh this okay okay so that worked actually if i just have it in the same file yeah i don't know why the import export isn't working why do you need the curly brackets in import oh i was just pulling these two things out from the import so i didn't have to but then i would have to do like db dot this database or that database so i was just using a shorthand um okay maybe you should import yeah that's what i'm thinking that i'll just move this whole thing to import for right now because this seems to work i do wonder how i can see so that's time entries um attach store local store meta store this is metadata doc id sequence there's a lot of stuff in here so where is um i wonder do i have to refresh this database refresh because i can't see the dock i just added it's not listed here key blob detect blob support yeah i don't know where the document is i guess i don't know enough about this index.js to see it but it says it saved so let me just move this to the index file yeah and so um let's see get rid of that export default get rid of these okay and i wonder if i do have to set an id here so let's look at a document yeah they're putting the id so i do need to set my own id on these documents so i guess i'm going to use uuid let's see npm uuid to generate a unique id for each document since the database isn't doing it for me okay npm install uuid and then i'll import it into the view x okay one more time stopping the server oh clear um npm install uuid that should be pretty quick and then i can import um uid okay then i just call the uuid function so let me import this in my view x so after pouchdb i'll import um version 4 as uuid version 4. so i think this is how i need to store documents in here i need to add the database so i can call this uuid function that i just imported and save the id and name and i'm actually logging worked here so i think that's oops um oh wait that's also a mistake so let's see because this could come back with an error so um what would i get response and then error or error and then response let me look at this api uh okay so oh there's dot then dot catch after put so i could use async await for this and then try catch let me just copy this though for this test right here so i'm going to do this so i'm going to call that put and now i can use dot then indent all this all right hi pk get now how are you um okay so now i have error and i'll just console.log the response as well okay and let me see how it handles this when i run the app again npm start hi pk did you join to give me some advice um hopefully but if you want to chat that's good too um okay i like the dev tools opening automatically all right yay sweet look at this doc id rev whatever that means and i have the object with named gwen i have the unique id that i set primary key one cool okay so now i can see it in here that's good news and now i just need to put this in my um or add view x actions here oh sorry my watch is telling me to go walk around it says it reminds me when i've been sitting too long but i can't walk around right now um okay so actions what kind of actions do i need i need to i need crud operations for projects and for time entries so i'm gonna name these kind of like crud operations so let's say create time entry um these will all be async too so and then we do async create project and then in create time entry i'm gonna copy this uh wait oh yeah oh i missed the other part of the there we go so what i'm going to do inside of this async function is change this from promises to async await so i'm going to do const const response equals a weight whatever object i'm going to put in and actually here so the first parameter is um from vue.js so i'll be able to get the function to commit mutations and then the second one is what i'm passing in as the payload which will be in object here which will be this object that i'm gonna save um so let me get rid of this then and i'm gonna add the payload on here and i'm going to generate an id from view x for that payload i'm passing in that i want to save as a time entry um okay and then get rid of bees it keeps bringing me over there every time i save but it's such a habit to save every second um okay i feel much better about this now let's see um create time entry so this i need to wrap this in a try catch so i can know if this creates an error let me close that and then do catch let's see error and then i'll just do console. error and error and now okay in my try i need to so what do i want to do with the response um the response i don't know i guess for now i could just log it out i actually don't think i want um because this is all local so because in a nor so in a normal vjs application on the web i would take the document i just created and push it into my state so that i didn't have to make another api call but and actually that will make it update so let me just not do that for right now and see how this plays out so let me do console.log response um and that means it was a success so let me do i guess success okay and then i basically want the same thing for create project so i'm just going to go ahead and put that and then i'll make a getter because i need to be able to get all of this stuff out of the database so for project i want the same things i want i probably don't need to commit so i'll just leave that empty um i don't know if i can leave it empty um maybe i don't know uh payload is that gonna error and i wonder so okay so this is project projects db which is basically the same thing um generating uid passing the payload so i save all of the key value pairs on the payload and then so now i need to get all of the items that i save so let me make that real quick before i test out the saving because i need to be able to see if i created anything hi jared so i basically several things broke but i think they're fixed now i basically set up pouchdb from here because i couldn't get it working from importing in the index.html file and then i have to create my own ids so i imported uuid um yeah and then i have these two databases so patchdb seems to differentiate by databases instead of tables so i created two different databases for these two tables that i want and right now i'm working on these actions so that i can get uh get all the time entries and projects that are in the database line 18 yeah i'm still typing that's why there's an error okay yeah let's see uh read time entries okay um i don't actually need to commit from there either really so let me do i don't need to pass in a payload i don't need anything um i just need to basically get which is oh bringing me back over there so i think that is bulk get or batch is it batch fetch oh indexes and everything okay um let's see batch fetch db.all docs okay so from here then i'll have to be able to filter at some point too which i guess options might let me filter i forgot to have water here i might need some in a second um okay so what was i getting oh yeah db.all docs so let me do that here so await db which will be time entries db dot all docs and then pass in options if i want options but i think i don't don't need options right now so let me do const docs equals that and let me just i guess i'll log out the docs because i don't know what format that's coming back in okay and now i need this action to be able to be called from my component which will be my hours log so i can see all the hours in here so let me go down here and i'm going to map it into the component so i'm going to import was it map actions from view x can you explain commit yeah so real quick commit here is um so view x has my global state or it will have global state whenever i need state that doesn't necessarily need to be in the database but i want it to be accessed by many components so what commit does is call a mutation that can update that global state but right now i don't have any mutations um or anything on the global state so i really don't need commit yet but it's generally from ux actions most viewers bux actions will call commit to update state but i'll get rid of that for right now so it's not yeah so it's not there when i don't need it um oh yeah uh okay so i am pulling in map actions and now i need so i need to put that in methods which will be below data so i need a methods object for view and then i can do map actions call that and then which actions do i want to map to this component i want read time entries i can't get rid of that um yeah read time entries create no i don't need that one here so just read time entries basically and now i need or i need to call read time entries so this will be called on a created so let me add my life cycle hook here created so when this component actually no i'll do mounted so when this component mounts to the screen it should call my action uh which is this dot read time entries now and then i don't need to pass anything in so i can do this.readtime entries which we'll call this and then it should lock up log out my docs so let me see if that works sweet why does it say two rows oh i must have uh saved it twice saved something twice where's my name in this okay that's weird it seems like it's just an id and nothing else that i saved all right that's fine so anyway that's coming back with docs and that is yeah so i'll need to do rows so docs is this whole object and then i need to do dot rows so that's kind of like response.data so let me then do um so here's actually where i need a mutation because i need to update the docs here so let me commit a mutation from here and i'll need to do what is it set i guess set time entries and then pass in docs dot rows and then in state so state i need to have all time entries okay and then i i guess i'll also oh that will be an array actually so that's an array and then i need projects here which i'll need in a minute and that's also an array and then i need to create that mutation that i'm calling so set time entries needs to be a mutation which is not async inside a mutation i have access to state and i have access to whatever i'm passing in which is the i like to use the word payload i don't know how many people use that but it's just like a general word for anything that i'm passing in so now i can do this no i don't need this because i already have state available to me in the function so now i can overwrite state on time entries which is equal to the payload that i'm passing in oh commit is not defined i forgot to import or get commit in the function so here i need commit that should work now let me look at my view um where is it here it is oh cool it called the mutation set time entries and now i have the payload with two objects which is weird i'm gonna have to figure that out but anyway it did work and so that is my store now i have an array of time entries cool so now i need to be able to create one create time entry from the time entry dot view page i like payload it sounds very serious does it what is payload in the military oh this like dropping a bomb or something that's that's kind of gruesome that makes me not want to use the bird anymore um okay so i have dates here okay okay i get it i get it um so when i click submit i'm going to call this action that i need to be getting from view x so here also i'm going to have to import map actions from view x and i'm trying not to save after every time because it switches me back to the other screen um okay oh yeah methods now i need to do math actions and which action do i want it's create time entry oops and now i can call this dot create time entry and then i need to pass it a payload of what i want to create which is form data so actually i can just pass it as an object here because that's what my payload is expecting so i can do this dot form data um oh yeah but how am i doing start date and date i'll have to look at how i'm saving those um in what format but this is okay just to get this working for now um so let me go to add time entry choose uh today choose today and then end date after some hours submit okay i might have to do prevent default there let me see if it did add anything i think i have to go back to this page because this is where it loads the hours company one no that was just that was already there never mind um so let me look at this state here yeah it did add it though value set time entries why is it not showing the actual value here i guess that's um let me refresh this let me refresh this database refresh and so here okay i do see start date and date all right and these are time stamps okay actually i can bring the value over here okay that's actually pretty good i have start date and date that's exactly what i want um then why am i doing this i think what i need to be doing here is actually having a string not an object i think that's from something i had before okay so now i can create i can pull them from the database um i could loop through these actually in my hours log kalachi factory um oh i missed okay um talking about food makes me hungry what was i doing i can't remember oh yeah hours long i want to loop through these and display them in the table so be table striped hover and then items it's kind of a really simple table i want to denote like which i guess which headers i want um well let me map state to this component i want to get those time entries off of ux so map state to the component and now i need to create computed here so that i can see the updates that happen in my view x state and let me do map state here and what state do i want to map here it is so my state is i have this array of time entries that i want to map here so now i can see all the time entries in this component and then i could on this table here i could just pass in time entries and see how it looks that looks awful um yeah why aren't i getting the correct values back i guess from the database i'm doing this wrong so let me see deleted documents are only included oh okay i need to do include docs thanks options not include docs i need to set this to true because otherwise i just get the id and i i guess rev is for revision and that changes when i update it i'm guessing um okay so options.include docs so i need to set this in no in my database um in my get so here um so is it an array yeah it's an array of options so how does that look okay no it's an object i'd pass it yeah it would be weird as an array i guess they were just using brackets as a placeholder there okay so include docs is true is true any other options i want attachments are attachments include that as okay so those are like images and stuff uh maybe i want that sure um actually i don't need that here so maybe i'll do that when i actually have images like on the profile or something okay so now okay now i have the doc and i'm going to need to yeah i'm going to need to clean up this database a little bit but what was i oh yeah in the code so i have this and i'm setting docs.rows and let me see what docs.rows are i guess it's docs.rows.dock i have to do it let me see what it said as time entries now so oh dot value no dot value is already there i need this i need doc rose.doc okay and now i get nothing let me undo that and let me it might be easier if i just console.log out these docs dot rows so i can explore them okay so let me take document one and this is what i want i want um oh right right that was dumb so i want the documents here so i'm going to pass in actually to my mutation i'm going to pass in docs.rows and then in my mutation and i might move this into a helper function but i need to do take the payload and loop through these so payload dot four each um now i can do a map because i'm gonna want uh i can do an array instead of just pushing individually so let me take i don't know why i did it this way but okay so payload.map and i need to call a function which will be entry and basically going to take entry dot doc return entry dot doc uh and i think that's what i want let me see yeah that looks better anyway and then so this is so what bootstrap is doing is looking at these first this first document and saying okay it has a name um key and an id yeah i don't know why this database is set up like this i haven't read too much into it it just looked like the best one out of all the end of bjs options i saw um but yeah the database table here is taking the names of just this first item and then putting them in the header but this one here with timestamps isn't showing up so i need to do some database cleanup first and let me do that here let me delete these two entries that are just dummy entries delete okay so and then also i'm wondering yeah i'm wondering if key if i'm supposed to be pulling things out by key if i should be having this as unique because it still has a primary key here that is generating for me so yeah i'll have to read more about how that works but now i have start date and date so if i refresh oh let me reload app wait exit and now it's not it's not showing anything hours log um let me go to a different page and navigate back yeah it's not showing anything so let me look at the view x store real quick and see what i have set time entries i can refresh this and so why is it still i deleted them directly from here so i wonder if i need to reset this refresh index db now let me try to reload this okay it's not showing up at all now and in my view dev tools i have the same three time entries that aren't supposed to exist anymore oh all right so oh these two are empty now and that other one's full that's why the table's not showing up because these first two objects are empty um yeah and then this object isn't because it was the only one that wasn't deleted um so how do i fix this i guess i can call just manually call a delete delete document db.remove and then the document id so let me call this just up here so i guess i'll do time entries db and just call it manually and i'll have a vx action for this at some point dot remove and then i need to pass in the id of what the one i want to remove um that didn't seem to remove anything though maybe i need to restart the server let me just completely restart everything new pouch db mydb destroy okay i could call db.destroy let me if this doesn't work i'm going to destroy it and it looks like it's not working yeah it's not working okay yeah until i have all my crud operations set up i'm just going to call i'm just going to call destroy destroy can i do it on there good sweet now let me do projects okay cool so now they're both completely refreshed they didn't have the thanks for the help sashi they didn't have the edgy potato breakfast bun i have no idea what that is i've had kolaches though i think aren't they eastern european or something um when i was in serbia the person i stayed with fed me something like that so it might not have been a kolache but it was some kind of bread with a bunch of flavorful stuff inside um okay so now if i go to view us there is zero chance yes nothing there that's good now i can add an actually valid time entry and date um what date was that 722 and do that submit okay and now actually to pull i have to go back here sweet so i have start date end date id and rev now the bootstrap table is kind of annoying um let me oh oops let me go here and see bootstrap egg oh eggy i read that wrong iggy potato bun that makes more sense for breakfast not edgy potatoes table table tables okay i'm using the table and pass in items cell variance okay column definition okay i can define columns so the fields prop is used to customize the table column headings in which order the columns of data are displayed okay that's good um first name last name age okay so now i need to pass in fields which is an array of the titles that i want camel cased not camel case snake case so let me go to my time entry oh no it's the hours log this is where the table is and here so um i'm doing okay let's actually put these on different lines it's starting to get long and now i can pass in um fields and i'm going to create a fields array for called fields and so items i actually don't need items anymore but i do need fields so this will be start date and date so let me do start date end date okay but it doesn't line up because i think because the names aren't exactly the same so um oh yeah because these aren't snake cased they are camel cased so let me line these up here then date and date that should yeah that worked okay and then i just need moment to format these dates a little bit better let me go ahead and do that let me install moment um i'm going to add the name here but that's only after i get the projects all set up so lincoln park i haven't heard them in forever um okay i need to install moment.js so moment is that spell right moment yeah all right so now this is weird because my little preview still shows the live in three minutes sign but the chat is working fine so okay uh that's okay now i have a moment so let me go ahead and do npm start and yeah run the app again and now i can format these dates so i'm going to create a function here let's see um time entry no an hour's log in mounted no in methods i'm going to create a method so uh let's see i'll just yeah i'll call it format date format date pass in a date and then i can return moment dot oh i need to pass the date into moment and then i can do dot format and then say the format that i want and let me import moment here before i forget so let me import moment from moment um and then format month day year um and then how do i put the minutes like oh i think it's uh minutes seconds something like that and then am or pm no wait this is hours i don't want seconds uh hours and then minutes that looks better um oh yeah i'm not calling the function yet i was like why aren't my dates formatted so let me go here and oh hmm i'm gonna have to format okay so this dot read time entries um how how am i going to do this because i'm taking this directly from view x from view x so how am i going to format the dates as they appear here um so i wonder should i use a slot like if there are slots on the table i don't know if bootstrap has anything fancy like that key um i could map out the data um let's see fields primary key let me search if they have a slot used to trigger the display of row details scope slot custom header and footer slots um what about column slots there's formatter format or callback or the name of the method in the component and this is exactly what i want scoped field slots the formatter will be called with the syntax formatter value key item so field definition reference um so this is this is what i want but then again i'm pulling this in from view x so that kind of has the same problem how do i format what's coming in from view x so should i use um what should i use here should i use computed maybe a computed method and watch time entries basically i could call the computed something like entries is this what i should be doing does anyone know what i'm talking about so i could do something like entries and from here so from computed i don't think i can call a method but um i can map the this dot time entries right uh yeah so i can do uh this dot time entries dot map and i'll return this so this time entry stop map and then entry and then when i'm looping through it i need to so let me return the whole entry except for the times which is the whole entry um yeah start date and date so i'm gonna do overwrite start date and and date and these are going to be format date ah okay um so let me just try and see if it works i don't even know if this is the best way i should be doing this so date here will be entry dot um end date and this will be start date start date okay um oh yeah and then i have to take this which is this entries method and see if i can just loop through these or no these will be the items in the table now okay cool that works anyway um i'm not calling another method i could just make this an external method then this format date one that's not in the component but yeah that works well this is a a real time entry and i can add another one so let me add one here let's see let me add one here and go to the hours log sweet and now i have all of my time entries that's pretty good i have like 15 minutes left let me see first of all when i add a new entry this should really be routing back yeah i'm happy about that i was nervous at the at first because i was like oh no i don't know how to deal with databases and desktop apps but it's not too bad uh after figuring it out and i'm sure i can just keep making it better and tweaking it but overall it's yeah pretty good let's see um what was i just doing oh yeah i need to route back after i save the entry so i call on submit and i save it and then yeah using set set time entries no no that's my mutation i'm doing create time entry and i save it here so actually here i should be let me import my router here import from a router because i have an index file in my router folder too okay so now i'm importing router and so i should be able to push from here so i can do router.push and what route do i want to go to um let's see which one oh yeah ours log oh that's the home route okay well i'll just push um if i'm pushing by name oops what did i just do um if i'm pushing by name in the other place then i should probably do it by name here too so uh ty no i can't i forgot already hours log hours log okay all right so one more time entry for two days ago i'll have to sort these um based off of date too oh come on it didn't push um i wonder if that's because it's submitting yeah it was surprising i was worried in the beginning because i kind of got stuck and yeah but i'm very happy with this project i'm actually excited about working on it more so let's see um why isn't it pushing so on submit am i actually doing a submit yeah this is actually type submit so i think what i need to do is um maybe e dot e dot prevent default good sashi d or sassy do you uh do any desktop apps or desktop app development um let's see the 27th we work till 10 pm submit sweet do i have my i have my 27th there great so i have my time entries now um i wonder in the next like five minutes or so if i could just set up projects real quick so let me go here projects and i've done applications using swing i've never heard of that swing in java so i guess that's a framework for making desktop apps with java don't forget to do commits and push yes i won't and last time i was in such a hurry i force pushed and overwrote my readme and had to hand type it out again which was really dumb um okay so project now let me let me try to enter a project real quick get rid of all these time entry files let's open project entry and so i have on submit here so let me do the prevent default before i forget prevent default okay and now i need to call let me open my store and i need to call this create project um let's see yeah and pass it the payload of the project that i want to create looks like it's set up already so i'll just import create project all right i'll have to call this dot create project and pass it a payload but first i need to set up view x so map actions and i need the create project action and then oh wait uh import um map actions from view x okay and then this dot create project i need to pass in form data so i'm just going to pass that in because that's already an object so this dot form data and that should work so that's another thing i'll have to add form validation next time too so let me try typing in a name of a project let's say view tracking app uh our tracking app built in view what color do i want let's say orange submit success okay cool and now i want to reroute the same way i'm doing here so let me just yank that and push to wait push to not hours log but projects so let me push to projects so let me create one more project and i'll call this um i don't know grid some app so let me say grid some blog choose a color do blue that's a good color submit cool so now i need to display the projects oh no because i was actually thinking about having them in the drop down here is that a good idea how many projects are people gonna have you know um oh well i already have the drop down so might as well keep it but i need a getter though so i have read time entries which gets all the time entries let me put uh read projects here read projects and this will return everything from the projects db but i also need a different mutation though so set time entries i'm going to need set projects here set projects and what do i need here okay so set projects state payload and this will basically be the same thing from there um exactly the same thing actually so except this and it just keeps coming back because i every time i save it okay state.projects this time i'm overwriting projects payload entry entry.doc that's all how the database data is set up so that's all fine um set projects db projects okay so read projects i'm going to have to import this into my projects.view file um okay i don't actually have any script tag in here so let me do no i need computed here actually i should have a name for the component that would be the best thing so it'll line up with view router called projects and now i'll do computed and here is where i'm going to map state which will be projects projects okay and i need to import map state so import map state from view x and let's see um map state no what am i doing it's not projects oh it is projects but i need it in the array so projects from state and now i have access to this.projects um but i need to get that into state in the first place or the new projects so i need a life cycle hook here so i'm going to use the mounted lifecycle hook again and call this dot read projects to get those into state i don't need to pass anything in um but oh i need to map that action so map actions and that's going to have to be inside of methods so a methods object oops um let's see methods object and that will be map actions and then pass in yeah read projects okay so now i can call this.reprojects that should update the projects there and then i should be able to use the array of projects here to loop through select so i'm actually going to have to use a computed here to map these projects in the way that i need them but i'll have to look at how oh it says payload is not defined okay that must be where is that um it's not giving me a file but i'm guessing it's let's see create project read projects docs dot rose oh because there aren't any rows i think and i'm calling reed projects with no rows um so oh yeah and then i'm trying to so i could do i could do this uh i think it's locked up oh no it's back now okay i could do this pass in an empty array if there aren't any rows payload is not defined where is payload not defined okay so it's saying here um in set projects payload isn't defined yeah and because i'm trying to map through that payload so let's see but i think that this so doc's dot rose or empty array i think that that will fix the problem um oh it's still it's still doing that so um yeah i don't know why the ore doesn't work there um but i have two minutes yeah i do okay so this line right here we have to fix this line the error on this line and be able to display projects on this page so if someone has an idea about that after the stream then let me know i am going to push my code now and if you want to check out uh more of my live streams i do a lot of vue.js live streams and django live streams on my channel which is faraday academy i'm also on twitch and you can find me there at faraday academy on twitch um oh thanks jared um let's see i added db config which is empty it's fine i'll leave it there package lock public index i did update those okay that all looks good git commit dash m is code from live stream on july 31st today okay let me push it pull oh it's saying i'm not pull it oh i think i updated the readme maybe yeah i updated the readme it's usually what happens in my own repels anyway okay so i pushed and now you should be able to see it here let's see oh yeah that's where i had to rewrite the readme last time after i force pushed okay cool it has all of the updated code what i'm gonna do is add a project board here actually for dev tasks and i'm going to fill this out after the stream but uh just to put all the things that i still need to work on on this app and add some columns here so just so i can keep track of it because it's getting to the point where i can't just keep it in memory or figure out what to work on next so yeah if you have any uh feedback suggestions feel free to shoot me a message or to raise an issue here or leave a comment if you're watching this later so yeah thanks for joining me today have a great day everybody take care