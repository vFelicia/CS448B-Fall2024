hey everyone I'm teacher Matt and I'm so excited to be teaching you how to build a slot machine using scratch hold on hold on letter from teacher Michael dear teacher Matt you need to stop right now teaching kids to build Vegas style slot machines is unethical immoral and possibly illegal if you don't stop I will quit love teacher Michael P.S I'm in a little trouble at the horse races can I have an advance on my salary all right let's build our slot machine I already deleted the scratch cat I went to the stage and I went ahead and Drew three different boxes and I just used the copy and paste feature to make them look exactly correct next I'm going to add a Sprite and I'll choose from the Sprite collection I'm going to have a theme of fruit you can choose a different theme if you'd like there that's a banana it's going to go right there in position one now I'm going to add some costumes because sometimes it will show banana sometimes maybe it will show an apple and then other times maybe it will show I don't know we need some more fruit here oh there you go watermelon all right you have to have at least three different items otherwise it's not very fun okay so everything is looking pretty good let's only code one Sprite at a time and then we'll duplicate it for the other slots now let's call this first window while well it's kind of a window let's call it one window two and window three so for this Sprite let's rename it to window one they're not actually windows but they kind of look like them and let's go and code this and the first thing I want you to focus on is the looks and actually changing the costume so you want to see switch costume and you'll notice that the costumes have names but also sprach thinks about costumes as numbers so you can see these little numbers right here one two and three so if you use something like a random number maker right here pick random number you can actually slot it in there and since there's three costumes you could do one to three and as I click on this it will randomly switch between costumes that's going to be really helpful for building our game now let's add the functionality that makes the costumes change a random amount of times because in this case we click on it every time we want it to do it many times so let's use a repeat block so go into control grab the repeat 10 that will make it obviously repeat 10 times which will be a little bit predictable so what we can do is go to the operators and yes you guessed it do a pick random there we go so our first window is now totally randomized it's a little bit I don't know it's kind of flickering so let's grab a control block called the weight block and maybe add just a little bit of wait time in there so that it doesn't feel so rushed there that sounds good can you imagine that the sound of that machine ding ding ding ding ding ding I'm gonna win I'm gonna win now we have a game Loop here this repeat block that's repeating it and now we know okay the final costume is an apple we need to remember that information because we want the game to win if you get an apple and apple and an apple so we'll hold that Apple costume that information in a variable so create a variable and it'll be for all Sprites and we'll call this one window one costume or final costume or some way to remember what it's going to be and that after this Loop is done we'll set the window one costume to a number well wait a minute well what number do we set it to well there's actually a handy premade variable in the looks menu just scroll down to the bottom and you'll see costume number wow a variable already made so if we just put it there then go ahead and run that code or actually have to click on this code to run it and you'll see that the final costume number will equal well apple and that's number two let's check to make sure it's correct yep costume number two now before we duplicate this Sprite let's go and clean up the code a little bit well first of all we don't have any events you always need to have a starting event we don't want this to happen as soon as you start the game that's not fun we actually want to have our own little message so when I receive message one no how about like start game or play a game or some way let's make a new message I'm going to say play a game there now I know that this won't start till I send that message and what are we going to do in the beginning are we going to show this Sprite you know all the stuff that you do when you're building a game do I want it to show do I want it to be in that position yeah I don't want anybody to move that so let's force it to go to that position there and now let's see if that works and now if I receive play game it will run I think I'm ready to duplicate the Sprite so I'll just hover over it right click duplicate and I'll do it three times hey look at that it actually changed the names for me window one window two window three how handy is that now we do need to do a little bit of cleanup for example window 2 right here will need to change its position so let's go ahead and switch this code block for where it is right now let's see if that works yep that works and let's go do it for this one as well so this is just a little bit of cleanup because you were duplicating something that needed changed now the other thing you'll notice is right here we only have one variable called window one costume so we'll need to make two more variables and there'll be window 2 costume costume and this one will set window to costume to costume number and then this one will be called window three obviously costume and that's the final costume and let's set this all right there so now we have three variables that you see up here at the top and they will when you broadcast let's go ahead and broadcast that message just manually so come in here and let's broadcast play game so I click on that and that should reset all of these numbers now all we have to do is compare the window one window to window three to see if they're the same number if they are you win now we were just using this broadcast button right here just for an example I'm going to throw it away and I'm going to paint a new Sprite or actually I'm going to go grab one of these buttons right here they look really nice and that's going to be used to start this game so let's go ahead and go to the costumes and let's say something like play or whatever you want to call it mine's the play button there now this play button even though it just looks like a simple little button it's gonna have a lot of code on it because it's going to determine the winner so let's go to the code and remember we need to broadcast this message Play game but there's a problem this message play game is actually going to trigger the code right here and the code right here and the code right here that's a lot of code and we actually have to wait until these variables are set before we can determine a winner so if this play button right here happens really fast uh you won't know the winner we need to wait did you hear that wait yes so anytime you want to wait until everything is done use the broadcast play game and wait this is the preferred method so let's see oh I just clicked on it and it and it I just won wow that's pretty cool so the basic idea is this button when it's clicked so go to events when the Sprite is clicked it will broadcast play game and it will wait now since we want to wait until that play game message is done running we probably want to hide this button so someone can't spam click it so I'll just go to looks I'll go to hide and so as soon as you click that button it will hide it and then it will show it after this play game and weight code has run so let's see if that works it disappears and then it reappears after all of the variables have been set now is the fun part we need to figure out if you won or lost well what did we win or lose what do you well what are you betting are you betting money let's create a new variable called money or cash or points or health or whatever you want to call it now we have that variable so you know how much money you have so when you win the money will go up when you lose the money will go down and if you're in Vegas obviously the money tends to go down well in my case we're going to use a new type of block to determine how much money you have that's called a my block here it is we'll have to create this block so make a block and then let's call this one calculate money or determine money or add money or whatever you want to call it I'm just going to call it the money block and I'm going to run this without screen refresh the reason why is I want this code to run as fast as possible because it's just calculating money I'll click OK there now it says Define money and then you'll notice I have this block over here what this block right here will do is it will fire or run this code right here it's kind of like a message block but a little fancier so I'm going to put the money right here there so this money block is going to do whatever is defined as money and I'm going to do a whole bunch of comparisons so I'll go to The Operators and I'm going to use these greater than equal then yeah actually I want to use the equal to and I'll need a couple of those because what I want to know is if these variables these window one costumes are equal so I want to say is window one equal to window two and then I want another one of these oh how do I do that okay hold on I have to look at that I'm kind of combining them there we go is equal to window three it's getting crazy isn't it all right in order for this to be true when I click on it see it says false right now in order for it to be true each one of these has to be exactly the same costume if all this happens instead of it saying false right there it will say true and then you want your money to go up so we can say change money by one wow that's all you win is one I feel like you should win more money if all of these are true so I'm gonna need an if statement to put this in here so let's go to control and we'll say if and then put this giant conditional in there and let's say Define money but here we go now do I need to put a forever loop around this no why not because I only want this money function what I'm going to call it a function when when you ever you have a whole bunch of code that's defined and this will all run together we call that a function so this money function is going to run and I don't need a forever Loop because I only want it to run one time there and it will change my money by 100 if they are all the same now this is kind of the jackpot situation right if all of them are the same thing then you win the big money also this is a great place right here to put a message like you know play some music a flash a big message and I'm not gonna do that because you should have the skills to do that right now but we can put that broadcast right here like let's make a new message and that one's called big winner and obviously you can code that yourself but what happens if two of these are the same or actually what happens if they're all different you know you want to keep there you go two of them are the same don't you want to give them a prize for that as well wouldn't that make them feel good well you can instead of using this if block we're going to use an if else well why do you need an if else can't you just use two if blocks well yeah let me show you what happens if we did this let me just duplicate this code here and we said something like uh let's do something a little more easier I'm just watch this can you watch follow along as I move things around here if costume one and costume two are equal then you could change the money I'm just gonna move this around here you could change the money by 10. let's say you get like a little prize well what's gonna happen here is all of this code is going to run so if they're all the same you win plus you also get an extra ten dollars because the first one and the second one do you see what I mean so instead of winning a hundred dollars in this case you would win 110 and that's messed up we don't want to make bugs in our code like that so instead of putting this if by itself we're going to use an if else block all right so let me show you how we're going to do that first of all we're going to I'm going to have to just move things around here we're going to transfer this information into the if else block right here just like that and I'm going to throw away this if block there we go so now if you have a big winner great it's going to change your money whatever but if it's not a big winner you have kind of this else block this second chance and in that second chance you can actually pile up a whole bunch of if statements we can say well if one is equal to that or if 2 is equal to well two equals two that's silly 2 equals three you can kind of keep adding different options that will give you different amounts of money and you can add your own little broadcast for each one of those so let's go into events and let's say like this one isn't going to be a big winner this is going to be like a little winner or uh I'm gonna call this one match two because you match two of them and this will be the exact same wait a minute I actually did I repeated myself did they ever teach you that in code school never repeat yourself this window one equals window two that's exactly the same code I'm building right here I don't need all of this code let's just shrink this down for a second and let's use an or block so go to operators and let's say or so we can say if window one equals window two or duplicate that or window 2 equals window three boy I just saved myself a lot of time by doing these or statements a couple questions here how much does this game cost to play because right now it's basically free let's go ahead and on this button because oh I just deleted oh no I just deleted go to edit restore Sprite thank goodness it has that feature we forgot to set up the game what do you mean setup well when the game starts we need to give them some money otherwise you have no money to play with right so let's say when the game starts we'll set our money I don't know let's give them 100 to start with now that you have some money how much is it gonna cost each time you play you'll want to reduce that money so we'll change money by how much is it going to cost one dollar to play five dollars to play I don't know mine's gonna cost one dollar mine's pretty pretty pretty cheap game so we'll say when I click this Sprite we'll change the money by one there it is now I'm down I'm losing okay we have so many variables in here let's clean it up a little bit just so that the users don't see that information so I'm just going to go to the variable menu and hide this now this money one is sort of important I could put it right there I could also do a large readout and then just add a Sprite that explains that this is your money that would be pretty cool for right now I'll just leave it like this and this is the time where your creativity is really going to help this game it's sort of boring looking and that doesn't make people want to spend money you want to make it exciting the other thing or pet peeve I have is well when you play this game they all kind of randomly flash we really want the first one to be determined before the second and the third one so I'm going to go into the code for the first one see where it says pick random one to ten that's good for the second one let's do pick random 10 to 20. and then for the third one let's do 30 to 40. now this little adjustment should make it so that the first one ends first and then the second one and then the third and that feels a lot more professional oh this one it's still going and if you've ever seen Vegas or walked by a casino all those noises that you hear that music The Sounds those are all designed to get you excited about playing so don't forget to add those sounds and one thing I really like to add is when the button is clicked there'll be some sort of you know excitement music so let's go to sounds and let's choose something that like an effect or a loop or okay dance energy that one's kind of interesting let's see how that one sounds so let's go to sound and then let's play sound when this button is clicked let's see how that feels and in this case that sound is too long I don't want it to keep going even after I've lost so there's this cool stop all sounds and we'll put it right here right after we've broadcasted play game and wait we'll stop it right there and now the fun starts I need to really entice players to click that play button so I'm going to do some of my own coding you can do your own and let's see how exciting we can make this okay so I've added some final touches check this out when I click the play button it has a little onearm Bandit handle that comes down good luck flashes and then if I win it will flash a U1 message right here you won so let me show you how I did that first of all the little handle here these games used to be called one arm Bandits because you'd actually pull the handle what I did is I just drew a little animation here and then I set it up so that when the game starts obviously it's costume one right there and then when I receive play game I just switch through the costumes so it looks like you're pulling the handle I don't know it's just kind of nostalgic for me and then for the messages like the you win so the big winner one this one is actually pretty I don't need the sound pop here this one's actually pretty cool I repeated the sounds of coin with a weight zero seconds that way it makes this sound doesn't that sound satisfying like oh you won and then for the match two which is kind of like the big winner but it's not as much money I just repeated five times so it sounds like ah you still win but not as much so I hope that code kind of inspires you to make this game more appealing because that's really the goal is you want to entice everyone to play your game oh hey Michael oh you like the lesson oh you're not gonna quit no at horse races you bet on the horse that you think is gonna win no you're not buying horses no you can't take the horse home no