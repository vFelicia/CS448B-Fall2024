With timestamps:

00:00 - welcome to the great gatsby bootcamp
00:02 - where you're gonna learn how to build
00:04 - and launch a gatsby site from scratch if
00:08 - you haven't worked with gatsby before
00:10 - it's a framework based off of react and
00:12 - graphql that makes it really easy to
00:15 - create both websites and web
00:17 - applications i've been working with
00:20 - gatsby a lot lately using it for both my
00:23 - static sites and my dynamic web apps and
00:26 - i'm excited to bring you this class as
00:29 - it's a tool i've grown to love i'm
00:32 - andrew meade from mead dot io let's go
00:35 - ahead and jump right in
00:42 - welcome to the very first lesson for the
00:44 - great gatsby boot camp where we're gonna
00:47 - start using gatsby in this video in
00:49 - particular we're gonna focus on three
00:52 - things one we're gonna learn a little
00:54 - bit more about gatsby two we're going to
00:57 - install the gatsby command line
00:59 - interface and 3 we're going to use that
01:02 - command line interface to create and run
01:06 - our very first gatsby project by the end
01:10 - we'll have our first gatsby site up and
01:12 - running and that's what we're gonna
01:14 - build off of and customize throughout
01:16 - the rest of the boot camp let's get
01:18 - started with gatsby by pulling up its
01:21 - website we can find that over at gatsby
01:24 - js.org
01:26 - and i want to spend just a couple of
01:28 - minutes here exploring the tool in a
01:30 - little more detail as mentioned in the
01:33 - welcome video gatsby is a static site
01:36 - generator based on react graphql and
01:39 - nodejs
01:41 - now gatsby can do so much more than you
01:43 - can typically do with a static site
01:46 - generator and you actually won't see
01:48 - that term anywhere on the gatsby
01:51 - homepage so instead let's think of
01:54 - gatsby as a react framework for building
01:57 - complex websites and web applications
02:01 - so with gatsby you're not just limited
02:03 - to static sites you can also build
02:06 - complex web apps with data storage
02:08 - authentication and more so if i'm trying
02:11 - to build a personal website to make
02:14 - myself look good to potential employers
02:17 - i could use gatsby to get that done if i
02:20 - want to start a freelance web
02:21 - development business building websites
02:24 - for restaurants i could use gatsby for
02:26 - that too and if i wanted to launch the
02:29 - next startup and i needed to create my
02:31 - web app i could use gatsby to build that
02:34 - web app out now gatsby has gotten so
02:37 - popular because it's really fast and
02:40 - super easy to work with gatsby has so
02:43 - many core features baked right in so you
02:46 - can get started with a new project in a
02:48 - matter of minutes without needing to
02:51 - install or customize any build tools
02:54 - gatsby comes with everything you need to
02:56 - get started right away and the good news
02:59 - is that you can further customize your
03:01 - gatsby projects using one of the many
03:04 - plugins that it supports these plugins
03:07 - allow you to add all sorts of new
03:09 - features to your site both big and small
03:12 - and don't worry we'll be diving deep
03:14 - into plugins and how to use them a
03:17 - little later in the bootcamp now let's
03:19 - say i'm creating a personal website
03:21 - using gatsby i want to have a small
03:24 - portfolio of my projects and i also want
03:27 - to maintain a blog making myself look
03:29 - good to potential employers
03:32 - now for me i want to write those posts
03:34 - in markdown i like having my content
03:37 - directly inside of the project itself so
03:40 - what i want to do is write markdown
03:42 - posts then i want gatsby to convert
03:45 - those over to individual html pages for
03:49 - my site in that case there is a gatsby
03:52 - plugin that can help us get that done so
03:55 - all we need to do is write the markdown
03:58 - posts in new markdown files and gatsby
04:02 - handles the heavy lifting of converting
04:04 - those over to html pages using a unified
04:08 - template so everything looks consistent
04:11 - in your site
04:12 - now let's go back to that other example
04:14 - of someone who's starting a freelance
04:16 - business targeting restaurants in that
04:19 - case the restaurant owners want to
04:21 - customize things they want a blog where
04:23 - they can talk about new specials and
04:25 - they also want to be able to update
04:27 - their menu on the fly whenever it's
04:30 - convenient for them now in that case
04:33 - markdown is a terrible choice the
04:36 - restaurant owner is likely not technical
04:39 - and does not want to manage content in
04:41 - markdown they would have to learn about
04:43 - markdown and code and get and all sorts
04:46 - of things it's never going to happen
04:49 - that's why content management systems
04:52 - like wordpress got so popular it allowed
04:55 - website owners to easily manage the
04:58 - content displayed on the site without
05:01 - needing to write code the good thing
05:03 - about gatsby is that it can do that same
05:06 - thing there are gatsby plugins allowing
05:09 - your content to come from content
05:11 - management systems like contentful and
05:15 - even wordpress so you can have a website
05:18 - powered by gatsby but still allow the
05:21 - website owner to manage that content
05:24 - using a nice simple admin interface
05:28 - where they're just filling out form
05:29 - fields and clicking save and the new
05:32 - content magically appears i remember
05:35 - when i was running my freelance web
05:37 - development business from about
05:39 - 2011 to about 2015
05:43 - and everyone you talked to wanted a
05:45 - wordpress site they didn't want a
05:47 - wordpress site because they cared about
05:49 - using php or mysql
05:52 - they wanted a wordpress site because
05:55 - they knew with a wordpress site they
05:57 - could customize the content on their own
06:00 - now everyone can have what they want
06:03 - developers can write their sites in a
06:05 - modern stack using node.js graphql and
06:09 - react and the website owners can still
06:11 - manage their content using whatever cms
06:14 - they're most comfortable with including
06:17 - wordpress in this bootcamp we'll end up
06:19 - covering both of those approaches so
06:21 - we're going to start off creating a
06:23 - simple gatsby site and getting
06:25 - comfortable with the basics then we'll
06:27 - convert that over to a blog powered by
06:29 - markdown files and from there we'll
06:32 - convert it over to a blog powered by a
06:35 - content management system and in this
06:37 - case we'll be using the contentful cms
06:40 - to get that done
06:41 - now let's actually get started with
06:43 - gatsby the only thing you need installed
06:46 - on your machine to use gatsby is nodejs
06:50 - if you don't have node installed you can
06:52 - grab it over at nodejs.org
06:56 - and you don't need a specific version
06:58 - just grab something modern let's say v8
07:01 - or greater in this case we have v10 and
07:04 - 11 both of those would be perfectly fine
07:08 - and if you have something slightly
07:09 - different on your machine that's going
07:11 - to work fine as well
07:13 - now to actually use gatsby we have to
07:16 - install its command line interface
07:18 - that's going to be used to generate new
07:21 - gatsby projects and it's available as an
07:24 - npm module so what i'm going to do is
07:27 - crack open my terminal and from here
07:30 - we're going to run a single npm command
07:33 - that's npm install followed by the g
07:36 - flag to install the module globally and
07:40 - the module name is gatsby hyphen
07:42 - cli at the latest version
07:47 - 2.4.17
07:48 - now if we go ahead and run this command
07:50 - it's going to work through the
07:51 - installation process and once this is
07:54 - done all we're going to do is generate a
07:57 - new gatsby project and open it up in
08:00 - visual studio code or whatever text
08:02 - editor you want to use
08:04 - so right here the installation did
08:07 - complete successfully and to generate a
08:10 - new project first we want to figure out
08:12 - where to store the project now if you
08:15 - have a folder on your machine where you
08:17 - like to store your programming projects
08:20 - go ahead and switch to that directory
08:22 - for this bootcamp i'm just going to put
08:25 - the new project right on my desktop so
08:28 - i'll use cd desktop to switch over to
08:31 - the desktop and from here we're going to
08:34 - use the gatsby new command
08:38 - now the new command is going to accept a
08:40 - couple of arguments first up is the
08:42 - project name now this project name is
08:45 - the name of the folder that's going to
08:47 - get created so in this case i'll call it
08:50 - something like gatsby hyphen
08:53 - and the other argument we provide is the
08:56 - url to the starter we want to use now
09:00 - gatsby has a few built-in starters
09:02 - officially released by the gatsby team
09:05 - and there are hundreds of other ones
09:07 - created by third-party developers
09:10 - allowing you to build all sorts of
09:12 - interesting sites and applications the
09:15 - goal in this bootcamp is to explore the
09:18 - fundamental gatsby features and if you
09:21 - know those you'll be able to work with
09:23 - and customize any of those other
09:25 - starters out there so for us it's going
09:28 - to be the following url
09:30 - https
09:32 - colon forward slash forward slash
09:34 - github.com
09:36 - forward slash gatsby js
09:39 - forward slash gatsby
09:42 - hyphen starter hyphen hello hyphen world
09:46 - so take a quick moment to run that
09:48 - command and it's going to do two
09:51 - important things one it's going to
09:53 - create that new project folder and pull
09:56 - all of the starter code in
09:58 - two what it's doing right now is
10:00 - installing all of the modules necessary
10:03 - for your project to actually run once
10:06 - this command is done we can crack open
10:09 - the new directory in visual studio code
10:12 - and get started building out our site
10:15 - actually before it's even done we can
10:17 - get that process started so over in
10:20 - visual studio code i'm going to open up
10:22 - that new directory now for me i put it
10:25 - on my desktop and i called it gatsby
10:27 - bootcamp so i'll crack that open and
10:30 - right here you'll notice we do have a
10:32 - set of files and folders showing up and
10:35 - we will explore all of these in detail
10:38 - for now all i want to do is run a single
10:41 - command from the terminal allowing us to
10:44 - start our site up now in the background
10:47 - i can see that the command has finished
10:49 - and we're actually done with the
10:50 - terminal we're not going to use this for
10:53 - anything else in the bootcamp all of the
10:55 - other terminal commands i'll be running
10:58 - i'm going to run from the integrated
10:59 - terminal that visual studio code comes
11:02 - with you can always go up to terminal
11:05 - new terminal to find the keyboard
11:07 - shortcut to open up the terminal in vsc
11:10 - it's definitely a keyboard shortcut i
11:13 - recommend
11:14 - now right here we're gonna run one of
11:16 - the few scripts that gatsby provides if
11:19 - we open up package.json
11:21 - we can see under the scripts property we
11:24 - have six the one that we're going to
11:26 - start with is the develop script which
11:30 - allows us to start up the development
11:32 - server that we can use to run our app
11:35 - locally and build the project out this
11:38 - comes with all sorts of great features
11:40 - like live reload so your changes are
11:43 - reflected in real time now there are a
11:46 - few other commands as well we'll be
11:48 - exploring later in the boot camp but for
11:50 - now let's start with that develop script
11:53 - so from the terminal right here in the
11:55 - gatsby bootcamp project that is npm
11:59 - run develop when we do that it's going
12:02 - to try to start up our gatsby project
12:04 - the default port for that is 8000 and
12:08 - once this command is done we should be
12:11 - able to crack open localhost 8000 and
12:14 - visit our site here it's saying that
12:17 - things have compiled successfully so
12:19 - let's crack the site open
12:21 - in a new browser tab
12:23 - localhost on port 8000 i visit that and
12:26 - what do i get i get a small html page
12:30 - printing hello world to the screen so
12:33 - there we go if you're seeing this that
12:36 - means you have successfully created and
12:39 - ran your very first gatsby project now
12:42 - for the moment it doesn't do anything
12:44 - too interesting so let's go ahead and
12:47 - wrap up by actually customizing what
12:49 - we're seeing on the page to get that
12:52 - done we need to focus on the source
12:54 - directory now we have a lot of other
12:56 - folders and files in the project we'll
12:59 - focus on those later in the boot camp
13:01 - for now the focus is on the source
13:04 - directory and if we open that up we can
13:06 - see there is a single directory inside
13:09 - of there called pages the pages
13:12 - directory is a very important folder in
13:14 - your gatsby project and it's actually
13:17 - the topic of the next lesson so for the
13:20 - moment we're not going to dive too much
13:22 - into the details of what it is or how
13:25 - everything's working if we go inside of
13:27 - that folder though we can see we have a
13:30 - single file index.js
13:33 - this contains the react component that's
13:36 - rendering the home page right here if i
13:39 - open it up we can see it's about as
13:41 - simple as it gets on line 1 we import
13:45 - react on line three we export a
13:48 - functional component where we set up a
13:51 - div with the text of hello world so this
13:54 - is the content we're seeing in the
13:56 - browser if i go ahead and remove that
13:59 - text content i can replace it with
14:02 - something like the name of the bootcamp
14:04 - the great
14:05 - gatsby bootcamp
14:07 - i can save the file and in real time we
14:10 - can see the changes reflected over here
14:13 - thanks to the development server we're
14:16 - running in the background all right
14:18 - that's where we're gonna stop for this
14:20 - one in this first lesson you got gatsby
14:23 - installed and you also created and
14:25 - started up your very first gatsby site
14:29 - in the next lesson the focus is going to
14:31 - be on gatsby pages we'll talk about
14:34 - customizing pages and creating new ones
14:37 - and the focus will be on that pages
14:39 - directory and the files inside i'm
14:42 - really excited to get to that and learn
14:44 - more about why all of this is even
14:46 - working so let's jump right in to the
14:49 - next lesson
14:54 - welcome to the second lesson for the
14:56 - great gatsby bootcamp where you're gonna
14:59 - learn how to work with gatsby pages now
15:02 - in the last lesson we saw that by
15:04 - default we had this source pages
15:07 - directory and in there we had a single
15:10 - file for the single page on our site it
15:12 - was index.js
15:15 - which exported a component that
15:17 - component rendered a little bit of text
15:20 - and that's exactly what we were seeing
15:22 - when we visited our static site over in
15:24 - the browser the great gatsby boot camp
15:27 - showing up in both locations
15:30 - so when it comes to page creation the
15:33 - source pages directory is where gatsby
15:36 - looks when it's figuring out what static
15:38 - pages your site needs so all of the
15:41 - files we put inside of this directory
15:44 - are going to represent the pages for our
15:46 - site such as a home page an about page a
15:50 - blog page and anything else you might
15:52 - need and that'll all depend on the type
15:55 - of site you're building to get started
15:57 - i'd actually like to empty this file
15:59 - completely and build the page up from
16:02 - scratch so right here it's gonna start
16:04 - off the same one thing we'll do in all
16:07 - of our pages is import react that's
16:09 - necessary if we're going to use jsx
16:13 - and react is something we can import as
16:15 - it's already installed as part of our
16:17 - gatsby project
16:19 - from here what we're going to do is
16:21 - create our react component for this page
16:24 - as a standalone variable so const index
16:28 - page you could pick whatever name you
16:30 - like this is just the one i'm choosing
16:33 - and what i'm going to do is set this up
16:35 - as a function this function is our react
16:38 - component and all we need to do from
16:41 - here is return some jsx containing what
16:44 - should get rendered when this component
16:46 - gets rendered right here
16:48 - return in parentheses
16:51 - i'll set up a div
16:53 - and in there i'll add an h1 header
16:56 - element with the text value of hello
17:00 - after that i'll add an h2 and i'll add a
17:03 - little bio about myself something like
17:06 - i'm andrew
17:08 - a full stack developer
17:12 - living in beautiful
17:16 - philadelphia
17:17 - perfect
17:18 - now that i have this in place i can go
17:21 - ahead and make sure that this component
17:23 - gets exported like we were doing before
17:26 - so export
17:27 - default followed by the name index page
17:31 - now there's no need to create the
17:32 - separate variable and then export it but
17:35 - this is definitely the approach i prefer
17:38 - i find it a lot easier to manage my code
17:41 - so with all of this in place we now have
17:43 - a new version of the index page if i
17:46 - save the file i can see that gatsby
17:48 - compiled a new version of the site and
17:51 - right over here we have everything
17:53 - showing up hello i'm andrew a full stack
17:56 - developer living in beautiful
17:58 - philadelphia so this is all it takes to
18:00 - create a page we add a file to the
18:03 - source pages directory that file is a
18:06 - javascript file which exports a react
18:09 - component
18:11 - now if you're not familiar with the
18:12 - basics of javascript
18:14 - or react those aren't topics i dive into
18:17 - in the bootcamp though i do have courses
18:20 - for both of those i have the modern
18:22 - javascript bootcamp which covers
18:24 - everything you would need to know about
18:26 - javascript and i have the complete react
18:29 - web app developer course which dives
18:31 - deep into react and that entire
18:34 - ecosystem if you're interested in either
18:36 - of those i'll include links on the
18:38 - screen and in the description down below
18:41 - so what exactly is happening when gatsby
18:44 - generates our site it starts by looking
18:46 - in that source pages folder to figure
18:49 - out exactly which static pages it should
18:51 - create in this case it sees we only have
18:54 - a single file which means our site is
18:57 - only going to have a single page
18:59 - now the pages you create should indeed
19:02 - be javascript files and those files
19:05 - should export react components
19:08 - gatsby will render that react component
19:10 - to figure out what should get shown on
19:12 - the page that's exactly why we're seeing
19:15 - our two bits of text when we visit the
19:17 - root of our site at localhost 8000.
19:21 - now the name of the files in the source
19:23 - pages directory is also important in
19:26 - this case we've called our file
19:29 - index.js
19:30 - this is similar to how index.html
19:34 - would be the default page for a website
19:37 - when you're working with gatsby index.js
19:40 - in the source pages folder that is your
19:43 - home page so in this case that's exactly
19:46 - why that content is appearing
19:48 - now to create a new page all we need to
19:51 - do is add a new file to the pages
19:53 - directory and that's exactly what we're
19:55 - going to do right now
19:57 - in total we're going to add three new
19:59 - pages in this lesson let's go ahead and
20:02 - get started by adding a blog page to the
20:06 - site so this is going to be a page where
20:09 - we will eventually show a list of all of
20:11 - the blog posts we've written to do that
20:14 - we create a new file in the pages
20:17 - directory i'm going to call this blog.js
20:21 - and like we did with the index.js file
20:25 - we have to export a react component
20:27 - which contains the content we want to
20:29 - render so let's get that done
20:32 - to start i'm going to import react
20:34 - remember we need react in order to use
20:37 - jsx and from there we're going to set up
20:39 - our functional component
20:41 - i'll call this one something appropriate
20:43 - for the blog page like blog page
20:46 - i'll set this up as a function
20:49 - and i'm going to return the jsx which
20:52 - contains the stuff i want to render in
20:54 - this case i'll also use a root div and
20:58 - i'll set up a title and some text so the
21:01 - header for this page is going to be
21:02 - something like blog or my blog
21:06 - then down below we're going to set up a
21:08 - paragraph element and right here i'll
21:11 - just say something like posts will show
21:14 - up here later on and that's true a bit
21:17 - later in this bootcamp we'll actually
21:19 - get a dynamic list of posts showing up
21:22 - below the title
21:24 - now the last thing we need to do is
21:26 - export the component it's an important
21:28 - step otherwise gatsby cannot get access
21:31 - to this function to actually render the
21:33 - page
21:34 - right here that would be blog page
21:37 - exactly as defined up above
21:40 - now we can go ahead and save the file
21:42 - and over in the browser we have access
21:45 - to a brand new page
21:47 - this page lives at localhost on port
21:49 - 8000 forward slash blog where this part
21:54 - of the url after the forward slash is
21:57 - the name of the page file so in this
22:00 - case i called it blog over here that's
22:03 - why we have access to forward slash blog
22:06 - and when we visit that page what do we
22:08 - get we get our component content i have
22:11 - my header blog and i have my paragraph
22:14 - text just below creating new pages with
22:18 - gatsby could not be easier all you have
22:20 - to do is add new javascript files to
22:23 - that pages directory now this bootcamp
22:26 - is not just you watching what i'm doing
22:28 - i've also included challenges which
22:30 - require you to use what you've learned
22:33 - to continue to build on the site so down
22:36 - below let's talk about what i'd like you
22:38 - to do then i'll give you some time to go
22:40 - off and do it before we work through the
22:42 - solution together
22:44 - so the big picture goal is to create an
22:46 - about page and a contact page so you'll
22:50 - be adding two new pages to our site by
22:53 - the end we'll have four in total
22:56 - step one create that about page you can
22:59 - include a page title and a bio use an h1
23:02 - for the page title and a paragraph or
23:05 - two for the bio
23:07 - then you're going to create the contact
23:09 - page for that one include a page title
23:13 - and your contact details as well
23:16 - now when it comes to the file names
23:18 - which end up being the urls you can just
23:21 - use about and contact finally test your
23:24 - work once you have that code in place
23:27 - actually visit those urls in the browser
23:30 - and make sure you see your pages showing
23:32 - up so take some time to knock this out
23:35 - test your work pause the video when
23:37 - you're done come back and click play
23:44 - how'd that go let's get to it step one
23:46 - i'm going to create a new file in the
23:48 - pages directory for the about page now
23:52 - i'm gonna go with about as the url
23:54 - though maybe you wanted to do something
23:56 - like about me or even just me in this
24:00 - case about.js
24:02 - i'll start by importing react
24:05 - from react and then we'll set up our
24:06 - component so a new constant about page
24:10 - or something similar
24:12 - we'll set up the function itself and
24:14 - we'll return the necessary jsx like i
24:18 - had with my other pages i'll have a root
24:20 - div with all of the content right inside
24:23 - i'll have an h1 that says about me
24:27 - then down below i can add a paragraph to
24:30 - the page as well and i'll say something
24:32 - like i currently
24:34 - teach full time
24:36 - on udemy perfect
24:38 - so once we have this in place all we
24:40 - need to do is export that component
24:43 - export
24:45 - default about
24:47 - page and we are halfway done
24:50 - now that we have the about page created
24:53 - let's go ahead and move on to step two
24:55 - and create that contact page so once
24:58 - again we need to create a new file in
25:00 - the source pages directory
25:03 - i'm going to call this contact
25:06 - so that would be
25:07 - contact.js and then here we move through
25:10 - that same process importing react so we
25:13 - can use our jsx setting up a constant
25:16 - for that component contact page and then
25:20 - setting up the component itself and
25:22 - returning the jsx that should get
25:24 - rendered on the page
25:26 - now for the h1 i'll use the text value
25:29 - of contact whoops not contact page
25:33 - then down below i'll set up a paragraph
25:36 - and i'll just say the best way to reach
25:39 - me is via my twitter which is at andrew
25:43 - underscore j underscore mead perfect
25:47 - actually i'll say via that on twitter
25:51 - excellent
25:52 - so now that we have this in place once
25:54 - again just need to export the component
25:57 - export default contact page and we are
26:01 - done we have our two new pages which
26:04 - just equals a new javascript file that
26:07 - exports a component
26:09 - now let's go ahead and i'll remove those
26:11 - challenge comments we'll make sure
26:13 - everything is saved and we'll move on to
26:15 - the final step which was to test our
26:17 - work
26:18 - so first up i'll swap out forward slash
26:21 - blog for forward slash about i visit
26:25 - that and i see my about page which is
26:27 - awesome from there i'll visit my contact
26:30 - page
26:31 - right here that shows up with the
26:33 - contact details i specified so at this
26:37 - point we now know how to create pages
26:40 - with gatsby the next thing we want to do
26:42 - is figure out how we can link between
26:45 - those pages it's already getting a
26:47 - little old manually typing urls in the
26:50 - browser bar so let's jump right into the
26:53 - next video and learn how we can properly
26:56 - link between our pages when using gatsby
27:04 - now that you have a few pages in place
27:06 - let's go ahead and link between those
27:09 - pages now the most obvious way to get
27:12 - this done would be to use the anchor
27:14 - element provided by html itself and that
27:18 - would indeed work so let's start with
27:20 - the homepage i'm going to navigate over
27:23 - to index.js the home page component and
27:27 - in the browser i'll navigate over to
27:29 - localhost 8000. all we're going to do is
27:33 - include some text down below like need a
27:35 - developer then i'll have contact me
27:38 - which will be a link over to the contact
27:41 - page so what am i gonna do well over
27:44 - here i'll add some stuff just below rh2
27:48 - it'll be a paragraph tag
27:50 - something like need
27:52 - a developer question mark
27:55 - then after that it'll be the link so
27:58 - here i'm using the a anchor element the
28:01 - link text will be something like contact
28:04 - me
28:04 - and i'll set up the href attribute
28:07 - to specify the destination that would be
28:10 - forward slash contact to navigate over
28:14 - to that page now this is indeed gonna
28:17 - work i save the file i see my new text
28:20 - and my link on the home page and i'm
28:22 - going to click contact me it brings me
28:25 - over to the page as expected
28:27 - now this does indeed work but you'll
28:29 - notice that we went through a full page
28:32 - refresh the entire page went away it
28:35 - went to a white screen then the contact
28:37 - page was loaded in let's see that one
28:40 - more time so we click the link we see
28:42 - that flash of content and the new
28:44 - content appears
28:46 - that's because we're using the standard
28:48 - anchor element this is indeed going to
28:51 - work as a tool to link between your
28:54 - pages but gatsby actually has a
28:56 - different way you can link between your
28:58 - pages which comes with a lot of
29:01 - optimizations allowing the content to be
29:04 - swapped out instantaneously so let's see
29:07 - that in action and the first thing we
29:09 - need to do is import something new up
29:12 - above
29:13 - right here for this import statement
29:16 - we'll be grabbing a named export so
29:18 - inside of curly braces that is capital l
29:22 - link and we'll be grabbing it from the
29:25 - gatsby npm module now remember gatsby is
29:28 - an npm module that's already installed
29:31 - with our project over in package.json
29:34 - it's listed out as one of our three
29:36 - dependencies so we're good to go no need
29:39 - to install anything new and what we're
29:42 - getting access to is link link is a
29:45 - react component when we use link to link
29:49 - between the pages of our gatsby site
29:51 - there's a whole bunch of optimization
29:53 - that happens behind the scenes for
29:55 - example gatsby is going to pre-load the
29:59 - page content you might be heading to
30:02 - so if you do click that link it loads
30:04 - instantly and you no longer get that
30:06 - flash of content between pages
30:09 - so down below we'll leave our old
30:11 - example in place and we'll add the new
30:13 - one just below it need a developer
30:17 - then we'll set up our new link using the
30:20 - link component so right here i'm gonna
30:22 - set that up
30:23 - now here we have a separate opening and
30:26 - closing tag and right in between we put
30:29 - the text for the link so once again
30:32 - contact me
30:33 - perfect
30:34 - the only other thing we need to do is
30:36 - specify a prop to the link component the
30:40 - link component needs the to prop
30:42 - 2 is the path we're trying to head to in
30:45 - this case it is forward slash contact
30:48 - exactly like we had up above
30:51 - so this is the correct way to link
30:54 - between pages in your gatsby site and if
30:56 - you're still linking to an external site
30:58 - like your github profile or twitter the
31:01 - anchor element is perfectly fine let's
31:04 - go ahead and see this in action i'm
31:06 - going to save index.js
31:09 - over in the browser we'll navigate to
31:11 - the home page
31:12 - and right here we see two links the old
31:15 - one we had before and our new link down
31:18 - below now let's pay careful attention to
31:20 - the content as we click the new link i
31:23 - click it and what do i see i can see the
31:26 - new content instantly no longer do we
31:28 - have the flash of content we got when we
31:31 - clicked that old link so it's a much
31:34 - nicer user experience
31:36 - once again when using link gatsby
31:39 - performs all sorts of optimizations
31:41 - behind the scenes to make sure the new
31:43 - content can be shown in what looks like
31:46 - real time
31:48 - let's go ahead and remove that first
31:50 - solution which wasn't working so well
31:52 - and with that in place we are done with
31:54 - new content down below a quick challenge
31:57 - for you to knock out the goal is to add
31:59 - a couple of new links to the site on the
32:02 - contact page i'd like you to take that
32:05 - twitter handle and convert it into a
32:07 - link to the twitter profile so it should
32:10 - actually take users away from your site
32:12 - over to twitter.com now if you don't
32:15 - have a profile you want to link to you
32:17 - can just link to any external website
32:20 - like google.com or something similar for
32:23 - step two on the about page i want you to
32:25 - link over to the contact page if someone
32:28 - wants to reach out based off of your bio
32:31 - so make sure to include the correct link
32:33 - there finally test your work actually
32:37 - pull up the site click both of those
32:39 - links and make sure they work as
32:40 - expected for this link the link
32:43 - internally between two of your pages you
32:46 - should see the content instantly without
32:49 - that flash
32:50 - all right knock it out when you're done
32:52 - come back and click play
32:58 - all right let's get to it on the contact
33:00 - page i'm going to link over to the
33:02 - twitter profile so right here i do want
33:05 - that handle in the future so i'll cut it
33:07 - out copying it to the clipboard
33:09 - then i'm going to set up the a anchor
33:12 - element and since we're working with an
33:14 - external link we don't need to use the
33:16 - link component
33:18 - now the text is going to be exactly the
33:20 - same as what we had before just the
33:22 - handle itself and the url will be
33:25 - specified via the href attribute that'll
33:28 - be https colon forward slash forward
33:32 - slash then twitter
33:34 - dot com forward slash the handle which
33:37 - once again i have as part of the
33:39 - clipboard perfect
33:41 - with the link in place we can always set
33:44 - up the target attribute
33:46 - setting that equal to underscore blank
33:49 - and that's going to open the link in a
33:51 - new browser tab so users aren't
33:54 - completely redirected away from our site
33:56 - let's go ahead and test that out over
33:59 - inside of the browser i should have that
34:02 - new link showing up i click it it opens
34:04 - up a new tab and it pulls up my twitter
34:07 - profile now i can go ahead and close
34:09 - that and i'm still on the contact page
34:12 - the next link you needed to create was
34:14 - on the about page on the about page i
34:17 - wanted you to link over to the contact
34:19 - page
34:20 - in this case we want to use the link
34:22 - component as we're linking internally so
34:25 - i'm going to import the named export
34:28 - link from the gatsby module then down
34:31 - below we're actually going to use it now
34:33 - i didn't tell you where to put it so
34:35 - anywhere is fine i'll just add it down
34:38 - below my other paragraph right here i'll
34:41 - add a new paragraph
34:43 - i'll put the link right inside
34:46 - the link text can be something like want
34:48 - to work with me
34:51 - reach out
34:52 - and then all i need to do is set up the
34:55 - to prop for the link component right
34:58 - here that'll be a string forward slash
35:01 - contact and we're done
35:03 - now let's head over to the about page
35:05 - and make sure this actually works if it
35:07 - does we'll be all done our challenge so
35:10 - i'm going to remove those challenge
35:12 - comments i'm going to save every single
35:14 - file in the browser
35:16 - let's go to forward slash about
35:19 - here we have our new link which is a
35:21 - good start i click it it brings me over
35:24 - to the contact page without that full
35:27 - page refresh which is excellent and now
35:30 - that we know how to link between the
35:32 - pages on our gatsby site let's go ahead
35:35 - and move on to the next video where
35:37 - you're going to figure out how to create
35:39 - shared components so imagine we want to
35:42 - take links to the next level setting up
35:44 - something like a navigation bar that
35:47 - shows up exactly the same for every
35:50 - single page that is the topic of the
35:52 - next lesson so let's jump right into
35:55 - that
36:00 - your gatsby site currently has four
36:03 - pages and the content for those four
36:05 - pages is completely unique there is no
36:08 - shared content we type out everything
36:11 - the page should render in the component
36:14 - for that page
36:16 - now this works really well for unique
36:18 - content but think about things that are
36:21 - shared across multiple pages in your
36:23 - site like a header or a footer this is
36:27 - not something we want to have to type
36:29 - out for each and every page we're going
36:31 - to have duplicate code all over the
36:33 - place instead we want to create a
36:36 - separate react component that all of
36:38 - these pages can use and render and
36:41 - that's exactly what we're gonna do in
36:43 - this video together we're going to
36:46 - create a footer that'll show up at the
36:48 - bottom of every page on our site then as
36:51 - your challenge for the video you'll
36:53 - create a header for the site pages with
36:56 - a shared navigation so it's really easy
36:59 - to access all of the content on the site
37:02 - so let's get started together with the
37:04 - footer to get started we need to create
37:06 - a new file for a new react component the
37:09 - footer then once we have that component
37:12 - in place all of these pages can import
37:14 - it and use it where they'd like at the
37:17 - bottom of the page that'll give us a
37:19 - shared footer now this new component
37:22 - file should not go in the source pages
37:24 - directory since we're not trying to
37:26 - create a new page we're just trying to
37:29 - create a component that can be rendered
37:31 - on every page
37:33 - so to do that we have to start by
37:35 - creating the components directory
37:38 - and from there we're going to go ahead
37:40 - and create footer
37:42 - dot js this will be the footer component
37:46 - now the components directory has no
37:48 - special meaning the files inside of here
37:51 - aren't going to do anything unless
37:53 - they're imported and used somewhere else
37:56 - and that's exactly what we want
37:59 - now to stay organized i'll put the
38:01 - footer all the way over here on the
38:03 - right let's go ahead and create the
38:05 - component i'll start by importing react
38:09 - from react and once we have that in
38:11 - place we can create a new constant
38:13 - called footer and that's where i'm going
38:15 - to store my functional component
38:18 - and i'll set up the content i'm going to
38:20 - render in this case it'll be the footer
38:23 - element as the root element and right
38:26 - inside of there all i'm going to do is
38:28 - add a paragraph and i'll put in a little
38:31 - text like created
38:33 - by andrew meade you can use your name
38:36 - there
38:37 - then i'll put the copyright information
38:40 - so copyright 2019 now on a mac to
38:44 - generate that symbol that is option g
38:47 - i'm not sure what it is on other
38:49 - operating systems you could always type
38:51 - out the full word copyright
38:53 - the last thing to do is to export the
38:56 - component from this file otherwise we'll
38:58 - never be able to access it
39:00 - so export
39:02 - as the default export footer and there
39:05 - we go everything in this file is done we
39:08 - can now import and render this component
39:11 - on the various pages for our site
39:14 - let's start with the one page we already
39:16 - have up that's the contact page
39:19 - right here i have the contact page
39:21 - component
39:22 - to start i'm going to go ahead and
39:24 - import the footer
39:26 - so i'm importing the default export
39:29 - calling it footer and i'm grabbing that
39:31 - from a file relative to this one so i'm
39:35 - going to start off with dot dot to get
39:37 - out of the pages directory where the
39:39 - current file lives
39:41 - then it's forward slash components since
39:43 - i'm looking for a file in there and it's
39:46 - called footer leaving off the js file
39:48 - extension
39:50 - now that we have the footer component
39:52 - imported it can actually be used on the
39:54 - page and in this case it's going to make
39:56 - sense to put the footer at the bottom
39:58 - where it belongs so right here
40:01 - just before that closing div
40:03 - i'm going to render the footer component
40:06 - now if i save things what do i see in
40:08 - the background i can see that my contact
40:11 - page does have the footer which is a
40:14 - great start
40:16 - using react components we're able to
40:18 - compose our pages and nothing we're
40:20 - doing here is gatsby specific here we're
40:23 - just using the fundamentals of react so
40:26 - i'll do the same thing for the about
40:28 - page
40:29 - importing the footer from
40:33 - we're going out of the pages directory
40:35 - into components and there we have footer
40:38 - and i'll copy this line to the clipboard
40:40 - so i can use it for my other files
40:43 - right here before that closing div we'll
40:46 - render the footer component
40:48 - and then let's check out the about page
40:50 - so i head over to forward slash about
40:54 - and right here i can see the footer is
40:56 - showing up which is great
40:58 - now let's take this over to the other
41:00 - two pages blog and index
41:02 - so for blog i'll paste that import
41:05 - statement in
41:06 - then just below where we have that
41:08 - closing div that'll be footer to render
41:11 - it
41:12 - and finally for the home page so right
41:15 - here
41:16 - importing the footer component and
41:18 - rendering it near the bottom of the page
41:20 - content
41:22 - perfect
41:23 - the last thing to do is to check those
41:25 - two pages the blog page and the home
41:27 - page i'll go to forward slash blog and
41:30 - the footer shows up i'll go to just the
41:34 - root and here the footer also appears
41:37 - now we have a single place to manage the
41:39 - footer content and if we wanted to
41:41 - update something like the year i would
41:44 - simply type it in save the file and now
41:47 - that change is going to be reflected on
41:49 - every single page for the site which is
41:51 - exactly what we want
41:53 - all right i'm going to change that back
41:55 - over to 2019 and now it's time for you
41:59 - to do something similar but for the page
42:02 - header so let's talk about what you're
42:04 - gonna do for this challenge the big
42:07 - picture goal is to create a shared page
42:09 - header so step one set up a header
42:12 - component that component should render a
42:15 - site title so a title for the entire
42:18 - site and it should include links to all
42:21 - four pages so this header component is
42:23 - going to contain our main navigation now
42:27 - don't worry about creating the perfect
42:29 - semantic html structure you can just get
42:32 - all of this content shown to the screen
42:34 - and as we work through the challenge
42:36 - solution i'll go ahead and set up the
42:38 - semantic html markup
42:41 - down below next up make sure the
42:43 - component you create gets rendered at
42:45 - the top of every single page for the
42:48 - site all four of them then test your
42:50 - work you should be able to see your
42:52 - navigation bar and you should be able to
42:55 - click between all of the links to
42:57 - navigate to the four pages on your site
43:00 - so take some time to knock this out test
43:03 - your work when you're done come back and
43:05 - click play
43:10 - how'd that go let's get to it by first
43:12 - creating the new component so this is
43:15 - going to be a new component in that
43:17 - components directory called something
43:19 - like header so that's header.js
43:22 - and in here we're going to import react
43:25 - since we're going to end up using some
43:27 - jsx to render the header component
43:31 - and i'm also going to import that named
43:34 - export link from gatsby as i do want to
43:37 - set up the navigation links as well
43:40 - down below we can actually create the
43:42 - footer constant and set up our function
43:46 - for the functional component
43:48 - now i mentioned that your job was to
43:50 - just get the content rendered to the
43:52 - screen and not to worry too much about
43:54 - the correct semantics for this sort of
43:57 - thing
43:58 - in this case though we will work through
43:59 - that together so i'm going to start with
44:02 - the header element
44:03 - from there i'll set up an h1
44:06 - with the text of andrew mead which i'll
44:08 - use as the title for this site you could
44:11 - have used any text you wanted to
44:14 - then we'll focus on the navigation menu
44:18 - so for this we want to start with the
44:19 - nav element
44:21 - then we're going to create an unordered
44:23 - list
44:24 - and in there we'll have a list item for
44:27 - each and every link so this is the basic
44:30 - structure we're going to use and the
44:32 - first list item will contain our first
44:34 - link in which case i'll just link to the
44:37 - home page so right here
44:39 - a new instance of the link component
44:42 - the text is home and where are we going
44:45 - to we're going to forward slash
44:48 - down below i can set up another list
44:50 - item with a second link for this one
44:53 - i'll go to the blog page though the
44:55 - order of the links was not important as
44:58 - long as all four are showing up
45:01 - then from there it's about followed by
45:03 - contact so i'll knock out about first
45:10 - that is going to go to forward slash
45:13 - about and finally setting up the list
45:16 - item for our last link
45:19 - this link going over to the contact page
45:23 - so to forward slash contact
45:26 - so this is the basic structure for our
45:28 - header component the end result is our
45:31 - site title and four links showing up to
45:33 - the screen now i actually called this
45:36 - footer that is a mistake i should have
45:38 - called that header
45:40 - just down below let's go ahead and
45:42 - export our new component so export
45:45 - default
45:46 - header and all we need to do from here
45:49 - is import this file and render it
45:51 - somewhere on the site and in this case i
45:54 - want to do that for all four pages
45:57 - so that is step number two i'll start
46:00 - with the contact page so right here
46:03 - actually i'm going to start with the
46:04 - page showing up which is the home page
46:07 - so right here in index.js i'll start by
46:11 - importing the header
46:14 - from
46:14 - that's dot dot forward slash components
46:17 - forward slash header and i'm going to
46:19 - copy this line to the clipboard so i can
46:22 - use it in my other page components
46:25 - just down below as the first thing i
46:27 - render i'm going to render the header
46:30 - component and if i save the file i
46:32 - should see that showing up and it is
46:35 - here i have home blog about and contact
46:39 - and if i click one of those links like
46:41 - the blog link it brings me over to the
46:43 - blog page which is awesome now the blog
46:47 - page itself doesn't have a nav menu so
46:49 - let's fix that
46:51 - here i'll paste in my import statement
46:54 - i'll set up the header component and
46:57 - i'll do the exact same thing for my
46:59 - other two pages as well
47:01 - first up is about
47:03 - rendering the header
47:06 - and last up is the contact page
47:10 - perfect
47:11 - now once we have this in place we'll
47:13 - have that shared navigation and the
47:16 - final thing we need to do after saving
47:19 - the contact file is to test our work so
47:22 - right here i'm on the blog page i'll go
47:25 - to home then blog then about then
47:28 - contact and we can see that on each and
47:30 - every page we have our header showing up
47:33 - up top and down below we have our footer
47:37 - so when we're working with gatsby we can
47:39 - compose our site of various components
47:42 - exactly like we're able to when we're
47:44 - using react in any other context the
47:47 - only important thing to remember is that
47:50 - if we're creating a react component
47:52 - that's not meant to be an entirely new
47:54 - page that should not go in the source
47:57 - pages directory in this case we're
48:00 - putting it in the source components
48:01 - directory but this directory could be
48:04 - called anything you'd like its name is
48:07 - not important
48:09 - all right that's where we're gonna stop
48:11 - for this one i'll see you in the next
48:13 - lesson
48:18 - in this lesson you'll be taking your
48:20 - pages to the next level by creating a
48:23 - single page layout component so you can
48:26 - think of this video as a continuation of
48:29 - the last one in the last video we set up
48:32 - our header and footer and in order to
48:35 - render them on every page we had to
48:37 - import them on every page and then
48:40 - manually set them up in the correct
48:42 - position four times now that was four
48:45 - times four four pages as our pages grow
48:48 - and our layout shifts that's going to
48:51 - require us to make even more changes to
48:54 - every single page component what we're
48:57 - going to do here is set up a universal
48:59 - layout component that we can easily use
49:03 - to create a new page with just a couple
49:05 - of lines of code so let's see what
49:07 - that's going to look like and how it's
49:09 - going to help us
49:10 - to start let's create a new component in
49:12 - the components directory and this is
49:15 - something we're going to call layout.js
49:18 - and eventually this will be the only
49:21 - component that our pages need to import
49:23 - in order to get up and running
49:25 - now we're going to focus on layout.js
49:28 - and index.js
49:30 - if we can get the layout to work here
49:32 - it'll be really easy to add it to the
49:35 - other three pages so to start let's
49:37 - create the basic structure of the layout
49:40 - component right here we're going to
49:42 - start by importing react from react
49:46 - then we'll set up the layout constant
49:49 - right here it's a functional component
49:51 - where we return some jsx and i'll start
49:55 - off with a single root div
49:58 - now down below we'll go ahead and export
50:00 - this component so that's going to be
50:03 - export
50:05 - default layout and we're done well we're
50:09 - done for now let's actually try to use
50:11 - this over in index.js and see what
50:14 - happens
50:15 - so here's the big picture goal i want to
50:18 - be able to remove all of the components
50:20 - that are used on every page and just use
50:23 - that single layout component instead
50:26 - so that's the only one i'm gonna end up
50:28 - importing
50:29 - i'll import layout
50:31 - from
50:32 - dot dot forward slash components forward
50:35 - slash layout and then we're gonna use it
50:39 - down below
50:40 - now here's what that's going to look
50:41 - like i'm going to recreate the return
50:44 - statement and i'll remove the duplicate
50:46 - one in just a second
50:48 - right here we're actually going to start
50:50 - by rendering layout and the stuff we
50:53 - want to put on the page the stuff unique
50:55 - to the page that goes right inside so
50:59 - for us what's unique well it's not the
51:01 - div or the header or the footer it's
51:03 - just this stuff right inside so i'm
51:06 - going to copy those three elements
51:09 - i'm going to paste them into layout and
51:11 - this is the end goal of what we want
51:14 - now currently if i remove that duplicate
51:17 - return this is not going to work as
51:20 - expected i'm going to save
51:22 - index.js i'm going to navigate over to
51:25 - the homepage and what do we have we have
51:28 - a blank screen
51:30 - that's because we're passing stuff to
51:32 - the layout component this stuff right
51:35 - here but it's not actually rendering it
51:37 - so what is it rendering it's just
51:39 - rendering an empty div
51:41 - well in react we get access to the
51:44 - content inside of a component via the
51:47 - children prop and that's exactly what
51:49 - we're going to use to get all that other
51:51 - stuff rendered so right here
51:54 - inside of layout.js
51:57 - we get our props
51:59 - and we're going to use one
52:01 - right here we are going to render props
52:04 - dot children and i'm just putting that
52:06 - inside of curly braces to reference that
52:08 - javascript variable now what is
52:11 - props.children well it's the jsx passed
52:15 - in so it is jsx for these three
52:18 - elements
52:19 - now all i'm gonna do is save layout.js
52:23 - over here what do we see we see that on
52:26 - the home page we now have our home page
52:29 - content which is a good start from here
52:32 - we can customize the layout component to
52:36 - add stuff that's going to be shared on
52:37 - all pages like that header and footer so
52:41 - i'll import
52:43 - the header
52:44 - from right here that is dot forward
52:48 - slash header and i'll do the same thing
52:50 - for the footer
52:55 - and then finally we're going to use both
52:57 - of those now the header is going to go
53:00 - just before the individual page content
53:03 - so i'll put that right here and the
53:06 - footer is going to go just after that
53:08 - content exactly like we had before
53:11 - the nice thing though is that if i want
53:13 - to adjust the layout further i no longer
53:15 - need to go into the individual page
53:18 - components instead i just adjust the
53:21 - layout component which now maintains the
53:24 - page layout and here we go our index.js
53:28 - file is much simpler it's concerned with
53:31 - a lot less and over here we have the
53:34 - exact same stuff rendered to the screen
53:37 - that we had before i have my header with
53:39 - my nav links and down below i still have
53:42 - my footer as well
53:44 - so using the layout component is just
53:46 - going to make our lives a whole lot
53:48 - easier now let's go ahead and integrate
53:51 - that into the other three pages for the
53:53 - site
53:54 - over in visual studio code we can start
53:57 - with the blog page so right here we no
54:00 - longer need to import those two things
54:03 - we're just going to import layout from
54:07 - dot dot forward slash components forward
54:09 - slash layout and i'll copy that line to
54:12 - the clipboard for now
54:14 - then down below we have to use it so
54:17 - right here we need to restructure what
54:19 - we have we render the layout and inside
54:22 - of there what do we put we put what we
54:24 - have right here so i'm going to move
54:26 - that just inside and i'll delete the old
54:30 - div i had before and there we go the
54:32 - blog page is now also powered by that
54:35 - layout having the header and footer set
54:38 - up behind the scenes
54:40 - now let's quickly do the same thing for
54:42 - the other two pages so right here
54:45 - pasting in the layout import then
54:48 - setting that up down below
54:51 - and moving the unique content for the
54:53 - page so this stuff right here just
54:56 - inside
54:57 - and deleting the old structure we had
55:00 - perfect last up is the contact page so
55:04 - once again
55:05 - using the layout
55:10 - and putting the unique content just
55:12 - inside excellent
55:14 - so in the last two videos we had to do a
55:16 - little bit of restructuring going into
55:18 - each and every component file which can
55:21 - be a little bit of a pain at first but
55:24 - now it's done all of our pages are
55:26 - powered by the layout and no longer are
55:29 - we gonna have to move into individual
55:32 - pages and adjust the same thing in every
55:35 - page if you find yourself doing that
55:37 - it's probably something that needs to be
55:39 - broken out into a standalone component
55:42 - instead
55:44 - so over here let's just go to the about
55:46 - page and the contact page to make sure
55:48 - everything is working and there we go we
55:51 - have a basic static site created and
55:55 - powered by gatsby now we're not done not
55:59 - by a long shot there's a lot more to
56:01 - cover and what i want to focus on in the
56:04 - next few lessons
56:05 - is styling your gatsby sites so let's go
56:09 - ahead and dive right into that starting
56:11 - with the next lesson
56:17 - you now have a decent amount of content
56:19 - on your gatsby site spread across four
56:22 - pages the only problem is that all of
56:25 - this content is unstyled and looks
56:27 - pretty terrible in this lesson
56:30 - you're going to start to learn how you
56:31 - can style your gatsby sites using css
56:36 - along the way this video also covers the
56:39 - process of installing and setting up
56:42 - gatsby plugins which allow you to
56:44 - further customize your site in this
56:47 - lesson we'll be using a gatsby plugin to
56:50 - enable sas so we can take advantage of
56:53 - all of the great features of the scss
56:57 - syntax
56:58 - but let's get started with some basic
57:00 - styles getting those applied to the site
57:03 - in a visual studio code the first thing
57:06 - we're going to do is create a new place
57:09 - for our site styles now i'm gonna close
57:12 - all open editors there's no need to have
57:14 - all of these files open anymore and down
57:17 - below in the source directory this is
57:20 - where we're gonna add a new folder i'll
57:22 - call this something like styles once
57:25 - again the name is not important and in
57:28 - there i'm going to put a new file called
57:31 - index.css
57:33 - this will be the start of the styles for
57:36 - our site and to make it obvious whether
57:38 - or not these styles are being included
57:41 - all we're going to do is use the
57:43 - universal selector to select every
57:46 - element on the page and we're going to
57:48 - change its color over to red
57:51 - now by default we can see these styles
57:54 - are definitely not being applied nothing
57:57 - over here is red and this is correct
58:00 - by default gatsby is not going to load
58:03 - in any of your style sheets it's up to
58:05 - you to import them and in this case
58:08 - we're going to import our base style
58:10 - sheet from the layout component as the
58:12 - layout component is used on each and
58:15 - every page
58:16 - so all we need to do is set up another
58:19 - import statement to get those styles
58:21 - included in the static site that gatsby
58:24 - generates right here importing
58:27 - that's going to be dot dot to get out of
58:29 - the components directory forward slash
58:32 - styles forward slash index dot css
58:36 - now with just that one line added we can
58:39 - save the component and we can see that
58:41 - these styles are definitely being
58:43 - applied as everything is read and there
58:46 - we go we now have a style sheet loaded
58:49 - in and we could write every style for
58:52 - our entire gatsby site right inside of
58:54 - here now that's not the approach we're
58:57 - going to take we're going to break
58:58 - things up a little bit but this is a
59:01 - great starting point before we go any
59:03 - further
59:04 - what i want to do is enable a css
59:07 - preprocessor here we'll be using sas
59:10 - allowing us to take advantage of the
59:12 - scss syntax so we can use all of the
59:15 - great features functions mixins and
59:18 - other tools it provides now to do that
59:21 - we are going to use our very first
59:24 - gatsby plugin you can find a list of all
59:27 - available plugins on the gatsby site
59:30 - that's gatsby gatsbyjs.org
59:32 - and here's the site i had pulled up
59:34 - earlier in the bootcamp now in this case
59:36 - we're looking for the plugins page this
59:39 - allows us to search through all of the
59:41 - available plugins to find the one we're
59:44 - looking for now this list includes both
59:47 - official plugins released and maintained
59:50 - by the gatsby core team and it also
59:53 - includes third party plugins written and
59:56 - maintained by members in the community
59:58 - so right here the one we're looking for
60:01 - happens to be an official plugin and if
60:03 - i search for sas here it is it is gatsby
60:07 - plugin sas
60:09 - so currently i can use the import
60:11 - statement to import a css file but if i
60:14 - tried to import a sas file or an scss
60:18 - file gatsby wouldn't know what to do
60:21 - once we have this plugin correctly
60:23 - installed and configured it will all
60:25 - work as expected on the right hand side
60:28 - we have the documentation for this
60:30 - particular plugin here we need to
60:32 - install a few things and add a little
60:34 - bit of configuration and we're going to
60:37 - work through that process together so
60:39 - let's go ahead and set up support for
60:41 - this by moving into the terminal
60:44 - shutting down the development server
60:46 - using clear to clear the output and
60:48 - finally using npm install
60:52 - so right here that's npm install
60:55 - and the first thing we're going to
60:56 - install is the plug-in that is gatsby
60:59 - hyphen
61:00 - plug-in hyphen sas as seen over here so
61:04 - all of these are the names of the npm
61:06 - modules
61:08 - and the other thing we need which is
61:09 - mentioned in the docs for this plugin is
61:12 - node sas
61:13 - so this module is responsible for
61:16 - actually converting the files down to
61:18 - regular css and this plugin just allows
61:22 - us to actually do that from a gatsby
61:25 - site
61:26 - now we can go ahead and run this
61:28 - installation command installing both of
61:30 - those tools and once that's done all we
61:33 - need to do is configure our gatsby site
61:36 - to actually use that plugin it's not
61:39 - enough to just install the plugin it
61:42 - actually needs to be configured now this
61:44 - is done via a file that currently does
61:47 - not exist in our project but we can go
61:50 - ahead and create it it needs to live in
61:53 - the root of our project and it needs to
61:55 - be called gatsby
61:57 - hyphen config dot js now there's a lot
62:01 - we can do in this file as we'll explore
62:04 - throughout the boot camp one of the core
62:06 - things we can do in here is configure
62:08 - the plugins we want to use and that's
62:11 - exactly what we're going to end up doing
62:13 - this config file just needs to export an
62:16 - object but it's important to note that
62:19 - this is a node.js file so we need to use
62:22 - module.exports
62:24 - setting that equal to the thing we want
62:27 - to export in this case an object now on
62:30 - here one of the main properties we're
62:32 - going to end up using in this config
62:34 - file is plugins plugins is an array and
62:38 - here we can configure all of the plugins
62:41 - we want to use
62:43 - now in our case we only have the one
62:45 - plugin so we're going to provide that as
62:47 - one of our items in the plugins array
62:50 - and all we need to do is list out the
62:52 - name of the plugin that is gatsby
62:55 - hyphen plugin hyphen sas we can save the
62:59 - file and now we're actually ready to use
63:03 - scss or sas in the project so down below
63:07 - in the terminal make sure to stop your
63:09 - development server if it's running
63:12 - mine's not and then we're going to start
63:14 - it up again npm run develop and once
63:18 - it's up it's going to be using this
63:20 - plugin which means we can now create and
63:23 - import scss or sas files
63:27 - so i'm going to do just that what i'm
63:29 - going to do is take styles.css
63:33 - excuse me index.css in the styles folder
63:36 - and i'm going to rename it
63:38 - i'm going to call it index.scss
63:43 - then what i'm gonna do is import that
63:45 - file instead of importing the file that
63:47 - no longer exists i just add the s save
63:51 - the layout component and now our site
63:54 - should be back to a nice working state
63:56 - here everything is still shown in red
63:59 - and if i go over to the style sheet i
64:02 - could change that to blue save the file
64:05 - and i can see that my change is indeed
64:08 - being applied with that plugin in place
64:10 - we should also be able to use all of the
64:13 - great scss features so i'm going to
64:16 - create a variable up above using dollar
64:19 - sign followed by the variable name and
64:21 - i'll store the green color inside of
64:24 - there then down below
64:26 - instead of just providing the color i'll
64:28 - reference it via that variable so dollar
64:31 - sign color now this would not work in
64:33 - regular css but we're not working in
64:36 - regular css we are in an scss file and
64:40 - right here i can see that green is
64:42 - showing up so there we go with a little
64:45 - bit of configuration adding just a few
64:48 - lines of code to our new file we're able
64:50 - to tell gatsby that we want to use a
64:53 - gatsby plugin allowing us to customize
64:56 - the functionality for our site
64:59 - now let's go ahead and wrap up the video
65:02 - by grabbing a nice base set of styles
65:04 - we'll be using for the project
65:07 - you can grab these styles by heading
65:09 - over to the browser and going to the
65:12 - following url that's links dot mead dot
65:16 - io forward slash gatsby styles now this
65:21 - is just going to redirect you over to a
65:23 - github gist and here we have a very long
65:27 - style sheet this is what we're going to
65:29 - copy over to our project as our starting
65:32 - point so right here i'll click the raw
65:35 - button to pull up the raw file content
65:38 - i'm going to highlight everything using
65:40 - command a or control a depending on your
65:43 - os
65:44 - then i'll copy it to the clipboard and
65:46 - paste it over here in index
65:49 - index.scss removing the stuff we had
65:52 - before
65:53 - now with this in place we should notice
65:56 - a pretty big change to how our website
65:59 - looks
66:00 - over here what i'm going to do is pull
66:02 - up the site we'll notice it's no longer
66:04 - in green which is good and we'll also
66:06 - notice that it's definitely a little bit
66:09 - styled we have nicer font families and a
66:12 - little bit of spacing along with nicer
66:14 - font sizes now obviously we're not done
66:18 - styling just yet but using that base set
66:21 - of styles we'll be able to further
66:24 - customize the styles for our project so
66:28 - that's where we're gonna stop for this
66:29 - video we now know how to add basic
66:32 - styles into our gatsby project and in
66:35 - the next lesson we're going to take that
66:37 - to the next level by learning about css
66:41 - modules that is my favorite way to style
66:44 - react components so let's go ahead and
66:47 - jump right into that
66:53 - welcome to part 7 of the great gatsby
66:56 - boot camp in this one we'll continue to
66:58 - talk about styling our gatsby sites and
67:01 - the focus is going to be on css modules
67:05 - css modules are supported by default in
67:08 - all gatsby projects and it seems to be
67:11 - the preferred way to style gatsby sites
67:15 - as it's covered extensively in the
67:17 - official gatsby documentation
67:20 - now with css modules we're not learning
67:23 - a whole new language it is just css with
67:27 - a slight tweak making it really easy for
67:30 - us to create complex web applications
67:33 - without complex styles so let's go ahead
67:37 - and get started with the basics
67:39 - let's get started by closing all open
67:41 - editors and we're going to focus on just
67:44 - one of our components for the moment
67:46 - that's going to be the header component
67:48 - we want to add some styles to this
67:50 - making the header look a little bit
67:52 - nicer
67:53 - now to add those styles we'll be
67:55 - creating a new style sheet right here in
67:58 - the components directory i'm going to
68:00 - call this header.scss
68:04 - and in here we'll put the styles
68:06 - specifically for the header so as an
68:09 - example let's say we want to style the
68:11 - links here we are targeting all anchor
68:14 - elements
68:15 - and then we'll just set their color
68:17 - equal to a nice gray right here the
68:20 - pound sign followed by the hex code i'll
68:23 - use the number nine six times for that
68:26 - gray color now if we save this style
68:29 - sheet none of these tiles get applied
68:31 - since this isn't being imported anywhere
68:34 - so let's fix that in the header
68:36 - component we're going to import that
68:38 - style sheet just like we did in the last
68:41 - video when we imported this style sheet
68:44 - into the layout component
68:46 - so right here import
68:48 - i'm going to import the following file
68:50 - that is dot forward slash header.scss
68:55 - now if i go ahead and save the component
68:57 - we can see that all of the links in our
68:59 - header are styled which is a great start
69:02 - one thing you'll notice though is that
69:04 - it's actually all of the links on the
69:06 - site right here the link to my twitter
69:09 - profile that's styled in gray and if i
69:12 - go to the home page other links like the
69:14 - contact me link are also showing up in
69:17 - gray
69:18 - so it's important to note that just
69:20 - because you're importing a style sheet
69:22 - in a particular component doesn't mean
69:25 - those styles are scoped to that
69:27 - component
69:29 - in this case we are selecting all anchor
69:31 - elements on the page not just those that
69:34 - exist inside of the header so this is an
69:38 - important thing to note now what's the
69:40 - solution if i want to just target the
69:43 - links in the header well there are a lot
69:45 - of different things we could do a simple
69:47 - approach without css modules would be to
69:51 - target by class name something like link
69:54 - then i can use that class name wherever
69:57 - i want to apply those styles so inside
70:00 - of the header component
70:02 - i could add class name
70:05 - on it to the link
70:06 - this is the react prop class name and
70:09 - i'll just set this equal to the class i
70:12 - picked link and over here in the browser
70:15 - we now have that gray home link now this
70:18 - is a great start but it's important to
70:20 - remember that those styles are still
70:22 - globally accessible so if other
70:24 - components in our large application also
70:27 - want to style their links and they use a
70:30 - generic class name like link we're gonna
70:33 - run into a problem where we have styles
70:35 - for multiple files overriding each other
70:38 - leaving us with a big mess
70:40 - now the solution before css modules
70:43 - existed was to do something like use a
70:46 - naming convention a naming a convention
70:49 - that would allow us to create longer
70:51 - more complex class names though they
70:54 - were more likely to be unique so
70:56 - something like header link instead of
70:59 - just link then if i wanted a link styled
71:02 - in the footer i could use something like
71:04 - footer link and so on
71:07 - so we can't use those generic class
71:09 - names because there's a high chance of
71:11 - conflicting styles and the solution is
71:14 - to have a whole bunch of complex class
71:16 - names that's not ideal either
71:19 - the solution we're going to use to solve
71:21 - this problem is css modules css modules
71:26 - make all of the class selectors in the
71:29 - module style sheet locally scoped which
71:33 - means that we have to manually import
71:35 - them and use them and we'll see what
71:37 - this means in reality in just a second
71:40 - for now let's notice one thing we have
71:43 - our two files saved and that home link
71:45 - is gray
71:46 - all we're going to do is enable this
71:49 - file to be a css module by changing its
71:53 - name we're going to change the file
71:54 - extension
71:56 - down below i'm going to rename it to
71:58 - header
71:59 - dot module dot scss
72:03 - now you could also use header.module.css
72:07 - if you did not want to use the scss
72:09 - syntax though in this case i'll keep it
72:12 - in place
72:13 - now right away our app crashes and
72:15 - that's expected we're trying to import a
72:18 - style sheet that no longer exists so
72:21 - let's adjust the name here
72:24 - dot module dot s css
72:27 - now if i save both files it's no longer
72:29 - crashing but you'll notice that our link
72:32 - is also no longer gray i have the class
72:35 - name link right here and i'm also
72:38 - targeting it over here in this file
72:40 - that's loading so what's going on as
72:43 - mentioned earlier when we're working
72:45 - with css modules our class selectors
72:48 - they are no longer globally applied
72:51 - instead they're locally scoped it's
72:54 - something we need to import as part of
72:56 - the import statement and then apply
72:58 - directly to that element so let's see
73:01 - what that looks like the first thing we
73:03 - need to do is change our import
73:05 - statement i'm going to comment out the
73:07 - old one and add a new one just down
73:09 - below
73:10 - here on importing the default export i
73:14 - can call it whatever i want i'm going to
73:16 - call mine header styles and we're
73:19 - grabbing that from the same file dot
73:21 - forward slash header
73:23 - dot module dot scss
73:26 - so when we're working with a css module
73:29 - we actually get a default export this is
73:33 - an object which contains properties for
73:36 - every class we've defined in the module
73:39 - in this case we just have one link so
73:42 - what we have is an object with a single
73:44 - property link we can use that property
73:47 - to apply that style
73:50 - so no longer are we going to have a
73:52 - static string for the class name it's
73:54 - going to be dynamic so class name equals
73:58 - inside of curly braces the following
74:01 - header styles
74:03 - dot link where link is the name of the
74:07 - class chosen over here
74:09 - now if we go ahead and save the header
74:11 - component we'll see that once again our
74:14 - link is gray everything is back to
74:17 - working as expected and the great thing
74:19 - about css modules is that we're being
74:22 - explicit i'm explicitly loading in a set
74:26 - of styles from a specific file and i'm
74:28 - applying them directly to the element so
74:31 - there's zero chance of some sort of
74:34 - global style coming in and messing
74:36 - things up from another component and
74:39 - that's what we want we want our
74:40 - components to be self-contained and easy
74:43 - to update and work with
74:45 - so now that we have this in place let's
74:48 - take a look at what exactly is happening
74:50 - over in the html for the site i'm going
74:53 - to open up the chrome developer tools in
74:55 - the browser you can always go to the
74:58 - menu more tools developer tools to find
75:00 - them
75:01 - and here i'm looking for the elements
75:03 - panel and i'll use this selector by
75:06 - clicking it and picking an element on
75:07 - the page i'm going to click that home
75:10 - link and it's pulled up down below
75:12 - now here we can see we do have the class
75:15 - attribute and there is a single class
75:17 - inside of there but it's not something
75:19 - we ever created it is header module
75:22 - followed by link followed by a random
75:25 - series of characters this is the class
75:28 - name generated by the css module that
75:32 - keeps our styles unique even though
75:34 - we're using a generic class name like
75:37 - link
75:38 - we could target links in other
75:40 - components in our project by using the
75:43 - exact same selector without any chance
75:46 - of overriding the ones in the header
75:49 - so now that we've seen how css modules
75:51 - actually function let's continue working
75:54 - with them to style the rest of the site
75:57 - to get started i actually want to add a
75:59 - css module for the layout component so
76:03 - right here
76:04 - in the components directory that's
76:06 - layout.module.scss
76:10 - and we're going to crack open the layout
76:12 - component as well
76:14 - and i'll just stay organized up above
76:16 - with the header stuff then the layout
76:18 - stuff let's get started adding a few
76:21 - styles to the layout allowing us to
76:23 - center the content on the site so it's
76:26 - not all pushed up against the left hand
76:28 - side let's start with a new selector
76:31 - selecting the container class and right
76:33 - here we're going to set up a few basic
76:35 - styles starting with the margin i'm
76:39 - going to use 0 and auto to center things
76:42 - left to right
76:43 - and we're also going to set up a max
76:45 - width for the site i'll use something
76:47 - like 750 pixels
76:50 - and finally a little bit of padding on
76:52 - all four sides so the content isn't
76:55 - pressed up right against the edge of the
76:56 - browser
76:58 - right here one rem should get the job
77:00 - done now we have to import this module
77:03 - in the layout component and actually use
77:06 - those styles
77:08 - right here
77:09 - import
77:11 - layout styles from
77:13 - dot forward slash layout.module.scss
77:18 - and once we have that in place we can
77:20 - apply that to our div right here
77:24 - so this one
77:25 - is going to have a class name equal to
77:28 - on the layout styles object we have that
77:31 - container property now if i go ahead and
77:34 - save things we can see all of our
77:36 - content has disappeared because it's now
77:39 - centered in the browser which is
77:41 - obviously a nice step in the right
77:43 - direction
77:45 - another thing we're going to do with the
77:47 - layout is set up a sticky footer so
77:50 - right now the footer kind of gets pushed
77:52 - up the page especially on shorter pages
77:56 - it would be nice if it was always at the
77:58 - bottom of the site
78:00 - to get that done the first thing we're
78:02 - going to do is create another div inside
78:05 - of the layout component
78:07 - so right here let's set up that new div
78:09 - element
78:11 - and we're going to put the header and
78:12 - the page content inside of there the
78:15 - footer is going to be just outside of
78:17 - the div and this is a common html
78:20 - structure for a sticky footer
78:22 - right here we'll end up applying a few
78:24 - styles to this div
78:26 - let's get started over in the layout
78:29 - module
78:30 - inside of the container we need to add a
78:32 - few new styles in order to get
78:34 - everything working the first thing we're
78:36 - going to do is set up display setting
78:40 - display equal to flex we're going to
78:42 - enable flexbox here
78:44 - and the flex direction for the container
78:47 - is going to be vertical since we want
78:49 - the content and the header above the
78:52 - footer not left and right
78:55 - so right here we're using column as
78:57 - opposed to the default value which is
78:59 - row i don't want the footer on the right
79:02 - i want it on the bottom
79:04 - the last thing we're going to apply to
79:06 - the container is min height setting that
79:09 - equal to 100 vh this is the viewport
79:13 - height so here i'm setting the container
79:16 - height to the screen height
79:19 - now that's the minimum height so it
79:20 - could always get bigger on longer pages
79:22 - and that's what we want
79:24 - only other thing we need to do is style
79:27 - that new div we created i'll set up a
79:30 - class content for this with flex grow
79:33 - set to 1
79:34 - that's going to allow that container
79:37 - this container right here to grow as
79:39 - needed leaving just enough space for the
79:42 - footer in place
79:44 - so the layout module is all done we have
79:47 - our styles in place
79:49 - over here all we need to do is apply
79:52 - the class name prop to that new div
79:55 - layout styles dot content i save the
79:59 - program and over in the browser we can
80:02 - see we have the sticky footer in place
80:05 - so on the contact about blog and home
80:07 - page that footer stays where it's
80:10 - supposed to
80:11 - now if the site content was shorter it
80:14 - wouldn't be at the bottom still you'd
80:15 - still have to scroll to see it which is
80:17 - exactly what we want
80:20 - so now that we have the layout styles in
80:22 - place let's go ahead and head back over
80:24 - to the header as we are going to add a
80:27 - few more styles here so inside of the
80:30 - header module let's get to it first up
80:33 - i'm going to add another class selector
80:35 - for header to add a little more space
80:38 - for the header
80:39 - right here padding
80:40 - is going to be one rem on the top zero
80:44 - on the left and the right and 3 rem on
80:47 - the bottom so we're just trying to put a
80:49 - little space between the header content
80:52 - and the other stuff on the page
80:54 - now if we head over to the header
80:56 - component we can apply that right here
80:59 - so class name equals
81:01 - that's going to be header styles dot
81:04 - header perfect
81:06 - now over in the browser those styles
81:08 - should have taken effect and they did
81:10 - perfect
81:12 - now let's continue on to the h1 shown on
81:15 - the header i actually want this to be a
81:17 - link to the home page as well
81:20 - so what i'm going to do is set up the h1
81:22 - and put a link right inside
81:25 - this link is going to have the same text
81:27 - i had before so the text value will
81:30 - still be andrew mead
81:32 - and we're going to send them to the home
81:34 - page so this is like clicking a site's
81:37 - logo and going to the home page i want
81:39 - to be able to do that same thing here
81:42 - so if i'm on the contact page i click
81:44 - the name and i go to the home page
81:47 - now clearly we have to add some styles
81:49 - to that and that's exactly what we're
81:51 - going to do
81:53 - so in the header module we'll set up a
81:56 - new class selector for the title and
81:59 - right here we're gonna do a couple of
82:01 - things first up setting the color equal
82:03 - to black that is the hex code with six
82:06 - zeros
82:08 - then we're gonna set the font size equal
82:10 - to 3 rem making it a little larger and
82:15 - finally setting text decoration
82:18 - to none removing the underline effect we
82:21 - get with links by default
82:23 - now let's apply this to that link so
82:26 - right here
82:27 - class name equals
82:30 - header
82:31 - styles dot title
82:34 - i save the program and over in the
82:36 - browser we can see that this is still a
82:38 - clickable link
82:40 - but it's now styled to look like regular
82:43 - text and you could swap that out with a
82:45 - company logo or whatever you wanted to
82:49 - next up let's focus on styling the
82:51 - navigation
82:52 - list so we can get rid of those bullet
82:54 - points and put the items left to right
82:57 - as opposed from the top to bottom
82:59 - approach which we currently have in
83:01 - place
83:02 - to style that we'll be styling our
83:05 - unordered list right here
83:07 - in the header module a new class
83:09 - selector
83:10 - nav list and we're going to apply just
83:13 - three styles first up display flex this
83:17 - is going to stack those items left to
83:19 - right which is what we want
83:22 - i'm also going to set up list style type
83:25 - sending it equal to none that's going to
83:27 - remove the bullet points which we don't
83:29 - want
83:30 - and finally i'll set margin to 0 to
83:33 - clear the default margin values that our
83:36 - lists typically get
83:38 - over in the browser we can see that none
83:41 - of our changes have taken effect i
83:43 - forgot to apply that in the component so
83:46 - right here
83:47 - class name
83:49 - is going to equal
83:51 - header
83:52 - styles
83:53 - dot
83:54 - nav list
83:55 - so here we have a camel cased version of
83:58 - what we typed out in the css and our
84:01 - styles are applied perfect
84:04 - the next thing we're going to do is add
84:06 - a few more styles to the individual nav
84:09 - items we added just one as an example
84:12 - but we're going to add a few more
84:15 - right here i'm also going to change the
84:17 - selector i'll change it from link over
84:20 - to something like nav item
84:23 - now the color is going to stay in place
84:26 - i'm also going to adjust the font size
84:28 - setting it to 0.9 rem a little bit
84:31 - smaller than it currently is
84:34 - i'll also add a margin on the right so
84:37 - the items aren't jammed right up against
84:39 - each other
84:40 - 1.3 rem on the right and finally text
84:44 - decoration
84:46 - setting that equal to none once again to
84:49 - remove that underline effect we were
84:51 - getting
84:52 - now we can use this for all four links
84:55 - in the navigation so right here i'll
84:57 - take that first one and i'll swap it out
85:00 - from link over to nav item and down
85:03 - below i can just copy this class name
85:06 - and definition for the other ones
85:08 - one
85:10 - two and three
85:13 - and i can see i have a little auto
85:14 - formatting from my visual studio code
85:17 - editor perfect
85:20 - now let's save the program over in the
85:22 - browser what do we get we have a nice
85:25 - styled header i have my links to my
85:27 - pages sitting below the header text
85:29 - which is also clickable
85:32 - now when we're using css modules we can
85:35 - still use pseudo classes or anything
85:37 - else we might want to use
85:39 - so let's say that on hover we want to
85:41 - adjust the color of the link item we can
85:43 - do that
85:45 - nav item
85:46 - then colon hover
85:49 - so when someone hovers over that with
85:51 - their mouse we'll just change the color
85:53 - to something a little darker right here
85:55 - hex code is six six times
85:59 - perfect
86:00 - now we can test that out over in the
86:02 - browser i have my links showing up i
86:05 - hover over them and i can see they're
86:07 - getting a little bit darker which is
86:09 - exactly what we wanted
86:11 - one more thing we can do with the link
86:13 - component is set up a class name that
86:16 - should get applied when we're on that
86:18 - specific page so if i'm on the contact
86:22 - page i could style this link differently
86:24 - giving the user a visual cue as to where
86:27 - exactly they are in the site
86:30 - down below let's go ahead and get that
86:32 - done i'll set up something like active
86:36 - nav item for that
86:38 - and all we're going to do is set the
86:40 - default color to something even darker
86:43 - this will be the number three six times
86:46 - a nice dark gray
86:48 - now let's actually apply that over in
86:51 - the header component then we'll be all
86:53 - done for styling
86:55 - so over here we have class name for all
86:57 - of the links if you want to set up a
87:00 - special class name for when you're on
87:02 - that page you use active
87:06 - class name
87:07 - so right here i would be setting that to
87:11 - header styles dot active
87:14 - nav
87:15 - item perfect so right here just matching
87:18 - up with what i had to find over here
87:22 - now let's take that definition and move
87:24 - it to the other ones we have just down
87:26 - below our other four links
87:28 - so i'll add it to the blog link
87:30 - i'll add it to the about link and to the
87:33 - contact link and once we have all of
87:36 - those in place we'll be able to test our
87:39 - work
87:40 - right here i'm going to save the program
87:42 - right here i can see i'm on the contact
87:44 - page and the contact link is darker than
87:47 - the others i go over to the about page
87:50 - that's dark blog home
87:52 - so now we have a nice navigation system
87:55 - letting the user know exactly where they
87:58 - are on the site all right that's where
88:01 - we're gonna stop for this one now that
88:03 - we have some styles in place we're done
88:05 - with what i would consider part one of
88:07 - the boot camp where we cover the basics
88:10 - of creating a site with gatsby in the
88:12 - next video we're going to start talking
88:15 - about how we can get dynamic data into
88:17 - our site using gatsby's graphql api so
88:21 - let's jump into that
88:27 - welcome back to the great gatsby boot
88:29 - camp in this video we're going to turn
88:31 - our attention towards getting dynamic
88:33 - data into our gatsby sites using
88:36 - gatsby's graphql api
88:39 - now if you've never used graphql before
88:42 - that's perfectly fine we'll only be
88:45 - using a little bit of graphql with
88:47 - gatsby and we'll go over the basics as
88:50 - we use them
88:51 - so right now everything shown in the
88:54 - browser is something that's only showing
88:56 - up because it's typed directly inside of
89:00 - the jsx for a react component all of the
89:04 - nav items the site title every bit of
89:07 - text showing on the screen
89:09 - now obviously that's fine as we're
89:11 - getting started but as we do want to
89:14 - create more complex dynamic sites this
89:17 - approach is no longer going to scale as
89:20 - an example let's say we were going to
89:22 - introduce the blog to our gatsby site
89:25 - without using anything new without using
89:28 - the graphql api
89:30 - creating a blog post would require you
89:33 - to add a new page to the pages directory
89:36 - for every single post and you would end
89:38 - up with a lot of duplicate code and you
89:41 - would end up writing your blog posts
89:44 - right inside of the jsx for the
89:46 - component which is never ideal that's
89:49 - not an easy way to get your thoughts
89:51 - down on paper and organized when you
89:53 - have to manually maintain the html
89:56 - structure along the way
89:58 - the other downside is that you'd also
90:00 - have to update the blog page so your
90:03 - posts showed up here you would have to
90:05 - manually copy titles and excerpts all
90:09 - over to this page to create a list of
90:12 - all your posts so well it's possible
90:15 - it's not ideal and it's not something
90:16 - we're even going to attempt instead
90:19 - we'll focus on getting data via the
90:22 - graphql api that gatsby provides
90:26 - now the best way to visualize this is
90:28 - actually on the home page of the gatsby
90:30 - site
90:31 - that's over at gatsby js
90:35 - if i scroll down just a little bit
90:37 - there's a section called how gatsby
90:39 - works now there's a chance this
90:41 - visualization changes over time but i
90:44 - think this is a pretty great
90:46 - visualization for what's happening here
90:49 - everything we're working with so far
90:51 - sits below this line right here so yes
90:54 - we're using gatsby and we're working
90:56 - with html css and react and we're also
91:00 - getting a version of our site up and
91:02 - running now we're not deploying it to
91:04 - production we're running it in
91:05 - development but it's the same idea and
91:07 - we'll get to the deploy stage a little
91:10 - bit later in the boot camp the only
91:12 - thing we haven't touched on is what's up
91:15 - above the data sources for your gatsby
91:18 - site so where does your data come from
91:22 - when it's not typed directly inside of a
91:25 - react component it could come from a cms
91:27 - like contentful or wordpress
91:30 - it could come from files on the file
91:33 - system in the form of markdown blog
91:36 - posts it could come from any third-party
91:38 - data source such as a custom api you've
91:42 - created
91:43 - so this is what makes gatsby really
91:45 - powerful we can pull in all of this data
91:48 - using gatsby's graphql api
91:51 - allowing us to create what is still a
91:54 - static site but that static site gets
91:57 - generated with dynamic data from
92:00 - third-party data sources now we will
92:03 - progress to more complex data sources
92:06 - like cms's and markdown files but we're
92:09 - going to start with one of the easiest
92:11 - built-in ways we can set up dynamic data
92:14 - in our gatsby sites and that is via
92:17 - what's known as site metadata it's
92:19 - nothing more than an object on there we
92:22 - can put key value pairs for whatever
92:24 - we'd like as an example the site title
92:27 - maybe the twitter profile name and the
92:30 - author of the site anything like that
92:32 - that we'd want to be able to easily
92:34 - adjust across the entire site
92:37 - now to get that done all we need to do
92:39 - is go into visual studio code and make a
92:42 - change to that gatsby config file we've
92:45 - created so for the moment i'm going to
92:48 - close all open editors and we're going
92:50 - to open up just the gatsby config file
92:53 - and we're going to add another property
92:56 - onto this object just alongside of
92:59 - plugins
93:00 - and in this case i'll call this site
93:04 - metadata and the name here is important
93:07 - it needs to be exact otherwise gatsby's
93:09 - not going to be able to find it let's
93:12 - get started by setting up a title
93:14 - property for the site title i'm going to
93:17 - call mine something like full
93:19 - stack boot camp perfect
93:22 - you can choose whatever title you'd like
93:24 - for your own site let's also set up one
93:27 - more property on site metadata i'm going
93:30 - to set up an author property which i can
93:32 - use throughout the site and right here
93:34 - the value for that will just be andrew
93:36 - meade so there we go we have two pieces
93:39 - of data and we'll add more onto site
93:42 - metadata later in the video for now
93:44 - though let's figure out how we can
93:46 - actually query this using the graphql
93:49 - api that gatsby provides once we've
93:52 - pulled these values into our components
93:55 - we'll focus on adding more and more data
93:58 - now let's actually fetch this data using
94:00 - gatsby's graphql api and to start we're
94:04 - going to head over to the browser open a
94:06 - new tab and we're going to pull up a url
94:09 - that's only available when our site is
94:11 - running in development mode right here
94:14 - that is localhost on port 8000 like we
94:17 - had before
94:19 - then it's forward slash underscore
94:21 - underscore underscore
94:23 - graphql so that's triple underscore
94:26 - graphql
94:28 - this is going to pull up a tool called
94:30 - graphyql which is an in-browser ide for
94:34 - exploring a graphql api so if you've
94:38 - ever worked with a rest api before maybe
94:41 - you've used tools like postman or
94:44 - insomnia this is the same idea just for
94:47 - a graphql api
94:49 - so we type our query over here in the
94:52 - left hand side we click that play button
94:55 - it runs the query and we get our data
94:57 - over here on the right hand side so we
95:00 - can use this to mess around with all of
95:02 - the data we have access to figuring out
95:05 - exactly what we need and where it lives
95:08 - once we have our query and we're getting
95:09 - back the data we want we can move that
95:12 - query into a react component to actually
95:15 - set things up in the gatsby site for now
95:19 - we're going to start by using graphyql
95:22 - to mess around with the basics of
95:23 - graphql once we know how to fetch the
95:26 - title and the author will actually bring
95:29 - that into a react component to wire that
95:32 - data up dynamically if you haven't
95:34 - worked with graphql apis before one of
95:37 - the great things about them is that
95:39 - they're self-documenting graphql uses an
95:42 - explicit schema and tools like graph eql
95:46 - can show you that schema letting you
95:49 - know exactly what data you have access
95:51 - to and how you can get it so for us
95:54 - let's crack open this docs panel on the
95:56 - right hand side now in graphql there are
95:59 - three main operations we can perform
96:02 - queries mutations and subscriptions when
96:05 - it comes to graphql inside of gatsby we
96:09 - just use queries to fetch the data from
96:11 - those external sources
96:13 - so right here let's go ahead and click
96:15 - on the query and we can see a list of
96:18 - all of the queries we have access to
96:20 - there are quite a few and this list is
96:23 - actually going to change as we move
96:25 - through the class later on there'll be
96:27 - new queries for fetching markdown pages
96:30 - or for fetching content from a cms
96:34 - for now the one query we're going to
96:36 - focus on is near the bottom of the list
96:39 - and it's just called site
96:41 - so i'm gonna click on site we can see a
96:44 - few different things about the site
96:46 - query i can view the arguments we can
96:49 - provide we're not gonna provide any and
96:52 - i can view the type definition which is
96:54 - what we want so when we grab site what
96:57 - do we get access to well if i click that
96:59 - we get access to all of these fields i
97:02 - have quite a few different fields the
97:05 - one that we're interested in is called
97:07 - site metadata
97:09 - now if i click on site metadata i can
97:12 - see that is of the following type i
97:15 - click on that and i can see what fields
97:17 - i have access to title and author the
97:21 - two things we defined over in site
97:24 - metadata over here
97:26 - so let's go ahead and actually run a
97:28 - query to fetch this data now i know we
97:31 - clicked through a lot of screens but
97:33 - once we see the query in action it'll be
97:35 - a lot easier to figure out what's going
97:37 - on so step one is removing the comments
97:41 - over there and starting by defining our
97:43 - query we do this by listing out query
97:47 - then we open and close a set of curly
97:49 - braces and inside of here we can perform
97:52 - whichever of those queries we wanted to
97:55 - in this case we decided we wanted to use
97:57 - site so i set up site opening and
98:00 - closing a pair of curly braces and in
98:03 - here we can list out everything from
98:06 - site we want access to for us it was
98:09 - site meta data
98:11 - now this alone is not going to work we
98:14 - can't just grab everything from site
98:16 - metadata we have to be explicit grabbing
98:19 - just the fields we're actually going to
98:21 - use
98:22 - so we set up another pair of curly
98:24 - braces and i list out what i want access
98:27 - to in this case title and we can see
98:30 - we're even getting a little
98:31 - autocompletion i can always use that to
98:34 - populate the final value and there we go
98:37 - our very first graphql operation we are
98:41 - performing a query called site on site
98:44 - we're grabbing site metadata on site
98:47 - metadata we're grabbing title and if i
98:49 - click that play button to run it what do
98:52 - i get over here i get my data back i can
98:55 - see full stack bootcamp showing up now
98:59 - one thing you'll notice about the
99:00 - response is that the structure of the
99:02 - response is dictated by the structure of
99:05 - the query here we have site site
99:08 - metadata and title
99:10 - here we have site site metadata and
99:12 - title so we get back exactly what we put
99:15 - in though the fields we requested are
99:18 - obviously populated with the correct
99:20 - values
99:22 - so now that we've seen a basic query
99:24 - let's go ahead and run this exact same
99:27 - query from a react component so we can
99:29 - fetch dynamic data into our site we're
99:32 - going to focus on grabbing the site
99:34 - title like we're doing here but we're
99:36 - actually going to populate it as the
99:39 - value that shows up in the header up
99:41 - above
99:42 - now for us that means we need to make a
99:44 - change to the header component so right
99:47 - here let's crack that open
99:49 - this data right here is going to end up
99:52 - becoming dynamic and to get started we
99:54 - have to grab two new things from the
99:57 - gatsby library alongside of link
100:01 - the first thing we're going to grab is
100:03 - called graphql and the second thing
100:06 - we're going to grab is called use
100:09 - capital s static capital q
100:12 - query
100:13 - using these two things we'll be able to
100:16 - perform a graphql query getting access
100:18 - to the data then we'll be able to inject
100:21 - the data right in the jsx down below so
100:25 - let's do it let's start by creating a
100:27 - variable called data to store the data
100:30 - we're fetching from the graphql api
100:33 - then we're going to call that use
100:36 - static query function this is going to
100:39 - allow us to query our graphql api
100:44 - now we're going to call it as a function
100:46 - and inside of there we're going to
100:48 - provide a tagged template literal so
100:52 - right here we're using a template string
100:54 - but just before the template string
100:57 - we're using graphql which is a function
101:00 - so this is a syntax called a tagged
101:03 - template literal essentially it allows
101:05 - this string to be processed by that
101:08 - function and in this case it's going to
101:10 - convert our string graphql query over to
101:14 - something that can actually be used a
101:16 - complex abstract state tree with all
101:20 - sorts of object properties and stuff
101:22 - that we just don't need to worry about
101:24 - so for us what we type in this string is
101:28 - exactly character for character what we
101:31 - were typing over in graphql
101:34 - so it's a query
101:36 - in there we're using the site query i'm
101:39 - asking for the site metadata and on that
101:42 - i want the title
101:44 - now we're done we have access to that
101:47 - data and we can go ahead and use it in
101:49 - the link down below or wherever else we
101:52 - might want to use that data
101:54 - so for us i'm going to remove andrew
101:56 - meade in the h1 in my header
101:59 - and we are going to set up some curly
102:01 - braces so we can inject the value the
102:04 - value is on data
102:06 - dot site
102:07 - dot site
102:09 - meta data and it is title
102:12 - now if we save the program we can
102:15 - actually pull our site up and what do we
102:17 - see i see full stack boot camp showing
102:20 - up in the header which is fantastic we
102:22 - were able to create a react component
102:25 - that fetched data from gatsby's graphql
102:28 - api to come up with something that's
102:31 - dynamic
102:32 - now what's cool is that as that data
102:34 - changes the site will also change
102:37 - so over here i'm going to alter that
102:40 - title adding an exclamation mark on to
102:42 - the end
102:43 - i'll save things head over to the
102:45 - browser and i can see that change is
102:48 - already in place
102:50 - so this is one way we can access some
102:52 - dynamic data in our gatsby sites using
102:56 - site metadata this is great for key
102:59 - value pairs like title author your email
103:03 - address social media urls and that sort
103:06 - of thing
103:07 - so once again inside of header what did
103:09 - we do we worked with use static query to
103:12 - perform a query we got access to the
103:14 - data and we injected that somewhere in
103:17 - the jsx
103:19 - now that we've done this once together
103:21 - it's going to be your challenge in the
103:23 - video to do it again on your own just up
103:26 - above i'm gonna paste in the challenge
103:28 - comments and your goal is to run another
103:31 - graphql query fetching the other site
103:34 - metadata we have
103:36 - so step one use graphyql in the browser
103:40 - to fetch the author making sure you get
103:42 - the correct value back once you know how
103:45 - to fetch the author update the footer
103:48 - component to display the dynamic author
103:51 - value instead of the static one so right
103:54 - now andrew meade that's hard-coded in
103:57 - the footer component i want this value
103:59 - to come from the site metadata instead
104:03 - once you have that in place you're gonna
104:05 - test your work so actually make sure
104:08 - that you can see the name show up and
104:10 - when you change the name in the gatsby
104:12 - config file you should see it change in
104:15 - the browser as well
104:17 - so take some time to knock that out
104:19 - pause the video test your work and when
104:21 - you're done come back and click play
104:27 - how'd that go let's get to it with step
104:30 - number one so over here in the browser
104:33 - we're going to use grapheql to fetch the
104:35 - author so once again that lives on site
104:38 - metadata alongside of title so right
104:42 - here instead of accessing title i'll
104:44 - access author
104:46 - i'll run the query and i can see that
104:48 - value showing up so this is what i need
104:50 - to run from the footer component let's
104:53 - go ahead and get that done
104:55 - over in visual studio code i'm going to
104:57 - crack open the footer component and
105:00 - we're going to import those two things
105:02 - we need from gatsby right here that was
105:05 - graphql
105:07 - and
105:08 - use
105:09 - static query
105:11 - grabbing both of them from
105:13 - the gatsby npm library exactly like we
105:16 - were doing over here
105:18 - from there we can actually use these in
105:20 - the footer
105:21 - const data equals i'm going to call use
105:25 - static query
105:27 - i'm going to use graphql
105:30 - with a template string and we're going
105:33 - to provide our query the query is using
105:36 - site from there we're grabbing site
105:39 - metadata and on site metadata all i want
105:42 - access to is the author
105:45 - now we should have access to the author
105:47 - and i can use it down below so i'm going
105:49 - to remove the static author and swap it
105:52 - out with a dynamic value
105:55 - that would be data
105:57 - dot site
105:58 - dot site metadata dot author and we're
106:02 - done
106:02 - now that we have this in place let's
106:04 - test our work i'm gonna save the footer
106:06 - component in the header component i'm
106:09 - gonna remove those challenge comments
106:11 - and save that file too and hopefully i
106:14 - see andrew meade in the footer
106:16 - right over here i do
106:18 - now let's actually change that value in
106:21 - gatsby config just to make sure it's
106:23 - showing up so i'll swap this out with
106:26 - something else like the author
106:29 - save the file head over to the site and
106:31 - that's what's showing up in the footer
106:34 - so now we have two dynamic pieces of
106:36 - data in the site and we figured out how
106:39 - to use gatsby's graphql api which is a
106:43 - great step in the right direction
106:45 - all i'm going to do to wrap up is revert
106:47 - that change back to a value that makes
106:50 - sense and we're done
106:52 - in the next video what i want to do is
106:54 - take just a couple of minutes to show
106:56 - you an alternative to grapheql that you
106:59 - can use with gatsby in my opinion it's a
107:02 - lot easier to work with and comes with a
107:05 - nicer user interface i'm excited to get
107:08 - to that so let's jump right in to the
107:10 - next one
107:16 - welcome back in this video as promised i
107:18 - just want to take a couple of minutes to
107:21 - explore how you can set up an
107:22 - alternative to graphyql
107:25 - this is the default ide for working with
107:28 - your graphql api in gatsby but gatsby
107:32 - also comes with support for another ide
107:35 - known as graphql playground it's a lot
107:38 - newer and comes with a much nicer
107:40 - feature set including some what i would
107:43 - consider essential features
107:46 - now to swap out graphql for graphql
107:49 - playground
107:50 - all we really need to do is set an
107:52 - environment variable on our machines and
107:55 - we're going to do this in a cross os
107:57 - compatible way so right here we can
108:00 - close all open editors we don't even
108:02 - need the source directory for this video
108:05 - and we're going to focus on package.json
108:09 - now this could be as easy as setting up
108:10 - the environment variable right here in
108:13 - the script the problem with that is it's
108:15 - not cross os compatible so instead we'll
108:18 - create an environment variable in a
108:21 - separate file which will load in a very
108:23 - common approach
108:25 - so right here a new file in the root of
108:27 - the project called dot env
108:30 - dot development
108:32 - in here we're going to define our key
108:35 - equals value pairs for the environment
108:38 - variables
108:40 - now in our case we just need one
108:42 - the name is gatsby
108:45 - underscore
108:46 - graphql underscore ide
108:50 - and the value we want is playground
108:53 - that's going to enable graphql
108:55 - playground support giving us that new
108:58 - tool in the browser so now that we have
109:01 - this in place the only thing we need to
109:02 - do is actually load this file in when
109:05 - we're using the development server and
109:07 - to do that we'll use the very popular
109:10 - env cmd npm package
109:13 - down below in the terminal i'm going to
109:15 - use ctrl c to shut down the development
109:18 - server
109:19 - then we'll use npm install
109:22 - with the save dev flag since this is a
109:26 - dependency we only need in development
109:29 - and from here we're going to go ahead
109:31 - and set up the following env cmd
109:34 - so let's go ahead and install this and
109:36 - once it's installed we're actually going
109:39 - to work it in to our package.json
109:43 - so inside of package.json
109:46 - what are we going to do we're going to
109:47 - change the development script right here
109:50 - it's going to use envcmd
109:53 - to load that environment variable file
109:55 - in then it'll run gatsby develop
109:59 - right here we're going to modify this
110:01 - script that's going to be emv hyphen cmd
110:05 - the new tool we just installed and from
110:08 - there all we're going to do is provide
110:11 - the name of the file we've created
110:13 - dot env dot development
110:17 - and we're done now it's going to load
110:20 - those environment variables in then run
110:22 - the gatsby server
110:24 - so let's save package.json
110:26 - in the terminal down below we're going
110:28 - to start it up like we've done before
110:30 - npm run develop and once it's up and
110:33 - running all we're going to do is refresh
110:36 - the
110:37 - page over here and we should see
110:39 - something quite different i'll go ahead
110:42 - and give it a refresh and we can see
110:43 - it's loading an entirely new interface
110:47 - here we have graphql playground now it
110:50 - comes with the same set of features i
110:52 - type my query over here i can run it and
110:55 - see the response but it's a lot easier
110:57 - to work with we can manage tabs so we
111:00 - can have multiple queries at the same
111:02 - time we also have a nicer set of docs
111:05 - that in my opinion is much easier to
111:07 - work with so here we have site
111:10 - then we can see all the arguments and
111:12 - our fields below site metadata title and
111:16 - author so we can see everything in one
111:18 - shot making it a lot easier to construct
111:21 - the queries we want to perform so that's
111:24 - it for this video i just wanted to show
111:26 - you how you could set up support for
111:28 - this new tool going forward i'll see you
111:31 - in the next one
111:37 - a couple of videos ago we went over to
111:39 - the browser and went to the gatsby
111:41 - homepage to look at the following
111:43 - visualization here we talked about how
111:46 - we were going to use the graphql api
111:48 - that gatsby provides to source our data
111:51 - from external data sources
111:54 - now so far we have done that with site
111:56 - metadata we were able to pull in some
111:59 - basic information getting that rendered
112:01 - in our react components but it's not
112:04 - exactly a great place for more complex
112:07 - data for example the blog posts we're
112:10 - trying to create for our site storing
112:13 - that inside of that little site metadata
112:16 - object just is not realistic instead
112:19 - we're gonna start to focus on creating a
112:22 - blog powered by markdown blog posts so
112:26 - inside of visual studio code we'll be
112:28 - adding markdown files for each of the
112:30 - blog posts we want to create
112:33 - those will then be listed over on the
112:35 - blog page of our site and we'll also
112:38 - have gatsby dynamically generate brand
112:41 - new pages based off of a page template
112:45 - for each and every blog post so that's
112:48 - the end goal let's get started by
112:50 - writing a couple of posts
112:52 - in visual studio code what we're gonna
112:55 - do is put our blog posts in the source
112:58 - directory for the moment we can collapse
113:00 - the other directories inside of there
113:02 - and we can also close all of our open
113:04 - editors we're going to create a brand
113:07 - new folder in the source folder and i'm
113:10 - going to call this posts you could call
113:12 - it something else like blog or blog
113:14 - posts the exact name could be whatever
113:17 - you want
113:18 - in here we're going to add a couple of
113:20 - posts i'll have one called
113:23 - gatsby.md
113:25 - and real quick i'll create another one
113:27 - let's call it react.md
113:30 - so for the gatsby post we're just going
113:33 - to add a little bit of sample text i'm
113:35 - not actually going to write out an
113:37 - entire post
113:38 - let's get started by adding what's known
113:40 - as the front matter for our markdown
113:43 - posts so we start with three hyphens we
113:46 - end with three hyphens and right in
113:48 - between we can add key value pairs for
113:51 - whatever makes sense for us now for
113:54 - posts you might want to include the post
113:56 - title maybe the date the post was
113:59 - published a list of tags the author
114:02 - whatever sort of data you want to add
114:04 - onto the actual post content
114:07 - so right here let's keep it simple i'm
114:09 - going to set up a title for this post so
114:12 - that is title colon space inside of
114:15 - quotes i'll call this the great
114:18 - gatsby bootcamp
114:20 - then down below i'll also set up a date
114:23 - right here
114:25 - 2019
114:26 - the fourth month and the fourth day
114:29 - then we can just put a little bit of
114:31 - content on the screen so right here i
114:34 - just launched a new boot camp
114:38 - then i'll set up a second header using
114:40 - two hash signs followed by a space
114:44 - for a new section i'll call that topics
114:47 - covered
114:48 - then down below i'll just list those out
114:50 - so i have gatsby as the first one i'll
114:53 - go ahead and put graphql in there and
114:56 - last up is react so there we go we have
114:59 - some front matter and we also have our
115:01 - blog post content itself with a couple
115:04 - of things for markdown that should end
115:06 - up becoming different in terms of how it
115:09 - looks on the screen i would expect this
115:11 - to be a small paragraph and this to be a
115:14 - large header
115:15 - now let's go ahead and do the same thing
115:17 - for the react post so right here we want
115:20 - to set up that front matter
115:22 - the title for this one can be something
115:24 - simple like react and i'll set the date
115:27 - to an earlier date so right here
115:31 - i'll use 2019
115:33 - the fourth month but the second day so
115:36 - two days ago
115:38 - then i'll add the content below
115:40 - in this post
115:42 - you'll
115:44 - learn react perfect
115:46 - so what do we have we have a blog with
115:49 - two posts the gatsby post and the react
115:53 - post what we need to do is figure out
115:55 - how to get this inside of gatsby because
115:59 - once it's in there we need to transform
116:01 - it from markdown to html and we need to
116:05 - get that rendered to the screen
116:08 - step one though is to tell gatsby that
116:10 - we're now sourcing content from an
116:12 - external source it's coming not from
116:15 - site metadata not from a cms not from a
116:18 - third-party api it is coming from the
116:21 - file system everything we need is right
116:24 - here in the posts folder there's a
116:27 - plugin that's gonna let us get that done
116:29 - let's head over to the browser and go
116:31 - back to the gatsby site if we scroll up
116:34 - a little bit we're gonna head over to
116:36 - the plugins page and we're gonna use the
116:39 - search bar to just search for source
116:42 - right here we're going to see all of the
116:44 - gatsby plugins that allow us to source
116:47 - data from an external source for example
116:50 - bigcommerce a postgres database custom
116:54 - apis instagram google photos
116:57 - vimeo trello and more
117:00 - now in this case we're not trying to
117:02 - source from any of those our content
117:05 - lives on the file system so we're trying
117:08 - to source it from the file system right
117:11 - here
117:12 - source hyphen file
117:14 - system is going to bring up the gatsby
117:17 - plugin that we're going to use
117:19 - so this plugin is going to allow us to
117:21 - pull those markdown files into gatsby
117:25 - then a little bit later we'll use
117:27 - another plugin to convert them from
117:29 - markdown to html we can actually render
117:32 - to the screen
117:34 - let's get started though by adding this
117:35 - plugin into our gatsby project and
117:38 - getting it configured
117:40 - so over here we're going to shut down
117:42 - our current development server i'll use
117:45 - clear to clear the terminal output and
117:48 - we're going to install that new plugin
117:50 - so npm install
117:52 - that is gatsby
117:54 - hyphen source hyphen file
117:57 - system at the latest version 2.0.28
118:02 - i'm going to run the command it is going
118:04 - to set that up and all we need to do is
118:08 - enable it by adding it to our plugins
118:10 - array over in the gatsby config file
118:14 - now we've only worked with one plugin
118:16 - before and it didn't require any
118:18 - customization i simply listed out its
118:21 - name as a string and that was enough to
118:23 - get the job done
118:25 - with the file system source plugin there
118:28 - are a few options we have to provide so
118:30 - the setup looks a little bit different
118:33 - let's add a second item onto the plugins
118:35 - array and this second item is not going
118:37 - to be a string it's actually going to be
118:40 - an object
118:41 - now when we set up a plugin as an object
118:44 - we still have to provide the plugin's
118:46 - name and we do that via the resolve
118:50 - property so right here as the value for
118:52 - resolve we type in the plugin's name
118:55 - that is gatsby
118:57 - source
118:58 - file system and there we go
119:01 - this is identical to what we have above
119:03 - the only advantage is that now we can
119:06 - expand on that object adding what the
119:08 - file system plugin needs which is an
119:12 - options object
119:14 - on options we have to provide two things
119:16 - both our strings
119:18 - first up is a name we can pick source
119:21 - for this
119:23 - and the second is the path to the
119:25 - directory on the file system that we're
119:28 - trying to source our content from
119:31 - so right here that's path and we're
119:33 - going to use a template string to get
119:35 - the job done
119:37 - to start off let's interpolate a value
119:39 - that is double underscore der name if
119:42 - you're not familiar this comes from
119:44 - nodejs and remember this is a node.js
119:48 - file that's why we're using
119:50 - module.exports instead of the export
119:52 - syntax
119:53 - and after der name all we have to
119:56 - provide is forward slash source forward
119:59 - slash
120:00 - so with just this little bit of setup
120:02 - we're now telling gatsby to source
120:04 - content from the file system this
120:07 - includes everything in the source
120:09 - directory which would also include our
120:12 - markdown posts
120:14 - now that we have this in place let's
120:16 - start up that development server once
120:18 - again so down below
120:20 - npm run develop
120:22 - and what we're going to do is head over
120:25 - to graphql playground and i want to take
120:27 - a look at exactly what's been added with
120:30 - the addition of this plugin because
120:32 - there are two new queries we now have
120:35 - access to
120:36 - so over in the browser
120:38 - we'll go back over to the playground and
120:40 - give things a quick refresh
120:43 - if we head over to the docs we're gonna
120:45 - see we have two new queries that did not
120:49 - exist before
120:50 - we have a file for fetching an
120:52 - individual file
120:54 - and we have all file for fetching
120:56 - multiple files let's go ahead and use
120:59 - all file to explore some of the files in
121:03 - our project right here under type
121:05 - details we can see we have edges that's
121:08 - what we want edges makes it possible to
121:11 - perform pagination
121:13 - and in there we have access to node
121:16 - node represents an individual file and
121:19 - here we have a bunch of information
121:21 - about the file that we're currently
121:23 - requesting we could request its size the
121:26 - extension the absolute path when it was
121:28 - created the directory the name all sorts
121:31 - of interesting things show up inside of
121:34 - here
121:35 - now remember this did not exist before
121:37 - because we were not sourcing content
121:39 - from the file system now that we are we
121:42 - can actually use that right here in
121:44 - graphql playground and that's exactly
121:47 - what we're going to do so i'm going to
121:49 - remove our current query by removing
121:51 - everything from inside of it and we are
121:54 - going to use all file
121:57 - and from there as mentioned we're going
121:59 - to grab edges
122:01 - and for each edge
122:03 - we have the node and in the node we have
122:06 - access to whatever we want about that
122:09 - file let's go ahead and grab the name
122:12 - the file's name we're also going to grab
122:15 - the extension
122:17 - finally i'll choose to grab the
122:20 - directory as well using dir
122:23 - now if i go ahead and run this we're
122:25 - gonna see a list of every single file in
122:27 - our source directory with these three
122:29 - pieces of information so here i have
122:32 - about with the js extension that's
122:34 - sitting in the pages folder that's
122:36 - correct below that i have blog and
122:39 - contact i have our index page the header
122:42 - component the footer i have our css
122:45 - files in there as well and if i scroll
122:48 - to the bottom i can see that amongst
122:50 - those other files i have my gatsby
122:53 - markdown post right here and down below
122:56 - i have my react markdown post so now we
123:00 - are correctly sourcing content from the
123:02 - file system from here the question is
123:05 - how do we specifically target these
123:07 - markdown files and how do we take their
123:10 - contents and convert them into something
123:13 - that's useful for us
123:15 - inside of react components
123:17 - so this is just step one of about three
123:20 - steps to getting the markdown blog up
123:23 - and running in the next video you're
123:26 - gonna learn how to transform these
123:28 - markdown files into html you can
123:31 - actually use and render i'm excited to
123:34 - get to that so let's jump right into the
123:36 - next one
123:42 - welcome back to the great gatsby boot
123:44 - camp now that we have the gatsby source
123:47 - file system plugin set up we have pulled
123:49 - in files from the file system allowing
123:52 - us to access them via gatsby's graphql
123:56 - api in this video we're going to take
123:58 - that to the next level what we want to
124:00 - do is target just our markdown posts and
124:03 - we want to parse them from a file like
124:06 - this into content that's actually useful
124:09 - i want to be able to pull out things
124:11 - like the title the date and the post
124:14 - body so i can render them to the screen
124:17 - we're going to get started with that
124:18 - process in this video and to start we're
124:22 - going to use another gatsby plugin that
124:25 - pairs with the gatsby source file system
124:28 - plugin so this is going to load those
124:31 - raw files from the file system the
124:34 - plugin we're about to use is going to
124:36 - look for markdown files in there and
124:38 - it's going to parse them into useful
124:41 - data we can find this by heading over to
124:43 - the gatsby plugins list
124:46 - right here if we go ahead and search for
124:48 - something like remark we should find the
124:51 - one we're looking for it is gatsby
124:54 - transformer remark
124:56 - so we used a source plugin to pull
124:59 - content from an external source
125:01 - now we're using one of the many
125:03 - transformer plug-ins to transform that
125:06 - content into something useful and this
125:09 - plugin could not be easier to use there
125:12 - is zero configuration we just install it
125:15 - set it up and we have access to our post
125:17 - data so let's see what this looks like
125:20 - in visual studio code i'm going to shut
125:23 - down the terminal use clear to clear
125:25 - that output and we're going to install
125:28 - it that's npm install
125:30 - gatsby
125:31 - transformer
125:33 - remark at the latest version which is
125:36 - 2.3.8
125:38 - now if you're wondering what remark is
125:41 - that's a standalone javascript library
125:44 - for parsing markdown files so all we're
125:47 - doing here is using a gatsby plugin that
125:50 - runs that library behind the scenes i'm
125:53 - going to go ahead and run the installer
125:55 - and up above we can set this up in our
125:57 - plugins array
125:59 - at the end of the array we're going to
126:01 - add a new item and this is just going to
126:03 - be a string with the plugin name
126:06 - gatsby transformer remark there's no
126:09 - need for any options like we had up
126:12 - above as this plug-in doesn't require
126:14 - any configuration
126:16 - now that we have this in place we can
126:18 - save the config file the installation
126:21 - has completed down below and all we're
126:23 - going to do is start up our dev server
126:25 - once again so npm run develop and once
126:29 - the server's up and running we'll
126:31 - actually be able to access our parsed
126:34 - markdown posts via the graphql api i'll
126:38 - be able to extract the front matter i
126:40 - want as well as the html for the blog
126:44 - post body so let's see that in action
126:47 - over here we have graphql playground i'm
126:50 - going to give things a quick refresh and
126:53 - if we crack open the docs under our
126:55 - queries list you'll notice down at the
126:58 - bottom we have two new ones i have
127:01 - markdown remark and all markdown remark
127:05 - the first one is used for fetching an
127:07 - individual post the other one is used
127:10 - for fetching a list of posts and that
127:13 - would be useful for something like the
127:15 - blog page where i might want to show all
127:18 - of the posts i've ever published with
127:20 - the most recently published ones up top
127:24 - so to get started we're going to use
127:26 - this query to fetch some data about
127:28 - every single post we've created now in
127:31 - this case we just have two
127:33 - i'll crack open a brand new tab
127:36 - we're going to set up the query
127:38 - we are going to use all mark down remark
127:43 - then we can take a look at what exactly
127:45 - we have inside of there and the
127:47 - structure is really similar to the
127:49 - general structure over here with edges
127:52 - and node in the docs
127:54 - down below all markdown remark we have
127:57 - edges
127:58 - we have node and node contains things
128:01 - about our post we have the front matter
128:04 - this is where we can access the title
128:06 - and the date and anything else we choose
128:09 - to add and we also have access to things
128:11 - down below like the html for the post
128:15 - the excerpt and all sorts of interesting
128:17 - information like time to read which is
128:20 - calculated based off of the post's
128:22 - length so let's go ahead and actually
128:25 - grab some of this data in our query over
128:27 - here
128:28 - that's edges
128:31 - node
128:32 - and in there let's just start with the
128:34 - title so the title is in front matter
128:39 - we're gonna grab the title
128:41 - i'm gonna fire off this operation and
128:44 - what do i see i can see i have two posts
128:47 - the first with the title of react and
128:49 - the second down below with the title of
128:52 - the great gatsby boot camp
128:55 - from here we could grab additional
128:57 - information like the date
129:00 - outside of front matter but still in
129:02 - node i could also grab stuff like the
129:04 - html or an excerpt depending on what
129:08 - exactly i needed in this case let's grab
129:11 - both
129:12 - i'll fire off the operation and right
129:14 - here we can see we have the parsed html
129:17 - for our post and an excerpt we could
129:20 - show
129:21 - in our list of posts
129:23 - now this post was pretty simple but if i
129:25 - scroll down we can see there's a more
129:27 - complex html structure for our more
129:30 - complex post i have the paragraph i have
129:34 - my header i also have my ordered list
129:36 - with the list items that i set up so all
129:39 - of this markup is based off of what we
129:42 - put in those markdown files
129:45 - now that we actually have access to this
129:47 - data via the graphql api we can run
129:51 - queries from our components to pull this
129:53 - data in and use it to render a list of
129:57 - the posts available getting that done is
130:00 - gonna be your challenge for the video so
130:03 - let's talk about what i'd like you to do
130:05 - over here we're gonna move into the
130:08 - pages folder in there we have the blog
130:11 - file this is where you're gonna spend
130:13 - your time for the challenge and i'll
130:16 - paste those challenge comments in just
130:18 - above
130:19 - so the big picture goal is to show a
130:22 - list of posts on the blog page now for
130:25 - the moment we're not worried about
130:27 - linking to any other page where the
130:29 - whole post is showing and we're not even
130:32 - worried about rendering the post body
130:35 - all we want to do is render the title
130:38 - and date for each post so to start down
130:41 - below you're going to need to query the
130:44 - graphql api fetching the title and date
130:48 - for every single blog post using what we
130:51 - just talked about over in graphql
130:53 - playground
130:54 - then in the page down below you're going
130:57 - to render an ordered list using the ol
131:00 - element from there inside of the ol
131:04 - element you want to render a list item
131:06 - for each and every post
131:08 - the list item should have a nested h2
131:11 - header tag for the title and a paragraph
131:15 - tag for the date
131:17 - now if you don't remember how to take an
131:19 - array of objects and convert that into a
131:22 - list of jsx elements you can google
131:26 - something like render array of objects
131:28 - react and that'll get you to the right
131:31 - place and get you the information you
131:33 - need to jog your memory
131:36 - now there's no need to do all of this at
131:38 - once before ever testing things out test
131:41 - it in stages run the query use
131:44 - console.log to print the data to the
131:46 - terminal make sure that looks good and
131:48 - get comfortable with the structure of
131:50 - the data then use what you've learned
131:53 - there to actually get stuff rendered to
131:55 - the screen
131:56 - finally test your work on the blog page
131:59 - of the site i should see my two post
132:02 - titles react and the great gatsby boot
132:05 - camp both with their dates just below
132:09 - alright knock that out test your work
132:11 - and when you're done come back and click
132:14 - play
132:19 - all right how'd that go if you ran into
132:21 - any trouble along the way the good news
132:24 - is as always we're gonna work through
132:26 - the solution together now i said the
132:29 - solution more like a solution as there
132:32 - are plenty of different ways you could
132:33 - have structured this
132:35 - now step one is to query that data and
132:38 - we can't do that without importing a few
132:40 - things from gatsby we need graphql and
132:44 - we also need use static query grabbing
132:48 - those from the gatsby library and once
132:51 - we have both of those in place we can
132:53 - move into the function for our blog page
132:56 - component and actually set up a query
132:59 - similar to what we have over here we
133:02 - need the title and we need the date
133:05 - so const data is going to equal
133:08 - we'll call use static query providing
133:11 - graphql along with our template string
133:15 - and in here we're going to have
133:17 - essentially the same thing we have over
133:19 - here but without html and excerpt which
133:22 - aren't needed so right here let's knock
133:25 - that out
133:26 - we'll start with query
133:28 - we're trying to use the all
133:31 - markdown remark query
133:34 - then we're going to go ahead and grab
133:36 - edges
133:38 - from there
133:39 - node
133:40 - from there we need the front matter
133:43 - which contains all of the data we're
133:45 - looking for and we want title and we
133:48 - also want date
133:50 - perfect
133:51 - so now that we have the query in place
133:54 - let's just use console.log
133:57 - and dump the data to the terminal to
134:00 - make sure this part is actually working
134:02 - as expected if we get the correct data
134:04 - then we'll move on to steps two and
134:06 - three actually rendering it on the page
134:09 - for now though i'm going to head over to
134:11 - the blog page i'll crack open the chrome
134:14 - dev tools right here i have the console
134:17 - and down below i have an object this is
134:20 - the data variable we have all markdown
134:23 - remark and we have our edges array where
134:27 - each edge represents a post
134:30 - right here one of the posts as an
134:32 - example has that node property we then
134:35 - have front matter and on there we have
134:37 - date and title so the structure we're
134:40 - getting back here is the exact same
134:42 - structure we got back over here now
134:45 - let's actually use that to render some
134:48 - content to the screen
134:50 - so remember step two was to set up an
134:53 - ordered list and i'm going to do that
134:54 - down below
134:55 - i'll remove the paragraph
134:58 - i'll set up the ordered list and inside
135:01 - of here we want to put a list item for
135:04 - each and every post we found that means
135:07 - we want to iterate over that edges array
135:10 - and we want to take the edges object and
135:13 - we want to convert that to a list item
135:16 - so let's actually get that done
135:18 - right here setting up some curly braces
135:22 - and we're going to access that array
135:24 - that's data
135:25 - dot all
135:26 - mark down a remark exactly like we just
135:29 - saw in the terminal
135:31 - from there we grab edges and that's an
135:34 - array now we have an array of objects
135:36 - and what we want is an array of jsx
135:39 - elements so i'm going to use the map
135:42 - function to convert the object over to
135:45 - jsx
135:47 - now in this case our function gets
135:48 - called one time for each edge so one
135:52 - time for each blog post
135:54 - and right here we'll get access to the
135:56 - individual object which i'll just call
135:59 - an edge
136:00 - now it's the job of the map function to
136:03 - return some jsx this is going to show up
136:06 - for each and every post so right here we
136:10 - start off with a list item and i
136:12 - mentioned in there i wanted a header to
136:15 - tag
136:16 - and i also wanted a paragraph so i'll
136:18 - set those up as well
136:21 - now all we need to do is pull the title
136:24 - and the date off of edge and put them
136:26 - right inside of these two elements
136:29 - so we'll start with the title
136:31 - over here we can see that for one of the
136:34 - array items we have the node property
136:36 - then front matter then date and title so
136:40 - that means over here it would be edge
136:43 - dot node
136:44 - dot front matter
136:46 - dot title and with this in place we
136:48 - could test our work so far to make sure
136:51 - at least the title is showing up and it
136:53 - is right over here i have react followed
136:57 - by the great gatsby boot camp next up we
137:00 - have that paragraph and i want to put
137:02 - the date right inside of there
137:04 - that'll be edge dot node
137:07 - dot front matter
137:09 - dot date identical to what we had up
137:11 - above just accessing something different
137:15 - from the front matter
137:17 - now we can actually remove the
137:19 - console.log call as we're all done we
137:22 - have successfully fetched the data and
137:25 - used it to render a list to the screen
137:29 - if we check things out in the browser we
137:31 - have our list item one the title is
137:33 - react and the date was april 2nd and
137:37 - here we have the great gatsby boot camp
137:39 - post with the date april 4th
137:42 - with this in place we've made some
137:44 - really great progress towards what we're
137:46 - working towards now this page is not
137:49 - done yet we do need to link over to a
137:52 - blog post page and eventually we're
137:54 - going to include some additional
137:56 - information here
137:58 - but this is a really good start
138:02 - next up over in the terminal all i'm
138:04 - gonna do is close down excuse me delete
138:08 - the challenge comments and that's where
138:11 - we're gonna stop for this one we have
138:13 - our query which is fetching the markdown
138:16 - post data
138:17 - down below we're using some jsx and
138:20 - javascript to get everything rendered
138:22 - now the question is how do we create a
138:26 - new page for each and every post i
138:29 - mentioned what we're not gonna do
138:31 - is manually add new files to the pages
138:34 - directory instead we're going to use a
138:37 - gatsby api that's going to allow us to
138:40 - dynamically generate new pages with
138:43 - dynamic content so we'll be able to
138:46 - generate new pages where the page
138:48 - content is the blog post content
138:52 - i'm excited to get to that and we'll be
138:54 - starting that in the next video so let's
138:57 - go ahead and jump right in
139:04 - now that we have a list of blog posts on
139:06 - the blog page it's time to dynamically
139:09 - generate pages for each and every post
139:11 - so if i want to read this post i click
139:14 - on the title that brings me over to a
139:16 - new page and that new page is
139:18 - dynamically generated
139:20 - using the markdown data from graphql and
139:23 - a blog post page template which is
139:26 - nothing more than a react component and
139:29 - we're going to use that same blog post
139:31 - page template for every single blog post
139:35 - since as we saw in graphql we have a
139:38 - standardized set of data i have a title
139:40 - i have a date and i have the body
139:43 - content for each and every post
139:46 - now let's head over to visual studio
139:48 - code close all open editors and i'm just
139:51 - going to crack open a new file where i'm
139:54 - going to outline what we're going to
139:55 - cover in this video the reason i'd like
139:58 - to outline things is that we'll be
140:00 - spending a little time working with the
140:02 - internal gatsby api and that can be a
140:05 - confusing topic so it's a good idea to
140:07 - have the big picture in mind goal number
140:10 - one is to generate a slug for each post
140:15 - so let's say we have a post like our
140:17 - gatsby post that is gatsby.md that is
140:19 - the markdown file what we want to do is
140:22 - generate a slug which is nothing more
140:25 - than the file's name stored as a string
140:28 - gatsby that's going to allow us to set
140:31 - up the url where someone will be able to
140:34 - view this post now that url could be
140:37 - whatever we like for example it could be
140:40 - forward slash gatsby or something a
140:42 - little more complex like forward slash
140:45 - blog forward slash gatsby either way
140:48 - though we need the slug from the file
140:51 - name in order to set up the correct
140:53 - endpoint where that particular post
140:56 - should be accessible so that's goal one
140:59 - generate a slug for each post
141:01 - goal two is an easy one for us we are
141:04 - going to generate the blog post page
141:08 - template that's nothing more than a
141:10 - react component and there's not a lot to
141:12 - say about that for now pretty
141:14 - straightforward
141:15 - next up and the final thing we're gonna
141:17 - do goal number three
141:19 - is to actually combine those two so we
141:22 - want to generate
141:24 - a new page for each post so in order to
141:28 - generate that new page we're going to
141:30 - need a template and we're going to need
141:32 - access to the file and the slug so we
141:36 - can set up the correct url where someone
141:38 - will be able to view our new dynamically
141:41 - generated page
141:43 - so those are the three goals and to get
141:45 - started what we're going to do is
141:47 - actually create a new file that
141:49 - currently does not exist in our project
141:53 - in the root of the project
141:55 - this file is gatsby
141:58 - hyphen
141:59 - node.js this is the gatsby node
142:02 - configuration file which allows us to
142:05 - tap in to a lot of the node apis that
142:08 - gatsby exposes
142:10 - this is what we're going to use in order
142:12 - to generate that slug and in order to
142:15 - dynamically generate those blog post
142:18 - pages before we start using these
142:20 - internal apis let's check them out over
142:23 - in the gatsby docs so you know where you
142:25 - can learn more i'm going to head over to
142:28 - the gatsby website
142:29 - we're looking for the docs page
142:32 - here we need to scroll all the way down
142:34 - in the sidebar and go to api reference
142:38 - once we're there we're looking for the
142:40 - gatsby node apis these are all the
142:43 - things we can define in that new file
142:45 - we've created
142:47 - and on that page if we scroll down just
142:49 - a little bit
142:50 - we get brought to a list of all of the
142:52 - different apis we can tap into
142:55 - using that new gatsby node file now in
142:58 - this video we'll end up using two of
143:00 - them and the first one we're going to
143:02 - use is on create node this is what's
143:05 - going to allow us to attach some new
143:08 - data on to the individual node and what
143:12 - we're going to do is attach the slug so
143:14 - we have access to the slug throughout
143:17 - the entirety of our application if
143:19 - you're wondering what a node is remember
143:22 - it's nothing more than a data structure
143:24 - for storing your gatsby data and we
143:27 - already saw this in place with the
143:28 - graphql queries that we ran in the last
143:32 - couple of videos so right over here we
143:34 - have the all markdown remark query we
143:37 - grabbed the node to grab individual data
143:40 - about the particular markdown node here
143:44 - we grabbed the front matter html and
143:46 - excerpt and there were other fields
143:48 - which we didn't grab but were available
143:51 - so that is the individual node this api
143:54 - allows us to do something when that node
143:57 - is created so when a new markdown node
144:00 - is created all we're going to do is
144:02 - attach the slug field onto it and that's
144:05 - nothing more than a string the file name
144:08 - without the dot md extension so right
144:12 - here we're going to take this code and
144:14 - bring it over into that file now this
144:17 - file is indeed a node.js file so right
144:21 - here what we're going to do is set up
144:24 - module.exports exporting the very first
144:27 - thing on
144:29 - create
144:30 - node so that's how we use this file we
144:33 - export functions and these functions get
144:35 - registered to gatsby and run when
144:38 - they're supposed to in this case our
144:40 - function runs when a new node is created
144:44 - now over in the docs we saw we get
144:46 - access to an argument and we can
144:48 - destructure that to get access to the
144:50 - node and to some actions which are
144:53 - destructured down below
144:55 - now we don't need create node but we do
144:58 - need create node field so we're going to
145:00 - make sure to grab that as well
145:03 - right here
145:04 - let's destructure this argument grabbing
145:07 - the node and grabbing our actions
145:11 - then down below i'll destructure the
145:13 - actions grabbing
145:16 - create
145:17 - node field
145:19 - from actions and there we go we have our
145:22 - little boilerplate version of the
145:24 - function in place
145:26 - now it's time to actually see what this
145:28 - is going to do for us and how we're
145:29 - going to use it to generate the slug
145:32 - field first thing i'd like to do is just
145:34 - use console.log to print the node to the
145:38 - terminal so we can see what exactly we
145:40 - get now when we use just this it's not
145:43 - going to print in a way that's easy to
145:45 - see so let's pretty print the node
145:47 - instead with the following
145:49 - here we're just going to use
145:51 - json.stringify
145:53 - to convert the node object over to a
145:56 - formatted string that'll make it a lot
145:58 - easier to view things down below
146:01 - so right here how do we call stringify
146:04 - while we pass in the object as the
146:06 - second argument we provide undefined
146:09 - this is an optional filtering function
146:12 - in this case we want to see everything
146:14 - so we'll leave that off and the final
146:16 - argument is the number of spaces we want
146:19 - to use when printing it to the terminal
146:21 - in the formatted version here i'll just
146:23 - use four
146:25 - so now we're going to see a pretty
146:27 - printed version of the individual nodes
146:30 - when we restart the server because
146:32 - that's when oncreate node runs
146:35 - so down below let's shut down the
146:38 - terminal i'll use up and enter to
146:40 - restart the server and when we restart
146:42 - it we're going to see our console.log
146:45 - call print a bunch of new objects to the
146:47 - terminal which is exactly what we got
146:50 - the first object right here is quite
146:52 - large it runs from up above it contains
146:55 - about two dozen different properties and
146:58 - it runs to down below
147:00 - now the only thing we're concerned with
147:02 - about this object is internal internal
147:05 - itself is an object and on there we have
147:08 - a type property this is the type for the
147:11 - current node and in this case we can see
147:13 - the type is site page site page is a
147:17 - built-in gatsby type this is for new
147:20 - pages on our site and right here we can
147:22 - see this is for index.js in the pages
147:26 - directory and that is our home page
147:29 - now if we continue to scroll up we'll
147:31 - see site page nodes for the other pages
147:33 - we've defined so up above we have site
147:36 - page for contact
147:38 - then we have site page for blog followed
147:41 - by site page for about
147:44 - then we have a page that's generated for
147:46 - us
147:47 - site page for dev404 page now don't
147:50 - worry you're going to learn how to
147:52 - create a proper 404 shortly
147:55 - but past that that's where things start
147:57 - to get interesting up above we have a
148:00 - new node and the internal type is
148:03 - markdown remark these are the nodes that
148:06 - we actually want to tap into so oncreate
148:09 - node runs for all of the nodes for our
148:12 - gatsby site we don't want to do
148:14 - something for all of the nodes i just
148:16 - want to do something for the markdown
148:19 - remark nodes i want to take that entire
148:22 - file name i want to reduce it to a slug
148:26 - and i want to add that as a new field
148:28 - onto the node so it's easily accessible
148:31 - throughout the rest of our app so that's
148:33 - exactly what we're going to do here we
148:35 - have the node for the react post up
148:38 - above we have the node for the great
148:40 - gatsby boot camp which also has an
148:43 - internal type of markdown remark
148:46 - so to take this to the next level we're
148:48 - going to set up an if statement
148:50 - we're going to look at the nodes
148:52 - internal type
148:54 - when it equals
148:56 - markdown remark then and only then are
148:59 - we actually going to do something now
149:01 - for the moment we can just take our
149:03 - console.log call and move it inside of
149:05 - there to make sure it's still running
149:07 - when expected so i'm going to save the
149:10 - file i'll restart the dev server down
149:12 - below and now i should still see some
149:15 - logs print but i should only get two one
149:18 - for each of those posts right here i
149:20 - scroll up the first one is an internal
149:23 - type of markdown remark which is great
149:26 - above that we have our other post and
149:28 - above that there's nothing so no longer
149:31 - are we seeing the nodes for our site
149:33 - pages and that's what we want we've now
149:36 - successfully targeted just the nodes
149:38 - we're actually trying to manipulate
149:41 - now if we head back to the node up above
149:44 - we'll see there's one particular field
149:46 - that does contain the entire file path
149:49 - that is file absolute path that's
149:52 - available on both of our nodes
149:54 - and this is what we're going to tap into
149:56 - we're going to take this we're going to
149:58 - remove the entire path except for the
150:00 - file then we're going to remove the
150:03 - extension leaving us with just the slug
150:06 - in this case gatsby or in the case up
150:08 - above just react
150:10 - now there's actually a nodejs module
150:13 - built in called path which allows us to
150:16 - manipulate the path and that has a
150:19 - function which allows us to extract the
150:22 - file name from a complex path like the
150:25 - one we've seen
150:26 - so we can find the documentation for
150:28 - this at nodejs.org
150:32 - here we want to go to docs
150:34 - once we're on docs we want to pick a
150:36 - version the api we're using is pretty
150:39 - standardized so it'll be the same no
150:41 - matter which one you pick
150:43 - we're going to scroll down to path
150:46 - these provide a bunch of different
150:48 - methods for manipulating string paths
150:51 - and we're looking for one called base
150:54 - name
150:54 - base name takes an entire path like this
150:57 - one here and it reduces it to just the
151:00 - file name and the extension
151:03 - we can use the second argument however
151:05 - to remove the extension leaving us with
151:07 - just the file name and that is exactly
151:10 - what we're trying to do
151:12 - so let's go ahead and close down the
151:14 - documentation here and actually get that
151:16 - done
151:17 - up above i'm going to load the built-in
151:19 - path module
151:21 - const path comes from requiring path
151:24 - there's no need to install it as it's a
151:26 - node core module and down below what
151:29 - we're going to do is try to get access
151:31 - to the slug
151:33 - so constant slug is going to equal
151:36 - we'll be using path dot base name like
151:39 - we just saw in the docs
151:41 - we're going to provide the path and we
151:43 - saw that on node
151:45 - file absolute path
151:48 - and then as the second argument the
151:50 - extension.md
151:52 - which we're trying to remove and that
151:54 - should leave us with just the slug let's
151:56 - actually see if that's the case
151:58 - i'm going to remove the old console.log
152:01 - call and add a new one into the mix
152:04 - right here i'll print a bunch of at
152:06 - signs to make this easy to find in the
152:08 - long list of terminal output
152:11 - then as the second argument i'll print
152:13 - the actual slug
152:14 - so i'm going to save gatsby node
152:17 - i'm going to shut down things from the
152:19 - terminal and i'm going to start them up
152:22 - once again and hopefully we see our
152:24 - little message printing twice once for
152:26 - each markdown post right here i did see
152:30 - them move by i have the first one with
152:32 - the slug of gatsby and the second one
152:35 - with the slug of react so we've
152:38 - successfully extracted the data to get
152:41 - the slug now we have to call create node
152:44 - field to actually add the new field onto
152:47 - the node and this one really isn't too
152:50 - bad down below we'll remove that
152:52 - console.log call
152:54 - we're going to call create
152:56 - node field and we need to provide an
152:59 - object with three different properties
153:03 - the first is the node we're trying to
153:05 - create the node field on
153:08 - now here i'm using the shorthand syntax
153:10 - to set the node property equal to a
153:12 - variable of the same name
153:15 - then down below we need to set the name
153:18 - for our new field i'll go ahead and use
153:20 - slug for this and finally the value what
153:24 - is the value for slug well i have that
153:27 - stored in the slug variable and that is
153:30 - it this is all we need to do to achieve
153:33 - goal number one of adding the slug on to
153:36 - our markdown nodes
153:38 - now let's go ahead and test this out so
153:40 - i'm going to restart the project from
153:42 - the terminal for the final time and
153:45 - instead of looking at something from a
153:47 - console.log call we're actually going to
153:50 - try to grab the slug for our posts over
153:52 - in graphql playground so over in graphql
153:56 - playground we can go ahead and check
153:58 - things out right here we have the node
154:01 - with the front matter html and excerpt
154:04 - based off of the new stuff we just set
154:07 - up we also have something called fields
154:10 - and fields has a single field that is
154:14 - the slug perfect
154:17 - now if we actually run this we're gonna
154:18 - see that for each post we do get a slug
154:21 - right here we have the great gatsby boot
154:23 - camp we have the slug of gatsby and down
154:27 - below we have the react post with the
154:30 - slug of react so there we go that is
154:33 - goal number one achieved we've
154:35 - successfully created a slug for all of
154:38 - those blog posts the next two goals are
154:41 - what we're going to focus on from here
154:43 - on out now originally i was going to
154:45 - have this all as one video but let's
154:48 - take a moment to take a break as this
154:50 - went on a little longer than i wanted to
154:53 - but i wanted to move through the
154:54 - individual steps using
154:56 - console.log so we could actually see
154:59 - what we were doing with this code over
155:01 - here
155:02 - so that's it for this one in the next
155:04 - video we'll wrap things up by setting up
155:06 - the template and actually dynamically
155:08 - generating those new pages i'm excited
155:11 - to get to it so i'll see you then
155:18 - it's time to continue on with our three
155:21 - goals we already have our page slugs
155:24 - goal number two is to generate a new
155:26 - template for the blog post page and
155:29 - we're going to do that by creating a new
155:31 - directory in the source folder called
155:34 - templates
155:35 - now the reason i'm creating a new folder
155:37 - is that i want to differentiate the
155:39 - react component we're about to create
155:41 - from the standard components in the
155:43 - components directory or the specialized
155:46 - components in the pages folder here
155:49 - we're working with page templates and
155:50 - those are going to work slightly
155:52 - differently so we'll create this new
155:54 - folder
155:55 - in there we'll put a new file i'll call
155:58 - this blog.js
156:01 - and in here all we need to do is create
156:04 - and export a react component the
156:07 - template for our blog post pages so
156:10 - right here let's start with the very
156:12 - basics i'm just going to import react
156:15 - from react
156:16 - then down below i'll set up the blog
156:19 - component which is just a function
156:21 - and i'll have it return some static text
156:25 - now i'm actually going to put that text
156:27 - inside of a layout so let's import
156:29 - layout real quick as well
156:32 - importing
156:34 - layout from dot dot to get out of the
156:37 - templates directory forward slash
156:40 - components forward slash layout now we
156:43 - can use it and actually render some
156:45 - content to the screen so right here
156:47 - layout
156:49 - in there this is the blog template
156:53 - now you'll notice that we're not
156:54 - rendering anything specific about the
156:57 - post like the title the date or the
156:59 - actual body we'll work on that in just a
157:02 - little bit for now we just want to get
157:05 - the basic template file in place down
157:07 - below
157:08 - export
157:10 - default blog and we're done
157:12 - so we have the template in place for
157:15 - each and every blog post page that is
157:18 - goal number two
157:19 - the third goal is to generate a new page
157:23 - for each post and that's going to
157:25 - require us to use another api from
157:28 - inside of the gatsby node config file we
157:32 - can check this out over in the api docs
157:35 - so right over here what i'm going to do
157:37 - is scroll to the top of the node apis
157:40 - page back to that table of contents
157:43 - and the one we're looking for is
157:45 - actually the very first one as of now
157:48 - create pages
157:50 - create pages gives us everything we need
157:53 - to dynamically generate new pages for
157:55 - the site
157:56 - now down below we can see exactly how
157:58 - this works don't worry we're going to
158:00 - work through all of this together and
158:02 - we'll actually be using a slightly newer
158:04 - syntax to make life easier
158:07 - what i really want to focus on are just
158:09 - these two lines right here we export a
158:12 - create pages function and gatsby gets
158:15 - access to that function and runs it a
158:18 - single time
158:19 - and we destructure that first argument
158:22 - to get access to graphql and actions
158:26 - graphql is going to allow us to fetch
158:28 - some data in our case we want to fetch
158:31 - those markdown nodes which contains the
158:33 - data we need
158:34 - and on actions we get access to an
158:37 - action for creating a new page
158:40 - so let's go ahead and actually set this
158:42 - up then we'll work through the rest of
158:44 - the function getting everything in place
158:47 - so right over here inside of the gatsby
158:50 - node file
158:51 - module dot exports dot that's going to
158:55 - be create
158:56 - pages with a capital p
158:59 - and this is just a regular old function
159:03 - now i am going to destructure that first
159:05 - argument like we saw them do in those
159:07 - api docs
159:09 - the first thing we have access to is a
159:12 - graphql function it's actually a little
159:14 - different than what we've been importing
159:16 - from gatsby in the past
159:18 - and the second thing we get access to
159:21 - are a bunch of action functions in this
159:23 - case just one right here we're going to
159:26 - grab that it is called create page and
159:29 - we're going to call it for every new
159:32 - blog post page we're trying to create
159:34 - right here i'm just destructuring that
159:37 - from actions which is itself an object
159:40 - so down below we can now take advantage
159:43 - of this api to dynamically create the
159:45 - pages and we need to do three things one
159:48 - get path to template
159:51 - two
159:52 - get markdown data
159:55 - and then finally three
159:57 - render excuse me not render create new
160:00 - pages so these are the three things we
160:03 - need to be able to do and the first one
160:05 - is super easy we just want to get the
160:08 - path to that new template we've created
160:11 - that's blog.js
160:13 - i'm going to store this in the following
160:16 - variable i'll call it something like
160:18 - blog template and this is going to be a
160:21 - path an absolute path to that file on
160:24 - your machine starting way back from the
160:27 - root of the hard drive
160:28 - and to do that we'll use path dot
160:31 - resolve that'll resolve a partial path
160:34 - which will provide as a string right
160:36 - here
160:37 - now for us this needs to be the path
160:40 - from our current location in the gatsby
160:42 - bootcamp folder to the destination which
160:45 - is blog.js
160:47 - so that's dot forward slash source
160:50 - forward slash templates forward slash
160:53 - blog.js
160:55 - the resolve function itself is going to
160:58 - add everything up front to create an
161:00 - absolute path from the root of the hard
161:02 - drive
161:03 - now the next thing we need to do is
161:05 - actually fetch the markdown data we need
161:08 - access to all of those slugs so we can
161:11 - dynamically create these new pages
161:14 - now we already know how to query those
161:16 - we've done just that in graphql
161:19 - playground and we're going to use a
161:21 - similar query inside of the node file
161:24 - now we don't need to grab anything
161:26 - except for the slug so the operation
161:29 - we'll be performing is going to look a
161:30 - little bit like this the end result is
161:33 - that we get a bunch of edges with the
161:36 - slug defined for each that's all we need
161:39 - now let's head over to the file and talk
161:41 - about graphql
161:43 - this is not the same as the graphql
161:46 - we've been importing from the gatsby
161:48 - module in files like our header
161:51 - component this is actually a function
161:53 - itself that we pass a string graphql
161:57 - query2 right here that's going to be
162:00 - graphql we're going to pass to it a
162:02 - template string and in here we just type
162:05 - out the query we want to perform exactly
162:08 - like we have over in graphql playground
162:11 - so it's a query that is all mark down
162:14 - remark
162:15 - from there edges from there node from
162:19 - there fields and finally slug
162:22 - so this is what we need to provide in
162:24 - order for everything to get fetched
162:26 - correctly
162:28 - now you'll notice that we're not doing
162:29 - anything with the return value
162:32 - this function actually returns a promise
162:35 - so we have a couple of different options
162:37 - i can add a then call down below to get
162:40 - access to the value that eventually
162:43 - comes back or i can use async await
162:46 - which is what i'm going to do so right
162:48 - here
162:48 - we're going to mark this function as
162:50 - async
162:52 - then
162:52 - i'll set up a new constant response and
162:56 - i'll be awaiting the promise from this
162:58 - function
162:59 - now unfortunately i can't dive deep into
163:01 - async await in this particular video as
163:05 - i want to stay focused on graphql if
163:07 - you're not familiar with the syntax
163:09 - though it is nothing more than a way to
163:12 - make a promise api look a little more
163:16 - unasynchronous so right here we have
163:18 - some very synchronous looking code down
163:21 - below we can now do something with the
163:23 - response
163:25 - now what exactly are we going to do well
163:27 - we want to iterate over all of those
163:29 - posts and we want to run that create
163:31 - page function for each of them so right
163:34 - here we have our response
163:37 - we have data
163:39 - we have all
163:40 - markdown remark
163:43 - and on there we have edges
163:45 - now we're going to use the for each
163:47 - array method to run a function
163:50 - this function right here for each of
163:52 - those now if we have an array of edges i
163:55 - could call the individual element
163:57 - something like an edge
163:59 - and now inside of here the goal is to
164:02 - call create page
164:04 - so i'm going to call create page
164:07 - and i'm going to provide to it an object
164:10 - and on here we have to provide three
164:12 - things first up is the component we're
164:15 - trying to render now the component is
164:18 - not an actual react component it is just
164:21 - the path to the component and we already
164:23 - have that up above i have the blog
164:26 - template string which i'll use down
164:28 - below
164:30 - the next thing we have to add on here is
164:33 - path so we're creating a new page but
164:36 - where exactly should someone be able to
164:38 - access the page we're creating for
164:41 - example forward slash test would be
164:43 - localhost 8000 forward slash test
164:47 - in our case though it's going to be
164:48 - dynamic based off of the slug that each
164:52 - post has
164:54 - so i'm going to use a template string
164:56 - that's forward slash blog forward slash
165:00 - the slug so right here inside of the
165:03 - template string will interpolate the
165:05 - following value
165:07 - that's node excuse me edge.node
165:11 - then we're going to grab fields and
165:13 - we're going to grab the only field we
165:15 - have slug
165:17 - so now when i visit forward slash blog
165:20 - forward slash some slug i'll see that
165:23 - blog post page rendered
165:25 - down below just one last thing that is
165:28 - context
165:29 - context is an object and this contains
165:32 - stuff we can pass down to that template
165:35 - now in our case the only thing we really
165:37 - need is the slug if that template has
165:40 - the slug it can fetch the rest of the
165:43 - data for the post like the title the
165:45 - date and the body content so right here
165:48 - we're going to pass the slug through
165:50 - which you could consider kind of like an
165:52 - id as it is unique for each and every
165:55 - post and right here we'll just use the
165:58 - following that is edge.node.fields.slug
166:02 - once again
166:04 - so this is going to run twice creating
166:06 - two new pages the first is forward slash
166:09 - blog forward slash react and the second
166:12 - is forward slash blog forward slash
166:15 - gatsby
166:17 - both are going to be rendered using the
166:19 - template we've defined and both will
166:21 - have access to a little extra data which
166:24 - they can later use to pull everything
166:26 - they need about that blog post
166:30 - now that we have this in place we're all
166:32 - done i know that this in-depth
166:34 - configuration can be a little dry
166:36 - but if you are interested in using
166:38 - gatsby being comfortable with create
166:41 - pages and with oncreate node is
166:44 - essential for doing what we've just done
166:46 - here this exact same stuff is just as
166:50 - essential if you're pulling your data
166:52 - from a cms like we'll see a bit later
166:55 - for now though let's test things out
166:57 - down below i'll shut down the server
167:00 - i'll start it up once again and we're
167:02 - actually going to try to visit one of
167:04 - those two pages let's start with forward
167:06 - slash blog forward slash react
167:10 - over in the browser i'll head back over
167:13 - to the gatsby site here we're on the
167:15 - blog page now we don't have links to our
167:18 - post pages yet so we'll have to manually
167:20 - visit them i'll go to forward slash
167:23 - react first
167:24 - if i visit that what do i see i see this
167:27 - is the blog template which is awesome if
167:30 - i go to forward slash gatsby what do i
167:33 - get i also get that blog template and if
167:36 - i go over to something else like forward
167:39 - slash node what do i get right here i
167:42 - get a 404 page
167:44 - so there is no node blog post but if i
167:47 - were to create it this particular page
167:50 - would exist and we would actually be
167:51 - able to view the blog
167:54 - so let's go back to one of the post
167:55 - pages that did exist and there we go we
167:59 - now have a way to dynamically generate
168:02 - pages now we're not done yet there's
168:04 - still two very important things we want
168:06 - to do on this page we actually want to
168:09 - render the post content and on the blog
168:13 - list what i want to do is link to the
168:15 - individual blog post pages now that
168:18 - second task is something you already
168:20 - know how to do so that's going to be
168:22 - your challenge for the video then in the
168:24 - next one we'll focus on pulling in the
168:27 - individual data to the template
168:29 - component
168:30 - so for the blog page what you want to do
168:33 - is actually create clickable links for
168:35 - each and every post that heads over to
168:38 - the correct url
168:40 - so let's talk about what i'd like you to
168:42 - do we don't need any of these files any
168:45 - longer including our little goals list
168:47 - as we've completed all three of those
168:50 - the only file you're going to need is
168:52 - the blog page and just up above i'll
168:55 - paste in the challenge comments so the
168:58 - goal is to link to the blog posts in the
169:01 - list that we're rendering down below
169:04 - now right here to get that done first
169:06 - you're going to need to fetch the slug
169:09 - for each post by modifying our query
169:12 - down below
169:13 - then you need to use that slug to
169:15 - generate a link make sure to use the
169:18 - link component provided by gatsby and
169:21 - you want that to go to the correct
169:23 - location so forward slash blog forward
169:26 - slash slug
169:28 - finally test your work actually pull up
169:30 - the page in the browser click those
169:33 - links and make sure it brings you over
169:35 - to the correct blog post page
169:38 - all right take some time to knock out
169:41 - those three steps test your work when
169:43 - you're done come back and click play
169:50 - how'd that go let's get to it and the
169:52 - first thing i'm going to do is grab the
169:54 - link component from gatsby as i know i'm
169:57 - going to need it a bit later down below
170:00 - we want to make sure we fetch the slug
170:02 - for every single post now we have that
170:04 - query right here
170:06 - inside of node alongside of front matter
170:09 - we want to grab fields and in there we
170:12 - want to make sure to grab the slug so we
170:14 - can actually use it when creating our
170:17 - links destination
170:19 - now down here when it comes to modifying
170:21 - the structure i didn't give you any
170:23 - specific rules for how to create the
170:25 - link or what to put inside of it so for
170:28 - now anything works what i'm going to do
170:31 - is set up the opening tag for link right
170:34 - here
170:35 - and i'll put the closing tag below the
170:37 - paragraph making both of those clickable
170:40 - perfect
170:41 - now all we need to do after indenting
170:44 - things is to set up the two property and
170:46 - this needs to be dynamic there is no one
170:50 - static destination it is based off of
170:53 - the static text forward slash blog
170:56 - forward slash and the dynamic text
170:58 - stored in that slug field and for us
171:01 - right here that would be the following
171:04 - edge dot node dot fields dot slug
171:09 - so there we go we have our link in place
171:11 - and hopefully it's working as expected
171:14 - before we actually test this out i'm
171:17 - going to remove the challenge comments
171:19 - up above
171:20 - save the component file and now we'll
171:23 - make sure our link is working
171:25 - over here i have the blog post page and
171:27 - i am seeing links for both posts if i
171:30 - click the react one i'm brought over to
171:32 - the react page if i go back to the blog
171:35 - page and click the great gatsby bootcamp
171:38 - i'm brought over to forward slash blog
171:41 - forward slash gatsby which is awesome
171:45 - so at this point when it comes to the
171:47 - markdown blog there is only one thing we
171:50 - need to do we need to figure out how to
171:53 - actually use the slug in this template
171:56 - to fetch the data the title the date and
171:59 - the post body because all of that needs
172:02 - to get rendered to the screen
172:04 - that's what we're going to do in the
172:05 - next video so let's jump right into that
172:13 - in this video we're finally going to
172:15 - render the post content on the post page
172:18 - replacing our little placeholder text
172:20 - with actual data about the post like the
172:23 - title the date and the post content now
172:27 - to get this done what we need to figure
172:29 - out how to do is how we can set up a
172:31 - dynamic graphql query this query needs
172:35 - to accept the slug and it needs to give
172:38 - us back the data for the associated blog
172:42 - post so over here in our template file
172:45 - what we have access to is the slug and
172:48 - we can't just have a static query we
172:50 - need a dynamic query that actually takes
172:53 - that slug value into account so to get
172:56 - this done let's start in graphql
172:58 - playground i'm going to crack open a new
173:01 - tab we'll figure out how to use graphql
173:04 - variables and arguments and once we know
173:07 - how to use them we'll actually integrate
173:09 - that into the blog post page template
173:13 - you can view the docs to see exactly
173:15 - which query we're going to use down
173:17 - below we've already used all markdown
173:20 - remark to get a list of posts here we're
173:23 - going to use markdown remark to get a
173:25 - single post now up above we have the
173:28 - call signature we have the query name
173:31 - followed by the list of arguments
173:33 - followed by what we get back which is
173:35 - markdown remark and here we can see the
173:38 - type details of that and we've already
173:41 - used this sort of stuff fetching things
173:43 - like the front matter the html or the
173:45 - fields and that's stuff we're going to
173:47 - end up grabbing
173:49 - if we keep scrolling down though to the
173:50 - arguments list
173:52 - this contains all of the different ways
173:54 - we can target the post we're trying to
173:56 - fetch and in our case we're going to
173:59 - target it by its fields so i'll be using
174:02 - the fields argument and in there the
174:05 - only field we actually have is a slug
174:07 - and there are a few different ways we
174:09 - can target it we're going to use eq
174:12 - which is short for equality that will
174:14 - allow us to target a post by its slug
174:18 - value let's actually get that done i'm
174:21 - going to collapse the documentation and
174:23 - we'll set up a sample query right here
174:26 - let's get started with the query in this
174:28 - case that is mark down remark
174:31 - from there we're going to provide our
174:33 - selection set what exactly do we want to
174:36 - grab
174:37 - in this case let's just grab the title
174:39 - so that's front matter accessing the
174:41 - title when we actually wire this up in
174:44 - the component we'll grab more data so we
174:46 - can render it for now though we actually
174:48 - have enough in place to run this if i
174:50 - run it what do we see we see we're
174:52 - getting back an individual post the
174:54 - great gatsby boot camp being the title
174:58 - so by default if we don't provide any
175:00 - search criteria it's just going to
175:02 - return the first post it finds now
175:06 - that's not particularly useful for us we
175:08 - want to target it by the slug value and
175:11 - to do that we have to set up arguments
175:13 - for our query
175:15 - the arguments come right after the query
175:18 - name and you could list them out right
175:20 - here on the same line but it's common to
175:22 - break those out into separate lines like
175:25 - so
175:26 - and inside of parentheses we can specify
175:29 - the arguments we want to provide in this
175:31 - case the only one we want to provide is
175:34 - fields so that's fields colon space
175:37 - followed by the value
175:39 - now in this case the value is an object
175:42 - because we want to target by slug that's
175:44 - also an object and in there we want to
175:47 - target by equality
175:50 - now this is just a string right here we
175:53 - can target by any of our slugs for
175:55 - example react
175:57 - so now we're fetching data about an
175:59 - individual post but it's targeting a
176:01 - specific one and if i run the operation
176:04 - i can see i'm getting the data for that
176:06 - post back which is great
176:09 - now i could change this over to gatsby
176:12 - and i could run that and we get that
176:14 - data and i could change it to gatsby
176:16 - with two y's which does not exist and in
176:19 - that case we get null as there is no
176:22 - post with that slug
176:24 - so this is the basic idea of what we're
176:26 - trying to accomplish
176:28 - now that we know about arguments for our
176:30 - queries the one other thing we need to
176:32 - talk about is query variables
176:35 - query variables is nothing more than a
176:38 - set of data passed into your query your
176:40 - query can then use that to populate
176:42 - things like argument values
176:44 - so when we type out our operation in the
176:47 - component we don't want this data in
176:49 - line this is static we want it to be
176:51 - dynamic so down below when we're using
176:54 - graphql playground we can provide query
176:57 - variables by just clicking that item at
176:59 - the bottom and setting up some json so
177:02 - right here i'm going to set up one key
177:04 - value pair
177:06 - i'll have the key be slug and the value
177:09 - will be the slug value like react this
177:12 - is exactly what gatsby is going to do so
177:14 - it's important to understand how these
177:17 - work
177:18 - now what we need to do is set up our
177:20 - query to actually accept that variable
177:23 - slug and we define that right here after
177:26 - the query keyword inside of parentheses
177:30 - in this case like we did down below we
177:33 - start with the variable name prefixed by
177:36 - a dollar sign so that would be dollar
177:38 - slug to match up with what we have down
177:40 - below
177:42 - then we define the type for slug so we
177:45 - have to be explicit about that and in
177:48 - our case that would be string that's
177:50 - capital s string dollar sign
177:53 - now i'm not going to dive into the
177:55 - details about all of the other types
177:57 - that graphql supports there's a lot of
177:59 - great content out there on graphql and i
178:02 - also have a udemy graphql course if
178:05 - you're interested but with this in place
178:07 - we now have enough to actually use this
178:10 - variable down below as the argument
178:13 - value so right here instead of a static
178:16 - string it is dollar sign slug we run it
178:19 - and we get our react data
178:22 - so this is exactly what we need to do
178:25 - from our component file we can get
178:27 - started by grabbing this entire query
178:30 - and copying it to the clipboard then
178:32 - over in visual studio code we can focus
178:34 - on getting this set up the first thing
178:37 - we need to do is import something from
178:39 - gatsby right here i'm going to import
178:43 - graphql from gatsby now in the past we
178:46 - would have also imported use static
178:49 - query but our template files work a bit
178:52 - differently
178:53 - instead of calling use static query we
178:56 - will instead define our query separately
178:58 - and export it and the reason for this is
179:01 - that currently there's no way to access
179:04 - the context which contains our slug if
179:07 - we were to work with use static query so
179:10 - this alternative approach is going to
179:12 - work really well just for our template
179:15 - files and this is the only one
179:18 - so right here we're going to create a
179:20 - new constant called query
179:23 - and we're going to set this equal to
179:26 - right here we'll use graphql along with
179:28 - a new template string like we've done
179:31 - before
179:32 - and then we're just going to paste the
179:34 - entire query in
179:36 - now by default it's getting reformatted
179:38 - and that's okay it just put all of our
179:40 - arguments and variable definitions on a
179:43 - single line
179:44 - down below we're still grabbing the
179:46 - title
179:47 - in addition i'm going to grab the date
179:49 - from front matter and just outside of
179:52 - front matter i want to grab the html for
179:54 - the post as well now to ensure that
179:57 - gatsby can actually access this query
180:00 - and run it we need to export query as a
180:03 - named export by just tossing export
180:06 - right up front
180:07 - so gatsby's going to grab this graphql
180:10 - query it's going to run it now the
180:12 - variable slug is going to come from the
180:14 - context we set up when we created the
180:16 - page
180:17 - then it's going to take the response all
180:20 - of the post data and it's going to
180:22 - provide that as a prop to our component
180:24 - down below
180:26 - so we're actually all done up above and
180:28 - down here we can set up our props and
180:30 - start to use them the first thing i'm
180:33 - going to put inside of layout is an h1
180:36 - we are going to render the title right
180:38 - inside of there
180:40 - now here's the structure for that
180:43 - right here it's props dot data this
180:45 - contains the response so that means on
180:48 - there we have a markdown remark property
180:51 - let's grab that
180:55 - and once we have that we can grab front
180:57 - matter and title and there we go that's
181:00 - all we need to get our header rendered
181:03 - to the screen
181:04 - now let's actually test things out by
181:06 - heading over to the browser and right
181:08 - here i see the great gatsby bootcamp
181:10 - which is excellent
181:12 - so next up we have our paragraph i'm
181:15 - going to use the paragraph to render the
181:17 - date that's props dot data dot markdown
181:21 - remark dot front matter dot date
181:25 - i'm going to render that to the screen
181:27 - and make sure it shows up right here we
181:30 - have it which is great
181:31 - and then from there we'll continue on
181:34 - with the last thing which is going to be
181:36 - a container a div
181:38 - now we already have access to the html
181:41 - and to render an html string inside of a
181:44 - component we set up a div and we use the
181:47 - following prop it's called dangerously
181:50 - set inner html i type da and i see it
181:54 - showing up in the auto completion
181:56 - options
181:57 - this is the one we need to use in order
182:00 - to set our markup from an html string
182:03 - now right here we provide as that prop
182:06 - value and object so inside of curly
182:08 - braces i set up a another set of curly
182:11 - braces for the object itself
182:14 - and the property is underscore
182:15 - underscore html we set this equal to the
182:20 - html string we want to render in our
182:22 - case that's props.data
182:26 - dot markdown remark dot
182:28 - html and we're done
182:31 - now if we actually save things we can
182:33 - check it out over in the browser and
182:35 - what do we get we get our post we have a
182:38 - paragraph for our text we have a header
182:40 - for the header we created in markdown
182:43 - and we have a nice list down below for
182:46 - the list we set up
182:47 - so there we go we have our complete blog
182:50 - structure i have the blog page with the
182:53 - list of all of our posts i can click one
182:55 - to go over to that post i could then go
182:58 - back to the blog and click on another
183:00 - one
183:01 - now that we have the basics of a gatsby
183:04 - markdown blog in place there's just one
183:06 - other feature i want to add to our
183:08 - markdown blog which is the ability to
183:11 - set up images in our posts once we're
183:14 - done with that which is the topic of the
183:16 - next video we'll start to focus on
183:18 - sourcing our content from a cms i'm
183:22 - excited to continue on with the bootcamp
183:24 - so let's explore how we can work with
183:26 - images in our posts
183:33 - now that we have post content rendered
183:35 - on our site what i want to focus on in
183:37 - this video are two final things before
183:40 - we move on to sourcing our content from
183:43 - the contentful cms
183:45 - we're gonna focus on adding support for
183:47 - images in our posts and we're gonna add
183:50 - a few final styles to make the post and
183:54 - the post list look a little nicer than
183:56 - they currently do
183:58 - but to get started what i want to do is
184:00 - figure out how we can add images into
184:02 - our posts and this is really going to
184:05 - require us to just install and configure
184:08 - three new gatsby plugins
184:11 - now before we get to any of that we need
184:13 - an image to actually put in one of our
184:15 - posts you're more than welcome to use
184:17 - any image you already have if you want
184:20 - to use the image i'm going to use
184:22 - you can head over to
184:24 - links.meade.io
184:26 - forward slash grass
184:28 - pick when you visit that url it'll
184:31 - redirect you over to this picture of
184:34 - some grass and we're going to save this
184:36 - image to the project so i'll right click
184:40 - save image as
184:41 - on the desktop i have my gatsby bootcamp
184:44 - folder and there we have the source
184:47 - posts directory and for the moment i'm
184:50 - just going to put this file right
184:52 - alongside of my two markdown files
184:55 - so let's save that file in its place
184:58 - i can close that tab
185:00 - and over in visual studio code we can
185:02 - make sure it's actually showing up
185:04 - inside of posts we have grass.png
185:08 - and right here we have our image
185:10 - now we want to render that image in one
185:12 - of our posts and i'm going to put it in
185:14 - the gatsby bootcamp post i'll put it
185:17 - right here just below that paragraph
185:20 - text and just above the topics covered
185:23 - list
185:24 - now to add a image to markdown we use
185:27 - the following syntax it's an exclamation
185:29 - mark followed by a pair of brackets
185:32 - followed by a pair of parentheses
185:35 - in the parentheses we put the path to
185:37 - the image in this case we're going to
185:39 - have a relative path from this file to
185:42 - the image they're in the same directory
185:45 - so that would be dot forward slash grass
185:48 - dot png
185:50 - then we can set up our alt text for when
185:52 - we're unable to load the image or for
185:55 - when someone's using an accessibility
185:57 - device like a screen reader we can just
185:59 - use grass for that
186:01 - so with this in place we now have the
186:04 - finished markdown post and before we
186:07 - actually install and configure those
186:09 - three plugins i talked about let's just
186:11 - see what we get in the browser right
186:14 - here we get our alt text
186:16 - so by default gatsby doesn't know where
186:19 - you're trying to fetch the image from
186:21 - what we need to do is install and
186:23 - configure those three plugins to set up
186:25 - support for this sort of syntax
186:28 - right inside of our blog posts
186:31 - so to get started in the terminal down
186:33 - below what i'm going to do is shut down
186:36 - the dev server use clear to clear the
186:38 - terminal output
186:40 - and we're going to run npm install now
186:43 - the first plugin we're going to install
186:45 - is gatsby plugin sharp and this plugin
186:48 - allows us to use the sharp library
186:51 - inside of our gatsby site the sharp
186:54 - library provides all sorts of tools for
186:56 - working with and processing images and
186:59 - it's a dependency of the other plugins
187:01 - we're going to use so this needs to get
187:04 - installed at the latest version 2.0.32
187:09 - next up that is gatsby hyphen remark
187:12 - hyphen images and this is what's going
187:15 - to allow us to use images inside of our
187:18 - markdown posts when they're processed
187:20 - with remark
187:21 - right here the version for this one at
187:24 - 3.0.10
187:27 - and the final one we're going to install
187:29 - is gatsby
187:32 - remark
187:34 - relative
187:36 - images
187:37 - this is going to allow us to source
187:40 - images relative to the markdown file so
187:43 - in this case dot forward slash grass dot
187:45 - png is going to correctly render the
187:48 - image right here and the version for
187:51 - this one at 0.2.2
187:54 - now we can go ahead and install all
187:56 - three of those and while that's running
187:58 - in the background we can head over to
188:00 - our gatsby config file as we're going to
188:02 - need to make some pretty big changes to
188:04 - the plugins array
188:06 - now the first plugin we're going to set
188:08 - up is the sharp plugin and that's going
188:11 - to go right here before we transform our
188:13 - markdown files so right here that would
188:17 - be the following gatsby
188:19 - plug-in sharp now no options are
188:22 - required for this which is why i'm
188:23 - providing it as a string as opposed to
188:26 - an object up above
188:28 - now the other two plug-ins we installed
188:31 - are both remark specific we installed
188:34 - gatsby remark images and gatsby remark
188:38 - relative images
188:39 - both of those actually get configured in
188:42 - the options object for this plugin
188:45 - that means we need to remove it from
188:47 - just being a string
188:49 - and switch it over to being an object
188:52 - and resolve resolves that same plug-in
188:54 - value so at this point what have we done
188:57 - we haven't added any new functionality
188:59 - but now we do have a structure where we
189:01 - can set up options since it's an object
189:04 - and not just a string and that's exactly
189:06 - what we're going to do
189:08 - so right here we're setting up an
189:10 - options object and on this options
189:13 - object we're setting up a plugins array
189:16 - so these are plugins specific to the
189:19 - remark transformer and this is all
189:22 - outlined in the docs for those specific
189:25 - plugins so if you're wondering how i
189:27 - knew the documentation can guide you in
189:30 - terms of how to configure things
189:32 - now right here what we need to do is set
189:35 - up both of those plugins like we would
189:37 - do with our main plugins array so the
189:39 - first one is just going to be a string
189:41 - as no options are required that is
189:44 - gatsby
189:45 - remark
189:46 - relative images
189:48 - and the second one that's going to be an
189:50 - object as there are some options we want
189:52 - to provide so right here
189:55 - resolve
189:56 - this is gatsby
189:58 - remark
190:00 - images and we're going to provide an
190:03 - options object just down below
190:05 - now there are only two options i want to
190:07 - provide and the first is max with so
190:11 - let's say i have an image that's 1920 by
190:14 - 1080 a standard hd size the problem is
190:17 - that i use css in my blog making sure
190:20 - that the blog width never gets past 750
190:24 - pixels wide so that image is
190:26 - unnecessarily large for the context in
190:30 - which it's going to be used we can have
190:32 - our gatsby site automatically resize it
190:35 - using sharp and our other plugins by
190:38 - setting max width equal to a value in
190:40 - this case i'll use 750.
190:43 - next up i'm going to customize link
190:46 - images to original this is another
190:49 - option we have available and i'm going
190:51 - to turn this off otherwise when you
190:53 - click an image in the post it brings you
190:55 - over to the actual location of that
190:58 - image and that's not really behavior i
191:00 - ever enjoy when i'm reading a blog so i
191:02 - don't want it for mine
191:04 - and then we are done so we've configured
191:07 - our gatsby site to use sharp and then
191:10 - when we transform our markdown files we
191:13 - have a couple of other plugins that make
191:15 - sure the images get rendered correctly
191:19 - now all we need to do is start up our
191:21 - server once again with npm run develop
191:24 - that's going to start up the dev server
191:27 - it's going to get the image and it's
191:29 - going to make sure it actually gets
191:31 - included in the static site
191:33 - right here let's just refresh things
191:35 - over in the browser
191:39 - and what do we get down below we get the
191:41 - great gatsby boot camp we have our date
191:44 - and then we have the post content the
191:47 - paragraph up above our nice grass image
191:50 - and topics covered down below
191:53 - so now when we have those plugins in
191:55 - place we can add images to any of our
191:58 - posts by simply specifying them like we
192:00 - did here
192:02 - now one thing you can additionally do is
192:04 - organize your posts directory further
192:07 - let's say that grass is specifically for
192:10 - the gatsby post it could get a little
192:12 - confusing if i have dozens of images
192:14 - inside of here
192:16 - one thing i could do is create a folder
192:18 - for each post
192:20 - something like gatsby for the gatsby
192:23 - post then i could move the markdown file
192:26 - and the image right inside of there i
192:28 - could even take this further creating an
192:30 - images directory inside of there if i
192:32 - wanted to but in this case now it's a
192:35 - little more organized i can see the
192:37 - assets for the gatsby post right there
192:39 - and for the react post down below
192:42 - so with this in place our site should be
192:44 - working once again we have the exact
192:46 - same url structure and functionality all
192:49 - we've done is we've organized that posts
192:52 - directory just a little bit more
192:54 - now let's wrap this video up by adding a
192:57 - few styles into the mix one thing i want
192:59 - to do for the post page is add more
193:02 - space between the bottom of the post and
193:04 - the footer down below as the footer kind
193:07 - of looks like it could just be some
193:09 - content for the post
193:10 - so to do this we're going to work with
193:12 - css modules i'm going to start by
193:15 - closing down all open editors
193:18 - and we want to focus on the components
193:20 - directory we have our footer component
193:23 - there is no css module for that so i'll
193:26 - create it a new file in the components
193:29 - directory footer dot module dot scss
193:33 - and from there all we're gonna do is set
193:36 - up a single class selector for footer
193:39 - and i'm going to set margin top equal to
193:42 - 3 rem which is the same spacing i use on
193:46 - the bottom of the header
193:48 - now we can import this and apply it to
193:50 - the footer element right here
193:53 - so
193:53 - i'll import
193:55 - footer styles
193:57 - from
193:58 - dot forward slash footer dot module dot
194:02 - s css
194:03 - then we just set up our class name down
194:06 - below like we did when we originally
194:08 - learned about css modules that is footer
194:12 - styles dot footer and we're done
194:15 - if we save things we should see a little
194:17 - more space between the bottom of the
194:19 - post and the footer that looks a lot
194:21 - nicer now another major problem is on
194:24 - the blog list page itself we want to
194:28 - make sure that this content is clickable
194:30 - but now it looks terrible and we still
194:32 - have the numbers we want to clean this
194:34 - up and we're going to do that by adding
194:36 - a few more styles into the mix
194:39 - now this content comes from the pages
194:42 - directory
194:43 - in there we have
194:45 - blog.js
194:46 - so i'll close the components folder and
194:48 - the two files we were just working with
194:51 - we're gonna open up blog.js and we're
194:54 - going to create styles specifically for
194:56 - it
194:57 - right here
194:58 - i'll create a new file
195:00 - blog.module.scss
195:04 - and now we can actually set up some
195:06 - styles for it we're going to style the
195:08 - entire list itself and the individual
195:11 - list items let's start by styling the
195:14 - list itself i'll set up a class selector
195:17 - for something like posts
195:19 - then we'll set up a few styles i'll
195:21 - start with list style type setting that
195:24 - equal to none we don't actually want to
195:26 - show those numbers next to each post and
195:29 - i'm also going to set margin equal to
195:31 - zero to remove the default margin that
195:34 - those lists usually have let's start
195:37 - there in the blog component we have to
195:40 - import those styles so i'll import
195:43 - blog styles from dot forward slash blog
195:47 - dot module dot s css
195:50 - and once the import statement is in
195:52 - place down below will use it now i
195:55 - designed that for our ordered list right
195:57 - here
195:58 - so class name
196:00 - setting that equal to
196:01 - here it is blog styles dot posts
196:05 - now with this in place we should be
196:07 - headed in the right direction over here
196:09 - at least we no longer have the numbers
196:12 - and everything is nice and aligned
196:14 - now we want to target the individual
196:16 - items when it comes to the dom structure
196:19 - it's pretty complex well it's not pretty
196:22 - complex but it could be we have the list
196:24 - item we have our link which just gets
196:26 - converted to an anchor element and in
196:29 - there we have h2 and p
196:31 - now in the end of the day i actually
196:34 - want to apply styles to all four of
196:36 - these things and there are two
196:37 - approaches to that
196:38 - i could set up four new class selectors
196:41 - over here and i could load for in and
196:44 - set up four instances of class name or i
196:47 - could just use one so let's explore how
196:50 - we might get that done
196:52 - right here
196:53 - that is dot post
196:55 - and this is going to apply some general
196:58 - styles and all we're going to do here is
197:01 - put some spacing between our posts above
197:04 - and below them so margin
197:07 - 1 rem on the top and the bottom and then
197:11 - zero on the left and the right
197:14 - now this particular class is going to
197:16 - get set up on the list item this
197:18 - represents the individual post so right
197:21 - here
197:22 - class name
197:24 - setting that equal to that's going to be
197:26 - blog styles.post
197:28 - now what we're going to do is just use
197:30 - some basic principles from css and scss
197:35 - to style the rest by element name this
197:38 - is perfectly valid and it's a common
197:40 - approach
197:41 - so right here i could say something like
197:43 - let's target our anchor elements inside
197:46 - of posts and apply some styles to those
197:49 - maybe for example i want to set the
197:51 - background equal to a off-white i'll use
197:54 - the hex code f4 f4 f4 for that and i
197:58 - don't want that purple and blue link
198:00 - text so i'll set the color equal to
198:03 - black which is the hex code the number
198:05 - zero six times so if we just set that up
198:09 - we should see those styles actually
198:11 - applied and over here they are so we
198:14 - don't have to just use class selectors
198:17 - in our modules
198:18 - sometimes we want to set up one and just
198:20 - style some stuff inside of it making our
198:23 - lives a lot easier this is also just
198:26 - fine
198:27 - now we're going to add a few more styles
198:29 - inside of here i'll set display equal to
198:32 - block so we can control the spacing
198:35 - i'm also going to set padding equal to 1
198:38 - rem to put some space between the text
198:41 - and the edge of this off-white box
198:44 - and from there i'm going to set text
198:46 - decoration for the link equal to none i
198:50 - don't want to have that underlined link
198:52 - and over here we can see we're now
198:54 - headed in a nice direction
198:57 - now when we're working with css modules
198:59 - and using this approach we're not
199:01 - limited in any way i could still set up
199:04 - something like this i could target
199:06 - anchor elements using the hover sudo
199:08 - class so when you're hovering over the
199:10 - link we could make the background a
199:12 - little darker here i'll set the
199:14 - background equal to
199:16 - that would be a hex code of e4 e4 e4
199:20 - which is just a slightly darker gray
199:23 - this is going to apply exactly like we
199:26 - would expect as we hover over we see it
199:29 - now from here we can continue styling
199:31 - the other elements inside of the post
199:33 - like the h2 and our paragraph so let's
199:36 - add those into the mix as well nothing
199:39 - to stop us from just targeting them by
199:41 - elements right here
199:43 - i'm going to set up margin bottom for
199:45 - the h2 removing that
199:48 - and then i'm going to set up some styles
199:50 - for that paragraph as well and then
199:52 - we'll be done right here just three
199:55 - styles first up is the color i'm going
199:57 - to use the hex code with the number
200:00 - seven six times which is a slightly dark
200:04 - gray not too dark not too light
200:06 - then we're going to set the font size
200:08 - equal to 0.8 rem a little smaller than
200:12 - it currently is currently it's sitting
200:14 - at one rem
200:16 - then we're going to set the font style
200:18 - equal to italic just to differentiate it
200:21 - from the other content in that box and
200:24 - there we go we set up a single class
200:26 - selector in our css module and we
200:29 - targeted the elements inside using
200:32 - element selectors now if we check things
200:34 - out over here what do we get we have our
200:36 - styled blog list i can still access
200:39 - those posts by clicking on them i can
200:42 - view the post content and everything is
200:44 - looking pretty good so now we have a
200:47 - complete site with a markdown blog all
200:49 - powered by gatsby we could take this and
200:52 - we could continue on with it really
200:54 - making it our own for either ourselves
200:57 - or for a company we're working with now
201:00 - this is just the start being able to
201:02 - create a markdown blog is awesome and it
201:04 - works really well for a lot of folks who
201:06 - prefer that but with gatsby we can also
201:09 - source our content from a cms and that
201:12 - is exactly what we're going to cover
201:14 - next i'm excited to get to that so let's
201:17 - jump in to the next
201:22 - lessons in this video we're going to
201:25 - start the process of connecting our
201:27 - gatsby project to a content management
201:29 - system now in this boot camp we'll be
201:32 - working with the contentful cms but the
201:35 - exact same principles would apply if you
201:38 - wanted to use another content management
201:40 - system like wordpress or drupal gatsby
201:44 - has plugins to support all of those cmss
201:47 - and more but once again we're going to
201:50 - end up using contentful it's my personal
201:53 - favorite of those options it's really
201:55 - easy to work with and we can get started
201:58 - for free
201:59 - you can find it over at contentful.com
202:02 - and right here we're just gonna go ahead
202:04 - and create a free account everything
202:07 - we're going to do in this boot camp is
202:09 - completely free and doesn't require a
202:11 - credit card just a free account
202:14 - so let's create that account and once we
202:16 - have it created we'll get some content
202:18 - into the mix right here i'm going to
202:20 - create a new account with you so i see
202:23 - the exact same stuff that you're seeing
202:25 - so let's fill out those basic account
202:28 - details
202:29 - when it comes to choose your development
202:31 - platform we're just going to pick
202:32 - javascript though honestly this choice
202:35 - doesn't matter and down below we'll toss
202:37 - a password into the mix
202:40 - now we can go ahead and actually create
202:42 - the account and when we do it's gonna
202:44 - bring us over to a little welcome screen
202:47 - trying to get us to pick one of the
202:49 - tutorials to work through over here for
202:52 - content creators like a copywriter and
202:54 - over here for developers honestly we're
202:57 - not going to work through either of
202:58 - those as we'll be discussing things
203:01 - together in the video and the quickest
203:03 - way to get what we want is to just click
203:06 - explore content modeling this is going
203:09 - to create an example project for us and
203:12 - that's not a project we're going to work
203:13 - with this comes pre-populated with
203:16 - models and data but what we want to do
203:18 - is figure out how we can set things up
203:21 - from scratch for our needs so once the
203:24 - example project is created we're just
203:26 - going to create a brand new one and
203:29 - start there
203:30 - alright let's explore the example
203:32 - project and we're done exploring it
203:34 - let's create our own
203:36 - from the menu we can click create space
203:38 - a space is like a new project and we're
203:41 - gonna go ahead and use our second free
203:44 - space we get two on a free plan and
203:47 - right here i'll just call this something
203:49 - like the great
203:51 - gatsby boot camp though the name is not
203:54 - important and right here we want to
203:56 - create an empty space that we can
203:58 - populate with our own content in this
204:00 - case the blog content we want to show in
204:03 - our gatsby site so let's actually create
204:07 - this new space right here a confirmation
204:10 - screen
204:11 - and once it's created what we need to do
204:14 - is focus on defining the type of data we
204:17 - want to track so there are two main tabs
204:20 - i want to talk about up here we have
204:22 - content model and we have content
204:25 - content model allows us to define models
204:28 - for the content on our site this could
204:30 - be a model for a blog post where we have
204:32 - a title a published date and a body it
204:35 - could be a model for an author where we
204:37 - have the author's name their twitter
204:39 - profile link and a profile picture so
204:42 - over here we're creating structured data
204:45 - under the content tab we actually create
204:48 - instances of those things so this is
204:51 - where we would define our six blog posts
204:54 - and our two authors and whatever other
204:56 - content we wanted to create
204:58 - so let's see this in action
205:00 - under content model we're going to
205:02 - create our first content model for a
205:05 - blog post so right here we have a
205:08 - required name field i'll just use blog
205:10 - post and down below it's creating an api
205:14 - identifier for us which we'll end up
205:16 - using a bit later there's no need for a
205:18 - description so we'll leave that blank
205:20 - although you could come back and edit it
205:22 - later and now we're just going to create
205:25 - the model
205:26 - now the model by default isn't tracking
205:29 - any data whatsoever it's up to us to
205:31 - configure the fields that make sense for
205:34 - a blog post now we already have some
205:37 - structured data over here in our two
205:40 - markdown posts for both we have the
205:42 - title we also have the date and finally
205:45 - we have the actual post content so those
205:49 - are three distinct fields and we're
205:51 - going to be adding three fields to the
205:54 - blog post content model let's go ahead
205:57 - and add our very first field right here
206:00 - we can see that with contentful we have
206:02 - a lot of field options this could be a
206:04 - text field a complex rich text field
206:08 - with formatting images and more it could
206:11 - be a simple text field it could be a
206:13 - number date and time location media a
206:17 - boolean like a check box and a whole
206:19 - bunch of other options now in our case
206:21 - we just want a simple text field for the
206:24 - title so let's pick that and give it a
206:26 - name right here we type something to
206:29 - show in the contentful forms in this
206:32 - case capital t title and behind the
206:34 - scenes it generates a field id and this
206:37 - is how we'll access our data from the
206:40 - graphql api a bit later down below we
206:43 - have a few options none of which we need
206:45 - so we can create our first field
206:48 - let's go ahead and add our second field
206:50 - and it's actually one i forgot about
206:52 - this is also going to be a text field
206:55 - and the name for this one is going to be
206:57 - slug so there's no longer a file name
207:00 - that we can use to find the slug so
207:03 - we're gonna have the post creator pick a
207:06 - slug for that post
207:08 - next up is the published date right here
207:11 - we'll use their date and time field for
207:14 - this giving in a name like published
207:17 - date
207:18 - we'll create that field and from there
207:21 - there's only one more field we need the
207:23 - field for the post body and that is
207:26 - going to be a rich text field so right
207:29 - here we'll click that option and go
207:31 - ahead and provide a name right here i'll
207:34 - use body for this one
207:36 - now once we create that we've finished
207:39 - off our content model we have modeled a
207:42 - blog post with four pieces of data and
207:44 - as long as those four pieces of data are
207:47 - provided we have enough to actually get
207:49 - something rendered to the screen
207:52 - from here all we need to do is click
207:53 - save to actually save this content model
207:57 - and once it's saved we can start to
207:59 - create blog posts based off of the model
208:03 - over here for this we go over to the
208:05 - content tab
208:07 - and we're going to click add blog post
208:10 - that option is also available up above
208:13 - whoops it's not available yet not until
208:15 - we have our first post in place
208:18 - so let's get our first post in place
208:20 - right here add blog post and were
208:23 - brought to our blog post editor page it
208:26 - has all of the fields we specified title
208:29 - slug published date and body and now we
208:32 - can create our very first post
208:35 - for the title i'll use a contentful blog
208:38 - post
208:39 - for the slug i'll just use something
208:41 - like contentful i can pick whatever
208:44 - makes sense for me
208:46 - then down below i'll say this one was
208:48 - published today and we can set up our
208:50 - post body as well
208:52 - my post is here dot dot dot
208:56 - now currently this post is not published
208:58 - which means that even if we did have
209:00 - things wired up with our gatsby site
209:03 - this data would not be accessible to the
209:06 - outside world we can fix that by
209:08 - changing the status from draft to
209:11 - published by clicking our publish button
209:14 - now we have our first published post and
209:17 - if we head back over to the content page
209:20 - we can see it showing up right here
209:23 - from here we can add a second post into
209:26 - the mix then we'll figure out how to
209:28 - actually pull this data into our site
209:30 - right here something like debugging
209:33 - nodejs
209:34 - i'll have the slug be debug
209:38 - hyphen node
209:39 - for the published date i'll say this was
209:41 - published a couple of days ago
209:44 - and for the body i will say here's
209:46 - how you can debug your apps dot dot dot
209:51 - and we'll go ahead and publish this one
209:53 - as well
209:54 - so now we have our very first content
209:57 - model blog post and we've created two
210:00 - instances of it a contentful blog post
210:03 - and debugging nodejs
210:06 - from here what we want to do is figure
210:08 - out how we can access this data via our
210:11 - gatsby graphql api once we have that in
210:14 - place we'll be actually able to show
210:16 - this content on the site
210:19 - getting that done requires us to set up
210:21 - a gatsby plugin so let's head over to
210:24 - the gatsby site go to the plugins page
210:27 - and we'll be searching for contentful
210:30 - now right here the first result that's
210:32 - the one we're looking for gatsby source
210:34 - contentful that's going to allow us to
210:37 - source our graphql content directly from
210:40 - the contentful cms
210:42 - now actually setting this up is really
210:44 - easy down below all we need to do is
210:47 - provide our space id which is the id for
210:50 - our project and our private access token
210:54 - and we'll look at where that lives in
210:56 - just a moment now before we actually set
210:59 - this up i did want to mention there are
211:01 - source plugins for other cms's as well
211:04 - for example if i search wordpress we can
211:07 - find one for that gatsby source
211:09 - wordpress and if i search for something
211:12 - else like drupal there are plugins for
211:14 - that as well so when it comes to your
211:16 - gatsby site you can source that content
211:19 - from a lot of different places you could
211:21 - even use multiple if that made sense for
211:24 - your particular situation
211:26 - in this case though we are going to set
211:28 - up that contentful source plugin so
211:30 - let's head over to visual studio code
211:33 - shut down things in the terminal and
211:35 - we're going to run npm install to get
211:38 - that installed that is gatsby
211:41 - source contentful
211:43 - and we're going to go ahead and install
211:45 - that and we can go through the process
211:48 - of setting it up in the meantime so to
211:50 - get this set up what we need to do is
211:52 - head over to that gatsby node file
211:55 - excuse me the gatsby config file where
211:58 - we have our long list of plugins and
212:01 - we're going to add a new one into the
212:02 - mix now we could put this wherever we'd
212:05 - like i'm just going to toss it right up
212:07 - top as the first item in the plugins
212:09 - array
212:10 - right here this is something we'll be
212:12 - setting up options for so this one needs
212:14 - to be an object in there setting up the
212:18 - resolve property with the plugin name
212:20 - right here that's gatsby
212:23 - source contentful and i can see down
212:25 - below that it did indeed install
212:27 - correctly which is a great first step
212:30 - next up we provide our options object
212:34 - and on the options object we have to
212:36 - specify two things our space id
212:40 - that's a string and we also need to
212:42 - specify our access token that is also a
212:46 - string this is what's going to allow us
212:48 - to actually fetch that content now both
212:51 - of these we can find over in the
212:53 - contentful web app so let's head over
212:55 - there
212:57 - from here we can go to settings
213:00 - and down to api keys now your spaces by
213:04 - default have an example key pair set up
213:07 - for you so if we click on that we can
213:09 - view all of those details down below
213:12 - down here we have our space id and we
213:15 - also have our content delivery api
213:18 - access token that is what we need
213:21 - so to set this up we're going to use
213:23 - environment variables to prevent the
213:25 - sensitive data from sneaking into our
213:27 - source code we already have an
213:29 - environment variable file for that so
213:32 - we'll just make some more changes to the
213:34 - dev env file right here we have our one
213:37 - environment variable let's add two more
213:40 - first up will be contentful underscore
213:44 - space underscore id
213:46 - then after that we'll have contentful
213:49 - access
213:51 - token and all we need to do is populate
213:54 - those two with the correct values i'll
213:56 - grab the space id
213:58 - i'll bring that right here
214:00 - then i'll grab that content delivery
214:02 - access token and i'll bring that over to
214:06 - the env file as well
214:08 - now with this in place we can access
214:09 - those two things in our config file and
214:12 - then we'll be all done we'll have access
214:14 - to all of that contentful data let's go
214:17 - ahead and use those variables so over
214:19 - here for space id that is process dot
214:22 - env dot contentful
214:25 - space
214:26 - id
214:27 - and down below for access token that is
214:30 - process dot env dot contentful
214:33 - access
214:34 - token and we're all done everything is
214:37 - configured so with this what seven lines
214:40 - of configuration code we're able to set
214:42 - up everything we need to source content
214:45 - from contentful now what we're going to
214:48 - do is start up our app in development
214:50 - mode using npm run develop and once
214:54 - that's up and running we're gonna head
214:55 - over to graphql playground and take a
214:58 - look at the new queries we have access
215:01 - to
215:01 - because those queries are going to allow
215:04 - us to access the data we just created so
215:08 - right here these sites starting up i'm
215:10 - gonna head over to graphql playground
215:12 - and give things a quick refresh and over
215:15 - in the docs we should see those new
215:16 - queries showing up and right here we
215:19 - have six now we have two for working
215:22 - with content types this is not going to
215:25 - allow us to fetch the content itself but
215:28 - it's a way to work with content types
215:30 - not something we need and we also have a
215:32 - couple for working with our rich text
215:35 - node as there's some specifics to that
215:37 - we'll talk about shortly for now what i
215:40 - really want to focus on is contentful
215:42 - blog post and all contentful blog post
215:46 - we can use the first one to fetch data
215:48 - about an individual post and we can use
215:51 - the second one to fetch a list of all
215:54 - posts and that's exactly what we're
215:56 - going to end up doing now if i crack
215:58 - that open we can see a similar structure
216:01 - to what we had with our other queries we
216:03 - have edges we have node and node
216:07 - represents our post we have title slug
216:10 - published date and body
216:13 - so let's actually set up a query to
216:15 - fetch some post data i'm going to crack
216:18 - open a new tab over here we'll set up a
216:21 - brand new query and this query is going
216:24 - to use all
216:26 - contentful blog post to fetch something
216:29 - about every single post we're working
216:31 - with
216:32 - now we want to work with edges
216:35 - and there we have node and all we're
216:38 - going to do is grab the title for each
216:41 - and every post so if i take a quick
216:44 - moment to fire that off what do i get i
216:46 - get debugging node.js
216:48 - and i get a contentful blog post so
216:52 - there we go we've successfully sourced
216:54 - the content from the cms right inside of
216:58 - our gatsby graphql api let's grab a
217:01 - couple of other fields real quick as
217:03 - well we're going to grab the slug for
217:05 - each post and we're also going to grab
217:08 - the published date now i'm intentionally
217:11 - not grabbing the body field because it's
217:15 - not as simple as just getting a body
217:17 - back which is a bunch of html there's a
217:20 - little more to it and don't worry we're
217:22 - going to address that in the next video
217:25 - for now though we can fire off our new
217:27 - query and we get new data i see the
217:29 - correct slug and the published date for
217:31 - both of my posts we're also going to
217:34 - talk about how we can sort our posts
217:36 - from most recently published to oldest
217:40 - and we'll figure out how we can actually
217:42 - format this date to be a little more
217:45 - friendly when it comes to rendering it
217:47 - to the screen i'm excited to continue on
217:50 - with contentful but let's take a quick
217:52 - moment to recap what we did essentially
217:55 - we use contentful as a web app to manage
217:57 - our site content we have our content
217:59 - models and our individual content
218:02 - themselves we were then able to pull all
218:04 - of this into our gatsby graphql api
218:08 - using another one of gatsby's source
218:10 - plugins in this case it was gatsby
218:13 - source contentful now that we have
218:16 - access to it via our api we could use
218:19 - those queries in our react components to
218:22 - get that data rendered to the screen
218:25 - that's the topic of the next lesson so
218:27 - let's jump right in
218:33 - now that you have content in your
218:35 - contentful cms what we're gonna do is
218:38 - figure out how we can get it rendered in
218:40 - the browser we've already seen a sample
218:42 - graphql query that fetches our blog
218:45 - posts from contentful and the goal in
218:48 - this video is to get our post list
218:51 - rendered using contentful posts instead
218:54 - of using the posts we created with
218:56 - markdown files
218:58 - so to kick things off what i want to do
219:00 - is talk about how we can customize the
219:02 - all contentful blog post query we're
219:06 - going to learn how we can sort our posts
219:08 - in a particular order and how we can
219:10 - customize the response of things like
219:13 - published date getting a date that's a
219:16 - little more user friendly as opposed to
219:19 - the current time stamp we're seeing in
219:22 - the response
219:23 - let's get started by figuring out how to
219:25 - sort our data and remember graphql is
219:28 - self-documenting so the docs contain
219:31 - everything we need in order to get this
219:33 - done
219:34 - down below we have all contentful blog
219:36 - posts the query we're using here we have
219:39 - our type details that's the response
219:42 - we're looking for the arguments allowing
219:44 - us to customize the response there are
219:46 - four we have skip and limit which is
219:49 - useful for pagination we have filter
219:52 - which is useful if you're trying to
219:53 - implement something like a search bar
219:56 - and you want to filter to a subset of
219:58 - your posts and we have sort sort allows
220:02 - us to sort our data in an order that
220:04 - makes sense now right here when we use
220:07 - sort we provide two pieces of
220:09 - information we provide the field we want
220:12 - to search by excuse me sort by and we
220:15 - also provide the order either ascending
220:18 - or descending so right here for fields
220:21 - we can see we have a bunch of different
220:23 - fields available now this allows us to
220:26 - sort by various fields that aren't
220:28 - applicable to what we're working with
220:31 - right here we have a lot of different
220:32 - fields because of that special rich text
220:36 - field we set up in our case if we scroll
220:39 - up a little bit the one we're looking
220:41 - for is just sorting by published date
220:44 - and that's exactly what we're going to
220:45 - do so let's take this over to the query
220:49 - right here on the query we are going to
220:51 - set up our arguments
220:53 - i'm going to set up sort
220:55 - and remember we have to provide fields
220:58 - that's plural and the field we're
221:01 - working with here is going to be the
221:03 - following that is published date
221:06 - then next up we have to provide an order
221:09 - and in this case we could sort in
221:11 - ascending with asc or descending with d
221:15 - e s c and this is the order we're going
221:17 - to go with we'll have the most recent
221:20 - posts first and we'll have the oldest
221:22 - ones at the bottom
221:24 - so if i run this we should see the order
221:26 - reversed as this was published on the
221:28 - 8th and this was published on the 10th
221:30 - and right here that's exactly what
221:32 - happens so we have our newer content
221:35 - first using this argument
221:37 - one more thing we can do is customize
221:40 - the published date value
221:42 - so let's check this out if we head over
221:44 - to the docs once again we're going to go
221:47 - all the way to the left and we're going
221:49 - to go to the type details
221:52 - we have edges
221:53 - we have node and here is the node we're
221:55 - currently working with we have title
221:58 - slug and published date and you'll
222:00 - notice that with published date we have
222:02 - a parentheses set right here if we click
222:05 - on that there are actually arguments we
222:08 - can provide for just this one field to
222:10 - customize it i could do something like
222:13 - from now to say this post was published
222:16 - three days ago or 10 seconds ago
222:19 - i could use format string in order to
222:22 - customize exactly how i wanted to format
222:24 - it let's explore both we'll start with
222:26 - from now
222:28 - so right here
222:29 - set up some parentheses
222:31 - from now
222:32 - setting that to true
222:34 - i run it and i can see a day ago and
222:37 - three days ago so maybe that's what we
222:39 - want in which case this would work
222:41 - really well
222:42 - if we wanted to customize it even
222:44 - further what we could do is use the
222:46 - following it is format string
222:49 - now this uses the formatting pattern
222:52 - made popular by the moment js library so
222:55 - here's an example
222:56 - i will use the following pattern it is
222:59 - four m's followed by a space
223:02 - capital d
223:03 - lowercase o
223:05 - comma
223:06 - then
223:07 - y four times that's month day and year
223:11 - and if i run it we can see we get the
223:13 - following setup april 10th 2019 april
223:17 - 8th
223:17 - 2019.
223:19 - now you can provide whatever you'd like
223:21 - in there to really customize it and make
223:23 - it your own if you want to find all of
223:25 - the patterns you can use you can open up
223:27 - a new tab and go to moment js dot com
223:31 - forward slash docs once you're there on
223:34 - the right hand side you want to go to
223:36 - display and down below you can see all
223:39 - of the different tokens you can use in
223:41 - your pattern so there are different ways
223:43 - to represent months the day of the month
223:46 - the day of the week there's all sorts of
223:48 - great patterns here allowing you to
223:50 - generate the specific output you want in
223:54 - our case though we're not going to go
223:55 - any further we're going to leave it like
223:57 - this april 10th 2019 is exactly what i
224:01 - want to show on the screen
224:03 - so now that we have this query in place
224:06 - we're going to take this over to our
224:08 - blog page and we're going to render
224:10 - these posts instead of the markdown
224:13 - posts
224:14 - now getting that done is actually going
224:16 - to be your challenge for the video so
224:18 - let's dive right into that in visual
224:21 - studio code we're going to close all of
224:23 - the open files we have and we're going
224:25 - to focus on just one inside of our pages
224:28 - directory we have blog.js
224:31 - now currently we have a query that
224:33 - fetches the markdown data and renders
224:36 - that down below we need to change both
224:38 - of these things to work with the
224:40 - contentful data so up above i'm going to
224:43 - paste in the challenge comments and
224:45 - they're pretty straightforward the goal
224:47 - is to render the contentful posts in our
224:50 - list
224:51 - so first up you want to swap out the
224:52 - markdown query with the contentful query
224:56 - and if you want to customize it further
224:58 - using other arguments or options you're
225:00 - more than welcome to but in general this
225:02 - query can be used inside of the
225:04 - component
225:06 - next up you have to update the component
225:08 - to render the new data so our data
225:10 - structure is a little bit different even
225:12 - though we still have those same three
225:14 - things we still have the title the date
225:17 - and the slug they're just in a different
225:19 - place on the response
225:22 - and for the moment don't worry that your
225:24 - link is gonna link to a non-existent
225:26 - page we'll address that shortly finally
225:29 - test your work pull up the blog page and
225:32 - make sure you see your two contentful
225:34 - posts showing up as opposed to the two
225:38 - markdown posts
225:39 - all right pause the video knock that out
225:42 - test your work and when you're done come
225:44 - back and click play
225:49 - how'd that go let's get started and the
225:51 - first thing we're going to do is swap
225:53 - out the queries now we have the old
225:56 - query over here so let's go ahead and
225:58 - get rid of that it's no longer all
226:00 - markdown remark we're going to go ahead
226:02 - and work on the new one so that is all
226:06 - contentful blog post
226:08 - from there we're still going to be
226:10 - setting up our arguments now we could do
226:12 - all of that on one line or we could
226:14 - break it out onto multiple if we wanted
226:16 - to do it on one line it would look like
226:18 - this we'll set sort equal to an object
226:21 - on there fields is equal to published
226:24 - date
226:25 - and then we'll go ahead and set order
226:28 - equal to descending perfect
226:31 - next up we have to go ahead and specify
226:33 - what exactly we want back on the
226:35 - response that is edges
226:38 - node and from there we need the title
226:41 - we also need the slug and finally we
226:44 - need our published date and we're going
226:46 - to format that exactly like we did over
226:49 - here using format string
226:51 - so right here that would be format
226:54 - string setting it equal to whatever
226:56 - format string we wanted to use and i'll
226:58 - use the same one from before the full
227:01 - month followed by the day of the month a
227:04 - comma then the full year all right now
227:08 - that we have this in place we are done
227:09 - with step number one and at this point
227:12 - our program would crash if we tried to
227:14 - run things that's because we're trying
227:16 - to access data down below that no longer
227:19 - exists since we've changed the query up
227:22 - above
227:23 - in the browser if i go over to the blog
227:25 - page it is indeed failing as expected
227:28 - so now that we've seen things fail let's
227:31 - actually get things working we can go
227:33 - ahead and move on to step number two
227:36 - where we update the component to render
227:38 - the new data so right down here let's
227:41 - knock that out
227:42 - data dot all markdown remark that no
227:45 - longer exists it is all
227:47 - contentful blog post now we still have
227:51 - edges and we still want to map over that
227:54 - down below here we have our list item
227:57 - what we need to do is customize this
227:59 - starting with the slug it is still edge
228:02 - node but there's no longer fields it's
228:05 - just edge node slug exactly like we're
228:08 - seeing up above edge node slug
228:11 - down below we have the title as well
228:14 - that does not exist on front matter it's
228:16 - right on node and below that we have the
228:18 - old date front matter that no longer
228:21 - exists and it's called something
228:22 - different right here
228:24 - edge.node.publisheddate
228:27 - perfect now with this in place we have
228:30 - the new query and we're rendering that
228:32 - brand new data and hopefully everything
228:34 - works as expected when we actually move
228:36 - on to step number three and test our
228:39 - work so i'll refresh the page over in
228:41 - the site and what do i get i have my two
228:44 - blog posts a contentful blog post and
228:47 - debugging node.js now i can see down
228:50 - below at the bottom left in the little
228:52 - gray bar that it is linking over to the
228:55 - correct pages but if i click those links
228:57 - obviously we don't get the pages content
229:00 - since we haven't wired that part up but
229:03 - the blog list itself is indeed working
229:06 - and that is a great start
229:08 - with this in place we're all done for
229:10 - the moment in the next video we're going
229:12 - to go ahead and actually create those
229:14 - pages dynamically using the contentful
229:18 - content i'm excited to get to that so
229:21 - let's jump right in to the next one
229:28 - now that your list of blog posts is
229:30 - populated from contentful we want to
229:32 - make sure we're generating pages for
229:34 - each of those posts right now if we
229:36 - click on them we get nothing and that's
229:38 - a problem so in this video we're going
229:41 - to accomplish two things first we need
229:44 - to dynamically create new pages for the
229:47 - contentful posts and then two we need to
229:50 - make sure we're actually rendering the
229:53 - post content in the post page template
229:57 - so that template is going to need to
229:59 - change a little bit
230:00 - the entire focus is going to be on
230:03 - gatsby node where we dynamically create
230:05 - our pages and the blog template where we
230:08 - render the content to the screen
230:11 - let's get started with gatsby node now
230:14 - to set things up for markdown it
230:15 - required us to use two of the internal
230:18 - apis on create node and create pages
230:22 - now oncreate node was just used to
230:25 - generate slugs for our posts that's a
230:28 - field we set up in contentful so we
230:30 - actually don't need this anymore we can
230:33 - remove it entirely down below the only
230:36 - one we're going to use is create pages
230:39 - we just need to adjust it instead of
230:42 - fetching the markdown slugs and using
230:44 - those to create pages we want to fetch
230:47 - our contentful slugs and use them
230:50 - so let's get started right here we have
230:53 - all markdown remark i'm going to remove
230:55 - all of that we still have our base query
230:58 - though this time we'll use all
231:01 - contentful blog post like we've used
231:03 - before
231:04 - there are no arguments required as we
231:07 - just need a list of slugs there's no
231:09 - need to order it as that doesn't matter
231:12 - right here
231:13 - edges
231:15 - node
231:16 - and the only thing we're going to grab
231:18 - is the slug as that's the only thing we
231:21 - need
231:22 - now down below when we loop through the
231:24 - data we can use the contentful slug
231:27 - right here
231:29 - dot response.data that still exists no
231:31 - longer do we have all markdown remark we
231:34 - now have all
231:36 - contentful
231:37 - blog post we still have edges and we
231:40 - still want to iterate over that using
231:42 - four each inside we have the create page
231:46 - call
231:46 - the component is still blog template the
231:50 - path is still forward slash blog forward
231:52 - slash the slug but remember the slug no
231:56 - longer lives on fields it is just edge
231:59 - dot node dot slug down below for context
232:03 - we have to make the same adjustment
232:05 - removing fields and one of those extra
232:08 - dots and there we go that is it so when
232:11 - we're working with a cms there's a lot
232:14 - less for us to do behind the scenes to
232:16 - get things to work we removed a lot of
232:19 - code and now we're actually going to
232:21 - have pages for our contentful posts
232:24 - before we worry about restarting the
232:26 - server let's head over to the blog
232:28 - template and pull in the new data so we
232:32 - still want to set up a query though it's
232:33 - going to look a little different than
232:35 - this one so i'm going to comment out
232:37 - this one and we'll build up the new
232:39 - query from scratch
232:41 - down below we also have our blog
232:44 - component everything in here is gonna be
232:46 - similar though different enough where
232:48 - we're just going to start from scratch
232:50 - with this as well
232:52 - so now blog just renders an empty page
232:55 - using the layout component let's make
232:57 - sure that we're at least seeing that
232:59 - page instead of the 404 page so in the
233:02 - terminal down below i'm going to restart
233:04 - things since we have made changes to the
233:07 - gatsby node file and once the server is
233:11 - up and running if i refresh this url i
233:14 - would expect to see something valid as a
233:16 - page should exist with this slug from
233:19 - contentful right here i give things a
233:22 - refresh and this is a great first step
233:24 - we're no longer seeing that 404 page
233:28 - now let's set up our query once again to
233:30 - fetch the contentful data so we can
233:32 - actually render some stuff to the blog
233:35 - page now it's gonna look similar to what
233:37 - we have up above though obviously
233:39 - slightly different we'll start off the
233:42 - same exporting a new constant called
233:44 - query all of which is required in order
233:47 - for the gatsby parser to find your query
233:51 - and run it
233:52 - right here graphql
233:54 - inside of template strings we put our
233:57 - query
233:58 - this query is still going to get access
234:00 - to the slug variable which we need we
234:02 - need to be able to target the individual
234:05 - post
234:06 - and slug is a string just like we had to
234:09 - find up above
234:11 - now inside of here which particular
234:13 - query are we going to use
234:15 - over inside of graphql playground
234:18 - we had worked with all contentful blog
234:21 - posts in the docs there is a way to get
234:24 - a single blog post using contentful blog
234:27 - post
234:28 - so this will allow us to target a
234:30 - specific post
234:32 - and if we scroll down to the arguments
234:34 - we can see there are quite a few
234:36 - different ways we could target a post i
234:38 - could target it by its title the slug
234:40 - the published date the content and
234:43 - others
234:44 - in this case we're going to target it by
234:46 - its slug so we'll be using this slug
234:49 - argument and in there we'll use eq to
234:53 - find the slug using equality
234:56 - all right let's set that up so over here
234:58 - that's going to be contentful blog post
235:02 - setting up the argument we just talked
235:04 - about slug
235:06 - in there eq and the value would be
235:09 - whatever is stored on the slug variable
235:12 - so now we're targeting the correct post
235:15 - and we can fetch some data for the
235:17 - moment we're just going to fetch the
235:19 - title and the published date don't worry
235:22 - we are going to render the body in this
235:24 - video but it requires an extra step so
235:27 - let's get started with the simple stuff
235:30 - right here
235:31 - we'll have the title
235:33 - down below we'll have the published date
235:36 - which i'll also format using format
235:39 - string
235:40 - and i'll provide the same format we had
235:42 - before i'll start off with the month
235:45 - then the day of the month and finally
235:47 - the year
235:48 - with this in place we should have access
235:51 - to that data in our component down below
235:54 - let's get these two pieces of
235:55 - information rendered we had the title
235:58 - nh1 header tag and we had the date
236:01 - inside of a paragraph so right here for
236:04 - us that would be the following it's
236:06 - still props.data exactly like what we
236:09 - had before this time though we have to
236:11 - go into contentful blog post and in
236:15 - there we have the title down below let's
236:18 - do the same thing for the published date
236:21 - that's
236:23 - dot props.data.com
236:24 - blog post dot published date
236:28 - and now if we save things we should see
236:31 - these two pieces of data showing up over
236:34 - in the browser right here i have the
236:36 - title and the correct published date for
236:38 - this post and if i go back to the blog
236:41 - list and select the other one that data
236:44 - shows up as well which is a great step
236:47 - in the right direction
236:49 - now that we have this in place we want
236:51 - to focus on getting the post content
236:53 - itself rendered and as i mentioned it's
236:56 - not as simple as just grabbing a single
236:59 - field and then using that field like we
237:02 - did with the html field that we got with
237:05 - our markdown query from up above
237:08 - so let's explore this and to get started
237:10 - we'll remove that redundant query and
237:13 - what we're going to do is head over to
237:15 - graphql playground real quick and take a
237:18 - look at another property we have access
237:20 - to
237:21 - so all we're going to do is modify this
237:24 - all contentful blog post query we
237:26 - already have in place
237:28 - alongside of title slug and published
237:31 - date we're going to grab body now body
237:34 - itself is not something we can directly
237:37 - grab there are fields inside of it we
237:39 - need to access and in this case when
237:41 - we're working with a rich text field in
237:44 - contentful we want to grab jason this
237:47 - returns a json string which is a
237:50 - representation of the content in that
237:52 - rich text field so if we go ahead and
237:55 - set this up and run our query it's going
237:57 - to work and we're going to see we get a
237:59 - lot more data in the response here for
238:02 - our first post we have body jason and we
238:05 - can see the value is a complex structure
238:09 - we have all sorts of different fields
238:11 - and arrays and objects and somewhere
238:13 - inside of there we can see the data that
238:16 - we actually wrote out my post is here
238:20 - and if we scroll down for the other post
238:22 - we can see that as well
238:24 - now the reason they use this complex
238:26 - structure is to keep track of things
238:28 - like the paragraphs embedded assets like
238:31 - images headers bold text italics and
238:34 - more all of that is mapped out in this
238:36 - object now the good news is that we
238:39 - don't need to manually parse this and
238:41 - figure out how to render things to the
238:43 - screen contentful actually provides an
238:46 - npm library we can install and it's
238:49 - going to take the json and it's going to
238:52 - convert it into a set of react
238:54 - components that we can render anywhere
238:57 - so it's not just specific to javascript
238:59 - the library is actually specific to
239:02 - react which makes it really easy to work
239:04 - with
239:05 - so let's install this library and set it
239:07 - up it'll be as simple as a function call
239:10 - right here we need to shut down the
239:13 - server and i'll clear the output and
239:15 - we're going to install this library
239:18 - that's npmi
239:19 - it is at contentful
239:23 - forward slash rich
239:26 - text
239:27 - react renderer so this is going to allow
239:30 - us to render rich text fields using
239:33 - react it provides a single function
239:36 - we're going to import it and call it and
239:38 - that's going to allow us to get our rich
239:41 - text field shown on the screen let's run
239:44 - the installation and while that's
239:46 - running up above we can focus on our
239:48 - import statement so we're going to grab
239:50 - a single thing from that library it is a
239:53 - function
239:54 - and it's called document
239:56 - to
239:57 - react components
240:00 - now this is going to take in the json
240:03 - that we're grabbing from the api once we
240:06 - set that up over here and it's going to
240:07 - spit out react components that we can
240:09 - render wherever we want to
240:12 - now we're going to grab that from the
240:14 - library we just installed contentful
240:17 - rich text react renderer
240:20 - perfect now that we have this in place
240:23 - let's actually use it and it could not
240:26 - be easier to work with so first up we do
240:29 - have to grab the data so that's body
240:32 - grabbing the json value and we use this
240:35 - down below now what i'm going to do is
240:37 - set up right after the paragraph a set
240:40 - of curly braces so we can set up our
240:42 - function call we're going to call
240:44 - document
240:46 - to react components
240:48 - exactly like we imported up above and
240:51 - all we do is we pass in that document
240:53 - that jason data so for us that is props
240:57 - dot data dot contentful blog post
241:01 - whoops
241:02 - got a little ahead of myself with the
241:04 - keys there
241:05 - and on here we want to access body and
241:08 - we want to access jason with this line
241:11 - in place we now should be able to see
241:13 - our post content on the screen right
241:16 - here let's restart the server with npm
241:19 - run develop we're going to check out
241:21 - that content then we're going to make
241:24 - more complex changes to the content in
241:26 - contentful and check those out as well
241:30 - right here things are starting up so
241:31 - i'll refresh my site and once we get the
241:34 - blog post page we can pick a post and we
241:37 - do see the content in a paragraph which
241:40 - is awesome i have the content for the
241:42 - first post and for the second one
241:46 - now let's head over to contentful and
241:48 - add some more complexity to those posts
241:51 - so we can see what we get down below in
241:53 - the body let's add some more stuff below
241:56 - our text i'll add a header
241:59 - a new section and below that i'll add
242:02 - some more text i love gatsby with
242:06 - contentful
242:08 - and i'll go ahead and make gatsby bold
242:10 - because i can and now we're actually
242:13 - going to add an image into the mix as
242:15 - well
242:16 - so right here we can link an image using
242:18 - this plus button we can link an asset
242:22 - now we haven't added any images to
242:24 - contentful we can do that in two ways
242:26 - one we could go to the media tab and add
242:29 - them there then link them or we could
242:31 - just add it right here when we try to
242:33 - link it so there are no assets we
242:36 - haven't added any from the media tab we
242:38 - could just create one on the fly so i'll
242:41 - click that button
242:42 - and here we just need to pick a title
242:44 - for this one i'll call this grass
242:47 - we have a description and we have the
242:49 - actual file down below in this case for
242:53 - the file what i'm going to do is pick
242:55 - grass from my machine which we
242:57 - downloaded earlier so i have that in my
243:00 - project that is gatsby boot camp
243:03 - source here we have posts
243:06 - gatsby
243:07 - grass.png this is the one we had used in
243:10 - our markdown posts now we're going to
243:12 - use it in our contentful post
243:15 - so once we have things loaded in we can
243:18 - publish this asset
243:20 - once the asset is published we can use
243:22 - the back button to pick it from the list
243:25 - and right here we can see it's already
243:27 - been put inside of our post
243:30 - so i'll remove the extra little space
243:32 - down below and now we have a little more
243:34 - complexity i have some text a header an
243:38 - image and some more text down there
243:41 - let's publish these changes and check
243:43 - things out over in the browser what i'm
243:45 - going to do is shut down the server and
243:48 - start it up once again so it can fetch
243:50 - that new contentful data
243:52 - and then we'll just re-render excuse me
243:54 - refresh the post page to check things
243:57 - out so right over here we want to go to
244:00 - the other post a contentful blog post
244:03 - i'll give things a refresh and what do
244:05 - we get we get some of our new content i
244:09 - have a header which looks styled
244:10 - consistent with the rest of the site and
244:13 - i have my other paragraph with the bold
244:15 - text down below
244:17 - the only thing i'm missing is my image
244:20 - by default your images are not going to
244:22 - show up but the good news is that we can
244:25 - make a small change to how we're calling
244:28 - that document to react components
244:30 - function to actually render those images
244:33 - right in line before we focus on
244:35 - changing the code let's look at the new
244:37 - data for our complex post so right here
244:40 - i'm going to rerun the same query we had
244:42 - before where we grab that json and we
244:45 - can see that it's a lot longer than what
244:47 - we had in the past we have our initial
244:50 - paragraph with the text here
244:53 - then down below we have our heading 2
244:55 - with that text a new section and below
244:58 - that we have a very long and very
245:00 - complex object for the asset the image
245:04 - that we've embedded in that post
245:07 - if we scroll down there's a lot of stuff
245:09 - we just don't care about and are not
245:11 - going to use
245:12 - but we can scan for two things one is
245:15 - the title right here grass we're going
245:18 - to use that as the alt text for the
245:20 - image and then down below that we have
245:23 - the url this is what we're going to use
245:25 - to actually fetch and render that image
245:28 - now this object can be really
245:30 - overwhelming as there's just a whole
245:32 - bunch of stuff we don't need to worry
245:34 - about almost any of it all we're going
245:36 - to do is drill into that object to grab
245:39 - those two values and we're going to
245:41 - generate an image element like we would
245:43 - do in any other situation
245:45 - so let's leave the actual rendered post
245:48 - up in the background and over here we're
245:50 - going to focus on drilling down to that
245:52 - data
245:53 - right here to do that we have to set up
245:56 - an optional options object so a new
245:59 - constant options is going to be an
246:01 - object and we pass that in as the second
246:05 - argument to that function the document
246:07 - to react components function
246:10 - so i'm going to pass that in
246:12 - now what we can do is customize how
246:15 - certain node types are rendered on here
246:18 - we start by setting up the render node
246:20 - property this allows us to override how
246:23 - specific nodes are rendered and we saw
246:26 - various node types in that data for
246:29 - example we saw things like paragraph and
246:31 - heading 2 we set that up as the property
246:34 - saying that's the type we want to
246:36 - customize
246:37 - in our case the type we want to
246:39 - customize has a hyphen in it so i have
246:41 - to wrap that name inside of quotes that
246:44 - is embedded
246:47 - asset
246:49 - block and all we do is provide as the
246:52 - value a function to run we're
246:54 - customizing how the node is rendered we
246:57 - get the node data passed in and we
247:00 - return some jsx in this case all we're
247:03 - going to do is return an image
247:06 - now we want to set up values for the alt
247:09 - text and for source so let's start to
247:12 - get that done right here i'm going to
247:14 - create standalone variables for both of
247:17 - those things so it's a little easier to
247:19 - work with
247:20 - we'll have alt
247:21 - then i'll have url down below and both
247:24 - of these are going to get applied on to
247:26 - the image
247:28 - alt will get its value from the alt
247:30 - variable
247:31 - then when we set up the source for the
247:33 - image the value will come from url
247:37 - now in order to get the correct values
247:39 - we need to drill into the node which is
247:41 - that really big complex object so let's
247:45 - check that out in graphql playground
247:47 - over here we have our complex object
247:50 - there's quite a bit to it we have the
247:52 - data we want and then we have a bunch of
247:54 - other stuff we just don't care about
247:56 - now our node is this object right here
247:59 - it starts with the data property we have
248:02 - data.target
248:04 - now we also have cis which we're going
248:06 - to collapse and when we collapse that
248:08 - we'll see the two fields we're looking
248:10 - for so this object is the node which
248:13 - means we need node data target fields
248:17 - title enus for the alt text
248:20 - and then on fields we need file en us
248:23 - url for the url now it's never fun to
248:27 - drill into a complex object like this
248:30 - but that's just where our data lives and
248:32 - it's going to be necessary just a single
248:35 - time
248:36 - so let's get that done over here we'll
248:38 - start with the alt text that's
248:40 - node.data.target
248:43 - from there it was fields
248:45 - dot title and we're grabbing the title
248:48 - in the locale i have en us if you see a
248:52 - different locale over in graphql
248:54 - playground you want to go ahead and use
248:57 - that and then down below we're going to
248:59 - grab url
249:01 - this is going to be node
249:03 - dot data
249:05 - dot target dot fields here it was file
249:09 - followed by the locale en us
249:13 - followed by url
249:16 - now we should be able to see both of
249:18 - those things showing up in the image
249:21 - element and the end result should be a
249:23 - rendered image in the browser and that
249:25 - is exactly what we're getting right here
249:28 - we have all of our post content showing
249:30 - up including the image and all of this
249:33 - is managed from contentful so when we're
249:36 - working with contentful we can easily
249:38 - manage our content or someone else who
249:41 - owns the site can manage the content
249:43 - using this nice interface and behind the
249:46 - scenes they don't need to worry about
249:48 - changing code or changing markdown files
249:51 - or changing anything else
249:53 - now once again contentful contentful's
249:55 - not for everybody and neither is
249:57 - markdown it's really up to you to pick
250:00 - what makes the most sense for you and
250:02 - run with that alright that's it for this
250:05 - one let's continue on and the boot camp
250:08 - is almost done there are just a couple
250:10 - of things that i didn't get a chance to
250:12 - cover so far that i want to cover in the
250:15 - next lesson or two so let's get started
250:22 - there are just two videos left in this
250:24 - one you're gonna learn how to set up a
250:26 - 404 page and you're also going to learn
250:29 - how to customize the head of your
250:32 - document to set up things like a page
250:34 - title and then in the next lesson the
250:37 - final one we'll take our gatsby site and
250:40 - we'll deploy it live to the web for now
250:43 - though let's get started setting up a
250:44 - 404 page and this process could not be
250:48 - easier in visual studio code i'm going
250:51 - to close all open editors and all we
250:54 - need to do
250:55 - is create a new page in the pages
250:58 - directory and this file should be called
251:01 - 404.js
251:03 - in here we export a react component and
251:07 - that is what renders when someone visits
251:10 - a page that's not found so let's
251:13 - actually get to this
251:15 - right here i'm going to start by
251:17 - importing react since we'll be setting
251:19 - up a react component and down below i'll
251:22 - create it const not found equals i'll
251:26 - use a new functional component returning
251:29 - some jsx
251:31 - and then down below we can export it so
251:34 - export
251:35 - default not found
251:37 - now on the not found page i still want
251:40 - to render the layout so people can use
251:42 - the navigation bar to go over to a page
251:45 - that does exist and i'm also going to
251:48 - link to a different page like the home
251:50 - page in the not found text so right here
251:55 - i'll import link
251:57 - from gatsby
251:59 - and then down below i'll import the
252:01 - layout component that we created from
252:03 - that file that is dot dot forward slash
252:06 - components forward slash layout
252:10 - now we can actually fill out the return
252:12 - value for our functional component and
252:15 - we're going to start by rendering the
252:17 - layout let's set the layout up and
252:20 - inside of there we will render a couple
252:22 - of custom things on the page as well
252:24 - i'll start with a header something like
252:27 - page not found should get the message
252:29 - across
252:30 - then down below i'll set up a paragraph
252:33 - and in there all i'm going to do is use
252:35 - the link component
252:38 - and i'm going to link them over to a
252:39 - page that i know does exist i'll say
252:42 - something like head home
252:44 - and this link will go to
252:46 - forward slash and there we go that's all
252:49 - we need to do to get a 404 page setup
252:52 - with our gatsby projects let's actually
252:55 - test this out
252:56 - so down below i need to start up my
252:58 - server npm run develop and once that's
253:01 - up and running we're going to visit a
253:03 - url that does not exist so right over
253:06 - here i'll go to my site forward slash
253:09 - this
253:10 - is not real and i misspelled it but who
253:13 - cares that's the whole point
253:15 - now when we're running our development
253:17 - server gatsby first brings us to this
253:20 - page which is designed to give us more
253:22 - information as we're creating our site
253:24 - we can see pages that do exist we can
253:27 - see why we're seeing the 404 in the
253:30 - production version of the site though
253:32 - this would never show up now we can view
253:35 - our actual 404 page by clicking preview
253:38 - custom 404 page
253:40 - and when i do that we get what we
253:42 - designed so this is what a regular user
253:45 - would see once we actually get our site
253:47 - up and running in production which once
253:49 - again is the topic of the next lesson so
253:52 - right here they can go to a page that
253:54 - does exist or they can just click that
253:56 - home link to get back to a working page
254:00 - so there we go the 404 is all set up now
254:03 - i want to focus on customizing the head
254:06 - of our document so we can set up things
254:08 - like page titles and to get that done
254:11 - we'll be using the very popular react
254:14 - library called helmet if you're not
254:17 - familiar with it it's pretty much the
254:19 - standard for working with the head of
254:21 - your document from react and there's a
254:24 - gatsby plugin that's going to help us
254:27 - integrate that into our sites let's head
254:29 - over to the plugins page on the gatsby
254:32 - site and search for helmet right here
254:35 - gatsby plug-in react helmet that's the
254:38 - one we're going to end up using now
254:40 - there are actually two libraries we'll
254:42 - install we'll be installing this plug-in
254:45 - and we'll also be installing the react
254:47 - helmet library which is linked to right
254:50 - here we can crack that open in a new tab
254:52 - to check that out as well this is just a
254:55 - standalone react component that we could
254:58 - use outside of a gatsby site it's a
255:01 - really great choice for managing the
255:03 - head of your document and they have a
255:05 - ton of great examples down below as to
255:08 - how you can get all of this done
255:10 - now when it comes to the plugin we're
255:12 - going to install this pulls all of that
255:14 - information in to the static pages for
255:18 - our site so it's definitely going to be
255:20 - an important piece to the puzzle let's
255:22 - take a quick moment to install both of
255:24 - these then we'll actually wire them up
255:27 - in our app
255:28 - so down below we'll shut things down
255:31 - i'll use clear to clear the terminal
255:33 - output npm install first up is gatsby
255:37 - plug-in react helmet
255:39 - at the latest version
255:42 - 3.0.12 and next up is react helmet
255:45 - itself at 5.2.0
255:49 - now we can go ahead and let these
255:50 - install and while they're installing we
255:53 - need to configure this gatsby plugin in
255:55 - our gatsby config file now there's no
255:58 - need to provide any options for this one
256:00 - so it's as simple as listing it out in
256:02 - our plugins array and i'll add it right
256:05 - up top as the first plugin right here
256:08 - gatsby
256:09 - plug-in
256:10 - react helmet and there we go it is
256:13 - configured now what we can do is import
256:17 - the react helmet component and actually
256:20 - use it to set up titles for our pages
256:23 - now there are two ways we could do this
256:25 - we could manually set up this
256:27 - configuration in every single page
256:29 - component as well as our blog template
256:33 - or we could create a component that
256:34 - handles the configuration for us
256:37 - something simple that we can render on
256:39 - all pages meaning that we only have to
256:41 - configure react helmet once and of
256:43 - course that's the approach we're going
256:45 - to take
256:46 - so in the components directory let's
256:48 - create a new file called head.js for the
256:51 - component that's going to manage the
256:53 - head of our document right here we're
256:56 - going to import react
256:59 - from react and we're also going to
257:01 - import something from react helmet right
257:04 - here
257:05 - it is a named export called helmet that
257:08 - is a react component from the library we
257:11 - just installed react helmet and we're
257:14 - done
257:15 - now we can create our component and
257:17 - export it from the file so right here
257:20 - const head equals a functional component
257:23 - where we're going to return some jsx
257:26 - which we'll get to in just a second
257:28 - down below let's export it
257:30 - export
257:32 - default head
257:34 - now when it comes to what this component
257:36 - should render all we're going to do is
257:38 - render helmet itself we're not actually
257:41 - going to add anything else into this
257:43 - component and when helmet gets rendered
257:46 - it doesn't show anything on the screen
257:48 - instead it just manages the head of the
257:50 - document so right here we can configure
257:53 - things like the title using the title
257:56 - prop this is a test
257:59 - so let's leave our component file like
258:01 - this don't worry we will grab a proper
258:04 - title from the site metadata a little
258:06 - bit later for now though let's just get
258:08 - this title showing up to do this once
258:11 - again this component needs to be loaded
258:14 - in and used in every single one of our
258:16 - pages including our page templates let's
258:20 - get started with the most obvious one
258:22 - the home page then we'll move on to the
258:25 - other pages we have so right here we
258:27 - have to import head
258:29 - import
258:30 - head
258:31 - from dot dot forward slash components
258:34 - forward slash head and then we render it
258:37 - and we're just going to do that as the
258:39 - first thing in the layout and remember
258:41 - it's not going to show anything there
258:43 - this is just going to allow us to manage
258:45 - the document head so right here i'll
258:48 - render our component we can then go
258:50 - ahead and save things and start up the
258:52 - development server once again so i'll
258:54 - use clear followed by npm run develop
258:58 - and once it's up and running we'll visit
259:00 - the home page and hopefully we see our
259:02 - custom title showing up
259:05 - over here we have the home page i'll
259:07 - just give things a quick refresh let's
259:09 - try one more time
259:11 - there we go the server is finally up and
259:13 - in a second we should see our page we
259:16 - have the page and we have our title this
259:19 - is a test is showing up
259:21 - now when it comes to customizing that
259:24 - fob icon all you need to do for that is
259:27 - swap out the file in the static
259:29 - directory down below fob icon dot ico
259:34 - so let's continue on with this
259:35 - particular example and what i want to do
259:38 - is focus on actually pulling in useful
259:40 - information
259:41 - the first thing we're going to do is
259:43 - we're going to pull in the site metadata
259:46 - title this is something we're going to
259:48 - show as part of the title for every
259:51 - single page it's not the only thing
259:53 - we're going to show but it's part of
259:55 - what we're going to show so right here
259:57 - for a site like gatsby i can see that if
259:59 - i hover over this title for a second
260:01 - it's going to show me the full thing we
260:03 - start off with something specific to
260:05 - that page gatsby plugin react helmet
260:09 - followed by a vertical line followed by
260:11 - the site name gatsby js that's similar
260:14 - to the approach we're going to take here
260:16 - so each page will have something
260:18 - specific to render up there but then
260:20 - we'll also have something generic like
260:22 - the site title
260:23 - to get that done let's first pull in the
260:25 - site title so right here we're going to
260:28 - use use static query
260:30 - i'll import
260:32 - use
260:32 - static query and i'll import graphql
260:37 - from gatsby
260:39 - then down below we can actually grab
260:41 - that information so const data equals
260:44 - we're going to call use static query
260:46 - using the graphql template tag with our
260:49 - string and right here we're going to
260:52 - perform one of the first queries we ever
260:54 - set up query
260:56 - site
260:57 - site meta data in there grabbing the
261:00 - title so now the title is something we
261:03 - can actually use down below let's go
261:05 - ahead and set that up so instead of the
261:08 - static title
261:10 - we're going to set up a dynamic one
261:12 - we have that data at data
261:15 - dot site
261:16 - dot site metadata dot title we can save
261:20 - things and hopefully we now see that
261:23 - showing up on the home page right over
261:25 - here i have full stack boot camp so this
261:28 - is a great start the next thing we want
261:31 - to be able to do is pass in the part
261:33 - that's specific to this page which is
261:35 - going to come first to get that done the
261:38 - actual component is going to get called
261:41 - with a single prop so whenever someone
261:44 - renders ahead they can pass in the title
261:46 - they want to use for that page so here
261:49 - i'm using head on the home page so i
261:51 - could say something like home
261:53 - now i can go ahead and actually access
261:55 - that prop in the component and use that
261:58 - when determining what the title should
262:00 - be so right over here let's get that
262:03 - done we have our props passed in i'm
262:06 - just going to destructure that object to
262:09 - grab the title and now we can use that
262:11 - in helmet down below right here we're
262:14 - going to change the title prop that we
262:16 - pass to helmet we're still going to
262:18 - include this information but we're going
262:20 - to put all of that in a template string
262:23 - so we'll start off by adding in the page
262:26 - title that's the title prop up above
262:29 - then a space the vertical bar and
262:31 - another space followed by the site title
262:35 - right here once again
262:36 - data.site.sitemetadata.title
262:41 - now we're going to see both of those
262:43 - things on the homepage so right over
262:45 - here i have home followed by full stack
262:48 - bootcamp so now we have a little
262:51 - component making it really easy to
262:53 - integrate this into all of our pages
262:55 - instead of needing to write this code in
262:58 - every single page let's go ahead and
263:00 - actually get that done for the four
263:03 - other pages we have in the pages
263:05 - directory and we're also going to do the
263:08 - same thing for the dynamic page template
263:10 - for blog posts so right here what i'm
263:13 - going to do is copy the import statement
263:16 - to grab the head component and we'll
263:18 - continue on
263:19 - in the contact page we'll paste that in
263:22 - we'll set up the head component inside
263:25 - of layout and right here all we're going
263:28 - to do is provide the title for this
263:30 - specific page which will just be contact
263:33 - next up we have the blog page so we want
263:36 - to import head
263:37 - down below we want to use it right here
263:40 - we have layout i'll go ahead and set
263:43 - head up
263:44 - providing the title for this particular
263:46 - page which will just be blog perfect
263:50 - next up we have about where we do the
263:52 - exact same thing
263:54 - import
263:55 - and set it up
263:56 - head
263:57 - title about and we're done and finally
264:01 - the new page we just created our 404
264:04 - page we can also use the head component
264:06 - inside of here
264:08 - i'll import it and down below we'll go
264:10 - ahead and use it setting up the title to
264:13 - something like 404
264:15 - perfect
264:17 - the only other page we need to worry
264:18 - about as mentioned is the template for
264:21 - our blog posts
264:23 - right here what we can actually do is
264:25 - use the blog post title as the page
264:28 - title
264:29 - so i'm going to import head exactly like
264:32 - we did before and down below we're going
264:34 - to set it up so right here in layout
264:37 - we're going to set up head but instead
264:40 - of providing a static string which made
264:42 - sense for our other pages we're going to
264:45 - provide a dynamic value the actual blog
264:48 - post title which is used just down below
264:51 - so that's props dot data dot contentful
264:54 - blog post
264:56 - dot title and we're done
264:59 - now we have this set up everywhere on
265:01 - our site and we can test things out so
265:04 - over here we go to the blog page we have
265:06 - blog on about we have about on contact
265:09 - we have contact and if i actually visit
265:12 - one of my posts i can see that showing
265:15 - up in the title as well
265:17 - now that we have this in place we have a
265:20 - really nice site and it's working really
265:22 - well locally the next and final thing i
265:25 - want to focus on is actually getting
265:27 - this up and running in production so
265:29 - anyone with an internet connection can
265:31 - check out the site you've created that's
265:34 - exactly what we're gonna do next so
265:36 - let's jump right into that
265:42 - we've got a site and now it's time to
265:44 - get it live and that's exactly what
265:46 - we're gonna do in this one now the first
265:48 - thing we need to do is to get everything
265:51 - up on a github repo we're gonna end up
265:54 - using netlify to deploy our static site
265:57 - and netlify can pull the assets right
266:00 - from github so that's a really good
266:02 - solution for us
266:04 - over here in the editor we can close all
266:06 - open editors and we can collapse all
266:08 - expanded directories
266:10 - and the only thing we're going to do
266:12 - before we make a commit is make sure
266:15 - that our environment variable file does
266:18 - not get committed this can contain
266:20 - sensitive information and it's something
266:22 - that we don't want to commit as part of
266:24 - the repo because right here this is not
266:27 - stuff we want to expose to just anybody
266:30 - so to do that what we're going to do is
266:31 - actually rename this file right here
266:35 - we're just going to call it dot env
266:38 - originally i thought i would create
266:40 - multiple environment files but that's
266:42 - not the case we just have this one
266:44 - locally and we can see that by default
266:46 - it's already ignored based off of the
266:49 - get ignore file that comes with gatsby
266:52 - the only other change we need to make
266:54 - since we renamed that file is over here
266:57 - in the develop script right here dot env
267:01 - dot development just becomes dot env
267:05 - now we're ready to commit our changes
267:07 - and push them up to github
267:09 - let's get started by actually creating a
267:11 - github repo for our new project
267:14 - so right here i'll go over to github.com
267:18 - i'm going to create a new repository
267:23 - and we're going to set this up i'll call
267:25 - it gatsby bootcamp and i'll leave this
267:28 - one as private
267:30 - down below we can create it without
267:32 - customizing any of the other settings
267:34 - and once we have it created we're going
267:37 - to take our existing repository and
267:40 - pushed that up from the command line
267:43 - so let's take this first command which
267:45 - adds the correct remote and we'll head
267:47 - over to the terminal
267:49 - now by default all of your gatsby
267:51 - projects already have a git repository
267:54 - created so all we need to do is make
267:56 - sure that our changes and all of our new
267:58 - files actually become part of the
268:00 - repository
268:02 - i will use git status to take a look at
268:04 - the status of the repo right here we can
268:07 - see we have a bunch of untracked files
268:09 - that we're going to want to track and up
268:11 - above we also have some changes to
268:13 - existing ones
268:15 - i'll use git add dot to move all of
268:17 - those to the staging area and then git
268:20 - commit to create a commit right here
268:23 - final
268:24 - gatsby site
268:26 - and now that we have this in place we
268:28 - can push the code up to github
268:31 - i'll start by pasting in that first
268:33 - command which sets up the correct remote
268:36 - then all we have to do is use get push u
268:40 - we're going to push to origin and we're
268:42 - going to push up the master branch
268:45 - and once this command is done we'll be
268:47 - ready to connect our github repo to the
268:50 - netlify hosting service to host our
268:53 - gatsby site
268:55 - all right i'm seeing everything right
268:57 - here so let's pull up a new tab it is
268:59 - netlify.com
269:01 - this is a great hosting service for
269:04 - static sites it's an increasingly
269:06 - popular choice when working with gatsby
269:09 - because there is direct integration so
269:11 - it's super easy to manage
269:13 - and once again everything we're doing
269:15 - here is completely free there is no
269:17 - credit card required for any of this
269:20 - let's take a quick moment to create an
269:22 - account and i'll work through this
269:23 - process with you just so we're seeing
269:25 - the exact same stuff
269:29 - i'm going to sign up for a new account
269:32 - now once we sign up we do have to
269:34 - confirm our email before we can deploy
269:36 - our site so i'm going to take a quick
269:38 - moment to pull that up off screen then
269:41 - we'll continue on with the setup
269:44 - all right when i click that verification
269:47 - link this is exactly where i was brought
269:49 - there's a little quick start guide with
269:51 - some information about how we can get
269:53 - started we're going to go ahead and
269:55 - close that down and work through this
269:57 - process together what we want is right
269:59 - here new site from get and we're going
270:02 - to connect with our github account now
270:04 - this is going to require us to give
270:06 - netlify permissions to read some of our
270:09 - data and right here we can see we have
270:11 - the option to pick select repositories
270:14 - or all of our repositories we could go
270:17 - ahead and just pick one so i could crack
270:19 - that open and i could find the new one i
270:21 - created gatsby bootcamp giving it
270:24 - limited access to just that and down
270:27 - below we can see we have access to all
270:29 - of the repository features and we're
270:31 - going to install that as part of our
270:34 - github account now once that is
270:36 - installed we'll actually be able to
270:38 - select our repository from a list and
270:41 - once we have that it's going to set up
270:43 - the build options down below we have the
270:46 - owner that is me this is the name
270:48 - automatically generated for me
270:50 - we have the branch to deploy i'm just
270:53 - going to deploy master the only branch
270:55 - we have
270:56 - and down below we have other things like
270:58 - the build command and this is correct we
271:01 - want to leave this and this in place the
271:04 - public directory is where the static
271:07 - site is going to live when the gatsby
271:09 - build command is executed now we also
271:12 - want to go to show advanced right here
271:15 - we can set up environment variables for
271:17 - our environment and we do need to do
271:19 - that we have those environment variables
271:22 - locally and those are the only things
271:24 - getting our site working right here we
271:27 - don't have to worry about setting up
271:28 - graphql playground as the graphql api is
271:32 - not even available in production but we
271:35 - do want to set up the space id so let's
271:38 - start with that i'll grab the variable
271:40 - name
271:41 - and i'm also going to grab the value
271:44 - pasting both in
271:46 - we're going to add the other variable as
271:48 - well for the access token i'll set up
271:51 - the name
271:53 - then i'll go ahead and grab the value
271:55 - making sure not to grab the equals sign
271:58 - and now we're actually ready so it's
272:01 - going to grab the code it's going to run
272:04 - the build command and serve up that
272:06 - public directory and it's going to make
272:08 - sure it can actually get our contentful
272:10 - assets since we have these values
272:12 - defined
272:14 - from here all we need to do is click
272:16 - deploy site this is going to work
272:18 - through the deployment process and
272:21 - especially for the first time this can
272:23 - take a little longer it can take upwards
272:25 - of maybe 60 seconds to get everything up
272:28 - and running so what i'm going to do is
272:30 - just cut the video to win the deployment
272:34 - is complete
272:35 - the deployment is now finished and we
272:37 - have our url up above let's go ahead and
272:40 - open that up in a brand new tab and what
272:43 - do i see we have our site live on the
272:46 - web right here all of our pages are
272:49 - working and we also have our contentful
272:52 - data i have our first post and our
272:54 - second post
272:56 - now when it comes to deploying a new
272:58 - version of your site you have a few
272:59 - different options so let's go ahead and
273:01 - make some changes and get a new version
273:04 - up we're going to change not just the
273:06 - site code we're also going to change
273:09 - some data in contentful so we can see
273:11 - what that process looks like too and i
273:14 - actually want to start with a change to
273:17 - the contentful data let's go ahead and
273:19 - just alter the title of one of our blog
273:22 - posts right here
273:23 - we have contentful
273:26 - i'm going to go ahead and change a
273:28 - contentful blog post over to something
273:31 - else
273:32 - my new post
273:34 - and i am going to publish those changes
273:37 - now this alone is not enough to have the
273:39 - new content showing up remember this is
273:42 - a static site so when netlify first ran
273:46 - the build command that's when it fetched
273:48 - the data and populated things if i
273:51 - refresh we're never going to see that
273:53 - new content
273:55 - so if i just change the content and i
273:57 - want to show that new content on the
273:59 - site we can indeed get that done right
274:02 - over here what we're going to do is go
274:04 - to the deploys tab for our project and
274:07 - right here we have a few different
274:08 - options what we want to do is trigger a
274:11 - new deploy we're going to clear cache
274:14 - and deploy site so this is going to go
274:17 - through the process of recreating our
274:19 - site once again and here it's just
274:21 - bringing us over to the deploy logs once
274:25 - this is done we'll be able to see our
274:27 - new contentful data and this is actually
274:30 - a nice thing we can make changes to our
274:33 - data and once we're ready we explicitly
274:35 - deploy a new version of our site to view
274:38 - that new data now let's go ahead and go
274:41 - back to the overview page for our site
274:45 - and once that deployment is done
274:47 - actually let's stick on the deploys page
274:49 - we can see it's building down below all
274:51 - we're going to do is refresh the site
274:54 - once again
274:55 - so i'm gonna cut the video to when the
274:57 - new build is done
274:59 - all right right here i can see my new
275:01 - build has been published and if we head
275:04 - over to the site all we need to do is
275:06 - give things a refresh and we see the new
275:09 - data showing up so that's the workflow
275:11 - for changing just the content we update
275:14 - contentful we trigger a new deploy
275:17 - manually and then we see our new changes
275:20 - now let's actually make a change to some
275:22 - code for the site so i'm going to close
275:25 - all open editors and we're just going to
275:27 - change something on the home page so
275:29 - i'll go to source
275:31 - pages index.js
275:34 - right here i'm just going to remove this
275:36 - paragraph where i link over to the
275:38 - contact page as i already have that link
275:41 - in the navigation with that change in
275:44 - place all we need to do is commit our
275:46 - changes and push them up to github so
275:48 - right here git status and we can see the
275:51 - only changed file is the one that we
275:53 - changed
275:54 - then we're gonna run git commit once
275:57 - again
275:58 - providing our commit message
276:00 - clean up home page links
276:03 - once the commit is in place we have to
276:05 - use git push to push our code changes up
276:08 - to github and when this is done we're
276:11 - gonna see that over in netlify a new
276:14 - deploy is triggered so by default it is
276:18 - going to deploy changes from master it's
276:21 - going to generate a new build and it's
276:23 - going to publish it so we'll see that
276:26 - start in just a couple of seconds here
276:29 - there's no need to manually trigger a
276:31 - build when we're making code changes we
276:33 - really only need to manually trigger a
276:36 - build when working with netlify i'll
276:39 - give the page a quick refresh just to
276:41 - see if anything new has been pulled in
276:43 - and here we have it we have a new build
276:45 - in progress so this is starting up and
276:48 - once it's done we should be able to see
276:50 - our changes over on the site so i'm
276:53 - going to take a quick moment to cut the
276:55 - video to when this build is finished
276:58 - all right that deploy has finished and
277:01 - now we should be able to see our changes
277:03 - on the site here i have the home page
277:06 - i'll give things a refresh and my
277:08 - paragraph is gone
277:10 - so that's as easy as it gets working
277:13 - with netlify allows us to deploy our
277:15 - site managing our contentful data and
277:18 - managing changes to our code and now you
277:21 - know how to work with both of those
277:24 - now netlify can do so much more than
277:26 - we're gonna have time to talk about in
277:28 - this video if we go to overview you can
277:31 - easily set up a custom domain and enable
277:34 - https and up above there are a ton of
277:38 - great features for managing your site
277:41 - for now though that's all we need to get
277:43 - gatsby up and running that's where we're
277:45 - gonna stop for this video and that's
277:48 - also where we're gonna stop for the boot
277:50 - camp we've gone through the process of
277:52 - creating customizing and deploying our
277:55 - very first gatsby project we can now
277:58 - continue to work with gatsby and build
278:01 - off of this to create anything we might
278:03 - want to build with react
278:06 - that is it for the great gatsby boot
278:09 - camp if you want to check out other
278:10 - content i've created i have more videos
278:13 - right here on youtube and i also teach
278:16 - premium classes on udemy covering topics
278:19 - like javascript react node gis and
278:23 - graphql i'll include links to all of
278:25 - that and more in the description down
278:28 - below once again i'm andrew meade from
278:31 - mead.io
278:32 - and i hope to see you in another video
278:35 - sometime soon

Cleaned transcript:

welcome to the great gatsby bootcamp where you're gonna learn how to build and launch a gatsby site from scratch if you haven't worked with gatsby before it's a framework based off of react and graphql that makes it really easy to create both websites and web applications i've been working with gatsby a lot lately using it for both my static sites and my dynamic web apps and i'm excited to bring you this class as it's a tool i've grown to love i'm andrew meade from mead dot io let's go ahead and jump right in welcome to the very first lesson for the great gatsby boot camp where we're gonna start using gatsby in this video in particular we're gonna focus on three things one we're gonna learn a little bit more about gatsby two we're going to install the gatsby command line interface and 3 we're going to use that command line interface to create and run our very first gatsby project by the end we'll have our first gatsby site up and running and that's what we're gonna build off of and customize throughout the rest of the boot camp let's get started with gatsby by pulling up its website we can find that over at gatsby js.org and i want to spend just a couple of minutes here exploring the tool in a little more detail as mentioned in the welcome video gatsby is a static site generator based on react graphql and nodejs now gatsby can do so much more than you can typically do with a static site generator and you actually won't see that term anywhere on the gatsby homepage so instead let's think of gatsby as a react framework for building complex websites and web applications so with gatsby you're not just limited to static sites you can also build complex web apps with data storage authentication and more so if i'm trying to build a personal website to make myself look good to potential employers i could use gatsby to get that done if i want to start a freelance web development business building websites for restaurants i could use gatsby for that too and if i wanted to launch the next startup and i needed to create my web app i could use gatsby to build that web app out now gatsby has gotten so popular because it's really fast and super easy to work with gatsby has so many core features baked right in so you can get started with a new project in a matter of minutes without needing to install or customize any build tools gatsby comes with everything you need to get started right away and the good news is that you can further customize your gatsby projects using one of the many plugins that it supports these plugins allow you to add all sorts of new features to your site both big and small and don't worry we'll be diving deep into plugins and how to use them a little later in the bootcamp now let's say i'm creating a personal website using gatsby i want to have a small portfolio of my projects and i also want to maintain a blog making myself look good to potential employers now for me i want to write those posts in markdown i like having my content directly inside of the project itself so what i want to do is write markdown posts then i want gatsby to convert those over to individual html pages for my site in that case there is a gatsby plugin that can help us get that done so all we need to do is write the markdown posts in new markdown files and gatsby handles the heavy lifting of converting those over to html pages using a unified template so everything looks consistent in your site now let's go back to that other example of someone who's starting a freelance business targeting restaurants in that case the restaurant owners want to customize things they want a blog where they can talk about new specials and they also want to be able to update their menu on the fly whenever it's convenient for them now in that case markdown is a terrible choice the restaurant owner is likely not technical and does not want to manage content in markdown they would have to learn about markdown and code and get and all sorts of things it's never going to happen that's why content management systems like wordpress got so popular it allowed website owners to easily manage the content displayed on the site without needing to write code the good thing about gatsby is that it can do that same thing there are gatsby plugins allowing your content to come from content management systems like contentful and even wordpress so you can have a website powered by gatsby but still allow the website owner to manage that content using a nice simple admin interface where they're just filling out form fields and clicking save and the new content magically appears i remember when i was running my freelance web development business from about 2011 to about 2015 and everyone you talked to wanted a wordpress site they didn't want a wordpress site because they cared about using php or mysql they wanted a wordpress site because they knew with a wordpress site they could customize the content on their own now everyone can have what they want developers can write their sites in a modern stack using node.js graphql and react and the website owners can still manage their content using whatever cms they're most comfortable with including wordpress in this bootcamp we'll end up covering both of those approaches so we're going to start off creating a simple gatsby site and getting comfortable with the basics then we'll convert that over to a blog powered by markdown files and from there we'll convert it over to a blog powered by a content management system and in this case we'll be using the contentful cms to get that done now let's actually get started with gatsby the only thing you need installed on your machine to use gatsby is nodejs if you don't have node installed you can grab it over at nodejs.org and you don't need a specific version just grab something modern let's say v8 or greater in this case we have v10 and 11 both of those would be perfectly fine and if you have something slightly different on your machine that's going to work fine as well now to actually use gatsby we have to install its command line interface that's going to be used to generate new gatsby projects and it's available as an npm module so what i'm going to do is crack open my terminal and from here we're going to run a single npm command that's npm install followed by the g flag to install the module globally and the module name is gatsby hyphen cli at the latest version 2.4.17 now if we go ahead and run this command it's going to work through the installation process and once this is done all we're going to do is generate a new gatsby project and open it up in visual studio code or whatever text editor you want to use so right here the installation did complete successfully and to generate a new project first we want to figure out where to store the project now if you have a folder on your machine where you like to store your programming projects go ahead and switch to that directory for this bootcamp i'm just going to put the new project right on my desktop so i'll use cd desktop to switch over to the desktop and from here we're going to use the gatsby new command now the new command is going to accept a couple of arguments first up is the project name now this project name is the name of the folder that's going to get created so in this case i'll call it something like gatsby hyphen and the other argument we provide is the url to the starter we want to use now gatsby has a few builtin starters officially released by the gatsby team and there are hundreds of other ones created by thirdparty developers allowing you to build all sorts of interesting sites and applications the goal in this bootcamp is to explore the fundamental gatsby features and if you know those you'll be able to work with and customize any of those other starters out there so for us it's going to be the following url https colon forward slash forward slash github.com forward slash gatsby js forward slash gatsby hyphen starter hyphen hello hyphen world so take a quick moment to run that command and it's going to do two important things one it's going to create that new project folder and pull all of the starter code in two what it's doing right now is installing all of the modules necessary for your project to actually run once this command is done we can crack open the new directory in visual studio code and get started building out our site actually before it's even done we can get that process started so over in visual studio code i'm going to open up that new directory now for me i put it on my desktop and i called it gatsby bootcamp so i'll crack that open and right here you'll notice we do have a set of files and folders showing up and we will explore all of these in detail for now all i want to do is run a single command from the terminal allowing us to start our site up now in the background i can see that the command has finished and we're actually done with the terminal we're not going to use this for anything else in the bootcamp all of the other terminal commands i'll be running i'm going to run from the integrated terminal that visual studio code comes with you can always go up to terminal new terminal to find the keyboard shortcut to open up the terminal in vsc it's definitely a keyboard shortcut i recommend now right here we're gonna run one of the few scripts that gatsby provides if we open up package.json we can see under the scripts property we have six the one that we're going to start with is the develop script which allows us to start up the development server that we can use to run our app locally and build the project out this comes with all sorts of great features like live reload so your changes are reflected in real time now there are a few other commands as well we'll be exploring later in the boot camp but for now let's start with that develop script so from the terminal right here in the gatsby bootcamp project that is npm run develop when we do that it's going to try to start up our gatsby project the default port for that is 8000 and once this command is done we should be able to crack open localhost 8000 and visit our site here it's saying that things have compiled successfully so let's crack the site open in a new browser tab localhost on port 8000 i visit that and what do i get i get a small html page printing hello world to the screen so there we go if you're seeing this that means you have successfully created and ran your very first gatsby project now for the moment it doesn't do anything too interesting so let's go ahead and wrap up by actually customizing what we're seeing on the page to get that done we need to focus on the source directory now we have a lot of other folders and files in the project we'll focus on those later in the boot camp for now the focus is on the source directory and if we open that up we can see there is a single directory inside of there called pages the pages directory is a very important folder in your gatsby project and it's actually the topic of the next lesson so for the moment we're not going to dive too much into the details of what it is or how everything's working if we go inside of that folder though we can see we have a single file index.js this contains the react component that's rendering the home page right here if i open it up we can see it's about as simple as it gets on line 1 we import react on line three we export a functional component where we set up a div with the text of hello world so this is the content we're seeing in the browser if i go ahead and remove that text content i can replace it with something like the name of the bootcamp the great gatsby bootcamp i can save the file and in real time we can see the changes reflected over here thanks to the development server we're running in the background all right that's where we're gonna stop for this one in this first lesson you got gatsby installed and you also created and started up your very first gatsby site in the next lesson the focus is going to be on gatsby pages we'll talk about customizing pages and creating new ones and the focus will be on that pages directory and the files inside i'm really excited to get to that and learn more about why all of this is even working so let's jump right in to the next lesson welcome to the second lesson for the great gatsby bootcamp where you're gonna learn how to work with gatsby pages now in the last lesson we saw that by default we had this source pages directory and in there we had a single file for the single page on our site it was index.js which exported a component that component rendered a little bit of text and that's exactly what we were seeing when we visited our static site over in the browser the great gatsby boot camp showing up in both locations so when it comes to page creation the source pages directory is where gatsby looks when it's figuring out what static pages your site needs so all of the files we put inside of this directory are going to represent the pages for our site such as a home page an about page a blog page and anything else you might need and that'll all depend on the type of site you're building to get started i'd actually like to empty this file completely and build the page up from scratch so right here it's gonna start off the same one thing we'll do in all of our pages is import react that's necessary if we're going to use jsx and react is something we can import as it's already installed as part of our gatsby project from here what we're going to do is create our react component for this page as a standalone variable so const index page you could pick whatever name you like this is just the one i'm choosing and what i'm going to do is set this up as a function this function is our react component and all we need to do from here is return some jsx containing what should get rendered when this component gets rendered right here return in parentheses i'll set up a div and in there i'll add an h1 header element with the text value of hello after that i'll add an h2 and i'll add a little bio about myself something like i'm andrew a full stack developer living in beautiful philadelphia perfect now that i have this in place i can go ahead and make sure that this component gets exported like we were doing before so export default followed by the name index page now there's no need to create the separate variable and then export it but this is definitely the approach i prefer i find it a lot easier to manage my code so with all of this in place we now have a new version of the index page if i save the file i can see that gatsby compiled a new version of the site and right over here we have everything showing up hello i'm andrew a full stack developer living in beautiful philadelphia so this is all it takes to create a page we add a file to the source pages directory that file is a javascript file which exports a react component now if you're not familiar with the basics of javascript or react those aren't topics i dive into in the bootcamp though i do have courses for both of those i have the modern javascript bootcamp which covers everything you would need to know about javascript and i have the complete react web app developer course which dives deep into react and that entire ecosystem if you're interested in either of those i'll include links on the screen and in the description down below so what exactly is happening when gatsby generates our site it starts by looking in that source pages folder to figure out exactly which static pages it should create in this case it sees we only have a single file which means our site is only going to have a single page now the pages you create should indeed be javascript files and those files should export react components gatsby will render that react component to figure out what should get shown on the page that's exactly why we're seeing our two bits of text when we visit the root of our site at localhost 8000. now the name of the files in the source pages directory is also important in this case we've called our file index.js this is similar to how index.html would be the default page for a website when you're working with gatsby index.js in the source pages folder that is your home page so in this case that's exactly why that content is appearing now to create a new page all we need to do is add a new file to the pages directory and that's exactly what we're going to do right now in total we're going to add three new pages in this lesson let's go ahead and get started by adding a blog page to the site so this is going to be a page where we will eventually show a list of all of the blog posts we've written to do that we create a new file in the pages directory i'm going to call this blog.js and like we did with the index.js file we have to export a react component which contains the content we want to render so let's get that done to start i'm going to import react remember we need react in order to use jsx and from there we're going to set up our functional component i'll call this one something appropriate for the blog page like blog page i'll set this up as a function and i'm going to return the jsx which contains the stuff i want to render in this case i'll also use a root div and i'll set up a title and some text so the header for this page is going to be something like blog or my blog then down below we're going to set up a paragraph element and right here i'll just say something like posts will show up here later on and that's true a bit later in this bootcamp we'll actually get a dynamic list of posts showing up below the title now the last thing we need to do is export the component it's an important step otherwise gatsby cannot get access to this function to actually render the page right here that would be blog page exactly as defined up above now we can go ahead and save the file and over in the browser we have access to a brand new page this page lives at localhost on port 8000 forward slash blog where this part of the url after the forward slash is the name of the page file so in this case i called it blog over here that's why we have access to forward slash blog and when we visit that page what do we get we get our component content i have my header blog and i have my paragraph text just below creating new pages with gatsby could not be easier all you have to do is add new javascript files to that pages directory now this bootcamp is not just you watching what i'm doing i've also included challenges which require you to use what you've learned to continue to build on the site so down below let's talk about what i'd like you to do then i'll give you some time to go off and do it before we work through the solution together so the big picture goal is to create an about page and a contact page so you'll be adding two new pages to our site by the end we'll have four in total step one create that about page you can include a page title and a bio use an h1 for the page title and a paragraph or two for the bio then you're going to create the contact page for that one include a page title and your contact details as well now when it comes to the file names which end up being the urls you can just use about and contact finally test your work once you have that code in place actually visit those urls in the browser and make sure you see your pages showing up so take some time to knock this out test your work pause the video when you're done come back and click play how'd that go let's get to it step one i'm going to create a new file in the pages directory for the about page now i'm gonna go with about as the url though maybe you wanted to do something like about me or even just me in this case about.js i'll start by importing react from react and then we'll set up our component so a new constant about page or something similar we'll set up the function itself and we'll return the necessary jsx like i had with my other pages i'll have a root div with all of the content right inside i'll have an h1 that says about me then down below i can add a paragraph to the page as well and i'll say something like i currently teach full time on udemy perfect so once we have this in place all we need to do is export that component export default about page and we are halfway done now that we have the about page created let's go ahead and move on to step two and create that contact page so once again we need to create a new file in the source pages directory i'm going to call this contact so that would be contact.js and then here we move through that same process importing react so we can use our jsx setting up a constant for that component contact page and then setting up the component itself and returning the jsx that should get rendered on the page now for the h1 i'll use the text value of contact whoops not contact page then down below i'll set up a paragraph and i'll just say the best way to reach me is via my twitter which is at andrew underscore j underscore mead perfect actually i'll say via that on twitter excellent so now that we have this in place once again just need to export the component export default contact page and we are done we have our two new pages which just equals a new javascript file that exports a component now let's go ahead and i'll remove those challenge comments we'll make sure everything is saved and we'll move on to the final step which was to test our work so first up i'll swap out forward slash blog for forward slash about i visit that and i see my about page which is awesome from there i'll visit my contact page right here that shows up with the contact details i specified so at this point we now know how to create pages with gatsby the next thing we want to do is figure out how we can link between those pages it's already getting a little old manually typing urls in the browser bar so let's jump right into the next video and learn how we can properly link between our pages when using gatsby now that you have a few pages in place let's go ahead and link between those pages now the most obvious way to get this done would be to use the anchor element provided by html itself and that would indeed work so let's start with the homepage i'm going to navigate over to index.js the home page component and in the browser i'll navigate over to localhost 8000. all we're going to do is include some text down below like need a developer then i'll have contact me which will be a link over to the contact page so what am i gonna do well over here i'll add some stuff just below rh2 it'll be a paragraph tag something like need a developer question mark then after that it'll be the link so here i'm using the a anchor element the link text will be something like contact me and i'll set up the href attribute to specify the destination that would be forward slash contact to navigate over to that page now this is indeed gonna work i save the file i see my new text and my link on the home page and i'm going to click contact me it brings me over to the page as expected now this does indeed work but you'll notice that we went through a full page refresh the entire page went away it went to a white screen then the contact page was loaded in let's see that one more time so we click the link we see that flash of content and the new content appears that's because we're using the standard anchor element this is indeed going to work as a tool to link between your pages but gatsby actually has a different way you can link between your pages which comes with a lot of optimizations allowing the content to be swapped out instantaneously so let's see that in action and the first thing we need to do is import something new up above right here for this import statement we'll be grabbing a named export so inside of curly braces that is capital l link and we'll be grabbing it from the gatsby npm module now remember gatsby is an npm module that's already installed with our project over in package.json it's listed out as one of our three dependencies so we're good to go no need to install anything new and what we're getting access to is link link is a react component when we use link to link between the pages of our gatsby site there's a whole bunch of optimization that happens behind the scenes for example gatsby is going to preload the page content you might be heading to so if you do click that link it loads instantly and you no longer get that flash of content between pages so down below we'll leave our old example in place and we'll add the new one just below it need a developer then we'll set up our new link using the link component so right here i'm gonna set that up now here we have a separate opening and closing tag and right in between we put the text for the link so once again contact me perfect the only other thing we need to do is specify a prop to the link component the link component needs the to prop 2 is the path we're trying to head to in this case it is forward slash contact exactly like we had up above so this is the correct way to link between pages in your gatsby site and if you're still linking to an external site like your github profile or twitter the anchor element is perfectly fine let's go ahead and see this in action i'm going to save index.js over in the browser we'll navigate to the home page and right here we see two links the old one we had before and our new link down below now let's pay careful attention to the content as we click the new link i click it and what do i see i can see the new content instantly no longer do we have the flash of content we got when we clicked that old link so it's a much nicer user experience once again when using link gatsby performs all sorts of optimizations behind the scenes to make sure the new content can be shown in what looks like real time let's go ahead and remove that first solution which wasn't working so well and with that in place we are done with new content down below a quick challenge for you to knock out the goal is to add a couple of new links to the site on the contact page i'd like you to take that twitter handle and convert it into a link to the twitter profile so it should actually take users away from your site over to twitter.com now if you don't have a profile you want to link to you can just link to any external website like google.com or something similar for step two on the about page i want you to link over to the contact page if someone wants to reach out based off of your bio so make sure to include the correct link there finally test your work actually pull up the site click both of those links and make sure they work as expected for this link the link internally between two of your pages you should see the content instantly without that flash all right knock it out when you're done come back and click play all right let's get to it on the contact page i'm going to link over to the twitter profile so right here i do want that handle in the future so i'll cut it out copying it to the clipboard then i'm going to set up the a anchor element and since we're working with an external link we don't need to use the link component now the text is going to be exactly the same as what we had before just the handle itself and the url will be specified via the href attribute that'll be https colon forward slash forward slash then twitter dot com forward slash the handle which once again i have as part of the clipboard perfect with the link in place we can always set up the target attribute setting that equal to underscore blank and that's going to open the link in a new browser tab so users aren't completely redirected away from our site let's go ahead and test that out over inside of the browser i should have that new link showing up i click it it opens up a new tab and it pulls up my twitter profile now i can go ahead and close that and i'm still on the contact page the next link you needed to create was on the about page on the about page i wanted you to link over to the contact page in this case we want to use the link component as we're linking internally so i'm going to import the named export link from the gatsby module then down below we're actually going to use it now i didn't tell you where to put it so anywhere is fine i'll just add it down below my other paragraph right here i'll add a new paragraph i'll put the link right inside the link text can be something like want to work with me reach out and then all i need to do is set up the to prop for the link component right here that'll be a string forward slash contact and we're done now let's head over to the about page and make sure this actually works if it does we'll be all done our challenge so i'm going to remove those challenge comments i'm going to save every single file in the browser let's go to forward slash about here we have our new link which is a good start i click it it brings me over to the contact page without that full page refresh which is excellent and now that we know how to link between the pages on our gatsby site let's go ahead and move on to the next video where you're going to figure out how to create shared components so imagine we want to take links to the next level setting up something like a navigation bar that shows up exactly the same for every single page that is the topic of the next lesson so let's jump right into that your gatsby site currently has four pages and the content for those four pages is completely unique there is no shared content we type out everything the page should render in the component for that page now this works really well for unique content but think about things that are shared across multiple pages in your site like a header or a footer this is not something we want to have to type out for each and every page we're going to have duplicate code all over the place instead we want to create a separate react component that all of these pages can use and render and that's exactly what we're gonna do in this video together we're going to create a footer that'll show up at the bottom of every page on our site then as your challenge for the video you'll create a header for the site pages with a shared navigation so it's really easy to access all of the content on the site so let's get started together with the footer to get started we need to create a new file for a new react component the footer then once we have that component in place all of these pages can import it and use it where they'd like at the bottom of the page that'll give us a shared footer now this new component file should not go in the source pages directory since we're not trying to create a new page we're just trying to create a component that can be rendered on every page so to do that we have to start by creating the components directory and from there we're going to go ahead and create footer dot js this will be the footer component now the components directory has no special meaning the files inside of here aren't going to do anything unless they're imported and used somewhere else and that's exactly what we want now to stay organized i'll put the footer all the way over here on the right let's go ahead and create the component i'll start by importing react from react and once we have that in place we can create a new constant called footer and that's where i'm going to store my functional component and i'll set up the content i'm going to render in this case it'll be the footer element as the root element and right inside of there all i'm going to do is add a paragraph and i'll put in a little text like created by andrew meade you can use your name there then i'll put the copyright information so copyright 2019 now on a mac to generate that symbol that is option g i'm not sure what it is on other operating systems you could always type out the full word copyright the last thing to do is to export the component from this file otherwise we'll never be able to access it so export as the default export footer and there we go everything in this file is done we can now import and render this component on the various pages for our site let's start with the one page we already have up that's the contact page right here i have the contact page component to start i'm going to go ahead and import the footer so i'm importing the default export calling it footer and i'm grabbing that from a file relative to this one so i'm going to start off with dot dot to get out of the pages directory where the current file lives then it's forward slash components since i'm looking for a file in there and it's called footer leaving off the js file extension now that we have the footer component imported it can actually be used on the page and in this case it's going to make sense to put the footer at the bottom where it belongs so right here just before that closing div i'm going to render the footer component now if i save things what do i see in the background i can see that my contact page does have the footer which is a great start using react components we're able to compose our pages and nothing we're doing here is gatsby specific here we're just using the fundamentals of react so i'll do the same thing for the about page importing the footer from we're going out of the pages directory into components and there we have footer and i'll copy this line to the clipboard so i can use it for my other files right here before that closing div we'll render the footer component and then let's check out the about page so i head over to forward slash about and right here i can see the footer is showing up which is great now let's take this over to the other two pages blog and index so for blog i'll paste that import statement in then just below where we have that closing div that'll be footer to render it and finally for the home page so right here importing the footer component and rendering it near the bottom of the page content perfect the last thing to do is to check those two pages the blog page and the home page i'll go to forward slash blog and the footer shows up i'll go to just the root and here the footer also appears now we have a single place to manage the footer content and if we wanted to update something like the year i would simply type it in save the file and now that change is going to be reflected on every single page for the site which is exactly what we want all right i'm going to change that back over to 2019 and now it's time for you to do something similar but for the page header so let's talk about what you're gonna do for this challenge the big picture goal is to create a shared page header so step one set up a header component that component should render a site title so a title for the entire site and it should include links to all four pages so this header component is going to contain our main navigation now don't worry about creating the perfect semantic html structure you can just get all of this content shown to the screen and as we work through the challenge solution i'll go ahead and set up the semantic html markup down below next up make sure the component you create gets rendered at the top of every single page for the site all four of them then test your work you should be able to see your navigation bar and you should be able to click between all of the links to navigate to the four pages on your site so take some time to knock this out test your work when you're done come back and click play how'd that go let's get to it by first creating the new component so this is going to be a new component in that components directory called something like header so that's header.js and in here we're going to import react since we're going to end up using some jsx to render the header component and i'm also going to import that named export link from gatsby as i do want to set up the navigation links as well down below we can actually create the footer constant and set up our function for the functional component now i mentioned that your job was to just get the content rendered to the screen and not to worry too much about the correct semantics for this sort of thing in this case though we will work through that together so i'm going to start with the header element from there i'll set up an h1 with the text of andrew mead which i'll use as the title for this site you could have used any text you wanted to then we'll focus on the navigation menu so for this we want to start with the nav element then we're going to create an unordered list and in there we'll have a list item for each and every link so this is the basic structure we're going to use and the first list item will contain our first link in which case i'll just link to the home page so right here a new instance of the link component the text is home and where are we going to we're going to forward slash down below i can set up another list item with a second link for this one i'll go to the blog page though the order of the links was not important as long as all four are showing up then from there it's about followed by contact so i'll knock out about first that is going to go to forward slash about and finally setting up the list item for our last link this link going over to the contact page so to forward slash contact so this is the basic structure for our header component the end result is our site title and four links showing up to the screen now i actually called this footer that is a mistake i should have called that header just down below let's go ahead and export our new component so export default header and all we need to do from here is import this file and render it somewhere on the site and in this case i want to do that for all four pages so that is step number two i'll start with the contact page so right here actually i'm going to start with the page showing up which is the home page so right here in index.js i'll start by importing the header from that's dot dot forward slash components forward slash header and i'm going to copy this line to the clipboard so i can use it in my other page components just down below as the first thing i render i'm going to render the header component and if i save the file i should see that showing up and it is here i have home blog about and contact and if i click one of those links like the blog link it brings me over to the blog page which is awesome now the blog page itself doesn't have a nav menu so let's fix that here i'll paste in my import statement i'll set up the header component and i'll do the exact same thing for my other two pages as well first up is about rendering the header and last up is the contact page perfect now once we have this in place we'll have that shared navigation and the final thing we need to do after saving the contact file is to test our work so right here i'm on the blog page i'll go to home then blog then about then contact and we can see that on each and every page we have our header showing up up top and down below we have our footer so when we're working with gatsby we can compose our site of various components exactly like we're able to when we're using react in any other context the only important thing to remember is that if we're creating a react component that's not meant to be an entirely new page that should not go in the source pages directory in this case we're putting it in the source components directory but this directory could be called anything you'd like its name is not important all right that's where we're gonna stop for this one i'll see you in the next lesson in this lesson you'll be taking your pages to the next level by creating a single page layout component so you can think of this video as a continuation of the last one in the last video we set up our header and footer and in order to render them on every page we had to import them on every page and then manually set them up in the correct position four times now that was four times four four pages as our pages grow and our layout shifts that's going to require us to make even more changes to every single page component what we're going to do here is set up a universal layout component that we can easily use to create a new page with just a couple of lines of code so let's see what that's going to look like and how it's going to help us to start let's create a new component in the components directory and this is something we're going to call layout.js and eventually this will be the only component that our pages need to import in order to get up and running now we're going to focus on layout.js and index.js if we can get the layout to work here it'll be really easy to add it to the other three pages so to start let's create the basic structure of the layout component right here we're going to start by importing react from react then we'll set up the layout constant right here it's a functional component where we return some jsx and i'll start off with a single root div now down below we'll go ahead and export this component so that's going to be export default layout and we're done well we're done for now let's actually try to use this over in index.js and see what happens so here's the big picture goal i want to be able to remove all of the components that are used on every page and just use that single layout component instead so that's the only one i'm gonna end up importing i'll import layout from dot dot forward slash components forward slash layout and then we're gonna use it down below now here's what that's going to look like i'm going to recreate the return statement and i'll remove the duplicate one in just a second right here we're actually going to start by rendering layout and the stuff we want to put on the page the stuff unique to the page that goes right inside so for us what's unique well it's not the div or the header or the footer it's just this stuff right inside so i'm going to copy those three elements i'm going to paste them into layout and this is the end goal of what we want now currently if i remove that duplicate return this is not going to work as expected i'm going to save index.js i'm going to navigate over to the homepage and what do we have we have a blank screen that's because we're passing stuff to the layout component this stuff right here but it's not actually rendering it so what is it rendering it's just rendering an empty div well in react we get access to the content inside of a component via the children prop and that's exactly what we're going to use to get all that other stuff rendered so right here inside of layout.js we get our props and we're going to use one right here we are going to render props dot children and i'm just putting that inside of curly braces to reference that javascript variable now what is props.children well it's the jsx passed in so it is jsx for these three elements now all i'm gonna do is save layout.js over here what do we see we see that on the home page we now have our home page content which is a good start from here we can customize the layout component to add stuff that's going to be shared on all pages like that header and footer so i'll import the header from right here that is dot forward slash header and i'll do the same thing for the footer and then finally we're going to use both of those now the header is going to go just before the individual page content so i'll put that right here and the footer is going to go just after that content exactly like we had before the nice thing though is that if i want to adjust the layout further i no longer need to go into the individual page components instead i just adjust the layout component which now maintains the page layout and here we go our index.js file is much simpler it's concerned with a lot less and over here we have the exact same stuff rendered to the screen that we had before i have my header with my nav links and down below i still have my footer as well so using the layout component is just going to make our lives a whole lot easier now let's go ahead and integrate that into the other three pages for the site over in visual studio code we can start with the blog page so right here we no longer need to import those two things we're just going to import layout from dot dot forward slash components forward slash layout and i'll copy that line to the clipboard for now then down below we have to use it so right here we need to restructure what we have we render the layout and inside of there what do we put we put what we have right here so i'm going to move that just inside and i'll delete the old div i had before and there we go the blog page is now also powered by that layout having the header and footer set up behind the scenes now let's quickly do the same thing for the other two pages so right here pasting in the layout import then setting that up down below and moving the unique content for the page so this stuff right here just inside and deleting the old structure we had perfect last up is the contact page so once again using the layout and putting the unique content just inside excellent so in the last two videos we had to do a little bit of restructuring going into each and every component file which can be a little bit of a pain at first but now it's done all of our pages are powered by the layout and no longer are we gonna have to move into individual pages and adjust the same thing in every page if you find yourself doing that it's probably something that needs to be broken out into a standalone component instead so over here let's just go to the about page and the contact page to make sure everything is working and there we go we have a basic static site created and powered by gatsby now we're not done not by a long shot there's a lot more to cover and what i want to focus on in the next few lessons is styling your gatsby sites so let's go ahead and dive right into that starting with the next lesson you now have a decent amount of content on your gatsby site spread across four pages the only problem is that all of this content is unstyled and looks pretty terrible in this lesson you're going to start to learn how you can style your gatsby sites using css along the way this video also covers the process of installing and setting up gatsby plugins which allow you to further customize your site in this lesson we'll be using a gatsby plugin to enable sas so we can take advantage of all of the great features of the scss syntax but let's get started with some basic styles getting those applied to the site in a visual studio code the first thing we're going to do is create a new place for our site styles now i'm gonna close all open editors there's no need to have all of these files open anymore and down below in the source directory this is where we're gonna add a new folder i'll call this something like styles once again the name is not important and in there i'm going to put a new file called index.css this will be the start of the styles for our site and to make it obvious whether or not these styles are being included all we're going to do is use the universal selector to select every element on the page and we're going to change its color over to red now by default we can see these styles are definitely not being applied nothing over here is red and this is correct by default gatsby is not going to load in any of your style sheets it's up to you to import them and in this case we're going to import our base style sheet from the layout component as the layout component is used on each and every page so all we need to do is set up another import statement to get those styles included in the static site that gatsby generates right here importing that's going to be dot dot to get out of the components directory forward slash styles forward slash index dot css now with just that one line added we can save the component and we can see that these styles are definitely being applied as everything is read and there we go we now have a style sheet loaded in and we could write every style for our entire gatsby site right inside of here now that's not the approach we're going to take we're going to break things up a little bit but this is a great starting point before we go any further what i want to do is enable a css preprocessor here we'll be using sas allowing us to take advantage of the scss syntax so we can use all of the great features functions mixins and other tools it provides now to do that we are going to use our very first gatsby plugin you can find a list of all available plugins on the gatsby site that's gatsby gatsbyjs.org and here's the site i had pulled up earlier in the bootcamp now in this case we're looking for the plugins page this allows us to search through all of the available plugins to find the one we're looking for now this list includes both official plugins released and maintained by the gatsby core team and it also includes third party plugins written and maintained by members in the community so right here the one we're looking for happens to be an official plugin and if i search for sas here it is it is gatsby plugin sas so currently i can use the import statement to import a css file but if i tried to import a sas file or an scss file gatsby wouldn't know what to do once we have this plugin correctly installed and configured it will all work as expected on the right hand side we have the documentation for this particular plugin here we need to install a few things and add a little bit of configuration and we're going to work through that process together so let's go ahead and set up support for this by moving into the terminal shutting down the development server using clear to clear the output and finally using npm install so right here that's npm install and the first thing we're going to install is the plugin that is gatsby hyphen plugin hyphen sas as seen over here so all of these are the names of the npm modules and the other thing we need which is mentioned in the docs for this plugin is node sas so this module is responsible for actually converting the files down to regular css and this plugin just allows us to actually do that from a gatsby site now we can go ahead and run this installation command installing both of those tools and once that's done all we need to do is configure our gatsby site to actually use that plugin it's not enough to just install the plugin it actually needs to be configured now this is done via a file that currently does not exist in our project but we can go ahead and create it it needs to live in the root of our project and it needs to be called gatsby hyphen config dot js now there's a lot we can do in this file as we'll explore throughout the boot camp one of the core things we can do in here is configure the plugins we want to use and that's exactly what we're going to end up doing this config file just needs to export an object but it's important to note that this is a node.js file so we need to use module.exports setting that equal to the thing we want to export in this case an object now on here one of the main properties we're going to end up using in this config file is plugins plugins is an array and here we can configure all of the plugins we want to use now in our case we only have the one plugin so we're going to provide that as one of our items in the plugins array and all we need to do is list out the name of the plugin that is gatsby hyphen plugin hyphen sas we can save the file and now we're actually ready to use scss or sas in the project so down below in the terminal make sure to stop your development server if it's running mine's not and then we're going to start it up again npm run develop and once it's up it's going to be using this plugin which means we can now create and import scss or sas files so i'm going to do just that what i'm going to do is take styles.css excuse me index.css in the styles folder and i'm going to rename it i'm going to call it index.scss then what i'm gonna do is import that file instead of importing the file that no longer exists i just add the s save the layout component and now our site should be back to a nice working state here everything is still shown in red and if i go over to the style sheet i could change that to blue save the file and i can see that my change is indeed being applied with that plugin in place we should also be able to use all of the great scss features so i'm going to create a variable up above using dollar sign followed by the variable name and i'll store the green color inside of there then down below instead of just providing the color i'll reference it via that variable so dollar sign color now this would not work in regular css but we're not working in regular css we are in an scss file and right here i can see that green is showing up so there we go with a little bit of configuration adding just a few lines of code to our new file we're able to tell gatsby that we want to use a gatsby plugin allowing us to customize the functionality for our site now let's go ahead and wrap up the video by grabbing a nice base set of styles we'll be using for the project you can grab these styles by heading over to the browser and going to the following url that's links dot mead dot io forward slash gatsby styles now this is just going to redirect you over to a github gist and here we have a very long style sheet this is what we're going to copy over to our project as our starting point so right here i'll click the raw button to pull up the raw file content i'm going to highlight everything using command a or control a depending on your os then i'll copy it to the clipboard and paste it over here in index index.scss removing the stuff we had before now with this in place we should notice a pretty big change to how our website looks over here what i'm going to do is pull up the site we'll notice it's no longer in green which is good and we'll also notice that it's definitely a little bit styled we have nicer font families and a little bit of spacing along with nicer font sizes now obviously we're not done styling just yet but using that base set of styles we'll be able to further customize the styles for our project so that's where we're gonna stop for this video we now know how to add basic styles into our gatsby project and in the next lesson we're going to take that to the next level by learning about css modules that is my favorite way to style react components so let's go ahead and jump right into that welcome to part 7 of the great gatsby boot camp in this one we'll continue to talk about styling our gatsby sites and the focus is going to be on css modules css modules are supported by default in all gatsby projects and it seems to be the preferred way to style gatsby sites as it's covered extensively in the official gatsby documentation now with css modules we're not learning a whole new language it is just css with a slight tweak making it really easy for us to create complex web applications without complex styles so let's go ahead and get started with the basics let's get started by closing all open editors and we're going to focus on just one of our components for the moment that's going to be the header component we want to add some styles to this making the header look a little bit nicer now to add those styles we'll be creating a new style sheet right here in the components directory i'm going to call this header.scss and in here we'll put the styles specifically for the header so as an example let's say we want to style the links here we are targeting all anchor elements and then we'll just set their color equal to a nice gray right here the pound sign followed by the hex code i'll use the number nine six times for that gray color now if we save this style sheet none of these tiles get applied since this isn't being imported anywhere so let's fix that in the header component we're going to import that style sheet just like we did in the last video when we imported this style sheet into the layout component so right here import i'm going to import the following file that is dot forward slash header.scss now if i go ahead and save the component we can see that all of the links in our header are styled which is a great start one thing you'll notice though is that it's actually all of the links on the site right here the link to my twitter profile that's styled in gray and if i go to the home page other links like the contact me link are also showing up in gray so it's important to note that just because you're importing a style sheet in a particular component doesn't mean those styles are scoped to that component in this case we are selecting all anchor elements on the page not just those that exist inside of the header so this is an important thing to note now what's the solution if i want to just target the links in the header well there are a lot of different things we could do a simple approach without css modules would be to target by class name something like link then i can use that class name wherever i want to apply those styles so inside of the header component i could add class name on it to the link this is the react prop class name and i'll just set this equal to the class i picked link and over here in the browser we now have that gray home link now this is a great start but it's important to remember that those styles are still globally accessible so if other components in our large application also want to style their links and they use a generic class name like link we're gonna run into a problem where we have styles for multiple files overriding each other leaving us with a big mess now the solution before css modules existed was to do something like use a naming convention a naming a convention that would allow us to create longer more complex class names though they were more likely to be unique so something like header link instead of just link then if i wanted a link styled in the footer i could use something like footer link and so on so we can't use those generic class names because there's a high chance of conflicting styles and the solution is to have a whole bunch of complex class names that's not ideal either the solution we're going to use to solve this problem is css modules css modules make all of the class selectors in the module style sheet locally scoped which means that we have to manually import them and use them and we'll see what this means in reality in just a second for now let's notice one thing we have our two files saved and that home link is gray all we're going to do is enable this file to be a css module by changing its name we're going to change the file extension down below i'm going to rename it to header dot module dot scss now you could also use header.module.css if you did not want to use the scss syntax though in this case i'll keep it in place now right away our app crashes and that's expected we're trying to import a style sheet that no longer exists so let's adjust the name here dot module dot s css now if i save both files it's no longer crashing but you'll notice that our link is also no longer gray i have the class name link right here and i'm also targeting it over here in this file that's loading so what's going on as mentioned earlier when we're working with css modules our class selectors they are no longer globally applied instead they're locally scoped it's something we need to import as part of the import statement and then apply directly to that element so let's see what that looks like the first thing we need to do is change our import statement i'm going to comment out the old one and add a new one just down below here on importing the default export i can call it whatever i want i'm going to call mine header styles and we're grabbing that from the same file dot forward slash header dot module dot scss so when we're working with a css module we actually get a default export this is an object which contains properties for every class we've defined in the module in this case we just have one link so what we have is an object with a single property link we can use that property to apply that style so no longer are we going to have a static string for the class name it's going to be dynamic so class name equals inside of curly braces the following header styles dot link where link is the name of the class chosen over here now if we go ahead and save the header component we'll see that once again our link is gray everything is back to working as expected and the great thing about css modules is that we're being explicit i'm explicitly loading in a set of styles from a specific file and i'm applying them directly to the element so there's zero chance of some sort of global style coming in and messing things up from another component and that's what we want we want our components to be selfcontained and easy to update and work with so now that we have this in place let's take a look at what exactly is happening over in the html for the site i'm going to open up the chrome developer tools in the browser you can always go to the menu more tools developer tools to find them and here i'm looking for the elements panel and i'll use this selector by clicking it and picking an element on the page i'm going to click that home link and it's pulled up down below now here we can see we do have the class attribute and there is a single class inside of there but it's not something we ever created it is header module followed by link followed by a random series of characters this is the class name generated by the css module that keeps our styles unique even though we're using a generic class name like link we could target links in other components in our project by using the exact same selector without any chance of overriding the ones in the header so now that we've seen how css modules actually function let's continue working with them to style the rest of the site to get started i actually want to add a css module for the layout component so right here in the components directory that's layout.module.scss and we're going to crack open the layout component as well and i'll just stay organized up above with the header stuff then the layout stuff let's get started adding a few styles to the layout allowing us to center the content on the site so it's not all pushed up against the left hand side let's start with a new selector selecting the container class and right here we're going to set up a few basic styles starting with the margin i'm going to use 0 and auto to center things left to right and we're also going to set up a max width for the site i'll use something like 750 pixels and finally a little bit of padding on all four sides so the content isn't pressed up right against the edge of the browser right here one rem should get the job done now we have to import this module in the layout component and actually use those styles right here import layout styles from dot forward slash layout.module.scss and once we have that in place we can apply that to our div right here so this one is going to have a class name equal to on the layout styles object we have that container property now if i go ahead and save things we can see all of our content has disappeared because it's now centered in the browser which is obviously a nice step in the right direction another thing we're going to do with the layout is set up a sticky footer so right now the footer kind of gets pushed up the page especially on shorter pages it would be nice if it was always at the bottom of the site to get that done the first thing we're going to do is create another div inside of the layout component so right here let's set up that new div element and we're going to put the header and the page content inside of there the footer is going to be just outside of the div and this is a common html structure for a sticky footer right here we'll end up applying a few styles to this div let's get started over in the layout module inside of the container we need to add a few new styles in order to get everything working the first thing we're going to do is set up display setting display equal to flex we're going to enable flexbox here and the flex direction for the container is going to be vertical since we want the content and the header above the footer not left and right so right here we're using column as opposed to the default value which is row i don't want the footer on the right i want it on the bottom the last thing we're going to apply to the container is min height setting that equal to 100 vh this is the viewport height so here i'm setting the container height to the screen height now that's the minimum height so it could always get bigger on longer pages and that's what we want only other thing we need to do is style that new div we created i'll set up a class content for this with flex grow set to 1 that's going to allow that container this container right here to grow as needed leaving just enough space for the footer in place so the layout module is all done we have our styles in place over here all we need to do is apply the class name prop to that new div layout styles dot content i save the program and over in the browser we can see we have the sticky footer in place so on the contact about blog and home page that footer stays where it's supposed to now if the site content was shorter it wouldn't be at the bottom still you'd still have to scroll to see it which is exactly what we want so now that we have the layout styles in place let's go ahead and head back over to the header as we are going to add a few more styles here so inside of the header module let's get to it first up i'm going to add another class selector for header to add a little more space for the header right here padding is going to be one rem on the top zero on the left and the right and 3 rem on the bottom so we're just trying to put a little space between the header content and the other stuff on the page now if we head over to the header component we can apply that right here so class name equals that's going to be header styles dot header perfect now over in the browser those styles should have taken effect and they did perfect now let's continue on to the h1 shown on the header i actually want this to be a link to the home page as well so what i'm going to do is set up the h1 and put a link right inside this link is going to have the same text i had before so the text value will still be andrew mead and we're going to send them to the home page so this is like clicking a site's logo and going to the home page i want to be able to do that same thing here so if i'm on the contact page i click the name and i go to the home page now clearly we have to add some styles to that and that's exactly what we're going to do so in the header module we'll set up a new class selector for the title and right here we're gonna do a couple of things first up setting the color equal to black that is the hex code with six zeros then we're gonna set the font size equal to 3 rem making it a little larger and finally setting text decoration to none removing the underline effect we get with links by default now let's apply this to that link so right here class name equals header styles dot title i save the program and over in the browser we can see that this is still a clickable link but it's now styled to look like regular text and you could swap that out with a company logo or whatever you wanted to next up let's focus on styling the navigation list so we can get rid of those bullet points and put the items left to right as opposed from the top to bottom approach which we currently have in place to style that we'll be styling our unordered list right here in the header module a new class selector nav list and we're going to apply just three styles first up display flex this is going to stack those items left to right which is what we want i'm also going to set up list style type sending it equal to none that's going to remove the bullet points which we don't want and finally i'll set margin to 0 to clear the default margin values that our lists typically get over in the browser we can see that none of our changes have taken effect i forgot to apply that in the component so right here class name is going to equal header styles dot nav list so here we have a camel cased version of what we typed out in the css and our styles are applied perfect the next thing we're going to do is add a few more styles to the individual nav items we added just one as an example but we're going to add a few more right here i'm also going to change the selector i'll change it from link over to something like nav item now the color is going to stay in place i'm also going to adjust the font size setting it to 0.9 rem a little bit smaller than it currently is i'll also add a margin on the right so the items aren't jammed right up against each other 1.3 rem on the right and finally text decoration setting that equal to none once again to remove that underline effect we were getting now we can use this for all four links in the navigation so right here i'll take that first one and i'll swap it out from link over to nav item and down below i can just copy this class name and definition for the other ones one two and three and i can see i have a little auto formatting from my visual studio code editor perfect now let's save the program over in the browser what do we get we have a nice styled header i have my links to my pages sitting below the header text which is also clickable now when we're using css modules we can still use pseudo classes or anything else we might want to use so let's say that on hover we want to adjust the color of the link item we can do that nav item then colon hover so when someone hovers over that with their mouse we'll just change the color to something a little darker right here hex code is six six times perfect now we can test that out over in the browser i have my links showing up i hover over them and i can see they're getting a little bit darker which is exactly what we wanted one more thing we can do with the link component is set up a class name that should get applied when we're on that specific page so if i'm on the contact page i could style this link differently giving the user a visual cue as to where exactly they are in the site down below let's go ahead and get that done i'll set up something like active nav item for that and all we're going to do is set the default color to something even darker this will be the number three six times a nice dark gray now let's actually apply that over in the header component then we'll be all done for styling so over here we have class name for all of the links if you want to set up a special class name for when you're on that page you use active class name so right here i would be setting that to header styles dot active nav item perfect so right here just matching up with what i had to find over here now let's take that definition and move it to the other ones we have just down below our other four links so i'll add it to the blog link i'll add it to the about link and to the contact link and once we have all of those in place we'll be able to test our work right here i'm going to save the program right here i can see i'm on the contact page and the contact link is darker than the others i go over to the about page that's dark blog home so now we have a nice navigation system letting the user know exactly where they are on the site all right that's where we're gonna stop for this one now that we have some styles in place we're done with what i would consider part one of the boot camp where we cover the basics of creating a site with gatsby in the next video we're going to start talking about how we can get dynamic data into our site using gatsby's graphql api so let's jump into that welcome back to the great gatsby boot camp in this video we're going to turn our attention towards getting dynamic data into our gatsby sites using gatsby's graphql api now if you've never used graphql before that's perfectly fine we'll only be using a little bit of graphql with gatsby and we'll go over the basics as we use them so right now everything shown in the browser is something that's only showing up because it's typed directly inside of the jsx for a react component all of the nav items the site title every bit of text showing on the screen now obviously that's fine as we're getting started but as we do want to create more complex dynamic sites this approach is no longer going to scale as an example let's say we were going to introduce the blog to our gatsby site without using anything new without using the graphql api creating a blog post would require you to add a new page to the pages directory for every single post and you would end up with a lot of duplicate code and you would end up writing your blog posts right inside of the jsx for the component which is never ideal that's not an easy way to get your thoughts down on paper and organized when you have to manually maintain the html structure along the way the other downside is that you'd also have to update the blog page so your posts showed up here you would have to manually copy titles and excerpts all over to this page to create a list of all your posts so well it's possible it's not ideal and it's not something we're even going to attempt instead we'll focus on getting data via the graphql api that gatsby provides now the best way to visualize this is actually on the home page of the gatsby site that's over at gatsby js if i scroll down just a little bit there's a section called how gatsby works now there's a chance this visualization changes over time but i think this is a pretty great visualization for what's happening here everything we're working with so far sits below this line right here so yes we're using gatsby and we're working with html css and react and we're also getting a version of our site up and running now we're not deploying it to production we're running it in development but it's the same idea and we'll get to the deploy stage a little bit later in the boot camp the only thing we haven't touched on is what's up above the data sources for your gatsby site so where does your data come from when it's not typed directly inside of a react component it could come from a cms like contentful or wordpress it could come from files on the file system in the form of markdown blog posts it could come from any thirdparty data source such as a custom api you've created so this is what makes gatsby really powerful we can pull in all of this data using gatsby's graphql api allowing us to create what is still a static site but that static site gets generated with dynamic data from thirdparty data sources now we will progress to more complex data sources like cms's and markdown files but we're going to start with one of the easiest builtin ways we can set up dynamic data in our gatsby sites and that is via what's known as site metadata it's nothing more than an object on there we can put key value pairs for whatever we'd like as an example the site title maybe the twitter profile name and the author of the site anything like that that we'd want to be able to easily adjust across the entire site now to get that done all we need to do is go into visual studio code and make a change to that gatsby config file we've created so for the moment i'm going to close all open editors and we're going to open up just the gatsby config file and we're going to add another property onto this object just alongside of plugins and in this case i'll call this site metadata and the name here is important it needs to be exact otherwise gatsby's not going to be able to find it let's get started by setting up a title property for the site title i'm going to call mine something like full stack boot camp perfect you can choose whatever title you'd like for your own site let's also set up one more property on site metadata i'm going to set up an author property which i can use throughout the site and right here the value for that will just be andrew meade so there we go we have two pieces of data and we'll add more onto site metadata later in the video for now though let's figure out how we can actually query this using the graphql api that gatsby provides once we've pulled these values into our components we'll focus on adding more and more data now let's actually fetch this data using gatsby's graphql api and to start we're going to head over to the browser open a new tab and we're going to pull up a url that's only available when our site is running in development mode right here that is localhost on port 8000 like we had before then it's forward slash underscore underscore underscore graphql so that's triple underscore graphql this is going to pull up a tool called graphyql which is an inbrowser ide for exploring a graphql api so if you've ever worked with a rest api before maybe you've used tools like postman or insomnia this is the same idea just for a graphql api so we type our query over here in the left hand side we click that play button it runs the query and we get our data over here on the right hand side so we can use this to mess around with all of the data we have access to figuring out exactly what we need and where it lives once we have our query and we're getting back the data we want we can move that query into a react component to actually set things up in the gatsby site for now we're going to start by using graphyql to mess around with the basics of graphql once we know how to fetch the title and the author will actually bring that into a react component to wire that data up dynamically if you haven't worked with graphql apis before one of the great things about them is that they're selfdocumenting graphql uses an explicit schema and tools like graph eql can show you that schema letting you know exactly what data you have access to and how you can get it so for us let's crack open this docs panel on the right hand side now in graphql there are three main operations we can perform queries mutations and subscriptions when it comes to graphql inside of gatsby we just use queries to fetch the data from those external sources so right here let's go ahead and click on the query and we can see a list of all of the queries we have access to there are quite a few and this list is actually going to change as we move through the class later on there'll be new queries for fetching markdown pages or for fetching content from a cms for now the one query we're going to focus on is near the bottom of the list and it's just called site so i'm gonna click on site we can see a few different things about the site query i can view the arguments we can provide we're not gonna provide any and i can view the type definition which is what we want so when we grab site what do we get access to well if i click that we get access to all of these fields i have quite a few different fields the one that we're interested in is called site metadata now if i click on site metadata i can see that is of the following type i click on that and i can see what fields i have access to title and author the two things we defined over in site metadata over here so let's go ahead and actually run a query to fetch this data now i know we clicked through a lot of screens but once we see the query in action it'll be a lot easier to figure out what's going on so step one is removing the comments over there and starting by defining our query we do this by listing out query then we open and close a set of curly braces and inside of here we can perform whichever of those queries we wanted to in this case we decided we wanted to use site so i set up site opening and closing a pair of curly braces and in here we can list out everything from site we want access to for us it was site meta data now this alone is not going to work we can't just grab everything from site metadata we have to be explicit grabbing just the fields we're actually going to use so we set up another pair of curly braces and i list out what i want access to in this case title and we can see we're even getting a little autocompletion i can always use that to populate the final value and there we go our very first graphql operation we are performing a query called site on site we're grabbing site metadata on site metadata we're grabbing title and if i click that play button to run it what do i get over here i get my data back i can see full stack bootcamp showing up now one thing you'll notice about the response is that the structure of the response is dictated by the structure of the query here we have site site metadata and title here we have site site metadata and title so we get back exactly what we put in though the fields we requested are obviously populated with the correct values so now that we've seen a basic query let's go ahead and run this exact same query from a react component so we can fetch dynamic data into our site we're going to focus on grabbing the site title like we're doing here but we're actually going to populate it as the value that shows up in the header up above now for us that means we need to make a change to the header component so right here let's crack that open this data right here is going to end up becoming dynamic and to get started we have to grab two new things from the gatsby library alongside of link the first thing we're going to grab is called graphql and the second thing we're going to grab is called use capital s static capital q query using these two things we'll be able to perform a graphql query getting access to the data then we'll be able to inject the data right in the jsx down below so let's do it let's start by creating a variable called data to store the data we're fetching from the graphql api then we're going to call that use static query function this is going to allow us to query our graphql api now we're going to call it as a function and inside of there we're going to provide a tagged template literal so right here we're using a template string but just before the template string we're using graphql which is a function so this is a syntax called a tagged template literal essentially it allows this string to be processed by that function and in this case it's going to convert our string graphql query over to something that can actually be used a complex abstract state tree with all sorts of object properties and stuff that we just don't need to worry about so for us what we type in this string is exactly character for character what we were typing over in graphql so it's a query in there we're using the site query i'm asking for the site metadata and on that i want the title now we're done we have access to that data and we can go ahead and use it in the link down below or wherever else we might want to use that data so for us i'm going to remove andrew meade in the h1 in my header and we are going to set up some curly braces so we can inject the value the value is on data dot site dot site meta data and it is title now if we save the program we can actually pull our site up and what do we see i see full stack boot camp showing up in the header which is fantastic we were able to create a react component that fetched data from gatsby's graphql api to come up with something that's dynamic now what's cool is that as that data changes the site will also change so over here i'm going to alter that title adding an exclamation mark on to the end i'll save things head over to the browser and i can see that change is already in place so this is one way we can access some dynamic data in our gatsby sites using site metadata this is great for key value pairs like title author your email address social media urls and that sort of thing so once again inside of header what did we do we worked with use static query to perform a query we got access to the data and we injected that somewhere in the jsx now that we've done this once together it's going to be your challenge in the video to do it again on your own just up above i'm gonna paste in the challenge comments and your goal is to run another graphql query fetching the other site metadata we have so step one use graphyql in the browser to fetch the author making sure you get the correct value back once you know how to fetch the author update the footer component to display the dynamic author value instead of the static one so right now andrew meade that's hardcoded in the footer component i want this value to come from the site metadata instead once you have that in place you're gonna test your work so actually make sure that you can see the name show up and when you change the name in the gatsby config file you should see it change in the browser as well so take some time to knock that out pause the video test your work and when you're done come back and click play how'd that go let's get to it with step number one so over here in the browser we're going to use grapheql to fetch the author so once again that lives on site metadata alongside of title so right here instead of accessing title i'll access author i'll run the query and i can see that value showing up so this is what i need to run from the footer component let's go ahead and get that done over in visual studio code i'm going to crack open the footer component and we're going to import those two things we need from gatsby right here that was graphql and use static query grabbing both of them from the gatsby npm library exactly like we were doing over here from there we can actually use these in the footer const data equals i'm going to call use static query i'm going to use graphql with a template string and we're going to provide our query the query is using site from there we're grabbing site metadata and on site metadata all i want access to is the author now we should have access to the author and i can use it down below so i'm going to remove the static author and swap it out with a dynamic value that would be data dot site dot site metadata dot author and we're done now that we have this in place let's test our work i'm gonna save the footer component in the header component i'm gonna remove those challenge comments and save that file too and hopefully i see andrew meade in the footer right over here i do now let's actually change that value in gatsby config just to make sure it's showing up so i'll swap this out with something else like the author save the file head over to the site and that's what's showing up in the footer so now we have two dynamic pieces of data in the site and we figured out how to use gatsby's graphql api which is a great step in the right direction all i'm going to do to wrap up is revert that change back to a value that makes sense and we're done in the next video what i want to do is take just a couple of minutes to show you an alternative to grapheql that you can use with gatsby in my opinion it's a lot easier to work with and comes with a nicer user interface i'm excited to get to that so let's jump right in to the next one welcome back in this video as promised i just want to take a couple of minutes to explore how you can set up an alternative to graphyql this is the default ide for working with your graphql api in gatsby but gatsby also comes with support for another ide known as graphql playground it's a lot newer and comes with a much nicer feature set including some what i would consider essential features now to swap out graphql for graphql playground all we really need to do is set an environment variable on our machines and we're going to do this in a cross os compatible way so right here we can close all open editors we don't even need the source directory for this video and we're going to focus on package.json now this could be as easy as setting up the environment variable right here in the script the problem with that is it's not cross os compatible so instead we'll create an environment variable in a separate file which will load in a very common approach so right here a new file in the root of the project called dot env dot development in here we're going to define our key equals value pairs for the environment variables now in our case we just need one the name is gatsby underscore graphql underscore ide and the value we want is playground that's going to enable graphql playground support giving us that new tool in the browser so now that we have this in place the only thing we need to do is actually load this file in when we're using the development server and to do that we'll use the very popular env cmd npm package down below in the terminal i'm going to use ctrl c to shut down the development server then we'll use npm install with the save dev flag since this is a dependency we only need in development and from here we're going to go ahead and set up the following env cmd so let's go ahead and install this and once it's installed we're actually going to work it in to our package.json so inside of package.json what are we going to do we're going to change the development script right here it's going to use envcmd to load that environment variable file in then it'll run gatsby develop right here we're going to modify this script that's going to be emv hyphen cmd the new tool we just installed and from there all we're going to do is provide the name of the file we've created dot env dot development and we're done now it's going to load those environment variables in then run the gatsby server so let's save package.json in the terminal down below we're going to start it up like we've done before npm run develop and once it's up and running all we're going to do is refresh the page over here and we should see something quite different i'll go ahead and give it a refresh and we can see it's loading an entirely new interface here we have graphql playground now it comes with the same set of features i type my query over here i can run it and see the response but it's a lot easier to work with we can manage tabs so we can have multiple queries at the same time we also have a nicer set of docs that in my opinion is much easier to work with so here we have site then we can see all the arguments and our fields below site metadata title and author so we can see everything in one shot making it a lot easier to construct the queries we want to perform so that's it for this video i just wanted to show you how you could set up support for this new tool going forward i'll see you in the next one a couple of videos ago we went over to the browser and went to the gatsby homepage to look at the following visualization here we talked about how we were going to use the graphql api that gatsby provides to source our data from external data sources now so far we have done that with site metadata we were able to pull in some basic information getting that rendered in our react components but it's not exactly a great place for more complex data for example the blog posts we're trying to create for our site storing that inside of that little site metadata object just is not realistic instead we're gonna start to focus on creating a blog powered by markdown blog posts so inside of visual studio code we'll be adding markdown files for each of the blog posts we want to create those will then be listed over on the blog page of our site and we'll also have gatsby dynamically generate brand new pages based off of a page template for each and every blog post so that's the end goal let's get started by writing a couple of posts in visual studio code what we're gonna do is put our blog posts in the source directory for the moment we can collapse the other directories inside of there and we can also close all of our open editors we're going to create a brand new folder in the source folder and i'm going to call this posts you could call it something else like blog or blog posts the exact name could be whatever you want in here we're going to add a couple of posts i'll have one called gatsby.md and real quick i'll create another one let's call it react.md so for the gatsby post we're just going to add a little bit of sample text i'm not actually going to write out an entire post let's get started by adding what's known as the front matter for our markdown posts so we start with three hyphens we end with three hyphens and right in between we can add key value pairs for whatever makes sense for us now for posts you might want to include the post title maybe the date the post was published a list of tags the author whatever sort of data you want to add onto the actual post content so right here let's keep it simple i'm going to set up a title for this post so that is title colon space inside of quotes i'll call this the great gatsby bootcamp then down below i'll also set up a date right here 2019 the fourth month and the fourth day then we can just put a little bit of content on the screen so right here i just launched a new boot camp then i'll set up a second header using two hash signs followed by a space for a new section i'll call that topics covered then down below i'll just list those out so i have gatsby as the first one i'll go ahead and put graphql in there and last up is react so there we go we have some front matter and we also have our blog post content itself with a couple of things for markdown that should end up becoming different in terms of how it looks on the screen i would expect this to be a small paragraph and this to be a large header now let's go ahead and do the same thing for the react post so right here we want to set up that front matter the title for this one can be something simple like react and i'll set the date to an earlier date so right here i'll use 2019 the fourth month but the second day so two days ago then i'll add the content below in this post you'll learn react perfect so what do we have we have a blog with two posts the gatsby post and the react post what we need to do is figure out how to get this inside of gatsby because once it's in there we need to transform it from markdown to html and we need to get that rendered to the screen step one though is to tell gatsby that we're now sourcing content from an external source it's coming not from site metadata not from a cms not from a thirdparty api it is coming from the file system everything we need is right here in the posts folder there's a plugin that's gonna let us get that done let's head over to the browser and go back to the gatsby site if we scroll up a little bit we're gonna head over to the plugins page and we're gonna use the search bar to just search for source right here we're going to see all of the gatsby plugins that allow us to source data from an external source for example bigcommerce a postgres database custom apis instagram google photos vimeo trello and more now in this case we're not trying to source from any of those our content lives on the file system so we're trying to source it from the file system right here source hyphen file system is going to bring up the gatsby plugin that we're going to use so this plugin is going to allow us to pull those markdown files into gatsby then a little bit later we'll use another plugin to convert them from markdown to html we can actually render to the screen let's get started though by adding this plugin into our gatsby project and getting it configured so over here we're going to shut down our current development server i'll use clear to clear the terminal output and we're going to install that new plugin so npm install that is gatsby hyphen source hyphen file system at the latest version 2.0.28 i'm going to run the command it is going to set that up and all we need to do is enable it by adding it to our plugins array over in the gatsby config file now we've only worked with one plugin before and it didn't require any customization i simply listed out its name as a string and that was enough to get the job done with the file system source plugin there are a few options we have to provide so the setup looks a little bit different let's add a second item onto the plugins array and this second item is not going to be a string it's actually going to be an object now when we set up a plugin as an object we still have to provide the plugin's name and we do that via the resolve property so right here as the value for resolve we type in the plugin's name that is gatsby source file system and there we go this is identical to what we have above the only advantage is that now we can expand on that object adding what the file system plugin needs which is an options object on options we have to provide two things both our strings first up is a name we can pick source for this and the second is the path to the directory on the file system that we're trying to source our content from so right here that's path and we're going to use a template string to get the job done to start off let's interpolate a value that is double underscore der name if you're not familiar this comes from nodejs and remember this is a node.js file that's why we're using module.exports instead of the export syntax and after der name all we have to provide is forward slash source forward slash so with just this little bit of setup we're now telling gatsby to source content from the file system this includes everything in the source directory which would also include our markdown posts now that we have this in place let's start up that development server once again so down below npm run develop and what we're going to do is head over to graphql playground and i want to take a look at exactly what's been added with the addition of this plugin because there are two new queries we now have access to so over in the browser we'll go back over to the playground and give things a quick refresh if we head over to the docs we're gonna see we have two new queries that did not exist before we have a file for fetching an individual file and we have all file for fetching multiple files let's go ahead and use all file to explore some of the files in our project right here under type details we can see we have edges that's what we want edges makes it possible to perform pagination and in there we have access to node node represents an individual file and here we have a bunch of information about the file that we're currently requesting we could request its size the extension the absolute path when it was created the directory the name all sorts of interesting things show up inside of here now remember this did not exist before because we were not sourcing content from the file system now that we are we can actually use that right here in graphql playground and that's exactly what we're going to do so i'm going to remove our current query by removing everything from inside of it and we are going to use all file and from there as mentioned we're going to grab edges and for each edge we have the node and in the node we have access to whatever we want about that file let's go ahead and grab the name the file's name we're also going to grab the extension finally i'll choose to grab the directory as well using dir now if i go ahead and run this we're gonna see a list of every single file in our source directory with these three pieces of information so here i have about with the js extension that's sitting in the pages folder that's correct below that i have blog and contact i have our index page the header component the footer i have our css files in there as well and if i scroll to the bottom i can see that amongst those other files i have my gatsby markdown post right here and down below i have my react markdown post so now we are correctly sourcing content from the file system from here the question is how do we specifically target these markdown files and how do we take their contents and convert them into something that's useful for us inside of react components so this is just step one of about three steps to getting the markdown blog up and running in the next video you're gonna learn how to transform these markdown files into html you can actually use and render i'm excited to get to that so let's jump right into the next one welcome back to the great gatsby boot camp now that we have the gatsby source file system plugin set up we have pulled in files from the file system allowing us to access them via gatsby's graphql api in this video we're going to take that to the next level what we want to do is target just our markdown posts and we want to parse them from a file like this into content that's actually useful i want to be able to pull out things like the title the date and the post body so i can render them to the screen we're going to get started with that process in this video and to start we're going to use another gatsby plugin that pairs with the gatsby source file system plugin so this is going to load those raw files from the file system the plugin we're about to use is going to look for markdown files in there and it's going to parse them into useful data we can find this by heading over to the gatsby plugins list right here if we go ahead and search for something like remark we should find the one we're looking for it is gatsby transformer remark so we used a source plugin to pull content from an external source now we're using one of the many transformer plugins to transform that content into something useful and this plugin could not be easier to use there is zero configuration we just install it set it up and we have access to our post data so let's see what this looks like in visual studio code i'm going to shut down the terminal use clear to clear that output and we're going to install it that's npm install gatsby transformer remark at the latest version which is 2.3.8 now if you're wondering what remark is that's a standalone javascript library for parsing markdown files so all we're doing here is using a gatsby plugin that runs that library behind the scenes i'm going to go ahead and run the installer and up above we can set this up in our plugins array at the end of the array we're going to add a new item and this is just going to be a string with the plugin name gatsby transformer remark there's no need for any options like we had up above as this plugin doesn't require any configuration now that we have this in place we can save the config file the installation has completed down below and all we're going to do is start up our dev server once again so npm run develop and once the server's up and running we'll actually be able to access our parsed markdown posts via the graphql api i'll be able to extract the front matter i want as well as the html for the blog post body so let's see that in action over here we have graphql playground i'm going to give things a quick refresh and if we crack open the docs under our queries list you'll notice down at the bottom we have two new ones i have markdown remark and all markdown remark the first one is used for fetching an individual post the other one is used for fetching a list of posts and that would be useful for something like the blog page where i might want to show all of the posts i've ever published with the most recently published ones up top so to get started we're going to use this query to fetch some data about every single post we've created now in this case we just have two i'll crack open a brand new tab we're going to set up the query we are going to use all mark down remark then we can take a look at what exactly we have inside of there and the structure is really similar to the general structure over here with edges and node in the docs down below all markdown remark we have edges we have node and node contains things about our post we have the front matter this is where we can access the title and the date and anything else we choose to add and we also have access to things down below like the html for the post the excerpt and all sorts of interesting information like time to read which is calculated based off of the post's length so let's go ahead and actually grab some of this data in our query over here that's edges node and in there let's just start with the title so the title is in front matter we're gonna grab the title i'm gonna fire off this operation and what do i see i can see i have two posts the first with the title of react and the second down below with the title of the great gatsby boot camp from here we could grab additional information like the date outside of front matter but still in node i could also grab stuff like the html or an excerpt depending on what exactly i needed in this case let's grab both i'll fire off the operation and right here we can see we have the parsed html for our post and an excerpt we could show in our list of posts now this post was pretty simple but if i scroll down we can see there's a more complex html structure for our more complex post i have the paragraph i have my header i also have my ordered list with the list items that i set up so all of this markup is based off of what we put in those markdown files now that we actually have access to this data via the graphql api we can run queries from our components to pull this data in and use it to render a list of the posts available getting that done is gonna be your challenge for the video so let's talk about what i'd like you to do over here we're gonna move into the pages folder in there we have the blog file this is where you're gonna spend your time for the challenge and i'll paste those challenge comments in just above so the big picture goal is to show a list of posts on the blog page now for the moment we're not worried about linking to any other page where the whole post is showing and we're not even worried about rendering the post body all we want to do is render the title and date for each post so to start down below you're going to need to query the graphql api fetching the title and date for every single blog post using what we just talked about over in graphql playground then in the page down below you're going to render an ordered list using the ol element from there inside of the ol element you want to render a list item for each and every post the list item should have a nested h2 header tag for the title and a paragraph tag for the date now if you don't remember how to take an array of objects and convert that into a list of jsx elements you can google something like render array of objects react and that'll get you to the right place and get you the information you need to jog your memory now there's no need to do all of this at once before ever testing things out test it in stages run the query use console.log to print the data to the terminal make sure that looks good and get comfortable with the structure of the data then use what you've learned there to actually get stuff rendered to the screen finally test your work on the blog page of the site i should see my two post titles react and the great gatsby boot camp both with their dates just below alright knock that out test your work and when you're done come back and click play all right how'd that go if you ran into any trouble along the way the good news is as always we're gonna work through the solution together now i said the solution more like a solution as there are plenty of different ways you could have structured this now step one is to query that data and we can't do that without importing a few things from gatsby we need graphql and we also need use static query grabbing those from the gatsby library and once we have both of those in place we can move into the function for our blog page component and actually set up a query similar to what we have over here we need the title and we need the date so const data is going to equal we'll call use static query providing graphql along with our template string and in here we're going to have essentially the same thing we have over here but without html and excerpt which aren't needed so right here let's knock that out we'll start with query we're trying to use the all markdown remark query then we're going to go ahead and grab edges from there node from there we need the front matter which contains all of the data we're looking for and we want title and we also want date perfect so now that we have the query in place let's just use console.log and dump the data to the terminal to make sure this part is actually working as expected if we get the correct data then we'll move on to steps two and three actually rendering it on the page for now though i'm going to head over to the blog page i'll crack open the chrome dev tools right here i have the console and down below i have an object this is the data variable we have all markdown remark and we have our edges array where each edge represents a post right here one of the posts as an example has that node property we then have front matter and on there we have date and title so the structure we're getting back here is the exact same structure we got back over here now let's actually use that to render some content to the screen so remember step two was to set up an ordered list and i'm going to do that down below i'll remove the paragraph i'll set up the ordered list and inside of here we want to put a list item for each and every post we found that means we want to iterate over that edges array and we want to take the edges object and we want to convert that to a list item so let's actually get that done right here setting up some curly braces and we're going to access that array that's data dot all mark down a remark exactly like we just saw in the terminal from there we grab edges and that's an array now we have an array of objects and what we want is an array of jsx elements so i'm going to use the map function to convert the object over to jsx now in this case our function gets called one time for each edge so one time for each blog post and right here we'll get access to the individual object which i'll just call an edge now it's the job of the map function to return some jsx this is going to show up for each and every post so right here we start off with a list item and i mentioned in there i wanted a header to tag and i also wanted a paragraph so i'll set those up as well now all we need to do is pull the title and the date off of edge and put them right inside of these two elements so we'll start with the title over here we can see that for one of the array items we have the node property then front matter then date and title so that means over here it would be edge dot node dot front matter dot title and with this in place we could test our work so far to make sure at least the title is showing up and it is right over here i have react followed by the great gatsby boot camp next up we have that paragraph and i want to put the date right inside of there that'll be edge dot node dot front matter dot date identical to what we had up above just accessing something different from the front matter now we can actually remove the console.log call as we're all done we have successfully fetched the data and used it to render a list to the screen if we check things out in the browser we have our list item one the title is react and the date was april 2nd and here we have the great gatsby boot camp post with the date april 4th with this in place we've made some really great progress towards what we're working towards now this page is not done yet we do need to link over to a blog post page and eventually we're going to include some additional information here but this is a really good start next up over in the terminal all i'm gonna do is close down excuse me delete the challenge comments and that's where we're gonna stop for this one we have our query which is fetching the markdown post data down below we're using some jsx and javascript to get everything rendered now the question is how do we create a new page for each and every post i mentioned what we're not gonna do is manually add new files to the pages directory instead we're going to use a gatsby api that's going to allow us to dynamically generate new pages with dynamic content so we'll be able to generate new pages where the page content is the blog post content i'm excited to get to that and we'll be starting that in the next video so let's go ahead and jump right in now that we have a list of blog posts on the blog page it's time to dynamically generate pages for each and every post so if i want to read this post i click on the title that brings me over to a new page and that new page is dynamically generated using the markdown data from graphql and a blog post page template which is nothing more than a react component and we're going to use that same blog post page template for every single blog post since as we saw in graphql we have a standardized set of data i have a title i have a date and i have the body content for each and every post now let's head over to visual studio code close all open editors and i'm just going to crack open a new file where i'm going to outline what we're going to cover in this video the reason i'd like to outline things is that we'll be spending a little time working with the internal gatsby api and that can be a confusing topic so it's a good idea to have the big picture in mind goal number one is to generate a slug for each post so let's say we have a post like our gatsby post that is gatsby.md that is the markdown file what we want to do is generate a slug which is nothing more than the file's name stored as a string gatsby that's going to allow us to set up the url where someone will be able to view this post now that url could be whatever we like for example it could be forward slash gatsby or something a little more complex like forward slash blog forward slash gatsby either way though we need the slug from the file name in order to set up the correct endpoint where that particular post should be accessible so that's goal one generate a slug for each post goal two is an easy one for us we are going to generate the blog post page template that's nothing more than a react component and there's not a lot to say about that for now pretty straightforward next up and the final thing we're gonna do goal number three is to actually combine those two so we want to generate a new page for each post so in order to generate that new page we're going to need a template and we're going to need access to the file and the slug so we can set up the correct url where someone will be able to view our new dynamically generated page so those are the three goals and to get started what we're going to do is actually create a new file that currently does not exist in our project in the root of the project this file is gatsby hyphen node.js this is the gatsby node configuration file which allows us to tap in to a lot of the node apis that gatsby exposes this is what we're going to use in order to generate that slug and in order to dynamically generate those blog post pages before we start using these internal apis let's check them out over in the gatsby docs so you know where you can learn more i'm going to head over to the gatsby website we're looking for the docs page here we need to scroll all the way down in the sidebar and go to api reference once we're there we're looking for the gatsby node apis these are all the things we can define in that new file we've created and on that page if we scroll down just a little bit we get brought to a list of all of the different apis we can tap into using that new gatsby node file now in this video we'll end up using two of them and the first one we're going to use is on create node this is what's going to allow us to attach some new data on to the individual node and what we're going to do is attach the slug so we have access to the slug throughout the entirety of our application if you're wondering what a node is remember it's nothing more than a data structure for storing your gatsby data and we already saw this in place with the graphql queries that we ran in the last couple of videos so right over here we have the all markdown remark query we grabbed the node to grab individual data about the particular markdown node here we grabbed the front matter html and excerpt and there were other fields which we didn't grab but were available so that is the individual node this api allows us to do something when that node is created so when a new markdown node is created all we're going to do is attach the slug field onto it and that's nothing more than a string the file name without the dot md extension so right here we're going to take this code and bring it over into that file now this file is indeed a node.js file so right here what we're going to do is set up module.exports exporting the very first thing on create node so that's how we use this file we export functions and these functions get registered to gatsby and run when they're supposed to in this case our function runs when a new node is created now over in the docs we saw we get access to an argument and we can destructure that to get access to the node and to some actions which are destructured down below now we don't need create node but we do need create node field so we're going to make sure to grab that as well right here let's destructure this argument grabbing the node and grabbing our actions then down below i'll destructure the actions grabbing create node field from actions and there we go we have our little boilerplate version of the function in place now it's time to actually see what this is going to do for us and how we're going to use it to generate the slug field first thing i'd like to do is just use console.log to print the node to the terminal so we can see what exactly we get now when we use just this it's not going to print in a way that's easy to see so let's pretty print the node instead with the following here we're just going to use json.stringify to convert the node object over to a formatted string that'll make it a lot easier to view things down below so right here how do we call stringify while we pass in the object as the second argument we provide undefined this is an optional filtering function in this case we want to see everything so we'll leave that off and the final argument is the number of spaces we want to use when printing it to the terminal in the formatted version here i'll just use four so now we're going to see a pretty printed version of the individual nodes when we restart the server because that's when oncreate node runs so down below let's shut down the terminal i'll use up and enter to restart the server and when we restart it we're going to see our console.log call print a bunch of new objects to the terminal which is exactly what we got the first object right here is quite large it runs from up above it contains about two dozen different properties and it runs to down below now the only thing we're concerned with about this object is internal internal itself is an object and on there we have a type property this is the type for the current node and in this case we can see the type is site page site page is a builtin gatsby type this is for new pages on our site and right here we can see this is for index.js in the pages directory and that is our home page now if we continue to scroll up we'll see site page nodes for the other pages we've defined so up above we have site page for contact then we have site page for blog followed by site page for about then we have a page that's generated for us site page for dev404 page now don't worry you're going to learn how to create a proper 404 shortly but past that that's where things start to get interesting up above we have a new node and the internal type is markdown remark these are the nodes that we actually want to tap into so oncreate node runs for all of the nodes for our gatsby site we don't want to do something for all of the nodes i just want to do something for the markdown remark nodes i want to take that entire file name i want to reduce it to a slug and i want to add that as a new field onto the node so it's easily accessible throughout the rest of our app so that's exactly what we're going to do here we have the node for the react post up above we have the node for the great gatsby boot camp which also has an internal type of markdown remark so to take this to the next level we're going to set up an if statement we're going to look at the nodes internal type when it equals markdown remark then and only then are we actually going to do something now for the moment we can just take our console.log call and move it inside of there to make sure it's still running when expected so i'm going to save the file i'll restart the dev server down below and now i should still see some logs print but i should only get two one for each of those posts right here i scroll up the first one is an internal type of markdown remark which is great above that we have our other post and above that there's nothing so no longer are we seeing the nodes for our site pages and that's what we want we've now successfully targeted just the nodes we're actually trying to manipulate now if we head back to the node up above we'll see there's one particular field that does contain the entire file path that is file absolute path that's available on both of our nodes and this is what we're going to tap into we're going to take this we're going to remove the entire path except for the file then we're going to remove the extension leaving us with just the slug in this case gatsby or in the case up above just react now there's actually a nodejs module built in called path which allows us to manipulate the path and that has a function which allows us to extract the file name from a complex path like the one we've seen so we can find the documentation for this at nodejs.org here we want to go to docs once we're on docs we want to pick a version the api we're using is pretty standardized so it'll be the same no matter which one you pick we're going to scroll down to path these provide a bunch of different methods for manipulating string paths and we're looking for one called base name base name takes an entire path like this one here and it reduces it to just the file name and the extension we can use the second argument however to remove the extension leaving us with just the file name and that is exactly what we're trying to do so let's go ahead and close down the documentation here and actually get that done up above i'm going to load the builtin path module const path comes from requiring path there's no need to install it as it's a node core module and down below what we're going to do is try to get access to the slug so constant slug is going to equal we'll be using path dot base name like we just saw in the docs we're going to provide the path and we saw that on node file absolute path and then as the second argument the extension.md which we're trying to remove and that should leave us with just the slug let's actually see if that's the case i'm going to remove the old console.log call and add a new one into the mix right here i'll print a bunch of at signs to make this easy to find in the long list of terminal output then as the second argument i'll print the actual slug so i'm going to save gatsby node i'm going to shut down things from the terminal and i'm going to start them up once again and hopefully we see our little message printing twice once for each markdown post right here i did see them move by i have the first one with the slug of gatsby and the second one with the slug of react so we've successfully extracted the data to get the slug now we have to call create node field to actually add the new field onto the node and this one really isn't too bad down below we'll remove that console.log call we're going to call create node field and we need to provide an object with three different properties the first is the node we're trying to create the node field on now here i'm using the shorthand syntax to set the node property equal to a variable of the same name then down below we need to set the name for our new field i'll go ahead and use slug for this and finally the value what is the value for slug well i have that stored in the slug variable and that is it this is all we need to do to achieve goal number one of adding the slug on to our markdown nodes now let's go ahead and test this out so i'm going to restart the project from the terminal for the final time and instead of looking at something from a console.log call we're actually going to try to grab the slug for our posts over in graphql playground so over in graphql playground we can go ahead and check things out right here we have the node with the front matter html and excerpt based off of the new stuff we just set up we also have something called fields and fields has a single field that is the slug perfect now if we actually run this we're gonna see that for each post we do get a slug right here we have the great gatsby boot camp we have the slug of gatsby and down below we have the react post with the slug of react so there we go that is goal number one achieved we've successfully created a slug for all of those blog posts the next two goals are what we're going to focus on from here on out now originally i was going to have this all as one video but let's take a moment to take a break as this went on a little longer than i wanted to but i wanted to move through the individual steps using console.log so we could actually see what we were doing with this code over here so that's it for this one in the next video we'll wrap things up by setting up the template and actually dynamically generating those new pages i'm excited to get to it so i'll see you then it's time to continue on with our three goals we already have our page slugs goal number two is to generate a new template for the blog post page and we're going to do that by creating a new directory in the source folder called templates now the reason i'm creating a new folder is that i want to differentiate the react component we're about to create from the standard components in the components directory or the specialized components in the pages folder here we're working with page templates and those are going to work slightly differently so we'll create this new folder in there we'll put a new file i'll call this blog.js and in here all we need to do is create and export a react component the template for our blog post pages so right here let's start with the very basics i'm just going to import react from react then down below i'll set up the blog component which is just a function and i'll have it return some static text now i'm actually going to put that text inside of a layout so let's import layout real quick as well importing layout from dot dot to get out of the templates directory forward slash components forward slash layout now we can use it and actually render some content to the screen so right here layout in there this is the blog template now you'll notice that we're not rendering anything specific about the post like the title the date or the actual body we'll work on that in just a little bit for now we just want to get the basic template file in place down below export default blog and we're done so we have the template in place for each and every blog post page that is goal number two the third goal is to generate a new page for each post and that's going to require us to use another api from inside of the gatsby node config file we can check this out over in the api docs so right over here what i'm going to do is scroll to the top of the node apis page back to that table of contents and the one we're looking for is actually the very first one as of now create pages create pages gives us everything we need to dynamically generate new pages for the site now down below we can see exactly how this works don't worry we're going to work through all of this together and we'll actually be using a slightly newer syntax to make life easier what i really want to focus on are just these two lines right here we export a create pages function and gatsby gets access to that function and runs it a single time and we destructure that first argument to get access to graphql and actions graphql is going to allow us to fetch some data in our case we want to fetch those markdown nodes which contains the data we need and on actions we get access to an action for creating a new page so let's go ahead and actually set this up then we'll work through the rest of the function getting everything in place so right over here inside of the gatsby node file module dot exports dot that's going to be create pages with a capital p and this is just a regular old function now i am going to destructure that first argument like we saw them do in those api docs the first thing we have access to is a graphql function it's actually a little different than what we've been importing from gatsby in the past and the second thing we get access to are a bunch of action functions in this case just one right here we're going to grab that it is called create page and we're going to call it for every new blog post page we're trying to create right here i'm just destructuring that from actions which is itself an object so down below we can now take advantage of this api to dynamically create the pages and we need to do three things one get path to template two get markdown data and then finally three render excuse me not render create new pages so these are the three things we need to be able to do and the first one is super easy we just want to get the path to that new template we've created that's blog.js i'm going to store this in the following variable i'll call it something like blog template and this is going to be a path an absolute path to that file on your machine starting way back from the root of the hard drive and to do that we'll use path dot resolve that'll resolve a partial path which will provide as a string right here now for us this needs to be the path from our current location in the gatsby bootcamp folder to the destination which is blog.js so that's dot forward slash source forward slash templates forward slash blog.js the resolve function itself is going to add everything up front to create an absolute path from the root of the hard drive now the next thing we need to do is actually fetch the markdown data we need access to all of those slugs so we can dynamically create these new pages now we already know how to query those we've done just that in graphql playground and we're going to use a similar query inside of the node file now we don't need to grab anything except for the slug so the operation we'll be performing is going to look a little bit like this the end result is that we get a bunch of edges with the slug defined for each that's all we need now let's head over to the file and talk about graphql this is not the same as the graphql we've been importing from the gatsby module in files like our header component this is actually a function itself that we pass a string graphql query2 right here that's going to be graphql we're going to pass to it a template string and in here we just type out the query we want to perform exactly like we have over in graphql playground so it's a query that is all mark down remark from there edges from there node from there fields and finally slug so this is what we need to provide in order for everything to get fetched correctly now you'll notice that we're not doing anything with the return value this function actually returns a promise so we have a couple of different options i can add a then call down below to get access to the value that eventually comes back or i can use async await which is what i'm going to do so right here we're going to mark this function as async then i'll set up a new constant response and i'll be awaiting the promise from this function now unfortunately i can't dive deep into async await in this particular video as i want to stay focused on graphql if you're not familiar with the syntax though it is nothing more than a way to make a promise api look a little more unasynchronous so right here we have some very synchronous looking code down below we can now do something with the response now what exactly are we going to do well we want to iterate over all of those posts and we want to run that create page function for each of them so right here we have our response we have data we have all markdown remark and on there we have edges now we're going to use the for each array method to run a function this function right here for each of those now if we have an array of edges i could call the individual element something like an edge and now inside of here the goal is to call create page so i'm going to call create page and i'm going to provide to it an object and on here we have to provide three things first up is the component we're trying to render now the component is not an actual react component it is just the path to the component and we already have that up above i have the blog template string which i'll use down below the next thing we have to add on here is path so we're creating a new page but where exactly should someone be able to access the page we're creating for example forward slash test would be localhost 8000 forward slash test in our case though it's going to be dynamic based off of the slug that each post has so i'm going to use a template string that's forward slash blog forward slash the slug so right here inside of the template string will interpolate the following value that's node excuse me edge.node then we're going to grab fields and we're going to grab the only field we have slug so now when i visit forward slash blog forward slash some slug i'll see that blog post page rendered down below just one last thing that is context context is an object and this contains stuff we can pass down to that template now in our case the only thing we really need is the slug if that template has the slug it can fetch the rest of the data for the post like the title the date and the body content so right here we're going to pass the slug through which you could consider kind of like an id as it is unique for each and every post and right here we'll just use the following that is edge.node.fields.slug once again so this is going to run twice creating two new pages the first is forward slash blog forward slash react and the second is forward slash blog forward slash gatsby both are going to be rendered using the template we've defined and both will have access to a little extra data which they can later use to pull everything they need about that blog post now that we have this in place we're all done i know that this indepth configuration can be a little dry but if you are interested in using gatsby being comfortable with create pages and with oncreate node is essential for doing what we've just done here this exact same stuff is just as essential if you're pulling your data from a cms like we'll see a bit later for now though let's test things out down below i'll shut down the server i'll start it up once again and we're actually going to try to visit one of those two pages let's start with forward slash blog forward slash react over in the browser i'll head back over to the gatsby site here we're on the blog page now we don't have links to our post pages yet so we'll have to manually visit them i'll go to forward slash react first if i visit that what do i see i see this is the blog template which is awesome if i go to forward slash gatsby what do i get i also get that blog template and if i go over to something else like forward slash node what do i get right here i get a 404 page so there is no node blog post but if i were to create it this particular page would exist and we would actually be able to view the blog so let's go back to one of the post pages that did exist and there we go we now have a way to dynamically generate pages now we're not done yet there's still two very important things we want to do on this page we actually want to render the post content and on the blog list what i want to do is link to the individual blog post pages now that second task is something you already know how to do so that's going to be your challenge for the video then in the next one we'll focus on pulling in the individual data to the template component so for the blog page what you want to do is actually create clickable links for each and every post that heads over to the correct url so let's talk about what i'd like you to do we don't need any of these files any longer including our little goals list as we've completed all three of those the only file you're going to need is the blog page and just up above i'll paste in the challenge comments so the goal is to link to the blog posts in the list that we're rendering down below now right here to get that done first you're going to need to fetch the slug for each post by modifying our query down below then you need to use that slug to generate a link make sure to use the link component provided by gatsby and you want that to go to the correct location so forward slash blog forward slash slug finally test your work actually pull up the page in the browser click those links and make sure it brings you over to the correct blog post page all right take some time to knock out those three steps test your work when you're done come back and click play how'd that go let's get to it and the first thing i'm going to do is grab the link component from gatsby as i know i'm going to need it a bit later down below we want to make sure we fetch the slug for every single post now we have that query right here inside of node alongside of front matter we want to grab fields and in there we want to make sure to grab the slug so we can actually use it when creating our links destination now down here when it comes to modifying the structure i didn't give you any specific rules for how to create the link or what to put inside of it so for now anything works what i'm going to do is set up the opening tag for link right here and i'll put the closing tag below the paragraph making both of those clickable perfect now all we need to do after indenting things is to set up the two property and this needs to be dynamic there is no one static destination it is based off of the static text forward slash blog forward slash and the dynamic text stored in that slug field and for us right here that would be the following edge dot node dot fields dot slug so there we go we have our link in place and hopefully it's working as expected before we actually test this out i'm going to remove the challenge comments up above save the component file and now we'll make sure our link is working over here i have the blog post page and i am seeing links for both posts if i click the react one i'm brought over to the react page if i go back to the blog page and click the great gatsby bootcamp i'm brought over to forward slash blog forward slash gatsby which is awesome so at this point when it comes to the markdown blog there is only one thing we need to do we need to figure out how to actually use the slug in this template to fetch the data the title the date and the post body because all of that needs to get rendered to the screen that's what we're going to do in the next video so let's jump right into that in this video we're finally going to render the post content on the post page replacing our little placeholder text with actual data about the post like the title the date and the post content now to get this done what we need to figure out how to do is how we can set up a dynamic graphql query this query needs to accept the slug and it needs to give us back the data for the associated blog post so over here in our template file what we have access to is the slug and we can't just have a static query we need a dynamic query that actually takes that slug value into account so to get this done let's start in graphql playground i'm going to crack open a new tab we'll figure out how to use graphql variables and arguments and once we know how to use them we'll actually integrate that into the blog post page template you can view the docs to see exactly which query we're going to use down below we've already used all markdown remark to get a list of posts here we're going to use markdown remark to get a single post now up above we have the call signature we have the query name followed by the list of arguments followed by what we get back which is markdown remark and here we can see the type details of that and we've already used this sort of stuff fetching things like the front matter the html or the fields and that's stuff we're going to end up grabbing if we keep scrolling down though to the arguments list this contains all of the different ways we can target the post we're trying to fetch and in our case we're going to target it by its fields so i'll be using the fields argument and in there the only field we actually have is a slug and there are a few different ways we can target it we're going to use eq which is short for equality that will allow us to target a post by its slug value let's actually get that done i'm going to collapse the documentation and we'll set up a sample query right here let's get started with the query in this case that is mark down remark from there we're going to provide our selection set what exactly do we want to grab in this case let's just grab the title so that's front matter accessing the title when we actually wire this up in the component we'll grab more data so we can render it for now though we actually have enough in place to run this if i run it what do we see we see we're getting back an individual post the great gatsby boot camp being the title so by default if we don't provide any search criteria it's just going to return the first post it finds now that's not particularly useful for us we want to target it by the slug value and to do that we have to set up arguments for our query the arguments come right after the query name and you could list them out right here on the same line but it's common to break those out into separate lines like so and inside of parentheses we can specify the arguments we want to provide in this case the only one we want to provide is fields so that's fields colon space followed by the value now in this case the value is an object because we want to target by slug that's also an object and in there we want to target by equality now this is just a string right here we can target by any of our slugs for example react so now we're fetching data about an individual post but it's targeting a specific one and if i run the operation i can see i'm getting the data for that post back which is great now i could change this over to gatsby and i could run that and we get that data and i could change it to gatsby with two y's which does not exist and in that case we get null as there is no post with that slug so this is the basic idea of what we're trying to accomplish now that we know about arguments for our queries the one other thing we need to talk about is query variables query variables is nothing more than a set of data passed into your query your query can then use that to populate things like argument values so when we type out our operation in the component we don't want this data in line this is static we want it to be dynamic so down below when we're using graphql playground we can provide query variables by just clicking that item at the bottom and setting up some json so right here i'm going to set up one key value pair i'll have the key be slug and the value will be the slug value like react this is exactly what gatsby is going to do so it's important to understand how these work now what we need to do is set up our query to actually accept that variable slug and we define that right here after the query keyword inside of parentheses in this case like we did down below we start with the variable name prefixed by a dollar sign so that would be dollar slug to match up with what we have down below then we define the type for slug so we have to be explicit about that and in our case that would be string that's capital s string dollar sign now i'm not going to dive into the details about all of the other types that graphql supports there's a lot of great content out there on graphql and i also have a udemy graphql course if you're interested but with this in place we now have enough to actually use this variable down below as the argument value so right here instead of a static string it is dollar sign slug we run it and we get our react data so this is exactly what we need to do from our component file we can get started by grabbing this entire query and copying it to the clipboard then over in visual studio code we can focus on getting this set up the first thing we need to do is import something from gatsby right here i'm going to import graphql from gatsby now in the past we would have also imported use static query but our template files work a bit differently instead of calling use static query we will instead define our query separately and export it and the reason for this is that currently there's no way to access the context which contains our slug if we were to work with use static query so this alternative approach is going to work really well just for our template files and this is the only one so right here we're going to create a new constant called query and we're going to set this equal to right here we'll use graphql along with a new template string like we've done before and then we're just going to paste the entire query in now by default it's getting reformatted and that's okay it just put all of our arguments and variable definitions on a single line down below we're still grabbing the title in addition i'm going to grab the date from front matter and just outside of front matter i want to grab the html for the post as well now to ensure that gatsby can actually access this query and run it we need to export query as a named export by just tossing export right up front so gatsby's going to grab this graphql query it's going to run it now the variable slug is going to come from the context we set up when we created the page then it's going to take the response all of the post data and it's going to provide that as a prop to our component down below so we're actually all done up above and down here we can set up our props and start to use them the first thing i'm going to put inside of layout is an h1 we are going to render the title right inside of there now here's the structure for that right here it's props dot data this contains the response so that means on there we have a markdown remark property let's grab that and once we have that we can grab front matter and title and there we go that's all we need to get our header rendered to the screen now let's actually test things out by heading over to the browser and right here i see the great gatsby bootcamp which is excellent so next up we have our paragraph i'm going to use the paragraph to render the date that's props dot data dot markdown remark dot front matter dot date i'm going to render that to the screen and make sure it shows up right here we have it which is great and then from there we'll continue on with the last thing which is going to be a container a div now we already have access to the html and to render an html string inside of a component we set up a div and we use the following prop it's called dangerously set inner html i type da and i see it showing up in the auto completion options this is the one we need to use in order to set our markup from an html string now right here we provide as that prop value and object so inside of curly braces i set up a another set of curly braces for the object itself and the property is underscore underscore html we set this equal to the html string we want to render in our case that's props.data dot markdown remark dot html and we're done now if we actually save things we can check it out over in the browser and what do we get we get our post we have a paragraph for our text we have a header for the header we created in markdown and we have a nice list down below for the list we set up so there we go we have our complete blog structure i have the blog page with the list of all of our posts i can click one to go over to that post i could then go back to the blog and click on another one now that we have the basics of a gatsby markdown blog in place there's just one other feature i want to add to our markdown blog which is the ability to set up images in our posts once we're done with that which is the topic of the next video we'll start to focus on sourcing our content from a cms i'm excited to continue on with the bootcamp so let's explore how we can work with images in our posts now that we have post content rendered on our site what i want to focus on in this video are two final things before we move on to sourcing our content from the contentful cms we're gonna focus on adding support for images in our posts and we're gonna add a few final styles to make the post and the post list look a little nicer than they currently do but to get started what i want to do is figure out how we can add images into our posts and this is really going to require us to just install and configure three new gatsby plugins now before we get to any of that we need an image to actually put in one of our posts you're more than welcome to use any image you already have if you want to use the image i'm going to use you can head over to links.meade.io forward slash grass pick when you visit that url it'll redirect you over to this picture of some grass and we're going to save this image to the project so i'll right click save image as on the desktop i have my gatsby bootcamp folder and there we have the source posts directory and for the moment i'm just going to put this file right alongside of my two markdown files so let's save that file in its place i can close that tab and over in visual studio code we can make sure it's actually showing up inside of posts we have grass.png and right here we have our image now we want to render that image in one of our posts and i'm going to put it in the gatsby bootcamp post i'll put it right here just below that paragraph text and just above the topics covered list now to add a image to markdown we use the following syntax it's an exclamation mark followed by a pair of brackets followed by a pair of parentheses in the parentheses we put the path to the image in this case we're going to have a relative path from this file to the image they're in the same directory so that would be dot forward slash grass dot png then we can set up our alt text for when we're unable to load the image or for when someone's using an accessibility device like a screen reader we can just use grass for that so with this in place we now have the finished markdown post and before we actually install and configure those three plugins i talked about let's just see what we get in the browser right here we get our alt text so by default gatsby doesn't know where you're trying to fetch the image from what we need to do is install and configure those three plugins to set up support for this sort of syntax right inside of our blog posts so to get started in the terminal down below what i'm going to do is shut down the dev server use clear to clear the terminal output and we're going to run npm install now the first plugin we're going to install is gatsby plugin sharp and this plugin allows us to use the sharp library inside of our gatsby site the sharp library provides all sorts of tools for working with and processing images and it's a dependency of the other plugins we're going to use so this needs to get installed at the latest version 2.0.32 next up that is gatsby hyphen remark hyphen images and this is what's going to allow us to use images inside of our markdown posts when they're processed with remark right here the version for this one at 3.0.10 and the final one we're going to install is gatsby remark relative images this is going to allow us to source images relative to the markdown file so in this case dot forward slash grass dot png is going to correctly render the image right here and the version for this one at 0.2.2 now we can go ahead and install all three of those and while that's running in the background we can head over to our gatsby config file as we're going to need to make some pretty big changes to the plugins array now the first plugin we're going to set up is the sharp plugin and that's going to go right here before we transform our markdown files so right here that would be the following gatsby plugin sharp now no options are required for this which is why i'm providing it as a string as opposed to an object up above now the other two plugins we installed are both remark specific we installed gatsby remark images and gatsby remark relative images both of those actually get configured in the options object for this plugin that means we need to remove it from just being a string and switch it over to being an object and resolve resolves that same plugin value so at this point what have we done we haven't added any new functionality but now we do have a structure where we can set up options since it's an object and not just a string and that's exactly what we're going to do so right here we're setting up an options object and on this options object we're setting up a plugins array so these are plugins specific to the remark transformer and this is all outlined in the docs for those specific plugins so if you're wondering how i knew the documentation can guide you in terms of how to configure things now right here what we need to do is set up both of those plugins like we would do with our main plugins array so the first one is just going to be a string as no options are required that is gatsby remark relative images and the second one that's going to be an object as there are some options we want to provide so right here resolve this is gatsby remark images and we're going to provide an options object just down below now there are only two options i want to provide and the first is max with so let's say i have an image that's 1920 by 1080 a standard hd size the problem is that i use css in my blog making sure that the blog width never gets past 750 pixels wide so that image is unnecessarily large for the context in which it's going to be used we can have our gatsby site automatically resize it using sharp and our other plugins by setting max width equal to a value in this case i'll use 750. next up i'm going to customize link images to original this is another option we have available and i'm going to turn this off otherwise when you click an image in the post it brings you over to the actual location of that image and that's not really behavior i ever enjoy when i'm reading a blog so i don't want it for mine and then we are done so we've configured our gatsby site to use sharp and then when we transform our markdown files we have a couple of other plugins that make sure the images get rendered correctly now all we need to do is start up our server once again with npm run develop that's going to start up the dev server it's going to get the image and it's going to make sure it actually gets included in the static site right here let's just refresh things over in the browser and what do we get down below we get the great gatsby boot camp we have our date and then we have the post content the paragraph up above our nice grass image and topics covered down below so now when we have those plugins in place we can add images to any of our posts by simply specifying them like we did here now one thing you can additionally do is organize your posts directory further let's say that grass is specifically for the gatsby post it could get a little confusing if i have dozens of images inside of here one thing i could do is create a folder for each post something like gatsby for the gatsby post then i could move the markdown file and the image right inside of there i could even take this further creating an images directory inside of there if i wanted to but in this case now it's a little more organized i can see the assets for the gatsby post right there and for the react post down below so with this in place our site should be working once again we have the exact same url structure and functionality all we've done is we've organized that posts directory just a little bit more now let's wrap this video up by adding a few styles into the mix one thing i want to do for the post page is add more space between the bottom of the post and the footer down below as the footer kind of looks like it could just be some content for the post so to do this we're going to work with css modules i'm going to start by closing down all open editors and we want to focus on the components directory we have our footer component there is no css module for that so i'll create it a new file in the components directory footer dot module dot scss and from there all we're gonna do is set up a single class selector for footer and i'm going to set margin top equal to 3 rem which is the same spacing i use on the bottom of the header now we can import this and apply it to the footer element right here so i'll import footer styles from dot forward slash footer dot module dot s css then we just set up our class name down below like we did when we originally learned about css modules that is footer styles dot footer and we're done if we save things we should see a little more space between the bottom of the post and the footer that looks a lot nicer now another major problem is on the blog list page itself we want to make sure that this content is clickable but now it looks terrible and we still have the numbers we want to clean this up and we're going to do that by adding a few more styles into the mix now this content comes from the pages directory in there we have blog.js so i'll close the components folder and the two files we were just working with we're gonna open up blog.js and we're going to create styles specifically for it right here i'll create a new file blog.module.scss and now we can actually set up some styles for it we're going to style the entire list itself and the individual list items let's start by styling the list itself i'll set up a class selector for something like posts then we'll set up a few styles i'll start with list style type setting that equal to none we don't actually want to show those numbers next to each post and i'm also going to set margin equal to zero to remove the default margin that those lists usually have let's start there in the blog component we have to import those styles so i'll import blog styles from dot forward slash blog dot module dot s css and once the import statement is in place down below will use it now i designed that for our ordered list right here so class name setting that equal to here it is blog styles dot posts now with this in place we should be headed in the right direction over here at least we no longer have the numbers and everything is nice and aligned now we want to target the individual items when it comes to the dom structure it's pretty complex well it's not pretty complex but it could be we have the list item we have our link which just gets converted to an anchor element and in there we have h2 and p now in the end of the day i actually want to apply styles to all four of these things and there are two approaches to that i could set up four new class selectors over here and i could load for in and set up four instances of class name or i could just use one so let's explore how we might get that done right here that is dot post and this is going to apply some general styles and all we're going to do here is put some spacing between our posts above and below them so margin 1 rem on the top and the bottom and then zero on the left and the right now this particular class is going to get set up on the list item this represents the individual post so right here class name setting that equal to that's going to be blog styles.post now what we're going to do is just use some basic principles from css and scss to style the rest by element name this is perfectly valid and it's a common approach so right here i could say something like let's target our anchor elements inside of posts and apply some styles to those maybe for example i want to set the background equal to a offwhite i'll use the hex code f4 f4 f4 for that and i don't want that purple and blue link text so i'll set the color equal to black which is the hex code the number zero six times so if we just set that up we should see those styles actually applied and over here they are so we don't have to just use class selectors in our modules sometimes we want to set up one and just style some stuff inside of it making our lives a lot easier this is also just fine now we're going to add a few more styles inside of here i'll set display equal to block so we can control the spacing i'm also going to set padding equal to 1 rem to put some space between the text and the edge of this offwhite box and from there i'm going to set text decoration for the link equal to none i don't want to have that underlined link and over here we can see we're now headed in a nice direction now when we're working with css modules and using this approach we're not limited in any way i could still set up something like this i could target anchor elements using the hover sudo class so when you're hovering over the link we could make the background a little darker here i'll set the background equal to that would be a hex code of e4 e4 e4 which is just a slightly darker gray this is going to apply exactly like we would expect as we hover over we see it now from here we can continue styling the other elements inside of the post like the h2 and our paragraph so let's add those into the mix as well nothing to stop us from just targeting them by elements right here i'm going to set up margin bottom for the h2 removing that and then i'm going to set up some styles for that paragraph as well and then we'll be done right here just three styles first up is the color i'm going to use the hex code with the number seven six times which is a slightly dark gray not too dark not too light then we're going to set the font size equal to 0.8 rem a little smaller than it currently is currently it's sitting at one rem then we're going to set the font style equal to italic just to differentiate it from the other content in that box and there we go we set up a single class selector in our css module and we targeted the elements inside using element selectors now if we check things out over here what do we get we have our styled blog list i can still access those posts by clicking on them i can view the post content and everything is looking pretty good so now we have a complete site with a markdown blog all powered by gatsby we could take this and we could continue on with it really making it our own for either ourselves or for a company we're working with now this is just the start being able to create a markdown blog is awesome and it works really well for a lot of folks who prefer that but with gatsby we can also source our content from a cms and that is exactly what we're going to cover next i'm excited to get to that so let's jump in to the next lessons in this video we're going to start the process of connecting our gatsby project to a content management system now in this boot camp we'll be working with the contentful cms but the exact same principles would apply if you wanted to use another content management system like wordpress or drupal gatsby has plugins to support all of those cmss and more but once again we're going to end up using contentful it's my personal favorite of those options it's really easy to work with and we can get started for free you can find it over at contentful.com and right here we're just gonna go ahead and create a free account everything we're going to do in this boot camp is completely free and doesn't require a credit card just a free account so let's create that account and once we have it created we'll get some content into the mix right here i'm going to create a new account with you so i see the exact same stuff that you're seeing so let's fill out those basic account details when it comes to choose your development platform we're just going to pick javascript though honestly this choice doesn't matter and down below we'll toss a password into the mix now we can go ahead and actually create the account and when we do it's gonna bring us over to a little welcome screen trying to get us to pick one of the tutorials to work through over here for content creators like a copywriter and over here for developers honestly we're not going to work through either of those as we'll be discussing things together in the video and the quickest way to get what we want is to just click explore content modeling this is going to create an example project for us and that's not a project we're going to work with this comes prepopulated with models and data but what we want to do is figure out how we can set things up from scratch for our needs so once the example project is created we're just going to create a brand new one and start there alright let's explore the example project and we're done exploring it let's create our own from the menu we can click create space a space is like a new project and we're gonna go ahead and use our second free space we get two on a free plan and right here i'll just call this something like the great gatsby boot camp though the name is not important and right here we want to create an empty space that we can populate with our own content in this case the blog content we want to show in our gatsby site so let's actually create this new space right here a confirmation screen and once it's created what we need to do is focus on defining the type of data we want to track so there are two main tabs i want to talk about up here we have content model and we have content content model allows us to define models for the content on our site this could be a model for a blog post where we have a title a published date and a body it could be a model for an author where we have the author's name their twitter profile link and a profile picture so over here we're creating structured data under the content tab we actually create instances of those things so this is where we would define our six blog posts and our two authors and whatever other content we wanted to create so let's see this in action under content model we're going to create our first content model for a blog post so right here we have a required name field i'll just use blog post and down below it's creating an api identifier for us which we'll end up using a bit later there's no need for a description so we'll leave that blank although you could come back and edit it later and now we're just going to create the model now the model by default isn't tracking any data whatsoever it's up to us to configure the fields that make sense for a blog post now we already have some structured data over here in our two markdown posts for both we have the title we also have the date and finally we have the actual post content so those are three distinct fields and we're going to be adding three fields to the blog post content model let's go ahead and add our very first field right here we can see that with contentful we have a lot of field options this could be a text field a complex rich text field with formatting images and more it could be a simple text field it could be a number date and time location media a boolean like a check box and a whole bunch of other options now in our case we just want a simple text field for the title so let's pick that and give it a name right here we type something to show in the contentful forms in this case capital t title and behind the scenes it generates a field id and this is how we'll access our data from the graphql api a bit later down below we have a few options none of which we need so we can create our first field let's go ahead and add our second field and it's actually one i forgot about this is also going to be a text field and the name for this one is going to be slug so there's no longer a file name that we can use to find the slug so we're gonna have the post creator pick a slug for that post next up is the published date right here we'll use their date and time field for this giving in a name like published date we'll create that field and from there there's only one more field we need the field for the post body and that is going to be a rich text field so right here we'll click that option and go ahead and provide a name right here i'll use body for this one now once we create that we've finished off our content model we have modeled a blog post with four pieces of data and as long as those four pieces of data are provided we have enough to actually get something rendered to the screen from here all we need to do is click save to actually save this content model and once it's saved we can start to create blog posts based off of the model over here for this we go over to the content tab and we're going to click add blog post that option is also available up above whoops it's not available yet not until we have our first post in place so let's get our first post in place right here add blog post and were brought to our blog post editor page it has all of the fields we specified title slug published date and body and now we can create our very first post for the title i'll use a contentful blog post for the slug i'll just use something like contentful i can pick whatever makes sense for me then down below i'll say this one was published today and we can set up our post body as well my post is here dot dot dot now currently this post is not published which means that even if we did have things wired up with our gatsby site this data would not be accessible to the outside world we can fix that by changing the status from draft to published by clicking our publish button now we have our first published post and if we head back over to the content page we can see it showing up right here from here we can add a second post into the mix then we'll figure out how to actually pull this data into our site right here something like debugging nodejs i'll have the slug be debug hyphen node for the published date i'll say this was published a couple of days ago and for the body i will say here's how you can debug your apps dot dot dot and we'll go ahead and publish this one as well so now we have our very first content model blog post and we've created two instances of it a contentful blog post and debugging nodejs from here what we want to do is figure out how we can access this data via our gatsby graphql api once we have that in place we'll be actually able to show this content on the site getting that done requires us to set up a gatsby plugin so let's head over to the gatsby site go to the plugins page and we'll be searching for contentful now right here the first result that's the one we're looking for gatsby source contentful that's going to allow us to source our graphql content directly from the contentful cms now actually setting this up is really easy down below all we need to do is provide our space id which is the id for our project and our private access token and we'll look at where that lives in just a moment now before we actually set this up i did want to mention there are source plugins for other cms's as well for example if i search wordpress we can find one for that gatsby source wordpress and if i search for something else like drupal there are plugins for that as well so when it comes to your gatsby site you can source that content from a lot of different places you could even use multiple if that made sense for your particular situation in this case though we are going to set up that contentful source plugin so let's head over to visual studio code shut down things in the terminal and we're going to run npm install to get that installed that is gatsby source contentful and we're going to go ahead and install that and we can go through the process of setting it up in the meantime so to get this set up what we need to do is head over to that gatsby node file excuse me the gatsby config file where we have our long list of plugins and we're going to add a new one into the mix now we could put this wherever we'd like i'm just going to toss it right up top as the first item in the plugins array right here this is something we'll be setting up options for so this one needs to be an object in there setting up the resolve property with the plugin name right here that's gatsby source contentful and i can see down below that it did indeed install correctly which is a great first step next up we provide our options object and on the options object we have to specify two things our space id that's a string and we also need to specify our access token that is also a string this is what's going to allow us to actually fetch that content now both of these we can find over in the contentful web app so let's head over there from here we can go to settings and down to api keys now your spaces by default have an example key pair set up for you so if we click on that we can view all of those details down below down here we have our space id and we also have our content delivery api access token that is what we need so to set this up we're going to use environment variables to prevent the sensitive data from sneaking into our source code we already have an environment variable file for that so we'll just make some more changes to the dev env file right here we have our one environment variable let's add two more first up will be contentful underscore space underscore id then after that we'll have contentful access token and all we need to do is populate those two with the correct values i'll grab the space id i'll bring that right here then i'll grab that content delivery access token and i'll bring that over to the env file as well now with this in place we can access those two things in our config file and then we'll be all done we'll have access to all of that contentful data let's go ahead and use those variables so over here for space id that is process dot env dot contentful space id and down below for access token that is process dot env dot contentful access token and we're all done everything is configured so with this what seven lines of configuration code we're able to set up everything we need to source content from contentful now what we're going to do is start up our app in development mode using npm run develop and once that's up and running we're gonna head over to graphql playground and take a look at the new queries we have access to because those queries are going to allow us to access the data we just created so right here these sites starting up i'm gonna head over to graphql playground and give things a quick refresh and over in the docs we should see those new queries showing up and right here we have six now we have two for working with content types this is not going to allow us to fetch the content itself but it's a way to work with content types not something we need and we also have a couple for working with our rich text node as there's some specifics to that we'll talk about shortly for now what i really want to focus on is contentful blog post and all contentful blog post we can use the first one to fetch data about an individual post and we can use the second one to fetch a list of all posts and that's exactly what we're going to end up doing now if i crack that open we can see a similar structure to what we had with our other queries we have edges we have node and node represents our post we have title slug published date and body so let's actually set up a query to fetch some post data i'm going to crack open a new tab over here we'll set up a brand new query and this query is going to use all contentful blog post to fetch something about every single post we're working with now we want to work with edges and there we have node and all we're going to do is grab the title for each and every post so if i take a quick moment to fire that off what do i get i get debugging node.js and i get a contentful blog post so there we go we've successfully sourced the content from the cms right inside of our gatsby graphql api let's grab a couple of other fields real quick as well we're going to grab the slug for each post and we're also going to grab the published date now i'm intentionally not grabbing the body field because it's not as simple as just getting a body back which is a bunch of html there's a little more to it and don't worry we're going to address that in the next video for now though we can fire off our new query and we get new data i see the correct slug and the published date for both of my posts we're also going to talk about how we can sort our posts from most recently published to oldest and we'll figure out how we can actually format this date to be a little more friendly when it comes to rendering it to the screen i'm excited to continue on with contentful but let's take a quick moment to recap what we did essentially we use contentful as a web app to manage our site content we have our content models and our individual content themselves we were then able to pull all of this into our gatsby graphql api using another one of gatsby's source plugins in this case it was gatsby source contentful now that we have access to it via our api we could use those queries in our react components to get that data rendered to the screen that's the topic of the next lesson so let's jump right in now that you have content in your contentful cms what we're gonna do is figure out how we can get it rendered in the browser we've already seen a sample graphql query that fetches our blog posts from contentful and the goal in this video is to get our post list rendered using contentful posts instead of using the posts we created with markdown files so to kick things off what i want to do is talk about how we can customize the all contentful blog post query we're going to learn how we can sort our posts in a particular order and how we can customize the response of things like published date getting a date that's a little more user friendly as opposed to the current time stamp we're seeing in the response let's get started by figuring out how to sort our data and remember graphql is selfdocumenting so the docs contain everything we need in order to get this done down below we have all contentful blog posts the query we're using here we have our type details that's the response we're looking for the arguments allowing us to customize the response there are four we have skip and limit which is useful for pagination we have filter which is useful if you're trying to implement something like a search bar and you want to filter to a subset of your posts and we have sort sort allows us to sort our data in an order that makes sense now right here when we use sort we provide two pieces of information we provide the field we want to search by excuse me sort by and we also provide the order either ascending or descending so right here for fields we can see we have a bunch of different fields available now this allows us to sort by various fields that aren't applicable to what we're working with right here we have a lot of different fields because of that special rich text field we set up in our case if we scroll up a little bit the one we're looking for is just sorting by published date and that's exactly what we're going to do so let's take this over to the query right here on the query we are going to set up our arguments i'm going to set up sort and remember we have to provide fields that's plural and the field we're working with here is going to be the following that is published date then next up we have to provide an order and in this case we could sort in ascending with asc or descending with d e s c and this is the order we're going to go with we'll have the most recent posts first and we'll have the oldest ones at the bottom so if i run this we should see the order reversed as this was published on the 8th and this was published on the 10th and right here that's exactly what happens so we have our newer content first using this argument one more thing we can do is customize the published date value so let's check this out if we head over to the docs once again we're going to go all the way to the left and we're going to go to the type details we have edges we have node and here is the node we're currently working with we have title slug and published date and you'll notice that with published date we have a parentheses set right here if we click on that there are actually arguments we can provide for just this one field to customize it i could do something like from now to say this post was published three days ago or 10 seconds ago i could use format string in order to customize exactly how i wanted to format it let's explore both we'll start with from now so right here set up some parentheses from now setting that to true i run it and i can see a day ago and three days ago so maybe that's what we want in which case this would work really well if we wanted to customize it even further what we could do is use the following it is format string now this uses the formatting pattern made popular by the moment js library so here's an example i will use the following pattern it is four m's followed by a space capital d lowercase o comma then y four times that's month day and year and if i run it we can see we get the following setup april 10th 2019 april 8th 2019. now you can provide whatever you'd like in there to really customize it and make it your own if you want to find all of the patterns you can use you can open up a new tab and go to moment js dot com forward slash docs once you're there on the right hand side you want to go to display and down below you can see all of the different tokens you can use in your pattern so there are different ways to represent months the day of the month the day of the week there's all sorts of great patterns here allowing you to generate the specific output you want in our case though we're not going to go any further we're going to leave it like this april 10th 2019 is exactly what i want to show on the screen so now that we have this query in place we're going to take this over to our blog page and we're going to render these posts instead of the markdown posts now getting that done is actually going to be your challenge for the video so let's dive right into that in visual studio code we're going to close all of the open files we have and we're going to focus on just one inside of our pages directory we have blog.js now currently we have a query that fetches the markdown data and renders that down below we need to change both of these things to work with the contentful data so up above i'm going to paste in the challenge comments and they're pretty straightforward the goal is to render the contentful posts in our list so first up you want to swap out the markdown query with the contentful query and if you want to customize it further using other arguments or options you're more than welcome to but in general this query can be used inside of the component next up you have to update the component to render the new data so our data structure is a little bit different even though we still have those same three things we still have the title the date and the slug they're just in a different place on the response and for the moment don't worry that your link is gonna link to a nonexistent page we'll address that shortly finally test your work pull up the blog page and make sure you see your two contentful posts showing up as opposed to the two markdown posts all right pause the video knock that out test your work and when you're done come back and click play how'd that go let's get started and the first thing we're going to do is swap out the queries now we have the old query over here so let's go ahead and get rid of that it's no longer all markdown remark we're going to go ahead and work on the new one so that is all contentful blog post from there we're still going to be setting up our arguments now we could do all of that on one line or we could break it out onto multiple if we wanted to do it on one line it would look like this we'll set sort equal to an object on there fields is equal to published date and then we'll go ahead and set order equal to descending perfect next up we have to go ahead and specify what exactly we want back on the response that is edges node and from there we need the title we also need the slug and finally we need our published date and we're going to format that exactly like we did over here using format string so right here that would be format string setting it equal to whatever format string we wanted to use and i'll use the same one from before the full month followed by the day of the month a comma then the full year all right now that we have this in place we are done with step number one and at this point our program would crash if we tried to run things that's because we're trying to access data down below that no longer exists since we've changed the query up above in the browser if i go over to the blog page it is indeed failing as expected so now that we've seen things fail let's actually get things working we can go ahead and move on to step number two where we update the component to render the new data so right down here let's knock that out data dot all markdown remark that no longer exists it is all contentful blog post now we still have edges and we still want to map over that down below here we have our list item what we need to do is customize this starting with the slug it is still edge node but there's no longer fields it's just edge node slug exactly like we're seeing up above edge node slug down below we have the title as well that does not exist on front matter it's right on node and below that we have the old date front matter that no longer exists and it's called something different right here edge.node.publisheddate perfect now with this in place we have the new query and we're rendering that brand new data and hopefully everything works as expected when we actually move on to step number three and test our work so i'll refresh the page over in the site and what do i get i have my two blog posts a contentful blog post and debugging node.js now i can see down below at the bottom left in the little gray bar that it is linking over to the correct pages but if i click those links obviously we don't get the pages content since we haven't wired that part up but the blog list itself is indeed working and that is a great start with this in place we're all done for the moment in the next video we're going to go ahead and actually create those pages dynamically using the contentful content i'm excited to get to that so let's jump right in to the next one now that your list of blog posts is populated from contentful we want to make sure we're generating pages for each of those posts right now if we click on them we get nothing and that's a problem so in this video we're going to accomplish two things first we need to dynamically create new pages for the contentful posts and then two we need to make sure we're actually rendering the post content in the post page template so that template is going to need to change a little bit the entire focus is going to be on gatsby node where we dynamically create our pages and the blog template where we render the content to the screen let's get started with gatsby node now to set things up for markdown it required us to use two of the internal apis on create node and create pages now oncreate node was just used to generate slugs for our posts that's a field we set up in contentful so we actually don't need this anymore we can remove it entirely down below the only one we're going to use is create pages we just need to adjust it instead of fetching the markdown slugs and using those to create pages we want to fetch our contentful slugs and use them so let's get started right here we have all markdown remark i'm going to remove all of that we still have our base query though this time we'll use all contentful blog post like we've used before there are no arguments required as we just need a list of slugs there's no need to order it as that doesn't matter right here edges node and the only thing we're going to grab is the slug as that's the only thing we need now down below when we loop through the data we can use the contentful slug right here dot response.data that still exists no longer do we have all markdown remark we now have all contentful blog post we still have edges and we still want to iterate over that using four each inside we have the create page call the component is still blog template the path is still forward slash blog forward slash the slug but remember the slug no longer lives on fields it is just edge dot node dot slug down below for context we have to make the same adjustment removing fields and one of those extra dots and there we go that is it so when we're working with a cms there's a lot less for us to do behind the scenes to get things to work we removed a lot of code and now we're actually going to have pages for our contentful posts before we worry about restarting the server let's head over to the blog template and pull in the new data so we still want to set up a query though it's going to look a little different than this one so i'm going to comment out this one and we'll build up the new query from scratch down below we also have our blog component everything in here is gonna be similar though different enough where we're just going to start from scratch with this as well so now blog just renders an empty page using the layout component let's make sure that we're at least seeing that page instead of the 404 page so in the terminal down below i'm going to restart things since we have made changes to the gatsby node file and once the server is up and running if i refresh this url i would expect to see something valid as a page should exist with this slug from contentful right here i give things a refresh and this is a great first step we're no longer seeing that 404 page now let's set up our query once again to fetch the contentful data so we can actually render some stuff to the blog page now it's gonna look similar to what we have up above though obviously slightly different we'll start off the same exporting a new constant called query all of which is required in order for the gatsby parser to find your query and run it right here graphql inside of template strings we put our query this query is still going to get access to the slug variable which we need we need to be able to target the individual post and slug is a string just like we had to find up above now inside of here which particular query are we going to use over inside of graphql playground we had worked with all contentful blog posts in the docs there is a way to get a single blog post using contentful blog post so this will allow us to target a specific post and if we scroll down to the arguments we can see there are quite a few different ways we could target a post i could target it by its title the slug the published date the content and others in this case we're going to target it by its slug so we'll be using this slug argument and in there we'll use eq to find the slug using equality all right let's set that up so over here that's going to be contentful blog post setting up the argument we just talked about slug in there eq and the value would be whatever is stored on the slug variable so now we're targeting the correct post and we can fetch some data for the moment we're just going to fetch the title and the published date don't worry we are going to render the body in this video but it requires an extra step so let's get started with the simple stuff right here we'll have the title down below we'll have the published date which i'll also format using format string and i'll provide the same format we had before i'll start off with the month then the day of the month and finally the year with this in place we should have access to that data in our component down below let's get these two pieces of information rendered we had the title nh1 header tag and we had the date inside of a paragraph so right here for us that would be the following it's still props.data exactly like what we had before this time though we have to go into contentful blog post and in there we have the title down below let's do the same thing for the published date that's dot props.data.com blog post dot published date and now if we save things we should see these two pieces of data showing up over in the browser right here i have the title and the correct published date for this post and if i go back to the blog list and select the other one that data shows up as well which is a great step in the right direction now that we have this in place we want to focus on getting the post content itself rendered and as i mentioned it's not as simple as just grabbing a single field and then using that field like we did with the html field that we got with our markdown query from up above so let's explore this and to get started we'll remove that redundant query and what we're going to do is head over to graphql playground real quick and take a look at another property we have access to so all we're going to do is modify this all contentful blog post query we already have in place alongside of title slug and published date we're going to grab body now body itself is not something we can directly grab there are fields inside of it we need to access and in this case when we're working with a rich text field in contentful we want to grab jason this returns a json string which is a representation of the content in that rich text field so if we go ahead and set this up and run our query it's going to work and we're going to see we get a lot more data in the response here for our first post we have body jason and we can see the value is a complex structure we have all sorts of different fields and arrays and objects and somewhere inside of there we can see the data that we actually wrote out my post is here and if we scroll down for the other post we can see that as well now the reason they use this complex structure is to keep track of things like the paragraphs embedded assets like images headers bold text italics and more all of that is mapped out in this object now the good news is that we don't need to manually parse this and figure out how to render things to the screen contentful actually provides an npm library we can install and it's going to take the json and it's going to convert it into a set of react components that we can render anywhere so it's not just specific to javascript the library is actually specific to react which makes it really easy to work with so let's install this library and set it up it'll be as simple as a function call right here we need to shut down the server and i'll clear the output and we're going to install this library that's npmi it is at contentful forward slash rich text react renderer so this is going to allow us to render rich text fields using react it provides a single function we're going to import it and call it and that's going to allow us to get our rich text field shown on the screen let's run the installation and while that's running up above we can focus on our import statement so we're going to grab a single thing from that library it is a function and it's called document to react components now this is going to take in the json that we're grabbing from the api once we set that up over here and it's going to spit out react components that we can render wherever we want to now we're going to grab that from the library we just installed contentful rich text react renderer perfect now that we have this in place let's actually use it and it could not be easier to work with so first up we do have to grab the data so that's body grabbing the json value and we use this down below now what i'm going to do is set up right after the paragraph a set of curly braces so we can set up our function call we're going to call document to react components exactly like we imported up above and all we do is we pass in that document that jason data so for us that is props dot data dot contentful blog post whoops got a little ahead of myself with the keys there and on here we want to access body and we want to access jason with this line in place we now should be able to see our post content on the screen right here let's restart the server with npm run develop we're going to check out that content then we're going to make more complex changes to the content in contentful and check those out as well right here things are starting up so i'll refresh my site and once we get the blog post page we can pick a post and we do see the content in a paragraph which is awesome i have the content for the first post and for the second one now let's head over to contentful and add some more complexity to those posts so we can see what we get down below in the body let's add some more stuff below our text i'll add a header a new section and below that i'll add some more text i love gatsby with contentful and i'll go ahead and make gatsby bold because i can and now we're actually going to add an image into the mix as well so right here we can link an image using this plus button we can link an asset now we haven't added any images to contentful we can do that in two ways one we could go to the media tab and add them there then link them or we could just add it right here when we try to link it so there are no assets we haven't added any from the media tab we could just create one on the fly so i'll click that button and here we just need to pick a title for this one i'll call this grass we have a description and we have the actual file down below in this case for the file what i'm going to do is pick grass from my machine which we downloaded earlier so i have that in my project that is gatsby boot camp source here we have posts gatsby grass.png this is the one we had used in our markdown posts now we're going to use it in our contentful post so once we have things loaded in we can publish this asset once the asset is published we can use the back button to pick it from the list and right here we can see it's already been put inside of our post so i'll remove the extra little space down below and now we have a little more complexity i have some text a header an image and some more text down there let's publish these changes and check things out over in the browser what i'm going to do is shut down the server and start it up once again so it can fetch that new contentful data and then we'll just rerender excuse me refresh the post page to check things out so right over here we want to go to the other post a contentful blog post i'll give things a refresh and what do we get we get some of our new content i have a header which looks styled consistent with the rest of the site and i have my other paragraph with the bold text down below the only thing i'm missing is my image by default your images are not going to show up but the good news is that we can make a small change to how we're calling that document to react components function to actually render those images right in line before we focus on changing the code let's look at the new data for our complex post so right here i'm going to rerun the same query we had before where we grab that json and we can see that it's a lot longer than what we had in the past we have our initial paragraph with the text here then down below we have our heading 2 with that text a new section and below that we have a very long and very complex object for the asset the image that we've embedded in that post if we scroll down there's a lot of stuff we just don't care about and are not going to use but we can scan for two things one is the title right here grass we're going to use that as the alt text for the image and then down below that we have the url this is what we're going to use to actually fetch and render that image now this object can be really overwhelming as there's just a whole bunch of stuff we don't need to worry about almost any of it all we're going to do is drill into that object to grab those two values and we're going to generate an image element like we would do in any other situation so let's leave the actual rendered post up in the background and over here we're going to focus on drilling down to that data right here to do that we have to set up an optional options object so a new constant options is going to be an object and we pass that in as the second argument to that function the document to react components function so i'm going to pass that in now what we can do is customize how certain node types are rendered on here we start by setting up the render node property this allows us to override how specific nodes are rendered and we saw various node types in that data for example we saw things like paragraph and heading 2 we set that up as the property saying that's the type we want to customize in our case the type we want to customize has a hyphen in it so i have to wrap that name inside of quotes that is embedded asset block and all we do is provide as the value a function to run we're customizing how the node is rendered we get the node data passed in and we return some jsx in this case all we're going to do is return an image now we want to set up values for the alt text and for source so let's start to get that done right here i'm going to create standalone variables for both of those things so it's a little easier to work with we'll have alt then i'll have url down below and both of these are going to get applied on to the image alt will get its value from the alt variable then when we set up the source for the image the value will come from url now in order to get the correct values we need to drill into the node which is that really big complex object so let's check that out in graphql playground over here we have our complex object there's quite a bit to it we have the data we want and then we have a bunch of other stuff we just don't care about now our node is this object right here it starts with the data property we have data.target now we also have cis which we're going to collapse and when we collapse that we'll see the two fields we're looking for so this object is the node which means we need node data target fields title enus for the alt text and then on fields we need file en us url for the url now it's never fun to drill into a complex object like this but that's just where our data lives and it's going to be necessary just a single time so let's get that done over here we'll start with the alt text that's node.data.target from there it was fields dot title and we're grabbing the title in the locale i have en us if you see a different locale over in graphql playground you want to go ahead and use that and then down below we're going to grab url this is going to be node dot data dot target dot fields here it was file followed by the locale en us followed by url now we should be able to see both of those things showing up in the image element and the end result should be a rendered image in the browser and that is exactly what we're getting right here we have all of our post content showing up including the image and all of this is managed from contentful so when we're working with contentful we can easily manage our content or someone else who owns the site can manage the content using this nice interface and behind the scenes they don't need to worry about changing code or changing markdown files or changing anything else now once again contentful contentful's not for everybody and neither is markdown it's really up to you to pick what makes the most sense for you and run with that alright that's it for this one let's continue on and the boot camp is almost done there are just a couple of things that i didn't get a chance to cover so far that i want to cover in the next lesson or two so let's get started there are just two videos left in this one you're gonna learn how to set up a 404 page and you're also going to learn how to customize the head of your document to set up things like a page title and then in the next lesson the final one we'll take our gatsby site and we'll deploy it live to the web for now though let's get started setting up a 404 page and this process could not be easier in visual studio code i'm going to close all open editors and all we need to do is create a new page in the pages directory and this file should be called 404.js in here we export a react component and that is what renders when someone visits a page that's not found so let's actually get to this right here i'm going to start by importing react since we'll be setting up a react component and down below i'll create it const not found equals i'll use a new functional component returning some jsx and then down below we can export it so export default not found now on the not found page i still want to render the layout so people can use the navigation bar to go over to a page that does exist and i'm also going to link to a different page like the home page in the not found text so right here i'll import link from gatsby and then down below i'll import the layout component that we created from that file that is dot dot forward slash components forward slash layout now we can actually fill out the return value for our functional component and we're going to start by rendering the layout let's set the layout up and inside of there we will render a couple of custom things on the page as well i'll start with a header something like page not found should get the message across then down below i'll set up a paragraph and in there all i'm going to do is use the link component and i'm going to link them over to a page that i know does exist i'll say something like head home and this link will go to forward slash and there we go that's all we need to do to get a 404 page setup with our gatsby projects let's actually test this out so down below i need to start up my server npm run develop and once that's up and running we're going to visit a url that does not exist so right over here i'll go to my site forward slash this is not real and i misspelled it but who cares that's the whole point now when we're running our development server gatsby first brings us to this page which is designed to give us more information as we're creating our site we can see pages that do exist we can see why we're seeing the 404 in the production version of the site though this would never show up now we can view our actual 404 page by clicking preview custom 404 page and when i do that we get what we designed so this is what a regular user would see once we actually get our site up and running in production which once again is the topic of the next lesson so right here they can go to a page that does exist or they can just click that home link to get back to a working page so there we go the 404 is all set up now i want to focus on customizing the head of our document so we can set up things like page titles and to get that done we'll be using the very popular react library called helmet if you're not familiar with it it's pretty much the standard for working with the head of your document from react and there's a gatsby plugin that's going to help us integrate that into our sites let's head over to the plugins page on the gatsby site and search for helmet right here gatsby plugin react helmet that's the one we're going to end up using now there are actually two libraries we'll install we'll be installing this plugin and we'll also be installing the react helmet library which is linked to right here we can crack that open in a new tab to check that out as well this is just a standalone react component that we could use outside of a gatsby site it's a really great choice for managing the head of your document and they have a ton of great examples down below as to how you can get all of this done now when it comes to the plugin we're going to install this pulls all of that information in to the static pages for our site so it's definitely going to be an important piece to the puzzle let's take a quick moment to install both of these then we'll actually wire them up in our app so down below we'll shut things down i'll use clear to clear the terminal output npm install first up is gatsby plugin react helmet at the latest version 3.0.12 and next up is react helmet itself at 5.2.0 now we can go ahead and let these install and while they're installing we need to configure this gatsby plugin in our gatsby config file now there's no need to provide any options for this one so it's as simple as listing it out in our plugins array and i'll add it right up top as the first plugin right here gatsby plugin react helmet and there we go it is configured now what we can do is import the react helmet component and actually use it to set up titles for our pages now there are two ways we could do this we could manually set up this configuration in every single page component as well as our blog template or we could create a component that handles the configuration for us something simple that we can render on all pages meaning that we only have to configure react helmet once and of course that's the approach we're going to take so in the components directory let's create a new file called head.js for the component that's going to manage the head of our document right here we're going to import react from react and we're also going to import something from react helmet right here it is a named export called helmet that is a react component from the library we just installed react helmet and we're done now we can create our component and export it from the file so right here const head equals a functional component where we're going to return some jsx which we'll get to in just a second down below let's export it export default head now when it comes to what this component should render all we're going to do is render helmet itself we're not actually going to add anything else into this component and when helmet gets rendered it doesn't show anything on the screen instead it just manages the head of the document so right here we can configure things like the title using the title prop this is a test so let's leave our component file like this don't worry we will grab a proper title from the site metadata a little bit later for now though let's just get this title showing up to do this once again this component needs to be loaded in and used in every single one of our pages including our page templates let's get started with the most obvious one the home page then we'll move on to the other pages we have so right here we have to import head import head from dot dot forward slash components forward slash head and then we render it and we're just going to do that as the first thing in the layout and remember it's not going to show anything there this is just going to allow us to manage the document head so right here i'll render our component we can then go ahead and save things and start up the development server once again so i'll use clear followed by npm run develop and once it's up and running we'll visit the home page and hopefully we see our custom title showing up over here we have the home page i'll just give things a quick refresh let's try one more time there we go the server is finally up and in a second we should see our page we have the page and we have our title this is a test is showing up now when it comes to customizing that fob icon all you need to do for that is swap out the file in the static directory down below fob icon dot ico so let's continue on with this particular example and what i want to do is focus on actually pulling in useful information the first thing we're going to do is we're going to pull in the site metadata title this is something we're going to show as part of the title for every single page it's not the only thing we're going to show but it's part of what we're going to show so right here for a site like gatsby i can see that if i hover over this title for a second it's going to show me the full thing we start off with something specific to that page gatsby plugin react helmet followed by a vertical line followed by the site name gatsby js that's similar to the approach we're going to take here so each page will have something specific to render up there but then we'll also have something generic like the site title to get that done let's first pull in the site title so right here we're going to use use static query i'll import use static query and i'll import graphql from gatsby then down below we can actually grab that information so const data equals we're going to call use static query using the graphql template tag with our string and right here we're going to perform one of the first queries we ever set up query site site meta data in there grabbing the title so now the title is something we can actually use down below let's go ahead and set that up so instead of the static title we're going to set up a dynamic one we have that data at data dot site dot site metadata dot title we can save things and hopefully we now see that showing up on the home page right over here i have full stack boot camp so this is a great start the next thing we want to be able to do is pass in the part that's specific to this page which is going to come first to get that done the actual component is going to get called with a single prop so whenever someone renders ahead they can pass in the title they want to use for that page so here i'm using head on the home page so i could say something like home now i can go ahead and actually access that prop in the component and use that when determining what the title should be so right over here let's get that done we have our props passed in i'm just going to destructure that object to grab the title and now we can use that in helmet down below right here we're going to change the title prop that we pass to helmet we're still going to include this information but we're going to put all of that in a template string so we'll start off by adding in the page title that's the title prop up above then a space the vertical bar and another space followed by the site title right here once again data.site.sitemetadata.title now we're going to see both of those things on the homepage so right over here i have home followed by full stack bootcamp so now we have a little component making it really easy to integrate this into all of our pages instead of needing to write this code in every single page let's go ahead and actually get that done for the four other pages we have in the pages directory and we're also going to do the same thing for the dynamic page template for blog posts so right here what i'm going to do is copy the import statement to grab the head component and we'll continue on in the contact page we'll paste that in we'll set up the head component inside of layout and right here all we're going to do is provide the title for this specific page which will just be contact next up we have the blog page so we want to import head down below we want to use it right here we have layout i'll go ahead and set head up providing the title for this particular page which will just be blog perfect next up we have about where we do the exact same thing import and set it up head title about and we're done and finally the new page we just created our 404 page we can also use the head component inside of here i'll import it and down below we'll go ahead and use it setting up the title to something like 404 perfect the only other page we need to worry about as mentioned is the template for our blog posts right here what we can actually do is use the blog post title as the page title so i'm going to import head exactly like we did before and down below we're going to set it up so right here in layout we're going to set up head but instead of providing a static string which made sense for our other pages we're going to provide a dynamic value the actual blog post title which is used just down below so that's props dot data dot contentful blog post dot title and we're done now we have this set up everywhere on our site and we can test things out so over here we go to the blog page we have blog on about we have about on contact we have contact and if i actually visit one of my posts i can see that showing up in the title as well now that we have this in place we have a really nice site and it's working really well locally the next and final thing i want to focus on is actually getting this up and running in production so anyone with an internet connection can check out the site you've created that's exactly what we're gonna do next so let's jump right into that we've got a site and now it's time to get it live and that's exactly what we're gonna do in this one now the first thing we need to do is to get everything up on a github repo we're gonna end up using netlify to deploy our static site and netlify can pull the assets right from github so that's a really good solution for us over here in the editor we can close all open editors and we can collapse all expanded directories and the only thing we're going to do before we make a commit is make sure that our environment variable file does not get committed this can contain sensitive information and it's something that we don't want to commit as part of the repo because right here this is not stuff we want to expose to just anybody so to do that what we're going to do is actually rename this file right here we're just going to call it dot env originally i thought i would create multiple environment files but that's not the case we just have this one locally and we can see that by default it's already ignored based off of the get ignore file that comes with gatsby the only other change we need to make since we renamed that file is over here in the develop script right here dot env dot development just becomes dot env now we're ready to commit our changes and push them up to github let's get started by actually creating a github repo for our new project so right here i'll go over to github.com i'm going to create a new repository and we're going to set this up i'll call it gatsby bootcamp and i'll leave this one as private down below we can create it without customizing any of the other settings and once we have it created we're going to take our existing repository and pushed that up from the command line so let's take this first command which adds the correct remote and we'll head over to the terminal now by default all of your gatsby projects already have a git repository created so all we need to do is make sure that our changes and all of our new files actually become part of the repository i will use git status to take a look at the status of the repo right here we can see we have a bunch of untracked files that we're going to want to track and up above we also have some changes to existing ones i'll use git add dot to move all of those to the staging area and then git commit to create a commit right here final gatsby site and now that we have this in place we can push the code up to github i'll start by pasting in that first command which sets up the correct remote then all we have to do is use get push u we're going to push to origin and we're going to push up the master branch and once this command is done we'll be ready to connect our github repo to the netlify hosting service to host our gatsby site all right i'm seeing everything right here so let's pull up a new tab it is netlify.com this is a great hosting service for static sites it's an increasingly popular choice when working with gatsby because there is direct integration so it's super easy to manage and once again everything we're doing here is completely free there is no credit card required for any of this let's take a quick moment to create an account and i'll work through this process with you just so we're seeing the exact same stuff i'm going to sign up for a new account now once we sign up we do have to confirm our email before we can deploy our site so i'm going to take a quick moment to pull that up off screen then we'll continue on with the setup all right when i click that verification link this is exactly where i was brought there's a little quick start guide with some information about how we can get started we're going to go ahead and close that down and work through this process together what we want is right here new site from get and we're going to connect with our github account now this is going to require us to give netlify permissions to read some of our data and right here we can see we have the option to pick select repositories or all of our repositories we could go ahead and just pick one so i could crack that open and i could find the new one i created gatsby bootcamp giving it limited access to just that and down below we can see we have access to all of the repository features and we're going to install that as part of our github account now once that is installed we'll actually be able to select our repository from a list and once we have that it's going to set up the build options down below we have the owner that is me this is the name automatically generated for me we have the branch to deploy i'm just going to deploy master the only branch we have and down below we have other things like the build command and this is correct we want to leave this and this in place the public directory is where the static site is going to live when the gatsby build command is executed now we also want to go to show advanced right here we can set up environment variables for our environment and we do need to do that we have those environment variables locally and those are the only things getting our site working right here we don't have to worry about setting up graphql playground as the graphql api is not even available in production but we do want to set up the space id so let's start with that i'll grab the variable name and i'm also going to grab the value pasting both in we're going to add the other variable as well for the access token i'll set up the name then i'll go ahead and grab the value making sure not to grab the equals sign and now we're actually ready so it's going to grab the code it's going to run the build command and serve up that public directory and it's going to make sure it can actually get our contentful assets since we have these values defined from here all we need to do is click deploy site this is going to work through the deployment process and especially for the first time this can take a little longer it can take upwards of maybe 60 seconds to get everything up and running so what i'm going to do is just cut the video to win the deployment is complete the deployment is now finished and we have our url up above let's go ahead and open that up in a brand new tab and what do i see we have our site live on the web right here all of our pages are working and we also have our contentful data i have our first post and our second post now when it comes to deploying a new version of your site you have a few different options so let's go ahead and make some changes and get a new version up we're going to change not just the site code we're also going to change some data in contentful so we can see what that process looks like too and i actually want to start with a change to the contentful data let's go ahead and just alter the title of one of our blog posts right here we have contentful i'm going to go ahead and change a contentful blog post over to something else my new post and i am going to publish those changes now this alone is not enough to have the new content showing up remember this is a static site so when netlify first ran the build command that's when it fetched the data and populated things if i refresh we're never going to see that new content so if i just change the content and i want to show that new content on the site we can indeed get that done right over here what we're going to do is go to the deploys tab for our project and right here we have a few different options what we want to do is trigger a new deploy we're going to clear cache and deploy site so this is going to go through the process of recreating our site once again and here it's just bringing us over to the deploy logs once this is done we'll be able to see our new contentful data and this is actually a nice thing we can make changes to our data and once we're ready we explicitly deploy a new version of our site to view that new data now let's go ahead and go back to the overview page for our site and once that deployment is done actually let's stick on the deploys page we can see it's building down below all we're going to do is refresh the site once again so i'm gonna cut the video to when the new build is done all right right here i can see my new build has been published and if we head over to the site all we need to do is give things a refresh and we see the new data showing up so that's the workflow for changing just the content we update contentful we trigger a new deploy manually and then we see our new changes now let's actually make a change to some code for the site so i'm going to close all open editors and we're just going to change something on the home page so i'll go to source pages index.js right here i'm just going to remove this paragraph where i link over to the contact page as i already have that link in the navigation with that change in place all we need to do is commit our changes and push them up to github so right here git status and we can see the only changed file is the one that we changed then we're gonna run git commit once again providing our commit message clean up home page links once the commit is in place we have to use git push to push our code changes up to github and when this is done we're gonna see that over in netlify a new deploy is triggered so by default it is going to deploy changes from master it's going to generate a new build and it's going to publish it so we'll see that start in just a couple of seconds here there's no need to manually trigger a build when we're making code changes we really only need to manually trigger a build when working with netlify i'll give the page a quick refresh just to see if anything new has been pulled in and here we have it we have a new build in progress so this is starting up and once it's done we should be able to see our changes over on the site so i'm going to take a quick moment to cut the video to when this build is finished all right that deploy has finished and now we should be able to see our changes on the site here i have the home page i'll give things a refresh and my paragraph is gone so that's as easy as it gets working with netlify allows us to deploy our site managing our contentful data and managing changes to our code and now you know how to work with both of those now netlify can do so much more than we're gonna have time to talk about in this video if we go to overview you can easily set up a custom domain and enable https and up above there are a ton of great features for managing your site for now though that's all we need to get gatsby up and running that's where we're gonna stop for this video and that's also where we're gonna stop for the boot camp we've gone through the process of creating customizing and deploying our very first gatsby project we can now continue to work with gatsby and build off of this to create anything we might want to build with react that is it for the great gatsby boot camp if you want to check out other content i've created i have more videos right here on youtube and i also teach premium classes on udemy covering topics like javascript react node gis and graphql i'll include links to all of that and more in the description down below once again i'm andrew meade from mead.io and i hope to see you in another video sometime soon
