With timestamps:

00:00 - This course is an excellent introduction to APIs for beginners.
00:03 - This is an updated version
of what is already one of
00:06 - the most popular API courses on the Internet.
00:08 - Craig Dennis is back as the instructor and in my opinion he is one of the best developer educators out there. 
00:15 - - Hello, I'm Craig and I'm a developer.
00:17 - In this course, we are
going to be exploring
00:19 - a term that you've
probably heard quite a bit.
00:21 - That term is API or application
programming interface.
00:25 - In addition to being able to
recite what it stands for,
00:28 - when you complete this course,
00:29 - you'll be able to
discuss what an API does.
00:31 - You'll understand why they
exist and you'll be able
00:33 - to list the many benefits
that they provide.
00:36 - You'll even get some
hands-on experience using
00:38 - a few popular web APIs,
which will give you
00:41 - a taste of what all this
excitement is about.
00:44 - We'll be starting from the very beginning,
00:46 - so there really isn't too much I'm gonna
00:48 - be expecting you to know
before starting this course.
00:50 - I would like to request that
00:51 - you have a touch of experience with coding
00:53 - and a wee bit of knowledge about the web.
00:56 - If you've written any program at all,
00:58 - even the typical first program,
01:00 - you know the one where you
write the words, "Hello, world."
01:02 - If you've done that in
any programming language,
01:04 - you'll pretty much be
ready for this course.
01:07 - It will be helpful if you
have a basic understanding
01:10 - of how the web works with
web servers and browsers,
01:13 - but don't sweat it,
we'll touch on that too.
01:15 - Now, if you haven't met these
requirements, please check
01:19 - the notes attached to this
video for where to get started
01:21 - with some beginning web
and programming concepts.
01:24 - That reminds me, you should take some time
01:27 - to get used to your learning environment.
01:29 - The notes that I just discussed
are attached to this video
01:31 - and I'll also drop more
information into that section
01:34 - to keep you updated on
what might have changed
01:35 - from my right now to your
right now and I'll do my best
01:39 - to remind you to look in
there when there's something
01:41 - I think you just have
to see, but you really
01:43 - should get in the habit
of checking that area out.
01:46 - There'll be tons of
juicy information there.
01:49 - You might be getting a real
bad case of deja vu right now.
01:54 - This is a refresh of a course from 2019,
01:56 - which these days seems like
about 30 years ago or something.
01:59 - If you saw that version, welcome back.
02:01 - Technology is constantly
evolving and just updating
02:04 - the notes wasn't cutting
it, so this is version two.
02:07 - Thanks for all the feedback, by the way,
02:08 - a lot of yours and your
fellow learner's suggestions
02:10 - are implemented in this
new updated version.
02:13 - All that to say, we got you.
02:16 - These videos have captions,
so if you feel like
02:17 - you might benefit from having
those on, please use them.
02:20 - This space is all yours.
02:22 - If you want me to speak slower,
02:24 - please use the speed
controllers to slow me down,
02:26 - and if I'm taking a
long time, speed me up.
02:29 - I make a pretty good chipmunk.
02:30 - And last but certainly
not least, take advantage
02:33 - of the fact that you are
in a video-based course.
02:35 - If you need me to repeat myself,
02:37 - use the video controls to rewind me.
02:39 - If you feel like you need
to take a break to let
02:41 - something sink in, by all
means, please pause me.
02:45 - I'll be right here waiting for you.
02:48 - I know that I've gotten
into some pretty bad
02:51 - viewing habits with all
this streaming media.
02:53 - Now, while binging might be a great way
02:55 - to consume an entire season
of your favorite show,
02:58 - it's not the best way
to learn something new.
03:00 - Education isn't meant to be
binged and because of this,
03:03 - I'll probably remind you
quite a bit to take breaks
03:06 - and encourage you to let what
you just learned marinate.
03:11 - All right, let's get to it.
03:13 - API, those three little letters
03:15 - generate quite the buzz, don't they?
03:17 - First, I'd like to take
some time upfront here
03:19 - and clearly break down what is meant
03:22 - by application programming interface.
03:24 - By understanding its purpose
and a touch of its history,
03:27 - I think you'll start to see
its importance and begin
03:30 - to understand why this term
keeps popping up in your life.
03:33 - After we get a good grasp on
the what and the why of APIs,
03:36 - we'll go and learn how to
explore two existing ones.
03:39 - We'll get familiar with
several handy tools
03:41 - that you can use to interact
with web-based APIs.
03:44 - We'll use those tools to
hit an external web API
03:47 - to send actual text
messages and we'll get some
03:49 - inteRESTing data back from a
streaming music service API.
03:52 - Once we get some practice
using the APIs, we'll use them
03:55 - in a web application that
you'll actually publish.
03:58 - The application that we're
gonna be building is going
04:00 - to receive user submitted
photos via a text message,
04:03 - and then we'll use an API to
display a collection of all
04:06 - these photos and you get
to come up with the prompt.
04:09 - Send me the latest photo
on your phone, dog pics,
04:13 - please, what's for
dinner, whatever you want.
04:16 - I can't wait to see what you build
04:17 - and what your family and
friends submit to it.
04:20 - We are going to be strictly
using APIs in this course,
04:22 - we won't be writing our own.
04:24 - While you most likely are gonna end up
04:26 - learning some best
practices in API design,
04:28 - we won't be covering that specifically.
04:30 - There are many great
courses available that show
04:31 - the creation thought process,
and I've linked to some
04:34 - of my faves in the notes
attached to this video.
04:36 - In my opinion, the best
way to start learning about
04:39 - any acronym is to focus
on each individual letter.
04:42 - For API, I think we should start on
04:44 - that last character, the I, interface.
04:47 - Let's talk a bit about the interfaces
04:49 - that you've seen already.
04:51 - Interfaces are all around us.
04:53 - For instance, this radio here,
it has a familiar interface.
04:56 - The interface allows me to do
things like change the volume,
04:59 - change the station, I
can turn it off and on.
05:02 - I literally have no
idea how anything inside
05:05 - this thing works, but still
the interface allows me
05:08 - to control the way that it
works through the options
05:10 - that are exposed and that's
pretty great, isn't it?
05:13 - The magic that is happening is
05:14 - completely abstracted away from me.
05:16 - I'm still in control of what has
05:18 - been determined that I, a user can handle.
05:21 - Interfaces usually evolve over time,
05:23 - like an alarm clock radio for example.
05:25 - It has my familiar volume
and station controls
05:28 - and it also adds some new features like
05:30 - changing the time and setting the alarm.
05:33 - I still have no idea how this
works implementation wise,
05:36 - but the interface is something
that I can understand.
05:39 - Usually, and as technology evolves
05:43 - and new options come into existence,
05:44 - they make their way into the
new versions of the interface.
05:47 - Still abstracting away things for us,
05:49 - but enabling us to be in
control of the new features.
05:53 - Sometimes these physical
interfaces get so recognizable,
05:56 - they even make it into GUIs.
05:58 - Hey, did you hear that?
05:59 - There it is again, GUI, G-U-I,
graphical user interface.
06:04 - This is my streaming
music app on my phone.
06:07 - There's my familiar Play button
in the user interface or UI,
06:11 - and I know what the Play
button does when I press it,
06:14 - but I have no idea how it does it
06:16 - and I'm okay with that
level of abstraction.
06:19 - What would I do in public
transit without music?
06:21 - Like, talk to people? Hi, how's it going?
06:26 - Now, the developer who wrote this
06:28 - streaming music application, of course,
06:30 - understands how the Play button works.
06:32 - She coded the button so
that when it gets clicked,
06:34 - the music starts playing.
06:36 - Here's the thing though,
our developer is also
06:38 - working with quite a
few interfaces that are
06:40 - abstracting the way some
of the details for her.
06:43 - For instance, she wrote code
06:44 - that happens when the button is clicked.
06:47 - She probably did that
using an event handler
06:49 - on the button, like onClick.
06:51 - What she didn't have to do,
however, was write the code
06:54 - that makes the button interact
and change with the press.
06:57 - She didn't have to write the code
06:58 - that makes that familiar clicking noise.
07:00 - It was already there for her.
07:01 - Buttons are, in fact, an interface.
07:04 - They provide the developer
the means of controlling
07:07 - its interactions while abstracting way how
07:09 - that actually works, implementation wise.
07:11 - This button is part of the API
07:13 - or application programming interface
07:15 - and it's available from
the application framework
07:18 - that was used to create the app.
07:20 - Because most apps need buttons,
07:22 - this interface has been
created and provided
07:23 - to our developer or
application programmer to use.
07:27 - By implementing the button
interface, our developer
07:30 - was able to make her code run
when the button was clicked.
07:33 - It's worth noting that
the code probably also
07:36 - uses a media player API
that is provided with
07:39 - the operating system of the
device like Android or iOS.
07:42 - This media player API abstracts
away needing to understand
07:46 - details of how to send
audio data to hardware.
07:49 - The developer knows they just want to call
07:51 - the play method on the media player API.
07:54 - I suppose too, the song
isn't stored on the device,
07:57 - it's being streamed over
the network, so a web-based
08:00 - API call has been made over
the internet to get that data.
08:03 - It's actually APIs all
the way down to the ones
08:06 - and zeros providing
abstractions at many levels,
08:10 - so let's take a look at what all
08:11 - of these interfaces have in common.
08:13 - They all define ways for us
to interact or communicate
08:17 - with an object, whether
that object be physical
08:19 - or software, and as a
user of the interface,
08:22 - we don't need to understand
the implementation,
08:24 - we don't need to know how it works.
08:26 - We just need to know what
we've been allowed to change
08:29 - or see, interfaces abstract
away the implementation.
08:33 - Now, while the UI or user
interface is made for
08:36 - the user of the
application, the API is made
08:39 - for the application programmer
08:40 - to use and extend in their applications.
08:42 - With the I covered in our API,
08:45 - let's take a deeper look at
the REST of the API acronym.
08:50 - An API is a contract of sorts.
08:52 - It defines how it is expected to be used
08:54 - and it defines what you can
expect to receive by using it.
08:58 - Think of it as a set of tools designed
09:00 - for software developers
like yourself to use.
09:03 - An API is created to help
make your life easier
09:05 - by giving you access to
data and by providing you
09:08 - with an abstraction of the
implementation, you know,
09:11 - not needing to know how it's
doing, whatever it's doing.
09:14 - They save you from needing to
create everything yourself,
09:17 - like when designed well, they
make nearly impossible things
09:20 - happen with just a few lines of code.
09:22 - Now you're probably starting to see why
09:23 - it's important to get
familiar with them, right?
09:25 - I want to do a quick word
of warning here about some
09:28 - naming issues that
you'll probably run into.
09:30 - These days, the term API
is almost always used
09:34 - as a way to explain web-based APIs.
09:37 - In fact, it's probably
safe to assume that when
09:38 - you hear API in the wild, it's most likely
09:41 - that people are talking
about a web-based API.
09:43 - We'll explore those here in a few.
09:45 - However, if we focus on all types of APIs
09:48 - instead of just the web-based subset,
09:50 - we'll get a better look
into why web-based APIs are
09:52 - so popular, so hang tight,
we're getting there.
09:55 - APIs are everywhere in
your software journey just
09:57 - about everywhere you look,
your programming language,
10:00 - whichever one that might
be, provides many APIs.
10:03 - Let's take a look at one that
is common in all of them.
10:06 - They all provide some way
of working with strings,
10:09 - you know, like a series of characters.
10:11 - Wanna make your text all uppercase?
10:12 - Just call the API method and voila.
10:15 - You could probably create
the uppercase string all
10:17 - by yourself by doing some
sort of low level bit math
10:20 - on each character, but you don't need to
10:23 - because your programming
language has abstracted away
10:25 - that for you and provided
a handy string API.
10:29 - It exists because this is
10:30 - a common enough problem
that developers run into.
10:33 - Because these programming
language specifications are
10:36 - just interfaces, different
operating systems can supply
10:39 - their own implementation so that the code
10:41 - works properly in their environment.
10:43 - I think an easy way of
picturing this is to think
10:45 - about how different operating systems
10:47 - like Windows or Mac OS
maintain their files.
10:50 - They're totally different,
yet your programming language
10:53 - provides a single API for
working with the file system.
10:56 - You can write one script
10:58 - and it works both in Mac and Windows.
11:00 - It's the implementation that takes care
11:02 - of all the details for
you, pretty cool, right?
11:05 - Definitely something to be thankful for.
11:07 - It makes our lives so much
easier not having to worry
11:09 - about what operating system is
being used and the importance
11:12 - of an API tool language
cannot be understated.
11:15 - There have been some
fascinating legal cases where
11:18 - it's been questioned if
the language API itself,
11:20 - again, not the implementation
can be copyrighted,
11:23 - check out the notes for more on that.
11:25 - Along similar lines, there
are different web browsers,
11:27 - you know, like Google Chrome,
11:29 - Microsoft Edge, Safari, Firefox, Brave.
11:32 - Now, you might not have
pondered this before,
11:34 - but isn't it amazing
that you can write code
11:36 - for the web and it will
work in any of 'em?
11:38 - This works because
there's a set of web APIs
11:41 - that web browsers all must implement
11:43 - in order to make that
magic happen for you.
11:46 - We are standing on the
shoulders of giants, folks,
11:49 - and we really should thank
those giants more often.
11:51 - There are authors and
maintainers of libraries
11:53 - that package up code to
solve common problems so
11:55 - that you don't need to do it yourself.
11:57 - For instance, do you know
how to programmatically
12:00 - make a photo black and white?
12:01 - Me neither, but I can download and import
12:04 - an image package into my
application and suddenly I can.
12:07 - I just call a method and boom,
12:10 - I wish real life skills worked this way.
12:12 - I'd import dancing so I could
12:13 - be more fun at weddings, cha cha cha.
12:16 - Frameworks provide an API
that allow you to extend
12:18 - what has been provided
to make it your own.
12:20 - Like for example, most web
frameworks provide you with
12:23 - the ability to add a new
route to your web application.
12:26 - It allows you to write out dynamic data
12:28 - to a template that you
specified, and you do all
12:30 - of this with just a
handful of lines of code.
12:33 - You don't need to understand
how it's doing things,
12:36 - but you do need to know how
to write an implementation
12:39 - to what the framework is expecting.
12:40 - In this case, you're using
the API, the contract,
12:44 - to write a valid implementation
that meets the requirements.
12:47 - Now, all these APIs that
we just talked about,
12:49 - they're local to our code base,
they exist within our code.
12:52 - We use them to avoid recreating the wheel.
12:54 - That is to say they assist
us in accomplishing tasks
12:57 - that we need to perform
by abstracting away
13:00 - a ton of the work for us, the stuff that
13:02 - we developers shouldn't be worrying about.
13:04 - We should be focusing on the
business problem at hand,
13:06 - and that means a big part
of your job is figuring out
13:09 - how to leverage these
APIs to your advantage.
13:11 - Now, I think this is an excellent time
13:13 - for you to take a break.
13:15 - I just gave you a lot to think about
13:17 - and I'd like you to take
some time and breathe.
13:20 - Why don't you jot down some
APIs that you've used today?
13:23 - Even if you weren't coding,
13:24 - I know that you've seen some in action.
13:26 - If you're having a hard
time thinking of some,
13:29 - I'll give you a hint.
13:30 - You're watching a video right
now inside of a web browser.
13:35 - When we return, we'll explore
the concept of remote APIs,
13:38 - ones that aren't executing
locally in our code base
13:41 - and why that is such a powerful concept.
13:44 - (upbeat music)
13:59 - It took me a while to
find this remote control.
14:02 - It was in the couch.
It's always on the couch.
14:04 - Anyways, this remote has
an interface on it, right?
14:07 - There's a Power button and when
I press the Channel button,
14:10 - it changes the channel, when
I press the Volume button,
14:12 - it sends the request to my
radio and the volume changes
14:16 - as if I turned the volume
up using the interface on
14:18 - the device itself, and we
know why that's important.
14:21 - I want to remotely control my device.
14:23 - I don't want to get up from my chair.
14:25 - There are of course, more
or less lazy reasons as
14:28 - to why we'd want to
remotely control objects.
14:31 - This cute little robot, for
instance, has a remote API.
14:33 - You can send commands
to it and it responds
14:35 - and it even sends back sensor information.
14:38 - These traffic signs can
change based on an API call.
14:41 - This drone here is remotely controlled
14:43 - by an app on my phone, see?
14:45 - (drone whirring and crashing)
14:48 - And it's not just physical objects
14:51 - that benefit from remote APIs.
14:53 - Oftentimes we don't have
space on our local machines
14:56 - for all the data that's
available, like for example,
14:58 - have you ever used one of those apps
14:59 - that helps you figure
out what song is playing?
15:02 - You send up a snippet of a
song that you heard playing
15:04 - at a grocery store using your microphone,
15:06 - and it sends back exactly what song it is.
15:09 - It's usually Phil Collins.
15:10 - It turns out that both grocery stores
15:11 - and yours truly love Phil Collins.
15:14 - You don't have room for all the songs in
15:16 - the world on your phone
and with this remote API,
15:18 - you don't need to have all of them.
15:20 - It does all the searching and processing
15:22 - and it's surprisingly quick.
15:24 - How can it possibly do that?
15:26 - I don't know, but I love
the interface. It's so fast.
15:29 - Ooh, that's another benefit
15:31 - of remote APIs, computational power.
15:34 - Because an API removes the
limitations of your local device,
15:37 - you can gain access to seemingly
infinite amounts of power.
15:41 - A good example of this is the
AR app of Google Translate.
15:44 - You can use the camera on your phone
15:46 - and in near real time it's
able to translate directly
15:49 - to your screen, like instantaneously.
15:51 - It's using a ton of processing power
15:53 - to make that magic happen
and that processing
15:55 - is happening elsewhere, "en la Nube."
15:58 - It took quite a bit of experimentation
16:01 - and some evolution of
ideas, but over time,
16:04 - we finally turned this remote
API dream into a reality.
16:07 - Now, I'm gonna drop some history
into the teacher's notes,
16:09 - but I just want you to
know that the struggle
16:12 - to achieve this concept of
remote APIs was very real.
16:16 - Now, most of the problem was that
16:17 - there wasn't a standard
that everyone loved.
16:20 - Things were pretty clunky for a while as
16:21 - these ideas were sussed
out, but then it happened.
16:25 - A new architectural style
appeared that was clear
16:28 - and allowed us developers to interact
16:31 - with specific resources over the web
16:32 - and it quite literally changed everything.
16:36 - This style rapidly emerged as a winner
16:37 - and just about everyone began offering
16:40 - and consuming external
APIs over the internet.
16:43 - Now, what I'm talking about here is REST,
16:45 - or representational state transfer.
16:47 - It was the approach that
we needed and honestly,
16:49 - it's the abstraction that
we developers deserved.
16:51 - Like we talked about already,
the popularity of REST spread
16:55 - so rapidly that it nearly
completely overtook the term API.
16:59 - It's like how we use the
word Xerox to mean photocopy,
17:02 - even though Xerox is just
a brand of photocopier.
17:05 - Xerox does other stuff too, I think.
17:09 - That's how pervasive REST is.
17:11 - REST is for sure not the end
all, be all of remote APIs.
17:14 - There are definitely some limitations
17:16 - which we'll discuss here in a bit.
17:18 - Technology's ever evolving and of course
17:20 - there's movements that are still advancing
17:22 - the concept of the best remote APIs.
17:24 - Some terms you might even
have heard, like GraphQL,
17:27 - more on this in the teacher's notes.
17:29 - Now, for the rest of this
course, we are going to do
17:31 - a deep dive into APIs that are
written using the REST style.
17:34 - When APIs embrace the style
and constraints of REST,
17:38 - they are said to be RESTful, cute, right?
17:41 - If you feel like you need a little rest,
17:43 - go ahead and pause me
before we do a deeper dive
17:45 - into what it means to be RESTful.
17:47 - Sorry, that was a bad and obvious joke,
17:50 - but as a developer you
kind of have to make it.
17:52 - You don't really have an option.
17:55 - Because REST sits on
top of web technologies
17:57 - like a really nice hat, we should probably
17:59 - do a whirlwind refresher
of how the web works.
18:03 - (upbeat music)
18:19 - It might have been a while since
18:20 - you thought about how the web works.
18:22 - There are a smattering
of terms that I'd like
18:24 - to reload into your working memory before
18:26 - we talk more about how REST uses them.
18:29 - So let's use the web, I've
got my computer here and on it
18:33 - is an internet browser,
the browser is a web client
18:36 - and I'm going to use it
to connect to a server.
18:39 - I'm going to do this by putting
18:41 - a location in the address bar,
18:43 - a universal resource
locator or URL to be exact.
18:47 - You might also hear this referred to by
18:49 - its superset term URI,
universal Resource Identifier.
18:54 - Now our URL here has a scheme portion
18:57 - and this one happens to be HTTP.
19:00 - HTTP stands for hypertext
transfer protocol.
19:03 - Let's break that down a bit.
19:05 - Let's grab that last part, protocol.
19:07 - A protocol is also often
likened to a contract.
19:10 - It's a little lower level than an API,
19:12 - but it's similar in concept.
19:13 - You can think of it as defining
19:15 - the expectations of how to communicate.
19:18 - Like an example that I think really sticks
19:20 - with me is if you've ever been to a rally
19:22 - and someone does one of those chants where
19:23 - they're like, "When I
say 'Fu,' you say "Bar."
19:26 - Fu, bar, one of those. Here, let's do one.
19:30 - When I say HTT, you say P, HTT, HTT.
19:34 - Oh, I just realized I might
have made you yell "P" out loud.
19:38 - Hope you aren't in a coffee shop. Awkward.
19:41 - Anyways, we, you and I just
set up a real quick protocol.
19:45 - I told you how to respond
to my specific request
19:47 - and you would've been breaking
or agreed upon protocol
19:50 - if you yelled anything
else but P, so the browser
19:54 - creates an HTTP request for
you, along with the URI,
19:58 - it also specifies a particular HTTP verb.
20:01 - In this case, it is using
the get verb, which is used
20:04 - to clarify that this request
will only receive data.
20:08 - That is, it won't be making any changes.
20:10 - The server receives the request
20:12 - that was transferred from the client.
20:14 - There's that second T.
20:15 - The server then does the
work that it needs to do.
20:18 - Finally, it generates
the resulting webpage
20:20 - and sends back a response to the client,
20:22 - my browser, in this case.
20:24 - The most important part of
the response is the body.
20:27 - For a webpage, that contains
20:28 - the HTML, hypertext markup language,
20:31 - which gives us the remaining
parts, the HT of our acronym.
20:34 - Hypertext is text that
can link to other texts.
20:37 - In HTML, we perform that
linking with anchor tags,
20:40 - so with that response, the
browser renders the page.
20:43 - When one of those links are clicked,
20:45 - they kick off a brand new HTTP get request
20:48 - and the process repeats
itself over and over.
20:51 - In between those clicks
though, the protocol's done,
20:54 - we've made the request,
we got the response.
20:57 - HTTP, as it was originally designed,
20:58 - is a stateless protocol.
21:00 - Once that request receives
a response, it's all done.
21:03 - If you wanna keep some sort of
state, your client will have
21:06 - to manage that itself and send
it up with each new request.
21:10 - Check out the notes for more on this.
21:13 - There are more http verbs,
also known as request methods
21:16 - besides get, most common
scenario you see is when you
21:19 - encounter a form that is used
to take information from you.
21:22 - Typically you'll see the
verb post used to explain
21:25 - that you are submitting or
posting data to the server.
21:29 - Okay, so our protocol
that's used to transfer
21:31 - this hypertext is admittedly a little
21:33 - more complex than our rally chant was.
21:36 - There's quite a bit of
important information in there
21:38 - that is included in the
request and the response.
21:41 - You've probably seen query
string parameters in URLs
21:43 - and you know the stuff
after the question mark?
21:45 - This is one way to pass
information about the request.
21:49 - Another common way this
information is passed around
21:51 - is through specific key and
value pairs called headers.
21:54 - Both requests and responses have headers
21:57 - and they're used to
help further communicate
21:59 - what is wanted as well as
what has been sent back.
22:02 - Some of the popular request
headers allow you to specify
22:05 - information about the
content that you expect back,
22:07 - like the language or the type of content.
22:10 - You can also state that you want the page
22:12 - if it has changed since a certain time.
22:14 - This technique allows for caching,
22:16 - which is a powerful concept.
22:17 - Why get the whole page if you already
22:19 - have it in your local cache?
22:21 - You can embed authentication information
22:23 - in each request using a header.
22:24 - In this way, you're essentially keeping
22:26 - your client logged in across requests.
22:28 - This response also contains headers.
22:30 - A super important one is the status code.
22:33 - This lets you know what
happened on the server side
22:35 - and can convey things
like missing documents.
22:38 - I'm sure you've seen the
old 404 or maybe the page
22:41 - has moved, but hopefully
everything is a 200 OK.
22:45 - It can also explain the content type,
22:47 - how large the data returned
is, and many more things.
22:51 - Okay, got it?
22:53 - Are you feeling good about
that little whirlwind tour?
22:56 - Remember, feel free to
make me repeat myself
22:58 - if that was too much, I totally get it.
23:00 - That was a lot of information.
23:03 - It's important to have
a basic understanding
23:05 - of these things because
REST sits on top of them.
23:07 - It uses the concepts that
were introduced with the web
23:09 - to expose resources that can
be accessed and manipulated.
23:13 - Let's take a look at
how the RESTful approach
23:15 - takes advantage of the web and its tooling
23:17 - for your benefit, profit.
23:21 - REST stands for
representational state transfer.
23:24 - APIs that meet the REST architectural
23:26 - style constraints are
considered to be RESTful.
23:30 - Now, a typical way to
teach about RESTful APIs is
23:32 - to cover the constraints
that define it all upfront.
23:35 - Now, I don't know about
you, but personally I find
23:38 - approaching learning that
way pretty overwhelming,
23:40 - especially from the beginning.
23:41 - I mean, we haven't even
looked at an API yet.
23:44 - On top of that, most of the REST APIs
23:46 - that you'll use will meet
all of these constraints.
23:49 - So here's the thing.
23:50 - I promise that we'll go
over all the constraints,
23:53 - but let's do it on our own time,
23:55 - like don't learn 'em
all right this instant.
23:57 - We could even make it a fun journey,
23:59 - like a RESTful constraint scavenger hunt,
24:02 - complete with prizes,
avoid where prohibited.
24:06 - Here are the guiding
architectural constraints required
24:09 - for an API to be considered RESTful.
24:11 - We'll check them off when we discuss them
24:13 - and then we'll loop back once
more at the end to review.
24:16 - Gotta collect them all, sound fun? Good.
24:20 - Let's get started talking
about how REST API sits on top
24:23 - of web technology, like a
little hat, much like the web,
24:27 - the client makes a request to a server.
24:30 - The client in this case is typically going
24:32 - to be your program and
you'll probably be using
24:34 - some sort of library to create
the request to the server.
24:38 - The protocol used, you guessed it,
24:40 - it's HTTP and it's stateless.
24:43 - The server won't remember anything
24:45 - about the particular client.
24:46 - If you wanna maintain state
like your login details,
24:49 - you must send it with
each and every request.
24:52 - You'll do this using
headers and just like that,
24:54 - we talked about two of
our REST constraints,
24:57 - client server architecture and stateless.
24:59 - You got two knocked off
already. You're on a roll.
25:03 - Now, we should probably talk about
25:05 - what that request was requesting, right?
25:08 - Well, it most certainly was
25:10 - requesting information about a resource.
25:13 - Now a resource is a little
abstract and that's intentional.
25:17 - It's the R in the URL or URI.
25:20 - We use the term resource
to reference an object.
25:24 - Also happens to be pretty abstract, right?
25:26 - And this is because we can use resources
25:28 - to describe just about
anything that we build.
25:30 - For instance, let's imagine
an e-book store website.
25:34 - On the homepage, there's a list
or collection of new books.
25:38 - Each of these books is a resource.
25:40 - We click in to take a closer
look at that book resource
25:43 - and we see a link to the author,
which is also a resource.
25:47 - We click into the author
resource and we see
25:49 - a collection of all the
other books they've written.
25:51 - Maybe we even see a group of fans, again,
25:53 - another collection, and each
of those fans are a resource.
25:57 - Clicking into a fan
resource, we see a collection
25:59 - of their favorite authors and books.
26:01 - Everything is a resource.
Let's change gears.
26:06 - How about an image sharing
application on your phone?
26:09 - So we have user resources
and those users post photos,
26:12 - which are resources, and
those photos can be loved.
26:15 - So there's a lover resource,
26:18 - maybe there's an album
that could be created.
26:19 - There's an album resource
that contains photos
26:21 - and albums have a collection
of contributor resources.
26:25 - Turns out almost everything
we ever want to build
26:28 - can be expressed in terms of
resources and collections.
26:31 - Most of what we want our
applications to be able to do
26:34 - to the resources can be
expressed through the
26:36 - unfortunate sounding acronym
CRUD, and that stands
26:40 - for creating, reading,
updating and deleting.
26:43 - Now, as a user of the e-book site,
26:45 - all we did was a bunch of
reading, no pun intended.
26:50 - I actually did intend that one.
26:52 - We were reading, right?
26:54 - Just getting information
to display it like
26:57 - we retrieved the author
page, we made a read request.
27:00 - The web browser used a get request
27:02 - to the specific author page.
27:05 - The RESTful API follows the same logic,
27:07 - your program sends a get request to a URI.
27:10 - Then the server responds with data
27:12 - and of course all the HTTP headers
27:14 - you've come to know and love.
27:16 - The body is typically represented
27:17 - these days as JSON or
JavaScript Object Notation.
27:22 - JSON provides a great way to
structure and nest your data.
27:25 - Every programming language
that I can think of provides
27:28 - some means of turning a JSON
string into a native object.
27:32 - The content type is
typically something that you
27:34 - can specify in your request
if JSON isn't your thing.
27:37 - If you recall, there are
other HTTP verbs available.
27:41 - These verbs are used in REST APIs
27:43 - to clearly state the
intention of your request.
27:46 - Wanna add an author?
27:47 - Host to the /authors
endpoint and send the data
27:50 - that you want to update in
the body of your request
27:52 - and these fields will be
defined for you somewhere.
27:55 - Wanna remove an author?
27:56 - Send a delete to that
specific author resource.
27:59 - Updates typically support the patch verb,
28:01 - and you'll see we're able
to represent our CRUD needs,
28:05 - the create, request, update
and delete using HTTP methods.
28:09 - Pretty cool, right?
28:10 - What this means is that
you can interact with
28:12 - any application out there
that's exposed their REST API.
28:15 - You could grab data,
remotely automate tasks,
28:18 - and even smoosh together
different services.
28:20 - This is called a mashup,
and here's the thing,
28:23 - there are a ton of APIs
available, just about anything
28:26 - that you can imagine, and
if they're truly RESTful,
28:29 - they'll all feel pretty much the same.
28:31 - You can build anything, there
are services that allow you
28:34 - to do incredible things with
just a few simple API calls.
28:38 - So now the question becomes
what are you gonna build?
28:41 - So why don't you take a quick
break and when you come back,
28:43 - let's explore a RESTful API together.
28:45 - We'll take a peek at how to use
the music streaming service,
28:48 - Spotify and their excellent RESTful API.
28:51 - (upbeat music)
29:06 - You have some newfound understanding
29:08 - of how web-based APIs work.
29:10 - I walked you quickly through some
29:11 - imaginary REST APIs and now I'm thinking
29:13 - it's time that we get
a little more specific.
29:16 - Why don't we go exploring together?
29:18 - Some of these REST APIs
allow you to give it a try
29:20 - from the comfort of your
very own web browser.
29:22 - One of my personal favorites that allows
29:24 - for exploration is the streaming
music service, Spotify.
29:27 - So here I am at spotify.com.
29:30 - Now, a quick word of warning,
it is going to look different.
29:33 - I guarantee you this site
is gonna look different
29:36 - because they're always
making things better for us,
29:39 - for us Spotify users, us lovers of music,
29:42 - and as well us developers.
29:45 - So I want you to try this.
29:48 - When you go to a site,
any site that you want to,
29:50 - you'll see here that this is really nice,
29:51 - Spotify's letting us kind of test out what
29:52 - it feels like in the web, on the webpage.
29:55 - But if I scroll down to the bottom,
29:58 - that's typically where
they hide nerdy stuff.
30:01 - Now, I knew this was
here, but if I didn't,
30:02 - I would look around for
something like this,
30:05 - this Developers, and I'm
going to click into here.
30:09 - Oh, I cannot tell you how good it feels as
30:11 - a developer to end up in
a place where it feels
30:13 - like you're being taken care of, right?
30:15 - This is so nice.
30:16 - The Spotify for Developers,
it looks like it
30:20 - was thoughtful and I can tell
you that it is very nice.
30:23 - It's a very nice tool.
30:25 - You can scroll down, you
can see all sorts of stuff.
30:27 - They give you some examples
30:28 - of what you might want to do, right?
30:30 - What could you build with this?
30:32 - So you could find out
like different things,
30:35 - like you could use the
API to see the beats
30:38 - and the sections and the bars.
30:40 - I think that there's a way to figure out
30:42 - if a song is danceable or not.
30:44 - So maybe I could import
dancing. We'll see.
30:47 - And if I scroll back up to the top here,
30:50 - you'll see that there's
these different headings.
30:51 - We've got this Discover,
I think this is great
30:53 - if you're going to explore
things, we have this Docs,
30:56 - you'll see that there's all
types of different, actually,
30:59 - APIs and SDKs, software
development kits, which are APIs,
31:04 - which allow you to do different things.
31:06 - You'll see that there's ones for iOS,
31:07 - there's ones for Android.
31:08 - What we're gonna be focusing
on is the one for the web APIs.
31:11 - So if I click into that,
31:14 - we'll get a nice overview of what this is.
31:16 - I'm gonna blow this up just a little bit.
31:19 - So you'll see based on some simple REST,
31:22 - representational state
transfer principles,
31:24 - that's what we're doing, that's
what we're going through.
31:26 - We're going through our scavenger hunt.
31:29 - We're going through that.
31:30 - There's a Spotify web
API that returns JSON,
31:33 - JavaScript Object Notation about
31:35 - music, artist, albums, and tracks, right?
31:37 - So that's awesome. That's great.
31:39 - So we can see all sorts
of different stuff.
31:41 - It opens up at this api.spotify.com is
31:44 - the specific URL and then it has a set
31:46 - of endpoints with each unique path, right?
31:49 - Each of those URLs that
we were looking at before,
31:52 - there is a way to get specific data.
31:55 - So you could do this
thing where you authorize.
31:57 - So, I could be a user,
31:59 - you could see what I recently listened to.
32:01 - I could have a playlist,
I could add to it.
32:02 - But in order to do that, you need
32:04 - to have authorization
to be able to do that.
32:06 - You don't wanna be able to just add
32:07 - to anybody's playlist, right?
32:09 - So there is some
authorization that's available
32:11 - and we are not gonna do anything
that requires that here.
32:15 - So if you keep on looking down here,
32:16 - you'll see that there's, it's based on
32:18 - those REST principles and you'll see that
32:22 - it does get to retrieve resources, right?
32:25 - And there's the post to
create resources, and again,
32:28 - resources here are songs
and artists and tracks.
32:31 - Maybe the resource you're
creating here is one
32:33 - of those playlists that we talked about.
32:35 - You can change using a put
32:37 - and a delete will delete the resource.
32:39 - So awesome, right? So it's
using REST like we saw.
32:42 - You'll see that Spotify
uses this URI style.
32:46 - So it's a Spotify track and then it
32:48 - has this unique ID, this Spotify ID.
32:51 - This will make more
sense as we dig into it
32:54 - a little bit more and then
you'll see that there's always
32:56 - this Spotify URL that allows
you to see what it was.
33:01 - And it will show you this as well.
33:04 - As we said, the responses come back
33:06 - and they are a JSON object
and we're gonna be looking
33:09 - here at a tool in the future called Curl,
33:12 - which you can use from your command line.
33:14 - That's what this dollar
sign here is talking about.
33:17 - I'll show you all this,
but basically it's saying
33:19 - that there's a lot of
artists that come back.
33:20 - You don't want all the
artists in it, it will
33:21 - come back paginated and of
course, you can use caching.
33:26 - We'll take a look at that here,
33:27 - you can see if the thing
has changed or not.
33:31 - So we'll take a look at that
and basically the response
33:34 - that comes back, if everything's good,
33:35 - it's gonna say a 200 or these,
these 200 level accounts.
33:38 - And then there's bad requests.
33:41 - So if you ask wrong or
maybe it wasn't found,
33:44 - that's the 404 or unauthorized,
if we try to do one
33:46 - of those playlists, we get an unauthorized
33:49 - and there's also if you're a developer,
33:51 - you never wanna see
this one, it's the 500.
33:53 - It means that you made an
error on the server side.
33:57 - We won't be doing any of those 'cause
33:59 - we're just gonna be hitting
somebody else's code.
34:02 - Cool, all right, so Spotify
offers the ability to,
34:06 - you can look at this and
you can build your own
34:08 - curl request, but one of
the really nice things
34:10 - that I love about their
API, and you'll find
34:13 - this happens often, if
we scroll back up here
34:15 - to the top, sorry if I'm
making you sick there,
34:18 - we're gonna jump in here to
what's known as the console.
34:22 - Over on the left are the
things that we can do
34:25 - with their API and one
of the things I wanna
34:27 - do first is I want to
search and you can see
34:31 - it's making a get to the search endpoint.
34:34 - So I'm gonna go into there
and what's really nice
34:36 - is it's set it up so that we can kind
34:38 - of build the query that we're looking for.
34:40 - So now we need to decide
what we're gonna do.
34:42 - I think probably the
first person that I would
34:45 - ever search for, the first
artist I would search for.
34:47 - And you can see that here it's showing
34:49 - the different values of what that is.
34:50 - I would probably search for Beyonce.
34:52 - I mean, right, wouldn't you?
34:54 - And I could choose, is
that a track or an artist?
34:56 - So the type there is important,
and if I type artist,
34:59 - you'll see that what's
happening is you'll see
35:02 - the curl here is changing,
it's changing the,
35:05 - it says the cue is the Beyonce.
35:06 - So that's one of the parameters that
35:08 - we're passing into the
API and artist is here.
35:11 - And you can see there's different things
35:12 - that we could do here.
35:13 - What's really important is that it
35:14 - needs to have this OAuth token.
35:16 - Now what's nice is we
can build one of those
35:19 - even if we don't have a Spotify account.
35:21 - So I'm gonna do that.
35:22 - I'm gonna click this Get Token,
35:23 - I am not currently logged
in and I actually don't
35:26 - have a Spotify account yet in this user.
35:29 - I do have a Spotify
account. I love Spotify.
35:32 - And this is asking,
basically what you would do
35:35 - is you would create a
specific OAuth token.
35:37 - If you were ever to use this API outside
35:38 - of where we're doing this right now,
35:40 - you would create one of these
tokens so that you could
35:42 - log in later and you say
what it is that you want.
35:45 - So here's the playlist, right?
35:46 - We don't, we're not gonna do
any of the playlist stuff,
35:47 - we're just gonna do a search.
35:49 - Maybe we'll look up some
of Beyonce's tunes, but,
35:52 - so I'm gonna go and I'm gonna
click this Request Token.
35:54 - So now it's asking me to either log in
35:57 - with my Spotify account, which I can,
35:58 - or I can create a new one,
and let's walk through that
36:01 - just in case you don't have
a Spotify account already.
36:04 - Let's create a new one.
36:05 - And this will be at my
developer account here.
36:08 - So I'm gonna put in my email.
36:10 - So my email, I don't know
if you know about this,
36:13 - but if you use Gmail you
can do a little plus sign
36:19 - and it will still send to
the left side of your Gmail.
36:23 - So I'm gonna do at Spotify
sign up and that way
36:27 - any emails I get from
here, it will have that.
36:30 - And it's kind of a way to let
you have multiple accounts.
36:33 - And I think, so again, my Gmail
is craigsdennis@gmail.com,
36:39 - but I'm gonna do SpotifySignup@gmail.com
36:44 - and it will go to my Gmail.
36:45 - It'll just kind of ignore
this, Gmail does that for you.
36:47 - It's pretty nice, right?
36:48 - So I'm gonna put in the
same password as my luggage,
36:51 - which is 1, 2, 3, 4, 5, 6, just kidding.
36:56 - And what should we call you?
36:59 - Oh, you know what?
37:01 - I love it when you call me Big Poppa,
37:05 - that will appear on my
profile, I am ready for it.
37:07 - And let's see, it is my
birthday on November 19th, 19.
37:16 - Let's see, what do I, I think,
37:17 - wouldn't it be nice if I was born in 1999?
37:20 - What is your gender? Oh, this is nice.
37:23 - How nice. This is like super inclusive.
37:25 - I love that this is so inclusive.
37:28 - It's like somebody at
Spotify went and talked
37:31 - to their people and listened
to what people wanted
37:34 - and they included people
who identify as non-binary
37:37 - or other, or prefer not to say.
37:40 - So like wherever you sit in
that I love and hats off to you
37:43 - Spotify for being inclusive,
'cause inclusivity matters.
37:47 - Share my registration data.
37:48 - Sure, why not? I am not a robot.
37:52 - I don't think I am. Oh, oh no.
37:56 - The images with bicycles.
That one's got a bike.
38:00 - That one's got a bike.
That one has a bike.
38:03 - Oh, what is that garbage there?
38:05 - Is that, this is a bike
lane. This is a bike.
38:10 - Okay, here we go, please.
Okay, I am not a robot.
38:15 - Thank you. All right, so
I'm gonna click Sign Up.
38:17 - Oh, I am male. I am male.
38:20 - So here we go. That's how I identify.
38:23 - All right, I'm gonna save that log in
38:28 - and I am going to log in with it.
38:30 - So here we go. All right.
38:33 - So it's asking me if I have
access to this developer console
38:36 - and it'll see my logged in
as Big Poppa, here we go.
38:41 - And now you'll notice here that
38:42 - there is this token here, right?
38:44 - This is this OAuth token that got created
38:46 - for me by Spotify and it's putting it into
38:48 - this console for me so it can share it.
38:50 - Now you never wanna let your token out.
38:52 - If you get a hold of, somebody gets a hold
38:54 - of your token, they can
do stuff on your behalf.
38:56 - And I realize that this is
on a screen being recorded
38:59 - and I'm going to get rid of
this token here in a bit.
39:02 - So you will not be able to have it.
39:03 - So I've got this token,
it's filled out here.
39:06 - I'm gonna click Try It
39:07 - and we're gonna do a search for Beyonce.
39:08 - Let's see what happens.
39:10 - So you will see that we
got some information back.
39:13 - So we got a list of artists,
39:15 - 'cause that's the type
that I searched for.
39:17 - And this is the search that we did.
39:18 - We'll see some external URLs
39:20 - and we think that this is probably her.
39:23 - I'm gonna see, I'm gonna
grab this really quick,
39:25 - but you can kind of see how
things are laid out here, right?
39:28 - So this is my Spotify URL for that.
39:30 - Let's see if this is
her, this looks like her.
39:37 - Yeah, yeah, definitely. So, great.
39:38 - "Crazy in Love," "Cuff It."
I haven't heard that one yet.
39:43 - Awesome. So this is Beyonce, great.
39:45 - So we got her, we found
her, we used this search.
39:49 - It has, shows how many followers she has.
39:52 - Wow. 32 million.
39:54 - Good job. And it tells the the genre.
39:56 - So we can do all sorts of
really cool stuff with this.
39:58 - And it's here, you'll see
that I'm getting a URL,
40:01 - I'm getting a link that will open up
40:03 - her specific artist page, right?
40:05 - So, here is her ID.
40:07 - So if I take her ID,
I'm gonna grab this ID
40:10 - and I'm gonna come over
here to Artists and I can
40:12 - come in here and I can show
all of the artist's albums.
40:16 - So you'll see it'll be artists/ID/albums.
40:19 - Let's see all of the albums that she did.
40:21 - But let's look at that in JSON format.
40:23 - So the artist that I want,
I'm just gonna pipe that ID in
40:28 - there from before, right, now
it still has my bearer token.
40:31 - The console has done that
for me and I can go ahead
40:34 - and do Try It and we should see that now,
40:36 - it's gonna return back albums, right?
40:39 - So we've made a get request to
the albums and I can see all
40:42 - of the albums that she's
had here and we can see
40:45 - where they're available in
different markets as well.
40:47 - Looks like she's available in lots
40:49 - of markets all over the world.
40:50 - Who runs the world? All
right, so here we go.
40:53 - We are going to look, let's
see, these are albums.
40:59 - That's the artist there.
That's the type of the artist.
41:01 - Let's get one of the albums here,
41:03 - let's make sure that we got it.
41:04 - So you see that it's got
different things like I could
41:07 - get access to maybe the
image of what this album is.
41:10 - So let's do that, I'm
gonna post that here,
41:12 - open that up and let's see, there she is
41:15 - on her horse, her magical horse there.
41:20 - So that's pretty cool,
right? This is awesome.
41:23 - I can get access to all
sorts of information
41:24 - about an artist I can get by their ID.
41:26 - I can go and find all
sorts of different things
41:29 - that I wanted to do, right?
41:30 - So, if I knew an album
too, once I have the ID,
41:34 - I could get the ID, I
could get the tracks,
41:39 - all sorts of amazing things.
41:39 - And then there's these playlists, right?
41:41 - So you can add a playlist, if I wanted to,
41:43 - I could post to create a playlist.
41:45 - Now of course I need to
authenticate to do that
41:46 - and that's a little bit
of what we're doing here,
41:48 - but I could add, put together a playlist
41:52 - for everybody to do using this API.
41:55 - And again, when we are
looking at the artists,
41:59 - when when we're looking
at this get artist,
42:01 - it's showing this curl command
42:03 - and we're gonna take a
look at that here in a bit.
42:04 - But I just want to take
a little bit of time.
42:06 - I want you to go and take a look, go back
42:08 - to this Discover section and kind
42:10 - of get inspired by
what's available, right?
42:13 - So you can look at, there's
these different things
42:16 - where you can, I was right, you can check
42:18 - and see if there's danceability of a song.
42:21 - You can go and find a
track and is it danceable
42:23 - and you know that Beyonce's
is, the songs are gonna
42:25 - come back very high in the
danceability thing there.
42:29 - But lots of powerful
things and there's lots
42:31 - of cool examples that
you can do that people
42:33 - have already gone and built.
42:35 - And you can take a look
at how they built it
42:36 - and how they use the API recommendations.
42:39 - This is awesome, really
this is like super wide open
42:43 - to you and you can do all of this
42:45 - because of the APIs that they provide.
42:47 - Pretty cool, right?
42:49 - You can get access to all
of Spotify's music library
42:52 - and you can build tools
that extend their platform.
42:54 - I highly recommend that
you go and take a look
42:56 - at what other people have
built using these APIs.
42:58 - It's super impressive.
43:00 - Did you notice how fast
those results came back?
43:02 - How could it do that search so quick?
43:06 - Oh wait a second, does it even need to?
43:08 - Those results don't change all the time.
43:09 - It's not like Beyonce is
dropping a new song every minute,
43:12 - though I wish she would.
43:14 - Those results are definitely
cacheable, ding, ding ding.
43:16 - Cacheability is also
available on the client
43:19 - and we'll get to that here in a bit.
43:20 - But this is a great example
of a layered system.
43:23 - I'm almost positive that Spotify has
43:26 - set up things so that
it returns the same JSON
43:29 - from its own server
side caching mechanism.
43:31 - It's not rendered that
on every single request.
43:34 - As a user of the API, I don't know how
43:36 - it's doing that and frankly, I don't care.
43:39 - I want it to be available
43:40 - and fast when I hit that specific URL.
43:43 - Beyonce definitely appreciates
43:44 - how fast the results will return.
43:45 - She might even take that
API dev to Red Lobster.
43:48 - Let's go ahead and take a
quick break, during this break,
43:50 - I'd love for you to move
around and think about
43:52 - what you might be able to
build with that Spotify API.
43:56 - For instance, while I was using this API,
43:59 - I had this idea pop up.
44:01 - When I'm at a music festival,
I often have a hard time
44:03 - deciding which band I should
go see, there's so many.
44:06 - Now I would love to have an app suggest
44:08 - to me which of the bands that are
44:09 - currently playing I
would most likely enjoy.
44:12 - You know, based on my listening habits,
44:14 - I'm pretty sure that you
could build that just
44:16 - with the Spotify API and using a list
44:18 - of events of the bands
that are performing.
44:20 - And if you do end up building that,
44:22 - share it with me 'cause I need it.
44:24 - What other interests do you have
44:26 - that provide an API that you can use?
44:28 - Check the notes for more ideas.
44:29 - Now, after you come back from your break,
44:31 - let's dive a little deeper and make use
44:33 - of an API using our own
tools, see you soon.
44:39 - No really, take a quick break.
44:41 - Seriously, it'll do you good. No binging.
44:44 - (upbeat music)
45:01 - While I realized that exploring
45:02 - an API on a website is informative,
45:05 - it might not feel like you're
actually using that API.
45:08 - I think the next logical step in exploring
45:10 - is actually making that request yourself
45:13 - from your computer, not from a website.
45:15 - Now as I pointed out in the Spotify docs,
45:17 - there were examples that were
using a command called Curl.
45:20 - Curl is an open source tool
that is used to send data back
45:24 - and forth and it runs
locally on your computer
45:26 - and it's awesome for
poking around at APIs.
45:29 - What do you say we explore it a bit?
45:30 - Okay, so we are back
here on our Spotify page
45:34 - and we see that there is a
command here that says Curl.
45:39 - Curl is a command that we
can run from our terminal.
45:42 - Now if both of those terms are new to you,
45:45 - command and terminal, this
is a great time to head over
45:48 - to the notes and learn
about what the terminal is.
45:51 - So my operating system is a Mac
45:53 - and it has an application
on it called Terminal.
45:57 - So I'm gonna open that
up, Terminal, and in fact,
46:00 - I'm gonna make this a little bit bigger.
46:01 - Let's go ahead, let's let
it take up the whole screen,
46:04 - we're gonna be in here for a little bit.
46:05 - So I'm gonna type Clear
and clear my window.
46:08 - All right, so this terminal
46:11 - allows me to perform
actions on my computer.
46:13 - Like I can make it do text to speech.
46:15 - I can do Say and I can say, "Hi mom."
46:17 - - Hi mom.
- And it says, "Hi mom."
46:22 - And the Windows operating
system has a terminal as well.
46:25 - And while it's a little bit different,
46:26 - they're actually pretty quite similar.
46:29 - But check the notes for more on this.
46:30 - So what happens is I write the command
46:33 - and then I pass in
values for the parameter.
46:35 - In this case, it's "Hi mom."
46:36 - Now, note that I used
quotes there because I wanna
46:39 - pass one value, even
though there is a space,
46:42 - if there was a space, that's
kinda how you separate things.
46:44 - But with the quotes it's saying
46:45 - this is one value that I'm passing in.
46:48 - We developers spend a lot
of time in our terminals,
46:51 - so if this is new to you,
I want you to remember
46:53 - that it was new to everyone at one time.
46:56 - So please take your
time and don't let this
46:58 - get you too frustrated, you've got this.
47:01 - So I already have Curl installed.
47:04 - I'm gonna just go ahead
and make sure that I do
47:06 - by typing the word
"curl," and if I see this,
47:09 - I could see that I could type curl
47:10 - and then the command "--help."
47:12 - Now if I didn't have this installed,
47:15 - if this came back with like, I don't know
47:17 - what you're talking
about when you type curl,
47:18 - the word curl, that's okay.
47:21 - So we're gonna head over to the notes
47:24 - and you'll get sorted there.
47:25 - But the starting point, where
I want you to go is curl.se.
47:29 - So you'll come to this page,
47:31 - you'll see this as a command line tool
47:32 - in library for transferring
data since 1998.
47:35 - And that logo sure feels
like that, doesn't it?
47:38 - It does all sorts of things.
47:39 - What we're really concerned
about is this HTTP, right?
47:42 - We're going to use this from
47:43 - the command line to get access to a URL.
47:47 - So if you don't have curl
on your command line,
47:50 - go ahead and pause me and
check out the notes for
47:52 - the best way to get this
installed on your computer.
47:55 - There's a lot of different ways to do it.
47:57 - If you come here under Download,
47:59 - you'll see that there's
different operating systems.
48:03 - So you've got your Linux
and you've got your Mac OS.
48:05 - And if you come down here,
you've got your Windows.
48:07 - So there's different ways
of getting things installed.
48:10 - So go ahead, take your
time, get that installed.
48:12 - And when you come back,
I want you to try this.
48:15 - I want you to do this thing with me.
48:16 - So I'm gonna go back to my terminal
48:18 - and I'm gonna make sure that it works.
48:20 - The way that I always
like to test is I like
48:23 - to go to icanhazdadjoke.com.
48:30 - How do you get a baby
alien to sleep? You rocket.
48:33 - Oh, so good. Anyway,
that's how you do that.
48:36 - That'll let you go and
it's gonna hit that website
48:38 - and it's gonna give you back
a joke when you're ready.
48:43 - So now that we've got
our curl up and running,
48:45 - we've got our successful dad joke,
48:47 - let's go ahead and run
that command from Spotify.
48:50 - So I'm gonna come back
over to my Spotify thing
48:53 - where I was running the search.
48:54 - I'm gonna make sure
that it's still working
48:56 - actually before I get
started, 'cause these tokens
48:58 - can expire and depending
how long your break was,
49:00 - it might have expired,
but mine is still working.
49:02 - So I got this back here and I should
49:04 - be able to get this from my command line.
49:05 - And what I'm gonna do is
I'm going to copy this,
49:07 - I'm gonna highlight this.
49:09 - This is a development practice known
49:11 - by US developers known as copy pasta.
49:14 - So I'm going to copy this and I am going
49:17 - to go back to my terminal and I'm going
49:19 - to paste and this long
list of things here,
49:24 - what this is doing is just saying, hey,
49:25 - I wanna make a get request to
the api.spotify.com/v1/search.
49:31 - Remember, that's where we were at.
49:32 - We were searching and we're
passing the query string
49:34 - of Beyonce and the type of artist
49:37 - and we're telling it, "Hey, I would like
49:38 - to get back JSON and I
am sending you JSON,"
49:42 - even though we're not
actually sending JSON.
49:43 - The default has that there
and this is an important one.
49:45 - This is sending you a header, right?
49:47 - The "-H" is a header and authorization.
49:50 - And this is that long
token that we had there.
49:51 - Now if all is working, when I press Enter,
49:54 - I should get here locally
on my machine that same list
49:58 - of data that we did and
I did, check that out.
50:02 - So what I'm gonna do
is I'm gonna come back
50:03 - up here and I am going to grab, wow,
50:07 - there's a lot of information here, right?
50:08 - When this comes back,
I'm gonna grab her ID.
50:12 - And so I remember that
when we were looking at it,
50:15 - it was down in here, this
ID, is this the right one?
50:19 - Is that the first one?
50:20 - So we got items, no, this is
her ID here, this is her ID.
50:24 - It starts with a six, VW.
50:26 - So I'm gonna copy that
and I'm gonna use that.
50:28 - I'm gonna go back and
remember I'm gonna go
50:31 - and I'm gonna look, I wanna
see what albums she has.
50:34 - So I'm gonna come into here
and I'm gonna remember,
50:37 - I'm gonna paste this URL
here, and I'm gonna run this,
50:41 - make sure that that's still working.
50:43 - I'd like you to go ahead and pause me.
50:46 - I think I'd like to see can you
50:47 - get her albums locally on your machine?
50:51 - Can you go ahead and make sure that
50:53 - you can do the same Get Artist,
50:55 - see all of Beyonce's albums
on your local machine?
50:57 - So here's what we'll do, you give it a try
51:00 - and if you, once you
get it printing locally
51:03 - on your machine, you
can let me know and then
51:08 - unpause me and I'll show
you how I did it, okay?
51:10 - Are you ready? You got this.
51:12 - Pause me.
(upbeat music)
51:19 - Cool. So how'd you do?
51:21 - So here's probably one way that you could
51:23 - have done it is just copied that, right?
51:25 - Copy this whole thing and pasted it.
51:27 - But what I wanna show you
is that we have access to,
51:30 - we know what these URLs are, right?
51:32 - So we know that there's
this v1 artist and in fact,
51:34 - we can see that there
is a get of /v1/artist.
51:39 - And then you can actually pass their ID
51:40 - in the URL there, right?
51:42 - That's what this ID is here.
So, let's just go back.
51:44 - I'm gonna show you a little trick too.
51:46 - So, I've got her ID copied
still, so I could have just,
51:50 - just ran that query and copied
the curl and pasted it here.
51:52 - And if you did that, you did it right.
51:54 - I just wanna show you a little bit more
51:55 - of what else, how else we could explore.
51:57 - So I'm gonna press the up arrow
51:58 - and you'll see my cursor's moving here.
52:01 - I'm gonna press the Option key on Mac.
52:03 - I think you're gonna press
the Alt key on Windows.
52:05 - You can jump around like
this and I'm going to get rid
52:08 - of what's here, and I'm
gonna say v1 artists, right?
52:14 - So that's the collection of artists.
52:15 - And I have that specific ID, right?
52:17 - So there's the ID and I'm
gonna press Enter here
52:20 - and you'll see that I got back
Beyonce, which is awesome.
52:22 - That's what I did and then
remember, the artists have,
52:25 - I'm gonna go to the front of the line,
52:26 - it's Control+A on Mac,
and I'm gonna switch this
52:30 - so artists have, this is
specific artists, so Beyonce,
52:33 - and we wanna see Beyonce's slash albums,
52:36 - which is what the console
would've generated for you.
52:39 - But I just wanted to show
you that you can kind
52:40 - of navigate and move through
and you'll see that there's
52:43 - a bunch of different information
that comes through here.
52:47 - It's kind of hard to see, right?
52:48 - So, kind of hard to parse.
52:52 - And this is something
optionally that you can do.
52:54 - So I press the up arrow
and I'm going to press,
52:56 - pipe that into a tool
called JQ and you'll see
52:59 - that it comes back very
nice and pretty, right?
53:03 - So this is something that is very nice
53:05 - to have and I piped that.
53:07 - That's this, the symbol
above the Enter key is
53:11 - this pipe symbol and it allows
you to take whatever happened
53:14 - in this first part of the
command and take its results
53:16 - and put it in this part of the
command, which is super cool.
53:20 - And again, this is in the notes.
53:21 - You don't need to, you don't
need to worry about this,
53:23 - but I know that I can query things.
53:25 - So I can say that of the items,
53:27 - I'm only interested in the name,
53:29 - the .name from each one of the items.
53:31 - And this is a little query language
53:33 - that's attached to this JQ program.
53:35 - You don't need to do this,
this is just something,
53:36 - if you're doing it from the command line,
53:38 - it's something that we do that
we could kind of hack around
53:40 - with a little bit and
you'll see I can get all
53:41 - the lists of her albums and
that's pretty cool, right?
53:45 - That's powerful, and if
you are gonna just start
53:47 - poking around and moving
around with the URLs,
53:50 - one thing I wanted to make
sure that you're cautious
53:51 - of is if we come back
and we take a look at
53:55 - the console page here, they
do a nice trick for you.
53:58 - If we're back here in search,
like one of the things
54:00 - that I wanna make sure I know
that Beyonce has this song
54:03 - that's like something like,
who runs the world, right?
54:07 - Who runs the world? Girls.
54:08 - But I don't remember
where, what album it's on.
54:11 - So I'm gonna search for a type track.
54:13 - Now, note that my query has spaces here.
54:16 - Now what's happened here is
it's done this URL encoding.
54:19 - So like if you were trying
to mess around and work
54:22 - with the search, you'd wanna
make sure that whatever
54:24 - you did, you passed that
with those plus signs there.
54:28 - So I'm gonna run that curl command
54:31 - and we'll see who runs the world, girls.
54:33 - And I am going to, I see
there's this open link here.
54:39 - So I'm gonna go ahead,
I'm gonna open that.
54:40 - Let's take a look and make
sure this is the right track.
54:44 - I'm pretty sure it is, it
is not the right track.
54:48 - What is this? Femme phan?
54:51 - Maybe it's some other, some others.
54:54 - So let's take a look.
Well, that's interesting.
54:57 - So, oh, I just went to the bottom
54:58 - instead of going to the top.
54:59 - So I should have went to the
very top of these results
55:04 - or I should have pulled,
probably pulled the name out.
55:06 - Rock-a-bye, baby. There's a
Rock-a-bye baby version of this.
55:09 - Whoop, okay, so when the color stops,
55:12 - hope you're not getting
sick of all this scrolling.
55:14 - So Beyonce is the artist that we want.
55:17 - So this is the one, we
want to hear this song.
55:19 - Let's see if I got the
right one this time.
55:21 - This is just something, you know,
55:22 - there's a lot of data coming back here.
55:24 - It's kind of hard to do,
to use on the command line.
55:27 - Sometimes I'm a little
cutsy like you just saw.
55:29 - Here we go. Let's see what happens.
55:31 - Let's make sure this is it.
55:34 - There it is. There's Beyonce.
55:37 - Not the song I was looking for.
55:39 - Oh yeah, it is, "Who
Runs the World? Girls."
55:41 - And now I can listen to that.
55:42 - So it's like, who runs the world? Girls.
55:44 - It's kinda like who
runs the terminal? Curl.
55:48 - Boy, that was a big setup
just to make that joke.
55:51 - I hope that you enjoyed
it. You can has dad joke.
55:55 - Curl is an awesome way to
explore APIs and you'll find
55:57 - that often, just like we saw with Spotify,
55:59 - APIs will use Curl in their
docs to show you how they work.
56:04 - Spotify is just one API and there are
56:05 - so many companies and services out there.
56:07 - In fact, some APIs are the product.
56:10 - Like that's what the company's
selling to us developers.
56:12 - So now that we've been
building up those muscles,
56:15 - why don't we take a swing at another API?
56:19 - Let's use a different API,
this time let's use Twilio.
56:22 - Twilio is a company that loves APIs.
56:25 - In fact, that's what
the company started as
56:26 - more than a decade ago,
just a set of APIs.
56:29 - It started as abstracting
away communication channels.
56:32 - And by that I mean any way you'd ever
56:34 - possibly want to
communicate with your users.
56:36 - Wanna send a text message?
There's an API call for that.
56:39 - Wanna make a phone call? There's an API.
56:41 - Send an email, a WhatsApp message,
56:43 - literally whichever way
you want to communicate,
56:45 - there's an API for all of them.
56:47 - Developers embed these
APIs into their apps
56:49 - and I'm pretty sure that you've probably
56:51 - used it without even knowing you were.
56:53 - Now, nowadays there's a
whole suite of products
56:56 - that Twilio offers that they
saw their customers needing.
56:59 - But under the covers it's still
57:00 - these APIs that are powering everything.
57:03 - I need to be a little
upfront here with you.
57:05 - I love Twilio, I mean, I love it so much,
57:08 - I even applied for a job
with them and I got it.
57:11 - But even if they didn't hire me,
57:13 - I know that I'd still show off
how powerful their APIs are.
57:16 - I mean, with a single command,
you can send a text message.
57:20 - I remember when I first
did that, I was like, whoa.
57:22 - Like that level of abstraction is amazing.
57:25 - I mean if you've never
thought about it before,
57:27 - what even is a text message?
57:28 - I mean, I know I have an
app on my phone and I can
57:31 - use it to communicate with
literally anyone else.
57:33 - But how does that work?
57:34 - Like there's all those different
57:35 - cell carriers and standards
and phone numbers.
57:38 - I mean, I have no idea.
57:40 - And with Twilio, I don't need to know.
57:42 - That's the beauty of this API.
57:43 - It just works here, let me show you.
57:45 - All right, so here we are
at twilio.com and again,
57:50 - word of warning, this is going to look
57:52 - completely different from my
right now to your right now.
57:55 - So please make sure that you
check the notes for anything
57:58 - that might have changed
and is specifically about
58:01 - this flow that we're
about ready to do 'cause
58:03 - we're going to sign up
for a trial account.
58:05 - So I'm gonna click the Sign Up button here
58:06 - and this is going to look
completely different.
58:08 - I know because our team is
constantly making this better.
58:11 - But the one thing that I
wanna make sure that you know
58:13 - right now is that you see that there is no
58:15 - credit card required and it
is a free Twilio account.
58:18 - So I'm gonna put my information in here
58:21 - and I'm gonna use the same
trick that I used before
58:26 - where I do plus and I'm gonna
say, "APIcourseV2@gmail.com."
58:33 - So, the plus sign there
again, the little Gmail trick,
58:37 - we're gonna go ahead, I'm
gonna put in my password again.
58:40 - 1, 2, 3, 4, 5, 6, my luggage.
58:43 - How many times can I do that joke?
58:44 - And then I gonna do this accept,
58:47 - must be 16 or more characters.
58:48 - Okay, there's some password
requirements over there.
58:58 - I think that's 16. All right, here we go.
59:01 - Starting my free trial.
59:05 - I'm ready. Let's do this.
59:10 - I'm definitely gonna
save that long password
59:12 - 'cause I need that for later.
59:13 - All right, so I have now
should have been sent an email.
59:17 - So let me make sure that I
got that email and I did,
59:23 - I am going to click the link
to verify it and here we go.
59:26 - I'm gonna verify my phone number to verify
59:29 - I'm a human 'cause all humans have phones.
59:31 - So we're gonna do (432)-527-4274.
59:35 - Please don't call too late.
59:38 - I'm gonna try that.
I'm gonna click Verify.
59:40 - All right, so I got my verification code.
59:42 - Hey that came very quickly.
59:44 - Well that's wonderful, my
verification code is 017869.
59:54 - Hopefully your code's different than that.
59:54 - Wouldn't they be funny if
they were all the same?
59:57 - All right, so here we go.
59:58 - So which product are we here
to use? We're gonna use SMS.
60:01 - We're gonna use the SMS messaging product
60:03 - and what do we plan to build?
60:05 - Let's see the, of course,
60:07 - these questions are gonna be different.
60:09 - What are we gonna do?
60:10 - We're gonna build, what?
Build something else.
60:14 - We're gonna build something else,
60:15 - how do we wanna build with
Twilio, with code, right?
60:18 - So we are gonna end up
writing code if we want to
60:20 - with minimal code on top of
code samples or no code at all.
60:22 - So, definitely don't need
code to build over here
60:25 - but I'm gonna say with code
'cause we're developers here.
60:28 - So what is your preferred coding language?
60:30 - We're gonna do JavaScript
even if it's not,
60:32 - we're gonna be doing JavaScript
for the rest of this course
60:35 - and I do want to host my code
on Twilio, which is nice.
60:38 - There's a nice serverless option.
60:40 - These options, like I said
are totally going to change.
60:42 - Just try to answer them
as truthfully as you can.
60:45 - So, and my building country is
United States, which is true.
60:48 - And I'm gonna get started. I'm
gonna go ahead and walk this.
60:55 - I guess let's go ahead and so
we'll I can explore products.
60:58 - There's way more products that
60:59 - are available than you can see here.
61:00 - This is what got built based on the menu
61:02 - of what they thought,
but if I ever want to,
61:04 - I can come to this Explore
Products and get more,
61:05 - we probably won't need to do that
61:06 - 'cause we filled out what we're gonna do.
61:08 - And this is where you can
get access to your logs.
61:10 - I'll show that off here in a bit.
61:11 - If there's any problems you'll
be able to find them there.
61:15 - Manage your account keys
61:16 - and build trust with your customers.
61:17 - Yeah, we can build all sorts
of different things in here.
61:19 - We probably won't need to do too much here
61:21 - 'cause most of the keys
that we have are available
61:23 - to us right from this page
that we're on actually.
61:26 - So we'll keep going and I can
see the billing and again,
61:29 - you're in a trial account and I think
61:31 - you get something like $15 to try with.
61:34 - So we'll be sending a text
messages using that trial.
61:37 - Dollar dollar bills,
y'all. So, here we go.
61:40 - And then you can switch between products.
61:42 - So you can have multiple accounts, right?
61:43 - So if you wanted to come and
like explore a little bit,
61:45 - do your own personal thing,
61:46 - maybe do something for
work later, up to you.
61:49 - There's a 1550 is what we got. All right.
61:51 - So, and then I'll click
Next and then I can,
61:55 - anytime I want to, I can look
at this tour again to help
61:57 - navigate around, which is
really nice, beautiful console.
62:02 - So we could definitely go
ahead and the first thing
62:06 - that we wanna do is we want
to get a Twilio phone number.
62:11 - So I'm gonna do that.
62:12 - I'm gonna click this,
Get Twilio Phone Number.
62:16 - And I am so glad that this happened to me.
62:18 - It says that this account
has been restricted
62:21 - from provisioning new phone numbers,
62:23 - which means that thinks
that I might be spam.
62:25 - And you know why it is, it's because I put
62:27 - that Gmail account with a
little plus thing there.
62:29 - So if this happens to
you, I don't want you
62:31 - to feel offended or anything like that.
62:33 - I want you to check the notes
62:35 - for the latest ways to get around this.
62:37 - And also I'm going to go
right now and I'm going
62:39 - to email compliancereview@twilio.com
62:42 - and I should get that up and running.
62:44 - If this happens to you,
go ahead, press Pause,
62:46 - check the notes here for what to do.
62:49 - And I'm going to actually do that.
62:51 - I'm gonna press Pause here.
62:52 - I'm gonna get my account
able to get a phone number
62:55 - and I will see you back
here in one second.
62:59 - All right, so I got all sorted out.
63:01 - So I sent my email to the compliance folks
63:04 - and I was able to say that I was doing
63:07 - a personal account and
I'm learning how to use
63:09 - these APIs and they were
able to let me get in here.
63:13 - So what I'm gonna do
now is when I click this
63:16 - Get a Twilio Phone Number,
we're not going to see
63:18 - that message 'cause I'm
coming in and I've got
63:21 - a new phone number and it automatically
63:22 - gave me this one, this one here, this 561.
63:25 - It went away really
quick, but it's down here.
63:27 - This is my Twilio phone
number, this (561) 816-5433.
63:33 - Now this number is mine, which is awesome.
63:36 - I can use this message,
I can send messages,
63:38 - I can receive messages,
63:40 - I can do all sorts of things with this.
63:42 - I can make calls, I can receive calls.
63:43 - This Twilio phone number
is mine to play with.
63:47 - I think we should do just that.
63:48 - We should send a text message.
63:49 - Now before we get started,
63:52 - I wanna make sure that
you know this stuff,
63:54 - you are on a trial account.
63:56 - So there are some limitations.
63:57 - You can only send messages
63:58 - and make calls to verified phone numbers.
64:00 - So when we set things up, we've verified,
64:02 - like I'm able to send a text to myself
64:04 - because I verified my phone number.
64:06 - I mean, and it will say,
64:07 - "Sent from my Twilio account," beforehand.
64:08 - And there's more things
about your trial account too
64:10 - if you wanted it to get into that.
64:12 - So, check the notes because
this very well could
64:15 - have changed, but check
the notes for more on this.
64:20 - So let's do it. Let's send a
short message service, an SMS.
64:25 - So I'm gonna click here
on this Docs and Support
64:28 - and I'm gonna click
this, it's gonna open up,
64:29 - I'm gonna go these developer
docs, these developer docs
64:32 - are some of the best that
are available out there.
64:35 - I want you to see these.
64:37 - So we're gonna come in here under SMS
64:39 - 'cause that's what we're doing, right?
64:40 - Short message service, and
under here, under these,
64:43 - these sides on the docs
here, you can collapse these.
64:46 - So I'm gonna come in
here under API reference.
64:48 - I'm gonna go to this message resource.
64:52 - Now this is an API, right?
64:55 - So we're in the API reference.
64:56 - So the API that we want
to do is we wanna be able
64:59 - to send from, and we wanna
say from the phone number
65:03 - that we just got and we wanna send
65:05 - a message to my phone number, right?
65:06 - So we're gonna do that and you'll see that
65:09 - over here on the right, there are things
65:12 - that you can do that
show you what you can do.
65:14 - So with this message we can
do all these different things.
65:17 - We'll start with creative message,
65:19 - we'll create a message first.
65:20 - So we're gonna go into
this, create a message
65:22 - and there's these
different languages here.
65:25 - So we have no JS and you can see the style
65:27 - that it looks like, we'll take a look at
65:29 - something like this here real shortly.
65:30 - This is a helper library
that wraps around the API.
65:33 - So you don't need to
do the sorts of things
65:35 - that we're about ready to have to do.
65:38 - You can do things a
little bit more cleanly.
65:40 - But what we're gonna
look at is Curl, right?
65:42 - So here's our friend, Curl.
65:43 - We're gonna jump over here to
Curl and the docs have this
65:46 - really nice thing where I'm
able to actually copy this.
65:48 - So I'm gonna click to copy this
65:50 - and I'm gonna pop over to my terminal.
65:52 - Now again, I'm running on a Mac.
65:55 - So there's a couple of things
here that this is assuming
65:57 - that it's going to be okay
because I am running on a Mac.
66:01 - It's going to assume that these slashes,
66:04 - see these slashes at the end
here, these on a Mac terminal,
66:08 - these show that we are in the new,
66:10 - we're making a new line available here.
66:12 - And also you'll see that there's
66:14 - these account SIDs and these Auth tokens.
66:16 - This dollar sign Twilio
Auth token, dollar sign,
66:19 - Twilio Account SID, in my terminal,
66:22 - on my Mac, that is what's known as an
66:24 - environment variable and they've been set.
66:27 - Now I don't have those set currently
66:30 - because I just built this account.
66:31 - So what I'm gonna do is kind
of bad practice actually,
66:36 - I'm gonna actually put my
66:38 - real information here for us to use.
66:41 - So, back here on our console,
66:44 - on our Twilio console you'll
see that I have this thing here
66:46 - called this account SID
or String Identifier.
66:50 - So this is my ID,
66:52 - my unique ID for the
account that I just created.
66:55 - So I'm gonna go ahead and I'm
gonna click this Copy button.
66:57 - So I copied that, I'm gonna come back here
66:59 - and I'm gonna move my mouse and I'm gonna
67:02 - remove right here where
it says account SID.
67:04 - So that's string identifier.
I'm going to paste this.
67:06 - So that is the way that Twilio
is identifying who I am.
67:10 - I'm gonna go backwards
through the rest of these.
67:12 - And so if you're watching here on Windows,
67:14 - let's just go ahead,
let's get rid of these,
67:16 - these new lines here.
67:18 - So I'm gonna just put
them all on one line,
67:21 - we can handle that, we'll do that.
67:22 - So I'm gonna get rid of
that line and that way
67:26 - it will work completely on both Windows
67:30 - and Mac for what we're trying to do.
67:34 - So I still have my account SID here,
67:36 - so I'm gonna keep on backing up here
67:41 - and I'm going to get rid
of that line, there we go.
67:44 - And you'll see one more time here,
67:45 - there's the Twilio account SID,
67:47 - that string identifier for
my account was still present.
67:50 - So I'm gonna paste that there.
67:51 - So now the API call that I'm doing is to
67:53 - that specific account,
it's due to this messages
67:56 - and you'll note that it's
doing, now it's doing a post.
67:59 - So because we're creating
something new, right?
68:02 - So we're using post to create a message
68:05 - and you'll see here
that it says from equals
68:08 - and the number actually there
for the from, we want that
68:11 - to be the Twilio number
that we just got, right?
68:13 - So that new one that we just got,
68:15 - we're gonna say that is
sent from, let me go back,
68:23 - I'm gonna copy my Twilio
phone number, right?
68:25 - So I've got my 561 number there
68:28 - and I'm gonna paste that here.
68:30 - So you know from and this
plus 561, that's a US number.
68:38 - So it's got the, it's called
a 10 digit long code, 10 DLC.
68:42 - So it's (561)-816-5433 is the
number that I just bought.
68:46 - And we're gonna say by
default it said, "Hi there,"
68:50 - the body of the message, right?
68:52 - So we're, instead of that,
whatever we're gonna do
68:54 - and note that this is all in quotes
68:55 - and we're gonna say, "Ahoy world."
68:57 - I don't know if you know this
or not, but the first word,
69:00 - the way that we used to
answer the phone was we'd say
69:04 - the phone would ring and
you'd be like, "Ahoy?"
69:06 - And the other side would go, "Ahoy-hoy."
69:08 - So we like to do that here a lot,
69:09 - at Twilio we say "Ahoy world."
69:11 - It's kinda like the hello world of this.
69:13 - So the body of the message,
the text that we're going
69:15 - to get is gonna say "Ahoy
world" and then we're gonna
69:18 - send it, I'm gonna send
it to my phone number.
69:21 - So this is one of those
numbers that you verified
69:24 - right when you created your account,
69:25 - you verified that you had a number.
69:27 - So my phone number is (432)-527-4274.
69:33 - Don't text too late at
night please, and then
69:35 - the final thing that we have
here is this Auth token.
69:38 - Now this is a very private key, right?
69:41 - We don't ever want anybody to have access.
69:43 - This is like that Spotify
token that we had, right?
69:45 - We don't ever want anybody to have it.
69:47 - I am going to, I trust
you and I'm gonna go ahead
69:50 - and I'm gonna paste that
here so that we have it.
69:53 - So that is something that you never wanna
69:57 - let out 'cause now you could seeing this
69:59 - on my screen, you could use this, right?
70:02 - And you probably don't
want anybody doing that.
70:05 - So you never wanna actually
give that number out.
70:07 - You wanna hide that and we'll talk
70:09 - about how to do that
more here in the future.
70:11 - But right now I just wanted to show you,
70:12 - we're gonna use Curl,
we are going to create,
70:15 - we're gonna send a post to this URL here
70:18 - and you'll notice that ends in JSON.
70:19 - So that's what we're gonna get back.
70:20 - That's the way that it works.
70:21 - This is to my account, my account SID,
70:24 - you see it starts with this AC
70:25 - and we're gonna post using
this data URL encode.
70:30 - So the way that the Twilio
API works is it takes
70:33 - some parameters, it takes from body and to
70:36 - and the way that you pass those in curl is
70:38 - with this --data URL encode and you pass
70:41 - what it is that you want
to have go across here.
70:44 - So we're gonna, if all of this works,
70:46 - I should get a message back.
70:48 - I should get a text message on
70:50 - my actual phone that says "Ahoy world."
70:54 - Let's do it,
70:57 - and it looks like I'm
missing a quote someplace.
70:59 - So where is the quote that I'm missing?
71:05 - I don't see a missing quote.
71:16 - I can go press the up arrow,
maybe it will show up.
71:18 - Yeah. Oh, right.
71:20 - You know how many times I do that?
71:22 - The ahoy world, the exclamation point
71:24 - is something that you
need to typically escape.
71:28 - So I'm just gonna say "Ahoy world"
71:29 - with a single quote there.
71:31 - So, if you're having that problem,
71:33 - sorry, that's what that was.
71:35 - So I pressed the up arrow to
get my information back there
71:38 - and now if all is going
well and I press Send,
71:41 - we should get a text, here we go.
71:44 - And so I got this message back, I got this
71:46 - and sure enough, here it is, I got it.
71:50 - And you can see here it says
at the front of the body
71:52 - that it says it says, "Sent
from your Twilio trial account,"
71:56 - which is fine, we're in a trial account,
71:57 - that's totally fine, but I
did and boom, I got it on
72:00 - my actual phone, I got that
message, which is awesome.
72:03 - We now have the ability to send a
72:06 - text message from the command line, right?
72:08 - That's pretty cool.
72:10 - Let's take this a step farther actually.
72:12 - So we know that that
API, when I did a post,
72:15 - I was able to get information back.
72:17 - I'm gonna go ahead now and I'm
gonna do just bring that back
72:21 - and I'm gonna get rid of all
of these parameters here.
72:23 - I'm gonna get rid of the
from, the body, and the to
72:26 - and I'm gonna change, I'm gonna make that,
72:28 - I'm gonna do a get and let me
show you what that looks like.
72:33 - So I'm gonna get rid of
all of those parameters,
72:34 - I'm gonna keep that same
URL and it still has my
72:37 - account SID there, right in
there and instead of a post,
72:40 - what we're gonna do is
we're gonna do a get,
72:42 - what we should do is we should get back
72:44 - all of the messages that are there.
72:46 - So I'm gonna hit this kinda
like a message log, right?
72:48 - So these are all the
messages that have been sent,
72:50 - which is awesome, here it is,
72:52 - sent from your Twilio trial account.
72:53 - So, and actually I can make this look
72:54 - a little bit prettier
like we saw with JQ again,
72:57 - totally optional in the
notes if you want it.
72:58 - Yeah, there we go.
72:59 - So you can see that I've
got some information
73:02 - that's sent back here and
you can see that the message
73:04 - that was sent in was sent
outbound to my phone number
73:07 - to me from that number,
which is awesome, right?
73:11 - And like I said, curl's
a little bit challenging
73:14 - because it's gonna be
a little bit different
73:15 - if you're in Microsoft
Windows or if you're in Mac.
73:18 - I tried to make that as
comfortable as possible
73:20 - but I you saw that I did
run into a couple of things
73:22 - like I couldn't use the exclamation point
73:24 - and things like that and
it's a little clumsy.
73:26 - So stay tuned 'cause there are
more tools coming your way.
73:32 - Awesome job getting that
running from your local machine.
73:34 - It feels pretty good doesn't it?
73:36 - What a cool skill you have now,
you can send a text message
73:38 - from your machine with
just a single command.
73:41 - Now believe me, this is just the tip
73:42 - of the iceberg of what you can do.
73:44 - There are so many more
Twilio APIs available
73:46 - and now I know that you
can explore them with Curl.
73:50 - For now though, let's take
things another step deeper.
73:52 - Now I don't know about you
but I'm a little clumsy
73:55 - when it comes to long
commands on the terminal
73:57 - like we just did with Curl.
73:58 - When exploring APIs, I really
like to lean on visual tools.
74:02 - If you don't mind, I'd love
to show you some, that is,
74:04 - of course, right after
you take a quick break.
74:07 - (upbeat music)
74:22 - There are a few tools that I
rely upon when it's time for me
74:25 - to explore new APIs and I
thought I'd share 'em with you.
74:27 - I used these to dive in and get
74:29 - my hands dirty and organize my learnings.
74:31 - One of the most famous
tools and one that you've
74:34 - probably already heard
of is called "Postman."
74:36 - Do you get it? Postman.
74:39 - In addition to being a pretty good pun,
74:40 - it's also a powerhouse of features.
74:43 - Postman started as a Chrome
extension that let you
74:45 - make API calls and what
it's turned into is
74:48 - a powerful enterprise ready
tool with all sorts of bells
74:50 - and whistles and even
shareable collections
74:53 - for the most popular
APIs that are out there.
74:55 - It's jam-packed full of features
74:57 - and in my humble opinion,
you probably don't need
75:00 - all that just yet in
your learning journey.
75:03 - There are entire courses on
how to properly wield its power
75:06 - and I've linked to a few
of those in the notes.
75:09 - There are other tools
popping up all the time
75:11 - that allow you to explore
APIs and store your notes.
75:13 - I like to think of these apps as
75:15 - the built in the vein of postman.
75:17 - There's a whole genre of video games
75:19 - that gets dubbed Metroidvania,
75:21 - because they're similar to
"Metroid" and "Castlevania."
75:24 - Now these apps are
Postmanvania, Postman-esque.
75:29 - Let me show you an example.
75:31 - I just bought this lamp here, it's rad,
75:32 - it's from Govee and it's got this app
75:34 - that I can use to control it on my phone.
75:36 - I can change the colors, right,
75:37 - and I can even make it
dance to my beatbox.
75:40 - (Craig beatboxing)
75:46 - It also has an API.
75:48 - These are the docs here and
as I explore these docs,
75:51 - I'm gonna save them in one
of these postman esque tools
75:54 - that I've been using
lately called REST Fox.
75:58 - Like here I can see all of the devices
76:00 - that are associated with my Govee account.
76:02 - And I set that up using
this URL here and you'll see
76:05 - that it is a get request
and I pressed Send
76:07 - and it sent the request and I got back
76:10 - the Govee devices that are
associated with my account.
76:17 - This API requires a header
and it's called Govee API key.
76:22 - And you'll see these double
mustaches here that I'm using,
76:24 - this side little mustache thing.
76:26 - This is getting things
from my environment,
76:28 - it's a special key that I
don't want anybody to see.
76:31 - I'll show you more of those here in a bit.
76:33 - Now notice how this is a get,
76:34 - so I can send the request
and you'll see that here's
76:37 - my response and I can also
get the current state.
76:40 - So I have a different call here.
76:41 - I can get the current state
end note that if I click Send
76:44 - here we can see that this is
the color of my light currently
76:47 - and I can also turn it on
or turn it off and I can
76:53 - turn it on and I can also
change the color, right?
76:56 - So I'm gonna turn this to red.
76:58 - You don't have to turn
the red light on, Roxanne.
77:03 - Pretty cool, right?
77:04 - And I have this here
for me whenever I want
77:06 - to tweak things, when I
want to come back later
77:07 - and when I want to use it in my code.
77:10 - Did you just have a light bulb moment?
77:12 - I quite literally just did.
77:14 - Let's see if we can't build one
77:15 - of these for the Twilio APIs.
77:17 - So if you'd like to
get REST Fox installed,
77:19 - please check the notes.
77:20 - This is an open source tool
77:21 - and it's getting better every day.
77:23 - Now if you love it too,
77:24 - I highly suggest that you star it.
77:26 - If you click up here,
you could go and you can
77:27 - actually check out the
GitHub repo and you could
77:30 - see cute little Fox here
and you'll see over here
77:34 - how it's tagged that, oh
it's tagged REST client.
77:36 - I guess maybe that's a little bit better
77:38 - than my Metroidvania analogy.
77:41 - Maybe REST client's a good thing.
77:42 - API client, that's also a good thing.
77:43 - So there's lots of these
tools that are available.
77:46 - But let's start using this one.
77:48 - So I've got REST Fox
running here and you'll see
77:51 - I've got the Govee folder,
which I can collapse.
77:55 - And typically what I do is group these
77:57 - by the API that I'm exploring.
77:59 - So let's keep poking around
a little bit with Twilio.
78:02 - So what I'll do is I'll make
a new folder called Twilio.
78:04 - So I'm gonna right click over here
78:06 - and make a new folder called Twilio.
78:10 - And now in here we'll
create a new request.
78:13 - So I right clicked New Request
78:15 - and I'd love to explore
more of the SMS API.
78:18 - So let's see, oh you know what?
78:21 - This new number that we just bought,
78:23 - this Twilio number that we bought,
78:24 - not only can it send messages,
but it can also receive them.
78:28 - So we could send it a
message. So let's do that.
78:30 - So let's go ahead and send
a text to your number.
78:33 - Now if you forgot your number,
it's over in your console.
78:37 - So if you come to your
console and you scroll down
78:38 - a little bit here, you'll
see My Twilio Number.
78:41 - So go ahead and send
a text to your number.
78:44 - Now my number, I'm gonna send a number.
78:45 - It's (561)-816-5433.
I'm gonna send it, "Yo."
78:51 - And there we go, it went
and I ended up getting
78:54 - a default message back
and we could change this,
78:58 - we could make, we could
program this to do whatever,
79:00 - but I'll show that off later, but for now,
79:02 - I just want you to know that
we created a new message
79:06 - by sending to this API and
we can actually get it.
79:11 - And you can also find your phone number
79:13 - later here under this phone numbers.
79:14 - If you go to Phone Numbers,
Manage Active Numbers,
79:17 - you can see your phone
number and remember outside
79:20 - of trial mode you could
buy multiple numbers.
79:22 - So that's an important thing to know here.
79:24 - So, all right, so we are going
79:26 - to look at the incoming messages.
79:28 - So we should do that,
79:30 - we should call the request
what it's going to be.
79:32 - We'll call this incoming message log.
79:35 - That sounds good. And we'll click Create.
79:39 - Okay, so let's head over to the docs
79:41 - and see how we might do this with,
79:43 - so back in the docs here
on the message resource,
79:47 - remember this is where we
did the create a message.
79:49 - I'm gonna see if there's
something else down in here.
79:51 - Ah, list all messages. That's a good one.
79:55 - But we don't want all of the messages,
79:58 - we actually want to
filter it a little bit.
80:00 - So look here, we can do this
by matching filter criteria.
80:03 - That's great.
80:04 - So we're in here, I'm
under the curl tab, right?
80:06 - I could be in these different ones,
80:07 - but this is the example that we want here.
80:09 - I'm gonna grab this URL,
you're gonna see all of this.
80:13 - So that's how they're filtering it.
80:14 - There's some stuff here at the end.
80:15 - I'm gonna grab all of this
and I'm gonna copy it.
80:19 - I'm gonna come back over and I am going
80:22 - to paste it here in
this Enter Request URL.
80:27 - I'm gonna paste the whole thing there.
80:29 - And it was a get request
and the URL had some stuff
80:34 - in this query string that came afterwards.
80:37 - And a query string is, you know,
80:39 - defined by this question mark.
80:41 - So we don't want this date
sent, let's get rid of this.
80:44 - And what's next? We don't
want from, right, we don't.
80:47 - We wanna look at all the numbers
80:49 - that were was sent to, right?
80:51 - So this is the to here, is what we want.
80:55 - Now this 2B here just
happens to be a percent
81:01 - 2B URL encode and happens to be a plus.
81:05 - And I know that and I just happen to know
81:07 - that without having to Google
it but that's a little rough
81:10 - to know like how do I
make a plus sign in here?
81:14 - Wouldn't it be nice if this tool just
81:16 - did all of this URL encoding for us?
81:19 - Like we didn't need to
make this mess at the end?
81:22 - Well check this out.
Here's query right here.
81:25 - This is what we want. So
we wanna add this query.
81:27 - We don't want to have this
whole stuff at the end here.
81:30 - We wanna put in to,
81:32 - we're gonna add one of those things there.
81:35 - We'll put in a to.
81:35 - So that's gonna append
that query string for me.
81:37 - And I'm gonna put in, to my phone number,
81:43 - which again my Twilio phone number,
81:46 - which is over here in my logs right here.
81:51 - Actually I can, I'm
gonna grab this number.
81:53 - This is my Twilio number.
81:56 - I'm gonna put it in the format that
81:58 - is wanted there in my
REST Fox, here we go.
82:02 - So I'm gonna fix that and
we're gonna get rid of this.
82:06 - Just wanna make sure
that's 1561, there we go.
82:09 - Got rid of all those. All right.
82:13 - Now also remember that this was accounts
82:15 - and then it had account SID, right?
82:17 - So that's the ID for my account.
82:20 - And then it's under messages.
82:21 - There's a collection called Messages
82:22 - underneath this account SID.
82:25 - But what we want here is we want,
82:28 - that was using an environment
variable from Curl,
82:31 - but this is also known as
a path variable, right?
82:34 - A path parameter, so here,
82:36 - down here we have this path parameters.
82:38 - So the way that these work actually
82:41 - to replace them is if we go like this,
82:43 - if I get rid of this and I put a colon,
82:45 - what's gonna happen is we
can, anything that's down here
82:47 - in this path parameter
will replace what's here.
82:50 - So let's do that. Let's add this item.
82:52 - And again, that is Twilio account SID.
82:55 - So that's the name of the
variable that's up here, right?
82:58 - It's colon, Twilio account SID,
that was just what's there.
83:00 - Let's keep it 'cause that's what it is.
83:03 - And then we're gonna put
our account SID there.
83:04 - So that also is on my console.
83:07 - So I'm gonna flip back to my console.
83:10 - And on the main page here, if you come in,
83:15 - you can come down and you
can grab your account SID.
83:18 - So now I have my account SID,
83:20 - and I'm gonna paste that there.
83:22 - Awesome, and I think we're ready.
83:24 - I'm gonna press Send
an, oh, we got an error.
83:28 - We got a 401 unauthorized,
no credentials provided.
83:33 - Oh that's right. Of
course, we want to log in.
83:35 - We don't want anyone just being
able to see these messages.
83:38 - So we wanna make sure that we
83:39 - have some authentication happening.
83:42 - So I'm gonna head over to the Auth tab.
83:43 - You'll see that if I
slide this back and forth,
83:45 - I don't know how much
screen real estate you have,
83:47 - but you can slide these
kind of around as need be.
83:51 - So I can, I'm gonna
pull this and you'll see
83:53 - that when I do my little
menu here collapses.
83:57 - So I'm gonna choose Auth from here,
83:59 - but that is also available
in the header here, right?
84:03 - So like it's just a different view of it.
84:06 - All right, so in the Auth I'm gonna put in
84:08 - a basic Auth and I'm
gonna put in a username,
84:11 - which is my username and
then I'm also going to put in
84:16 - my password, which is
my Auth token over here.
84:20 - And again, this is very private
84:21 - and you would never ever want to do this.
84:26 - You now know my Auth token.
I don't want you to have that
84:31 - because you could do exactly anything
84:34 - you wanted to to my account
now that we're there,
84:36 - and one of the things
that you could do is see
84:38 - the messages that were sent in and look,
84:40 - there's my "Yo," my "Yo"
message has made it in, awesome.
84:45 - So also I wanted to show you
the request that happened.
84:50 - Let's take a look at that.
84:51 - You can see that what
actually happened was it was
84:53 - a get that was sent with
the account SID, right?
84:56 - And so that was the account
SID that we used from,
84:59 - if we look back at the
query parameters here,
85:01 - the account SID showed up
there and then it automatically
85:05 - did a two URL encoded
and if you look it put
85:08 - the question mark in for us
and it did that percent 2B
85:10 - for us automatically URL
encoded, very nice, right?
85:17 - And we can see the headers that were sent
85:19 - and we can also take a look.
85:21 - Let's look again at this preview.
85:22 - So we see that we had,
85:24 - the response came back
and this is JSON, right?
85:27 - So we have a key called messages.
85:29 - And this messages has this, it starts out,
85:32 - there can be multiple
messages here, right?
85:34 - So this is the start of what's known as
85:36 - a list or an array and
then there's an object.
85:38 - And the start of the object
is always done with one
85:40 - of these mustaches, and
we call those mustaches
85:42 - 'cause if you kind of
turn your head sideways,
85:44 - it looks like a mustache.
85:46 - So all between the opening
mustache and the closing mustache
85:51 - is the information about
the messages, right?
85:55 - So here's the, and there's
the closing bit of my list.
85:59 - There's only one. This is
the closing mustache there.
86:03 - And so part of the
message that we can see,
86:05 - we can see who it was to,
86:07 - that's my Twilio phone number here.
86:09 - And we could see the from,
there's my phone number there,
86:11 - please don't call too late,
but that's my phone number.
86:16 - And I did say, I said "Yo"
to it, which is awesome.
86:19 - So now we have this. Now this
step is completely optional.
86:22 - This is something that I like
to do is I like to take notes.
86:26 - All right, so there's
this incoming message log.
86:28 - I like to keep notes and I put those
86:29 - in the description over here.
86:31 - And so let's see this
returns all incoming.
86:40 - Well, let's be a little bit more,
86:42 - all messages sent to
this phone number, right?
86:48 - And one of the things that I like
86:49 - to do is I like to put on the docs here.
86:51 - So if I ever come back and I want
86:53 - to find how was it that
I learned how to do that,
86:55 - I can go and look and put a link there.
86:58 - So I'm gonna go flip back
over to the docs real quick.
87:03 - And this is read a message
with matching a filter.
87:05 - I'm gonna copy this
link, I'm gonna grab this
87:07 - or click this here so that then
it changed the URL up here.
87:09 - I'm gonna copy this and this is
87:12 - what I'm gonna store in my notes.
87:14 - Again, this is totally
optional and this is just notes
87:16 - for you for later 'cause
you could end up having
87:18 - a whole bunch of these and you might not
87:19 - remember how you found how to do that.
87:22 - If there's something specific or strange
87:23 - about the API that she wanted to know,
87:25 - I keep the notes in there and it's a just
87:27 - a handy learning tool and
again, totally optional.
87:31 - So we've got our first entry all set
87:34 - and I think we should add another one.
87:36 - Why don't we create the
send message one, right?
87:39 - So the one that we did before
87:40 - we sent messages, let's do that.
87:41 - So I'm just gonna duplicate
this 'cause it's got
87:43 - a bunch of the information
that I already need in it.
87:46 - So I'm gonna duplicate it and
what I'm going to do here is
87:49 - I'm gonna duplicate and I'm
gonna say "Send message," right?
87:55 - So when we sent a message before,
87:57 - remember it wasn't a get, it's a post.
88:00 - So I'm gonna change,
88:02 - I'm gonna change that
from a get to a post.
88:06 - So now we've got this send message
88:08 - that's a post and the query string.
88:11 - I don't want to send a
query string anymore, right?
88:16 - So remember wait, before when we did this,
88:17 - we sent it to using the data URL encode.
88:20 - In fact let's go, let's
pop back over there
88:22 - and look at what it was that we did.
88:24 - So in the documentation over here
88:26 - we have this create a message resource.
88:29 - So, on the message resource
page here, we can look
88:33 - and we can go to this
create a message resource
88:37 - and there's some information about it.
88:38 - So you send this http post
and you can see that again
88:41 - we were, remember before
we were doing this data
88:43 - URL encode and we were
doing this URL encoded.
88:45 - So it's this form encoding
is what's happening here.
88:47 - And oh look, well a couple things
88:52 - actually there's a nice warning here.
88:53 - This says if you wanna send messages
88:54 - while in trial mode you must
verify your two numbers.
88:57 - So if you wanted to send to somebody else,
88:58 - you could put them in
this verified caller IDs
89:01 - if you wanted to, you could
send to somebody else as well.
89:04 - Just there. That's how you do that.
89:06 - If you wanted to test or show somebody
89:08 - what you're building,
that's how you do that.
89:11 - After of course, after
you're not in trial mode,
89:13 - you could submit to
whoever you would like to.
89:15 - So when we are creating a message,
89:18 - we must include the to, right?
89:20 - We need that and we need the from.
89:22 - So we'll do either and
we'll do body and there's
89:24 - this media URL which means
I can send a picture.
89:27 - Let's do that. Let's make it
so that it sends a picture.
89:30 - Now when I am in REST Fox over here,
89:33 - I don't want to use the query anymore,
89:36 - I'm gonna keep the path 'cause
the path is the same, right?
89:38 - So we're gonna do, we're gonna
do a post to that same URL,
89:42 - Twilio account slash account
SID messages dot JSON
89:46 - and we're gonna make a post
to it instead of making
89:48 - a list and retrieving,
we're going to create.
89:51 - So we're gonna go under
body and for the body
89:54 - we're gonna make it form URL encoded.
89:57 - And what we wanna do there
is we wanna send it to,
89:59 - so I'm gonna send this to my number.
90:02 - Again, don't call too
late, (432) 527-4274.
90:08 - No really, if you wanna call
90:09 - and get feedback, that's
fine, I'd love to chat.
90:13 - So we'll do from, and
that is my number again,
90:17 - this is my number and
which was that number.
90:23 - So we can come here into the message log.
90:24 - We can go pull that number
from the query string.
90:26 - So this is my Twilio number there.
90:33 - From is this value there and we are going
90:36 - to add the body, the body will say sent
90:41 - from REST Fox and let's add our media URL.
90:47 - And I just happen to have
one of my favorite photos,
90:51 - which you will have to check out
90:56 - for yourself to know what it is.
90:58 - But it is a photo that
I pick, if you will,
91:02 - that I'm going to send to myself.
91:04 - It's also in the notes if
you want to do this as well,
91:07 - if you wanna copy that and paste that.
91:09 - So here we go. I am going to do a send.
91:11 - Now remember I'm also
authenticated with my username
91:14 - and password 'cause that
copied across when I did it.
91:16 - So I'm gonna do a to, from,
a body and a media URL.
91:21 - So now I'm gonna go ahead
and click Send and boom,
91:25 - we got our message back, right?
91:27 - So the response, we got
a 201 created, right?
91:30 - So it was created in the body,
91:32 - we can see the body of our message.
91:34 - The key is sent from REST Fox,
it's got some information.
91:37 - We can go ahead and get
access to that message
91:40 - if we wanted to and it's got
these actual media resources
91:43 - down here, which we can
also take a look at.
91:45 - And we could, if we wanted to
open up a whole 'nother one
91:48 - of these and explore and
see what that looked like.
91:50 - But let's take a look
at that in a new tool.
91:53 - Before we do go to look at that new tool,
91:55 - one thing that I don't
love about what we just did
92:00 - are in my, in these requests, in these
92:02 - separate requests, these
are duplicated, right?
92:06 - I've got this username and password.
92:08 - If I go to my post send message,
92:10 - I've got this username and password
92:12 - and they're duplicated there,
which isn't great, right?
92:15 - That's not excellent.
92:18 - One of the things and one of
the tools that most of these
92:22 - REST clients provide is a
thing called an environment.
92:25 - And let's set that up really
quick, real quick for this.
92:27 - So if I come here under this environment,
92:29 - here is my default
collection and I can add
92:33 - a new environment, I'm
gonna add one for Twilio.
92:36 - Now the way that these work
are, they are JSON based.
92:42 - So this is, remember this
is the start of an object.
92:45 - Now if you've never written JSON before,
92:47 - take your time, use some patience.
92:50 - One of the things that you
could do is you could come in
92:52 - and you can put in account
Twilio account SID,
92:56 - and you do the key and then you do a colon
92:59 - and you can see that
I'm, this is unexpected
93:02 - JSON down here, it's helping me out.
93:04 - And now I'm gonna put in
my account SID and again,
93:08 - let me go copy that one more
time and I don't have to copy
93:11 - this anymore 'cause it will
be part of my environment.
93:13 - It will be here with me,
which is really nice.
93:16 - So come over here, I'm gonna paste that
93:17 - and now I want to add a new key.
93:19 - So the way JSON works is you
put a comma after that, right?
93:21 - And I'm gonna put a new, the new key here
93:24 - and we'll do a Twilio
account or Auth token.
93:30 - And again, this is, that can
be, that key can be whatever
93:33 - you want it to be and we'll
be able to reference it.
93:35 - So I'm gonna come and grab my Auth token
93:37 - and I'm going to change this, right?
93:39 - So that's a great use case
of this is I don't want you
93:43 - to be able to, I am going
to change this, right?
93:47 - So as soon as this, as soon
as I'm done recording this,
93:49 - I'm gonna change my Auth
token and that would mean
93:51 - that I'd have to go
change each one of 'em.
93:53 - But now I have one place
where it's defined.
93:56 - I have one place in my
environment that's defined.
93:58 - So I have this environment
here that says Twilio.
94:00 - Now instead of username I can
do this mustache, mustache.
94:04 - And I can say Twilio account SID
94:10 - and that's the way the
templating language works here.
94:12 - And then most of these REST clients
94:14 - and you can do Twilio token.
94:19 - So when you see that's what's happening.
94:21 - That is the environment,
94:22 - it's using the environment variables.
94:24 - I'm gonna go do that for here.
94:27 - And also I'm gonna copy
my Auth token for here.
94:31 - And so now I only need to
change that in one place
94:34 - in my environment and
you can also use it here.
94:38 - So like not like before I can,
94:40 - I can also put my account SID here.
94:43 - So that will also make this
so that it's shareable, right?
94:47 - So if I don't specify my information
94:50 - in here, I can share it.
94:51 - So you what you could do, and
actually why don't you try
94:53 - to do it, why don't you try to
add your Twilio phone number
94:57 - and see if you can figure out how to add
95:01 - to your JSON there,
your Twilio phone number
95:05 - and then you could replace it, right?
95:06 - You could replace it here with your from,
95:09 - from your Twilio phone
number, pretty neat, right?
95:12 - So that's a good, little trick
that you could do in here.
95:14 - You could do your Twilio phone number,
95:15 - you could use it there too.
95:17 - So anything that you're using is something
95:18 - that you can kind of store
there in your environment.
95:21 - And what's nice about that,
95:22 - let's make sure that it still works.
95:25 - Yep, it's still working.
95:26 - And let's make sure, make sure my, oh,
95:27 - I'm not gonna send another
picture to myself, that's fine.
95:31 - So we know that this
environment is now working
95:34 - and it's here and I don't need to go back
95:36 - and get those every
single time, really handy.
95:39 - And what's nice is you can
do these imports and exports
95:42 - and we'll take a look
at that here in a bit.
95:43 - So when we get back
we're gonna take a look
95:46 - in a different tool
'cause this is REST Fox
95:49 - and I know that you're probably
getting ready for a rest.
95:52 - So let's take a quick break
and then let's see if we
95:55 - can't retrieve that pic that
I sent myself via this API.
95:58 - But let's do that in another
Postman mania or REST client,
96:03 - right after a quick break, that is.
96:05 - (upbeat music)
96:20 - All right, quick refresher.
96:22 - We had just sent a message from
REST Fox, a REST API client.
96:28 - Here's the body of the message
we just sent from REST Fox
96:30 - and we actually sent
across some media with it.
96:33 - You can see here it has
this Num Media one 'cause
96:36 - each text message can have
multiple medias attached.
96:40 - And if you scroll down here,
you'll can see that there
96:42 - is this key of sub resource
URIs and it has a list
96:47 - of an object here and one
of the objects is for media.
96:51 - And what this will do is
this will allow whatever's
96:53 - at this URL will give us the accounts
96:57 - for this account, for
this message specifically,
97:00 - it'll give us all of the
media that is listed.
97:02 - Now, typically when I have
something that's this far out,
97:06 - we could actually add another one here.
97:08 - But I thought I'd show you a
little bit of how my process
97:11 - normally looks in case we wanted
to see what that felt like.
97:15 - So I use an editor called
Visual Studio Code.
97:19 - It's free, it's available
97:20 - and this is where I do my coding from.
97:22 - So I start here, I start
working on my coding.
97:25 - I would love for you to
go ahead and download this
97:28 - because I wanna show you
a tool that's inside here
97:30 - that will allow us to do
a REST client as well.
97:33 - So go ahead and pause me, get
Visual Studio Code installed
97:37 - and when you do come back
and I'll show you something.
97:39 - (upbeat music)
97:46 - Okay, so once you get
Visual Studio Code up
97:48 - and running, if you press Command+Shift+P,
97:51 - there is a thing called extensions.
97:53 - And this will do a little, if you type in
97:55 - Install Extensions, you can come here
97:58 - and you can see different
things that are available.
98:00 - What I want you to install
is a thing called Thunder.
98:03 - We're gonna do install a
thing called Thunder Client.
98:06 - And it's this one here,
98:07 - it's a lightweight REST
API client for a VS code.
98:10 - It's really powerful and the good news is,
98:12 - is it is Postman-esque.
98:14 - You are gonna feel very familiar
98:16 - when you take a look at this.
98:17 - So if you do it, you can
go ahead and click Install.
98:21 - And what will happen is there'll
be a little Thunder Client
98:23 - that will install over here like so.
98:25 - And just like you've seen
before, there are these,
98:28 - this concept of collections
and we can make a new one.
98:31 - So I'll make a new collection
for Twilio and typically
98:35 - what I'm doing is I'm coding
and I run into this API
98:37 - and I'm like, ooh, I wonder what this is.
98:39 - I'm gonna go explore it a little bit
98:41 - and I'll explore it right
from my editor, right?
98:43 - So I'll write my code here
and then I can come over here
98:45 - and just take a look at what was there.
98:47 - And so let's go back to
REST Fox and I'm gonna grab
98:50 - that REST Fox that we had here, right?
98:52 - So we're gonna do that.
98:53 - I'm gonna grab that and I'm
gonna come back over here
98:58 - to Twilio, I'm gonna make a new request.
99:01 - I get to name it. And
this was the media check.
99:05 - Let's no, we're gonna do all media.
99:07 - All media for a specific message, right?
99:10 - So here we go, I'm gonna paste that URL
99:13 - in here and of course it's missing
99:14 - that first part, which was api.twilio.com.
99:19 - So again, this is the going for
99:21 - that account to those messages.
99:23 - I'm gonna look here at where it says Auth.
99:25 - So it says inherent
authentication values from parent.
99:28 - This is a very nice thing and
this is something that Postman
99:30 - has too that REST Fox
doesn't necessarily have.
99:34 - We put this in our own
environment, it's kind of similar,
99:36 - but you can make, for this
collection that we built,
99:39 - we can actually do the
settings for the collection.
99:41 - And if I come in here,
99:42 - I can set the Auth up here so I could do
99:44 - this basic Auth here and go grab my stuff.
99:48 - And so just a reminder
in REST Fox, when we did
99:50 - that before we were in
the environment of Twilio
99:52 - and I was able to grab the
Twilio account SID, right?
99:57 - So let's go back to our code
here and the Twilio account SID
100:02 - is the username and the password.
100:06 - Let's go back to that
environment in REST Fox.
100:09 - The password is that Auth.
100:14 - There we go, we'll paste that there.
100:16 - Perfect. So I'm gonna click Save on this.
100:18 - And so now this all media should work.
100:21 - So I'm gonna go ahead, I'm gonna do
100:22 - a send to this and there
we go, we got it back.
100:25 - And we can see there's a
media list is the key here.
100:29 - And again, it's an array of those and this
100:30 - is the list of all of the
media that's available.
100:33 - And so now look at this collection.
100:34 - So we have a collection of accounts
100:36 - and here's a specific account.
100:37 - We have a collection,
that account has messages.
100:39 - That message has media and
that media has an entry,
100:44 - a media entry, and that's it.
100:46 - This is what we're looking at right here.
100:47 - So something that's pretty cool.
100:50 - The way that this works is if I get this,
100:51 - I can get some metadata
information about it.
100:53 - But if I get just a little bit of it,
100:55 - if I just go ahead and
take this the way that,
100:58 - the way that Twilio works,
and not all APIs do this,
101:01 - but if I do this without
the extension here,
101:03 - I'll actually get back
the picture that I sent.
101:05 - So I'm gonna do that,
101:06 - I'm gonna make a new little request here.
101:08 - So a new request, and we're gonna
101:12 - call this, get the pic, right?
101:14 - We're gonna get that pic that I sent
101:16 - 'cause we don't, still don't
know what that pic was.
101:17 - What was it? Let's go take a look.
101:20 - So, again, at the end
of this, oops, sorry.
101:25 - At the end of this, there
is no extension, right?
101:29 - So I got rid of the dot
JSON extension and I'm gonna
101:31 - put it the front here,
HTTPS api.twilio.com.
101:37 - And the interesting thing
about this is this pic
101:41 - is not authenticated and
if you do authenticate,
101:44 - you end up actually having some problems.
101:45 - So I'm gonna tell this
request specifically
101:48 - to not inherit value.
101:50 - So I'm gonna disable this so
that it's not authenticated.
101:52 - So when I click this, if all goes well,
101:55 - we should see the pic that I submitted,
101:57 - awesome, and we do, cool.
101:59 - So it's a little big,
102:01 - it's a little big of a
pic that was sent here.
102:05 - And we could take a
look at some stuff here.
102:07 - We could look at the
headers that were sent.
102:09 - So we can see a couple things.
102:10 - One of the things that I
think is really interesting is
102:13 - when it says last modified,
so the last modified date,
102:17 - if you have a request that has this on it,
102:19 - it means that you can use caching.
102:21 - So you can, when you make the
request, you can actually say,
102:24 - if it's been modified
since this time, do that.
102:27 - So I'm gonna do that, I'm gonna grab this.
102:28 - Let's just take a look
and see what that does.
102:30 - So I'm gonna go to headers here
102:31 - and I'm gonna put a new
header in here of if,
102:36 - and you can see that
there's auto complete.
102:38 - So it's if modified since.
102:40 - So again, this is the
request that I am making,
102:42 - I'm making this request and
I'm gonna say if it's been
102:45 - modified since then, give me
and otherwise let me know.
102:50 - And so the way that it lets
you know is 304 not modified.
102:55 - So that's a status and you'll see
102:56 - that I got zero bytes back.
102:57 - So that is how caching works
103:00 - and what you can do to send this across.
103:02 - So, this is really powerful, right?
103:04 - I didn't need to set up
all the other things.
103:05 - And it's kind of really a
quick little look at this.
103:08 - I don't actually even
need to do a collection.
103:09 - I can just do a new request
outside of it and I kind
103:11 - of explore through and see
how these things are working.
103:15 - Which ding, ding, ding,
means we covered another part
103:19 - of a RESTful API
constraint scavenger hunt.
103:22 - Using standard HTTP caching
103:24 - mechanisms like last modified and e-tags,
103:26 - a RESTful API should support caching.
103:29 - It's up to you to maintain
the cache on your client
103:31 - and decorate requests,
but this can come in
103:33 - really handy to avoid
making unneeded requests.
103:37 - And those are the Postman-esque
things I wanted you to see.
103:40 - I wanted you to be able to
do that without diving in
103:43 - necessarily to do all of the
Postman enterprise things
103:47 - that you wanna do, but I think it's time.
103:50 - I think you should feel
comfortable enough that we can now
103:52 - look at Postman and see what
we've already learned there.
103:55 - So I'm gonna go here and
I'm gonna just do a quick,
103:59 - quick little Google search for Postman.
104:02 - And this is really nice.
104:03 - You can do this for whatever
API you're working at with.
104:05 - And since we're working with Twilio,
104:06 - I'm gonna search for the
Postman Twilio collection.
104:10 - So there's some docs on Twilio about it,
104:11 - but if you look here,
104:12 - there's this Twilio
Postman on the API network.
104:15 - So this is important
to know, there's a lot
104:16 - of things on this API network where
104:19 - they've built APIs for
you to go and share.
104:22 - So I'm gonna click this and now note
104:24 - I'm inside of a web browser.
104:26 - Postman's done a really gorgeous job
104:28 - of letting you run inside of your browser.
104:31 - You also can run it locally
like we did with REST Fox,
104:33 - but I'm gonna run this from my browser.
104:35 - So I'm gonna go into this
messaging SMS and you can see
104:40 - there's all sorts of
different things in here.
104:43 - It's a little bit hard to get to here,
104:45 - but you could change things.
104:46 - Put in your account SID,
and all sorts of things.
104:48 - Like we saw, look, here's
the double mustaches, right?
104:50 - And here's a thing to send
an SMS and it's super cool.
104:57 - It's neat, right? And so you've seen this.
104:59 - Here's your authorization, the headers,
105:00 - the body, there's collections.
105:02 - And what's cool is somebody's already
105:04 - built these collections for you
105:05 - and they're sharing your
stuff this way, right?
105:07 - So that's kind of nice.
105:08 - So there again, there's
path variables, right?
105:10 - And the path variables coming up here.
105:11 - There's the call and
account SID that you saw
105:14 - from before, here, somebody's
using this as the start,
105:17 - the https API twilio.com and
it's doing a post, right?
105:22 - So it feels very similar. So
you're familiar with this.
105:24 - There's also a bunch of other
things over here that it
105:27 - can do that could get a
little bit distracting.
105:29 - And that's what I was
trying to kind of avoid
105:32 - 'cause I wanted you to
get familiar with it.
105:34 - But know that this exists.
105:36 - One of the really cool
things that Postman does is
105:39 - if you click over here on
this far right over here,
105:40 - there's this little code,
it's like open and closed tag.
105:44 - This is really neat.
So we have Curl, right?
105:46 - So we could see, this
is how I would go ahead
105:48 - and do this and this, this
feels familiar, right?
105:49 - This is how what we actually did,
105:51 - we did this curl statement,
but check this out.
105:53 - You can do this in any
programming language.
105:55 - So the trick here, the
trick to remember is that
105:58 - any programming language that
can make an HTTP request,
106:02 - like it has a client built into it,
106:04 - because these are all
standard, the REST API, right?
106:08 - We're following these constraints that
106:09 - have been defined, it can
generate code for you.
106:12 - So here's node JS using
a package called Axios.
106:15 - So Axios allows you to fetch things.
106:17 - So this is what it would look like
106:18 - if you tried to write that using Axios.
106:22 - And if you look in here,
you come down here,
106:24 - here it is in PHP with Guzzle,
I don't know what guzzle is.
106:28 - I like that though, that's why I chose it.
106:30 - So you could see that it's
generating this code for you.
106:32 - And if I copy this and pasted it into
106:33 - my PHP code or my Python
code or my Java code,
106:37 - it would just work and that's really handy
106:39 - that is if the company that's
providing the API doesn't have
106:42 - a helper library or an SDK,
a software development kit,
106:45 - which we haven't looked at
yet, but we're about ready to,
106:48 - Twilio does have one of
those but if you were
106:49 - looking at one of these that didn't,
106:51 - this is a great way to get that code.
106:53 - So again, check out the API network,
106:56 - this Postman API network, it's cool.
106:58 - I think you're ready now
to use this if you want to.
107:02 - But also feel free to use the other tools,
107:03 - explore the APIs in a comfortable way,
107:06 - wherever you might be
most comfortable with
107:10 - 'cause there's all sorts
of really fancy tools here
107:12 - on Postman and like I said,
there are courses on how
107:15 - to take full use of all of
the things that are available.
107:19 - Awesome job diving into
all those tools, Postman is
107:22 - a super powerful tool and it
keeps getting better every day.
107:26 - There are so many features
that we didn't cover.
107:28 - We barely even scratched the surface.
107:30 - There's an entire course out there on it.
107:32 - Check the notes for a way to see that.
107:34 - We saw how to organize
our request together
107:36 - into collections as well as share common
107:38 - and secure values by using variables.
107:41 - We learned how to add
different values to request
107:43 - both informed values,
query strings and headers.
107:46 - And we also saw how to navigate through
107:48 - various sub resources via clicking URLs.
107:51 - We even saw how to create
actual runnable code from
107:53 - your request, while we were
in the Twilio documentation,
107:57 - you might have noticed the code examples
107:58 - on the screen on that page.
108:00 - It's possible the tab
between various language
108:02 - implementations and solutions.
108:04 - Many products offer
what is known as an SDK
108:07 - or software development kit
or helper library that allows
108:11 - you to interact with their
product in your native language.
108:13 - As you can see, it abstracts
away the REST API completely.
108:18 - Let's take a look at the
Twilio helper library next.
108:21 - Before that though, just a quick reminder
108:23 - to make sure that you check
the notes on this video.
108:25 - There's a link to a repository
of built out collections
108:28 - that are ready for you to use.
108:29 - There are lots of great
APIs to practice with.
108:33 - All the tools that we just looked at
108:34 - are great for accessing
and exploring APIs.
108:37 - However, when it comes time you're
108:39 - most likely gonna wanna write some code.
108:41 - Now as we saw in Postman,
108:43 - you can actually generate code.
108:44 - All programming languages
have some sort of way
108:47 - of making HTTP requests and
as you know, HTTP requests
108:51 - are all we really need to
interact with REST APIs.
108:55 - So writing that sort of
code is totally fine,
108:57 - but you'll find that
you'll end up writing a lot
108:59 - of what is known as boiler plate code.
109:01 - By boiler plate I mean
code that is repetitive
109:04 - and almost always the same,
just with a few tweaks.
109:07 - Many products and services have created
109:09 - a solution to help you avoid this problem.
109:12 - They're often called helper libraries
109:13 - or SDKs, software development kits.
109:16 - They'll be specific to
your programming language.
109:18 - These libraries help make your code
109:20 - more concise and legible.
109:21 - They usually also provide
additional documentation
109:24 - for your editor, which I find super handy.
109:26 - Let's go check out some
of these helper libraries.
109:28 - Okay, so let's take a look at
one of these helper libraries.
109:31 - Let's take a look at the
first one that's here.
109:33 - So again, I'm in the docs SMS,
create a message resource.
109:37 - I'm here under the curl
tab currently, remember,
109:39 - when we did this, we went
and we saw how to do this.
109:41 - We passed the from, the
body, and the to, we passed
109:44 - in these environment variables
as what this dollar is.
109:46 - And this dollar Twilio Auth token,
109:47 - their environment variables
109:49 - and it's also used here in the URL.
109:51 - So we had done that, we
had done that with Curl.
109:54 - Now one of the really nice things about
109:57 - these helper libraries is
they look very similar,
110:00 - but it's taken away this whole notion.
110:03 - So let's go here. I'm
gonna go to this node JS.
110:05 - Now, quick word of warning,
if JavaScript is new to you,
110:09 - there is some stuff here that
might be a little confusing.
110:12 - And I want this to just
kind of wash over you.
110:15 - I want you to more feel what
it feels like as I explain it
110:19 - and don't be too concerned
with not exactly understanding
110:23 - all of the things that can
happen, especially if you're one
110:24 - of the folks who has the
Hello World requirement.
110:29 - Please don't feel like you need
110:30 - to fully understand all this.
110:31 - I will walk through this code
line by line and tell you
110:34 - what it's doing and it
will be familiar to what
110:37 - we've been doing just in
a programming language
110:40 - that you might not yet be familiar with.
110:42 - So I'll take my time
and you take your time,
110:45 - give yourself some patience.
110:46 - In fact, I'd like to
suggest that if you are in
110:49 - the boat where you have
not written code like this
110:51 - before that you watch me
first and then come back
110:55 - and do it later, we're
gonna take advantage
110:57 - of the fact that we're in a video, right?
110:58 - You can take me right back to right here
111:00 - and take me back to right
here and we could get started.
111:03 - So one of the things that I love about
111:05 - Twilio's documentation is that you can
111:07 - just copy it and it should work.
111:09 - So this is what was happening when
111:10 - we created something here, right?
111:12 - So we created a message.
111:14 - So this is, you get this
authenticated client, right?
111:17 - We know what that is.
111:18 - We authenticate with our
client, with our account SID
111:20 - and our Auth token like we've been doing.
111:23 - And then we're gonna do
this messages, a client.
111:25 - So client.messages,
there's our REST client,
111:28 - .messages.create, and we're
gonna pass in the from the body
111:31 - and the to and it's got all
the information that we know.
111:34 - And then there's doing some
of this JavaScript stuff.
111:36 - So then we're gonna get a promise back
111:38 - and then we're gonna get
access to the message.
111:40 - And this console log is going
to print out to the screen.
111:44 - I don't think we should send a message.
111:46 - Why don't we look at the
messages that we've done?
111:48 - Let's do that. So I'm
gonna go to that example.
111:50 - So I'm gonna choose down
here, this list all messages.
111:53 - Awesome, so we'll take a look at all
111:55 - of the messages that are in the account.
111:56 - Now what I can do is I can just copy this.
111:59 - So I'm gonna copy this
112:00 - and I'm gonna run it on my local machine.
112:02 - Now I'm just exploring,
112:04 - and this probably happens
as you're looking at APIs.
112:07 - So typically I have a folder
on my computer called Scratch.
112:12 - And if you wanna make
one, you do Mkdir Scratch.
112:15 - Just kind of put this
wherever you want to.
112:17 - And then you get into that directory.
112:20 - If you're doing this in
your terminal on Windows,
112:22 - there are some instructions in
112:23 - the notes on how to do exactly that.
112:25 - So now I've got this
directory named Scratch.
112:28 - Now I told you before I was
using Visual Studio Code,
112:31 - which I hope that you have installed.
112:32 - And so I'm gonna do code
dot, and if this doesn't work
112:36 - for you, there are instructions on how
112:38 - to get this installed
properly on your machine.
112:40 - What it should do is pop open
112:42 - my Visual Studio code
directly in that directory.
112:48 - So I'm in this directory here
112:49 - and I'm gonna make a new file here.
112:51 - I'm gonna call it explorer.JS
112:54 - 'cause this is typically what I do.
112:56 - So I'm gonna come in here and
I am going to paste that code.
113:00 - Awesome, so now I have this code here
113:01 - and this code is on my local
machine, which is awesome.
113:06 - So now I'm gonna try
to make this code run.
113:09 - Now one thing that I
know for sure that I need
113:11 - to do is I need to download
the Helper library.
113:13 - So if I wanted to go here, I
could go to this node install.
113:16 - I happen to know how to do that.
113:18 - So I'm gonna go up here under
terminal and I'm gonna do
113:20 - New Terminal and in Visual
Studio Code, this is really nice.
113:24 - My terminal can actually run
the same terminal that I used
113:26 - to open it is running
down here in the bottom.
113:29 - And what I'm going to do is
I'm gonna use a package manager
113:33 - to install the Twilio Helper library.
113:38 - So I'm gonna say NPM Install Twilio.
113:41 - So NPM is node package manager.
113:44 - And if you do not have
this, if this does not work,
113:48 - check the notes because it means that Node
113:50 - is probably not installed
on your computer.
113:53 - And if Node is not
installed on your computer,
113:54 - there is a great walkthrough in the notes
113:57 - on how to get Node installed.
113:59 - So I now have Twilio
Helper Library installed,
114:03 - which means this required Twilio statement
114:07 - here is requiring that library.
114:10 - Remember in REST Fox how
there was an environment
114:13 - and we stored the account
SID and the Auth token?
114:15 - We can do the same thing
on our local machine.
114:18 - We can set up a little environment here.
114:19 - And actually if we go ahead and we click
114:21 - this Twilio Secure,
there's some great examples
114:25 - in here and how you could do that.
114:26 - So one of the things
that this suggests doing,
114:28 - you can see it's for Mac
and Linux and different,
114:30 - different shelves do different things.
114:33 - If you run this in your command line,
114:35 - you can set your environment variables
114:37 - and then when you run Node it will work.
114:39 - I'm gonna do, I'm gonna do this one.
114:40 - So I'm gonna copy, copy this here
114:44 - and I am going to just paste this.
114:49 - We'll paste this, I'll
show you what it does.
114:52 - So it's saying we want
to export my account SID
114:56 - and my Auth token just we're
very familiar with these days.
115:00 - So we're gonna do that.
Let's do this real quick.
115:06 - So I'm gonna pop in my
account token there.
115:10 - I'm gonna go back over to my console,
115:13 - scroll down and grab my account here.
115:17 - And then I'm gonna paste
that and I am gonna go
115:20 - and grab my Auth token and
I am going to paste that.
115:26 - So again, I got to that,
oops, accidentally pasted
115:31 - my Auth token in the wrong line there.
115:33 - So I know that it started
with a four and I'm gonna
115:37 - paste it down here where
it says Your Auth Token.
115:39 - So basically what this is
doing is this is writing
115:41 - a new file that will
have this information.
115:44 - I'll show you that here in a second.
115:45 - So there's my, it's gonna
write these two lines.
115:49 - I'll show you what that looks like.
115:50 - So it's gonna create a new
file called Twilio.env and then
115:53 - it's gonna append that that's
what this double --Twilio
115:56 - and then it's gonna source that,
115:57 - which means run that environment variable.
116:01 - So if all is working
well, now if I say Echo
116:06 - and I can do Twilio
account SID, we can see
116:12 - that I have that
available and that created
116:14 - this file here called Twilio.env and you
116:16 - can see there is my
account SID and my token,
116:18 - which is nice because now this code works,
116:21 - it should be working and using this.
116:22 - And in fact if all is
going right, so I've got
116:26 - Node installed, I installed
the helper library,
116:30 - I put my account SID from the console into
116:34 - this Twilio.env and then I
did this final command here,
116:37 - the source Twilio.env
which will run that file
116:40 - and put those variables into
my environment variables.
116:45 - And as I showed you
that they were working.
116:47 - So let's go ahead and
let's do node explorer.
116:50 - So what's gonna happen, let's
take a look really quick.
116:52 - I'll show you, let's see, let's
make sure we got it working.
116:54 - Cool, we did so let's walk
the code really quick.
116:57 - So this is pasted
straight from those docs.
117:01 - So we're getting a client back
from this required Twilio,
117:06 - this is a Twilio library and when you get
117:08 - the Twilio library, if
you pass it in account SID
117:10 - and an Auth token, it'll
automatically create
117:12 - a brand new REST client for you, right?
117:14 - So this is a client that you're able
117:16 - to use to hit the REST API, a Twilio.
117:18 - And because it knows who you are,
117:20 - it's able to access stuff on your behalf.
117:22 - So very similar to what we
were doing with the Curl,
117:24 - but this client, we can
use this multiple times,
117:27 - it will always be authenticated.
117:29 - So we're saying of all of the messages,
117:31 - we want to list them, right?
117:33 - So we wanna get a list
of all of the messages,
117:35 - actually not all of
them, only 20 of those.
117:37 - So let's go ahead, I'm gonna just,
117:39 - we know that we haven't sent
20, I'm gonna get rid of this.
117:41 - So you can kind of just
see this other style here.
117:43 - So we're gonna say of those,
we're gonna do this list
117:46 - and then I'm gonna bring
this back a little bit
117:48 - here so you can kind of see, let's change
117:51 - the structure of this a little bit.
117:53 - So we'll say client messages
117:55 - and then we're gonna do a list on those.
117:57 - Now the way that this works
is this is asynchronous.
118:03 - So JavaScript is asynchronous
and if JavaScript
118:07 - is new to you, you probably haven't
118:09 - encountered its asynchronous behavior.
118:12 - What we're going to go
over here might very well
118:14 - be overwhelming, but
it'll make sense someday
118:17 - if you stick with it, I promise.
118:20 - Now I've added notes, but
really please, please,
118:23 - please, please do not
let this stress you out.
118:25 - I just want this to go
over your mind about
118:28 - what's happening here and
it's important to understand
118:32 - because our client here, these
list methods are asynchronous
118:38 - that which means that
it's gonna go and run Auth
118:40 - and do some things and then
it's going to come back.
118:44 - When that comes back,
it's gonna run this code.
118:47 - So this is how a promise works.
118:49 - So it's going to say then
after you go and make
118:52 - that request, then give me
the messages and just so you,
118:57 - what's kind of strange about that is if
118:58 - you're probably used to
code working like this.
119:01 - So I'm gonna write out to the screen
119:02 - that's this console log.
119:04 - I'm gonna say Starting Program.
119:08 - And we should see that line print.
119:10 - Now you might think that
this is going to print,
119:13 - it's gonna run this and
then go, but if you,
119:15 - I'll show you here, if
I do this console log
119:17 - and I say gathering message
log, what you'll see is
119:24 - it's gonna say this,
this line's gonna start,
119:27 - but immediately it's
gonna go to the next line.
119:29 - So let's do that. Let's
run that one more time.
119:33 - I didn't save it. So of
course it won't do anything.
119:35 - So you can see this little
dot here in visual studio.
119:37 - It didn't save, so I'm gonna save that,
119:39 - run that one more time, here we go.
119:41 - And you'll see right away it's
119:42 - a starting program gathering message log.
119:45 - So it ran this, but then
it went down to here.
119:47 - So it did not wait because
this is asynchronous.
119:50 - What's happening here is
asynchronous and what's happening
119:54 - is client message list returns a promise.
119:57 - Now it's a promise that
in the future there
120:00 - will be a value and
that value is messages.
120:04 - And so the way that you
write that code is this
120:06 - then waits, it defines a function here
120:09 - and as soon as this is done,
it will run this function.
120:12 - As soon as they come back,
it will run the function.
120:14 - So that's what happened, right?
120:14 - So it came, it started,
it then ran the function.
120:20 - And when I say function,
you might not have seen
120:22 - this before, but in JavaScript
you can make a function.
120:27 - I'm gonna put parentheses here
120:29 - so it's a little bit more clear.
120:30 - These are the parameters for the function.
120:32 - And this fat arrow is saying, this is
120:33 - what happens when the function runs,
120:36 - this like little, they
call it the fat arrow.
120:38 - It's kind of cute, right?
120:38 - So it's an equal sign
and then a greater than,
120:40 - it's called a fat arrow and that's a way
120:42 - of quickly defining a function
and so you can see here,
120:45 - there's another one here
that's doing it as well.
120:48 - So it could be a little bit
messy as you're looking in.
120:52 - See how all these parens
that we're looking at,
120:54 - it's kind of kind of hard
to understand and read.
120:57 - If this is your first
time looking at that,
120:58 - I totally feel for you
and so this messages
121:03 - that comes through here is an array.
121:05 - So, what was very nice is it
came across this messages list.
121:10 - This is an array, it was a
JavaScript array by itself.
121:13 - They have this method
called For Each on it.
121:15 - And it will let you loop
through each of the values
121:18 - that are in an array and
you'll notice that the object
121:21 - that was inside of that
array has some properties.
121:23 - So what happened was the client
went and made the request,
121:27 - made the http request, it got
back that JSON that we saw.
121:31 - Let me just go show you one more time.
121:34 - Let's make sure that we're
looking at the right thing here.
121:35 - So we, this is the same
code that we just saw.
121:39 - This JSON was returned, right?
121:41 - This JSON was returned,
but what the client did
121:43 - for us was it inflated
these into messages, right?
121:47 - So these are, this is a string of things
121:50 - and it came back JSON but
I'm able to actually work
121:54 - with each of these messages
as if they're an object.
121:58 - So let's look at that again.
121:59 - So list returned this object,
this array of messages
122:05 - and each one of those in that array
122:08 - I'm able to use an array method for each.
122:10 - And this message is an actual object
122:11 - that has a property called SID.
122:15 - So again, if that is all
new JavaScript terms to you,
122:19 - don't worry too much about it.
122:20 - Basically we went and got
the messages and we showed
122:23 - the messages that we got,
that's what this is saying.
122:27 - One of the things that
I want you to be careful
122:28 - of as you're looking at
promises, and you might see
122:31 - this sometimes as you work
with APIs, 'cause oftentimes
122:34 - APIs that you hit are going
to be asynchronous like this.
122:37 - You might see that you need to be able to,
122:40 - you might run into an error
122:42 - and what might happen is
it might get swallowed.
122:45 - In fact, let me cause one to happen.
122:46 - So here it's supposed to say Auth token,
122:49 - I'm just gonna put in my luggage,
122:52 - the password to my
luggage 1, 2, 3, 4, 5, 6.
122:55 - So that is not my account
SID that is going in there.
122:58 - So I had the wrong account SID.
122:59 - So I'm gonna say that
hey this is the client,
123:02 - this is what how I want
you to authenticate
123:03 - and it's gonna go to try to
make this and it's gonna fail.
123:06 - Let's see what happens when it fails.
123:11 - Well I didn't save it
so let's save it again.
123:14 - Boy that's a lesson that
I really hit in the home.
123:16 - You gotta make sure you save your file
123:17 - or the code doesn't run.
123:18 - So let's do it again, and
you'll notice that I didn't
123:21 - get any error at all and
that can be confusing,
123:24 - that is something that is very strange
123:26 - because obviously
something wrong happened,
123:29 - I didn't get any of the messages back,
123:31 - but it doesn't look
like I had any problems.
123:33 - So what's happening 'cause
this is running asynchronously,
123:36 - this then never runs, right?
123:37 - We never get a chance to run this 'cause
123:39 - this list method didn't
actually finish working.
123:43 - So one of the things you always
wanna make sure that you do
123:46 - is to every promise you can
catch and you can catch an error
123:50 - and I'm gonna make a fat
arrow 'cause I'm gonna have
123:52 - a function happen here that
says console dot error, E-R-R.
123:56 - Okay, so now I'm gonna print that out,
123:58 - I'm gonna print out the error.
123:59 - Let's run that again,
let's see what happens.
124:01 - Ah, now we see the error and you'll see
124:04 - that sometimes this is what comes back
124:06 - is there was an
authentication error, right?
124:08 - And we got a very specific
error on this 2003
124:12 - and it will help us kind of
look at what's happening.
124:15 - Oh, here, great. This is right.
124:16 - My Auth token is wrong,
124:17 - the wrong combination of
account SID and Auth token.
124:20 - Exactly. That is what has happened.
124:21 - So cool use of things there.
124:24 - I'm gonna put this back so
that we have things working.
124:28 - So this was Auth token
124:30 - and I can still leave my error in there.
124:32 - I'm not gonna hit an error,
so it's not gonna happen.
124:33 - So a promise has a then and
it also has a catch, right?
124:38 - So let's do that.
124:39 - So I'm gonna run that one
more time and save it.
124:42 - Wow y'all, I gotta get
better at saving. Here we go.
124:46 - There we go. So now we're back
to working again, awesome.
124:49 - All right, I wanna show you a little bit
124:51 - of a different way that
JavaScript can work
124:54 - asynchronously that you might also see.
124:57 - And this is really syntactical sugar.
125:00 - It's called async a weight
125:01 - and if you just wait a
bit, it'll all sink in.
125:05 - I promise that's a, there
was three jokes in that one.
125:09 - That was a hat trick of a
joke. All right, so here we go.
125:12 - So the way that it works,
the way that this works is
125:15 - you can say that a function
is going to be asynchronous
125:19 - and we want this to run
asynchronously, so I was thinking
125:25 - we're getting ready to
start using our number in
125:27 - an application and to get
there we need to clean it up.
125:30 - We have a bunch of weird
messages in there that aren't
125:32 - gonna be relevant to the
messages that we have.
125:34 - So I'm gonna make a new
function and I'm gonna
125:37 - call it "Delete All Messages," okay?
125:39 - And when you define a
function, you can kind of put,
125:42 - this is the parameters that it takes.
125:43 - We're not gonna say that,
there are no parameters.
125:45 - And then I'm gonna run this function.
125:48 - So while this is an asynchronous function,
125:52 - I can actually make it look
more like it is in line
125:57 - so it can kind of run the
way that we want it to.
126:00 - So I'm gonna say "const
messages" equals await.
126:05 - So now I have, because the
function itself is asynchronous
126:09 - 'cause I've used this here I
can use this keyword, await,
126:12 - and I'm gonna say client
dot messages dot list.
126:19 - And so now I think this is a
little bit more clear, right?
126:22 - So this is basically doing
the same thing, right?
126:24 - These messages are the same
messages that were coming
126:27 - into this function, but
now it's out on this side.
126:30 - So I have this variable
that's called messages.
126:33 - So, and that's in array, right?
126:36 - And I could do this exact same thing here
126:39 - and I could list that the same way.
126:41 - But let's go a little bit farther.
126:43 - So I'm gonna say for each of the messages,
126:46 - for each message that is
of the messages array.
126:51 - So these are those inflated
messages that we saw.
126:55 - One of the cool things
that you're able to do
126:59 - with the client is the
object that's returned back
127:03 - has actually has some properties on 'em.
127:05 - And one of those properties
that it has is called Delete.
127:09 - Before we do that, I'm
gonna make sure that,
127:11 - let's do a warning here real quick.
127:13 - So I'm gonna say console
dot warn, we're gonna say
127:17 - would have deleted,
I'm actually gonna use,
127:22 - if you use these back ticks,
this is kind of a neat trick.
127:25 - You can use this back tick
to do string interpolation.
127:28 - So we'll say would have
deleted message dot SID.
127:32 - So again, that's the
string identifier of that.
127:35 - So would've deleted message dot SID.
127:38 - So, and we will close that
function out. All right?
127:41 - And now I'm going to call
that function in this,
127:45 - you know, of course that's how we call it.
127:47 - And this is would actually be a promise,
127:48 - this would be a very
similar, so we could do this,
127:50 - we could do a then, well
in fact let's do it,
127:53 - we'll say then, and if you wanted to call,
127:57 - make a function that has no parameters
127:59 - 'cause I'm not returning anything, right?
128:00 - I'm not returning anything
from that function.
128:02 - I'm just gonna say console dot log.
128:04 - And I'm gonna write done
and I will put all of these,
128:08 - this code into the notes
so you can also copy
128:12 - and paste it if you want to.
128:14 - And I'm gonna do the same
thing that I did before.
128:16 - Catch the error and I'll do
will do console dot error.
128:19 - And now if you do the
console is, you know,
128:21 - of course what's running
when the program runs,
128:23 - it's running out to the screen
and there's different levels
128:25 - that you can do and error is one of those.
128:27 - And if I just pass the
error that happened there,
128:29 - so I'm gonna warn that we would've deleted
128:33 - the message but let's take
a look at what happened.
128:35 - So I'm gonna get rid,
128:37 - I'm gonna keep the starting
program here, right?
128:39 - So we can do starting program
128:45 - and then it's gonna do
delete all messages,
128:47 - it's gonna call that and
then when it's all done,
128:49 - it will say done, I'm gonna
get rid of what we had here.
128:53 - Okay, so we have delete all
messages, it's gonna go in,
128:57 - it's gonna get a list
of all of the messages.
128:59 - It's gonna loop through
each one of those messages.
129:01 - And when it is done, we're gonna,
129:04 - right now we're gonna warn
that it's would have deleted it
129:07 - and this is what we're
eventually going to do
129:11 - because there's a function
that's available to it.
129:13 - All right? So I'm gonna
save that, I'm gonna run it.
129:15 - Let's see what happens. Okay?
129:18 - So it would've deleted some of our SIDs.
129:20 - And again this is the
MM, this is, the MM means
129:22 - that it was the MMS which is the one with
129:25 - the picture and the rest
of the SM's that we have.
129:27 - So I think I am ready to do this.
129:30 - I hope that you are
ready to do this as well.
129:32 - Again, this code should
you want it is available
129:37 - in the repo 'cause you want to run this
129:40 - 'cause you want to delete these messages.
129:43 - So let's, I'm gonna
say, I would've deleted,
129:46 - I'm gonna say deleting
and then here we go.
129:51 - I'm gonna save that, I'm gonna run it.
129:53 - And so message, the message
object that's coming back
129:57 - from this client is really
has enough information
130:00 - to make another API call
to delete itself, right?
130:04 - Because the object itself
knows how to do that
130:09 - the library's made an
object that is smart enough
130:11 - to be able to call delete
on it and it feels like
130:15 - it's just working that
way, but it's really making
130:17 - a REST API call to make a delete request.
130:20 - It's pretty cool right? Here we go.
130:24 - Message dot delete is not a function.
130:26 - What I meant was actually remove,
130:29 - so the function name is
remove on the message.
130:32 - So here we go.
130:33 - So, and you saw that
there was an error, right?
130:36 - That was the error that just happened,
130:37 - good thing I put that catch in there,
130:38 - otherwise we would've thought it worked.
130:40 - So here we go, so in Node explorer,
130:42 - remove instead deleting,
deleting, deleting.
130:44 - We deleted all of those.
130:46 - So remove is the name of
the function that's there,
130:48 - but it is doing a delete,
making a delete call.
130:52 - Cool, so we have now
cleaned out and if we try
130:55 - to run it again, you'll see that there's
130:56 - no messages left for it to delete.
130:59 - Awesome, now if you have just watched that
131:02 - and were very confused,
let's walk this last bit
131:05 - and then I want you to
rewind it one more time.
131:07 - So I've made a function
that is asynchronous
131:11 - and that function is
called delete all messages.
131:13 - And because it's asynchronous,
131:15 - I'm able to use this await
which will return this,
131:18 - this client messages, that
list returns a promise, okay?
131:22 - But, and a promise of the future.
131:24 - But because it's being awaited,
131:25 - it's going to return
it right here in line.
131:28 - Then I'm gonna loop through
each of those messages
131:31 - and because that message
came back from the API
131:34 - and an object was created
thanks to our helper library
131:37 - here I have a method on
that message called remove.
131:42 - And it will actually go
and do that next level,
131:45 - the next level of delete there for me.
131:47 - So it's really nice.
131:48 - This object feels like
it would feel if you were
131:52 - writing JavaScript code,
it would feel this way.
131:55 - But behind the scenes
we know that it's doing
131:58 - this API calls and the client library
132:00 - has extracted all of that away from us.
132:02 - And if now if you go and you take a look,
132:05 - let's go back really
quick, let's take a look.
132:07 - There's other helper libraries.
132:08 - So if Python happens to be your language,
132:11 - there's how you do it.
132:12 - So it's client messages dot
list and for record and messages
132:16 - and you print the record SID
and you can see that the code
132:18 - looks a little bit different
in all of the languages
132:20 - that you go through, but
it's also kind of similar.
132:23 - And so that's really nice
about the standardness
132:26 - of a REST API is that the helper library
132:30 - is producing code that feels the same
132:32 - in each way because the
library's kind of the same.
132:35 - And you'll find that as you use other APIs
132:38 - and they have helper libraries,
132:40 - they will mimic the way
that the REST API looks.
132:43 - So I realize that was a lot.
132:46 - I don't want you to get
hung up if you feel like
132:48 - you can't completely
understand what that is.
132:51 - In the next unit what we're
gonna do is we're gonna go
132:53 - into more deep things and
I know you can do this.
132:58 - So, this code is there
and also if you feel like
133:02 - you want me to go back and
explain that again, please,
133:04 - please, please, please
pause me, slow me down,
133:07 - let me walk through those different things
133:09 - but don't feel like you need
to be able to read this.
133:11 - I want you to just conceptually
understand that you're using
133:14 - a helper library that's
abstracting away all
133:18 - of the HTTP API things that we were doing
133:22 - with curl and we are doing with REST Fox.
133:25 - This is just doing it in code
and it's doing it for you.
133:28 - A lot of the magic is gone and
hidden and tucked away and it
133:33 - just feels like you're actually
working with these objects.
133:36 - That's the power of the
abstraction. Awesome.
133:39 - Did you see how the helper
libraries are all similar yet
133:42 - match the development workflow
and style of each language?
133:45 - This is one of the benefits of
helper libraries in general.
133:48 - They abstract away the
HTTP client connection
133:51 - and the boiler plate necessary
to make REST API calls.
133:54 - They also behave as you
expect them to behave.
133:57 - It feels natural.
133:59 - The way that we were able to
delete from the resource itself
134:02 - helps to unlock another
REST API constraint
134:05 - scavenger hunt item and
that one is uniform design.
134:09 - Now this constraint has four subsections,
134:11 - one of which we just discussed,
resource manipulation
134:15 - through representations,
because enough information
134:18 - was included in the response, it was clear
134:20 - for us how we could modify
and delete the resource.
134:23 - Another subsection and here is
134:24 - resource identification and requests.
134:27 - That's the URIs that are
included and we've seen that.
134:29 - But because the URIs are included we know
134:32 - how to get and manipulate
specific resources.
134:36 - Uniform use of the http
verbs is pretty powerful.
134:40 - We just wrote some scripts
134:41 - that make use of helper libraries.
134:42 - These libraries are super handy for
134:44 - automation based tasks or batch scripting,
134:46 - which is like making a whole
bunch of calls at once.
134:49 - Now while we're talking
about this, we should cover
134:51 - another common tool for
talking to external APIs
134:54 - and that one is CLI,
command line interface.
134:57 - There it is again.
134:59 - Command line interfaces
can be used to make
135:01 - API calls from an
executable on your machine.
135:04 - More and more these are showing
up for tools that require
135:07 - authentication and do a
bunch of different services.
135:09 - This concept is popular
amongst cloud providers
135:12 - where setting something up needs to
135:13 - be done quickly from the command line.
135:15 - Check the notes for more.
135:16 - Another commonplace where
you'll use helper libraries
135:19 - is from within applications
that you're building.
135:21 - Let's get to the final unit
of this course and implement
135:24 - an external API into an
existing web application.
135:27 - You've got this. Ooh, we're here.
135:30 - I love this part. The building part.
135:32 - We are going to build a web
application that shows off
135:34 - a set of user submitted
photos for a specific prompt.
135:37 - But here's where our app is gonna
135:39 - stick out from all the rest.
135:40 - We are gonna let our
users submit their photos
135:42 - and captions via a text message.
135:44 - What this will enable
us to do is put up signs
135:46 - and billboards and
physical spaces that says
135:48 - text a photo to this
number and then our site
135:51 - will gather those on a
webpage and display them.
135:53 - Now you're probably wondering
two things right now.
135:55 - The first one is probably, wait,
135:57 - what are those photos
they're gonna be texting?
136:00 - And that's a great question.
136:01 - We are gonna be building
136:02 - this application so it can be dynamic.
136:04 - So you can define whatever you want.
136:06 - Like text me a photo of your dog,
136:08 - send us a photo of the
view out your window.
136:11 - Snap me a pic of the
best impersonation of me.
136:14 - I don't know, anything along those lines.
136:16 - Now secondly, you're probably
wondering, wait a second,
136:20 - you said I didn't need
to know how to code.
136:22 - If you already know how to make a website,
136:24 - this part might not have phased you.
136:26 - But if building a website is outside
136:27 - of your learning journey
thus far, no sweat,
136:29 - I've got it set up and
we're gonna take our time
136:31 - and we're gonna focus on making
things work using this API.
136:34 - All right, let's do this.
136:36 - Okay, so I have a template
here in the notes.
136:40 - In the unit three video one
we have this index.html,
136:45 - which is our web application.
136:48 - If you come in here you can scroll,
136:49 - you can kind of see things here.
136:51 - The app is called Pickle where
you get to pick your pics,
136:54 - Peter picked a pickled pickle,
that sort of fun joke there.
136:57 - And then we're gonna click
this Raw button right here.
136:59 - We're gonna get a hold of this raw
137:02 - and I am going to highlight everything
137:06 - and use the magical
developer Command C copy.
137:12 - And then I'm gonna come over to back
137:14 - to my scratch on my visual studio code.
137:16 - I'm gonna make a new file.
137:17 - I'm gonna call that index.html,
137:20 - hypertext markup language, right?
137:22 - And I'm gonna paste that right here.
137:24 - So now I have that code
locally on my machine.
137:28 - If you are a get user, you
could definitely check this out
137:31 - and have your own version
of this if you wanted to
137:34 - but that's a good way to
get this here locally 'cause
137:36 - we're just gonna explore around
here just for a little bit.
137:39 - Let's take a look at
this file as it exists.
137:42 - This is something that might happen to you
137:43 - as a developer who knows now about APIs.
137:46 - They might say, "Hey,
I've got this template
137:48 - and I would love for you to be able
137:51 - to set it up to make the API work."
137:53 - So the first thing to do, if
you wanna look at an index file
137:57 - locally on your computer, you
could set up a web server.
137:59 - I've made it so we don't
need to have a web server
138:01 - so we can just go ahead,
I'm gonna go to my terminal,
138:04 - I'm gonna do a new terminal here.
138:09 - I'm gonna open that up and I'm
just say open index dot html.
138:14 - Now what that's going to do
138:18 - in my Mac is going to
open this up for Windows,
138:21 - take a look and see
how to do this exactly.
138:23 - But this what this will do,
it will update my pickle here.
138:27 - So, you can see this is user scratch
138:30 - and then you know my, whatever it is,
138:31 - it's in my directory there
and this is what's happening.
138:34 - There's some nice kitty photos there.
138:36 - I'll show you how that's
working and if you click
138:38 - into one of them, you get
a nice little gallery here
138:41 - and you can switch between
the different kitties
138:43 - and you can see the text
that the user submitted.
138:45 - That's kind of where
we're going with this.
138:47 - That's what we're planning
on doing. Very nice setup.
138:49 - Simple one little pager
application because I'm using
138:55 - some APIs to be able to
do that here locally.
138:59 - I'm using, remember APIs, not Web APIs,
139:03 - but I'm using a View as the
framework that I'm using.
139:06 - I'm using a framework called View
139:08 - and it has an API and I'm also using this
139:10 - Silent Box which is allowing
us to do that popup.
139:13 - It also has an API.
139:15 - Let's take a little bit of a look here.
139:17 - So I'm gonna move a little
bit slow through this just so
139:20 - in case it was your first time
seeing something like this.
139:23 - I've got some setup here in this head tag.
139:26 - You can see this html,
this is the head tag.
139:28 - There's some setup.
139:28 - So I'm using View and
I'm also using Silent Box
139:32 - and I've got some very minimal styling.
139:34 - It's not my forte.
139:38 - And oftentimes you're
given a template like this.
139:40 - So you're given, hey,
here's a working thing.
139:43 - I would love for you to
get some APIs in there.
139:46 - So the body of the app has this.
139:48 - You'll see notice this little mustache,
139:50 - mustache and it says call to action.
139:51 - So in view this is part
of their API is if you
139:55 - use this for a template,
it will be replaced
139:57 - with something from the View Objects data.
140:00 - So you can see here,
there's this call to action
140:02 - and that's what this is and
this is why I can change this
140:04 - and make this say whatever I
wanted to say it would be here.
140:07 - So whatever we decide to do with our apps,
140:09 - whatever kind of pics that
we're trying to collect,
140:12 - that would be where we would change that.
140:14 - And then you also see here,
140:15 - there's this silent box
and it's doing a gallery.
140:18 - And the way that that works is
we pass in this gallery from,
140:22 - again, from this View Objects gallery.
140:25 - You don't necessarily need
to worry too much about this,
140:28 - but I wanted to show you that there is,
140:30 - this is how View works,
it's a front end framework
140:32 - and it provides an API where
if I give it a function
140:36 - called data in whatever's in
here will get returned to it.
140:39 - And then there's some more,
140:41 - I can define some methods
on the view object.
140:43 - One of those methods that I've defined
140:46 - is called load images.
140:48 - Part of the API that
View creates is there is
140:51 - a lifecycle method called
mounted, which means
140:54 - that when the application
is ready and it has
140:57 - been mounted onto your HTML
through the JavaScript,
140:59 - it will call this function.
141:01 - So it's gonna call this
load images function.
141:03 - In this load images
function, you'll notice it's
141:06 - an async image and I've
got some to-dos in here.
141:11 - This is someplace where you might
141:12 - be communicating back
and forth with people
141:14 - as you're working together on a project.
141:17 - So use the messaging API to
use submitted photos and also
141:22 - create a web-based API that
matches this expected response.
141:25 - So that's what we're gonna do over
141:25 - the next couple of videos here.
141:27 - So what we see in the start
here is there's this gallery
141:30 - and it is an array and it's
got some stuff from this.
141:35 - There's a website called
Place Kitten that I used here.
141:37 - So you can get different
versions of kitties here.
141:40 - And there's a description
and there's an alt tag,
141:43 - which is important because
for accessibility reasons,
141:47 - this is what it will say on the picture.
141:49 - So that is what is happening
to be able to make that work.
141:56 - So we now have our app here locally
142:00 - and we can change things.
142:01 - So one of the things, one of
the photos that I want to do,
142:06 - I love to get photos of
burritos from around town.
142:08 - So I'm gonna change this.
142:09 - I'm gonna say submit me a photo
142:11 - of your burritos and I'm
gonna save that file.
142:14 - So see it's not saved, I'm gonna save it.
142:16 - When I go back to my file there,
142:18 - when I refresh it, you can
see that it says "Burritos."
142:21 - What are you going to want to gather?
142:23 - Why don't you go ahead and change that,
142:27 - change that to whatever
it is that you're wanting
142:28 - to gather as we build
those projects through.
142:30 - And of course you know you see
142:31 - that you can change that however.
142:33 - So make sure that it's
downloaded and make sure
142:35 - that you can change that,
that you can change this file
142:36 - and it opens locally on your machine.
142:40 - Cool, and so now we have
142:42 - a little smattering of APIs here already.
142:44 - So we have a web, we
have HTML working here.
142:48 - We have this view and this view API has
142:50 - a very specific API that's
doing this mounted here.
142:53 - But remember it is actually
an API and we're going
142:55 - to use a web-based API to be
able to get this information
143:00 - and we're gonna do that
here in just a bit.
143:03 - Now that we got our file all
working, let's deploy it.
143:05 - And by that I mean let's get it up on
143:07 - the public internet so
everyone can see it.
143:09 - That is of course after
you take a quick break.
143:12 - (upbeat music)
143:27 - We are gonna get our webpage up
143:29 - on the internet so others can see it.
143:30 - And this has gotten much
easier as time has progressed.
143:33 - You used to have to set up a server,
143:35 - like a physical computer,
buy a domain name
143:37 - and configure it to point to your machine.
143:39 - You had to figure out
where to host, like where
143:41 - to locate your server so
that it was always on.
143:43 - And arguably the hardest part
after it was live, you used
143:47 - to have to watch over it in
case too many people came to it.
143:50 - You didn't want it to get overloaded,
143:51 - you wanted it to scale up and
be able to handle the traffic.
143:55 - Those servers are still
around but these days
143:57 - you don't really need to
worry about them too much.
144:00 - Now I'm sure that you've heard
144:01 - the term the cloud and the colloquium.
144:04 - The cloud is just other
people's computers.
144:05 - Well let's talk a bit about serverless.
144:08 - Serverless is just other people's servers.
144:10 - It removes all those
previous things that we had
144:12 - to worry about and it
offloads your concerns.
144:15 - I can tell by the look on your face
144:17 - that it's probably better
if I just show you,
144:18 - let's get this application hosted.
144:21 - So we're gonna have Twilio
host our code for us
144:24 - and that is to say we are
going to have Twilio be
144:27 - our web server that will
be used to serve our HTML.
144:30 - Our project will be serverless.
144:33 - Now the way you do that is
by using Twilio's serverless
144:36 - environment, which is here
under functions and assets.
144:40 - Now if you don't have
that here, if you click
144:42 - Explore Products and you
come to Developer Tools
144:45 - and you come over to Functions and Assets,
144:48 - you can click this little pin icon
144:49 - and that will make it show up here.
144:52 - So I am going to create a new service.
144:56 - So I'm gonna go Functions
and Assets, Services,
144:59 - and I'm gonna say Create Service.
145:00 - It could be whatever you want.
145:02 - I'm gonna call it pickle,
145:03 - like pick your pics with Pickle Peter.
145:08 - Services allow us to group our functions
145:10 - and assets together for our application.
145:12 - So I'm gonna click Next
and what's gonna happen
145:14 - is we're gonna open up to a very nice IDE
145:17 - that'll allow us to edit our code.
145:19 - Now a friendly reminder, if
you're having a hard time
145:22 - following along because
my screen looks different
145:24 - than yours, you are using a
new and improved experience.
145:29 - So check the notes for
what might be different.
145:32 - Now traditionally these services here
145:34 - are used to power Twilio
based applications.
145:37 - Remember how I said you could respond
145:39 - programmatically to an incoming message?
145:41 - Well, functions are a
great way to do just that.
145:45 - In fact, our current number
has a default response
145:48 - and we might as well fix it
while we're here, but before
145:51 - we do that, let's get our
HTML code up and running.
145:54 - So what I'm going to do
is I'm gonna grab code
145:56 - from my local machine and if you want to,
145:59 - you can just grab it from GitHub,
146:00 - check the notes for more on that.
146:02 - But I'm gonna go add, I'm gonna choose
146:04 - Upload File, I'm gonna find my file,
146:06 - my index html and I'm gonna choose Open.
146:09 - Now what we're uploading,
146:10 - we'd like the world to be able to see it.
146:12 - So, I'm gonna choose Public
146:14 - and then I'm gonna choose Upload.
146:18 - So now this files over here,
146:20 - you'll notice this little green dot.
146:22 - And this means that it is not yet deployed
146:25 - and that is, it's not yet available
146:27 - on the internet in this current state.
146:29 - So let's do that.
146:31 - I'm gonna do that by clicking
146:32 - this Deploy All button down here.
146:40 - And now we see that
it's green and I'm gonna
146:43 - go ahead and choose copy URL and I'm gonna
146:45 - open up a new tab with that there.
146:48 - And we will see that our site is live,
146:52 - except it says burritos
and these are kittens,
146:54 - but we're getting there.
146:55 - So it's working, it's
up, it's on the internet.
146:58 - I could share this with people.
147:01 - The pickle site is up and
running on Twilio's servers.
147:05 - One of the things that I used
147:06 - to have to worry about was scale.
147:07 - Like what if I got a
whole bunch of requests
147:09 - to this site, would it fall over?
147:11 - What the serverless solution
is doing is allowing me
147:14 - to not need to worry
about any of that anymore.
147:16 - Twilio is handling all those
concerns for me, which is great
147:19 - 'cause now I can focus
on what I was building.
147:21 - Which by the way, we need to handle
147:24 - that reply programmatically, right?
147:26 - So the way that Twilio does
things is with web hooks.
147:29 - Now if you haven't
encountered web hooks before,
147:31 - I have an entire course on them
that I link to in the notes.
147:35 - Web hooks are sometimes
called a reverse API.
147:38 - That is, instead of you calling
the API, the API calls you.
147:42 - So let's configure our number
147:44 - to make use of the right web hook.
147:47 - So I'm gonna go back
to my number over here.
147:51 - If I look under phone
numbers and I do manage,
147:54 - I'm gonna hold down command or control
147:57 - and click Active Numbers,
I'll open up a new tab.
147:59 - Nice little hack to keep
your screen open here.
148:02 - So I've got my numbers
here and if I come in here
148:05 - to configure it, what happens
is I'm gonna scroll down.
148:12 - So here's the voice
section and then here's
148:14 - the messaging section and
it says, when a message
148:17 - comes in to this web hook and it sends to
148:19 - this URL here, it does
a post to this URL here.
148:26 - So the way that Twilio makes use
148:28 - of web hooks can be thought of like this.
148:30 - You know when I hit this URL, right?
148:32 - This URL in my browser,
my browser doesn't care
148:37 - about what's happening at that endpoint.
148:39 - It could have been
anything, any web server
148:41 - like Express, Jingo, a Java
server, it doesn't matter.
148:45 - What matters is that
what was returned from
148:47 - my server was HTML or
hypertext market language.
148:52 - My server responses with HTML
148:54 - and my browser renders the page.
148:56 - Now the same is true with Twilio.
148:58 - Someone is going to text our Twilio number
149:00 - and Twilio is going to send
a request to an endpoint.
149:04 - In this case, this endpoint
here, it doesn't matter what
149:07 - is happening on the other side
as long as it returns TwiML,
149:12 - or Twilio markup language,
they look very similar.
149:16 - HTML and TwiML.
149:18 - Twilio will be able to
render your application.
149:21 - So we could set up a new web
server to host this application
149:24 - that returns TwiML or we could
just use a Twilio function.
149:29 - And like I said earlier,
149:30 - that is what these are commonly used for.
149:32 - So let's pop back to our service.
149:35 - So I'm gonna come here, I'm
gonna add a new function
149:38 - and I'm gonna name this
function Incoming Message
149:42 - 'cause that's what we're gonna do.
149:44 - We're gonna handle an incoming message
149:48 - and there is some very
nice default boiler plate
149:52 - that is commented that comes through.
149:54 - So boiler plate is code that's provided.
149:57 - That's usually the most
common thing that you're going
149:59 - to be doing and in this case
it is, it's boiler plate
150:02 - for how to respond to
an incoming phone call.
150:05 - It's kind of like the hello
world of voice applications,
150:09 - but we are gonna be building
a messaging application.
150:11 - So we'll need to tweak this just a bit.
150:13 - Now I've put this code,
150:15 - I'm about to show you into the notes.
150:17 - So I don't want you to
feel like you have to type
150:18 - this all out or even fully
understand every line.
150:21 - I'll step you through it, first though,
150:24 - let me walk you through
this function just a bit.
150:26 - So Twilio functions all export
a thing called a handler.
150:31 - And that handler takes
a function that takes
150:34 - some parameters, context,
events, and callback.
150:39 - Context here is an object
that holds information about
150:41 - the function that's running,
like it knows the domain,
150:44 - it knows the name of the
function and the event here,
150:47 - you can kind of think of
this like a web request in
150:49 - most frameworks and if you
haven't seen a framework before,
150:52 - this is kind of the way that information
150:54 - is passed into your web application.
150:57 - So, this is the event will hold everything
151:00 - about the text message that was incoming
151:02 - because that's what Twilio does.
151:04 - Twilio's going to pass that
information through here.
151:07 - And for instance, that message will
151:08 - have the to, it'll have from and body.
151:11 - And again, because when
the text message comes in,
151:14 - we are going to point our
phone number to this function.
151:17 - So Twilio will post the information here,
151:19 - it will call our function
instead of us writing code
151:22 - that checks if a new message
was added over and over again.
151:25 - Twilio is gonna call us.
151:26 - The API is going to
call us via a web hook.
151:30 - Web hooks are pretty
cool. Check the notes.
151:33 - And then finally, there's
this callback object here,
151:36 - which is how we send
information out of the function.
151:40 - It's actually a function,
so we have this callback,
151:42 - this is the errors that
might have happened,
151:44 - and then this is what gets returned.
151:46 - And here's that TwiML,
Twilio markup language.
151:49 - So I'm gonna get rid of a
couple of these lines here.
151:52 - These are sort of demo lines, I'm gonna
151:53 - get rid of that and I want you to be able
151:55 - to see what's coming into the message.
151:57 - So I'm gonna start up here.
I'm gonna do a console dot log.
152:01 - And what what this does
is when the function runs,
152:03 - if we want to, we can see the message,
152:06 - it will show up down here.
152:07 - So let's say that we
got an incoming message
152:12 - and it was incoming
message and we'll just do
152:16 - a colon and then I'm
gonna use this dollar,
152:19 - this style of string interpolation.
152:21 - So I have the event object, and on it
152:23 - there is a property called
body with a capital B.
152:27 - So that's being passed in there.
152:29 - So when the function runs, we will see
152:31 - that the message came in 'cause Twilio's
152:32 - gonna pass that message
and we'll see it there.
152:35 - And we're just gonna say thanks
when somebody sends this in.
152:37 - So we don't really need to do
anything with this message,
152:40 - but you might wanna
filter it or handle things
152:42 - differently based on what they said in
152:44 - the message and you totally could do that.
152:46 - But you probably also wanna
check the photo that came in
152:49 - was actually a burrito or
something, not inaprops.
152:53 - You could do that and
there are APIs for that,
152:55 - but that's a little out of scope.
152:58 - So instead of a voice response,
152:59 - we're actually going to
return a messaging response.
153:02 - And there's a little
helper library here, right?
153:04 - So a little helper library for TwiML
153:07 - and it has this TwiML object.
153:10 - And before it was doing say,
which is text to speech.
153:13 - So if you wired this up,
153:15 - it would say hello world
in like a computery,
153:18 - but actually pretty good
sounding voice these days.
153:20 - But I'm gonna change this to be a message
153:21 - 'cause that's what we wanna return.
153:22 - We wanna return a
message and we wanna say,
153:25 - thanks for your submission, right?
153:32 - We wanna thank them there.
153:33 - And we can also send
any sort of emoji here.
153:35 - Let's see if maybe a camera
that sounds, yeah, it's nice.
153:38 - Thanks for your submission.
153:39 - And so what's happening
here is this object,
153:42 - it's a fluid API.
153:43 - It means that it doesn't return anything.
153:46 - You kind of tweak it and it
builds as things go on it.
153:50 - So you'll notice that this
isn't returning anything.
153:51 - I'm modifying this object
and then when I send it
153:54 - out at the end, that's how it goes out.
153:56 - So let me, let's just,
153:57 - let me show you what
that object looks like.
153:59 - So again, I'll do one of these console log
154:03 - and use the back tick and we'll say TwiML.
154:04 - So Twilio markup language was TwiML.
154:09 - And you'll see that it
looks a lot like html.
154:11 - There are some rules to it,
154:13 - but we don't need to
learn them all right now.
154:16 - So I'm gonna save this
and just like before,
154:19 - you'll notice that this is
gray, it hasn't been deployed.
154:22 - So I'm gonna click Deploy All and while
154:24 - that's building, I'm gonna head back to
154:26 - my phone number page and
I'm gonna refresh it.
154:29 - So on my phone number
page, I need to change
154:32 - my message down here it says,
when a message comes in,
154:37 - we want it to be a function
that is in the pickle service.
154:41 - That's done in the UI.
154:42 - And we want to choose incoming message,
154:44 - which it hasn't finished deploying yet.
154:46 - Just finish deploying, one more time.
154:49 - Let me refresh that page.
So that shows up for us.
154:54 - We're going to go to,
when a message comes in,
154:57 - it's going to be a function
and it's on the pickle service
155:00 - for this UI and we wanna
do incoming message.
155:03 - And if we do save, alright,
so we should be all wired up.
155:09 - I'm gonna click Clear Logs here,
155:11 - and I'm gonna turn live logs on.
155:14 - You can see that this says
live logs on when it's ready.
155:16 - And I'm gonna clear
the logs one more time.
155:18 - And what I'm gonna do now is
I'm going to send a message in
155:22 - and we should see this, we should see
155:24 - what I send in and we should see the TwiML
155:27 - that was sent back and I
should get a response back.
155:29 - So let me send that message
here. Let me send this text.
155:34 - All right. So, oh, check out this.
155:36 - I have this beautiful
picture of a burrito.
155:39 - I love when burritos can
stand up by themselves.
155:41 - And this is an awesome one.
I'm gonna send this in.
155:43 - So check out this beautiful
burrito, little emoji.
155:47 - I'm gonna send that through
and we should see here in
155:50 - the live logs, we should see
the message come through.
155:52 - There we go, so look at
this beautiful burrito,
155:55 - and this is the TwiML that was generated.
155:57 - So you can see it's like tag-based.
155:59 - So there's a response and
there's a closing response
156:01 - and there's an opening
message and a closing message.
156:03 - Thanks for your submission.
156:05 - I don't want you to feel
like you need to learn TwiML.
156:07 - You could do that later if
you need to, but this works.
156:11 - So I got my message back.
156:12 - Now, remember, since we are in trial mode,
156:15 - if somebody else sends in a message
156:17 - to your phone number,
they're only gonna get
156:19 - a message back if they're
a verified sender.
156:22 - So that is a limit of the trial API
156:24 - that we're using currently.
156:25 - Now most APIs have limits.
156:27 - There's only so many calls you can make.
156:30 - There's, you can only
send to verified numbers.
156:32 - There's just different sort of limits.
156:34 - And that's what we're
working with here right now.
156:36 - The limit is that you can
only send to verified numbers.
156:39 - They can still submit,
they just won't get this
156:41 - "Thanks for your submission."
156:42 - So your phone number should,
so when you submit from
156:44 - your phone number, you should
get it just like I did.
156:46 - All right, so we're looking good.
156:48 - We have our site hosted and we are
156:50 - handling submissions by thanking them.
156:53 - Let's get to some more cooking.
156:55 - Now, if you're interested in learning more
156:57 - about applications like
this over the phone,
156:59 - check out the notes for more resources.
157:01 - I have an entire course on this
157:03 - if this piqued your interest.
157:04 - But for now, let's get back to our API.
157:07 - Now, with our ability to
host our own application,
157:10 - we can focus on designing our own API.
157:12 - Now the great news is that
Twilio functions makes it
157:15 - really straightforward
to return JSON, remember,
157:18 - that's JavaScript object notation,
157:19 - the lingua franca of the web.
157:22 - Let's design our web-based API to return
157:24 - the expected format, and we can
make use of Twilio's message
157:27 - API to get a hold of all the
messages that we received.
157:31 - Do you see what I did there? Get, get it?
157:35 - All right. I'm a get outta here.
157:38 - I can't stop. All right, let's do this.
157:41 - Okay, so we are gonna
actually write an API
157:44 - and we already have a spec
or a specification, right?
157:48 - We need to provide for
this specific plugin,
157:51 - This silent box has this gallery plugin
157:53 - and it has a specific API that it defines
157:56 - and that API looks like this, right?
157:59 - So remember that we're
setting this gallery and we're
158:01 - setting an array and we're
setting this information here.
158:04 - So I think we should start
by creating an endpoint
158:07 - that returns exactly what we have here.
158:10 - We should return an
endpoint that does this,
158:11 - the returns this, and then
we'll move forward from there.
158:15 - This is what I do when I find
myself in a situation when
158:18 - I'm working on a project
with a team of people, I take
158:21 - what they expect in a template
and I return it from an API.
158:26 - This way they can keep working
and I can keep working too.
158:29 - So let's do that. I'm gonna
create a new function.
158:31 - So I'm gonna choose add, add function,
158:33 - and I can name this whatever I want.
158:37 - And I suppose we should be clear, right?
158:39 - We're gonna make an API,
we're actually gonna
158:41 - make one so slash API and then I suppose
158:45 - we should probably say what it's gonna be.
158:46 - So we'll do a Pics API here, right?
158:50 - And I'm going to press Enter
158:52 - and that will get me my boiler plate code,
158:55 - of which I am going to
get rid of everything.
158:59 - So thank you for the help.
159:01 - We're not actually
returning TwiML this time.
159:02 - We're actually gonna return an object.
159:05 - And what I'll do is I'll copy the
159:10 - hard coded array from
this index file here.
159:14 - I'll come in here and
I'll copy this hard coded.
159:17 - Now hard coded means it is just like
159:20 - in the code this way, right?
159:21 - There's no way that this
is going to be dynamic.
159:23 - I'm gonna change that here.
I'm gonna paste that in here.
159:27 - I'm gonna name it the same thing.
159:28 - So I'm gonna create a new
variable called gallery
159:31 - and I am going to just paste
that hard coded code there.
159:35 - There we go. And then I'm
gonna call this gallery.
159:43 - So again, I have an array.
159:45 - That's what this bracket here is an array
159:47 - of these objects, that's
what these objects are.
159:48 - These mustaches, they
open up and the objects
159:52 - have these properties here and these are
159:55 - representing the pics
that that plugin requires.
160:00 - And now I'm gonna use
this callback function
160:03 - to return that gallery array.
160:05 - One really nice thing
about this Twilio function
160:08 - is that if I pass it an object like I did,
160:11 - it'll automatically return JSON to anybody
160:14 - who requests the URL, so let's do that.
160:16 - So I'm gonna go ahead,
160:17 - I'm gonna save this and
I'm gonna deploy it.
160:22 - Now one thing to note, by default
it was actually protected.
160:27 - That's what this little
key lock thing means here.
160:29 - So I'm gonna click this
and I'm gonna change this
160:32 - to be public 'cause we
actually want anybody
160:34 - to be able to see it, not just Twilio.
160:37 - So this is what we're gonna do.
160:38 - I'm gonna change this to be
public and then I'm going
160:41 - to choose a deploy all and
you'll see that it's gray
160:43 - and when it's ready it
will turn green for us.
160:47 - And so I'm gonna go ahead
and I'm gonna copy this URL.
160:50 - So I have this URL already
and when it's green,
160:53 - when this goes to be deployed,
so it's still deploying,
160:57 - you can see it's deploying
and you'll know down here
160:59 - when it'll say build completed
and it'll say deployed.
161:02 - So it's deployed, so I
copied that URL, I am gonna
161:04 - go hit that URL and let's
see what we get back.
161:07 - Awesome, we got it.
161:08 - So we got the kitty descriptions
161:10 - and blow this up a little bit here.
161:12 - This is JSON, it automatically
built this for us, right?
161:14 - It's in the right format,
which is very nice.
161:17 - In fact, we could probably
take this and why don't we,
161:20 - we'll go over to the Thunder Client
161:22 - and take a look at what's
going on over there.
161:24 - So I'm gonna come back
to my Thunder Client,
161:26 - I'm gonna make a new request
and I'm gonna hit, I'm gonna
161:30 - do a get to this API that we
just built and check it out.
161:35 - It comes back, it comes back with 200 OK.
161:36 - And here's, the stuff that's coming back.
161:38 - There's even some headers
in here. Oh, sorry, some.
161:41 - If we look at the response, we can look at
161:43 - the response headers
over here and we can see
161:45 - that the content type was
set to application JSON,
161:49 - Twilio always sends back to
161:50 - the shenanigans none, which I love.
161:54 - So now what we could do
is we can give this URL
161:57 - to the team that's working
on making the front end,
161:59 - you know that view application,
162:01 - they could wire it up,
they could take this.
162:03 - And as long as we match the
same format in what we return,
162:07 - that is, as long as our API
maintains the same contract,
162:11 - everything should just work.
162:13 - So that's pretty awesome, right?
162:15 - So let's move on to the next part.
162:17 - I'm gonna comment out this bit.
162:19 - So let's go ahead, let's
give it a, we'll we're
162:22 - gonna go ahead and make
this an empty array, right?
162:24 - So that's how you make an empty array.
162:25 - And I'm gonna comment this out so that
162:27 - we have it so that we can kind of look at
162:29 - what the format is as we build stuff here.
162:33 - So I'm gonna comment that out and in fact
162:35 - I don't think I need the second one.
162:38 - I'll just get that first one there
162:39 - and give us some space there, awesome.
162:42 - So now let's use the text messages
162:46 - that were sent in, our incoming messages.
162:48 - So we are gonna write
some JavaScript code.
162:51 - Now if you aren't quite
fluent yet in JavaScript,
162:54 - remember that is okay
and we've all been there
162:57 - and we all, all of us, I guarantee you
163:00 - everybody watching this understands
163:02 - that what you're going
through can be challenging.
163:05 - It's a new language.
163:06 - I want you to try a
follow along conceptually.
163:08 - And I want you to take
your time and I want you
163:10 - to take advantage of being
in a video-based course.
163:12 - This code that we are going
to write will be available
163:16 - in the notes and I will walk us through it
163:17 - and then I'll go over
it again translating it
163:19 - into the concepts that we've covered.
163:22 - Okay, are you ready? Let's do this.
163:26 - So Twilio functions have
another great feature.
163:33 - I can get access to a REST client,
163:35 - to the Twilio REST
client then authenticate
163:38 - a Twilio REST client
from the context object.
163:41 - So context, get Twilio client.
163:44 - Now remember that is going
to be using my Auth token
163:48 - and my account SID, and
it's on this context,
163:50 - it just automatically is authenticated,
163:51 - which is really powerful
'cause now I can get access
163:54 - to my thing because this
function is running as me, right?
163:59 - So that's why it has
access to that information.
164:01 - So remember we wanna get a hold of all
164:03 - of the messages that were sent in.
164:06 - So we're going to use the API to do that.
164:09 - And remember we could have
multiple phone numbers.
164:12 - So I'm gonna get the messages
164:13 - that were just sent to this phone number.
164:15 - So I'm going to await
164:16 - 'cause remember it returns a promise.
164:18 - So client dot messages dot list.
164:22 - And I need to do the ones that
164:24 - are specifically to my Twilio number.
164:27 - So that's (561) 816-5433.
164:36 - And I'm pretty sure that's right.
164:38 - I'm gonna look one more
time at my, oh there it is.
164:42 - Yeah, that's it. So that's
my phone number there.
164:44 - (561) 816-5433 you could go.
164:47 - So there, it's also on your console.
164:48 - Remember down here at the bottom,
164:50 - (561) 816-5433, that's what I wanted.
164:52 - I put that there and in fact, you know,
164:55 - that's something you can
have multiple numbers
164:58 - and that might be something that you want
165:00 - to store possibly in an
environment variable.
165:03 - So I think we should probably
do that. Let's do that.
165:07 - So I'm gonna take this number here
165:10 - and I'm gonna store that here.
165:12 - You can see it in the
functions and the services here
165:14 - we have this environment
variables, let's add to that.
165:17 - And you'll see here, actually
add my Twilio credentials.
165:19 - My account said my Auth token
to M, so that's why context
165:22 - get Twilio client works is
because we've checked this.
165:25 - If not, it won't work.
165:27 - So, but it's checked by default.
165:29 - So we're gonna do Twilio
number and that value
165:33 - is going to be that and now in my code,
165:36 - what's rad is I can use that like so,
165:39 - I can say context dot Twilio number,
165:42 - I can access anything that is
in those environment variables
165:46 - that way and it's now it's in this code.
165:48 - And now when I share this code,
you won't need to do that.
165:51 - You will need to set your
environment variable though.
165:53 - Awesome, so, and now what
we've gotta access to the,
165:59 - well actually first we
set await and we need
166:01 - to make sure that this function is marked
166:03 - a sync so that that's required, right?
166:06 - In order to make this work.
166:07 - So now it's going to get the messages,
166:08 - it's going to return the messages,
166:10 - and now we're gonna loop
through those messages.
166:12 - One of my favorite ways of
doing that is this for of loop.
166:16 - So we're gonna say for
message of messages.
166:20 - And for each one of those messages,
166:22 - we're gonna go through some things.
166:23 - So one thing you might not
have thought about before is
166:28 - that when you send a message,
you can put multiple photos.
166:31 - I think typically whenever
I send, when I just send one
166:33 - or then I send another
message and another message,
166:35 - you can actually add multiple
pictures before you send it.
166:38 - So let me, let's do that.
166:41 - Let's get a hold of all of the
pictures that are available.
166:43 - So we'll say comp pics, we'll call,
166:47 - we'll call our variable called
pics, right, for picture,
166:50 - short for picture and
we'll say, await message.
166:53 - Now the message object that
came back from this API.
166:57 - Now we know that this was an
API call, but it is an object.
167:00 - And that object actually has
access to these sub resources,
167:04 - which was media, which we
walked through this before,
167:07 - remember where there was the media URL
167:09 - and we grabbed that
media URL and we looked
167:11 - at all of them that were available?
167:12 - This is basically doing that same thing.
167:14 - And we're gonna get all of
the media that is available.
167:19 - All right, so we have
that, we have the message,
167:23 - we have all of the
pictures of that message.
167:26 - And so for each of those pictures, right?
167:28 - So each of the pictures,
we need to actually need
167:33 - to declare the variable
just to be better there.
167:36 - So we'll say for const,
pick of pics, right?
167:40 - So we're gonna make a new variable called
167:41 - pic looping through each one of these
167:44 - that came back from this array, right?
167:46 - So, for all of the messages,
for all of the pictures
167:50 - in the messages, now what we're gonna do
167:52 - is we're gonna add that to this gallery.
167:54 - So this is an empty array,
167:56 - but we're gonna dynamically add to it.
167:57 - And the way that you add
to an array of course
168:00 - is with gallery dot push, we're gonna push
168:04 - a value onto the end of that array.
168:08 - And we know what this is
supposed to look like, right?
168:10 - It looks like this, it looks,
we have this source, right?
168:13 - So source here, SRC is short
168:15 - for source just from
forever in the internet.
168:19 - So image source, SRC and
I know from my notes,
168:25 - and I'm gonna pop over here real quick.
168:28 - That this has, the media
resource has this thing called
168:32 - a URI on it and it's relative
to this https.twilio.com.
168:40 - So let's paste that.
168:43 - So it's relative to that,
168:44 - which means I that if
I'm going to display it,
168:46 - I need to let our people know I'm gonna
168:48 - give it a full URL,
which it requires, right?
168:50 - It requires this full URL.
168:52 - So it's got the front part of it.
168:54 - And then I'm going to use the pic as
168:56 - a property called URI, which we saw.
168:59 - And remember what happens
is it has this content type
169:04 - if we want to without an
extension, the media is returned.
169:08 - Now I know that by default this is going
169:11 - to give me this pic.URI is
going to end in dot JSON.
169:15 - So I wanna replace that, I'm gonna use
169:17 - the string method to
replace the dot JSON, right?
169:21 - I don't want that dot JSON,
169:22 - I want it to be no extension at all.
169:24 - So I'm gonna use this empty string.
169:27 - So I'm gonna replace the end of
169:28 - what this pick was with dot JSON.
169:31 - I'm gonna replace that
with an empty string,
169:33 - which will remove it essentially, right?
169:35 - That's what we're gonna to do.
169:36 - Now I'm gonna do a comma
'cause I want to do more,
169:39 - I want to have the description.
169:40 - We wanna put the description
here as required because
169:43 - that's what the little text
is at the bottom that it says,
169:46 - and that's whatever they texted
in, in their message, right?
169:49 - So I'm in this loop, I'm
looping through each one
169:51 - of the pics, but I'm also, I
have access to this message
169:53 - 'cause I'm in this inner loop here, right?
169:55 - So I still have access to the outer loop,
169:58 - which is message dot body, right?
170:01 - So those are inflated.
170:02 - So that's whatever the text
was that somebody sent it in.
170:06 - And we should also, we'll
make that the alt text too.
170:08 - So alt tags are handy for
accessibility reasons.
170:13 - There are people, you
might not think about this,
170:16 - but there are people who are
going to use your application
170:19 - that are using it without
being able to see,
170:22 - some people are vision
impaired and they have
170:25 - screen readers and alt
tags are awesome for that.
170:28 - You always wanna make sure
that you make things accessible
170:30 - for people who can't see what
it is that you're providing.
170:32 - And alt tags are an
excellent way of doing that.
170:34 - This is just one way that
you can make your application
170:37 - more accessible and everybody
wins by it and then finally,
170:41 - I'm just gonna grab this
170:41 - last thumbnail width here, 200 pixels.
170:44 - We can see later if people want
170:46 - something different than that, what to do.
170:48 - So, our gallery array for
each one of those pictures,
170:51 - it's gonna add to it, right?
170:53 - So it's gonna go and
it's gonna add each one
170:56 - of those and we're still
gonna return that gallery.
170:58 - And I think y'all, I think we got it.
171:02 - Let's walk it one more time. Okay.
171:05 - So we're gonna come in
here and we are going
171:07 - to use the context that was passed in
171:10 - to this function when it was called.
171:12 - So when somebody hits
this URL, this function
171:15 - is gonna run and it's
gonna know it's gonna
171:17 - have access to those environment
variables that we saw.
171:19 - It's gonna get access to
an authenticated client
171:21 - and that client is logged in with
171:23 - my account SID and my Auth token.
171:24 - And we're gonna create an empty array,
171:27 - this gallery thing here, we're
gonna create an empty array.
171:29 - It's a list that we're going to populate.
171:31 - We're gonna take our
messages and we're going
171:33 - to push them into this
array so that it has
171:37 - the format that is expected,
which is right here.
171:40 - We're gonna turn what our
messages look like into this
171:42 - so that later if we can use them that way.
171:46 - So the way that we do that
is we use this client,
171:48 - this client is a REST
client and it's gonna hit
171:51 - the messages endpoint and
we know that it's going
171:53 - to do a get, but it's
been abstracted for us.
171:55 - So just, we're just say,
hey, list all of the numbers
171:58 - that were sent to this
Twilio number and those are,
172:00 - this context here, again,
this is passed in and the
172:04 - Twilio number is set in my
environment variables over here.
172:07 - So we're set 'cause because
you could have multiple, right?
172:09 - You could have multiple
Twilio phone numbers.
172:11 - So we wanna say only the
ones that were sent to.
172:14 - So we're very, we're being very specific.
172:16 - We're querying messages that
were sent to this number,
172:19 - not from this number but to this number.
172:22 - And we're gonna loop through
each one of those messages.
172:24 - And for each one of those messages,
172:25 - the object that's returned
from this has this property
172:29 - called media, which lets
us get to a sub resource.
172:31 - And you'll remember in the
JSON, there's a link to this
172:34 - and we could go and query
this ourselves, but we don't
172:37 - need to because the API
has wrapped up for us.
172:41 - It's very nice, it's
nice, nice abstraction.
172:42 - And we're going to get
the list of those picks.
172:44 - And again, this is asynchronous.
172:46 - We're using this, we're
waiting for it to come back,
172:50 - we're waiting for these
values to come back.
172:52 - So once we have these picks, we're gonna
172:53 - loop through each of the
pick and we are going
172:55 - to push out a source that has this.
172:58 - We know that they all need
to start with API twilio.com
173:02 - because the URI itself, this
URI here is relative meaning
173:05 - it doesn't contain the
forward slash of this.
173:08 - So we are going say
this is where it lives.
173:11 - This is the API call that we
want you to do to get this
173:14 - content is API twilio.com,
whatever is in the pick URI
173:18 - 'cause that's unique to
each one of the pictures.
173:21 - And that URI comes with
a JSON at the end of it.
173:24 - So if you look here,
let's see if we look here,
173:29 - we can see that it ends
in this dot JSON, right?
173:32 - And we want to get rid of that
'cause when you do get rid
173:35 - of it, what happens is it
returns the actual picture.
173:38 - We did that, I don't know
173:38 - if you remember that earlier, we did that.
173:41 - So, that will be removed
and then we're gonna use
173:45 - the message and the message
is coming from here, right?
173:47 - So the message for each of
these messages, we're gonna
173:49 - get the message.body and the
description and the alt tag
173:52 - for it, the alternate
text we're going to set.
173:55 - And that's from that,
this is the required for,
173:58 - remember this looks exactly
like what happened here.
174:00 - So we are returning that here
and it should return JSON.
174:05 - I'm going to save it. We
are going to deploy it.
174:08 - We are going to cross
our fingers because this,
174:11 - we are at that point where
we hope that the code
174:13 - that we wrote works and
if it didn't, it is okay,
174:17 - if it didn't work, we are
gonna work through it.
174:18 - We might get an error, we
might not understand exactly
174:21 - what that error is and we
are gonna work through it.
174:23 - But I am going to save this and deploy it.
174:26 - Now, let's assume that I gave
this out, I gave this out.
174:30 - So now if somebody hits
this API, here we go.
174:32 - So that's what it was before.
174:34 - If we hit it, we should
see burritos. We got it.
174:39 - So it says, "Look at
this beautiful burrito."
174:41 - I texted that in. Wow.
174:42 - Look at the clarity of the burrito.
174:45 - Oh my gosh, you can see the
rice in the burrito emoji.
174:48 - That's impressive. I didn't know that.
174:49 - Look at that cat. All right.
174:50 - So in fact let's go,
let's go hit it with our,
174:56 - let's hit that same
request I wrote before.
174:58 - It should be a little bit different now.
175:00 - It's coming across here and I want
175:02 - to look at the response and the response.
175:05 - I'm gonna go and I'm gonna grab this URL
175:08 - and make sure that it works.
175:11 - So the source, right, the source that
175:13 - came back here is, should
be the picture of it.
175:16 - And if we look at it should
see my beautiful burrito.
175:20 - Oh look at this thing,
I believe that burritos,
175:23 - when they can stand up by themselves,
175:25 - that's the sign of a good burrito.
175:26 - Look at that burrito.
I got that in Arizona.
175:29 - Oh man, and what we did with this code is
175:33 - actually pretty common,
now in an app like the one
175:37 - that we're building,
probably eventually what
175:39 - you're going to do is you're
gonna store those photos
175:41 - that were submitted
into a database, right?
175:43 - And you're gonna do that from
175:44 - this incoming message function.
175:45 - You're gonna get it, you're gonna store it
175:47 - if it's valid, if it's a valid picture,
175:49 - you don't wanna show pictures that aren't,
175:50 - you're gonna store it
in a database and then
175:52 - you're going to format it
for whatever your client is.
175:56 - You're gonna get that from a database.
175:57 - So maybe instead of
coming back from this API,
176:00 - you're gonna come from a database API
176:01 - and you're gonna pull
back your information
176:04 - and then you're gonna push it through.
176:05 - And that database is gonna
be in its own format,
176:08 - but you're going to make
it match whatever it is
176:10 - that you are trying to push out there.
176:12 - You're not gonna, it's not gonna
176:13 - look exactly like the message, right?
176:15 - I'm not gonna send back
one of these messages
176:17 - and make my API look like that.
176:19 - I'm gonna shape the data.
That's what that's called.
176:21 - I'm gonna shape my data in the
way that I want to be used.
176:25 - And we came with the spec.
This is the shape of the data.
176:28 - So we took the data and we shaped it,
176:30 - we formed it into what was expected.
176:34 - All these burritos are making me hungry.
176:36 - I think I'm gonna go fetch
one from my favorite taco-ria.
176:40 - Now I'll make sure to snap a pic.
176:41 - You should get one too
actually. You deserve it.
176:43 - You deserve a burrito
and when we get back,
176:47 - we'll look at how to fetch this data
176:49 - that we just generated in our client app.
176:53 - So we've coded our external public API
176:56 - and it's ready to be consumed.
176:58 - Now our API uses an external API, Twilio,
177:00 - and we're going to need to use our
177:02 - web framework Views API
to retrieve the data.
177:05 - And to do that we're gonna
need to use the web API Fetch.
177:09 - See, APIs are everywhere.
177:11 - No wonder you came
looking for this course.
177:13 - All right, let's make use of our
177:15 - server-based API and our
client side application.
177:18 - All right, so just like I
just consumed my burrito,
177:22 - we are going to consume that
API that we just created.
177:25 - So if I scroll down here,
remember we're passing
177:28 - in this gallery here
and we scroll down here
177:32 - into this load images and this load images
177:34 - gets kicked off from
the API of view, right?
177:38 - So view has these lifecycle APIs and when
177:40 - the things mounted, it's
gonna call this load images.
177:43 - We're gonna come into load
images and now we have some
177:46 - to-dos that we have already to done.
177:49 - So we are going to use the
177:50 - messaging API to use submitted photos.
177:52 - We did that, we did that in our API
177:56 - and then we are going to
create a web-based API
177:57 - that matches this expected response.
177:59 - We also did that, didn't we?
178:01 - We did that. So let's get rid of that.
178:02 - All right, so here we go.
178:03 - So this has got a suggestion here
178:05 - of what to start doing here.
178:07 - So I'm gonna uncommon this.
178:09 - So we're gonna create a new
response object and we are going
178:14 - to await and we are going
to use Fetch and Fetch here
178:18 - is part of the web API that
browsers must implement
178:22 - to do exactly what we're
trying to do, right?
178:24 - We want to fetch data from our API.
178:26 - Now this happens to be on the same server.
178:29 - So we can use a relative link
like this slash API here.
178:33 - We don't need to specify
the server, right?
178:34 - It's assumed. So our API,
we called that, right?
178:39 - We called it API/pics.
178:41 - So slash pics is what we
are going to hit there.
178:44 - And you notice that it's using await
178:46 - because this is an async function.
178:48 - So Fetch returns a promise
and it's going to return
178:51 - that response and that
response has a method on it
178:57 - called JSON that will actually return
179:01 - the JSON representation
of whatever came back.
179:03 - So what I'm gonna do is I'm gonna get rid
179:05 - of this gallery, this hard coded gallery
179:07 - that is gone and I am
going to say REST await.
179:11 - We are going to await 'cause this method
179:12 - is also asynchronous, response dot JSON.
179:16 - So that's gonna get back whatever is
179:18 - in this response that came back.
179:20 - This response has all
sorts of metadata about it,
179:22 - but we just want to
get the data out of it.
179:24 - And that's by using this dot JSON.
179:25 - And because our API is JSON enabled,
179:28 - it's just gonna come out.
179:31 - All right, let's deploy it. I cannot stop.
179:35 - Oops, this is not unable to
deploy 'cause I didn't save it.
179:38 - So I need to save it first.
179:40 - I cannot stop thinking about
that burrito. It was so good.
179:43 - I submitted a selfie of
myself and I texted it
179:46 - to my Twilio number and I got a reply back
179:49 - from my Twilio trial account, right?
179:50 - And it says thanks for submitting it.
179:52 - So if all goes well when we look here,
179:55 - I'll be able to show you the burrito
179:57 - that I texted to my number.
179:59 - So it's been deployed and
I'm gonna come in here
180:03 - under this assets and
I'm gonna copy this URL
180:07 - and I am going to paste it
here and this view application
180:11 - is gonna go and it's gonna
hit my API and it's gonna
180:12 - bring back some photos into
this gallery and here it is.
180:15 - Look at the size of this thing.
180:16 - It was truly bigger than my head.
180:19 - So if we click that, we could go,
180:21 - we could see my other beautiful
burrito there as well.
180:26 - Now let's look again back here
at the client side of things
180:30 - and just take a look at
how beautiful this is.
180:34 - It's just two lines and
it's hitting our APIs
180:36 - and that's the power of this API.
180:40 - We were able to hit an
API and get user submitted
180:44 - text messages, text photos, right?
180:47 - And it only took two lines and really
180:48 - it only took one line actually.
180:50 - You know, like if we could have
180:51 - like chained some stuff on top of this.
180:53 - Awesome, now one thing that
I do wanna note is that
180:55 - there's no authentication
at all to this API, right?
180:58 - I didn't supply any
authentication information at all.
181:01 - It's open to everyone and
that's kind of a good thing
181:05 - if you are working on a
client side application,
181:10 - you don't wanna pass your keys around.
181:12 - Like I would not wanna
put my Twilio keys here
181:14 - on this page because I
don't know if you know this,
181:16 - but you can actually see
everything that comes down.
181:18 - So I'm gonna view the source
of this and you can see here's
181:21 - the source that we're looking
at and if I hadn't used
181:23 - any sort of API keys, I
would see them right here.
181:26 - You don't wanna leak your
keys that way, check the notes
181:29 - for more information on
how to get around this.
181:31 - But typically this is
what you do is you write
181:33 - a server that then the server keeps track
181:36 - of all the keys and you
connect to the server.
181:38 - But if you do need to
provide some authentication
181:40 - locally on the client,
there are ways to do that.
181:42 - Check the notes. But look
at this, look at this.
181:46 - You did this, you have
designed a new interface,
181:50 - a text messaging interface, right, a TMI.
181:56 - Well I hope this wasn't TMI
181:57 - or also known as too
much information for you.
182:01 - You learned a whole lot about APIs
182:02 - and not just the web-based ones.
182:04 - You saw them in practice and
you even built your own one.
182:08 - You really deserved that
burrito. Awesome job.
182:11 - You've just built and
consumed your own API.
182:15 - Now here's my question to you.
182:16 - Do you think that the API code that
182:18 - we wrote together should
be considered RESTful?
182:21 - Well, why don't we take a look at
182:22 - our weathered scavenger hunt card.
182:25 - So it's definitely a
client server architecture.
182:27 - Our client happens to be, in this case,
182:29 - a view application running in the browser
182:31 - and our server is a
serverless node application.
182:33 - But any client could connect and use this.
182:36 - Statelessness. It's
definitely stateless, right?
182:39 - We aren't requiring any prior knowledge
182:41 - about the client, cacheability.
182:46 - Well, at the moment we
aren't providing any
182:48 - caching information,
though we could, right?
182:50 - We could fairly easily pay
attention to those headers
182:52 - coming in and we could
respond appropriately.
182:55 - It would require us writing
some additional code
182:57 - and thinking through
some of the edge cases,
182:59 - but we could do it.
183:00 - Let's put that in the maybe column.
183:03 - Layered system. Yeah, for sure, right?
183:06 - In fact, it's a little layered already.
183:08 - Our API is calling another
API, but our client
183:10 - doesn't need to know that,
we can also add additional
183:13 - functionality and the
contract wouldn't change.
183:16 - Code on demand. We haven't
even talked about this one yet.
183:19 - And it's the only optional requirement.
183:22 - Basically this means that
your API returns code
183:24 - that is runnable, like maybe it returns
183:27 - an embedable widget or some
actual JavaScript code.
183:30 - This doesn't make any
sense in our use case
183:31 - and that's totally okay.
183:33 - So we're gonna drop this
one into the no column.
183:35 - So we're looking good so far.
183:36 - But here comes the
doozy, uniform interface.
183:40 - So remember this one has four subsections,
183:43 - resource identification
and requests, ruh row.
183:46 - Currently we are just
representing all the messages
183:48 - as objects and absolutely
no way to identify them.
183:51 - So we failed this sub requirement
183:54 - and therefore this is a no.
183:55 - But let's keep going
through the rest of these,
183:59 - pun intended, sorry.
184:01 - Resource manipulation
through representations.
184:04 - We definitely do not allow any sort
184:05 - of manipulation of the images
so this is another fail.
184:09 - Self descriptive messages, we
haven't gone over this yet,
184:12 - but by using headers we
can tell that this is JSON.
184:15 - The message sent down
has a type and it's clear
184:17 - that it should be JSON decoded to be used.
184:20 - Hypermedia as the engine
of application state.
184:24 - And last but certainly not
least, HATEOAS or HATEOAS,
184:29 - it's an often forgot about
part of the RESTful constraint.
184:33 - And the idea here is that
there are links to show off
184:36 - what more you could do with
this and where you could
184:38 - find related resources,
it provides URIs or links.
184:41 - And we did see this in both
the Spotify and Twilio ones.
184:44 - However, ours doesn't provide
links to other resources.
184:47 - So we don't have a RESTful
API and that's okay,
184:50 - it's gonna suit our needs.
184:51 - It does look like we could get
184:52 - there pretty quickly if we wanted to.
184:54 - One thing I want you to gain
from that exercise though is
184:57 - that you now have the ability
to identify whether or not
185:00 - an API is RESTful and I
hope that felt pretty good.
185:03 - We've now completed the scavenger hunt,
185:05 - we revealed all the constraints,
185:06 - and I hope most of those are pretty clear.
185:08 - Please don't feel like you
need to memorize those.
185:10 - You can find those same constraints
185:11 - littered all over the internet.
185:13 - Now as a prize for finishing
185:15 - the constraint scavenger hunt,
185:17 - I've dropped links to my
favorite REST API constraint
185:19 - documentation for you to
lean on, should you need to.
185:22 - I've also included links to
the Popular REST API frameworks
185:25 - that will help you design RESTful APIs.
185:27 - Make sure to check out
the notes. You did it.
185:30 - You just completed a
whirlwind introduction to APIs
185:33 - and I hope that you can
see how much more power
185:35 - they can add to your programming journey.
185:37 - By looking at interfaces in general,
185:39 - I hope you're more comfortable
with the idea of not
185:41 - fully understanding exactly
how something is working,
185:45 - but still leaning on that abstraction
185:47 - to build your tools and applications.
185:49 - Do this all the time with
physical object interfaces
185:51 - and APIs or application
programming interfaces.
185:53 - They aren't all that different.
185:55 - I hope you enjoyed taking this course.
185:56 - I know I had a lot of fun making it.
185:59 - If you think someone
you know might benefit
186:00 - from this course, please
share it with them.
186:03 - I'd love to hear your feelings,
your thoughts, your dreams.
186:05 - So I threw together a
little something using
186:07 - a smattering of APIs to
capture your feedback.
186:10 - If you've got the time, I'd love to
186:12 - have you answer a quick text-based survey,
186:15 - text "feedback" to the
number on your screen.
186:17 - Well actually, you know what, if you want,
186:19 - you can also call and just
leave me a message too.
186:22 - I use an API for that too.
186:23 - So please, please, please
keep me posted on your journey
186:26 - and really, I can't wait
to see what you build.
186:29 - Thanks again for hanging out
and we'll see you real soon.
186:31 - (upbeat music)

Cleaned transcript:

This course is an excellent introduction to APIs for beginners. This is an updated version of what is already one of the most popular API courses on the Internet. Craig Dennis is back as the instructor and in my opinion he is one of the best developer educators out there. Hello, I'm Craig and I'm a developer. In this course, we are going to be exploring a term that you've probably heard quite a bit. That term is API or application programming interface. In addition to being able to recite what it stands for, when you complete this course, you'll be able to discuss what an API does. You'll understand why they exist and you'll be able to list the many benefits that they provide. You'll even get some handson experience using a few popular web APIs, which will give you a taste of what all this excitement is about. We'll be starting from the very beginning, so there really isn't too much I'm gonna be expecting you to know before starting this course. I would like to request that you have a touch of experience with coding and a wee bit of knowledge about the web. If you've written any program at all, even the typical first program, you know the one where you write the words, "Hello, world." If you've done that in any programming language, you'll pretty much be ready for this course. It will be helpful if you have a basic understanding of how the web works with web servers and browsers, but don't sweat it, we'll touch on that too. Now, if you haven't met these requirements, please check the notes attached to this video for where to get started with some beginning web and programming concepts. That reminds me, you should take some time to get used to your learning environment. The notes that I just discussed are attached to this video and I'll also drop more information into that section to keep you updated on what might have changed from my right now to your right now and I'll do my best to remind you to look in there when there's something I think you just have to see, but you really should get in the habit of checking that area out. There'll be tons of juicy information there. You might be getting a real bad case of deja vu right now. This is a refresh of a course from 2019, which these days seems like about 30 years ago or something. If you saw that version, welcome back. Technology is constantly evolving and just updating the notes wasn't cutting it, so this is version two. Thanks for all the feedback, by the way, a lot of yours and your fellow learner's suggestions are implemented in this new updated version. All that to say, we got you. These videos have captions, so if you feel like you might benefit from having those on, please use them. This space is all yours. If you want me to speak slower, please use the speed controllers to slow me down, and if I'm taking a long time, speed me up. I make a pretty good chipmunk. And last but certainly not least, take advantage of the fact that you are in a videobased course. If you need me to repeat myself, use the video controls to rewind me. If you feel like you need to take a break to let something sink in, by all means, please pause me. I'll be right here waiting for you. I know that I've gotten into some pretty bad viewing habits with all this streaming media. Now, while binging might be a great way to consume an entire season of your favorite show, it's not the best way to learn something new. Education isn't meant to be binged and because of this, I'll probably remind you quite a bit to take breaks and encourage you to let what you just learned marinate. All right, let's get to it. API, those three little letters generate quite the buzz, don't they? First, I'd like to take some time upfront here and clearly break down what is meant by application programming interface. By understanding its purpose and a touch of its history, I think you'll start to see its importance and begin to understand why this term keeps popping up in your life. After we get a good grasp on the what and the why of APIs, we'll go and learn how to explore two existing ones. We'll get familiar with several handy tools that you can use to interact with webbased APIs. We'll use those tools to hit an external web API to send actual text messages and we'll get some inteRESTing data back from a streaming music service API. Once we get some practice using the APIs, we'll use them in a web application that you'll actually publish. The application that we're gonna be building is going to receive user submitted photos via a text message, and then we'll use an API to display a collection of all these photos and you get to come up with the prompt. Send me the latest photo on your phone, dog pics, please, what's for dinner, whatever you want. I can't wait to see what you build and what your family and friends submit to it. We are going to be strictly using APIs in this course, we won't be writing our own. While you most likely are gonna end up learning some best practices in API design, we won't be covering that specifically. There are many great courses available that show the creation thought process, and I've linked to some of my faves in the notes attached to this video. In my opinion, the best way to start learning about any acronym is to focus on each individual letter. For API, I think we should start on that last character, the I, interface. Let's talk a bit about the interfaces that you've seen already. Interfaces are all around us. For instance, this radio here, it has a familiar interface. The interface allows me to do things like change the volume, change the station, I can turn it off and on. I literally have no idea how anything inside this thing works, but still the interface allows me to control the way that it works through the options that are exposed and that's pretty great, isn't it? The magic that is happening is completely abstracted away from me. I'm still in control of what has been determined that I, a user can handle. Interfaces usually evolve over time, like an alarm clock radio for example. It has my familiar volume and station controls and it also adds some new features like changing the time and setting the alarm. I still have no idea how this works implementation wise, but the interface is something that I can understand. Usually, and as technology evolves and new options come into existence, they make their way into the new versions of the interface. Still abstracting away things for us, but enabling us to be in control of the new features. Sometimes these physical interfaces get so recognizable, they even make it into GUIs. Hey, did you hear that? There it is again, GUI, GUI, graphical user interface. This is my streaming music app on my phone. There's my familiar Play button in the user interface or UI, and I know what the Play button does when I press it, but I have no idea how it does it and I'm okay with that level of abstraction. What would I do in public transit without music? Like, talk to people? Hi, how's it going? Now, the developer who wrote this streaming music application, of course, understands how the Play button works. She coded the button so that when it gets clicked, the music starts playing. Here's the thing though, our developer is also working with quite a few interfaces that are abstracting the way some of the details for her. For instance, she wrote code that happens when the button is clicked. She probably did that using an event handler on the button, like onClick. What she didn't have to do, however, was write the code that makes the button interact and change with the press. She didn't have to write the code that makes that familiar clicking noise. It was already there for her. Buttons are, in fact, an interface. They provide the developer the means of controlling its interactions while abstracting way how that actually works, implementation wise. This button is part of the API or application programming interface and it's available from the application framework that was used to create the app. Because most apps need buttons, this interface has been created and provided to our developer or application programmer to use. By implementing the button interface, our developer was able to make her code run when the button was clicked. It's worth noting that the code probably also uses a media player API that is provided with the operating system of the device like Android or iOS. This media player API abstracts away needing to understand details of how to send audio data to hardware. The developer knows they just want to call the play method on the media player API. I suppose too, the song isn't stored on the device, it's being streamed over the network, so a webbased API call has been made over the internet to get that data. It's actually APIs all the way down to the ones and zeros providing abstractions at many levels, so let's take a look at what all of these interfaces have in common. They all define ways for us to interact or communicate with an object, whether that object be physical or software, and as a user of the interface, we don't need to understand the implementation, we don't need to know how it works. We just need to know what we've been allowed to change or see, interfaces abstract away the implementation. Now, while the UI or user interface is made for the user of the application, the API is made for the application programmer to use and extend in their applications. With the I covered in our API, let's take a deeper look at the REST of the API acronym. An API is a contract of sorts. It defines how it is expected to be used and it defines what you can expect to receive by using it. Think of it as a set of tools designed for software developers like yourself to use. An API is created to help make your life easier by giving you access to data and by providing you with an abstraction of the implementation, you know, not needing to know how it's doing, whatever it's doing. They save you from needing to create everything yourself, like when designed well, they make nearly impossible things happen with just a few lines of code. Now you're probably starting to see why it's important to get familiar with them, right? I want to do a quick word of warning here about some naming issues that you'll probably run into. These days, the term API is almost always used as a way to explain webbased APIs. In fact, it's probably safe to assume that when you hear API in the wild, it's most likely that people are talking about a webbased API. We'll explore those here in a few. However, if we focus on all types of APIs instead of just the webbased subset, we'll get a better look into why webbased APIs are so popular, so hang tight, we're getting there. APIs are everywhere in your software journey just about everywhere you look, your programming language, whichever one that might be, provides many APIs. Let's take a look at one that is common in all of them. They all provide some way of working with strings, you know, like a series of characters. Wanna make your text all uppercase? Just call the API method and voila. You could probably create the uppercase string all by yourself by doing some sort of low level bit math on each character, but you don't need to because your programming language has abstracted away that for you and provided a handy string API. It exists because this is a common enough problem that developers run into. Because these programming language specifications are just interfaces, different operating systems can supply their own implementation so that the code works properly in their environment. I think an easy way of picturing this is to think about how different operating systems like Windows or Mac OS maintain their files. They're totally different, yet your programming language provides a single API for working with the file system. You can write one script and it works both in Mac and Windows. It's the implementation that takes care of all the details for you, pretty cool, right? Definitely something to be thankful for. It makes our lives so much easier not having to worry about what operating system is being used and the importance of an API tool language cannot be understated. There have been some fascinating legal cases where it's been questioned if the language API itself, again, not the implementation can be copyrighted, check out the notes for more on that. Along similar lines, there are different web browsers, you know, like Google Chrome, Microsoft Edge, Safari, Firefox, Brave. Now, you might not have pondered this before, but isn't it amazing that you can write code for the web and it will work in any of 'em? This works because there's a set of web APIs that web browsers all must implement in order to make that magic happen for you. We are standing on the shoulders of giants, folks, and we really should thank those giants more often. There are authors and maintainers of libraries that package up code to solve common problems so that you don't need to do it yourself. For instance, do you know how to programmatically make a photo black and white? Me neither, but I can download and import an image package into my application and suddenly I can. I just call a method and boom, I wish real life skills worked this way. I'd import dancing so I could be more fun at weddings, cha cha cha. Frameworks provide an API that allow you to extend what has been provided to make it your own. Like for example, most web frameworks provide you with the ability to add a new route to your web application. It allows you to write out dynamic data to a template that you specified, and you do all of this with just a handful of lines of code. You don't need to understand how it's doing things, but you do need to know how to write an implementation to what the framework is expecting. In this case, you're using the API, the contract, to write a valid implementation that meets the requirements. Now, all these APIs that we just talked about, they're local to our code base, they exist within our code. We use them to avoid recreating the wheel. That is to say they assist us in accomplishing tasks that we need to perform by abstracting away a ton of the work for us, the stuff that we developers shouldn't be worrying about. We should be focusing on the business problem at hand, and that means a big part of your job is figuring out how to leverage these APIs to your advantage. Now, I think this is an excellent time for you to take a break. I just gave you a lot to think about and I'd like you to take some time and breathe. Why don't you jot down some APIs that you've used today? Even if you weren't coding, I know that you've seen some in action. If you're having a hard time thinking of some, I'll give you a hint. You're watching a video right now inside of a web browser. When we return, we'll explore the concept of remote APIs, ones that aren't executing locally in our code base and why that is such a powerful concept. (upbeat music) It took me a while to find this remote control. It was in the couch. It's always on the couch. Anyways, this remote has an interface on it, right? There's a Power button and when I press the Channel button, it changes the channel, when I press the Volume button, it sends the request to my radio and the volume changes as if I turned the volume up using the interface on the device itself, and we know why that's important. I want to remotely control my device. I don't want to get up from my chair. There are of course, more or less lazy reasons as to why we'd want to remotely control objects. This cute little robot, for instance, has a remote API. You can send commands to it and it responds and it even sends back sensor information. These traffic signs can change based on an API call. This drone here is remotely controlled by an app on my phone, see? (drone whirring and crashing) And it's not just physical objects that benefit from remote APIs. Oftentimes we don't have space on our local machines for all the data that's available, like for example, have you ever used one of those apps that helps you figure out what song is playing? You send up a snippet of a song that you heard playing at a grocery store using your microphone, and it sends back exactly what song it is. It's usually Phil Collins. It turns out that both grocery stores and yours truly love Phil Collins. You don't have room for all the songs in the world on your phone and with this remote API, you don't need to have all of them. It does all the searching and processing and it's surprisingly quick. How can it possibly do that? I don't know, but I love the interface. It's so fast. Ooh, that's another benefit of remote APIs, computational power. Because an API removes the limitations of your local device, you can gain access to seemingly infinite amounts of power. A good example of this is the AR app of Google Translate. You can use the camera on your phone and in near real time it's able to translate directly to your screen, like instantaneously. It's using a ton of processing power to make that magic happen and that processing is happening elsewhere, "en la Nube." It took quite a bit of experimentation and some evolution of ideas, but over time, we finally turned this remote API dream into a reality. Now, I'm gonna drop some history into the teacher's notes, but I just want you to know that the struggle to achieve this concept of remote APIs was very real. Now, most of the problem was that there wasn't a standard that everyone loved. Things were pretty clunky for a while as these ideas were sussed out, but then it happened. A new architectural style appeared that was clear and allowed us developers to interact with specific resources over the web and it quite literally changed everything. This style rapidly emerged as a winner and just about everyone began offering and consuming external APIs over the internet. Now, what I'm talking about here is REST, or representational state transfer. It was the approach that we needed and honestly, it's the abstraction that we developers deserved. Like we talked about already, the popularity of REST spread so rapidly that it nearly completely overtook the term API. It's like how we use the word Xerox to mean photocopy, even though Xerox is just a brand of photocopier. Xerox does other stuff too, I think. That's how pervasive REST is. REST is for sure not the end all, be all of remote APIs. There are definitely some limitations which we'll discuss here in a bit. Technology's ever evolving and of course there's movements that are still advancing the concept of the best remote APIs. Some terms you might even have heard, like GraphQL, more on this in the teacher's notes. Now, for the rest of this course, we are going to do a deep dive into APIs that are written using the REST style. When APIs embrace the style and constraints of REST, they are said to be RESTful, cute, right? If you feel like you need a little rest, go ahead and pause me before we do a deeper dive into what it means to be RESTful. Sorry, that was a bad and obvious joke, but as a developer you kind of have to make it. You don't really have an option. Because REST sits on top of web technologies like a really nice hat, we should probably do a whirlwind refresher of how the web works. (upbeat music) It might have been a while since you thought about how the web works. There are a smattering of terms that I'd like to reload into your working memory before we talk more about how REST uses them. So let's use the web, I've got my computer here and on it is an internet browser, the browser is a web client and I'm going to use it to connect to a server. I'm going to do this by putting a location in the address bar, a universal resource locator or URL to be exact. You might also hear this referred to by its superset term URI, universal Resource Identifier. Now our URL here has a scheme portion and this one happens to be HTTP. HTTP stands for hypertext transfer protocol. Let's break that down a bit. Let's grab that last part, protocol. A protocol is also often likened to a contract. It's a little lower level than an API, but it's similar in concept. You can think of it as defining the expectations of how to communicate. Like an example that I think really sticks with me is if you've ever been to a rally and someone does one of those chants where they're like, "When I say 'Fu,' you say "Bar." Fu, bar, one of those. Here, let's do one. When I say HTT, you say P, HTT, HTT. Oh, I just realized I might have made you yell "P" out loud. Hope you aren't in a coffee shop. Awkward. Anyways, we, you and I just set up a real quick protocol. I told you how to respond to my specific request and you would've been breaking or agreed upon protocol if you yelled anything else but P, so the browser creates an HTTP request for you, along with the URI, it also specifies a particular HTTP verb. In this case, it is using the get verb, which is used to clarify that this request will only receive data. That is, it won't be making any changes. The server receives the request that was transferred from the client. There's that second T. The server then does the work that it needs to do. Finally, it generates the resulting webpage and sends back a response to the client, my browser, in this case. The most important part of the response is the body. For a webpage, that contains the HTML, hypertext markup language, which gives us the remaining parts, the HT of our acronym. Hypertext is text that can link to other texts. In HTML, we perform that linking with anchor tags, so with that response, the browser renders the page. When one of those links are clicked, they kick off a brand new HTTP get request and the process repeats itself over and over. In between those clicks though, the protocol's done, we've made the request, we got the response. HTTP, as it was originally designed, is a stateless protocol. Once that request receives a response, it's all done. If you wanna keep some sort of state, your client will have to manage that itself and send it up with each new request. Check out the notes for more on this. There are more http verbs, also known as request methods besides get, most common scenario you see is when you encounter a form that is used to take information from you. Typically you'll see the verb post used to explain that you are submitting or posting data to the server. Okay, so our protocol that's used to transfer this hypertext is admittedly a little more complex than our rally chant was. There's quite a bit of important information in there that is included in the request and the response. You've probably seen query string parameters in URLs and you know the stuff after the question mark? This is one way to pass information about the request. Another common way this information is passed around is through specific key and value pairs called headers. Both requests and responses have headers and they're used to help further communicate what is wanted as well as what has been sent back. Some of the popular request headers allow you to specify information about the content that you expect back, like the language or the type of content. You can also state that you want the page if it has changed since a certain time. This technique allows for caching, which is a powerful concept. Why get the whole page if you already have it in your local cache? You can embed authentication information in each request using a header. In this way, you're essentially keeping your client logged in across requests. This response also contains headers. A super important one is the status code. This lets you know what happened on the server side and can convey things like missing documents. I'm sure you've seen the old 404 or maybe the page has moved, but hopefully everything is a 200 OK. It can also explain the content type, how large the data returned is, and many more things. Okay, got it? Are you feeling good about that little whirlwind tour? Remember, feel free to make me repeat myself if that was too much, I totally get it. That was a lot of information. It's important to have a basic understanding of these things because REST sits on top of them. It uses the concepts that were introduced with the web to expose resources that can be accessed and manipulated. Let's take a look at how the RESTful approach takes advantage of the web and its tooling for your benefit, profit. REST stands for representational state transfer. APIs that meet the REST architectural style constraints are considered to be RESTful. Now, a typical way to teach about RESTful APIs is to cover the constraints that define it all upfront. Now, I don't know about you, but personally I find approaching learning that way pretty overwhelming, especially from the beginning. I mean, we haven't even looked at an API yet. On top of that, most of the REST APIs that you'll use will meet all of these constraints. So here's the thing. I promise that we'll go over all the constraints, but let's do it on our own time, like don't learn 'em all right this instant. We could even make it a fun journey, like a RESTful constraint scavenger hunt, complete with prizes, avoid where prohibited. Here are the guiding architectural constraints required for an API to be considered RESTful. We'll check them off when we discuss them and then we'll loop back once more at the end to review. Gotta collect them all, sound fun? Good. Let's get started talking about how REST API sits on top of web technology, like a little hat, much like the web, the client makes a request to a server. The client in this case is typically going to be your program and you'll probably be using some sort of library to create the request to the server. The protocol used, you guessed it, it's HTTP and it's stateless. The server won't remember anything about the particular client. If you wanna maintain state like your login details, you must send it with each and every request. You'll do this using headers and just like that, we talked about two of our REST constraints, client server architecture and stateless. You got two knocked off already. You're on a roll. Now, we should probably talk about what that request was requesting, right? Well, it most certainly was requesting information about a resource. Now a resource is a little abstract and that's intentional. It's the R in the URL or URI. We use the term resource to reference an object. Also happens to be pretty abstract, right? And this is because we can use resources to describe just about anything that we build. For instance, let's imagine an ebook store website. On the homepage, there's a list or collection of new books. Each of these books is a resource. We click in to take a closer look at that book resource and we see a link to the author, which is also a resource. We click into the author resource and we see a collection of all the other books they've written. Maybe we even see a group of fans, again, another collection, and each of those fans are a resource. Clicking into a fan resource, we see a collection of their favorite authors and books. Everything is a resource. Let's change gears. How about an image sharing application on your phone? So we have user resources and those users post photos, which are resources, and those photos can be loved. So there's a lover resource, maybe there's an album that could be created. There's an album resource that contains photos and albums have a collection of contributor resources. Turns out almost everything we ever want to build can be expressed in terms of resources and collections. Most of what we want our applications to be able to do to the resources can be expressed through the unfortunate sounding acronym CRUD, and that stands for creating, reading, updating and deleting. Now, as a user of the ebook site, all we did was a bunch of reading, no pun intended. I actually did intend that one. We were reading, right? Just getting information to display it like we retrieved the author page, we made a read request. The web browser used a get request to the specific author page. The RESTful API follows the same logic, your program sends a get request to a URI. Then the server responds with data and of course all the HTTP headers you've come to know and love. The body is typically represented these days as JSON or JavaScript Object Notation. JSON provides a great way to structure and nest your data. Every programming language that I can think of provides some means of turning a JSON string into a native object. The content type is typically something that you can specify in your request if JSON isn't your thing. If you recall, there are other HTTP verbs available. These verbs are used in REST APIs to clearly state the intention of your request. Wanna add an author? Host to the /authors endpoint and send the data that you want to update in the body of your request and these fields will be defined for you somewhere. Wanna remove an author? Send a delete to that specific author resource. Updates typically support the patch verb, and you'll see we're able to represent our CRUD needs, the create, request, update and delete using HTTP methods. Pretty cool, right? What this means is that you can interact with any application out there that's exposed their REST API. You could grab data, remotely automate tasks, and even smoosh together different services. This is called a mashup, and here's the thing, there are a ton of APIs available, just about anything that you can imagine, and if they're truly RESTful, they'll all feel pretty much the same. You can build anything, there are services that allow you to do incredible things with just a few simple API calls. So now the question becomes what are you gonna build? So why don't you take a quick break and when you come back, let's explore a RESTful API together. We'll take a peek at how to use the music streaming service, Spotify and their excellent RESTful API. (upbeat music) You have some newfound understanding of how webbased APIs work. I walked you quickly through some imaginary REST APIs and now I'm thinking it's time that we get a little more specific. Why don't we go exploring together? Some of these REST APIs allow you to give it a try from the comfort of your very own web browser. One of my personal favorites that allows for exploration is the streaming music service, Spotify. So here I am at spotify.com. Now, a quick word of warning, it is going to look different. I guarantee you this site is gonna look different because they're always making things better for us, for us Spotify users, us lovers of music, and as well us developers. So I want you to try this. When you go to a site, any site that you want to, you'll see here that this is really nice, Spotify's letting us kind of test out what it feels like in the web, on the webpage. But if I scroll down to the bottom, that's typically where they hide nerdy stuff. Now, I knew this was here, but if I didn't, I would look around for something like this, this Developers, and I'm going to click into here. Oh, I cannot tell you how good it feels as a developer to end up in a place where it feels like you're being taken care of, right? This is so nice. The Spotify for Developers, it looks like it was thoughtful and I can tell you that it is very nice. It's a very nice tool. You can scroll down, you can see all sorts of stuff. They give you some examples of what you might want to do, right? What could you build with this? So you could find out like different things, like you could use the API to see the beats and the sections and the bars. I think that there's a way to figure out if a song is danceable or not. So maybe I could import dancing. We'll see. And if I scroll back up to the top here, you'll see that there's these different headings. We've got this Discover, I think this is great if you're going to explore things, we have this Docs, you'll see that there's all types of different, actually, APIs and SDKs, software development kits, which are APIs, which allow you to do different things. You'll see that there's ones for iOS, there's ones for Android. What we're gonna be focusing on is the one for the web APIs. So if I click into that, we'll get a nice overview of what this is. I'm gonna blow this up just a little bit. So you'll see based on some simple REST, representational state transfer principles, that's what we're doing, that's what we're going through. We're going through our scavenger hunt. We're going through that. There's a Spotify web API that returns JSON, JavaScript Object Notation about music, artist, albums, and tracks, right? So that's awesome. That's great. So we can see all sorts of different stuff. It opens up at this api.spotify.com is the specific URL and then it has a set of endpoints with each unique path, right? Each of those URLs that we were looking at before, there is a way to get specific data. So you could do this thing where you authorize. So, I could be a user, you could see what I recently listened to. I could have a playlist, I could add to it. But in order to do that, you need to have authorization to be able to do that. You don't wanna be able to just add to anybody's playlist, right? So there is some authorization that's available and we are not gonna do anything that requires that here. So if you keep on looking down here, you'll see that there's, it's based on those REST principles and you'll see that it does get to retrieve resources, right? And there's the post to create resources, and again, resources here are songs and artists and tracks. Maybe the resource you're creating here is one of those playlists that we talked about. You can change using a put and a delete will delete the resource. So awesome, right? So it's using REST like we saw. You'll see that Spotify uses this URI style. So it's a Spotify track and then it has this unique ID, this Spotify ID. This will make more sense as we dig into it a little bit more and then you'll see that there's always this Spotify URL that allows you to see what it was. And it will show you this as well. As we said, the responses come back and they are a JSON object and we're gonna be looking here at a tool in the future called Curl, which you can use from your command line. That's what this dollar sign here is talking about. I'll show you all this, but basically it's saying that there's a lot of artists that come back. You don't want all the artists in it, it will come back paginated and of course, you can use caching. We'll take a look at that here, you can see if the thing has changed or not. So we'll take a look at that and basically the response that comes back, if everything's good, it's gonna say a 200 or these, these 200 level accounts. And then there's bad requests. So if you ask wrong or maybe it wasn't found, that's the 404 or unauthorized, if we try to do one of those playlists, we get an unauthorized and there's also if you're a developer, you never wanna see this one, it's the 500. It means that you made an error on the server side. We won't be doing any of those 'cause we're just gonna be hitting somebody else's code. Cool, all right, so Spotify offers the ability to, you can look at this and you can build your own curl request, but one of the really nice things that I love about their API, and you'll find this happens often, if we scroll back up here to the top, sorry if I'm making you sick there, we're gonna jump in here to what's known as the console. Over on the left are the things that we can do with their API and one of the things I wanna do first is I want to search and you can see it's making a get to the search endpoint. So I'm gonna go into there and what's really nice is it's set it up so that we can kind of build the query that we're looking for. So now we need to decide what we're gonna do. I think probably the first person that I would ever search for, the first artist I would search for. And you can see that here it's showing the different values of what that is. I would probably search for Beyonce. I mean, right, wouldn't you? And I could choose, is that a track or an artist? So the type there is important, and if I type artist, you'll see that what's happening is you'll see the curl here is changing, it's changing the, it says the cue is the Beyonce. So that's one of the parameters that we're passing into the API and artist is here. And you can see there's different things that we could do here. What's really important is that it needs to have this OAuth token. Now what's nice is we can build one of those even if we don't have a Spotify account. So I'm gonna do that. I'm gonna click this Get Token, I am not currently logged in and I actually don't have a Spotify account yet in this user. I do have a Spotify account. I love Spotify. And this is asking, basically what you would do is you would create a specific OAuth token. If you were ever to use this API outside of where we're doing this right now, you would create one of these tokens so that you could log in later and you say what it is that you want. So here's the playlist, right? We don't, we're not gonna do any of the playlist stuff, we're just gonna do a search. Maybe we'll look up some of Beyonce's tunes, but, so I'm gonna go and I'm gonna click this Request Token. So now it's asking me to either log in with my Spotify account, which I can, or I can create a new one, and let's walk through that just in case you don't have a Spotify account already. Let's create a new one. And this will be at my developer account here. So I'm gonna put in my email. So my email, I don't know if you know about this, but if you use Gmail you can do a little plus sign and it will still send to the left side of your Gmail. So I'm gonna do at Spotify sign up and that way any emails I get from here, it will have that. And it's kind of a way to let you have multiple accounts. And I think, so again, my Gmail is craigsdennis@gmail.com, but I'm gonna do SpotifySignup@gmail.com and it will go to my Gmail. It'll just kind of ignore this, Gmail does that for you. It's pretty nice, right? So I'm gonna put in the same password as my luggage, which is 1, 2, 3, 4, 5, 6, just kidding. And what should we call you? Oh, you know what? I love it when you call me Big Poppa, that will appear on my profile, I am ready for it. And let's see, it is my birthday on November 19th, 19. Let's see, what do I, I think, wouldn't it be nice if I was born in 1999? What is your gender? Oh, this is nice. How nice. This is like super inclusive. I love that this is so inclusive. It's like somebody at Spotify went and talked to their people and listened to what people wanted and they included people who identify as nonbinary or other, or prefer not to say. So like wherever you sit in that I love and hats off to you Spotify for being inclusive, 'cause inclusivity matters. Share my registration data. Sure, why not? I am not a robot. I don't think I am. Oh, oh no. The images with bicycles. That one's got a bike. That one's got a bike. That one has a bike. Oh, what is that garbage there? Is that, this is a bike lane. This is a bike. Okay, here we go, please. Okay, I am not a robot. Thank you. All right, so I'm gonna click Sign Up. Oh, I am male. I am male. So here we go. That's how I identify. All right, I'm gonna save that log in and I am going to log in with it. So here we go. All right. So it's asking me if I have access to this developer console and it'll see my logged in as Big Poppa, here we go. And now you'll notice here that there is this token here, right? This is this OAuth token that got created for me by Spotify and it's putting it into this console for me so it can share it. Now you never wanna let your token out. If you get a hold of, somebody gets a hold of your token, they can do stuff on your behalf. And I realize that this is on a screen being recorded and I'm going to get rid of this token here in a bit. So you will not be able to have it. So I've got this token, it's filled out here. I'm gonna click Try It and we're gonna do a search for Beyonce. Let's see what happens. So you will see that we got some information back. So we got a list of artists, 'cause that's the type that I searched for. And this is the search that we did. We'll see some external URLs and we think that this is probably her. I'm gonna see, I'm gonna grab this really quick, but you can kind of see how things are laid out here, right? So this is my Spotify URL for that. Let's see if this is her, this looks like her. Yeah, yeah, definitely. So, great. "Crazy in Love," "Cuff It." I haven't heard that one yet. Awesome. So this is Beyonce, great. So we got her, we found her, we used this search. It has, shows how many followers she has. Wow. 32 million. Good job. And it tells the the genre. So we can do all sorts of really cool stuff with this. And it's here, you'll see that I'm getting a URL, I'm getting a link that will open up her specific artist page, right? So, here is her ID. So if I take her ID, I'm gonna grab this ID and I'm gonna come over here to Artists and I can come in here and I can show all of the artist's albums. So you'll see it'll be artists/ID/albums. Let's see all of the albums that she did. But let's look at that in JSON format. So the artist that I want, I'm just gonna pipe that ID in there from before, right, now it still has my bearer token. The console has done that for me and I can go ahead and do Try It and we should see that now, it's gonna return back albums, right? So we've made a get request to the albums and I can see all of the albums that she's had here and we can see where they're available in different markets as well. Looks like she's available in lots of markets all over the world. Who runs the world? All right, so here we go. We are going to look, let's see, these are albums. That's the artist there. That's the type of the artist. Let's get one of the albums here, let's make sure that we got it. So you see that it's got different things like I could get access to maybe the image of what this album is. So let's do that, I'm gonna post that here, open that up and let's see, there she is on her horse, her magical horse there. So that's pretty cool, right? This is awesome. I can get access to all sorts of information about an artist I can get by their ID. I can go and find all sorts of different things that I wanted to do, right? So, if I knew an album too, once I have the ID, I could get the ID, I could get the tracks, all sorts of amazing things. And then there's these playlists, right? So you can add a playlist, if I wanted to, I could post to create a playlist. Now of course I need to authenticate to do that and that's a little bit of what we're doing here, but I could add, put together a playlist for everybody to do using this API. And again, when we are looking at the artists, when when we're looking at this get artist, it's showing this curl command and we're gonna take a look at that here in a bit. But I just want to take a little bit of time. I want you to go and take a look, go back to this Discover section and kind of get inspired by what's available, right? So you can look at, there's these different things where you can, I was right, you can check and see if there's danceability of a song. You can go and find a track and is it danceable and you know that Beyonce's is, the songs are gonna come back very high in the danceability thing there. But lots of powerful things and there's lots of cool examples that you can do that people have already gone and built. And you can take a look at how they built it and how they use the API recommendations. This is awesome, really this is like super wide open to you and you can do all of this because of the APIs that they provide. Pretty cool, right? You can get access to all of Spotify's music library and you can build tools that extend their platform. I highly recommend that you go and take a look at what other people have built using these APIs. It's super impressive. Did you notice how fast those results came back? How could it do that search so quick? Oh wait a second, does it even need to? Those results don't change all the time. It's not like Beyonce is dropping a new song every minute, though I wish she would. Those results are definitely cacheable, ding, ding ding. Cacheability is also available on the client and we'll get to that here in a bit. But this is a great example of a layered system. I'm almost positive that Spotify has set up things so that it returns the same JSON from its own server side caching mechanism. It's not rendered that on every single request. As a user of the API, I don't know how it's doing that and frankly, I don't care. I want it to be available and fast when I hit that specific URL. Beyonce definitely appreciates how fast the results will return. She might even take that API dev to Red Lobster. Let's go ahead and take a quick break, during this break, I'd love for you to move around and think about what you might be able to build with that Spotify API. For instance, while I was using this API, I had this idea pop up. When I'm at a music festival, I often have a hard time deciding which band I should go see, there's so many. Now I would love to have an app suggest to me which of the bands that are currently playing I would most likely enjoy. You know, based on my listening habits, I'm pretty sure that you could build that just with the Spotify API and using a list of events of the bands that are performing. And if you do end up building that, share it with me 'cause I need it. What other interests do you have that provide an API that you can use? Check the notes for more ideas. Now, after you come back from your break, let's dive a little deeper and make use of an API using our own tools, see you soon. No really, take a quick break. Seriously, it'll do you good. No binging. (upbeat music) While I realized that exploring an API on a website is informative, it might not feel like you're actually using that API. I think the next logical step in exploring is actually making that request yourself from your computer, not from a website. Now as I pointed out in the Spotify docs, there were examples that were using a command called Curl. Curl is an open source tool that is used to send data back and forth and it runs locally on your computer and it's awesome for poking around at APIs. What do you say we explore it a bit? Okay, so we are back here on our Spotify page and we see that there is a command here that says Curl. Curl is a command that we can run from our terminal. Now if both of those terms are new to you, command and terminal, this is a great time to head over to the notes and learn about what the terminal is. So my operating system is a Mac and it has an application on it called Terminal. So I'm gonna open that up, Terminal, and in fact, I'm gonna make this a little bit bigger. Let's go ahead, let's let it take up the whole screen, we're gonna be in here for a little bit. So I'm gonna type Clear and clear my window. All right, so this terminal allows me to perform actions on my computer. Like I can make it do text to speech. I can do Say and I can say, "Hi mom." Hi mom. And it says, "Hi mom." And the Windows operating system has a terminal as well. And while it's a little bit different, they're actually pretty quite similar. But check the notes for more on this. So what happens is I write the command and then I pass in values for the parameter. In this case, it's "Hi mom." Now, note that I used quotes there because I wanna pass one value, even though there is a space, if there was a space, that's kinda how you separate things. But with the quotes it's saying this is one value that I'm passing in. We developers spend a lot of time in our terminals, so if this is new to you, I want you to remember that it was new to everyone at one time. So please take your time and don't let this get you too frustrated, you've got this. So I already have Curl installed. I'm gonna just go ahead and make sure that I do by typing the word "curl," and if I see this, I could see that I could type curl and then the command "help." Now if I didn't have this installed, if this came back with like, I don't know what you're talking about when you type curl, the word curl, that's okay. So we're gonna head over to the notes and you'll get sorted there. But the starting point, where I want you to go is curl.se. So you'll come to this page, you'll see this as a command line tool in library for transferring data since 1998. And that logo sure feels like that, doesn't it? It does all sorts of things. What we're really concerned about is this HTTP, right? We're going to use this from the command line to get access to a URL. So if you don't have curl on your command line, go ahead and pause me and check out the notes for the best way to get this installed on your computer. There's a lot of different ways to do it. If you come here under Download, you'll see that there's different operating systems. So you've got your Linux and you've got your Mac OS. And if you come down here, you've got your Windows. So there's different ways of getting things installed. So go ahead, take your time, get that installed. And when you come back, I want you to try this. I want you to do this thing with me. So I'm gonna go back to my terminal and I'm gonna make sure that it works. The way that I always like to test is I like to go to icanhazdadjoke.com. How do you get a baby alien to sleep? You rocket. Oh, so good. Anyway, that's how you do that. That'll let you go and it's gonna hit that website and it's gonna give you back a joke when you're ready. So now that we've got our curl up and running, we've got our successful dad joke, let's go ahead and run that command from Spotify. So I'm gonna come back over to my Spotify thing where I was running the search. I'm gonna make sure that it's still working actually before I get started, 'cause these tokens can expire and depending how long your break was, it might have expired, but mine is still working. So I got this back here and I should be able to get this from my command line. And what I'm gonna do is I'm going to copy this, I'm gonna highlight this. This is a development practice known by US developers known as copy pasta. So I'm going to copy this and I am going to go back to my terminal and I'm going to paste and this long list of things here, what this is doing is just saying, hey, I wanna make a get request to the api.spotify.com/v1/search. Remember, that's where we were at. We were searching and we're passing the query string of Beyonce and the type of artist and we're telling it, "Hey, I would like to get back JSON and I am sending you JSON," even though we're not actually sending JSON. The default has that there and this is an important one. This is sending you a header, right? The "H" is a header and authorization. And this is that long token that we had there. Now if all is working, when I press Enter, I should get here locally on my machine that same list of data that we did and I did, check that out. So what I'm gonna do is I'm gonna come back up here and I am going to grab, wow, there's a lot of information here, right? When this comes back, I'm gonna grab her ID. And so I remember that when we were looking at it, it was down in here, this ID, is this the right one? Is that the first one? So we got items, no, this is her ID here, this is her ID. It starts with a six, VW. So I'm gonna copy that and I'm gonna use that. I'm gonna go back and remember I'm gonna go and I'm gonna look, I wanna see what albums she has. So I'm gonna come into here and I'm gonna remember, I'm gonna paste this URL here, and I'm gonna run this, make sure that that's still working. I'd like you to go ahead and pause me. I think I'd like to see can you get her albums locally on your machine? Can you go ahead and make sure that you can do the same Get Artist, see all of Beyonce's albums on your local machine? So here's what we'll do, you give it a try and if you, once you get it printing locally on your machine, you can let me know and then unpause me and I'll show you how I did it, okay? Are you ready? You got this. Pause me. (upbeat music) Cool. So how'd you do? So here's probably one way that you could have done it is just copied that, right? Copy this whole thing and pasted it. But what I wanna show you is that we have access to, we know what these URLs are, right? So we know that there's this v1 artist and in fact, we can see that there is a get of /v1/artist. And then you can actually pass their ID in the URL there, right? That's what this ID is here. So, let's just go back. I'm gonna show you a little trick too. So, I've got her ID copied still, so I could have just, just ran that query and copied the curl and pasted it here. And if you did that, you did it right. I just wanna show you a little bit more of what else, how else we could explore. So I'm gonna press the up arrow and you'll see my cursor's moving here. I'm gonna press the Option key on Mac. I think you're gonna press the Alt key on Windows. You can jump around like this and I'm going to get rid of what's here, and I'm gonna say v1 artists, right? So that's the collection of artists. And I have that specific ID, right? So there's the ID and I'm gonna press Enter here and you'll see that I got back Beyonce, which is awesome. That's what I did and then remember, the artists have, I'm gonna go to the front of the line, it's Control+A on Mac, and I'm gonna switch this so artists have, this is specific artists, so Beyonce, and we wanna see Beyonce's slash albums, which is what the console would've generated for you. But I just wanted to show you that you can kind of navigate and move through and you'll see that there's a bunch of different information that comes through here. It's kind of hard to see, right? So, kind of hard to parse. And this is something optionally that you can do. So I press the up arrow and I'm going to press, pipe that into a tool called JQ and you'll see that it comes back very nice and pretty, right? So this is something that is very nice to have and I piped that. That's this, the symbol above the Enter key is this pipe symbol and it allows you to take whatever happened in this first part of the command and take its results and put it in this part of the command, which is super cool. And again, this is in the notes. You don't need to, you don't need to worry about this, but I know that I can query things. So I can say that of the items, I'm only interested in the name, the .name from each one of the items. And this is a little query language that's attached to this JQ program. You don't need to do this, this is just something, if you're doing it from the command line, it's something that we do that we could kind of hack around with a little bit and you'll see I can get all the lists of her albums and that's pretty cool, right? That's powerful, and if you are gonna just start poking around and moving around with the URLs, one thing I wanted to make sure that you're cautious of is if we come back and we take a look at the console page here, they do a nice trick for you. If we're back here in search, like one of the things that I wanna make sure I know that Beyonce has this song that's like something like, who runs the world, right? Who runs the world? Girls. But I don't remember where, what album it's on. So I'm gonna search for a type track. Now, note that my query has spaces here. Now what's happened here is it's done this URL encoding. So like if you were trying to mess around and work with the search, you'd wanna make sure that whatever you did, you passed that with those plus signs there. So I'm gonna run that curl command and we'll see who runs the world, girls. And I am going to, I see there's this open link here. So I'm gonna go ahead, I'm gonna open that. Let's take a look and make sure this is the right track. I'm pretty sure it is, it is not the right track. What is this? Femme phan? Maybe it's some other, some others. So let's take a look. Well, that's interesting. So, oh, I just went to the bottom instead of going to the top. So I should have went to the very top of these results or I should have pulled, probably pulled the name out. Rockabye, baby. There's a Rockabye baby version of this. Whoop, okay, so when the color stops, hope you're not getting sick of all this scrolling. So Beyonce is the artist that we want. So this is the one, we want to hear this song. Let's see if I got the right one this time. This is just something, you know, there's a lot of data coming back here. It's kind of hard to do, to use on the command line. Sometimes I'm a little cutsy like you just saw. Here we go. Let's see what happens. Let's make sure this is it. There it is. There's Beyonce. Not the song I was looking for. Oh yeah, it is, "Who Runs the World? Girls." And now I can listen to that. So it's like, who runs the world? Girls. It's kinda like who runs the terminal? Curl. Boy, that was a big setup just to make that joke. I hope that you enjoyed it. You can has dad joke. Curl is an awesome way to explore APIs and you'll find that often, just like we saw with Spotify, APIs will use Curl in their docs to show you how they work. Spotify is just one API and there are so many companies and services out there. In fact, some APIs are the product. Like that's what the company's selling to us developers. So now that we've been building up those muscles, why don't we take a swing at another API? Let's use a different API, this time let's use Twilio. Twilio is a company that loves APIs. In fact, that's what the company started as more than a decade ago, just a set of APIs. It started as abstracting away communication channels. And by that I mean any way you'd ever possibly want to communicate with your users. Wanna send a text message? There's an API call for that. Wanna make a phone call? There's an API. Send an email, a WhatsApp message, literally whichever way you want to communicate, there's an API for all of them. Developers embed these APIs into their apps and I'm pretty sure that you've probably used it without even knowing you were. Now, nowadays there's a whole suite of products that Twilio offers that they saw their customers needing. But under the covers it's still these APIs that are powering everything. I need to be a little upfront here with you. I love Twilio, I mean, I love it so much, I even applied for a job with them and I got it. But even if they didn't hire me, I know that I'd still show off how powerful their APIs are. I mean, with a single command, you can send a text message. I remember when I first did that, I was like, whoa. Like that level of abstraction is amazing. I mean if you've never thought about it before, what even is a text message? I mean, I know I have an app on my phone and I can use it to communicate with literally anyone else. But how does that work? Like there's all those different cell carriers and standards and phone numbers. I mean, I have no idea. And with Twilio, I don't need to know. That's the beauty of this API. It just works here, let me show you. All right, so here we are at twilio.com and again, word of warning, this is going to look completely different from my right now to your right now. So please make sure that you check the notes for anything that might have changed and is specifically about this flow that we're about ready to do 'cause we're going to sign up for a trial account. So I'm gonna click the Sign Up button here and this is going to look completely different. I know because our team is constantly making this better. But the one thing that I wanna make sure that you know right now is that you see that there is no credit card required and it is a free Twilio account. So I'm gonna put my information in here and I'm gonna use the same trick that I used before where I do plus and I'm gonna say, "APIcourseV2@gmail.com." So, the plus sign there again, the little Gmail trick, we're gonna go ahead, I'm gonna put in my password again. 1, 2, 3, 4, 5, 6, my luggage. How many times can I do that joke? And then I gonna do this accept, must be 16 or more characters. Okay, there's some password requirements over there. I think that's 16. All right, here we go. Starting my free trial. I'm ready. Let's do this. I'm definitely gonna save that long password 'cause I need that for later. All right, so I have now should have been sent an email. So let me make sure that I got that email and I did, I am going to click the link to verify it and here we go. I'm gonna verify my phone number to verify I'm a human 'cause all humans have phones. So we're gonna do (432)5274274. Please don't call too late. I'm gonna try that. I'm gonna click Verify. All right, so I got my verification code. Hey that came very quickly. Well that's wonderful, my verification code is 017869. Hopefully your code's different than that. Wouldn't they be funny if they were all the same? All right, so here we go. So which product are we here to use? We're gonna use SMS. We're gonna use the SMS messaging product and what do we plan to build? Let's see the, of course, these questions are gonna be different. What are we gonna do? We're gonna build, what? Build something else. We're gonna build something else, how do we wanna build with Twilio, with code, right? So we are gonna end up writing code if we want to with minimal code on top of code samples or no code at all. So, definitely don't need code to build over here but I'm gonna say with code 'cause we're developers here. So what is your preferred coding language? We're gonna do JavaScript even if it's not, we're gonna be doing JavaScript for the rest of this course and I do want to host my code on Twilio, which is nice. There's a nice serverless option. These options, like I said are totally going to change. Just try to answer them as truthfully as you can. So, and my building country is United States, which is true. And I'm gonna get started. I'm gonna go ahead and walk this. I guess let's go ahead and so we'll I can explore products. There's way more products that are available than you can see here. This is what got built based on the menu of what they thought, but if I ever want to, I can come to this Explore Products and get more, we probably won't need to do that 'cause we filled out what we're gonna do. And this is where you can get access to your logs. I'll show that off here in a bit. If there's any problems you'll be able to find them there. Manage your account keys and build trust with your customers. Yeah, we can build all sorts of different things in here. We probably won't need to do too much here 'cause most of the keys that we have are available to us right from this page that we're on actually. So we'll keep going and I can see the billing and again, you're in a trial account and I think you get something like $15 to try with. So we'll be sending a text messages using that trial. Dollar dollar bills, y'all. So, here we go. And then you can switch between products. So you can have multiple accounts, right? So if you wanted to come and like explore a little bit, do your own personal thing, maybe do something for work later, up to you. There's a 1550 is what we got. All right. So, and then I'll click Next and then I can, anytime I want to, I can look at this tour again to help navigate around, which is really nice, beautiful console. So we could definitely go ahead and the first thing that we wanna do is we want to get a Twilio phone number. So I'm gonna do that. I'm gonna click this, Get Twilio Phone Number. And I am so glad that this happened to me. It says that this account has been restricted from provisioning new phone numbers, which means that thinks that I might be spam. And you know why it is, it's because I put that Gmail account with a little plus thing there. So if this happens to you, I don't want you to feel offended or anything like that. I want you to check the notes for the latest ways to get around this. And also I'm going to go right now and I'm going to email compliancereview@twilio.com and I should get that up and running. If this happens to you, go ahead, press Pause, check the notes here for what to do. And I'm going to actually do that. I'm gonna press Pause here. I'm gonna get my account able to get a phone number and I will see you back here in one second. All right, so I got all sorted out. So I sent my email to the compliance folks and I was able to say that I was doing a personal account and I'm learning how to use these APIs and they were able to let me get in here. So what I'm gonna do now is when I click this Get a Twilio Phone Number, we're not going to see that message 'cause I'm coming in and I've got a new phone number and it automatically gave me this one, this one here, this 561. It went away really quick, but it's down here. This is my Twilio phone number, this (561) 8165433. Now this number is mine, which is awesome. I can use this message, I can send messages, I can receive messages, I can do all sorts of things with this. I can make calls, I can receive calls. This Twilio phone number is mine to play with. I think we should do just that. We should send a text message. Now before we get started, I wanna make sure that you know this stuff, you are on a trial account. So there are some limitations. You can only send messages and make calls to verified phone numbers. So when we set things up, we've verified, like I'm able to send a text to myself because I verified my phone number. I mean, and it will say, "Sent from my Twilio account," beforehand. And there's more things about your trial account too if you wanted it to get into that. So, check the notes because this very well could have changed, but check the notes for more on this. So let's do it. Let's send a short message service, an SMS. So I'm gonna click here on this Docs and Support and I'm gonna click this, it's gonna open up, I'm gonna go these developer docs, these developer docs are some of the best that are available out there. I want you to see these. So we're gonna come in here under SMS 'cause that's what we're doing, right? Short message service, and under here, under these, these sides on the docs here, you can collapse these. So I'm gonna come in here under API reference. I'm gonna go to this message resource. Now this is an API, right? So we're in the API reference. So the API that we want to do is we wanna be able to send from, and we wanna say from the phone number that we just got and we wanna send a message to my phone number, right? So we're gonna do that and you'll see that over here on the right, there are things that you can do that show you what you can do. So with this message we can do all these different things. We'll start with creative message, we'll create a message first. So we're gonna go into this, create a message and there's these different languages here. So we have no JS and you can see the style that it looks like, we'll take a look at something like this here real shortly. This is a helper library that wraps around the API. So you don't need to do the sorts of things that we're about ready to have to do. You can do things a little bit more cleanly. But what we're gonna look at is Curl, right? So here's our friend, Curl. We're gonna jump over here to Curl and the docs have this really nice thing where I'm able to actually copy this. So I'm gonna click to copy this and I'm gonna pop over to my terminal. Now again, I'm running on a Mac. So there's a couple of things here that this is assuming that it's going to be okay because I am running on a Mac. It's going to assume that these slashes, see these slashes at the end here, these on a Mac terminal, these show that we are in the new, we're making a new line available here. And also you'll see that there's these account SIDs and these Auth tokens. This dollar sign Twilio Auth token, dollar sign, Twilio Account SID, in my terminal, on my Mac, that is what's known as an environment variable and they've been set. Now I don't have those set currently because I just built this account. So what I'm gonna do is kind of bad practice actually, I'm gonna actually put my real information here for us to use. So, back here on our console, on our Twilio console you'll see that I have this thing here called this account SID or String Identifier. So this is my ID, my unique ID for the account that I just created. So I'm gonna go ahead and I'm gonna click this Copy button. So I copied that, I'm gonna come back here and I'm gonna move my mouse and I'm gonna remove right here where it says account SID. So that's string identifier. I'm going to paste this. So that is the way that Twilio is identifying who I am. I'm gonna go backwards through the rest of these. And so if you're watching here on Windows, let's just go ahead, let's get rid of these, these new lines here. So I'm gonna just put them all on one line, we can handle that, we'll do that. So I'm gonna get rid of that line and that way it will work completely on both Windows and Mac for what we're trying to do. So I still have my account SID here, so I'm gonna keep on backing up here and I'm going to get rid of that line, there we go. And you'll see one more time here, there's the Twilio account SID, that string identifier for my account was still present. So I'm gonna paste that there. So now the API call that I'm doing is to that specific account, it's due to this messages and you'll note that it's doing, now it's doing a post. So because we're creating something new, right? So we're using post to create a message and you'll see here that it says from equals and the number actually there for the from, we want that to be the Twilio number that we just got, right? So that new one that we just got, we're gonna say that is sent from, let me go back, I'm gonna copy my Twilio phone number, right? So I've got my 561 number there and I'm gonna paste that here. So you know from and this plus 561, that's a US number. So it's got the, it's called a 10 digit long code, 10 DLC. So it's (561)8165433 is the number that I just bought. And we're gonna say by default it said, "Hi there," the body of the message, right? So we're, instead of that, whatever we're gonna do and note that this is all in quotes and we're gonna say, "Ahoy world." I don't know if you know this or not, but the first word, the way that we used to answer the phone was we'd say the phone would ring and you'd be like, "Ahoy?" And the other side would go, "Ahoyhoy." So we like to do that here a lot, at Twilio we say "Ahoy world." It's kinda like the hello world of this. So the body of the message, the text that we're going to get is gonna say "Ahoy world" and then we're gonna send it, I'm gonna send it to my phone number. So this is one of those numbers that you verified right when you created your account, you verified that you had a number. So my phone number is (432)5274274. Don't text too late at night please, and then the final thing that we have here is this Auth token. Now this is a very private key, right? We don't ever want anybody to have access. This is like that Spotify token that we had, right? We don't ever want anybody to have it. I am going to, I trust you and I'm gonna go ahead and I'm gonna paste that here so that we have it. So that is something that you never wanna let out 'cause now you could seeing this on my screen, you could use this, right? And you probably don't want anybody doing that. So you never wanna actually give that number out. You wanna hide that and we'll talk about how to do that more here in the future. But right now I just wanted to show you, we're gonna use Curl, we are going to create, we're gonna send a post to this URL here and you'll notice that ends in JSON. So that's what we're gonna get back. That's the way that it works. This is to my account, my account SID, you see it starts with this AC and we're gonna post using this data URL encode. So the way that the Twilio API works is it takes some parameters, it takes from body and to and the way that you pass those in curl is with this data URL encode and you pass what it is that you want to have go across here. So we're gonna, if all of this works, I should get a message back. I should get a text message on my actual phone that says "Ahoy world." Let's do it, and it looks like I'm missing a quote someplace. So where is the quote that I'm missing? I don't see a missing quote. I can go press the up arrow, maybe it will show up. Yeah. Oh, right. You know how many times I do that? The ahoy world, the exclamation point is something that you need to typically escape. So I'm just gonna say "Ahoy world" with a single quote there. So, if you're having that problem, sorry, that's what that was. So I pressed the up arrow to get my information back there and now if all is going well and I press Send, we should get a text, here we go. And so I got this message back, I got this and sure enough, here it is, I got it. And you can see here it says at the front of the body that it says it says, "Sent from your Twilio trial account," which is fine, we're in a trial account, that's totally fine, but I did and boom, I got it on my actual phone, I got that message, which is awesome. We now have the ability to send a text message from the command line, right? That's pretty cool. Let's take this a step farther actually. So we know that that API, when I did a post, I was able to get information back. I'm gonna go ahead now and I'm gonna do just bring that back and I'm gonna get rid of all of these parameters here. I'm gonna get rid of the from, the body, and the to and I'm gonna change, I'm gonna make that, I'm gonna do a get and let me show you what that looks like. So I'm gonna get rid of all of those parameters, I'm gonna keep that same URL and it still has my account SID there, right in there and instead of a post, what we're gonna do is we're gonna do a get, what we should do is we should get back all of the messages that are there. So I'm gonna hit this kinda like a message log, right? So these are all the messages that have been sent, which is awesome, here it is, sent from your Twilio trial account. So, and actually I can make this look a little bit prettier like we saw with JQ again, totally optional in the notes if you want it. Yeah, there we go. So you can see that I've got some information that's sent back here and you can see that the message that was sent in was sent outbound to my phone number to me from that number, which is awesome, right? And like I said, curl's a little bit challenging because it's gonna be a little bit different if you're in Microsoft Windows or if you're in Mac. I tried to make that as comfortable as possible but I you saw that I did run into a couple of things like I couldn't use the exclamation point and things like that and it's a little clumsy. So stay tuned 'cause there are more tools coming your way. Awesome job getting that running from your local machine. It feels pretty good doesn't it? What a cool skill you have now, you can send a text message from your machine with just a single command. Now believe me, this is just the tip of the iceberg of what you can do. There are so many more Twilio APIs available and now I know that you can explore them with Curl. For now though, let's take things another step deeper. Now I don't know about you but I'm a little clumsy when it comes to long commands on the terminal like we just did with Curl. When exploring APIs, I really like to lean on visual tools. If you don't mind, I'd love to show you some, that is, of course, right after you take a quick break. (upbeat music) There are a few tools that I rely upon when it's time for me to explore new APIs and I thought I'd share 'em with you. I used these to dive in and get my hands dirty and organize my learnings. One of the most famous tools and one that you've probably already heard of is called "Postman." Do you get it? Postman. In addition to being a pretty good pun, it's also a powerhouse of features. Postman started as a Chrome extension that let you make API calls and what it's turned into is a powerful enterprise ready tool with all sorts of bells and whistles and even shareable collections for the most popular APIs that are out there. It's jampacked full of features and in my humble opinion, you probably don't need all that just yet in your learning journey. There are entire courses on how to properly wield its power and I've linked to a few of those in the notes. There are other tools popping up all the time that allow you to explore APIs and store your notes. I like to think of these apps as the built in the vein of postman. There's a whole genre of video games that gets dubbed Metroidvania, because they're similar to "Metroid" and "Castlevania." Now these apps are Postmanvania, Postmanesque. Let me show you an example. I just bought this lamp here, it's rad, it's from Govee and it's got this app that I can use to control it on my phone. I can change the colors, right, and I can even make it dance to my beatbox. (Craig beatboxing) It also has an API. These are the docs here and as I explore these docs, I'm gonna save them in one of these postman esque tools that I've been using lately called REST Fox. Like here I can see all of the devices that are associated with my Govee account. And I set that up using this URL here and you'll see that it is a get request and I pressed Send and it sent the request and I got back the Govee devices that are associated with my account. This API requires a header and it's called Govee API key. And you'll see these double mustaches here that I'm using, this side little mustache thing. This is getting things from my environment, it's a special key that I don't want anybody to see. I'll show you more of those here in a bit. Now notice how this is a get, so I can send the request and you'll see that here's my response and I can also get the current state. So I have a different call here. I can get the current state end note that if I click Send here we can see that this is the color of my light currently and I can also turn it on or turn it off and I can turn it on and I can also change the color, right? So I'm gonna turn this to red. You don't have to turn the red light on, Roxanne. Pretty cool, right? And I have this here for me whenever I want to tweak things, when I want to come back later and when I want to use it in my code. Did you just have a light bulb moment? I quite literally just did. Let's see if we can't build one of these for the Twilio APIs. So if you'd like to get REST Fox installed, please check the notes. This is an open source tool and it's getting better every day. Now if you love it too, I highly suggest that you star it. If you click up here, you could go and you can actually check out the GitHub repo and you could see cute little Fox here and you'll see over here how it's tagged that, oh it's tagged REST client. I guess maybe that's a little bit better than my Metroidvania analogy. Maybe REST client's a good thing. API client, that's also a good thing. So there's lots of these tools that are available. But let's start using this one. So I've got REST Fox running here and you'll see I've got the Govee folder, which I can collapse. And typically what I do is group these by the API that I'm exploring. So let's keep poking around a little bit with Twilio. So what I'll do is I'll make a new folder called Twilio. So I'm gonna right click over here and make a new folder called Twilio. And now in here we'll create a new request. So I right clicked New Request and I'd love to explore more of the SMS API. So let's see, oh you know what? This new number that we just bought, this Twilio number that we bought, not only can it send messages, but it can also receive them. So we could send it a message. So let's do that. So let's go ahead and send a text to your number. Now if you forgot your number, it's over in your console. So if you come to your console and you scroll down a little bit here, you'll see My Twilio Number. So go ahead and send a text to your number. Now my number, I'm gonna send a number. It's (561)8165433. I'm gonna send it, "Yo." And there we go, it went and I ended up getting a default message back and we could change this, we could make, we could program this to do whatever, but I'll show that off later, but for now, I just want you to know that we created a new message by sending to this API and we can actually get it. And you can also find your phone number later here under this phone numbers. If you go to Phone Numbers, Manage Active Numbers, you can see your phone number and remember outside of trial mode you could buy multiple numbers. So that's an important thing to know here. So, all right, so we are going to look at the incoming messages. So we should do that, we should call the request what it's going to be. We'll call this incoming message log. That sounds good. And we'll click Create. Okay, so let's head over to the docs and see how we might do this with, so back in the docs here on the message resource, remember this is where we did the create a message. I'm gonna see if there's something else down in here. Ah, list all messages. That's a good one. But we don't want all of the messages, we actually want to filter it a little bit. So look here, we can do this by matching filter criteria. That's great. So we're in here, I'm under the curl tab, right? I could be in these different ones, but this is the example that we want here. I'm gonna grab this URL, you're gonna see all of this. So that's how they're filtering it. There's some stuff here at the end. I'm gonna grab all of this and I'm gonna copy it. I'm gonna come back over and I am going to paste it here in this Enter Request URL. I'm gonna paste the whole thing there. And it was a get request and the URL had some stuff in this query string that came afterwards. And a query string is, you know, defined by this question mark. So we don't want this date sent, let's get rid of this. And what's next? We don't want from, right, we don't. We wanna look at all the numbers that were was sent to, right? So this is the to here, is what we want. Now this 2B here just happens to be a percent 2B URL encode and happens to be a plus. And I know that and I just happen to know that without having to Google it but that's a little rough to know like how do I make a plus sign in here? Wouldn't it be nice if this tool just did all of this URL encoding for us? Like we didn't need to make this mess at the end? Well check this out. Here's query right here. This is what we want. So we wanna add this query. We don't want to have this whole stuff at the end here. We wanna put in to, we're gonna add one of those things there. We'll put in a to. So that's gonna append that query string for me. And I'm gonna put in, to my phone number, which again my Twilio phone number, which is over here in my logs right here. Actually I can, I'm gonna grab this number. This is my Twilio number. I'm gonna put it in the format that is wanted there in my REST Fox, here we go. So I'm gonna fix that and we're gonna get rid of this. Just wanna make sure that's 1561, there we go. Got rid of all those. All right. Now also remember that this was accounts and then it had account SID, right? So that's the ID for my account. And then it's under messages. There's a collection called Messages underneath this account SID. But what we want here is we want, that was using an environment variable from Curl, but this is also known as a path variable, right? A path parameter, so here, down here we have this path parameters. So the way that these work actually to replace them is if we go like this, if I get rid of this and I put a colon, what's gonna happen is we can, anything that's down here in this path parameter will replace what's here. So let's do that. Let's add this item. And again, that is Twilio account SID. So that's the name of the variable that's up here, right? It's colon, Twilio account SID, that was just what's there. Let's keep it 'cause that's what it is. And then we're gonna put our account SID there. So that also is on my console. So I'm gonna flip back to my console. And on the main page here, if you come in, you can come down and you can grab your account SID. So now I have my account SID, and I'm gonna paste that there. Awesome, and I think we're ready. I'm gonna press Send an, oh, we got an error. We got a 401 unauthorized, no credentials provided. Oh that's right. Of course, we want to log in. We don't want anyone just being able to see these messages. So we wanna make sure that we have some authentication happening. So I'm gonna head over to the Auth tab. You'll see that if I slide this back and forth, I don't know how much screen real estate you have, but you can slide these kind of around as need be. So I can, I'm gonna pull this and you'll see that when I do my little menu here collapses. So I'm gonna choose Auth from here, but that is also available in the header here, right? So like it's just a different view of it. All right, so in the Auth I'm gonna put in a basic Auth and I'm gonna put in a username, which is my username and then I'm also going to put in my password, which is my Auth token over here. And again, this is very private and you would never ever want to do this. You now know my Auth token. I don't want you to have that because you could do exactly anything you wanted to to my account now that we're there, and one of the things that you could do is see the messages that were sent in and look, there's my "Yo," my "Yo" message has made it in, awesome. So also I wanted to show you the request that happened. Let's take a look at that. You can see that what actually happened was it was a get that was sent with the account SID, right? And so that was the account SID that we used from, if we look back at the query parameters here, the account SID showed up there and then it automatically did a two URL encoded and if you look it put the question mark in for us and it did that percent 2B for us automatically URL encoded, very nice, right? And we can see the headers that were sent and we can also take a look. Let's look again at this preview. So we see that we had, the response came back and this is JSON, right? So we have a key called messages. And this messages has this, it starts out, there can be multiple messages here, right? So this is the start of what's known as a list or an array and then there's an object. And the start of the object is always done with one of these mustaches, and we call those mustaches 'cause if you kind of turn your head sideways, it looks like a mustache. So all between the opening mustache and the closing mustache is the information about the messages, right? So here's the, and there's the closing bit of my list. There's only one. This is the closing mustache there. And so part of the message that we can see, we can see who it was to, that's my Twilio phone number here. And we could see the from, there's my phone number there, please don't call too late, but that's my phone number. And I did say, I said "Yo" to it, which is awesome. So now we have this. Now this step is completely optional. This is something that I like to do is I like to take notes. All right, so there's this incoming message log. I like to keep notes and I put those in the description over here. And so let's see this returns all incoming. Well, let's be a little bit more, all messages sent to this phone number, right? And one of the things that I like to do is I like to put on the docs here. So if I ever come back and I want to find how was it that I learned how to do that, I can go and look and put a link there. So I'm gonna go flip back over to the docs real quick. And this is read a message with matching a filter. I'm gonna copy this link, I'm gonna grab this or click this here so that then it changed the URL up here. I'm gonna copy this and this is what I'm gonna store in my notes. Again, this is totally optional and this is just notes for you for later 'cause you could end up having a whole bunch of these and you might not remember how you found how to do that. If there's something specific or strange about the API that she wanted to know, I keep the notes in there and it's a just a handy learning tool and again, totally optional. So we've got our first entry all set and I think we should add another one. Why don't we create the send message one, right? So the one that we did before we sent messages, let's do that. So I'm just gonna duplicate this 'cause it's got a bunch of the information that I already need in it. So I'm gonna duplicate it and what I'm going to do here is I'm gonna duplicate and I'm gonna say "Send message," right? So when we sent a message before, remember it wasn't a get, it's a post. So I'm gonna change, I'm gonna change that from a get to a post. So now we've got this send message that's a post and the query string. I don't want to send a query string anymore, right? So remember wait, before when we did this, we sent it to using the data URL encode. In fact let's go, let's pop back over there and look at what it was that we did. So in the documentation over here we have this create a message resource. So, on the message resource page here, we can look and we can go to this create a message resource and there's some information about it. So you send this http post and you can see that again we were, remember before we were doing this data URL encode and we were doing this URL encoded. So it's this form encoding is what's happening here. And oh look, well a couple things actually there's a nice warning here. This says if you wanna send messages while in trial mode you must verify your two numbers. So if you wanted to send to somebody else, you could put them in this verified caller IDs if you wanted to, you could send to somebody else as well. Just there. That's how you do that. If you wanted to test or show somebody what you're building, that's how you do that. After of course, after you're not in trial mode, you could submit to whoever you would like to. So when we are creating a message, we must include the to, right? We need that and we need the from. So we'll do either and we'll do body and there's this media URL which means I can send a picture. Let's do that. Let's make it so that it sends a picture. Now when I am in REST Fox over here, I don't want to use the query anymore, I'm gonna keep the path 'cause the path is the same, right? So we're gonna do, we're gonna do a post to that same URL, Twilio account slash account SID messages dot JSON and we're gonna make a post to it instead of making a list and retrieving, we're going to create. So we're gonna go under body and for the body we're gonna make it form URL encoded. And what we wanna do there is we wanna send it to, so I'm gonna send this to my number. Again, don't call too late, (432) 5274274. No really, if you wanna call and get feedback, that's fine, I'd love to chat. So we'll do from, and that is my number again, this is my number and which was that number. So we can come here into the message log. We can go pull that number from the query string. So this is my Twilio number there. From is this value there and we are going to add the body, the body will say sent from REST Fox and let's add our media URL. And I just happen to have one of my favorite photos, which you will have to check out for yourself to know what it is. But it is a photo that I pick, if you will, that I'm going to send to myself. It's also in the notes if you want to do this as well, if you wanna copy that and paste that. So here we go. I am going to do a send. Now remember I'm also authenticated with my username and password 'cause that copied across when I did it. So I'm gonna do a to, from, a body and a media URL. So now I'm gonna go ahead and click Send and boom, we got our message back, right? So the response, we got a 201 created, right? So it was created in the body, we can see the body of our message. The key is sent from REST Fox, it's got some information. We can go ahead and get access to that message if we wanted to and it's got these actual media resources down here, which we can also take a look at. And we could, if we wanted to open up a whole 'nother one of these and explore and see what that looked like. But let's take a look at that in a new tool. Before we do go to look at that new tool, one thing that I don't love about what we just did are in my, in these requests, in these separate requests, these are duplicated, right? I've got this username and password. If I go to my post send message, I've got this username and password and they're duplicated there, which isn't great, right? That's not excellent. One of the things and one of the tools that most of these REST clients provide is a thing called an environment. And let's set that up really quick, real quick for this. So if I come here under this environment, here is my default collection and I can add a new environment, I'm gonna add one for Twilio. Now the way that these work are, they are JSON based. So this is, remember this is the start of an object. Now if you've never written JSON before, take your time, use some patience. One of the things that you could do is you could come in and you can put in account Twilio account SID, and you do the key and then you do a colon and you can see that I'm, this is unexpected JSON down here, it's helping me out. And now I'm gonna put in my account SID and again, let me go copy that one more time and I don't have to copy this anymore 'cause it will be part of my environment. It will be here with me, which is really nice. So come over here, I'm gonna paste that and now I want to add a new key. So the way JSON works is you put a comma after that, right? And I'm gonna put a new, the new key here and we'll do a Twilio account or Auth token. And again, this is, that can be, that key can be whatever you want it to be and we'll be able to reference it. So I'm gonna come and grab my Auth token and I'm going to change this, right? So that's a great use case of this is I don't want you to be able to, I am going to change this, right? So as soon as this, as soon as I'm done recording this, I'm gonna change my Auth token and that would mean that I'd have to go change each one of 'em. But now I have one place where it's defined. I have one place in my environment that's defined. So I have this environment here that says Twilio. Now instead of username I can do this mustache, mustache. And I can say Twilio account SID and that's the way the templating language works here. And then most of these REST clients and you can do Twilio token. So when you see that's what's happening. That is the environment, it's using the environment variables. I'm gonna go do that for here. And also I'm gonna copy my Auth token for here. And so now I only need to change that in one place in my environment and you can also use it here. So like not like before I can, I can also put my account SID here. So that will also make this so that it's shareable, right? So if I don't specify my information in here, I can share it. So you what you could do, and actually why don't you try to do it, why don't you try to add your Twilio phone number and see if you can figure out how to add to your JSON there, your Twilio phone number and then you could replace it, right? You could replace it here with your from, from your Twilio phone number, pretty neat, right? So that's a good, little trick that you could do in here. You could do your Twilio phone number, you could use it there too. So anything that you're using is something that you can kind of store there in your environment. And what's nice about that, let's make sure that it still works. Yep, it's still working. And let's make sure, make sure my, oh, I'm not gonna send another picture to myself, that's fine. So we know that this environment is now working and it's here and I don't need to go back and get those every single time, really handy. And what's nice is you can do these imports and exports and we'll take a look at that here in a bit. So when we get back we're gonna take a look in a different tool 'cause this is REST Fox and I know that you're probably getting ready for a rest. So let's take a quick break and then let's see if we can't retrieve that pic that I sent myself via this API. But let's do that in another Postman mania or REST client, right after a quick break, that is. (upbeat music) All right, quick refresher. We had just sent a message from REST Fox, a REST API client. Here's the body of the message we just sent from REST Fox and we actually sent across some media with it. You can see here it has this Num Media one 'cause each text message can have multiple medias attached. And if you scroll down here, you'll can see that there is this key of sub resource URIs and it has a list of an object here and one of the objects is for media. And what this will do is this will allow whatever's at this URL will give us the accounts for this account, for this message specifically, it'll give us all of the media that is listed. Now, typically when I have something that's this far out, we could actually add another one here. But I thought I'd show you a little bit of how my process normally looks in case we wanted to see what that felt like. So I use an editor called Visual Studio Code. It's free, it's available and this is where I do my coding from. So I start here, I start working on my coding. I would love for you to go ahead and download this because I wanna show you a tool that's inside here that will allow us to do a REST client as well. So go ahead and pause me, get Visual Studio Code installed and when you do come back and I'll show you something. (upbeat music) Okay, so once you get Visual Studio Code up and running, if you press Command+Shift+P, there is a thing called extensions. And this will do a little, if you type in Install Extensions, you can come here and you can see different things that are available. What I want you to install is a thing called Thunder. We're gonna do install a thing called Thunder Client. And it's this one here, it's a lightweight REST API client for a VS code. It's really powerful and the good news is, is it is Postmanesque. You are gonna feel very familiar when you take a look at this. So if you do it, you can go ahead and click Install. And what will happen is there'll be a little Thunder Client that will install over here like so. And just like you've seen before, there are these, this concept of collections and we can make a new one. So I'll make a new collection for Twilio and typically what I'm doing is I'm coding and I run into this API and I'm like, ooh, I wonder what this is. I'm gonna go explore it a little bit and I'll explore it right from my editor, right? So I'll write my code here and then I can come over here and just take a look at what was there. And so let's go back to REST Fox and I'm gonna grab that REST Fox that we had here, right? So we're gonna do that. I'm gonna grab that and I'm gonna come back over here to Twilio, I'm gonna make a new request. I get to name it. And this was the media check. Let's no, we're gonna do all media. All media for a specific message, right? So here we go, I'm gonna paste that URL in here and of course it's missing that first part, which was api.twilio.com. So again, this is the going for that account to those messages. I'm gonna look here at where it says Auth. So it says inherent authentication values from parent. This is a very nice thing and this is something that Postman has too that REST Fox doesn't necessarily have. We put this in our own environment, it's kind of similar, but you can make, for this collection that we built, we can actually do the settings for the collection. And if I come in here, I can set the Auth up here so I could do this basic Auth here and go grab my stuff. And so just a reminder in REST Fox, when we did that before we were in the environment of Twilio and I was able to grab the Twilio account SID, right? So let's go back to our code here and the Twilio account SID is the username and the password. Let's go back to that environment in REST Fox. The password is that Auth. There we go, we'll paste that there. Perfect. So I'm gonna click Save on this. And so now this all media should work. So I'm gonna go ahead, I'm gonna do a send to this and there we go, we got it back. And we can see there's a media list is the key here. And again, it's an array of those and this is the list of all of the media that's available. And so now look at this collection. So we have a collection of accounts and here's a specific account. We have a collection, that account has messages. That message has media and that media has an entry, a media entry, and that's it. This is what we're looking at right here. So something that's pretty cool. The way that this works is if I get this, I can get some metadata information about it. But if I get just a little bit of it, if I just go ahead and take this the way that, the way that Twilio works, and not all APIs do this, but if I do this without the extension here, I'll actually get back the picture that I sent. So I'm gonna do that, I'm gonna make a new little request here. So a new request, and we're gonna call this, get the pic, right? We're gonna get that pic that I sent 'cause we don't, still don't know what that pic was. What was it? Let's go take a look. So, again, at the end of this, oops, sorry. At the end of this, there is no extension, right? So I got rid of the dot JSON extension and I'm gonna put it the front here, HTTPS api.twilio.com. And the interesting thing about this is this pic is not authenticated and if you do authenticate, you end up actually having some problems. So I'm gonna tell this request specifically to not inherit value. So I'm gonna disable this so that it's not authenticated. So when I click this, if all goes well, we should see the pic that I submitted, awesome, and we do, cool. So it's a little big, it's a little big of a pic that was sent here. And we could take a look at some stuff here. We could look at the headers that were sent. So we can see a couple things. One of the things that I think is really interesting is when it says last modified, so the last modified date, if you have a request that has this on it, it means that you can use caching. So you can, when you make the request, you can actually say, if it's been modified since this time, do that. So I'm gonna do that, I'm gonna grab this. Let's just take a look and see what that does. So I'm gonna go to headers here and I'm gonna put a new header in here of if, and you can see that there's auto complete. So it's if modified since. So again, this is the request that I am making, I'm making this request and I'm gonna say if it's been modified since then, give me and otherwise let me know. And so the way that it lets you know is 304 not modified. So that's a status and you'll see that I got zero bytes back. So that is how caching works and what you can do to send this across. So, this is really powerful, right? I didn't need to set up all the other things. And it's kind of really a quick little look at this. I don't actually even need to do a collection. I can just do a new request outside of it and I kind of explore through and see how these things are working. Which ding, ding, ding, means we covered another part of a RESTful API constraint scavenger hunt. Using standard HTTP caching mechanisms like last modified and etags, a RESTful API should support caching. It's up to you to maintain the cache on your client and decorate requests, but this can come in really handy to avoid making unneeded requests. And those are the Postmanesque things I wanted you to see. I wanted you to be able to do that without diving in necessarily to do all of the Postman enterprise things that you wanna do, but I think it's time. I think you should feel comfortable enough that we can now look at Postman and see what we've already learned there. So I'm gonna go here and I'm gonna just do a quick, quick little Google search for Postman. And this is really nice. You can do this for whatever API you're working at with. And since we're working with Twilio, I'm gonna search for the Postman Twilio collection. So there's some docs on Twilio about it, but if you look here, there's this Twilio Postman on the API network. So this is important to know, there's a lot of things on this API network where they've built APIs for you to go and share. So I'm gonna click this and now note I'm inside of a web browser. Postman's done a really gorgeous job of letting you run inside of your browser. You also can run it locally like we did with REST Fox, but I'm gonna run this from my browser. So I'm gonna go into this messaging SMS and you can see there's all sorts of different things in here. It's a little bit hard to get to here, but you could change things. Put in your account SID, and all sorts of things. Like we saw, look, here's the double mustaches, right? And here's a thing to send an SMS and it's super cool. It's neat, right? And so you've seen this. Here's your authorization, the headers, the body, there's collections. And what's cool is somebody's already built these collections for you and they're sharing your stuff this way, right? So that's kind of nice. So there again, there's path variables, right? And the path variables coming up here. There's the call and account SID that you saw from before, here, somebody's using this as the start, the https API twilio.com and it's doing a post, right? So it feels very similar. So you're familiar with this. There's also a bunch of other things over here that it can do that could get a little bit distracting. And that's what I was trying to kind of avoid 'cause I wanted you to get familiar with it. But know that this exists. One of the really cool things that Postman does is if you click over here on this far right over here, there's this little code, it's like open and closed tag. This is really neat. So we have Curl, right? So we could see, this is how I would go ahead and do this and this, this feels familiar, right? This is how what we actually did, we did this curl statement, but check this out. You can do this in any programming language. So the trick here, the trick to remember is that any programming language that can make an HTTP request, like it has a client built into it, because these are all standard, the REST API, right? We're following these constraints that have been defined, it can generate code for you. So here's node JS using a package called Axios. So Axios allows you to fetch things. So this is what it would look like if you tried to write that using Axios. And if you look in here, you come down here, here it is in PHP with Guzzle, I don't know what guzzle is. I like that though, that's why I chose it. So you could see that it's generating this code for you. And if I copy this and pasted it into my PHP code or my Python code or my Java code, it would just work and that's really handy that is if the company that's providing the API doesn't have a helper library or an SDK, a software development kit, which we haven't looked at yet, but we're about ready to, Twilio does have one of those but if you were looking at one of these that didn't, this is a great way to get that code. So again, check out the API network, this Postman API network, it's cool. I think you're ready now to use this if you want to. But also feel free to use the other tools, explore the APIs in a comfortable way, wherever you might be most comfortable with 'cause there's all sorts of really fancy tools here on Postman and like I said, there are courses on how to take full use of all of the things that are available. Awesome job diving into all those tools, Postman is a super powerful tool and it keeps getting better every day. There are so many features that we didn't cover. We barely even scratched the surface. There's an entire course out there on it. Check the notes for a way to see that. We saw how to organize our request together into collections as well as share common and secure values by using variables. We learned how to add different values to request both informed values, query strings and headers. And we also saw how to navigate through various sub resources via clicking URLs. We even saw how to create actual runnable code from your request, while we were in the Twilio documentation, you might have noticed the code examples on the screen on that page. It's possible the tab between various language implementations and solutions. Many products offer what is known as an SDK or software development kit or helper library that allows you to interact with their product in your native language. As you can see, it abstracts away the REST API completely. Let's take a look at the Twilio helper library next. Before that though, just a quick reminder to make sure that you check the notes on this video. There's a link to a repository of built out collections that are ready for you to use. There are lots of great APIs to practice with. All the tools that we just looked at are great for accessing and exploring APIs. However, when it comes time you're most likely gonna wanna write some code. Now as we saw in Postman, you can actually generate code. All programming languages have some sort of way of making HTTP requests and as you know, HTTP requests are all we really need to interact with REST APIs. So writing that sort of code is totally fine, but you'll find that you'll end up writing a lot of what is known as boiler plate code. By boiler plate I mean code that is repetitive and almost always the same, just with a few tweaks. Many products and services have created a solution to help you avoid this problem. They're often called helper libraries or SDKs, software development kits. They'll be specific to your programming language. These libraries help make your code more concise and legible. They usually also provide additional documentation for your editor, which I find super handy. Let's go check out some of these helper libraries. Okay, so let's take a look at one of these helper libraries. Let's take a look at the first one that's here. So again, I'm in the docs SMS, create a message resource. I'm here under the curl tab currently, remember, when we did this, we went and we saw how to do this. We passed the from, the body, and the to, we passed in these environment variables as what this dollar is. And this dollar Twilio Auth token, their environment variables and it's also used here in the URL. So we had done that, we had done that with Curl. Now one of the really nice things about these helper libraries is they look very similar, but it's taken away this whole notion. So let's go here. I'm gonna go to this node JS. Now, quick word of warning, if JavaScript is new to you, there is some stuff here that might be a little confusing. And I want this to just kind of wash over you. I want you to more feel what it feels like as I explain it and don't be too concerned with not exactly understanding all of the things that can happen, especially if you're one of the folks who has the Hello World requirement. Please don't feel like you need to fully understand all this. I will walk through this code line by line and tell you what it's doing and it will be familiar to what we've been doing just in a programming language that you might not yet be familiar with. So I'll take my time and you take your time, give yourself some patience. In fact, I'd like to suggest that if you are in the boat where you have not written code like this before that you watch me first and then come back and do it later, we're gonna take advantage of the fact that we're in a video, right? You can take me right back to right here and take me back to right here and we could get started. So one of the things that I love about Twilio's documentation is that you can just copy it and it should work. So this is what was happening when we created something here, right? So we created a message. So this is, you get this authenticated client, right? We know what that is. We authenticate with our client, with our account SID and our Auth token like we've been doing. And then we're gonna do this messages, a client. So client.messages, there's our REST client, .messages.create, and we're gonna pass in the from the body and the to and it's got all the information that we know. And then there's doing some of this JavaScript stuff. So then we're gonna get a promise back and then we're gonna get access to the message. And this console log is going to print out to the screen. I don't think we should send a message. Why don't we look at the messages that we've done? Let's do that. So I'm gonna go to that example. So I'm gonna choose down here, this list all messages. Awesome, so we'll take a look at all of the messages that are in the account. Now what I can do is I can just copy this. So I'm gonna copy this and I'm gonna run it on my local machine. Now I'm just exploring, and this probably happens as you're looking at APIs. So typically I have a folder on my computer called Scratch. And if you wanna make one, you do Mkdir Scratch. Just kind of put this wherever you want to. And then you get into that directory. If you're doing this in your terminal on Windows, there are some instructions in the notes on how to do exactly that. So now I've got this directory named Scratch. Now I told you before I was using Visual Studio Code, which I hope that you have installed. And so I'm gonna do code dot, and if this doesn't work for you, there are instructions on how to get this installed properly on your machine. What it should do is pop open my Visual Studio code directly in that directory. So I'm in this directory here and I'm gonna make a new file here. I'm gonna call it explorer.JS 'cause this is typically what I do. So I'm gonna come in here and I am going to paste that code. Awesome, so now I have this code here and this code is on my local machine, which is awesome. So now I'm gonna try to make this code run. Now one thing that I know for sure that I need to do is I need to download the Helper library. So if I wanted to go here, I could go to this node install. I happen to know how to do that. So I'm gonna go up here under terminal and I'm gonna do New Terminal and in Visual Studio Code, this is really nice. My terminal can actually run the same terminal that I used to open it is running down here in the bottom. And what I'm going to do is I'm gonna use a package manager to install the Twilio Helper library. So I'm gonna say NPM Install Twilio. So NPM is node package manager. And if you do not have this, if this does not work, check the notes because it means that Node is probably not installed on your computer. And if Node is not installed on your computer, there is a great walkthrough in the notes on how to get Node installed. So I now have Twilio Helper Library installed, which means this required Twilio statement here is requiring that library. Remember in REST Fox how there was an environment and we stored the account SID and the Auth token? We can do the same thing on our local machine. We can set up a little environment here. And actually if we go ahead and we click this Twilio Secure, there's some great examples in here and how you could do that. So one of the things that this suggests doing, you can see it's for Mac and Linux and different, different shelves do different things. If you run this in your command line, you can set your environment variables and then when you run Node it will work. I'm gonna do, I'm gonna do this one. So I'm gonna copy, copy this here and I am going to just paste this. We'll paste this, I'll show you what it does. So it's saying we want to export my account SID and my Auth token just we're very familiar with these days. So we're gonna do that. Let's do this real quick. So I'm gonna pop in my account token there. I'm gonna go back over to my console, scroll down and grab my account here. And then I'm gonna paste that and I am gonna go and grab my Auth token and I am going to paste that. So again, I got to that, oops, accidentally pasted my Auth token in the wrong line there. So I know that it started with a four and I'm gonna paste it down here where it says Your Auth Token. So basically what this is doing is this is writing a new file that will have this information. I'll show you that here in a second. So there's my, it's gonna write these two lines. I'll show you what that looks like. So it's gonna create a new file called Twilio.env and then it's gonna append that that's what this double Twilio and then it's gonna source that, which means run that environment variable. So if all is working well, now if I say Echo and I can do Twilio account SID, we can see that I have that available and that created this file here called Twilio.env and you can see there is my account SID and my token, which is nice because now this code works, it should be working and using this. And in fact if all is going right, so I've got Node installed, I installed the helper library, I put my account SID from the console into this Twilio.env and then I did this final command here, the source Twilio.env which will run that file and put those variables into my environment variables. And as I showed you that they were working. So let's go ahead and let's do node explorer. So what's gonna happen, let's take a look really quick. I'll show you, let's see, let's make sure we got it working. Cool, we did so let's walk the code really quick. So this is pasted straight from those docs. So we're getting a client back from this required Twilio, this is a Twilio library and when you get the Twilio library, if you pass it in account SID and an Auth token, it'll automatically create a brand new REST client for you, right? So this is a client that you're able to use to hit the REST API, a Twilio. And because it knows who you are, it's able to access stuff on your behalf. So very similar to what we were doing with the Curl, but this client, we can use this multiple times, it will always be authenticated. So we're saying of all of the messages, we want to list them, right? So we wanna get a list of all of the messages, actually not all of them, only 20 of those. So let's go ahead, I'm gonna just, we know that we haven't sent 20, I'm gonna get rid of this. So you can kind of just see this other style here. So we're gonna say of those, we're gonna do this list and then I'm gonna bring this back a little bit here so you can kind of see, let's change the structure of this a little bit. So we'll say client messages and then we're gonna do a list on those. Now the way that this works is this is asynchronous. So JavaScript is asynchronous and if JavaScript is new to you, you probably haven't encountered its asynchronous behavior. What we're going to go over here might very well be overwhelming, but it'll make sense someday if you stick with it, I promise. Now I've added notes, but really please, please, please, please do not let this stress you out. I just want this to go over your mind about what's happening here and it's important to understand because our client here, these list methods are asynchronous that which means that it's gonna go and run Auth and do some things and then it's going to come back. When that comes back, it's gonna run this code. So this is how a promise works. So it's going to say then after you go and make that request, then give me the messages and just so you, what's kind of strange about that is if you're probably used to code working like this. So I'm gonna write out to the screen that's this console log. I'm gonna say Starting Program. And we should see that line print. Now you might think that this is going to print, it's gonna run this and then go, but if you, I'll show you here, if I do this console log and I say gathering message log, what you'll see is it's gonna say this, this line's gonna start, but immediately it's gonna go to the next line. So let's do that. Let's run that one more time. I didn't save it. So of course it won't do anything. So you can see this little dot here in visual studio. It didn't save, so I'm gonna save that, run that one more time, here we go. And you'll see right away it's a starting program gathering message log. So it ran this, but then it went down to here. So it did not wait because this is asynchronous. What's happening here is asynchronous and what's happening is client message list returns a promise. Now it's a promise that in the future there will be a value and that value is messages. And so the way that you write that code is this then waits, it defines a function here and as soon as this is done, it will run this function. As soon as they come back, it will run the function. So that's what happened, right? So it came, it started, it then ran the function. And when I say function, you might not have seen this before, but in JavaScript you can make a function. I'm gonna put parentheses here so it's a little bit more clear. These are the parameters for the function. And this fat arrow is saying, this is what happens when the function runs, this like little, they call it the fat arrow. It's kind of cute, right? So it's an equal sign and then a greater than, it's called a fat arrow and that's a way of quickly defining a function and so you can see here, there's another one here that's doing it as well. So it could be a little bit messy as you're looking in. See how all these parens that we're looking at, it's kind of kind of hard to understand and read. If this is your first time looking at that, I totally feel for you and so this messages that comes through here is an array. So, what was very nice is it came across this messages list. This is an array, it was a JavaScript array by itself. They have this method called For Each on it. And it will let you loop through each of the values that are in an array and you'll notice that the object that was inside of that array has some properties. So what happened was the client went and made the request, made the http request, it got back that JSON that we saw. Let me just go show you one more time. Let's make sure that we're looking at the right thing here. So we, this is the same code that we just saw. This JSON was returned, right? This JSON was returned, but what the client did for us was it inflated these into messages, right? So these are, this is a string of things and it came back JSON but I'm able to actually work with each of these messages as if they're an object. So let's look at that again. So list returned this object, this array of messages and each one of those in that array I'm able to use an array method for each. And this message is an actual object that has a property called SID. So again, if that is all new JavaScript terms to you, don't worry too much about it. Basically we went and got the messages and we showed the messages that we got, that's what this is saying. One of the things that I want you to be careful of as you're looking at promises, and you might see this sometimes as you work with APIs, 'cause oftentimes APIs that you hit are going to be asynchronous like this. You might see that you need to be able to, you might run into an error and what might happen is it might get swallowed. In fact, let me cause one to happen. So here it's supposed to say Auth token, I'm just gonna put in my luggage, the password to my luggage 1, 2, 3, 4, 5, 6. So that is not my account SID that is going in there. So I had the wrong account SID. So I'm gonna say that hey this is the client, this is what how I want you to authenticate and it's gonna go to try to make this and it's gonna fail. Let's see what happens when it fails. Well I didn't save it so let's save it again. Boy that's a lesson that I really hit in the home. You gotta make sure you save your file or the code doesn't run. So let's do it again, and you'll notice that I didn't get any error at all and that can be confusing, that is something that is very strange because obviously something wrong happened, I didn't get any of the messages back, but it doesn't look like I had any problems. So what's happening 'cause this is running asynchronously, this then never runs, right? We never get a chance to run this 'cause this list method didn't actually finish working. So one of the things you always wanna make sure that you do is to every promise you can catch and you can catch an error and I'm gonna make a fat arrow 'cause I'm gonna have a function happen here that says console dot error, ERR. Okay, so now I'm gonna print that out, I'm gonna print out the error. Let's run that again, let's see what happens. Ah, now we see the error and you'll see that sometimes this is what comes back is there was an authentication error, right? And we got a very specific error on this 2003 and it will help us kind of look at what's happening. Oh, here, great. This is right. My Auth token is wrong, the wrong combination of account SID and Auth token. Exactly. That is what has happened. So cool use of things there. I'm gonna put this back so that we have things working. So this was Auth token and I can still leave my error in there. I'm not gonna hit an error, so it's not gonna happen. So a promise has a then and it also has a catch, right? So let's do that. So I'm gonna run that one more time and save it. Wow y'all, I gotta get better at saving. Here we go. There we go. So now we're back to working again, awesome. All right, I wanna show you a little bit of a different way that JavaScript can work asynchronously that you might also see. And this is really syntactical sugar. It's called async a weight and if you just wait a bit, it'll all sink in. I promise that's a, there was three jokes in that one. That was a hat trick of a joke. All right, so here we go. So the way that it works, the way that this works is you can say that a function is going to be asynchronous and we want this to run asynchronously, so I was thinking we're getting ready to start using our number in an application and to get there we need to clean it up. We have a bunch of weird messages in there that aren't gonna be relevant to the messages that we have. So I'm gonna make a new function and I'm gonna call it "Delete All Messages," okay? And when you define a function, you can kind of put, this is the parameters that it takes. We're not gonna say that, there are no parameters. And then I'm gonna run this function. So while this is an asynchronous function, I can actually make it look more like it is in line so it can kind of run the way that we want it to. So I'm gonna say "const messages" equals await. So now I have, because the function itself is asynchronous 'cause I've used this here I can use this keyword, await, and I'm gonna say client dot messages dot list. And so now I think this is a little bit more clear, right? So this is basically doing the same thing, right? These messages are the same messages that were coming into this function, but now it's out on this side. So I have this variable that's called messages. So, and that's in array, right? And I could do this exact same thing here and I could list that the same way. But let's go a little bit farther. So I'm gonna say for each of the messages, for each message that is of the messages array. So these are those inflated messages that we saw. One of the cool things that you're able to do with the client is the object that's returned back has actually has some properties on 'em. And one of those properties that it has is called Delete. Before we do that, I'm gonna make sure that, let's do a warning here real quick. So I'm gonna say console dot warn, we're gonna say would have deleted, I'm actually gonna use, if you use these back ticks, this is kind of a neat trick. You can use this back tick to do string interpolation. So we'll say would have deleted message dot SID. So again, that's the string identifier of that. So would've deleted message dot SID. So, and we will close that function out. All right? And now I'm going to call that function in this, you know, of course that's how we call it. And this is would actually be a promise, this would be a very similar, so we could do this, we could do a then, well in fact let's do it, we'll say then, and if you wanted to call, make a function that has no parameters 'cause I'm not returning anything, right? I'm not returning anything from that function. I'm just gonna say console dot log. And I'm gonna write done and I will put all of these, this code into the notes so you can also copy and paste it if you want to. And I'm gonna do the same thing that I did before. Catch the error and I'll do will do console dot error. And now if you do the console is, you know, of course what's running when the program runs, it's running out to the screen and there's different levels that you can do and error is one of those. And if I just pass the error that happened there, so I'm gonna warn that we would've deleted the message but let's take a look at what happened. So I'm gonna get rid, I'm gonna keep the starting program here, right? So we can do starting program and then it's gonna do delete all messages, it's gonna call that and then when it's all done, it will say done, I'm gonna get rid of what we had here. Okay, so we have delete all messages, it's gonna go in, it's gonna get a list of all of the messages. It's gonna loop through each one of those messages. And when it is done, we're gonna, right now we're gonna warn that it's would have deleted it and this is what we're eventually going to do because there's a function that's available to it. All right? So I'm gonna save that, I'm gonna run it. Let's see what happens. Okay? So it would've deleted some of our SIDs. And again this is the MM, this is, the MM means that it was the MMS which is the one with the picture and the rest of the SM's that we have. So I think I am ready to do this. I hope that you are ready to do this as well. Again, this code should you want it is available in the repo 'cause you want to run this 'cause you want to delete these messages. So let's, I'm gonna say, I would've deleted, I'm gonna say deleting and then here we go. I'm gonna save that, I'm gonna run it. And so message, the message object that's coming back from this client is really has enough information to make another API call to delete itself, right? Because the object itself knows how to do that the library's made an object that is smart enough to be able to call delete on it and it feels like it's just working that way, but it's really making a REST API call to make a delete request. It's pretty cool right? Here we go. Message dot delete is not a function. What I meant was actually remove, so the function name is remove on the message. So here we go. So, and you saw that there was an error, right? That was the error that just happened, good thing I put that catch in there, otherwise we would've thought it worked. So here we go, so in Node explorer, remove instead deleting, deleting, deleting. We deleted all of those. So remove is the name of the function that's there, but it is doing a delete, making a delete call. Cool, so we have now cleaned out and if we try to run it again, you'll see that there's no messages left for it to delete. Awesome, now if you have just watched that and were very confused, let's walk this last bit and then I want you to rewind it one more time. So I've made a function that is asynchronous and that function is called delete all messages. And because it's asynchronous, I'm able to use this await which will return this, this client messages, that list returns a promise, okay? But, and a promise of the future. But because it's being awaited, it's going to return it right here in line. Then I'm gonna loop through each of those messages and because that message came back from the API and an object was created thanks to our helper library here I have a method on that message called remove. And it will actually go and do that next level, the next level of delete there for me. So it's really nice. This object feels like it would feel if you were writing JavaScript code, it would feel this way. But behind the scenes we know that it's doing this API calls and the client library has extracted all of that away from us. And if now if you go and you take a look, let's go back really quick, let's take a look. There's other helper libraries. So if Python happens to be your language, there's how you do it. So it's client messages dot list and for record and messages and you print the record SID and you can see that the code looks a little bit different in all of the languages that you go through, but it's also kind of similar. And so that's really nice about the standardness of a REST API is that the helper library is producing code that feels the same in each way because the library's kind of the same. And you'll find that as you use other APIs and they have helper libraries, they will mimic the way that the REST API looks. So I realize that was a lot. I don't want you to get hung up if you feel like you can't completely understand what that is. In the next unit what we're gonna do is we're gonna go into more deep things and I know you can do this. So, this code is there and also if you feel like you want me to go back and explain that again, please, please, please, please pause me, slow me down, let me walk through those different things but don't feel like you need to be able to read this. I want you to just conceptually understand that you're using a helper library that's abstracting away all of the HTTP API things that we were doing with curl and we are doing with REST Fox. This is just doing it in code and it's doing it for you. A lot of the magic is gone and hidden and tucked away and it just feels like you're actually working with these objects. That's the power of the abstraction. Awesome. Did you see how the helper libraries are all similar yet match the development workflow and style of each language? This is one of the benefits of helper libraries in general. They abstract away the HTTP client connection and the boiler plate necessary to make REST API calls. They also behave as you expect them to behave. It feels natural. The way that we were able to delete from the resource itself helps to unlock another REST API constraint scavenger hunt item and that one is uniform design. Now this constraint has four subsections, one of which we just discussed, resource manipulation through representations, because enough information was included in the response, it was clear for us how we could modify and delete the resource. Another subsection and here is resource identification and requests. That's the URIs that are included and we've seen that. But because the URIs are included we know how to get and manipulate specific resources. Uniform use of the http verbs is pretty powerful. We just wrote some scripts that make use of helper libraries. These libraries are super handy for automation based tasks or batch scripting, which is like making a whole bunch of calls at once. Now while we're talking about this, we should cover another common tool for talking to external APIs and that one is CLI, command line interface. There it is again. Command line interfaces can be used to make API calls from an executable on your machine. More and more these are showing up for tools that require authentication and do a bunch of different services. This concept is popular amongst cloud providers where setting something up needs to be done quickly from the command line. Check the notes for more. Another commonplace where you'll use helper libraries is from within applications that you're building. Let's get to the final unit of this course and implement an external API into an existing web application. You've got this. Ooh, we're here. I love this part. The building part. We are going to build a web application that shows off a set of user submitted photos for a specific prompt. But here's where our app is gonna stick out from all the rest. We are gonna let our users submit their photos and captions via a text message. What this will enable us to do is put up signs and billboards and physical spaces that says text a photo to this number and then our site will gather those on a webpage and display them. Now you're probably wondering two things right now. The first one is probably, wait, what are those photos they're gonna be texting? And that's a great question. We are gonna be building this application so it can be dynamic. So you can define whatever you want. Like text me a photo of your dog, send us a photo of the view out your window. Snap me a pic of the best impersonation of me. I don't know, anything along those lines. Now secondly, you're probably wondering, wait a second, you said I didn't need to know how to code. If you already know how to make a website, this part might not have phased you. But if building a website is outside of your learning journey thus far, no sweat, I've got it set up and we're gonna take our time and we're gonna focus on making things work using this API. All right, let's do this. Okay, so I have a template here in the notes. In the unit three video one we have this index.html, which is our web application. If you come in here you can scroll, you can kind of see things here. The app is called Pickle where you get to pick your pics, Peter picked a pickled pickle, that sort of fun joke there. And then we're gonna click this Raw button right here. We're gonna get a hold of this raw and I am going to highlight everything and use the magical developer Command C copy. And then I'm gonna come over to back to my scratch on my visual studio code. I'm gonna make a new file. I'm gonna call that index.html, hypertext markup language, right? And I'm gonna paste that right here. So now I have that code locally on my machine. If you are a get user, you could definitely check this out and have your own version of this if you wanted to but that's a good way to get this here locally 'cause we're just gonna explore around here just for a little bit. Let's take a look at this file as it exists. This is something that might happen to you as a developer who knows now about APIs. They might say, "Hey, I've got this template and I would love for you to be able to set it up to make the API work." So the first thing to do, if you wanna look at an index file locally on your computer, you could set up a web server. I've made it so we don't need to have a web server so we can just go ahead, I'm gonna go to my terminal, I'm gonna do a new terminal here. I'm gonna open that up and I'm just say open index dot html. Now what that's going to do in my Mac is going to open this up for Windows, take a look and see how to do this exactly. But this what this will do, it will update my pickle here. So, you can see this is user scratch and then you know my, whatever it is, it's in my directory there and this is what's happening. There's some nice kitty photos there. I'll show you how that's working and if you click into one of them, you get a nice little gallery here and you can switch between the different kitties and you can see the text that the user submitted. That's kind of where we're going with this. That's what we're planning on doing. Very nice setup. Simple one little pager application because I'm using some APIs to be able to do that here locally. I'm using, remember APIs, not Web APIs, but I'm using a View as the framework that I'm using. I'm using a framework called View and it has an API and I'm also using this Silent Box which is allowing us to do that popup. It also has an API. Let's take a little bit of a look here. So I'm gonna move a little bit slow through this just so in case it was your first time seeing something like this. I've got some setup here in this head tag. You can see this html, this is the head tag. There's some setup. So I'm using View and I'm also using Silent Box and I've got some very minimal styling. It's not my forte. And oftentimes you're given a template like this. So you're given, hey, here's a working thing. I would love for you to get some APIs in there. So the body of the app has this. You'll see notice this little mustache, mustache and it says call to action. So in view this is part of their API is if you use this for a template, it will be replaced with something from the View Objects data. So you can see here, there's this call to action and that's what this is and this is why I can change this and make this say whatever I wanted to say it would be here. So whatever we decide to do with our apps, whatever kind of pics that we're trying to collect, that would be where we would change that. And then you also see here, there's this silent box and it's doing a gallery. And the way that that works is we pass in this gallery from, again, from this View Objects gallery. You don't necessarily need to worry too much about this, but I wanted to show you that there is, this is how View works, it's a front end framework and it provides an API where if I give it a function called data in whatever's in here will get returned to it. And then there's some more, I can define some methods on the view object. One of those methods that I've defined is called load images. Part of the API that View creates is there is a lifecycle method called mounted, which means that when the application is ready and it has been mounted onto your HTML through the JavaScript, it will call this function. So it's gonna call this load images function. In this load images function, you'll notice it's an async image and I've got some todos in here. This is someplace where you might be communicating back and forth with people as you're working together on a project. So use the messaging API to use submitted photos and also create a webbased API that matches this expected response. So that's what we're gonna do over the next couple of videos here. So what we see in the start here is there's this gallery and it is an array and it's got some stuff from this. There's a website called Place Kitten that I used here. So you can get different versions of kitties here. And there's a description and there's an alt tag, which is important because for accessibility reasons, this is what it will say on the picture. So that is what is happening to be able to make that work. So we now have our app here locally and we can change things. So one of the things, one of the photos that I want to do, I love to get photos of burritos from around town. So I'm gonna change this. I'm gonna say submit me a photo of your burritos and I'm gonna save that file. So see it's not saved, I'm gonna save it. When I go back to my file there, when I refresh it, you can see that it says "Burritos." What are you going to want to gather? Why don't you go ahead and change that, change that to whatever it is that you're wanting to gather as we build those projects through. And of course you know you see that you can change that however. So make sure that it's downloaded and make sure that you can change that, that you can change this file and it opens locally on your machine. Cool, and so now we have a little smattering of APIs here already. So we have a web, we have HTML working here. We have this view and this view API has a very specific API that's doing this mounted here. But remember it is actually an API and we're going to use a webbased API to be able to get this information and we're gonna do that here in just a bit. Now that we got our file all working, let's deploy it. And by that I mean let's get it up on the public internet so everyone can see it. That is of course after you take a quick break. (upbeat music) We are gonna get our webpage up on the internet so others can see it. And this has gotten much easier as time has progressed. You used to have to set up a server, like a physical computer, buy a domain name and configure it to point to your machine. You had to figure out where to host, like where to locate your server so that it was always on. And arguably the hardest part after it was live, you used to have to watch over it in case too many people came to it. You didn't want it to get overloaded, you wanted it to scale up and be able to handle the traffic. Those servers are still around but these days you don't really need to worry about them too much. Now I'm sure that you've heard the term the cloud and the colloquium. The cloud is just other people's computers. Well let's talk a bit about serverless. Serverless is just other people's servers. It removes all those previous things that we had to worry about and it offloads your concerns. I can tell by the look on your face that it's probably better if I just show you, let's get this application hosted. So we're gonna have Twilio host our code for us and that is to say we are going to have Twilio be our web server that will be used to serve our HTML. Our project will be serverless. Now the way you do that is by using Twilio's serverless environment, which is here under functions and assets. Now if you don't have that here, if you click Explore Products and you come to Developer Tools and you come over to Functions and Assets, you can click this little pin icon and that will make it show up here. So I am going to create a new service. So I'm gonna go Functions and Assets, Services, and I'm gonna say Create Service. It could be whatever you want. I'm gonna call it pickle, like pick your pics with Pickle Peter. Services allow us to group our functions and assets together for our application. So I'm gonna click Next and what's gonna happen is we're gonna open up to a very nice IDE that'll allow us to edit our code. Now a friendly reminder, if you're having a hard time following along because my screen looks different than yours, you are using a new and improved experience. So check the notes for what might be different. Now traditionally these services here are used to power Twilio based applications. Remember how I said you could respond programmatically to an incoming message? Well, functions are a great way to do just that. In fact, our current number has a default response and we might as well fix it while we're here, but before we do that, let's get our HTML code up and running. So what I'm going to do is I'm gonna grab code from my local machine and if you want to, you can just grab it from GitHub, check the notes for more on that. But I'm gonna go add, I'm gonna choose Upload File, I'm gonna find my file, my index html and I'm gonna choose Open. Now what we're uploading, we'd like the world to be able to see it. So, I'm gonna choose Public and then I'm gonna choose Upload. So now this files over here, you'll notice this little green dot. And this means that it is not yet deployed and that is, it's not yet available on the internet in this current state. So let's do that. I'm gonna do that by clicking this Deploy All button down here. And now we see that it's green and I'm gonna go ahead and choose copy URL and I'm gonna open up a new tab with that there. And we will see that our site is live, except it says burritos and these are kittens, but we're getting there. So it's working, it's up, it's on the internet. I could share this with people. The pickle site is up and running on Twilio's servers. One of the things that I used to have to worry about was scale. Like what if I got a whole bunch of requests to this site, would it fall over? What the serverless solution is doing is allowing me to not need to worry about any of that anymore. Twilio is handling all those concerns for me, which is great 'cause now I can focus on what I was building. Which by the way, we need to handle that reply programmatically, right? So the way that Twilio does things is with web hooks. Now if you haven't encountered web hooks before, I have an entire course on them that I link to in the notes. Web hooks are sometimes called a reverse API. That is, instead of you calling the API, the API calls you. So let's configure our number to make use of the right web hook. So I'm gonna go back to my number over here. If I look under phone numbers and I do manage, I'm gonna hold down command or control and click Active Numbers, I'll open up a new tab. Nice little hack to keep your screen open here. So I've got my numbers here and if I come in here to configure it, what happens is I'm gonna scroll down. So here's the voice section and then here's the messaging section and it says, when a message comes in to this web hook and it sends to this URL here, it does a post to this URL here. So the way that Twilio makes use of web hooks can be thought of like this. You know when I hit this URL, right? This URL in my browser, my browser doesn't care about what's happening at that endpoint. It could have been anything, any web server like Express, Jingo, a Java server, it doesn't matter. What matters is that what was returned from my server was HTML or hypertext market language. My server responses with HTML and my browser renders the page. Now the same is true with Twilio. Someone is going to text our Twilio number and Twilio is going to send a request to an endpoint. In this case, this endpoint here, it doesn't matter what is happening on the other side as long as it returns TwiML, or Twilio markup language, they look very similar. HTML and TwiML. Twilio will be able to render your application. So we could set up a new web server to host this application that returns TwiML or we could just use a Twilio function. And like I said earlier, that is what these are commonly used for. So let's pop back to our service. So I'm gonna come here, I'm gonna add a new function and I'm gonna name this function Incoming Message 'cause that's what we're gonna do. We're gonna handle an incoming message and there is some very nice default boiler plate that is commented that comes through. So boiler plate is code that's provided. That's usually the most common thing that you're going to be doing and in this case it is, it's boiler plate for how to respond to an incoming phone call. It's kind of like the hello world of voice applications, but we are gonna be building a messaging application. So we'll need to tweak this just a bit. Now I've put this code, I'm about to show you into the notes. So I don't want you to feel like you have to type this all out or even fully understand every line. I'll step you through it, first though, let me walk you through this function just a bit. So Twilio functions all export a thing called a handler. And that handler takes a function that takes some parameters, context, events, and callback. Context here is an object that holds information about the function that's running, like it knows the domain, it knows the name of the function and the event here, you can kind of think of this like a web request in most frameworks and if you haven't seen a framework before, this is kind of the way that information is passed into your web application. So, this is the event will hold everything about the text message that was incoming because that's what Twilio does. Twilio's going to pass that information through here. And for instance, that message will have the to, it'll have from and body. And again, because when the text message comes in, we are going to point our phone number to this function. So Twilio will post the information here, it will call our function instead of us writing code that checks if a new message was added over and over again. Twilio is gonna call us. The API is going to call us via a web hook. Web hooks are pretty cool. Check the notes. And then finally, there's this callback object here, which is how we send information out of the function. It's actually a function, so we have this callback, this is the errors that might have happened, and then this is what gets returned. And here's that TwiML, Twilio markup language. So I'm gonna get rid of a couple of these lines here. These are sort of demo lines, I'm gonna get rid of that and I want you to be able to see what's coming into the message. So I'm gonna start up here. I'm gonna do a console dot log. And what what this does is when the function runs, if we want to, we can see the message, it will show up down here. So let's say that we got an incoming message and it was incoming message and we'll just do a colon and then I'm gonna use this dollar, this style of string interpolation. So I have the event object, and on it there is a property called body with a capital B. So that's being passed in there. So when the function runs, we will see that the message came in 'cause Twilio's gonna pass that message and we'll see it there. And we're just gonna say thanks when somebody sends this in. So we don't really need to do anything with this message, but you might wanna filter it or handle things differently based on what they said in the message and you totally could do that. But you probably also wanna check the photo that came in was actually a burrito or something, not inaprops. You could do that and there are APIs for that, but that's a little out of scope. So instead of a voice response, we're actually going to return a messaging response. And there's a little helper library here, right? So a little helper library for TwiML and it has this TwiML object. And before it was doing say, which is text to speech. So if you wired this up, it would say hello world in like a computery, but actually pretty good sounding voice these days. But I'm gonna change this to be a message 'cause that's what we wanna return. We wanna return a message and we wanna say, thanks for your submission, right? We wanna thank them there. And we can also send any sort of emoji here. Let's see if maybe a camera that sounds, yeah, it's nice. Thanks for your submission. And so what's happening here is this object, it's a fluid API. It means that it doesn't return anything. You kind of tweak it and it builds as things go on it. So you'll notice that this isn't returning anything. I'm modifying this object and then when I send it out at the end, that's how it goes out. So let me, let's just, let me show you what that object looks like. So again, I'll do one of these console log and use the back tick and we'll say TwiML. So Twilio markup language was TwiML. And you'll see that it looks a lot like html. There are some rules to it, but we don't need to learn them all right now. So I'm gonna save this and just like before, you'll notice that this is gray, it hasn't been deployed. So I'm gonna click Deploy All and while that's building, I'm gonna head back to my phone number page and I'm gonna refresh it. So on my phone number page, I need to change my message down here it says, when a message comes in, we want it to be a function that is in the pickle service. That's done in the UI. And we want to choose incoming message, which it hasn't finished deploying yet. Just finish deploying, one more time. Let me refresh that page. So that shows up for us. We're going to go to, when a message comes in, it's going to be a function and it's on the pickle service for this UI and we wanna do incoming message. And if we do save, alright, so we should be all wired up. I'm gonna click Clear Logs here, and I'm gonna turn live logs on. You can see that this says live logs on when it's ready. And I'm gonna clear the logs one more time. And what I'm gonna do now is I'm going to send a message in and we should see this, we should see what I send in and we should see the TwiML that was sent back and I should get a response back. So let me send that message here. Let me send this text. All right. So, oh, check out this. I have this beautiful picture of a burrito. I love when burritos can stand up by themselves. And this is an awesome one. I'm gonna send this in. So check out this beautiful burrito, little emoji. I'm gonna send that through and we should see here in the live logs, we should see the message come through. There we go, so look at this beautiful burrito, and this is the TwiML that was generated. So you can see it's like tagbased. So there's a response and there's a closing response and there's an opening message and a closing message. Thanks for your submission. I don't want you to feel like you need to learn TwiML. You could do that later if you need to, but this works. So I got my message back. Now, remember, since we are in trial mode, if somebody else sends in a message to your phone number, they're only gonna get a message back if they're a verified sender. So that is a limit of the trial API that we're using currently. Now most APIs have limits. There's only so many calls you can make. There's, you can only send to verified numbers. There's just different sort of limits. And that's what we're working with here right now. The limit is that you can only send to verified numbers. They can still submit, they just won't get this "Thanks for your submission." So your phone number should, so when you submit from your phone number, you should get it just like I did. All right, so we're looking good. We have our site hosted and we are handling submissions by thanking them. Let's get to some more cooking. Now, if you're interested in learning more about applications like this over the phone, check out the notes for more resources. I have an entire course on this if this piqued your interest. But for now, let's get back to our API. Now, with our ability to host our own application, we can focus on designing our own API. Now the great news is that Twilio functions makes it really straightforward to return JSON, remember, that's JavaScript object notation, the lingua franca of the web. Let's design our webbased API to return the expected format, and we can make use of Twilio's message API to get a hold of all the messages that we received. Do you see what I did there? Get, get it? All right. I'm a get outta here. I can't stop. All right, let's do this. Okay, so we are gonna actually write an API and we already have a spec or a specification, right? We need to provide for this specific plugin, This silent box has this gallery plugin and it has a specific API that it defines and that API looks like this, right? So remember that we're setting this gallery and we're setting an array and we're setting this information here. So I think we should start by creating an endpoint that returns exactly what we have here. We should return an endpoint that does this, the returns this, and then we'll move forward from there. This is what I do when I find myself in a situation when I'm working on a project with a team of people, I take what they expect in a template and I return it from an API. This way they can keep working and I can keep working too. So let's do that. I'm gonna create a new function. So I'm gonna choose add, add function, and I can name this whatever I want. And I suppose we should be clear, right? We're gonna make an API, we're actually gonna make one so slash API and then I suppose we should probably say what it's gonna be. So we'll do a Pics API here, right? And I'm going to press Enter and that will get me my boiler plate code, of which I am going to get rid of everything. So thank you for the help. We're not actually returning TwiML this time. We're actually gonna return an object. And what I'll do is I'll copy the hard coded array from this index file here. I'll come in here and I'll copy this hard coded. Now hard coded means it is just like in the code this way, right? There's no way that this is going to be dynamic. I'm gonna change that here. I'm gonna paste that in here. I'm gonna name it the same thing. So I'm gonna create a new variable called gallery and I am going to just paste that hard coded code there. There we go. And then I'm gonna call this gallery. So again, I have an array. That's what this bracket here is an array of these objects, that's what these objects are. These mustaches, they open up and the objects have these properties here and these are representing the pics that that plugin requires. And now I'm gonna use this callback function to return that gallery array. One really nice thing about this Twilio function is that if I pass it an object like I did, it'll automatically return JSON to anybody who requests the URL, so let's do that. So I'm gonna go ahead, I'm gonna save this and I'm gonna deploy it. Now one thing to note, by default it was actually protected. That's what this little key lock thing means here. So I'm gonna click this and I'm gonna change this to be public 'cause we actually want anybody to be able to see it, not just Twilio. So this is what we're gonna do. I'm gonna change this to be public and then I'm going to choose a deploy all and you'll see that it's gray and when it's ready it will turn green for us. And so I'm gonna go ahead and I'm gonna copy this URL. So I have this URL already and when it's green, when this goes to be deployed, so it's still deploying, you can see it's deploying and you'll know down here when it'll say build completed and it'll say deployed. So it's deployed, so I copied that URL, I am gonna go hit that URL and let's see what we get back. Awesome, we got it. So we got the kitty descriptions and blow this up a little bit here. This is JSON, it automatically built this for us, right? It's in the right format, which is very nice. In fact, we could probably take this and why don't we, we'll go over to the Thunder Client and take a look at what's going on over there. So I'm gonna come back to my Thunder Client, I'm gonna make a new request and I'm gonna hit, I'm gonna do a get to this API that we just built and check it out. It comes back, it comes back with 200 OK. And here's, the stuff that's coming back. There's even some headers in here. Oh, sorry, some. If we look at the response, we can look at the response headers over here and we can see that the content type was set to application JSON, Twilio always sends back to the shenanigans none, which I love. So now what we could do is we can give this URL to the team that's working on making the front end, you know that view application, they could wire it up, they could take this. And as long as we match the same format in what we return, that is, as long as our API maintains the same contract, everything should just work. So that's pretty awesome, right? So let's move on to the next part. I'm gonna comment out this bit. So let's go ahead, let's give it a, we'll we're gonna go ahead and make this an empty array, right? So that's how you make an empty array. And I'm gonna comment this out so that we have it so that we can kind of look at what the format is as we build stuff here. So I'm gonna comment that out and in fact I don't think I need the second one. I'll just get that first one there and give us some space there, awesome. So now let's use the text messages that were sent in, our incoming messages. So we are gonna write some JavaScript code. Now if you aren't quite fluent yet in JavaScript, remember that is okay and we've all been there and we all, all of us, I guarantee you everybody watching this understands that what you're going through can be challenging. It's a new language. I want you to try a follow along conceptually. And I want you to take your time and I want you to take advantage of being in a videobased course. This code that we are going to write will be available in the notes and I will walk us through it and then I'll go over it again translating it into the concepts that we've covered. Okay, are you ready? Let's do this. So Twilio functions have another great feature. I can get access to a REST client, to the Twilio REST client then authenticate a Twilio REST client from the context object. So context, get Twilio client. Now remember that is going to be using my Auth token and my account SID, and it's on this context, it just automatically is authenticated, which is really powerful 'cause now I can get access to my thing because this function is running as me, right? So that's why it has access to that information. So remember we wanna get a hold of all of the messages that were sent in. So we're going to use the API to do that. And remember we could have multiple phone numbers. So I'm gonna get the messages that were just sent to this phone number. So I'm going to await 'cause remember it returns a promise. So client dot messages dot list. And I need to do the ones that are specifically to my Twilio number. So that's (561) 8165433. And I'm pretty sure that's right. I'm gonna look one more time at my, oh there it is. Yeah, that's it. So that's my phone number there. (561) 8165433 you could go. So there, it's also on your console. Remember down here at the bottom, (561) 8165433, that's what I wanted. I put that there and in fact, you know, that's something you can have multiple numbers and that might be something that you want to store possibly in an environment variable. So I think we should probably do that. Let's do that. So I'm gonna take this number here and I'm gonna store that here. You can see it in the functions and the services here we have this environment variables, let's add to that. And you'll see here, actually add my Twilio credentials. My account said my Auth token to M, so that's why context get Twilio client works is because we've checked this. If not, it won't work. So, but it's checked by default. So we're gonna do Twilio number and that value is going to be that and now in my code, what's rad is I can use that like so, I can say context dot Twilio number, I can access anything that is in those environment variables that way and it's now it's in this code. And now when I share this code, you won't need to do that. You will need to set your environment variable though. Awesome, so, and now what we've gotta access to the, well actually first we set await and we need to make sure that this function is marked a sync so that that's required, right? In order to make this work. So now it's going to get the messages, it's going to return the messages, and now we're gonna loop through those messages. One of my favorite ways of doing that is this for of loop. So we're gonna say for message of messages. And for each one of those messages, we're gonna go through some things. So one thing you might not have thought about before is that when you send a message, you can put multiple photos. I think typically whenever I send, when I just send one or then I send another message and another message, you can actually add multiple pictures before you send it. So let me, let's do that. Let's get a hold of all of the pictures that are available. So we'll say comp pics, we'll call, we'll call our variable called pics, right, for picture, short for picture and we'll say, await message. Now the message object that came back from this API. Now we know that this was an API call, but it is an object. And that object actually has access to these sub resources, which was media, which we walked through this before, remember where there was the media URL and we grabbed that media URL and we looked at all of them that were available? This is basically doing that same thing. And we're gonna get all of the media that is available. All right, so we have that, we have the message, we have all of the pictures of that message. And so for each of those pictures, right? So each of the pictures, we need to actually need to declare the variable just to be better there. So we'll say for const, pick of pics, right? So we're gonna make a new variable called pic looping through each one of these that came back from this array, right? So, for all of the messages, for all of the pictures in the messages, now what we're gonna do is we're gonna add that to this gallery. So this is an empty array, but we're gonna dynamically add to it. And the way that you add to an array of course is with gallery dot push, we're gonna push a value onto the end of that array. And we know what this is supposed to look like, right? It looks like this, it looks, we have this source, right? So source here, SRC is short for source just from forever in the internet. So image source, SRC and I know from my notes, and I'm gonna pop over here real quick. That this has, the media resource has this thing called a URI on it and it's relative to this https.twilio.com. So let's paste that. So it's relative to that, which means I that if I'm going to display it, I need to let our people know I'm gonna give it a full URL, which it requires, right? It requires this full URL. So it's got the front part of it. And then I'm going to use the pic as a property called URI, which we saw. And remember what happens is it has this content type if we want to without an extension, the media is returned. Now I know that by default this is going to give me this pic.URI is going to end in dot JSON. So I wanna replace that, I'm gonna use the string method to replace the dot JSON, right? I don't want that dot JSON, I want it to be no extension at all. So I'm gonna use this empty string. So I'm gonna replace the end of what this pick was with dot JSON. I'm gonna replace that with an empty string, which will remove it essentially, right? That's what we're gonna to do. Now I'm gonna do a comma 'cause I want to do more, I want to have the description. We wanna put the description here as required because that's what the little text is at the bottom that it says, and that's whatever they texted in, in their message, right? So I'm in this loop, I'm looping through each one of the pics, but I'm also, I have access to this message 'cause I'm in this inner loop here, right? So I still have access to the outer loop, which is message dot body, right? So those are inflated. So that's whatever the text was that somebody sent it in. And we should also, we'll make that the alt text too. So alt tags are handy for accessibility reasons. There are people, you might not think about this, but there are people who are going to use your application that are using it without being able to see, some people are vision impaired and they have screen readers and alt tags are awesome for that. You always wanna make sure that you make things accessible for people who can't see what it is that you're providing. And alt tags are an excellent way of doing that. This is just one way that you can make your application more accessible and everybody wins by it and then finally, I'm just gonna grab this last thumbnail width here, 200 pixels. We can see later if people want something different than that, what to do. So, our gallery array for each one of those pictures, it's gonna add to it, right? So it's gonna go and it's gonna add each one of those and we're still gonna return that gallery. And I think y'all, I think we got it. Let's walk it one more time. Okay. So we're gonna come in here and we are going to use the context that was passed in to this function when it was called. So when somebody hits this URL, this function is gonna run and it's gonna know it's gonna have access to those environment variables that we saw. It's gonna get access to an authenticated client and that client is logged in with my account SID and my Auth token. And we're gonna create an empty array, this gallery thing here, we're gonna create an empty array. It's a list that we're going to populate. We're gonna take our messages and we're going to push them into this array so that it has the format that is expected, which is right here. We're gonna turn what our messages look like into this so that later if we can use them that way. So the way that we do that is we use this client, this client is a REST client and it's gonna hit the messages endpoint and we know that it's going to do a get, but it's been abstracted for us. So just, we're just say, hey, list all of the numbers that were sent to this Twilio number and those are, this context here, again, this is passed in and the Twilio number is set in my environment variables over here. So we're set 'cause because you could have multiple, right? You could have multiple Twilio phone numbers. So we wanna say only the ones that were sent to. So we're very, we're being very specific. We're querying messages that were sent to this number, not from this number but to this number. And we're gonna loop through each one of those messages. And for each one of those messages, the object that's returned from this has this property called media, which lets us get to a sub resource. And you'll remember in the JSON, there's a link to this and we could go and query this ourselves, but we don't need to because the API has wrapped up for us. It's very nice, it's nice, nice abstraction. And we're going to get the list of those picks. And again, this is asynchronous. We're using this, we're waiting for it to come back, we're waiting for these values to come back. So once we have these picks, we're gonna loop through each of the pick and we are going to push out a source that has this. We know that they all need to start with API twilio.com because the URI itself, this URI here is relative meaning it doesn't contain the forward slash of this. So we are going say this is where it lives. This is the API call that we want you to do to get this content is API twilio.com, whatever is in the pick URI 'cause that's unique to each one of the pictures. And that URI comes with a JSON at the end of it. So if you look here, let's see if we look here, we can see that it ends in this dot JSON, right? And we want to get rid of that 'cause when you do get rid of it, what happens is it returns the actual picture. We did that, I don't know if you remember that earlier, we did that. So, that will be removed and then we're gonna use the message and the message is coming from here, right? So the message for each of these messages, we're gonna get the message.body and the description and the alt tag for it, the alternate text we're going to set. And that's from that, this is the required for, remember this looks exactly like what happened here. So we are returning that here and it should return JSON. I'm going to save it. We are going to deploy it. We are going to cross our fingers because this, we are at that point where we hope that the code that we wrote works and if it didn't, it is okay, if it didn't work, we are gonna work through it. We might get an error, we might not understand exactly what that error is and we are gonna work through it. But I am going to save this and deploy it. Now, let's assume that I gave this out, I gave this out. So now if somebody hits this API, here we go. So that's what it was before. If we hit it, we should see burritos. We got it. So it says, "Look at this beautiful burrito." I texted that in. Wow. Look at the clarity of the burrito. Oh my gosh, you can see the rice in the burrito emoji. That's impressive. I didn't know that. Look at that cat. All right. So in fact let's go, let's go hit it with our, let's hit that same request I wrote before. It should be a little bit different now. It's coming across here and I want to look at the response and the response. I'm gonna go and I'm gonna grab this URL and make sure that it works. So the source, right, the source that came back here is, should be the picture of it. And if we look at it should see my beautiful burrito. Oh look at this thing, I believe that burritos, when they can stand up by themselves, that's the sign of a good burrito. Look at that burrito. I got that in Arizona. Oh man, and what we did with this code is actually pretty common, now in an app like the one that we're building, probably eventually what you're going to do is you're gonna store those photos that were submitted into a database, right? And you're gonna do that from this incoming message function. You're gonna get it, you're gonna store it if it's valid, if it's a valid picture, you don't wanna show pictures that aren't, you're gonna store it in a database and then you're going to format it for whatever your client is. You're gonna get that from a database. So maybe instead of coming back from this API, you're gonna come from a database API and you're gonna pull back your information and then you're gonna push it through. And that database is gonna be in its own format, but you're going to make it match whatever it is that you are trying to push out there. You're not gonna, it's not gonna look exactly like the message, right? I'm not gonna send back one of these messages and make my API look like that. I'm gonna shape the data. That's what that's called. I'm gonna shape my data in the way that I want to be used. And we came with the spec. This is the shape of the data. So we took the data and we shaped it, we formed it into what was expected. All these burritos are making me hungry. I think I'm gonna go fetch one from my favorite tacoria. Now I'll make sure to snap a pic. You should get one too actually. You deserve it. You deserve a burrito and when we get back, we'll look at how to fetch this data that we just generated in our client app. So we've coded our external public API and it's ready to be consumed. Now our API uses an external API, Twilio, and we're going to need to use our web framework Views API to retrieve the data. And to do that we're gonna need to use the web API Fetch. See, APIs are everywhere. No wonder you came looking for this course. All right, let's make use of our serverbased API and our client side application. All right, so just like I just consumed my burrito, we are going to consume that API that we just created. So if I scroll down here, remember we're passing in this gallery here and we scroll down here into this load images and this load images gets kicked off from the API of view, right? So view has these lifecycle APIs and when the things mounted, it's gonna call this load images. We're gonna come into load images and now we have some todos that we have already to done. So we are going to use the messaging API to use submitted photos. We did that, we did that in our API and then we are going to create a webbased API that matches this expected response. We also did that, didn't we? We did that. So let's get rid of that. All right, so here we go. So this has got a suggestion here of what to start doing here. So I'm gonna uncommon this. So we're gonna create a new response object and we are going to await and we are going to use Fetch and Fetch here is part of the web API that browsers must implement to do exactly what we're trying to do, right? We want to fetch data from our API. Now this happens to be on the same server. So we can use a relative link like this slash API here. We don't need to specify the server, right? It's assumed. So our API, we called that, right? We called it API/pics. So slash pics is what we are going to hit there. And you notice that it's using await because this is an async function. So Fetch returns a promise and it's going to return that response and that response has a method on it called JSON that will actually return the JSON representation of whatever came back. So what I'm gonna do is I'm gonna get rid of this gallery, this hard coded gallery that is gone and I am going to say REST await. We are going to await 'cause this method is also asynchronous, response dot JSON. So that's gonna get back whatever is in this response that came back. This response has all sorts of metadata about it, but we just want to get the data out of it. And that's by using this dot JSON. And because our API is JSON enabled, it's just gonna come out. All right, let's deploy it. I cannot stop. Oops, this is not unable to deploy 'cause I didn't save it. So I need to save it first. I cannot stop thinking about that burrito. It was so good. I submitted a selfie of myself and I texted it to my Twilio number and I got a reply back from my Twilio trial account, right? And it says thanks for submitting it. So if all goes well when we look here, I'll be able to show you the burrito that I texted to my number. So it's been deployed and I'm gonna come in here under this assets and I'm gonna copy this URL and I am going to paste it here and this view application is gonna go and it's gonna hit my API and it's gonna bring back some photos into this gallery and here it is. Look at the size of this thing. It was truly bigger than my head. So if we click that, we could go, we could see my other beautiful burrito there as well. Now let's look again back here at the client side of things and just take a look at how beautiful this is. It's just two lines and it's hitting our APIs and that's the power of this API. We were able to hit an API and get user submitted text messages, text photos, right? And it only took two lines and really it only took one line actually. You know, like if we could have like chained some stuff on top of this. Awesome, now one thing that I do wanna note is that there's no authentication at all to this API, right? I didn't supply any authentication information at all. It's open to everyone and that's kind of a good thing if you are working on a client side application, you don't wanna pass your keys around. Like I would not wanna put my Twilio keys here on this page because I don't know if you know this, but you can actually see everything that comes down. So I'm gonna view the source of this and you can see here's the source that we're looking at and if I hadn't used any sort of API keys, I would see them right here. You don't wanna leak your keys that way, check the notes for more information on how to get around this. But typically this is what you do is you write a server that then the server keeps track of all the keys and you connect to the server. But if you do need to provide some authentication locally on the client, there are ways to do that. Check the notes. But look at this, look at this. You did this, you have designed a new interface, a text messaging interface, right, a TMI. Well I hope this wasn't TMI or also known as too much information for you. You learned a whole lot about APIs and not just the webbased ones. You saw them in practice and you even built your own one. You really deserved that burrito. Awesome job. You've just built and consumed your own API. Now here's my question to you. Do you think that the API code that we wrote together should be considered RESTful? Well, why don't we take a look at our weathered scavenger hunt card. So it's definitely a client server architecture. Our client happens to be, in this case, a view application running in the browser and our server is a serverless node application. But any client could connect and use this. Statelessness. It's definitely stateless, right? We aren't requiring any prior knowledge about the client, cacheability. Well, at the moment we aren't providing any caching information, though we could, right? We could fairly easily pay attention to those headers coming in and we could respond appropriately. It would require us writing some additional code and thinking through some of the edge cases, but we could do it. Let's put that in the maybe column. Layered system. Yeah, for sure, right? In fact, it's a little layered already. Our API is calling another API, but our client doesn't need to know that, we can also add additional functionality and the contract wouldn't change. Code on demand. We haven't even talked about this one yet. And it's the only optional requirement. Basically this means that your API returns code that is runnable, like maybe it returns an embedable widget or some actual JavaScript code. This doesn't make any sense in our use case and that's totally okay. So we're gonna drop this one into the no column. So we're looking good so far. But here comes the doozy, uniform interface. So remember this one has four subsections, resource identification and requests, ruh row. Currently we are just representing all the messages as objects and absolutely no way to identify them. So we failed this sub requirement and therefore this is a no. But let's keep going through the rest of these, pun intended, sorry. Resource manipulation through representations. We definitely do not allow any sort of manipulation of the images so this is another fail. Self descriptive messages, we haven't gone over this yet, but by using headers we can tell that this is JSON. The message sent down has a type and it's clear that it should be JSON decoded to be used. Hypermedia as the engine of application state. And last but certainly not least, HATEOAS or HATEOAS, it's an often forgot about part of the RESTful constraint. And the idea here is that there are links to show off what more you could do with this and where you could find related resources, it provides URIs or links. And we did see this in both the Spotify and Twilio ones. However, ours doesn't provide links to other resources. So we don't have a RESTful API and that's okay, it's gonna suit our needs. It does look like we could get there pretty quickly if we wanted to. One thing I want you to gain from that exercise though is that you now have the ability to identify whether or not an API is RESTful and I hope that felt pretty good. We've now completed the scavenger hunt, we revealed all the constraints, and I hope most of those are pretty clear. Please don't feel like you need to memorize those. You can find those same constraints littered all over the internet. Now as a prize for finishing the constraint scavenger hunt, I've dropped links to my favorite REST API constraint documentation for you to lean on, should you need to. I've also included links to the Popular REST API frameworks that will help you design RESTful APIs. Make sure to check out the notes. You did it. You just completed a whirlwind introduction to APIs and I hope that you can see how much more power they can add to your programming journey. By looking at interfaces in general, I hope you're more comfortable with the idea of not fully understanding exactly how something is working, but still leaning on that abstraction to build your tools and applications. Do this all the time with physical object interfaces and APIs or application programming interfaces. They aren't all that different. I hope you enjoyed taking this course. I know I had a lot of fun making it. If you think someone you know might benefit from this course, please share it with them. I'd love to hear your feelings, your thoughts, your dreams. So I threw together a little something using a smattering of APIs to capture your feedback. If you've got the time, I'd love to have you answer a quick textbased survey, text "feedback" to the number on your screen. Well actually, you know what, if you want, you can also call and just leave me a message too. I use an API for that too. So please, please, please keep me posted on your journey and really, I can't wait to see what you build. Thanks again for hanging out and we'll see you real soon. (upbeat music)
