With timestamps:

00:07 - hey everybody welcome to live coding
00:11 - with Jesse I'm Jesse and I'm happy to be
00:14 - back
00:14 - I haven't streamed for a while I was on
00:16 - vacation last week and today we're gonna
00:22 - work on our search feature which we
00:26 - haven't worked on in a really long time
00:28 - so we got it to a point where it works
00:30 - but it didn't have all the functionality
00:32 - that we wanted so now I want to go back
00:35 - to it and take a look at it you know see
00:39 - if we still like it and what we need to
00:42 - do is to get it to a point where we're
00:46 - really happy with it and it'll be good
00:48 - for a user yeah so in the chat I guess I
00:57 - I haven't I haven't talked with you it
00:59 - feels like such a long time so if
01:01 - anything new is going on let me know in
01:03 - the chat I'll definitely check that out
01:05 - you know in between coding and also just
01:10 - a heads up I'd like to keep this stream
01:12 - under an hour
01:14 - I might have a meeting at 3 p.m. my time
01:17 - which is about an hour from now so just
01:20 - in case I do have that meeting I want to
01:23 - make sure I'm ready for it
01:25 - so I'd like to keep that you know maybe
01:30 - give me like 10 minutes to prepare
01:33 - because if I do have a meeting I'll
01:35 - probably have to present some data that
01:36 - I did not get yet hey iniki's here how's
01:43 - it going
01:45 - Syd Syd haurache sorry if I'm
01:48 - mispronouncing the name let me know if I
01:51 - am please
01:53 - anyway how's it going all right so let
01:57 - me get started in case I have some new
01:59 - people here I'll just do a quick recap
02:01 - of how we made this the search function
02:05 - and let me put it up on the screen here
02:09 - there we go
02:10 - sorry if the picture is not as good as
02:12 - normal I left my my webcam in my
02:17 - backpack and I left my backpack at home
02:19 - I had a doctor's appointment this
02:21 - morning and just was going to be late
02:23 - and just ran out the door without at all
02:26 - but I think it'll do you all don't watch
02:29 - this for my face anyway so this screen
02:32 - will still look good the code will look
02:34 - good so here's our search page and I'm
02:38 - just running this locally but if you
02:39 - want to check this out
02:41 - live you can go to dev dot Franciscan
02:44 - University and I should let me let me
02:48 - just paste this in to the live chat now
02:53 - and then that way you all can check it
02:57 - out so the dev the version running on my
03:01 - computer and the version running here at
03:03 - this URL that I just put in the live
03:05 - chat exactly the same version in terms
03:08 - of this page so you should get the same
03:13 - results that I'm getting here and so
03:16 - let's just let's check this out
03:20 - cool yeah so you see I as I type things
03:24 - change there we go
03:28 - so I get different results as I type and
03:32 - right now the results show up with a
03:36 - category so our categories here are
03:42 - basically our post types that we've set
03:46 - up in WordPress and I'll show you a
03:47 - little bit about about that in in just a
03:50 - few seconds here and then we have the
03:53 - title and it looks like yeah it looks
03:58 - like some of these titles still could
04:00 - use a bit of work I have had some
04:03 - student workers helping out with
04:04 - cleaning up the data which is really
04:07 - nice so it looks like the rest of these
04:11 - look really good so others have to check
04:13 - on some of these things because
04:15 - obviously we don't want three PLU four
04:19 - Pharmacy asterisk right that's that's
04:22 - not good
04:23 - so probably don't need that at all that
04:27 - piece of content but right now some of
04:32 - the links work so we've made the title a
04:35 - link doesn't really look like a link so
04:38 - we might need to style that differently
04:40 - but if we click this it should take us
04:47 - maybe is it gonna work okay it is it's
04:54 - working now so that's weird
05:01 - actually this is really weird I thought
05:03 - we had styled this so that it should
05:05 - work let's check out another faculty
05:11 - member let's just say died here we go
05:21 - Monica's okay so all right I need a
05:27 - little bit of work on styling I'm glad I
05:29 - saw that because I thought we had these
05:31 - styled pretty like okay across the board
05:37 - so let's go back we'll stick with this
05:40 - search page for now so let me type in
05:43 - since I know biology works I'll just
05:46 - keep going with that because we get a
05:48 - lot of results so we can search so if I
05:51 - click sort whoa
05:56 - aha Christopher I see you just put that
05:58 - in there so Christopher already got that
06:00 - era the sort was working and now it's
06:04 - not so what did we do we haven't worked
06:09 - on this for a long time so I'm not
06:11 - really sure what we did that messes this
06:12 - up from the files to find you might have
06:18 - mixed up
06:19 - I'm a type is invalid
06:27 - and you list well at least we know where
06:31 - to look okay I'm gonna start this timer
06:33 - this Pomodoro timer so after 25 minutes
06:36 - I'm going to take a break from the code
06:37 - and I'm going to come back and answer
06:39 - questions in the live chat
06:42 - I will glance over occasionally through
06:45 - the chat so if there's something really
06:46 - important or you have if you see
06:49 - something that I don't see that would
06:50 - solve this problem I'll try to keep
06:52 - looking over there so just put it in the
06:54 - in the chat feel free to put any
06:56 - questions in there and I'll get to them
06:58 - after the session we might only do one
07:00 - session today
07:00 - it depends on how many questions we're
07:02 - getting in the chat I do want to make
07:04 - sure I can get all the questions as well
07:05 - so let's follow this error message right
07:09 - because we can't move on and add new
07:11 - features if the features that we already
07:13 - added aren't working right so first
07:16 - things first let's check this error
07:18 - message we need to go to menu list so
07:22 - whoops let me rearrange my stuff here
07:27 - well I'm gonna bring this over actually
07:32 - I don't know what that window is so
07:34 - these are the two I think we might use
07:37 - this is our WordPress plug-in and this
07:39 - window will be our this is our react
07:42 - thing and this was some data had to
07:45 - bring over don't save I had to bring
07:50 - that over for a white list for that
07:51 - University bulletin that I had showed
07:54 - you on we'd worked on a bit and we're
07:58 - actually white listing URLs or email
08:01 - just as individually now which I'm not
08:03 - thrilled about let's see menu lists menu
08:12 - is
08:30 - you know what I wonder if this is this
08:33 - may have to do with material UI if I had
08:39 - to guess I'd say that's it if you
08:41 - remember maybe a month ago or so we we
08:47 - upgraded significant upgrade to the
08:51 - latest version of material UI and we we
08:58 - had to make a lot of changes and I don't
09:01 - know that I ever checked I may have
09:04 - missed something in the components so
09:06 - I'm guessing that might be it because I
09:08 - can't think of anything else we change
09:10 - that would affect this let's check out
09:13 - our components though yes because we'd
09:22 - only actually even have a menu list
09:24 - component so that's referring to I'm
09:26 - guessing something in in material UI so
09:30 - what component trying to look through
09:34 - this a bit to see if I can figure out
09:39 - what components
09:49 - alright let's just check out our search
09:51 - component and see what we have see what
10:01 - we're using here so we have menu item
10:05 - we're importing menu item from material
10:08 - our core menu check the render method a
10:15 - menu oh I'm sorry
10:17 - menu list
10:28 - how about this list you know this girl's
10:36 - probably too small I'm sorry about that
10:39 - make that a bit bigger
10:42 - all right so we're not actually using
10:45 - menu list anywhere lists let's just try
10:57 - list we're not even using lists at all
11:02 - here
11:05 - all right so what what components are we
11:08 - using the layout component
11:19 - see
11:30 - all right this is a bit odd I guess I
11:32 - was a good sign just to go over the code
11:34 - of it to catch everyone up and just to
11:40 - show you basically all we're doing here
11:41 - you know we we have an input field and
11:43 - then on on the ticket so unchanged I
11:50 - can't remember what handler we use but
11:52 - basically whenever we enter anything
11:54 - into that search input it just runs a
12:04 - let's see it runs this little API call
12:10 - right so we fetch that and into this URL
12:14 - string that we're creating we add in the
12:16 - search term so it's not I mean it took
12:22 - us a little while to get to this point
12:24 - but it's you know at the core of it it's
12:28 - just a basic API call to the WordPress
12:32 - REST API I see some some help come in
12:35 - here in the chat let me check this out
12:37 - Sanjeet says press control shift F and
12:40 - enter menu list to search that's search
12:43 - for menu list and check its name from
12:44 - yeah okay so Joseph it's an G both
12:47 - saying search egg what was that control
12:50 - shift F call I never knew the shortcut
12:56 - to that I always just clicked it to open
12:58 - it but it's a good idea menu list
13:07 - a poor interesting what and that's the
13:17 - only place oh man
13:21 - check the render method of menu list
13:26 - well I'm yeah I do not know all right so
13:50 - we are getting some references to search
13:54 - a s way down here 50 interesting it's a
14:08 - 250 and 250 249 in grid
14:35 - okay
14:38 - maybe maybe something changed with
14:49 - material you I in terms of what I can
14:52 - pass in here maybe this I'm guessing
15:01 - here all right let's try something
15:16 - flow control
15:19 - hell protects
15:31 - yeah I mean this this makes sense let me
15:35 - go back let's see when this area comes
15:40 - okay so as soon as I click it that's
15:43 - when it happens so the air must be it
15:46 - has nothing to do with the API call or
15:50 - anything else rendering to the page it
15:52 - must be with that the gist that section
15:57 - that deals with that that select box so
16:00 - I'm guessing whatever the problem is
16:03 - it's it's here so let's check out the
16:11 - material ID documentation for select and
16:14 - see if something that we were doing is
16:18 - now no longer supported and if it's not
16:22 - obvious from the documentation we can go
16:24 - back and check for all the versions the
16:27 - previous versions and see if there are
16:28 - any braking changes that were listed for
16:30 - that we should be able to just you know
16:32 - do a control fine and it shouldn't take
16:34 - that long but first things first let's
16:36 - check out materiai it should redirect
16:42 - this was the URL for the latest version
16:49 - it should tell me what version version
16:52 - 11.04 I don't remember what version
16:58 - we're on let's check that out first to
17:00 - make sure I knew I had my package JSON
17:07 - open somewhere alright so let's see one
17:16 - point 2.0
17:22 - let's go go to the main 101.3 point oh
17:34 - it looks like they've updated again so
17:36 - we may need to update that soon for now
17:39 - I'm just going to try to get this
17:41 - working so let's just type in select and
17:47 - see what we have
17:57 - all right let's see so what first we'll
18:05 - check select and then we'll kind of dig
18:07 - down a menu item as well let's see so
18:11 - we're using value on change and name
18:14 - which I'm assuming or supported on
18:20 - change value
18:41 - so it doesn't list name here but I don't
18:51 - think that would mess it up we can
18:57 - always check a demo implementation
19:08 - Ross is interesting we could use a
19:10 - native select
19:25 - change effects
19:32 - all right I'm not seeing anything
19:34 - terribly different right they are is
19:42 - saying option let's go back to this one
19:47 - instead of okay this one is usually menu
19:51 - item okay
19:59 - change input props so yeah for this menu
20:13 - item we have a value and this looks like
20:34 - it this looks like we could I mean looks
20:42 - like it works right let me see how I'm
20:46 - importing menu items then to you our
20:52 - core menu and select yeah I mean I'll
21:02 - make sure that I'm importing this
21:03 - correctly
21:04 - I guess whoops I could see it right here
21:14 - and then you item I'm just gonna copy
21:19 - and paste it it looks like it's the same
21:21 - but oh you know what it is it is
21:24 - slightly different
21:30 - alright so let's see if that makes a
21:32 - difference for us
21:49 - okay well it's not giving us an error
21:55 - anymore it's just not doing anything all
22:00 - right so those buttons still work and
22:02 - now we're not doing anything let me
22:03 - check the console nothing getting
22:15 - nothing
22:26 - all right what did I do
22:29 - I see a few more of you joined hey how's
22:34 - it going
22:36 - wow this is totally not how I expected
22:39 - this would go but that happens okay so
22:47 - what did I do I change the import of
22:50 - menu item which shouldn't really have at
22:54 - a difference here because we can see
22:56 - that this is how it's showing that we
23:03 - should import this we can go down here
23:06 - and check oh we can check up here and
23:11 - you check menu item
23:28 - okay Christopher you will still be
23:31 - getting that error because the change I
23:33 - just made is only reflected locally so
23:35 - at this point changes I make will not be
23:38 - available let's check it out we we
23:51 - didn't change anything here right and um
24:29 - yeah it doesn't really tell us much
24:33 - control over this like okay so we I
24:36 - believe we are using a controlled
24:38 - version of this so maybe maybe this will
24:42 - show us the difference I'm close yeah
24:49 - okay
25:10 - this
25:17 - okay all right I think I've found out
25:21 - what we need to do so when you use this
25:25 - as a controlled component which if
25:28 - anybody's not sure what a controlled
25:29 - component is let me know in the chat and
25:32 - I'll take time to explain that but a
25:37 - controlled component the value is
25:43 - controlled by state so it was just
25:47 - working before but now it looks like we
25:52 - need to open and close this as well so
25:56 - let's let's do that so we'll still have
26:01 - our on change you know and we also need
26:05 - a value of open which we had none of
26:09 - those before okay I think this is it
26:13 - this makes sense
26:14 - based on what we're seeing so we really
26:18 - had two problems first problem is we're
26:20 - importing that incorrectly but then the
26:22 - second problem is we now need to include
26:25 - this in a newer version so let's also
26:30 - add in these open and close handle is
26:36 - here I guess we can put them in here and
26:46 - we need in states I need to bring this
26:53 - over and include it in our state there
26:58 - we go
27:06 - and see how that's gonna do me for fresh
27:18 - mm-hm still not working we're not
27:22 - getting in any errors related to that
27:26 - alright let's check this out again all
27:35 - harsh it saying use and rot we could
27:39 - test it out yeah I'm gonna be a bad idea
27:45 - at this point so that's open
28:03 - actually it might not be a bad idea to
28:07 - just check react
28:10 - what's going on with reacts select okay
28:29 - all right here's our values on change
28:33 - you don't know gonna close the open is
28:35 - set to true so if we click okay so
28:42 - that's definitely not that's not
28:45 - changing sum up how did it open get set
28:47 - to true let's refresh this
29:01 - okay that's quick true okay so we did
29:09 - get truthful you know what we need
29:13 - [Music]
29:19 - clothes and clothes
29:24 - oops I think I missed something here
29:32 - let's see what they have in their handle
29:34 - change this event target
29:59 - maybe we need to switch to use this
30:02 - input for ups as well
30:15 - and I don't know why we need that ID
31:00 - yep still nothing
31:10 - interesting
31:24 - like to see what what's rendering below
31:27 - that
32:00 - all right this is interesting
32:22 - okay so we do have this rendering on the
32:27 - page let the state exit interesting okay
32:38 - my timer went up so I'm going to take
32:40 - five minutes I'm going to go back here
32:42 - to the chat and let's um I'm gonna
32:51 - answer some questions now at least I
32:54 - have a hint I'm sorry you know what this
32:56 - was hidden y'all couldn't see that so
33:00 - basically what I would have found in
33:07 - here right is if if we go down there's a
33:10 - modal at the root of this you know or
33:14 - down or shouldn't say the root right
33:16 - it's it's one of the children but anyway
33:21 - when we go in here it doesn't really
33:23 - matter whether we have this open class
33:26 - of true or false
33:29 - that's being passed down by props but
33:32 - there's a state here of exited true or
33:35 - false
33:36 - and that's what really controls this so
33:40 - somewhere along the way something's
33:42 - changing so maybe I need to take a
33:46 - closer look at how I'm supposed to
33:48 - implement that component now with with
33:50 - the newer versions so that's that's what
33:52 - I'm gonna take a look at but for now I'm
33:58 - gonna go to the live chat Phoenix says
34:03 - hey Jesse you're back I tweeted you
34:05 - today about the same glad to see you're
34:07 - back oh cool Austin check check out
34:10 - Twitter and thanks I'm glad to be back
34:17 - our ketose says sup hey how's it going
34:23 - see
34:27 - how's it going hard hey Vinod Chris
34:37 - asks do you have do you have to use
34:40 - curly braces after name I don't know you
34:44 - know what I noticed that in the
34:49 - documentation they had some strings in
34:51 - there and they were just using the
34:56 - string and not the curly braces I'm not
34:58 - sure why I put the curly braces here I
35:00 - don't know if if I had to so that might
35:06 - be something to check out although I
35:10 - don't think this is an issue sorry it's
35:18 - hard for the yawning there let's see
35:23 - Nino says I just recently got a
35:27 - contracting job thank you so much for
35:29 - the help
35:29 - hey no problem congratulations on the
35:31 - job definitely let me let me know how it
35:35 - goes
35:38 - goo goo goo Raj says please explain side
35:43 - nav as visible and hide to small devices
35:51 - the side nav I'm not so do you mean in
35:58 - general making a side nav visible and I
36:00 - had on small devices or something we're
36:04 - doing specifically on this project
36:06 - because I mean I guess normally you
36:08 - could achieve that through media queries
36:11 - in your CSS Christopher Brown says have
36:19 - you ever looked at switching to view no
36:21 - I haven't looked at switching to view I
36:25 - don't have anything against view I just
36:27 - have a lot of projects and react and at
36:29 - this point I kind of I would rather
36:31 - specialized yeah so I mean you know to
36:37 - do maybe a side project
36:40 - than view just to try it out would be
36:41 - cool but I have a lot of stuff going on
36:44 - and react right now so I think it would
36:46 - be I don't know I think I just think
36:51 - it'd be better for me to specialize at
36:52 - this point Nietzsche says no the curly
37:00 - braces starts you enter JavaScript mode
37:02 - and react yeah so that's why I'm
37:05 - wondering if maybe those were necessary
37:08 - in an older version all right I'm yeah
37:11 - I'm not exactly sure why I added those
37:13 - maybe I can take them out and it'll work
37:16 - in any case I'm pretty sure that's not
37:19 - gonna solve the issue but it may save us
37:23 - a few characters okay
37:32 - Nino says could you help me with the
37:34 - layout yet Nino let me know just like
37:38 - send me a message or something on
37:39 - Twitter or you know that you know ask me
37:43 - whatever questions you need to okay so
37:49 - timers up it's it's 2:30 8 p.m. my time
37:56 - so I don't want to do a whole nother
37:59 - 25-minute session because that'll put me
38:02 - into my meeting time so let me check
38:16 - for now yeah you know what for now my
38:23 - next step is pretty much going to be to
38:25 - just look through the documentation more
38:27 - carefully which is not going to be very
38:29 - fun for you all so I'm gonna just switch
38:33 - up to checking on another part of this
38:37 - and I'll read through the documentation
38:40 - later so for now I mean these still work
38:45 - so sorry these still work and the search
38:54 - still works so you know we've got enough
38:56 - functionality to go on here okay so I'm
39:08 - not gonna restart that timer I'm just
39:10 - gonna go for about I don't know 10 more
39:12 - minutes with this actually yeah let's
39:14 - sit a 10 minute timer go about ten
39:16 - minutes and then I'll see what's going
39:18 - on a live chat and I'll keep an eye on
39:23 - if I start getting a lot of questions
39:24 - I'll go back to the chat so what I'd
39:28 - like to do is let's bring this back up
39:33 - again what I'd like to do is make sure I
39:43 - want to take a look at these these links
39:46 - that we're creating because that's gonna
39:50 - be an issue because not all of them will
39:55 - work
40:03 - Wow this is terrible if there's no way
40:06 - this is gonna work yeah okay yeah for
40:11 - sure that's not working all right so we
40:18 - can come down here and look
40:26 - where we have this
40:34 - parents checkboxes ah here we are so
40:39 - we're doing a lot of sorting right based
40:42 - on what our sort it could be if our
40:47 - check box were working so we don't need
40:49 - to worry about this right now
40:52 - what we have we're getting back JSON
40:56 - data from our API call and obviously
41:01 - reading back the title and the category
41:04 - but we're also getting back the the type
41:09 - and the slug and that's what we're using
41:13 - to create our URL which it works
41:17 - sometimes but not all the time so we're
41:23 - gonna need more data we need more info
41:28 - I'm wondering how we can do this
41:43 - I think what we need
41:53 - yeah what we'll need is maybe another
42:01 - another filled in in WordPress and a
42:08 - risk originally I was trying to get
42:09 - around doing this but now that I have
42:11 - some student workers I think yeah I
42:16 - think it this can work we can actually
42:19 - add a field so what may need to happen
42:25 - then
42:37 - yeah let me go to the WordPress where
42:40 - sir that I thought I already loved into
42:43 - one oh wow
42:56 - okay let's go to major so that's what we
43:00 - were looking at I think this so what we
43:07 - need to do wow this is weird what the
43:12 - heck happened here none of these even
43:14 - have categories hmm that's no good off
43:25 - to fix this let's go and click on one of
43:28 - these then just to see what we have
43:32 - alright so in particular yeah this this
43:39 - is actually pretty awful there's not
43:41 - even very much in there what we would
43:44 - need then is a new field somewhat like
43:50 - this permalink field where we can edit
43:53 - this link but what we'll do we'll have a
43:58 - field add a field where a user can
44:01 - manually put in that that URL at least
44:08 - that that last part of the URL and then
44:11 - on the react side we can check so for
44:18 - our href here we'll actually have a turn
44:19 - area and it will check to see if we
44:22 - actually received a value for that URL
44:25 - if we did it'll use that if we did not
44:29 - then maybe it'll fall back to something
44:32 - like this I would really rather have
44:37 - that work automatically but
44:45 - just given given the complexity of the
44:50 - URLs and the fact that they're not they
44:52 - don't really all follow the same pattern
44:54 - as you know if you've watched the
44:56 - previous episodes which I'm sure you've
44:58 - seen that I'm just not sure that there's
45:01 - a way to if not only around you know
45:06 - having users put in manually here's what
45:10 - the URL needs to be for this piece of
45:12 - content that that should solve yeah
45:20 - that's just solve that problem it should
45:24 - solve our search problem I think yeah
45:34 - so that's probably what I'm gonna do to
45:36 - fix that
45:37 - normally I would go in and fix that so
45:39 - it's but I'm just letting you know what
45:41 - the next step is we may or may not do
45:44 - that on a stream let me know if you'd be
45:47 - interested in that that's probably going
45:49 - to involve some PHP or at least finding
45:52 - some sort of plugin that we can use I'm
45:55 - having some issues right now where in
45:57 - the past we've used advanced custom
45:58 - fields which we could use here with the
46:02 - API but the problem is I need to find
46:05 - something that also works with WP graph
46:09 - QL and advanced custom fields currently
46:12 - does not work with WP graph QL so if I'm
46:15 - gonna have a solution may as well find
46:18 - one that works for everything I'd rather
46:20 - not use advanced custom fields plug-in
46:22 - just for the search and you know have
46:26 - that whole plug-in there just for one
46:27 - thing it'd be better to find a solution
46:32 - that can work for everything if possible
46:37 - let me check the chat I mean I'm
46:40 - probably gonna have to wrap things up
46:41 - here very soon so this is kind of a
46:45 - frustrating stream for me I actually
46:48 - didn't get anything done well I mean I
46:51 - got I solved one error message that's
46:53 - about it but just kind of unexpected
46:56 - errors nikki says in the chat if we're
47:06 - self hosting those fonts next Jess will
47:08 - probably probably let you add the needed
47:11 - loader to webpack for it to work okay
47:16 - cool
47:20 - Christopher says you should work on
47:22 - replacing the loading with a loading
47:25 - indicator yeah for sure I've you know
47:27 - what I think I have an issue about that
47:29 - on github right now
47:31 - I don't know vaguely remember making
47:34 - that issue so you know that's definitely
47:37 - on the list
47:41 - but yeah I mean I'd say that getting
47:46 - this this.href right is probably the
47:50 - most important thing right now for that
47:52 - search because that's that's key
47:55 - functionality right if user searching
47:58 - for something they want to be able to
47:59 - click on it and actually go to that page
48:01 - so that needs to work everything else is
48:04 - not necessary to work even the sorting
48:07 - you know if we had to launch today I
48:10 - could remove that sort look and just
48:14 - leave it and for later but users need to
48:18 - be able to click on those links so
48:19 - that's priority number one for the
48:20 - search page so that's definitely getting
48:22 - done and then we're gonna we need to add
48:28 - more more types so just to show you
48:30 - before I wrap things up with the actual
48:34 - fetch the WordPress comes built in with
48:39 - this WordPress API it's a REST API and
48:43 - the way you use this is you just have
48:47 - your URL so here's your base URL which
48:49 - is the URL to the WordPress site you add
48:52 - on to the NW p - json / WP / v - and
48:57 - then after that you can you basically
49:00 - tell the api like hey here's all the
49:03 - endpoints so i'm going to get data from
49:04 - so we're using a plugin called multiple
49:06 - post type which allows us to get data
49:09 - from multiple post types but then that
49:12 - also means we need to list all the post
49:15 - types that we want so currently we are
49:19 - adding by default Department major and
49:23 - faculty but we have a ton of other types
49:26 - so we need to include all those other
49:28 - types and then also we can change what
49:33 - types are added so in state we have
49:38 - these check boxes right so we can change
49:41 - which type is that we're searching for
49:46 - okay and that's how we'll filter so this
49:49 - definitely needs some additional info
49:52 - here right now we are getting
49:55 - per page which i think is reasonable
49:57 - under per page the user can definitely
50:00 - use filters to narrow that down and you
50:04 - know I I think it'd be fine I mean think
50:07 - about it we'll only gives you ten per
50:09 - page and most people don't get passed on
50:12 - most people don't get past that first
50:14 - page but then after that it's very rare
50:16 - for somebody to actually go through you
50:20 - know 200 results right they have to go
50:22 - through ten pages of search so I think
50:26 - that should be fine and we may even want
50:30 - to lower this really
50:48 - all right and that's my 10-minute timer
50:50 - just went off so I'm gonna check the
50:53 - chat it looks like I don't have any more
50:55 - questions so kind of slow day for the
50:59 - chat kind of slow day for me too in
51:03 - terms of what I'm getting done though
51:05 - all right so yeah I'm gonna wrap things
51:11 - up and see I kind of hope I don't have a
51:14 - meeting but I do want to be prepared if
51:16 - I do so if I do have a meeting I'm gonna
51:18 - have to leave for that meeting in just a
51:20 - few minutes so thank you all for joining
51:23 - me definitely glad to be back I hope
51:26 - that you're glad that I'm back to and
51:31 - someone asked if I could flash the
51:34 - folder structure so yeah let me there we
51:40 - go
51:45 - all right that's that's the structure
51:51 - and you can check it out on github as
51:54 - well so all of this code is available on
51:56 - github the links in the description feel
52:01 - free to open pull requests a for kit to
52:04 - use it for whatever projects that that
52:07 - you'd like deaf have a lot of issues
52:11 - open right now if you want to work on
52:13 - them that's that's awesome especially if
52:16 - you're trying to get your first pull
52:17 - requests in let me know make a comment
52:21 - on an issue and I'd be more than happy
52:23 - to work with you to help you get a pull
52:26 - request in alright so I tomorrow is
52:33 - pretty busy with meetings for me but I'm
52:36 - gonna do my best to try to get a stream
52:38 - in especially since I didn't stream at
52:40 - all last week so hopefully I'll be able
52:42 - to stream I'm not exactly sure what time
52:44 - afternoon is gonna be bad for me so I'm
52:47 - thinking maybe late morning I might be
52:51 - able to get something in but I'll let
52:53 - y'all know on Twitter and probably on
52:56 - Instagram as well if you're subscribed
52:58 - to this channel and you turn on
52:59 - notifications you should get a
53:00 - notification when I scheduled the stream
53:02 - and it'll remind you again like a half
53:05 - hour before the stream starts so I
53:07 - definitely recommend that if you'd like
53:08 - to see some other videos check out my
53:11 - youtube channel the link is in the
53:13 - description I do occasionally put some
53:15 - videos and livestreams on there as well
53:19 - let me thank you and that's it for me
53:21 - thanks again for for joining me and for
53:25 - let me know what you think in in the
53:30 - chat I really appreciate that and I'll
53:33 - see you all tomorrow until then have a
53:34 - great day

Cleaned transcript:

hey everybody welcome to live coding with Jesse I'm Jesse and I'm happy to be back I haven't streamed for a while I was on vacation last week and today we're gonna work on our search feature which we haven't worked on in a really long time so we got it to a point where it works but it didn't have all the functionality that we wanted so now I want to go back to it and take a look at it you know see if we still like it and what we need to do is to get it to a point where we're really happy with it and it'll be good for a user yeah so in the chat I guess I I haven't I haven't talked with you it feels like such a long time so if anything new is going on let me know in the chat I'll definitely check that out you know in between coding and also just a heads up I'd like to keep this stream under an hour I might have a meeting at 3 p.m. my time which is about an hour from now so just in case I do have that meeting I want to make sure I'm ready for it so I'd like to keep that you know maybe give me like 10 minutes to prepare because if I do have a meeting I'll probably have to present some data that I did not get yet hey iniki's here how's it going Syd Syd haurache sorry if I'm mispronouncing the name let me know if I am please anyway how's it going all right so let me get started in case I have some new people here I'll just do a quick recap of how we made this the search function and let me put it up on the screen here there we go sorry if the picture is not as good as normal I left my my webcam in my backpack and I left my backpack at home I had a doctor's appointment this morning and just was going to be late and just ran out the door without at all but I think it'll do you all don't watch this for my face anyway so this screen will still look good the code will look good so here's our search page and I'm just running this locally but if you want to check this out live you can go to dev dot Franciscan University and I should let me let me just paste this in to the live chat now and then that way you all can check it out so the dev the version running on my computer and the version running here at this URL that I just put in the live chat exactly the same version in terms of this page so you should get the same results that I'm getting here and so let's just let's check this out cool yeah so you see I as I type things change there we go so I get different results as I type and right now the results show up with a category so our categories here are basically our post types that we've set up in WordPress and I'll show you a little bit about about that in in just a few seconds here and then we have the title and it looks like yeah it looks like some of these titles still could use a bit of work I have had some student workers helping out with cleaning up the data which is really nice so it looks like the rest of these look really good so others have to check on some of these things because obviously we don't want three PLU four Pharmacy asterisk right that's that's not good so probably don't need that at all that piece of content but right now some of the links work so we've made the title a link doesn't really look like a link so we might need to style that differently but if we click this it should take us maybe is it gonna work okay it is it's working now so that's weird actually this is really weird I thought we had styled this so that it should work let's check out another faculty member let's just say died here we go Monica's okay so all right I need a little bit of work on styling I'm glad I saw that because I thought we had these styled pretty like okay across the board so let's go back we'll stick with this search page for now so let me type in since I know biology works I'll just keep going with that because we get a lot of results so we can search so if I click sort whoa aha Christopher I see you just put that in there so Christopher already got that era the sort was working and now it's not so what did we do we haven't worked on this for a long time so I'm not really sure what we did that messes this up from the files to find you might have mixed up I'm a type is invalid and you list well at least we know where to look okay I'm gonna start this timer this Pomodoro timer so after 25 minutes I'm going to take a break from the code and I'm going to come back and answer questions in the live chat I will glance over occasionally through the chat so if there's something really important or you have if you see something that I don't see that would solve this problem I'll try to keep looking over there so just put it in the in the chat feel free to put any questions in there and I'll get to them after the session we might only do one session today it depends on how many questions we're getting in the chat I do want to make sure I can get all the questions as well so let's follow this error message right because we can't move on and add new features if the features that we already added aren't working right so first things first let's check this error message we need to go to menu list so whoops let me rearrange my stuff here well I'm gonna bring this over actually I don't know what that window is so these are the two I think we might use this is our WordPress plugin and this window will be our this is our react thing and this was some data had to bring over don't save I had to bring that over for a white list for that University bulletin that I had showed you on we'd worked on a bit and we're actually white listing URLs or email just as individually now which I'm not thrilled about let's see menu lists menu is you know what I wonder if this is this may have to do with material UI if I had to guess I'd say that's it if you remember maybe a month ago or so we we upgraded significant upgrade to the latest version of material UI and we we had to make a lot of changes and I don't know that I ever checked I may have missed something in the components so I'm guessing that might be it because I can't think of anything else we change that would affect this let's check out our components though yes because we'd only actually even have a menu list component so that's referring to I'm guessing something in in material UI so what component trying to look through this a bit to see if I can figure out what components alright let's just check out our search component and see what we have see what we're using here so we have menu item we're importing menu item from material our core menu check the render method a menu oh I'm sorry menu list how about this list you know this girl's probably too small I'm sorry about that make that a bit bigger all right so we're not actually using menu list anywhere lists let's just try list we're not even using lists at all here all right so what what components are we using the layout component see all right this is a bit odd I guess I was a good sign just to go over the code of it to catch everyone up and just to show you basically all we're doing here you know we we have an input field and then on on the ticket so unchanged I can't remember what handler we use but basically whenever we enter anything into that search input it just runs a let's see it runs this little API call right so we fetch that and into this URL string that we're creating we add in the search term so it's not I mean it took us a little while to get to this point but it's you know at the core of it it's just a basic API call to the WordPress REST API I see some some help come in here in the chat let me check this out Sanjeet says press control shift F and enter menu list to search that's search for menu list and check its name from yeah okay so Joseph it's an G both saying search egg what was that control shift F call I never knew the shortcut to that I always just clicked it to open it but it's a good idea menu list a poor interesting what and that's the only place oh man check the render method of menu list well I'm yeah I do not know all right so we are getting some references to search a s way down here 50 interesting it's a 250 and 250 249 in grid okay maybe maybe something changed with material you I in terms of what I can pass in here maybe this I'm guessing here all right let's try something flow control hell protects yeah I mean this this makes sense let me go back let's see when this area comes okay so as soon as I click it that's when it happens so the air must be it has nothing to do with the API call or anything else rendering to the page it must be with that the gist that section that deals with that that select box so I'm guessing whatever the problem is it's it's here so let's check out the material ID documentation for select and see if something that we were doing is now no longer supported and if it's not obvious from the documentation we can go back and check for all the versions the previous versions and see if there are any braking changes that were listed for that we should be able to just you know do a control fine and it shouldn't take that long but first things first let's check out materiai it should redirect this was the URL for the latest version it should tell me what version version 11.04 I don't remember what version we're on let's check that out first to make sure I knew I had my package JSON open somewhere alright so let's see one point 2.0 let's go go to the main 101.3 point oh it looks like they've updated again so we may need to update that soon for now I'm just going to try to get this working so let's just type in select and see what we have all right let's see so what first we'll check select and then we'll kind of dig down a menu item as well let's see so we're using value on change and name which I'm assuming or supported on change value so it doesn't list name here but I don't think that would mess it up we can always check a demo implementation Ross is interesting we could use a native select change effects all right I'm not seeing anything terribly different right they are is saying option let's go back to this one instead of okay this one is usually menu item okay change input props so yeah for this menu item we have a value and this looks like it this looks like we could I mean looks like it works right let me see how I'm importing menu items then to you our core menu and select yeah I mean I'll make sure that I'm importing this correctly I guess whoops I could see it right here and then you item I'm just gonna copy and paste it it looks like it's the same but oh you know what it is it is slightly different alright so let's see if that makes a difference for us okay well it's not giving us an error anymore it's just not doing anything all right so those buttons still work and now we're not doing anything let me check the console nothing getting nothing all right what did I do I see a few more of you joined hey how's it going wow this is totally not how I expected this would go but that happens okay so what did I do I change the import of menu item which shouldn't really have at a difference here because we can see that this is how it's showing that we should import this we can go down here and check oh we can check up here and you check menu item okay Christopher you will still be getting that error because the change I just made is only reflected locally so at this point changes I make will not be available let's check it out we we didn't change anything here right and um yeah it doesn't really tell us much control over this like okay so we I believe we are using a controlled version of this so maybe maybe this will show us the difference I'm close yeah okay this okay all right I think I've found out what we need to do so when you use this as a controlled component which if anybody's not sure what a controlled component is let me know in the chat and I'll take time to explain that but a controlled component the value is controlled by state so it was just working before but now it looks like we need to open and close this as well so let's let's do that so we'll still have our on change you know and we also need a value of open which we had none of those before okay I think this is it this makes sense based on what we're seeing so we really had two problems first problem is we're importing that incorrectly but then the second problem is we now need to include this in a newer version so let's also add in these open and close handle is here I guess we can put them in here and we need in states I need to bring this over and include it in our state there we go and see how that's gonna do me for fresh mmhm still not working we're not getting in any errors related to that alright let's check this out again all harsh it saying use and rot we could test it out yeah I'm gonna be a bad idea at this point so that's open actually it might not be a bad idea to just check react what's going on with reacts select okay all right here's our values on change you don't know gonna close the open is set to true so if we click okay so that's definitely not that's not changing sum up how did it open get set to true let's refresh this okay that's quick true okay so we did get truthful you know what we need clothes and clothes oops I think I missed something here let's see what they have in their handle change this event target maybe we need to switch to use this input for ups as well and I don't know why we need that ID yep still nothing interesting like to see what what's rendering below that all right this is interesting okay so we do have this rendering on the page let the state exit interesting okay my timer went up so I'm going to take five minutes I'm going to go back here to the chat and let's um I'm gonna answer some questions now at least I have a hint I'm sorry you know what this was hidden y'all couldn't see that so basically what I would have found in here right is if if we go down there's a modal at the root of this you know or down or shouldn't say the root right it's it's one of the children but anyway when we go in here it doesn't really matter whether we have this open class of true or false that's being passed down by props but there's a state here of exited true or false and that's what really controls this so somewhere along the way something's changing so maybe I need to take a closer look at how I'm supposed to implement that component now with with the newer versions so that's that's what I'm gonna take a look at but for now I'm gonna go to the live chat Phoenix says hey Jesse you're back I tweeted you today about the same glad to see you're back oh cool Austin check check out Twitter and thanks I'm glad to be back our ketose says sup hey how's it going see how's it going hard hey Vinod Chris asks do you have do you have to use curly braces after name I don't know you know what I noticed that in the documentation they had some strings in there and they were just using the string and not the curly braces I'm not sure why I put the curly braces here I don't know if if I had to so that might be something to check out although I don't think this is an issue sorry it's hard for the yawning there let's see Nino says I just recently got a contracting job thank you so much for the help hey no problem congratulations on the job definitely let me let me know how it goes goo goo goo Raj says please explain side nav as visible and hide to small devices the side nav I'm not so do you mean in general making a side nav visible and I had on small devices or something we're doing specifically on this project because I mean I guess normally you could achieve that through media queries in your CSS Christopher Brown says have you ever looked at switching to view no I haven't looked at switching to view I don't have anything against view I just have a lot of projects and react and at this point I kind of I would rather specialized yeah so I mean you know to do maybe a side project than view just to try it out would be cool but I have a lot of stuff going on and react right now so I think it would be I don't know I think I just think it'd be better for me to specialize at this point Nietzsche says no the curly braces starts you enter JavaScript mode and react yeah so that's why I'm wondering if maybe those were necessary in an older version all right I'm yeah I'm not exactly sure why I added those maybe I can take them out and it'll work in any case I'm pretty sure that's not gonna solve the issue but it may save us a few characters okay Nino says could you help me with the layout yet Nino let me know just like send me a message or something on Twitter or you know that you know ask me whatever questions you need to okay so timers up it's it's 230 8 p.m. my time so I don't want to do a whole nother 25minute session because that'll put me into my meeting time so let me check for now yeah you know what for now my next step is pretty much going to be to just look through the documentation more carefully which is not going to be very fun for you all so I'm gonna just switch up to checking on another part of this and I'll read through the documentation later so for now I mean these still work so sorry these still work and the search still works so you know we've got enough functionality to go on here okay so I'm not gonna restart that timer I'm just gonna go for about I don't know 10 more minutes with this actually yeah let's sit a 10 minute timer go about ten minutes and then I'll see what's going on a live chat and I'll keep an eye on if I start getting a lot of questions I'll go back to the chat so what I'd like to do is let's bring this back up again what I'd like to do is make sure I want to take a look at these these links that we're creating because that's gonna be an issue because not all of them will work Wow this is terrible if there's no way this is gonna work yeah okay yeah for sure that's not working all right so we can come down here and look where we have this parents checkboxes ah here we are so we're doing a lot of sorting right based on what our sort it could be if our check box were working so we don't need to worry about this right now what we have we're getting back JSON data from our API call and obviously reading back the title and the category but we're also getting back the the type and the slug and that's what we're using to create our URL which it works sometimes but not all the time so we're gonna need more data we need more info I'm wondering how we can do this I think what we need yeah what we'll need is maybe another another filled in in WordPress and a risk originally I was trying to get around doing this but now that I have some student workers I think yeah I think it this can work we can actually add a field so what may need to happen then yeah let me go to the WordPress where sir that I thought I already loved into one oh wow okay let's go to major so that's what we were looking at I think this so what we need to do wow this is weird what the heck happened here none of these even have categories hmm that's no good off to fix this let's go and click on one of these then just to see what we have alright so in particular yeah this this is actually pretty awful there's not even very much in there what we would need then is a new field somewhat like this permalink field where we can edit this link but what we'll do we'll have a field add a field where a user can manually put in that that URL at least that that last part of the URL and then on the react side we can check so for our href here we'll actually have a turn area and it will check to see if we actually received a value for that URL if we did it'll use that if we did not then maybe it'll fall back to something like this I would really rather have that work automatically but just given given the complexity of the URLs and the fact that they're not they don't really all follow the same pattern as you know if you've watched the previous episodes which I'm sure you've seen that I'm just not sure that there's a way to if not only around you know having users put in manually here's what the URL needs to be for this piece of content that that should solve yeah that's just solve that problem it should solve our search problem I think yeah so that's probably what I'm gonna do to fix that normally I would go in and fix that so it's but I'm just letting you know what the next step is we may or may not do that on a stream let me know if you'd be interested in that that's probably going to involve some PHP or at least finding some sort of plugin that we can use I'm having some issues right now where in the past we've used advanced custom fields which we could use here with the API but the problem is I need to find something that also works with WP graph QL and advanced custom fields currently does not work with WP graph QL so if I'm gonna have a solution may as well find one that works for everything I'd rather not use advanced custom fields plugin just for the search and you know have that whole plugin there just for one thing it'd be better to find a solution that can work for everything if possible let me check the chat I mean I'm probably gonna have to wrap things up here very soon so this is kind of a frustrating stream for me I actually didn't get anything done well I mean I got I solved one error message that's about it but just kind of unexpected errors nikki says in the chat if we're self hosting those fonts next Jess will probably probably let you add the needed loader to webpack for it to work okay cool Christopher says you should work on replacing the loading with a loading indicator yeah for sure I've you know what I think I have an issue about that on github right now I don't know vaguely remember making that issue so you know that's definitely on the list but yeah I mean I'd say that getting this this.href right is probably the most important thing right now for that search because that's that's key functionality right if user searching for something they want to be able to click on it and actually go to that page so that needs to work everything else is not necessary to work even the sorting you know if we had to launch today I could remove that sort look and just leave it and for later but users need to be able to click on those links so that's priority number one for the search page so that's definitely getting done and then we're gonna we need to add more more types so just to show you before I wrap things up with the actual fetch the WordPress comes built in with this WordPress API it's a REST API and the way you use this is you just have your URL so here's your base URL which is the URL to the WordPress site you add on to the NW p json / WP / v and then after that you can you basically tell the api like hey here's all the endpoints so i'm going to get data from so we're using a plugin called multiple post type which allows us to get data from multiple post types but then that also means we need to list all the post types that we want so currently we are adding by default Department major and faculty but we have a ton of other types so we need to include all those other types and then also we can change what types are added so in state we have these check boxes right so we can change which type is that we're searching for okay and that's how we'll filter so this definitely needs some additional info here right now we are getting per page which i think is reasonable under per page the user can definitely use filters to narrow that down and you know I I think it'd be fine I mean think about it we'll only gives you ten per page and most people don't get passed on most people don't get past that first page but then after that it's very rare for somebody to actually go through you know 200 results right they have to go through ten pages of search so I think that should be fine and we may even want to lower this really all right and that's my 10minute timer just went off so I'm gonna check the chat it looks like I don't have any more questions so kind of slow day for the chat kind of slow day for me too in terms of what I'm getting done though all right so yeah I'm gonna wrap things up and see I kind of hope I don't have a meeting but I do want to be prepared if I do so if I do have a meeting I'm gonna have to leave for that meeting in just a few minutes so thank you all for joining me definitely glad to be back I hope that you're glad that I'm back to and someone asked if I could flash the folder structure so yeah let me there we go all right that's that's the structure and you can check it out on github as well so all of this code is available on github the links in the description feel free to open pull requests a for kit to use it for whatever projects that that you'd like deaf have a lot of issues open right now if you want to work on them that's that's awesome especially if you're trying to get your first pull requests in let me know make a comment on an issue and I'd be more than happy to work with you to help you get a pull request in alright so I tomorrow is pretty busy with meetings for me but I'm gonna do my best to try to get a stream in especially since I didn't stream at all last week so hopefully I'll be able to stream I'm not exactly sure what time afternoon is gonna be bad for me so I'm thinking maybe late morning I might be able to get something in but I'll let y'all know on Twitter and probably on Instagram as well if you're subscribed to this channel and you turn on notifications you should get a notification when I scheduled the stream and it'll remind you again like a half hour before the stream starts so I definitely recommend that if you'd like to see some other videos check out my youtube channel the link is in the description I do occasionally put some videos and livestreams on there as well let me thank you and that's it for me thanks again for for joining me and for let me know what you think in in the chat I really appreciate that and I'll see you all tomorrow until then have a great day
