With timestamps:

00:08 - hey everybody is Jessie today we're
00:14 - going to use jQuery with react which
00:18 - some of you might be shocked at that if
00:23 - you read a lot of articles and tutorials
00:27 - usually they tell you not to use jQuery
00:29 - with react and then they're usually
00:32 - right but sometimes you you already are
00:36 - using it or you have to use it for some
00:39 - reason in this case I'm using the
00:43 - materialized framework which needs
00:46 - jQuery for some of the things that it
00:48 - does also if if you haven't seen some of
00:53 - the earlier videos when I started this
00:55 - project the idea was that first we had a
00:58 - really really tight timeline so the
01:01 - first thing we were going to do was make
01:03 - a just a static site and have that ready
01:08 - to launch if we couldn't actually link
01:13 - up the WordPress CMS and with react like
01:16 - we're doing now
01:16 - well the the launch day got pushed back
01:19 - to this Thursday and that gave us enough
01:22 - time to actually do it the way that I
01:26 - wanted it to be from the beginning but
01:29 - in trying to complete that static site
01:32 - as fast as I possibly could I use some
01:36 - jQuery so now I need to make that jQuery
01:41 - work with react so I've had some success
01:45 - so far and making things work and I'll
01:48 - show you what I've done and then we're
01:49 - going to try to make this this
01:51 - navigation piece let me show you so this
02:00 - red navigation bar was sticky if you
02:05 - remember when we had the static site it
02:06 - was sticky when we converted this to
02:08 - react site it started throwing errors in
02:11 - the console
02:13 - so I disabled the stickiness of it just
02:17 - so that I could get rid of the airs
02:19 - temporarily until I had time to fix it
02:22 - so now it's time to fix it and let me
02:28 - make this bigger so we can all see oh if
02:34 - you watched yesterday and saw that I I
02:36 - went through everything and then
02:37 - couldn't get it to work the whole
02:42 - problem was I forgot to save the file so
02:47 - super embarrassing
02:48 - I had hard-coded that hello world page
02:51 - in so that I was searching for the data
02:54 - from the hello world post and then when
02:57 - I switched over to use the variable that
02:59 - was getting passed in I never saved it
03:04 - so it totally works now you can go on
03:08 - the the demo site there's a link and if
03:11 - you go into the to the news portion of
03:13 - it you can click on the different news
03:15 - articles it will take you to the right
03:17 - page so everything we did yesterday
03:19 - worked I I just didn't save it that's
03:24 - how it didn't work
03:25 - hey everybody I got a lot of people
03:27 - saying hi in the latch at I'll answer
03:31 - one question before you start it what's
03:33 - the best way to get started with react
03:35 - probably find it's called create react
03:40 - app and that's what is called so
03:44 - assuming that you know how NPM works and
03:48 - you can you know pull down packages like
03:51 - that then find create react app and you
03:57 - can download that start it up everything
04:01 - will be kind of pre-made for you so you
04:03 - have less options to customize but it's
04:06 - really helpful to get you started on
04:09 - that so I would definitely check that
04:11 - out and if your just read read through
04:16 - some of the tutorials on reacts site
04:18 - they're actually pretty good and what
04:21 - some some videos hopefully after I
04:25 - launch the site will have time to do
04:26 - some
04:27 - short videos highlighting some nice
04:29 - resources and give us some little
04:31 - tutorials and that's one of the topics
04:33 - that I'm going to touch on okay so let's
04:38 - get to this so this big section of code
04:41 - here that I've commented out is what
04:45 - controls the sticky nav so let's get rid
04:48 - of these comments and see what happens I
04:54 - think that's it now I need this
05:03 - okay oops okay so I think there we go
05:13 - I think that's everything that I
05:17 - commented up is now back in alright so
05:20 - let me make sure I save that this time
05:22 - and we're gonna let me bring this keep
05:29 - this over here let me refresh make sure
05:35 - with changes are in there okay we can
05:41 - see nothing's happening okay so our
05:50 - sticky NAB that was working when we had
05:56 - in-page snap is not defined all right so
05:59 - I'm getting an error I'll bring this
06:00 - over and show you so it's giving us this
06:02 - error it was working when the other
06:04 - static site is not working now it's
06:07 - saying that in page nav is not defined
06:11 - and ass on line one for T so let's go
06:14 - back is this something in vision
06:30 - where is that coming from
06:39 - yes
06:43 - seems like
06:48 - maybe I didn't need that so I'm
06:52 - obviously not defining that anywhere
06:54 - maybe I pulled that over from my
06:56 - previous project and didn't really need
06:58 - it let's just try again all right and
07:04 - [Music]
07:06 - refresh oh nice okay so you are getting
07:13 - this working here but what I keep having
07:22 - happen to me is that sometimes these
07:30 - will work and sometimes they won't work
07:38 - I'm not exactly sure why but when I
07:44 - actually put this on a server
07:46 - pretty much everything I'm trying to do
07:48 - a jQuery has not been working I'm not
07:52 - exactly sure why so here's what I did to
07:55 - get around that so let me show you oh
08:00 - actually I'll put this on the on the
08:02 - server in a second and again I'll show
08:05 - you guys how I do that or at least how
08:07 - I'm doing it right now so here's what I
08:10 - did okay so normally you would just put
08:20 - everything in your document ready
08:22 - function for jQuery so and that that
08:30 - would run for whatever reason it doesn't
08:35 - always run it's not always finding
08:38 - things when they're getting loaded so if
08:42 - I want to be able to actually call these
08:45 - like let's say from my component I need
08:49 - to make them available globally so this
08:51 - is kind of looks like a little
08:53 - workaround there's probably a better way
08:57 - to do this I've looked up before but
09:00 - never
09:00 - exactly figured out ways to just use
09:03 - jQuery right within a react component so
09:06 - like import it in and use it there and I
09:09 - haven't gotten it to work not that it's
09:13 - not doable I just couldn't couldn't get
09:15 - it to work and since I'm on such a tight
09:18 - timeline for this project I didn't want
09:20 - to attempt to get that to work so
09:21 - instead I knew this would work I had
09:25 - some things let's do this background
09:27 - scroll so let me show you we had this on
09:30 - the home page we have this effect and so
09:37 - I have this effect of scrolling it's a
09:43 - meeting let me refresh it for a second
09:50 - it should it shouldn't cut that off
09:52 - unless I not a not a great start
10:01 - everything I'm trying to do is either
10:03 - working when I expected it not to work
10:05 - or not working when I expected it to
10:07 - work so I'm just going to restart the
10:11 - the dev server here because it was it
10:15 - just kept loading so that's like it's
10:21 - pretty fast it'll start in just a few
10:22 - seconds all right it's ready okay so the
10:32 - effect that I had which for some reason
10:34 - is is cutting off here when it it was
10:37 - not cutting off previously but the
10:43 - effect that I have basically is this is
10:47 - like kind of like a parallax effect in
10:50 - the background and then it stops and
10:52 - then it starts flowing normally with the
10:54 - page okay so that's that's what we're
10:58 - trying to do I thought that I had fixed
11:01 - this part so it was cutting this image
11:04 - off but I guess I haven't so here's what
11:09 - I did I'm just going to run through this
11:12 - quickly is that how I did it's not
11:13 - important but
11:14 - just me about how we get it to work as
11:18 - within our react component is more
11:20 - important so basically just using some
11:23 - jQuery right because for two reasons one
11:26 - we already have to look Jake here on
11:28 - this page for materialized and to jQuery
11:32 - can save a lot of time and I don't have
11:35 - a lot of time right now so all I'm doing
11:41 - is I'm tracking the scroll as as the
11:46 - user Scrolls down and once they get to a
11:48 - certain point in the page I'm changing
11:51 - the background position Y and I'm
11:56 - changing it by a certain amount let's
12:03 - let me see what this variable is so
12:09 - basically I'm changing in in correlation
12:13 - to the scroll so like every time you
12:16 - scroll one pixel the position changes by
12:19 - one pixel so that's why once you get
12:23 - down to here and start scrolling up it
12:25 - actually is changing the position of
12:28 - this by one pixel
12:30 - every time I scroll one pixel okay so
12:33 - that's how I get the effect I tried just
12:35 - kind of changing it from like background
12:37 - attachment fixed to a different like
12:41 - just to initial or something that I had
12:43 - like a big jerk so at some point it
12:46 - would just change position this very
12:48 - abruptly and it didn't look nice the
12:51 - other thing I added to try to help get
12:54 - rid of this you know getting cut off
12:57 - here was I did add a check to see what
13:01 - the width was of the window so depending
13:04 - on the width it adjusts the position so
13:10 - I just have I just kind of set this in
13:12 - line with a little ternary operator here
13:16 - so it's like if the window is larger
13:18 - than 1540 pixels they were going to
13:22 - adjust it either up or down so you have
13:24 - a negative 12
13:28 - adjustments are down or positive 12% up
13:33 - so for whatever reason I wasn't it's not
13:38 - exactly working right now so all right
13:43 - there yeah I think maybe my since I have
13:46 - the screen in like a weird kind of
13:47 - square which is not really a normal
13:50 - screen size nowadays that's what was
13:51 - giving me okay so that's kind of how
13:56 - it's supposed to look you should be able
13:58 - to see that part all right so enough
14:00 - about the how I did that the problem was
14:04 - when I first did this and I just had
14:08 - this whole thing inside my document
14:10 - ready function it wasn't working and the
14:17 - same thing with with this one you see a
14:22 - kind of a similar thing happened with
14:24 - this one a scroll function which I just
14:27 - wanted to have some buttons to scroll
14:29 - horizontally on a place where I have a
14:30 - responsive table okay so it worked when
14:36 - I tested it but when I put it on the
14:37 - server this would not work it was not it
14:45 - was not recognizing this this div at all
14:49 - so nothing was working on it so how I
14:54 - solved it was I pulled this function out
14:58 - out of the document dot ready so I
15:01 - pulled all this code out I put it in a
15:02 - function I give it this name now when I
15:05 - go to was my index page of it open so
15:12 - this exists on the index page so now I
15:18 - actually call I can call this from
15:19 - inside my component so I have this
15:21 - component did mount and I call this
15:24 - function inside of there so the function
15:29 - actually did it needed to be called
15:34 - and I tag could test that out in the you
15:37 - know the console where if I would call
15:39 - the function it would run but if
15:42 - just relied on that document already
15:43 - function it wouldn't it wouldn't work
15:45 - you wouldn't run so that's one way it
15:49 - kind of quick an easy way to get your
15:53 - components working now there could be
15:56 - some issues like let's say you have some
16:01 - components that aren't may not be loaded
16:04 - all right when this component did mount
16:07 - fires then you might want to wrap this
16:10 - and in a function that would wait until
16:13 - the site loaded entirely and that would
16:16 - work if it was farther down on the page
16:17 - and the odds of somebody scrolling there
16:19 - before that actually worked we're really
16:22 - slim so for in this case I don't need to
16:28 - do that it works and let me show you
16:30 - I'll pull in the actually have it here
16:33 - okay so this is the version of the site
16:36 - the that's on our test URL so this is
16:40 - actually running on the server the
16:41 - differences
16:42 - we're running next j/s which is our J's
16:45 - framework we're running it in production
16:49 - mode instead of dev mode and there are
16:51 - some differences one difference that I
16:54 - have found that's it's a little bit
16:56 - frustrating if you're not aware of it at
16:58 - first is when the hot reload happens
17:00 - sometimes things just don't work so some
17:03 - of your JavaScript stuff or your Styles
17:06 - just occasionally you'll have a weird
17:09 - glitch where things won't work so if
17:11 - that happens don't freak out just
17:13 - refresh the page and it usually works
17:17 - after that you won't ever have that
17:20 - problem in production because you're not
17:23 - using the hot module reloading obviously
17:26 - in production so let's go to the home
17:29 - page and we'll see this should work
17:34 - alright so that works
17:38 - one other thing to watch out for that
17:40 - I've had happen to me when I'm using
17:42 - this is right now all of this is being
17:47 - server-side rendering and served up so
17:50 - you can watch watch this little you know
17:53 - loading indicator here when I click
17:55 - team right it's actually reloaded that's
17:58 - it that's an entire page refresh but
18:01 - normally you know if you're working with
18:04 - react a lot of times you don't want that
18:06 - page reload you want it to just you
18:08 - click it and everything gets pulled in
18:10 - it's all handled client-side so you want
18:12 - that client-side routing you get you
18:13 - that immediate route right to the next
18:17 - page and you don't even have to do a
18:20 - page refresh so if you're going to do
18:22 - that your document ready function is not
18:25 - going to fire right because it already
18:29 - has fired right it's not going to happen
18:31 - again so you can't leave your JavaScript
18:34 - in there and expect it to work
18:37 - so I'm actually doing that and it works
18:43 - for some things so let me show you back
18:46 - here in our JavaScript so for instance
18:48 - this this scroller function I'm using on
18:54 - the events page let me find that just to
18:58 - show you so if you see on the events
19:02 - page I'm not calling anything from here
19:05 - yeah but in the document dot ready
19:09 - function at the bottom here I am
19:14 - actually calling it this scroller right
19:18 - I'm actually calling this as well just
19:21 - uh I was frustrated trying to get it to
19:25 - work so I was trying to run this
19:26 - function everywhere I could think of to
19:28 - get it to work so I'll probably verify
19:32 - that this doesn't need to be in here and
19:34 - then possibly take it out before this
19:36 - actually goes live just to get rid of
19:40 - some unnecessary code but I'm calling
19:42 - that here inside the document dot ready
19:44 - function and since right now we're doing
19:48 - all our routing like more traditionally
19:50 - where we have a page refresh this will
19:54 - still work let's go to the events page
19:58 - just to show you and we'll go down to
20:02 - the bottom and here's the the scrolling
20:04 - thing let me shrink the page so you can
20:06 - actually get a scroll okay so this is
20:08 - a responsive style table so I can scroll
20:12 - like this or I can use these buttons to
20:16 - scroll okay the reason I put this in is
20:20 - since this scroll bar gets automatically
20:23 - hidden I don't think it's hidden on all
20:26 - browsers but at least Chrome on iOS
20:28 - automatically hides this I wanted users
20:31 - to know that they could scroll so I put
20:35 - these buttons in and since I was going
20:37 - to have these buttons and I figured
20:38 - people are going to try to click those
20:39 - so it needs to do something so we have
20:42 - this girl so you can see if you're using
20:46 - traditional routing you can still call
20:48 - things from your document.ready function
20:50 - and they will work but not if you're
20:54 - using the client-side routing and let's
20:58 - let's just enable that just to show what
21:02 - happens what works and what doesn't work
21:04 - so if you're not familiar with next j/s
21:08 - check out their their dogs on get up I
21:10 - think I have the link in the description
21:13 - you will you'll see about I guess I'll
21:22 - bring up the ducks since I have it here
21:25 - no that's not it I said yeah okay I'll
21:32 - make this a little bit bigger so we can
21:34 - follow along okay so let's go to routing
21:43 - all right so check this routing here so
21:46 - we can enable client-side transitions
21:49 - between routes if we just use the link
21:51 - component we can also prefetch I'm not
21:57 - getting able to prefetch now maybe at
21:59 - some point if we have time probably not
22:02 - before launch we can go over this
22:03 - prefetching it is pretty cool we can
22:05 - save some time with loading but right
22:08 - now we just need to pull this in we need
22:13 - to import link and then we need to wrap
22:19 - our link we'll grab our
22:22 - taking AB menu link and this mic here so
22:25 - we're actually going to go to our
22:26 - component for that stinky nav so let's
22:32 - find that stinking EV and we'll import
22:37 - link and this is something that's built
22:39 - into next so if you're just using react
22:44 - without using next you won't won't have
22:47 - this alright so now let's make let's
22:55 - make this events a link because I think
22:59 - let's check the dogs just to be sure
23:00 - okay we just need to change it okay
23:05 - we're going to wrap it in the link and
23:06 - we'll keep the ax so link and then we're
23:17 - going to put in href I'm going to move
23:21 - the HRF to this link tag and we can move
23:29 - this inside the link and we can remove
23:36 - this I'm not going to worry about the
23:39 - title right now I think that should be
23:40 - fine there and we're save it okay now
23:46 - let's look here let me see I couldn't I
23:56 - couldn't tell if this whoa
24:05 - and get a lot of errors right now okay
24:20 - okay did you see I don't the era's are
24:23 - heard oh I'll show you the air is in a
24:26 - second but knock you're trying to fit
24:33 - now we're still getting a page refreshes
24:36 - see why that didn't work
24:40 - sorry if I'm losing you it's just is not
24:45 - working right now what happened here
24:54 - okay so we are importing this we're
25:00 - using the link tag I guess we can pull
25:05 - this off just since it was like that in
25:09 - the in the docks
25:22 - okay
25:24 - all right so we're on the events page
25:28 - verify this let me shrink this we can
25:31 - verify that this still works okay so
25:35 - that still works now we want to go to a
25:40 - different page and flip back okay so
25:53 - actually a routing just isn't working at
25:57 - all right now
26:00 - I'm thinking maybe just what the hell
26:05 - want to check maybe this has to be on a
26:08 - page
26:16 - we can check the example here next is a
26:20 - good job of having a little example
26:22 - projects so we can just go in here and
26:25 - check ok so they are running this on an
26:31 - actual page let's try to run it on a
26:33 - page and see if that makes a difference
26:38 - or actually it looks like our server is
26:46 - not working right now so let's restart
26:50 - it I'm getting an error on my server
26:54 - I've been it's been happening for like a
26:56 - week now where sometimes it will just
26:58 - hang I think I mentioned this at a video
27:01 - last week so so far it's just annoying
27:06 - and it hasn't slowed me down that much
27:08 - all right so let's let's try this not
27:11 - huh okay I don't know if you notice that
27:16 - what's happening is it is refreshing
27:25 - it's refreshing and not only that but
27:29 - we're getting all these errors here and
27:31 - these were the areas that I actually
27:33 - expected to get for that sticky knife
27:36 - it's saying cannot repro pre top of
27:38 - undefined okay let's look what it's
27:41 - trying to find is this the sticky knife
27:47 - this original sticky nav and it can't
27:53 - find it it can't so it obviously can't
27:56 - get the position so
28:04 - let's try let's try to do a refresh okay
28:12 - so let's verify
28:12 - okay well this now it now that you
28:14 - started working let's see okay there we
28:23 - go alright so here's what's happening so
28:27 - we finally got it to work so I think the
28:29 - the client-side routing is actually
28:31 - working now for that I don't know why
28:33 - it's still giving me a little a little
28:35 - flash I'll have to check this up to be
28:41 - sure Wow okay my dev tools just crashed
28:46 - so it's getting so many errors from that
28:48 - let's open that up again yeah I'm still
28:51 - getting all these errors so let's leave
28:54 - this page for a second so that we don't
28:56 - get we don't keep getting all these
28:58 - errors whoa
29:13 - Wow what did I break if you guys notice
29:19 - me do something
29:20 - hey let me know because now I'm getting
29:24 - so many errors and everything's not
29:28 - working I have not had this happen
29:32 - before
29:41 - hmm that's weird all right let me let's
29:44 - go check and make sure that we didn't
29:46 - accidentally change something that we
29:51 - shouldn't have so the only files that
29:53 - we've really changed let me let me go
29:55 - I'm just going to do the git status just
29:59 - to see what we change the only thing we
30:01 - changed was the component stinky nav
30:03 - component and the app.js file okay so
30:07 - let's check it out
30:09 - so we brought this code back in and that
30:12 - was fine we already we tested this and
30:15 - this worked okay we have this bottom out
30:22 - of class class original okay so it's
30:25 - doing a lot of this stuff and let me
30:28 - verify that we are actually calling this
30:37 - the proper name okay we do a bottom now
30:42 - all right awesome let's let's add in
30:50 - just like we did for the southern
30:53 - component or yet on the index page so on
31:03 - our index page we added in something
31:04 - like this I want to give this a try
31:08 - since it works for that page let's give
31:12 - this a try and see how this forward in
31:17 - case you haven't heard me say this in
31:19 - previous videos this video is just about
31:24 - showing me going through my daily work
31:26 - mistakes included so it's not exactly a
31:30 - tutorial I will be doing some tutorial
31:34 - videos when I get a chance and I'll put
31:36 - those on by my own channel so as we go
31:40 - through this this is not rehearsed this
31:43 - is actually me having real problems and
31:45 - trying to figure them out I saved this
31:47 - for I did a lot of other stuff today but
31:49 - I knew this was going to give me a lot
31:51 - of trouble so I saved it so
31:54 - this was at least somewhat on purpose to
31:56 - have things break because I think it's
31:58 - more interesting for the video so I
32:02 - apologize if you expected more of a
32:04 - tutorial and some of them will be more
32:07 - tutorial like but sometimes everything
32:09 - just goes wrong and we have to figure
32:10 - out what's going on all right so let's
32:17 - first what we need to do is pull this
32:21 - out let's grab everything everything we
32:29 - need here and we're going to pull that
32:34 - out and we're going to put it in a
32:36 - function we'll just put it up here
32:40 - function should we call this this is
32:47 - such thinking that right we'll just call
32:53 - it sticking out and let's throw all that
32:59 - in there and save it and now we'll go
33:03 - back here and let's see if we can call
33:09 - that we're going to save that and let's
33:13 - go back to this you better refresh okay
33:19 - so the sticking app works now let's try
33:25 - it on this events page that was what
33:26 - freaked everything out last time all
33:32 - right it's working I'm also not getting
33:35 - a millionaire's and my console like we
33:39 - were before okay that's nice not bad let
33:47 - me click a few more times just to see if
33:49 - we can recreate all those errors that we
33:52 - had we go back here
33:59 - I think our gosh test servers hanging
34:07 - again so well that's hanging
34:11 - what we'll do is I'll show you how I am
34:15 - putting this on the server right now
34:17 - because I don't think I should showing
34:19 - you that yet so let me bring this in
34:22 - right now I'm just going to say I'm just
34:32 - going to push this to get because what
34:33 - we're going to use get to put this on
34:36 - the server so all somebody else with
34:39 - theme I'm using the theme is setting
34:42 - SETI all right so the server restarted
34:49 - let's just all right cool that's working
34:53 - but what's not word okay so we were able
34:57 - to recreate some of this stuff in terms
35:00 - of the errors so this is no longer
35:02 - working let's give it a refresh just to
35:07 - verify that it's not working okay yeah
35:13 - definitely not working I'm going to make
35:15 - sure it's not a something weird with the
35:19 - screen all this is it working now okay
35:26 - that's interesting it started to work
35:29 - now
35:32 - for some reason it did not work I don't
35:35 - if you guys caught that when we first
35:37 - loaded the page it did not work we
35:39 - resize the page and it works which
35:42 - doesn't really make a whole lot of sense
35:45 - okay you see here it's not working until
35:49 - we resize we resize just a little bit
35:53 - and now it's at least kind of working
36:00 - it's giving us a weird thing okay
36:06 - now I'm going to troubleshoot that right
36:08 - now is I'm in the middle of showing you
36:10 - this
36:13 - yeah because some of these a call on the
36:16 - live chat says it's not working because
36:18 - your window size is less than 15 40 so I
36:22 - guess we'll go back and check this out
36:25 - now yeah so I do have let's go to this
36:28 - function the scroll effect here so I am
36:34 - checking for this window size the window
36:41 - width which should happen is if it's
36:44 - greater than 15:40 it's just going to
36:48 - have a different base position but then
36:50 - it's still going to add us this dis
36:54 - scroll this position Y which is just
36:57 - based on the the scroll position so it
37:04 - should still be working I said but I'm
37:07 - not going to show - overshoot that now
37:08 - that's just odd because I did test that
37:11 - a lot the only different thing that I
37:16 - was doing was I was testing it on
37:18 - another screen I don't I don't know why
37:23 - that is students make such a big
37:25 - difference but um I guess it does okay
37:32 - I'm we're getting okay so let me let me
37:35 - just show you this so for commit message
37:39 - where we do move remove sticky nav its
37:54 - own function outside
38:04 - okay so we move the stickeen out into
38:06 - its own function outside document dot
38:09 - ready that's about what we did okay so
38:18 - if you're not familiar with git it's
38:20 - version control all I've done is just
38:22 - I've saved this version of the code and
38:26 - I may have a little message there just
38:28 - to say what changed since the last
38:29 - version
38:30 - and now I've pushed it on to github
38:32 - which is a site where you can store your
38:35 - code and on all your versions so you can
38:38 - view it other people can view it
38:39 - collaborate and this repo is available
38:42 - so since we push this let me switch back
38:44 - over we're going to go into our server
38:46 - also looks like I'm still logged in let
38:50 - me just make a mouse to live in
39:06 - looks like this says there we go okay so
39:10 - I wasn't logged in it was still showing
39:11 - it but it was just kind of lagging a
39:13 - little bit so let's log back in so I'm
39:15 - using SSH when you use SSH this is my
39:19 - local machine right now and I'm just
39:22 - going to type in my username and then
39:24 - the IP address I have a private key on
39:28 - my machine and there's a public key
39:30 - stored on the server all right those
39:33 - have to match up and then I can log in
39:36 - and I don't even need a password so it's
39:38 - pretty cool I have to log in from this
39:41 - computer but it prevents people from
39:43 - trying to you know guess my password or
39:46 - brute-force attack and get in so now
39:48 - that I'm in here you can see here's our
39:53 - folder so let's go in into that folder
39:59 - this is this has all the same things
40:03 - that we have on our local machine but
40:05 - I'm now on the server this is a droplet
40:07 - on digital ocean I did a few videos on
40:10 - how to set that up we're going to stop
40:14 - our server right now as you can see I
40:20 - just stopped that from running so the
40:23 - site actually won't work right now and
40:26 - now I'm going to get pool and all the
40:30 - changes I've now pulled down from github
40:32 - so this version and the version on a
40:36 - local machine that we're just testing
40:37 - are now exactly the same and now I need
40:40 - to build this again so I'm going to go
40:42 - npm run build okay and that's going to
40:48 - run i'll show you in our package.json
40:52 - when I say run build that's going to be
40:54 - equivalent of running next build and
40:58 - then I'm going to actually start it with
41:00 - with pn2
41:02 - and this is what what will be run when I
41:06 - start I don't think I showed you this
41:09 - when we set this up but when we set up
41:13 - the custom server which I think was
41:15 - yesterday but I did need to change this
41:17 - to start the
41:19 - server we give it this environment
41:22 - variable of production and that
41:24 - basically the only thing I'm using this
41:26 - variable for right now is to change the
41:29 - time out the expiration of the the cache
41:34 - okay so that's all built doesn't take
41:36 - very long and now we're going to start
41:44 - okay
41:45 - so that started now let's go back to it
41:48 - and refresh make sure it's working okay
41:51 - everything's working and now let's give
41:53 - it a test so we did change some things
41:55 - so we added that stickiness back in I'm
41:57 - going to open up dev tools here on the
42:00 - side and I'll put it right here so that
42:02 - way we can check and see what kind of
42:04 - pairs we have let's see mine I don't
42:12 - want to preserve the log so let's
42:14 - refresh should we get a clean clean log
42:16 - here okay so you are getting some stuff
42:20 - let's see non-passive event listeners
42:22 - will walk in touchstart event okay we're
42:27 - getting some stuff I actually have I
42:29 - have it set to verbose settings so we're
42:32 - getting a lot of stuff that you might
42:33 - not normally see all right so our stinky
42:37 - now is working great let's try this up
42:43 - alright that's working and if you
42:46 - remember this actually is just it's it's
42:49 - just being initialized from our our
42:51 - document ready function okay so this did
42:56 - work we're not using that client-side
42:58 - routing which will actually test out
43:01 - first I want to go over homepage and see
43:04 - what's going on there
43:05 - see sticky networks see all right looks
43:13 - like that's that's off that's not
43:15 - working it did stop at some point but
43:18 - it's stopping a lot farther down that we
43:19 - wanted to what would give it kind of a
43:22 - more normal screen size okay I I wasn't
43:26 - sure what was going on with these images
43:28 - but it looks like they're working
43:34 - let's give it a refresh just to
43:37 - double-check that
43:38 - okay the images are working it's
43:42 - possible I think I'm using a source set
43:45 - to do different image sizes and I may
43:47 - have now should be working to test that
43:54 - later okay so this this looks a bit more
43:56 - like it should and now I want to test
44:00 - this out to see if we actually are
44:02 - linking and it looks like that it did
44:09 - work okay
44:12 - there we go finally this is what I
44:15 - expect okay this is what I've been
44:18 - trying to get to happen almost the
44:21 - entire time let me tell you what
44:23 - happened just in case you missed it so
44:25 - we added a few minutes ago we added this
44:31 - client-side routing so before we just
44:34 - had regular link tags it was actually
44:36 - going back to the server we're getting
44:38 - page refreshes we had a client-side
44:40 - routing what happens though with with
44:43 - client-side routing is you the
44:48 - document.ready function doesn't fire
44:50 - again so this never initialized so you
44:58 - can see this is not working if i refresh
45:02 - the page it should work so let's do that
45:05 - let's refresh see it is working so we'll
45:12 - test this one more time just to just to
45:16 - test that our theory and demonstrate how
45:19 - this works we go to the about page I
45:22 - want to go somewhere that will give me a
45:24 - message to okay oh I see what's
45:28 - happening since I'm using source set on
45:31 - a smaller screen is kind trying to grab
45:33 - a different image a different sized
45:35 - image but I forgot to put the correct
45:37 - route I just went right to the image
45:40 - folder instead of static so that's why
45:42 - just a little little typo a little
45:45 - mistake there
45:47 - all right so now we're gonna go to
45:48 - events okay now what you see I think we
45:52 - did have a little flash here but we
45:56 - didn't actually have a refresh so these
45:57 - same errors that we just had on the
46:00 - homepage have not gone away if we had a
46:03 - page refresh this should have gone away
46:07 - so I see I just clicked on news it had a
46:11 - page refresh all that went away all
46:13 - right so those should have gone away so
46:14 - the rep the client-side routing is
46:16 - working and that also explains why this
46:19 - isn't working because we're only calling
46:22 - this from the document.ready function
46:23 - does that make sense
46:26 - want to stop and check on you you all
46:29 - for a second since I've been ignoring
46:32 - the live stream to try to get this to
46:34 - work I know there's going to be a little
46:37 - delay so I'm going to wait basically the
46:40 - question is does any of this make sense
46:42 - at all can you see why it's not working
46:44 - and I'll take just another minute here I
46:48 - know I'm over my half an hour but I'll
46:51 - take another minute to fix this we'll
46:55 - push it to the server and test it again
46:58 - to show that how to how to make your
47:02 - jQuery work with the client-side routing
47:05 - in react so I'll get ready to do the fix
47:13 - while I'm waiting to hear back from here
47:47 - okay finally okay so Patrick said it
47:50 - makes complete sense okay we'll move on
47:53 - here I know there's there's 43 other
47:55 - people viewing right now oh okay Daniel
48:00 - says it works too
48:01 - awesome so at least two of 43 say that
48:04 - it works if if you're one of those other
48:07 - 41 people and you are really confused
48:09 - leave a message in the comments direct
48:11 - message me on Twitter
48:13 - re watch the video I'm happy to help
48:17 - help you try to understand this
48:20 - especially if you really need to
48:22 - understand this for a project you're
48:23 - working on I'd be I'd be more than happy
48:26 - to talk to you go over this a little bit
48:29 - more or if you have a much easier or
48:34 - better way of doing this and you're just
48:36 - watching this thinking like what is this
48:38 - idiot doing
48:38 - please let me know so basically what
48:43 - we're going to do we have all this this
48:45 - is our scrolling stuff down here I
48:47 - haven't put it in its own component yet
48:50 - eventually I will put it in its own
48:53 - component because we do have some things
48:56 - that need to repeat for now we don't we
48:59 - don't have a ton of events so this might
49:01 - be one of the things that just gets hard
49:02 - coded um then this is weird sorry I just
49:13 - got distracted by this little oh okay my
49:16 - syntax highlighting just made it look
49:18 - weird but this is corrected we want
49:20 - event slash title it's highlighting some
49:23 - of the stuff as if it were JavaScript
49:25 - when it's really in here I am for some
49:28 - reason my plugin that's supposed to
49:29 - highlight react stuff more accurately as
49:31 - stuff working I think I probably just
49:34 - need to restart my editor all right so
49:37 - here's what we're going to do let's grab
49:39 - this from sticking up because why type
49:43 - when you can copy and paste and handle
49:46 - throw this in here and I believe we call
49:48 - this H scroll or yep H scroller so we're
49:55 - going to call this on component in mount
49:56 - there's only one thing I'm worried about
49:59 - I'm where
50:01 - that this will actually fire before this
50:04 - stuff loads down here if this was its
50:07 - own component I would be less worried
50:09 - about it because it would only be so
50:11 - we'll see if it works if it doesn't work
50:13 - that's probably why and III do have one
50:19 - more thing that could be done to fix it
50:22 - if that happens okay so we save that
50:24 - let's go over here let's go back to okay
50:36 - so we've changed this we're going to do
50:43 - a git commit and I'm combining to get
50:46 - add and the commit message into one and
50:57 - we're going to call H stroller from the
51:02 - component we're calling a stroller from
51:10 - component did mount okay we're going to
51:19 - push that now let's go back to our
51:22 - server and let's first we'll stop it now
51:32 - let's get pool now let's build if you
51:40 - notice I'm using NPM on the server but
51:43 - on my local machine I'm using yarn yarn
51:46 - is faster I like yarn more but it just
51:50 - simplifies things on the server if I
51:52 - restaurant straight NPM at least for now
51:56 - I have run yarn on the server too it's
51:59 - not a big deal but it's just one less
52:01 - thing I have to load on the server there
52:04 - was some a couple months ago when I set
52:06 - something similiar up there was some
52:07 - weird bug where I I couldn't run yarn
52:10 - with p.m. - I had to use NPM it was
52:13 - something with
52:14 - it was it was looking for us so I I
52:17 - looked up the problem that I couldn't
52:19 - get it fixed so I just stuck with
52:21 - running NPM it's possible that it has
52:24 - changed now there's been up updates for
52:26 - p.m. to and you are in since that time
52:29 - but just in case you're wondering that's
52:32 - why it's different now let's just start
52:33 - it up again to the build is complete all
52:40 - right now we're back online and let's
52:43 - refresh if you remember we need to
52:45 - actually navigate away and back to there
52:48 - are sticky networks this should work
52:51 - alright that still works now let's go
52:54 - let's go out to the home page just to
52:56 - see if this if this works as well which
53:00 - it should be working right okay that
53:02 - works awesome sticky now is working on
53:05 - the home page and we're not getting any
53:08 - crazy areas except this one that we knew
53:11 - about already and that's just my fault
53:14 - for not citing the right path now let's
53:17 - go back to the vents now what should
53:20 - happen you can see we didn't actually
53:22 - have a page refresh because we still
53:24 - have all the same stuff in our console
53:26 - now what should happen here is as I
53:28 - scroll down this should work and it does
53:32 - ok so just to recap I'm gonna I'm going
53:39 - to finish up here before it ends I am
53:42 - going to show another video interview I
53:44 - did from syntax spawn and it's only like
53:47 - a 30 second video and I'll go through
53:49 - the live chat and answer any questions
53:51 - so just to recap in case people are
53:54 - joining in late did Seattle normally
53:56 - when you use jQuery you're going to put
53:59 - things inside your document your
54:02 - document ready function okay and then
54:04 - that way if you have to look up elements
54:08 - on the page they're loaded so they will
54:10 - be there the problem is when you're
54:14 - using react and you're using client-side
54:16 - routing which is common with react and
54:20 - you you go from one page to another and
54:24 - you don't actually have a page refresh
54:26 - the document
54:29 - dot ready function doesn't fire again so
54:34 - your code won't work the first time it
54:37 - ran it won't be able to it wouldn't have
54:39 - found that element on the page because
54:41 - you're on a different page so then when
54:45 - you switch that that code will just
54:47 - never run the solution or at least one
54:50 - solution is pull out that code to yours
54:55 - you're still in your main app J S or
54:58 - whatever you want to call it scripts
55:00 - dodged as you're still in there you
55:03 - still can use jQuery as normal but
55:06 - you've just pulled out literally you
55:08 - just copy and paste that code that's
55:10 - doing the thing that whatever you want
55:12 - it to do that jQuery and you just throw
55:14 - it a function name it whatever you want
55:16 - and then you go into your your component
55:22 - and then the component did mount
55:24 - function which this
55:25 - this isn't next specific this is in and
55:27 - react so any type of react thing that
55:31 - you're doing will have this well I
55:33 - haven't worked with react native so I'm
55:35 - assuming req negative has something like
55:37 - this or maybe the same thing but
55:39 - basically you're going to have component
55:41 - did now and you're good call it from in
55:44 - there and that's going to make sure that
55:46 - when you do your routing like we just
55:51 - did okay so when I go to a different
55:54 - page here you can see I haven't done
55:59 - that with the side nav yet so it still
56:01 - doesn't work so we're going to a
56:02 - different page and now we're going to go
56:04 - back to events events right now is the
56:06 - only page where we've enabled the
56:07 - client-side routing for we've gone back
56:10 - to events the document ready function is
56:13 - not fired but since this component is
56:17 - now on the page and it wasn't this
56:19 - component has now mounted and in this
56:21 - case this the entire page is one
56:23 - component if this will be split out at
56:26 - some point but since that's the first
56:30 - time this component is loading its
56:32 - mounted it actually calls that that
56:35 - function okay so hopefully I know a
56:39 - couple you said that that did
56:41 - make sense so hope I didn't confuse you
56:45 - too much it seems like nobody said
56:47 - they're confused yet so I hope that was
56:50 - helpful for you I'm going to repeat what
56:53 - I said at the beginning ideally you
56:55 - don't want to use jQuery when you're
56:57 - using react okay there are some weird
57:00 - side effects that happen because react
57:01 - is trying to track everything in the DOM
57:03 - and if you change it with jQuery instead
57:06 - of the reactor way to do it then it can
57:08 - mess up reacts tracking of the dawn okay
57:12 - and you will get some errors and stuff
57:13 - it won't always break your site okay
57:16 - obviously we're using it here our sites
57:18 - not breaking we're not you know the
57:20 - world is not ending by using jQuery and
57:23 - react together but I expect that a lot
57:27 - of you might be in a situation where
57:28 - you're converting a site to react or for
57:31 - whatever reason it's going to be a big
57:34 - deal to try to do things in vanilla
57:36 - JavaScript or the react way to do it
57:38 - when you can do it very easily with
57:41 - jQuery sometimes it's just a time issue
57:43 - like with me right now I just really
57:45 - don't have time to figure out how to do
57:47 - all these things in vanilla JavaScript I
57:51 - know it's all possible but it's just
57:55 - faster use jQuery right now so hopefully
57:58 - that helps some of you I'm gonna play
58:02 - let me play this video for you and then
58:05 - after the video I'll do a quick run
58:08 - through the live chat see if there's any
58:10 - questions that I can answer for you
58:12 - right now
58:13 - and then I'll have to go because this
58:15 - site needs to launch on Thursday and
58:17 - there's a lot of work to do so I'll
58:18 - pretty much be taking breaks for
58:20 - sleeping and that's about it until we
58:21 - launch so let me I did this yesterday
58:26 - and it worked
58:27 - so I'm gonna try this again I know you
58:30 - can't see this but I'm literally just
58:32 - unplugging my headphones so that I can
58:35 - play the audio from this video on my on
58:41 - my speakers on the Mac lemme there we go
58:46 - I have an iMac so I'm just going to put
58:49 - these through the speakers
58:54 - and the microphone on the iMac will pick
58:58 - it up I don't have any special equipment
59:00 - at this point so hopefully this will
59:03 - work and it's loud enough me full screen
59:05 - it for you okay so this is just a very
59:08 - short interview from syntax Cohen it's a
59:10 - conference that went to last week really
59:13 - great conference and this is a Ron I I
59:18 - know I'm going to mess up his last name
59:20 - sorry Ron um so Ron AK right ratha rai
59:27 - tha tha so sorry Ryan he's a really nice
59:31 - guy I got to talk to him and go to Lee
59:34 - he did a talk on AWS lambda so let's
59:38 - hear what advice he had he's going to
59:40 - say what his name is where he works what
59:43 - he does and he'll give some it what he's
59:47 - excited about with new technology and
59:48 - some advice for new new coders all right
59:53 - say yes I'm wrong I work at boomtown as
59:56 - the back and suffered over the chassis
59:59 - approached me he asked me about you know
60:01 - and to talk about your poker game and
60:02 - talk to people right ah see uh one of
60:04 - the questions was what was the
60:06 - technology I'm excited about one of them
60:08 - is serverless
60:09 - the surrealist framework that just came
60:11 - out and it works at live that a bunch of
60:14 - other cloud platforms it's pretty cool
60:16 - pretty nifty work live and advice that I
60:19 - have for people trying to get into
60:20 - coding is that sure it's nice to watch
60:23 - courses and you do projects but try
60:25 - stepping out of your comfort zone that
60:27 - will help you immensely alright so
60:34 - that's it for the interview really short
60:36 - interview some of the other ones were
60:38 - were longer but I think I have maybe
60:42 - three more to show you let me go to the
60:46 - live chat quickly before we before we
60:49 - end okay I did answer some somebody
60:54 - asked how to get started with react and
60:56 - I answered that earlier so if you're
60:57 - interested in hearing that answer watch
60:59 - the re recording this video and go back
61:02 - to the beginning
61:04 - Ezra is
61:07 - as I'm still a beginner so I'm already
61:09 - lost sorry about that react was like
61:13 - super confusing to me when I started to
61:15 - use it so just just stick with it it it
61:17 - will click at some point all right
61:21 - somebody's asking about my text editor
61:23 - so it is Adam and I'm using the SETI
61:25 - theme okay not a lot of questions
61:33 - somebody else says they're beginner and
61:35 - they're lost so I apologize if I lost
61:39 - you I its if you're not familiar with
61:43 - reacts or even familiar that much with
61:46 - JavaScript I I could see you you would
61:49 - definitely be lost so I'm not always
61:54 - going to be at this kind of level doing
61:57 - videos I expect when I'm done with this
61:58 - project then I'll go back and probably
62:01 - start up a new project or get back to
62:03 - just some things that are like basic
62:05 - HTML CSS things so since this is just my
62:10 - day to day job it's just a big mix of
62:12 - things so if this was a little bit over
62:15 - your head then you know thun thun back
62:18 - in what some of the older videos and you
62:22 - know just follow me on Twitter I'll
62:24 - tweet out what the topic is every day
62:27 - and you can see if it's a topic that
62:30 - interests you that seems like it's more
62:32 - at your level than then tune in there's
62:35 - definitely some really like beginner
62:36 - type stuff that that has been on this
62:38 - show and will be on this show especially
62:41 - like as we get started in projects so
62:44 - hopefully there'll be something for
62:46 - everyone at every at every skill level
62:49 - my hope is that some people will get a
62:52 - lot from this some people if they're
62:54 - beginners and some people who are more
62:56 - advanced will give me some advice and
63:00 - and you know we can kind of work
63:02 - together to learn from each other okay
63:05 - we had one more question here how how do
63:08 - we manage this sticky nav UI check out
63:12 - the playlist so live coding with jesse
63:15 - is a playlist on the free code camp
63:17 - channel in that playlist you'll see
63:19 - maybe
63:20 - two weeks ago I did a video where we
63:24 - live coded that sticking up and I went
63:26 - through that so check out that video if
63:30 - anything is confusing just leave a
63:31 - comment on the video and I'll get back
63:33 - to you and try to explain it more but we
63:36 - did I'm pretty sure that I went over
63:38 - that part in in a video and if I'm just
63:42 - totally losing my mind and I didn't make
63:44 - a video leave a comment as well and then
63:47 - maybe I'll put that on the list for for
63:49 - a video to make later on you can also
63:51 - check out all the code for that on
63:53 - github the link is in the description so
63:56 - there's any other questions get them in
63:58 - in the next five seconds otherwise I'll
64:02 - see I'll be back on tomorrow same time
64:06 - I'll probably be more stressed tomorrow
64:08 - than normal because at that point it
64:11 - will be less than 24 hours to launch and
64:14 - I will have probably been working quite
64:16 - a lot between then and now
64:19 - so hopefully this site is looking way
64:22 - more finished tomorrow and maybe our
64:25 - livestream the launch so we'll see I
64:27 - haven't set an exact time for that
64:29 - launch but that might be cool to
64:30 - actually live stream the you know
64:33 - pointing the domain name to the right
64:35 - servers trying it out and maybe we'll
64:37 - probably be doing some testing tomorrow
64:39 - so maybe I'll show you how I test with
64:41 - browserstack and and things like that
64:42 - we'll try to find some bugs right that's
64:48 - it for today thanks for watching and
64:51 - I'll be back tomorrow

Cleaned transcript:

hey everybody is Jessie today we're going to use jQuery with react which some of you might be shocked at that if you read a lot of articles and tutorials usually they tell you not to use jQuery with react and then they're usually right but sometimes you you already are using it or you have to use it for some reason in this case I'm using the materialized framework which needs jQuery for some of the things that it does also if if you haven't seen some of the earlier videos when I started this project the idea was that first we had a really really tight timeline so the first thing we were going to do was make a just a static site and have that ready to launch if we couldn't actually link up the WordPress CMS and with react like we're doing now well the the launch day got pushed back to this Thursday and that gave us enough time to actually do it the way that I wanted it to be from the beginning but in trying to complete that static site as fast as I possibly could I use some jQuery so now I need to make that jQuery work with react so I've had some success so far and making things work and I'll show you what I've done and then we're going to try to make this this navigation piece let me show you so this red navigation bar was sticky if you remember when we had the static site it was sticky when we converted this to react site it started throwing errors in the console so I disabled the stickiness of it just so that I could get rid of the airs temporarily until I had time to fix it so now it's time to fix it and let me make this bigger so we can all see oh if you watched yesterday and saw that I I went through everything and then couldn't get it to work the whole problem was I forgot to save the file so super embarrassing I had hardcoded that hello world page in so that I was searching for the data from the hello world post and then when I switched over to use the variable that was getting passed in I never saved it so it totally works now you can go on the the demo site there's a link and if you go into the to the news portion of it you can click on the different news articles it will take you to the right page so everything we did yesterday worked I I just didn't save it that's how it didn't work hey everybody I got a lot of people saying hi in the latch at I'll answer one question before you start it what's the best way to get started with react probably find it's called create react app and that's what is called so assuming that you know how NPM works and you can you know pull down packages like that then find create react app and you can download that start it up everything will be kind of premade for you so you have less options to customize but it's really helpful to get you started on that so I would definitely check that out and if your just read read through some of the tutorials on reacts site they're actually pretty good and what some some videos hopefully after I launch the site will have time to do some short videos highlighting some nice resources and give us some little tutorials and that's one of the topics that I'm going to touch on okay so let's get to this so this big section of code here that I've commented out is what controls the sticky nav so let's get rid of these comments and see what happens I think that's it now I need this okay oops okay so I think there we go I think that's everything that I commented up is now back in alright so let me make sure I save that this time and we're gonna let me bring this keep this over here let me refresh make sure with changes are in there okay we can see nothing's happening okay so our sticky NAB that was working when we had inpage snap is not defined all right so I'm getting an error I'll bring this over and show you so it's giving us this error it was working when the other static site is not working now it's saying that in page nav is not defined and ass on line one for T so let's go back is this something in vision where is that coming from yes seems like maybe I didn't need that so I'm obviously not defining that anywhere maybe I pulled that over from my previous project and didn't really need it let's just try again all right and refresh oh nice okay so you are getting this working here but what I keep having happen to me is that sometimes these will work and sometimes they won't work I'm not exactly sure why but when I actually put this on a server pretty much everything I'm trying to do a jQuery has not been working I'm not exactly sure why so here's what I did to get around that so let me show you oh actually I'll put this on the on the server in a second and again I'll show you guys how I do that or at least how I'm doing it right now so here's what I did okay so normally you would just put everything in your document ready function for jQuery so and that that would run for whatever reason it doesn't always run it's not always finding things when they're getting loaded so if I want to be able to actually call these like let's say from my component I need to make them available globally so this is kind of looks like a little workaround there's probably a better way to do this I've looked up before but never exactly figured out ways to just use jQuery right within a react component so like import it in and use it there and I haven't gotten it to work not that it's not doable I just couldn't couldn't get it to work and since I'm on such a tight timeline for this project I didn't want to attempt to get that to work so instead I knew this would work I had some things let's do this background scroll so let me show you we had this on the home page we have this effect and so I have this effect of scrolling it's a meeting let me refresh it for a second it should it shouldn't cut that off unless I not a not a great start everything I'm trying to do is either working when I expected it not to work or not working when I expected it to work so I'm just going to restart the the dev server here because it was it just kept loading so that's like it's pretty fast it'll start in just a few seconds all right it's ready okay so the effect that I had which for some reason is is cutting off here when it it was not cutting off previously but the effect that I have basically is this is like kind of like a parallax effect in the background and then it stops and then it starts flowing normally with the page okay so that's that's what we're trying to do I thought that I had fixed this part so it was cutting this image off but I guess I haven't so here's what I did I'm just going to run through this quickly is that how I did it's not important but just me about how we get it to work as within our react component is more important so basically just using some jQuery right because for two reasons one we already have to look Jake here on this page for materialized and to jQuery can save a lot of time and I don't have a lot of time right now so all I'm doing is I'm tracking the scroll as as the user Scrolls down and once they get to a certain point in the page I'm changing the background position Y and I'm changing it by a certain amount let's let me see what this variable is so basically I'm changing in in correlation to the scroll so like every time you scroll one pixel the position changes by one pixel so that's why once you get down to here and start scrolling up it actually is changing the position of this by one pixel every time I scroll one pixel okay so that's how I get the effect I tried just kind of changing it from like background attachment fixed to a different like just to initial or something that I had like a big jerk so at some point it would just change position this very abruptly and it didn't look nice the other thing I added to try to help get rid of this you know getting cut off here was I did add a check to see what the width was of the window so depending on the width it adjusts the position so I just have I just kind of set this in line with a little ternary operator here so it's like if the window is larger than 1540 pixels they were going to adjust it either up or down so you have a negative 12 adjustments are down or positive 12% up so for whatever reason I wasn't it's not exactly working right now so all right there yeah I think maybe my since I have the screen in like a weird kind of square which is not really a normal screen size nowadays that's what was giving me okay so that's kind of how it's supposed to look you should be able to see that part all right so enough about the how I did that the problem was when I first did this and I just had this whole thing inside my document ready function it wasn't working and the same thing with with this one you see a kind of a similar thing happened with this one a scroll function which I just wanted to have some buttons to scroll horizontally on a place where I have a responsive table okay so it worked when I tested it but when I put it on the server this would not work it was not it was not recognizing this this div at all so nothing was working on it so how I solved it was I pulled this function out out of the document dot ready so I pulled all this code out I put it in a function I give it this name now when I go to was my index page of it open so this exists on the index page so now I actually call I can call this from inside my component so I have this component did mount and I call this function inside of there so the function actually did it needed to be called and I tag could test that out in the you know the console where if I would call the function it would run but if just relied on that document already function it wouldn't it wouldn't work you wouldn't run so that's one way it kind of quick an easy way to get your components working now there could be some issues like let's say you have some components that aren't may not be loaded all right when this component did mount fires then you might want to wrap this and in a function that would wait until the site loaded entirely and that would work if it was farther down on the page and the odds of somebody scrolling there before that actually worked we're really slim so for in this case I don't need to do that it works and let me show you I'll pull in the actually have it here okay so this is the version of the site the that's on our test URL so this is actually running on the server the differences we're running next j/s which is our J's framework we're running it in production mode instead of dev mode and there are some differences one difference that I have found that's it's a little bit frustrating if you're not aware of it at first is when the hot reload happens sometimes things just don't work so some of your JavaScript stuff or your Styles just occasionally you'll have a weird glitch where things won't work so if that happens don't freak out just refresh the page and it usually works after that you won't ever have that problem in production because you're not using the hot module reloading obviously in production so let's go to the home page and we'll see this should work alright so that works one other thing to watch out for that I've had happen to me when I'm using this is right now all of this is being serverside rendering and served up so you can watch watch this little you know loading indicator here when I click team right it's actually reloaded that's it that's an entire page refresh but normally you know if you're working with react a lot of times you don't want that page reload you want it to just you click it and everything gets pulled in it's all handled clientside so you want that clientside routing you get you that immediate route right to the next page and you don't even have to do a page refresh so if you're going to do that your document ready function is not going to fire right because it already has fired right it's not going to happen again so you can't leave your JavaScript in there and expect it to work so I'm actually doing that and it works for some things so let me show you back here in our JavaScript so for instance this this scroller function I'm using on the events page let me find that just to show you so if you see on the events page I'm not calling anything from here yeah but in the document dot ready function at the bottom here I am actually calling it this scroller right I'm actually calling this as well just uh I was frustrated trying to get it to work so I was trying to run this function everywhere I could think of to get it to work so I'll probably verify that this doesn't need to be in here and then possibly take it out before this actually goes live just to get rid of some unnecessary code but I'm calling that here inside the document dot ready function and since right now we're doing all our routing like more traditionally where we have a page refresh this will still work let's go to the events page just to show you and we'll go down to the bottom and here's the the scrolling thing let me shrink the page so you can actually get a scroll okay so this is a responsive style table so I can scroll like this or I can use these buttons to scroll okay the reason I put this in is since this scroll bar gets automatically hidden I don't think it's hidden on all browsers but at least Chrome on iOS automatically hides this I wanted users to know that they could scroll so I put these buttons in and since I was going to have these buttons and I figured people are going to try to click those so it needs to do something so we have this girl so you can see if you're using traditional routing you can still call things from your document.ready function and they will work but not if you're using the clientside routing and let's let's just enable that just to show what happens what works and what doesn't work so if you're not familiar with next j/s check out their their dogs on get up I think I have the link in the description you will you'll see about I guess I'll bring up the ducks since I have it here no that's not it I said yeah okay I'll make this a little bit bigger so we can follow along okay so let's go to routing all right so check this routing here so we can enable clientside transitions between routes if we just use the link component we can also prefetch I'm not getting able to prefetch now maybe at some point if we have time probably not before launch we can go over this prefetching it is pretty cool we can save some time with loading but right now we just need to pull this in we need to import link and then we need to wrap our link we'll grab our taking AB menu link and this mic here so we're actually going to go to our component for that stinky nav so let's find that stinking EV and we'll import link and this is something that's built into next so if you're just using react without using next you won't won't have this alright so now let's make let's make this events a link because I think let's check the dogs just to be sure okay we just need to change it okay we're going to wrap it in the link and we'll keep the ax so link and then we're going to put in href I'm going to move the HRF to this link tag and we can move this inside the link and we can remove this I'm not going to worry about the title right now I think that should be fine there and we're save it okay now let's look here let me see I couldn't I couldn't tell if this whoa and get a lot of errors right now okay okay did you see I don't the era's are heard oh I'll show you the air is in a second but knock you're trying to fit now we're still getting a page refreshes see why that didn't work sorry if I'm losing you it's just is not working right now what happened here okay so we are importing this we're using the link tag I guess we can pull this off just since it was like that in the in the docks okay all right so we're on the events page verify this let me shrink this we can verify that this still works okay so that still works now we want to go to a different page and flip back okay so actually a routing just isn't working at all right now I'm thinking maybe just what the hell want to check maybe this has to be on a page we can check the example here next is a good job of having a little example projects so we can just go in here and check ok so they are running this on an actual page let's try to run it on a page and see if that makes a difference or actually it looks like our server is not working right now so let's restart it I'm getting an error on my server I've been it's been happening for like a week now where sometimes it will just hang I think I mentioned this at a video last week so so far it's just annoying and it hasn't slowed me down that much all right so let's let's try this not huh okay I don't know if you notice that what's happening is it is refreshing it's refreshing and not only that but we're getting all these errors here and these were the areas that I actually expected to get for that sticky knife it's saying cannot repro pre top of undefined okay let's look what it's trying to find is this the sticky knife this original sticky nav and it can't find it it can't so it obviously can't get the position so let's try let's try to do a refresh okay so let's verify okay well this now it now that you started working let's see okay there we go alright so here's what's happening so we finally got it to work so I think the the clientside routing is actually working now for that I don't know why it's still giving me a little a little flash I'll have to check this up to be sure Wow okay my dev tools just crashed so it's getting so many errors from that let's open that up again yeah I'm still getting all these errors so let's leave this page for a second so that we don't get we don't keep getting all these errors whoa Wow what did I break if you guys notice me do something hey let me know because now I'm getting so many errors and everything's not working I have not had this happen before hmm that's weird all right let me let's go check and make sure that we didn't accidentally change something that we shouldn't have so the only files that we've really changed let me let me go I'm just going to do the git status just to see what we change the only thing we changed was the component stinky nav component and the app.js file okay so let's check it out so we brought this code back in and that was fine we already we tested this and this worked okay we have this bottom out of class class original okay so it's doing a lot of this stuff and let me verify that we are actually calling this the proper name okay we do a bottom now all right awesome let's let's add in just like we did for the southern component or yet on the index page so on our index page we added in something like this I want to give this a try since it works for that page let's give this a try and see how this forward in case you haven't heard me say this in previous videos this video is just about showing me going through my daily work mistakes included so it's not exactly a tutorial I will be doing some tutorial videos when I get a chance and I'll put those on by my own channel so as we go through this this is not rehearsed this is actually me having real problems and trying to figure them out I saved this for I did a lot of other stuff today but I knew this was going to give me a lot of trouble so I saved it so this was at least somewhat on purpose to have things break because I think it's more interesting for the video so I apologize if you expected more of a tutorial and some of them will be more tutorial like but sometimes everything just goes wrong and we have to figure out what's going on all right so let's first what we need to do is pull this out let's grab everything everything we need here and we're going to pull that out and we're going to put it in a function we'll just put it up here function should we call this this is such thinking that right we'll just call it sticking out and let's throw all that in there and save it and now we'll go back here and let's see if we can call that we're going to save that and let's go back to this you better refresh okay so the sticking app works now let's try it on this events page that was what freaked everything out last time all right it's working I'm also not getting a millionaire's and my console like we were before okay that's nice not bad let me click a few more times just to see if we can recreate all those errors that we had we go back here I think our gosh test servers hanging again so well that's hanging what we'll do is I'll show you how I am putting this on the server right now because I don't think I should showing you that yet so let me bring this in right now I'm just going to say I'm just going to push this to get because what we're going to use get to put this on the server so all somebody else with theme I'm using the theme is setting SETI all right so the server restarted let's just all right cool that's working but what's not word okay so we were able to recreate some of this stuff in terms of the errors so this is no longer working let's give it a refresh just to verify that it's not working okay yeah definitely not working I'm going to make sure it's not a something weird with the screen all this is it working now okay that's interesting it started to work now for some reason it did not work I don't if you guys caught that when we first loaded the page it did not work we resize the page and it works which doesn't really make a whole lot of sense okay you see here it's not working until we resize we resize just a little bit and now it's at least kind of working it's giving us a weird thing okay now I'm going to troubleshoot that right now is I'm in the middle of showing you this yeah because some of these a call on the live chat says it's not working because your window size is less than 15 40 so I guess we'll go back and check this out now yeah so I do have let's go to this function the scroll effect here so I am checking for this window size the window width which should happen is if it's greater than 1540 it's just going to have a different base position but then it's still going to add us this dis scroll this position Y which is just based on the the scroll position so it should still be working I said but I'm not going to show overshoot that now that's just odd because I did test that a lot the only different thing that I was doing was I was testing it on another screen I don't I don't know why that is students make such a big difference but um I guess it does okay I'm we're getting okay so let me let me just show you this so for commit message where we do move remove sticky nav its own function outside okay so we move the stickeen out into its own function outside document dot ready that's about what we did okay so if you're not familiar with git it's version control all I've done is just I've saved this version of the code and I may have a little message there just to say what changed since the last version and now I've pushed it on to github which is a site where you can store your code and on all your versions so you can view it other people can view it collaborate and this repo is available so since we push this let me switch back over we're going to go into our server also looks like I'm still logged in let me just make a mouse to live in looks like this says there we go okay so I wasn't logged in it was still showing it but it was just kind of lagging a little bit so let's log back in so I'm using SSH when you use SSH this is my local machine right now and I'm just going to type in my username and then the IP address I have a private key on my machine and there's a public key stored on the server all right those have to match up and then I can log in and I don't even need a password so it's pretty cool I have to log in from this computer but it prevents people from trying to you know guess my password or bruteforce attack and get in so now that I'm in here you can see here's our folder so let's go in into that folder this is this has all the same things that we have on our local machine but I'm now on the server this is a droplet on digital ocean I did a few videos on how to set that up we're going to stop our server right now as you can see I just stopped that from running so the site actually won't work right now and now I'm going to get pool and all the changes I've now pulled down from github so this version and the version on a local machine that we're just testing are now exactly the same and now I need to build this again so I'm going to go npm run build okay and that's going to run i'll show you in our package.json when I say run build that's going to be equivalent of running next build and then I'm going to actually start it with with pn2 and this is what what will be run when I start I don't think I showed you this when we set this up but when we set up the custom server which I think was yesterday but I did need to change this to start the server we give it this environment variable of production and that basically the only thing I'm using this variable for right now is to change the time out the expiration of the the cache okay so that's all built doesn't take very long and now we're going to start okay so that started now let's go back to it and refresh make sure it's working okay everything's working and now let's give it a test so we did change some things so we added that stickiness back in I'm going to open up dev tools here on the side and I'll put it right here so that way we can check and see what kind of pairs we have let's see mine I don't want to preserve the log so let's refresh should we get a clean clean log here okay so you are getting some stuff let's see nonpassive event listeners will walk in touchstart event okay we're getting some stuff I actually have I have it set to verbose settings so we're getting a lot of stuff that you might not normally see all right so our stinky now is working great let's try this up alright that's working and if you remember this actually is just it's it's just being initialized from our our document ready function okay so this did work we're not using that clientside routing which will actually test out first I want to go over homepage and see what's going on there see sticky networks see all right looks like that's that's off that's not working it did stop at some point but it's stopping a lot farther down that we wanted to what would give it kind of a more normal screen size okay I I wasn't sure what was going on with these images but it looks like they're working let's give it a refresh just to doublecheck that okay the images are working it's possible I think I'm using a source set to do different image sizes and I may have now should be working to test that later okay so this this looks a bit more like it should and now I want to test this out to see if we actually are linking and it looks like that it did work okay there we go finally this is what I expect okay this is what I've been trying to get to happen almost the entire time let me tell you what happened just in case you missed it so we added a few minutes ago we added this clientside routing so before we just had regular link tags it was actually going back to the server we're getting page refreshes we had a clientside routing what happens though with with clientside routing is you the document.ready function doesn't fire again so this never initialized so you can see this is not working if i refresh the page it should work so let's do that let's refresh see it is working so we'll test this one more time just to just to test that our theory and demonstrate how this works we go to the about page I want to go somewhere that will give me a message to okay oh I see what's happening since I'm using source set on a smaller screen is kind trying to grab a different image a different sized image but I forgot to put the correct route I just went right to the image folder instead of static so that's why just a little little typo a little mistake there all right so now we're gonna go to events okay now what you see I think we did have a little flash here but we didn't actually have a refresh so these same errors that we just had on the homepage have not gone away if we had a page refresh this should have gone away so I see I just clicked on news it had a page refresh all that went away all right so those should have gone away so the rep the clientside routing is working and that also explains why this isn't working because we're only calling this from the document.ready function does that make sense want to stop and check on you you all for a second since I've been ignoring the live stream to try to get this to work I know there's going to be a little delay so I'm going to wait basically the question is does any of this make sense at all can you see why it's not working and I'll take just another minute here I know I'm over my half an hour but I'll take another minute to fix this we'll push it to the server and test it again to show that how to how to make your jQuery work with the clientside routing in react so I'll get ready to do the fix while I'm waiting to hear back from here okay finally okay so Patrick said it makes complete sense okay we'll move on here I know there's there's 43 other people viewing right now oh okay Daniel says it works too awesome so at least two of 43 say that it works if if you're one of those other 41 people and you are really confused leave a message in the comments direct message me on Twitter re watch the video I'm happy to help help you try to understand this especially if you really need to understand this for a project you're working on I'd be I'd be more than happy to talk to you go over this a little bit more or if you have a much easier or better way of doing this and you're just watching this thinking like what is this idiot doing please let me know so basically what we're going to do we have all this this is our scrolling stuff down here I haven't put it in its own component yet eventually I will put it in its own component because we do have some things that need to repeat for now we don't we don't have a ton of events so this might be one of the things that just gets hard coded um then this is weird sorry I just got distracted by this little oh okay my syntax highlighting just made it look weird but this is corrected we want event slash title it's highlighting some of the stuff as if it were JavaScript when it's really in here I am for some reason my plugin that's supposed to highlight react stuff more accurately as stuff working I think I probably just need to restart my editor all right so here's what we're going to do let's grab this from sticking up because why type when you can copy and paste and handle throw this in here and I believe we call this H scroll or yep H scroller so we're going to call this on component in mount there's only one thing I'm worried about I'm where that this will actually fire before this stuff loads down here if this was its own component I would be less worried about it because it would only be so we'll see if it works if it doesn't work that's probably why and III do have one more thing that could be done to fix it if that happens okay so we save that let's go over here let's go back to okay so we've changed this we're going to do a git commit and I'm combining to get add and the commit message into one and we're going to call H stroller from the component we're calling a stroller from component did mount okay we're going to push that now let's go back to our server and let's first we'll stop it now let's get pool now let's build if you notice I'm using NPM on the server but on my local machine I'm using yarn yarn is faster I like yarn more but it just simplifies things on the server if I restaurant straight NPM at least for now I have run yarn on the server too it's not a big deal but it's just one less thing I have to load on the server there was some a couple months ago when I set something similiar up there was some weird bug where I I couldn't run yarn with p.m. I had to use NPM it was something with it was it was looking for us so I I looked up the problem that I couldn't get it fixed so I just stuck with running NPM it's possible that it has changed now there's been up updates for p.m. to and you are in since that time but just in case you're wondering that's why it's different now let's just start it up again to the build is complete all right now we're back online and let's refresh if you remember we need to actually navigate away and back to there are sticky networks this should work alright that still works now let's go let's go out to the home page just to see if this if this works as well which it should be working right okay that works awesome sticky now is working on the home page and we're not getting any crazy areas except this one that we knew about already and that's just my fault for not citing the right path now let's go back to the vents now what should happen you can see we didn't actually have a page refresh because we still have all the same stuff in our console now what should happen here is as I scroll down this should work and it does ok so just to recap I'm gonna I'm going to finish up here before it ends I am going to show another video interview I did from syntax spawn and it's only like a 30 second video and I'll go through the live chat and answer any questions so just to recap in case people are joining in late did Seattle normally when you use jQuery you're going to put things inside your document your document ready function okay and then that way if you have to look up elements on the page they're loaded so they will be there the problem is when you're using react and you're using clientside routing which is common with react and you you go from one page to another and you don't actually have a page refresh the document dot ready function doesn't fire again so your code won't work the first time it ran it won't be able to it wouldn't have found that element on the page because you're on a different page so then when you switch that that code will just never run the solution or at least one solution is pull out that code to yours you're still in your main app J S or whatever you want to call it scripts dodged as you're still in there you still can use jQuery as normal but you've just pulled out literally you just copy and paste that code that's doing the thing that whatever you want it to do that jQuery and you just throw it a function name it whatever you want and then you go into your your component and then the component did mount function which this this isn't next specific this is in and react so any type of react thing that you're doing will have this well I haven't worked with react native so I'm assuming req negative has something like this or maybe the same thing but basically you're going to have component did now and you're good call it from in there and that's going to make sure that when you do your routing like we just did okay so when I go to a different page here you can see I haven't done that with the side nav yet so it still doesn't work so we're going to a different page and now we're going to go back to events events right now is the only page where we've enabled the clientside routing for we've gone back to events the document ready function is not fired but since this component is now on the page and it wasn't this component has now mounted and in this case this the entire page is one component if this will be split out at some point but since that's the first time this component is loading its mounted it actually calls that that function okay so hopefully I know a couple you said that that did make sense so hope I didn't confuse you too much it seems like nobody said they're confused yet so I hope that was helpful for you I'm going to repeat what I said at the beginning ideally you don't want to use jQuery when you're using react okay there are some weird side effects that happen because react is trying to track everything in the DOM and if you change it with jQuery instead of the reactor way to do it then it can mess up reacts tracking of the dawn okay and you will get some errors and stuff it won't always break your site okay obviously we're using it here our sites not breaking we're not you know the world is not ending by using jQuery and react together but I expect that a lot of you might be in a situation where you're converting a site to react or for whatever reason it's going to be a big deal to try to do things in vanilla JavaScript or the react way to do it when you can do it very easily with jQuery sometimes it's just a time issue like with me right now I just really don't have time to figure out how to do all these things in vanilla JavaScript I know it's all possible but it's just faster use jQuery right now so hopefully that helps some of you I'm gonna play let me play this video for you and then after the video I'll do a quick run through the live chat see if there's any questions that I can answer for you right now and then I'll have to go because this site needs to launch on Thursday and there's a lot of work to do so I'll pretty much be taking breaks for sleeping and that's about it until we launch so let me I did this yesterday and it worked so I'm gonna try this again I know you can't see this but I'm literally just unplugging my headphones so that I can play the audio from this video on my on my speakers on the Mac lemme there we go I have an iMac so I'm just going to put these through the speakers and the microphone on the iMac will pick it up I don't have any special equipment at this point so hopefully this will work and it's loud enough me full screen it for you okay so this is just a very short interview from syntax Cohen it's a conference that went to last week really great conference and this is a Ron I I know I'm going to mess up his last name sorry Ron um so Ron AK right ratha rai tha tha so sorry Ryan he's a really nice guy I got to talk to him and go to Lee he did a talk on AWS lambda so let's hear what advice he had he's going to say what his name is where he works what he does and he'll give some it what he's excited about with new technology and some advice for new new coders all right say yes I'm wrong I work at boomtown as the back and suffered over the chassis approached me he asked me about you know and to talk about your poker game and talk to people right ah see uh one of the questions was what was the technology I'm excited about one of them is serverless the surrealist framework that just came out and it works at live that a bunch of other cloud platforms it's pretty cool pretty nifty work live and advice that I have for people trying to get into coding is that sure it's nice to watch courses and you do projects but try stepping out of your comfort zone that will help you immensely alright so that's it for the interview really short interview some of the other ones were were longer but I think I have maybe three more to show you let me go to the live chat quickly before we before we end okay I did answer some somebody asked how to get started with react and I answered that earlier so if you're interested in hearing that answer watch the re recording this video and go back to the beginning Ezra is as I'm still a beginner so I'm already lost sorry about that react was like super confusing to me when I started to use it so just just stick with it it it will click at some point all right somebody's asking about my text editor so it is Adam and I'm using the SETI theme okay not a lot of questions somebody else says they're beginner and they're lost so I apologize if I lost you I its if you're not familiar with reacts or even familiar that much with JavaScript I I could see you you would definitely be lost so I'm not always going to be at this kind of level doing videos I expect when I'm done with this project then I'll go back and probably start up a new project or get back to just some things that are like basic HTML CSS things so since this is just my day to day job it's just a big mix of things so if this was a little bit over your head then you know thun thun back in what some of the older videos and you know just follow me on Twitter I'll tweet out what the topic is every day and you can see if it's a topic that interests you that seems like it's more at your level than then tune in there's definitely some really like beginner type stuff that that has been on this show and will be on this show especially like as we get started in projects so hopefully there'll be something for everyone at every at every skill level my hope is that some people will get a lot from this some people if they're beginners and some people who are more advanced will give me some advice and and you know we can kind of work together to learn from each other okay we had one more question here how how do we manage this sticky nav UI check out the playlist so live coding with jesse is a playlist on the free code camp channel in that playlist you'll see maybe two weeks ago I did a video where we live coded that sticking up and I went through that so check out that video if anything is confusing just leave a comment on the video and I'll get back to you and try to explain it more but we did I'm pretty sure that I went over that part in in a video and if I'm just totally losing my mind and I didn't make a video leave a comment as well and then maybe I'll put that on the list for for a video to make later on you can also check out all the code for that on github the link is in the description so there's any other questions get them in in the next five seconds otherwise I'll see I'll be back on tomorrow same time I'll probably be more stressed tomorrow than normal because at that point it will be less than 24 hours to launch and I will have probably been working quite a lot between then and now so hopefully this site is looking way more finished tomorrow and maybe our livestream the launch so we'll see I haven't set an exact time for that launch but that might be cool to actually live stream the you know pointing the domain name to the right servers trying it out and maybe we'll probably be doing some testing tomorrow so maybe I'll show you how I test with browserstack and and things like that we'll try to find some bugs right that's it for today thanks for watching and I'll be back tomorrow
