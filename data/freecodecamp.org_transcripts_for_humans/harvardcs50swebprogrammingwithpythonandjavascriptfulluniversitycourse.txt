With timestamps:

00:00 - this course from Harvard University
00:01 - picks up where cs50x leaves off diving
00:05 - more deeply into the design and
00:07 - implementation of web apps with python
00:09 - JavaScript and SQL using Frameworks like
00:12 - Django react and bootstrap Brian you
00:15 - will teach you topics such as database
00:18 - design scalability security and user
00:21 - experience you learn to write and use
00:23 - apis create interactive uis and leverage
00:27 - cloud services like GitHub and Heroku
00:30 - [Music]
00:47 - hello world this is cs50 and this is web
00:52 - programming with python and JavaScript
00:53 - with cs50 Zone Brian you this course
00:56 - picks up where cs50 itself leaves off
00:58 - diving more deeply into the design and
01:00 - implementation of web apps with python
01:03 - JavaScript and SQL using Frameworks like
01:05 - Django react and bootstrap we'll start
01:08 - by taking a closer look at HTML and CSS
01:11 - languages that we can use to describe
01:12 - the structure and the style of web pages
01:14 - after that we'll introduce git a Version
01:17 - Control tool that we can use to keep
01:18 - track of changes we make to our code and
01:21 - also to allow multiple people to
01:22 - collaborate on the same project at the
01:24 - same time after that we'll dive more
01:26 - deeply into python exploring some more
01:27 - advanced features of the programming
01:29 - language and in particular how we can
01:31 - use it in order to create Dynamic web
01:32 - applications using a web framework known
01:34 - as Django we'll leverage Django and in
01:37 - particular its ability to deal with data
01:38 - working with SQL models and migrations
01:40 - to create web applications that use a
01:43 - database in order to create interactive
01:44 - user experiences after that we'll dive
01:47 - more deeply into another programming
01:49 - language JavaScript exploring how we can
01:51 - use JavaScript to create Dynamic and
01:53 - interactive user interfaces writing code
01:55 - that responds to events and also
01:57 - manipulates a web page in response to
01:59 - some kind of user interaction
02:00 - after that we'll explore some best
02:03 - practices in Industry including testing
02:04 - to make sure that our code works as
02:06 - expected and also continuous integration
02:08 - and continuous delivery to allow us to
02:10 - rapidly make changes and deploy those
02:12 - changes to our code whenever we're able
02:14 - to make those updates and then finally
02:16 - we'll consider concerns around
02:17 - scalability and security as we take our
02:20 - applications and move them from our own
02:21 - computers to the web where anyone can
02:23 - access them we'll talk about how we make
02:25 - sure that these applications are able to
02:26 - scale and how we're able to make sure
02:28 - that these applications are secure along
02:30 - the way you'll have an opportunity to
02:32 - put all of this into practice by
02:33 - building web applications of your vario
02:35 - this is cs50
02:38 - [Music]
02:52 - thank you
02:55 - [Music]
03:00 - all right welcome everyone to web
03:02 - programming with python and JavaScript
03:03 - my name is Brian Yu and in this course
03:05 - we'll dive into the design and
03:07 - implementation of web applications in
03:09 - lectures we'll have an opportunity to
03:11 - discuss and explore many of the ideas
03:13 - and tools and languages that are Central
03:15 - to Modern web programming and through
03:17 - Hands-On projects you'll have an
03:18 - opportunity to take those ideas and put
03:20 - them into practice designing multiple
03:22 - web applications of your own culminating
03:24 - in a final project of your own choosing
03:27 - throughout the term we'll cover a number
03:28 - of topics in this world of web
03:30 - programming beginning with HTML5 and
03:33 - css3 two of the languages that are
03:35 - Central to the understanding of web
03:37 - pages HTML is a language we'll use to
03:39 - describe the structure of a web page and
03:41 - CSS is a language we'll use to describe
03:44 - the style of a web page the colors and
03:46 - the fonts and the layouts and the
03:47 - spacing that make the web page look
03:49 - exactly the way we want it to look
03:51 - after that we'll turn our attention to
03:53 - git a tool not specific to web
03:55 - programming per se but that we can use
03:57 - in order to Version Control our programs
03:59 - to keep track of the different changes
04:01 - we make to our web programs and to allow
04:03 - us to be able to work on various
04:05 - different parts of the web application
04:06 - at the same time before merging those
04:08 - pieces back together
04:09 - after that we'll take a look at python
04:11 - one of the first main languages that
04:13 - we're going to be exploring in the
04:14 - course which is a language that we're
04:15 - going to use in order to build our web
04:17 - applications specifically we'll use
04:19 - Python using a framework called Django
04:22 - Django is a web programming framework
04:24 - written in the Python programming
04:25 - language that we're going to use to make
04:27 - it easy to design and develop our web
04:29 - applications Django in particular makes
04:32 - it easy to design web applications that
04:34 - interact with data so after that we'll
04:36 - turn our attention to SQL a language
04:38 - that we can use to interact with
04:39 - databases in particular looking at how
04:42 - Django allows us to use models and
04:44 - migrations to interact with data and
04:46 - allow users to interact with data all
04:48 - the more easily
04:49 - next we'll turn our attention to the
04:51 - second of the main programming languages
04:53 - that we'll be exploring in this class
04:54 - JavaScript and looking at how we can use
04:56 - JavaScript to run in users web browsers
04:58 - to make web pages just a little bit more
05:01 - interactive in particular we'll use
05:03 - JavaScript in the context of user
05:04 - interfaces looking at modern user
05:06 - interfaces and exploring how it is that
05:09 - those interfaces work and how we can
05:10 - develop those user interfaces with a
05:12 - combination of python and JavaScript
05:15 - next we'll turn our attention to testing
05:17 - and CI CD or continuous integration and
05:21 - continuous delivery which are tools that
05:23 - we can use in software best practices to
05:25 - make sure that we're able to design and
05:27 - develop code more efficiently and
05:29 - testing in particular makes sure that as
05:31 - we make changes to our code we're not
05:33 - breaking existing parts of our web
05:34 - application by making sure that we have
05:36 - a whole Suite of tests that we can use
05:38 - to ensure that our web application is
05:40 - always behaving as it should
05:42 - and finally we'll turn our attention to
05:44 - scalability and security on the internet
05:46 - thinking about what happens as our web
05:48 - application grows larger as more and
05:50 - more different users start to use our
05:52 - web application how do we load balance
05:54 - between those people and what do we need
05:55 - to change about our database to make
05:57 - sure lots of users are able to connect
05:59 - to our web application at the same time
06:00 - moreover we'll look at the security
06:02 - implications behind designing our web
06:04 - applications what might an adversary do
06:06 - if we're not careful and how should we
06:08 - proactively be designing our web
06:10 - application to make sure that it's
06:12 - secure
06:13 - but today we begin our conversation with
06:15 - HTML and CSS two of the languages that
06:18 - are foundational to understanding web
06:19 - pages and how web browsers are able to
06:22 - display those web pages and we'll start
06:24 - with HTML or hypertext markup language
06:27 - which is a language that we can use to
06:29 - describe the structure of the web page
06:30 - all of the buttons and the text and the
06:33 - forums and other parts of the web page
06:35 - that the user ultimately sees and
06:37 - interacts with
06:38 - our very first HTML page is going to
06:40 - look a little something like this it's
06:42 - going to be text-based code that we
06:44 - write that a web browser like Safari or
06:46 - Chrome or Firefox is then able to look
06:48 - at parse understand and display to the
06:51 - user so let's take a look at this page
06:53 - one line at a time and get an
06:54 - understanding for how it works even if
06:57 - you don't quite understand all the
06:58 - nuances of the syntax there are probably
07:00 - a couple of things that stand out to you
07:01 - you might notice the word title which
07:04 - probably reflects the title of the web
07:05 - page for example which in this case
07:07 - appears to be the word hello and then
07:09 - down further below we see that we have
07:11 - the body of the web page that seems to
07:13 - contain the words of hello world so what
07:16 - is this webpage actually going to look
07:17 - like well let's take a look at it
07:20 - we'll go ahead and open up a text editor
07:22 - you can use any text editor you want but
07:24 - for this course I'm going to use
07:25 - Microsoft's Visual Studio code and I'm
07:27 - going to open up a new file that I'm
07:29 - just going to call hello.html
07:33 - inside of hello.html I'm going to write
07:36 - the same HTML that we just saw a moment
07:38 - ago and we'll explain each of these
07:39 - lines in due time
07:41 - but recall that we had
07:42 - a title of the page that says something
07:45 - like hello
07:46 - and then a body of the page where we
07:48 - said something like hello world for
07:51 - example
07:52 - so this is our very first HTML page and
07:55 - if I go ahead and open that HTML page as
07:57 - by opening hello.html for example inside
08:00 - of a web browser what I'll see is
08:02 - something like this in the body of the
08:04 - page I see the words hello world
08:07 - and if you notice up here at the top of
08:09 - my web browser I see the title bar where
08:11 - I have the title for this page which in
08:13 - this case is just the word hello
08:15 - so this is our very first web program
08:18 - that we've been able to develop just
08:19 - using HTML and now let's explore in more
08:22 - detail how exactly this program works
08:25 - so here again was the web page that we
08:27 - were just looking at and this very first
08:29 - line here doctype HTML is what we might
08:33 - call a doctype declaration it's a way of
08:36 - telling the web browser what version of
08:38 - HTML we're using in this particular web
08:40 - page because depending on the version of
08:42 - HTML the web browser might want to
08:44 - display different information or I might
08:46 - need to parse the page a little bit
08:47 - differently each version of HTML has had
08:50 - a slightly different way of indicating
08:51 - that version but this line here doctype
08:54 - HTML is our way of saying that this HTML
08:57 - page is written using HTML5 the latest
09:00 - version of HTML
09:02 - after that our HTML page is structured
09:05 - as a series of nested HTML elements
09:08 - where an HTML element describes
09:10 - something on the page and we might have
09:13 - elements that are inside of other
09:14 - elements each of those elements is
09:17 - indicated by what we're going to call an
09:19 - HTML tag enclosed using those angled
09:21 - brackets and right here we'll see the
09:24 - beginning of the HTML tag which means
09:26 - this is the beginning of the HTML
09:28 - content of our page
09:30 - down below this slash HTML means that
09:34 - this is the end of the HTML content of
09:36 - the page and in between is the actual
09:38 - HTML content of the page which might
09:40 - include other HTML elements
09:43 - you might also notice that in this HTML
09:45 - tag we've specified what we're going to
09:47 - call an HTML attribute some additional
09:50 - information that we're giving about this
09:52 - tag in particular we're giving it a lang
09:55 - or language attribute which is equal to
09:57 - e n or English this just tells the web
10:01 - browser or anyone looking at the HTML of
10:03 - this page that this page is written in a
10:05 - language and the language it's written
10:07 - in is English and this is helpful for
10:09 - search engines for example when they're
10:11 - looking through many different web pages
10:12 - trying to figure out what language each
10:14 - web page is in we can just tell the
10:16 - search engine or anyone else who's
10:17 - looking at the page that this page is
10:19 - written in English
10:21 - now inside of the HTML body of the page
10:23 - we have a number of different elements
10:25 - that are going to describe what we want
10:27 - on this page starting with the head
10:30 - section of the web page which describes
10:32 - stuff not in the main body of the web
10:34 - page the part of the web page the user
10:35 - sees it but other information about the
10:38 - web page that's going to be helpful or
10:39 - useful for web browsers to know about
10:41 - for example one important thing that the
10:43 - web browser needs to know is what is the
10:46 - title of the web page and here we see a
10:49 - title tag again indicated by the word
10:51 - title in those angled brackets followed
10:53 - by the end of the title tag indicated by
10:56 - a slash before the title and in between
10:58 - the two title tags is the word hello
11:00 - which means the title of this page
11:02 - should be the word hello
11:04 - and that's all the information we'll
11:06 - have in the head of the page we'll add
11:08 - more information there later but for now
11:09 - all the web page needs to know is that
11:11 - it has a title and the title is the word
11:14 - hello
11:15 - next up comes the body of the page again
11:17 - indicated by a body tag and that ends
11:20 - with the tag with Slash body meaning
11:22 - this is the end of the body of the page
11:24 - and the body of the page again is just
11:26 - the visible part of the page that the
11:27 - user can see and what do we want inside
11:30 - the body of the page for now we just
11:32 - want the text hello world and that's the
11:34 - information that's going to be displayed
11:35 - when someone visits this webpage
11:38 - and so that's all there really is to
11:40 - this HTML page we specified in the
11:42 - header that there's a title of the page
11:43 - called hello and inside the body we're
11:46 - saying the page should say the words
11:47 - hello world and if you want to visually
11:50 - think about the way that all these HTML
11:52 - elements are structured it can sometimes
11:54 - be helpful to think about an HTML page
11:56 - in terms of a tree like structure that
11:59 - we call the document object model or Dom
12:01 - and so here for example is what the Dom
12:04 - for this webpage might actually look
12:06 - like here on the left is the HTML
12:08 - content that we just saw a moment ago
12:10 - and over here on the right is the Dom
12:12 - the document object model the tree-like
12:15 - structure that describes how all of
12:17 - these HTML elements are related to each
12:19 - other so we start up here with the HTML
12:22 - element and this parent element so to
12:24 - speak has two child elements within it
12:27 - head element and a body element as we
12:30 - can see here we're inside of HTML we
12:32 - have a head section and a body section
12:34 - and the indentation here that we're
12:36 - including in the HTML text it's not
12:39 - strictly necessary the web browser
12:40 - doesn't care what the indentation is but
12:43 - it can be helpful for someone who's
12:44 - reading the page just to see the
12:46 - indentation to understand visually that
12:48 - the head is inside of the HTML element
12:50 - and the body is inside of the HTML
12:53 - element too
12:54 - so inside of the head element we have a
12:56 - title element and inside of the title
12:58 - element is just the text the word hello
13:00 - and likewise inside of the body element
13:02 - we also have some text the text hello
13:04 - world
13:05 - so thinking about HTML and HTML
13:08 - documents in terms of this structure can
13:10 - be helpful for understanding which HTML
13:12 - elements are inside of which other HTML
13:15 - elements and that's going to make it
13:16 - easier for us to reason about these
13:18 - Pages later on and especially as we
13:20 - later transition into the world of
13:22 - JavaScript JavaScript is going to make
13:24 - it all the more powerful and give us the
13:25 - ability to actually modify parts of this
13:28 - Dom as well but we'll certainly get to
13:29 - that in due time
13:31 - so now let's take a look at some of the
13:33 - other common HTML tags and HTML elements
13:36 - that we might be interacting with in our
13:38 - web page and we'll start by thinking
13:40 - about HTML headings so big Banners at
13:43 - the top of a page for example some
13:44 - headline that describes what a page is
13:46 - about
13:48 - so I'll go ahead into my text editor and
13:50 - create a new file that I'll call
13:53 - headings.html and the structure of this
13:55 - page is going to be pretty similar to
13:57 - the pages that we've seen before already
13:58 - so I'm going to start by just using the
14:01 - hello.html text and paste it in here
14:04 - I'll change the title of the page
14:05 - instead of hello we'll go ahead and call
14:07 - it headings
14:09 - but inside the body of this page now I
14:11 - want something a little bit different
14:13 - I'm going to inside the body of the page
14:15 - use an H1 element and say this is a
14:20 - heading for example
14:22 - so H1 is a tag that I can use to create
14:25 - a large heading at the top of my page
14:27 - like for the title of a page for example
14:30 - so if I open up headings.html
14:33 - I might see something that looks like
14:36 - this a big heading at the top of my page
14:38 - that says this is a heading H1 where the
14:41 - H stands for heading and the one stands
14:43 - for the largest possible heading and in
14:45 - fact HTML gives us a number of different
14:47 - tags that we can use in order to create
14:49 - headings of various sizes so for example
14:52 - I could also say
14:54 - H2 inside of which I say this is a
14:57 - smaller heading if H1 is the largest
15:00 - heading H2 is the second largest heading
15:03 - so if I load this page for example I now
15:05 - see the H1 at the very top this is the
15:08 - big heading and then beneath that I see
15:10 - this is a smaller heading the H2 and it
15:13 - turns out there's also H3 H4 H5 all the
15:16 - way down to H6 which is the smallest
15:19 - heading
15:20 - such that if I load this page now I have
15:22 - a big heading a smaller one and then
15:24 - here's the smallest so we can often use
15:27 - these H1 H2 H3 tags just for visually
15:30 - organizing text inside of a page if I
15:32 - want the title of the page
15:34 - but also I want titles for each of the
15:36 - various different sections and
15:38 - subsections that might be contained
15:40 - within that page as well
15:43 - so those are headings and now let's also
15:45 - take a look at some other elements that
15:46 - we might want to add on web pages we see
15:48 - not just titles and not just text but we
15:50 - might also see lists for example like if
15:52 - you've ever used a to-do list program on
15:54 - a web page for example you might see a
15:56 - list of things that you need to do or
15:58 - other web pages might display lists of
16:00 - information and it turns out that HTML
16:02 - has two basic types of lists we have
16:05 - ordered lists for things that are in a
16:07 - particular order like item number one
16:08 - item number two item number three and we
16:11 - have unordered lists for lists that
16:13 - don't have any particular order so just
16:14 - bullet point bullet point bullet point
16:16 - for example and both are quite easy to
16:18 - use
16:19 - I'll go ahead and create a new file and
16:22 - we'll call this lists.html
16:25 - and again in list.html I'll copy the
16:27 - same structure from hello.html We're
16:30 - again going to have doctype HTML just to
16:32 - indicate the version of HTML most of the
16:34 - heading is the same I'm just going to
16:36 - change the title from Hello to lists and
16:39 - then we're going to replace the body of
16:40 - this page to show some different
16:41 - information here
16:43 - so let me first show what an ordered
16:46 - list might look like something that has
16:48 - numbers one two three and ordered list
16:51 - as an HTML tag is just o l o l for
16:54 - ordered list so I can add a tag that
16:57 - says ol
16:59 - and now inside of my ol element my
17:01 - ordered list element I need a new
17:03 - element for every list item list item
17:06 - we're going to abbreviate to just Li so
17:09 - the l i tag in HTML is what we're going
17:11 - to use to designate an item inside of an
17:14 - HTML list so here for example I could
17:17 - say Li and then first item and then I
17:20 - could do the same thing Li second item
17:23 - and then again Li third item
17:26 - so what I have here are some elements
17:28 - and then elements nested within other
17:30 - elements I have an ordered list element
17:32 - inside of which are three other HTML
17:34 - elements three list items that are each
17:37 - indicating each of the individual items
17:39 - that are inside of my HTML list
17:43 - I can now open this up by opening
17:45 - lists.html
17:48 - and this is what I see I see an ordered
17:50 - list where I have item number one first
17:52 - item second item third item note that I
17:55 - didn't actually need to in the HTML
17:57 - anywhere specify the number one the
17:59 - number two and the number three when the
18:01 - web browser reads this should be an
18:02 - ordered list my web browser Chrome in
18:04 - this case just adds those numbers in for
18:06 - me because it knows what an ordered list
18:08 - means and it knows how to take the HTML
18:11 - that I've written and display it in the
18:13 - way that I intend to to the user
18:16 - now in addition to ordered lists that
18:18 - all have numbers one two three we also
18:20 - have unordered lists that are just
18:22 - bullet points bullet points of
18:23 - information so I could up above add some
18:27 - more content to this HTML page I can say
18:29 - here is an unordered list
18:32 - and just as an ordered list we
18:34 - represented using the ol tag in HTML ol
18:37 - standing for ordered list likewise we
18:40 - can use the UL tag in HTML to create an
18:44 - unordered list U for unordered
18:47 - so here we're going to add a UL tag and
18:49 - again my text editor here is
18:50 - automatically adding the closing tag
18:52 - here this slash UL meaning the end of
18:54 - the unordered list and many text editors
18:56 - will do this now just so you the
18:57 - programmer don't forget to add that
19:00 - and now inside of this unordered list
19:02 - we're again going to have some list
19:04 - items also using the LI tag here is one
19:07 - item and here is another item and here
19:11 - is yet another item
19:14 - if I go ahead and refresh the page now
19:16 - I'm still on list.html I now see that on
19:19 - top of my ordered list I have an
19:20 - unordered list where each item instead
19:22 - of being numbered one two three is
19:24 - instead labeled with just bullet point
19:26 - bullet point bullet point where each of
19:28 - these bullet points and each of these
19:29 - numbered items is a list item element or
19:33 - An Li
19:34 - so hopefully now we can see that as we
19:36 - start to explore these various different
19:38 - HTML tags and nesting HTML tags inside
19:41 - of one another we're able to create more
19:43 - and more interesting web pages as a
19:45 - result
19:46 - so let's explore now what other types of
19:48 - web pages we can create using other
19:50 - types of HTML elements in addition to
19:53 - lists one thing you might imagine is
19:55 - that one of the important things on the
19:57 - web is not just displaying text but also
19:59 - displaying other types of media like
20:00 - images for example so how might we go
20:02 - about doing that
20:04 - well I can for example let's go back
20:06 - into my text editor let me create a new
20:09 - file that I'm going to call
20:12 - image.html which is going to contain
20:14 - some code for displaying some images
20:15 - I'll go ahead and go into hello.html and
20:18 - copy this text into the page again
20:21 - change the title to image and now inside
20:23 - of the body I'm going to add a new tag
20:26 - called image
20:28 - and the image tag has a couple of
20:29 - required attributes remember that
20:32 - attributes are what we saw before things
20:33 - like adding a lang equals en to the top
20:36 - of my page to indicate that this web
20:38 - page is written in English for example
20:41 - and the image tag has a couple of
20:43 - required attributes that I need to add
20:45 - in particular when I display an image on
20:47 - the page I need to specify what image I
20:50 - actually want displayed for example so I
20:53 - might specify image SRC short for Source
20:56 - if is going to be equal to what image do
21:00 - I actually want to display on this page
21:02 - and it just so happens that inside of my
21:04 - folder where I have image.html I have an
21:07 - image called cat.jpg so I'm just going
21:10 - to specify cat.jpg as the file name of
21:13 - the image that I want to display
21:15 - and it turns out that images also have a
21:18 - second required attribute in addition to
21:20 - the file name or the link to whatever
21:22 - image I want to display I also need to
21:25 - provide some alternative text a text
21:27 - based representation of what you're
21:29 - going to see on the image because in
21:31 - some cases some web browser might not be
21:33 - able to render the image correctly you
21:35 - might imagine if there's some error
21:36 - rendering the image or if someone's on a
21:38 - slow internet connection or if someone's
21:40 - using a screen reader and therefore
21:41 - can't actually see the image we want
21:43 - some text-based representation of that
21:45 - image as well and so I'll provide some
21:48 - alt text some alternative text that can
21:50 - be used to substitute the image in case
21:52 - for some reason we can't display the
21:53 - image and the alt text that I'll use in
21:55 - this case
21:56 - is just going to be the word cap for
21:59 - example
22:00 - and that's all I need now notice in
22:02 - particular that something a little bit
22:03 - different about this image tag compared
22:06 - to other tags that we've seen before in
22:08 - the sense that it doesn't have a closing
22:10 - tag in the sense that the body had a
22:12 - beginning of the body and an end of the
22:13 - body our ordered list had a beginning of
22:15 - the ordered list and the end of the
22:17 - ordered list with list items in between
22:18 - it doesn't really make sense for for an
22:22 - image for example to have the beginning
22:23 - of the image and the end of the image
22:25 - and some content in between because the
22:27 - image is just a single HTML element that
22:30 - can't really have anything inside of it
22:32 - so in that sense we don't actually need
22:34 - a closing image tag the image tag is
22:36 - self-clothing it is its own beginning
22:38 - and end so we can just say we want an
22:41 - image to be here that is cat.jpega with
22:44 - an alternative text of just the word cat
22:46 - for example
22:48 - so now if I open up image.html
22:51 - we'll see that what gets loaded is quite
22:54 - large a picture of a cat and I can
22:56 - scroll around and see this entire image
22:58 - of course this picture of a cat is
23:00 - probably larger than I wanted it to be I
23:02 - probably when my user visits this
23:03 - webpage I don't want them to have to
23:05 - scroll all the way to the right in order
23:06 - to see the entire cat so I can actually
23:08 - add additional HTML attributes in order
23:11 - to modify the size of the image that I'm
23:13 - displaying and later we'll see we can
23:15 - use CSS to do a similar thing as well
23:17 - but for now what I can add is an
23:19 - additional attribute
23:21 - and say that let me give cat.jpeg this
23:23 - image tag another attribute that in this
23:26 - case I'll just call width and I'll say
23:28 - that width is going to be equal to 300
23:30 - because I would like for this image to
23:32 - be 300 pixels wide for example
23:35 - so now if I refresh this page I now see
23:38 - that the same cat image appears except
23:40 - now it appears at 300 pixels wide
23:42 - exactly so I'm able to add additional
23:44 - attributes additional information to
23:47 - control how an HTML element is going to
23:49 - appear in this case I want to control
23:51 - its width and it automatically scales
23:53 - down the height to make sure that the
23:54 - image is proportional as well
23:57 - now on the internet in addition to just
23:59 - displaying information on a single page
24:01 - it's also common for a page to link to
24:04 - other pages in fact that's one of the
24:05 - main important values of the internet is
24:07 - the ability to go from one page to
24:09 - another via these links and so one thing
24:11 - we might reasonably want to do is add
24:13 - some links to our page where if you
24:15 - click on something you're taken to
24:16 - another page altogether
24:18 - so let's take a look at an example of
24:20 - that
24:21 - I'll create a new file based on
24:23 - hello.html and I'll add laying equals
24:25 - English for good measure and I'll call
24:27 - this new file
24:29 - link.html where here we're going to
24:31 - practice with building some links into
24:33 - our HTML page
24:35 - I'll copy the content of hello.html
24:37 - again
24:38 - call this link
24:40 - in order to create a link I'm going to
24:42 - use a tag called the a tag short for the
24:45 - anchor tag
24:46 - and the a tag takes one important
24:48 - attribute which is called href for
24:51 - hyperlink reference which is going to
24:53 - specify what page I would like to link
24:56 - to
24:57 - so if for example I wanted when a user
24:59 - clicks on this link to go to google.com
25:01 - then I'd set the href attribute of this
25:04 - tag equal to https colon slash
25:08 - google.com for example
25:10 - then inside of the a tag I would specify
25:13 - what text I want to display what text
25:16 - should the user see such that when the
25:18 - user clicks on that text they're taken
25:19 - to the web page in this case I'm just
25:21 - going to say something like click here
25:24 - for instance
25:26 - now if I open up link.html
25:30 - this is what the user sees they see a
25:32 - blue link that says click here
25:34 - and when the user does click on that
25:35 - link
25:36 - they're taken to https colon slash
25:39 - google.com
25:41 - and it turns out that we can use this
25:43 - href attribute not only to link to
25:45 - different websites altogether but we can
25:47 - link to different pages on the same
25:49 - website so for example if I wanted to
25:52 - link to that cap page that I designed a
25:54 - moment ago instead of linking to
25:55 - google.com I could instead just link to
25:58 - image.html
26:01 - and now if I save that and refresh or if
26:05 - I open up link.html again
26:07 - now I see a click here link where when I
26:09 - click on click here now I'm taken to
26:12 - that page cat image.html that happened
26:14 - to have that picture of a cat from
26:16 - before
26:17 - so using these anchor tags and href
26:19 - attributes we're able to link together
26:21 - multiple pages so that if we have a
26:23 - website that has many different web
26:24 - pages we can connect them all together
26:26 - by using a combination of these various
26:28 - different links
26:30 - so now that we've seen images and links
26:33 - and lists what other HTML elements might
26:35 - we add to our web page well one thing we
26:37 - might want to add are things like tables
26:39 - just other ways of displaying
26:40 - information so let's go ahead and create
26:42 - a table and look at what HTML elements
26:45 - we can use in order to do so
26:47 - so I'll go back here to my text editor
26:49 - create a new file called table.html
26:51 - using the same starting HTML
26:54 - we'll call this page title or table
26:57 - and inside the body of this page now
26:58 - there are a number of different HTML
27:01 - elements that we'll need in order to
27:03 - create a table because as you might
27:04 - imagine a table is really composed of
27:06 - multiple parts we have our big table but
27:08 - each table is really just a sequence of
27:10 - individual table rows and each of those
27:13 - rows is really just a sequence of
27:15 - individual cells of data within that
27:17 - table
27:18 - and so that structure that we're
27:19 - imagining a table that consists of
27:21 - individual rows where each row consists
27:24 - of individual cells is exactly how we're
27:26 - going to represent this table in HTML
27:29 - we're going to start with just a table
27:31 - tag that's going to represent the
27:33 - entirety of this table
27:35 - but inside of the table we might have
27:37 - different parts we might have the
27:40 - heading of the table we would have the
27:41 - body of the table so in order to
27:43 - represent that I'll add T head that's
27:46 - going to stand for the heading of the
27:47 - table the stuff at the top of the table
27:49 - that might indicate what each column of
27:51 - the table means for example and let's
27:53 - see what columns do I want well let's go
27:55 - ahead and add some table headings which
27:57 - I can represent using the th tag H for
28:00 - heading
28:01 - and maybe I want in this webpage to
28:03 - display information about various
28:05 - different oceans for example so maybe I
28:07 - have one column for the ocean and
28:10 - another column another table heading for
28:12 - the average depth of that ocean and
28:15 - another table heading for the maximum
28:17 - depth of that ocean
28:20 - and that'll be the very first row of
28:22 - that table The Heading of the table but
28:24 - in addition to The Heading of the table
28:25 - we also have the body of the table so
28:28 - underneath the T head I'll go ahead and
28:30 - include T body body for the main part of
28:33 - the table where all my data is going to
28:34 - be and that body is going to consist of
28:37 - individual rows of a table so I might
28:39 - have a TR which here stands for table
28:42 - row
28:44 - and inside of this table row we'll go
28:47 - ahead and add some individual data
28:49 - points inside of the table so inside of
28:51 - my table row I'm going to have one table
28:53 - data point or TD for table data that
28:56 - says Pacific Ocean for example
28:59 - then another table data that says 4280
29:03 - meters and then another one for the
29:04 - maximum depth of the Pacific Ocean which
29:06 - is ten thousand nine hundred and eleven
29:08 - meters and in fact this these three
29:11 - table heads as well at the top of the
29:13 - page the ocean the average depth and the
29:15 - maximum depth those should actually
29:16 - probably be in a row of their own as
29:18 - well because the very first part of the
29:20 - table that is also a row so I'll go
29:22 - ahead and add a TR short for table row
29:25 - and inside of that TR
29:27 - put these headings
29:29 - I'll go ahead and add one more row just
29:31 - so we can see what this looks like and
29:32 - then we'll take a look at the page and
29:33 - then go back to this code I'll add the
29:35 - Atlantic Ocean to
29:37 - which has an average depth of
29:39 - 3646 meters as well as a maximum depth
29:43 - of 8486 meters as well
29:47 - so when I open up table.html now here's
29:50 - what I'm going to see I'm going to see a
29:52 - table like representation of the data
29:55 - it's not just one thing after another
29:56 - after another anymore it's structured in
29:58 - a table now granted there aren't any
30:00 - borders and I can probably add some
30:01 - colors and spacing to make this look a
30:03 - little bit nicer but I see three columns
30:05 - ocean average depth and maximum depth
30:08 - where this very first row is what we
30:10 - might call the table header the very top
30:12 - of the table that's defining what all of
30:14 - the columns mean inside of that table
30:16 - header is a single table row that has
30:19 - three table data cells ocean average
30:22 - depth and maximum depth then beneath
30:25 - this table header represented in bold is
30:28 - the table's body or the T body element
30:30 - inside of which we add two rows one for
30:32 - representing the Pacific Ocean one for
30:34 - representing the Atlantic Ocean and then
30:36 - we had data cells in each one of those
30:38 - rows for representing each of the
30:40 - individual cells that's located within
30:42 - this table
30:44 - so this is what that page ultimately
30:45 - looks like and let's take one more look
30:48 - at the HTML just to get an understanding
30:49 - for how all of these tags interact with
30:52 - one another and no need to memorize all
30:55 - these tags right now slowly as you begin
30:57 - to design HTML Pages you'll start to get
30:59 - more familiar with what HTML tags are
31:01 - available to you and certainly all of
31:03 - these HTML tags are things that are easy
31:05 - to reference if you need to look them up
31:06 - it's very helpful to be able to look up
31:08 - something like how do I create a table
31:10 - in HTML and then you'll be able to see
31:12 - what the various different tags you'll
31:14 - need to add are in order to generate the
31:16 - table that you're looking for
31:17 - but again just to recap here we have a
31:19 - table element inside of which are two
31:22 - child elements TI head and T body inside
31:25 - of each of those are one or more table
31:27 - rows representing using TR inside of
31:30 - each of those are three table data cells
31:33 - representing using TD and so using these
31:37 - nested tags elements inside of elements
31:39 - inside of other elements we've been able
31:40 - to build something far more complex than
31:42 - just a bulleted list we've been able to
31:44 - build an entire table that has
31:46 - information as well
31:49 - But ultimately our web pages should be
31:51 - web pages that don't just display
31:52 - information but that also let users
31:55 - interact with that information in some
31:57 - way for example you might imagine that
31:59 - on Google's homepage for example it's
32:01 - not just unchanging there's a field
32:02 - where I can type something in and
32:04 - anytime users can provide input to a web
32:07 - page we generally call that a four or
32:10 - someplace where a user can fill out a
32:11 - form in order to provide information to
32:14 - the web page and so now let's take a
32:16 - look at how we can use HTML in order to
32:19 - create a form that's going to display
32:21 - some information
32:22 - so I'll go ahead and create a new page
32:24 - called form.html
32:27 - again using that same HTML as before
32:29 - call the page form
32:31 - and inside of the body of this page now
32:34 - let's say that I want to create a form
32:36 - that gives the user an opportunity to
32:38 - provide their full name for example how
32:40 - do I do that well the first thing I need
32:42 - is a form element some way of saying
32:44 - here is going to be a form
32:47 - and now inside of that form what are the
32:49 - various different parts of the form well
32:51 - there's really two parts that you might
32:53 - imagine to this form one is a place for
32:55 - the user to actually type in their name
32:57 - and they probably also need some way to
32:59 - submit the form some button that just
33:01 - says submit such that they can click on
33:03 - that button in order to submit the form
33:05 - so how would we do that well in order to
33:08 - create an input field we're going to use
33:10 - an input tag
33:12 - whose type in this case is going to be
33:15 - text there are a number of different
33:17 - ways the users might provide input to a
33:19 - forum they might type in text they might
33:21 - choose from a drop down menu they might
33:23 - choose from a radio button option or
33:25 - they might provide input as by clicking
33:27 - on a button for example in this case
33:29 - we're specifically using the type
33:30 - attribute to say that when the user is
33:32 - providing input in this way the type of
33:34 - input that they're providing is going to
33:36 - be some kind of text
33:38 - then we might provide a placeholder
33:41 - some default text that's going to be
33:43 - inside of that input field the first
33:45 - time the user looks at the page so for
33:47 - example the placeholder might be full
33:49 - name that way the user knows that what
33:52 - they should type into this place into
33:53 - this placeholder is their own full name
33:56 - and then finally we're going to go ahead
33:58 - and give a name to this input field now
34:01 - this isn't going to be something that
34:02 - the user sees when they visit the page
34:04 - but anytime you submit a form when we
34:07 - receive that form in our web application
34:08 - something we'll explore later on we need
34:11 - some way of knowing which input field
34:13 - corresponded to which value and so we're
34:16 - going to name each of the input Fields
34:18 - just so that later on we'll be able to
34:19 - reference them and for now since the
34:22 - user is typing their full name here we
34:24 - could just name this full name or we
34:26 - could more succinctly just say name as
34:28 - the name of this input field
34:31 - after that we have an input field where
34:33 - the user can type in their name and now
34:34 - we need some way for the user to be able
34:36 - to submit this form so we might say
34:38 - something like input type equals submit
34:42 - to say here is a way for the user to
34:45 - submit the form type equal submit means
34:47 - this is how they're going to submit the
34:49 - form when they're done completing it
34:52 - now if I open up form.html
34:55 - this is the page that we're ultimately
34:56 - going to see when we load this HTML this
34:59 - entire page just contains a single HTML
35:01 - form but that HTML form contains two
35:04 - parts the first part was this input
35:06 - element here that allowed an opportunity
35:08 - for the user to type in their full name
35:10 - they type in their full name into this
35:12 - input field and when they're done they
35:14 - can click the submit button to indicate
35:16 - that they would like to now submit this
35:18 - form
35:19 - of course right now this form isn't
35:21 - going to do anything when we type in our
35:22 - name and click submit because we haven't
35:24 - added any logic in order to handle this
35:26 - form but later on as we transition into
35:28 - the world of building web applications
35:29 - using python we'll see how we can design
35:32 - a form such that after the user submits
35:34 - it we save information to a database or
35:37 - display some sort of results back to the
35:38 - user all by using the power of building
35:41 - these web applications and connecting
35:42 - them to these sorts of HTML forms and
35:45 - HTML forms can actually get quite a bit
35:48 - more complex we'll take a look at
35:49 - another example for instance let me open
35:51 - up forms 1
35:53 - form1.html which is a form that I built
35:56 - in advance
35:57 - which shows a number of other ways that
35:59 - users can provide information as input
36:01 - to an HTML form
36:03 - here we see an input whose type is text
36:05 - meaning we want the user to type in
36:07 - their name as text but you might also
36:09 - imagine that if a user is logging into a
36:12 - website for example they might in
36:13 - addition to typing in a text-based name
36:15 - or username or email also provide a
36:18 - password and generally if you've been on
36:19 - a website and you've typed in a password
36:21 - the password characters don't all show
36:23 - up as the actual characters for security
36:25 - reasons they generally show up as just
36:27 - little dots on the screen hiding the
36:30 - actual characters that they're
36:31 - representing and in HTML we can do that
36:33 - very easily
36:34 - by just saying that the type of this
36:36 - input is password if they're typing in a
36:39 - password our web browser will know not
36:41 - to actually display those individual
36:43 - characters
36:44 - in addition to just text based input we
36:47 - also have radio button input as I
36:48 - alluded to a moment ago so here we have
36:51 - a number of different radio inputs where
36:53 - the user might be able to select from a
36:55 - number of options choosing their
36:57 - favorite color for example from a number
36:58 - of these options and finally just to
37:01 - take it one look at one other additional
37:03 - feature of HTML5 in fact a new feature
37:05 - of HTML5 is something we might call a
37:08 - data list where we might have the user
37:10 - choose in a drop down from a number of
37:12 - different options but we want to very
37:14 - quickly filter down or autocomplete
37:16 - based on those options so if the user
37:18 - needs to select what country they're
37:19 - from for example we might have an input
37:21 - field
37:22 - and specify that it's going to be
37:25 - associated with a list called countries
37:28 - then immediately below that I have a
37:30 - data list element whose ideas countries
37:33 - where here I'm going to specify these
37:35 - are all of the options for what country
37:37 - we could have each one is inside of an
37:39 - option element whose value is whatever
37:42 - country they could select and we have
37:44 - all of the countries of the world listed
37:46 - in these option elements
37:48 - so this input here is going to allow me
37:51 - to select one option from a list of all
37:54 - of these possible options
37:55 - so now if I open up form1.html
37:59 - here's what that form ultimately looks
38:02 - like I can hear inside of the name field
38:04 - again that word name shows up because
38:06 - it's the placeholder I can type in my
38:08 - name here
38:09 - and inside of the password field
38:10 - anything I type is going to show up as
38:13 - just little dots instead of the actual
38:15 - characters because the type of that
38:17 - input field was password instead of the
38:19 - type being text
38:21 - in favorite color I now have the ability
38:23 - to choose between various different
38:25 - favorite color options in a radio button
38:27 - format I choose from one of a number of
38:28 - options and finally inside this country
38:31 - drop down I have the ability now when I
38:33 - click on it to see all of the countries
38:35 - but as I start to type letters like u n
38:38 - i t it filters down to only the options
38:41 - that I actually care about so here if I
38:43 - type in enough letters eventually I see
38:45 - United States and I can click on that
38:47 - option as well
38:49 - so HTML5 builds in these additional
38:52 - features to make it easy to implement
38:54 - something like a text field where it
38:56 - will auto-complete based on the text
38:57 - that you provide you can just specify
38:59 - that it is inside of this data list and
39:02 - then provide a list of all the possible
39:04 - values and then HTML and your web
39:06 - browser in turn will take care of the
39:08 - process of rendering that information in
39:10 - the way that you expect it to be
39:12 - displayed
39:14 - so those are just some of the possible
39:16 - HTML elements that we can ultimately
39:18 - create by using these various different
39:20 - elements that we Nest within each other
39:22 - and there are definitely other HTML
39:24 - elements that exist as well you can
39:25 - begin to explore but all of them follow
39:27 - a very similar pattern that we're going
39:29 - to have some tag that might require some
39:31 - attributes additional information about
39:33 - the HTML to give context to the web
39:35 - browser for how that element should be
39:38 - displayed maybe that element needs to
39:39 - have a particular source for an image
39:41 - maybe it needs a link in order to link
39:43 - to somewhere or other information as
39:45 - well and then inside of that element you
39:47 - might Nest other elements so that your
39:49 - table has rows and inside of those rows
39:51 - we have other cells and you might
39:52 - imagine nesting elements inside of other
39:55 - elements inside of other elements
39:57 - but right now so far all of our web
39:59 - pages have been rather simple they've
40:02 - just been we've described the structure
40:03 - of the page and we've described we want
40:05 - to list here we want to form there what
40:07 - we might really like is some way of
40:09 - specifying that we want to style our web
40:11 - page in some way we want to add color we
40:13 - want to add spacing we want to add some
40:15 - sort of other layout to our page as well
40:17 - and in order to do that we're going to
40:19 - use a second language that we're going
40:21 - to call CSS short for cascading style
40:24 - sheets in particular we'll use the
40:25 - latest version of CSS css3 which gives
40:28 - us the ability to take an HTML page and
40:31 - tell the web browser how we would like
40:33 - it to be styled instead of just black
40:35 - text in the same font on a white
40:37 - background we can begin to specify
40:39 - particular CSS properties of how we
40:42 - would like this page to look to make
40:44 - sure that the page looks the way we want
40:45 - it to
40:46 - so let's take a look at a simple example
40:49 - now of CSS to take a look at how we can
40:51 - add some CSS code to our page
40:55 - so I'll go ahead and create a new file
40:57 - that I'll call style.html
41:01 - just to demonstrate some basic ideas of
41:03 - adding some style to our page and we'll
41:05 - go ahead and copy the same hello.html
41:07 - from before
41:09 - and maybe in addition to hello world I
41:11 - display an H1 some big heading at the
41:13 - top that says like welcome to my web
41:17 - page for example
41:18 - so now if I open up style.html
41:21 - this is what I see I see a big heading
41:23 - at the top that says welcome to my
41:25 - webpage beneath which is just a text
41:27 - hello world
41:29 - and now imagine that I want to add some
41:30 - style to this heading at the top of the
41:33 - page maybe instead of being left aligned
41:35 - I want it to be centered maybe instead
41:37 - of just being black texted like to
41:38 - change the color
41:39 - in order to do that
41:41 - just as we've used attributes in the
41:43 - past to add additional information to
41:46 - this particular HTML page we can do a
41:48 - very similar thing with CSS
41:50 - we can specify that we're going to give
41:52 - this H1 element a style attribute
41:55 - and that is going to be equal to and
41:57 - then in quotation marks we're going to
41:59 - provide all of the CSS properties that
42:02 - we would like to add to this particular
42:04 - element so the way that CSS styling
42:06 - works is that we can give elements
42:08 - individual CSS properties where a
42:10 - property is something like the color of
42:13 - the element or the alignment of the
42:14 - element and each of those properties has
42:16 - a default value but we can change its
42:19 - value to something else so if for
42:21 - example I wanted to change the color of
42:23 - this heading so that instead of a black
42:25 - heading it displayed as a blue heading I
42:28 - could say for this H1 I would like to
42:30 - give it a color property and then to
42:33 - give the color property a value I say
42:35 - color colon and then the value that I
42:37 - would like to give to it so color colon
42:39 - blue for example followed by a semicolon
42:42 - will change the color of this H1 element
42:45 - to Blue and my text editor is
42:47 - automatically showing me a little square
42:48 - that shows me what this color blue is
42:50 - actually going to look like this isn't
42:52 - part of the text it's just my text
42:53 - editor being helpful so that I can see
42:55 - in advance as I'm writing this code what
42:58 - the color is actually going to look like
43:00 - so now if I open up style dot HTML
43:04 - here's what I see instead of a black
43:06 - heading at the top we've changed the
43:07 - color to Blue and there are many other
43:10 - built-in colors that exist within HTML
43:13 - that we can use in order to change the
43:14 - color to whatever we want if instead of
43:16 - blue I said I want the color to be red
43:18 - for instance I can refresh the page and
43:20 - now the heading is red and there are
43:22 - many other colors I can change the color
43:23 - to like spring green for instance and
43:26 - that's going to be a particular shade of
43:27 - green that displays just like this
43:30 - and so now we have the ability to add
43:32 - various different style properties to
43:35 - individual elements I can say take this
43:37 - heading and change its style so that the
43:39 - color instead of being black is going to
43:41 - show up as blue instead
43:43 - and if I want to add multiple CSS
43:45 - properties to the same HTML element I
43:47 - can do that as well
43:49 - here in the style attribute I can say
43:51 - that in addition to saying that the
43:52 - color is blue I'd like to give a second
43:54 - CSS property to this element I'd like to
43:57 - say that the text align property should
44:01 - be Center for example
44:04 - the text align property controls as you
44:06 - might imagine how a particular HTML
44:08 - element has its text aligned is it all
44:10 - the way on the left all the way on the
44:12 - right or centered and if I change the
44:14 - text align property to have a value of
44:16 - Center
44:17 - well then now when I refresh this page
44:20 - I see that welcome to my web page is now
44:22 - both blue and it's centered I've changed
44:25 - the color and I've changed the alignment
44:27 - of this particular element
44:30 - and HTML elements don't need to just be
44:32 - styled directly they can also get their
44:34 - style information from parent elements
44:37 - so if you recall again that Dom
44:40 - structure where we have an HTML element
44:42 - inside of which is this body element
44:45 - and inside of the body element is this
44:47 - H1 element and this text you can imagine
44:50 - if we wanted this styling to apply not
44:52 - just to this heading but also to the
44:55 - hello world text I could move the
44:57 - styling information move this style
44:59 - attribute change it from the H1 and
45:01 - escalating it to this body and if I move
45:04 - the style to the body then everything
45:06 - inside of the body is going to be styled
45:09 - in that way so let's now take a look at
45:11 - an example of that to see how that works
45:13 - if I take this style information and I
45:16 - move it so that instead of associating
45:18 - it with the H1
45:19 - i instead associate it with the body
45:22 - then now when I refresh the page I see
45:25 - that both parts of the body both the big
45:27 - heading at the top that says welcome to
45:28 - my web page as well as the text hello
45:31 - world both have those CSS properties
45:33 - applied I've changed their color to Blue
45:35 - and I've also changed their text
45:37 - alignment to be centered instead of just
45:40 - left aligned
45:41 - but if I do want it to just be that
45:43 - heading then I can move it out and say
45:46 - that I just want to apply the style to
45:48 - that one individual heading
45:51 - now one thing that we might imagine
45:53 - might become a problem over time is that
45:55 - imagine if I had multiple headings that
45:57 - I wanted to style in the same way for
45:59 - example let's say I have a second
46:01 - heading that this is a second heading
46:04 - that I also want to be styled as blue
46:06 - and centered as well
46:08 - I can refresh this page and see that
46:10 - right now that is not the case and I
46:12 - don't want to make the entire page blue
46:13 - and centered I only want these two
46:15 - headings to be blue and centered so what
46:18 - I could do is I could just take this
46:20 - style code from the H1 and apply it to
46:23 - this H1 as well so that both of my H1
46:25 - elements now have the exact same style
46:28 - code and I'll go ahead and refresh this
46:30 - and now we see this is the intended
46:32 - Behavior I have two headings both of
46:34 - which are centered and both of which are
46:36 - blue
46:37 - but what we want to start to think about
46:38 - as we start to build web applications
46:40 - and especially as our web applications
46:42 - start to get a little bit more
46:43 - sophisticated is to think about the
46:45 - design of how we're building our web
46:47 - pages and how we're building our web
46:49 - applications and in particular anytime
46:51 - we find ourselves copying a lot of the
46:53 - same information from one place to
46:55 - another that's probably not the best
46:57 - design and you should start to think
46:58 - about how might you design this a little
47:01 - bit better it's not great design one
47:03 - just because there's some redundancy
47:04 - that probably doesn't need to be there
47:06 - but also because it makes the page a
47:08 - little bit more difficult to change and
47:10 - a little more difficult to update if I
47:12 - instead want to change both of these
47:13 - headings to be red instead of blue then
47:16 - all of a sudden I need to change my code
47:18 - in two places I need to change the style
47:20 - attribute on this first heading up here
47:23 - and I also need to change the style
47:25 - attribute on the second heading down
47:27 - there
47:28 - what I'd like to do is to somehow just
47:30 - be able to write the style code once and
47:33 - then have it applied to both of these
47:35 - headings and in fact there is a way to
47:37 - do that what we can do is instead of
47:39 - doing what we might call inline styling
47:41 - where we take the CSS code and place it
47:44 - directly as an attribute of an HTML
47:47 - element we can move our style code to an
47:50 - entirely different part of the web page
47:53 - recall again that at the top of our HTML
47:55 - page we have this head section that just
47:58 - includes information that's useful to
48:00 - know about the web page but isn't
48:02 - actually part of the body of the web
48:03 - page the content that the user sees this
48:06 - head section is a great place where we
48:07 - can begin to put some style information
48:10 - information about how we would like for
48:12 - this web page to be styled
48:14 - so what I can do here is instead of
48:17 - putting these style attributes inside in
48:20 - line with these HTML elements
48:22 - I can inside of the head section of my
48:25 - web page add a style element
48:28 - where in between these the opening style
48:31 - tag in the closing style tag I can add
48:34 - any of the style information that I want
48:36 - and here's the way that syntax is going
48:38 - to look I first need to specify what
48:41 - types of elements am I going to style
48:43 - and in this case I want to style all of
48:45 - the H1s so I can just say H1
48:49 - and then
48:51 - all of the style code is going to go
48:53 - inside of a pair of curly braces where I
48:56 - can say I would like the color to be
48:57 - blue and I would like the text align
49:00 - property to be centered
49:02 - so now here's what I've done I've taken
49:05 - the CSS code that used to be down here
49:07 - inside the body of the page actually as
49:10 - an attribute of these H1 elements and
49:12 - I've moved the style related code to a
49:15 - different part of my page altogether now
49:17 - the style information is inside the
49:19 - header of my page inside of the style
49:21 - element where I've said for every H1
49:24 - element here's how you should style it
49:26 - The Styling is in between the opening
49:28 - and curly closing braces here and I've
49:30 - said that every H1 should have a color
49:32 - of blue and every H1 should have a text
49:35 - align property of Center
49:38 - and that is then going to apply to all
49:40 - of the H1 elements that my web page
49:42 - happens to find inside the body of my
49:44 - web page so there's a couple of
49:46 - advantages here Advantage number one is
49:48 - what we talked about a moment ago I
49:49 - don't need to duplicate the same code in
49:52 - both of these H1 elements I can write it
49:54 - once and say apply this styling to all
49:57 - of the H1s that show up in the page an
49:59 - advantage number two is we've been able
50:01 - to factor out the style code to
50:03 - somewhere else just to make it a little
50:05 - bit cleaner so that instead of having a
50:07 - really long line you might imagine if we
50:09 - had not just two but maybe five or six
50:11 - or seven different CSS properties that
50:13 - would have taken up a lot of space on
50:14 - one line
50:15 - I can instead in a more readable more
50:18 - organized way move that style related
50:20 - code to the style element at the
50:22 - beginning of the page just to make it
50:23 - easier to read easier to visually
50:25 - understand and just to clean up the body
50:27 - of the web page as well and that's going
50:30 - to be another of the key themes that's
50:31 - going to come up again and again in this
50:32 - class this idea of separating things out
50:34 - so that every piece can sort of be
50:36 - independent of one another our structure
50:38 - of the web page inside the body is
50:40 - separate from the style and we'll see
50:42 - the same sort of idea appear again and
50:44 - again as we begin to try to design web
50:47 - applications well
50:49 - so now if I take this exact same page
50:51 - and go ahead and refresh style.html
50:55 - we'll see that we see the exact same
50:58 - thing both of the headings still show up
51:00 - as centered both of them still show up
51:01 - as blue but now we have the advantage of
51:04 - having only written the style code once
51:05 - instead of needing to write the exact
51:08 - same style code multiple times in the
51:10 - same way
51:12 - but it turns out that we can even do a
51:14 - little bit better than this because one
51:16 - thing you might imagine is that if I
51:18 - have a web application or a website that
51:20 - has multiple different web pages it's
51:22 - probably going to be likely that each of
51:24 - those web pages might need to be styled
51:26 - in similar ways if I have a big banner
51:29 - at the top of one web page then in other
51:31 - Pages related to that page I might want
51:33 - the same Banner styled in the same way
51:35 - using similar style information and
51:38 - right now our CSS code is specific to
51:41 - one particular page and it's not going
51:44 - to be easy to then take that same
51:46 - styling and apply it to another page if
51:48 - I wanted to I'd need to copy the exact
51:50 - same CSS code put it inside of another
51:52 - page but then we run into the same
51:54 - problem of duplication where I've now
51:56 - had to repeat myself across multiple
51:58 - different pages putting the exact same
52:00 - CSS code across all those different
52:02 - pages so there is an improvement we can
52:04 - make and the Improvement we can make
52:06 - is to take that CSS code and just move
52:09 - it to an entirely different file
52:11 - so instead of putting this style code
52:13 - inside of a style element inside of this
52:16 - HTML page I'll just create a new file
52:19 - that I'll call styles.css inside of
52:22 - which is going to be all of the CSS that
52:25 - I care about I want to take every H1 I
52:27 - want to change its color to Blue and now
52:30 - I want to change its text align property
52:31 - to Center
52:33 - and now inside of my HTML page I no
52:37 - longer need to include any CSS at all
52:39 - instead of this style element altogether
52:41 - I can just link my CSS code in that CSS
52:45 - file called styles.css to this
52:49 - particular HTML page and how do I link
52:51 - the styles.css file well I can do so
52:54 - again in the head section of my web page
52:56 - using a link tag where I can say I'd
52:59 - like this link to be the relationship is
53:03 - it's going to be a style sheet meaning
53:04 - what I'm about to link is going to be a
53:06 - style sheet for this page it's going to
53:08 - describe how I want for the elements on
53:10 - this page to be styled
53:12 - and then just as in the case of a link
53:14 - to another page I used href to specify a
53:17 - hyperlink reference what I want to link
53:19 - to I'm now going to specify using an
53:22 - href attribute what CSS file I would
53:25 - like to Now link and in this case the
53:26 - CSS file that I'm going to link is
53:29 - styles.css that is the file that just so
53:32 - happens to contain all of the CSS that I
53:35 - would like to apply to this particular
53:36 - file
53:38 - now if I refresh the page
53:40 - I see again nothing has changed in the
53:42 - last two revisions the pages stayed
53:44 - exactly the same as far as the user is
53:46 - concerned they still see two headings
53:47 - both of them are centered both of them
53:49 - are blue but now the advantage is that
53:52 - here is my HTML it's shorter than it was
53:54 - before and in particular there's no CSS
53:57 - that's baked in to this HTML file at all
53:59 - I factored it all out into the separate
54:02 - styles.css file and now if I have
54:05 - multiple HTML files that are all using
54:07 - the same styling I can just link them
54:10 - all to the same styles.css file
54:13 - such that they're all using the same
54:15 - style information I don't need to repeat
54:16 - myself and If Ever I need to make a
54:19 - change across all of those pages I just
54:21 - change the styling once I change the
54:23 - styles.css file and then all of the web
54:26 - pages that are linked to that style
54:28 - sheet will update as well in order to
54:30 - reflect those changes so again we've
54:32 - been able to factor out some of this
54:34 - style information to a separate file
54:36 - just to make our lives a little bit
54:38 - easier
54:40 - all right so so far we've now seen how
54:42 - we can use CSS in a number of different
54:43 - ways to add some basic style store Page
54:46 - we've seen that we can take an element
54:48 - and change its color we've seen how we
54:49 - can take an element and change its
54:51 - alignment move it from left to line to
54:52 - right align to Centered for example as
54:54 - it turns out there are a lot of
54:56 - different CSS properties that we can add
54:58 - to our HTML elements in order to style
55:01 - them in various different ways more than
55:03 - we'll have time to talk about in this
55:05 - lecture but now let's just take a look
55:06 - at a couple of the most popular most
55:08 - common CSS properties that we can add in
55:11 - order to make our web pages look the way
55:14 - we want it to and one of the most
55:16 - powerful tools for CSS is controlling
55:18 - the size of various different elements
55:20 - by default HTML just used a default size
55:23 - for everything on the page but if I want
55:25 - to more precisely control how big any
55:27 - particular element is I can use CSS in
55:30 - order to do so
55:32 - so let me now create a new file that I
55:34 - will call size.html
55:36 - we'll start with the same HTML code and
55:38 - call the page size
55:41 - and now inside the body of my page let
55:44 - me just have a vertical section of my
55:46 - page just some section of my page that's
55:48 - going to have some content and I'm going
55:50 - to put this inside of a div tag now this
55:53 - is the first time that we've seen a div
55:55 - in HTML you can think of a div as just a
55:58 - division of the page some section of the
56:00 - page that's going to have some content
56:02 - inside of it and we use div because it
56:04 - makes it easy to reference a particular
56:06 - div or a nest information inside of
56:08 - other pieces of information or just to
56:10 - divide and break up our page into
56:12 - multiple different sections here inside
56:14 - of the body I'm just going to have a
56:15 - single div that is going to say
56:17 - something like Hello World
56:19 - and now I'm going to add some style to
56:22 - this page in order to control the size
56:24 - of this div to control the size of this
56:26 - section of my web page I could use
56:28 - inline styling I could Factor things out
56:30 - into another file but since I'm only
56:32 - dealing with one file for now I'm just
56:34 - going to add a style section to the top
56:36 - of my web page just so you can more
56:37 - clearly see how the style of this page
56:39 - is going to map on to the way that we're
56:42 - modifying these HTML elements
56:45 - and I would like to style this David in
56:47 - a couple of ways one thing I can do is
56:49 - give the div a background color let me
56:51 - change its background color to Blue for
56:53 - example
56:54 - and then I can say all right I'd like to
56:56 - give this div a width and a height some
56:58 - size information I can say go ahead and
57:01 - give this div a width of 100 pixels and
57:04 - maybe a height of 400 pixels
57:08 - so now when I go ahead and open up
57:09 - size.html
57:12 - this is what I see I see in a 100 by 400
57:16 - pixel wide vertical or rectangular
57:19 - section of my page I see the words hello
57:21 - world and so you might imagine if you
57:24 - have multiple different elements on your
57:25 - page as your web pages start to get a
57:27 - little bit more complex you probably
57:28 - want to have some more precise control
57:30 - over how wide or how tall any particular
57:32 - element is and these width and height
57:34 - attributes can be very helpful because I
57:36 - can very easily change the width to say
57:38 - like 500 pixels for example and now when
57:41 - I refresh the page now I see that the
57:43 - width of this page of this div this
57:45 - section of the page has actually now
57:47 - gotten a lot wider
57:48 - and so we have the ability to control
57:50 - size using CSS go ahead and close some
57:54 - of these pages that I no longer need and
57:56 - now take a look at some other things
57:57 - that we can do in addition to
57:59 - controlling the size and let me change
58:01 - this color to something a little bit
58:02 - lighter something like orange such that
58:04 - now if I open up size it looks like this
58:07 - I'll make this a little bit smaller
58:09 - let's try 200 by 200 pixels
58:12 - it looks now like this you might imagine
58:14 - there are some other changes that I
58:16 - might like to make like this hello world
58:18 - for example is very close to the edge of
58:21 - this particular div it's right up
58:23 - against the upper left corner of that
58:24 - div I might want to change that by
58:26 - adding what we might call some padding
58:28 - to this particular HTML element some
58:30 - space just so that the content of the
58:32 - element isn't so close to the border of
58:35 - the element itself
58:37 - so for example one thing I can do is
58:39 - inside this div add some padding say
58:41 - maybe I want 20 pixels worth of padding
58:44 - on the inside of the element such that
58:46 - now when I refresh the page
58:48 - we see that we have some padding along
58:50 - the outside of the element so that hello
58:52 - world now shows up not right up against
58:54 - the edge of the element but inside a
58:57 - little bit as well
58:58 - and if we have a particular HTML element
59:00 - that maybe is too close to the edge of
59:02 - the screen maybe it's too close to the
59:04 - top of the screen we can also add space
59:06 - around outside of the element by adding
59:09 - what we call margin to the element as
59:11 - well so I can say let's give it 20
59:12 - pixels of margin inside of this div and
59:16 - then refresh and now we see that whereas
59:18 - before this div was very close to the
59:21 - upper left edge of the screen now we've
59:23 - moved it 20 pixels away from everything
59:25 - so it's got some space on all four sides
59:27 - of it
59:28 - so that's how we can now use margin and
59:31 - padding just to make the page look a
59:33 - little bit nicer to the user so objects
59:34 - are not too close together or too far
59:36 - apart ing again is on the inside of the
59:40 - border of the element I can add 20
59:41 - pixels of padding for example to make
59:43 - sure that the content inside of the
59:45 - element in this case the words hello
59:47 - world just have a little bit of space
59:49 - from the border and that's padding on
59:51 - the inside of the element margin
59:53 - meanwhile is on the outside of the
59:54 - element we add some margin along the
59:56 - outside of the border to space the
59:58 - element out from other elements that
60:00 - might be nearby to make sure that
60:02 - there's enough space between the border
60:03 - of the element from the top of the
60:05 - screen and also from the left and also
60:07 - the bottom and the right though there's
60:08 - no objects there that we're currently
60:09 - creating space from
60:11 - so by combining width and height and
60:14 - margin and padding we now have the
60:16 - ability using CSS to make sure that
60:18 - we're able to lay out our page the way
60:20 - we want to lay out the page so that
60:21 - elements have the right amount of
60:23 - spacing from each other and are the
60:25 - correct size
60:26 - so now let's take a look at some other
60:28 - features that CSS is going to give us in
60:30 - addition to just changing where
60:32 - particular elements are like centering
60:34 - text or adding size and margin and
60:35 - padding we can also use CSS to change
60:38 - how elements actually look we've seen it
60:40 - to change the color of text changing it
60:42 - from one color like black to another
60:44 - color like blue but we can also use CSS
60:47 - to be able to change something like the
60:49 - font that we use in order to display
60:51 - text modern web pages don't show
60:53 - everything in the exact same font
60:54 - usually some designer is choosing what
60:57 - font they want for any particular web
60:59 - page
61:00 - so let's experiment with those
61:01 - possibilities I'll now create a new file
61:04 - that I'll call font dot HTML
61:06 - inside of which will be an HTML page
61:10 - called font
61:12 - and inside the body I'll again just have
61:14 - a div that says hello world same as
61:16 - before
61:17 - but now inside of the style tag here up
61:20 - in the head section of my web page I
61:22 - would like to add some font information
61:24 - to this div and in particular there are
61:27 - a number of different font related CSS
61:29 - properties that I can add to control the
61:32 - font of any particular HTML element
61:34 - one thing I can specify is the font
61:36 - family specifying what font would I like
61:40 - to use in order to display this text and
61:43 - maybe I want to display it in Arial for
61:45 - example which is a common font used on
61:47 - the internet
61:48 - such that now if I open up font.html
61:52 - I now see in aerial the words hello
61:54 - world different from the text that I was
61:56 - using before
61:58 - you can also specify multiple different
62:00 - fonts not all Computers support all
62:02 - fonts so I could specify that just in
62:04 - case Ariel isn't supported fall back to
62:07 - any Sans serif font any of the fonts
62:10 - that don't have the little glyphs at the
62:11 - edge of each of the characters so now if
62:13 - I refresh the page because my web
62:15 - browser supports Ariel I don't notice
62:17 - anything different but you might imagine
62:18 - if you're using more complex fonts that
62:20 - not all web browsers have or support you
62:22 - might add some backups just in case the
62:24 - font you want isn't actually available
62:27 - in addition to a font family I might
62:29 - also specify a font size how big I want
62:32 - the font to be inside of this div so I
62:34 - can specify that I'd like the font size
62:36 - of this div to be you know 28 pixels for
62:39 - example such that now I refresh it and
62:41 - now this div appears using larger text
62:44 - and I can also adjust as like text
62:46 - editors let you specify whether you want
62:48 - it to be normal text or bold text I can
62:50 - specify a font weight for this div and
62:53 - say that in addition to being in font
62:55 - aerial and size 28 I would also like for
62:57 - the font to be bold such that now I
63:00 - refresh it and now the font shows up as
63:02 - bold
63:03 - and using these CSS style sheets we're
63:05 - able to selectively apply The Styling to
63:08 - only particular parts of the web page if
63:11 - I have another underneath this div
63:13 - some more text down here for example
63:15 - that additional text that's outside of
63:17 - the div isn't going to be affected by
63:19 - the CSS styling such that now if I
63:22 - refresh this page some more text shows
63:24 - up in that same standard default font
63:27 - provided by my web browser and not the
63:29 - custom font that I have specified to
63:31 - apply to only this particular part of
63:34 - the HTML page
63:36 - so that now is the ability to add fonts
63:37 - to our page too
63:40 - another thing that we might want to do
63:42 - is to be able to add some sort of border
63:44 - around our HTML elements so maybe I want
63:47 - a line to be able to separate this
63:49 - entire part of the page from another
63:51 - part of the page so I could add a border
63:53 - by going to this div and saying let me
63:55 - give this div a border and maybe I want
63:57 - the border to be like a 3 pixel solid
64:00 - black border for instance I can specify
64:04 - how big I want the border to be I can
64:06 - specify whether I want the border to be
64:08 - a solid line or a dashed or dotted line
64:10 - and I can specify what color I would
64:12 - like that border to be as well
64:14 - so now when I refresh this I now see I
64:17 - have a border around this entire section
64:19 - around this entire div inside of my web
64:22 - page and you can imagine these borders
64:24 - being helpful for styling various
64:26 - different parts of my page so for
64:28 - example if we go back to that table that
64:30 - we were looking at a moment ago when we
64:32 - were dealing with Oceans Where I had
64:33 - ocean and Pacific Ocean and Atlantic
64:35 - Ocean this is structured in the format
64:38 - of a table we have rows and columns but
64:40 - it doesn't look great right now I might
64:42 - like to add some styling in order to
64:44 - improve the way that this table looks
64:46 - for example so let's give that a try
64:49 - I'll go ahead and go back into
64:51 - table.html that HTML file I was using
64:54 - before where I had this table
64:55 - and let me now add some style
64:57 - information to this table
64:59 - I might say that for this table I would
65:02 - like to give it a border that is maybe a
65:04 - one pixel solid Glock border
65:08 - such that now when I refresh the page I
65:10 - have a 1 pixel solid Blackboard room
65:12 - around the entirety of the table
65:14 - all right that's great but I also really
65:16 - wanted to border in between the rows and
65:19 - the columns as well in particular every
65:21 - table data item I might like to have
65:23 - some additional
65:25 - CSS applied to those two
65:27 - so I might say for every table data cell
65:29 - again TD stood for table data and those
65:32 - were the individual cells within my
65:34 - table
65:34 - I might specify that I would like those
65:36 - to also have a border that is one pixel
65:39 - solid black
65:41 - such that now I refresh the page and now
65:44 - each of my table data cells also has a
65:46 - border around it
65:48 - now this applied to the table data cells
65:49 - in the body of my page but it didn't yet
65:52 - apply to these cells up in the heading
65:54 - and that's because those
65:56 - were th elements table headers
66:00 - and so here we have a couple of options
66:01 - I could specify once more table headers
66:05 - I would like to give a border of one
66:07 - pixel solid black
66:09 - but when I do so you'll see that it does
66:11 - create a border around those table
66:13 - headers but again one thing that should
66:15 - be crossing your mind now is that
66:16 - there's a fair amount of redundancy here
66:18 - some repeated style code that shows up
66:20 - in multiple different places table data
66:23 - cells in the body of my page I really
66:25 - want to be styled in a very similar way
66:27 - to table header cells and so it would be
66:29 - nice if I could somehow consolidate
66:31 - these two different CSS selectors these
66:35 - ways of me saying style table data style
66:37 - table headers I'd like to combine them
66:39 - into one and you can in fact do this in
66:42 - CSS there are a number of different CSS
66:45 - selectors ways of choosing elements and
66:47 - one of them is just called the multiple
66:49 - element selector that if I want to
66:51 - select both table data cells and table
66:54 - headers then I can do so by saying TD
66:57 - comma th
67:00 - and delete these three lines down there
67:03 - what these three lines are now saying
67:05 - are that I would like to style all table
67:07 - data cells and table headers in the same
67:10 - way and I could even combine table if I
67:12 - wanted to for good measure but I'd like
67:13 - to give all of them a border of one
67:15 - pixel solid black
67:17 - such that now I refresh it and now I see
67:19 - that they all have this border around
67:21 - them
67:22 - now most tables you see on the internet
67:23 - don't have both a table or a border
67:26 - around everything in the table and also
67:28 - a border around each of the individual
67:30 - cells usually those are collapsed just
67:32 - into a single line and it turns out that
67:34 - CSS has an easy way for you to do this
67:36 - as well I can add a CSS property to the
67:39 - table called border collapse and just
67:42 - say I would like to collapse all of the
67:44 - borders in the table just going to show
67:46 - you there are many many different CSS
67:48 - properties far more than we'll be
67:49 - looking at today but they're easy things
67:51 - to reference so you can easily look up
67:53 - how to collapse borders in a table and
67:55 - then find a CSS property like this that
67:57 - you can then use and apply to your web
67:59 - page
68:00 - so now I refresh that and now I see that
68:03 - I have a border just a single border
68:05 - around all of the cells in this
68:07 - particular page
68:09 - next what I might like to do so though
68:11 - is like add some space around here like
68:13 - it seems like these these text is very
68:15 - tight against the border of this table
68:17 - so in order to do so I want to add some
68:19 - spacing and recall again do I want
68:21 - margin or padding margin is facing
68:24 - around outside of the border of a
68:26 - particular HTML element whereas padding
68:29 - is inside of the border so if I want
68:31 - some space inside of the Border just to
68:33 - space out the text from the border
68:35 - itself then what I want is padding
68:37 - inside of all of my table cells so I can
68:40 - say let me add five pixels worth of
68:42 - padding inside of all of my table data
68:45 - cells and table header cells
68:47 - refresh the page and now here's what the
68:49 - resulting table looks like just by
68:52 - adding a little bit of CSS specifying
68:54 - what border I want around the edge of
68:55 - the page specifying a little bit of
68:57 - padding inside of each of the cellism my
69:00 - table now looks a whole lot nicer than
69:01 - it did just a few lines of code to go
69:03 - when I just had the HTML structure of
69:06 - the page and not the CSS to describe how
69:09 - I actually want that page to be styled
69:12 - and notice again that in doing so we
69:14 - were able to use one of these CSS
69:17 - selectors I was able to say that I
69:19 - wanted to use the multiple element
69:21 - selector which is just this comma here
69:23 - to specify that I would like to apply
69:25 - this styling not just to TDs but also to
69:30 - THS as well we'll take a look at some
69:32 - additional examples of CSS selectors in
69:35 - just a moment
69:36 - but next let's turn our attention to
69:38 - some more tricky instances where we
69:41 - might want to apply styling to multiple
69:43 - elements at the same time let's imagine
69:45 - and let's go back to style.html where we
69:49 - had some style code where I had one
69:51 - heading
69:53 - I'll call this
69:54 - heading one
69:55 - and let's give myself two other headings
69:57 - heading two and heading 3.
70:00 - all of these now are H1 elements that
70:03 - are going to show up the same way such
70:05 - that now if I Style
70:07 - and say I would like all H1s to show up
70:10 - with a color of blue
70:11 - then when I open this page where I have
70:13 - three H1 tags Each of which has a color
70:16 - of blue
70:18 - when I open up style.html
70:21 - what I'm going to see is something like
70:22 - this three headings Each of which
70:25 - happens to have a color of blue
70:27 - but what would happen now if I wanted to
70:29 - style only the first edit I want heading
70:32 - 1 to be blue but I don't want to style
70:34 - heading 2 and heading 3.
70:37 - how do I do that
70:38 - well one thing we could do is go back to
70:41 - the inline styling we did a moment ago
70:43 - where inside of H1 I said style color is
70:47 - blue and that would say for just this
70:50 - very first heading I would like that to
70:52 - be blue but not the other elements at
70:54 - all but this again we decided was not
70:56 - the best design this inline styling
70:59 - co-mingling of HTML and CSS just gets a
71:02 - little bit messy and it would be nice to
71:04 - be able to factor all of our style code
71:05 - to a separate part of the page
71:07 - altogether
71:08 - so how do we do this well we need some
71:11 - way to uniquely reference this
71:13 - particular HTML element and in order to
71:16 - do so we can give an HTML element an ID
71:20 - in ID is just some unique name we give
71:23 - to an HTML element so that we can
71:25 - reference it more easily later on let me
71:28 - just go ahead and give this an ID of Foo
71:30 - it could be any idea you want but Foo is
71:32 - just a generic name here and now we've
71:34 - given this heading a name such that in
71:37 - other parts of our page or in other code
71:38 - we can reference and find this
71:41 - particular HTML element
71:43 - and in particular now in the style
71:45 - section of my web page instead of
71:47 - styling all H1 elements I only want to
71:50 - style the element that has an ID of Foo
71:53 - IDs are by definition unique there can
71:55 - only be one element in this page that
71:57 - has an idea Foo otherwise it's not valid
71:59 - HTML
72:00 - and so in order to do so we're going to
72:03 - use hashtag Foo
72:06 - the hash mark symbol is just css's way
72:08 - of selecting just something with a
72:10 - particular ID so instead of just H1 for
72:14 - selecting all of the H1 tags if I want
72:16 - to select something by its ID I say hash
72:19 - Foo to say only style the element that
72:22 - has an ID of Foo and give it a color of
72:26 - blue for example
72:28 - so this style code now will find
72:30 - something with a particular ID and give
72:32 - it a style to correspond with it
72:34 - such that now if I reload this page only
72:37 - heading 1 is styled heading 2 and
72:40 - heading 3 are not I've been able to name
72:42 - heading 1 give it a name of Foo an idea
72:44 - Foo and then in my style code just style
72:47 - that particular part of my HTML page
72:52 - of course what if I wanted to style
72:54 - multiple but not all of the headings
72:56 - like maybe I want to style both heading
72:58 - 1 and heading 2. now I could use a
73:01 - second ID maybe give this an ID of bar
73:03 - for example and then Style Both the
73:05 - element with ID Foo and the element with
73:08 - ID bar but now we're starting to add IDs
73:11 - unnecessarily I have too many different
73:13 - names things could start to get messy
73:15 - especially as my web pages start to get
73:16 - bigger so while IDs are a way of giving
73:20 - a name to an HTML element that is unique
73:22 - sometimes I want to give a name to an
73:24 - HTML element that is not unique some
73:27 - name that can apply to multiple
73:29 - different HTML elements and when we do
73:31 - that we call that a class an ID is a way
73:35 - of giving a unique name to an HTML
73:37 - element while a class is a way of giving
73:39 - a name to an HTML element that might not
73:41 - be unique it might apply to zero or one
73:43 - or two or more different HTML elements
73:47 - so here's what that might look like
73:48 - instead of giving each of these H1s an
73:51 - ID that's different I can give each one
73:53 - a class we'll give this a class of baz
73:56 - again just another arbitrary name that
73:57 - we've chosen
73:58 - and I'll give this H1 a class of baz as
74:02 - well
74:02 - they both belong to the same class
74:05 - called baz in this case
74:07 - and now inside of my style code I would
74:09 - like to say just style the elements that
74:12 - are of class baz
74:14 - and just as we had a special symbol the
74:16 - hashtag for styling only something with
74:19 - a particular ID
74:20 - you to style everything with a
74:22 - particular class I can use a DOT so dot
74:25 - baz in this case is going to style only
74:28 - the elements that have a class of baths
74:31 - so here I can now say take all of the
74:34 - elements with a class of baz and go
74:36 - ahead and give those a color of blue
74:40 - so now I have two H1s that belong to
74:43 - class baz each the other H1 does not and
74:46 - I've styled only the things that are of
74:48 - cloth spaz such that now when I go back
74:50 - to the page and refresh the page my
74:52 - first two headings those do get styled
74:55 - as blue but the third heading does not
74:57 - because I've applied a class to these
74:58 - two elements that does not get applied
75:00 - to this third element there
75:02 - so oftentimes it can be very helpful if
75:05 - you have to start to design larger web
75:06 - pages where you have multiple different
75:08 - elements some of which might be styled
75:10 - in some ways and other elements that
75:11 - might be styled similarly to one another
75:13 - you can add IDs and classes to your HTML
75:17 - elements just to clean up the way that
75:19 - you write your CSS to be able to very
75:20 - specifically pinpoint one element that
75:23 - you want to apply style to or to apply
75:25 - styling to entire class of elements as
75:28 - well
75:29 - now one tricky thing you might imagine
75:31 - now is that now we have multiple ways of
75:34 - referencing the exact same element so
75:38 - for example if you imagine that I just
75:40 - had a single H1 which had an ID of Foo
75:43 - for example that I've named Foo what
75:46 - would happen if for instance I said all
75:49 - of the H1s I would like those to be
75:51 - colored red
75:52 - and all of the elements with an ID of
75:54 - Foo or the only element with an idea Foo
75:57 - I would like that to be colored blue
75:59 - what might happen then these would seem
76:01 - to be conflicting where now suddenly we
76:04 - have an H1 style tag that is saying I
76:08 - should style each ones in this way but I
76:10 - should style element Foo in another way
76:12 - so what happens if I have an H1 whose ID
76:15 - is Foo how do I choose to style that and
76:18 - in order to deal with that we have to
76:20 - start to deal with the CSS problem of
76:22 - specificity of what happens when I have
76:24 - multiple different CSS selectors that
76:27 - could apply to the exact same HTML
76:29 - element and
76:31 - this often happens when we start to add
76:33 - IDs and classes to our elements as well
76:37 - so when we deal with specificity
76:39 - specificity goes in a particular order
76:41 - there's an order of Precedence that we
76:43 - can follow for determining what style
76:45 - should ultimately be applied to any
76:48 - particular element the first most
76:50 - powerful most specific way of
76:52 - referencing an element is inline styling
76:55 - literally adding a style equals
76:57 - attribute towards the HTML elements the
76:59 - way we did way at the beginning when we
77:01 - were first taking a look at CSS if we
77:03 - associate inline styling with an HTML
77:06 - element that's going to take precedence
77:08 - over any styling that's inside the style
77:10 - section of our head of the web page or
77:12 - inside of a separate.css file because
77:15 - the reasoning goes if you are
77:17 - literally putting the style code
77:19 - attached to the element itself then we
77:22 - probably want to apply it to that
77:24 - element
77:25 - after that specificity goes in order of
77:28 - how precisely we are identifying an
77:31 - element an ID is a unique way to
77:33 - identify an element there's only one
77:35 - element with that particular ID so if
77:37 - I've added style to a particular ID that
77:40 - is going to be pretty highly valued in
77:42 - terms of how specific it is
77:44 - next we look at classes so if there's no
77:46 - ID selector we look for did we reference
77:49 - the element by its class and if so then
77:52 - that takes next precedence
77:54 - and otherwise then we fall back to what
77:56 - type of HTML element it is is it an H1
77:59 - is it an ordered list is it a table so
78:02 - in short the type is the least specific
78:03 - class is slightly more specific ID is
78:06 - more than that and the most specificity
78:08 - we can provide is by literally putting
78:10 - the CSS in line with the HTML element
78:13 - itself
78:14 - so let's take a look at an example of
78:16 - this let's look at this code for example
78:18 - where for instance I have a div whose ID
78:21 - is Foo inside of which I'm just saying
78:24 - the word hello and the CSS code that
78:26 - I've included here is I've said for all
78:28 - divs I would like to give those a color
78:30 - of blue obviously in that case there's
78:32 - nothing conflicting what we're going to
78:34 - see is we're going to see the word hello
78:35 - and we're going to see the word hello in
78:38 - blue
78:39 - but what happens now if we add anything
78:41 - with ID Foo should be colored red well
78:44 - because ID has higher specificity than
78:48 - just an individual tag well then next
78:50 - what we're going to say is that this
78:51 - hello is going to show up as red the ID
78:53 - is more specific and so this element is
78:56 - going to show up red instead and it
78:59 - doesn't matter
79:00 - what are these are in it's not that the
79:01 - later one takes precedence if I were to
79:03 - flip these around where idfu color red
79:05 - div color blue is in that order it's
79:08 - still going to show up as red because
79:10 - this ID selector is more specific than
79:14 - just the name div which is the name of
79:17 - the HTML element that happens to be
79:19 - there
79:20 - and so as you start to develop more
79:21 - sophisticated style sheets you might
79:23 - find that some of your CSS code is going
79:25 - to conflict with each other and that's
79:27 - where it's important to bear in mind how
79:28 - these specificity rules work to know as
79:31 - you add style to your elements how are
79:33 - they actually going to end up showing up
79:36 - now we've seen a couple of CSS selectors
79:38 - now in terms of selecting a single
79:40 - element selecting an ID selecting a
79:42 - class selecting multiple elements as
79:45 - well it turns out there are a number of
79:46 - other CSS selectors that we can use too
79:48 - so we saw for example the multiple
79:51 - element selector like TD comma th for
79:55 - selecting table data but also table
79:57 - headers but there's a number of other
79:59 - selectors here's just a sampling of ones
80:01 - you can specify like descendants or
80:03 - children so if I only want to style divs
80:06 - that are inside of tables or I only want
80:08 - to style lists that are inside of
80:10 - certain classes I can use these
80:13 - descendant and child selectors to add
80:15 - styling in those particular ways and
80:17 - there are a number of other CSS
80:19 - selectors we can add as well and we'll
80:21 - go ahead and explore a couple of these
80:22 - just to give you a sample of how some of
80:25 - these CSS selectors can actually work
80:28 - and we'll start by taking a look at the
80:30 - descendant selector which is used to
80:32 - select all the elements that are
80:34 - descendants of some other element for
80:37 - example
80:38 - so let's go ahead and create a new file
80:40 - that I'll call descendant
80:43 - .html
80:45 - that again
80:46 - we'll start with the same code
80:48 - and inside the body of this page I want
80:50 - an ordered list that maybe has a list
80:53 - item one
80:54 - and maybe list item two
80:57 - and it turns out with lists in HTML you
81:00 - can Nest lists inside of other lists
81:02 - maybe you've seen bullet points where
81:04 - there's like nested bullets inside of
81:06 - other bullet points I can do that here I
81:08 - can add an unordered list and create a
81:10 - sub list like sublist item one
81:14 - and sublist item two and maybe down here
81:18 - here's another list item
81:21 - such that now I have a couple of items
81:23 - but some that are inside of an unordered
81:26 - sub list
81:27 - let's go ahead and open up
81:29 - descendant.html and see what that looks
81:31 - like
81:32 - so here's what we have we have list item
81:34 - one list item two another list item that
81:36 - is probably actually
81:38 - list item three
81:41 - so we have three items but inside of
81:43 - list item two I have an unordered list
81:46 - let's imagine for example that I wanted
81:49 - to only style these sub list items as a
81:53 - particular color like maybe I want those
81:55 - to be blue for example
81:56 - if in the style section of my web page I
82:00 - say that I would like for all list items
82:02 - to be styled blue
82:04 - well then not styled colored blue rather
82:07 - then what I'm going to see when I
82:09 - refresh the page is that all of the
82:12 - items are going to be blue instead of
82:14 - just the two sub-list items
82:16 - but I could instead say that you know
82:18 - what I only want list items that are
82:21 - children of unordered lists and I can do
82:24 - direct children using this greater than
82:26 - symbol to say that only if there is a UL
82:28 - that immediately contains an Li within
82:30 - it then I would like for that to be
82:33 - colored blue
82:34 - and now if I refresh that now you'll see
82:37 - that the ordered items listed in one two
82:39 - three those do not get colored but only
82:42 - the list items that are inside of the
82:44 - unordered list that are directly
82:45 - children of that unordered list actually
82:48 - get the CSS styling applied this greater
82:52 - than symbol here is specifying immediate
82:54 - children I could get rid of it ulli like
82:57 - this and this would also work
82:58 - you still see sublist item one and two
83:00 - but this is a more General selector
83:03 - called The Descendant selector that
83:05 - selects all descendant elements so they
83:07 - might not be the children element so
83:08 - that might be grandchildren elements so
83:10 - to speak if those children elements have
83:12 - other children that are attached to them
83:14 - as well again for all of this it's
83:16 - helpful to begin to think about things
83:17 - in terms of that document object model
83:19 - that Dom structure that tree that
83:22 - represented how all of our various
83:24 - different HTML elements are related to
83:27 - one another
83:29 - so next up we can begin to take a look
83:30 - at some of the other selectors that we
83:32 - have access to so one of those selectors
83:34 - might be something like modifying and
83:37 - only on a specific attribute of a
83:40 - particular HTML element so we can use
83:42 - the attribute selector for that I'll
83:44 - create a new file called attribute.html
83:48 - where here let's go ahead and create a
83:52 - unordered list
83:54 - that's going to have a number of
83:56 - different links to various different
83:57 - websites so here's a list item that is
84:00 - going to be a link to Google
84:02 - so I'll link to google.com and say
84:04 - Google
84:06 - and I'll go ahead and add a link to
84:08 - facebook.com
84:10 - call that Facebook
84:11 - and I'll go ahead and add a link to
84:14 - amazon.com and call that Amazon
84:18 - and let's imagine for a moment that I
84:20 - only wanted to style the Facebook link
84:22 - like I want to really highlight the
84:24 - Facebook link tell people to click on
84:25 - that one as by coloring it in entirely
84:27 - different color
84:29 - well to cut to style links normally I
84:31 - would say something like links should be
84:34 - colored you know blue for example
84:36 - they're color blue by default but I
84:38 - could be explicit about it and say links
84:40 - should be color blue like that such that
84:42 - now when I open up attribute.html all of
84:45 - the links are colored blue
84:47 - but I could also say I would like links
84:50 - that have an href attribute of
84:53 - facebook.com
84:55 - I would like those links
84:57 - to be colored red instead
85:01 - so this square bracket notation I can
85:03 - use to specify a particular attribute of
85:05 - an HTML element only anchor tags a tags
85:08 - whose ahref is equal to facebook.com
85:10 - those should be the only ones colored
85:13 - red so now when I refresh this I now see
85:15 - that Facebook is a link that is now
85:17 - colored red instead of colored blue
85:19 - because I've been very specific about
85:21 - picking an attribute that I would like
85:23 - to use in order to reference that
85:25 - particular HTML element
85:28 - and we can use CSS selectors in more
85:30 - powerful ways too maybe not just to
85:32 - style a particular element always but to
85:35 - style an element only under certain
85:37 - conditions or only when an element is in
85:40 - a particular State and this is very
85:42 - often done for something like when you
85:43 - hover over something when you hover over
85:45 - some a button and something pops out or
85:48 - you hover over something and it changes
85:49 - color slightly we can begin to do this
85:51 - by adding what we call a pseudo class to
85:54 - a CSS selector so let's take a look at
85:57 - an example of that to see how we can
85:59 - modify an element when a user hovers
86:01 - their cursor over that element for
86:03 - example
86:04 - so I'll go ahead and open up a new file
86:06 - hover.html
86:08 - we're here I'll go ahead and inside the
86:10 - body of the page just give myself a
86:13 - button
86:14 - this button is going to say
86:16 - click me
86:17 - and let's add some style to the button
86:19 - by default buttons show up as fairly
86:21 - simple buttons it just looks something
86:22 - like this I might like to add a little
86:25 - bit more to this button and say you know
86:27 - what let's add some style to the button
86:29 - and give it a width of 200 pixels a
86:32 - height of 50 pixels a font size of 24
86:35 - pixels and maybe a background color
86:38 - of green for example
86:41 - so I specified some size information how
86:43 - big I'd like the font to be and also a
86:45 - background color for the button such
86:47 - that now here's what that button looks
86:49 - like shrink it down a little bit it says
86:51 - click me but many buttons especially
86:53 - nowadays are a little bit of they give
86:55 - you a little bit of feedback you hover
86:56 - over them and they change their color
86:58 - slightly how do they do that well often
87:00 - it's using a CSS pseudo class where I
87:04 - can say button colon hover meaning when
87:08 - I am hovering over a button
87:10 - then I'd like you to change the
87:12 - background color
87:13 - to Orange for example some other color
87:17 - so now I specified that by default
87:19 - normally for a button your background
87:21 - color should be green but when the
87:23 - button is being hovered over instead now
87:25 - change the background color to Orange
87:27 - such that now when I open up this page
87:30 - and go to click me if I hover over the
87:32 - button
87:33 - the color of the button changes normally
87:35 - green changes to Orange and so that is a
87:38 - very powerful feature that we have
87:39 - access to as well
87:41 - all right so now we've seen how we can
87:43 - use various different CSS selectors to
87:46 - very precisely Define how we want our
87:48 - web pages to be styled but one other
87:50 - thing we can use CSS for that's quite
87:52 - powerful is responsive design and
87:54 - responsive design is all about making
87:56 - sure that our web pages look good no
87:58 - matter how you're looking at the web
88:00 - page nowadays people aren't always
88:01 - looking at web pages on their computers
88:03 - but they're looking at web pages on
88:05 - their mobile phones or on their tablets
88:06 - as well and it's important as we begin
88:08 - to design web pages that we design our
88:10 - web pages in a responsive way so we'll
88:13 - look at a number of different ways we
88:14 - can Implement responsive design in our
88:17 - web pages starting with the discussion
88:19 - of the viewport
88:20 - and what the viewport is is the viewport
88:23 - is the visual part of the screen that
88:25 - the user can actually see so the
88:27 - viewport is this entire area of the web
88:30 - page that displays content to the user
88:33 - so one question you might ask is what's
88:34 - going to happen when you take this page
88:36 - and translate it onto a Mobile screen
88:39 - well one thing that many mobile devices
88:41 - do by default is treat their viewport as
88:44 - though it is the same width as a
88:46 - computer screen because not all web
88:48 - pages are optimized for mobile device
88:49 - mobile devices you want to make sure
88:51 - that on a mobile device you can see
88:53 - everything and so many phones will take
88:55 - a web page like this and just shrink it
88:57 - down to fit onto a Mobile screen that
89:00 - looks a little something like that
89:02 - now of course that's probably not really
89:04 - what we want it to look like ideally we
89:06 - want our page to adapt to different size
89:09 - screens maybe we want the heading and
89:11 - the image and the text if that's what
89:12 - these are to grow a little bit to fill
89:14 - that entire screen and so one simple
89:16 - thing we can do is just to add a little
89:19 - line of code to our HTML inside the head
89:22 - section of our page that controls the
89:24 - viewport this line of code here is
89:26 - providing some metadata to our HTML page
89:29 - and saying I would like you to change
89:31 - the viewport to be specifically the
89:34 - width of the device by default many
89:36 - phones will use a viewport that's
89:38 - actually wider than the with the device
89:40 - treat it as if they're loading a page on
89:41 - a computer and then shrinking it down to
89:44 - the size of a mobile device if you and
89:46 - your web page specify though that you
89:48 - want the viewport to be just the device
89:49 - with oftentimes a page is going to look
89:52 - a whole lot better on a mobile device
89:55 - but in addition to just adding a line
89:57 - like this there are other actual changes
89:59 - we can make to our page to make it look
90:01 - a little better on different screens and
90:03 - one of those has to do with media
90:04 - queries and media queries are all about
90:07 - controlling how our page is going to
90:09 - look depending on how we render that
90:12 - particular page or what size screen
90:13 - we're rendering that page on so let's
90:16 - take a look at an example of how we
90:18 - might go about do using media queries in
90:20 - order to control what a page actually
90:22 - looks like depending on what type of
90:26 - page or what type of browser we're using
90:28 - to view it
90:29 - so I'll go ahead and open a new file
90:30 - that I'll call
90:32 - responsive.html because we're going to
90:33 - try and build a responsive web page now
90:36 - and now I'll go ahead and inside the
90:38 - body of my page just include a big
90:40 - heading that says welcome to my web page
90:43 - for example
90:45 - and just to demonstrate what you can do
90:47 - now with responsive design is I could
90:49 - say something like let me add a style
90:52 - tag here
90:53 - where I want to say that if the size of
90:56 - the screen is a certain width then I
90:58 - want to style the page in one way and if
91:00 - the size of the page is a different
91:02 - width then I might want to style the
91:04 - page in a different way you might
91:05 - imagine that as you shrink the screen
91:06 - you want to move elements around in
91:08 - order to rearrange them to make the page
91:10 - just look a little bit nicer on a mobile
91:11 - screen so we'll do a very simple example
91:14 - of just changing the color depending on
91:16 - the size of the screen
91:18 - so let me specify now in a media query
91:20 - in the Syntax for media query looks like
91:23 - this I'm going to use the at symbol and
91:25 - say media and then specify for what type
91:28 - of media I would like to apply this
91:30 - query I can say something like if the
91:33 - minimum width of the page is 600 pixels
91:36 - in other words if the width of the page
91:37 - is 600 pixels or anything larger than
91:40 - 600 pixels
91:41 - well then go ahead and take the body and
91:45 - give it a background color of red
91:49 - but then I could also add another media
91:51 - query and say you know what for this
91:53 - media query let me give it a Max width
91:55 - of 599 pixels meaning if the size of the
91:59 - screen is 599 pixels or fewer then maybe
92:03 - I'd like to take the body and give it a
92:05 - background color of blue for example
92:09 - so now let's take a look at what happens
92:10 - when I take this page and actually open
92:12 - it and see what's going on I'll open up
92:15 - responsive.html
92:17 - and here's what I see normally I see a
92:19 - red web page because my screen is longer
92:21 - than 600 pixels wide but notice what
92:23 - happens is I shrink this web page if I
92:25 - go ahead and shrink it
92:27 - looking at it on the smaller screen
92:28 - eventually it turns to Blue if it's
92:32 - above 600 pixels wide it's going to be
92:33 - red if it's below 600 pixels wide the
92:37 - color changes to Blue so we're able to
92:39 - now use these media queries to really
92:41 - fine-tune the control how our page is
92:43 - going to look on various different types
92:46 - of devices if it's on a big screen maybe
92:48 - you want the elements to look a certain
92:49 - way if it's a smaller screen maybe they
92:51 - look differently and you don't just need
92:53 - to control a background color you can
92:54 - control any CSS property you want just
92:57 - by using these media queries you can say
92:59 - on a big screen you want certain amounts
93:01 - of spacing or padding you can even hide
93:03 - elements on smaller screens if you want
93:05 - to by using a particular CSS property
93:07 - called the display property that
93:09 - controls whether or not an element is
93:11 - even visible
93:12 - and ultimately put together this can
93:14 - help to make your pages a little bit
93:16 - more responsive and there are a number
93:17 - of different media queries that we can
93:19 - apply to our page as well we can check
93:21 - to see whether a mobile device is
93:22 - vertical or landscape we can check to
93:25 - see whether the user is viewing the page
93:26 - on their computer screen or if they've
93:28 - tried to print out the contents of the
93:30 - page as well so there are a number of
93:31 - different options that we have to really
93:33 - control how a page is going to look
93:36 - there are some other tools we have in
93:38 - our toolbox as well though for dealing
93:40 - with mobile responsiveness and one of
93:42 - the tools built into the latest version
93:44 - of CSS is something called flexbox and
93:47 - flexbox is quite helpful if we have
93:49 - multiple elements that we're all trying
93:51 - to display on the same page at the same
93:54 - time that might overflow if we're not
93:56 - careful about how we do responsive
93:57 - design if we're really not careful let's
93:59 - imagine I have six elements that show up
94:01 - on my computer's monitor when you
94:03 - translate that to a Mobile screen you
94:05 - can imagine they may all shrink down so
94:06 - that they're barely visible something
94:08 - like this this is probably not what we
94:10 - want if we're trying to design a mobile
94:12 - responsive page for example so you might
94:15 - imagine how can we do a little bit
94:16 - better
94:17 - well another thing we could do is take
94:19 - these elements and go ahead and keep
94:21 - them the same size but make you have to
94:23 - scroll through them this isn't a
94:25 - slightly better the elements are at
94:26 - least still visible and they're large
94:27 - enough on the screen but it'd be nice
94:29 - not to have to scroll through them what
94:31 - would be really nice is given that we
94:32 - have all this extra space I would like
94:34 - to be able to wrap around elements if I
94:37 - don't have enough space for them such
94:38 - that if I'm translating these six
94:40 - elements to a Mobile screen they
94:42 - translate but I get them in like two
94:44 - rows for example three on the top and
94:46 - three below and flexbox is an easy way
94:48 - to be able to implement something like
94:50 - this inside of our web pages
94:52 - so let's take a look at what that might
94:55 - actually look like to add flexbox to our
94:57 - page
94:58 - so I'll go ahead and create a new file
94:59 - called flexbox.html
95:02 - we'll start with the same HTML code and
95:04 - now
95:05 - inside of the body I'm going to create
95:08 - first a div that is going to be called
95:12 - the container
95:14 - and we're creating a container because
95:15 - we're going to specifically say that
95:17 - everything inside the container I would
95:19 - like to add flexbox to to be able to
95:21 - wrap it around so that things can go on
95:23 - to multiple lines if I ever need to and
95:26 - now let me just add some sample text so
95:27 - this is some sample text inside of a div
95:31 - to demo flexbox
95:33 - and I'll go ahead and repeat this maybe
95:35 - like 12 times and I'll number each one
95:37 - here's one two three four and I'll
95:41 - number all the rest
95:42 - this is just to give a demonstration of
95:44 - what these elements could actually look
95:46 - like
95:48 - ideally these would be different pieces
95:49 - of content though
95:52 - so now inside of my style tag here's
95:55 - what I'm going to say just to
95:57 - demonstrate I'll say take the ID
95:58 - container again the hashtag specifies
96:01 - get me something with a particular ID
96:03 - and I want to display it using flexbox
96:07 - and in particular I would like to use
96:09 - the flex wrap property to say if there's
96:11 - not enough room at the end of a line for
96:13 - all of the elements go ahead and wrap
96:15 - around those elements onto the next line
96:17 - instead
96:19 - and now I can specify some additional
96:22 - CSS properties for the divs inside of
96:25 - the container so I can say for the
96:27 - container all of the divs inside of that
96:30 - container again using this child
96:32 - selector to get all of the divs that are
96:34 - inside of the container I can add some
96:37 - CSS to that too I can say let's give
96:39 - these a background color of like a shade
96:41 - of green I can give them a particular
96:43 - font maybe 20 pixel font give them some
96:46 - margin and padding just to add some
96:48 - space and maybe each one is going to be
96:50 - 200 pixels wide
96:52 - so just adding some spacing to those
96:54 - individual divs the important part is
96:57 - this right here where I've said that
96:58 - this whole container is going to be a
97:00 - flexbox container and I'd like to wrap
97:02 - around elements if you ever reach the
97:05 - end
97:06 - so now I'll open up flexbox.html
97:09 - and so here I now see 12 elements that
97:13 - are on multiple lines but notice what
97:14 - happens as I shrink the page if there
97:17 - isn't room for all of them elements move
97:19 - onto other lines now there's only three
97:21 - elements in any particular row now
97:23 - there's only two elements on any
97:24 - particular row and so I can use flexbox
97:26 - to very well adapt myself to different
97:29 - size screens and no matter whether
97:31 - you're looking at this on a big screen
97:32 - or a small screen the content is still
97:34 - going to look good because I'm able to
97:36 - adapt responsively to whatever might be
97:39 - happening
97:40 - so this is one layout Paradigm that
97:42 - exists within CSS this flexbox layout
97:44 - there are other layouts that exist as
97:46 - well one common one is the grid layout
97:48 - for any time you want to arrange things
97:50 - in a particular Grid or maybe certain
97:52 - columns need to be certain widths but
97:54 - others could maybe be a little bit more
97:55 - flexible show us I'll show one example
97:58 - of that too just to give you a
97:59 - demonstration of what that grid layout
98:01 - might look like
98:02 - so here's grid.html
98:05 - where I'll go ahead and inside the body
98:07 - of this page give myself a div whose
98:10 - I'll give it an ID of grid
98:14 - and then let me just add div class
98:17 - equals grid item again a class because
98:20 - there might be multiple items
98:22 - but I'll go ahead and just create a
98:23 - whole bunch of grid items and number
98:25 - each one so two three four five six
98:27 - seven eight nine ten eleven twelve
98:32 - so I have a whole bunch of grid items
98:34 - inside of a div whose ID is grid
98:37 - and now I'd like to add
98:39 - some style here
98:41 - I'll say for the grid
98:43 - let's give it a background color maybe
98:45 - maybe a background color should be green
98:47 - a display is going to be grid I want
98:49 - this to show up as a grid and now there
98:51 - are a couple of attributes I'm going to
98:53 - or properties that I'm going to specify
98:55 - here maybe I want some padding around
98:57 - the grid first but the important grid
98:58 - properties are grid
99:00 - column Gap how much space goes between
99:04 - each of the columns maybe I'll say like
99:06 - 20 pixels likewise there's also a grid
99:09 - row Gap how much space goes between each
99:11 - of the rows of the grid maybe I'll say
99:13 - 10 pixels here
99:14 - and then finally grid template columns
99:18 - is a way for me to specify how many
99:21 - columns there are going to be and how
99:22 - wide should each of those columns be so
99:25 - if I want maybe three columns I can
99:27 - specify that the First Column should be
99:29 - 200 pixels
99:30 - the second column should also be 200
99:33 - pixels and the third column can be
99:35 - automatically sized just grow or Shrink
99:38 - to fill the screen
99:39 - so we'll say Auto so First Column 200
99:42 - pixels second column 200 pixels third
99:44 - column just do it automatically
99:47 - and now for all of the grid items
99:50 - well those I can add some styling to to
99:52 - as well I'll give them a background
99:54 - color of white just to distinguish them
99:56 - and also give them some font size and
99:59 - some padding and maybe Center them as
100:01 - well so just adding some additional CSS
100:04 - properties in order to make it display
100:05 - the way I want to but the important ones
100:07 - to care about here are display as grid
100:10 - and then I'm specifying here's how the
100:13 - grid should be laid out how much space
100:14 - between columns how much space between
100:16 - rows and how wide are each of those rows
100:19 - going to be
100:20 - now if I open up
100:22 - grid.html here's what that grid looks
100:25 - like I now have a First Column 200
100:27 - pixels wide a second column also 200
100:30 - pixels wide and a third column that's
100:32 - going to resize dynamically based on how
100:34 - wide or how narrow my screen happens to
100:36 - be so as I shrink the screen the third
100:39 - column shrinks with it as I grow the
100:41 - screen it also grows alongside with how
100:44 - big this window happens to be
100:47 - and so flexbox and grid are some very
100:50 - powerful tools that we can use just to
100:52 - make it easier for us to be able to use
100:54 - mobile responsive design to be able to
100:56 - make sure that our Pages look good no
100:58 - matter what kind of browser or what kind
101:01 - of device the user is using in order to
101:03 - look at our page but it turns out there
101:05 - exists a lot of libraries out there that
101:08 - do a lot of this for us some people that
101:09 - have already written CSS code to make
101:11 - our text look good to make our buttons
101:13 - look good in order to make sure that
101:15 - things are mobile responsive and one of
101:16 - those is called bootstrap bootstrap is a
101:19 - very popular CSS library that we can use
101:21 - in order to use some styling that they
101:24 - have written such that we don't need to
101:26 - write all the styling from scratch so
101:28 - this is what bootstrap's website looks
101:29 - like I'll go ahead and show it to you
101:31 - now just to give you a sampling for
101:32 - what's available inside of a library
101:34 - like bootstrap
101:36 - if I go to getbootstrap.com
101:40 - here's bootstrap's website and if I go
101:42 - to their documentation on this first
101:44 - link here I can look at all of the
101:46 - bootstrap components that I'm given
101:48 - access to these are things like alerts
101:50 - for example that here's an alert that's
101:52 - styled in a very particular way it's in
101:54 - a specific font it's gotten a certain
101:55 - amount of padding in certain colors and
101:57 - if I want to just copy this alert once
102:00 - I've used bootstraps code I can just
102:02 - apply certain classes to a div and
102:05 - bootstrap will handle the process of
102:07 - applying the right styles for me I don't
102:09 - need to write all of these styles by
102:10 - myself from scratch bootstrap's written
102:13 - a lot of The Styling already
102:15 - so how do you actually go about using
102:17 - bootstrap well to get started with
102:19 - bootstrap all you need to do is copy the
102:21 - CSS link that bootstrap gives you to the
102:24 - top of your file so if I take the CSS
102:26 - link and then go back to something like
102:28 - hello.html which you'll recall
102:30 - originally looked something like
102:32 - this just hello world
102:34 - I can add some bootstrap to it to say
102:37 - all right I would like to take this HTML
102:41 - file and apply bootstrap styling to it
102:43 - to make it look a little bit nicer so I
102:46 - refresh the page and now you'll notice
102:48 - bootstraps chosen a custom font for me
102:50 - just to make things look a little nicer
102:52 - in bootstrap's own eyes and now if I
102:54 - want to add bootstrap elements I can say
102:56 - all right let me go to their components
102:58 - and I want to add an alert I can just
103:01 - copy their alert code
103:03 - here's their alert code for a primary
103:04 - alert an alert that looks blue
103:07 - and I can just inside the body of my
103:09 - page go ahead and add an alert and maybe
103:12 - change the text to here is my alert for
103:16 - example
103:17 - now when I reload hello.html I now see
103:21 - an alert that shows up styled according
103:23 - to bootstrap styling
103:25 - and again I can change that styling just
103:27 - by changing these classes
103:29 - so a primary alert shows up as blue a
103:32 - success alert shows up as green a danger
103:34 - alert is red so if I want to give a
103:36 - danger alert the user is doing something
103:37 - wrong on the web page for example I can
103:39 - change alert primary here inside my HTML
103:42 - to something like alert danger instead
103:45 - and now when I refresh this page I now
103:48 - see the alert shows up as red instead of
103:50 - blue
103:51 - so bootstrap gives us access to a lot of
103:53 - these various different types of
103:55 - components different ways of adding
103:56 - breadcrumbs and alerts and carousels and
103:59 - other elements to our page just to make
104:01 - it easy to make our page look good very
104:03 - very quickly without having to worry too
104:05 - much about writing our own CSS because
104:07 - bootstrap's written a lot of that for us
104:09 - bootstrap even includes a way to make
104:11 - sure that web pages are mobile
104:13 - responsive using something called
104:14 - bootstrap's column model
104:17 - so I'll show you an example of that now
104:19 - bootstrap divides its page into 12
104:22 - distinct columns so one thing I can do
104:25 - is I've pulled this up in an example I
104:27 - have an advance called column 0.html
104:30 - notice that inside of the body of my
104:32 - page now I have a div whose classes
104:34 - container and then a div whose classes
104:37 - row and bootstrap divides every row into
104:40 - a 12 unit column
104:43 - so here for example I have a whole bunch
104:45 - of divs that are each three unit columns
104:48 - so if I have four three unit columns
104:50 - that will take up a total amount of
104:52 - space equal to 12 meaning filling up the
104:55 - entirety of the screen
104:56 - so if I now open up Source column zero
105:00 - dot HTML here's what that looks like I
105:03 - have four columns Each of which is of
105:05 - width three and as a result as I shrink
105:08 - it those columns will automatically
105:10 - resize to make sure that they're always
105:12 - the appropriate size now as long as they
105:14 - add up to 12 they don't all need to be
105:16 - the same size so for example if I only
105:18 - wanted three columns instead of four I
105:21 - could get rid of the fourth column by
105:23 - deleting those rows
105:25 - and maybe change the second column
105:26 - instead of to being a column of size
105:28 - three let's make it a column of size six
105:31 - so that's a length six column instead
105:34 - and now if I refresh the page now
105:36 - suddenly I see three columns where the
105:38 - middle one is twice as large as the ones
105:41 - on either end and as I shrink this down
105:43 - I can see that it shrinks down as well
105:46 - and one of the advantages of using
105:48 - bootstrap columns is that they too can
105:51 - be mobile responsive they too can wrap
105:53 - around other lines if they ever need to
105:55 - so for example let me pull up
105:57 - columns1.html
106:01 - here for example I have a row and let's
106:04 - take a look at what's going on in here
106:05 - recall that every Row in bootstrap is
106:08 - divided up into 12 column units but
106:11 - bootstrap in addition to letting me
106:12 - specify how many units a column should
106:14 - take up also lets me specify how many
106:16 - units that column should take up
106:18 - depending on the size of the screen so
106:21 - if I'm on a large screen as indicated by
106:24 - LG this is saying that on a large screen
106:26 - this div should take up three units of
106:29 - space and this div should also take up
106:31 - three units of space and for each of
106:33 - these four divs on a large screen each
106:35 - will take up three of the total 12 units
106:38 - of space so they'll all show up on one
106:41 - row
106:42 - what happens on a small screen though
106:44 - well here call SM for column on a small
106:47 - screen I've said on a small screen each
106:50 - column should only take up should take
106:51 - up six units of Space six or half of the
106:54 - total 12 that I have in the row and so I
106:56 - use up six here six here for a total of
106:58 - 12 and one row which means the next two
107:01 - also a size 6 need to go on to a second
107:04 - row and bootstrap is smart enough to do
107:06 - this math for me and figure out how
107:08 - exactly these elements should ultimately
107:10 - be laid out
107:12 - so now if I open up columns1.html
107:17 - and see what's there on a large screen I
107:20 - see four columns all in the same row but
107:23 - as I shrink down to a smaller screen
107:25 - eventually
107:26 - we'll see that things change I now see
107:28 - the third and four sections move down
107:30 - onto the second row because on a smaller
107:33 - screen now when the when the window is
107:35 - smaller now I only have the ability to
107:37 - show two elements in any particular row
107:40 - so I get two on the first row and then
107:42 - two on the row underneath that
107:45 - so all in all there are a lot of
107:47 - different ways to know that we can use
107:48 - CSS in order to make sure our pages are
107:50 - mobile responsive we can use bootstrap's
107:53 - column model to make sure the columns
107:54 - move around whenever a size of the
107:56 - window shrinks or grows we can also use
107:59 - things like flexbox and the grid model
108:00 - writing our own CSS to make sure that
108:03 - our page is responsive depending on the
108:05 - size of the screen that the user happens
108:07 - to be using in order to visit our web
108:09 - page so these are some of the very
108:11 - powerful features that we get using just
108:13 - CSS
108:15 - but one thing you might imagine is that
108:16 - as we begin to write more and more CSS
108:18 - there's going to be more and more
108:20 - repetition things that appear again and
108:23 - again and again and we've already seen
108:25 - some ways that we can minimize
108:26 - redundancy in CSS we've seen how we can
108:29 - move CSS into the style section of our
108:31 - web page we've even seen how we can move
108:33 - CSS to an entirely different file
108:36 - however what we haven't yet seen is how
108:39 - to deal with other types of redundancy
108:41 - and so let's take a look at an example
108:43 - of that now let's imagine for example
108:45 - that I want to style multiple different
108:47 - elements uh in different ways but using
108:51 - some common properties so for example
108:53 - let me create a new file that all in
108:55 - this case call variables.html
108:58 - and you'll see why in a moment
109:00 - I'll go ahead and copy hello.html but
109:02 - I'll get rid of all this bootstrap
109:03 - inside of it
109:05 - let's imagine that here I have in maybe
109:08 - two lists an ordered list and an
109:10 - unordered list
109:12 - where my unordered list has unordered
109:15 - item
109:17 - maybe three unordered items
109:19 - and my ordered list also has three
109:22 - ordered items
109:24 - again just for sake of demonstration I'm
109:26 - showing that we have these two lists now
109:28 - and I'll open up
109:30 - variables.html just to give you a sense
109:32 - for what that could look like we have
109:35 - three unordered items in an unordered
109:37 - list three ordered items in an ordered
109:40 - list
109:40 - let's imagine I wanted to style these a
109:42 - little bit differently
109:44 - maybe inside the style section of my
109:45 - page I want to style the unordered list
109:48 - to have a font size of 14 pixels and
109:52 - maybe a color of red
109:53 - and my ordered list I would like that to
109:56 - have a font size of maybe larger 18
109:58 - pixels but also a color of red I want to
110:01 - keep the same color for all the text but
110:03 - I want the font sizes to be different
110:05 - now if I refresh this page here's what I
110:07 - see they are indeed of different sizes
110:09 - the ordered list items are larger than
110:12 - the unordered list items and they're all
110:14 - red but there was some redundancy some
110:16 - repetition that was introduced when I
110:18 - was writing my CSS code in particular
110:21 - when I was writing my CSS code
110:23 - I've repeated this usage of the color
110:26 - red if I ever want to change the color
110:27 - from red to blue for example I'm going
110:29 - to have to change my code in two
110:31 - different places ultimately I just like
110:34 - for my CSS to be a little bit more
110:36 - powerful and so that brings us to our
110:38 - last topic today which is a language
110:40 - called SAS and SAS is a language that is
110:43 - essentially an extension to CSS it adds
110:46 - additional features to what CSS has to
110:48 - offer just to make it a little bit more
110:50 - powerful for us to be able to use and
110:52 - manipulate CSS in a way that's going to
110:54 - be faster and remove some of the
110:56 - repetition that we might have had in CSS
110:58 - previously and one of the key features
111:00 - of SAS is the ability to have variables
111:04 - so let's take a look at an example of
111:06 - the snow
111:07 - I'm going to create a new file normally
111:09 - when we created our CSS files we call
111:11 - them like
111:12 - variables.css something.css to stand for
111:15 - a CSS file SAS is a different language
111:18 - though so it's going to require a
111:20 - different extension we're going to
111:22 - conventionally use dot scss to stand for
111:25 - this is a SAS file
111:28 - so here's now variables.scss
111:31 - and now what I can do in SAS is I can
111:33 - actually create variables in the same
111:35 - way that we could create variables in a
111:37 - programming language like python which
111:38 - we'll soon see CSS normally doesn't
111:40 - support variables but SAS is going to
111:42 - give us that power in SAS all variables
111:45 - begin with a dollar sign so I can create
111:47 - a variable dollar sign color to create a
111:50 - variable called color
111:52 - and I can say the variable called color
111:53 - is going to be equal to red
111:56 - so this line here line one is my way of
111:58 - telling SAS I'd like to create a
112:00 - variable called color and I'd like for
112:02 - its value to be red
112:04 - and now I can add the same styling I had
112:06 - before I can just use normal CSS and say
112:09 - for an unordered list I'd like the font
112:10 - size to be 14 pixels but the color
112:13 - instead of saying red here I can use the
112:16 - name of a variable I can say dollar sign
112:19 - color
112:20 - to mean go ahead and use the value of
112:22 - the variable color as the color for this
112:25 - unordered list
112:27 - then for an ordered list I'll also say
112:29 - font size 18 pixels and say color should
112:33 - also be this variable called color
112:36 - by using a variable I've removed the
112:38 - repetition rather than having the word
112:40 - red show up in multiple places in my
112:42 - code where I would need to change it
112:43 - twice if I ever needed to change it now
112:45 - I have defined the variable once and I
112:48 - only ever need to change it in one place
112:49 - if I ever need to make modifications to
112:52 - this particular file
112:54 - so now let's try and Link this file
112:56 - instead of we'll go back to
112:58 - variables.html
113:00 - instead of putting the style code here
113:01 - I'll go ahead and Link
113:04 - a style sheet
113:07 - and say the href should be
113:09 - variables.scss because that's the file
113:11 - where my styling exists
113:14 - so now let me try and open up
113:16 - variables.html after I've linked the CSS
113:20 - and all right something seems not quite
113:22 - right I specified font sizes I specified
113:24 - that everything should be read but it's
113:26 - not showing up everything is showing up
113:28 - black and I don't see any of the
113:30 - differences in sizing and the reason for
113:33 - this is while the web browser things
113:35 - like Chrome and Safari and Firefox can
113:37 - understand CSS they can't by default
113:40 - understand scss or SAS SAS is an
113:43 - extension to CSS that web browsers don't
113:45 - understand out of the box
113:48 - so in order to solve this problem once
113:50 - we've written our SAS file we need to
113:52 - compile it convert it translate it so to
113:54 - speak from SAS into plain old CSS so
113:58 - that our browser is able to understand
114:00 - it and so you'll need in order to do
114:02 - this you'll need to install a program
114:03 - called SAS onto your computer you can
114:05 - install it on Mac or PC or Linux and now
114:08 - in the terminal in order to do this
114:09 - compilation I'm going to say SAS
114:15 - variables.scss the file I'd like to
114:17 - compile colon variables.css
114:21 - so variables.scss is the file that I
114:24 - would like to compile and the file I'd
114:26 - like to generate is variables.css I'd
114:29 - like to turn my SAS file into a plain
114:31 - old CSS file
114:33 - I'll go ahead and press return and to
114:35 - write that compilation process is now
114:37 - done
114:38 - and so now inside of variables.html
114:40 - instead of represent referencing the
114:43 - scss file I'm going to reference the CSS
114:47 - file as the style sheet because my web
114:49 - browser only understands CSS it doesn't
114:52 - understand SAS
114:54 - now when I load the page now I see the
114:56 - result I expect everything shows up as
114:58 - red and the font sizes are different so
115:01 - ultimately this was a two-step process I
115:03 - first needed to take my SAS code compile
115:06 - it into CSS and then I could link the
115:08 - CSS to this particular page
115:11 - but the advantage now is that if ever I
115:13 - want to make some sort of change I want
115:15 - to change the color rather than change
115:17 - it in two places or you might imagine in
115:18 - a more complex page like tens or dozens
115:21 - of places I just go to the scss file
115:24 - and I change the color from red to blue
115:28 - now if I refresh the page
115:30 - all right everything is still red and
115:32 - it's because I forgot a step I changed
115:34 - the SAS file but that doesn't
115:36 - automatically change the CSS file I need
115:38 - to now recompile the CSS file
115:41 - by saying SAS variables.scss
115:44 - variables.css to compile the file again
115:47 - using the updated SAS file and now I see
115:51 - the updated changes
115:52 - and if you're curious as what the
115:54 - updated file looks like I'm gonna
115:55 - actually look at variables.css to see
115:58 - what code happens to be there and though
116:00 - it's styled a little bit strangely you
116:02 - can see that I have a UL with a font
116:03 - size of 14 and a color of blue so
116:06 - they've substituted the word blue for
116:07 - this variable and they've done the same
116:09 - thing for ordered lists as well
116:12 - now in practice it's going to be pretty
116:14 - annoying if I'm building a web page
116:16 - building using SAS if I constantly need
116:19 - to go back and recompile my SAS into CSS
116:21 - every single time what I'd like to do is
116:23 - just automate that process and SAS makes
116:26 - it easy to do this I can just say SAS
116:28 - dash dash watch
116:30 - variables.scss variables.css
116:34 - and what that's going to do is now you
116:36 - see SAS is watching for changes SAS is
116:39 - going to monitor the
116:40 - variables.css file and if ever I change
116:43 - my SAS file SAS is going to know about
116:45 - it and it's automatically going to
116:47 - recompile the corresponding CSS file and
116:50 - you can do this now just with single
116:52 - files but entire directories as well if
116:53 - you have multiple different SAS files so
116:56 - now what I can do
116:58 - is if in the variables.scss file I
117:01 - change the color instead of blue I now
117:03 - want it to be green for example I now
117:06 - save the variables.scss file and now
117:09 - without doing anything take a look at my
117:10 - terminal
117:11 - SAS detected a change to variables.scss
117:14 - so it gave me a new version of my
117:17 - original CSS file
117:20 - if I go back to my web browser now
117:21 - refresh the page now all of the text is
117:24 - green as I would expect it to be
117:27 - so that's one of the very powerful
117:29 - features that SAS gives us it gives us
117:32 - the ability to add variables to our CSS
117:34 - code just to factor out commonalities if
117:36 - there are common fonts common colors
117:38 - common borders common styling that I
117:40 - want to apply to a lot of different
117:42 - things it becomes much easier just to
117:44 - use SAS in order to do so
117:46 - and finally we'll take a look at a
117:48 - couple of other features that SAS gives
117:50 - us the ability to do one of them is the
117:53 - ability to Nest CSS selectors inside of
117:56 - other CSS selectors
117:58 - so one thing you've seen so far for
118:00 - example is that in CSS if I wanted to
118:03 - style all of the unordered lists that
118:06 - are inside of divs for example I could
118:09 - say like div Arrow unordered list in
118:12 - order to style unordered lists that are
118:14 - inside of divs
118:16 - what CSS what SAS will do is it'll give
118:19 - us a bit of a nicer Syntax for doing
118:21 - this type of thing in particular by
118:23 - allowing us to Nest CSS inside of other
118:27 - pieces of CSS
118:28 - so just as an example of this I'll go
118:31 - ahead and open up a file I already
118:32 - brought called nesting.html
118:35 - and so here's what we might see inside
118:37 - of nesting.html here's the body of the
118:40 - page inside the body of the page I have
118:42 - a div
118:43 - inside of which is a paragraph inside
118:45 - the div and also a list in unordered
118:48 - list or UL that's inside of this div as
118:51 - well
118:51 - and then we also have a paragraph that's
118:53 - outside of the div and a list that's
118:55 - outside of the div in addition to that
118:58 - so A number of different elements some
118:59 - of which are located inside of other
119:01 - elements and what I'd like to do is be
119:03 - very precise about how I style these
119:06 - pages
119:07 - what SAS is going to allow us to do is
119:09 - it lets us write a SAS file that looks a
119:12 - little something like this let's take a
119:14 - look at what it's doing it's saying for
119:16 - the entire div I would like to give that
119:19 - div a font size of 18 pixels
119:21 - and then what CSS normally doesn't allow
119:24 - us to do but we can do now using the
119:26 - power of SAS is say for any paragraphs
119:29 - that are inside of that div go ahead and
119:31 - give those paragraphs a color of blue
119:33 - and for any unordered lists that are
119:36 - inside of the div give those unordered
119:38 - lists a color of green by nesting these
119:41 - CSS selectors inside of others we've
119:43 - been able to get across the idea that I
119:46 - only want to style the paragraph if it
119:48 - is inside of a div and this is just a
119:50 - little bit of a nicer cleaner syntax for
119:53 - doing some of these more complex styling
119:55 - tasks that might come up
119:57 - so what does this actually look like if
119:59 - I like take this scss file and turn it
120:01 - into normal CSS what is the result going
120:04 - to be well let's take a look we can try
120:06 - it out by let me go into my nesting
120:09 - folder where all these files are located
120:11 - and if I run SAS nesting.s CSS turn it
120:16 - into nesting.css
120:19 - now let's open up nesting.css and see
120:22 - what it looks like
120:23 - here it's turned into take all of the
120:26 - divs give them a font size of 18 pixels
120:28 - and then we're using the same descendant
120:31 - selector notation that we saw before
120:33 - where all the paragraphs inside of divs
120:35 - should be color blue all the unordered
120:38 - lists inside of a div should be colored
120:39 - green and this certainly works and we
120:41 - could have just written this CSS from
120:43 - the beginning but it can be a little bit
120:45 - cleaner a little bit easier to read to
120:47 - use SAS in order to really say uh
120:50 - paragraphs inside of divs should be
120:52 - structured this way unordered lists are
120:54 - styled in some other way and using this
120:56 - nesting approach just makes it often
120:58 - easier to take a look at this scss page
121:00 - and really understand how all of the
121:03 - different style code interacts with each
121:05 - other
121:06 - so after all of this now if I open up
121:08 - nesting.html
121:11 - we might see something that looks a
121:13 - little something like this the paragraph
121:15 - inside the div and the list inside of
121:17 - the div those both get changes to the
121:19 - way that they've been styled but unlike
121:22 - them these paragraphs outside of the div
121:24 - and the list that is also outside of the
121:26 - div those get styled a little bit
121:28 - differently
121:30 - so two features now we've seen inside of
121:32 - SAS we've first seen the ability to have
121:34 - variables to make sure we're not
121:36 - repeating ourselves in many places
121:37 - throughout the code and now we've seen
121:39 - the ability to Nest CSS selectors inside
121:42 - of each other by taking advantage of SAS
121:45 - finally we'll take a look at one last
121:47 - feature that SAS is going to give us and
121:49 - that is something called inheritance if
121:52 - we have certain CSS selectors that are
121:54 - related to other CSS selectors but that
121:57 - are maybe adding some additional
121:58 - information and in this case I'm
122:00 - actually going to show you the finished
122:01 - product first so let's go into
122:04 - inheritance and let me open up
122:06 - inheritance.html
122:08 - and here you see I've tried to almost
122:10 - Implement bootstrap style alert messages
122:13 - in HTML I have a success message up at
122:16 - the top a warning message and then an
122:18 - error message and each of these messages
122:20 - you'll notice are styled differently in
122:22 - particular they're each a different
122:23 - color but despite that they share a lot
122:26 - in common they share a common border
122:28 - they share a common font they share a
122:30 - common size and many other properties
122:31 - are all shared between these elements
122:33 - there are just some things that are a
122:36 - little bit different about them I could
122:38 - have written three different CSS
122:39 - selectors to deal with all of these
122:41 - cases but there might be some repetition
122:43 - there so here's what I can do by taking
122:45 - advantage of the features that SAS gives
122:47 - me
122:48 - let me go ahead and look at inheritance
122:50 - dot scss to look at the code for doing
122:53 - this
122:55 - and
122:56 - it looks a little bit cryptic at first
122:57 - but here's what I've defined I've here
123:00 - defined using a percent sign that this
123:02 - is what a generic message is going to be
123:05 - something that I can extend later to add
123:07 - additional information to all of the
123:09 - messages whether they be success
123:10 - messages or danger messages or warning
123:12 - messages they're all going to have the
123:14 - same font they're all going to have the
123:16 - same border they're all going to have
123:17 - the same padding and margin spacing
123:19 - around and outside of it but each of the
123:22 - specific messages are going to be
123:24 - slightly different
123:25 - how are they different well let's take a
123:27 - look down here
123:28 - anything with a class of success I'm
123:31 - going to say extends this message and by
123:35 - extends this message what I mean is that
123:37 - anything with a class of success is
123:39 - going to inherit all of these CSS
123:42 - properties the font the border the
123:43 - padding and the margin
123:45 - but it's going to add additional
123:46 - information to it in particular we're
123:49 - going to add a color we're going to say
123:50 - that for Success messages the background
123:52 - color is going to be green I have
123:55 - extended the basics of what a message is
123:56 - but said that this message in particular
123:58 - has some additional style that we're
124:01 - going to assign to it as well and the
124:03 - other two messages behave in very
124:05 - similar ways my warning message extends
124:07 - the message but instead says the
124:09 - background color should be orange and
124:11 - finally the error message also extends
124:13 - the message but this time gives us a
124:15 - background color of red instead
124:18 - so now when you compile this all
124:19 - together into inheritance.css which are
124:23 - compiled in advance
124:24 - uh this is what this is ultimately going
124:26 - to look like it translates what I've
124:28 - written into saying all right success
124:30 - and warning and errors should have all
124:33 - of these properties but success should
124:35 - also have this background color warning
124:37 - should have this background color error
124:39 - should have this background color so you
124:41 - again we could have written this CSS
124:43 - there's nothing that SAS does that we
124:45 - couldn't have written ourselves using
124:47 - CSS SAS will just make it a little bit
124:49 - easier to do many of the same things so
124:52 - we can write things in a little bit of a
124:53 - nicer syntax by saying the success
124:55 - message inherits from the message but
124:57 - adds a background color and likewise the
125:00 - warning and error messages do the same
125:01 - thing but in a simpler syntax and a bit
125:04 - of a nicer syntax such that later we can
125:06 - let the computer take the SAS code and
125:09 - compile it into CSS instead
125:12 - and so those now are some of the
125:14 - fundamentals of what we've seen in
125:15 - building web programs using HTML and CSS
125:18 - we've seen how we can use HTML to
125:21 - describe the structure of our web page
125:22 - deciding what's going to show up where
125:24 - on the page and then we looked at CSS
125:26 - and how CSS can then be used to style
125:28 - our web page in various different ways
125:30 - adding custom styling like colors and
125:32 - layouts but also thinking about things
125:34 - like responsive design like what happens
125:36 - on a mobile screen or on a tablet and
125:38 - making sure that our web pages look good
125:40 - on those screens too and then finally we
125:43 - took a look at SAS in extension to CSS
125:45 - that adds a number of additional
125:46 - features features like variables and
125:48 - nesting and inheritance that make it
125:51 - even easier for us to be able to write
125:52 - style that we can apply to our web pages
125:55 - from there we're going to be
125:56 - transitioning now to looking at how we
125:58 - can use HTML and CSS in larger web
126:00 - applications as we begin to incorporate
126:02 - other tools tools like Python and
126:04 - JavaScript and other languages and
126:06 - Frameworks altogether so this is web
126:09 - programming with python and JavaScript
126:10 - we'll see you next time
126:14 - thank you
126:25 - [Music]
126:31 - all right welcome back everyone to web
126:34 - programming with python and JavaScript
126:35 - so last time we took a look at two
126:37 - languages HTML and CSS both of which can
126:40 - be used to design web pages HTML we used
126:43 - in order to describe the structure of
126:45 - web pages to decide what content we want
126:47 - in the layout of the page and then CSS
126:49 - we use to describe the style of the page
126:51 - what color we wanted things how much
126:52 - space we wanted to run things as well
126:54 - today we're going to turn our attention
126:56 - to a tool that we can use as we begin to
126:58 - develop these web applications and in
127:00 - particular we're going to be looking at
127:01 - a tool called git and what git is is it
127:04 - is a Version Control tool not specific
127:06 - to web programs necessarily but that
127:08 - we're going to use as we begin to
127:10 - develop bigger and more sophisticated
127:12 - web applications over the course of this
127:14 - term so what is git going to enable us
127:16 - to do well it's going to do a couple of
127:18 - things first and foremost what git is it
127:21 - is a command line tool that's going to
127:22 - allow us to First keep track of changes
127:25 - that we make to code so once upon a time
127:28 - the first time I was starting to develop
127:29 - web applications I remember working on a
127:32 - file and then when I wanted to make
127:33 - changes I might have wanted to save the
127:35 - old version so I would duplicate the
127:36 - file and then just make changes to the
127:38 - duplicate but this quickly gets messy
127:40 - especially if you have lots of different
127:41 - versions of your code in various
127:43 - different stages keeping track of them
127:45 - just starts to become a nightmare so
127:46 - what git is going to enable us to do is
127:48 - to keep track of changes that we make to
127:50 - our code so we might create a file
127:51 - initially save that version of it but
127:53 - over time as we make changes add to it
127:56 - remove things from it we can save
127:58 - snapshots so to speak of various
128:00 - different parts of our code at different
128:02 - points in time such that we can quickly
128:04 - and easily reference all of those
128:06 - changes that we've made to that code
128:08 - additionally git is going to make it
128:10 - easy for us to synchronize code between
128:12 - different people in larger scale web
128:14 - applications it's rarely just one person
128:16 - who's working on the entire application
128:18 - usually you're working with a co-worker
128:20 - or multiple co-workers all in the same
128:22 - application and all at the same time and
128:24 - one definitely tricky part of this
128:26 - process is figuring out how to
128:28 - synchronize your work between different
128:29 - people if I make a change on my part of
128:31 - the web application I want to make sure
128:33 - that my colleagues are also able to see
128:35 - those changes and get access to the
128:37 - latest changes that I've made and then I
128:38 - want to be able to get access to the
128:40 - latest changes that the people I'm
128:41 - working with have made too so we need
128:43 - some way to keep everything in sync and
128:45 - git is going to enable us to do that
128:46 - what we're going to effectively have is
128:48 - one version of the code stored in what
128:50 - we're going to call a repository
128:51 - somewhere online and both I and someone
128:54 - I'm working with a partner for example
128:56 - might both be able to get access to that
128:58 - exact same repository those same files
129:01 - in the same state and If Ever I and the
129:04 - other person make changes to those files
129:05 - we can each make changes to those files
129:07 - and then say synchronize them back up
129:09 - pushing them back up to the server so to
129:12 - speak so that the server will have the
129:13 - most recent most up-to-date version of
129:16 - this code then after that after we've
129:18 - both pushed our changes up to the server
129:20 - then we can both pull changes from the
129:23 - server so to speak in order to get
129:24 - access to the latest version of the code
129:26 - so that no matter what so long as I've
129:28 - been working on the same project that my
129:30 - partner has we can use git to
129:31 - synchronize our work so that I have
129:33 - access to my colleagues most recent
129:35 - changes and vice versa
129:37 - git also enables us to do a number of
129:39 - other things for example git allows us
129:41 - to test changes to our code without
129:43 - removing access to the original so for
129:45 - example you might imagine that as I'm
129:47 - working on writing a program I might
129:49 - want to try making some changes but I'm
129:51 - not sure if they're quite going to work
129:53 - so I want to test those changes but I
129:55 - don't want to lose access to my original
129:56 - working version of the program just in
129:58 - case something goes wrong so what git
130:00 - enables us to do is it lets us make
130:02 - changes to code on a separate Branch so
130:05 - to speak such that later once we're
130:07 - happy and satisfied with the changes we
130:09 - can merge those changes back into the
130:11 - original version of our code being able
130:13 - to test those changes before we're
130:15 - really sure that they're the ones that
130:16 - we want to make and finally one powerful
130:19 - feature that git gives us access to is
130:21 - the ability to revert back to old
130:22 - versions of our code so you might
130:24 - imagine in a situation where I've been
130:26 - working on some code and I realized that
130:27 - actually what I'm doing right now isn't
130:29 - what I want git enables us to say you
130:31 - know what this most recent change isn't
130:33 - something that I wanted I would like to
130:35 - revert back to a previous version of the
130:37 - code instead and git makes it very easy
130:39 - to go back to those previous versions
130:42 - so the goal for today is going to be to
130:44 - learn how to use this tool to learn the
130:46 - various different git commands that will
130:48 - be quite popular and quite common as you
130:50 - go about working on web applications or
130:52 - really any other code related project
130:54 - because Version Control really allows a
130:56 - number of useful features that are
130:58 - practical as you begin to work on larger
131:00 - and larger projects But ultimately as we
131:03 - begin working on these git projects they
131:05 - need to be stored somewhere online such
131:07 - that we're able to download them from
131:09 - anywhere such that me and a partner can
131:11 - both be working on the same files in the
131:13 - same code and so in order to do that we
131:15 - need to host our git code somewhere and
131:17 - there are a number of different websites
131:19 - that can do this but one of the most
131:20 - popular is a website known as GitHub
131:22 - GitHub is a website that stores git
131:24 - repositories where all a repository is
131:27 - is you can think of it as a folder that
131:29 - holds a whole bunch of code and files
131:31 - related to our code so we're going to
131:33 - host this code online on a website
131:35 - called GitHub and then on our computer
131:37 - we'll be able to access these GitHub
131:39 - repositories and manipulate those
131:41 - repositories by changing the files that
131:43 - are within them so let's go ahead and
131:45 - take a look at GitHub and see how we can
131:47 - go ahead and create our very first
131:49 - GitHub repository
131:51 - if you don't already have a GitHub
131:52 - account you can create one by going to
131:54 - github.com and signing up for an account
131:55 - for free and I'll now go to github.com
131:59 - new github.com new is the page I go to
132:03 - if I want to create a new GitHub
132:05 - repository and so let's take a look at
132:08 - what I need to do in order to create a
132:10 - repository the first thing I need to do
132:12 - is give my repository a name so in this
132:15 - case I'm just going to call the
132:16 - repository hello we can give it any name
132:18 - you want so long as that name doesn't
132:20 - collide with other repository names that
132:22 - you already have
132:23 - GitHub optionally lets me provide a
132:25 - description for this repository I'll
132:27 - just say web programming with python and
132:30 - JavaScript
132:31 - and then GitHub gives me the choice do I
132:33 - want this to be a public repository such
132:35 - that anyone can see the repository not
132:37 - everyone can necessarily make changes to
132:39 - it but it's publicly available if anyone
132:41 - wants to download my code and try it out
132:43 - public means that anyone can access it
132:45 - or private meaning by default only I can
132:48 - see this repository but I can choose if
132:50 - I would like other people to be able to
132:51 - see it as well and I can select which
132:53 - individuals for now I'll go ahead and
132:55 - make this repository public and I'll go
132:57 - down here and click on the green create
132:59 - repository button in order to make this
133:01 - new Repository
133:03 - so I click the create repository button
133:05 - and here it is this is the github's
133:07 - repository page and right now you'll
133:09 - notice that there's a lot of
133:10 - instructions here but there are no files
133:13 - because right now when I first created
133:14 - my first git repository I got an empty
133:17 - repository with nothing in it so what
133:19 - I'd like to do now is somehow download
133:21 - this repository onto my own computer
133:23 - such that I can add say an HTML file
133:26 - that contains some HTML that I want to
133:28 - keep track of using git so how am I
133:31 - going to do that well in order to do
133:33 - that we're going to take a look at the
133:34 - very first git command that's going to
133:37 - be involved with Git which is known as
133:38 - git clone git clone is a command that we
133:41 - can run in order to take a repository
133:43 - from the internet and download it onto
133:45 - our own computer so you'll need to have
133:47 - git installed onto your computer you can
133:49 - install it on any Mac or PC or Linux
133:51 - machine and once you do what you're
133:53 - going to do is on your computer in the
133:54 - terminal you'll run git clone followed
133:57 - by the URL of the git repository that
134:00 - you're trying to download so you might
134:02 - imagine that here's your computer over
134:03 - here and up here is some server where a
134:06 - git repository is located GitHub for
134:08 - example is one such server but there are
134:09 - others as well and up there is the
134:11 - repository that potentially has files or
134:13 - maybe other folders with other files
134:15 - that contain the contents of the
134:17 - repository that you care about
134:18 - downloading
134:20 - so if I run git clone followed by the
134:22 - URL the repository I want the effect of
134:24 - that is that the repository and all of
134:26 - its contents get downloaded onto my
134:28 - computer such that I on my computer now
134:31 - have a copy of everything that was
134:33 - originally inside of that git Repository
134:37 - so now now that we know how to clone a
134:39 - repository let's actually try it we've
134:41 - just created a repository using GitHub
134:43 - and now let me go into my terminal and
134:45 - actually try to clone this repository so
134:47 - that I have a copy of it on my computer
134:49 - and I can begin to make some changes to
134:52 - it
134:52 - so I'll go into my terminal now and I'll
134:56 - go into my lecture one directory and the
134:58 - first thing that I'm going to need is
134:59 - I'm going to need the URL of the git
135:01 - repository so if I go back into GitHub
135:04 - what you'll notice is that it gives me
135:07 - an https Link in order to download my
135:10 - git repository so there are a couple of
135:11 - different ways that I can use to clone
135:13 - my repository of ways to authenticate
135:15 - myself one is using https which will
135:18 - eventually involve like a username and
135:19 - password that I'll have to type in in
135:20 - order to prove to get that these are my
135:23 - GitHub credentials alternatively
135:25 - familiar with SSH this is another method
135:27 - of authentication you can give GitHub
135:30 - your public SSH key in order to
135:32 - authenticate as well but no need to
135:34 - worry about that if you're not as
135:35 - familiar with that technology and the
135:37 - key here is that this URL is the GitHub
135:40 - URL that corresponds to my repository so
135:43 - I'm going to copy that URL
135:44 - and then inside of my terminal I'll type
135:47 - git clone and then I'll just paste in
135:50 - the URL that I would like to clone that
135:52 - contains that repository I'll go ahead
135:54 - and press return it says I'm cloning
135:56 - into a directory called hello and then
135:58 - it's saying you appear to have cloned an
135:59 - empty repository it's saying that's a
136:01 - warning but that's okay because I know
136:02 - that I've cloned an empty repository
136:04 - because the repository is brand new
136:06 - and now I can type the command LS in my
136:09 - terminal the ls command in the terminal
136:11 - stands for list and effectively what
136:13 - it's going to do is list all of the
136:15 - files that are currently inside of this
136:18 - directory all the files and folders that
136:20 - are inside of my lecture one directory
136:22 - where directory is just a fancy name for
136:24 - folder so I'll type LS and I see that
136:26 - all right I now have a folder called
136:28 - hello inside of my lecture one directory
136:31 - which I didn't have before I'll go ahead
136:33 - and move into this hello directory in
136:35 - order to change into a directory or
136:37 - folder you can use the CD command CD
136:40 - stands for change directory and so if I
136:42 - type CD hello I will now move myself
136:45 - into the hello directory and if I type
136:49 - LS you'll see that there's nothing
136:51 - inside of this hello directory right now
136:52 - because again this repository was empty
136:55 - I cloned it and there was nothing in it
136:57 - so now I'd like to actually put
137:00 - something in this repository the
137:01 - repository is only useful if I'm keeping
137:03 - track of my code and keeping track of
137:04 - the changes that I make to that code so
137:06 - I'll go ahead and actually try now to
137:09 - add some code to the repository the
137:11 - first thing I'll do is create a new file
137:13 - and we could create a new file just by
137:15 - opening up a text editor but on the
137:17 - terminal there's actually a command for
137:18 - creating a new file called touch so in
137:21 - the terminal I can type touch hello.html
137:25 - and what that's going to do is create a
137:28 - new file called hello.html and if I type
137:30 - LS I can see that indeed I do have a
137:32 - file called hello.html now inside of my
137:35 - hello directory
137:37 - Let Me Now open up this directory in the
137:40 - hello.html file inside of a text editor
137:43 - again I'm using vs code and let me now
137:45 - add just some text to hello.html on the
137:49 - status simple HTML page
137:51 - same thing we've seen before where I
137:53 - give it a header a title will be hello
137:55 - and inside the body of the page will be
137:57 - hello world same HTML page we've seen a
138:00 - number of times now and now just now
138:03 - inside of this Repository
138:05 - of course I haven't yet made any saving
138:08 - to this repository I haven't said that I
138:10 - want to save these changes to the
138:11 - repository and the repository isn't
138:13 - keeping track of every single character
138:15 - I write I need to tell git that this is
138:18 - a state of my current files that I would
138:20 - like to keep track of something that I
138:22 - would like to save and in the world of
138:24 - git we call those save points commits
138:26 - when I say I am making a commit I mean I
138:29 - would like to save the current state of
138:31 - all of the files and folders and other
138:32 - assets that exist inside of the
138:33 - repository and basically take a snapshot
138:36 - of their current position such that
138:38 - later I might be able to refer back to
138:40 - that but in order to do that there are
138:42 - actually a couple of steps
138:44 - so the first step we need to follow is
138:46 - an additional command so we saw that git
138:47 - clone was the command we could use in
138:49 - order to clone a repository take a
138:51 - repository and download it onto our own
138:53 - computer the next command we'll take a
138:55 - look at is a command called git add and
138:58 - what git add is going to do is it's
139:00 - going to let us tell git that I would
139:02 - like to add a file as one to track the
139:06 - next time I save the next time I make a
139:08 - commit to say that I would like to take
139:10 - a snapshot of all these files such that
139:12 - I'm able to refer back to them later in
139:14 - order to do that I need to tell git what
139:16 - files to keep track of so if for example
139:19 - I'm keep working on this file and I'd
139:21 - like to tell git that I'd like to track
139:22 - it I can run a command like git add
139:25 - followed by the name of the file like
139:27 - foo.pi or HTML or whatever file it
139:30 - happens to be and then git will display
139:31 - a message saying that all right now we
139:34 - have added food.pi this is now a file
139:36 - that will be saved the next time I make
139:39 - a commit so why are these two separate
139:42 - steps well one reason you might imagine
139:43 - is that if I'm working on a lot of
139:45 - different files say I'm working on 10
139:47 - different files and there are only three
139:49 - that I'm happy with three that I want to
139:51 - save I don't want to just say save and
139:53 - have everything be saved in a commit I
139:55 - might want to say that you know what
139:56 - these are the only three files that I
139:58 - actually want to save right now and the
140:00 - other ones I'm still working on so git
140:02 - gives us that ability to have the
140:04 - separation to say let me explicitly say
140:06 - that I want to track this file the next
140:09 - time I save the next time I make a
140:10 - commit and not all of the files for
140:13 - example so there are shortcuts we can
140:14 - use if we do want to add all of the
140:16 - files and we'll see those in a moment as
140:18 - well so let's go ahead and try that
140:20 - we'll go back to our repository where
140:22 - I've created this hello.html file and
140:25 - now what I'd like to do is say that I
140:27 - would like to add the hello.html file to
140:29 - my git repository so inside of my
140:32 - terminal
140:33 - I'll now say again I have a hello.html
140:36 - file here I'll say git add
140:39 - followed by hello.html
140:42 - and you'll notice that so far nothing
140:44 - seems to have happened because so far I
140:46 - haven't yet saved anything I've just
140:48 - said that I would like to add hello.html
140:51 - as a file that the next time I say save
140:53 - the next time I commit my repository it
140:56 - is going to keep track of the changes I
140:58 - have now made to hello.html so how do I
141:01 - actually make a commit how do I actually
141:03 - say save the state of these files well
141:05 - that's going to be one more git command
141:06 - which is known as git commit when I say
141:09 - git commit I am going to tell my git
141:11 - repository that I would like to save a
141:13 - snapshot of the current state of the
141:15 - repository keeping track of any of the
141:17 - changes that have been made to files
141:18 - that I've added using git add and the
141:21 - way we run it is by running git commit
141:23 - followed by Dash M and then in quotation
141:26 - marks a message and this message is
141:28 - known as a commit message and what it is
141:30 - is it a description in English or
141:33 - whatever your language is of what
141:35 - changes you've made in this most recent
141:37 - commit because over time as you work on
141:39 - a big project you're probably going to
141:41 - make lots of commits as you make lots of
141:43 - changes to your program you'll commit
141:44 - and commit again after each new addition
141:46 - you make to the project and you might
141:48 - want to refer back to a previous commit
141:50 - but it's only valuable to do so if you
141:52 - can identify in which commit you made a
141:54 - particular change for example so by
141:56 - providing some English message just some
141:58 - note to yourself such that later you can
142:00 - refer back to all your commit messages
142:02 - and know that all right at this point in
142:04 - time in this Commit This is the change
142:06 - that I made that can just make it easier
142:07 - to keep track of all the changes that
142:09 - you've made to a particular git
142:11 - Repository
142:12 - so when you type git commit followed by
142:15 - Dash M you might include a message
142:16 - something like I added a new line for
142:18 - example and when you do git is going to
142:20 - save a new snapshot of a version of your
142:23 - code right now keeping track of the old
142:25 - version or old versions that used to
142:27 - exist there inside of the Repository
142:30 - so let's try and actually make a commit
142:32 - now and see how that's actually going to
142:34 - work so we've already added the file as
142:36 - by running git add to say add the
142:38 - hello.html file as one to keep track of
142:41 - but now when we're happy with it and we
142:43 - could make additional changes to the
142:44 - file if we want to
142:46 - I can go back into the terminal and now
142:48 - say git commit and then Dash m
142:52 - and then I can specify the commit
142:54 - message some English description of what
142:56 - it is that I did in this most recent
142:58 - commit and what I did was I
143:01 - um added the
143:03 - hello.html file so I'm just going to say
143:05 - I added the hello edited HTML file that
143:07 - was the change I made in this most
143:09 - recent commit I'll go ahead and press
143:11 - return
143:12 - and here's what it's telling me it's
143:14 - telling me one file has been changed
143:16 - with nine insertions so git keeps track
143:19 - of changes in terms of how many lines
143:21 - have been added or inserted and how many
143:23 - lines have been deleted or removed and
143:25 - in this case it's telling me there have
143:27 - been nine insertions to one file because
143:29 - previously the file didn't exist and now
143:31 - a file that has nine lines does exist
143:34 - and now I have saved hello.html to this
143:37 - git Repository
143:39 - so now you might imagine if I go back to
143:40 - my git repository on github's website
143:43 - and refresh it that maybe I'll see that
143:45 - hello.html file better refresh and all
143:48 - right nothing happened nothing changed I
143:50 - don't see my hello.html file and that's
143:53 - because there's one final step here I'm
143:55 - missing before my changes are going to
143:57 - be reflected online recall that when I
143:59 - ran the get clone step in order to clone
144:02 - the repository from GitHub GitHub had a
144:05 - version of the repository and Iran git
144:07 - clone to download a copy of that
144:08 - repository onto my own computer and when
144:11 - I ran git add to add the hello.html file
144:14 - or I ran git commit to say I would like
144:16 - to save these changes I was always
144:18 - making those changes only to my local
144:20 - version of the repository I was never
144:22 - affecting anything that was already on
144:24 - GitHub the changes I was making were
144:26 - only happening on my own computer if I
144:29 - want to push those changes up to GitHub
144:30 - then I'm going to need some additional
144:32 - commands and in fact we can see what's
144:34 - currently going on inside of my
144:36 - repository using a command called git
144:38 - status and what git status will do is
144:40 - it'll tell us what's currently happening
144:42 - inside of my repository so for example
144:45 - if I were to in this current state run
144:47 - the command get status then git is going
144:50 - to report back to me and tell me that I
144:52 - am currently on Branch Master more on
144:55 - branches later but then I'm saying my
144:57 - branch is ahead of origin Master by one
145:00 - commit so this is a long-winded way of
145:03 - saying that my local version of the
145:05 - repository the version of the repository
145:06 - on my computer is ahead of the origin
145:10 - version of the repository the version of
145:12 - the repository that's up on GitHub by
145:14 - one commit that I have one commit that
145:17 - the origin GitHub does not have and it's
145:20 - helpfully telling me I can use the
145:21 - command git push to publish your local
145:24 - commits get push is a command that I can
145:26 - use in order to say I would like to take
145:28 - my changes and actually push them up to
145:30 - the server push them up to GitHub so
145:32 - that they're reflected there so after
145:34 - we've checked our current status with
145:35 - Git status we can use the command git
145:37 - push to say that now whatever changes
145:40 - that I've made when I run git push those
145:43 - changes
145:44 - get pushed up to GitHub so GitHub has
145:46 - access to all of the commits that I have
145:48 - now made
145:49 - so let's try those two commands now get
145:51 - status to see what's currently going on
145:53 - inside of my repository and then get
145:56 - push to say I would like to now push
145:58 - those changes to GitHub so that the
146:00 - online version of the repository has the
146:02 - same contents as the local version on my
146:04 - own computer
146:06 - all right so in my terminal now I can
146:08 - run git status and I see that I'm on
146:10 - Branch Master same as before and it's a
146:12 - slightly different message because
146:13 - there's nothing currently inside the
146:14 - repository but the key here is that now
146:16 - I can run the command git push to say
146:19 - take all of the changes that I have made
146:21 - to my repository and go ahead and push
146:23 - them up to GitHub so I'll type git push
146:26 - and what's going to happen is it's going
146:28 - to compress all the information and it's
146:30 - going to push it up to GitHub to this
146:32 - URL and now if I go back to github's
146:35 - website github.com my repository and
146:38 - refresh the page
146:40 - I'll see that I do actually now see
146:41 - something different and so this is what
146:43 - github's user interface actually looks
146:45 - like it gives me a few pieces of
146:47 - information it's telling me for example
146:49 - that there's one commit currently made
146:50 - to the repository that's the one I just
146:52 - made that is on one branch so far I've
146:54 - only created one branch the default one
146:56 - but we'll see how to create more
146:57 - branches later and in particular down
146:59 - below you'll see the files that
147:01 - currently exist inside of this
147:03 - repository that right now I have this
147:04 - hello.html file which is the one that I
147:07 - pushed and in particular next to it is
147:09 - the commit message the message from the
147:12 - most recent time that I touched this
147:13 - file which is in particular telling me
147:15 - that I added the hello.html file in the
147:19 - most recent commit that affected
147:20 - hello.html
147:22 - and if it were not I didn't out a click
147:24 - on hello.html to actually see what's
147:26 - inside of it I would see
147:28 - the same content that I wrote in that
147:30 - file before I see doctype HTML and then
147:32 - the hello world page that we've seen a
147:35 - couple of times now so I made the change
147:36 - on my own computer and I've now pushed
147:39 - them up to GitHub so they're now inside
147:40 - of this repository that's now public
147:42 - such that anyone else if they wanted to
147:44 - collaborate on this project could take
147:46 - this URL clone it to their own computer
147:48 - and make their own changes locally as
147:50 - well
147:51 - and so now we can explore how we might
147:53 - be able to make additional changes to
147:55 - this web page as well so if for example
147:58 - I wanted to add a heading to this
148:00 - webpage for instance I might at the top
148:02 - of the body say something like in an H1
148:05 - tag uh welcome
148:07 - to my website
148:10 - and now if I you know just for good
148:11 - measure open up hello.html see what it
148:13 - looks like this is what my web page now
148:16 - looks like
148:18 - and now I've made changes to my
148:20 - hello.html file changes that have not
148:22 - yet been saved and I can tell that if I
148:24 - run git status git status is your go-to
148:27 - for telling you what's currently going
148:28 - on inside of your repository so here we
148:31 - see changes not staged for commit which
148:34 - is a fancy way of saying files that have
148:37 - been changed but I haven't said I would
148:39 - like to keep track of them in the next
148:40 - commit it's telling me that I've
148:42 - modified hello.html but it's not
148:45 - something that git is currently going to
148:46 - keep track of the next time I make a
148:48 - save so if I want to save hello.html
148:51 - when I commit for the next time then
148:53 - I'll first need to run gitad
148:55 - hello.html and then I could run git
148:58 - commit but there's actually a bit of a
149:00 - shorthand here if you want to add all of
149:02 - the files that have been changed and
149:04 - commit at the same time the shorthand is
149:06 - git commit Dash am remember before we
149:10 - just use Dash M to say specify a message
149:12 - Dash am means git commit all of the
149:15 - files that have been changed a for all
149:17 - and also provide a message so you can
149:19 - combine the get add step and get commit
149:22 - step into just a single step by saying
149:24 - I'd like to commit all of the files that
149:25 - I've changed and then I'll provide a
149:27 - message what exactly did I change I
149:30 - added a headache
149:32 - I'll go ahead and press return it's kept
149:35 - track of the fact that I've now changed
149:36 - one file with one insertion all I did
149:39 - was add one new line to that file
149:41 - and now if I run git status it's going
149:44 - to tell me I'm on Branch master and I am
149:46 - ahead of origin Master origin Master
149:49 - being the version on GitHub by one
149:51 - commit that I have this add a heading
149:53 - commit but right now on GitHub if I
149:56 - refresh this page
149:57 - it's still showing the old version of
150:00 - that page
150:02 - in order to take my changes that I've
150:03 - made on my computer and make sure
150:05 - they're updated on GitHub I can just run
150:07 - git push to say push those changes up to
150:10 - GitHub and once that's done I can now
150:12 - refresh the page on GitHub and I'll now
150:14 - see that GitHub now has the latest
150:16 - version of my program as well it now has
150:19 - this H1 it says welcome to my website
150:23 - so that's git push now the ability for
150:25 - me to say I would like to make the take
150:27 - the changes that I have made to the my
150:29 - repository and push them up to some
150:32 - remote server the remote server on
150:33 - GitHub for example but we can also go in
150:36 - the opposite way you might imagine that
150:38 - maybe the version that's up on GitHub is
150:41 - more recent than the version that I have
150:42 - on my computer and in that case I would
150:44 - like to download the latest version of
150:46 - the repository that currently exists on
150:49 - GitHub and in order to do that we can
150:51 - use a command called git pull how does
150:53 - that work well when I run gitpo what's
150:56 - going to happen is the opposite of what
150:58 - get pushed it well git push took my
151:00 - changes on my computer and pushed them
151:02 - up to GitHub git pull will say take the
151:05 - changes that currently exist on GitHub
151:06 - and go ahead and pull the most recent
151:08 - changes down so that I and my local
151:11 - version of the repository have access to
151:13 - the latest version of all of the code
151:15 - that is currently on GitHub
151:17 - and we can demonstrate this for example
151:19 - if I go back and take a look at github's
151:21 - website itself because on GitHub I
151:24 - actually have the ability to edit files
151:25 - using github's interface
151:27 - so I'm going to simulate like someone
151:29 - else working on this project for example
151:30 - maybe someone else added a second
151:33 - heading so they add an H2 that says
151:37 - hello for example
151:40 - and then they can provide a commit
151:43 - message this is sort of a graphical
151:44 - equivalent to the dash M and then a
151:47 - message that we provided before they can
151:49 - say added H2
151:52 - and then commit
151:55 - so this is another way to edit a git
151:57 - repository is by literally adding it in
152:00 - editing it inside of github's interface
152:02 - so GitHub allows you to just edit a file
152:04 - and then add or modify any of the lines
152:07 - there
152:07 - so now the version on GitHub is actually
152:10 - different from the version that we have
152:12 - on our computer that if we look at
152:14 - hello.html here I only see the H1 and I
152:18 - don't see the H2 that was just added
152:20 - because it's a more recent commit that I
152:22 - don't yet have access to
152:23 - but if I want to download that commit
152:25 - then what I can say
152:27 - is inside my terminal I can say git pull
152:30 - in order to download it
152:32 - and all right it's updated one file it's
152:35 - made some changes and so now if I go
152:38 - back to the file you'll notice that
152:40 - automatically I now have the latest
152:41 - version of the file I now have this H2
152:43 - that says hello because I've pulled the
152:46 - latest version of the file down from
152:48 - GitHub so via a combination of git push
152:51 - and git pull I can make changes to my
152:53 - code push them up to GitHub and also get
152:55 - access to the latest version of code
152:58 - that already is on GitHub
153:00 - but as we do this you might imagine that
153:02 - we could run into some sort of problem
153:04 - in particular we might run into a
153:06 - problem if I've been making changes to
153:08 - my code and some someone else working on
153:10 - my same project has also been making
153:12 - changes to the code what happens if we
153:14 - both make changes to the same part of
153:17 - the code and then try to sync up our
153:19 - work together what's going to happen
153:20 - well we're going to run into some sort
153:22 - of conflict because I've made changes to
153:25 - the same line that my colleague has been
153:26 - making changes to and that type of
153:28 - conflict is called a merge conflict that
153:30 - when trying to merge my changes with the
153:32 - changes that someone else has made we
153:34 - run into a situation where suddenly git
153:36 - doesn't know what to do there are two
153:38 - different sets of changes and we need to
153:40 - figure out how to resolve them and what
153:42 - to do when we run into this sort of
153:43 - conflict
153:44 - so here's what's going to happen if ever
153:46 - we run into this sort of merge conflict
153:48 - it's generally going to happen if I try
153:50 - and pull in or merge in some changes
153:52 - from elsewhere so let's say I run git
153:54 - pull but there's some conflicting commit
153:57 - something that is online that conflicts
153:59 - with my current version of the
154:00 - repository what I'll get is a message
154:03 - like this some conflict saying merge
154:05 - conflicts in some file have failed you
154:07 - need to fix the conflicts and then
154:09 - commit the results
154:11 - so what might those conflicts look like
154:13 - well generally the file is going to look
154:15 - a little something like this git is
154:17 - automatically going to add some metadata
154:19 - to the file to describe the things that
154:21 - it can't quite figure out and it's a lot
154:23 - of cryptic looking information but we
154:25 - can distill it down into a couple of Key
154:26 - Parts
154:27 - everything in between these arrows at
154:30 - the top and the equal signs here are
154:32 - your changes the changes I have made on
154:35 - my version of the repository that are
154:37 - somehow conflicting with some other
154:38 - changes
154:39 - everything between these equal signs and
154:42 - these arrows down here are the remote
154:44 - changes the changes from GitHub that I'm
154:46 - trying to pull in that somehow are
154:48 - conflicting with what I've currently
154:49 - been working on and then this sequence
154:51 - of numbers and characters here is the
154:54 - hash of the conflicting commit so every
154:57 - commit gets a hash just some sequence of
155:00 - numbers and characters that is likely to
155:02 - be unique that helps to identify any
155:04 - particular commit and git will
155:06 - automatically generate a hash every time
155:08 - you make a commit and we'll see in a
155:09 - moment how you can look at all of those
155:11 - possible commits but here git is just
155:14 - helpfully telling us this is the commit
155:16 - that is causing the conflict just for
155:18 - our own reference in order to address
155:20 - this merge conflict the way we do it is
155:22 - we first need to remove all of these
155:24 - merge conflict markers that exist in the
155:26 - text file and decide what we want what
155:29 - we want as the resolution of the
155:31 - conflict so maybe I want to keep my
155:33 - version of the changes maybe I want to
155:34 - keep the remote version of the changes
155:36 - the changes that were already on GitHub
155:38 - for example or maybe I want to combine
155:40 - them in some intelligent way I the
155:42 - programmer get to make that decision I
155:43 - get to look at my version and the
155:45 - conflicting version and decide how I
155:47 - want to resolve that conflict I'll
155:49 - remove any of the blank lines and then
155:51 - commit the changes to say this is what I
155:53 - want the merged version of this program
155:56 - to look like
155:57 - so let's now take a look at an example
156:00 - of emerge conflict in action to see how
156:02 - one might arise and how we might
156:03 - actually go going about dealing with a
156:06 - merge conflict should it happen
156:08 - so I on my computer now
156:10 - I'm going to make a change to this page
156:13 - I'm going to say add a second
156:15 - exclamation point one exclamation point
156:17 - wasn't enough I'll add in a second
156:18 - exclamation point to this H1 and I'll go
156:21 - ahead and commit those changes I'll say
156:23 - git commit Dash am ADD
156:26 - exclamation point
156:28 - and I'll go ahead and commit those
156:29 - changes I saved this new version of the
156:31 - program but I'm not going to push the
156:33 - code yet instead what I'm going to do is
156:36 - simulating someone else working on the
156:37 - same file maybe someone else on GitHub
156:39 - has decided you know what
156:41 - for this H1 what we'd really like to do
156:44 - is add some style to it with some inline
156:46 - Style by saying let's give it a color of
156:49 - blue for example
156:50 - so they've added some CSS
156:53 - we'll go ahead and write a commit
156:55 - message what did they do they added some
156:56 - style and we'll commit those changes
156:59 - and now what we've created is what is
157:02 - going to be a merge conflict that
157:04 - someone else on GitHub has made a change
157:07 - to this line changing the color to Blue
157:10 - of this particular H1 tag for example
157:12 - and I meanwhile have also made a change
157:15 - the same line adding an exclamation
157:17 - point and git entirely operates in terms
157:19 - of like adding lines and removing lines
157:21 - given that we both made changes to the
157:23 - same line git is going to have a very
157:25 - hard time figuring out what to do in
157:27 - this scenario
157:28 - so here in my terminal I'll go ahead and
157:31 - run git pull because I want to pull in
157:32 - those latest changes and when I do I'll
157:35 - see that all right I get this message
157:36 - conflict there was a merge conflict in
157:39 - hello.html the automatic merge failed
157:42 - because normally git will try to merge
157:44 - files automatically if it can but
157:46 - sometimes it can't so now
157:48 - I need to fix the conflicts and then
157:50 - commit the results
157:53 - so let's go ahead and look at what's
157:55 - inside of hello.html and what you'll
157:58 - notice is a whole bunch of these markers
157:59 - and my text editor just so happens to
158:01 - highlight them for me so that I can see
158:02 - them a little more clearly but this is
158:04 - just highlighting provided by the text
158:05 - editor it's not actually part of the
158:07 - text itself but you'll notice all of
158:09 - these arrows and then all of these equal
158:11 - signs and in between here's my version
158:14 - of this line of code the line of code
158:16 - with the extra exclamation point at the
158:19 - end of it
158:20 - down below here is the remote
158:22 - conflicting version of the same code the
158:25 - version that was modified on GitHub that
158:27 - I am now trying to pull in this is the
158:28 - version that says we want style color
158:30 - blue inside of the inline style for this
158:34 - particular H1 element and now what I
158:36 - need to do is somehow figure out how to
158:39 - merge these two together how do I want
158:41 - to resolve this conflict well in this
158:43 - particular case I might like to resolve
158:45 - this conflict by just taking the Best of
158:47 - Both Worlds if the person on GitHub
158:49 - wanted to add a style attribute to this
158:51 - H1 element and I wanted the extra
158:53 - exclamation point I can do both I can go
158:56 - ahead
158:57 - and just add an extra exclamation point
158:59 - and then get rid of my version
159:01 - and then also get rid of these commit
159:03 - markers so go ahead and remove those
159:06 - I basically modify the file until I'm
159:09 - satisfied with it until I think that all
159:11 - right this is the way I wanted to
159:12 - resolve the conflict one person added
159:14 - color one person added punctuation the
159:17 - way to resolve it in this case is just
159:18 - use both of them but here's where some
159:20 - human intuition comes in the human
159:22 - programmer does need to look at this
159:23 - file and figure out how exactly do we
159:26 - want to resolve this conflict how do we
159:28 - want to figure out how to take these
159:29 - different changes and merge them all
159:31 - together
159:32 - but once we're satisfied with it we can
159:35 - go ahead and commit the results I can
159:36 - say git commit Dash am fix merge
159:40 - conflict and all right we fix the merge
159:42 - conflict and now if I push those results
159:45 - back up to GitHub
159:49 - when that is done and I refresh the page
159:51 - I now see the updated line of code on
159:54 - GitHub with the H1 that has both the
159:56 - inline styling and the extra punctuation
159:59 - because I've resolved the merge conflict
160:01 - and then I've pushed that information
160:02 - back up to GitHub as well
160:06 - there are a couple of other git commands
160:08 - that are just useful to know about I
160:09 - mean there are many but we'll talk about
160:10 - a couple right now the first of which is
160:13 - git log git log is useful if you ever
160:15 - need to keep track of all of the changes
160:17 - that you've made to your code you want
160:18 - to keep track of all of the commits that
160:20 - have been made in this particular
160:21 - repository all you need to do is run the
160:24 - command git log and git will spit out a
160:26 - bunch of messages that look like this
160:28 - describing each of your commits for each
160:30 - commit it'll tell you what the commit
160:32 - hash is such that you can reference it
160:34 - more easily it'll tell you who made the
160:36 - commit it will tell you the date on
160:37 - which that commit was made and it will
160:39 - also tell you the commit message so if
160:41 - you need to very quickly look back and
160:43 - see you know on what day was this
160:45 - feature added or who added this part to
160:47 - the web page you can just look through
160:48 - the git log find the commit in question
160:50 - and then you'll know which commit it
160:53 - happened to be
160:54 - also helpful is if you realize that
160:56 - you've made a change that you didn't
160:57 - mean to and you want to go back to a
160:59 - previous commit then in that case you
161:01 - can use a command called get reset which
161:03 - has a number of different possible ways
161:05 - to use it but get reset in effect we'll
161:07 - take the current state of the repository
161:09 - and revert it back to an older state of
161:12 - the repository for example so a couple
161:14 - of ways you can use it are like this you
161:16 - can do get reset dash dash hard meaning
161:19 - hard reset reset everything back to and
161:22 - then you can plug in a commit hash so
161:24 - git log as you might recall from before
161:26 - gave you the commit hashments for each
161:28 - of the various different commits if I
161:30 - want to go back to one particular commit
161:32 - I can say get reset dash dash hard and
161:35 - then the commit message I want or the
161:36 - commit hash that I want to go back to
161:38 - and I'll go back to that commit
161:39 - alternatively I could say something like
161:41 - gitreset dash dash hard origin master
161:44 - and recall that origin Master is the
161:47 - version of my repository that's
161:49 - currently on GitHub so if I want to take
161:51 - my current version of the repository and
161:53 - reset it back to whatever's on GitHub
161:55 - then I can use a command like this in
161:57 - order to do so you run git reset
161:59 - followed by a commit hash and that will
162:01 - reset the current state of your
162:03 - repository back to whatever state it was
162:06 - in previously and there are a number of
162:08 - other git commands as well that can be
162:10 - quite helpful as you begin working with
162:11 - larger and larger project projects but
162:13 - these are some of the most helpful and
162:15 - some of the ones you'll use the most
162:16 - often are just adding files that you
162:18 - want to keep track of git commit to say
162:20 - I would like to make a save I would like
162:21 - to save the current state of all of
162:23 - these files push and pull to be able to
162:25 - upload changes and download changes that
162:28 - have made to been made to your
162:29 - repository and then some helpful
162:30 - commands like reset and log and status
162:33 - just to give you information about your
162:35 - repository and get you back to an older
162:37 - state of the repository if you need to
162:40 - but as we begin to work on more and more
162:43 - projects and especially as we begin to
162:44 - work on more sophisticated projects you
162:46 - may find that just keeping track of one
162:48 - change after another isn't nearly as
162:50 - powerful as you might like it to be and
162:52 - so we can explore what might happen in a
162:54 - hypothetical situation where you begin
162:56 - making some changes till we get
162:58 - repository for example so let's imagine
163:00 - you make your first commit you're making
163:02 - some changes you make some additional
163:03 - changes and maybe you realize you want
163:06 - to start working on a new feature to
163:08 - this web application that you've been
163:09 - working on so you start working on a new
163:12 - feature then you continue working on
163:13 - that new feature but then you realize
163:15 - suddenly you know what there was a bug
163:17 - in the original code that I made way
163:20 - back here and you want to go back and
163:21 - fix that bug but now we're sort of in a
163:23 - tricky spot that we want to fix the bug
163:25 - but we're in the middle of working on a
163:27 - new feature so what do we do we could go
163:29 - back to this and try and fix the bug but
163:31 - then what happens to the new feature the
163:33 - problem is that this structure just
163:35 - change after change after change is very
163:38 - linear it only goes one after another
163:40 - after another and oftentimes when you're
163:42 - working on a project it's not going to
163:44 - operate in a very linear fashion you're
163:46 - not always working on one thing that
163:48 - immediately follows the thing before it
163:49 - you might be fixing multiple bugs while
163:52 - working on multiple new features and you
163:54 - want some way of being able to work on
163:55 - all of those things simultaneously and
163:58 - to easily be able to switch between them
164:00 - and so that is where branching comes
164:03 - into handy branches are git's way of
164:05 - working on different parts of the
164:06 - repository at the same time and so you
164:09 - might imagine a situation unfolding more
164:11 - along these lines you make your first
164:13 - commit you start to make changes you
164:15 - make more changes and when you decide
164:17 - that you'd like to start working on a
164:18 - new feature for example
164:20 - rather than keep making changes in one
164:23 - after another after another on this same
164:25 - Branch so to speak I can create a new
164:28 - Branch I can Branch off and say you know
164:29 - what let's create a new branch and start
164:31 - working on a new feature there and then
164:34 - keep working on that new feature there
164:35 - and if I realize later on down the road
164:38 - that you know what there was a bug way
164:39 - back at this commit then I can go back
164:42 - to this commit and create a new Branch
164:43 - where I go ahead and fix that bug and
164:46 - now I have two different branches Each
164:48 - of which might have different code on it
164:50 - one of which I've been fixing a bug one
164:53 - of which I've been working on a new
164:54 - feature on for example
164:55 - generally each of those branches is
164:58 - going to have a name so the master
164:59 - branch is your default branch which is
165:01 - generally going to contain the
165:03 - up-to-date stable version of your code
165:05 - and as you're working on newer things
165:07 - newer additional features you might have
165:09 - some feature Branch where you're working
165:10 - on some other feature for example and at
165:14 - any given time though your focus is only
165:16 - on one of these two branches and where
165:19 - your focus is what the current state of
165:20 - your repository is is designated by
165:23 - something we call the head
165:25 - so if head is pointing to master that
165:27 - means your repository right now is
165:29 - working on this Branch where you fix the
165:31 - bug but you can change the head you can
165:33 - switch what brands you want to look at
165:35 - and you can check out the feature branch
165:37 - and say let's look at that branch and
165:38 - begin working on that as well and you
165:40 - can begin working on these different
165:42 - branches by switching where your head is
165:44 - switching from one branch to another and
165:47 - then back again and only when you're
165:48 - satisfied that you know what this bug is
165:50 - fixed and this feature is in a
165:52 - satisfactory place then after all of
165:54 - that we can merge those changes back
165:56 - together so that everything comes back
165:58 - onto this unified Master branch that now
166:01 - has all of the latest code
166:03 - and that's the real power of git
166:05 - branching this ability to say that I
166:07 - would like to be working on multiple
166:08 - things simultaneously and be working on
166:10 - a feature without disrupting the master
166:13 - version of the code
166:15 - so let's now take a look at an example
166:17 - of how we might go about doing that
166:21 - so here in my hello.html file I've been
166:24 - adding some style to this H1 I added a
166:27 - color of blue and let's say that I would
166:29 - like to make some changes I would like
166:31 - to move the styling outside of inline
166:34 - styling and I'd instead like to move it
166:37 - up into the head section on my web page
166:38 - because we decided earlier that with
166:40 - slightly better design for a web page
166:42 - like this
166:44 - I could make those changes immediately
166:45 - but I can instead it if I expect I might
166:48 - be working on multiple changes I could
166:50 - move on to a different branch and Branch
166:52 - off into something else in order to work
166:54 - on these new changes and so here are
166:56 - some of the key commands to know about
166:57 - this if I type git branch that will tell
167:01 - me what branch I'm currently on and what
167:03 - branches exist in my repository so here
167:06 - for example I type git branch and I see
167:08 - that I just have a single branch called
167:10 - master and the star on the left hand
167:12 - side tells me that this is the branch
167:14 - that I am currently on the only branch
167:16 - that there is
167:18 - if I want to check out a new Branch I
167:21 - can type git checkout and if it's a new
167:23 - Branch I'll type git checkout Dash B
167:26 - and then the name of the new branch and
167:29 - I'll call the new Branch style because
167:31 - I'm going to be making some style
167:32 - changes to the web page for example
167:34 - so I typed git checkout Dash b style and
167:37 - git gives me a message I have switched
167:39 - to a new branch called Style
167:41 - and now if I type git Branch again
167:44 - you'll see that now I have two branches
167:46 - I have the master branch which is the
167:48 - branch I was originally on and now I
167:50 - have the style branch which is this new
167:52 - branch which I am on now as indicated by
167:54 - the star on the left hand side
167:57 - so now that I'm on this new Branch I can
167:58 - feel free to make any changes that I
168:00 - want and nothing I do is going to mess
168:02 - up what is on the master Branch so long
168:04 - as I stay on this Branch so I can say
168:06 - all right let's experiment with removing
168:08 - the style
168:10 - and let's add a style tag to the top
168:11 - where I can say that I would like my H1
168:14 - to have a color of blue for example so
168:17 - I've made a whole bunch of changes and I
168:19 - would like to now commit those changes
168:20 - I'll say git commit move style
168:24 - properties
168:26 - that's the change that I've made but
168:28 - I've only made those changes to the
168:31 - style Branch again if I run git Branch
168:33 - you'll see that I'm currently on the
168:35 - style Branch where I've moved the style
168:37 - information up here to the top of my
168:39 - page
168:40 - but I can switch branches by using git
168:43 - checkout git checkout allows me to
168:45 - switch between branches we used git
168:47 - checkout B to create a new Branch but if
168:49 - you're switching to a branch that
168:50 - already exists I can just say git
168:53 - checkout Master for example to switch my
168:56 - current Branch from the style Branch to
168:58 - the master Branch so I run git checkout
169:00 - Master now I'm on the master branch
169:03 - and now you'll see if I go back to the
169:05 - file now I'm back to the inline styling
169:07 - without the styling up here in the head
169:10 - section of the page if I check out the
169:13 - style Branch again then the file
169:14 - immediately goes back now I have the
169:16 - style code up here in the style section
169:18 - of the page and not inline so these
169:21 - changes have only been made to one part
169:23 - of the page
169:24 - so now I'll check out Master again
169:28 - and maybe I want to make some other
169:29 - changes on my master Branch maybe I
169:31 - realize that I want to remove this extra
169:33 - punctuation you know what two
169:34 - exclamation points was too many we'll
169:36 - remove now we just have one
169:39 - and now I'll commit these changes I'll
169:40 - say git commit
169:42 - and remove punctuation
169:46 - and now I've removed the punctuation
169:48 - only from the master branch
169:51 - so this master Branch now has just a
169:53 - single exclamation point here but it
169:55 - still does have the inline styling
169:58 - so now what I'd like to do is merge in
170:01 - those changes that I made from the other
170:03 - Branch I'd like to take what I was
170:05 - working on in the style branch and merge
170:07 - it into this current version of the
170:09 - repository on my master branch and in
170:11 - order to do that the command we'll use
170:13 - is called git merge so git merge notice
170:17 - that I'm currently on the master Branch
170:19 - but if I run git merge and then Style
170:23 - that is going to take whatever's on the
170:25 - style branch and attempt to merge it
170:27 - into my current branch and what we'll
170:30 - find is we're able to get most of the
170:32 - way there but there's a merge conflict
170:34 - now this won't happen all the time when
170:36 - you merge sometimes git will be smart
170:37 - enough to know that if one change has
170:39 - been made to one part of a file and one
170:41 - change has been made to another part of
170:42 - a file when you merge those changes back
170:44 - together git will resolve those merge
170:46 - conflicts automatically but in this case
170:48 - that wasn't the case because both my
170:51 - style branch and my master Branch made
170:53 - changes to the same line of code and
170:56 - we'll see why if I go back here
170:58 - you'll notice that in the merged version
171:00 - we do see this style tag at the head of
171:03 - the page no problems no conflict there
171:05 - because that was just lines that have
171:07 - been added to this page so there was no
171:09 - conflict the conflict comes up here
171:11 - which is where in my version on the
171:14 - master Branch I remove this punctuation
171:16 - mark whereas in the version on the style
171:19 - branch which we can see here by the word
171:21 - style we removed the inline styling so
171:25 - we need to resolve these somehow and
171:27 - what I'll ultimately do
171:28 - is just get rid of these style markers
171:30 - or the conflict markers
171:33 - and say you know what I would like for
171:35 - the updated version not to have either
171:36 - not to have the inline styling and not
171:39 - to have the additional punctuation so I
171:41 - have now made those changes I have
171:43 - resolved the merge conflict and now I
171:45 - can commit
171:46 - I fixed the merge conflicts
171:50 - and that's the general workflow now of
171:52 - how branching in git ultimately works
171:54 - when you're working on something new
171:57 - you might Branch off in order to say you
171:58 - would like to work on a different part
172:00 - of this web application
172:02 - you'll make changes make commits add
172:04 - changes to that new branch and when
172:06 - you're satisfied with those changes when
172:07 - they're in the state that you want them
172:08 - to be you can then say merge them back
172:11 - in to the original version of the
172:12 - repository sometimes you'll have to deal
172:14 - with merge conflicts though certainly
172:16 - not always and if you're careful about
172:18 - where you make changes and trying to be
172:20 - careful not to make modifications to the
172:22 - same line of code in two different
172:23 - places you can reduce the likelihood of
172:26 - actually getting emerge conflict because
172:28 - git ultimately is quite smart about how
172:30 - it tries to deal with these sorts of
172:32 - issues
172:34 - and finally we'll take a look at a
172:36 - couple of features of GitHub
172:37 - specifically that can be quite helpful
172:39 - if you begin to work on larger projects
172:41 - that have many different moving pieces
172:43 - the first of which is forking a GitHub
172:46 - repository so let's go to a GitHub
172:48 - repository and look at the GitHub
172:51 - repository for bootstrap for example so
172:54 - bootstrap which is the CSS library that
172:57 - we took a look at
172:58 - last time is a library that gives us the
173:00 - easy access to a whole bunch of
173:02 - different CSS features and the entire
173:04 - thing is open source meaning all of the
173:06 - code for bootstrap is publicly available
173:08 - for anyone to look at and more
173:09 - importantly for anyone to contribute to
173:11 - that it's not just one person that's
173:13 - been working on all of bootstrap but
173:15 - it's a Community Driven repository that
173:18 - many people can be working on adding new
173:20 - features and making fixes to bootstraps
173:22 - code and collaborating on them by taking
173:24 - advantage of the features of git and
173:28 - so if you find a git repository that you
173:30 - would like to contribute to or if you
173:31 - want other people to be able to
173:33 - contribute to your repository one thing
173:35 - you can do is Fork that repository and
173:37 - by forking we mean making your own copy
173:40 - of the original repository and so up
173:42 - here in the upper right hand corner of
173:44 - github's page is a button called fork
173:46 - and we can see that right now about 68
173:49 - 000 people have already forked
173:51 - bootstraps repository made a copy of the
173:53 - repository into their own GitHub account
173:56 - and so we could Fork it ourselves just
173:58 - by clicking on this button called Fork
174:01 - and then getting our own version of the
174:03 - repository that we can then clone and
174:05 - push and pull from as well the reason we
174:08 - might do that is that bootstraps
174:10 - repository while it is public doesn't
174:12 - allow anyone to just push to it that
174:14 - would be probably unsafe if anyone in
174:16 - the world could just update bootstrap's
174:17 - master code but what you can do is copy
174:20 - the code make a fork of it make changes
174:22 - to it on your own push and pull to it
174:24 - and then when you feel like you've made
174:26 - a contribution that you would like to
174:27 - send back to bootstrap you can open
174:29 - What's called a pull request that you
174:32 - are requesting that your code be pulled
174:34 - in to bootstraps code and we can look
174:36 - for example at bootstrap's pull request
174:38 - tab
174:39 - it looks like right now there are 71
174:42 - open pull requests there are 71 people
174:45 - that have made some fixes or made some
174:47 - changes to bootstraps code and you can
174:49 - submit a pull request to say that you
174:51 - would like to take those changes and
174:53 - merge them back in with bootstrap's
174:55 - actual code and the people that maintain
174:57 - bootstraps code in this particular
174:58 - repository can review those pull
175:00 - requests provide feedback ask for
175:02 - additional changes and then when
175:04 - everyone's satisfied they can merge
175:05 - those changes into bootstrap's actual
175:08 - code and this is one of the key benefits
175:10 - of Open Source software the ability for
175:12 - multiple people to be working on the
175:15 - same piece of code and for a community
175:16 - to be able to collaborate on finding
175:18 - bugs on figuring out what changes to
175:20 - make on figuring out how to improve upon
175:23 - an existing repository and make it
175:25 - better moving forward
175:27 - and one final thing worth noting about
175:29 - GitHub is an additional feature known as
175:31 - GitHub Pages GitHub pages is a free way
175:34 - that GitHub provides to be able to
175:36 - quickly take a website with HTML and CSS
175:39 - and maybe even a little bit of
175:40 - JavaScript and deploy it to the internet
175:42 - for anyone to look at and anyone with a
175:44 - GitHub account is allowed to create a
175:46 - GitHub Pages website for free and in
175:49 - order to do so we can demonstrate it now
175:52 - all you need to do
175:53 - in GitHub is let's create a new
175:56 - Repository
175:57 - that we'll call it should generally be
175:59 - your
176:01 - username.github dot IO is the
176:03 - conventional name for your GitHub Pages
176:05 - site though it can have other names
176:07 - you'll just have to manually turn on
176:08 - GitHub pages
176:10 - and we'll go ahead and create this
176:12 - repository now if you create a GitHub
176:14 - repository called your
176:16 - username.github.io it will automatically
176:19 - be supporting GitHub pages and what that
176:21 - means is that I can take
176:23 - this URL and I can clone it so I can say
176:27 - git clone
176:29 - followed by this URL
176:31 - I've cloned an empty repository but I
176:34 - can go into this Repository
176:35 - and add some files to it I can say let's
176:38 - add
176:39 - by default it's called an index.html
176:42 - file
176:44 - and I'll create an HTML file
176:48 - that is my site and the body of it will
176:50 - just say
176:52 - this is my GitHub pages
176:55 - website
176:57 - so something like this something simple
176:59 - but it can certainly be more complex if
177:01 - you want it to be
177:03 - inside my terminal I will git add this
177:06 - index.html file and I'll make a commit
177:09 - and often a first commit you'll just in
177:11 - the commit message right first commit so
177:13 - that we know it was the first commit
177:15 - and then I'll push those changes to
177:18 - GitHub now
177:21 - so if you push your changes to a
177:23 - repository called your
177:24 - username.github.io
177:27 - then if you take a look at the settings
177:30 - and scroll down
177:31 - you'll see that GitHub pages is by
177:33 - default uh ready to be published
177:36 - and now if I click on this URL my
177:40 - username.github.io you'll see deployed
177:43 - to the internet such that anyone can go
177:45 - to this URL and see it they'll see a big
177:47 - heading that says this is my GitHub
177:49 - Pages website because this is the way
177:50 - the browser is rendering the HTML that I
177:53 - pushed to my GitHub Pages repository and
177:56 - the advantage of doing this is that it's
177:57 - very easy now to be able to quickly
177:59 - update my website all I need to do is if
178:02 - I make a new change I can commit that
178:03 - change push that change to GitHub and
178:06 - when GitHub detects that I've made a
178:07 - push to my GitHub Pages repository then
178:10 - it will update my website that anyone in
178:12 - the world can access by going to
178:15 - myusername.github.io and this allows you
178:17 - to leverage all of these features of git
178:19 - the ability to Branch the ability to
178:21 - work on different features of your web
178:22 - page at different times and revert back
178:24 - to different versions of the code as
178:27 - well
178:28 - so all in all git has given us a number
178:31 - of very powerful tools it's given us the
178:33 - ability now to be able to very quickly
178:35 - and very easily keep track of any
178:37 - changes we make to code keep track of
178:39 - when a piece of code is updated and to
178:41 - quickly revert back and look at old
178:42 - versions of that code if need beam and
178:44 - in particular it's given us the ability
178:46 - to take our code and work together with
178:49 - other people on it such that we can be
178:51 - working on multiple parts of the same
178:52 - project and someone else working on the
178:54 - same project can also be working on
178:56 - multiple parts of the same project on
178:58 - different branches and is very easy then
179:00 - to sync up our changes in order to work
179:02 - together and so git is a very popular
179:03 - tool used not only in the world of web
179:05 - programming but especially whenever
179:07 - dealing with any kind of larger project
179:08 - where multiple people might be working
179:10 - on the same thing simultaneously git
179:12 - will enable us to more easily develop
179:15 - our web applications over the course of
179:17 - this term next time we'll take a look at
179:19 - python which is one of the first
179:21 - programming languages that we'll use as
179:22 - we continue on our journey towards
179:24 - building more sophisticated web
179:25 - applications I'll see you then
179:29 - [Music]
179:39 - thank you
179:42 - [Music]
179:47 - all right welcome back everyone to web
179:49 - programming with python and JavaScript
179:51 - and today we take a look at one of the
179:53 - two main languages we're going to be
179:54 - looking at in this course in particular
179:56 - we're going to be looking at python pi
179:58 - very powerful language that makes it
180:00 - very easy to build applications quickly
180:03 - because there are a lot of features that
180:04 - are built into the language that just
180:06 - make it convenient for quick and
180:07 - productive development so one of the
180:09 - goals of today is to introduce you to
180:11 - the Python programming language if you
180:13 - haven't seen it before and even if you
180:14 - have seen it before to give you a taste
180:16 - for what the language has to offer
180:18 - exploring some of the more advanced
180:19 - features and some of the techniques we
180:21 - can use using python to be able to
180:23 - develop applications all the more
180:25 - effectively so we begin with our very
180:27 - first Python program just a program that
180:30 - says hello world we're going to be
180:31 - writing it in a text file and the
180:33 - program just looks like a single line
180:35 - just like this and if you've used other
180:37 - programming languages before like C or
180:39 - Java or other languages this probably
180:41 - looks pretty familiar syntax wise but
180:43 - just to break it down we have a function
180:45 - called print built into the Python
180:47 - programming language for us and like
180:49 - many other programming languages
180:50 - functions in Python take their arguments
180:53 - inside of parentheses so inside of these
180:56 - parentheses are the argument or the
180:58 - input to the print function which in
181:00 - this case is just the words hello world
181:02 - followed by an exclamation point
181:04 - so here's how we can actually take this
181:06 - program and run it I'm going to go into
181:08 - my text editor and create a new file
181:10 - that I'll call
181:13 - hello.py.py or dot Pi is the
181:16 - conventional extension for python
181:18 - programs so I'll create a file called
181:20 - hello.pi inside of which will just be
181:22 - the python code that we just saw a
181:24 - moment ago we'll call the print function
181:26 - and as an argument or the input to the
181:28 - print function I'll say hello world
181:32 - exclamation point
181:34 - now in order to run this program we're
181:37 - going to use a program in our terminal
181:39 - that also just so happens to be called
181:40 - python
181:42 - python is what you might call an
181:43 - interpreted language meaning we're going
181:45 - to run a program called python which is
181:47 - an interpreter that is going to read our
181:49 - DOT Pi file line by line executing each
181:52 - line and interpreting what it is that it
181:54 - means in a way that the computer can
181:55 - actually understand so we'll run python
181:58 - followed by the name of the program that
181:59 - we'd like to interpret in this case
182:01 - hello.pi and when we run this program we
182:04 - see that the words hello world are
182:06 - printed to the terminal and that's it
182:08 - that's the end of the program and that's
182:09 - the very first program that we've
182:11 - written using the Python programming
182:13 - language
182:14 - so now already we've seen a couple of
182:15 - features of python the ability to
182:17 - interpret python there's no need to
182:19 - compile it into a binary first in order
182:21 - to run a Python program we've seen
182:22 - functions and we've also seen strings
182:25 - just text that we can provide in
182:27 - quotation marks that we can provide as
182:28 - input to other functions or manipulate
182:31 - in other ways and we'll see some
182:32 - examples of string manipulation a little
182:35 - bit later
182:36 - like many other programming languages
182:37 - python also supports variables and in
182:40 - order to assign a new value to a
182:42 - variable the syntax looks a little
182:44 - something like this if I have a line
182:45 - like a equals 28 what that's going to
182:48 - mean is take the value 28 and assign it
182:51 - store it inside of this variable called
182:53 - a now unlike other languages like C or
182:56 - Java which you might be familiar with
182:58 - where you have to specify the type of
183:00 - every variable you create I have to say
183:01 - like int a to mean a is an integer
183:04 - python doesn't require you to tell you
183:06 - what the types of each of these
183:08 - variables actually are so we can just
183:10 - say a equals 28 and python knows that
183:12 - because this number is an INT that it's
183:14 - going to represent the variable a as an
183:17 - INT and it knows it's able to infer what
183:20 - the types of any of these values happen
183:22 - to be so all the values do indeed have
183:24 - types you just don't explicitly need to
183:27 - State them so for example this here the
183:29 - number 28 is of type int it's an integer
183:31 - a number like 1.5 has a decimal in it
183:34 - it's a floating Point number so that in
183:36 - Python is what we might call a float
183:37 - type any type of text something like the
183:40 - word hello wrapped in either double
183:42 - quotation marks or single quotation
183:44 - marks python supports both is what we
183:46 - would call the stir type short for
183:48 - string we also have a type for Boolean
183:50 - values things that can be either true or
183:53 - false in Python those are represented
183:55 - using a capital T true and a capital
183:57 - false those are of type Bool and also we
184:02 - have a special type in Python called the
184:03 - none type which only has one possible
184:05 - value this capital N none and none as a
184:08 - value we'll use whenever we want to
184:10 - represent the lack of a value somewhere
184:13 - so if we have a function that is not
184:14 - returning anything it is really
184:16 - returning none effectively and so you
184:18 - might imagine that none can be useful if
184:20 - ever you want a variable to represent
184:22 - the absence of something for example so
184:24 - lots of different possible types and
184:26 - there are more types than just this but
184:28 - here's a sampling of the possible
184:29 - variables and types that might exist
184:31 - inside of this language
184:34 - so now let's try and actually use a
184:36 - variable in order to do something a
184:38 - little bit more interesting inside of
184:39 - our program and we'll write a program
184:41 - that's able to take input from the user
184:43 - in order to say hello to them for
184:46 - example so I'll create a new file
184:48 - we'll call it name dot pi
184:52 - and to start I'd like to prompt the user
184:54 - for input I'd like to prompt the user to
184:55 - for example type in their name
184:58 - so how might we do that well just as
185:00 - there is a print function that is built
185:03 - into python that just prints out
185:04 - whatever the argument happens to be
185:06 - python also has a built-in function
185:08 - called input that prompts the user for
185:11 - input and asks them to just type in some
185:12 - input so let's provide some input and
185:15 - ask the user to type in their name for
185:18 - example
185:19 - and then we can save the result the
185:21 - output of that function inside of a
185:23 - variable and in this case I'll save it
185:25 - inside of a variable that in this case
185:27 - also just happens to be called name
185:30 - now we can run the program I can run the
185:32 - program by going into my terminal and
185:34 - typing python name.pi
185:36 - I'll press return and we'll see the
185:38 - program prompts me to type in my name I
185:40 - see Name colon space which is that
185:43 - string I provided as the argument to the
185:45 - input function and this now prompts me
185:47 - to type in my name so I will
185:49 - and after that nothing seems to happen
185:51 - so far so now I'd like to do something
185:53 - with that input I typed in my name I'd
185:55 - like to say like hello for example to
185:57 - myself
185:59 - so I'll go back into this program and
186:01 - now what I can do is I can say print
186:04 - hello comma and then I can say plus name
186:09 - this plus operator in Python does a
186:10 - number of different things if I have two
186:12 - numbers it'll add those two numbers
186:13 - together but with two strings plus can
186:16 - actually concatenate or combine two
186:18 - strings together so I can combine hello
186:20 - comma space with whatever the value of
186:23 - name happens to be
186:25 - so now I'll rerun this program
186:27 - python name dot pi
186:30 - type in my name
186:32 - and now we see Hello Brian as the output
186:35 - of the program
186:36 - so this is one way that you can
186:38 - manipulate strings in Python
186:41 - another way that's quite popular in
186:42 - later versions of Python 3 is a method
186:45 - known as using F strings short for
186:47 - formatted strings and in order to use f
186:49 - strings in Python it's going to be a
186:51 - similar but slightly different syntax
186:53 - instead of just having a string in
186:55 - double quotation marks we'll put the
186:57 - letter F before the string
187:00 - and inside of the string I can now say
187:02 - hello comma and then if in a formatted
187:05 - string if I want to plug in the value of
187:07 - a variable I can do so by specifying it
187:10 - in curly braces so what I'll say here is
187:13 - inside of curly braces name
187:16 - and so what's going on here is I am
187:18 - telling this formatted string to
187:20 - substitute right here the value of a
187:22 - variable so I prompted the user for
187:24 - input to type in their name we took
187:26 - their name saved it inside of this
187:28 - variable called name and now here in
187:30 - this print statement on line two I'm
187:32 - printing out a formatted string that is
187:35 - hello comma and then in curly braces
187:37 - here I'm saying Plug In the value of the
187:40 - variable name and so that is going to
187:42 - have the effect of taking whatever name
187:44 - was provided as input and printing it
187:46 - out and this is a slightly more
187:47 - efficient way of being able to quickly
187:49 - create strings as by plugging in values
187:52 - into those strings so now I'll see the
187:54 - exact same behavior if I run python name
187:57 - dot pi then prompted to type in my name
188:01 - something like Brian and then I see the
188:03 - result hello Brian for example
188:05 - and so those are a couple of ways that
188:06 - we can deal with strings manipulating
188:08 - strings and combining strings using this
188:11 - technique
188:13 - so in addition to variables python also
188:15 - supports all the same other features
188:17 - that are core to many procedural
188:18 - programming languages such as conditions
188:20 - for example so let's take a look at an
188:22 - example now of seeing whether a number
188:25 - is positive or negative or zero for
188:29 - example so I'll create a new file then
188:31 - I'll call conditions.pi
188:33 - and inside of conditions.pi I'll first
188:36 - prompt the user to type in some input
188:38 - I'll say input
188:40 - number to mean you know type in a number
188:43 - and we'll save that input inside of a
188:45 - variable that I'm just going to call n
188:48 - and now I can ask questions I can say
188:51 - something like if n is greater than zero
188:55 - then print and
188:57 - is positive
188:59 - and so what's going on here is I have a
189:01 - python condition and the way a python
189:03 - condition works is it begins with this
189:05 - keyword a keyword like if
189:07 - followed by a Boolean expression some
189:10 - expression that's going to evaluate to
189:11 - true or false or something kind of like
189:13 - true or false we can be a little bit
189:15 - loose about that as we may see later and
189:17 - then a colon means all right here is the
189:19 - beginning of the body of the if
189:21 - statement and in Python the way we know
189:24 - that we're inside the body of an if
189:25 - statement or inside the body of any
189:27 - other block of code is via indentation
189:29 - so in some languages like C or in
189:32 - languages like HTML which we saw a
189:34 - couple of lectures ago the indentation
189:36 - isn't strictly required by the computer
189:38 - to be able to parse and understand
189:40 - what's inside the program in Python it's
189:42 - different the indentation is required
189:45 - because the indentation is how the
189:47 - program knows what code is inside of the
189:49 - if statement and what code is outside of
189:52 - the if statement
189:53 - so we have if n is greater than zero
189:55 - colon and then everything indented
189:57 - underneath the f is all of the body of
190:00 - the if statement it is the lines of code
190:01 - that we'll execute if this condition
190:03 - this Boolean expression n greater than
190:06 - zero happens to be true so if n is
190:08 - greater than zero we'll print out n is
190:10 - positive
190:12 - and then we can add an additional
190:14 - condition I can say something like well
190:17 - I could say something like else print n
190:19 - is not positive
190:22 - but I can be a little bit more specific
190:23 - than that here is sort of two branches
190:25 - one if n is greater than zero and one
190:28 - else case to handle all of the other
190:30 - possible scenarios but really what I'd
190:32 - like to do is perform a second check in
190:34 - other languages this might be called an
190:36 - else if like if this condition is not
190:38 - true but this other condition is true
190:40 - python abbreviates this to just L if
190:44 - e-l-i-f just short for else if
190:46 - so I can say l if n is less than zero
190:51 - then let's go ahead and print out n is
190:53 - negative
190:54 - and else
190:55 - print n is zero
191:00 - so the idea here now is that if n is
191:02 - greater than zero we perform some task L
191:04 - if in other words if it's not greater
191:06 - than zero then we check to see if it is
191:08 - less than zero in which case we print
191:10 - out that n is negative else if neither
191:13 - of those two conditions are true it's
191:14 - not positive and it's not negative the
191:16 - only remaining possibility is that n is
191:18 - 0 so we can print out that n is zero and
191:21 - so we might like for this program to
191:23 - work but watch what happens if I now try
191:25 - and run conditions.pi even though
191:27 - logically in our heads and looking at it
191:28 - now it probably seems pretty logical
191:31 - if I run
191:32 - pythonconditions.pi and type in a number
191:34 - I'll type in the number five for example
191:37 - we'll just see what happens all right
191:39 - something weird just happened and this
191:41 - is our very first python exception an
191:44 - error that happens because something
191:45 - didn't quite go right inside of our
191:47 - Python program and over time you'll
191:49 - begin to learn how to parse this
191:51 - exception and understand what it means
191:53 - and where to begin to debug but learning
191:55 - how to read these exceptions and figure
191:56 - out how to deal with them is definitely
191:58 - a very valuable skill on your way to
192:00 - becoming a python developer and so let's
192:02 - see if we can figure out what this
192:03 - exception is saying oftentimes I start
192:06 - by looking at the bottom I see that
192:07 - there is a type error that is the type
192:10 - of the exception that has happened there
192:11 - are a lot of exceptions that can go
192:13 - wrong in Python things that we can do
192:14 - that cause errors in this case it's a
192:16 - type error which generally means that
192:18 - there's some mismatch of types that
192:21 - python expected something to be of one
192:23 - type but it turned out to be a different
192:26 - type so let's try and understand what
192:28 - this might be where it says greater than
192:30 - sign not supported between instances of
192:33 - stir short for string and int
192:36 - so what does that mean well I guess it
192:39 - means that the greater than symbol that
192:40 - checks if one thing is greater than
192:42 - another doesn't work if you're comparing
192:44 - a string to an integer and that's
192:47 - probably pretty reasonable it doesn't
192:48 - really make sense to say a string is
192:50 - greater than or less than an integer
192:52 - when we're talking about greater than or
192:53 - less than usually we're talking about
192:55 - numbers so they should both be integers
192:57 - for example so why do we think that
192:59 - greater than is comparing a string and
193:01 - an integer well now we can look a little
193:03 - bit further up at the traceback which
193:05 - will show which parts of the code are
193:07 - really causing this problem and in this
193:09 - case the traceback is pretty short it's
193:11 - just pointing me to a single line of a
193:13 - single file it's saying in the file
193:15 - conditions.pi on line three
193:18 - here is the line that triggered the
193:20 - exception if n is greater than zero so
193:24 - what's the exception here well zero is
193:26 - obviously an integer because that just
193:28 - is an integer and so if greater than
193:30 - thinks that it's comparing a string with
193:31 - an integer then n somehow must be a
193:34 - string even though I typed in the number
193:35 - five it must still think N is a string
193:39 - so why might that be let's take a look
193:41 - at the code again and see if we can
193:42 - figure out what's going on
193:44 - well it seems that this input function
193:46 - doesn't care what you type in it's
193:49 - always going to give you back a string n
193:52 - somehow is ending up as a string which
193:54 - is pretty reasonable because the input
193:55 - function has no idea whether I typed in
193:57 - a number or whether I typed in a letter
193:59 - or I typed in other characters
194:00 - altogether so input doesn't know to give
194:03 - back its data in the form of an INT or
194:05 - in the form of a float or in any other
194:07 - form so by default it's just going to
194:09 - return a string what characters did the
194:11 - user type in as their input
194:15 - so what I'd like to do now in order to
194:17 - make this program work the way I wanted
194:18 - to is take this and convert it into an
194:21 - integer
194:22 - cast it into an integer so to speak
194:25 - and the way that I can do that is by
194:27 - using a function in Python called int
194:29 - that takes anything and turns it into an
194:32 - integer so here I can say int and then
194:36 - as the argument to the int function the
194:38 - input to the end function I'm just going
194:40 - to include this whole expression input
194:42 - number
194:44 - so I'm going to ask the user to input a
194:45 - number they type in some text the input
194:48 - function gives me back a string and that
194:50 - string is going to serve as the input to
194:53 - the int function which then gets saved
194:56 - inside of this variable called n
194:59 - so now that we know that n is indeed an
195:01 - integer let's try and run this program
195:03 - again I'll go back into the terminal run
195:05 - python conditions.pi I'm asked to type
195:09 - in a number I type in a number like five
195:11 - and
195:13 - all right that still doesn't seem to
195:15 - have worked and it didn't work because I
195:16 - didn't save the file so I'll go ahead
195:17 - and save the file try it again type in a
195:20 - number and now we see that indeed n is
195:22 - positive we get no more exception we
195:24 - were able to run the code successfully
195:26 - and see that the value of n is positive
195:28 - and I could try this again to test the
195:30 - other conditional branches type in
195:32 - negative one for example to see that n
195:34 - is negative
195:35 - and otherwise if it isn't either
195:37 - positive or negative then we know that n
195:40 - is zero and so here was our first
195:42 - exposure to conditions in Python the
195:44 - ability to have multiple different
195:46 - branches and do different code depending
195:48 - on some expression that we're going to
195:50 - evaluate to either be a true expression
195:52 - or a false expression
195:55 - all right so let's take a look at some
195:57 - of the other features that are going to
195:58 - be present inside the Python language
196:00 - and one of the most powerful features of
196:02 - python are its various different types
196:04 - of sequences data types that store
196:06 - values in some sort of sequence or some
196:09 - collection of values altogether so I'll
196:11 - go ahead and create a new file that
196:13 - we'll call sequences.pi
196:16 - and there are a number of different
196:17 - types of sequences that all obey similar
196:19 - properties
196:20 - um but one of the types of sequences is
196:22 - a type we've already seen which is just
196:24 - a string for example so if I have a name
196:27 - and the name is something like Harry for
196:30 - instance and this sequence allows me to
196:33 - access individual elements inside of the
196:37 - sequence and in order to do so it's much
196:39 - like an array in other languages if
196:41 - you've experienced them before
196:42 - but I can print out name
196:45 - square bracket zero
196:48 - this square bracket notation takes a
196:50 - sequence some ordered sequence of
196:52 - elements and gets me access to one
196:54 - particular element inside of that
196:56 - sequence and so if I have a string like
196:58 - name and I say name square bracket zero
197:01 - the effect of that is going to be take
197:03 - this long sequence and get me the zeroth
197:06 - element in many programming languages
197:08 - and in programming more generally we
197:10 - often start counting things at zero so
197:12 - the very first item in the sequence is
197:13 - item zero the second item is item one so
197:16 - it's easy to get slight off by one
197:18 - errors there but just know that item
197:20 - zero of the name should be the first
197:22 - character in the name and I can see that
197:24 - for sure if I run python I'll save this
197:27 - file run python sequences dot pi and
197:30 - what I get is just the first character
197:32 - of Harry's name which in this case is
197:34 - the letter H
197:35 - if I instead asked to print out
197:37 - character one which will be the second
197:39 - character in the name if I rerun the
197:42 - program now I get the letter A
197:44 - and this type of indexing works for many
197:46 - different types of sequences not just a
197:48 - string which so happens to be a sequence
197:50 - of characters but other types as well
197:52 - python for example has a type for lists
197:55 - of data so if I have a sequence of any
197:58 - type of data that I want to store I can
198:00 - store that information inside of a list
198:02 - in Python so maybe instead of storing
198:05 - one name I have multiple names that I
198:07 - want to store so I want to store names
198:09 - like Harry and Ron and Hermione for
198:12 - example so now I have three names all
198:15 - stored in a sequence inside of a python
198:17 - list
198:18 - and I can you know I can print out all
198:20 - of the names for example just to print
198:22 - out all of the names to see what the
198:23 - value of the variable names is equal to
198:25 - and we'll see that when I do that I get
198:28 - a printout of the contents of that list
198:29 - Harry Ron Hermione in that particular
198:31 - order but you could also much as you
198:34 - could index into a string index into a
198:36 - list to say get me just the very first
198:39 - item inside of this names list which in
198:42 - this case when I run the program
198:43 - is going to just be hairy so there are a
198:46 - number of different sequence types you
198:48 - can use in order to represent data
198:49 - another one just so happens to be called
198:52 - a tuple and a tuple is often used if you
198:55 - have a couple of values that aren't
198:57 - going to change but you need to store a
198:59 - pair of values like two values together
199:01 - or three values together or something
199:03 - like it you might imagine that if you're
199:05 - writing a program to deal with graphing
199:07 - in two dimensions for example you might
199:09 - want to represent a point as an x value
199:12 - and a y value and you could create two
199:15 - variables for it I could say you know
199:17 - let me just say a coordinate X is going
199:19 - to be equal to 10.0 and coordinate Y is
199:22 - equal to 20.0 but now I'm creating two
199:25 - variables for what's really one unit
199:28 - that just so happens to have two parts
199:30 - and so to represent this we can use a
199:33 - tuple in Python and just say something
199:35 - like coordinate
199:37 - equals 10.0 comma 20.0 so whereas in
199:42 - lists we use square brackets to denote
199:44 - where the list begins and where the list
199:46 - ends in a tuple we just use parentheses
199:48 - to say we're grouping a number of values
199:50 - together we're grouping one value 10.0
199:52 - with a second value 20.0 and now we can
199:55 - pass around these two values as a single
199:57 - unit just by referencing them using a
200:00 - single name which in this case is
200:02 - coordinate so there are a number of
200:04 - different types of these various
200:05 - different sequences and some of those
200:07 - sequences we'll take a look at
200:09 - are these data structures here so list
200:12 - for example is a sequence of mutable
200:14 - values which we took a look at and
200:15 - mutable just meaning we can change the
200:18 - elements in the list if I have a list I
200:20 - can add something to the end of the list
200:21 - I can delete something from the list I
200:23 - can modify the values inside the list a
200:25 - tuple on the other hand is a sequence of
200:28 - immutable values those values can't
200:30 - change you can't add another element to
200:32 - the existing Tuple you'd have to create
200:33 - a new Tuple in order to do so and there
200:36 - are other data structures that exist as
200:37 - well a couple that we'll take a look at
200:39 - in a moment include sets which are a
200:41 - collection of unique values so if you're
200:44 - familiar with sets from the world of
200:45 - mathematics it's a very similar idea
200:47 - that whereas a list in a tuple keeps
200:50 - things in a particular order
200:52 - a set does not keep things in any
200:53 - particular order it's just a collection
200:55 - and in particular all of the values need
200:58 - to be unique in a list or inner Tuple
201:00 - you might have the same value appearing
201:01 - multiple times in a set every value
201:04 - appears exactly once and there are some
201:06 - advantages to set some ways that you can
201:08 - make your programs more efficient by
201:10 - using sets if you know that you just
201:12 - need a collection if you don't care
201:13 - about the order if something is only
201:15 - going to show up exactly once at most
201:17 - then you can use a set to potentially
201:19 - make your programs a little more
201:20 - efficient and a little more elegantly
201:22 - designed
201:23 - and finally one other data structure
201:25 - that's quite powerful and it's going to
201:26 - come up a number of times during this
201:28 - course is a dictionary in Python
201:30 - shortened to just addict which is the
201:32 - collection of what we're going to call
201:33 - key value Pairs and the way I like to
201:36 - think of this is with an actual physical
201:38 - dictionary that you might find at a
201:39 - library that Maps words to their
201:41 - definitions in a physical dictionary you
201:43 - open up the dictionary and you look up a
201:45 - word and you get the definition an
201:48 - addict in Python is going to be very
201:49 - similar it's going to be a data
201:51 - structure where I can look something up
201:53 - by one keyword or one value and get some
201:56 - other value as a result we call the
201:58 - thing that I'm looking up the key and we
202:01 - call what I get when I do the looking up
202:03 - the value so we keep pairs of keys and
202:05 - values in the case of an actual
202:07 - dictionary in the real world the key is
202:10 - the word that we want to look up and the
202:11 - value is its definition but we can use
202:14 - this more generally in Python any time
202:16 - we want to map something to some other
202:18 - value such that we can very easily look
202:20 - up that value inside of this data
202:22 - structure
202:23 - so we'll see examples of dictionaries as
202:25 - well
202:26 - so let's now explore the first of these
202:28 - data structures these lists to explore
202:30 - what we can do by taking advantage of
202:32 - the features that are given to us by a
202:34 - python list for example
202:36 - so we'll go ahead and create a new
202:38 - program
202:39 - that I'll call
202:41 - lists.pi
202:43 - and here I'm just going to create a list
202:45 - of names so names equals Harry Ron
202:49 - Hermione and Jenny for example
202:52 - and as I start to write multiple lines
202:54 - of code especially as my python programs
202:56 - start getting longer it can be a good
202:58 - idea to document what it is that I'm
202:59 - doing so I can say let me add a comment
203:02 - to this particular line of code just so
203:04 - I know what it is that I've done in this
203:06 - line of code and in Python there are a
203:08 - couple of different ways to create a
203:09 - comment but the simplest way
203:11 - is just to use the pound sign or the
203:14 - hashtag as soon as you include that
203:16 - everything after that for the remainder
203:17 - of the line is a comment The Interpreter
203:20 - is going to ignore that comment if you
203:21 - can say whatever you want it's more for
203:23 - you the programmer and for someone who's
203:25 - reading your program to be able to look
203:27 - at the program understand what it's
203:29 - saying and figure out what they need to
203:31 - do about it so I can just say Define a
203:34 - list of names for example just to make
203:36 - it clear to me what it is that I have
203:38 - done inside of this line of code
203:40 - so I can print out that list of names as
203:42 - we've done before
203:44 - and we'll see that when I print out that
203:45 - list of names what I get is oh let me
203:49 - run
203:49 - list up I what I get is this list Harry
203:52 - Ron Hermione and Jenny but I could also
203:55 - print out as we've seen before just the
203:57 - first of those names say you know print
203:58 - out just name square bracket zero in
204:01 - which case I'm going to get just Harry
204:03 - for example
204:05 - but now recall that a list is mutable I
204:07 - can modify the elements that happen to
204:09 - exist inside of this list so I could say
204:12 - names dot append
204:14 - a new name something like Draco for
204:18 - example and so lists have a number of
204:20 - built-in methods or functions which are
204:23 - functions that I can run on an existing
204:25 - list to access particular elements of
204:27 - the list or to modify the list in
204:29 - particular ways and in the case of a
204:30 - list the append method is a method or
204:33 - function that I can run that just adds a
204:36 - value to the end of an existing list so
204:38 - I've added Draco to the list
204:40 - and there are a number of other methods
204:42 - that I can use on lists one of which is
204:44 - for example sorting a list no need to
204:46 - write your own sorting algorithm in
204:48 - order to sort a sequence of objects in
204:50 - Python there is a built-in sort method
204:53 - that works on lists where I can just say
204:54 - names dot sort that will automatically
204:57 - sort everything in the list and now if I
204:59 - print out all of those names
205:01 - go ahead and print them out and get rid
205:02 - of this old print statement
205:06 - now we see that we get five names that
205:08 - are printed out because I had four
205:09 - elements originally in this list but
205:11 - then I added a fifth one and notice now
205:13 - that they are actually in alphabetical
205:15 - order starting with Draco ending with
205:17 - Ron because I was able to sort the list
205:19 - by modifying the order in which those
205:21 - elements actually show up and so lists
205:24 - can definitely be quite powerful anytime
205:26 - you need to store elements in order a
205:28 - list is definitely a useful tool that
205:30 - python gives to you
205:32 - if you don't care about the order of the
205:34 - elements though and if you know that all
205:36 - the elements are going to be unique then
205:38 - you can use a set which is another
205:39 - python data structure that works in
205:41 - similar ways the syntax is slightly
205:44 - different
205:44 - so let's do an example with those I'll
205:47 - create a new file call it sets dot pi
205:50 - and let me first create an empty set
205:52 - and we can do that by just saying s
205:54 - equals s is going to be the variable
205:56 - that will store my set and I'll say set
205:58 - and then parentheses that will just
206:00 - create an empty set that just so happens
206:02 - to have nothing inside of it
206:05 - now we'll add some elements to the set
206:06 - so I can say s dot add let's add the
206:10 - number one to the set let's add the
206:12 - number two let's add the number three
206:15 - and let's add the number four
206:17 - and then we can print out the set to see
206:19 - what happens to be inside the set right
206:22 - now
206:23 - now when I run this program
206:25 - uh python sets dot pi we see that inside
206:29 - the set are four values one two three
206:31 - and four they happen to be in order but
206:33 - sets are not naturally ordered they're
206:35 - not going to always keep track of what
206:36 - the order is going to be but I could add
206:38 - for example if I add 3 again to the set
206:42 - now I've added 3 to the set twice I
206:44 - added one two three four and then three
206:46 - again
206:48 - when I print out the contents of the set
206:49 - it still just contains the elements one
206:52 - two three four no element ever appears
206:54 - twice in the set following with the
206:57 - mathematical definition of a set where
206:58 - no element ever appears more than once
207:00 - inside of a set
207:03 - you can also remove elements from sets
207:05 - as well so if I wanted to remove the
207:07 - number two from the set for example I
207:09 - could say s dot remove two and then
207:12 - print out s to say print out whatever
207:14 - happens to be inside of that set now
207:17 - and now when I rerun this program I only
207:19 - get one three and four because I removed
207:22 - two from the set so sets allow you to
207:25 - add to them remove from them and also
207:27 - all sequences whether they Be Strings or
207:30 - lists or sets allow you to get how many
207:32 - elements are in the set by taking
207:34 - advantage of a function built into
207:35 - python called Len so Len will give you
207:39 - the length of a sequence so the number
207:41 - of items inside of a list or the number
207:43 - of characters inside of a string or the
207:45 - number of elements inside of a set
207:47 - and so if I wanted to print out how many
207:50 - elements are in the set I might do
207:51 - something like this in a formatted
207:53 - string say the set has
207:57 - some number of elements
208:00 - and how do I know how many elements well
208:02 - again inside of these curly braces I can
208:04 - include any expression in Python that I
208:07 - would like to substitute into this
208:09 - string so how many elements are in the
208:11 - set I can get that by calculating Len of
208:15 - s
208:16 - so what I've done here is I've said with
208:19 - lenovs I would like to calculate the
208:21 - length of the set s in other words how
208:22 - many elements are actually inside of
208:24 - that set and then using this curly brace
208:26 - notation I'm saying take that number and
208:28 - plug it into this string so we can see
208:30 - the set has some number of elements for
208:33 - example
208:34 - so now if I run this program
208:37 - pythoncepts.pi I see that I get these
208:39 - three elements that happen to be inside
208:41 - of the set right now which is one and
208:43 - then three and then four and then it
208:45 - tells me that the set has three elements
208:48 - inside of it which is the number of
208:49 - elements that are in the set right now
208:52 - so now we've seen a number of different
208:54 - language features inside of python we've
208:56 - seen variables we've seen conditions so
208:58 - that we can conditionally do things if
209:00 - something is true if something else is
209:02 - true and we've seen some of the data
209:04 - structures that are core to the way
209:05 - python Works lists and sets and tuples
209:08 - and other data structures can be helpful
209:09 - too and now let's take a look at another
209:12 - feature of the Python programming
209:13 - language common to many programming
209:15 - languages the idea of looping if I want
209:17 - to be able to do something multiple
209:18 - times
209:19 - I'll go ahead and create a new file
209:21 - called Loops dot pi and let's just
209:24 - create a simple Loop the simplest Loop
209:26 - we could create in Python is just one
209:28 - that's going to count a bunch of numbers
209:30 - so in order to do that what I could say
209:32 - is something like this
209:33 - for I in one two three four five
209:39 - or maybe I want to count zero one two
209:41 - three four five just to start counting
209:42 - at zero
209:43 - print I
209:46 - and so here is the basic Syntax for a
209:49 - python Loop and here's what seems to be
209:51 - going on over here on the very first
209:52 - line I have a python list as denoted by
209:55 - those square brackets that contains six
209:58 - numbers zero one two three four five and
210:01 - now I have a for Loop for I in this list
210:04 - and the way python interprets this is to
210:06 - say go through this list one element at
210:09 - a time and for each element call that
210:11 - element I we could have called it
210:13 - anything but in this case I is just a
210:15 - conventional choice for a number that
210:17 - keeps incrementing and we're going to
210:18 - print out now the value of I for each
210:22 - iteration of this Loop
210:24 - so we can try this out now and run
210:27 - python loops.pi we see one zero one two
210:31 - three four five great it printed out all
210:33 - of the numbers from zero to five one at
210:35 - a time in practice though if we wanted
210:37 - to count all the way up to five or for
210:40 - print six numbers for example this is
210:42 - fine for now but if we wanted to print
210:44 - like 100 numbers or a thousand numbers
210:46 - this is going to start to get tedious
210:48 - so python has a built-in function called
210:51 - range
210:53 - where I can say for I in range 6 to
210:56 - achieve exactly the same thing range six
210:58 - means get me a range of six numbers so
211:01 - if we start at zero it's going to go
211:02 - from zero all the way up to five and
211:04 - then we can print out each one of the
211:06 - elements inside of that sequence so if I
211:08 - rerun python loops.pi we get 0 1 2 3 4
211:13 - 5. so Loops enable us to Loop over any
211:16 - type of sequence so if the sequence is a
211:18 - list I can say something like if I have
211:21 - a list of names like Harry and Ron and
211:24 - Hermione
211:26 - and this is my list of names I can have
211:28 - a loop that says that for each name in
211:31 - my list of names let's print out that
211:34 - name for example so we have a list the
211:36 - list is called names We're looping over
211:38 - it one element at a time and printing it
211:40 - out now if I run the program I see three
211:42 - names printed one on each line and you
211:45 - can do this for other sequences as well
211:46 - maybe I have just a single name that is
211:49 - called Harry
211:50 - and now I could have a line that says
211:52 - you know for every character in that
211:54 - name print the character
211:57 - if the name is is the sequence is a
211:59 - sequence of individual characters
212:00 - because it's a string then when I Loop
212:03 - over that string I'll be looping over
212:04 - each individual character in that string
212:06 - so I can run the program and see one on
212:09 - each line each of the letters that just
212:12 - so happens to be inside of Harry's name
212:16 - so now we've seen conditions we've seen
212:18 - loops and we've seen a number of
212:19 - different data structures we've seen
212:20 - lists and sets as well as tuples the
212:24 - last important data structure that we're
212:26 - going to be taking a look at are python
212:27 - dictionaries which as you'll recall are
212:29 - some mapping of keys to values if I want
212:32 - to be able to look something up I can
212:33 - use a python dictionary just as a data
212:36 - structure to be able to store these
212:37 - sorts of values
212:39 - so I'll create a new file called
212:40 - dictionarys.pi
212:43 - and maybe I want to create a dictionary
212:45 - that is going to keep track of say what
212:47 - house each of the students at Hogwarts
212:50 - happen to be in so I might have a
212:52 - dictionary called houses
212:53 - and the way we specify a dictionary is
212:56 - by specifying a key colon of value when
213:00 - we're defining a dictionary for the
213:01 - first time so I might say Harry
213:04 - colon Gryffindor
213:06 - and then Draco colon
213:10 - Slytherin for example
213:11 - and so what this line of code is doing
213:13 - is it is creating a new dictionary this
213:15 - dictionary is called houses and inside
213:17 - this dictionary I have two keys two
213:20 - things that I can look up I can look up
213:22 - Harry or I can look up Draco and when I
213:24 - look up those keys I get the value that
213:28 - follows their colon so after Harry if I
213:30 - look up Harry I get Gryffindor if I look
213:32 - up Draco I get Slytherin for example
213:37 - so now if I wanted to print out what
213:40 - house Harry is in I can print out houses
213:44 - square brackets Harry
213:47 - so I can here say I would like to print
213:48 - out take the houses dictionary and the
213:52 - square bracket notation is how I look
213:54 - something up inside of a dictionary it's
213:56 - similar to how we use square brackets to
213:57 - look up a specific element inside of a
214:00 - list to say like get me element 0 or
214:01 - element one
214:03 - in this case we're using a python
214:05 - dictionary to say take the houses
214:07 - dictionary and look up Harry's value
214:09 - which hopefully should be Gryffindor and
214:11 - we'll see that if we look up run python
214:13 - dictionaries.pi we do get Gryffindor as
214:16 - the value of Harry's house
214:19 - we can add things to this dictionary as
214:21 - well using the same syntax in the same
214:23 - way that I use square brackets to access
214:25 - the value inside of a dictionary if I
214:27 - want to change the value in a dictionary
214:28 - or add something new to it
214:31 - I could say houses and Hermione and say
214:35 - that Hermione is also in Gryffindor for
214:38 - example
214:39 - and so this line of code here says take
214:42 - the House's dictionary and look up
214:45 - Hermione in houses dictionary and when
214:47 - you do that should be set equal to this
214:50 - value here Gryffindor so we took that
214:52 - value and we are going to assign it to
214:54 - Hermione inside of the dictionary such
214:57 - that now if we wanted to we could print
214:58 - out Hermione's house as well
215:01 - run the program and see that Hermione is
215:03 - also in Gryffindor so anytime we want to
215:06 - be able to map some value to some other
215:08 - value whether we're mapping people to
215:10 - what house they happen to be in or we're
215:11 - mapping users to some information about
215:13 - those users inside of our web
215:14 - application dictionaries are going to be
215:17 - very very powerful tools for us to be
215:19 - able to do that
215:21 - the next Python language feature we'll
215:23 - take a look at are functions in Python
215:25 - that are going to be some way for us to
215:27 - write our own functions that take an
215:28 - input and produce some output we've
215:30 - already seen a number of different
215:31 - functions that already exist in Python
215:33 - we've seen the input function that takes
215:35 - an input from the user we've seen the
215:37 - print function that takes some text or
215:39 - some other information and prints it to
215:41 - the screen but if we want to Define our
215:43 - own functions we can do so as well
215:46 - so here I'll go ahead and write a new
215:48 - program called functions.pi
215:50 - and let's write a function that takes a
215:53 - number and squares it so the square of
215:55 - 10 is 10 times 10 or 100 I would like a
215:58 - function that very easily takes a number
215:59 - and returns its Square
216:02 - the way I Define a function in Python is
216:04 - using the def keyword def short for
216:06 - Define and here I can say let me Define
216:08 - a function called Square
216:10 - and then in parentheses what inputs it
216:13 - takes in this case Square just takes a
216:15 - single input then I'm going to call X
216:16 - but if there were multiple inputs I
216:18 - could separate them with commas like XYZ
216:19 - for a function that took three inputs
216:21 - for example but in this case there's
216:24 - just a single input X
216:26 - and the square function could have any
216:28 - logic in it indented underneath the
216:30 - square function but ultimately this
216:32 - function is fairly simple all it's going
216:34 - to do is return x times x x multiplied
216:38 - by itself
216:39 - and now if I want to print out a whole
216:42 - bunch of squares of numbers I can do so
216:44 - I can say for I in range let's say 10.
216:49 - let's print out
216:51 - that the square of I is
216:57 - Square I
216:59 - so let's try and parse out what's going
217:00 - on here line four says for I in range 10
217:03 - do some Loop 10 times looping from 0 all
217:06 - the way up to nine and for each time we
217:08 - loop we're going to print something out
217:09 - we're going to print out the square of
217:11 - plug in the value of I here is plug in
217:15 - the value of calling our Square function
217:17 - using I as input
217:20 - so that is going to have the result of
217:21 - running this Loop 10 times and printing
217:24 - out this line 10 different times each
217:26 - with a different value of I
217:28 - so I can run pythonfunctions.pi and
217:31 - here's what I see the square of zero is
217:32 - zero square of one is one two is four so
217:34 - on and so forth all the way up to the
217:36 - square of 9 is 81. so we've now written
217:39 - a function and been able to use it but
217:41 - ideally when we write functions we'd
217:43 - like to not just be able to use them in
217:45 - the same file but for others to be able
217:47 - to use them as well
217:49 - and so how can we do that well in order
217:51 - to do that you can import functions from
217:54 - other python modules or files so to
217:57 - speak so let me create a new file
218:00 - called squares.pi for example
218:03 - so that instead of running this Loop
218:05 - here let's instead run this Loop in
218:08 - squares dot Pi again separating out
218:11 - different parts of my code I have one
218:13 - file that defines the square function
218:15 - inside of functions.pi and then another
218:17 - file called squares.pi where I'm
218:19 - actually calling the square function
218:23 - now if I try to run python squares.pi
218:26 - you'll notice I'll run into an error
218:28 - here's another error you'll see quite
218:29 - frequently it's a name error another
218:31 - type of exception which here says the
218:33 - name square is not defined meaning I'm
218:36 - trying to use a variable or a function
218:38 - name or something else that doesn't
218:39 - actually have a definition I've never
218:42 - said what square is and that's because
218:44 - by default python files don't know about
218:47 - each other if I want to use a function
218:48 - that was defined inside of another file
218:51 - I need to import it from that file and I
218:54 - can do so like so I can say from
218:57 - functions import Square
219:01 - functions was the name of this file
219:03 - functions.pi and I'm saying from that
219:05 - python module I would like to import the
219:08 - square function as a function that I
219:10 - would like to use
219:12 - now I can run python
219:15 - squares.pi and we get the output that we
219:17 - expect no more exception
219:19 - I've now been able to import something
219:21 - from another module
219:24 - and access it this way
219:25 - so this is one way to import to
219:27 - literally say from functions import a
219:29 - square function import a particular name
219:31 - that is defined inside a functions.pi
219:34 - another way I could have done this is
219:36 - just to say import functions just import
219:39 - that whole module but then I would need
219:41 - to say instead of just Square I would
219:43 - need to say
219:45 - functions.square to mean go inside the
219:47 - functions module and get the square
219:49 - function and run that function and this
219:52 - would operate in exactly the same way
219:54 - so a couple of different options I
219:56 - either import the entire module in which
219:59 - case I use this dot notation to say
220:00 - access a particular part of that module
220:03 - or I say from functions and import
220:05 - Square to just import the name square
220:08 - into this file entirely so that I can
220:11 - just use the word square whenever I want
220:13 - to and this works not just for modules
220:16 - that we have written but also python
220:18 - comes with a number of built-in modules
220:20 - if you want to write programs that
220:21 - interact with CSV files which are a
220:23 - spreadsheet file format I can import
220:25 - Python's built-in CSV module to get
220:28 - access to a whole bunch of CSV related
220:29 - features there are a whole bunch of math
220:31 - related features you can get by
220:32 - importing the math module so on and so
220:34 - forth and there are additional python
220:36 - modules and packages that you can
220:38 - install that other people have written
220:40 - and then you just import them when the
220:42 - time comes and next time as we take a
220:44 - look at Django this is one of the
220:45 - techniques that we're going to be
220:46 - looking at is using functions that have
220:48 - been written by people that are not
220:50 - ourselves
220:52 - so that now is modules and how we can
220:55 - use modules to be able to import
220:56 - functions in order to allow for certain
220:58 - behavior and this is one way that we can
221:00 - program using the Python programming
221:02 - language but another key technique that
221:04 - python supports that are supported by a
221:06 - number of other programming languages as
221:07 - well is an idea of object-oriented
221:10 - programming a special type of
221:12 - programming or a programming Paradigm so
221:14 - to speak which is a way of thinking
221:16 - about the way that we write programs and
221:18 - an object oriented programming we think
221:20 - about the world in terms of objects
221:22 - where objects might store information
221:24 - store some data inside of them and also
221:27 - support the ability to perform types of
221:29 - operations some sort of actions or
221:31 - methods or functions as we might call
221:33 - them that can operate on those objects
221:36 - so now we're going to take a look at
221:38 - some of the object-oriented capacities
221:40 - that the Python programming language is
221:42 - going to give us the ability to have so
221:45 - python comes with a number of built-in
221:46 - types it has types for lists such as
221:49 - types for sets and so on and so forth
221:50 - let's imagine though that we want to
221:52 - create a new type in Python some way of
221:56 - representing other types of data for
221:58 - example
221:59 - two-dimensional points things we've
222:01 - talked about before something that has
222:02 - an x value and a y value now as we've
222:05 - already discussed you could do this
222:06 - using a tuple just using one number
222:08 - comma another number but we could create
222:11 - an entire class of objects to be able to
222:14 - represent this data structure as well
222:16 - and so that's what we'll take a look at
222:17 - now is how to create a class in Python
222:21 - so I'll create a new file called classes
222:23 - dot pi
222:24 - and all a class is is you can think of a
222:27 - class as a template for a type of object
222:30 - we are going to define a new class
222:32 - called point and then after we've
222:36 - defined what a point is we will be able
222:38 - to create other points we'll be able to
222:40 - create points to store X and Y values
222:43 - for example
222:44 - and so what do we need in order to
222:46 - create a class
222:47 - well we need some way to say that when I
222:49 - create a point what should happen and in
222:52 - Python this is defined using a what's
222:54 - called a magic method called underscore
222:56 - underscore init and underscore
222:59 - underscore init is a method or function
223:02 - that is going to automatically be called
223:04 - every time that I try to create a new
223:07 - point
223:08 - and this function takes a couple of
223:09 - arguments
223:11 - all functions that operate on objects
223:13 - themselves otherwise known as methods
223:15 - are going to take the first argument
223:17 - called self and this argument self
223:20 - represents the object in question and
223:23 - this is going to be important because we
223:25 - don't just want a single variable called
223:27 - X to store the points x coordinate or a
223:29 - single variable called y to store the y
223:31 - coordinate because two different points
223:34 - might have different X and different y
223:36 - values and we want to be able to store
223:37 - those separately and we're going to
223:39 - store them inside of the object itself
223:42 - so this variable self references the
223:45 - object that we are currently dealing
223:47 - with and it might change depending on
223:49 - which point we happen to be interacting
223:50 - with at any given time
223:52 - what other inputs does a point need well
223:55 - a point also needs an x value and a y
223:57 - value so when we create a point we're
224:00 - going to provide to that point in x
224:01 - value and a y value
224:04 - now what do we need to do in order to
224:06 - store all this data inside of the point
224:09 - well recalled itself is representing the
224:12 - point itself and so if we want to store
224:14 - data inside of that point allow the
224:16 - point to store its own X and Y values
224:19 - then we just we need to store that data
224:21 - inside of the self so to speak and in
224:25 - order to do that we can use this dot
224:27 - notation to say self dot X is equal to
224:31 - whatever this input X happens to be and
224:34 - self dot Y is equal to whatever this
224:37 - argument y happens to be and these
224:40 - values X and Y they could be called
224:42 - anything they could just be called like
224:43 - input 1 and input 2 for example and then
224:47 - you would just reflect them here the
224:48 - important thing is that these two input
224:50 - values are being stored inside of the
224:53 - point itself in properties that we're
224:56 - going to call X and Y
225:00 - all right so that was a little bit
225:01 - abstract but now let's see how we could
225:03 - actually use this if I want to create a
225:06 - new Point called P I can say p equals
225:09 - point
225:10 - and then the self-argument is going to
225:13 - be provided automatically I don't need
225:14 - to worry about that but I do need to
225:15 - provide input 1 and input 2 the x value
225:18 - and the Y value so I'll go ahead and
225:21 - provide an x value of 2 and a y value of
225:23 - 8 for example so now I've created this
225:26 - point and now that I have a point I can
225:28 - print out information about the point I
225:31 - can print out the x value of the point
225:32 - and I can print out the Y value of the
225:35 - point again I'm using this dot notation
225:37 - to say go into the point and access data
225:40 - that is stored inside of that point
225:42 - access its x value and excess its y
225:45 - value
225:46 - so now when I run this program
225:50 - pythonclasses.pi what I get is 2 on the
225:52 - first line that is the x value and then
225:54 - 8 on the SEC or eight on the second line
225:57 - that is the Y value
225:59 - so what we have here is a function
226:01 - called init that creates a point by
226:04 - storing the two inputs inside of the
226:06 - object inside of a property called X and
226:09 - a property called y such that later I
226:11 - can create a point which calls this init
226:14 - function implicitly and after we've
226:16 - created the point I can access the data
226:18 - inside of it I can say print out
226:19 - whatever P dot X is equal to print out
226:22 - whatever P dot Y is equal to as well
226:26 - so that was a fairly simple example of
226:28 - creating a class just creating a class
226:30 - for representing a point in X and A Y
226:33 - value let's look at a more interesting
226:34 - example let's imagine that we're trying
226:36 - to write a program for an airline where
226:38 - the airline needs to keep track of
226:39 - booking passengers on a flight and
226:41 - making sure that no flight gets
226:43 - overbooked we don't want more passengers
226:44 - on the flight then there is capacity on
226:47 - that flight
226:48 - so let's define a new class that we're
226:50 - going to call flight and this time the
226:53 - init method is just going to take a
226:55 - single argument other than the self
226:56 - which is the capacity every flight needs
227:00 - some sort of capacity to know how many
227:01 - people can fit on the plane and so I'll
227:04 - store that inside of a value called
227:05 - self.capacity Equals capacity
227:08 - and what other information do we need to
227:11 - soar about a flight well a flight has a
227:13 - capacity and it also has all of the
227:16 - passengers on the flight and so we could
227:18 - represent this in a number of ways but
227:20 - we know that lists can be used in order
227:22 - to store a sequence of values so we'll
227:24 - go ahead and just create a list that
227:26 - will store in self.passengers
227:29 - that is going to be equal to the empty
227:31 - list so we start out with an empty list
227:34 - of passengers
227:36 - so now if I want to create a flight I
227:39 - can say flight equals and then capital F
227:41 - flight that's the name of the class and
227:43 - then provide a capacity I can say
227:45 - capacity of three to mean three people
227:48 - can go in this flight but no more than
227:50 - three that is the capacity because that
227:51 - is the argument that's specified inside
227:54 - of this init function and when I do so
227:56 - I'm automatically going to get this
227:57 - empty list of passengers
228:00 - so now let's think about what methods or
228:04 - what functions we might care about
228:06 - performing when it comes to a flight
228:09 - so one reasonable function to add would
228:11 - be a function that says all right let's
228:12 - add a passenger to the flight if I want
228:14 - someone new to go on this slide
228:17 - so how might I go about doing that
228:20 - well let's define a new method also
228:21 - known as a function to this flight class
228:24 - called add passenger this method can be
228:27 - called whatever we want
228:29 - because this is a method that's going to
228:30 - work on an individual object we need
228:33 - some way of referencing that object
228:34 - itself so we'll use the keyword self
228:36 - again
228:37 - and when we add a passenger we need to
228:39 - add a passenger by their name so I need
228:41 - to specify
228:42 - their name as well
228:44 - such that now here I want to add that
228:48 - name to the passengers list
228:50 - how do I get access to the passengers
228:52 - list will I have access to the self the
228:55 - object itself and I stored the
228:57 - passengers inside of Self in self dot
229:00 - passenger in attribute of this object
229:04 - and self.passengers is a list that
229:06 - initially starts out as an empty list
229:08 - but if I want to add something to the
229:10 - end of a list we've already seen that in
229:12 - order to do that I can say
229:13 - self.passengers dot append
229:16 - name
229:17 - so that adds that someone new to the end
229:20 - of this passengers list
229:23 - now what could potentially go wrong here
229:26 - well every time we call this add
229:28 - passenger function what's going to
229:29 - happen is we are going to append to the
229:31 - end of this passengers list this name
229:33 - but we haven't taken into consideration
229:36 - the capacity of the flight ideally our
229:39 - ad passengers function shouldn't let
229:41 - someone be added to a flight if the
229:44 - flight is already at capacity
229:47 - so there are a number of things we could
229:48 - do here we could just check it inside of
229:50 - this function but just for good measure
229:51 - let's create a new function
229:54 - let's add a new function called
229:57 - open seats that is going to return the
230:00 - number of open seats that are on the
230:02 - plane
230:03 - other than self there are no other
230:05 - inputs that we need to calculate how
230:06 - many open seats there are the only thing
230:08 - we need to know in order to calculate
230:10 - open seats is we need to know the
230:12 - capacity
230:14 - minus
230:15 - however many passengers there are
230:17 - remember self.passengers is our list of
230:20 - all the passengers and anytime we have a
230:22 - sequence to get the length of that
230:23 - sequence I can say Len or length of that
230:27 - sequence to say get me the number of
230:29 - passengers that there are
230:31 - so now we have this function called open
230:33 - seats which will return capacity minus
230:36 - the number of passengers and tell us how
230:38 - many open seats there are
230:41 - and now in this add passenger function I
230:44 - can add some additional logic I can say
230:47 - if
230:49 - not
230:50 - self dot open seats
230:54 - so this is equivalent to me saying in
230:56 - this case like if self dot open seats
230:58 - equals equals zero meaning there are no
231:00 - open seats a more pythonic way so to
231:03 - speak of expressing this idea is just
231:05 - saying if not self dot open seats in
231:07 - other words if there aren't any more
231:09 - open seats then what should we do we
231:12 - should return and maybe you might
231:13 - imagine this ad passenger function
231:15 - returns true if it was able to
231:17 - successfully add a passenger and false
231:19 - otherwise so in this case I can return
231:21 - false to say you know what there aren't
231:23 - enough open seats let me return false
231:25 - from this function to indicate that
231:27 - there was some sort of error
231:29 - but otherwise if there are open seats we
231:31 - can add the passenger and return true to
231:34 - mean that everything was okay we were
231:36 - able to add the passenger successfully
231:40 - so now we have these three functions in
231:42 - it that creates a new flight add
231:43 - passenger that adds a new passenger to
231:45 - that flight and open seats which tells
231:47 - us how many open seats there are and now
231:50 - let's use those functions to actually
231:52 - add some passengers to the Slate let me
231:55 - get a list of people we'll say Harry
231:58 - Ron Hermione and Jenny
232:01 - and now let me Loop over all of those
232:04 - people for every person in that list of
232:06 - people
232:07 - let's try to
232:09 - flight dot add passenger
232:12 - person
232:13 - and we can save the result in a variable
232:15 - called success for example
232:18 - and then I can say if success well then
232:20 - let's print out that we added the person
232:24 - to flight
232:26 - successfully
232:28 - but else otherwise let's print out no
232:32 - available seats for
232:34 - that person
232:36 - so what's going on here we have a list
232:39 - of people four people and for each of
232:41 - those people we're going to try and add
232:42 - the passenger to the flight calling
232:45 - flight dot add passenger calling this
232:46 - method passing as input the person's
232:49 - name and save the result true or false
232:51 - in this variable called success
232:53 - if success is true we print out we've
232:56 - added them successfully otherwise we
232:58 - print out there are no available seats
232:59 - for that person
233:02 - so now we can try running this program
233:04 - I'll run
233:06 - pythonclasses.pi and now we see we've
233:09 - added Harry Ron and Hermione to the
233:11 - flight successfully but the flight had a
233:13 - capacity of three which means there are
233:15 - no available seats for Ginny which we
233:17 - get as the error message on the fourth
233:19 - line
233:20 - and if you're really trying to optimize
233:21 - you might notice that you don't really
233:22 - need this variable I could just take
233:25 - this entire expression
233:26 - flight.adpassenger person and put it in
233:29 - the condition itself I can say try and
233:31 - add a passenger add passenger will
233:33 - return true or false and if it returns
233:36 - true that means it was a success and
233:38 - then I can print out that we've added
233:40 - the person to the flight successfully
233:43 - so that is a brief look at object
233:45 - oriented programming this technique
233:47 - within Python and other programming
233:48 - languages to represent objects like this
233:51 - particular flight and then to manipulate
233:53 - those objects using methods like the add
233:55 - passenger method that takes a flight and
233:57 - adds people to it at least as long as
233:59 - there is available capacity on that
234:01 - flight so one of the many powerful
234:03 - features of python that we'll be
234:04 - definitely taking a look at later in the
234:06 - term and using as we go about building
234:08 - these web applications
234:10 - now there are a couple of final examples
234:12 - that are just worth taking a look at
234:13 - just to give you some exposure to some
234:16 - of the other features that are available
234:17 - in Python one thing that will be coming
234:19 - up soon is the idea of decorators and
234:22 - just as we can take a value in Python
234:24 - like a number and modify the value
234:26 - decorators are away in Python of taking
234:28 - a function and modifying that function
234:31 - adding some additional Behavior to that
234:33 - function so I'll create a new file
234:35 - called decorators.pi
234:37 - just to demonstrate what we can do with
234:39 - decorators and the idea of a decorator
234:41 - is a decorator is going to be a function
234:43 - that takes a function of input and
234:46 - returns a modified version of that
234:48 - function as output so unlike other
234:51 - programming languages where functions
234:52 - just exist on their own and they can't
234:54 - be passed in as input or output to other
234:55 - functions in Python a function is just a
234:58 - value like any other you can pass it as
235:00 - input to another function you can get it
235:02 - as the output of another function and
235:04 - this is known as a functional
235:06 - programming Paradigm where functions are
235:08 - themselves values
235:10 - so let's create a function that modifies
235:13 - another function by announcing that the
235:16 - function is about to run and that the
235:18 - function has completed running just to
235:19 - demonstrate so this announce function
235:21 - will take us input a function f and it's
235:25 - going to return a new function and
235:27 - usually this function wraps up this
235:30 - function f with some additional behavior
235:32 - and for that the reason it's often
235:33 - called a wrapper function so we may call
235:35 - this wrapper
235:37 - to say that all right what is my wrapper
235:39 - function going to do it's first going to
235:41 - print
235:42 - about to run the function just to
235:44 - announce that we're about to run the
235:45 - function that's what I want my announced
235:47 - decorator to do
235:48 - then let's actually run the function f
235:51 - and then let's print done with the
235:54 - function
235:55 - so what my announce decorator is doing
235:57 - is it's taking the function f and it's
236:00 - creating a new function that just
236:02 - announces via a print statement before
236:04 - and after the function is done running
236:06 - and then at the end we'll return this
236:09 - new function which is the wrapper
236:10 - function
236:12 - so this right here is what we might call
236:14 - a decorator a function that takes a
236:15 - function modifies it by adding some
236:17 - additional capabilities to it and then
236:19 - gives us back some output
236:21 - and so now here I can define a function
236:24 - called hello that just prints hello
236:26 - world for example
236:28 - and then to add a decorator I use the
236:30 - add symbol I can say at announce to say
236:34 - add the announced decorator to this
236:36 - function
236:37 - and then I'll just run the function
236:38 - hello and we'll see what happens
236:41 - I'll run Python
236:43 - decorators.pi and I see about to run the
236:46 - function then hello world then done with
236:49 - the function so again why did that work
236:51 - it's because our hello function that
236:53 - just printed hello world is wrapped
236:55 - inside of this announced decorator where
236:58 - what the announce decorator does is it
237:00 - takes our hello function of input and
237:02 - gets us a new function that first prints
237:04 - an alert warning that we're about to run
237:06 - the function actually runs the function
237:08 - and then prints another message so a bit
237:11 - of a simple example here but there's a
237:13 - lot of power in decorators for being
237:14 - able to very quickly take a function and
237:17 - add capability to it you might imagine
237:19 - in a web application if you only want
237:21 - certain functions to be able to run if a
237:23 - user is logged in you can imagine
237:25 - writing a decorator that checks to make
237:27 - sure that a user is logged in and then
237:29 - just using that decorator on all of the
237:31 - functions that you want to make sure
237:32 - only work when a user so happens to be
237:35 - logged in so decorators are a very
237:36 - powerful tool that web application
237:38 - Frameworks like Django can make use of
237:40 - just to make the web application
237:42 - development process a little bit easier
237:44 - as well
237:45 - let's take a look at a couple other
237:48 - techniques that exist within python one
237:51 - is how we might be able to more
237:52 - efficiently represent functions so let's
237:55 - imagine that I now have I'm going to
237:57 - call this lambda.pi for a reason you'll
237:59 - see in a moment
238:00 - let's imagine that I have a list of
238:02 - names or people for example and inside
238:04 - of this list of people each person
238:06 - instead of being just a string is going
238:09 - to be a dictionary that has both a name
238:11 - like Harry and a house like Gryffindor
238:16 - and let me add another name like Cho and
238:18 - a house like Ravenclaw
238:20 - and then
238:22 - another name like Draco and a house
238:26 - like Slytherin
238:28 - so here we have a list where each of the
238:30 - elements inside of that list is a
238:32 - dictionary a mapping of keys and values
238:33 - and that's totally okay in Python we
238:35 - have the ability to Nest data structures
238:38 - within one another we can have lists
238:39 - inside of other lists or lists inside of
238:41 - dictionaries or in this case
238:43 - dictionaries inside of a list and in
238:45 - fact this nesting of data structures is
238:47 - one of the reasons why it's very easy in
238:49 - Python to be able to represent
238:50 - structured data like a list of people
238:52 - where every person has various different
238:54 - properties
238:56 - what I might like to do now is something
238:58 - like sort all of these people and then
239:00 - print them all out so I might want to
239:03 - say people.sort
239:05 - and then print all the people
239:08 - but if I try to run this I'll get an
239:10 - exception
239:11 - I get an exception
239:14 - type error less than not supported
239:16 - between dict and dit which is sort of
239:19 - weird because I'm not using any less
239:20 - than symbol at all
239:22 - anywhere in my program but in the
239:24 - traceback you'll see that the line of
239:25 - code that it's catching on is
239:26 - people.sort somehow people.sort is
239:30 - causing a type error because it's trying
239:32 - to use less than to compare two
239:34 - dictionaries
239:35 - and what this appears to mean is that
239:37 - python doesn't know how to sort these
239:40 - dictionaries it doesn't know does Harry
239:41 - belong before or after Cho because it
239:43 - doesn't know how to compare these two
239:46 - elements and so if I want to do
239:48 - something like this then I need to tell
239:50 - the sort function how to sort these
239:52 - people
239:53 - and so in order to do that one way I
239:55 - could do this is by defining a function
239:57 - that tells the sort function how to do
240:00 - the Sorting what to look at when sorting
240:02 - so if I want to sort by people's name
240:05 - let me Define a function then I'll just
240:06 - call F that takes a person as input and
240:09 - returns that person's name by looking up
240:12 - the name field inside of that dictionary
240:14 - and now I can sort people by their name
240:16 - by saying sort key equals f
240:19 - what this means is sort all the people
240:21 - and the way to sort them the way you
240:23 - know how to compare them is by running
240:25 - this function where this function takes
240:28 - a person and gives us back their name
240:30 - and this will sort Everyone by name now
240:33 - if I run pythonlab.pi
240:35 - you'll see that I first get show then
240:37 - Draco then Harry in alphabetical order
240:39 - by name whereas if instead I had tried
240:41 - to sort people by their house
240:43 - by changing my function that I'm using
240:45 - to sort
240:46 - and then rerun this now I see that it's
240:49 - first Harry who's in Gryffindor then
240:51 - Ravenclaw then Slytherin for example so
240:53 - we get the houses in alphabetical order
240:55 - instead
240:57 - but the reason I show this is because
240:59 - this function is so simple and is only
241:01 - used in one place python actually gives
241:03 - us an easier way to represent a very
241:05 - short one-line function using something
241:07 - called a Lambda expression and this is a
241:10 - way of including the function just as a
241:12 - single value on a single line I can say
241:15 - instead of defining a function called f
241:16 - i can get rid of all of this and just
241:19 - say sort by this key a Lambda which is a
241:22 - function that takes a person and Returns
241:26 - the person's name
241:28 - so we say person is the input colon
241:30 - person name as the output this is a
241:33 - condensed way of saying the same thing
241:35 - we saw a moment ago of defining a
241:37 - function giving it a name and then
241:39 - passing in the name here this right here
241:41 - is a complete function that takes a
241:43 - person and as input and returns their
241:46 - name so python lambda.pi that will
241:50 - actually sort the people by their name
241:51 - Cho then Draco then Harry whereas if I
241:54 - have left off this key altogether
241:57 - and then tried to sort well then we get
241:59 - this type error because we can't compare
242:01 - these two dictionaries
242:03 - so we've seen a lot of different
242:04 - exceptions now throughout python so the
242:06 - very last example we'll take a look at
242:08 - is an example of how to deal with these
242:10 - exceptions like what to do when things
242:12 - might go wrong if we want our program to
242:14 - be able to handle those possible
242:16 - exceptional cases situations where
242:19 - things might in fact go wrong
242:21 - so let's try an example I'll create a
242:24 - new file that I'm going to call
242:25 - exceptions.pi
242:26 - and what exceptions that Pi is going to
242:28 - do is it's going to get some input it's
242:31 - going to say let's get an integer input
242:33 - called X
242:35 - and let's get an integer input called y
242:38 - and then let's go ahead and print out
242:40 - the result of x divided by y so result
242:43 - equals x divided by Y and then let's
242:45 - print out
242:47 - something like x divided by y equals
242:52 - result and we can literally print out
242:54 - the values of X and Y
242:57 - so this is a simple program that's just
242:59 - performing some division get a value of
243:00 - x get a value of y divide the two and
243:03 - print out the result
243:04 - we can try running this by running
243:06 - python exceptions.pi if I type in like 5
243:10 - and then 10 5 divided by 10 is 0.5
243:13 - exactly what might I might expect
243:15 - but what could go wrong now if you
243:17 - remember from math in division what
243:19 - could go wrong is if I type in 5 and
243:21 - then 0 and try and do five divided by
243:23 - zero what's going to happen well when I
243:25 - do that I get an exception I get a zero
243:27 - division error which is an error that
243:29 - happens whenever you try to divide by
243:31 - zero what I'd like to happen though in
243:33 - this case is not for my program to
243:35 - display kind of a messy error and a
243:37 - trace back like this but to handle the
243:39 - exception gracefully so to speak to be
243:41 - able to
243:42 - catch when the user does something wrong
243:44 - and report a nicer looking message
243:46 - instead
243:47 - and so how might I go about doing that
243:49 - well one thing I can do here
243:51 - is instead of just saying result equals
243:53 - x over y I can say try to do this
243:58 - try to set result equal to x divided by
244:00 - Y and then say except if a zero division
244:04 - error happens
244:06 - then let's do something else let's print
244:08 - error
244:10 - cannot divide by zero and then exit the
244:13 - program
244:14 - how do you exit the program it turns out
244:15 - there's a module in Python called sys
244:18 - and if I import the sys module
244:21 - I can say CIS dot exit one to mean exit
244:25 - the program with a status code of one
244:27 - where a status code of one generally
244:28 - means something went wrong in this
244:30 - program
244:31 - so now I'm trying to divide x divided by
244:34 - y except I have an exception Handler
244:37 - this is a try accept expression I'm
244:39 - saying try to do this except if this
244:41 - exception happens rather than have the
244:43 - program crash just print out this error
244:45 - message can't divide by zero and then
244:47 - exit the program
244:49 - so now let's try it python exceptions.pi
244:52 - again 5 and 10 Works totally normally
244:54 - gets me a value of 0.5 but now if I try
244:57 - 5 and 0 press return I get an error
245:01 - cannot divide by zero no long exception
245:03 - that's going to look complicated to the
245:04 - user it's no longer messy I've been able
245:06 - to handle the exception gracefully
245:09 - now one other exception that might come
245:11 - up is what if instead of X is 5 I type
245:13 - in a word like hello something that's
245:16 - not a number now I get another type of
245:19 - exception a value error which is
245:21 - happening when I try and convert
245:22 - something to an INT because hello cannot
245:26 - be converted into a base 10 integer you
245:28 - can't take text that is not a number and
245:30 - turn it into an integer so instead I'm
245:32 - getting this value error here
245:34 - how can I deal with that well I can deal
245:36 - with it in much the same way when I'm
245:38 - getting this input X and Y I can say
245:40 - rather than just get the input just try
245:43 - to get the input
245:45 - except if a value error happens which is
245:48 - the error that we got a moment ago this
245:49 - value error
245:51 - then print error invalid input
245:54 - and go ahead and sys.exit one
245:58 - so now I've been able to handle that
245:59 - error as well I can say
246:01 - pythonexceptions.pi I can say hello and
246:04 - I just get error invalid input I can
246:06 - divide by zero I get error cannot divide
246:09 - by zero but if I do type a valid X and A
246:11 - Y value then I get the result of
246:13 - dividing one number by the other and so
246:16 - exception handling is often a helpful
246:17 - tool for if you expect that some lines
246:19 - of code you might be running might run
246:21 - into some sort of problem be they a
246:23 - value error or a zero division error or
246:24 - some other error altogether to be able
246:26 - to handle those errors gracefully and
246:28 - that's probably what you want if you're
246:29 - going about building a web application
246:31 - using python is the ability to say that
246:33 - if something goes wrong we want to
246:35 - handle the error nicely display a nice
246:37 - error message to the user telling them
246:39 - what was wrong instead of having the
246:40 - program entirely crash so those are some
246:43 - of the key features now this Python
246:45 - programming language this language that
246:47 - gives us the ability to Define these
246:49 - functions and loops and conditions in
246:50 - very convenient ways to create classes
246:53 - where we can begin to build objects that
246:54 - are able to perform various different
246:56 - types of tasks and next time time using
246:59 - python we'll be able to design web
247:00 - applications such that users are able to
247:03 - make requests to our web applications
247:04 - and get some sort of response back so we
247:07 - will see you next time
247:11 - [Music]
247:28 - okay welcome back everyone to web
247:30 - programming with python and JavaScript
247:31 - so thus far in the course we've taken a
247:33 - look at a couple of different
247:34 - Technologies we took a look at HTML and
247:37 - CSS which are languages we can use to
247:39 - describe the structure of a web page and
247:41 - then style it appropriately and then we
247:43 - also took a look at python a programming
247:45 - language that we could use to get
247:46 - programming features features like loops
247:48 - and conditions and variables and
247:49 - functions and more and what we're going
247:51 - to do today is introduce Django which is
247:54 - going to combine these two Django is a
247:55 - python web framework which is going to
247:58 - allow us to write python code that is
248:00 - able to dynamically generate HTML and
248:02 - CSS ultimately allowing us to build a
248:05 - dynamic web application so what is this
248:07 - now going to enable us to do that we
248:09 - weren't able to previously do using just
248:11 - HTML and CSS well using HTML and CSS the
248:15 - web pages that we created were static
248:17 - web pages they were the same and every
248:20 - time you visited the web page the page
248:21 - you were looking at was identical But
248:24 - ultimately if you think about websites
248:25 - you interact with on a day-to-day basis
248:27 - say like the New York Times for example
248:28 - it's not the case that every time you go
248:30 - to the New York Times homepage you're
248:32 - seeing the exact same HTML it changes
248:34 - the next day you might see the new date
248:36 - you might see the next day's articles
248:38 - whenever someone comments on an article
248:40 - you can see those comments and you can
248:41 - see how many people have commented on an
248:43 - article for example and it's probably
248:45 - not the case that someone is sitting
248:47 - there updating the HTML of the New York
248:49 - Times website every time something
248:50 - changes but rather more likely there is
248:53 - some program maybe written in Python
248:54 - maybe written in some other language
248:55 - that is dynamically generating that HTML
248:58 - and CSS and allowing the web application
249:00 - to respond based on how users are
249:03 - interacting with it and this is
249:04 - ultimately what we're going to be trying
249:06 - to create using this Django web
249:07 - framework we're going to be creating
249:09 - software that's going to run on a web
249:10 - server such that clients running in
249:12 - their web browser can make requests to
249:14 - our web server and our server is going
249:16 - to respond back with some sort of
249:17 - response and so how does this process
249:19 - actually happen well ultimately it boils
249:21 - down to this protocol http otherwise
249:24 - known as the hypertext transfer protocol
249:26 - which is the protocol for how messages
249:28 - are going to be sent back and forth over
249:30 - the internet in this case you can think
249:31 - about this as a computer some user which
249:34 - we might call the client and then our
249:36 - server which is going to be the server
249:38 - that is going to contain our web
249:39 - application we are going to write a
249:41 - Django web application that is going to
249:43 - run on this server and clients are going
249:45 - to make requests to that server the
249:47 - server is going to process that request
249:48 - and then return some sort of response
249:51 - that request might look a little
249:53 - something like this underneath the hood
249:54 - it might start with the word get get is
249:56 - just an example of a request method a
249:59 - way that you might try to get a page so
250:00 - get just means I would like to get a
250:03 - particular page in this case the page
250:05 - I'm trying to get is the slash page just
250:07 - denoting the root of the website usually
250:09 - the default page for the website HTTP
250:11 - 1-1 is just the version of HTTP that
250:13 - we're using and the host is what URL
250:16 - we're trying to access the web page for
250:18 - so example.com or some other website for
250:20 - example that I might be trying to make a
250:22 - request to
250:23 - so this request ultimately gets sent by
250:25 - my web browser when I type in a URL and
250:27 - press return for example the server
250:29 - processes that request and then gives
250:31 - back some sort of response and the
250:34 - response will generally look a little
250:35 - something like this beginning with the
250:37 - HTTP version 1.1 or in some cases 2
250:39 - version 2 now and then some sort of
250:42 - Response Code 200 is a response code
250:45 - that just means okay everything was okay
250:47 - the page was returned successfully for
250:49 - example and here on the second line we
250:51 - see content type text HTML which just
250:54 - means the format of the data that's
250:56 - coming back in this response is HTML
250:58 - data it's HTML data that the user's web
251:00 - browser on the client should then render
251:02 - as HTML for example and there are other
251:05 - content types as well and other
251:06 - information that comes back in that
251:08 - response but the key idea is just
251:09 - thinking about the web in terms of
251:11 - requests and responses one user makes a
251:14 - request to get a particular web page and
251:16 - what they get back is a response like
251:18 - this that hopefully includes status code
251:20 - 200 which means okay but there are a
251:22 - number of other status codes well some
251:24 - of the more popular 200 means okay
251:25 - you've probably seen 404 the status code
251:28 - that means not found if you try to
251:30 - request a web page that doesn't exist
251:31 - for example others you might see are 301
251:34 - moved permanently that often happens if
251:36 - you're redirected from one website to
251:38 - another for example we'll take a look at
251:40 - an example of that shortly
251:42 - 403 generally means forbidden you're
251:44 - trying to access a page you're not
251:46 - supposed to have access to and 500
251:48 - usually refers to some sort of internal
251:49 - server error usually meaning that
251:51 - whoever was writing the server maybe our
251:53 - Django web application has something
251:55 - that's buggy in it and we might need to
251:57 - go back and figure out where that bug is
251:59 - in order to fix it and again there are
252:01 - other status codes as well but these are
252:02 - some of the most common that we're going
252:04 - to be seeing and interacting with as we
252:06 - go about building web applications using
252:08 - Django so Django is a web framework it's
252:11 - a set of tools that is already built for
252:13 - us that's just going to make it easy to
252:15 - get started by writing python code in
252:17 - order to design a fully fledged web
252:19 - application by taking care of some of
252:21 - the stuff that most web pages all have
252:22 - to do such that we can focus on the
252:24 - interesting logic of building our own
252:26 - web applications so the first step
252:28 - you'll need to do in order to use Django
252:30 - is to install it if you're using python
252:32 - you may be familiar with Pip the python
252:34 - package manager which makes it easy to
252:36 - be able to install new packages and the
252:39 - first thing we'll probably want to do is
252:40 - install Django and here we're going to
252:42 - be using python3 so you might need to
252:43 - specify pip 3 install Django to install
252:46 - Django on your system and after you do
252:49 - we can run a command to be able to
252:51 - create a Django project and that command
252:54 - looks something like this Django Dash
252:56 - admin start project followed by the name
252:59 - of the project that we would like to
253:00 - create when we run this command Django
253:03 - is automatically going to create some
253:04 - starter files for us just to get started
253:06 - with the process of building a web
253:08 - application
253:10 - so let's try creating a project now I'll
253:12 - go ahead and go into my terminal window
253:14 - and what I'm going to do is type that
253:16 - command I'm going to type Django admin
253:18 - and then start project and then I need
253:21 - to give this project a name and I'm just
253:22 - going to give this project a name of
253:24 - lecture three for example you can name
253:26 - the project whatever you'd like
253:28 - and when that happens if I type LS what
253:30 - I see is that a lecture 3 directory or
253:32 - folder has been created for me by Django
253:35 - and if I go ahead and open this up
253:37 - inside of my text editor
253:38 - we can take a look at what files are
253:41 - inside of this lecture 3 directory so
253:44 - actually I'll go ahead and CD into
253:46 - lecture three and open it up
253:48 - and what we see inside of lecture three
253:50 - are a couple of files that we're given
253:52 - just to get started so there are a
253:54 - couple files not all of them are really
253:55 - interesting to us right now but first
253:57 - and foremost manage.pi is a file that
254:00 - Django is going to create for us we'll
254:01 - generally not need to touch that file
254:03 - but we're going to use the manage.pi
254:05 - file to be able to execute commands on
254:08 - this Django project and we'll see a
254:09 - couple of examples of that now and a
254:11 - couple of examples of that in future
254:12 - lectures as well and then the other
254:14 - important one that we'll be looking at
254:15 - is settings.pi which just contains
254:17 - important configuration settings for our
254:19 - Django application settings.pi comes
254:22 - pre-loaded with a couple of default
254:23 - settings but we might want to change
254:25 - those settings to be able to add
254:26 - features to our application as well or
254:28 - make some modifications to how the
254:30 - application behaves and then the other
254:32 - important file that's pre-created for us
254:33 - now here is urls.pi and you can think of
254:37 - urls.pi as a sort of table of contents
254:39 - for our web application that On Any
254:41 - Given web application on a website there
254:43 - are a number of different URLs or routes
254:45 - that you can visit on Google for example
254:47 - you can visit slash search or slash
254:49 - images and urls.pi is just going to be a
254:52 - table of contents of all of the URLs on
254:54 - my web application that I can ultimately
254:56 - visit
254:57 - and so if I'd like to try running this
254:59 - web application just to see what it
255:01 - looks like the way to do it in Django is
255:03 - in the terminal
255:04 - I'll run python manage.pi followed by a
255:08 - command and the command is called run
255:09 - server and so this is generally how
255:11 - we'll use manage.pi we'll run manage.pi
255:14 - followed by an argument specifying what
255:16 - command we would like to run and python
255:18 - manage.pi run server means go ahead and
255:20 - actually run this web server
255:23 - if I do this I'm now running this web
255:25 - server locally and I see a bunch of
255:27 - debugging output but the interesting
255:28 - point to me is that it says down here
255:30 - starting development server at HTTP
255:33 - colon slash
255:34 - 127001 colon 8000. and so this is where
255:37 - my web application is currently running
255:40 - 127001 is an IP address an address on
255:43 - the internet that just refers to my
255:45 - local computer the computer I'm looking
255:46 - at right now so only I can access this
255:48 - not anyone else on the internet and 8000
255:50 - is what we would call a port number it
255:53 - just refers to what type of service is
255:55 - being run and you might have multiple
255:57 - different internet services running on
255:58 - different ports in this case our Django
256:00 - application is running on Port 8000.
256:03 - so if I copy this URL and just go ahead
256:06 - and go into my web browser and paste
256:07 - that URL in what I see is just jenga's
256:10 - default page to say our installation of
256:12 - Django works and this now is the default
256:14 - page that Django is going to give to us
256:16 - to say the Django has been loaded for
256:18 - this web application and we can now
256:20 - actually start to begin building this
256:22 - web application by adding the features
256:24 - we want to it and so what we've created
256:26 - here is what we call a Django project
256:28 - and in terms of the way a Django project
256:30 - is structured is that every Django
256:32 - project generally consists of one or
256:35 - more Django applications so one project
256:37 - may have multiple applications within it
256:40 - and the reason for this division is if
256:42 - you think about big websites oftentimes
256:44 - a big website a big project has multiple
256:47 - different apps that are sort of separate
256:48 - services that operate within it Google
256:51 - for example has Google search but also
256:52 - Google images and Google news and Google
256:54 - Maps where you can think of each of
256:56 - those Individual Services as a separate
256:58 - app all under one larger project like
257:01 - Google for example or Amazon's website
257:03 - for instance might be one big project
257:04 - that has a couple of different apps
257:06 - within it one app for shopping maybe and
257:08 - one application for Amazon's video
257:10 - servers for example and so Django comes
257:12 - pre-loaded with this ability to take a
257:14 - project and divide it into multiple
257:16 - distinct apps maybe for simpler apps
257:18 - we're only going to have a project that
257:19 - has one app inside of it instead of
257:21 - multiple but it has the ability to allow
257:23 - us to create these separate apps that
257:25 - have have different capacities
257:27 - so if we want to get started with Django
257:29 - the first thing we'll need to do after
257:30 - we create a project is create a Django
257:33 - app and so the way to do that if you go
257:35 - back to the terminal I'll go ahead and
257:37 - exit out of this server by pressing Ctrl
257:39 - C to say I would like to exit stop
257:41 - running the server so now if I go back
257:43 - to that URL and refresh it it won't work
257:44 - because the Jango server is no longer
257:46 - running
257:47 - but I'll run the command python
257:50 - manage.pi start app and then the name of
257:53 - the app that I would like to create and
257:55 - for our very first app I'll just call
257:56 - this app hello for example
257:59 - so I've now created one Django project
258:01 - called lecture three and inside of which
258:03 - I've created the very first app that
258:05 - I've now called hello
258:07 - and so if we take a look at our files
258:09 - now you'll see that in addition to a
258:10 - lecture 3 directory which existed before
258:12 - we also now have a Hello directory that
258:15 - Django created for us that is going to
258:17 - contain the information needed for the
258:19 - Hello app to work and there are a number
258:21 - of files again that are generated by
258:22 - default we're not going to look at all
258:24 - of them today we're going to focus
258:25 - primarily on views.pi we'll see why in a
258:28 - moment which is going to be the file
258:29 - that lets us describe what it is the
258:31 - user sees when they visit a particular
258:33 - route for example where we can decide
258:35 - what gets rendered to the user and the
258:37 - other files we'll take a look at over
258:38 - the course of this term taking a look at
258:40 - what additional features Django has to
258:42 - offer
258:43 - so we've now created this Hello app that
258:45 - we would like to install into this
258:47 - project and in order to install it we
258:49 - need to go into the settings for this
258:51 - particular Django project so if I go
258:53 - into the lecture 3 directory and open up
258:55 - settings.pi
258:57 - what I'll see here is a big file all
258:59 - created for me by Django I didn't write
259:01 - any of this code but this is all just
259:03 - the default configuration for a Django
259:05 - project and if you scroll down somewhere
259:08 - there you'll see a variable called
259:09 - installed apps which is where Django
259:11 - configures what apps are installed on
259:14 - this project and there are a whole bunch
259:16 - of individual apps that are installed by
259:17 - default that are just created by Django
259:19 - one for example manages sessions which
259:21 - we'll take a look at a little bit later
259:23 - but if I want to add my new app that
259:25 - I've just created called hello to these
259:28 - installed apps I'll go ahead and just
259:29 - add to this list of strings this
259:31 - installed apps variable I'll just add
259:34 - hello and so now hello is going to be an
259:36 - installed app on this particular Django
259:39 - project
259:41 - so now what I'd like to do is actually
259:42 - make this app this Hello app do
259:45 - something and display something when I
259:47 - try and visit a particular route for
259:49 - example so how can I go about doing that
259:51 - well let's go ahead and go into the
259:52 - hello directory and let's take a look at
259:55 - views.pi inside of my Hello app
259:58 - so here's the default file I get for
260:00 - views.pi I see a comment that's given to
260:02 - me by default that says create your
260:04 - views here and you can think of each
260:06 - view as something the user might want to
260:08 - see so let's go ahead and just create a
260:10 - default view and in order to create a
260:12 - view in Django we're going to define a
260:14 - function to this function I'll just call
260:16 - index
260:17 - this function by convention takes this
260:20 - argument a request argument and this is
260:23 - going to be an argument that's going to
260:24 - represent the HTTP request that the user
260:27 - made in order to access our web server
260:29 - so if we want information about that
260:31 - request we can look inside of this
260:32 - request object to get access to some
260:34 - other data and we'll take a look at that
260:36 - momentarily too
260:37 - but now what would I like for this
260:39 - request to do well what I want to do for
260:41 - now is let's just do something simple
260:42 - and return an HTTP response of hello
260:48 - world for example
260:50 - now HTTP response is a special class
260:52 - created by Django and so if I want to
260:55 - use it I'll generally need to import it
260:57 - and so Django is going to give us a lot
260:58 - of features that we might want to use in
261:00 - our web applications but if we want to
261:01 - use them we generally have to import
261:03 - them first and it just so happens and I
261:05 - only know this from Reading Django's
261:06 - documentation that I can include a line
261:08 - like this from django.http import HTTP
261:13 - response to say I would like to import
261:15 - the ability to give an HTTP response and
261:19 - now what I have is a function
261:20 - representing my view this function is
261:22 - called index and what the index function
261:24 - does is it just returns an HTTP response
261:28 - of hello world
261:30 - and so this is the response but now we
261:33 - need to tell the app like when should
261:34 - you actually return this response what
261:37 - URL is the user going to visit and this
261:40 - is where we now begin to create some URL
261:42 - configuration some sort of setting to
261:44 - tell Django when a particular URL is
261:47 - visited then this function should be run
261:49 - in order to return that particular HTTP
261:52 - response so how to do that well in order
261:55 - to do that we're going to need to create
261:57 - a urls.pi file for this particular app
262:00 - so Django has one urls.pi file that
262:03 - works for the entire project but
262:04 - oftentimes We'll have each app contain
262:06 - its own urls.pi file just for the sake
262:09 - of separating things out into different
262:10 - places such that if we have multiple
262:12 - different apps Each of which is doing
262:14 - something independent we can have each
262:16 - of those individual apps have its own
262:18 - urls.pi file to control what URLs are
262:21 - available for that particular app
262:23 - so I'll go ahead and go into the hello
262:26 - directory and I'll create a new file
262:28 - inside of the hello directory called
262:31 - urls.pi
262:33 - and What urls.pi needs is it needs to
262:35 - Define a variable called URL patterns
262:38 - which will be a list of all of the
262:40 - allowable URLs that can be accessed for
262:42 - this particular app
262:44 - and the way you create a URL is by first
262:46 - importing from django.url's import path
262:51 - and let's create our first URL I'll say
262:53 - path and then the first argument here
262:55 - I'm going to give the empty string to
262:57 - mean no additional argument and we'll
262:59 - see what that means in just a moment
263:00 - meaning nothing at the end of the route
263:03 - and then the second argument to path is
263:05 - what view should be rendered when this
263:08 - URL is visited and so if I want to
263:10 - render my index view recall that in
263:12 - views.pi over here I have this index
263:14 - function then what I want to render when
263:16 - someone visits this URL the empty URL is
263:20 - going to be views dot index views is
263:24 - representative views.pi that file where
263:26 - I've defined All of My Views an index
263:29 - just so happens to be the name of the
263:30 - function that I want to call when
263:32 - someone visits this URL for example
263:36 - and then you can optionally provide a
263:37 - path with a string name to represent
263:40 - this URL I'm going to give this a name
263:42 - of index we'll see why this can be
263:44 - useful later on but the idea is giving a
263:46 - name to a particular URL pattern makes
263:48 - it easy to reference it from other parts
263:50 - of the application so later when we
263:52 - might want to link to things or have
263:53 - forms that are submitting to different
263:54 - parts of the web application giving a
263:56 - name to a path can be a useful tool in
263:59 - order to use views last line I need to
264:01 - add to urls.pi is to say from dot in
264:04 - other words from the current directory
264:06 - go ahead and import views
264:09 - anytime I'm using a variable name like
264:10 - views I'm using that name I need to
264:12 - import it from somewhere and it just so
264:14 - happens that views.pi and urls.pi are
264:17 - located in the same directory so I can
264:19 - just say from dot import views to import
264:21 - all of that into
264:23 - this particular file
264:26 - so this now is the urls.pi file for this
264:28 - application
264:30 - but the last step in order to get all
264:31 - this working for the very first time is
264:33 - to go back into the lecture 3 directory
264:35 - and open up urls.pi here
264:38 - this is the urls.pi file for the entire
264:41 - project for all of the apps that might
264:43 - be contained within this project and it
264:45 - just so happens that there's one path
264:46 - already given to us by default called
264:48 - admin which runs a default Django
264:50 - application called the admin application
264:51 - we'll see more about that in the next
264:53 - lecture but for now I'd like to add my
264:55 - own route here to say that I would like
264:57 - for a particular path to lead to not the
264:59 - admin app but the Hello app that I have
265:01 - just now created
265:03 - so I'll go ahead and give this a path of
265:05 - hello
265:06 - and what I'd like to do is say that
265:08 - after you've included the path hello go
265:10 - ahead and include all of the URLs from
265:13 - the urls.pi of my hello application I
265:16 - basically like to link these two URL
265:18 - configuration files together and so the
265:20 - command to do that is include
265:23 - Hello dot URLs inside of the hello
265:26 - module get at the URLs URLs file there
265:29 - and that is now what I would like to add
265:32 - as a URL pattern and in order to do this
265:34 - I also need to import include since I'm
265:37 - using include inside of URL patterns
265:40 - so that was a lot of steps just to get
265:42 - things started but just to get a high
265:43 - level overview of how this is all
265:45 - working I have a Django project called
265:47 - lecture three and inside of lecture
265:49 - three there's a URLs file that decides
265:51 - what URLs I can access I can access
265:54 - slash admin which takes me to the admin
265:56 - application which is created by Django
265:58 - where you don't have to worry about that
265:59 - just yet but now I've just added you can
266:01 - go to slash hello to go to the hello
266:04 - application and when you do that I'm
266:06 - telling Django to look at the urls.pi
266:09 - inside of the hello directory to figure
266:11 - out what additional URLs I can get to
266:13 - from there so this is one master urls.pi
266:15 - file that might connect to multiple
266:17 - different other URL configurations that
266:20 - exist as well
266:21 - then inside of the urls.pi for my app
266:24 - for the Hello app I've said that when
266:27 - someone visits just the default route on
266:29 - this particular application go ahead and
266:31 - just run the index function that is one
266:34 - of my views
266:35 - so all that's to say that now that that
266:37 - is done I should be able to go back into
266:39 - my terminal and run python manage.pi run
266:42 - server to actually start up this web
266:44 - server
266:45 - and now I can go back to this URL but
266:48 - instead of just going to that default
266:49 - URL I'll go ahead and go to that URL
266:51 - slash hello
266:54 - and when I go to slash hello what I see
266:56 - is hello world so what was happening
266:59 - there is that I typed in a URL that URL
267:02 - went to Django and Django looked at that
267:04 - URL and looked at my urls.pi file and
267:07 - said you know anytime something starts
267:08 - with Slash hello that belongs to the
267:10 - Hello app and inside of our hello
267:12 - configuration we said that when we go to
267:14 - the default route we should run the
267:16 - index function and the index function
267:18 - returns this hello world response
267:22 - and now we can begin to change that
267:24 - response we can begin to adjust what it
267:26 - is that views.pi is actually doing right
267:29 - now it says hello world but if I want to
267:31 - change it to just say like hello for
267:32 - example I can just edit it now say the
267:35 - index function just returns an HTTP
267:37 - response of hello for example
267:40 - and so now if I refresh this page now it
267:43 - just says hello so I can edit my files
267:46 - when I do Django notices that a change
267:48 - has been made and it will re-update the
267:50 - server with my latest code such that now
267:52 - I can visit slash hello and I can see
267:54 - that an HTTP response of hello is what
267:57 - ultimately comes back to me
267:59 - so now let's take a look at the idea
268:01 - that in addition to just having one view
268:03 - inside of us.pi I can have as many views
268:05 - as I want I can create additional
268:07 - functions that each return different
268:09 - responses maybe I'd like a route that
268:12 - says hello to me for example so let me
268:14 - Define a new function then I'll call
268:16 - Brian
268:17 - that accepts the request argument and
268:19 - this function is just going to return
268:21 - HTTP response
268:23 - hello
268:25 - Brian for example
268:27 - and now I need to associate this new
268:29 - view that I've created with the URL so
268:31 - I'll go ahead and go back to urls.pi
268:33 - inside of my hello directory and so I
268:36 - have a default route represented by the
268:38 - empty string that loads the index
268:40 - function but I can add to this just add
268:42 - to this list add a new path
268:44 - where if I type Brian into the URL
268:46 - instead that will load the Brian
268:48 - function and I'll go ahead and give that
268:50 - a name as well
268:51 - [Music]
268:53 - so now if I refresh the page I'm still
268:56 - on just the slash hello route and that
268:58 - just displays hello for example but if I
269:00 - go to slash Brian for example now I see
269:03 - Hello Brian I have two different URLs
269:05 - one that is just slash hello with
269:07 - nothing after it which was that empty
269:09 - string and one which was Slash hello
269:10 - with Brian following it that loads a
269:12 - different view function that returns a
269:15 - different HTTP response and so we could
269:17 - imagine continuing to do this I might
269:19 - want a web application that has a number
269:21 - of different URLs that I can visit so I
269:23 - could go ahead and add like a David
269:25 - function for example
269:26 - that returns an HTTP response
269:30 - of hello David
269:33 - and then again inside of my URL
269:34 - configuration I would say go ahead and
269:36 - give me another route call David that
269:39 - loads the David function
269:42 - each time I'm giving it a URL so what
269:45 - comes after the slash hello I'm giving
269:47 - it a function to run the David function
269:50 - inside of views.pi and giving it a name
269:53 - just to make it easier to reference a
269:55 - little bit later
269:56 - so now I have slash hello Brian and now
269:59 - I have slash hello David Each of which
270:02 - displays a different hdb response so you
270:05 - can imagine starting to use this feature
270:07 - to begin to build a web application that
270:09 - has a number of different routes it has
270:10 - different routes to do different things
270:12 - and many web applications are
270:15 - parameterized by what it is that's
270:17 - actually in the URL so for example on
270:19 - Twitter you can go to twitter.com
270:21 - someone's username to see all of that
270:23 - user's tweets for example or GitHub a
270:26 - service we've taken a look at now you
270:27 - can go to github.com your GitHub
270:30 - username to be able to see all of the
270:32 - repositories for a particular user for
270:34 - example
270:35 - so if you think about how that might be
270:37 - implemented if either of these Services
270:38 - were using Django they might have a
270:40 - urls.pi file or something like it that
270:44 - is just defining a whole bunch of URLs
270:45 - and saying what route should be
270:47 - associated with them
270:48 - when someone visits that page
270:51 - but you can imagine ultimately that this
270:53 - is probably going to start to get
270:54 - tedious that if I want to say hello to
270:57 - anyone if I want to not only support
270:58 - slash hello Brian and slash David but I
271:01 - also want to support arbitrary names
271:03 - like slash Harry or slash Ron or slash
271:05 - Hermione well then it would seem that I
271:07 - need to create a whole bunch of
271:08 - different functions Each of which says
271:10 - hello to a different person and then
271:12 - create a whole bunch of different URLs
271:13 - to be able to do that as well
271:15 - but it turns out that what I can do is
271:18 - create URL patterns that have
271:20 - placeholders in effect things that allow
271:22 - me to parameterize the path via certain
271:25 - path converters so to speak so what does
271:28 - that actually mean
271:29 - well let's instead of creating functions
271:31 - that just say hello Brian and hello
271:32 - David let me create a new function
271:34 - that's just called greet for example
271:37 - that also takes a request but takes an
271:40 - additional parameter takes a parameter
271:42 - like someone's name for example
271:45 - and this greet function is going to
271:46 - return an HTTP response
271:49 - of hello comma and then I'll go ahead
271:52 - and plug in the name here and I'll need
271:55 - to add an F to the beginning of the
271:56 - string to indicate that it's a formatted
271:58 - string this is just python syntax to say
272:00 - that I would like to say hello not just
272:02 - to anyone but to whatever the value of
272:04 - the name variable happens to be I'd like
272:06 - to substitute the name variable into
272:08 - that greet function
272:10 - and then what I can do
272:12 - is inside of urls.pi I'll go ahead and
272:15 - add another path
272:17 - but instead of saying a name like Brian
272:19 - or David or Harry for example here I'm
272:22 - going to say in angled brackets stir
272:25 - colon name
272:27 - and when someone visits that route let's
272:29 - go to the views.greatfunction and the
272:32 - name for this route will be greet
272:35 - and so what's going on here is we have a
272:37 - fundamentally different kind of path
272:39 - rather than prescribing exactly what the
272:41 - URL should look like like nothing after
272:43 - the end of the route or Brian at the end
272:44 - of the route or David at the end of the
272:46 - route this route here on line seven is
272:48 - saying this route could be any string
272:51 - that we're going to give a variable name
272:53 - of name to but you could replace a name
272:54 - with something else entirely and this
272:56 - could be any string so it could be Brian
272:57 - or David or could be any other name and
273:00 - when that happens we'll call the Greet
273:01 - function and when that function is
273:03 - called it will pass in this argument
273:05 - this name as a parameter to that
273:08 - function
273:09 - so now be able to create a custom route
273:11 - that allows me to specify any string and
273:14 - figure out how to deal with that
273:15 - appropriately
273:16 - so now if I visit slash hello Harry for
273:19 - example not a route that I explicitly
273:21 - created but that is a string Harry is a
273:23 - string I press return it says hello
273:25 - Harry I can go to slash hello Ron and
273:28 - say hello Ron and slash Hermione to see
273:31 - Hello Hermione as well and you know what
273:33 - maybe just for good measure I'd like to
273:35 - capitalize this name like Hermione for
273:37 - example
273:38 - well the way to do that is that I can
273:40 - add arbitrary python logic it turns out
273:42 - that with any python string there is a
273:44 - function or method on that string called
273:46 - capitalize that I can say is just dot
273:49 - capitalize
273:52 - and if I can do it in Python then Django
273:54 - allows me to incorporate it into the
273:56 - response that I'm giving back so I'm now
273:57 - using python to take the name capitalize
274:00 - it and use that in the response that
274:03 - gets sent back to the user so now slash
274:05 - reminding returns hello Hermione with a
274:07 - capital H likewise for hello Ron
274:09 - likewise for hello Harry I've now been
274:12 - able to add a route
274:14 - that takes an HTTP request as well as a
274:17 - parameter that name whatever was in the
274:18 - URL and return an HTTP response that
274:22 - just says hello to that person
274:24 - so these HTTP responses can be any HTML
274:28 - content right now we're just using text
274:30 - but you can imagine adding lists or
274:32 - tables to this as well but you might
274:34 - imagine that if I have to include an
274:36 - entire HTML page just inside these
274:38 - double quotes that that's going to get
274:40 - unwieldy very quickly very quickly we're
274:42 - going to find that there's a lot of HTML
274:44 - to just go in a single string inside of
274:46 - a Python program and if we think back to
274:48 - the principles and the ideas that we've
274:50 - been looking at in this course so far
274:51 - we've generally tried to separate out
274:53 - different parts of our application
274:55 - wherever possible and there's a lot of
274:57 - value in that one in just keeping things
274:58 - clean two and making sure that people
275:00 - are able to collaborate if you want one
275:02 - person working on the python logic and
275:04 - one person working on the HTML you'd
275:06 - rather they not step on each other's
275:07 - toes as they're working and so what we
275:09 - can do in Django as well is separate the
275:12 - response the HTML from the actual python
275:16 - code here as well and so the way we can
275:18 - do that is instead of returning an HTTP
275:21 - response I can instead let's say for
275:23 - this default route instead of returning
275:26 - an HTTP responsive hello let me go ahead
275:28 - and render
275:30 - and when I render something I need to
275:32 - pass in the HTTP request but I'll also
275:35 - pass it pass in the name of a template
275:37 - and I'll go ahead and call this template
275:39 - hello slash index.html
275:43 - so if I don't want to render just a
275:45 - string but I want to render an entire
275:47 - HTML file I can call this render
275:50 - function pass in the request but then
275:52 - also pass in the name of a template and
275:54 - now all I need to do is create that
275:56 - template so let me go ahead and inside
275:58 - of the hello directory I'll create a new
276:01 - folder called templates
276:04 - inside of that template I'll create a
276:05 - folder called hello because the template
276:08 - name here is hello slash index.html so I
276:11 - need to create a folder called hello
276:13 - inside of which is a file called
276:15 - index.html I could have just called it
276:17 - index.html without the hello but the
276:19 - reason we often want to prefix our
276:21 - templates with the directory name is to
276:23 - so-called namespace them to make sure
276:25 - that if we have multiple different
276:27 - index.html files in multiple different
276:28 - apps to make sure they don't conflict
276:30 - with each other so Django best practice
276:32 - is to use hello
276:34 - index.html or whatever your app name is
276:36 - and inside of that hello directory I'll
276:39 - then create a file called index.html
276:42 - and this index.html can contain any HTML
276:46 - content same as we've seen before so I
276:48 - could add that doctype the HTML tag a
276:51 - title of hello and maybe inside the body
276:54 - I'll have an H1 that says
276:57 - hello world for example so I can have an
276:59 - entire HTML page just like this
277:02 - and now when I visit the default route
277:04 - of my web application by going back into
277:06 - my web browser and just going to slash
277:08 - hello for example now I see that HTML
277:12 - that I've defined inside of Hell of
277:14 - index.html it's a big H1 that just says
277:17 - hello world
277:19 - and it turns out that these HTML Pages
277:22 - these templates that I can render using
277:23 - Django are parameterizable as well right
277:27 - maybe I want to implement hello Hermione
277:29 - as some sort of HTML page an HTML page
277:33 - that says hello comma Hermione and using
277:36 - HTML out of the box you can't really do
277:38 - stuff like this HTML is a markup
277:40 - language not so much a programming
277:42 - language which means it doesn't by
277:43 - default have support for things like a
277:45 - variable to represent someone's name but
277:48 - using Django's ability to take an HTML
277:50 - page and treat it like a template that
277:52 - we can render Django has added its own
277:55 - templating language so to speak on top
277:57 - of the existing HTML and I can take
278:00 - advantage of that to be able to render
278:02 - an HTML page that actually has a
278:04 - variable inside of it or a condition
278:05 - inside of it or a loop inside of it as
278:08 - we'll see in just a moment as well
278:10 - so let's go ahead and go back to
278:12 - views.pi and the function that I would
278:14 - like to change is this greet function
278:16 - here that right now is just returning an
278:18 - HTTP response but I'd like to render an
278:21 - entire page for example so what might I
278:24 - render well let's render
278:26 - a template called hello slash greet dot
278:30 - HTML
278:31 - and then this render function can take
278:33 - an optional third argument which is
278:35 - called the context
278:37 - and the context is all of the
278:39 - information that I would like to provide
278:41 - to the template all the variables for
278:44 - example that I want the template to have
278:45 - access to
278:46 - and so one thing I might want my
278:48 - template to have access to for instance
278:49 - is something like a name
278:52 - and so this is a python dictionary just
278:54 - a sequence of key value Pairs and this
278:57 - name might be associated with what
278:59 - values of name is the key the value I
279:02 - want to be name dot capitalize
279:06 - and so what's going on here is that now
279:08 - when I render this template this
279:10 - template hello slash greet.html I'm
279:13 - providing that template with some
279:14 - additional context some additional
279:16 - information as represented by this
279:18 - dictionary here where I'm providing
279:20 - information with a key of name I'm
279:22 - effectively giving this template access
279:23 - to a variable called name and its value
279:26 - is whatever name dot capitalize is equal
279:29 - to where this name here is the argument
279:31 - to the function greet
279:33 - so now I can return this template and
279:35 - inside of greek.html I can use this
279:38 - variable called name
279:40 - so how do I go about doing that
279:42 - well let's first create that greet.html
279:45 - file so inside of the template hello
279:48 - directory I already have index.html I'll
279:52 - go ahead and create a new file called
279:54 - greet.html
279:56 - and inside of greek.html I'll go ahead
279:58 - and write some HTML
280:03 - and inside the body of the HTML whereas
280:06 - before I might have said something like
280:07 - hello comma world
280:09 - I don't want to say hello to world I
280:11 - just want to say hello to whoever the
280:13 - name is whatever is contained inside of
280:15 - that variable called name
280:18 - so how might I go about doing that well
280:21 - what I can do is use these double curly
280:23 - braces and double curly braces are part
280:26 - of the Django templating language that
280:28 - allows me to say I would like to plug in
280:30 - the value of a variable into this
280:32 - particular position inside of my
280:34 - template
280:35 - and so if I include the word name here
280:37 - then what I'm saying here is that when
280:40 - you render this greet.html template
280:42 - inside the body of the page I would like
280:44 - for there to be an H1 a big heading that
280:47 - just says hello comma and then inside
280:49 - these double curly braces I'm saying
280:51 - Plug In the value of the variable name
280:54 - there his name is Hermione it's going to
280:55 - be hello Hermione if it's Harry it's
280:57 - going to be hello Harry if it's David
280:58 - it's going to be hello David
281:01 - so let's go ahead and give this a try
281:02 - now
281:03 - when I go to slash hello Harry for
281:06 - example I now see a big H1 tag that says
281:10 - hello Harry if I go to slash hello Ron I
281:12 - see a big H1 that says hello comma Ron
281:15 - and the reason why all this is happening
281:17 - the way we're getting to that final
281:19 - position is because URLs says that when
281:22 - I have a URL that just is a string like
281:24 - someone's name we'll call the Greet
281:26 - function
281:27 - the Greet function inside of views.pi
281:29 - it's taking the name as an argument
281:31 - rendering the greek.html template and
281:34 - passing in that name as part of the
281:36 - context part of what the template has
281:38 - access to
281:39 - and inside of greet.html here is the
281:42 - actual HTML file here is where we then
281:45 - plug in the value of name
281:48 - so it's a lot happening across a lot of
281:50 - different files but the reason for all
281:52 - these various different files is to help
281:54 - keep things separate to have one file
281:56 - that is just responsible for URLs and
281:58 - directing people to where what should
282:00 - happen when those URLs are clicked then
282:02 - we have one file views.pi that is
282:04 - entirely responsible for deciding on
282:07 - this particular view what template
282:08 - should be rendered what information
282:10 - should be passed in this context and
282:12 - then I separately have a file for each
282:14 - of my HTML templates that are saying
282:16 - what does the page actually look like
282:18 - and so if you start to begin to think
282:20 - about the separation of components
282:22 - inside of a web application it can help
282:24 - to make the structure of a Django
282:26 - application a little bit clearer
282:29 - so we've now been able to use the Django
282:31 - templating language to put variables
282:33 - inside of our HTML templates to be able
282:35 - to create an infinite number of
282:37 - different routes where I can visit slash
282:39 - hello some name in order to display
282:42 - hello to that person's name but the
282:44 - Django templating language is even more
282:46 - powerful than just that there are a lot
282:47 - of additional features that the
282:49 - templating language is going to give us
282:51 - access to
282:52 - and we'll take a look at a couple of
282:53 - those now and to start I'm going to
282:55 - introduce you to a website you may be
282:57 - familiar with I consider it to be one of
282:59 - the simplest websites on the Internet
283:00 - it's a real website called is
283:02 - itchristmas.com and if I visit is it
283:05 - christmas.com and press return here's
283:08 - what the website says the website says
283:10 - no it is not Christmas and you just have
283:13 - to take my word for it if you visit this
283:14 - website on Christmas day you go to is
283:16 - itchristmas.com it will instead say yes
283:19 - and so this website is very simple you
283:22 - might imagine that it's really just an
283:23 - HTML page that probably contains a big
283:25 - heading that in this case just says the
283:27 - word no but on Christmas day just says
283:29 - the word yes now how might a page like
283:32 - this be implemented well one way you
283:33 - could imagine is that on Christmas Day
283:35 - whoever maintains the website goes into
283:37 - the HTML and changes no to yes and then
283:40 - afterwards changes the yes back to a no
283:43 - but we can be a little bit cleverer
283:45 - about this if we realize now that we
283:47 - have the ability to use Python logic to
283:49 - be able to use logic like a condition to
283:52 - be able to decide how a web page is
283:54 - ultimately going to be rendered for
283:56 - instance the condition might be
283:57 - something simple like if today's date is
283:59 - Christmas then render yes else render no
284:02 - and so we're going to use Django and
284:04 - take a look at some of the features of
284:05 - Django's templating syntax to be able to
284:08 - create a website like this we're not
284:09 - going to create is it Christmas we're
284:11 - going to create is it New Year's the
284:12 - checks if the current date is January
284:14 - 1st or not
284:16 - this is going to be a separate app it's
284:18 - sort of distinct from our Hello app the
284:20 - Hello app just says hello to people the
284:22 - new year app for example is just going
284:24 - to see whether or not it happens to be
284:26 - New Year's for example
284:28 - so I will now go ahead and create a new
284:30 - app and I can do that by writing python
284:32 - manage.pi start app and I'll call the
284:35 - app New Year for example I'd like to
284:37 - create a new app called New Year
284:40 - I've now created that new app if I type
284:41 - LS you'll see that not only do I have a
284:43 - Hello directory that represents the
284:45 - Hello app I now have this New Year
284:47 - directory that represents the fact that
284:49 - this is a new app called New Year
284:52 - as with before I'll need to go into
284:55 - settings.pi inside of my project
284:57 - directory
284:58 - and add new year as an installed app
285:01 - this is now a new app that exists in my
285:04 - web application
285:05 - so it too now needs to be a new
285:07 - installed app what else do we need to do
285:10 - for new apps well I need to go into
285:11 - urls.pi for uh lecture three
285:16 - and just as before I had a path saying
285:18 - when I go to slash hello then you should
285:20 - go to all the URLs for the Hello app let
285:23 - me add a new path that says that if I go
285:25 - to my application slash New Year
285:28 - well then you should go to all of the
285:29 - URLs for the new year file go to new
285:33 - years.urls representing the urls.pi file
285:36 - inside of the New Year's app now that
285:39 - file isn't given to us by default so we
285:41 - need to create it I need to go into
285:44 - my new year folder
285:47 - and create a new file called urls.pi and
285:51 - inside of that file I'll do from
285:54 - django.urls import path from dot import
285:57 - views and then Define some URL patterns
286:00 - same as before where I'll just have a
286:02 - single path that loads the index
286:05 - function inside of views.pi and it has a
286:07 - name of index
286:10 - so again just mirroring the type of
286:12 - structure that we've already seen before
286:13 - in the Hello app this app is just going
286:15 - to have a single route the empty route
286:17 - that loads the index function
286:21 - now all it's left to do is to actually
286:22 - create that index function so I go into
286:25 - views.pi and here now I'll Define an
286:28 - index function that takes an HTTP
286:30 - request as an argument and now inside of
286:33 - this index function I would like to add
286:35 - some logic that checks whether or not
286:37 - it's January 1st and so how might I go
286:40 - about doing that in Python well it turns
286:42 - out that there is a date time module in
286:45 - Python you can learn about this just by
286:46 - reading up about its documentation to
286:48 - figure out how it works and the date
286:49 - time module gives me access to things
286:52 - about the date and time for instance and
286:54 - I can play around with the date time
286:55 - module outside of Django just to get a
286:57 - feel for how it works if I just type
286:59 - python Into The Interpreter
287:01 - into my command line rather what I get
287:04 - is the python interpreter that lets me
287:06 - just write python code just to
287:08 - experiment and test and see what the
287:10 - result of running this python code would
287:12 - be so I can try like import date time
287:14 - for example
287:16 - and let me create a new variable called
287:18 - now which is
287:20 - dateetime.date time.now it just so
287:23 - happens that inside of the date time
287:24 - module is a function called datetime.now
287:27 - that gets the current date and time for
287:30 - example
287:30 - and so inside of now I have access to
287:33 - variables like now dot year for an
287:35 - example which tells me the year
287:37 - now.month now dot day that gives me
287:39 - information about the year the month and
287:42 - the day of the current timestamp based
287:44 - on getting whatever the current time is
287:45 - right now
287:46 - and given that I have this information
287:48 - you can imagine us constructing a
287:50 - Boolean condition to check whether or
287:53 - not today is in fact
287:55 - the New Year and that condition might
287:57 - look like now dot month equals one
288:00 - and now dot day equals one I can press
288:04 - return and see that okay the result of
288:06 - this condition is false it is not true
288:08 - that both the month and the day are true
288:12 - or are one rather and so using that sort
288:15 - of condition I can now take that and
288:16 - adapt it into my Django view that I'm
288:20 - using to try and render whether or not
288:22 - it's the new year or not
288:24 - so how might I go about doing that well
288:26 - what I'd like for my index function to
288:27 - do is return render a template the
288:31 - template will be called New Year slash
288:33 - index.html
288:35 - and then what context would I would like
288:37 - to provide to this template what
288:39 - information what variables do I want for
288:41 - this template to have access to well I
288:43 - wanted to have access to a variable
288:45 - that'll just be called New Year
288:46 - [Music]
288:47 - and in order to access that I need
288:49 - access to the current date consider do
288:51 - that I'll at the top of my file I'll go
288:53 - ahead and import date time
288:57 - and inside of my index function let me
289:00 - give myself a variable called now which
289:02 - is equal to date time.datetime.now
289:05 - and this New Year variable that I'm
289:07 - passing in to my template will be equal
289:10 - to now dot month
289:13 - equals one and now dot day equals one
289:17 - so if it is the case that after I get
289:19 - the current date and time by running
289:22 - datetime.datetime.now saving the result
289:24 - inside of this variable called now
289:26 - if both the month and the day are equal
289:28 - to one then the value of this New Year
289:30 - variable is going to be true when the
289:32 - template gets access to it otherwise as
289:34 - it is the case today and on most days
289:36 - the value of that variable is going to
289:38 - be false
289:39 - Now All That Remains for us to do is to
289:41 - actually create this template New Year
289:43 - slash index.html and have that template
289:46 - somehow use this new year variable in
289:49 - some interesting or meaningful way
289:52 - so how do we do that well if you recall
289:54 - what we did with the hello application
289:55 - when we want a template then inside of
289:58 - our application this new year app will
290:00 - need a new folder
290:01 - that we'll call templates
290:04 - inside of which I'll create a new folder
290:08 - called New Year
290:09 - and inside of that I'll create a new
290:11 - file that will be called index.html
290:15 - here will be the index.html file for
290:18 - this new year application
290:20 - the structure will be very similar I'll
290:21 - give it a title of is it New Year's
290:25 - and inside the body now here's where the
290:28 - interesting logic is sometimes I might
290:30 - want a big H1 that says yes
290:32 - other times I might want a big H1 that
290:34 - says no and what I need to do is
290:36 - conditionally decide when to say yes and
290:39 - when to say no
290:40 - and inside Django's templating language
290:42 - and again you'd only know this by
290:44 - reading Django's documentation just as
290:46 - we used double curly braces to say plug
290:48 - in the value of a variable here the
290:51 - Syntax for logic inside of a Django
290:53 - template like conditions is curly brace
290:56 - percent sign
290:57 - so we use curly brace percent sign some
290:59 - logical statement and then percent sign
291:01 - curly brace to include any kind of logic
291:04 - and the logic in this case is an if
291:06 - statement and this is very python-like
291:07 - we'll say if
291:09 - New Year
291:11 - New Year is the name of that variable
291:12 - that I passed into this template and if
291:15 - it is the new year then I want to
291:17 - display an H1 that just says yes
291:20 - and then else
291:22 - also inside of curly braces and percent
291:24 - signs I want a big H1 that just says no
291:28 - so if it's the new year then yes else no
291:31 - and then Django also requires me to give
291:33 - an end if tag to say this is the end of
291:36 - the if statement unlike python itself
291:38 - that uses indentation to denote when the
291:41 - if statement is beginning and ending in
291:42 - Django the indentation is optional
291:44 - inside of the template but in order to
291:46 - distinguish when the if statement is
291:48 - happening from when the if statement is
291:49 - over we need this end if tag at the very
291:52 - end
291:53 - so this here is a condition inside of
291:55 - our Django template we're saying if a
291:57 - particular variable is true then render
291:59 - this in the HTML and else render
292:02 - something else if it's the New Year say
292:04 - yes it's the new year otherwise say no
292:06 - it is not the new year
292:08 - so we can try this out right now we're
292:10 - on the route hello Ron if I instead not
292:13 - go to slash hello but go to slash New
292:15 - Year for example
292:17 - the site can't be reached okay so why
292:19 - did that happen
292:20 - 127.001 refused to connect so what must
292:23 - be happening is for some reason my web
292:24 - server isn't running and it turns out
292:26 - that in order to create the new
292:27 - application I had stopped my web server
292:29 - and so if ever that happens to start it
292:31 - up again we can just rerun python
292:34 - manage.pi run server to say I would like
292:37 - to now start up this web application
292:38 - again
292:39 - and all right it looks like now I have
292:42 - another error there's some sort of
292:43 - syntax error and the syntax error is in
292:46 - New Year slash views of dot Pi so let me
292:49 - go ahead and go back into views.pi and
292:51 - see if I can spot where the syntax error
292:53 - is and all right it looks like render is
292:55 - a function function arguments need to be
292:57 - enclosed in parentheses and while I have
292:59 - a starting parenthesis here I'd
293:01 - forgotten a closing parenthesis so I'll
293:02 - go ahead and add that and now that will
293:04 - complete the render function
293:06 - and now I should be able to load slash
293:09 - New Year and indeed what I see is that
293:11 - no it is not the new year and so what
293:14 - happened is we ran some python logic
293:15 - calculated the current date and time
293:17 - checked to see is the current month one
293:19 - is the current day one and if that's not
293:21 - true then we're here displaying no
293:24 - if we look at the actual HTML of this
293:26 - page like what HTML is actually making
293:28 - up this particular page which I can do
293:31 - by right clicking and control clicking
293:33 - and just clicking view page Source this
293:36 - will show me the HTML of this page this
293:38 - is the HTML that came back from the web
293:40 - server that my web browser Chrome in
293:43 - this case is rendering and what you can
293:44 - see is it looks very similar to the
293:46 - index.html template we wrote before but
293:49 - it only contains no it doesn't contain
293:51 - any of that if logic it doesn't contain
293:53 - the yes it just contains the HTML
293:55 - content that we wanted to respond with
293:58 - back to the user
294:00 - and so you might imagine based on this
294:02 - that what Django is really doing is
294:04 - taking the index.html template and then
294:06 - manipulating it based on the input we
294:08 - get based on whether or not it's the new
294:10 - year or not to say that if it's not the
294:12 - new year then all we should do inside
294:14 - the body is display an H1 that says no
294:16 - and the user when they get it they don't
294:18 - see the conditions they don't see there
294:19 - was another branch that could have been
294:21 - taken they only see the final result of
294:23 - rendering the template with whatever
294:25 - variables and logic and conditions
294:27 - happen to be inside of that rendering
294:29 - process so when the user sees it all
294:31 - they see is the word no
294:34 - and if we were to run this program on
294:36 - New Year's Day it would indeed say yes
294:38 - and we can test it just to see what it
294:39 - would be like if that were the case by
294:41 - cheating a little bit instead of now dot
294:43 - month equals one and now to day equals
294:44 - one let me just go ahead and replace
294:46 - this condition with new year is equal to
294:49 - true just to test it let's try passing
294:51 - in the value true as the value of New
294:53 - Year and see what happens instead and
294:55 - now when I run this page now it does say
294:57 - yes as we might expect it to on New
294:59 - Year's and so that can be a nice way of
295:01 - just testing what would happen if you
295:03 - were to replace a particular variable
295:05 - with a particular value we can
295:07 - substitute inside the context just for
295:09 - development purposes what value we would
295:11 - like that variable to take on
295:13 - [Music]
295:14 - now we've rendered HTML but we haven't
295:16 - really added any styling to this website
295:18 - just yet the real is it christmas.com
295:20 - has the text centered a little bit it's
295:22 - in Sans serif font instead of having the
295:24 - little serifs or the glyphs at the edge
295:26 - of each of the characters so maybe I'd
295:28 - like to add some custom CSS to this file
295:31 - as well and we could do this
295:33 - conventionally the way we've seen it
295:34 - done before by just including a CSS file
295:36 - and that is what we're still going to do
295:38 - but Django has a special build system
295:40 - for dealing with what are called Static
295:43 - files files that aren't going to change
295:45 - the HTML of this page that's not a
295:47 - static file because it changes depending
295:50 - on whether it's New Year's or not if I
295:51 - visited on New Year's it says yes if I
295:53 - visit it when it's not New Year's it
295:55 - says no and so this is a dynamic page
295:57 - but static files files that don't change
296:00 - like our CSS the CSS doesn't change
296:02 - whether it's New Year's or not and
296:04 - because that's files unchanging Django
296:06 - calls it a static file and it means that
296:09 - Django can be a little bit cleverer
296:11 - about it if you start to think about
296:12 - projects at scale you might store your
296:14 - static files somewhere separate just in
296:16 - some place that makes it easy to access
296:17 - where they're cached for faster reads
296:20 - later on we'll talk about that a little
296:21 - more later in the course as we start to
296:23 - delve into topics like scalability as
296:25 - you begin to build larger web
296:26 - applications on the internet but long
296:28 - story short Django contains a lot of
296:30 - features that make it easy for us to
296:32 - deal with static files files that don't
296:34 - change like CSS files
296:36 - and generally the way that we'll add
296:38 - static files is inside of the New Year
296:41 - folder in addition to having a template
296:43 - slash New Year slash index.html we'll
296:46 - also create a new folder called Static
296:49 - that will contain all of the static
296:51 - files that we would like to include
296:53 - inside of this application as well
296:56 - inside a static I'll create a new folder
296:58 - called New Year
296:59 - inside of which is a new file called
297:01 - styles.css
297:04 - and so inside of scales.css I can now
297:06 - write all of the same CSS that I would
297:08 - want to have written before so maybe I
297:10 - want all my H1s to have a font family of
297:13 - sans serif
297:15 - a font size of 90 pixels maybe and I
297:18 - want the text alignment to be centered
297:21 - just a couple of CSS properties and
297:23 - values same as we've already seen just
297:25 - to say I would like to give H1 tags this
297:28 - particular style
297:30 - now what's left to do inside of
297:32 - index.html is at the top of our page
297:34 - I'll go ahead and add a command that
297:37 - says load static to mean go ahead and
297:40 - load static files for this particular
297:43 - HTML page
297:44 - and now I'll go ahead and Link
297:48 - a style sheet you'll recall that
297:51 - this type of command inside the head
297:53 - section of my web page where I would
297:55 - like to link some particular URL as a
297:58 - style sheet is how I add CSS to a page
298:00 - but what I'm going to include in here is
298:02 - the link is I'm going to include rather
298:05 - than hard coding a URL which I could do
298:07 - Django best practice says that instead
298:10 - let's just say it's going to be a static
298:12 - file and the static file is called New
298:15 - Year styles.css
298:18 - so I'm not specifying exactly what the
298:20 - URL is but I'm saying it is a static
298:22 - file that is inside of a new year folder
298:25 - called styles.css and Django is going to
298:27 - figure out what that URL ought to be and
298:30 - this is often better than hard coding a
298:32 - specific URL because maybe you might
298:34 - imagine in larger web applications where
298:36 - your static files are might change you
298:38 - might move your static files to a
298:39 - different domain or to a different route
298:41 - and so in order to deal with that this
298:43 - static keyword just means Django will
298:45 - figure out where your static files are
298:47 - located and will replace this command
298:49 - here in the curly braces and percent
298:51 - signs with the actual URL for this
298:54 - particular file so now that I've said
298:56 - that I want to link this particular
298:58 - static file styles.css into this webpage
299:01 - what I might first need to do just to
299:03 - let Django load static files is restart
299:04 - the server so you might sometimes need
299:06 - to control C and then go ahead and rerun
299:08 - python manage.pi run server that will
299:11 - rerun the server and now if I go back to
299:13 - the slash New Year route inside my web
299:15 - browser now I see the style look a
299:17 - little more close to what I actually
299:18 - wanted it to be centered sans-serif in a
299:21 - larger font that here just says no and
299:23 - if we look at the underlying HTML of
299:25 - this page we see that Django is actually
299:28 - for us filled in what the static URL is
299:31 - for these particular static files and by
299:34 - default Django just uses slash static
299:36 - slash and then whatever the files happen
299:39 - to be
299:40 - and so anytime we're dealing with static
299:41 - files files that don't change like CSS
299:44 - files or JavaScript files we'll take a
299:45 - look at later in the course that's
299:47 - generally where they're going to go as
299:49 - some sort of static file that we're
299:50 - going to ultimately link to this
299:52 - particular page
299:54 - so now we've seen a couple of examples
299:56 - of web applications we can make using
299:58 - Django we've seen the Hello app in
300:00 - Django that can parameterize URLs that
300:03 - depending on the URL we visit can say
300:04 - hello to Brian or hello to David or
300:06 - Harry or Ron or Hermione and we've seen
300:08 - the ability to using Django add some
300:10 - conditions to be able to conditionally
300:12 - say if something is true render this
300:14 - page if something else is true render
300:16 - another page let's now use these
300:18 - features plus some additional features
300:19 - to begin to build a more sophisticated
300:21 - web application something like a to-do
300:24 - list that maybe I want a web application
300:26 - that gives me a list of tasks that lets
300:28 - me add new tasks to my to-do list and
300:30 - lets me view all of the tasks that are
300:32 - currently on my list and I'd like to
300:34 - build this up one step at a time
300:37 - so where can I start with this well this
300:39 - again is going to be a new app inside of
300:42 - my lecture 3 project I have two apps so
300:44 - far a Hello app and a app for the new
300:47 - year and now what I'd like to do is
300:48 - create a third app that I'm just going
300:50 - to call tasks that is going to be my
300:52 - task management app that's all under
300:54 - this umbrella lecture 3 project
300:56 - so I'll go ahead and run python
300:58 - manage.pi start app tasks to say I'd
301:02 - like to go ahead and create a new app
301:03 - called tasks anytime I create a new app
301:06 - a couple of steps I need to follow
301:08 - recall that I need to go into
301:09 - settings.pi
301:11 - inside of lecture three
301:14 - to say that in addition to installing
301:15 - hello and New Year I'd also like to
301:17 - install the tasks app for example
301:21 - then I need to go into urls.pi inside of
301:24 - lecture three to say that in addition to
301:26 - hello and New Year I'd also like for us
301:28 - to include the URLs for tasks this URLs
301:32 - is again the table of contents for my
301:34 - entire web application where my web
301:36 - application if I visit slash hello then
301:39 - we go to the URLs for the Hello app if I
301:41 - go to slash tasks then I go to the URLs
301:43 - for the tasks app so on and so forth it
301:45 - tells me all of the different URLs that
301:47 - I now have access to
301:49 - and as with before the URLs file isn't
301:52 - created for me inside of my application
301:55 - so I will need to go into the tasks
301:58 - directory
301:59 - and inside of the task directory I'll go
302:02 - ahead and create a new file that I will
302:04 - call urls.pi and the format of this is
302:07 - going to be very similar to what we've
302:09 - already seen from django.urls import
302:11 - path from dot import views and now I
302:15 - Define my URL patterns where I would
302:17 - like a path
302:19 - that it's just the empty string the
302:21 - empty path for now that loads the index
302:23 - function whose name is index for example
302:26 - [Music]
302:28 - so now let's actually write this index
302:29 - function inside of views.pi
302:32 - what I'd like to do is Define a function
302:33 - called index that accepts the request
302:36 - and what I'd like to do is render a page
302:39 - that displays a list of all of my tasks
302:43 - so before we get to the idea of adding
302:44 - tasks let's just see if we can get our
302:46 - program to display a list of tasks for
302:48 - example so all up at the top create a
302:51 - global variable that I'll just call
302:53 - tasks that the entire application is
302:55 - going to have access to and I'll add
302:56 - three tasks to it for now we'll just use
302:59 - Foo bar and baz this sort of nonsense
303:01 - names that are just useful strings for
303:04 - testing purposes just placing those as
303:06 - sample tasks that I might want to have
303:08 - inside of my application
303:10 - and now what I'd like to do is render a
303:14 - template the template I'd like to render
303:16 - will be called tasks slash index.html
303:20 - and then I'll provide some context to it
303:22 - some information that index.html needs
303:24 - what information does index.html need
303:27 - well index.html needs access to
303:31 - all of my tasks and where are all of my
303:34 - tasks while they're inside of this
303:35 - variable that Joseph happens to also be
303:37 - called tasks and this will be something
303:39 - we see quite often as a paradigm in
303:41 - Django where we see a key and a value
303:43 - that look like they have the same name
303:45 - the key distinction is whatever is here
303:47 - on the right after the colon this is the
303:49 - value the variable takes on this is a
303:51 - python variable like this python
303:52 - variable tasks here on the left this key
303:55 - the string tasks that is the name of the
303:57 - variable that the HTML template will
304:00 - have access to when Django is rendering
304:02 - it so Django has access to this variable
304:04 - name on the left that has this value on
304:07 - the right so if you see this Paradigm
304:08 - that's ultimately what that's going to
304:10 - mean
304:11 - and now what I need to do is create this
304:13 - index.html file and make it use this
304:16 - tasks variable somehow
304:18 - how might I go about doing that well I
304:21 - can go back into my tasks directory
304:23 - create a new folder for my templates
304:25 - so I'll create a templates directory
304:27 - inside of which is a tasks directory
304:29 - because the template that I'm rendering
304:31 - again is tasks slash index.html
304:35 - and inside of tasks I'll create a new
304:37 - file called index.html
304:40 - inside of which we'll include some HTML
304:42 - I'll include just a standard starting
304:45 - HTML
304:46 - title will be tasks and now we'll have
304:48 - the body of the HTML page that I want to
304:51 - display all the tasks inside of an
304:53 - unordered list perhaps and if you recall
304:56 - from HTML to create an unordered list it
304:58 - looks a little something like this UL
304:59 - starts the unordered list and each list
305:02 - item is an Li tag like item one and then
305:05 - item two and then item
305:09 - three something like that gives me an
305:12 - unordered list that has three elements
305:14 - inside of it
305:15 - but I don't want to do this now because
305:16 - I don't want to hard code or exactly
305:18 - specify what all of the tasks are going
305:20 - to be what I really want to do is Loop
305:23 - over this tasks variable here looping
305:27 - over all of the tasks inside of it and
305:29 - creating a list item for each one of
305:31 - those tasks
305:33 - and just as in before where we could use
305:36 - if inside of curly braces and percent
305:39 - signs to use a condition likewise we can
305:41 - use four to say something like for task
305:44 - in tasks
305:45 - I would like to display a list item
305:48 - and then using these double curly braces
305:50 - I'm saying Plug In the task here in
305:53 - between these list item tasks I would
305:55 - like to plug in whatever the value of
305:57 - the task variable is
305:59 - and then I'll go ahead and end the for
306:02 - Loop there
306:03 - so what I've done here is rather than
306:05 - add a condition into a template which
306:06 - we've already seen I now have the
306:08 - ability to add a loop into an HTML
306:10 - template using Django to say that for
306:13 - task in tasks I'd like to Loop over all
306:15 - of the elements inside of this sequence
306:17 - called tasks and for each one of those
306:19 - individual tasks I would like to display
306:21 - a list item in HTML that includes
306:24 - whatever the value of the task happens
306:26 - to be and N4 just like and if ended the
306:29 - if statement N4 is going to end the for
306:32 - Loop
306:33 - so this syntax now rather than give me
306:36 - exactly the same number of list items
306:38 - every time with exactly the same content
306:40 - will be dynamic whatever the value of
306:42 - tasks is we will now see on this page
306:45 - each one as a list item
306:47 - and we can test this right now if I
306:49 - actually run this application by going
306:51 - to
306:52 - pythonmanage.pi run server
306:56 - I'll go ahead and go to this URL the
306:59 - default URL has no page but if I go to
307:01 - slash tasks
307:03 - well then here's what I see I see an
307:04 - unordered list that has Foo bar and bath
307:06 - each one is a list item and if I view
307:09 - the page source to see what the actual
307:10 - HTML is here's what I see I only wrote
307:14 - One Li tag inside of my template but
307:16 - because I put it inside of a for Loop
307:18 - that iterates over each of the tasks
307:19 - what I ultimately get in the HTML that
307:22 - comes back to the user is one list item
307:24 - for each of the elements that was
307:26 - originally inside of that list
307:29 - so I now have the ability to Loop over a
307:31 - list in order to generate that list of
307:33 - tasks
307:34 - of course there's still no way to like
307:36 - modify any of these tasks what we have
307:37 - here is just a fixed list of tasks that
307:39 - just so happens to be rendering using a
307:42 - loop what I'd maybe like is another page
307:44 - that will allow me to add in new tasks a
307:48 - form effectively that lets me type in a
307:50 - new task and press add in order to add a
307:53 - new task
307:54 - so let's do that inside of views.pi I'll
307:57 - Define a new function that I'm going to
307:59 - call add
308:01 - and what the add function is going to do
308:04 - is render
308:06 - tasks slash ad dot HTML
308:10 - in order to know when to run the few I
308:12 - need to give this view a URL so I'll go
308:14 - into urls.pi and add a new path
308:18 - when I go to the add route I want to go
308:21 - to the views.add function
308:23 - and I'll call this function add for
308:25 - example
308:27 - and so now
308:29 - when I go to slash task slash ad it's
308:32 - going to call the add function inside of
308:34 - views and inside of views here it's
308:37 - going to run this function that will
308:38 - render add.html
308:41 - so let's go ahead and now write ad.html
308:44 - we'll go into templates I'll create a
308:47 - new file called
308:48 - add.html and you know what add.html
308:51 - syntax is very similar to the syntax
308:53 - from index.html in terms of what the
308:55 - HTML content is so I'll go ahead and
308:57 - just copy this whole page from
308:59 - index.html paste it into ad.html the
309:02 - only thing that's different is the body
309:04 - of the page where instead of an
309:06 - unordered list that displays all the
309:07 - tasks I'd instead like a form
309:10 - where that form has an input whose type
309:13 - is text and maybe this input field has a
309:15 - name called task such that I can access
309:18 - that input data later and an input whose
309:20 - type is submit for example and maybe
309:23 - I'll give it a big heading at the top
309:25 - that says like
309:26 - add task for example
309:29 - so now I have a new route that adds a
309:31 - task so my default slash tasks route
309:33 - just displays a bulleted list of all the
309:35 - tasks and if I go to slash tasks slash
309:38 - add here now is my form that gives me a
309:41 - place where I can type in a task press
309:43 - submit that right now does nothing but
309:45 - that ultimately I hope will actually add
309:47 - a new task
309:49 - of course something I just did there
309:51 - should strike us as not the best design
309:53 - in particular the decision I made was
309:55 - because the general structure of this
309:57 - HTML page is so similar it's got the
309:59 - HTML tag it's got a head the title of
310:02 - the page is tasks
310:03 - ultimately I just copied all of the
310:05 - content of index.html and pasted it into
310:08 - this new HTML page add.html and anytime
310:12 - you find yourself copy pasting this
310:14 - should be another area where you start
310:15 - to think there's probably a better way
310:17 - to do this and with just pure HTML there
310:20 - kind of wasn't if we wanted multiple
310:22 - different HTML pages that displayed
310:24 - similar content we needed the same HTML
310:26 - on all those different pages
310:29 - but now in the world of Django we have
310:31 - the ability to use something called
310:32 - template inheritance what I'm now going
310:35 - to do is Define an HTML file called the
310:38 - layout just some file that the other
310:40 - files add.html and index.html are going
310:44 - to inherit from they're going to inherit
310:46 - from my layout all of the structure of
310:48 - the page that's the same on both of the
310:50 - pages and all I then need to write is
310:53 - what differs between the pages and as I
310:55 - mentioned before the only thing that
310:57 - differs between ad.html and index.html
311:01 - is the content of the body of the page
311:03 - over here
311:06 - so what can I now do well I will create
311:08 - a new file inside of my template tasks
311:10 - directory called layout.html
311:15 - and layout is going to have
311:17 - the basic layout that is common to both
311:20 - of these pages I have a title these
311:23 - title is tasks I have the body of the
311:25 - page and maybe there's more in common
311:27 - with both of the pages as well that I
311:28 - could add but right here this in between
311:31 - the body tags this is the body of the
311:33 - page that is going to change between
311:36 - each of the different pages
311:38 - so to denote this inside of a layout in
311:40 - Django I'll again use the curly brace
311:43 - and percent signs I'll call this a block
311:45 - and then I'll give this block a name
311:47 - I'll call it body just because it's the
311:49 - body of the page but I could give it any
311:50 - name and then I'll add an end block at
311:54 - the bottom here
311:56 - and so what I've now said inside of this
311:58 - layout file is that this layout file has
312:01 - a body inside of the structure of the
312:03 - page and inside the body is this block
312:05 - called body and what I'm saying here is
312:08 - this block might change depending on
312:10 - which file we're using add.html or
312:13 - index.html the rest of the structure
312:15 - won't change but the content of this
312:17 - block this block called body might
312:19 - change
312:21 - and so now what I can do inside of
312:23 - index.html and add.html
312:26 - is instead of including all of this
312:28 - logic I can get rid of everything other
312:31 - than the key part of the page that's
312:33 - going to be different about index.html
312:36 - the only thing different about
312:37 - index.html is this unordered list
312:40 - and what I'll now include at the top of
312:42 - index.html is I'll say that this HTML
312:45 - page extends
312:47 - tasks slash layout.html
312:51 - so this is now this idea of template
312:52 - inheritance I'm inheriting from the
312:55 - layout.html template basically saying
312:57 - use the layout.html template except
313:00 - inside of block body
313:03 - I would like to include
313:05 - all of this content
313:07 - and maybe I'll give it a H1 that just
313:09 - says tasks just as a title as well
313:13 - and so now what index.html is saying is
313:15 - rather the need to include all of that
313:17 - HTML all I need to say is this HTML file
313:21 - is based on the layout.html file but the
313:24 - difference is that inside the body of
313:26 - the page it's going to be this
313:27 - particular content here and for ad.html
313:30 - I can do exactly the same thing I can
313:33 - just add this line extends tasks slash
313:35 - layout.html to the top of ad.html
313:39 - and then I can get rid of all of this
313:41 - boilerplate code so to speak
313:44 - and just include the part of the page
313:46 - that differs
313:48 - inside
313:49 - the body of the page
313:52 - and so it seems like we've done a fair
313:53 - bit more work for just these two pages
313:54 - but if you imagine more complex websites
313:57 - it might have dozens or hundreds of
313:58 - different pages the ability to factor
314:00 - out the HTML that Pages have in common
314:02 - can definitely be very helpful just for
314:05 - good design to be able to make sure
314:06 - we're not repeating ourselves and if we
314:08 - ever need to change the structure rather
314:10 - than change it in dozens or hundreds of
314:12 - different places we just change it in
314:13 - one place inside of the layout file and
314:16 - the result of that is that it's going to
314:18 - change in each of the pages that inherit
314:20 - from that page as well
314:22 - and we can test this by just going back
314:25 - to slash task slash add which looks fine
314:27 - and back to tasks looks fine too both of
314:30 - these Pages now are inheriting from that
314:33 - basic layout
314:35 - now it's a little Annoying that anytime
314:37 - I want to switch between this page and
314:39 - the ad page I have to go to the URL and
314:41 - know that I need to go to slash tasks
314:43 - slash ad in order to get back and forth
314:45 - between them so I might like to add a
314:47 - link that takes me from one page to the
314:49 - other and vice versa and I can do that
314:52 - if I go into index.html you might
314:55 - imagine that I could just add a link
314:56 - here a href to create a link let's go to
314:59 - slash tasks slash add
315:02 - and like add a new task it'll be the
315:04 - name of that link
315:06 - except the problem is or the reason why
315:09 - this isn't necessarily good design is
315:11 - the Django is designed to make it such
315:12 - that it's very easy to change the
315:15 - structure of the pages in terms of how
315:16 - the URLs all relate to each other and I
315:19 - have here hard coded that when you click
315:21 - this link we go to slash tasks slash ad
315:24 - and If Ever I wanted to change that URL
315:26 - maybe instead of Slash ad I wanted Slash
315:29 - new instead of Slash ad well then I need
315:31 - to change it in two places I'd need to
315:34 - go back to the urls.pi file to change
315:36 - the actual URL to say instead of add it
315:38 - should be called new but then I need to
315:40 - find every place where I use that URL
315:42 - and I'd need to change it there as well
315:45 - so in order to deal with this Django has
315:46 - an additional feature that basically
315:48 - lets Django figure out what the URL
315:51 - should be instead and we do that by
315:53 - using the name that we gave to each of
315:55 - those routes and so this is where that
315:57 - name becomes relevant that I can hear
315:59 - just say
316:00 - link to a particular URL
316:04 - link to the URL called add
316:08 - so I just said link to URL called add
316:10 - and how Django figures this out is based
316:13 - on the contents of my urls.pi file that
316:16 - inside my urls.pi file I defined a
316:19 - number of different paths and I gave
316:20 - each of those paths a name this one was
316:22 - called Index this one was called add
316:25 - and so when I did that I was able to say
316:27 - if you link to a URL called add Django
316:30 - will find a URL whose name is ADD and
316:32 - Link me directly to that route and so if
316:34 - ever I were to change the route to
316:35 - something else Django would just figure
316:37 - out what the new URL should be and I
316:39 - wouldn't have to worry about it Django
316:41 - would fix the problems for me
316:43 - and so now if I go back to the task site
316:46 - I can click the add a new task button
316:48 - and that will take me to the add task
316:51 - and maybe now I'd like to add a link
316:52 - that goes back so I can go to add.html
316:55 - and maybe add a link down to the bottom
316:57 - ahref equals and what URL would I like
317:00 - to link to well my default page was just
317:03 - called index so I'll go ahead and
317:05 - include the word index I'd like to link
317:06 - to the URL index
317:08 - and then
317:10 - view tasks maybe as the name of the link
317:14 - so now if I go to just the default tasks
317:16 - page I see a link to go add a new task
317:18 - and now I see a link that's going to
317:20 - take me back to the ability to view
317:21 - tasks and when I click on that link I
317:24 - see no
317:26 - and now that's probably not what I
317:27 - wanted I wanted to go back to the index
317:29 - page for my tasks application but it
317:31 - seems that when I clicked on view tasks
317:32 - I'm taken to no
317:35 - and what's going on here well if you
317:36 - look at the URL
317:38 - the URL is Slash new year
317:40 - somehow I was on the tasks app I clicked
317:42 - a link and I'm back at the new year app
317:45 - how did that happen well it turns out
317:47 - this is an example of a namespace
317:49 - collision where I have two things that
317:51 - all have the same name and in this case
317:53 - what's happening is that I have a
317:56 - urls.pi file
317:58 - for my tasks application where I have a
318:01 - route called add and a route called
318:03 - index
318:04 - but it just so happens that inside of
318:06 - the New Year folder if I go up to New
318:08 - Year and I look at New Year's urls.pi
318:11 - file the New Year's urls.pi file also
318:14 - has a path whose name is index and so
318:17 - what I said was create a link and I
318:20 - would like that link to link to the
318:22 - thing that has the URL with a name of
318:24 - index and it turns out there were
318:26 - multiple things that all had a name of
318:27 - index and so Django didn't know which to
318:29 - choose and it just chose the new year
318:31 - one and you might imagine that linking
318:33 - between apps is something you might
318:34 - reasonably want to do you want to from
318:36 - Amazon's shopping page for example be
318:38 - able to click a link that takes you to
318:39 - Amazon video or you want from Google
318:41 - search to be able to click a button that
318:43 - gets you to Google Maps but in this case
318:44 - this isn't quite what I wanted there's a
318:47 - namespace collision where two things
318:49 - have the same name that I would now like
318:51 - to be able to fix
318:52 - and the easy way to fix this is inside
318:55 - of urls.pi for my tasks application let
318:59 - me just give each of these URLs an app
319:01 - name called tasks
319:04 - this just helps uniquely identify all of
319:06 - the URLs because now inside of ad.html
319:10 - rather than just link to a URL whose
319:12 - name is index I'm going to instead link
319:14 - to tasks colon index to mean from tasks
319:19 - the tasks app get the index URL and
319:23 - likewise inside of index.html I'll link
319:25 - to tasks colon add to get that
319:28 - particular route from this particular
319:31 - application name
319:33 - so now if I go back to the site
319:36 - go back to my tasks page now the Links
319:38 - work as expected I can get to the new
319:40 - tasks and I can get back to the list of
319:42 - all of my tasks as well
319:45 - so this now works I now have these two
319:47 - pages one that displays my list one that
319:49 - displays my ability to add a new task
319:51 - but the form to add a new task doesn't
319:54 - really do anything right now I type in a
319:56 - task I type in like Foo if I want to add
319:58 - a task called Foo and I press submit and
320:00 - like nothing happens nothing changes
320:02 - meaningfully on this site so I'd like
320:04 - for this form to do something and we've
320:06 - seen that we can add an action to a
320:08 - forum to be able to take that form and
320:10 - submit it somewhere and that's what I'd
320:12 - like to do
320:13 - when I add a new task I'm going to add
320:16 - an action to this form and when I submit
320:19 - the form what URL would I'd like to
320:20 - submit it to well I'll go ahead and
320:22 - submit it back to
320:24 - the URL
320:26 - for tasks colon add I'll send it back to
320:29 - that ad URL when I submit the form
320:32 - and I'm going to give this form a
320:34 - specific request method its method is
320:36 - going to be post
320:37 - and so we've already seen a request
320:39 - method of get anytime you type in a URL
320:41 - or click on a link to go to another page
320:43 - the request method implicitly associated
320:46 - with that request is called get which
320:48 - just means I would like to get a
320:49 - particular page
320:51 - anytime you're submitting data that has
320:54 - the potential to change some State
320:55 - inside the application like changing the
320:58 - state of the list of tasks that is
320:59 - stored inside the application then we'll
321:01 - generally use a different request method
321:03 - called post post was generally used for
321:06 - submitting form data it doesn't include
321:08 - parameters inside the URL the way a get
321:10 - request does as we saw with Google for
321:12 - example but this post ability is going
321:15 - to give us the ability now to send data
321:17 - via a different request method to my ad
321:20 - route
321:21 - and so let's now give this a try
321:23 - now I'm going to go to task add I see
321:27 - the ability to add a task and maybe I'll
321:28 - add a task like check email or something
321:31 - and press submit
321:33 - and all right I get an error forbidden
321:36 - this 403 in parentheses means that is
321:38 - the response code that came back this is
321:40 - an error that Django has generated for
321:41 - me so this 403 as we saw before means
321:44 - forbidden I don't have permission to do
321:45 - this for some reason now why don't I
321:47 - have permission to submit this form it
321:49 - says csrf verification failed so csrf
321:54 - stands for cross-site request forgery
321:56 - and what that means it is a security
321:58 - vulnerability that is inherent in some
322:00 - forms if they're not designed in a
322:02 - secure way meaning that someone could
322:04 - Forge a request to a particular website
322:07 - using some form on their own separate
322:09 - website for example you might imagine
322:11 - that someone on a different website
322:12 - might trick the user into submitting a
322:14 - form that submits its data to R add task
322:17 - function that adds a new task to their
322:19 - task list and maybe that's not a big
322:21 - deal for tasks but you might imagine in
322:23 - more secure contexts more sensitive
322:25 - contexts like a bank for example they
322:27 - might have a form on their website for
322:29 - transferring money from one user to
322:30 - another and if they're vulnerable to
322:32 - this sort of attack cross-site request
322:34 - forgery someone else on a different
322:36 - website could trick the user into
322:38 - submitting a form where it submits form
322:40 - data and it goes to the bank's website
322:42 - to say I would like to transfer money
322:44 - from this one user to another user so we
322:46 - would like to be able to design forms
322:48 - that are not vulnerable
322:50 - to that particular security
322:51 - vulnerability that don't allow for
322:53 - requests to be forged by another website
322:57 - so how can we go about doing this well
322:58 - one strategy that can be used in order
323:00 - to deal with these sorts of attacks is
323:02 - to add into our Forum a hidden
323:05 - cross-site request forgery token or csrf
323:07 - token which will just be some unique
323:09 - token that's generated for every session
323:11 - so every time a different user visits
323:13 - this particular form they see a
323:15 - different csrf token and then when the
323:17 - user submits the form they're submitting
323:19 - that token with the form and our web
323:21 - application is going to check to make
323:23 - sure that that token is indeed valid and
323:25 - if it is valid then they'll allow the
323:27 - form submission to go through but this
323:29 - means that an adversary wouldn't be able
323:31 - to fake a request to our website because
323:33 - that adversary doesn't know specifically
323:35 - what the generated token is so they
323:38 - would fail the check for csrf validation
323:41 - and it just so happens that Django has
323:43 - csrf validation turned on by default and
323:46 - it's done so via specific add-on known
323:48 - as a Django middleware middleware refers
323:51 - to the ability in Django to be able to
323:53 - sort of intervene in the request
323:55 - response processing of a Django request
323:57 - and if I look at the settings.pi file if
324:00 - you're curious for this particular web
324:03 - application
324:03 - [Music]
324:05 - inside of settings.pi if we scroll down
324:07 - we see there's a whole bunch of
324:09 - middleware that's installed by default
324:11 - inside of a Django application in terms
324:13 - of making sure that we have various
324:14 - different features hooked into this
324:16 - request response processing and one of
324:18 - those is the CRS csrf view middleware
324:21 - this feature of Django that allows it to
324:24 - make sure that our requests whenever
324:25 - we're submitting data via post something
324:27 - that has the potential to change the
324:29 - state of the application in some way
324:31 - that we need to have csrf validation we
324:34 - need to add some sort of token to our
324:36 - Forum to make sure that Django is able
324:38 - to authenticate the validity of this
324:41 - form to make sure they know the form
324:43 - actually came from the web application
324:45 - itself
324:46 - and it's quite easy to be able to add
324:48 - this token into our HTML page Django has
324:50 - a built-in inside the curly brace and
324:52 - percent sign we can just say I would
324:54 - like to add into this page the csrf
324:57 - token for example to go ahead and fill
324:59 - in the csrf token right there
325:03 - if I now go back to the page and refresh
325:04 - the page
325:06 - now I see add task but if we're curious
325:08 - I can now actually go and view the page
325:10 - Source I can look inside this page and
325:13 - here now is the form and this is the
325:15 - form same as we saw before but you'll
325:17 - notice that Django has inserted this
325:19 - additional input field this input whose
325:21 - type is hidden meaning we won't be able
325:22 - to see it normally whose name is csrf
325:25 - middleware token and here is its value
325:27 - some long string of characters that
325:29 - Django has generated for me such that
325:31 - when I submit this form it's going to
325:33 - check to make sure this token is valid
325:35 - and if it doesn't find this token it is
325:37 - not going to accept my form submission
325:39 - and if someone else goes to this website
325:41 - they're going to see a different token
325:43 - presented to them as well and that helps
325:45 - to make sure that nobody can forge these
325:48 - sorts of requests
325:49 - so now if I type in a task that I'd like
325:51 - to add something like check email and
325:53 - press submit now the Forum does submit
325:55 - without errors of course it doesn't do
325:57 - anything if I go back to my task list
325:59 - it's still empty but at least I've now
326:01 - been able to submit that form
326:03 - it's worth noting that inside of ad.html
326:07 - we created this form sort of from
326:08 - scratch I created an input field whose
326:10 - type is text and whose name is Task but
326:13 - creating forms is something that happens
326:14 - so often in the world of web programming
326:16 - oftentimes with many different fields
326:18 - that you might want to change over time
326:19 - the djangos added a number of ways to
326:21 - make it easier to create forums to
326:24 - validate the data inside of those forms
326:25 - just to make our lives a little bit
326:27 - easier when it comes to dealing with and
326:29 - interacting with forums and so now we'll
326:31 - explore an alternative way of doing the
326:34 - same thing what we did here just works
326:35 - we can create a forum just using raw
326:37 - HTML as we've seen before
326:40 - but Django also has the ability to
326:42 - create forms for us so in order to do
326:44 - this I'll go into views.pi and at the
326:46 - top add from Django import forms
326:49 - [Music]
326:50 - and now I'm going to create a new class
326:52 - to represent this form I'll create a
326:54 - python class that'll just call new task
326:56 - form since I'll use it to create a new
326:58 - task it will inherit from forms.form
327:02 - and now inside of this class I need to
327:04 - Define all of the fields I would like
327:06 - for this forum to have all the inputs
327:08 - that I would like the user to provide
327:09 - and so I want them to provide the name
327:11 - of a task which will be a character
327:13 - field or a Char field meaning I want the
327:15 - user to type in characters
327:17 - and I can give this a label call it new
327:19 - task for example
327:21 - and now what I can do is when I render
327:24 - add.html I can add some context and say
327:27 - give this template access to a variable
327:29 - called form which will just be a new
327:32 - task form I'm going to create a new task
327:34 - form pass it into this ad.html template
327:37 - and now inside of add.html instead of
327:40 - writing the input whose type is text
327:42 - name is Task and having to do that on my
327:44 - own I can just use double curly braces
327:47 - and say plug in the form here and that
327:49 - will automatically take care of Django
327:51 - will generate the necessary HTML to make
327:53 - that form work
327:56 - so if I refresh this page now I see that
327:58 - here is the form the Django has created
328:00 - for me it's created an input field
328:02 - that's given it a label of new tasks so
328:03 - I know that it's where a new task should
328:05 - go but now rather than needing to edit
328:07 - the HTML anytime I want to change the
328:09 - form data that's involved inside of this
328:11 - application I can just change this new
328:13 - task form if maybe I want to eventually
328:15 - make upgrades to my application where in
328:18 - addition to specifying a text field
328:19 - where I can type in the new task maybe I
328:21 - also want to be able to specify a number
328:23 - indicating the priority that tasks
328:25 - should have I could additionally give
328:28 - this form access to a priority variable
328:30 - which is an integer field
328:32 - whose label is priority and I can even
328:35 - add constraints on this to be able to
328:37 - ensure that it's valid data I can give
328:39 - it a Min value of maybe one and a max
328:41 - value of 10 for example in order to add
328:44 - all of that and now without touching
328:46 - anything in my HTML I just changed the
328:48 - form itself inside of my python code now
328:51 - if I refresh the page I see an
328:53 - additional field I see an opportunity
328:55 - for me to type in a new task and I see
328:57 - an opportunity for me to specify some
328:59 - priority and of course you could add CSS
329:01 - in order to style this up a little bit
329:02 - nicer but now
329:04 - Django will automatically do client-side
329:07 - validation where if I type in a new task
329:09 - like check email but I don't specify a
329:12 - priority and submit it it tells me to
329:14 - fill it out if I type in a number that's
329:15 - in an invalid range I only wanted
329:17 - numbers from 0 to 10 it fills it out and
329:20 - this is all what we would call again
329:21 - client-side validation the server isn't
329:24 - getting any of this data it's just the
329:26 - web page has been encoded to know what
329:28 - the valid values are and it's going to
329:30 - constrain me to make sure that I'm
329:31 - typing in something that matches those
329:33 - values but in general when we're doing
329:35 - form validation when we're making sure
329:37 - that forms are valid data we want to
329:39 - somehow make sure
329:41 - to include not only client-side
329:44 - validation but also server side
329:46 - validation we also want to check on the
329:48 - server to make sure that inputs are
329:50 - value valid as well because there are
329:52 - many reasons why this we might want to
329:54 - be able to do this one is that it's very
329:55 - easy to disable this sort of client-side
329:57 - validation or just submit a request
329:59 - without doing any of the client-side
330:00 - validation and maybe if the user is
330:02 - looking at an old version of the page
330:04 - the validation we're doing on the server
330:05 - is more up to date than this client-side
330:07 - validation as well and Django's forums
330:10 - will make it very easy for us to do both
330:12 - of these things both the client-side
330:13 - validation and the server side
330:15 - validation as well
330:17 - so how does this work how do we do that
330:19 - well inside of the add function
330:22 - this add function now gets called in two
330:24 - different ways depending upon the
330:26 - request method if I try to get the ad
330:29 - page and by just clicking on the link
330:31 - for add a new task or going to the URL
330:32 - of Slash add then I want to just render
330:35 - a new blank form
330:36 - but if I post data to this page by using
330:39 - the post request method instead of get
330:41 - that means I'm submitting the form and I
330:43 - now want to submit a new task to be
330:45 - added to my list of tasks
330:48 - so I'd like to add a check for that I'm
330:50 - going to add a condition here that says
330:52 - if request dot method equals post
330:56 - well then here what I'd like to do is
330:59 - process the result of that request and
331:01 - the way you do that in a Django form is
331:03 - by creating a new variable called form
331:04 - which will be a new task form and if I
331:07 - just use new task form with two
331:08 - parentheses like I did before that
331:10 - creates a blank form but you can also
331:13 - populate that form with some data
331:15 - and if I populate it with request dot
331:18 - post what that is going to do is
331:20 - request.post contains all of the data
331:23 - that the User submitted when they
331:25 - submitted the form
331:27 - and so what I'm doing now is I'm
331:28 - creating a form variable by taking all
331:31 - of that data and filling it into this
331:33 - new task form which will contain now all
331:35 - of the data the User submitted and you
331:38 - can imagine checking this manually but I
331:40 - can just call if form
331:42 - dot is valid
331:45 - and inside this if statement use some
331:47 - logic using the clean data as a result
331:49 - of using this form
331:51 - and so inside of a variable called form
331:53 - dot clean data that will give me access
331:56 - to all of the data the User submitted
331:58 - and so if I want to get like what task
332:00 - they submitted because I had a variable
332:02 - here called task inside of a new task
332:04 - form
332:05 - well I'll just go to form.clean data and
332:08 - then task
332:10 - and I'll go ahead and save this inside
332:11 - of a variable called tasks
332:13 - and now what I might like to do is add
332:15 - this task to my list of tasks go
332:18 - tasks.append
332:20 - this new task
332:22 - so that's what we do if the form is
332:23 - valid if the form is valid we take the
332:25 - data from the form get the task save it
332:28 - inside this variable called tasks and
332:30 - add it to my growing list
332:32 - but else if the form is not valid
332:36 - what should we do instead well then I
332:38 - should return
332:40 - the ad.html file again but instead of
332:43 - providing the form back to them the a
332:45 - new form back to them I'm going to send
332:47 - back the existing form data back to them
332:50 - so we can display information about any
332:52 - errors that might have come up as well
332:55 - so what does this now look like let's
332:56 - Show an example and then I'll go back to
332:58 - the codes you can see in better detail
332:59 - how it works
333:00 - here's task add recall that if I type in
333:03 - a task like check email and a priority
333:06 - that's not valid out of range like 11
333:08 - and press submit it says value must be
333:10 - less than or equal to 10. but let's now
333:12 - imagine a situation where the client and
333:15 - server are validating different things
333:17 - that maybe I've now decided you know
333:18 - what priority instead of being from 1 to
333:21 - 10 can only be from one to five that's
333:24 - now the valid range for priorities
333:26 - but this client which is still an older
333:28 - version of the page doesn't know this
333:31 - so it thinks that a priority of eight is
333:33 - still valid and it's going to pass
333:35 - client-side validation
333:36 - but now I press submit and the server is
333:39 - going to process it and because it's
333:40 - invalid it gives me back the form and
333:43 - gives me an error ensure this valid
333:45 - value is less than or equal to 5. and so
333:48 - this now is why we generally want both
333:50 - client and server side validation to
333:53 - make sure that the data we ultimately
333:55 - get
333:55 - is going to be accurate and it's going
333:57 - to be clean matching whatever
333:59 - specification we sent out when we were
334:01 - creating that form for the first time
334:04 - and so for the purposes of now we're not
334:06 - going to really worry about priority too
334:07 - much because we just really care about
334:08 - what the task is but just know that if
334:10 - you wanted a form that had multiple
334:12 - Fields you could add additional fields
334:14 - to this form input as well
334:16 - so now we've added some application
334:19 - logic to our route that checks to make
334:21 - sure that the form is valid or not if we
334:22 - take a look at what the add function is
334:24 - really doing we're checking if the
334:26 - request method is post meaning if the
334:28 - User submitted some form data then we
334:30 - figure out all the data they submitted
334:31 - and save it inside this form variable we
334:34 - check to see if the form is valid did
334:36 - they actually provide a task are they
334:37 - making providing all the necessary data
334:39 - in the right format if so then we get
334:41 - the task and add it to the list of tasks
334:43 - otherwise if the form is not valid then
334:46 - we go ahead and render that same ad.html
334:48 - file back to them but we pass in the
334:51 - form that they submitted so that they
334:52 - can see all of the errors they made they
334:54 - can make modifications to their own form
334:55 - submission if they'd like to
334:57 - and then otherwise meaning if the
334:59 - request method wasn't post at all if the
335:01 - user just tried to get the page rather
335:03 - than submit data to it then we're just
335:05 - going to render to them an empty form
335:07 - and this sort of Paradigm is actually
335:09 - quite common when we're dealing with
335:10 - requests and responses that oftentimes
335:12 - pages that have forms will want you to
335:14 - First be able to get that form via the
335:17 - get method to just get the page in order
335:19 - to display the contents but those routes
335:21 - will also often support a post method
335:23 - where you can post data to those routes
335:25 - in order to say I would like to now
335:27 - submit data to a particular route in
335:29 - order to get some sort of result some
335:31 - sort of addition to a list of tasks
335:33 - transferring money in a bank from one
335:34 - account to another for example or
335:36 - something else entirely
335:38 - but watch what happens if I now try
335:41 - inside of tasks ad to add a new task
335:44 - that's valid something like check email
335:45 - for example I press submit and all right
335:49 - nothing quite seems to happen because I
335:51 - just get back this new task form
335:54 - but if I go back to view tasks now I see
335:56 - that check email has been added to my
335:59 - list of tasks the original list of tasks
336:01 - just had Fue barbaz and now we've added
336:03 - check email to it but this wasn't quite
336:05 - the behavior that I might have expected
336:07 - maybe I wanted that after I submitted
336:09 - the task Forum to add a new task I would
336:12 - like to be redirected back to this page
336:14 - as well and it turns out Django makes it
336:16 - easy for us to be able to redirect users
336:18 - from one page to another
336:20 - in order to do that
336:21 - after we add a new task to my list of
336:24 - tasks I'm going to return an HTTP
336:27 - response redirect
336:30 - and redirect the user to a particular
336:32 - route I could redirect them to just like
336:34 - slash tasks for example but again we
336:37 - generally try not to hard code URLs into
336:40 - our application so better design would
336:42 - be to say let me give you the name of
336:44 - the route and go ahead and reverse
336:46 - engineer what the route actually is from
336:48 - that and so in order to do that we can
336:51 - use the function called reverse built
336:52 - into Django
336:54 - and say tasks colon index to say figure
336:58 - out what the URL of the index URL for
337:01 - the tasks app is and use that URL as the
337:04 - one that we ultimately redirect to when
337:06 - we return this HTTP response redirect in
337:09 - order to use these we need to import
337:11 - both of them so from the top I'll say
337:13 - from django.http import HTTP response
337:18 - redirect and
337:21 - from django.urls I'll go ahead and
337:24 - import reverse so I've imported both of
337:27 - these and now the effect of this is that
337:29 - after I submit a new task
337:31 - and add it to my list of tasks I'm going
337:33 - to be redirected back to the index page
337:36 - of my tasks application and for good
337:38 - measure I'll go ahead and start us off
337:40 - with an empty list to get rid of the
337:41 - fubarb as we saw there originally so
337:43 - tasks start out as the empty list
337:46 - now refresh the page I see no tasks in
337:49 - here by default but if I add a new task
337:51 - I type in something like check email
337:53 - press submit I now see that added to the
337:56 - task list and I get redirected back to
337:58 - the task page I can add a new task
338:00 - something like do laundry press submit
338:03 - and that gets added to my tasks list as
338:05 - well too so by maintaining this Global
338:08 - variable called tasks and updating it
338:10 - anytime I submit the form I've been able
338:12 - to dynamically grow this list of tasks
338:14 - inside of my application and display all
338:16 - of those tasks here inside of my HTML
338:19 - page
338:20 - however there's still one big problem
338:22 - with the application that I've built and
338:24 - it goes back to the idea that I've
338:25 - stored these tasks inside of a global
338:28 - variable this variable is something the
338:30 - entire application has access to which
338:33 - means that anyone who visits my website
338:34 - is going to be able to see the same
338:36 - exact list of tasks and we can simulate
338:39 - this by imagining someone else visiting
338:41 - this URL which I can simulate in Google
338:43 - Chrome by opening an incognito window to
338:45 - simulate a different session a different
338:46 - person interacting with the page and
338:49 - going to the same URL
338:50 - what they see when any incognito window
338:53 - they go to the same URL is they see the
338:55 - exact same list of tasks both me and
338:57 - another person see the same list because
339:00 - there's just one tasks variable across
339:02 - the entire application that is shared
339:04 - among all of the requests that come in
339:06 - to that particular application and
339:08 - that's probably not what I want when I'm
339:10 - dealing with something like a list of
339:12 - tasks I probably want it to be per user
339:14 - such that if a different user visits the
339:16 - page they have their own list of tasks
339:18 - as well and so in order to do this we'll
339:21 - introduce the concept of sessions in
339:23 - Django or in the web more generally
339:24 - where sessions are away for one Django
339:27 - to be able to remember who you are such
339:29 - that on subsequent visits it remembers
339:31 - who you are and knows who you are but
339:33 - more importantly
339:34 - it's able to then store data about your
339:37 - particular session it's able to store
339:39 - your user ID or information about you or
339:41 - in this case it's able to store all of
339:43 - your tasks
339:45 - and so in order to take advantage of
339:46 - sessions
339:48 - instead of having a global variable
339:50 - called tasks we're going to go ahead and
339:52 - delete this and instead store tasks
339:55 - inside of the user's session
339:59 - so inside the index route I'll include a
340:01 - line like this
340:03 - I'll check to see if tasks is not in
340:07 - request.session
340:09 - meaning if I look inside the session you
340:11 - can think of the session as like a big
340:12 - dictionary representing all the data we
340:15 - have on file inside the session about
340:16 - the user
340:17 - and if tasks is not in that session well
340:20 - let me add to request.sessions
340:24 - or session tasks and set that equal to
340:27 - the empty list
340:29 - and so what I've done here is I'm
340:31 - looking inside of the session I'm
340:33 - looking inside the session to see is
340:35 - there already a list of tasks in that
340:37 - session and if there isn't if there
340:39 - isn't already a list of tasks in the
340:40 - session well then I'd like to create it
340:42 - then I'd like to set request.session
340:44 - square bracket tasks equal to the empty
340:47 - list if the user doesn't already have a
340:49 - list of tasks go ahead and give them an
340:52 - empty list of tasks
340:54 - and now here in tasks instead of
340:56 - rendering the variable tasks which no
340:58 - longer exists I'll render request dot
341:01 - session
341:02 - tasks to pass in that list of tasks to
341:06 - this particular template
341:09 - and now in index.html we're still
341:10 - looping over to that list of tasks and
341:12 - now we'll see if I go back to tasks I
341:15 - see no such table Django underscore
341:18 - session
341:19 - so this is a bit of a strange error
341:20 - what's going on here no such table
341:21 - Django underscore session well it turns
341:24 - out as we'll see in the future Django
341:25 - tends to store data inside of tables and
341:28 - we haven't yet gotten to what that
341:29 - ultimately means or how to manipulate or
341:31 - interact with data stored inside of
341:32 - tables but Django stores data about
341:35 - sessions as it would happen inside of a
341:37 - table by default now you can change this
341:38 - to have Django stored data about
341:40 - sessions elsewhere but ultimately Django
341:42 - is keeping data about who you are and
341:44 - what your tasks are and that data needs
341:46 - to be stored somewhere and by default
341:47 - Django wants to store it inside of a
341:49 - table
341:50 - and right now that table doesn't exist
341:52 - so we need to create it and the way to
341:55 - give Django access to that table that it
341:57 - wants to create that has been waiting to
341:58 - create but it hasn't yet is to run this
342:00 - command inside the terminal python
342:03 - manage.pi migrate
342:05 - and we'll learn more about what that
342:07 - means in terms of what a migration is
342:09 - and what it means to migrate data into a
342:11 - database but for now just to know that
342:13 - python managed.pi migrate will allow us
342:15 - to create all of the default tables
342:18 - inside of Django's database next time
342:20 - we'll take a look at actually creating
342:21 - databases of our own adding tables of
342:23 - our own that store our own custom data
342:25 - but Django has some initial default
342:27 - tables that it wants to create and
342:29 - running python managed on Pi migrate
342:31 - allows for those tables to be created
342:33 - now that those exist I first need to run
342:36 - the server it's a python manage.pi
342:39 - run server
342:41 - I load the page and here now is my list
342:43 - of tasks there's nothing here so when I
342:45 - Loop over all the list items it's sort
342:47 - of empty which maybe isn't the best user
342:49 - experience or user design so what I
342:51 - might want to do is add an additional
342:53 - condition it turns out inside of
342:55 - index.html whenever I have a for Loop
342:58 - inside of a Django template
342:59 - I can also add an empty condition to say
343:03 - if I run the for Loop but it doesn't run
343:05 - at all because the sequence is empty
343:07 - well then let me just say like no tasks
343:10 - for example and this is just a nice to
343:12 - have feature of the Django language that
343:13 - just makes it easy for us to be able to
343:15 - deal with situations where we're
343:16 - iterating over a list and there's
343:18 - nothing in that list
343:20 - so now I refresh the page no tasks
343:22 - exactly what I would expect to see
343:25 - and now this index route seems to be
343:27 - working fine what now needs to change
343:29 - when it comes to adding a new task
343:33 - well rather than append the task to my
343:34 - list of tasks let me go ahead and say
343:36 - request.session tasks
343:39 - because that is my list of tasks and let
343:41 - me add to request.session tasks this new
343:44 - task I'm adding to it a new sort of
343:47 - adding a list to the end of it that just
343:49 - contains the one new task that I got
343:52 - from the form
343:53 - so when the form is submitted we check
343:55 - to make sure the form is valid we get
343:57 - the task the User submitted and we
343:59 - append that to the list of tasks that's
344:02 - already stored inside of the session
344:04 - before redirecting the user back to the
344:06 - index page
344:09 - so let's give it a try we'll go back to
344:10 - this URL back to tasks I see I have no
344:13 - tasks initially
344:14 - and now I can go ahead and add a new
344:16 - task
344:17 - type in something like check
344:19 - email
344:21 - press submit
344:22 - and all right now that's added add a new
344:24 - task someone like do laundry submit and
344:27 - now both of those tasks are there but
344:29 - now importantly if you imagine someone
344:32 - in ink in an incognito window or on a
344:34 - different computer visiting my same
344:35 - website going back to this page what
344:38 - they see is an entirely different list
344:40 - of tasks because they have a different
344:42 - session the sessions are determined by
344:44 - cookies these little hand stamps that
344:45 - help the browser to be able to give some
344:48 - information to Django's web server to
344:49 - say here is who I am so Django knows
344:51 - what data to show you and in this case
344:53 - my original case Django knows who I am
344:55 - knows to show me these tasks and in this
344:58 - case it's a different user in incognito
345:00 - window in this case and so what they see
345:02 - is a list that has no tasks inside it at
345:06 - all
345:06 - so now we've really just scratched the
345:08 - surface of what Django has to offer but
345:10 - we see now the ability it has to be able
345:12 - to create Dynamic web applications
345:14 - instead of just displaying HTML and CSS
345:17 - that's the same every time using Django
345:19 - we now have the ability to be able to
345:21 - generate programmatically custom HTML
345:23 - and CSS either saying hello to a
345:25 - person's name based on what name is
345:27 - provided inside of a URL or the ability
345:29 - to say to check the current date and
345:31 - conditionally display something if the
345:32 - date is one thing versus another and the
345:35 - ability to store data on a session basis
345:37 - to be able to store information about a
345:39 - user's to-do list for example such that
345:41 - on subsequent visits they can see their
345:43 - list of things they need to do with a
345:45 - different list for each of these
345:46 - possible users and here really is just
345:48 - the beginning of what Django has to
345:49 - offer where Django gets very powerful is
345:52 - when it comes towards storing data
345:53 - inside of databases and manipulating
345:55 - that data and interacting with that data
345:57 - in various different ways and that's
345:59 - ultimately where a lot of the power of a
346:00 - web framework like this ultimately comes
346:02 - in we'll explore more of that next time
346:04 - but for now that was just a look at
346:06 - Django and how we can use use it to be
346:07 - able to build these sorts of web
346:08 - applications this was web programming
346:10 - with python and JavaScript we'll see you
346:12 - next time
346:15 - [Music]
346:32 - all right welcome back everyone to web
346:35 - programming with python and JavaScript
346:36 - so last time we took a look at a brand
346:38 - new web framework written in Python
346:40 - called Django and what Django allowed us
346:42 - to do was to build Dynamic web
346:44 - applications applications where we now
346:46 - had the ability to not just display the
346:48 - same HTML and CSS to the user every
346:51 - single time but to dynamically generate
346:53 - HTML in order to allow users to interact
346:55 - with a page that was a little bit more
346:57 - Dynamic doing things like rendering
346:58 - things on the page only if a certain
347:00 - condition was true or looping over a
347:02 - list of values and displaying one HTML
347:05 - element for each of those possible
347:06 - values but where Django gets especially
347:09 - powerful and where web applications
347:10 - certainly get much more interesting is
347:12 - as we start to delve into the world of
347:14 - data and trying to have web applications
347:16 - that store data inside of a database and
347:19 - to do that we're going to introduce a
347:20 - couple of topics today in particular
347:21 - we're going to introduce the idea of SQL
347:23 - models and migrations SQL is a database
347:26 - language that we can use to interact
347:28 - with databases and Django is going to
347:30 - allow us to have an abstraction layer on
347:33 - top of SQL to interact not by writing
347:35 - direct SQL queries but by interacting
347:37 - with python classes and objects that
347:39 - we're going to refer to as models and
347:41 - migrations are going to be a technique
347:43 - that are going to allow us to update our
347:45 - database in response to changes that we
347:47 - make to our underlying models so before
347:50 - we get into things that are more Django
347:52 - specific let's begin with the discussion
347:53 - of SQL more generally and more broadly
347:55 - just the discussion of data and the
347:57 - types of data that we're going to want
347:58 - to store and now there are a number of
348:00 - ways that we could try to store data
348:02 - inside of a computer system but
348:04 - oftentimes in databases in particular in
348:06 - a type of database known as a relational
348:08 - database we're going to store data
348:10 - inside of a table where each table is
348:12 - going to have rows and columns and so
348:15 - for the take of today we're going to
348:16 - imagine starting to construct a database
348:18 - and a web application that an airline
348:20 - might use for example for keeping track
348:22 - of various different flights on that
348:23 - Airline and keeping track of which
348:25 - passengers are on those flights and so
348:27 - what we have here is a sample table for
348:30 - example of how you might represent a
348:32 - whole bunch of flight related data here
348:34 - I have three columns for three pieces of
348:36 - information that I might want to keep
348:38 - track of for any particular flight for
348:40 - any given flight I might want to know
348:41 - that flight's origin what city it's
348:43 - leaving from its destination what city
348:45 - it's arriving at and its duration some
348:47 - value in minutes of how long it's going
348:49 - to take the flight to get from the
348:51 - origin to the destination so each of
348:53 - those columns represents one field that
348:55 - I might want to keep track of about my
348:57 - data and each row meanwhile is going to
348:59 - represent an individual flight so here
349:02 - for example is one row representing one
349:04 - flight from New York to London and that
349:06 - flight just so happens to take
349:08 - 415 minutes and so what SQL is going to
349:11 - allow us to do is it is going to be a
349:13 - database language that is designed to
349:15 - interact with relational database
349:17 - Management Systems databases that
349:19 - organize data into tables where every
349:21 - table has rows and columns and it turns
349:24 - out there are a number of different
349:25 - database management systems that
349:27 - Implement parts of the SQL standard of
349:29 - this type of language some of the more
349:30 - popular are MySQL postgres SQL and
349:33 - sqlite but there are definitely others
349:35 - as well and each of these has various
349:37 - different features and different use
349:38 - cases where some might be more
349:39 - appropriate MySQL and postgresql
349:42 - otherwise known as just postgres are
349:44 - more heavier database management system
349:47 - so to speak they're generally running on
349:48 - servers elsewhere where a lot of big
349:51 - companies will use servers like this in
349:53 - order to store data and represent their
349:55 - data in sort of a separate database
349:57 - where the idea of that is that you might
349:58 - want your web application running on one
350:00 - server but you might want your database
350:02 - running as an entirely separate process
350:03 - such that they can behave independently
350:05 - you can debug and test them
350:06 - independently and one is not if one goes
350:09 - down the other doesn't go down as well
350:10 - sqlite is a bit of a simpler lighter
350:13 - weight implementation of the SQL
350:15 - standard and what sqlite is going to do
350:16 - is rather than be an entire server that
350:19 - is going to be listening for requests
350:20 - and making responses sqlite is just
350:22 - going to store all of its data as a
350:24 - single file so we're going to store SQL
350:26 - data inside of a sqlite file and that's
350:28 - going to make it a little bit easier for
350:29 - us as we're just getting started to
350:31 - begin to write queries and add things to
350:33 - our database and retrieve things from
350:35 - our database but know that many of the
350:36 - same types of SQL syntax that we'll see
350:38 - with SQL Lite which is Django's default
350:40 - can also be applied to other languages
350:42 - as well in other database Management
350:44 - Systems too
350:46 - so as we begin to store data inside of a
350:48 - SQL database ultimately each of those
350:50 - pieces of data has a type in the same
350:52 - way that in Python we have types for
350:54 - various different types of data we have
350:55 - integers and we have strings and we have
350:57 - lists and tuples and so forth SQL 2 has
351:00 - types that represent various different
351:02 - categories of information that you might
351:04 - want to store inside of a database and
351:06 - each database management system has its
351:08 - own different set of types sqlite for
351:10 - example has a fairly short list of basic
351:13 - types that it supports it supports text
351:16 - for just like strings of text for
351:18 - example something like a city name for
351:19 - instance might be stored as text we have
351:21 - support for integers which are just 0 1
351:24 - 2 3 4 plus the negative numbers negative
351:26 - one negative two negative three and so
351:28 - forth we have support for real numbers
351:30 - where real numbers don't have to just be
351:32 - integers they can have something after
351:33 - the decimal point something like 2.8 or
351:36 - something else that might have a decimal
351:37 - in it and then numeric is another
351:39 - category for data that's just more
351:41 - generally some sort of number that might
351:43 - number like data so something like a
351:45 - Boolean value or something like a date
351:47 - for example might be stored using this
351:49 - numeric type where it's not really an
351:51 - integer or a real number though you
351:52 - could represent it as such it's other
351:54 - numeric type of data and then finally
351:56 - blob which stands for binary large
351:58 - object is any type of other binary data
352:01 - just zeros and ones that you might want
352:03 - to store inside of your database so for
352:05 - example if you're storing files maybe
352:07 - they're audio files or images or other
352:09 - types of files that you want to keep
352:10 - track of inside of your database you can
352:12 - store just pure binary data inside of a
352:15 - SQL database as well
352:16 - so these now are the basic types of
352:18 - sqlite supports but other database
352:21 - Management Systems have other types that
352:22 - they support as well MySQL for example
352:24 - has a much longer list of other types
352:26 - that it supports in addition to just
352:28 - supporting a text type for arbitrary
352:30 - length text MySQL also has a type called
352:33 - Char that takes an argument of size for
352:36 - saying I want like size characters worth
352:38 - of data that we're going to store inside
352:40 - the database and you might imagine that
352:42 - this can be advantageous in situations
352:43 - where you know that your data is going
352:45 - to be within a certain number of
352:46 - characters so if you're storing a zip
352:48 - code for example in the United States a
352:50 - zip code in the United States might just
352:52 - be five characters and so you can
352:54 - allocate a character length of five
352:55 - characters worth of space for storing
352:58 - every single zip code inside of your
353:00 - database table so for efficiency's sake
353:01 - if you know the maximum length and you
353:03 - can fix that length inside your database
353:05 - that can be an efficient choice varchar
353:08 - of a size is similar and this is a
353:10 - variable length character if something
353:12 - isn't going to be exactly a certain
353:13 - number of characters but maybe up to a
353:16 - certain number of characters you can use
353:17 - varchar to say you know maybe sometimes
353:19 - it's going to be fewer characters but it
353:21 - could be up to size number of characters
353:23 - and there are trade-offs there too
353:26 - then there are various different types
353:27 - of integers there's not just a single
353:29 - integer type but small int and int and
353:31 - bigint Each of which uses a different
353:33 - number of bytes in order to store an
353:35 - integer data so if you want to be able
353:36 - to store much larger or much smaller
353:38 - numbers you might need a bigger type
353:40 - like an INT or a big end but if your
353:42 - numbers are going to be pretty small
353:43 - maybe you're okay with just a small end
353:45 - and likewise there are similar types of
353:47 - trade-offs for floating Point numbers
353:48 - where much as in programming languages
353:50 - like C if you're familiar have both a
353:52 - float and a double type where a double
353:54 - uses more bytes of memory in order to
353:56 - store information here too we have float
353:58 - and double which allow us to store
354:00 - floating Point numbers numbers that
354:02 - might be real numbered values where a
354:03 - double just allows us to express a
354:05 - number to a little bit more Precision
354:07 - than a floating Point number might be
354:09 - able to and there are many other types
354:10 - as well but the general idea is that
354:12 - here even in SQL much as in a language
354:14 - like python we have types for each of
354:16 - these various different kinds of data so
354:19 - now that we understand that each type of
354:20 - data has types what we'd like to do is
354:22 - to be able to inside of a database
354:24 - actually create a table and there are
354:27 - various different SQL commands that we
354:28 - can run on our database in order to
354:30 - perform various different operations and
354:32 - the first we might want to execute is a
354:34 - command that is just going to create a
354:36 - table for example so how might we go
354:38 - about doing that well it turns out the
354:39 - syntax for creating a table is going to
354:42 - look a little something like this this
354:43 - here is the syntax we would use to
354:46 - create a table in sqlite for
354:48 - representing flights for example
354:50 - so we begin with the keyword create
354:52 - table to say I would like to create a
354:54 - new table inside of this database next I
354:57 - give the name of the table every table
354:59 - has a name just for ease of reference
355:01 - and here the name of the table is just
355:03 - the word flights then what follows in
355:06 - parentheses are a comma separated list
355:08 - of all of the columns that should be
355:10 - present in the table I'm not yet adding
355:12 - any data to the table the create table
355:14 - query is just going to decide the
355:16 - structure of the table what are the
355:18 - columns and what are the columns types
355:20 - and so here we see that in the beginning
355:22 - of each of these pair of these Clauses
355:25 - that are separated by commas we have the
355:27 - name of the column so we have an ID
355:29 - column because though we didn't see this
355:31 - before often in SQL it's going to be
355:33 - helpful to be able to have some way of
355:35 - uniquely referencing a particular
355:37 - element inside of the table and you know
355:39 - maybe there are multiple flights that
355:40 - are going from New York to London for
355:43 - example and I want some way of
355:45 - distinguishing between them and one easy
355:47 - way is to give every single entry inside
355:49 - of a table a unique identifier or a
355:52 - unique ID represented here by this ID
355:54 - column and that's going to be of weight
355:56 - making sure that we can always access a
355:58 - particular flight uniquely
356:00 - so we have an ID column An Origin column
356:02 - a destination column and a duration
356:04 - column and each of those columns has a
356:07 - type
356:08 - so the types here ID is an integer it's
356:10 - just going to be some number
356:11 - representing the flight counting one two
356:13 - three four so on and so forth origin and
356:16 - destination we'll label here as text
356:18 - though you'll see that if we were using
356:19 - MySQL for example I might make these a
356:22 - variable length character that could be
356:23 - up to a certain number of characters if
356:25 - I know you know there's probably not
356:26 - going to be a city that's longer than a
356:28 - certain number of characters for
356:29 - instance and then I have a duration
356:31 - which here then is an integer some
356:33 - number of minutes that is going to be
356:35 - how long it takes for this flight to go
356:37 - from the origin to the destination
356:39 - after the types for each of the columns
356:41 - I have additional constraints that I
356:43 - might add to the columns as well so
356:45 - integer primary key the primary key here
356:48 - means that the ID is going to be the
356:50 - primary Way by which I uniquely identify
356:52 - a flight and there's going to be some
356:54 - optimizations here to make it very quick
356:56 - to be able to look up a flight by its ID
356:58 - and not know as a constraint that I can
357:01 - place on columns to be able to say I
357:03 - don't want to allow for this particular
357:05 - column to ever be empty I don't want
357:07 - there to ever be a flight that doesn't
357:08 - have an origin or doesn't have a
357:10 - destination or a duration so I can add
357:12 - constraints to a particular column to
357:15 - say you know what for the origin
357:16 - destination duration columns those
357:18 - should not be allowed to be null I want
357:20 - to always have an origin and a
357:22 - destination and a duration
357:24 - and then finally this Auto increment
357:25 - after the primary key is a queue into
357:28 - SQL to automatically update the ID every
357:31 - time I add a new row into the table so
357:32 - if I add a new flight I can give the
357:34 - flight An Origin destination and
357:36 - duration but I don't have to worry about
357:37 - giving it an ID SQL is going to handle
357:40 - that for me automatically automatically
357:42 - giving that new table the next or the
357:44 - new row in that table the next available
357:46 - ID number so here then is the way we
357:49 - create a table by giving the name of the
357:51 - table each of the columns the types for
357:54 - each of those columns and then any
357:55 - constraints we would want to place on
357:57 - those columns and it turns out there are
357:59 - a number of different types of
358:01 - constraints that I can add to a
358:02 - particular column not null is one we've
358:04 - seen before you can add a default which
358:06 - just adds a default value to a
358:08 - particular column primary key we've seen
358:11 - unique guarantees that every value is
358:13 - going to be unique so if you don't want
358:15 - to allow for the same value to appear
358:17 - twice for a particular column you can
358:19 - add a unique constraint to a particular
358:21 - column to enforce that as well and then
358:23 - check can be use to make sure that a
358:25 - value obeys a certain condition like a
358:27 - number Falls within a certain range for
358:29 - example if you have like movie ratings
358:31 - for example and you're storing movie
358:32 - ratings inside of a database you might
358:34 - care to make sure that those ratings are
358:36 - within the one to five range or the one
358:38 - to ten range or whatever range you deem
358:40 - valid for the database and so via
358:42 - constraints you can begin to ensure that
358:44 - as you add data to the table that data
358:47 - is going to be valid in some way that it
358:48 - needs to obey certain constraints
358:50 - otherwise if you try to add it to the
358:52 - table it's not going to be accepted at
358:55 - all
358:55 - and so that leads into the natural next
358:57 - question which is I now have all of
359:00 - these various different tables that I
359:01 - can create using these create table
359:02 - commands but how do I actually add data
359:05 - into those tables and the way we're
359:07 - going to do that is via an insert
359:09 - command where we're going to insert data
359:11 - into a SQL table
359:13 - and so what might that command look like
359:14 - the command is generally going to look
359:16 - like this where we're going to say
359:18 - insert into to say I would like to add a
359:21 - new row to a table
359:23 - following that we provide the name of
359:24 - the table something like flights to say
359:26 - I would like to add a new row to the
359:28 - flights table and following the name of
359:30 - the table we need to provide in
359:32 - parentheses a comma separated list of
359:35 - all of the column names for which we are
359:37 - going to provide values so here I've
359:40 - said I want to provide values for the
359:41 - origin destination and duration of this
359:45 - flight note that I'm leaving out the ID
359:47 - column I don't have to worry about
359:48 - adding a value for the ID because I said
359:50 - the ID should Auto increment so it's
359:52 - going to automatically give the next
359:54 - available ID
359:55 - and what values am I going to provide
359:57 - well after the word values I provide
359:59 - again in parentheses a comma separated
360:01 - list of all of the values that are to be
360:04 - associated with those columns in the
360:06 - same order so origin was the first one
360:08 - here so origin will correspond to New
360:10 - York destination will correspond to
360:12 - London duration will correspond to 415.
360:15 - so this query then lets me take the
360:18 - flights table that I've already created
360:19 - and add some data into that table as
360:22 - well
360:24 - so you can use these insert queries so
360:26 - once you have a table to be able to add
360:28 - new rows of data to that table every
360:29 - time a new flight comes up for an
360:31 - airline the airline might behind the
360:33 - scenes be running an insert into flights
360:35 - command that takes data about that
360:37 - flight and adds it to the table but of
360:39 - course once we've added data to a table
360:41 - we'd ideally like some way to get data
360:44 - out of that table as well that once
360:46 - we've stored data inside of our database
360:48 - we want to retrieve that data too and to
360:50 - do that we're going to use a particular
360:51 - type of query
360:53 - called a select query and what select is
360:55 - going to do is it's going to take a
360:57 - table that already exists and allow us
360:59 - to get data out of that table
361:01 - it's not going to modify the data that's
361:03 - there it's just going to retrieve data
361:05 - that might be inside of a particular
361:06 - table so what do those queries look like
361:08 - well the simplest query might look a
361:10 - little something like this select star
361:12 - from flights select from flights means I
361:16 - want to select data from the flights
361:17 - table and this star is a wild card that
361:21 - here just means that select all of the
361:23 - possible columns that you can and so if
361:25 - this is my table my table of flights
361:27 - where each flight has an ID An Origin a
361:30 - destination and a duration then select
361:32 - star from flights we'll select all of
361:34 - that data all of the rows and all of the
361:36 - columns are going to come back to me
361:38 - when I run a query like this
361:40 - now it's possible that when I'm running
361:42 - these queries when I'm accessing data
361:44 - that I don't actually care about all of
361:46 - these columns especially if I have a
361:47 - table with many more columns than just
361:49 - this maybe I only care about particular
361:51 - columns and it would be wasteful to
361:53 - query the database asking it to return
361:55 - to mean a whole lot more data than I
361:57 - actually need so instead I could run a
361:59 - query like this
362:00 - select instead of star I'm saying select
362:03 - origin comma destination from flights so
362:07 - I'm again selecting from the flights
362:09 - table selecting all of the rows of still
362:11 - but the difference is that instead of
362:13 - Select star which means select all of
362:15 - the columns that are present in the
362:17 - table select origin comma destination
362:19 - means I'm only going to select these two
362:22 - columns the origin column and the
362:24 - destination column so highlighted in
362:25 - blue here is the data that would be
362:27 - returned if someone were to run this
362:30 - particular SQL query
362:31 - now especially as tables begin to get
362:33 - larger and begin to have more and more
362:35 - rows here I just have six rows but you
362:37 - might imagine a table with thousands or
362:39 - even millions of rows within it you
362:41 - probably don't want to be returning
362:42 - every single row every single time so
362:45 - just as you can constrain which columns
362:46 - come back to you likewise you too can
362:48 - constrain which rows come back to you
362:50 - when you perform a query too so I could
362:52 - say something like select star from
362:54 - flight where ID equals three again this
362:57 - reads it's very english-like I'm saying
362:59 - select all of the columns from the
363:01 - flights table but not all of the rows I
363:04 - only want to select the rows where this
363:07 - is a SQL keyword where ID equals three
363:09 - ID is the name of a column three is the
363:12 - value and it's going to look through to
363:13 - this table only find me the flights
363:15 - where the ID is equal to three and I'll
363:17 - just get back that one row as a result
363:20 - it finds the row with an ID of three and
363:23 - it gives that back to me
363:25 - If instead I said select star from
363:27 - flights where origin equals New York I
363:29 - can see that I don't just need to filter
363:31 - on the primary key the ID I can also
363:33 - filter on any other column I can say
363:35 - give me all the flights where New York
363:37 - is the origin so all the flights leaving
363:39 - from New York and you might imagine that
363:41 - in New York's airport for example they
363:43 - likely want some sort of query that's
363:44 - going to find all the flights leaving
363:46 - from New York such that they can display
363:47 - on a screen of some sort all of the
363:49 - departures from that particular airport
363:51 - so you could run a query like this and
363:53 - get back only the rows in this database
363:55 - inside of this table that happen to have
363:58 - an origin of New York for example
364:01 - so let's go ahead and take a look at how
364:03 - we might actually run some of these
364:05 - queries inside of a SQL database so in
364:08 - order to create a SQL Lite database
364:10 - which is really just a file I can start
364:12 - just by creating the file and it turns
364:14 - out that in the terminal there's a
364:16 - command called touch that will create a
364:18 - brand new file for me so I'm going to
364:20 - create a file called
364:22 - flights.sql it's going to be a sqlite
364:24 - database file that by default has
364:26 - nothing in it but then assuming you have
364:29 - sqlite installed I can run sqlite 3
364:32 - followed by flights.sql
364:35 - and now I'm inside of the sqlite prompt
364:37 - I can now begin to write commands that
364:40 - will be executed on the SQL database
364:43 - so one thing I might do is create a
364:45 - table
364:46 - called Flights
364:47 - this table I want to have in ID column
364:50 - which is an integer it should be the
364:52 - primary key the main wave which I
364:54 - identify a flight and I would like to
364:56 - Auto increment it
364:57 - I would also like for the flights table
364:59 - to have an origin which will be a text
365:01 - field that is not null
365:03 - I'll add a destination field also a text
365:05 - field that is not null
365:07 - and then finally I'll add a duration
365:09 - field which is an integer that also
365:11 - shouldn't be null I'll end with an end
365:13 - parenthesis and a semicolon press return
365:15 - and that executes that command on my
365:18 - database I have now created a table
365:19 - called Flights and to verify this in
365:22 - sqlite in the prompt I can type dot
365:24 - tables and that will show me all of the
365:26 - tables that currently exist in my
365:28 - database and it just so happens that I
365:30 - have a table called Flights
365:32 - of course there's nothing inside this
365:34 - table which I can verify by running
365:35 - select star from flights meaning get all
365:38 - the data from the flights table if I
365:40 - press return all right nothing happens I
365:42 - don't see anything there's no data that
365:44 - happens to be here but now I could say
365:46 - something like insert into flights
365:49 - then I'll provide in parentheses the
365:51 - names of the columns and on the slide a
365:52 - moment ago I showed this on multiple
365:54 - lines that was just for visual sake this
365:55 - command can be entirely on one line if
365:57 - we would like it to so I can say origin
366:00 - destination and duration and then
366:03 - provide values I can say let's add New
366:04 - York
366:05 - to London
366:07 - and I'd like for this flight to B
366:09 - duration of 415 minutes
366:11 - so I press type in that command press
366:13 - return that adds a new row to my flights
366:15 - table and I can verify this by running
366:17 - select star
366:19 - from flights
366:21 - and I see that now I have this table
366:22 - whose ID is one that's the ID column
366:25 - from New York to London with a duration
366:28 - of 415 minutes and I could do this again
366:31 - and again and I in advance prepared a
366:33 - couple of insert queries just to give us
366:34 - a little bit more data each of this is
366:36 - just a different insert query
366:38 - that's going to add one new flight into
366:40 - our database so I'll go ahead and copy
366:42 - those and then into the database I'll go
366:44 - ahead and paste in all these insert
366:46 - commands to insert a whole bunch of
366:47 - flights into this database
366:49 - and now if I run select star from
366:52 - flights what I get is all of the flights
366:55 - and this is not formatted particularly
366:56 - nicely sqlite has some additional tricks
366:58 - if you'd like to format it a little
367:00 - nicer so I can say go ahead and put this
367:02 - into columns mode and give me some
367:05 - headers yes so header dot headers
367:08 - yes and now if I select star from
367:10 - flights the data is organized a little
367:13 - more nicely where things are really into
367:14 - columns and their headers for each of
367:16 - the rows where I can see that all right
367:18 - I kind of have a text based
367:19 - representation of what I was displaying
367:21 - graphically a moment ago that inside of
367:22 - my flights table I have four columns an
367:25 - ID column origin destination and
367:27 - duration each flight is just one of the
367:29 - rows that's inside of this table
367:33 - and now I can begin to run additional
367:34 - select queries if I want to do something
367:37 - like select star from flights
367:40 - where origin equals New York
367:43 - well then instead of getting back all of
367:45 - the flights I'm only going to get back
367:47 - the flights where the origin is New York
367:48 - so I can very quickly filter down on
367:50 - this data only getting the information
367:52 - that I actually care about taking a look
367:54 - at and there are other ways of
367:55 - interacting with sqlite as well but this
367:57 - sqlite prompt is a very direct way of
367:59 - just being able to write a query very
368:01 - quickly and see the results of that
368:03 - query
368:04 - so it turns out there are other types of
368:06 - queries we can run as well so we'll take
368:07 - a look at some others we don't just need
368:09 - to say where something equals something
368:11 - else other types of Boolean expressions
368:13 - are allowed as well so I could say
368:15 - something like select star from flights
368:17 - where duration is greater than 500 where
368:20 - the idea here is all right let's look at
368:22 - the duration column it's an integer so
368:24 - we can do arithmetic Expressions on
368:26 - these values I can take a value and see
368:28 - is it greater than 500 or not and when I
368:30 - do that what I get back is all of the
368:32 - rows that have a duration that's greater
368:34 - than 500 so I can begin to query not
368:37 - just on whether one value equals another
368:38 - value but also other types of
368:41 - comparisons as well and much as in
368:43 - Python is when we had Boolean
368:44 - expressions in Python I could join
368:46 - multiple Boolean Expressions together
368:48 - using words like and and or SQL has the
368:51 - same type of thing in its own query
368:53 - syntax too I could say something like
368:55 - select star from flights where duration
368:57 - is greater than 500 and destination
369:00 - equals Paris and as you might logically
369:02 - Intuit this means this means get me all
369:04 - flights that are going to Paris and that
369:07 - take longer than 500 minutes and it
369:08 - turns out there's only one such row
369:10 - inside this table that satisfies both of
369:13 - those constraints of course instead of
369:15 - using and I could have also used or to
369:18 - get a different query where now I'm
369:19 - looking for all of the flights longer
369:22 - than 15 minutes or longer than 500
369:24 - minutes or the destination in Paris is
369:26 - Paris so as long as either of those
369:28 - conditions are met I'm going to get
369:30 - results back and so when I get back are
369:32 - some of the rows where the destination
369:33 - is Paris some roads where the
369:35 - destination isn't Paris but the duration
369:36 - is more than 500 minutes and of course
369:39 - any row that satisfies both of these
369:41 - constraints in particular flight ID
369:43 - number two that gets come to get this
369:46 - resulted as well when I run this
369:48 - particular query on this table
369:50 - and there are other types of queries I
369:52 - can perform in addition to that so I can
369:54 - say something like select star from
369:55 - flights where origin is in and then in
369:57 - parentheses New York comma Lima to say
370:00 - check if the origin is in this sequence
370:02 - of possible values the sequence of New
370:04 - York and Lima as long as it is one of
370:06 - those two then I want for the results to
370:08 - come back and so then you'll get back
370:10 - rows that have an origin of New York
370:12 - rows that have an origin of Lima as well
370:14 - so you can begin to construct more
370:16 - sophisticated queries that are able to
370:18 - check for whether an origin is in a list
370:19 - of possible values or even if it matches
370:22 - a particular pattern that maybe you know
370:24 - that one of the columns looks a certain
370:26 - way or is formatted according to a
370:28 - particular structure but you don't know
370:29 - exactly what the value is I could run a
370:32 - query like select star from flights
370:34 - where origin not equals but where origin
370:37 - is like and then in quotation marks I
370:40 - have a bit of a strange expression
370:41 - percent a percent
370:44 - this percent again stands for a wild
370:46 - card and this time the wild card is
370:48 - looking at the values of a particular
370:50 - column in this case the value of the
370:52 - origin column meaning the percent stands
370:54 - for zero or more characters no matter
370:56 - what those characters are we're looking
370:58 - for some number of characters maybe zero
371:00 - maybe more followed by an a followed by
371:02 - some other number of characters maybe
371:04 - zero many more maybe maybe more and
371:06 - ultimately what this query is going to
371:08 - do is look inside of the flights table
371:10 - and get back to me all of the results
371:12 - where there is an A in the origin as
371:15 - long as there is an A in the origin
371:16 - column it doesn't matter if there are
371:18 - characters before it or characters after
371:19 - it all of the rows that come back are
371:22 - going to be the rows that just so happen
371:23 - to have an A in it so lots of ways we
371:27 - can begin to run select queries and
371:28 - there are even additional functions you
371:30 - can add to your select queries as well
371:31 - where if instead of just selecting the
371:33 - values of columns I want to compute the
371:36 - average duration of a particular
371:37 - category of flights or I want to count
371:39 - how many flights that are coming out of
371:41 - New York or I want to find the longest
371:42 - flight that goes to London or the
371:44 - shortest flight that goes to London or I
371:46 - want to add up all of the durations for
371:48 - a whole bunch of flights maybe they're
371:49 - flights that are connected to each other
371:50 - and I want to add up the total travel
371:52 - time that my take SQL has a number of
371:54 - built-in functions that allow us to
371:56 - perform these sorts of calculations as
371:58 - well
371:59 - so a couple of different SQL commands
372:01 - we've now taken a look at we've taken a
372:02 - look at create table that allows us to
372:04 - create a new table insert that lets us
372:07 - add data to a table and then select
372:09 - which lets us take data inside of the
372:11 - table and retrieve it but of course
372:13 - often when we're dealing with databases
372:14 - the data doesn't just get added the data
372:16 - changes in some way so we also need some
372:19 - way of being able to update data after
372:21 - it's already inside of our database and
372:23 - to do that there's another query for
372:24 - that which is an update command that we
372:27 - can execute on our database and that
372:29 - command looks something like this again
372:30 - displayed on multiple lines but you
372:32 - could put this entirely just on one line
372:34 - SQL doesn't really care if you add line
372:36 - breaks it just knows that when it sees a
372:38 - semicolon at the end of the command that
372:40 - is the end of this particular command
372:43 - but here what I've said is use the
372:45 - update keyword to say I would like to
372:47 - update a table what table would I like
372:49 - to update I'd like to update the flights
372:50 - table
372:51 - and then what would I like to do well
372:53 - I'd like to set the duration equal to
372:56 - 430.
372:57 - so whatever the value of duration
372:59 - happens to be right now change it to 430
373:01 - but of course I don't want to change it
373:03 - to 430 for every single flight just as
373:06 - in a select Clause I could say where
373:08 - something equals something or where and
373:10 - then some other Clause to specify where
373:12 - I want the rows to be selected from
373:14 - likewise to an update I can say set
373:16 - duration equal to 430 where a particular
373:19 - condition is true so here I'm going to
373:22 - look through the flights table find
373:24 - myself all of the flights where the
373:25 - origin is New York and the destination
373:28 - is London and for those rows I'm going
373:31 - to update the value of the duration
373:32 - column setting the duration column equal
373:34 - to 430. so using that syntax I can take
373:37 - data and update it changing one value to
373:39 - another value by pinpointing which row
373:42 - or rows I would like to change if I only
373:44 - want to change one row I might do like
373:46 - update flights set duration equal to
373:48 - something where ID equals a particular
373:51 - ID to be able to pinpoint one ID and
373:54 - then take that row and make some
373:55 - modification to it
373:57 - and in addition to inserting data
373:59 - selecting data and updating data the
374:01 - last main command will concern ourselves
374:03 - with is the ability to delete data the
374:05 - ability to take a row and say I'd like
374:07 - to get rid of it or take multiple rows
374:08 - and get rid of them and so a command
374:10 - like delete from flights where
374:12 - destination equals Tokyo as you might
374:14 - imagine deletes from the flights table
374:16 - all of the rows satisfy this condition
374:19 - where the destination is equal to Tokyo
374:22 - so a number of different operations now
374:24 - that we have the ability to do the
374:25 - ability to delete from a particular
374:26 - table where a condition is true the
374:29 - ability to update a table based on
374:30 - particular conditions the ability to
374:32 - select data from a table and insert data
374:35 - into a table as well and there are a
374:37 - couple other Clauses that can be used to
374:39 - add to SQL queries as well just to add
374:41 - additional functionality if I don't want
374:43 - all of the rows to come back from a
374:45 - particular SQL query I can limit the
374:47 - results that come back so normally
374:49 - select star from flights would get me
374:51 - all of the flights inside of the table
374:53 - but I could say select star from flights
374:55 - limit five to just say you know what I
374:57 - only want Five results to come back from
374:59 - the staple
375:01 - order by allows me to decide how the
375:03 - results are ordered inside the results
375:05 - that come back so I could say select
375:07 - star from flights order by destination
375:09 - or order by duration to get all of the
375:11 - flights in order by how long they are
375:13 - Group by allows me to group a whole
375:16 - bunch of rows together so if I wanted to
375:18 - group all of the flights by their origin
375:20 - so they can get all of the flights
375:22 - leaving New York and all the flights
375:23 - leaving London and so forth I could do
375:25 - something like select star from flights
375:27 - Group by origin to group flights by
375:30 - their origin as well and having as a
375:32 - constraint I can place on Group by to
375:34 - say that I would like to select all of
375:36 - the flights from the grouping them by
375:39 - their origin but they need to have a
375:41 - count of at least three meaning there
375:42 - need to be at least three flights that
375:44 - are leaving from that particular City
375:47 - and for all of these particular Clauses
375:48 - these are helpful to know if you're
375:50 - going to be directly writing SQL we
375:52 - won't worry about them too much here in
375:53 - particular because fairly shortly we're
375:55 - not going to be writing SQL ourselves
375:56 - we're going to just be writing python
375:58 - code and Django is going to under the
376:00 - hood be manipulating the database and
376:02 - creating the SQL commands that it is
376:04 - going to run on the underlying database
376:06 - and so we will see how we don't actually
376:08 - need to worry about writing the specific
376:10 - syntax but Django is going to handle
376:12 - much of that for us
376:14 - so here now we have a flights table a
376:17 - table that keeps track of all the
376:19 - flights that we have organizing them by
376:21 - their ID and their origin and their
376:23 - destination and their duration but
376:25 - oftentimes when we're dealing with data
376:26 - especially in a larger database we don't
376:28 - just have one table of data we have
376:30 - multiple tables of data and those
376:32 - multiple tables might relate to each
376:34 - other in some way and let's take a look
376:37 - at an example of how that might come
376:39 - about we're going to introduce a concept
376:40 - that we'll call foreign keys and we'll
376:42 - see what that means in just a moment
376:44 - so here again is our flights table the
376:47 - flights table has four columns an ID
376:48 - origin destination and duration
376:52 - but of course in New York there are
376:54 - multiple airports in New York for
376:56 - instance and so it might not make sense
376:57 - for me to just label each origin or each
376:59 - destination just by the name of the city
377:01 - maybe I also want to give the three
377:03 - letter airport code that corresponds to
377:06 - the airport to which I'm referring in
377:08 - this case and so how would I encode into
377:10 - this table not only the origin but also
377:12 - that City's airport code and not only
377:14 - for the destination the name of the city
377:16 - but also the airport code for that
377:18 - airport as well well I could just add
377:21 - more columns I could say something like
377:22 - all right now we have this table that
377:24 - has an ID
377:25 - and origin in origin code a destination
377:29 - a destination code and a duration but
377:32 - here now the table is starting to get
377:35 - fairly wide there are a lot of columns
377:37 - here and in particular there's some
377:39 - duplicate data that I've repeated my
377:41 - mention of Paris is associated with this
377:43 - particular three letter code and the
377:46 - same thing for New York and other
377:47 - airports as well there's some messiness
377:50 - in the structure of this data and so
377:52 - often what we'll want to do is we begin
377:54 - to deal with data in larger and larger
377:55 - sets with more and more columns is we'll
377:58 - want to normalize this data separating
378:00 - things out into multiple different
378:01 - tables that just reference one another
378:04 - in some way and so instead of just
378:06 - having a single flights table what we
378:08 - might consider doing is saying that
378:10 - flights are one type of object but
378:13 - another type of object that I care about
378:14 - is like an airport and so I might just
378:17 - have a separate table just for airports
378:19 - where this table has three columns a
378:21 - column for the ID of the airport just
378:23 - some unique number that can identify a
378:25 - particular airport one column for the
378:27 - three letter code for that airport and
378:29 - one letter for the city or one column
378:31 - for the city where that airport is in
378:33 - and now this is a much more
378:35 - straightforward simpler representation
378:36 - of all of the airports and the question
378:39 - becomes what happens to my flights table
378:41 - that my flights table that here had an
378:43 - ID origin destination and duration
378:47 - where the type of origin and destination
378:49 - where in this case just text text-based
378:52 - Data representing the name of the city
378:54 - from which the flight is departing or to
378:56 - which the flight is arriving well now
378:59 - that I have this separate airports table
379:00 - where every Row in the airports table
379:02 - has its own unique ID then what I can do
379:05 - in this case is instead of storing An
379:07 - Origin and a destination as text
379:09 - I can store what we'll call a foreign
379:11 - key a reference to a key in another
379:13 - table and rename these columns to origin
379:17 - ID and destination ID that instead of
379:20 - storing text are going to store a number
379:23 - origin ID 1 means the origin of flight 1
379:26 - is
379:28 - whatever airport number one happens to
379:30 - be and I could go to the airport stable
379:33 - look up which airport has an ID of one
379:36 - and that would tell me the origin of
379:37 - this flight and if I went to the
379:39 - airport's table and looked up which
379:40 - airport had an idea for that would tell
379:42 - me the destination of the slide as well
379:45 - so by combining now two different tables
379:47 - one table for representing airports and
379:50 - one table for representing flights I'm
379:52 - able to connect these two different
379:54 - tables together by way of a foreign key
379:56 - some columns inside of my flights table
379:58 - namely the origin ID column and the
380:01 - destination ID column that together
380:02 - allow me to reference information stored
380:05 - inside of another table as well and as
380:08 - you imagine this sort of Airlines
380:09 - database growing and storing more
380:11 - different kinds of data the ability to
380:13 - relate tables to each other is going to
380:15 - become incredibly powerful so one thing
380:17 - you might imagine is that in addition to
380:19 - storing airports and storing flights an
380:22 - airline probably also needs to store
380:23 - information about its passengers like
380:25 - who's on which flight
380:27 - and so you could imagine constructing a
380:29 - passengers table that has an ID column
380:31 - to uniquely identify every passenger a
380:34 - first name column that stores every
380:35 - passenger's first name a last name
380:37 - column for storing their last name and a
380:39 - flight ID column for storing what flight
380:41 - that passenger happens to be on so in
380:44 - this case I could say that all right
380:45 - Harry Potter is on flight number one I
380:47 - could look that up in the flights table
380:49 - to find out all right inside the flights
380:51 - table here is where the flight is
380:52 - leaving from where it's going to and
380:54 - what its duration happens to be
380:57 - now as we begin to design these tables
380:59 - we have to think about what the
381:01 - implications of that design happen to be
381:03 - and in the case of this passengers table
381:05 - it does seem that there is a limitation
381:07 - on the table design that I have created
381:09 - and namely if you think about it you'll
381:11 - see the limitation of this table design
381:13 - is that any particular row can only have
381:16 - one flight ID associated with it that
381:19 - Harry Potter has a single flight ID
381:22 - column that can only have one value
381:24 - stored inside of it and this would seem
381:26 - to make it impossible to allow for us to
381:28 - be able to represent a person that could
381:30 - be on multiple different flights and so
381:33 - this starts to get at the idea of
381:35 - different types of relationships that
381:37 - rows in a table can have to one another
381:39 - one type of relationship is a many to
381:42 - one relationship or a one-to-many
381:44 - relationship where I can express the
381:46 - idea that one flight can be associated
381:48 - with many different passengers for
381:51 - instance but what we might also want is
381:53 - a many-to-many relationship where many
381:56 - different passengers can associated with
381:58 - many different flights a passenger might
382:00 - have more than one flight a flight might
382:02 - have more than one passenger and to do
382:04 - that we're going to need a slightly
382:05 - different structure for this particular
382:07 - type of table
382:09 - and one way we can approach it is by
382:11 - creating a separate table for storing
382:13 - people that I could have a people table
382:15 - where every person has an ID has a first
382:18 - name and has a last name same as before
382:19 - but I'm no longer storing flight
382:21 - information inside of the table I've
382:24 - cleaned my setup up I'm only storing
382:26 - people in this table and nothing about
382:28 - their flight information and then I'll
382:30 - have a separate table for dealing with
382:32 - passengers on the flight and mapping
382:33 - people to their flights and we can think
382:36 - about what does that table need to look
382:38 - like well I need some sort of table that
382:40 - is going to relate people to what
382:42 - flights they happen to be on so odds are
382:44 - we're going to need one column that is a
382:46 - foreign key that references this people
382:47 - table and we'll need another column that
382:50 - is a foreign key that references the
382:52 - flights table such that I can relate
382:54 - those two tables together and so that
382:56 - table could look like this
382:58 - this now is the simplified passengers
383:00 - table that only has two columns it has a
383:02 - person ID column and a flight ID column
383:05 - and the ID of this table now is it's
383:07 - known as an association table or a join
383:09 - table that just Associates one value
383:11 - from one table with another value from
383:14 - another table that this row here one and
383:16 - one means the person with an ID of 1 is
383:19 - on flight number one and I could look up
383:22 - that person inside of the perp people
383:24 - table look up that flight inside of the
383:26 - flights table and figure out who the
383:28 - person is and what flight they're on and
383:30 - down here two and four means whoever the
383:32 - person with an ID of 2 is is on
383:34 - whichever flight happens to have an ID
383:37 - of four
383:39 - and so this now has allowed us to be
383:41 - able to represent the types of
383:42 - relationships we want we have a table
383:44 - for airports and a table for flights and
383:47 - any flight is going to map to two
383:49 - different airports one destination one
383:51 - origin and any airport might appear on
383:54 - multiple different flights it's sort of
383:55 - a one-to-many relationship and then over
383:58 - here when it comes to passengers we've
384:00 - stored people inside of a separate table
384:02 - and then had a many-to-many mapping
384:04 - between people and flights so that any
384:06 - person could be on multiple different
384:08 - flights like here for example person
384:10 - number two is on both flights one and
384:12 - four and likewise a flight could have
384:15 - multiple people so in this case flight
384:16 - number six has passengers five and six
384:19 - that are on that flight as well so we've
384:21 - been able to represent those
384:23 - relationships
384:24 - of course a byproduct of doing this is
384:27 - that now our tables are a little bit
384:28 - Messier to look at and messy in the
384:31 - sense that it's not immediately obvious
384:32 - to me when I look at this table like
384:34 - what data I'm looking at I see these
384:36 - numbers but I don't know what these
384:37 - numbers mean I've separated all these
384:39 - tables into different places and now
384:41 - it's a little harder for me to figure
384:43 - out who's on which flight I have to look
384:44 - at this data look up people in the
384:46 - people table look up flights in the
384:48 - flights table and somehow associate all
384:50 - of that information back together in
384:52 - order to draw any sort of conclusion but
384:55 - luckily SQL makes it pretty easy for us
384:57 - to be able to take data across multiple
384:59 - different tables and join them all back
385:02 - together and we can do this using a join
385:04 - query that takes multiple tables and
385:07 - joins them together so the Syntax for a
385:09 - join query might look something like
385:11 - this and here we'll go back to just a
385:13 - two table setup where I have flights and
385:15 - passengers where every passenger is
385:17 - associated with one flight that you
385:19 - could extend this and join multiple
385:20 - tables to deal with our more complex
385:21 - example as well but here I'd like to
385:24 - select select every person's first name
385:26 - and their origin and their destination
385:28 - and I'm going to select that from the
385:30 - flights table but I need to join it with
385:32 - the passengers table and then I say on
385:35 - to indicate how it is these two tables
385:37 - are related to one another and in this
385:39 - case I'm saying the way these two tables
385:41 - are related to one another is that the
385:43 - flight ID column of the passengers table
385:45 - is associated with the ID column of the
385:48 - flights table the flights table has an
385:50 - ID that uniquely identifies every flight
385:52 - and the passengers table has a flight ID
385:55 - column that uniquely identifies the
385:57 - flight that we're referring to for this
385:59 - particular passenger and so the road
386:01 - result I might get is a table that looks
386:03 - like this that gives me everyone's first
386:04 - name but also their origin and their
386:07 - destination or origin and destination
386:08 - are going to be drawn from that table of
386:13 - flights and the first name is going to
386:15 - be drawn from the table of passengers
386:16 - but by using a join query I've been able
386:18 - to take data from two separate tables
386:20 - and join them both back together and
386:23 - there are a number of different types of
386:25 - drawing queries that I can run what we
386:27 - saw here was just the default join which
386:29 - is otherwise known as an inner join
386:31 - where effectively an inner join will
386:33 - take the two tables it will cross
386:35 - compare them based on the condition that
386:37 - I've specified and only return back to
386:39 - me the results where there's a match on
386:41 - both sides where we match a passenger's
386:43 - flight ID with an ID in the flights
386:46 - Table and there are various different
386:47 - kinds of outer joins if I want to be
386:49 - okay with the idea that maybe something
386:51 - on the left table that I'm joining
386:52 - doesn't match with anything on the right
386:54 - or so maybe something on the right table
386:56 - doesn't match with something on the left
386:57 - but just know there are other types of
386:59 - join queries that I can run as well
387:02 - other strategies that can be helpful
387:04 - when dealing with SQL tables are
387:06 - optimizations we can make to make
387:07 - queries more efficient and so one thing
387:09 - we can do with our tables is to create
387:11 - an index on a particular table and you
387:14 - can think of an index as kind of like
387:15 - the index in the back of a book for
387:18 - example where if you wanted to be able
387:19 - to search for a topic in a textbook you
387:22 - could open the textbook and just Page by
387:23 - Page look for every topic and just try
387:25 - and find the topic you're looking for
387:26 - but often what you'll be able to do if
387:29 - the table has an index is go to the
387:31 - index of the book find the topic you're
387:33 - looking for and that will quickly give
387:35 - you a reference for how to get to the
387:37 - right page in question in an index on a
387:39 - table operates in much the same way it
387:41 - is an additional data structure that can
387:43 - be constructed and it does take time and
387:45 - memory to be able to construct this data
387:47 - structure and to maintain it anytime you
387:49 - update the data inside the table but
387:51 - once it exists it makes querying on a
387:54 - particular column much more efficient
387:56 - that you can very quickly look something
387:58 - up in the index and find the
388:00 - corresponding rows that go along with it
388:02 - and so here we could have a command like
388:04 - create an index that we're going to call
388:06 - name index on the passengers table and
388:09 - in particular on the last name column to
388:11 - say something like I expect that as I
388:14 - query this table I'm pretty frequently
388:16 - going to be looking up passengers by
388:17 - their last name so I would like to
388:19 - create an index on that table to be able
388:21 - to more efficiently search for a
388:23 - passenger based on their last name as
388:26 - well
388:27 - and so that's just a general overview of
388:29 - what SQL syntax is all about a syntax
388:31 - that we can use to be able to create
388:33 - data tables inside of which restoring
388:35 - rows of data where every row consists of
388:37 - some number of columns and every column
388:40 - has a type you have the ability to
388:41 - create tables add data to them update
388:44 - delete and get data out of those tables
388:46 - as well but as we begin to introduce
388:48 - these new technologies there are always
388:49 - risks and potential threats that are
388:52 - associated with those Technologies as
388:53 - well and in SQL the key one to be aware
388:56 - of is what's known as a SQL injection
388:58 - attack a security vulnerability that can
389:01 - happen if you're not careful about how
389:03 - it is you actually execute your SQL
389:05 - commands and so where might this come
389:07 - about you might imagine for instance
389:08 - that if a database has some number of
389:10 - users you might be storing those users
389:12 - inside of a database for instance in a
389:15 - user's table where there's a username
389:17 - column and a password column though in
389:19 - practice you probably wouldn't want to
389:20 - store passwords in clear text let's
389:22 - imagine here for example that you are
389:23 - storing usernames and passwords inside
389:25 - of a table
389:26 - and we have a login form for a website
389:29 - that looks like this where you get to
389:30 - type in your username and your password
389:32 - and so someone types in their username
389:33 - and password what might happen is that
389:36 - the web application might look select
389:38 - star from users where username equals
389:41 - this particular username highlighted
389:43 - here we're just going to substitute the
389:44 - username right there and password equals
389:46 - and we'll substitute the password over
389:49 - there so someone tries to log into our
389:51 - site like Harry logs in with a password
389:52 - of one two three four five what we might
389:55 - do is run the select query and say
389:57 - select star from users where username is
389:59 - Harry
390:00 - and where the password is one two three
390:02 - four five and our logic might be if we
390:05 - get results back then that means there
390:07 - is a user whose username is Harry and
390:08 - password is one two three four five
390:10 - and we can go ahead and sign that user
390:13 - in
390:14 - but imagine now what might happen if
390:16 - instead the user who typed in a username
390:19 - of hacker quotation mark dash dash seems
390:23 - like a bit of a strange username to type
390:24 - in and it doesn't matter what they put
390:26 - in their password here now the result
390:28 - might be that what they plug into the
390:30 - username is where username equals hacker
390:32 - and then the dash dash it turns out Dash
390:35 - Dash and SQL stands for a comment in SQL
390:38 - it just means ignore everything that
390:39 - comes after it in the same way that in
390:41 - Python you can use the hashtag symbol to
390:43 - mean the rest of this line is a comment
390:45 - and the compiler whoever's running the
390:46 - program should just ignore it so
390:48 - everything after the dash dash kind of
390:50 - gets ignored and we've effectively been
390:52 - able to bypass the password check that
390:54 - someone could bypass a password check
390:56 - and log into an account even if they
390:58 - were unauthorized to do so so here the
391:01 - vulnerability within the SQL syntax if
391:04 - we're not careful about when we're
391:05 - running SQL syntax we could be running
391:07 - untrusted SQL commands that some hacker
391:10 - some adversary has been able to plug in
391:12 - to our program
391:13 - so how do we solve this sort of problem
391:15 - one strategy is to escape these
391:18 - characters escaping just meaning add
391:20 - some backslashes and just make sure that
391:22 - SQL knows to treat these as a literal
391:24 - quotation mark and a literal Dash and
391:26 - not as like special SQL syntax of any
391:28 - sort another strategy is to use an
391:30 - abstraction layer on top of SQL so that
391:33 - we don't have to write the SQL queries
391:34 - at all and that's in fact what we're
391:35 - about to do as we transition to the
391:37 - world of Django to take a look at how
391:39 - when we begin to use a web framework
391:41 - like Django we now have the ability to
391:43 - not worry about the nuances of the
391:45 - syntax of SQL and just deal a little
391:47 - more high level with what our models are
391:49 - what are the types of objects that we're
391:51 - dealing with and interacting with inside
391:53 - of this application
391:55 - one other concern worth noting about
391:57 - with regards to SQL is the possibility
391:59 - of race conditions and a race condition
392:01 - is something that might happen anytime
392:03 - you have multiple events that are
392:04 - happening in parallel threads so to
392:07 - speak that you have one thing happening
392:08 - and another thing happening
392:09 - simultaneously you might imagine that in
392:12 - the case of social media sites where you
392:14 - can like a post like an image on
392:16 - Instagram or a tweet on Twitter for
392:18 - example what would happen if two people
392:20 - tried to like the same post at the same
392:23 - time if we're not careful about how we
392:25 - run those particular SQL queries there's
392:27 - a potential for us to be able to get a
392:29 - race condition problems where we end up
392:32 - like trying to query for the number of
392:34 - likes that a post has and then another
392:35 - person tries to do the same thing and
392:37 - there are conflicts when we try and
392:39 - update it where the result might not be
392:40 - what we would expect it to be and there
392:42 - are a number of unexpected results that
392:44 - can happen when we deal with problems
392:46 - related to race conditions where
392:48 - multiple things are happening
392:49 - simultaneously how do we solve those
392:51 - problems well one strategy is to sort of
392:54 - place a lock on the database to say all
392:55 - right well I'm working on this database
392:57 - nobody else can touch this data let me
392:59 - finish this transaction so to speak
393:01 - finish working on this particular
393:03 - transaction and making all the changes I
393:05 - need to make to the database and only
393:06 - after I'm done I can sort of release the
393:09 - lock let someone else go ahead and
393:10 - modify the database as well
393:13 - the number of concerns to be aware of as
393:15 - we begin dealing in this world of SQL
393:17 - and trying to work with databases
393:20 - so now that we've taken a look at the
393:22 - syntax of SQL understanding how these
393:24 - tables work how they're structured and
393:26 - what it is that we can add to those
393:27 - tables let's go ahead and turn our
393:29 - attention in particular to Django models
393:31 - which are a way of representing data
393:33 - inside of a Django application because
393:35 - where Django is really going to get
393:37 - powerful in designing our web
393:38 - applications is the ability to represent
393:40 - data in terms of these models and so
393:43 - we're going to go ahead and try and
393:44 - create a web application that is going
393:46 - to represent like what an airline might
393:48 - want to store inside of its own web
393:50 - application as well all right so the
393:53 - first thing I want to do is create a
393:54 - Django project so I'll go ahead and type
393:56 - Django admin start project and the name
393:59 - of my project will just be called
394:00 - Airline I'm creating a project for an
394:02 - airline's website for example I'll go
394:04 - ahead and go into the airline directory
394:06 - open that up in my code editor but
394:08 - before I actually begin editing any code
394:10 - remember that every Django project needs
394:12 - to have one or more apps within it so
394:15 - the first app that I'll create for this
394:16 - Airline is I'll start an app for keeping
394:19 - track of flights so keeping track of
394:21 - flight related information like Origins
394:24 - and destinations and durations and what
394:26 - passengers are on those flights
394:28 - when I create a new app first thing I'll
394:31 - need to do is go into settings.pi inside
394:33 - of Airline and go ahead and add this app
394:36 - as an installed app right so flights is
394:38 - now an app that I've installed
394:40 - and then what I'll want to do is say go
394:43 - ahead and go into urls.pi
394:47 - which is again that table of contents
394:49 - for all the URLs I can get to for this
394:50 - particular web application I'll import
394:52 - include because I want to do is when
394:54 - someone visits the path of flights
394:57 - something I'll want to take them to
395:00 - flights.urls mapping them to the urls.pi
395:03 - file that will be inside of my flights
395:06 - application
395:08 - of course now I need a urls.pi file
395:10 - inside of my flights application so I go
395:12 - into flights and create a new file that
395:15 - I'll call urls.pi
395:17 - and we can do
395:20 - from.jango.urls import path from dot
395:23 - import views and then my URL patterns
395:25 - are going to go inside of this list
395:27 - right here but before I begin dealing
395:30 - with actual URLs the first thing I'm
395:32 - going to want to do is create some
395:33 - models models are going to be a way of
395:35 - creating a python class that is going to
395:38 - represent data that I want Django to
395:40 - store inside of a database and so when I
395:42 - create a model Django is going to figure
395:44 - out what SQL syntax it needs to use to a
395:46 - create that table but then B manipulate
395:49 - that table selecting and updating and
395:51 - inserting anytime I make changes to
395:53 - those models and so here what I can do
395:55 - is inside of every app that gets created
395:58 - in this case called flights there's a
396:00 - models.pi file one that we haven't
396:01 - looked at before but this is going to be
396:03 - the place where we get to Define what
396:05 - models are going to exist for our
396:07 - application every model is going to be a
396:10 - python class and you can think of this
396:12 - as having one model for each of the main
396:14 - tables we care about storing information
396:15 - about so let me Define a new class
396:18 - called flight that is going to inherit
396:20 - from models.model so I'm creating a new
396:22 - class called flight that is going to be
396:25 - a model
396:26 - and then I need to provide inside of
396:28 - this class all of the parameters that a
396:31 - flight has what properties does a flight
396:33 - have that I might want to keep track of
396:34 - well a flight has an origin and the
396:37 - origin is going to be a models.shar
396:40 - field and this is all documented on
396:41 - Django's website in terms of the various
396:43 - different types of fields that exist
396:45 - then I can include inside of a Django
396:47 - model where here I'm saying all right
396:49 - here is a character field whose max
396:51 - length is going to be let's say 64. I'll
396:54 - assume that most city names are not
396:55 - going to go longer than 64 characters
396:57 - that seems like a reasonable maximum
396:59 - length for the origin of the flight for
397:01 - example
397:02 - every flight will also have a
397:03 - destination which will be a character
397:05 - field whose Mac length is also 64. and
397:09 - every flight will have a duration which
397:11 - will just be an integer field
397:13 - so now this is my very first Django
397:16 - model it is a class called flight where
397:19 - I've defined all of the properties that
397:20 - a flight has and then using Django
397:22 - syntax to find what type they should
397:24 - have as well every flight has an origin
397:26 - has a destination and has a duration
397:30 - but of course nothing here has actually
397:31 - modified the database that Django is
397:34 - using in order to store information
397:35 - about my web application and we can see
397:38 - if we in fact go back to Airline and I
397:40 - type LS what you see here is that there
397:43 - isn't yet a database that exists I just
397:45 - have an airline directory a flights
397:47 - directory and a manage.pi file
397:50 - so what I'd like to do is somehow tell
397:52 - Django that you should update the
397:54 - database to include information about
397:57 - the models that I have just created and
397:59 - this is a process that we refer to in
398:00 - Django and more generally as migrations
398:03 - I create a migration to say here are
398:06 - some changes that I would like to apply
398:07 - to the database and then I migrate them
398:10 - to tell Django all right take those
398:12 - changes and actually apply them to the
398:14 - database so it's a two-step process one
398:16 - is creating the migration the
398:18 - instructions for how to actually go
398:20 - about manipulating the database and then
398:22 - one to take that migration step of
398:24 - saying now take those instructions and
398:26 - actually apply them to the underlying
398:28 - database
398:29 - we can make the migrations via command
398:32 - again we'll use the manage.pi script
398:34 - that has a number of different commands
398:35 - that allow us to control various parts
398:37 - of the application I'll use
398:39 - pythonmanage.pi and then make migrations
398:44 - and now what we see is we've created a
398:46 - migration inside of zero zero zero one
398:49 - underscore initial.pi where in this
398:51 - migration it's created a model called
398:54 - flight and so if I go ahead and look at
398:57 - the migrations directory I see this file
399:00 - has been created for me I didn't have to
399:02 - create it myself and what this file is
399:04 - is it is instructions to Django for how
399:07 - to manipulate the database to reflect
399:09 - the changes I have made to the model
399:11 - that here is an instruction to Django to
399:14 - create a new model called flight that
399:16 - has these particular Fields inside of it
399:19 - and it's basing this off of the changes
399:21 - that I made to models.pi the model that
399:23 - I added is now reflected in this
399:25 - migration
399:27 - and now if I want to apply the migration
399:29 - actually apply it to Django's database I
399:32 - can run python manage.pi migrate to go
399:36 - ahead and apply these migrations there
399:37 - are a bunch of default migrations that
399:39 - get applied as well but notice that one
399:41 - of the migrations that gets applied is
399:42 - this one here applying
399:45 - flight.0001 underscore initial to say
399:48 - let's go ahead and apply that migration
399:49 - create that table that is going to
399:51 - represent flights and if I type LS now
399:54 - you'll see that now I have a db.sqlite3
399:58 - file a sqlite database that is going to
400:01 - contain a table that is going to store
400:03 - all of my flights
400:05 - and so how can I actually begin to
400:07 - manipulate this data how can I interact
400:08 - with these with these sorts of models I
400:11 - could use direct SQL syntax by opening
400:13 - up this database file and running
400:15 - commands but Django provides some nice
400:17 - abstraction layers on top of it so that
400:19 - I don't actually need to execute those
400:21 - commands myself I can begin to work more
400:23 - generally with python classes and
400:25 - variables and things that I'm used to
400:27 - inside the Python language
400:29 - so I can enter Django's shell where I
400:31 - can just run python commands by running
400:33 - python manage.pi shell
400:37 - and what this does is open up a shell or
400:39 - a console where I can begin to write
400:41 - python commands that get executed on
400:44 - this web application and the first thing
400:45 - I'd like to do is from flights.models
400:49 - let me just import flight
400:52 - so flights is the name of my app models
400:54 - is the name of that file I'm importing
400:56 - the flight class from that models file
400:58 - that I've just created and now what I
401:00 - can do is I can create a new flight I
401:03 - can say something like f equals a flight
401:05 - whose origin is New York and whose
401:09 - destination is London
401:12 - in his duration equals 415 minutes and
401:16 - then I can say F dot save to save that
401:18 - new flight that I have created and this
401:21 - syntax now and I'll go ahead and make it
401:22 - a little bit bigger so we can see it a
401:23 - little easier is my way
401:25 - of inserting data into this table I
401:28 - don't need to use an insert query in SQL
401:30 - I just have to write a python command
401:32 - and Django knows that when I create a
401:34 - new flight and save it that it should
401:36 - run an insert command on the underlying
401:38 - SQL tables where here I've created a new
401:40 - flight with this particular origin and
401:43 - destination and duration and I've gone
401:45 - ahead and saved that flight as well and
401:48 - if I want to query that flight get
401:49 - information about that flight I can say
401:51 - something like
401:54 - flight.objects.all is the equivalent of
401:56 - like a select all get me all of the
401:58 - flights that exist inside of my database
402:00 - and here I see I get back a query set
402:03 - which is just a set of results and here
402:06 - I have one flight that came back flight
402:08 - object one so a flight has been created
402:10 - for me with id1 now flight object one
402:13 - probably not all that helpful of a name
402:15 - it'd be nicer if this model had a
402:16 - cleaner way of seeing the name of a
402:18 - particular of a particular flight for
402:20 - example and it turns out we can do that
402:22 - that any model I'll go back to the code
402:24 - inside of models.pi
402:26 - any model can Implement double
402:29 - underscore stir function which returns a
402:33 - string representation of that particular
402:35 - object and this applies not just a
402:37 - Django models but to python classes more
402:39 - generally than if this function returns
402:41 - a string representation of the object
402:42 - let's go ahead and return a formatted
402:45 - string that is self.id I'll say
402:48 - self.origin to self.destination
402:52 - so here what I've said is that the
402:54 - string representation of any flight is
402:56 - going to be a string that gives its ID
402:58 - and then says all right origin to
403:00 - destination just a nice clean name that
403:03 - is going to represent this particular
403:04 - flight
403:05 - so now if I go back
403:08 - to the Shell by running python manage.pi
403:11 - shell I can say from flights.models
403:14 - import flight
403:15 - I can say all right let's let a variable
403:17 - called Flights be equal to
403:18 - flight.objects.all
403:21 - and now flight is going to be this
403:24 - flight flight 1 New York to London it
403:27 - now has a much nicer string
403:28 - representation of the name which just
403:30 - makes it a little bit easier to interact
403:31 - with if I wanted to get just that one
403:34 - flight I can say flight equals flights
403:36 - DOT first
403:38 - slice is a query set first gets me that
403:40 - first flight
403:41 - and so now I have this flight from New
403:44 - York to London
403:45 - and just as in any python object I can
403:47 - begin to access properties of that
403:49 - object I can say all right flight what
403:51 - is your ID flight what is your origin
403:53 - flight what is your destination flight
403:55 - what is your duration and I can access
403:57 - as values all of the properties of this
403:59 - flight that I ultimately care about and
404:01 - if I want to delete the flight I can say
404:03 - something like flight dot delete
404:06 - now ultimately though this is not the
404:09 - model that I actually want to represent
404:11 - my flight because here again I'm using a
404:13 - character field a Char field for things
404:15 - like origin and destination when in
404:17 - reality I probably like to use something
404:19 - like another table for representing
404:22 - airports and then some relationship
404:24 - between every flight and an airport so
404:27 - let's go ahead and try and Implement
404:28 - that idea now that I can go back into
404:30 - models.pi and create a new class
404:33 - I'll create a class called Airport
404:36 - that is also a model
404:37 - and I'd like for this airport class to
404:40 - have a code
404:41 - which is a character field with a max
404:44 - length of three for the airport's code
404:46 - as well as a city which would be a
404:49 - character field with a max length of 64.
404:52 - and let's also give this airport a
404:55 - string representation we'll say that the
404:57 - string representation of an airport will
404:59 - just be the city of the airport and then
405:01 - in parentheses the code of the airport
405:04 - so it'll be something like New York and
405:05 - then in parentheses JFK to represent a
405:08 - particular Airport
405:10 - and now our flight model needs to change
405:13 - a little bit no longer will origin and
405:16 - destination be character fields that are
405:18 - just throwing text but instead origin is
405:21 - going to be a foreign key a foreign key
405:24 - that references another table like the
405:27 - airport table
405:29 - and then I can provide some additional
405:30 - arguments so this alone would be enough
405:32 - but I can add some additional arguments
405:34 - like on delete equals models dot Cascade
405:37 - so what does this mean well when I have
405:40 - tables that are related to each other
405:42 - SQL needs some way of knowing what
405:44 - should happen if you ever delete
405:45 - something if I have a flight from JFK to
405:48 - London and I later in the later in time
405:50 - decide to delete JFK Airport from my
405:53 - database what should happen to that
405:54 - flight like what happens to flights when
405:57 - the thing that it is referencing gets
405:59 - deleted what models.cascade means is if
406:01 - I were to ever delete an airport from
406:04 - the airports table it's going to also
406:06 - delete any of the corresponding flights
406:08 - and there are other on delete parameters
406:10 - you can set for saying like don't even
406:11 - let me delete an airport if there are
406:13 - flights that are leaving from or going
406:14 - to that airport that's called
406:16 - models.protect but there are other ways
406:18 - of implementing similar types of
406:20 - constraints
406:21 - and the other argument that I'm going to
406:23 - provide is what's called a related name
406:25 - and a related name as we'll see in just
406:28 - a moment is going to be a way of me
406:29 - accessing a relationship in the reverse
406:32 - order that from a flight I can take a
406:35 - flight and say dot origin to get the
406:37 - flight's origin in airport but the other
406:39 - question I might want to ask is in the
406:41 - reverse order if I have an airport how
406:43 - do I get all of the flights that have
406:45 - that airport as an origin and so here if
406:47 - I give a related name to this foreign
406:49 - key Django will automatically set up the
406:52 - relationship going in that opposite
406:54 - direction and so here well if we have an
406:56 - airport and I want to know all of the
406:58 - flights that have that airport as their
407:00 - origin the reasonable name for a related
407:02 - name here is something like departures
407:05 - so if I have an airport I can access all
407:08 - of the departures which gets me all of
407:10 - the flights that are leaving from that
407:12 - airport
407:13 - and I'll likewise do the same thing here
407:15 - for Destination instead of a character
407:16 - field it's going to be a foreign key
407:18 - it's going to reference airport when we
407:21 - delete it we'll go ahead and Cascade it
407:23 - and the related name will be arrivals
407:26 - because if I have an airport I might
407:28 - want to access all of the arrivals all
407:30 - of the flights that correspond to
407:32 - flights that are arriving at that
407:34 - particular destination
407:36 - and so now I've done two things I've
407:38 - added a new class called airport and
407:40 - I've modified my existing flight model
407:42 - so this has changed in my python code
407:45 - but it hasn't yet changed in my database
407:47 - so in order to make the change in the
407:49 - database again it's a two-step process
407:51 - step one
407:53 - pythonmanage.pi make migrations to say
407:55 - look for any new changes that have been
407:57 - made to models.pi
408:00 - and go ahead and create a migration
408:01 - instruction for how to make those
408:04 - changes to the database
408:05 - here we see that we've created
408:08 - a new migration file and this migration
408:11 - is going to create a model called
408:12 - airport and it's also going to alter the
408:15 - destination field and alter the origin
408:17 - field on my flight model because as we
408:20 - know we've changed destination and
408:21 - origin to no longer be character Fields
408:24 - but to instead be references to a
408:26 - particular airport so that's something
408:27 - that's going to need to change in the
408:29 - database and to make that change I can
408:31 - run something like python manage.pi
408:34 - migrate to go ahead and apply those
408:37 - changes we've now applied this migration
408:39 - that we just created and our database is
408:42 - now up to date
408:43 - so what can we do well now I can go
408:46 - ahead and go back into the shell
408:48 - and I'll just go ahead and import from
408:50 - flights.models import Star import
408:52 - everything
408:53 - and I can now create an airport I can
408:55 - say something like JFK equals airport
408:59 - whose code is JFK and whose city is New
409:02 - York for example and then save that I
409:06 - can create a London one so lhr is an
409:08 - airport whose code is lhr and who city
409:11 - is London and I can save that you know
409:14 - you could create more I could say CDG
409:16 - equals an airport whose code is CDG and
409:19 - city is Paris and maybe we'll do one
409:22 - more we'll say nrt is the airport whose
409:25 - code is nrt and whose city is Tokyo for
409:28 - example so I've created and saved four
409:31 - airports that get added to my airport
409:32 - table
409:33 - and now I can add a flight f equals
409:36 - flight whose origin equals JFK whose
409:40 - destination equals London Heathrow and
409:43 - whose duration equals 415 minutes and
409:46 - I'll go ahead and save that
409:48 - as well
409:50 - so I've now created four airports I've
409:51 - created a flight and saved it if I type
409:54 - f just for my flight I see that all
409:57 - right this is a flight from New York to
409:59 - London but I can also say what is f dot
410:02 - origin
410:04 - and to write F dot origin that is now an
410:06 - airport object it's JFK in particular
410:09 - and I can do F dot origin dot City to
410:11 - get the city of the origin which is New
410:13 - York F dot origin dot code to get the
410:15 - code of that airport which is JFK and if
410:18 - I start with an origin something like
410:20 - JFK or London Heathrow I can say lhr dot
410:23 - arrivals to go ahead and Dot all to get
410:26 - all of the arrivals all of the flights
410:28 - arriving in London Heathrow and it looks
410:31 - like there's just one of them which is
410:32 - this flight that I've just created uh
410:34 - from New York that is going to London as
410:37 - well
410:37 - and so this now gives us the ability to
410:40 - manipulate SQL just by using these
410:42 - python models and I now have python
410:44 - classes that represent all of these
410:46 - various different types of data and now
410:48 - instead of running SQL queries like
410:50 - select star from flights or from
410:51 - airports I can just interact with these
410:54 - classes and these properties on the
410:56 - classes and Django takes care of the
410:58 - process for me of figuring out what the
411:00 - underlying SQL queries should be
411:01 - executing those queries and just giving
411:03 - those results back to me and we can
411:06 - begin now to design a web application
411:07 - around this idea that I can go into
411:10 - urls.pi and let's add a URL pattern that
411:13 - says you know the default route will go
411:15 - ahead and load the index view give it a
411:17 - name of index same as similar things
411:19 - we've seen from last time
411:21 - and now what should we do in the index
411:23 - view well the index view let's go ahead
411:26 - and say what I would like to do is just
411:29 - display a list of all the flights so I
411:32 - might from dot models import flight and
411:36 - airport or maybe maybe I just need
411:38 - flight I just want a list of all the
411:39 - flights so I'm going to import flight
411:41 - from all of my models and now what I'd
411:43 - like to do is return let's go ahead and
411:46 - render a template called flight
411:48 - index.html
411:50 - and give index.html access to a variable
411:53 - called Flights and what is that variable
411:56 - going to be equal to it's going to be
411:57 - equal to
411:59 - flight.objects.all to get me like all of
412:01 - the flights that I would like to put
412:03 - right here
412:05 - all right so what can I do from now now
412:07 - what I need to do is actually create
412:08 - those individual templates so inside of
412:11 - flights I'll create a new folder called
412:14 - templates
412:15 - inside of which I'll create a new folder
412:17 - called Flights inside of which I'll go
412:19 - ahead and create a layout.html much as
412:21 - we've done before where that layout is
412:23 - going to contain the basic structure of
412:26 - our HTML page so a head section whose
412:29 - title is flights
412:31 - and a body section that is going to have
412:34 - a block body
412:37 - and the end of the block
412:39 - much as before this is the default
412:41 - layout for this particular page
412:43 - and then I'll add a new template called
412:45 - index.html that is going to extend
412:48 - flight layout.html
412:51 - and then inside the body of the page
412:55 - I'm going to display an H1 that just
412:57 - says flights and let's now create an
412:59 - unordered list where I can now Loop over
413:02 - for flight in flights
413:04 - N4 to end the loop but inside the loop
413:07 - let me create a list item where I just
413:10 - print out like a flight maybe I'll print
413:13 - the flight and then flight dot ID to
413:16 - print out like flight one flight two
413:18 - flight three and then I'll print
413:20 - flight.origin to flight.destination
413:24 - so what I've done here is create a
413:27 - template that I'm going to give access
413:29 - to a variable called Flights where
413:31 - flights is going to be a variable that
413:33 - represents all of the flights that I
413:35 - query by running
413:37 - flight.objects.org that is my way using
413:39 - Django's API using the functions that it
413:41 - has given me access to to say take the
413:44 - flight and get all of the flights that
413:46 - are stored inside of Django's database
413:48 - then here in the template I'm looping
413:50 - over each one of those flights for each
413:52 - one printing on a list item where I can
413:55 - access properties of that flight say
413:57 - flight this ID from origin
414:00 - to a particular destination
414:03 - so now
414:04 - I'll go ahead and go into my terminal
414:06 - run python manage.pi run server which
414:09 - again is how we run a Django web
414:10 - application and now if I go to that URL
414:13 - slash flights this time because that's
414:15 - the URL what I see is exactly what I
414:17 - would expect to see an unordered list
414:19 - that just so happens to have flight 1
414:22 - New York to London displayed there it is
414:25 - taking data from my database and now
414:27 - displaying it inside of this template
414:29 - and if I were to add new flights it
414:31 - would also update on this page as well
414:33 - so if I go ahead and go back go into the
414:35 - Shell pythonmanage.pi Shell I'll go from
414:38 - flights.models import Star let's go
414:41 - ahead and well all right let's add a
414:44 - flight from Shanghai to Paris for
414:46 - example well how do I get the airports
414:48 - for Shanghai and Paris well it turns out
414:50 - that if I want to get like Shanghai I
414:52 - can say like Shanghai equals airport Dot
414:55 - objects. and then I can say if I do
414:59 - airport.objects.all
415:01 - that gets me all of the airports for
415:03 - example oh and it seems I don't actually
415:04 - have a Shanghai one um but I can add one
415:07 - if I wanted to but if I do
415:09 - airport.objects.all that again gives me
415:11 - all of them but if I want to filter my
415:13 - Airport's list so not get all of the
415:15 - airports but just get some of them I can
415:17 - say airport Dot
415:19 - objects.filter and I can say like get me
415:21 - all the airports where
415:23 - um the city is New York for example
415:27 - and that is going to go ahead and give
415:29 - me a query set that only contains the
415:31 - results that I care about so again
415:33 - airport.objects.filter lets me constrain
415:36 - the results that come back not get me
415:37 - all of the airports but only get me
415:39 - airports whose city is New York for
415:41 - example and it owns only giving back one
415:43 - so I could say dot filter City equals
415:45 - New York DOT first to say take that
415:48 - query set and just get me the first and
415:49 - only thing in that query set and that
415:51 - gives me Airport New York a simplified
415:54 - way of doing the same thing if you know
415:56 - you're only going to get one result back
415:58 - if I can say something like
416:00 - airport.objects.get which will only get
416:03 - one result if it knows that there's only
416:04 - going to be one airport with the city of
416:06 - New York that too will return to me New
416:09 - York JFK Airport
416:11 - but it will throw an error if ever
416:13 - there's more than one or if there's none
416:14 - for example so we'll go ahead and save
416:16 - that inside of JFK and we'll go ahead
416:18 - and create a flight that is going uh
416:20 - from New York to Paris for example I can
416:23 - do CDG equals
416:25 - airport.objects.get City equals Paris
416:28 - and now I have this variable CDG which
416:30 - represents the airport Paris and if I
416:32 - want to create a new flight that goes
416:34 - from New York to Paris I can say f is
416:37 - going to be a flight whose origin is JFK
416:39 - whose destination equals CDG and whose
416:43 - duration equals 435 and I can save that
416:46 - flight as well and so I've added a new
416:49 - flight
416:50 - and so now if I run the server
416:52 - pythonmanage.pi run server
416:55 - refresh the page I now see that I have
416:58 - two flights one flight that's going from
416:59 - New York to London one flight that's
417:01 - going from New York to Paris but of
417:03 - course it's going to be pretty annoying
417:05 - if every time I want to update the data
417:07 - adding new data manipulating the data I
417:09 - need to go into the shell in order to
417:11 - run direct commands that are able to add
417:13 - new flights add new airports so on and
417:15 - so forth what I'd really like to be able
417:17 - to do is just very simply to add it via
417:19 - a web interface via the web be able to
417:21 - say all right let me add a new flight
417:23 - that goes from location one to location
417:25 - two and it's possible using the
417:27 - information we know now to build a web
417:30 - page that does just this but Django is
417:32 - built on this idea that it doesn't want
417:34 - you the programmer to have to repeat
417:36 - work that other people have already done
417:38 - and this process of trying to Define
417:40 - models and very quickly be able to
417:42 - create and edit and manipulate models is
417:44 - so common the Django has already built
417:46 - for us an entire app that is just
417:49 - designed for the manipulation of these
417:51 - models and it's known as the Django
417:53 - admin app and this is an app that we've
417:56 - seen traces of already that if we
417:58 - remember that urls.pi file
418:00 - from inside of our application we saw
418:04 - that we added a path for our own app but
418:07 - there was already a path given to us by
418:09 - default slash admin that takes us to the
418:12 - admin app as well and so in order to use
418:15 - the admin app we need to create an
418:17 - administrative account inside of our
418:19 - Django web application and the way to do
418:21 - that is via the command line I can run
418:23 - python manage.pi
418:26 - create super user it's going to ask me
418:28 - for my name I'll go ahead and type in my
418:30 - username
418:31 - my email address and it's also going to
418:34 - ask for a password I can just make up a
418:35 - password that I would like to use
418:37 - retype it in just to confirm it and now
418:40 - Django has created a super user account
418:42 - for me in this web application so that I
418:45 - using these credentials have the ability
418:48 - to visit the web interface for the admin
418:50 - app and actually manipulate some of
418:52 - these underlying models
418:54 - so in order to do this the first thing I
418:56 - need to do is take my models and add
418:59 - those models to the admin app so inside
419:01 - of models.pi I have a class called
419:03 - airport and a class called flight
419:05 - and if we look at the files I have
419:07 - there's another file we haven't really
419:09 - looked at yet called admin.pi inside of
419:11 - my app and inside of admin.pi I'll first
419:15 - from my models import flight and Airport
419:18 - and now I'm going to say
419:20 - admin.site.register airport and
419:23 - admin.site
419:25 - dot register flight
419:28 - and what this is going to do is it is
419:30 - going to tell Django's admin app that I
419:32 - would like to use the admin app to be
419:34 - able to manipulate airports and to be
419:36 - able to manipulate flights as well
419:40 - and so let's take a look at this admin
419:41 - app and see how it actually works I can
419:44 - run python manage.pi run server
419:48 - that will start up the web server I'll
419:50 - now visit this URL instead of going to
419:52 - slash flights I'll go to slash admin
419:54 - and this opens up this Django
419:57 - Administration app that's not written by
419:59 - me Django has written this and it's
420:01 - asking me to log in I'll go ahead and
420:03 - log in using those credentials I used a
420:04 - moment ago typing in my username and
420:06 - password and what I get here is Django's
420:10 - site Administration interface Built For
420:12 - Me by Django where I didn't need to
420:14 - design this at all but importantly if we
420:16 - notice down here I now have the ability
420:18 - to add and manipulate airports and
420:20 - flights via this web interface this
420:22 - Django administrative interface so now
420:24 - using this interface I have the ability
420:26 - to manipulate the underlying database to
420:29 - manipulate my models to add and modify
420:31 - data that already exists so if I click
420:33 - on airports for example I see here here
420:36 - all of the airports that I've already
420:38 - added to my database Tokyo Paris London
420:40 - and New York and I can add a new one I
420:42 - can say let's go ahead and add PVG which
420:45 - is Shanghai
420:46 - and I can either save it save and
420:48 - continue editing save and add another
420:49 - I'm going to add a couple so I'll go
420:51 - ahead and save and add another let's go
420:52 - ahead and add Istanbul airport as well
420:55 - let's add a Moscow that's an airport 2
420:59 - and maybe one more we'll add Lima as
421:02 - well and I'll just go ahead and click
421:03 - save and now I've added a whole bunch of
421:05 - airports all via this web interface
421:07 - Django was originally created for like
421:09 - news organizations that very quickly
421:11 - wanted to be able to post articles and
421:13 - post new posts on their website and it
421:15 - made it very easy via an interface like
421:17 - this to very quickly just say like here
421:18 - add a new article and here's the content
421:20 - of the article to be able to display in
421:22 - a page and now we've been able to very
421:24 - quickly add new airports to our website
421:26 - as well and so if we want to add flights
421:29 - well we can go ahead
421:31 - and go back home
421:32 - I'll click on flights I see that I
421:35 - already have two flights inside of my
421:36 - database I have New York to London and
421:38 - New York to Paris I'll add a new one
421:40 - it's letting me choose an origin
421:42 - destination and duration and Django
421:44 - knows that the origin must be an airport
421:46 - so it's going to give me the opportunity
421:47 - to just choose an airport where I can
421:49 - say Okay Shanghai is the origin uh the
421:52 - destination is going to be Paris and the
421:54 - duration is going to be like 760 minutes
421:56 - for example so now using Django's admin
421:59 - interface I've been able to add a number
422:01 - of different flights and a number of
422:02 - different airports and if I go back not
422:05 - to the admin app but to my flights app
422:07 - the app that I wrote myself and go back
422:09 - to flash flights now I actually see all
422:12 - of the new flights that I have added to
422:14 - my database via Django's admin interface
422:16 - I added them to the admin interface and
422:18 - now I see this flight from Shanghai to
422:19 - Paris I see this flight from Paris to
422:22 - New York as well
422:24 - and so now what I might like to do is
422:26 - begin to add some more pages to this web
422:28 - application make this web application a
422:31 - little more sophisticated by maybe
422:32 - giving me the ability to like click on a
422:34 - particular flight
422:35 - to view details about that flight what
422:38 - I'd like is for every flight to have its
422:40 - own page not just slash flights for all
422:42 - the fights but slash flight one for
422:44 - flight id1 Flight 2 for id2 so on and so
422:48 - forth what I can do in order to do that
422:50 - is go back into urls.pi
422:53 - and create a new path we'll create a
422:55 - path where I'm going to specify a flight
422:58 - ID which would be an integer when I do
423:01 - let's go ahead and load the flight view
423:02 - whose name will be flight
423:04 - and now I need to just go to views.pi
423:06 - and add a function called flight
423:09 - so I'll go back go into views.pi in
423:12 - addition to an index function we'll
423:14 - Define a flight function that accepts as
423:17 - an argument a flight ID
423:19 - so now what is this flight function
423:20 - going to do well the first thing I need
423:22 - was actually need to do is actually get
423:24 - that flight I can say flight equals
423:26 - flight.objects.get me the flight whose
423:29 - ID is equal to flight ID for example or
423:34 - alternatively Django also lets you say
423:35 - PK instead of ID is a more generic way
423:39 - of referencing the primary key for
423:40 - whatever the primary key happens to be
423:42 - called the PK in this case is just the
423:44 - ID but then what I can do is render
423:48 - a template like flight flight.html
423:51 - and pass as input to that the flight
423:55 - so we're passing it this flight to
423:57 - flight.html and now I can create a
424:00 - template
424:01 - create a new file called flight.html
424:04 - which is going to also extend flight
424:08 - layout.html using that same HTML layout
424:11 - and inside the body of the page
424:13 - let's just say something like
424:16 - in big we'll say flight flight ID and
424:20 - then maybe an unordered list where I can
424:21 - say something like the origin is
424:24 - flight.origin
424:26 - the destination is flight.destination
424:30 - and the duration is flight dot duration
424:36 - so now I have a page that displays
424:38 - flight information about any particular
424:40 - flight and if I go ahead and load not
424:43 - slash flights in my web browser but
424:45 - flash flight one for example will now
424:48 - have information about flight number one
424:49 - and Flash Flight 2 gets me information
424:51 - about flight number two querying for
424:53 - that particular flight then printing out
424:55 - its origin destination and duration now
424:58 - there's some error checking that we
425:00 - probably should do here if I try and
425:01 - access a flight that doesn't exist
425:03 - something like Flight 28 for example I'm
425:06 - going to get some sort of error that it
425:07 - does not exist there flight matching
425:09 - query does not exist I might like to
425:11 - control what happens in that situation A
425:13 - little better so you might imagine
425:14 - adding some additional error checking to
425:16 - handle those cases as well but we'll
425:18 - leave it at this just for now
425:20 - but now let's go ahead and add the
425:22 - ability not only to have flights that
425:24 - have airports associated with them but
425:26 - let's also add passengers to our flights
425:28 - as well to be able to represent
425:30 - passengers that might actually be on
425:32 - these flights too
425:33 - so I'll go ahead and go back into
425:35 - models.pi
425:37 - and in models.pi in addition to an
425:40 - airport class and a flight class let me
425:42 - create a new class called
425:45 - passenger also going to be a model
425:47 - and what properties does a passenger
425:49 - have well passenger has a first name
425:51 - which will go ahead and make a
425:53 - models.char field
425:56 - whose max length will put at 64.
425:59 - and a last name
426:02 - max length equals 64. and passengers
426:05 - also as we described before they have a
426:07 - many-to-many relationship with flights
426:10 - that a flight could have multiple
426:11 - passengers a passenger could be on
426:13 - multiple flights and ultimately we need
426:15 - an additional table to keep track of
426:17 - this but we can think a little bit more
426:18 - abstractly here in Django and just say
426:21 - that every passenger has flights
426:23 - associated with them which are a models
426:25 - dot many too many field with flight so
426:30 - every passenger could be associated with
426:32 - many flights we'll say blank equals true
426:35 - to allow the possibility that a
426:37 - passenger has no flights maybe if
426:38 - they're not registered for any flights
426:39 - at all
426:40 - and we'll also give this a related name
426:43 - of passengers meaning if I have a
426:46 - passenger I can use the flights
426:48 - attribute to access all of their flights
426:50 - and likewise if I have a flight I can
426:52 - use this passengers related name to
426:55 - access all of the passengers who are on
426:57 - that flight and we'll see how that'll be
426:58 - useful in a moment too
427:00 - the string representation of a passenger
427:03 - we'll just go ahead and be their first
427:05 - name space their last name which feels
427:08 - like a reasonable way of representing a
427:10 - particular passenger and now I need to
427:12 - apply these changes I need to say python
427:15 - manage.pi make migrations because I've
427:17 - made new changes to my model I've
427:19 - created a model passenger in particular
427:21 - and now if I do python manage.pi migrate
427:24 - now I've applied those changes to my
427:27 - actual database
427:28 - and if I go into admin.pi so we'll go
427:32 - into admin.pi and register not only
427:35 - flight and airport but passenger
427:39 - admin.site.registerpassenger
427:41 - then now via the admin interface I can
427:43 - manipulate passengers as well I can say
427:45 - python manage.pi run server to run my
427:49 - web server
427:50 - go to my web server's admin view by
427:52 - going to slash admin
427:54 - go down to passengers and let's go ahead
427:57 - and add a passenger
427:59 - where I can say all right first name
428:01 - Harry last name Potter and we'll go
428:03 - ahead and put him on flight one and
428:06 - flight three maybe he's on two different
428:07 - flights for example and you can hold
428:09 - down command or control to be able to
428:11 - select multiple flights and we'll go
428:12 - ahead and save that Harry Potter has
428:14 - been added successfully and let's add a
428:16 - couple of other passengers We'll add Ron
428:18 - Weasley and we'll add another We'll add
428:21 - Hermione Granger and we'll add Ginny
428:24 - Weasley as well so we've added a number
428:27 - of different passengers that now all
428:29 - exist in Django's admin interface and
428:31 - now what I'd like to do is on the flight
428:33 - page display information about which
428:35 - passengers happen to be on any given
428:38 - flight so the way I might do that
428:40 - is by going into views.pi
428:44 - and on the flight page in addition to
428:46 - giving access to the flight let me also
428:48 - give it access to passengers so
428:51 - passengers this template is going to get
428:53 - access to and we get passengers by
428:55 - saying flight
428:56 - dotpassengers dot all and the reason we
428:59 - can do this is again because passengers
429:01 - is that related name it is our way of
429:03 - taking a flight and getting all of the
429:06 - passengers that happen to be on that
429:08 - flight
429:09 - and so now
429:11 - inside of
429:13 - flight.html I can add something like
429:16 - let's add an H2 called passengers
429:19 - where here I'm going to Loop for
429:21 - passenger in passengers
429:25 - go ahead and display
429:29 - that passenger just print out that
429:30 - passenger inside of a list item and in
429:33 - Django I can say if the list is empty
429:35 - let's just have a list item that says no
429:38 - passengers meaning nobody is currently
429:40 - on this flight
429:42 - so now my web server is still running I
429:45 - can go back to slash flights here are
429:47 - all the flights
429:49 - and if I go to slash flight one I now
429:51 - see that on flight one Harry Potter is a
429:53 - passenger on that flight but if I go to
429:55 - Flight 2 all right no passengers are on
429:58 - that flight either and now it's been a
430:00 - little Annoying that I've had to do
430:01 - everything by using the URL here to be
430:04 - able to go back and forth between pages
430:05 - I could link to those pages if I want to
430:08 - and the way I might do that is let's on
430:11 - the flight page add a link
430:13 - that goes to the URL index
430:17 - that says something like back to flight
430:19 - list Maybe
430:21 - so here's now a link that takes me to
430:22 - the index View
430:24 - and likewise I can go into index.html
430:27 - and for each of these list items each of
430:30 - these list items is really going to be a
430:33 - link
430:33 - that links to
430:36 - it's a URL to a particular flight and
430:39 - the flight route takes as a parameter of
430:41 - flight ID and so inside this URL
430:44 - substitution here I can specify use
430:47 - flight.id as the ID of the flight that I
430:50 - would like to use here
430:52 - and so now I've put every single flight
430:55 - inside of a link that takes me to the
430:57 - flight route but because the flight
430:59 - route requires as an argument the flight
431:01 - ID I can specify the flight ID here
431:05 - and so now if I go back to flash flights
431:07 - I now see a list of flights where every
431:09 - flight is in fact a link that can take
431:11 - me somewhere else
431:12 - and so now I can click on any one of
431:15 - those links like New York to Paris and
431:17 - that takes me to the flight page I can
431:19 - click back to flight list that takes me
431:20 - back to the flight list click on another
431:22 - flight and go to that flight as well so
431:24 - I've now been able to come up with this
431:25 - way of linking these pages together by
431:29 - having links in each of the various
431:30 - different pages that take me to some
431:32 - other route as well
431:34 - [Music]
431:35 - and so now what I might like to do is in
431:37 - addition to displaying all the
431:38 - passengers on any particular flight also
431:41 - give myself the ability to add
431:42 - passengers to a flight as well which
431:44 - feels like a reasonable thing that I
431:46 - might want to do inside of this web
431:47 - application and so how can I go about
431:49 - doing that well in order to do that I'm
431:52 - going to need some new route that lets
431:54 - me book a flight for a particular
431:56 - passenger and so I'll go ahead and go
431:58 - back to urls.pi
432:00 - and inside of urls.pi I'll add a new
432:04 - path that will be int flight ID slash
432:08 - book
432:09 - an in-flight ID slash book is going to
432:11 - let me book a flight for this particular
432:13 - flight ID for flight one or Flight 2 or
432:16 - flight 3 or so forth
432:18 - when I do we'll go ahead and go to the
432:19 - book View and we'll name that book
432:23 - and so now I need to implement the book
432:25 - View
432:27 - so how is this view going to work I'm
432:29 - going to define a function called book
432:32 - that is going to take this argument not
432:35 - only the request but also a flight ID
432:37 - the first thing as with before is I want
432:40 - to get the flight ID but remember from
432:42 - before that there are multiple ways that
432:43 - I can request a web page I can request a
432:46 - web page via the get request method
432:48 - which means I would just like to get
432:49 - this page or I can request a method via
432:52 - post meaning I would like to send data
432:54 - to the page and generally speaking
432:56 - anytime you want to manipulate the state
432:59 - of something especially manipulating our
433:00 - database that should be inside of a post
433:03 - request I'm submitting some form some
433:05 - data and in response to that post
433:07 - submission you should manipulate what's
433:10 - going on inside of the database
433:12 - so we're going to check when this book
433:14 - route is called upon if request method
433:17 - is post then we want to perform some
433:20 - sort of action
433:21 - flight in question is just going to be
433:26 - flight.objects.gettheflight whose
433:27 - primary key is that flight ID
433:30 - and then what I'd also like to do is
433:32 - associated with the form when someone
433:34 - submits this form to like book a new
433:36 - passenger on the flight they should tell
433:38 - me what the ID is of the passenger like
433:40 - what passenger should I book on this
433:43 - flight because those are the two pieces
433:44 - of information you need to know in order
433:46 - to actually book a flight you need the
433:47 - flight and the passenger information so
433:50 - let's assume for now that the
433:52 - information is going to be in request
433:53 - dot post
433:55 - and then in square brackets passenger
433:57 - what this means is that the data about
434:00 - which passenger ID we want to register
434:03 - on this flight is going to be passed in
434:05 - by a form with an input field whose name
434:08 - is passenger the name on any particular
434:10 - input field dictates what name we get
434:12 - receipt what is received when a route
434:15 - like this book route is able to process
434:17 - the request from the user so we'll go
434:19 - ahead and take that information and
434:21 - because by default this might be a
434:23 - string let's go ahead and convert it
434:25 - into an integer just to make sure we're
434:27 - dealing with an integer and let me say
434:29 - that the passenger in question is going
434:31 - to be passenger.objects.get
434:35 - PK equals
434:37 - this whole thing
434:39 - so now what I've done is if the request
434:41 - method is post meaning someone submitted
434:43 - this form via the post request method
434:45 - I'm first saying flights.objects.get to
434:48 - get a particular flight get me the
434:50 - flight with that flight ID
434:52 - and then I'm getting a passenger which
434:54 - passenger am I getting the one who's PK
434:56 - their primary key otherwise known as ID
434:58 - is equal to whatever was submitted via
435:01 - this post form with a name of Passenger
435:04 - and we haven't yet created that form but
435:06 - we'll do so in just a moment now
435:08 - ultimately we'll want to add some more
435:10 - error checking to this as well like what
435:12 - if someone requests a passenger that
435:14 - doesn't exist or a flight that doesn't
435:15 - exist either so there's definitely some
435:17 - error checking that we probably should
435:19 - be doing here but for Simplicity let's
435:21 - just assume for now that we're able to
435:23 - get a flight and get a passenger
435:25 - well how do we access the passengers
435:27 - flights I can just say passenger dot
435:30 - flights and in order in order to add a
435:33 - new item to Sunset like flights I can
435:35 - just say passenger.flights.add
435:38 - flight
435:39 - and this will do the equivalent of
435:40 - adding a new row into a table of keeping
435:43 - track that the passenger is on that
435:44 - flight but the nice thing about Django's
435:46 - abstractions is that I don't have to
435:48 - worry about those underlying details I
435:49 - don't have to worry about what the
435:51 - structures of the tables are I can think
435:53 - at a much higher level and just say
435:55 - take this passenger take their set of
435:57 - flights and go ahead and add a new
435:59 - flight to that set of flights
436:02 - and when all that's said and done what I
436:05 - probably want to do is return some sort
436:07 - of redirect that redirects the user back
436:10 - to the flight page so we'll go ahead and
436:12 - return an HTTP response redirect
436:16 - what URL would I like to take them to
436:18 - well I'd like to take them to the flight
436:21 - route and reverse again takes the name
436:23 - of a particular View and gets me what
436:25 - the URL is and we saw that last time
436:28 - and the flight route takes an argument
436:29 - so I need to pass as an argument the
436:32 - flights ID
436:33 - so I need to provide it to the flight
436:35 - route what the flight's ID is structured
436:37 - as a tuple and that is going to redirect
436:40 - me back to the flight route so that I
436:42 - can see that flight page again
436:45 - and what I need to add up at the top
436:48 - here is from django.http import HTTP
436:52 - response redirect
436:54 - in addition to from Django dot URLs
436:59 - import
437:01 - reverse
437:02 - and so those I'll need to add as well so
437:04 - that I can redirect the user back to the
437:06 - flight page after they're done
437:08 - submitting the form and reverse takes
437:10 - the name of a particular view as defined
437:12 - in urls.pi something like index or
437:15 - flight or book and gets me what the
437:17 - actual URL path should be and as we
437:19 - talked about last time that's helpful so
437:21 - that I don't have to hard code URLs into
437:24 - my Django web application I can just
437:25 - reference URLs by their name and If Ever
437:28 - I need to change a URL I can just change
437:30 - it in one place in urls.pi and that
437:33 - change is going to reflect everywhere
437:35 - else as well
437:37 - so now the next thing I need to do is
437:39 - actually create this form that what I
437:42 - have so far is just a function called
437:43 - book that is waiting for a post request
437:46 - to be made to it and when a post request
437:48 - is made to it then we're going to go
437:49 - ahead and submit this form and go ahead
437:51 - and add the flight for this particular
437:53 - passenger but what I'd like to do now is
437:55 - actually add that form
437:57 - so I'll go back into templates go into
437:59 - flight.html
438:01 - and what I'd like to add here is a form
438:04 - I'll go ahead and label it with an H2
438:05 - called add passenger
438:08 - and we'll create a form
438:10 - whose action is going to be URL of book
438:15 - so we're going to go to the book route
438:16 - and again if we recall the book route in
438:18 - urls.pi the the route with name book
438:21 - this View
438:22 - requires as a parameter some flight ID
438:25 - so I need to provide the flight ID as an
438:27 - argument for what flight I'm booking the
438:29 - passenger on and it just happens to be
438:32 - flight.id because this template has
438:34 - access to a variable called flight
438:36 - the method of this submission is again
438:38 - going to be post
438:40 - and recall from before that whenever I
438:42 - have a form in Django I need to give it
438:43 - the csrf token just for security to make
438:46 - sure that Django knows it's really this
438:48 - application that is submitting this form
438:50 - we'll go ahead and add a drop down list
438:52 - which you can create in HTML using a
438:55 - select field the name of this select
438:57 - field is going to be passenger
439:00 - and the reason for that is inside of
439:02 - views.pi when I get the passenger I'm
439:05 - looking for inside the post data inside
439:07 - of request.post for a field whose name
439:09 - is passenger and so that is what I would
439:12 - like the name of this drop down to be
439:14 - and inside of a select drop down we have
439:17 - a whole bunch of options options that we
439:18 - can choose from and there's going to be
439:20 - one option for everyone who isn't a
439:23 - passenger on this flight
439:25 - and so how do I get everyone who isn't a
439:27 - passenger on the flight well it seems
439:29 - that right now the flight page only has
439:31 - access to actual passengers and doesn't
439:34 - yet have access to people that are not
439:36 - passengers on the flight
439:38 - so it sounds like I need to add some
439:40 - additional context to this template
439:42 - additional information that we want
439:44 - access to so I'll go ahead and give the
439:46 - slight access to additional information
439:47 - that we'll call like non-passengers for
439:50 - people that are not on the flight
439:52 - and how do I get non-passengers well
439:55 - just as I could say
439:57 - passenger.objects.filter to only get
439:59 - passengers that match a particular query
440:01 - there's also a way in Django to say
440:05 - passenger.objects.exclude to say exclude
440:07 - passengers that satisfy a particular
440:10 - query so I want to exclude passengers
440:12 - who among their flights have this as one
440:16 - of their flights
440:17 - and so what does this actually mean well
440:19 - it means that when I render flight.html
440:21 - there's a couple pieces of information
440:23 - that it should have it needs to know
440:25 - what flight is being rendered it needs
440:27 - to know who is on the flight who are the
440:29 - passengers but if I want a drop down
440:31 - where I can choose from all the people
440:32 - who aren't already on the flight like I
440:34 - would like to register you for this
440:36 - flight well I also need all of the
440:38 - non-passengers passengers accept
440:40 - excluding the ones who are already on
440:43 - the flight and get me all of them is
440:45 - what that dot all is ultimately saying
440:48 - and so using that I now have access to
440:51 - this variable called non-passengers that
440:53 - I can use as I'm constructing this page
440:56 - so back on flight.html I can say for
441:00 - every passenger in non-passengers
441:04 - let me create a option that I can choose
441:07 - from
441:09 - and the options value is going to be the
441:13 - passenger's ID because ultimately when I
441:15 - submit the form what I care about
441:17 - getting is what is the ID of this
441:19 - passenger that I've chosen from this
441:21 - drop down but of course the user who's
441:23 - looking at this page they don't want to
441:24 - see people's IDs they want to see
441:26 - people's names so inside of the option
441:29 - tag we'll go ahead and just print out
441:30 - the passenger's name
441:32 - and we'll see in a moment what all of
441:34 - this actually looks like in terms of
441:35 - HTML so now that I've created this form
441:38 - I'll also need at the bottom to add an
441:41 - input whose type is submit to let myself
441:43 - submit this form to
441:45 - let's now try running this application
441:48 - it looks like there's a slight error
441:49 - where I said view.book instead of
441:51 - views.book views is the name of the
441:53 - module since it's in a file called
441:54 - views.pi and now looks like my server is
441:57 - running okay I can go back to slash
441:59 - flights let me get one of the flights
442:01 - like New York to London flight number
442:03 - one
442:04 - and all right name error name passenger
442:06 - is not defined this is how Django
442:08 - renders to me errors that are occurring
442:09 - in IPython code looks like it just means
442:12 - inside of views.pi I'm referencing
442:14 - passenger but I never imported it so up
442:16 - at the top I'll go ahead and import
442:18 - passenger as well
442:20 - now it seems that my web application is
442:22 - working okay so now hopefully I refresh
442:24 - this page I see flight information I see
442:27 - passengers and I also down at the bottom
442:29 - now see an add passenger section with a
442:32 - drop down list where I can click on it
442:33 - and see all right here are the three
442:35 - people that are not already on this
442:37 - flight and so if I want to add like
442:39 - Ginny Weasley to this flight I can click
442:42 - Jenny Weasley click submit and that
442:44 - submits the form and I'm redirected back
442:46 - to the same flight page now Harry and
442:48 - Jenny are both on the flight and then
442:50 - the add passenger list I see Ron and
442:52 - Hermione that's the options for me there
442:56 - and so using Django's models I've been
442:58 - able to very quickly build up a
443:00 - reasonably sophisticated application an
443:02 - application that has models that
443:04 - displays that information to me and lets
443:06 - me manipulate that data and that data is
443:07 - ultimately stored inside of a SQL
443:10 - database and one of the big powers of
443:12 - Django that it really gives to me is
443:14 - this admin interface that I ordinarily
443:17 - might have had to spend a lot of time
443:18 - designing a web interface that just lets
443:21 - me do things like take some person and
443:23 - go ahead and update like what is their
443:25 - name what flights are they on and the
443:27 - ability to very quickly add and delete
443:29 - and edit the models is something that in
443:31 - a web application could take quite a lot
443:33 - of time to be able to build from scratch
443:35 - but Django very fortunately
443:37 - gives all of that right to me and this
443:39 - admin interface even though it is
443:41 - designed by Django it's very
443:42 - customizable in terms of things that I
443:44 - can do on this admin interface if I want
443:47 - to manipulate it in certain ways in
443:49 - order to add additional features to it
443:51 - as well so we'll see a couple brief
443:53 - examples of this if I go into admin.pi
443:56 - here is my configuration for Django's
443:58 - admin interface and I can say I would
444:01 - like to configure the admin interface in
444:03 - a particular way that in a flight for
444:06 - example by default all I saw was like
444:08 - the flight's origin and destination if I
444:10 - want to be able to see more information
444:11 - about a flight I can say go ahead and
444:13 - give me a class called flight admin
444:16 - which is going to be a subclass of model
444:19 - admin where I can specify any particular
444:22 - settings that I want to apply to how the
444:25 - flight admin page is displayed so I can
444:28 - and all this is documented on Django's
444:30 - website and you just have to read it to
444:31 - be able to know what configuration
444:32 - options are available to you but I can
444:34 - say in the list display when you list
444:37 - all the flights and display them all to
444:38 - me what Fields should I have access to
444:40 - we'll go ahead and show me something
444:42 - like the origin and the destination and
444:46 - the duration and maybe also show me the
444:49 - ID for example so I want to see all of
444:51 - this information when you load a flight
444:53 - and when I register the flight I'll say
444:55 - register this flight but use the flight
444:58 - admin settings when you do so so I can
445:00 - specify I would like to use these
445:02 - particular settings when you view the
445:04 - admin interface
445:06 - and so now if I go back and go ahead and
445:09 - click on flights then now in this list
445:11 - display whereas before I only saw IDs
445:14 - and Origins and destinations now I can
445:16 - configure it to show me all of the IDS
445:18 - and Origins and destinations and
445:19 - durations as well I've been able to
445:21 - configure this display to work the way I
445:23 - would like it to and there are other
445:25 - configurations you can do as well one
445:27 - that I quite like to use is if I want to
445:29 - update my passenger admin so when I'm
445:31 - editing a passenger you can have a
445:34 - special way of manipulating many to many
445:36 - relationships inside of an attribute
445:38 - called filter horizontal
445:40 - and if I use a horizontal filter on
445:43 - flights this will just make it a little
445:45 - bit nicer for manipulating the flights
445:47 - that a passenger is on and again the
445:49 - specific syntax of this not as important
445:51 - as the idea that these are all just
445:52 - configurable settings that Django has
445:54 - documented that you can look at to see
445:55 - how to configure the admin interface to
445:57 - work exactly the way you want it to work
446:00 - and so now if I go back home
446:02 - and go to passengers and maybe click on
446:04 - a passenger like Harry Potter
446:06 - I now see this horizontal filter which
446:08 - is a very nice way of being able to
446:10 - manipulate flights that the person is on
446:12 - I see on the left list of their
446:14 - available flights that I could add them
446:15 - to on the right a list of their chosen
446:17 - flights flights that they're already on
446:19 - and it becomes very easy for me to just
446:21 - take a flight and double click on it to
446:23 - Move It from an available flight to a
446:25 - flight that they're on and vice versa
446:27 - just very quickly being able to control
446:29 - and manipulate these models and this is
446:31 - all stuff that Django just gives to you
446:33 - right out of the box
446:35 - so Django now has given us a lot of
446:38 - features the ability to represent models
446:40 - very succinctly a migration method for
446:42 - being able to very quickly apply those
446:43 - changes to our database and the last
446:46 - thing we'll take a look at is this idea
446:48 - of authentication that on many websites
446:50 - we want some method of authentication
446:51 - some ability for users to be able to log
446:53 - in and log out for Django to remember
446:55 - who a particular user happens to be and
446:58 - what we're going to do now is introduce
447:00 - an application that lets us interact
447:02 - with this authentication method because
447:04 - Django has a whole bunch of
447:05 - authentication features built right into
447:07 - the framework that we can take advantage
447:09 - of so that we don't need to rewrite all
447:11 - the logic for how do you log someone in
447:13 - and what does it mean to represent a
447:14 - user Django has done a whole lot of that
447:16 - for us so we'll go ahead and create an
447:18 - application to do that now all right so
447:21 - let's go back into my terminal now and
447:23 - now I have this Airline project inside
447:25 - of which is one app called Flights and
447:27 - I'd like to now create another app
447:28 - that's going to maintain users inside of
447:30 - this application so I'll go ahead and
447:31 - run python manage.pi start app users
447:35 - which just be an app that's going to
447:37 - allow me to represent users as of before
447:39 - when I create a new
447:42 - application I'll need to go into
447:43 - settings.pi add users as one of the
447:46 - installed apps inside of this project
447:50 - and they'll go into urls.pi to say I'd
447:53 - also like when I go to like users
447:56 - we'll go ahead and include users.urls
448:00 - so all the URLs that are associated with
448:03 - my users application now I'll need to
448:05 - actually create those URLs so I'll go
448:07 - ahead and go down into my users
448:09 - application create a new file called
448:11 - urls.pi inside of which is the same as
448:14 - what we've normally seen inside of these
448:16 - URLs files I need to import path import
448:18 - My Views and then Define some URL
448:21 - patterns
448:23 - where here what I'd like to do is Define
448:26 - One path
448:28 - that takes me to views.index
448:31 - and we'll call this one index
448:33 - then I'll create another path that takes
448:35 - me to login
448:37 - called the login View
448:39 - and the name will be login
448:41 - and we'll have another path called log
448:43 - out
448:44 - for a function called logout view that
448:47 - will be associated with it so we'll
448:49 - effectively have three different routes
448:50 - one main index route that's just going
448:52 - to display information about the
448:54 - currently signed in user one route for
448:56 - logging someone in a form that will
448:57 - display the place where they can type in
448:59 - a username and password to log in and
449:01 - then one route to allow users to be able
449:03 - to log out from this application as well
449:06 - so let's go ahead now and actually write
449:07 - these functions we need one function
449:09 - called index one function called login
449:11 - view one function called log out View
449:14 - so I'll go into views.pi and we'll start
449:16 - with index
449:18 - and so what does the index function need
449:20 - to do it's going to display information
449:21 - about the currently signed in user that
449:24 - I sign into this website and then I'm
449:26 - presented with the index page
449:28 - but as we think about this
449:29 - programmatically we first need to think
449:31 - about what should happen if someone
449:33 - tries to access this page but they're
449:35 - not authenticated how would we even find
449:37 - that out and what do we do in that
449:38 - situation well let's say if not
449:42 - request.user DOT is authenticated the
449:46 - request object that gets passed in as
449:48 - part of the request to every user in
449:49 - Django automatically has a user
449:51 - attribute associated with it and that
449:53 - user object has an is authenticated
449:56 - attribute that tells us if the user is
449:58 - signed in or not if they're not signed
450:00 - in we'll go ahead and HTTP response
450:03 - redirect them
450:05 - to the login View
450:08 - and in order to make this work I'm going
450:10 - to need to from django.http import HTTP
450:13 - response redirect and likewise from
450:17 - django.urls let's go ahead and import
450:19 - reverse as well so if the user is not
450:22 - authenticated then we're going to
450:24 - redirect them to the login view where
450:26 - what is the login view going to do
450:28 - well the login view for now let's just
450:31 - go ahead and render
450:33 - users
450:35 - login.html some form where the user can
450:38 - log themselves in
450:39 - we'll need to create some templates I'll
450:41 - create a templates folder inside of
450:43 - which is a users folder inside of which
450:46 - we'll just create a basic layout as
450:48 - we've done multiple times now
450:51 - this is again going to be the general
450:52 - structure for pages in this app title
450:55 - will be users and the body will just
450:58 - have a block called body that I can
451:00 - later fill in with other content
451:03 - and now that I have this HTML layout I
451:05 - can go ahead and create a new file
451:07 - called login.html where login.html will
451:11 - extend users
451:13 - layout.html and inside the body block
451:18 - I can just display an HTML form so I can
451:22 - say something like I would like for
451:23 - there to be a form whose action when I
451:25 - submit the form let's go ahead and still
451:27 - go to the login URL
451:29 - but let's do so using the post request
451:32 - method again I'm logging in I'm
451:34 - submitting a form generally when you're
451:36 - doing that you want to submit form data
451:37 - via post especially in the case of
451:39 - username and password because if you do
451:41 - this sort of thing you don't want the
451:42 - username and password to be passed in as
451:44 - get parameters because those show up in
451:46 - the URL
451:47 - our form will have our csrf token for
451:50 - security as before
451:51 - an input whose type is text whose name
451:54 - is username and just for user
451:56 - friendliness let's give it a placeholder
451:58 - also of username so the user knows to
452:00 - type in their username here
452:02 - we'll also have an input whose type is
452:04 - password whose name is also password and
452:07 - when an inputs type is password that
452:09 - just means our HTML will know in the
452:11 - browser that Chrome or Safari or whatnot
452:13 - will know to show the password as dots
452:15 - instead of as characters
452:17 - and we'll give that a placeholder of
452:19 - password
452:20 - and then an input of type submit
452:22 - whose value is log in so we now have the
452:25 - ability to log in
452:28 - so if we go ahead and run this program
452:30 - python manage.pyrun server we should see
452:33 - users.views has no attribute login view
452:36 - all right it looks like I called this
452:39 - function login request it should
452:40 - actually be called login View and I'll
452:42 - also need a function called log out view
452:44 - but I haven't implemented that yet so
452:47 - I'll just go ahead and say pass for now
452:48 - but I'll come back to that later to
452:50 - implement the logout View
452:52 - all right so it looks like my web server
452:54 - is running now and before I actually go
452:56 - to the login page let me first go back
452:58 - to the admin page and actually just
453:00 - create some users I can go to users and
453:01 - then add and let's add a user the
453:04 - username will be like Harry for example
453:06 - and we'll go ahead and give Harry a
453:08 - password and we'll go ahead and save and
453:10 - add another let's add maybe Ron as well
453:14 - uh go ahead and add him we'll go ahead
453:16 - and save that and these users they can
453:18 - have additional information associated
453:20 - with them I can give Ron a name like Ron
453:22 - Weasley Ron Weasley example.com this is
453:25 - email address there are a bunch of
453:26 - default fields that Django gives you for
453:28 - manipulating users and you can take
453:30 - these users and go ahead and add to
453:32 - those fields if I want to giving them a
453:33 - first name last name email address and
453:35 - whatnot
453:36 - and you can also customize these fields
453:38 - as well if you'd like to add custom
453:40 - fields that you would like to keep track
453:41 - of with regards to your individual users
453:44 - and I will go ahead and log out from
453:46 - Django admin now because I don't need it
453:47 - anymore
453:48 - but now if I go to slash users I'm not
453:52 - authenticated so what I see is a login
453:54 - form that just looks like this a place
453:56 - for me to type in a username and a
453:58 - password and of course now you can type
454:00 - in like Harry's username and password
454:01 - but I haven't yet implemented the
454:03 - processing of that data yet so let's go
454:05 - ahead and do that now
454:07 - we'll go ahead and go back to views.pi
454:10 - in the login view there are two ways the
454:12 - login view function could be called one
454:13 - is via the get request method meaning
454:15 - just show me the login form and one is
454:17 - via post submit data to the login form
454:19 - as well so if the request method is post
454:24 - well then let me first get the username
454:27 - which will be inside of the post data in
454:29 - a field called username and let me get
454:31 - the password which will be in a field of
454:33 - in the request.post
454:35 - inside of password
454:37 - and now what I'd like to do is try to
454:39 - authenticate this user and how do I go
454:42 - about doing that well it turns out there
454:44 - are a couple of functions that Django
454:45 - has given to me that I can import so
454:47 - from
454:48 - django.contrib.off auth for
454:50 - authentication I'm going to import three
454:52 - functions we're ultimately going to use
454:53 - one is authenticate that checks if
454:56 - username and password are correct one is
454:58 - called login one is called log out
455:02 - and I can now use those functions inside
455:04 - of this login view here after I've
455:06 - gotten the username and password I'd
455:08 - like to authenticate the user check if
455:10 - the username and password are correct so
455:12 - I'll go ahead and say user is equal to
455:14 - authenticate request username is the
455:17 - username password equals password and so
455:20 - authenticate as a function just takes
455:22 - the request takes a username takes a
455:24 - password and if the username and
455:26 - password are valid they give me back who
455:29 - the user actually is and as long as the
455:32 - user is not none
455:35 - that means the authentication was
455:36 - successful and I can go ahead and log
455:38 - the user in how do I log the user in I
455:41 - use the login function that Django gives
455:43 - me logging in with this request this
455:45 - user
455:46 - and now I can go ahead and redirect them
455:49 - HTTP response redirect the user back to
455:52 - the index route back to the original
455:54 - route that the user started out as and
455:56 - so that's if the user is not none if the
455:58 - authentication was successful but
456:00 - otherwise if the authentication failed
456:02 - what should I do well let me go ahead
456:04 - and render the same users login page
456:08 - again but let me add some additional
456:10 - context the context will be a message
456:13 - that says invalid credentials
456:17 - and now inside of login.html I can just
456:20 - add some logic that says if there's a
456:22 - message then go ahead and display that
456:25 - message inside of a div
456:27 - and then endif to end that so if there
456:29 - is a message we'll see the message
456:31 - printed otherwise we won't see it at all
456:34 - so now if I go ahead and refresh the
456:36 - login page nothing seems to have changed
456:38 - but let's say I type in a username that
456:40 - doesn't exist Hermione and some password
456:42 - and I log in well then I get this error
456:45 - message invalid credentials we were not
456:47 - able to log the user in
456:48 - so what happens if we do successfully
456:50 - log in well then the user is going to be
456:52 - taken to
456:54 - this index route and it looks like now
456:56 - we need to finish off this index route
456:58 - what does the index route do well let's
457:00 - go ahead and return render a template
457:02 - called users slash user.html
457:07 - and inside of user.html
457:10 - we'll go ahead and display some
457:12 - information about the user we'll still
457:15 - extend user slash layout because we're
457:17 - going to use the same basic layout
457:19 - but in the body of this page the
457:21 - information I want to show is I want to
457:23 - say like welcome and then like Harry or
457:27 - welcome Ron or whoever the user happens
457:28 - to be
457:29 - and it turns out inside of Django
457:31 - templates I have access to the request
457:34 - that was used to make this HTTP request
457:36 - which means I also have access to
457:38 - request.user who is the user associated
457:41 - with that request and if the user has a
457:43 - first name I can access
457:45 - request.user.firstname
457:48 - and in addition to that I can display
457:49 - other information maybe like their
457:51 - username is
457:53 - request.user.username and maybe their
457:55 - email address is
457:57 - request.user.email and so I can show the
458:00 - user information about them such that if
458:03 - like Harry logs in for example I sign in
458:05 - as Harry sign in with Harry's
458:07 - credentials
458:09 - click login
458:10 - well then Harry sees a page that says
458:13 - welcome Harry Harry is logged in they
458:15 - are request.user and using that
458:17 - information we can access first name
458:20 - username and email as well just by
458:23 - accessing properties of request.user
458:26 - now last thing we need to add which
458:28 - still doesn't yet exist is a way to
458:30 - actually log the user out and it turns
458:33 - out that just as Django has a login
458:35 - function Django also has a logout
458:37 - function that handles logout for us so
458:39 - we don't need to implement it ourselves
458:40 - so all our logout view needs to do is
458:43 - make a call to this logout function and
458:47 - then figure out where should the user go
458:48 - after they've been logged out and you
458:50 - know what let's go ahead and take them
458:51 - back to the login page
458:55 - with a message of logged up to indicate
458:58 - that the user has now been logged out
459:01 - then in user.html we'll go ahead and add
459:06 - a link that will go to the logout route
459:11 - that just says
459:12 - log out for example
459:14 - so now when Harry goes back to Harry's
459:16 - page Harry sees a URL that says log out
459:18 - if Harry clicks log out Harry gets
459:21 - logged out is brought back to this page
459:23 - because now
459:24 - request.user.is authenticated is going
459:27 - to be false there is no authenticated
459:28 - user and so they now see just the
459:31 - default login page and if now Ron were
459:33 - to log in for example using Ron's
459:35 - username and Ron's password
459:38 - logging in then Ron nasi's information
459:40 - associated with him as well so Django
459:43 - gives us a lot out of the box gives us
459:45 - the ability to represent these models
459:47 - and admin interface to be able to
459:48 - manipulate them a migration system that
459:50 - allows us to very quickly make changes
459:52 - to our models and apply them to our
459:54 - database and also a built-in user
459:56 - authentication system A system that
459:58 - allows us to very quickly enable users
460:00 - to be able to log in log out from our
460:03 - web application as well so all of this
460:05 - are features that just helps to make it
460:06 - so that we can very quickly take
460:08 - advantage of things like SQL and models
460:10 - and migrations to build Dynamic
460:12 - interesting web applications with data
460:14 - to back them up this was web programming
460:16 - with python and JavaScript we will see
460:18 - you next time
460:22 - thank you
460:30 - foreign
460:32 - [Music]
460:39 - welcome back everyone to web programming
460:41 - with python and JavaScript and today we
460:43 - turn our attention to the second of the
460:45 - main programming languages that we'll be
460:46 - looking into this class in particular
460:48 - JavaScript and to get an understanding
460:50 - for why it is that JavaScript is
460:51 - actually helpful let's go back and
460:53 - revisit this diagram of what
460:55 - communication over the internet will
460:56 - generally look like oftentimes we'll
460:58 - have a user otherwise known as the
460:59 - client using their computer on their web
461:02 - browser whether that's Chrome or Safari
461:04 - or some other web browser that sends an
461:06 - HTTP request a web request to some sort
461:09 - of web server that server then processes
461:11 - that request and then returns some sort
461:13 - of response that comes back to the
461:15 - client thus far all of the code that
461:17 - we've written the python web application
461:19 - code running in a Django web application
461:21 - for example has all been code that runs
461:24 - on some sort of server code that is
461:26 - listening for requests doing some
461:27 - computation in order to process that
461:29 - request and then generating some sort of
461:31 - response usually in the form of an HTML
461:33 - template that we then send back to the
461:36 - client what JavaScript is going to
461:38 - enable us to do is to begin to write
461:40 - client-side code JavaScript is going to
461:42 - allow us to write code that actually
461:44 - runs inside of the user's web browser on
461:47 - the client and this can be useful for a
461:49 - number of reasons one if there's
461:50 - computation that we want to do but we
461:52 - don't need to go out and reach out to a
461:53 - server in order to do so we can do the
461:55 - computation potentially faster just by
461:58 - running the code exclusively on the
461:59 - client and in addition to that we can
462:01 - begin to make our web pages a whole lot
462:03 - more interactive JavaScript is going to
462:05 - give us the ability to directly
462:07 - manipulate the Dom where again the Dom
462:09 - is the document object model that
462:12 - tree-like hierarchy that represents the
462:14 - web page that the user happens to be
462:16 - looking at so JavaScript will enable us
462:18 - to write code that directly manipulates
462:20 - the content on the web page and we'll
462:21 - see how that can be quite powerful very
462:23 - soon so how do we then use JavaScript
462:26 - inside of a web page in order to add
462:28 - some code add some programming logic to
462:30 - a web page well so far we've already
462:32 - seen HTML the language we use to
462:34 - describe the structure of a web page
462:36 - where an HT tml page just describes the
462:39 - structure of a page in terms of nested
462:40 - tags we had those head tags at the top
462:43 - of the page the body tags that describe
462:45 - the structure of the page and then
462:46 - additional tags that could be nested
462:48 - within those and in order to add
462:49 - JavaScript to a web page it's as simple
462:52 - as including some script tags that are
462:54 - often located inside of the HTML page
462:57 - itself when we use these script tags
462:59 - we're telling the browser that anything
463:01 - in between these script tags should be
463:03 - interpreted in this case as JavaScript
463:05 - code that the web browser is then going
463:08 - to execute so our very first program for
463:10 - example might just look like a line of
463:12 - code inside of those script tags
463:14 - something like this where alert for
463:16 - example is the name of a function a
463:18 - function that's going to produce an
463:20 - alert and then just as it functions in
463:22 - Python functions in JavaScript can take
463:24 - arguments so in between these
463:26 - parentheses we have an argument
463:27 - something like the string hello world
463:29 - the text that we would like to display
463:31 - to the user so let's go ahead and give
463:33 - this a try and see how we can actually
463:35 - use this code to write JavaScript that
463:38 - is going to run inside of the user's web
463:40 - browser I'll go ahead and create a new
463:42 - file that we'll call hello.html
463:45 - and inside of it I'll include
463:48 - the same basic HTML structure that we've
463:51 - already seen before where I have a head
463:53 - section that has a title and then a body
463:55 - that maybe just says hello for example
463:58 - and so now what I'd like to do is add a
464:01 - little bit of JavaScript to this web
464:03 - page so in the head section of my web
464:05 - page I'm going to go ahead and add a
464:07 - script tag we're in between these script
464:10 - tags now I can write JavaScript code
464:12 - code that is going to be written in
464:13 - JavaScript that will run inside of the
464:15 - web browser when the user actually opens
464:18 - up this page and for now I'll just say
464:20 - alert
464:21 - and then hello world it turns out in
464:24 - JavaScript you can use either single
464:26 - quotation marks or double quotation
464:27 - marks in order to represent strings I'll
464:30 - generally use single quotation marks
464:31 - here just by convention
464:33 - so here I'm running a function called
464:34 - alert that's going to display an alert
464:36 - something like Hello World to the user
464:37 - and that's going to be inside of the
464:40 - script tags of this HTML page
464:43 - so now if I want to actually open the
464:45 - page up I can open hello.html or you can
464:48 - just visit it inside of your web browser
464:50 - whether it's Chrome or something else
464:51 - and now at the top of the page what
464:53 - you'll notice is that I get a little bit
464:55 - of an alert some interaction where it
464:57 - says this page says hello world and it
464:59 - gives me an option to like press a
465:00 - button for example like hello like the
465:03 - OK button that'll say all right dismiss
465:04 - the alert now and this is our very first
465:07 - example of JavaScript we have a function
465:08 - called alert built into JavaScript for
465:10 - our web browser and our web browser
465:12 - knows that when we call the alert
465:13 - function the browser should display an
465:15 - alert message that looks a little
465:17 - something like that and if I click the
465:19 - OK button to dismiss the alert then we
465:21 - go ahead and get back the original page
465:23 - that I had from the beginning
465:25 - and so now we can begin to imagine that
465:28 - using this ability to programmatically
465:30 - display alerts that we can add
465:32 - additional features to our applications
465:34 - as well and one big area where
465:36 - JavaScript can be quite powerful is with
465:38 - event driven programming and what event
465:40 - driven programming is all about is
465:42 - thinking about things that happen on the
465:43 - web in terms of events that happen what
465:46 - are some examples of events events are
465:48 - things like the user clicks on a button
465:50 - or the user selects something from a
465:52 - drop down list or the user Scrolls
465:54 - through a list or submits a form
465:55 - anything the user does can generally be
465:57 - thought of as an event and what we can
465:59 - do with JavaScript is add event
466:01 - listeners or event handlers things that
466:04 - say when an event happens go ahead and
466:06 - run this particular block of code or
466:08 - this function for example and using that
466:11 - we can begin to allow our JavaScript
466:12 - code to respond to how the user is
466:15 - actually interacting with our web page
466:17 - to say when the user clicks on a button
466:19 - I would like to run this particular
466:21 - JavaScript function for example
466:23 - so let's go ahead and give that a try
466:25 - I'll go ahead and now instead of just
466:28 - saying alert hello world let me put this
466:30 - alert inside of a function and to create
466:32 - a function in JavaScript you just use
466:34 - the keyword function followed by the
466:37 - name of the function I'll call the
466:38 - function hello for example and then in
466:40 - parentheses any inputs that function
466:42 - takes this hello function is not going
466:44 - to take any input so I'll just use an
466:45 - empty set of parentheses and then inside
466:48 - of curly braces I include any of the
466:51 - code that I want to run in this function
466:54 - and so what I've done here now is create
466:56 - a function called hello and then inside
466:58 - of the curly braces I've defined the
467:00 - body of the function what code should
467:02 - run when I run the hello function and
467:04 - what the hello function should do is it
467:06 - should display an alert that in this
467:08 - case says hello world
467:10 - so now what I'd like to do is get this
467:12 - function to run when something happens
467:15 - on the page for example when a user
467:18 - clicks on a button so to do that the
467:20 - first thing I'll need to do is actually
467:21 - create a button so add a button that
467:24 - just says like click here for example
467:27 - so now if I refresh this page
467:29 - I now see that I have hello and I also
467:33 - have this button that says click here
467:34 - but when I click here like nothing
467:36 - happens I'm clicking the click here
467:37 - button but it's not changing anything
467:38 - because I haven't yet said what should
467:40 - happen when the user does click on this
467:43 - button and so one way we could do this
467:45 - is by adding an attribute to this HTML
467:48 - element
467:49 - called on click what this is going to do
467:52 - is it's going to add an on click Handler
467:55 - to this button it's going to say what
467:56 - should happen when the user clicks on
467:58 - this button and I'm going to set the on
468:00 - click attribute equal to
468:02 - running the function hello and in order
468:05 - to run a function in JavaScript just as
468:07 - you ran a function with python you use
468:08 - the name of the function followed by a
468:10 - set of parentheses to say go ahead and
468:12 - actually run this function using those
468:14 - parentheses calls the function another
468:16 - word for running the function and the
468:18 - fact that there's nothing in between the
468:19 - parentheses means we're not providing
468:21 - anything of input to the hello function
468:23 - though if the hello function did take
468:24 - inputs we could certainly add that in
468:26 - between the parentheses
468:28 - so now I've tied the two pieces of this
468:31 - page together I have a button that says
468:33 - click here and I've added an on click
468:35 - Handler that says that when you click on
468:37 - the button you should run the hello
468:39 - function and then up above I've defined
468:41 - the hello function to say what should
468:43 - the hello function do well when the
468:44 - function is called we're going to
468:46 - display an alert then in this case says
468:48 - hello world
468:49 - so now we should be able to refresh the
468:51 - page
468:53 - we still see the same thing at least
468:55 - initially where it just says hello and a
468:56 - button that tells me to click here but
468:59 - now if I go ahead and click the button
469:00 - that says click here
469:02 - well then I get the alert that says this
469:04 - page says hello world I can press OK and
469:07 - this event handler is always going to
469:08 - work I click the button again and I get
469:10 - the alert a second time because every
469:11 - time I click the button it's going to
469:13 - call the hello function again and when I
469:15 - click the hello when the hello function
469:16 - runs it is going to display this
469:19 - particular alert
469:21 - so this now appears to give us a fair
469:23 - amount of power and much as in other
469:25 - programming languages languages like
469:27 - python or other languages you might have
469:28 - worked with JavaScript has all these
469:30 - same types of language features so far
469:32 - we've seen data types things like a
469:35 - string but we also have other data types
469:36 - that we'll take a look at soon too we've
469:38 - seen functions some functions that are
469:40 - built into JavaScript like the alert
469:41 - function and other functions that we can
469:43 - write for ourselves functions like hello
469:45 - but we also have the ability to include
469:47 - things like variables inside of our
469:50 - program as well so what might that look
469:52 - like
469:53 - I'll go ahead and create a new file the
469:55 - we'll call counter.html
469:57 - and counter is going to have some of the
469:59 - similar code to hello so I'll just go
470:01 - ahead and copy it for now but I'll clear
470:02 - out the script section change the title
470:04 - from Hello to counter
470:06 - and now
470:08 - inside of get rid of the button or
470:10 - actually I'll keep the button but
470:12 - instead of saying click here the button
470:14 - is going to say count I'd like to create
470:17 - a program that just counts for me from 0
470:18 - to 1 to 2 3 4 so on and so forth
470:22 - and now in order to do that in order to
470:25 - have some way of counting repeatedly
470:27 - zero one two three four five I'm going
470:29 - to need to have some sort of variable
470:31 - inside of my program something that is
470:33 - keeping track of data like the number
470:35 - that I'm currently have counted to so in
470:37 - order to do that in JavaScript I can say
470:39 - something like let counter equal zero
470:43 - this is the way in JavaScript that I
470:45 - Define a new variable I first say let
470:48 - counter meaning let there be a new
470:50 - variable called counter and I'm going to
470:52 - initially set the value of counter equal
470:54 - to the number zero
470:56 - and now when I click on the button
470:57 - instead of running the hello function
470:59 - I'm going to go ahead and run the count
471:02 - function
471:03 - which doesn't exist yet but I'll now
471:04 - write it I'll Define a function called
471:07 - count
471:08 - and what the count function is going to
471:10 - do
471:11 - is it is going to first increment the
471:14 - value of counter and a number of ways I
471:16 - could do that one is by saying counter
471:17 - equals counter plus one to say go ahead
471:21 - and reset the value of counter to
471:22 - whatever counter is plus one and there
471:24 - are a couple of shorthand notations for
471:25 - this I could equivalently say counter
471:28 - plus equals one to say add 1 to the
471:30 - counter or in the case of adding one
471:32 - JavaScript much like languages like C if
471:34 - you've seen them before support notation
471:36 - like this counter plus plus which just
471:38 - means take the value of counter and
471:40 - increment it add one to it so I'll add
471:42 - one to the value of counter and then
471:45 - I'll just display an alert
471:46 - that has whatever the current value of
471:50 - counter happens to be
471:52 - and so I've incremented the value of
471:53 - counter and then displayed an alert that
471:56 - shows me what's contained inside of
471:57 - counter
471:59 - and so now
472:00 - if I go ahead and not go to hello.html
472:03 - but to counter.html instead I now see
472:06 - that I still see a button that says
472:08 - count and if I click on that button I
472:10 - get an alert that this time says one
472:12 - we've incremented the value of counter
472:14 - from zero to one the alertness has one
472:16 - and I can press ok
472:18 - if I press count again the count now
472:20 - goes to 2.
472:21 - I press OK press count again it goes to
472:23 - three and every time I click count it is
472:25 - going to increment the value of the
472:28 - variable counter inside of my JavaScript
472:30 - web page and then it's going to display
472:32 - an alert that is going to contain the
472:34 - value of that variable so using alerts
472:37 - now we're able to manipulate that we can
472:39 - inside of functions manipulate the
472:40 - values of variables and then display
472:42 - alerts that show the contents of those
472:44 - variables But ultimately when users are
472:46 - interacting with the page it's going to
472:48 - be fairly annoying if the only way that
472:50 - we have to interact with the user is via
472:52 - displaying these alerts the equivalent
472:54 - of like printing something out except
472:55 - instead of printing it to a terminal
472:57 - we're printing it via an alert that
472:59 - appears on the screen what would be more
473:01 - interesting and more powerful and much
473:02 - more useful in the context of a web page
473:04 - is if we could programmatically update
473:07 - the website change something about the
473:09 - web page the user is actually seeing
473:11 - changing the content that happens to be
473:13 - on the page and turns out JavaScript is
473:15 - going to enable us to do that as well
473:17 - because JavaScript allows us to
473:19 - manipulate the Dom the document object
473:21 - model that represents all of the
473:23 - elements that happen to be on that page
473:26 - so to do that let's go ahead and return
473:28 - to
473:30 - hello.html this again was this webpage
473:33 - that just said hello and gave me a
473:34 - button where if I clicked on that button
473:36 - it would display an alert that said
473:38 - hello world now what I'd like to do is
473:41 - instead of having the hello function
473:44 - display an alert I'd like to have it
473:46 - manipulate something on the page and
473:49 - what might I want to manipulate well
473:50 - inside the body of the page I here have
473:52 - this heading this heading that just says
473:54 - hello for example which is inside of an
473:57 - H1 element and what I might like to do
473:59 - is actually change that element
474:02 - how can I do that well it turns out that
474:04 - in JavaScript we have access to a
474:06 - function called document
474:08 - dot query selector and with
474:11 - document.queryselector is going to do is
474:13 - it is going to give us the ability to
474:15 - look through an HTML page and extract an
474:18 - element out of that page so that we can
474:21 - manipulate that HTML element using
474:23 - JavaScript code
474:24 - and so if I want to select like an H1
474:26 - element
474:27 - I can say document.queryselector and
474:30 - then as the argument the input to
474:32 - document.queryselector I'll go ahead and
474:34 - say each one meaning go through the page
474:37 - find me an H1 element and query selector
474:40 - is only going to return one element so
474:41 - if they're multiple it's going to return
474:42 - the first thing it finds but here we
474:45 - only have one H1 element so it's okay
474:46 - I'm going to say look through this
474:47 - document try and find an H1 element
474:51 - and when you do I'd like to manipulate
474:53 - it and the way I'd like to manipulate It
474:55 - Is by saying dot inner HTML equals let's
475:00 - say goodbye for example
475:03 - so all right what's going on here well
475:05 - right now initially when we first load
475:07 - the page we have an H1 a big heading at
475:09 - the top that just says hello and now
475:12 - when this hello function is called which
475:13 - is called when this button is clicked on
475:15 - because it has an on click attribute
475:17 - that is equal to hello calling the hello
475:19 - function what the hello function is
475:21 - going to do is it's going to say
475:23 - document.queryselector H1 find me the H1
475:26 - element that will return this element
475:29 - right here the JavaScript representation
475:31 - of this HTML element that is just an H1
475:34 - whose HTML inside of it says hello
475:38 - and if I want to change that HTML I can
475:40 - do that by modifying the inner HTML
475:43 - property of the JavaScript element in
475:46 - order to update a property of anything
475:48 - in JavaScript we'll generally use this
475:50 - dot notation where dot accesses a
475:52 - property of some particular object and
475:55 - so I have this element this H1 and
475:57 - saying dot inner HTML means take that
475:59 - element and access its inner HTML
476:02 - property some property of that object
476:04 - and I would like to update its inner
476:06 - HTML to just in this case be the word
476:08 - goodbye followed by an exclamation point
476:10 - for example
476:12 - so now what we'll see is that when we
476:14 - run this page when we open this page up
476:17 - as by opening up
476:18 - hello.html I still see an H1 that says
476:21 - hello I still see a button that says
476:23 - click here but now when I actually click
476:26 - on the button click here
476:28 - you'll see that hello changes to goodbye
476:30 - we've run JavaScript code that finds an
476:33 - H1 element on the page and manipulates
476:35 - it changing it to something else than it
476:37 - was originally now every time I click
476:39 - here nothing else happens because every
476:41 - time I click here it's going to find the
476:43 - same H1 and it's going to update its
476:46 - HTML changing it from Hello to goodbye
476:49 - so maybe what I'd really like then is
476:51 - the ability to toggle back and forth to
476:53 - toggle back and forth between hello and
476:55 - goodbye rather than just change it from
476:57 - one thing to something else every time I
476:59 - click the button I'd like it to
477:00 - alternate back and forth and there are a
477:02 - number of ways you could imagine doing
477:03 - this but one way is by taking advantage
477:06 - of conditions so much in the same way
477:07 - that a language like python has
477:09 - conditions ifs and L ifs and else's
477:11 - JavaScript 2 has if and else if and else
477:15 - that allow us to describe it conditions
477:18 - such that we can only run certain blocks
477:20 - of code when a particular Boolean
477:22 - expression is true for example so what
477:25 - would that look like well let's go ahead
477:27 - and say inside of this hello function
477:29 - I can ask a question if
477:32 - document dot query selector H1s inner
477:36 - HTML is equal to
477:40 - hello
477:42 - well then
477:43 - go ahead and set it to goodbye
477:46 - and else
477:48 - then go ahead and update the inner HTML
477:51 - of this H1 element
477:52 - go ahead and set it to hello instead
477:57 - so what is this hello function doing
477:58 - it's now a little bit more sophisticated
478:00 - it now has a condition where I say if
478:02 - the keyword if followed by in
478:04 - parentheses the condition that I want to
478:06 - check for the thing I want to see is
478:08 - this true or not and what I'm checking
478:10 - for is is let me run
478:12 - document.queryselector H1 which again
478:14 - looks through the page finds me the H1
478:17 - tag and gets that element for me if I
478:20 - look at that inner HTML if it is equal
478:22 - to hello then I want to do something and
478:25 - this triple equal sign here is
478:27 - javascript's way of checking for strict
478:28 - equality checking to make sure the two
478:30 - values are equal and also that their
478:32 - types are the same thing that if this is
478:34 - a string this must also be a string it
478:37 - turns out in JavaScript there's also a
478:38 - weaker way to check free quality that
478:40 - just uses two equal signs and that is
478:42 - going to check that values are the same
478:45 - but it's going to allow for a bit of
478:47 - differences in type the two things might
478:49 - have different types but so long as
478:51 - they're basically the same value the
478:52 - double equal sign might generally come
478:54 - to be true
478:55 - usually if you can you'll want to use
478:57 - this triple equal sign the strict
478:59 - equality to make sure that not only are
479:01 - the types the same but the values are
479:02 - the same too and the triple equal sign
479:04 - will check both of those things so if I
479:07 - go ahead and find the H1 element and its
479:09 - inner HTML is the word hello well then
479:12 - go ahead and find the H1 element and
479:14 - update its inner HTML setting it equal
479:16 - to goodbye for example
479:19 - and else
479:20 - go ahead and find that same H1 element
479:22 - update it to Inner HTML set it equal to
479:24 - hello
479:25 - and again just as in functions where we
479:27 - use these curly braces to enclose the
479:29 - body of the function all of the lines of
479:31 - code that are inside of the function
479:32 - JavaScript does the same thing too that
479:34 - inside of a condition when we want to
479:36 - express that this is inside the body of
479:38 - an if condition I can use curly braces
479:41 - to say this line of code and that line
479:42 - of code that's inside of the if
479:44 - expression or that's inside of the else
479:46 - expression for example
479:48 - so let's go ahead and try this now I can
479:50 - go ahead and open hello.html
479:53 - refresh it currently says hello with a
479:55 - button that says click here
479:57 - and now
479:58 - when I click here hello changes to
480:00 - goodbye and when I click here again
480:03 - goodbye changes back to hello and every
480:05 - time I click the button it's going to
480:07 - alternate between hello and goodbye
480:08 - because we either get caught in the if
480:10 - expression or we get caught in the else
480:12 - expression
480:14 - now there are a couple of places where
480:16 - you might look at this and notice that
480:17 - maybe this isn't as efficient as this
480:19 - code could potentially be and recall
480:21 - that every time we run
480:23 - document.queryselector to say go ahead
480:25 - and try and find a particular HTML
480:27 - element for me it's going to look
480:29 - through that page trying to find the H1
480:31 - element and it turns out that right now
480:32 - we have three separate calls to query
480:35 - selector even though only two of them
480:36 - will ever run on any given instance of
480:38 - the function but we call document.query
480:40 - selector then we call it again inside of
480:42 - the if expression we can probably
480:44 - improve the design of this page by
480:47 - factoring that out by just looking for
480:48 - the H1 element once and then
480:50 - manipulating it and checking it using
480:52 - that element that we have found and to
480:55 - do that we can store an element inside
480:57 - of a variable in the same way that a
480:59 - variable can store a number like a
481:01 - counter or a string like Hello World it
481:03 - can also store other values like an HTML
481:05 - element that we get back
481:07 - from document.query selector so I could
481:10 - say something
481:11 - like
481:12 - let heading where heading is just the
481:15 - name of a variable be equal to
481:17 - document.queryselector
481:19 - H1 for instance find the H1 element save
481:22 - it inside of a variable called heading
481:24 - and now rather than
481:26 - document.queryselector H1 all the time I
481:28 - can just say if the headings inner HTML
481:30 - is hello then set the headings in or
481:33 - HTML to goodbye otherwise set the
481:36 - headings inner HTML to hello so I've
481:38 - improved the efficiency of the program
481:40 - but also reduced the number of
481:41 - characters of Code that I've had to
481:43 - write my lines are now much shorter a
481:44 - little bit easier to read this we would
481:46 - consider to be an improvement in design
481:49 - and it turns out there's one other
481:50 - Improvement we can make here too that we
481:53 - can define a variable like let something
481:55 - equal something else but it turns out
481:57 - that JavaScript gives us a couple of
481:58 - ways to Define a variable and if we're
482:01 - going to be creating a variable whose
482:03 - value is never going to change we're
482:05 - never going to reassign the variable
482:07 - name to something else then instead of
482:10 - let we can enforce that it's never going
482:12 - to change by calling it a const variable
482:15 - so const heading equals
482:17 - document.queryselector H1 means I am
482:20 - going to create a variable called
482:21 - heading setting it equal to the result
482:23 - of document.query selector H1 and never
482:26 - again will I change what heading is
482:29 - equal to I will never have another line
482:30 - of code that says heading equals
482:32 - something else because it is constant
482:34 - and JavaScript will then enforce that
482:36 - this variable should not change and If
482:37 - Ever I do try to change it JavaScript
482:39 - will give me an error and this can just
482:41 - be helpful to prevent against possible
482:43 - unintended behavior that if you know you
482:45 - have a variable that is never going to
482:47 - change it's often good design to label
482:49 - it as a const variable so that you and
482:52 - other people looking at your code know
482:53 - that that is never going to have a value
482:55 - that gets changed later on
482:57 - so this then will behave the same way
483:00 - where it says hello but I can toggle it
483:02 - back and forth changing it to goodbye
483:04 - and then changing it back to hello again
483:08 - and so now using this ability this
483:10 - ability to manipulate the Dom we can go
483:12 - back to our counter program and actually
483:14 - improve upon it that right now ever the
483:16 - counter program uh I count and it
483:19 - displays an alert that says one I count
483:20 - and it displays an alert that says two I
483:23 - can probably do a little bit better than
483:24 - that by instead of displaying an alert
483:26 - actually manipulating the Dom in some
483:29 - way that I would like to have this H1
483:32 - this big heading at the top instead of
483:34 - starting up by saying hello let's have
483:36 - it start out by saying
483:37 - zero for example just some initial value
483:40 - for the counter
483:41 - and now when I increment the value of
483:43 - counter rather than display an alert
483:45 - that just tells me the value of the
483:47 - counter in an alert I'm going to instead
483:49 - say document.queryselector
483:52 - H1
483:53 - dot inner HTML equals
483:57 - counter
483:59 - where I'm saying find each one element
484:00 - update its inner HTML set it equal to
484:04 - whatever the value of the variable
484:05 - counter happens to be
484:07 - such that now if I refresh this page the
484:10 - value of this H1 initially is zero
484:11 - that's the initial value but every time
484:13 - I click count we're going to update the
484:15 - contents of that H1 element this time
484:17 - setting it to 1 2 3 4 and so forth every
484:20 - time I click the count button it's going
484:22 - to increment the value of the variable
484:24 - as well as manipulate the Dom actually
484:26 - making changes in order to
484:29 - produce the effect that I want to see on
484:31 - this actual page
484:33 - and we can begin to add additional logic
484:36 - to this as well maybe I do occasionally
484:37 - want an alert but I don't want to alert
484:39 - every single time I could add a
484:41 - condition I could say something like if
484:42 - I only want to display an alert every
484:44 - time I count to a multiple of 10 like 10
484:46 - and 20 and 30 and 40 and 50 and so forth
484:48 - I could add a condition that says that
484:51 - if counter mod 10 and mod just gets me
484:54 - remainder when you divide by 10. so if
484:56 - you take the counter divide it by 10 if
484:58 - the remainder is 0 when I divide by 10
485:01 - well that means counter is a multiple of
485:03 - 10 and so I can now display an alert
485:06 - where I can display an alert that says
485:08 - like I want to say something like the
485:10 - counter is now 10 or the counter is now
485:12 - 20. and in order to do that what I
485:15 - really want to do is have some way of
485:16 - plugging in a variable into a string
485:20 - inside of JavaScript and in Python the
485:23 - way we would have done this is by
485:24 - appending F or prepending F in front of
485:26 - the string to create a formatted string
485:28 - and then I would have said something
485:30 - like the count is now and then I'd use
485:32 - curly braces to say go ahead and print
485:35 - out the value of counter so this F for
485:37 - formatted string followed by this string
485:39 - would have been the way in Python that
485:40 - we would have done this turns out
485:42 - JavaScript does the same thing just with
485:44 - slightly different syntax it doesn't use
485:46 - f instead instead of using the regular
485:49 - quotation marks whether the single or
485:51 - double quotation marks JavaScript uses
485:53 - these back ticks which are usually
485:55 - located above the tab key on a standard
485:57 - US keyboard
485:59 - and this is going to create what
486:01 - JavaScript calls a template literal
486:03 - where I can then substitute the value of
486:05 - a variable somewhere inside of this
486:07 - template and then in order to actually
486:09 - do the substitution well python uses
486:11 - double curly braces to say plug in the
486:13 - value of counter right here JavaScript
486:15 - does something similar it also uses
486:17 - double curly braces but there needs to
486:19 - be a dollar sign in front of it the
486:20 - dollar sign and then the dollar double
486:22 - curly braces I mean go ahead and plug in
486:24 - the value of a variable there
486:27 - so this then is a template literal where
486:30 - every time we get to a multiple of 10
486:31 - we're going to display an alert that
486:33 - says the count is now and then this
486:35 - dollar sign curly brace means actually
486:37 - plug in whatever the value of counter
486:40 - happens to be right there
486:43 - so now if I go ahead and refresh counter
486:45 - it starts at zero I can count three four
486:47 - five six seven eight nine but when I get
486:49 - to 10 then I get an alert that says the
486:51 - count is now 10 and then I see the
486:54 - result update on the page
486:56 - and so that template literal can allow
486:58 - us to combine variables and strings in
487:01 - order to generate new strings that are
487:03 - able to represent data inside of them as
487:05 - well
487:07 - so now what improvements can we begin to
487:08 - make here what changes can we make to
487:10 - this to improve upon the design of it
487:11 - well one thing especially as our
487:13 - programs get a little bit more
487:15 - sophisticated a little bit more
487:16 - complicated is that we often don't want
487:18 - to be intermingling our JavaScript code
487:21 - with the contents of our HTML that down
487:24 - here we have button on click equals
487:26 - count that's the name of this function
487:27 - and especially as our page starts to get
487:29 - more complicated it's going to start to
487:31 - get a little bit annoying if we're
487:33 - constantly having to maintain a little
487:35 - bit of JavaScript code like making a
487:36 - call to a function inside of our HTML
487:39 - we'll see a little bit later there are
487:40 - other paradigms that actually encourage
487:41 - this type of thing but right now it can
487:44 - start to get a little poorly designed
487:45 - we'd really like to separate all of our
487:48 - JavaScript related code from all of the
487:50 - HTML the general structure of our page
487:53 - and so there are ways we can begin to do
487:55 - that as well I can add an event listener
487:57 - inside of JavaScript too that I can say
488:00 - something like
488:03 - document.queryselector
488:06 - button
488:08 - and then I can say dot on click
488:11 - equals count
488:14 - so what's going on here and I can do
488:15 - this instead of this on click equals
488:17 - count what I'm now saying is
488:20 - document.queryselector button find me
488:22 - the button on the page it turns out
488:24 - there's only one button here so it's
488:25 - fine though if there were more I might
488:26 - have to be a little bit more specific
488:28 - but once I get that button
488:30 - then I'm going to access its on click
488:32 - property and I'm going to set it equal
488:34 - to count and what does count count is
488:38 - the name of a function count is itself a
488:40 - function and so what I'm here saying is
488:43 - I would like to set the value of the on
488:45 - click property of the button equal to
488:47 - count the count is the function that
488:49 - should run when the button is clicked on
488:52 - and notice that I am not actually
488:54 - calling the function it's not count and
488:56 - then parentheses which would mean run
488:58 - the count function and then get its
489:00 - return value and use that as the value
489:02 - for onclick I'm just setting on click
489:04 - equal literally to the count function
489:06 - itself without actually calling the
489:08 - function and what this is going to do is
489:11 - it is going to say when the button is
489:12 - clicked on then and only then should you
489:15 - actually run this count function and
489:17 - we're not going to run the count
489:18 - function until that button actually gets
489:21 - clicked on and so in JavaScript
489:23 - functions can be treated as values of
489:26 - their own just as you can set a variable
489:28 - equal to a string just as you can set a
489:30 - variable equal to an integer just as you
489:32 - can set a variable equal to like an HTML
489:34 - element like the result of
489:35 - document.queryselector you can also set
489:37 - a variable equal to a function something
489:40 - like count and pass that around as a
489:42 - value just as you could with any other
489:45 - value and this is a paradigm we
489:46 - generally call functional programming
489:48 - where we have functions as values of
489:50 - their own things that we can reassign
489:52 - things that we we can manipulate just as
489:54 - we could any other value
489:56 - so now I can try and run this program by
489:59 - going ahead and refreshing the page I'll
490:01 - refresh it it's zero I press count
490:04 - and all right nothing seems to be
490:05 - happening it's still zero I want it to
490:07 - be counting but it doesn't seem to be
490:09 - working so why not anytime you run into
490:12 - problems in JavaScript where you're not
490:13 - getting the behavior you want often it
490:15 - can be helpful to look at the JavaScript
490:17 - console or the JavaScript console is the
490:19 - equivalent of like the terminal window
490:21 - in when you're running your Django
490:22 - application in Python that would display
490:24 - any error messages the JavaScript
490:26 - console will display any of the
490:27 - JavaScript logging information and error
490:30 - messages as well
490:31 - in Chrome I can get to it if I first go
490:34 - ahead and go to inspect
490:36 - and then just open up the console tab
490:37 - here
490:39 - and all right we seem to have some sort
490:40 - of error here it's an uncaught type
490:42 - error that says we cannot set property
490:45 - on click of null in counter.html line
490:50 - 18. so that will generally tell you
490:51 - where the error is coming from it's
490:53 - coming from counter.html on line 18 and
490:56 - the problem seems to be that I'm trying
490:58 - to access the on click property of null
491:01 - and null is javascript's way of
491:02 - expressing like nothing some object that
491:04 - doesn't exist
491:06 - so somehow I'm trying to set the on
491:08 - click property of null well let's see
491:10 - what's going on on line 18 and see if we
491:12 - can figure out
491:13 - what's happening there
491:15 - well all right here is line 18 where I
491:17 - say document.queryselector button
491:19 - setting its on click property equal to
491:21 - count
491:22 - and now what seems to be the problem
491:23 - here well the error message was that I
491:26 - was trying to modify the on-click
491:28 - property of no well here then is the on
491:30 - click property so why would this
491:33 - document.queryselector button be
491:35 - returning or giving me an output of null
491:38 - well it turns out the document.query
491:39 - selector will return null if it's not
491:42 - able to find something if I try and find
491:44 - a button but it's not able to find a
491:46 - button well this seems a little bit
491:47 - strange because there's a button down
491:49 - here on line 24 that I'd like for my
491:51 - JavaScript code to be able to find when
491:54 - it runs query selector and tries to find
491:55 - the button as it turns out this is a bit
491:58 - of The Quirk of the way the browser is
491:59 - going to work but if the browser is
492:01 - running our code from top to bottom just
492:03 - reading it from line one on and on then
492:05 - it's going to get to line 18 where I've
492:07 - said document.queryselector button dot
492:09 - on click equals count and it's going to
492:11 - try and find a button on line 18 but the
492:14 - button doesn't show up in my HTML page
492:16 - until much further down in the page so
492:19 - at this point when we get to this line
492:21 - of JavaScript JavaScript is looking for
492:23 - the button but the Dom the body of the
492:25 - page hasn't finished loading yet the
492:27 - content of the Dom has not yet loaded
492:29 - and as a result we're not able to find
492:31 - this button so how do we solve this
492:34 - problem how do we get it so we actually
492:35 - are able to like ask for the button and
492:37 - actually get the button well it turns
492:39 - out there are a couple of strategies we
492:40 - could use one would be take the script
492:43 - tag and go ahead and just move it to the
492:45 - bottom section of the body so that after
492:47 - we've already defined the button that
492:48 - says count then we have the script tag
492:50 - that then says all right go ahead and
492:51 - now find the button and now we'll be
492:53 - able to find it
492:54 - turns out another way and perhaps a more
492:56 - common way is to instead add yet another
492:59 - event listener and we're going to add an
493:01 - event listener not to the button but to
493:04 - the entire document where document is a
493:06 - variable built into this JavaScript that
493:08 - we have access to on the web page that
493:10 - just refers to this entire web document
493:12 - where I've used document.queryselector
493:14 - already to look through the whole web
493:16 - document trying to find a button or
493:17 - trying to find an H1 tag for example but
493:20 - I can also add an event listener to the
493:23 - document itself and in order to do that
493:25 - I can say document dot add event
493:28 - listener
493:30 - and when I call out event listener and I
493:32 - can do this on any HTML element not just
493:34 - the document but I could run this
493:35 - function on a button or on an H1 element
493:37 - or any other HTML element ad event
493:40 - listener will generally take two
493:42 - arguments where the first is what event
493:44 - I want to listen for the event could be
493:47 - something like click when I click on the
493:48 - document it could be something like when
493:51 - I scroll through a page for example but
493:53 - the event I'm going to listen for is a
493:55 - particularly special event called Dom
493:57 - content loaded
493:59 - and the Dom content loaded event is an
494:02 - event that is going to be fired or
494:03 - triggered when the Dom the document
494:06 - object model the structure of the page
494:07 - is done loading when all of the elements
494:10 - on the page are done loading the Dom
494:11 - content has been loaded and then if I
494:14 - attach an event listener to it it'll run
494:16 - whatever code I want to run that should
494:18 - only run after the Dom is fully loaded
494:21 - after all of the content on the page has
494:23 - then been loaded
494:24 - and the second argument to add event
494:26 - listener is what function should run
494:29 - once the event actually happens when the
494:31 - Dom content loaded does happen so I
494:34 - could pass in the name of a function if
494:36 - I had the name of a function that I
494:37 - wanted to pass in but alternatively
494:39 - JavaScript allows me to just directly
494:42 - write a function here in the argument to
494:45 - add event listener I can just say
494:46 - function
494:47 - and then a set of parentheses to mean
494:49 - the function doesn't take any input and
494:51 - then in curly braces I can include the
494:54 - body of the function right here as the
494:57 - second argument to add event listener
494:59 - and this is a little bit of tricky
495:00 - syntax to wrap your mind around if
495:02 - you've never seen it before but the big
495:03 - picture way to think of it is add event
495:05 - listener takes two arguments one is the
495:07 - event the second is the function so here
495:10 - first is the event Dom content loaded
495:12 - and the second argument is a function
495:14 - and I would declare the function same as
495:16 - before just using function I haven't
495:18 - given the function a name because
495:20 - strictly speaking it doesn't need a name
495:22 - I'm never going to refer to the function
495:24 - by name so it is what we might call an
495:26 - anonymous function a function that has
495:28 - no name but I'm still passing it into
495:30 - the add event listener function as an
495:32 - argument because I want to run the code
495:34 - inside of the function once the Dom is
495:37 - done loading and so inside of curly
495:39 - braces then is the content of that
495:41 - function the content of what code should
495:43 - run when the Dom is done loading and
495:45 - then at the end I again use just this
495:46 - end parenthesis where that end
495:48 - parenthesis lines up with this
495:50 - parenthesis here this is in closing all
495:53 - of the arguments to add event listener
495:55 - where the first one is Dom content
495:56 - loaded and the second one is this entire
495:59 - function that might span multiple lines
496:01 - so you'll see syntax like this quite a
496:03 - bit in JavaScript
496:05 - but now what I want to do is adding the
496:08 - event listener to the button I can go
496:10 - ahead and just replace and put it here
496:12 - and it turns out that if I wanted to
496:14 - instead of saying dot on click equals
496:16 - count you could have used the same
496:17 - syntax of ad event listener I could say
496:19 - add event listener click and then count
496:23 - to mean when the click event happens go
496:26 - ahead and run the count function but you
496:28 - can equivalently shorthand this and just
496:29 - say dot on click equals count and that
496:32 - would work just as well
496:34 - so now what we're saying here is that
496:36 - wait until the Dom is done loaded wait
496:38 - until all the content on the page is
496:40 - loaded and then go ahead and run this
496:42 - function and what the function is going
496:43 - to do is it's going to add the event
496:45 - handler to this button and that'll work
496:48 - because now we'll be able to find the
496:50 - button because now all of the content of
496:52 - the Dom has loaded
496:54 - so now if I go back
496:56 - refreshcounter.html you'll notice that
496:58 - the JavaScript error goes away I don't
496:59 - seem to have that error anymore
497:01 - and now if I press count we're able to
497:04 - see the count increment just as before
497:06 - as well
497:07 - and so this then is an improvement upon
497:09 - what I've had before where now I'm able
497:11 - to separate out my JavaScript code from
497:15 - all of the rest of my code as well
497:17 - but much as in the case of CSS where we
497:19 - were able to take CSS it was originally
497:21 - located in the head of our page and move
497:23 - it into a separate file you can do the
497:25 - same thing with JavaScript too and this
497:27 - can be helpful if you have multiple
497:28 - people working on different files you
497:29 - want one person working on the HTML and
497:31 - someone else working on the JavaScript
497:33 - it can be helpful if you expect that one
497:36 - of these things is going to change more
497:37 - frequently than the other so you might
497:39 - not need to load the other one as often
497:40 - so there can be value in separating our
497:43 - HTML code from our JavaScript even more
497:45 - by moving our JavaScript into a separate
497:47 - file and so in order to do that
497:50 - I can create a new file that I'll just
497:52 - call counter.js which will contain all
497:55 - of the JavaScript for mycounter.html
497:58 - file so in order to do that what I can
498:01 - say is let's go ahead and copy all of
498:04 - this JavaScript code
498:05 - go ahead and cut it out of this page and
498:07 - I'll paste it into counter.js remove
498:09 - some of that indentation
498:11 - so now I have a file called counter.js
498:15 - that just contains all of the JavaScript
498:17 - I want to run on my counter.html page
498:21 - and now rather than include actual
498:24 - JavaScript in between these script tags
498:27 - what I can say is script SRC SRC for
498:31 - Source equals
498:33 - counter.js for example to say go ahead
498:36 - and reference counter.js and use that
498:39 - JavaScript
498:40 - in the head of the page here and that
498:42 - then is going to work exactly the same
498:44 - way I still am able to count as high as
498:46 - I'd like I still get an alert every time
498:48 - the count reaches a multiple of 10 but
498:49 - my HTML is now a little bit simpler it's
498:51 - just the body it's just the H1 and the
498:53 - button and then all of my JavaScript is
498:56 - now located in a separate file that
498:59 - allows me to do that allows me to keep
499:01 - my HTML code and my JavaScript code
499:03 - separate from each other and that can be
499:04 - value for valuable for a couple of
499:06 - reasons among them if I have common
499:08 - JavaScript code that's in use by
499:10 - multiple different HTML Pages multiple
499:13 - HTML Pages can all include the same
499:15 - JavaScript Source rather than needing to
499:17 - repeat myself use the same JavaScript
499:19 - across multiple different pages I can
499:21 - just use the same JavaScript across all
499:23 - of them and that'll be helpful too as we
499:25 - begin to take a look later at some
499:26 - JavaScript libraries which are
499:28 - JavaScript written by other people we
499:30 - can just include other people's
499:32 - JavaScript in our own web pages just by
499:34 - adding a script tag at the top of our
499:36 - page that specifies a particular Source
499:38 - you may have already interacted with
499:39 - bootstrap that has its own JavaScript
499:41 - code and you can include bootstraps
499:43 - JavaScript just by including a script
499:46 - tag at the top of our HTML page in order
499:48 - to say go ahead and include all of that
499:50 - JavaScript
499:52 - in our page as well
499:54 - so what else can we do now now that we
499:57 - have the ability to like get at elements
499:58 - of the Dom and actually manipulate their
500:00 - contents well one thing we can do is
500:03 - begin to make our Pages a little bit
500:05 - more interactive actually respond to
500:07 - what users are doing on the page whether
500:09 - the user is typing something in or maybe
500:11 - filling out a form for example so let's
500:13 - go ahead and try an example of that
500:15 - where the user might be filling out a
500:16 - form and we would like for our code to
500:18 - somehow respond to what it is that they
500:20 - type I'll go ahead and go back into
500:22 - hello.html
500:26 - and now inside of the body of the page
500:28 - I've said hello at the top I'm here
500:30 - instead of a button I'm going to have a
500:32 - form
500:33 - this HTML form will look like the HTML
500:35 - forms we've seen before I have an input
500:37 - field that'll add the autofocus
500:39 - attribute to to mean like automatically
500:41 - Focus this input field when I open the
500:42 - page because I might want the user to
500:44 - start typing right away
500:46 - I'm going to give this input field an ID
500:48 - of name for example
500:51 - and then a placeholder
500:53 - of name capital N whose type is text
500:58 - so what have I done here I've created an
500:59 - input field where the user can type in
501:01 - some text the placeholder the thing the
501:03 - user sees filled into that input field
501:05 - originally will just be capital N name
501:07 - telling them they should type their name
501:08 - in here
501:10 - and I've given this input field
501:12 - an ID some unique identifier such that I
501:15 - later on can reference and find this
501:17 - particular input field
501:19 - and then I have input type equals submit
501:22 - some way for me to now submit this form
501:25 - as well
501:27 - and so if I load this page load
501:28 - hello.html
501:31 - here's what I see Hello a field where I
501:34 - can type in my name the placeholder name
501:36 - shows up there for me and then a button
501:37 - where I can submit this form
501:41 - and now what I'd like to do inside of my
501:43 - JavaScript is instead of this hello
501:45 - function what I'm going to do is I'm
501:47 - going to first run some JavaScript when
501:49 - the Dom is done loading and so I'll use
501:51 - that same line from before you're going
501:52 - to see it quite a bit where we're going
501:54 - to say document.ad eventlistener Dom
501:56 - content loaded and then this function to
501:59 - mean go ahead and run this code when the
502:01 - Dom is done loaded and the code I'd like
502:03 - to run is to say when I submit the form
502:08 - I want something to happen when I submit
502:10 - the form maybe I want to display an
502:11 - alert that if I typed in Brian it'll say
502:13 - hello Brian or if I typed in David it'll
502:15 - say hello David for example so how might
502:17 - I do that
502:18 - well how do I get the form that's the
502:20 - first question anytime you want to get
502:21 - at an element one particular element on
502:23 - an HTML page usually what we're going to
502:26 - do is document.queryselector
502:28 - to say get me the element
502:30 - that is a form and there's only one form
502:32 - on the page so I don't have to worry
502:33 - about ambiguity I'm just saying get me
502:35 - that form
502:37 - and then I can say dot on submit when
502:40 - you submit the form
502:42 - what code should run and if I had a name
502:44 - of a function like a function f i could
502:46 - just say like run function f when the
502:49 - form is submitted
502:50 - but alternatively just as before instead
502:52 - of providing the name of a function I
502:54 - can also just provide the function
502:56 - itself I can say function
502:59 - and then in between these curly braces I
503:02 - can specify exactly what code should run
503:05 - when the form is submitted by providing
503:07 - this Anonymous function instead using
503:09 - this Anonymous function as the value of
503:12 - the on submit property of this form
503:15 - and so now what I'd like to do is
503:17 - somehow get access to whatever the user
503:19 - typed into the input field whatever the
503:21 - user's name happens to be and so I could
503:24 - get the input field via
503:26 - document.queryselector input and that
503:28 - would work this time but we'll want to
503:31 - start to be a little bit careful because
503:32 - on this page there are multiple
503:33 - different input elements there's an
503:34 - input element here for typing in the
503:36 - name and a second input element here for
503:39 - telling me you're giving me a button
503:41 - where I can submit this particular HTML
503:43 - form and so what I probably want to do
503:45 - is be a little bit more specific
503:47 - and it turns out that inside of query
503:49 - selector I can use all of the standard
503:51 - ways in CSS that we could select for a
503:54 - particular element so in CSS if you'll
503:57 - recall we had the ability to run CSS and
504:00 - just say style all the H1s or we could
504:02 - say style all the things with this
504:03 - particular ID or with this particular
504:05 - class and document.queryselector works
504:08 - the same way that I can say
504:09 - document.queryselector and pass in a tag
504:12 - to say like get me the H1 element or get
504:15 - me the button or get me the form but if
504:17 - there are multiple H1 elements or
504:19 - multiple buttons or multiple forms I can
504:21 - be more specific than that if for
504:23 - example an element has an ID in which
504:26 - case I can say document.queryselector
504:28 - and then in quotation marks the hash
504:30 - mark and then the name of the ID to say
504:33 - get me the element with that particular
504:35 - ID again using the exact same syntax
504:37 - that CSS uses if I want to apply a
504:40 - particular set of styles to only one
504:42 - element that only has one ID
504:45 - likewise too I can say
504:47 - document.queryselector and then use dot
504:49 - followed by the name of a class if
504:51 - there's a particular particular class of
504:53 - elements and I want to just get one of
504:55 - those to say get me an element that has
504:58 - this particular class in order to
505:00 - manipulate it as well so the same types
505:02 - of syntax that we could use in CSS for
505:04 - trying to reference and get at a
505:06 - particular HTML element we can do the
505:08 - same thing here with
505:10 - document.queryselector to go ahead and
505:12 - try and get a particular element based
505:14 - on its tag name based on its ID or based
505:17 - on its class and it was for that reason
505:19 - that inside of the HTML page
505:22 - for my input I gave the input an ID of
505:25 - name I wanted some way to be able to
505:27 - uniquely reference it and I can uniquely
505:30 - reference it not by input but by pound
505:33 - name or I can say get me the element
505:35 - that has an ID of name and that is the
505:38 - element that I would like to extract
505:39 - inside of my JavaScript code
505:42 - once I have that HTML element what I
505:44 - want is like what the user actually
505:46 - typed into that input field and it turns
505:48 - out that if you have an input field in
505:49 - HTML I can get access to what the user
505:52 - typed in by accessing its value property
505:55 - value is a property that for that refers
505:57 - to what it is the user actually typed in
505:59 - so I can say dot value
506:02 - and I'm going to go ahead and save that
506:04 - inside of a variable so I could say
506:06 - something like let name equal whatever
506:08 - the user typed in but if I'm not going
506:10 - to reassign name to something else
506:12 - inside of this function inside of this
506:14 - function I'm really going to get the
506:15 - name once and I'm not going to change it
506:16 - inside of the function so I can use a
506:19 - const variable instead and that would be
506:21 - better designed so I have a constant
506:22 - variable called name which is equal to
506:25 - document.queryselector get me the
506:26 - element whose idea's name and get access
506:29 - to its value
506:31 - and now I can display an alert I can
506:33 - alert something like in backticks hello
506:36 - comma and then using the dollar sign
506:39 - curly brace syntax I can say plug in the
506:41 - name there followed by an exclamation
506:44 - point
506:45 - so I've extracted the name from the form
506:47 - get me the input field where they typed
506:49 - the name get access to its value and
506:51 - then I'm displaying an alert that is
506:53 - going to say hello to that person for
506:56 - example
506:58 - and so now
507:00 - if I refresh the page I type in my name
507:02 - I press submit I get an alert that says
507:05 - hello Brian I press OK I can try it
507:07 - again I can type in something like David
507:10 - press submit and now the page says hello
507:13 - David
507:14 - so here again we've been able to combine
507:16 - event listeners and functions and query
507:19 - selector to be able to both read
507:21 - information from the page in order to
507:23 - say get me this particular HTML element
507:25 - find me an HTML element and access like
507:28 - what the user typed into it the dot
507:30 - value property that gets me what the
507:32 - user typed into an input field and we've
507:34 - been able to combine that with event
507:36 - listeners and alerts that are able to
507:37 - actually respond dynamically to when a
507:40 - user submits the form or when the entire
507:42 - content of the page is done loading in
507:44 - order to produce some interesting
507:46 - effects as well
507:48 - but it turns out we can do more than
507:50 - just change like the HTML that is
507:52 - contained within an element we can also
507:54 - change CSS as well change the style
507:56 - properties of a particular element as
507:59 - well so let's go ahead and see an
508:01 - example of that I'll go ahead and create
508:03 - a new file
508:04 - that I'll call colors.html and inside of
508:07 - colors I'll include the same
508:09 - standard HTML boilerplate code that we
508:12 - often start with a head section with a
508:13 - title and a body section and inside of
508:17 - the body of this page I'm going to
508:19 - display a heading
508:20 - that just says hello for example and
508:24 - maybe I'll give it an ID just so I can
508:25 - reference it by name maybe it has an ID
508:27 - of hello
508:28 - and then I'll have three buttons I'll
508:31 - have a button called red
508:34 - a button called blue and then a button
508:37 - called Green for example
508:39 - where now if I open up colors.html
508:43 - here's what I see I see a big heading
508:45 - that says hello and then I see three
508:47 - buttons red blue and green but of course
508:49 - right now these buttons don't actually
508:51 - do anything
508:52 - how do I get the buttons to do something
508:53 - well that's where javascript's going to
508:55 - come in I'll add a script tagged at the
508:57 - top of my page and I only want to run
509:00 - this JavaScript when the Dom is done
509:01 - loading so again we'll use the same
509:03 - syntax as before document dot add event
509:06 - listener
509:07 - Dom content loaded and then run this
509:11 - function to say everything in between
509:13 - these curly braces this is all the code
509:15 - that should run once the page is done
509:17 - loading and what I'd really like to do
509:19 - is get at these three buttons and say
509:21 - when you click on each one of them do
509:23 - something different like change the
509:24 - color of a particular HTML element and
509:27 - in order to do that I need some way of
509:28 - uniquely referencing these buttons so to
509:30 - do that I'm going to give them all IDs
509:31 - this button will have an ID of red this
509:34 - button will have an ID of blue this
509:36 - button will have an ID of green just
509:38 - unique names I can give to the buttons
509:39 - in HTML such that in JavaScript I'm
509:42 - later able to reference them
509:45 - so what I what do I include now here
509:47 - inside of my JavaScript code
509:49 - well let me say document.queryselector
509:55 - hash red to say get me the element whose
509:58 - ID is read
509:59 - and when you're clicked on on click go
510:02 - ahead and run this function what should
510:05 - the function do well I want to take this
510:07 - H1 element and change its color to Red I
510:10 - want to change the font color to red and
510:13 - I'll leave a comment to myself in
510:15 - JavaScript the way you can leave a
510:16 - comment just to document what you're
510:17 - doing is using these two slashes the two
510:19 - slashes indicate everything after that
510:21 - on the page is going to be a comment
510:23 - browser will ignore it but it can be
510:25 - useful to you the programmer into
510:26 - someone who's reading your code to be
510:28 - able to see what it is that you're
510:29 - describing here on the page
510:31 - and now what I'd like to do is
510:34 - document.queryselector hello get me the
510:37 - HTML element whose ID is hello
510:40 - and go ahead and modify its style
510:42 - property
510:43 - and now inside of this style object I
510:46 - can modify any of the CSS style
510:48 - properties one of them for example is
510:50 - something like color so I can update the
510:53 - color property and set it equal to red
510:58 - so here now I'm saying when you click on
511:00 - the red button
511:01 - go ahead and run this function and what
511:03 - the function should do is find the hello
511:06 - element
511:06 - update its style what part of the style
511:09 - update its color what should we update
511:11 - it to we should update it to red
511:14 - and I'm going to do the same thing for
511:16 - the other two buttons as well and it's
511:17 - pretty similar code so I'm just going to
511:18 - copy paste copy paste here I'm going to
511:21 - have one for changing the color to Blue
511:23 - when I click the blue button you should
511:25 - change the color to blue and then we'll
511:28 - do it one more time change the font
511:29 - color to Green when you click on the
511:31 - green button you should change the color
511:33 - to Green
511:35 - so now when I refresh the colors.html
511:38 - right now hello by default is just in
511:40 - Black standard font color for HTML I
511:43 - click red Hello changes to Red I click
511:45 - blue it changes to Blue I click green it
511:47 - changes to Green so depending on what
511:49 - button I click that triggers some event
511:51 - listener that's going to then say when
511:53 - the button is clicked run this function
511:55 - and what the function does is it grabs
511:57 - this H1 element the element whose ID is
512:00 - hello modifies its style updates its
512:03 - color property to be something like red
512:04 - or blue or green
512:07 - and that's showing that we can modify
512:08 - style in addition to just modifying the
512:10 - content of the page itself
512:13 - but it turns out that as you looked at
512:15 - me writing that code something should
512:16 - have struck you is probably not optimal
512:18 - design that in general anytime you find
512:20 - yourself writing the same code again and
512:22 - again and again especially if you're
512:24 - copy pasting that that is a generally a
512:26 - bad sign usually a sign that there is
512:28 - some better way of trying to modify of
512:31 - trying to implement the behavior that
512:33 - I'm trying to create and it turns out
512:34 - that there is and there are a number of
512:35 - ways that you could do this one way here
512:38 - is that I might like to consolidate
512:40 - these three event listeners into just
512:42 - like a single function that is going to
512:45 - handle changing the color to whatever
512:47 - the button says the color should be
512:49 - changed to but one problem here is that
512:52 - if I just attach the same event listener
512:54 - to all three of the buttons it's not
512:56 - going to be clear to me when I click on
512:59 - the button how does the button know what
513:01 - color we should change the text to
513:03 - and so to that effect we can add some
513:06 - additional special attributes to a
513:08 - particular HTML element that are called
513:10 - Data attributes
513:12 - or a data attribute is my way of saying
513:15 - that I would like to associate some data
513:17 - with this particular H2O HTML element
513:20 - where here I can say data Dash color
513:23 - equals Red Data Dash color equals blue
513:27 - data Dash color equals green data
513:31 - attributes always start with data
513:32 - followed by a dash and then I can
513:34 - specify really any name that I want for
513:36 - some information that I would like to
513:37 - store about the HTML element and here
513:40 - the information I want to store is I
513:42 - want to store data about what color you
513:45 - should change the text to when the
513:46 - button is clicked on and so what we're
513:48 - going to have the ability to do now is
513:50 - the ability to say that if I have access
513:52 - to this element this button I can access
513:55 - its data color property to know whether
513:58 - we should change the text to red or blue
514:00 - or green by adding these data attributes
514:02 - to these HTML elements
514:05 - and so now what I want is some way of
514:07 - getting all of these buttons now
514:10 - document.queryselector as you recall
514:12 - just gets one element it's just going to
514:15 - get for me a single element and it's
514:17 - going to get the first one that it finds
514:19 - if I want to get multiple elements what
514:21 - I can do instead is something like
514:23 - document dot query selector all
514:27 - query selector all is going to return
514:28 - the same thing the query selector does
514:30 - but instead of query selector returning
514:32 - a single element that matches what it
514:34 - looks for query selector all is going to
514:36 - return to mean an array of all of the
514:39 - elements that match my particular query
514:41 - so if I want to select not just the
514:43 - first button I find but all of the
514:45 - buttons I find I can here say query
514:47 - selector all for button and that will
514:49 - give me back a JavaScript array the
514:51 - equivalent of a list that represents all
514:54 - of those buttons
514:55 - and we can actually test what this looks
514:57 - like by looking at things inside of the
515:00 - JavaScript console that if I go ahead
515:02 - and refresh this page colors I can open
515:06 - up the inspector go into the JavaScript
515:08 - console and just as you could see error
515:10 - messages here you can also actually
515:12 - write JavaScript code here as well so I
515:16 - can say something like
515:17 - document.queryselector
515:21 - button say all right what's going to
515:23 - happen when I try and select for a
515:25 - button on this particular page
515:28 - and what I get is all right I get just
515:30 - this very first button button whose data
515:33 - Dash color is equal to Red that's what I
515:35 - would expect query selector just finds
515:36 - me one element and it's going to find me
515:38 - the very first element
515:40 - and likewise I can say all right instead
515:42 - of query selector let's do query
515:44 - selector all
515:46 - and what I get back is a node list which
515:48 - you can think of as kind of like an
515:49 - array or a list in Python that's got
515:51 - three buttons in it button zero one and
515:54 - two and just as with a list in python as
515:57 - you can index into things arrays in
515:59 - Python arrays in JavaScript can be
516:00 - indexed into as well that if I have
516:02 - something like const names equals Harry
516:05 - Ron and Hermione
516:08 - like a array of three names I can say
516:11 - name square bracket zero to get the
516:13 - first name name square bracket one to
516:15 - get the second one name score bracket
516:17 - two to get the third one for example and
516:19 - that gives me each of the individual
516:21 - elements in the array if I want to get
516:22 - the whole length of the array I can do
516:24 - names dot length to get all right the
516:27 - length of the names array happens to be
516:30 - three so just some additional features
516:31 - that we have access to If you happen to
516:33 - have an array of things turns out query
516:36 - selector all returns to me a node list
516:37 - which is kind of like an array
516:39 - and that's going to be useful because
516:41 - when I say document.queryselector all
516:43 - button I am saying get me all of the
516:46 - buttons on the page
516:48 - and now what I would like to do is
516:50 - effectively Loop over all of those
516:52 - buttons and say for each of the buttons
516:55 - inside of this list that comes back to
516:57 - me I would like to add an event handler
517:00 - for when that button is clicked on to
517:02 - say for each of the buttons that comes
517:03 - back go ahead and say when you're
517:05 - clicked on change the color of the H1
517:08 - element
517:09 - and so there are a number of ways again
517:10 - that you could do this
517:13 - but one way is to use a particular
517:15 - property called for each and for each is
517:18 - a function that accepts as an argument
517:21 - another function where the idea is going
517:24 - to be I would like to run a function for
517:26 - each of the elements inside of an array
517:29 - or inside of a node list for example
517:31 - so here I can say
517:33 - for each button go ahead and run this
517:36 - function
517:37 - this is going to be a function now that
517:39 - takes something as input it's going to
517:41 - take one of the elements in the list as
517:43 - input something like a button
517:46 - and now for each button what would I
517:48 - like to do for that button
517:50 - well when the button is clicked on
517:52 - button Dot unclick
517:54 - then go ahead and run a function
517:57 - that is going to
518:01 - document.queryselector
518:04 - get me the element whose ID is hello
518:08 - change its style within the style change
518:11 - its color and what do I want to change
518:13 - this color to will I have access to this
518:15 - button this argument to the function is
518:17 - whichever button I'm currently trying to
518:19 - add an event listener for
518:21 - and in order to access its data
518:23 - properties I can access a special
518:24 - property of an HTML element called its
518:27 - data set property
518:29 - and then I can say something like
518:30 - button.dataset dot color to get at the
518:33 - data Dash color attribute
518:36 - so a lot of stuff going on here let's go
518:38 - ahead and try and read through this
518:39 - entire thing and just get a feel for
518:41 - what's happening because we have
518:42 - functions nested within other functions
518:44 - nested within other functions up at the
518:46 - very top I've said add an event listener
518:48 - to the document when the documents Dom
518:51 - content is loaded meaning all the
518:52 - content of the page is downloading go
518:54 - ahead and run this function this is the
518:57 - body of the function
518:58 - so what do I want to do when the page is
519:00 - done loading I'm going to
519:02 - document.queryselector all looking for
519:04 - all of the buttons and if I wanted to if
519:07 - there could be more buttons I could have
519:08 - added a class to these buttons and just
519:10 - look for things with a particular class
519:11 - query selector all just returns all of
519:13 - the elements that match a particular
519:15 - query
519:16 - and then I'm saying for each of those
519:19 - buttons for each of the buttons that
519:21 - came back I would like to run a function
519:23 - on each of those buttons I'm basically
519:25 - saying if I have three buttons that came
519:27 - back let me run a function on the first
519:28 - button then the same function on the
519:30 - second button then the same function on
519:32 - the third button and what is that
519:34 - function
519:34 - well it's this function here a function
519:37 - that takes as input the button it's
519:39 - first going to pass in as input the
519:41 - first button then the second button then
519:42 - the Third
519:43 - and what this function does is it adds
519:46 - an on click Handler to the button it
519:48 - says when the button is clicked on go
519:50 - ahead and run this other function and
519:53 - this function now is the function that
519:54 - will run when the button is clicked on
519:56 - to say when the button is clicked on get
519:58 - me the hello element change its color to
520:03 - button.dataset.color and
520:05 - button.dataset.color takes a button
520:07 - takes an HTML element like this one here
520:09 - and accesses its data set all of its
520:12 - data properties and specifically
520:13 - accesses the color data property which
520:16 - in this case is equal to red and that is
520:18 - what we would like to set color equal to
520:21 - it's a little bit more complex than
520:23 - we've seen before but now we've been
520:25 - able to reduce what was three different
520:27 - event handlers into just a single one
520:29 - and now this is going to work the same
520:31 - way change it to red blue and green all
520:34 - by just using those data properties that
520:37 - we have access to
520:38 - and so when in doubt about how these
520:40 - things are working about what query
520:41 - selector is returning the JavaScript
520:43 - console can be a very powerful tool for
520:44 - this so you can go into the JavaScript
520:46 - console and actually manipulate things
520:48 - you can run and run queries you can run
520:50 - functions you can even modify the values
520:52 - of variables like if I go back for
520:54 - instance to counter.html or had this
520:57 - counter that's counting zero one two
521:00 - three four if I wanted to I could say
521:02 - something like counter equals 27 just
521:06 - like change the value of the counter
521:07 - nothing appears to have changed on the
521:09 - page I didn't say update anything on the
521:11 - page but now next time I run count it's
521:13 - going to update the value of the count
521:15 - to 28 because I had updated the value
521:17 - inside of the JavaScript console it's
521:19 - going to increment that value display
521:21 - that value inside of the H1 element so
521:24 - you can modify variables you can run
521:26 - functions you can run
521:28 - document.queryselector to figure out
521:30 - what particular elements are going to
521:31 - come back all through the use of the
521:33 - JavaScript console which can be a very
521:35 - very powerful tool especially as you
521:37 - begin working on trying to debug these
521:39 - programs and trying to figure out what
521:41 - might be wrong with them it turns out
521:43 - too that there are other changes that we
521:45 - can make in order to optimize our code a
521:47 - little bit more in order to make it a
521:48 - little bit more succinct and one way is
521:50 - that in more recent versions of
521:51 - JavaScript they've introduced a
521:52 - particular notation for functions called
521:54 - the arrow notation for functions and
521:57 - I'll just show it to you because it'll
521:58 - come up but oftentimes instead of using
522:00 - the keyword function before introducing
522:02 - a function you'll just have something
522:03 - like button
522:05 - and then Arrow the curly braces and
522:09 - strictly speaking you'd only even need
522:10 - the parentheses around the input where
522:12 - button arrow and then in these curly
522:14 - braces some code just means here is
522:16 - going to be a function that takes us
522:18 - input a variable called button and then
522:20 - runs this particular block of code when
522:23 - that function is run
522:24 - and likewise if a function takes no
522:26 - input like this function up here you
522:28 - could express it using arrow notation
522:29 - with just parentheses Arrow block and so
522:33 - this is often a notation that you'll see
522:35 - in JavaScript so if you ever see it know
522:37 - that that's really just shorthand for
522:38 - creating a function whatever it is to
522:40 - the left of the arrow sign is the input
522:42 - to the function and whatever is to the
522:44 - right of the arrow is what code should
522:46 - actually run when the function body gets
522:48 - executed when the function is called
522:50 - upon
522:50 - so what other changes might we want to
522:53 - make to colors.html well if we look back
522:55 - at colors.html here's what it looks like
522:57 - now we've got a heading that says hello
522:59 - and then buttons to change the color to
523:01 - red or blue or green for example we
523:03 - might instead if we want the user to
523:05 - choose from one from a number of options
523:06 - decide upon the user interface choice of
523:09 - using a drop down instead of a bunch of
523:11 - buttons for example and JavaScript
523:13 - supports that as well and we'll use this
523:14 - as an opportunity to explore some of the
523:16 - other event handlers that exist within
523:18 - JavaScript so for example
523:21 - instead of having these all inside of
523:23 - buttons I can make my life a little bit
523:25 - easier by making this a select drop down
523:28 - where the select is going to have an
523:29 - option whose value is let's say black is
523:32 - the default option we'll just say black
523:33 - and then we'll add another option whose
523:36 - value is red and then we say red and the
523:38 - value is what we'll get in JavaScript
523:40 - when we try and extract the value of a
523:42 - particular select drop down well it's in
523:44 - between the option tags themselves is
523:46 - what the user is going to see on the
523:48 - page when they actually view it so I'm
523:49 - capitalizing it just for them
523:51 - option value equals blue it'll be blue
523:54 - and then option value equals green and
523:57 - that'll be green
523:58 - so now what the user sees is they say
524:00 - hello and then a drop down menu where
524:02 - they can choose from a list of colors
524:04 - rather than click buttons in order to do
524:06 - so and now of course this select drop
524:08 - down doesn't do anything at the moment
524:10 - but I can modify it so that it does
524:12 - so now instead of selecting for all of
524:15 - the buttons and doing something with all
524:16 - the buttons we don't have any buttons
524:18 - anymore what I do have is I have
524:22 - a select drop down
524:24 - and now just as we've seen like on click
524:26 - to say when you click on something as
524:27 - we've seen Dom content loaded as an
524:29 - event there's another event called on
524:31 - change which applies to things like
524:33 - select drop-downs where when something
524:35 - changes in the select drop down when a
524:37 - user chooses something different I can
524:39 - run some code for example so I can run a
524:42 - function
524:43 - that in this case is going to take
524:44 - document.queryselector
524:47 - hello meaning get me the hello HTML
524:49 - element
524:50 - change its style what part of the style
524:52 - change its color
524:54 - and I want to change it to something I
524:55 - want to change it to the value of this
524:58 - select drop down but how do I get access
525:00 - to this particular select drop down well
525:03 - in JavaScript we have access to a
525:05 - special value called this and this has
525:09 - special meaning in JavaScript and its
525:10 - meaning varies based on context but in
525:12 - the context of an event handler a
525:14 - function that is called when a
525:16 - particular event happens this is going
525:18 - to be a special keyword that always
525:20 - refers to the thing that received the
525:22 - event so what received the event it was
525:25 - the select drop down that is what
525:26 - received the event of being changed and
525:29 - so this is going to be a special keyword
525:31 - that always refers to that that always
525:33 - refers to the drop down menu where I
525:35 - made a different selection so if I want
525:37 - to get the value of that drop down menu
525:38 - what it is the user actually selected I
525:41 - can just say this dot value to mean get
525:44 - that drop down menu and get at the value
525:46 - the thing that the user selected in that
525:48 - menu and now much more succinctly than
525:50 - before I've been able to implement the
525:53 - same kind of idea it says hello right
525:55 - now in black but if I choose from the
525:56 - drop down menu to change its color to
525:58 - something like red for example color
526:00 - changes to Red if I instead choose blue
526:02 - it changes to blue green changes to
526:05 - Green I choose black it changes Back to
526:07 - Black so now I have this ability to
526:10 - detect these other types of events and
526:12 - respond to them as well and there are
526:14 - many many different events that exist in
526:16 - JavaScript there's on click which we've
526:18 - seen already on Mouse over it can detect
526:20 - like when you Mouse over something when
526:22 - you're hovering over a particular
526:23 - element if you've ever seen websites
526:25 - that somehow respond when your mouse
526:27 - moves over something that can be how
526:28 - it's implemented on key down and on key
526:31 - up can respond to keyboard events
526:32 - something like when you press a key on
526:35 - the keyboard when you press down on the
526:37 - key that's on key down and when you lift
526:39 - your finger off the key that's on key up
526:41 - and there are other events as well many
526:43 - more events that are just listed here
526:44 - that you can listen for and respond to
526:47 - so that you can really interact with the
526:49 - user based on what it is that they're
526:51 - doing
526:52 - so now let's take a look at an example
526:53 - of how we can use some of these events
526:55 - to now begin to create a little bit of a
526:57 - more interesting application we'll go
527:00 - ahead and build a to-do list application
527:02 - this time using exclusively JavaScript
527:04 - we've seen to-do lists before that
527:05 - involve communicating with a server
527:07 - making requests and responses we'll now
527:09 - build a to-do list that only uses
527:11 - JavaScript to do so
527:13 - I'll create a new file called tasks.html
527:18 - and we'll use them we'll create a head
527:20 - section whose title is tasks
527:22 - and a body section and inside the body
527:25 - of the page I'll go ahead and have a
527:26 - heading that says tasks
527:28 - and underneath that I want an unordered
527:31 - list of all of my tasks so I have an
527:33 - unordered list I'll give it an ID of
527:35 - tasks just for good measure so I can
527:37 - reference it later but initially
527:38 - nothing's going to be in here
527:40 - but what I'll have underneath the
527:42 - unordered list is a form a form where I
527:45 - can submit a new task for example so
527:47 - I'll give myself an input field also
527:49 - given an ID the ID will be task singular
527:52 - for the new task that I am typing in
527:54 - the placeholder will be new task just so
527:57 - the user knows what to type in and the
527:59 - type of the input field will be text so
528:01 - I have an input field where the user can
528:03 - type in some new task and I'll also add
528:05 - an input field for good measure whose
528:07 - type is submit that allows the user to
528:09 - submit a new task once they've created
528:11 - it
528:11 - so if I open up tasks.html
528:15 - here's then what I see big heading there
528:17 - is technically an unordered list
528:18 - underneath it here but there's nothing
528:20 - in that unordered list yet so it just
528:22 - shows up as empty then a text field
528:24 - where I can type in a task and then a
528:26 - submit button where I can submit my new
528:28 - task
528:29 - so now I'd like some JavaScript such
528:31 - that when I submit this form we actually
528:33 - do something
528:34 - so add a script tag I want this
528:37 - JavaScript to run after
528:40 - the Dom content is loaded
528:44 - so we'll go ahead and add the usual Dom
528:46 - content loaded event listener
528:48 - and now I want to run code when the form
528:51 - is submitted so I can say
528:52 - document.queryselector
528:55 - form
528:57 - dot on submit equals and then I want to
529:00 - run a function and I could use the
529:01 - keyword function again but I can just
529:03 - use an arrow function which will be a
529:04 - little bit faster to type just say all
529:05 - right here's the function that I want to
529:07 - run when the form is submitted
529:09 - and what would I like to do well I'd
529:12 - first like to figure out all right what
529:13 - did the user actually type in and what
529:15 - the user typed in well that'll be
529:17 - document.queryselector
529:19 - task
529:21 - dot value
529:23 - get me the element with ID task that's
529:25 - the input field dot value gets the value
529:27 - of the input field which is what the
529:29 - user actually typed in and I can save
529:32 - that as like
529:33 - const task that is what it is the user
529:36 - typed in
529:38 - and if I'm curious as to what the user
529:40 - typed in I can actually print it out to
529:42 - the JavaScript console and the way to do
529:44 - that is using a special function called
529:46 - console.log and that just logs something
529:49 - to the console the equivalent of
529:50 - printing something out in Python where
529:52 - it just shows up in the python terminal
529:53 - here this is going to show up in the
529:55 - JavaScript console
529:57 - and one other thing I'll add is by
529:59 - default forms will try and submit when
530:01 - you press the submit button like take
530:02 - you to another page we've seen this
530:03 - before already in the context of Django
530:05 - that when you submit a form it tries and
530:07 - submits another web request if I want to
530:09 - prevent that behavior stop the form from
530:11 - submitting so stop form from submitting
530:14 - I can
530:16 - return false at the end of my form
530:18 - submission Handler to say don't actually
530:20 - submit the form we're going to do
530:22 - everything client-side everything just
530:23 - inside of the browser so now this won't
530:26 - quite work yet but it'll be progress I
530:28 - refresh the page I'm going to open up
530:29 - the JavaScript console so I can see
530:30 - what's going on if I add a task
530:32 - something just like Foo
530:34 - press submit this now gets logged to the
530:37 - JavaScript console it's the equivalent
530:39 - of a way of like providing debugging
530:40 - information to myself to know all right
530:42 - I now have access to this value Foo and
530:45 - it's also telling me what line of code
530:47 - logged at it with tasks.html line 9 is
530:50 - the line of code that logged Foo and so
530:52 - this can be useful when you're debugging
530:54 - a program when you want to see what the
530:55 - values of variables are you can just
530:57 - print them out using console.log to
530:59 - figure out what's going on in your
531:00 - program at any particular point in time
531:03 - but what I want to do is not
531:05 - console.loget what I want to do is
531:07 - really create a new element that I'm
531:09 - going to add into my body of the HTML so
531:13 - how can I do that well to create a new
531:15 - element for my document I can run a
531:17 - function called document dot create
531:19 - element
531:20 - followed by what type of element do I
531:22 - want to create well I have an unordered
531:24 - list a ul and every item inside of an
531:27 - unordered list is a list item An Li so
531:30 - I'll go ahead and create an Li element a
531:33 - list item
531:35 - and I'll save that in a variable then
531:37 - I'll call Li
531:39 - so I've created a new list item and this
531:42 - list items inner HTML the HTML content
531:45 - inside of that list item
531:47 - well that's just going to be task this
531:50 - variable from up here which is whatever
531:52 - the user typed in so I've now created a
531:54 - new list item and said what HTML should
531:57 - go inside of the list item it should be
531:59 - whatever task the user typed in
532:01 - and now
532:02 - I'm going to say document dot query
532:05 - selector tasks get me the element whose
532:08 - ideas tasks and that's going to be this
532:10 - unordered list here the unordered list
532:11 - whose ID is tasks and if I have an HTML
532:14 - element I can add a new element inside
532:17 - of it by saying dot append
532:20 - Li
532:22 - and what that now is going to do is it's
532:24 - going to say get me the unordered list
532:26 - whose ideas tasks get me the element
532:27 - whose ID is tasks by a query selector
532:29 - here once I have that element append to
532:32 - the end of what's inside of that element
532:34 - this value Li which happens to be this
532:37 - new element that I've created a new list
532:39 - item so I've been able to add a new HTML
532:42 - element and this line of code is going
532:44 - to say add it to the Dom add it to the
532:46 - unordered list that I am here now
532:48 - constructing
532:51 - so now I rerun this I see tasks I type
532:54 - in something like Foo I press submit and
532:57 - all right food now shows up I type in
532:59 - something like I delete that type in bar
533:00 - bar now shows up I type in baz bazino
533:04 - shows up now one minor user interface
533:06 - annoyance is that it seems that every
533:07 - time I submit a new task this input
533:09 - field retains the value of what it used
533:12 - to be and that's probably not what I
533:14 - want because I'd rather it just clear
533:15 - out I've already submitted the task no
533:17 - need for it to stay there but that's
533:19 - easy to manipulate in JavaScript if I
533:21 - want to clear out this input field the
533:23 - input field whose ID is tasked then all
533:25 - I need to do is say document dot query
533:28 - selector
533:29 - task get me that input field change its
533:32 - value equal to the empty string equal to
533:36 - nothing just to say clear out the value
533:38 - of what happens to be inside of that
533:39 - input field right now and now if I
533:42 - refresh the page type in Foo press
533:44 - submit input field clears out and now I
533:46 - can type in something like bar and then
533:48 - something like baz to continue to add
533:50 - tasks as well
533:52 - now one thing that might be slightly
533:54 - annoying is if I'm not careful if I
533:55 - press submit
533:56 - well it submits the empty string as a
533:59 - task and so I just get this empty bullet
534:01 - point that shows up here when I press
534:03 - submit and I just get all of these empty
534:05 - bullet points it might be nice from a
534:06 - user experience perspective if I were to
534:09 - not allow the user to do that not allow
534:11 - them to submit a task if they haven't
534:12 - actually typed something in to the new
534:14 - task field and we can do that just by
534:17 - modifying properties of elements that it
534:19 - turns out that HTML elements have a
534:21 - property called disabled that can be
534:23 - true or false that allows us to disable
534:25 - something like a button
534:28 - so if I want to disable the submit
534:30 - button one thing I might want to do
534:32 - first is give this submit button an ID
534:34 - I'll give it an ID of submit so that in
534:37 - my JavaScript code I can reference the
534:39 - submit button
534:41 - and now inside of this JavaScript code
534:44 - when the Dom content is loaded
534:47 - by default
534:49 - the submit button should be disabled
534:52 - like when I first load the page I don't
534:54 - want the submit button to be enabled
534:56 - because I want the user to type in a
534:57 - task first before I enable the submit
534:59 - button so how do I do that well I can
535:02 - document.queryselector get me the
535:04 - element whose ID is submit get me that
535:06 - submit button and just set its disabled
535:08 - property equal to True JavaScript has
535:11 - Boolean values true and false I set the
535:13 - disabled value equal to true to disable
535:15 - the submit button
535:17 - now if I refresh the page I can type in
535:19 - a new task but the submit button is
535:21 - disabled it doesn't do anything now
535:23 - obviously I don't want to keep it that
535:24 - way I'd like it such that as I begin to
535:25 - type things in then the submit button
535:27 - stops being disabled disabled gets set
535:30 - from True to false instead
535:32 - and so what I really want to do is
535:34 - listen for me like pressing keys on the
535:38 - keyboard
535:39 - and so the way I can do that is by
535:41 - adding yet another event listener
535:43 - document.queryselector
535:46 - what do I want to add a query selector
535:47 - to what do I want to add an event
535:48 - handler for well I want to add an event
535:50 - handler for when I type something into
535:52 - this input field and this input field
535:55 - has an ID of task
535:57 - so let me go ahead and get the input
535:58 - field the element whose ID is task
536:01 - and add an on key up Handler on key up
536:04 - again is the event when I lift my finger
536:07 - off of a key
536:09 - go ahead and run this function and what
536:12 - should the function do well it's going
536:13 - to say document.queryselector submit
536:16 - set the disabled property equal to false
536:20 - and so now here's what we're doing we're
536:22 - saying by default when I first load the
536:24 - page take the submit button and disable
536:26 - it set dot disabled equal to true then
536:29 - anytime I type a key and my finger comes
536:32 - off the key that means on key up is the
536:34 - event that gets triggered run this
536:36 - function and what the function is going
536:38 - to do is take that same submit button
536:40 - and set its disabled property equal to
536:42 - false so now instead of being disabled
536:44 - it will be enabled
536:48 - so if I go back to the page go here I
536:50 - type in right now by default the submit
536:52 - button is disabled but as soon as I
536:54 - start typing something now the submit
536:57 - button is active and I can actually
536:58 - click on it
537:00 - and all right this isn't great because I
537:02 - clicked on it but the submit button is
537:03 - still enabled so what I might like to do
537:05 - is all right after I've submitted the
537:07 - form after I've added a new task let's
537:09 - go back and disable the submit button so
537:11 - after I've
537:13 - submitted the form after we've added the
537:16 - new task to my list of tasks after we've
537:18 - cleared out the value from the input
537:20 - field let me also
537:23 - get the submit button set its disabled
537:25 - property equal to true
537:27 - now even after I submit the form the
537:30 - submit button is still going to be
537:31 - disabled such that I type in Foo now
537:33 - submit is active I press it but the
537:35 - submit button goes back to being
537:37 - inactive as well
537:39 - it turns out that even now there's still
537:41 - a little bit of a bug if I go back here
537:42 - and I type in something like bar but
537:45 - then I backspace back to like nothing
537:48 - here the submit button is still active
537:50 - so I can still technically submit a task
537:52 - that has no content inside of it and so
537:54 - I might like to have some way of
537:55 - preventing against that as well and
537:58 - that's just some additional logic we now
537:59 - have access to JavaScript that has
538:01 - conditions that has Loops that has
538:02 - functions and so if I want to do
538:04 - something
538:05 - like conditionally check I can say if
538:10 - document.query selector task
538:14 - dot value dot length is greater than
538:17 - zero meaning like something's actually
538:19 - typed into the task field we'll then go
538:23 - ahead and set disable defaults
538:26 - but otherwise
538:30 - go ahead and set disabled
538:32 - equal to true
538:34 - so now here we're checking if the length
538:36 - of what the user has typed in is greater
538:38 - than zero they actually type something
538:39 - in then yes give them access to the
538:41 - submit button but otherwise don't give
538:44 - them access to that button
538:46 - so now I refresh the page disabled by
538:48 - default I type something in it's enabled
538:50 - I delete delete delete and it goes back
538:53 - to being disabled so JavaScript has
538:55 - allowed us to really make our Pages much
538:57 - more interactive and immediately
538:59 - interactive based on how the user is
539:01 - interacting with the page as they begin
539:02 - to type things as they begin to delete
539:05 - things as they press buttons we're able
539:07 - to have the page respond either by
539:09 - adding content to the Dom by literally
539:11 - adding parts to the HTML Page Changing
539:14 - the stylus of things changing particular
539:15 - properties of elements and this is
539:17 - really where the power of JavaScript
539:19 - begins to come in it's been allowing
539:21 - ourselves to do things like that
539:23 - now so far we've only been able to have
539:26 - events happen when the user does
539:28 - something when the user clicks on a
539:30 - button or when the user presses a key
539:31 - for example but it turns out JavaScript
539:33 - has other ways of allowing functions to
539:36 - run in fact on their own we can set what
539:38 - are called intervals where a particular
539:39 - function runs every sum number of
539:41 - milliseconds for example and so if we go
539:43 - back to like the counter example from
539:45 - before
539:46 - right now for this counter example I
539:48 - have to be the one to press the count
539:50 - button that is going to increment the
539:52 - value of count every single time but I
539:54 - could put that inside of an interval
539:56 - instead so let me go back to
539:59 - counter.html whose JavaScript is inside
540:01 - of counter.js
540:03 - and now what I'd like to say
540:05 - is
540:08 - I would like when the Dom content is
540:10 - loaded
540:11 - let me set an interval
540:15 - for count
540:17 - and one thousand
540:19 - so what is that going to do set interval
540:21 - is a function built into JavaScript here
540:23 - where I'm saying that I would like to
540:25 - create a new interval where every so
540:26 - often go ahead and run a particular
540:28 - function and I would like to run the
540:30 - count function we'll recall that count
540:32 - function is going to increment the value
540:34 - of count and I'll get rid of this alert
540:35 - for now just for Simplicity all I want
540:37 - the count function to do is update the
540:39 - H1 with the new value of the counter and
540:42 - go ahead and run that count function
540:43 - every 1000 milliseconds otherwise known
540:45 - as every one second go ahead and run the
540:48 - count function
540:50 - so now when I open counter.html
540:53 - it's 0 but every second now it's going
540:56 - to change every second updating one by
540:58 - one by one I don't have to click the
540:59 - button of course I could in the event
541:01 - handler would still work but the
541:02 - interval is saying now every one second
541:05 - go ahead and run the count function and
541:07 - that has this particular result so if
541:09 - you've ever seen a web page that like
541:10 - displays the current time in seconds it
541:12 - was like a countdown timer or it's
541:14 - displaying the current time with seconds
541:15 - it might be doing something like this
541:17 - just having some sort of interval that
541:19 - every second is going to count an
541:21 - increment in order to say update the
541:22 - number to the one greater one greater
541:24 - and one greater than that
541:26 - of course if I close the page and go
541:29 - back to it if I close these pages and
541:31 - then opencounter.html again I've gone
541:34 - back to zero like JavaScript is not
541:36 - saving any state about my page it's just
541:39 - every time we're running the page it's
541:41 - going to go back to counter.js it's
541:44 - going to say all right we're defining a
541:46 - variable called counter we're setting
541:47 - that variable equal to zero so every
541:49 - time I load the page it's going to be
541:50 - set back to zero and that might not be
541:53 - great depending on the type of page
541:55 - you're trying to create that maybe you
541:56 - want a page that is somehow able to
541:58 - store information such that on
542:00 - subsequent visits we're able to utilize
542:02 - the information that was already stored
542:04 - some way of remembering information for
542:06 - later use
542:07 - and later versions of JavaScript and
542:09 - more modern browsers now allow us to do
542:11 - something just like that called local
542:13 - storage and what local storage is is
542:16 - it's a way for us to be able to store
542:17 - information inside of the user's web
542:20 - browser that a page can ask to store
542:22 - particular values inside the web browser
542:24 - and later on on subsequent visits to
542:26 - that page we can go back and say let's
542:28 - extract those values that were
542:30 - previously stored inside of local
542:32 - storage
542:33 - local storage is going to give us access
542:35 - to two key functions that we're going to
542:37 - use to manipulate this local storage the
542:39 - first is
542:40 - localstorage.getitem where we would like
542:42 - to get something out of local storage
542:44 - based on its key some name that we have
542:46 - given to that value and we also have
542:48 - access to localstorage.set item which
542:51 - goes ahead and adds a new value to local
542:53 - storage or replaces an existing value in
542:55 - local storage setting this key equal to
542:58 - a particular value so we can use local
543:00 - storage then to allow our web pages
543:02 - using JavaScript to be able to store
543:04 - information and retrieve information
543:06 - from the browser and let's now try to
543:09 - use that in order to
543:11 - solve this problem of the counter that
543:14 - seems to always reset back to zero
543:16 - so now in counter.js instead of
543:18 - sentencounter equal to zero the first
543:20 - thing I want to know is is there already
543:23 - a value for the counter in local storage
543:26 - so I can ask a question
543:28 - like if local storage dot get item
543:32 - counter meaning go to local storage
543:35 - try and get the counter
543:37 - and anything in this if expression will
543:40 - happen if there is something inside of
543:42 - local storage for counter but it turns
543:44 - out that if I want to do the inverse of
543:45 - that say not I can just use the
543:47 - exclamation point much like in C in
543:49 - JavaScript the exclamation point just
543:51 - means not so meaning if there is not
543:53 - something in local storage called
543:55 - counter
543:56 - well then let's go ahead and just set
543:58 - the value in local storage local storage
544:01 - dot set item counter and we'll set it
544:04 - equal to zero
544:05 - so what this is doing here is before
544:07 - anything else happens we are checking
544:09 - local storage to say is there already a
544:12 - value for counter and if there is not
544:15 - already a value for counter we need to
544:16 - make sure there is something there
544:18 - inside of local storage for the counter
544:19 - so we are going to set the value of
544:21 - counter equal to zero for example
544:24 - and so now what needs to change I'll go
544:27 - ahead and get rid of the interval so
544:28 - that it only happens when I click on it
544:29 - but what should this count function
544:31 - actually do
544:32 - well first let me get the value of the
544:34 - counter
544:35 - counter is going to be whatever
544:37 - localstorage dot get item counter is I'm
544:41 - going to get the counter out of local
544:43 - storage I'm going to increment it
544:45 - counter plus plus
544:47 - we'll go ahead and set the value of this
544:49 - H1 elements inner HTML equal to that
544:51 - counter
544:52 - but the last step is I'll also do local
544:55 - storage dot set item
544:57 - counter is equal to the new value of
545:01 - counter
545:02 - so what I've done here is to say that
545:04 - when I click the button count function
545:06 - is going to run we're first going to go
545:08 - into local storage get the value for the
545:10 - key counter whatever the value of
545:12 - counter happens to be save it inside of
545:14 - this variable called counter we'll go
545:16 - ahead and increment that variable
545:17 - setting it equal to itself plus one
545:19 - update the H1s inner HTML same as before
545:22 - just to update what we actually see on
545:24 - the page but then go ahead and
545:26 - localstorage.set item counter gets set
545:29 - to counter for example
545:32 - so now
545:34 - let's go ahead and see what's going to
545:36 - happen
545:38 - if I go ahead and open counter.html
545:41 - we see Zero
545:43 - we count one two three four five
545:45 - everything so far so good now watch what
545:48 - happens if I refresh this page I refresh
545:50 - the page
545:52 - and all right that seems a little bit
545:53 - strange it's zero let me try counting
545:55 - and see what happens I press count
545:57 - and all right the count changed to six
546:00 - so it seems like it did remember that I
546:01 - counted up to five zero one two three
546:03 - four five but when I refresh the page it
546:05 - still showed me zero but then let me
546:07 - count up to the number six and I can
546:08 - keep counting seven eight nine ten what
546:10 - happens if I refresh the page now I can
546:12 - try it I refresh the page I've gone back
546:14 - to zero but I count and okay now I'm at
546:17 - 11. so somehow I am still remembering
546:19 - but the first time it's still giving me
546:21 - zero every time why might that be
546:23 - well if you look back at counter.html
546:25 - you'll notice that the reason is just
546:27 - inside the body of the page the initial
546:29 - value of the H1 is just always zero so
546:32 - if I want to fix that then what I need
546:33 - to say is when the Dom content is loaded
546:35 - go ahead and get
546:37 - document.queryselector H1 go ahead and
546:40 - update the inner HTML equal to
546:44 - whatever local storage dot get item
546:47 - counter happens to be so every time I
546:50 - open the page even before I click the
546:52 - button even before the event listener is
546:54 - triggered I'd like to say go ahead and
546:56 - replace this heading update its inner
546:58 - HTML to be the result of getting the
547:01 - counter out of local storage for example
547:04 - so now if I refresh the page it's at 11
547:06 - I can update update update click again
547:09 - some number of times bring it up to 18
547:11 - for example refresh the page and it
547:13 - stays at the number 18 and no matter
547:15 - what value I get it to it's going to
547:17 - store that number inside of local
547:18 - storage such that when I refresh the
547:20 - page that number is going to stay there
547:22 - and we can actually see the value inside
547:24 - of local storage by again going into
547:26 - Chrome's inspector I go into Chrome if I
547:29 - go to the application tab
547:32 - and I go to local storage here on the
547:34 - left
547:35 - I can see that I have a value for T
547:37 - counter whose value in this case happens
547:39 - to be 28 and you could go into local
547:40 - storage you can manipulate this value
547:42 - you could delete it if you want but this
547:44 - just goes to show you that we have now
547:45 - stored this value inside of my browser
547:48 - such that on subsequent visits if this
547:50 - page gets loaded again we can access
547:52 - that value from inside of the
547:54 - application as well
547:55 - and so now we've been able to see how
547:58 - our pages are able to store data in
548:00 - order to just make the user experience a
548:01 - little bit better if we want the user to
548:03 - be able to have information remembered
548:05 - from the last time they visited a
548:07 - particular page we can sometimes
548:08 - actually be quite helpful
548:11 - all right so now we've seen a lot of
548:12 - features of JavaScript we've seen a
548:14 - bunch of different ways of representing
548:16 - data we've stored data in variables and
548:18 - those variables have had types like
548:19 - integers those variables of some has
548:21 - been strings sometimes have been HTML
548:24 - elements sometimes they've been arrays
548:26 - or lists of items sometimes they've even
548:28 - been functions you can set a variable
548:29 - equal to a function but perhaps one of
548:32 - the most useful data types inside of
548:34 - JavaScript is the JavaScript object so
548:37 - go into the JavaScript console just to
548:39 - demonstrate this with the JavaScript
548:41 - object is is it's really the equivalent
548:43 - of like a python dictionary some
548:46 - Association of keys to values where you
548:48 - can look up something by a key or by a
548:50 - property and see what its value happens
548:53 - to be
548:54 - so if I had a variable like person
548:57 - I could set person equal to a JavaScript
548:59 - object whose like first name is Harry
549:03 - and whose last name is Potter
549:06 - again using syntax very similar to what
549:09 - the dictionary syntax looks like inside
549:12 - of python as well and now that I have
549:14 - this variable person which is first
549:16 - Harry last Potter I can access a
549:19 - particular property of the person in a
549:20 - number of ways I can say something like
549:22 - person DOT first to say get me the first
549:24 - name property of this particular object
549:27 - and I see that it's equal to Harry I
549:29 - could equivalently use square bracket
549:31 - notation the way python does square
549:32 - bracket first and that will also give me
549:34 - Harry
549:35 - but this turns out to be quite powerful
549:38 - to be able to represent data in this
549:40 - structured way like this where I have an
549:42 - association of keys otherwise known as
549:44 - properties with particular values and
549:46 - then I have the ability given a
549:48 - JavaScript object to be able to access a
549:50 - particular value and it turns out that
549:52 - one of the ways this is most useful is
549:54 - in the exchange of data moving data
549:57 - around from one service to another and
549:59 - so here we're going to introduce what
550:01 - are known as apis otherwise known as
550:03 - application programming interfaces which
550:05 - in the context of the web you can think
550:07 - of as some well-defined structured way
550:10 - for services on the internet to
550:12 - communicate with each other that if you
550:14 - want your application to be able to talk
550:16 - to some other servers maybe you want
550:17 - your application to interact with Google
550:19 - Maps or to be able to interact with
550:21 - Amazon or some other Weather Service to
550:23 - get the day's weather then you might be
550:24 - able to access some API some mechanism
550:27 - whereby you can communicate with another
550:29 - service by sending a request and
550:31 - receiving back data in some sort of very
550:33 - well structured format and very often
550:35 - that well-structured format happens to
550:38 - be a particular type of data known as
550:40 - Json which stands for JavaScript object
550:42 - notation which is a way of transferring
550:44 - data in the form of JavaScript objects
550:48 - these sort of objects that happen to
550:50 - have properties and values associated
550:52 - with them and so what does JavaScript
550:55 - object notation look like well if we
550:56 - think back to the applications that
550:58 - we've been creating these applications
550:59 - that are able to represent things like
551:01 - an airline and movements of planes
551:03 - between particular destinations a
551:05 - JavaScript object representing a flight
551:08 - might look something like this a
551:10 - JavaScript object that has properties
551:11 - for origin is something destination is
551:14 - something duration is something things
551:16 - we've seen before but you might imagine
551:18 - that if we wanted our airline to be able
551:20 - to make its data available to other
551:22 - services so that other web applications
551:24 - or other programs could programmatically
551:26 - access information about flights we
551:28 - could pass data in this format to those
551:31 - other applications so that they could
551:33 - then treat this as a JavaScript object
551:35 - and get access to the information about
551:37 - it and the nice thing about this
551:39 - particular representation is that it is
551:41 - both human readable and machine readable
551:43 - that we as people can look at this and
551:45 - get an intuitive understanding for what
551:47 - all of this means but also a computer
551:49 - knows how to access particular
551:51 - properties that appear before the colon
551:52 - and get access to what those values are
551:55 - which appear after that colon as well so
551:58 - JavaScript object notation otherwise
552:00 - known as Json offers a very convenient
552:02 - representation and this isn't exactly
552:04 - what the JavaScript object syntax is in
552:07 - JavaScript objects you don't strictly
552:09 - need the quotation marks around the keys
552:10 - you could just say origin colon and not
552:12 - origin and quotation marks so JavaScript
552:14 - object notation uses slightly different
552:16 - syntax But ultimately very reminiscent
552:19 - of what we've seen in JavaScript objects
552:20 - and JavaScript knows how to take data in
552:23 - this form and turn it into something
552:24 - like a JavaScript object and turns out
552:26 - there are ways of doing this in python
552:28 - as well in other programming languages
552:29 - have the ability to interpret Json data
552:32 - in order to use it in some meaningful
552:34 - way
552:35 - and another advantage of the Json
552:37 - representation is that it's very
552:39 - conducive to representing structures of
552:41 - things so these values don't just need
552:43 - to be strings or numbers they could be
552:45 - lists or arrays that happen to have a
552:47 - sequence of possible values or they
552:49 - could even be other JavaScript objects
552:51 - that if we wanted to represent not just
552:53 - a city name but represent the city name
552:55 - and the airport code for example as we
552:57 - saw that we wanted to do before I could
553:00 - instead of having origin be equal to a
553:02 - string like New York have origin be
553:04 - equal to yet another JavaScript object
553:07 - that contains a city property and a code
553:09 - property where the city is the name of
553:11 - the city and the code is the name of the
553:13 - airport code and the important thing is
553:15 - as long as I and the person I'm
553:17 - communicating with agree upon this
553:18 - representation agree upon what the names
553:21 - of these keys are and what the structure
553:23 - of this Json payload this Json object
553:25 - happens to be then the person on the
553:28 - receiving end can take this data and
553:30 - write a program that's able to interpret
553:31 - it and use that data in some meaningful
553:33 - way
553:34 - and so we'll see an example of this now
553:36 - of using JavaScript to be able to
553:38 - communicate with yet another online
553:39 - service in particular for accessing
553:42 - information about currency exchange
553:44 - rates currency exchange rates are always
553:45 - changing we want access to the latest
553:47 - currency exchange rate data and if there
553:49 - is an online service an API that
553:52 - provides access to that data in Json
553:54 - form in a format like this that is
553:56 - machine readable then we can use that
553:58 - data to write a stock a currency
554:00 - exchange application that uses real-time
554:03 - data in order to make those conversions
554:05 - what might that data look like well the
554:07 - data could look something like this that
554:09 - we make a request for accessing what are
554:11 - the exchange rates for converting from
554:13 - US Dollars otherwise known as USD and we
554:16 - get back a Json object that looks like
554:18 - this
554:19 - that has a base key of USD and then it
554:22 - has a rates key that has a whole bunch
554:24 - of rates within it so conversion to
554:25 - euros and Japanese Yen Great British
554:27 - written pounds as well as Australian
554:29 - dollars and all of the various different
554:31 - currency exchange rates for all of these
554:33 - different currencies for example and
554:35 - this doesn't have to be the way that
554:37 - this data is structured but it happens
554:38 - to be a convenient way and so long as
554:40 - the person providing this data to me and
554:42 - I both know what this structure is we
554:45 - can begin to write programs that are
554:46 - able to use that data and so we'll now
554:49 - see our example of an API which is a
554:52 - exchange rates API dot IO and if we go
554:56 - to api.exchange rates API dot IO latest
554:59 - and provide a get parameter of Base
555:01 - equals US Dollars then what we get back
555:04 - is data that looks like this
555:07 - now it's a little bit messy looking not
555:09 - nearly as clean as we saw before but
555:11 - it's the same exact thing just without
555:13 - the white space we have a JavaScript
555:14 - object that has a rates key that tells
555:17 - me all right here is the exchange rate
555:19 - between US Dollars and Canadian dollars
555:22 - and the pound and the Euro and other
555:23 - currencies that exist as well and down
555:26 - below we have the base of what base
555:27 - currency we're converting from so all of
555:30 - this data can come back to me if I just
555:32 - make an HTTP request I make a web
555:34 - request to this particular URL I then
555:37 - get access to all of this currency
555:39 - exchange rate information that I can
555:42 - then use inside of my application
555:43 - so how can I do this how can I now begin
555:46 - to use this information inside of an
555:49 - application
555:50 - let's now create a new page
555:52 - I'm going to call this currency.html
555:55 - inside of currency.html
555:58 - I'll add our usual HTML a title of
556:02 - currency exchange and a body
556:06 - and inside the body I'm just going to
556:08 - include nothing for now what I really
556:09 - care about is the JavaScript that is
556:11 - going to make a web request in order to
556:14 - get access to additional data now so far
556:17 - in JavaScript our JavaScript code has
556:19 - exclusively been running code that
556:21 - exists only on our computer it's running
556:24 - inside the web browser and all happening
556:26 - inside the web browser we're not
556:27 - communicating with some external server
556:29 - what we'll take a look at now is
556:31 - something known as Ajax which was about
556:33 - asynchronous JavaScript where the idea
556:35 - is that even after a page has loaded
556:37 - using JavaScript we can make additional
556:40 - web requests to ask for additional
556:42 - information either from our own web
556:44 - servers or from some third-party web
556:45 - servers if we want additional
556:47 - information on our page and what we want
556:50 - in this case is for our page to make an
556:52 - asynchronous request request for
556:54 - additional data about the current
556:57 - currency exchange rates for example
557:00 - so how am I going to do that well I want
557:02 - to do this after
557:05 - the Dom content is loaded
557:08 - so we'll add that usually there
557:10 - and what we're going to take advantage
557:11 - of is a function built into more recent
557:13 - versions of JavaScript and supported by
557:15 - most major browsers now and it's a
557:17 - function called Fetch and what fetch is
557:19 - going to do is it is going to make a web
557:21 - request it is going to query some
557:23 - website it could be our own it could be
557:24 - someone else's and it's going to get
557:26 - back some HTTP response from that page
557:30 - and I'm going to fetch and the page I'm
557:32 - going to fetch is this URL
557:35 - api.exchange rates api.io latest base
557:38 - equals USD and the only reason I happen
557:40 - to know how this API works is because
557:42 - I've read the api's documentation that
557:44 - describes how the URL parameters work
557:46 - and what the structure of the data that
557:48 - I get back is
557:49 - and so I'm here going to say go ahead
557:51 - and fetch from this URL make a HTTP
557:54 - request asking for additional
557:56 - information from this URL and get back
557:59 - what the results are going to be and
558:01 - what fetch gives back to us is something
558:03 - in JavaScript known as a promise and A
558:06 - promise is going to be a way of
558:07 - representing the idea that something is
558:10 - going to come back but it may not come
558:11 - back immediately we're not going to go
558:13 - into the details of exactly how those
558:15 - promises work but it turns out there's a
558:17 - particular Syntax for dealing with them
558:18 - which is that I can say after I fetch I
558:21 - can add a line called dot then
558:24 - that says what should I do when the
558:26 - promise comes back once I get back
558:28 - something like a response
558:30 - and so when I get back the response what
558:32 - I want to do is convert the response
558:34 - into Json treat it as Json data Java a
558:38 - JavaScript object as something that I
558:39 - can then manipulate and so what I can do
558:41 - is just use this as a function to say go
558:44 - ahead and return response
558:47 - dot Jason
558:49 - and so what this is saying is go ahead
558:51 - and get me the latest exchange rates and
558:54 - then after that's done this is an
558:56 - asynchronous process it might take some
558:57 - time but once I get back those results
558:59 - then run this function take the response
559:02 - and return the Json version of the
559:05 - response convert that response into just
559:07 - the raw Json data such that I can use
559:09 - that data to then access the currency
559:11 - exchange rates and it turns out that
559:13 - with arrow functions if you ever have a
559:15 - very simple function that all it's doing
559:17 - is taking something and returning
559:19 - something else I can simplify this
559:21 - function even further and just say I can
559:24 - emit the curly braces I can omit the
559:25 - return I can just say response arrow
559:28 - response.json and this is a shorthand
559:30 - way of saying a function that takes as
559:32 - input the response and returns as output
559:35 - response.json
559:37 - so here I'm saying go ahead and fetch me
559:40 - the latest exchange rates from this
559:41 - particular API
559:43 - then convert the response to Json data
559:46 - and then once you have the data
559:49 - here's what I want you to do with that
559:50 - data
559:51 - and for now let's just go ahead and
559:53 - console.log that data just to print it
559:56 - out to the terminal so we're not doing
559:58 - anything else just yet all I'm doing is
559:59 - saying get me the exchange rates convert
560:02 - the exchange rates data into Json and
560:04 - then let's go ahead and print out that
560:06 - data
560:08 - so I'll open up
560:09 - currency.html it's a blank page but if I
560:12 - look in the JavaScript inspector I see
560:14 - what got logged is a JavaScript object
560:17 - here indicated by the word object and if
560:19 - I click the triangle at left I can open
560:21 - up and see all right inside of this
560:23 - object is all of this data about
560:26 - exchange rates
560:28 - for a whole bunch of different exchange
560:29 - rates for converting from the US dollar
560:31 - we're here US dollar one means one US
560:33 - dollar is one US dollar for example
560:36 - so now that I've got this data let's
560:38 - actually try and use this inside of the
560:40 - program maybe let's say I want to
560:42 - convert between US Dollars and the euro
560:44 - to figure out what the conversion rate
560:45 - is between dollars in euros well if we
560:48 - recall what the data looks like the data
560:50 - is a JavaScript object where we have a
560:54 - key called rate and inside of rates is
560:57 - this object and inside of that object I
561:00 - can access the EUR property to get the
561:03 - exchange rate of one US dollar is equal
561:04 - to some number of Euros for example so
561:07 - it's inside of the rates key and then
561:09 - inside of the EUR key and that's how I
561:12 - know what to get access to inside of my
561:14 - data
561:15 - so
561:17 - what I really want to do
561:18 - is accessdata dot rates
561:23 - dot EUR that says get me all the data
561:25 - that came back access the rates key
561:28 - and then access the Euro key
561:30 - and we'll go ahead and save that in a
561:32 - variable called rate
561:35 - and now I'll just document.queryselect
561:38 - your body
561:39 - dot innerhtml equals rate just like take
561:42 - that rate put it inside of the body
561:45 - so now if I refresh currency.html
561:48 - what I see is just this value
561:51 - 0.908843 which means that right now one
561:54 - US dollar happens to be equal to about
561:56 - 0.91 Euros for instance
561:59 - so that's useful I could make this a
562:01 - little more human friendly by putting
562:03 - this inside of a template string I could
562:05 - say one US dollar is equal to and then
562:08 - rate
562:10 - Euros for example
562:12 - and so now if I refresh the page
562:14 - I see one US dollar is equal to this
562:17 - many euros and even this is a little bit
562:19 - annoying I probably don't care about it
562:21 - to this many decimal places unless I'm
562:23 - really in the mood to be very precise
562:24 - about these exchange rates if I only
562:26 - care about it to like three decimal
562:28 - places for example it turns out
562:29 - JavaScript has functions I can use on
562:31 - numbers like rate dot two fixed passing
562:35 - in three as an argument there to mean
562:37 - I'd like to take this exchange rate and
562:39 - just round it to three decimal places
562:40 - for example
562:42 - so now I refresh the page and I see one
562:44 - US dollar is equal to 0.909 euros and
562:48 - the interesting thing about what's
562:49 - Happening Here is this is happening as a
562:51 - result of an asynchronous request I am
562:53 - asking for the latest exchange rates and
562:56 - when I get back the exchange rates data
562:58 - JavaScript is plugging that information
562:59 - into the body of the page I know
563:02 - communicating with an API getting back
563:04 - that api's data in Json form and then
563:07 - using that data to update the contents
563:09 - of my HTML page
563:11 - of course in practice if I really want a
563:14 - currency exchange web page I probably
563:16 - don't just want to display the exchange
563:17 - rate between US Dollars and Euros I
563:19 - probably want to let the user pick what
563:22 - currencies they would like to exchange
563:23 - between and so here's how I might go
563:26 - about doing that
563:28 - inside of the body of the page now
563:30 - rather than just have an empty body
563:31 - let's go ahead and add a form
563:34 - that forum is going to have an input
563:35 - whose ID is currency just so I have a
563:37 - way of referencing it later the
563:39 - placeholder will just be currency and
563:41 - the type of it is text
563:43 - and then I'll have an input whose type
563:45 - is submit and we'll give it a value of
563:48 - convert that'll be what the button says
563:49 - it says convert and then I can convert
563:51 - to a particular currency
563:53 - and then I need some place to put my
563:55 - results so I'll go ahead and add a div
563:58 - whose ID is result and this is where
564:01 - after I've done all the currency
564:02 - conversion this is where I'm going to
564:04 - put the results of doing that currency
564:05 - conversion
564:07 - so now rather than fetch right away
564:10 - here's what I need to do I need to do
564:12 - something only when the form is
564:14 - submitted so I can get the form
564:16 - by saying document.queryselector form
564:19 - dot on submit equals this function and
564:23 - I'm going to go ahead and just in
564:24 - advance return false at the end of the
564:26 - function so we don't actually try and
564:28 - submit the form to another page I just
564:30 - want to run everything locally on this
564:32 - same page
564:33 - but now inside of this form once you
564:36 - submit it that is when I want to run
564:38 - this code that is going to fetch new
564:41 - data so I'm going to fetch data from the
564:43 - exchange rates API convert that data to
564:45 - Json same as before then go ahead and
564:48 - get access to that data but now what I
564:50 - want to do is I want to figure out what
564:53 - the user actually typed in to the input
564:55 - field and that is going to be the
564:57 - currency that I care about getting
564:58 - access to so I'll create a variable
565:00 - called currency
565:01 - which will be equal to document dot
565:03 - query selector and to write the input
565:05 - field if I scroll down it has an ID of
565:08 - currency so if I want to get that input
565:10 - field I'm going to say get the element
565:13 - whose ID is currency
565:15 - and get its value
565:17 - so this now is the currency that the
565:20 - user wanted me to get access to
565:23 - and I can then say data dot rates
565:27 - currency instead of
565:30 - data.rates.eur and importantly I can't
565:32 - do data.rates dot currency that would
565:34 - literally try to access a property of
565:36 - rates that is called currency if I use
565:38 - square brackets instead that allows me
565:40 - to use a variable something like the
565:42 - currency variable which are defined up
565:44 - here on line 13 as the currency that the
565:47 - user typed in I would like to access
565:49 - that particular currency inside of the
565:51 - rates
565:52 - and so now I can ask a question there
565:55 - are two possibilities here either the
565:57 - currency the user typed in is a valid
565:59 - currency or it's not and it turns out
566:02 - that if you try and access a property of
566:04 - an object that doesn't exist what you
566:06 - get back is a particular JavaScript
566:08 - variable called undefined meaning there
566:10 - is no value there so for example if I
566:13 - have something like let person equal
566:16 - first name is Harry and last name is
566:19 - Potter like we did before I can access
566:21 - something like person.first and get
566:24 - Harry I can access person.last and get
566:26 - Potter but if I access person dot middle
566:28 - that is going to be a special variable
566:31 - in JavaScript or Special Value in
566:33 - JavaScript called undefined meaning
566:35 - there is no value there
566:37 - slightly different from null which also
566:39 - has a similar meaning they're used in
566:41 - slightly different contexts so here what
566:43 - I can say is if the rate is not
566:46 - undefined
566:48 - well then let's go ahead and update
566:52 - not the body but the result
566:56 - to say one US dollar is equal to this
567:00 - rate not necessarily Euros but whatever
567:03 - the currency happens to be
567:07 - and otherwise let's go ahead and
567:10 - document.queryselector result
567:12 - dot inner HTML equals invalid currency
567:16 - just to let the user know that the
567:18 - currency they tried to provide is not
567:20 - actually a valid currency and so we're
567:22 - going to need to try a different
567:23 - currency in order to get the result to
567:25 - work
567:26 - so now here's what we can do
567:28 - if I open up currency.html again I now
567:31 - see a form where I can type in a
567:33 - currency I can type in something like
567:34 - the Euro for example press convert and I
567:37 - see all right one US dollar equal to
567:39 - 0.909 euros I type in something like the
567:41 - pound press convert one US dollar equal
567:44 - to 0.771 pounds I type in the Japanese
567:47 - Yen one US dollar is equal to 109.852
567:50 - Japanese Yen and all of this is
567:52 - happening where every time I submit the
567:54 - form it's making yet another request so
567:56 - if the exchange rates happen to change
567:58 - in between when I submit the form the
568:00 - next time I submit the form I will be
568:02 - getting the latest exchange rates
568:03 - according to that exchange rates API and
568:05 - the results are going to come back here
568:07 - and of course if I type in a currency
568:09 - that doesn't exist I type in something
568:11 - like Foo for example and press convert
568:13 - invalid currency so it's going to report
568:15 - back to me that it wasn't able to find
568:17 - that currency and so it tells me that I
568:18 - need to type in something valid and so I
568:20 - can type in something valid maybe I
568:22 - tried just US Dollars itself it tells me
568:24 - one US dollar is equal to one US dollar
568:27 - exactly what I would expect it to be
568:29 - now there are a couple of optimizations
568:31 - and improvements that we can make here
568:33 - one is that I can search for euros right
568:35 - now with EUR press convert but if I
568:37 - search for euros in lower case for
568:39 - example it turns out it thinks that's an
568:41 - invalid currency and the reason why is
568:44 - because if you look at the data that
568:46 - comes back to me from the API this is
568:48 - the data that I get back from the
568:50 - exchange rates API what you'll notice is
568:52 - that all of the currencies are all in
568:54 - capital letters they're all capital
568:55 - letters all capital letters which means
568:58 - the only keys that I'm allowed to access
568:59 - are in fact those that have capital
569:01 - letters in them because these are the
569:03 - only keys that this API makes available
569:05 - to me
569:06 - so if I want to convert between US
569:08 - Dollars and Euros lowercase what I might
569:11 - want to do is first take the currency
569:13 - the thing the user typed in and first
569:16 - just call to uppercase on it which is a
569:19 - JavaScript function that takes a string
569:21 - and converts it to uppercase I'd like to
569:23 - take whatever the user typed in and now
569:25 - just first convert it to uppercase that
569:27 - way if I go back here I can type in Euro
569:30 - lowercase press convert and I'm still
569:33 - able to get the correct conversion rate
569:36 - the other thing that we won't noticeably
569:37 - notice the difference with here is that
569:39 - right now I'm assuming that all of this
569:41 - is going to go successfully that we're
569:43 - going to successfully be able to make a
569:44 - web request we'll successfully convert
569:46 - the response back to Json but you never
569:48 - know an API could go down the API could
569:50 - change and do something unexpected and
569:52 - so anytime you're dealing with these
569:54 - types of promises where you fetch
569:55 - something and say then do this then do
569:57 - that it can often be a good idea to add
570:00 - one last case which is a a catch case
570:02 - that basically says what should you do
570:05 - if something goes wrong so I can say
570:07 - catch the error and what I can just do
570:09 - is say like console.log
570:11 - error and then log the error there and
570:15 - all that's really saying is that if
570:17 - anything above goes wrong with the
570:18 - fetching and trying to process the
570:20 - response it's going to catch the error
570:22 - and then we'll just like print out to
570:24 - the console that something went wrong
570:25 - some error message happened and so that
570:27 - can be helpful nice to have just to make
570:29 - sure that when things crash they crash
570:31 - in a predictable way that you're able to
570:32 - see exactly what the error is
570:35 - just by looking inside the JavaScript
570:37 - console and so now we have a fully
570:39 - working web page that is able to
570:41 - communicate with an external API that is
570:43 - able to ask for information from another
570:45 - service on the internet use those
570:47 - results and put them back into the page
570:49 - really just going to show the power now
570:52 - that we get by taking advantage of the
570:54 - JavaScript language we have the ability
570:56 - now to not only use JavaScript to be
570:58 - able to run code on the client where we
571:00 - weren't able to before where right
571:01 - before we only had python code that was
571:04 - running on a web server but using
571:06 - JavaScript the really powerful thing is
571:08 - now the ability to manipulate the Dom
571:09 - the ability to use JavaScript to take
571:12 - the page and change the contents of the
571:14 - Page by updating things by reading what
571:16 - happens to be on the page whether it's
571:18 - inside of a particular element or what a
571:19 - user happened to type in and using that
571:22 - in conjunction with event handlers ways
571:24 - that we can listen for when the user
571:26 - clicks on something or when the user
571:27 - Scrolls through something or when the
571:29 - user types a key to be able to respond
571:31 - and therefore make our web pages all the
571:33 - more Interactive
571:34 - next time we'll continue our discussion
571:36 - of JavaScript looking at how we can
571:38 - leverage the features of JavaScript to
571:40 - continue to build even more interesting
571:41 - and engaging user interfaces so we'll
571:43 - see you next time
571:47 - [Music]
572:04 - welcome back everyone to web programming
572:06 - with python and JavaScript and last time
572:08 - we took a look at JavaScript that
572:10 - language that ran inside of a user's web
572:12 - browser client-side and allowed us to do
572:14 - a number of things to make our web pages
572:15 - more interactive JavaScript enabled us
572:18 - to display alerts to be able to
572:20 - manipulate the Dom the structure of the
572:22 - web page in order to add content or see
572:24 - what content was already there and it
572:26 - also let us respond to user events when
572:28 - a user clicked on a button or submitted
572:30 - a form or typed something into an input
572:32 - field we could have JavaScript functions
572:34 - run that responded to those events in
572:36 - order to make our web pages more
572:38 - interactive today we're going to
572:39 - continue that conversation in particular
572:41 - taking a look at user interface design
572:43 - looking at some common paradigms in
572:45 - terms of user interfaces and how we can
572:47 - leverage JavaScript to be able to
572:49 - achieve those goals to create
572:50 - interactive user interfaces that will be
572:53 - valuable when users are interacting with
572:55 - our applications so one of the more
572:57 - common paradigms especially nowadays in
572:59 - web programming is the idea of single
573:02 - page applications thus far if we want to
573:04 - create a web application that has
573:06 - multiple different pages we've generally
573:08 - done that by multiple different routes
573:10 - in our Django web application for
573:12 - example where you go to slash something
573:14 - to get one page and slash something else
573:16 - in order to get another page
573:18 - but commonly using JavaScript we have
573:20 - the ability to create single page
573:22 - applications where the entire web page
573:23 - is really just a single page and then we
573:26 - use JavaScript to manipulate the Dom to
573:28 - replace portions of the page with things
573:30 - we want to replace and this has a number
573:32 - of advantages one of them being that we
573:34 - only need to make modifications to the
573:36 - part of the page that is actually
573:37 - changing if for example you have five
573:39 - different pages but the general layout
573:41 - and structure of the page is pretty
573:42 - similar when you switch between Pages
573:44 - rather than load an entirely new page
573:46 - you can just load the part of the page
573:48 - that is changing and this is especially
573:50 - helpful for applications that are
573:52 - changing quite frequently so let's take
573:54 - a look now at how we could Implement for
573:55 - example a very simple single page
573:57 - application so let's imagine for example
574:00 - that we want a single page application
574:02 - that just displays three different pages
574:05 - but all included in the same page I'll
574:08 - go ahead and create a new file that I'll
574:10 - call single page.html
574:12 - inside of which we'll include our usual
574:15 - HTML tags
574:19 - and inside the body of this page now I'm
574:22 - going to include three different
574:24 - sections of the page to represent the
574:25 - three different pages I might want to
574:27 - display to the user so I'll have a div
574:29 - whose ID is page one that maybe just has
574:32 - a heading that says this is page one and
574:34 - you could imagine there's more content
574:36 - on these Pages as well idea of whose ID
574:38 - is page two we'll say this is page two
574:42 - and then one final day of whose ID is
574:44 - Page Three
574:46 - it has a heading that says this is Page
574:48 - Three for example
574:49 - now right now if I were to open up
574:51 - single page.html what we'd see is we see
574:55 - all three pages at the same time and now
574:57 - that's probably not what we want what we
574:59 - really want is by default to hide these
575:00 - Pages until we want to view the pages
575:03 - one at a time for example so one thing I
575:05 - could do is use CSS to be able to toggle
575:08 - whether or not something is visible
575:09 - adding some style tags to my page to say
575:12 - that by default
575:13 - all of my divs should have a display
575:16 - property set To None meaning they're not
575:19 - visible they're not displayed on the
575:21 - screen
575:21 - now if I refresh the page I don't
575:23 - actually see any of the three headings
575:25 - that I had there before
575:26 - but what I'd really like is for some
575:28 - buttons now to allow me to toggle
575:30 - between these three pages so I'll give
575:32 - myself three buttons one button that
575:33 - says page one one button that says page
575:36 - two and one button that says page three
575:38 - for example
575:39 - and I need some mechanism for these
575:41 - buttons to know when you click on this
575:43 - button what page should be displayed so
575:46 - I'll go ahead and use data attributes
575:47 - which we saw last time with JavaScript
575:49 - to add some additional information to
575:51 - these particular HTML elements where
575:53 - I'll give the first button a data Dash
575:56 - page value of page one the second one a
575:59 - data Dash page value of page two and the
576:02 - third one a data Dash page value of Page
576:04 - Three here again just providing
576:06 - information so that later when I write
576:08 - some JavaScript I can have the
576:10 - JavaScript code look at the data Dash
576:12 - page attribute to say that when you
576:14 - click on this button you should let me
576:16 - see the div whose ID is page one that's
576:18 - what this is going to allow us to signal
576:21 - so now let's go ahead and write that
576:24 - JavaScript
576:25 - what I want to be able to do is to be
576:27 - able to say I would like to show page
576:29 - one and hide the other two or show page
576:31 - two and hide the other two or show page
576:32 - three for example and so to do that I'll
576:35 - first write a function that will let me
576:36 - do that I'll write a function called
576:38 - show page that takes us its argument
576:40 - like what page I want to show
576:42 - and so what should this function do
576:45 - what we're going to do is we're going to
576:46 - say document.queryselector and I want to
576:49 - get the thing that has a particular ID
576:51 - the ID of whatever this input happens to
576:54 - be this page is going to represent the
576:56 - ID of the div that I want to show so
576:58 - I'll say get me the thing that has this
577:00 - ID and then using a template literal
577:02 - I'll say all right get me the ID of page
577:05 - whatever element has that particular ID
577:08 - and then I'd like to change its style
577:10 - property which part of the style well I
577:12 - want to change its display property and
577:14 - instead of none which was the default
577:16 - here where I said don't don't show it at
577:18 - all the other option for a div is block
577:20 - meaning it shows up as just a block that
577:22 - is on the page that is actually visible
577:25 - and so now I have this show page
577:27 - function and I can test it in fact if I
577:29 - go into my browser refresh the page I
577:32 - now see three buttons the buttons don't
577:33 - do anything just yet
577:35 - but what I can do is in the console if I
577:37 - actually just try running this I can run
577:39 - the show page function and say like show
577:41 - page page one for example press return
577:43 - and all right page one now appears on my
577:46 - page and if I rest show page page two
577:48 - then page two will become visible and
577:51 - all right that did half of what I wanted
577:53 - page two is now visible but so is page
577:55 - one so I probably want it such that if I
577:58 - ever show a page I hide the other Pages
578:00 - first like hide all the pages and then
578:02 - show page two or hide all the pages and
578:04 - then show page three so how could I go
578:06 - about doing that
578:08 - well first I might want to just when I
578:10 - show a page first hide all of the other
578:12 - Pages hide all the pages so to get all
578:14 - the pages I'll do document.queryselector
578:17 - all
578:18 - get all of the divs which is what I'm
578:20 - using to include and close the pages
578:22 - and now for each one of those again
578:25 - effectively creating a loop where I'm
578:27 - looping over each of the divs for each
578:29 - div let's go ahead and set the div.style
578:32 - dot display property equal to none
578:36 - and so what this show page function is
578:38 - now doing is it is first querying for
578:40 - all of the divs which are simulating my
578:42 - pages inside of the single page
578:44 - application and for each one of the divs
578:46 - we're going to pass it as input into
578:48 - this function which is the argument to
578:50 - for each again using this Arrow function
578:52 - notation which is just a shorthand way
578:54 - of expressing a function where I'm here
578:56 - saying that for each of the divs we'll
578:58 - go ahead and modify its style property
578:59 - setting display equal to none meaning
579:02 - don't show any of the divs and then show
579:05 - only the div that was requested so now
579:08 - this should solve the problem of
579:09 - multiple Pages appearing simultaneously
579:11 - that if I go back to this page and I
579:14 - click or write show page page one
579:17 - then page one appears but if I run show
579:20 - page of page 2
579:22 - then page two appears but page one
579:24 - disappears and likewise when I show page
579:26 - page three that shows page three but not
579:30 - the other two so I can manipulate which
579:32 - page is visible all via the console but
579:35 - now what I'd like to do is get these
579:36 - buttons to actually work where if I
579:37 - click on one of the buttons that has the
579:39 - effect of actually displaying the
579:41 - requested page
579:43 - so in order to do that well I want to
579:45 - attach some event listeners to these
579:47 - buttons which means I need to wait until
579:48 - those buttons have loaded onto the page
579:50 - so we'll use document dot add event
579:53 - listener
579:55 - Dom content loaded again waiting until
579:57 - all of the content on the page has been
579:59 - loaded
580:00 - and then and only then
580:02 - will I say
580:03 - let's go ahead and query selector all
580:05 - for all of the buttons
580:08 - and for each one of those buttons let's
580:10 - go ahead and attach an event listener to
580:12 - each of those buttons so I'm querying
580:14 - for all of the buttons and saying for
580:16 - each of the buttons I would like to do
580:18 - this with each button and what I'd like
580:19 - to do is say button dot on click when
580:22 - the button is clicked on
580:24 - go ahead and run this function I'd like
580:26 - to show page and which page do I want to
580:29 - show well I want to show whatever page
580:30 - is in the page part of the buttons data
580:33 - set and to get it the current button the
580:36 - button that has been clicked on recall
580:38 - that when we're inside of an event
580:39 - handler we can take advantage of the
580:41 - JavaScript keyword this which refers to
580:43 - whatever element has received the event
580:45 - so whatever button in this case that was
580:47 - clicked on so I can say this dot dataset
580:50 - dot page to mean that all right for each
580:53 - of the buttons when the button is
580:54 - clicked on we're saying button dot on
580:56 - click for each of the buttons run this
580:58 - function when the button is clicked we'd
581:00 - like to show a page which page do we
581:02 - want to show we'll take this button the
581:04 - button that received the event
581:06 - access its data properties accesses Data
581:09 - Page attribute which are down here
581:10 - either page 1 or page two or page three
581:13 - and go ahead and just call the show page
581:16 - function that we wrote a moment ago
581:19 - so now that we've done that we've
581:20 - attached these event handlers to the
581:23 - buttons so now if I refresh the page I
581:25 - can click on these buttons and toggle
581:27 - between any of the three pages
581:30 - and now the interesting thing here is
581:32 - that we now have the ability to just in
581:34 - a single page allow myself to simulate
581:36 - the idea of having multiple Pages all
581:39 - enclosed in a single HTML file but not
581:41 - needing to consistently make additional
581:43 - requests to a server in order to get
581:45 - access to that information
581:46 - now sometimes though it might be
581:48 - reasonable to want to reach out to a
581:50 - server when you need new information for
581:52 - a page for example you might imagine
581:53 - that each of these Pages contains a lot
581:55 - of text it's going to be inefficient if
581:58 - immediately we're loading all of that
581:59 - data into HTML and just showing and
582:02 - hiding them when we need to because
582:03 - maybe we're loading more information
582:05 - than the user is ever going to actually
582:06 - care about if they're never going to
582:07 - look at page 2 or page 3. so one thing
582:10 - we might imagine doing is loading this
582:12 - data dynamically last time when we were
582:15 - talking about JavaScript we saw how we
582:16 - could use fetch to say go ahead and
582:19 - request some additional information from
582:20 - a web server last time it was currency
582:22 - exchange rates but then we used that
582:24 - data that came back in order to fill in
582:26 - something onto our page and likewise we
582:29 - could do a similar thing here that if we
582:31 - have the general structure of a single
582:33 - page and we want to load new content
582:35 - rather than load entirely new HTML
582:38 - content and reload the entire page we
582:40 - can just ask our own web server for what
582:43 - part of the page needs to change and
582:45 - then just replace that part of the page
582:48 - and so that's what we'll take a look at
582:50 - now now combining Django for our web
582:52 - server and JavaScript for writing the
582:54 - client-side code to be able to generate
582:56 - a single page application and so for
582:59 - this we'll go ahead and go into an
583:00 - example I had in advance called single
583:02 - page one and inside of single page one
583:05 - this is just a Django application with a
583:07 - single app called single page and what
583:09 - we'll notice is we'll go to the URLs
583:11 - first
583:12 - there are two URLs one default URL that
583:15 - just loads the index function and then a
583:17 - URL for loading different like sections
583:19 - of a page that I might want to
583:20 - dynamically load for example so I have
583:22 - section slash some particular number
583:25 - and if we look at the views for what it
583:26 - is these URLs are actually doing the
583:28 - index function just returns index.html
583:32 - and then what the section function does
583:33 - is it first make sure the number is
583:35 - between one and three and if so responds
583:38 - with one of these just strings of text
583:40 - for example
583:42 - so how does this actually work if I go
583:44 - into
583:46 - a single page one
583:47 - and run the server
583:50 - if I go to this URL slash section one
583:54 - for example what I get is this block of
583:57 - text and if I go to slash section two I
584:00 - get that block of text section three a
584:03 - different block of text altogether so
584:04 - just different text and I'd like to
584:06 - incorporate this text into an existing
584:09 - HTML page for instance
584:11 - so here I'll go into index.html this
584:14 - template that gets loaded when I go to
584:16 - the default route
584:18 - and inside of index.html
584:20 - what we'll see
584:22 - is I have a show section function that
584:25 - behaves very similar to the show page
584:27 - function we saw from a moment ago but
584:29 - instead what show section is going to do
584:31 - is it's going to fetch what text I
584:34 - should display on the page from my own
584:36 - web server I'm fetching from slash
584:38 - sections slash fill in a number here
584:41 - number like one or two or three when I
584:43 - get the response in the past we've seen
584:45 - how we can convert that response into
584:47 - Json data if it's some structured data
584:49 - we can also just convert the response
584:51 - into plain text then I'll take that text
584:54 - console.log it just so we can see it in
584:56 - the log output but then go ahead and
584:58 - query select for the content of the page
585:00 - something that has an ID of content
585:02 - update its inner HTML and set it equal
585:04 - to that text so what this entire
585:06 - function is now doing is it is going to
585:09 - reach out to my server figure out what
585:11 - text content belongs in the new section
585:13 - and fill in the part of my page
585:15 - accordingly with the text that comes
585:18 - back from that HTTP request
585:20 - and then down further below inside of
585:22 - the page we'll see that I have a Hello
585:25 - heading three buttons that toggle
585:27 - between the different sections each of
585:29 - them has a data Dash section attribute
585:31 - this time for which section should be
585:33 - loaded and then a div that is initially
585:35 - blank just for the content of the page
585:39 - so putting this all together now
585:41 - if I go to the default route I see Hello
585:43 - plus three buttons to give me a choice
585:45 - between three different sections and if
585:47 - I click section one what's going to
585:49 - happen is Javascript is going to query
585:50 - slash section one ask for the text it
585:54 - gets that text back and it's going to
585:56 - fill it in into the page section one
585:58 - section two and section three so very
586:01 - similar to before but unlike what we had
586:03 - before where all of the text was being
586:05 - loaded into the HTML page all at once
586:07 - now we're using asynchronous JavaScript
586:10 - to only dynamically load information
586:12 - when we need it when we click on a
586:14 - section then it's going to make the
586:15 - request for what content needs to be
586:16 - filled in and it's going to fill it in
586:18 - and everything else these buttons this
586:20 - heading and you might imagine in a more
586:22 - complex website you've got a lot more
586:24 - going on around the edges of this web
586:25 - page all of that stays the same we don't
586:28 - need to reload any of that information
586:29 - we're only reloading the portion of the
586:32 - page that actually changes as we toggle
586:34 - between these various different section
586:36 - headings
586:37 - now this seems to be an advantage in
586:39 - some ways that maybe we can be more
586:40 - efficient about how we run our single
586:42 - page applications like this one thing we
586:44 - seem to lose though is the notion of
586:46 - maintaining State inside of the URL that
586:49 - generally the URL gives you an
586:51 - indication for what page you're on
586:53 - you're on something like slash one if
586:55 - you're on section one or slash two if
586:57 - you're on section two slash three for
586:58 - section three but of course we're
587:00 - staying on the same page in all of these
587:02 - examples whenever I click a button
587:03 - section one or two or three the URL is
587:06 - never changing the URL stays the same it
587:08 - turns out there's a way in JavaScript to
587:10 - manipulate that URL taking advantage of
587:13 - what's known as the JavaScript history
587:14 - API where I can push something to the
587:17 - history meaning update the URL and
587:20 - actually save that inside the user's
587:21 - browser history so later on they could
587:24 - potentially go back to that
587:25 - and to do that I'll show you yet another
587:27 - example inside of a single page two
587:30 - which is very similar except inside of
587:33 - index.html I've added a couple
587:35 - additional things
587:37 - one is that when I click on a button
587:39 - meaning when I click on Section 1 or
587:41 - section 2 or Section 3 I've added this
587:44 - line here
587:45 - history.push State when history.push
587:48 - state is going to do is it is going to
587:50 - basically add a new element to my
587:52 - browsing history where I first specify
587:54 - any data associated with the state so in
587:57 - particular I'm storing a JavaScript
587:59 - object representing what section number
588:01 - is being represented here next is a
588:04 - title parameter that most web browsers
588:05 - actually ignore so that can generally be
588:07 - the empty string but the third argument
588:09 - here is what should go in the URL and
588:11 - what I want to go in the URL in this
588:13 - case is something like section followed
588:15 - by the section number so I can go to
588:16 - slash section one or slash section two
588:19 - or slash Section 3 for instance and
588:21 - those will appear in the URL bar when I
588:24 - click on a different page
588:26 - then what I want to be able to support
588:27 - is the ability to say when I go back
588:30 - through my history if I click the back
588:31 - button in my web browser I'd like to go
588:33 - back from section 3 to section two if
588:36 - that was the page I visited previously
588:37 - and then it turns out to be an event
588:39 - handler for that as well window dot on
588:42 - pop State meaning when I pop something
588:45 - off of the history like go back in my
588:46 - history
588:48 - we have the ability to take some event
588:50 - as an argument and if you look at
588:52 - event.state.section which I've
588:54 - run console.log on so we can take a look
588:56 - at it in a moment we'll see what state
588:59 - was stored associated with that part of
589:01 - the user's history and I can go ahead
589:03 - and show that section
589:05 - so all in all when I run this web
589:06 - application going into single page two
589:09 - this time
589:11 - when I run the server
589:15 - I see Hello three sections for buttons
589:17 - when I click on one of those buttons not
589:19 - only do I see text but I also see in the
589:22 - URL bar that I'm now on slash section
589:24 - one that has been pushed onto my history
589:26 - and I've updated the URL to reflect that
589:28 - too I click section two that updates the
589:31 - URL as well Section 3 updates the URL
589:33 - too and when I've pushed things onto my
589:35 - history I've Associated some state with
589:38 - them so that I can go back if I ever
589:40 - need to and in fact if I open up the
589:41 - JavaScript console now and I go back for
589:44 - example back to section two what you'll
589:47 - see is that what gets logged is the
589:49 - number two when I print out like what is
589:51 - the current section that's associated
589:53 - with this URL it's saving that state
589:55 - that I should be loading section number
589:57 - two and so it does load section number
589:59 - two here
590:01 - so there's certainly nothing wrong with
590:03 - the original Paradigm of just loading
590:05 - different pages dynamically using Django
590:07 - like make a request and get a response
590:09 - but oftentimes as you begin to imagine
590:10 - applications where a lot of things are
590:12 - changing on the same page simultaneously
590:14 - you might imagine social networking
590:16 - websites where a lot of things stay the
590:17 - same but new posts might be added and
590:19 - you might be looking at different parts
590:20 - of the same page being able to
590:22 - dynamically load information request
590:24 - additional information and then display
590:26 - it on the page can actually be quite
590:28 - powerful a way to make your web pages a
590:30 - little bit more Interactive so that then
590:33 - is how we might build single page
590:35 - applications taking advantage of
590:36 - JavaScript to asynchronously load new
590:38 - data and then taking advantage of this
590:40 - history API that let us add things to
590:43 - the URL add things to the user's
590:44 - browsing history such that we could go
590:46 - back to them later by listening for
590:48 - window dot on pop State and it turns out
590:50 - that window object that we get access to
590:52 - in JavaScript is quite powerful it
590:54 - represents the physical window on the
590:56 - computer screen that displays all of
590:59 - their web content and there are certain
591:01 - properties of that window we can look at
591:02 - that allow us to enable some interesting
591:04 - features so for example your window is
591:07 - really described by what the user
591:08 - actually sees inside of their window in
591:10 - Google Chrome or Safari or whatever web
591:12 - browser they happen to be using and
591:14 - there are a couple of properties that
591:15 - might be of use something like
591:16 - window.inner width will represent how
591:20 - wide is the window which might be useful
591:22 - to know to know like the size of the
591:23 - user's screen for example to know how
591:25 - many pixels wide the window happens to
591:27 - be and just as there's a window.inter
591:29 - with there's also a window.inner height
591:31 - that represents
591:33 - the height of the window as well now
591:36 - window represents the physical part that
591:37 - they're actually seeing we've also seen
591:39 - another variable that JavaScript gives
591:41 - us access to and that is this document
591:43 - object so what is the difference between
591:44 - the window and the document well the
591:47 - document generally represents the entire
591:48 - web page but if web pages are long
591:51 - oftentimes the web page doesn't fit
591:53 - entirely inside of the window that you
591:55 - generally have to scroll through an
591:57 - entire web page and the windows only
591:59 - showing you one portion of that page in
592:01 - any given time so you can represent the
592:03 - document as like this big vertical
592:05 - section that goes beyond the window
592:06 - there might be part of the document that
592:08 - is above the window part of the document
592:10 - that is below the window as well
592:13 - so window.scroll Y is another variable
592:16 - you have access to on the window and
592:18 - window.scroll Y represents how many
592:20 - pixels far down have you scrolled so if
592:22 - you're at the top of the page
592:23 - window.scroll Y is zero you haven't
592:25 - scrolled at all but as you begin to
592:27 - scroll if you want to know how far the
592:29 - user has scrolled on a page you can look
592:31 - at window.scroll y to figure out the
592:34 - number of pixels the user has scrolled
592:36 - in the y direction the up and down
592:38 - Direction
592:39 - and the entire height of the page is
592:42 - represented in
592:44 - document.body.offset height that
592:46 - represents how tall the entire height of
592:48 - the document is and we talk about all
592:50 - this in addition to things like
592:51 - window.inner height and window.inter
592:53 - with because using all of these values
592:55 - together you can begin to do some
592:57 - interesting calculations so one thing
592:59 - you might want to detect for example is
593:01 - has the user scrolled down to the bottom
593:04 - of the page or not that might be
593:06 - something you care about knowing and it
593:07 - turns out there isn't an event listener
593:08 - that does this automatically but we can
593:10 - calculate it in order to try and figure
593:12 - this out if inner height is the height
593:14 - of the window scroll y is how far
593:17 - vertically the user has scrolled and
593:19 - document body offset height is the
593:22 - entire height of the document you can
593:23 - ask yourself what needs to be true if
593:26 - the user has scrolled to the bottom of
593:28 - the page
593:29 - and well if the user is scrolled to the
593:30 - bottom of the page well then scroll why
593:34 - plus the inner height meaning the amount
593:36 - they've scrolled plus the height of the
593:38 - window that must be at least or equal to
593:40 - document body offset height meaning the
593:43 - amount that they scrolled plus the
593:44 - window takes you down to the bottom of
593:46 - the page to the end of the page to
593:48 - whoever tall the document happens to be
593:50 - and using that mathematical comparison
593:52 - we can actually detect when the user has
593:55 - reached the bottom of the page and we
593:58 - can actually try and now put that into
593:59 - practice so I'll go ahead and open up an
594:01 - example that I have here
594:03 - called scroll.html and all scroll.html
594:07 - has right now is 100 paragraphs inside
594:10 - of the body tag I have a p for paragraph
594:12 - paragraph one paragraph two so on and so
594:15 - forth I have 100 paragraphs inside of
594:18 - the body of this HTML page and that's
594:20 - all that really is there right now such
594:23 - that now if I go ahead and open scroll
594:26 - dot HTML
594:28 - I see that I have 100 paragraphs that I
594:32 - can scroll through and what I might like
594:34 - to do is detect when I've reached the
594:36 - bottom of the page and maybe do
594:37 - something when I do so something like
594:39 - change the color of the page for
594:42 - instance so how might I go about doing
594:43 - that well I'm going to need some
594:45 - JavaScript so I'm going to add some
594:46 - JavaScript
594:48 - and I'll add an event listener for
594:50 - window dot on scroll on scrolling is an
594:52 - event that listens for when I'm
594:54 - scrolling through the window
594:57 - and when I scroll through the window
594:58 - we'll go ahead and run this function
595:00 - I'll just use an arrow function as a
595:01 - shorthand here
595:03 - what do I want to calculate well I want
595:04 - to calculate if
595:06 - window.inner height meaning the height
595:08 - of the window itself
595:10 - plus window dot scroll y meaning the
595:12 - amount that I've scrolled if that is
595:16 - at least document.body dot offset height
595:20 - well that means I must have scrolled to
595:22 - the bottom of the page or maybe even a
595:23 - little bit further if there's a little
595:24 - wiggle room to scroll past the end of
595:26 - the page so if this is true
595:28 - well then I've reached the end of the
595:30 - page
595:30 - and then we'll go ahead and say
595:33 - document.queryselector body and let's go
595:36 - ahead and change its style in particular
595:38 - change its background color
595:40 - and change the background color to Green
595:43 - otherwise if we haven't reached the end
595:44 - of the page then we'll take the body of
595:47 - the page
595:49 - and change its background color to white
595:53 - so what we're now doing here is taking
595:54 - advantage of the properties we know of
595:57 - this window object saying when we scroll
595:58 - the window let's check to see if we add
596:01 - this up and at least the height of the
596:03 - entire document we've reached the end of
596:05 - the page go ahead and change the style
596:06 - of the background to the body
596:08 - accordingly otherwise change the
596:10 - background to white or leave it at White
596:12 - if it already is
596:13 - so now if I take a look at this actual
596:15 - HTML page and reload scroll.html we'll
596:19 - see that the background is initially
596:20 - white but as I scroll down once I reach
596:23 - the bottom
596:24 - we'll see that the page changes to Green
596:26 - it's white before I reach the bottom but
596:28 - as soon as I get to the bottom of the
596:30 - page it turns to green and the reason
596:32 - why is because the height of the window
596:34 - height of the window here plus however
596:36 - much I've already scrolled from the top
596:38 - of the page up until now that together
596:40 - is equal to the entire height of the
596:42 - document which means we're able to
596:43 - detect the fact that I reached the end
596:45 - of the page and as a result we can
596:46 - change the color of the background to
596:48 - Green
596:49 - now this in itself is not a particularly
596:51 - practical use of detecting when we
596:53 - scroll to the end of something we
596:55 - probably don't usually care about
596:56 - changing the background color when you
596:57 - reach the end of the page but there
596:59 - actually are real applications and you
597:01 - might imagine this in the context of
597:03 - websites that allow for things like
597:04 - infinite scroll but if you're on a
597:06 - social networking site that has a whole
597:07 - bunch of posts you scroll to the bottom
597:09 - of the list of posts and then it
597:11 - generates the new set of posts as well
597:13 - or you're looking at news articles and
597:14 - you're scrolling through news articles
597:15 - and once you reach the bottom it'll load
597:18 - a whole new set of news articles without
597:19 - you having to go to another page how is
597:22 - it doing that well it's a combination of
597:24 - the same types of ideas that we've been
597:25 - talking about number one the ability to
597:27 - detect when you've reached the end of
597:29 - the page using JavaScript to detect that
597:31 - you're at the bottom of the page and
597:33 - number two to be able to asynchronously
597:35 - load using JavaScript load additional
597:37 - content fetch some additional page that
597:40 - has some additional content some
597:41 - additional news articles some additional
597:43 - posts and whatnot and then take that
597:45 - information and manipulate the Dom to
597:47 - add that information to the existing web
597:50 - page and that ultimately is what's going
597:52 - to give us this power
597:53 - to be able to support something like
597:55 - infinite scroll
597:57 - so let's now go ahead and try and see
597:59 - what it would look like to implement
598:01 - infinite scroll I've already started to
598:03 - create a sample application inside of
598:05 - this application called scroll and I've
598:07 - got an app called posts inside of it and
598:10 - what the posts app does is it's got a
598:12 - couple of URLs it's got a default URL
598:15 - that just loads an index route and then
598:17 - a post route that loads this posts view
598:21 - and so let's look at what these do
598:23 - index all it does is going to load a
598:25 - file called index.html this template
598:28 - and if I make a request to slash posts I
598:30 - need to provide two arguments
598:33 - I need to provide a start for what post
598:35 - I want to start with an N for what post
598:37 - I want to end with and then it's just
598:39 - going to generate some sample posts that
598:41 - just say like Post Number One post
598:42 - number two so on and so forth in
598:44 - practice you could actually use social
598:45 - network posts in place of this but this
598:48 - is good just for demonstration purposes
598:50 - so what this is going to do if I go into
598:53 - scroll and run server
599:00 - is that if I go to slash post and say
599:02 - start equals one and end equals 10 for
599:06 - example
599:07 - then I get a JavaScript object that
599:10 - looks like this recall that a JavaScript
599:12 - object is just a convenient format for
599:14 - passing information back and forth in
599:16 - Json format and what we have here is a
599:18 - Json object with a key called posts that
599:21 - gives me all of the posts Post Number
599:22 - One Post Number Two all the way up to
599:24 - number 10 and it's giving me those posts
599:26 - because I said start at one end at 10.
599:28 - but I could have specified other numbers
599:30 - as well if I had said something like uh
599:33 - start at 20 and go to 28 then it's going
599:35 - to give me post number 20 through post
599:37 - number 28. I can specify the range of
599:39 - posts that I want so this now is an API
599:43 - that I have implemented effectively that
599:45 - allows someone to get access to a
599:47 - variety of different posts by hitting
599:49 - this particular URL this endpoint so to
599:51 - speak and passing in parameters passing
599:53 - in what posts they want to start with
599:55 - and what posts they want to end with and
599:57 - then they get all of this data back
600:00 - presented to them in Json format that
600:02 - can then be used
600:03 - and what's nice about this is that now
600:05 - when we're loading posts rather than
600:07 - have to just guess at how many posts we
600:08 - need to load and then require someone to
600:10 - go to another page we can just do
600:12 - something like load the first 20 posts
600:14 - and now what we'd like to do is if they
600:16 - reach the end of the page go ahead and
600:18 - load the next 20 posts by hitting this
600:20 - API endpoint getting the next 20 posts
600:23 - and then filling that in into the HTML
600:26 - page so let's see now how that actually
600:28 - works in practice by taking a look at
600:31 - that template in index.html
600:34 - so go into templates
600:36 - index.html and there's a fair bit of
600:38 - JavaScript here but look at the body
600:40 - first the body just have a has a div for
600:42 - all the posts that initially is going to
600:45 - be empty
600:46 - now here's what the JavaScript is going
600:47 - to do and we'll walk through it
600:49 - we start with the first post so counter
600:51 - is going to keep track of what post we
600:53 - need to load next by default we're just
600:55 - going to start by loading Post Number
600:56 - One
600:57 - we have a variable called quantity
600:58 - that's going to tell us how many posts
601:00 - are we going to load at a time let's
601:01 - just say load 20 posts at a time so
601:03 - start with 1 to 20 then 21 to 40 41 to
601:05 - 60 so on and so forth
601:08 - and when Dom content is loaded go ahead
601:11 - and just call this function that's
601:13 - called load and what the load function
601:15 - does is it figures out what the start
601:17 - and end should be it fetches all the new
601:20 - posts and then for each of the posts
601:23 - that comes back is it figures out what
601:25 - this so asynchronously asking for new
601:28 - posts and what the ad post function does
601:30 - is it creates a new div populates the
601:32 - post inside of it and adds it to the Dom
601:36 - so now that we have these parts the
601:38 - ability to load new posts as by fetching
601:40 - from some URL all the posts that we care
601:42 - about and then for each of those posts
601:44 - that comes back add something new to the
601:46 - Dom as by creating a new HTML element
601:48 - and inserting it into the page we have
601:51 - the ability to dynamically load all of
601:53 - these posts so if I go not to slash
601:55 - posts but just to this default route
601:58 - I'll see that we have something like 20
602:02 - posts that all show up but just 20 posts
602:05 - because every time I call the load
602:09 - function that is going to load the next
602:11 - set of posts for example and so what I
602:13 - can do is in the console if I try
602:16 - running the load function just by
602:17 - calling it myself press return after a
602:21 - second or so the next set of posts show
602:22 - up 21 all the way through 40. I call
602:25 - load again the next set of posts show up
602:27 - 41 through 60. 20 posts at a time all
602:31 - using that asynchronous JavaScript
602:34 - but now what I'd like to happen is for
602:36 - all this to happen on its own without me
602:37 - having to intervene and manually write
602:39 - JavaScript calls I would just like to
602:41 - say
602:42 - well the same type of logic as before
602:44 - window.el and scroll
602:46 - let's go ahead and say if window.inner
602:48 - height plus window.scroll y is at least
602:53 - document.body.offset height meaning if I
602:55 - have scrolled to the end of the page
602:57 - well then
602:59 - just go ahead and call the load function
603:02 - that's all these lines are doing every
603:03 - time I scroll we check did we scroll to
603:05 - the end of the page and if we did scroll
603:07 - to the end of the page then go ahead and
603:09 - load the next set of posts
603:12 - so now
603:13 - I refresh the page
603:15 - I see post one all the way up through
603:18 - post 20. now watch what happens when I
603:20 - get to post 20 if I scroll to the bottom
603:22 - after a second the next set of posts
603:24 - appears I scroll to the bottom again I'm
603:26 - at 40 and then after a second the next
603:28 - set appears every time I scroll to the
603:29 - bottom more posts are going to load
603:31 - after that allowing you to effectively
603:33 - implement this idea of infinite
603:36 - scrolling by taking advantage of some
603:38 - JavaScript techniques where I can check
603:39 - for when I've got to the end of the page
603:41 - and then dynamically do something as a
603:43 - result of that something like load some
603:45 - additional Pages onto the screen
603:48 - and so here too a lot of power to be had
603:50 - inside of JavaScript and a lot of where
603:52 - the power of user interface comes from
603:54 - is from how it is that the user
603:56 - interface interacts with the user
603:58 - thinking about what the user is going to
604:00 - do and how the page should interact as a
604:02 - result something like user Scrolls to
604:04 - the end of the page and they see some
604:06 - new pages show up as well and one
604:08 - Technique we can use for just making
604:09 - HTML elements a little more responsive a
604:12 - little bit more interesting is by adding
604:14 - some animation to them as well the
604:16 - ability for things to move around and
604:18 - change their properties in some way and
604:20 - it turns out that CSS has support for
604:22 - animation CSS has already given us
604:24 - support for things like styling elements
604:26 - saying we want this element to be of
604:28 - this color and this size for example but
604:30 - it also gives us the ability to animate
604:32 - those properties as well to change the
604:34 - size of something or change the position
604:35 - of something over some amount of time
604:38 - and so let's now take a look at an
604:40 - example of what that might actually look
604:42 - like I'll go ahead and create a new file
604:44 - and I'll call it
604:47 - animate.html and inside of animate.html
604:50 - I'll go ahead and start by including
604:54 - our usual HTML
604:56 - title is animate
605:00 - and what I'd like to do is just add a
605:02 - little bit of Animation using CSS into
605:05 - this particular page I'm going to start
605:06 - with just a heading a heading that says
605:08 - something like
605:10 - welcome for example it's just going to
605:12 - display a welcome message such that now
605:14 - if I open
605:17 - animate.html
605:19 - here's what I see just a message that
605:21 - says welcome
605:23 - but now let's add some CSS to it
605:25 - let's go into the style tag
605:28 - and for H1 for this heading I'd like to
605:31 - apply a particular animation to it and I
605:33 - first need to specify what the
605:35 - animation's name is going to be
605:38 - and I can pick a name for the animation
605:39 - I'll say something like grow for example
605:43 - I'll set the animations duration to be
605:46 - two seconds
605:47 - and then the animation fill mode is like
605:49 - what direction should the animation move
605:51 - in should it go forwards or should it go
605:52 - backwards well generally want our
605:53 - animations to go forward so they're
605:55 - making some sort of forward progress
605:56 - According to some rules that we're going
605:58 - to specify so here I'm saying we're
606:00 - going to animate all of our headings
606:02 - using an animation called grow and now I
606:05 - need to Define what that animation
606:06 - actually does and to do that up above in
606:08 - style I'm going to say at keyframes grow
606:13 - and what this is going to allow me to do
606:14 - is specify some key frames for this
606:18 - particular element meaning where should
606:19 - the element start what should its style
606:21 - properties be and then at the end what
606:24 - should the style properties be and CSS
606:26 - is going to take care of the process of
606:28 - figuring out what needs to happen in all
606:29 - those intermediary fractions of seconds
606:31 - for example
606:32 - so what I can say is something like go
606:34 - ahead and grow from meaning what should
606:36 - its initial properties be and maybe
606:38 - initially I wanted to have a font size
606:40 - of 20 pixels and then we'll say 2
606:44 - font size of 100 pixels for example
606:47 - so all in all what this is saying is I
606:50 - would like to apply an animation called
606:52 - grow to all of my headings this
606:54 - animation should last two seconds and go
606:56 - forwards and what is the grow animation
606:58 - going to do well it's going to mean at
606:59 - the start anything that obeys the grow
607:01 - animation we'll start with a font size
607:03 - of 20 pixels and at the end it will grow
607:05 - to a font size of 100 pixels and I have
607:09 - now defined what it is that that
607:10 - animation means
607:12 - so now if I go ahead and refresh this
607:15 - page animate.html
607:17 - you'll see that welcome changes size
607:19 - over the course of two seconds it goes
607:21 - from smaller to larger by obeying those
607:23 - keyframes I told it to obey this
607:25 - particular step a set of instructions
607:27 - where it goes from a particular font
607:29 - size to another font size and as a
607:31 - result we see the effect here on the
607:33 - page and it turns out you can do more
607:35 - than just manipulate size you can
607:37 - manipulate just about any CSS property
607:39 - you want so if I tell the heading that
607:42 - it should have a relative position
607:44 - meaning its position should be relative
607:46 - to other elements or other things and
607:48 - it's parent I can say you should change
607:50 - your position from being zero percent
607:54 - away from the left side of the screen
607:56 - to being
607:58 - 50 of the way from the left side of the
608:00 - screen
608:01 - and at this point grow is probably not
608:03 - the best name for this animation I'll
608:04 - call it move instead so animation name
608:06 - is move and so now what this animation
608:08 - is going to do is it's going to say when
608:10 - you run the animation go from being
608:12 - right next to the left side of the
608:14 - screen to being about 50 away from the
608:17 - left side of the screen
608:19 - so I can go ahead and rerun this
608:23 - and we see that's the animation that
608:25 - takes place it goes from the left all
608:27 - the way back up to about halfway across
608:30 - the screen refresh the page and it goes
608:32 - ahead and does the exact same thing and
608:34 - it turns out we don't just need to
608:36 - specify a beginning point and an end
608:38 - point for an animation we can specify
608:40 - various different keyframes for
608:42 - different points within the animation
608:43 - that we would like to capture something
608:45 - like at the beginning of the animation
608:46 - have this set of CSS properties maybe
608:49 - halfway through the animation have a
608:50 - different set of CSS properties and then
608:52 - at the very end have yet another set of
608:54 - CSS properties so I could say something
608:56 - like if I want the heading not just to
608:58 - move from left to right but also to move
609:00 - back again I can say at the beginning at
609:03 - the zero percent point when you're zero
609:05 - percent of the way through the animation
609:06 - you should be zero percent away from the
609:08 - left hand side
609:09 - when you're 50 of the way through the
609:11 - animation you should be 50 away from the
609:14 - left hand side and then when you're done
609:15 - with the animation 100 of the way
609:17 - through let's go back to zero percent
609:20 - away from the left hand side I now have
609:22 - three keyframes beginning of the
609:24 - animation middle of the animation back
609:26 - to the beginning of the animation again
609:27 - and the effect of this is if I refresh
609:29 - the page we go to the right and then we
609:32 - go back we're able to move One Direction
609:33 - and then move back
609:36 - and there are other properties we can
609:38 - use to manipulate these animations as
609:39 - well I can set the animation iteration
609:42 - count for example to two to mean rather
609:45 - than just do the animation once and then
609:46 - stop do the animation twice and then
609:49 - stop so refresh it goes to the right and
609:51 - then it goes left and then it repeats
609:53 - that a second time and it turns out if
609:55 - you really want you can set this to
609:57 - infinite to mean never stop performing
610:00 - that animation it's consistently going
610:01 - to have this heading move to the right
610:03 - and then move left according to those
610:05 - keyframes that I've specified and so if
610:07 - you ever see things moving around on a
610:09 - page interactive in some way there are a
610:11 - number of ways to do it you can animate
610:12 - things using JavaScript for example but
610:15 - there are many cases where CSS alone is
610:17 - pretty good at just creating these types
610:19 - of animations and while this animation
610:21 - right now is just running forever we
610:23 - could use JavaScript in order to control
610:25 - that animation as well so let's see an
610:28 - example of what that would look like
610:30 - I'll go back here in the body of the
610:32 - page in addition to a heading that says
610:34 - welcome I'll go ahead and add a button
610:36 - that just says
610:39 - click here for example
610:41 - and now what I'll do is add a little bit
610:43 - of JavaScript
610:45 - I'm going to add some JavaScript so that
610:46 - the button can now control the animation
610:49 - decide when the animation is going to
610:51 - start and stop
610:52 - and so what we'll do inside of the
610:54 - script is to First say document.ad event
610:57 - listener
610:59 - Dom content loaded meaning wait until
611:01 - the Dom is done loading as we've done
611:03 - before
611:04 - and let me now get that H1 element
611:07 - document.queryselector
611:09 - H1
611:12 - and initially I'm going to set its style
611:15 - dot animation playstate equal to
611:19 - paused
611:21 - so animation play state is a property of
611:23 - the style that lets me decide if the
611:25 - animation is playing or paused and I can
611:27 - control that using JavaScript rather
611:29 - than just say run infinitely forever I
611:31 - can say the animation playstate should
611:33 - start out as paused by first getting the
611:35 - H1 element
611:36 - then modifying the animation play state
611:39 - property of that particular element
611:42 - but now what I'd like to happen
611:44 - is anytime someone clicks on the button
611:46 - I want to change the animation play
611:48 - state so I'm going to say
611:50 - document.queryselector button meaning
611:52 - get that button
611:54 - and when someone clicks on the button
611:56 - let's run this function where if the
612:00 - current animation play state is paused
612:04 - well then go ahead and set animation
612:07 - play State equal to running
612:10 - and otherwise if it's already running
612:12 - then let's go ahead and set the
612:14 - animation play State equal to
612:17 - paused
612:18 - so all in all what this function is
612:20 - going to do is it's going to get me the
612:22 - heading pause this initially and every
612:24 - time the button is clicked run this
612:26 - function where the function says if
612:28 - we're paused go ahead and start running
612:29 - the animation otherwise go ahead and
612:32 - pause the animation by modifying that
612:34 - animation play state property of the
612:36 - head
612:37 - so now if I refresh this page right now
612:39 - we have welcome plus a button that says
612:41 - click here and initially everything is
612:42 - pause there's no animation happening but
612:44 - I click here and that begins the
612:46 - animation which would go on indefinitely
612:48 - until I decide that I want to stop it at
612:51 - which point I click it again and the
612:52 - animation pauses and I can control when
612:55 - to start and when to pause that
612:57 - animation as well
612:58 - and so this can be helpful and nice when
613:00 - you want to create something a little
613:02 - bit more interactive something animated
613:03 - on the page but this is especially
613:05 - helpful because it means that you can
613:07 - gradually change CSS properties over
613:09 - time rather than just immediately change
613:11 - something you have the ability to
613:13 - animate something to make it work a
613:15 - little bit better so let's take a look
613:17 - at an example of how you might put that
613:18 - idea into practice let's go back to
613:22 - our posts example where we had this
613:24 - infinite scrolling let's suppose but
613:26 - imagine now that we want the ability to
613:28 - hide posts when we're done with them so
613:30 - I've prepared an example called hide
613:33 - which is very similar to what we had
613:35 - before
613:36 - but this time I've just added one extra
613:39 - button and the button says hide on every
613:42 - single div right now clicking the hide
613:44 - button does nothing we'll go ahead and
613:45 - Implement that in just a moment but
613:47 - first to see how this worked if you go
613:48 - into hide go into the index.html
613:52 - template the only change that's been
613:54 - made here is what happens when I add a
613:56 - new post recall again that what this
613:58 - application does is it loads posts from
614:00 - a server and then when it gets those
614:01 - posts it Loops over each of the
614:03 - individual posts which is a string of
614:05 - text and it adds that string of text
614:07 - inside of an element onto the page via
614:10 - this add post function
614:12 - and what the ad post function is going
614:13 - to do here is first create a new element
614:16 - create a div in which to store that post
614:18 - give it a class name because that's how
614:20 - we're going to animate it and then set
614:22 - its inner HTML equal to the contents of
614:25 - the post something like Post Number One
614:27 - Post Number Two post number three
614:29 - and then add a button that just says
614:31 - hide
614:32 - and then we're going to go ahead and add
614:33 - that to the Dom as well
614:35 - so that's what ad post is now going to
614:37 - do we're sort of generating some HTML
614:39 - using this JavaScript code and then
614:41 - adding that HTML to the page and now
614:43 - what we're adding is a div that has not
614:45 - only the contents of the post as text
614:47 - but it's also going to give us access to
614:49 - a button that ultimately we hope is
614:51 - going to let us hide that post as well
614:54 - so how do we actually get the hiding of
614:56 - the post to work well what we want to do
614:59 - is somehow detect when the user clicks
615:02 - on one of those hide buttons so there's
615:04 - a number of ways we could do this but
615:06 - one way is just to listen for any time
615:09 - anyone clicks
615:11 - on the document as a whole
615:14 - anytime anyone clicks on the document I
615:17 - might like to ask something like what
615:19 - did they actually click on and it turns
615:21 - out that with most event listeners the
615:23 - function the event listener takes in can
615:25 - take as an optional argument the event
615:27 - itself which is a JavaScript object that
615:30 - contains information about the event
615:32 - that happened like the Click event or
615:34 - the scroll event or the key down event
615:36 - or the key up event for example and one
615:38 - of the properties you get access to is
615:40 - event dot Target which is like what was
615:43 - the target of the event in this case
615:45 - what was the thing that was actually
615:46 - clicked on and I'll go ahead and save
615:48 - event.target inside of a variable
615:52 - called element where the idea now is
615:54 - that whatever gets clicked on that is
615:56 - the event's Target we're going to save
615:57 - that inside of element and what I want
615:59 - to know is is element is that one of the
616:02 - Hide buttons I want to know is it a hide
616:04 - button I could have also attached an
616:06 - event listener to each of the Hide
616:07 - buttons this is just an alternative way
616:09 - of doing it that I'm showing you for
616:10 - sake of demonstration where we say when
616:12 - we click anywhere in the document figure
616:14 - out what was clicked on and save it
616:16 - inside of this variable and if it's a
616:18 - hide button then it's going to have a
616:20 - class of hide right because I gave every
616:22 - class every hide button a class of hide
616:26 - and so what I can say is
616:28 - if element dot class name equals hide
616:33 - well that means that what was clicked on
616:35 - is something with a class of hide we can
616:36 - assume that it is in fact a hide button
616:39 - and then what I want to do is I can do
616:41 - something like element dot remove to say
616:43 - go ahead and get rid of that element
616:46 - so now what does this do
616:48 - if I refresh the page let's try it post
616:51 - number one if I hide it I want to hide
616:52 - Post Number One
616:54 - all right that didn't quite work it was
616:55 - close it got rid of the Hide button but
616:57 - I didn't want to get rid of the Hide
616:58 - button I wanted to get rid of the whole
616:59 - post
617:00 - so what's going on here is it seems to
617:03 - be that if the element's class name is
617:05 - hide meaning I clicked on a hide button
617:07 - element.remove just removes that element
617:10 - it removes the hide button but it
617:12 - doesn't remove the post that contains it
617:14 - and if you think about this in terms of
617:16 - the Dom the post is a div and it's child
617:19 - element is the button this hide button
617:21 - and so you remove the button but it
617:23 - doesn't also remove the post as well if
617:25 - you want to remove the post as well you
617:27 - need to remove not the element but the
617:29 - elements parent and in JavaScript it
617:31 - turns out there's a way to do that too
617:33 - rather than element dot remove I can say
617:35 - element dot parentelement dot remove to
617:39 - say take the element get its parent and
617:41 - remove that
617:42 - so now I refresh the page
617:45 - now I see a post one I want to hide it I
617:48 - hide post one and all right now I see
617:50 - post 2 and the post one has gone away if
617:52 - I want to hide post three I hide post
617:54 - three now post three is gone now I go
617:56 - straight from post 2 to post four
617:58 - so this works but it's also not
618:01 - immediately obvious what's going on like
618:03 - because all of the posts are the exact
618:05 - same height when I get rid of post one
618:07 - and three it's not immediately obvious
618:08 - to the eye that they've gone away
618:10 - because post two and four they look
618:12 - almost exactly the same you really have
618:14 - to be paying attention to know the
618:15 - hiding worked and so this can be a time
618:18 - where animation can actually be quite
618:20 - helpful so what I can do is say
618:22 - something like
618:23 - let's go ahead and give this post an
618:28 - animation associated with every post
618:29 - we'll give it an animation name called
618:31 - hide an animation duration of two
618:34 - seconds we'll say it'll take you two
618:35 - seconds in order to hide and an
618:38 - animation fill mode forwards I want to
618:40 - go forwards with the animation and
618:41 - initially I'll give the post an
618:43 - animation play state
618:45 - of paused meaning initially I don't want
618:49 - the animation to be running because I
618:50 - don't want to hide all the posts
618:51 - immediately pause this animation later
618:53 - we'll go ahead and run the animation in
618:56 - order to actually hide the post
618:58 - then I need to Define what does it
619:01 - actually mean to hide the post
619:03 - and I'll say well all right at the zero
619:04 - percent Mark what does it mean let's
619:06 - give yourselves an opacity of one
619:08 - opacity is a CSS property that just
619:10 - controls how opaque or how transparent
619:12 - an HTML element happens to be
619:14 - and at the end a hundred percent of the
619:16 - way done with the animation we'll set
619:18 - opacity to zero so initially we can
619:21 - fully see the element at the end the
619:23 - element is totally transparent and now
619:25 - what I need to do is actually trigger
619:27 - this to happen somehow
619:29 - so this is probably going to happen
619:31 - inside of my event listener where
619:34 - instead of removing the element right
619:35 - away
619:36 - let me just take the parent element and
619:39 - set its animation play State equal to
619:43 - running for example meaning
619:46 - when I click the hide button go ahead
619:48 - and run the animation that will change
619:49 - the opacity from one to zero over the
619:53 - course of a couple of seconds
619:54 - and then if I really want to I can add
619:56 - another event listener to say take the
619:58 - parent element
620:00 - add event listener there's an event
620:03 - called animation end which happens when
620:06 - the animation is over
620:08 - and then I can say all right when the
620:09 - animation is over we'll then go ahead
620:13 - and remove the element
620:15 - so all in all rather than just
620:17 - immediately remove the element when I
620:19 - click on the button that says hide what
620:21 - I'd like to do is say if you click on a
620:23 - button and the button is hide go ahead
620:25 - and get the parent element not the hide
620:26 - button but the post itself
620:28 - set its animation play state to running
620:30 - meaning run the hide animation
620:32 - and then add an event listener to the
620:35 - parent to that post as a whole to say
620:37 - when the animation is over go ahead and
620:39 - remove that entire post from the Dom
620:41 - altogether
620:43 - so what is the effect of all of this now
620:45 - of having this animation and running it
620:48 - well now if I refresh the page I see all
620:51 - these posts if I try and hide like post
620:52 - number two for example you'll see that
620:55 - the opacity changes and then it slowly
620:57 - disappears and then only after it's
620:59 - totally transparent the post disappears
621:01 - entirely so I can say hide Post Number
621:03 - Four it disappears and then post number
621:05 - five jumps up to fill its place and I
621:07 - can do that for any of these posts
621:09 - triggering the animation when I click on
621:11 - the hide button and so this is part of
621:13 - the value of what animation can do is to
621:15 - be able to make our user interfaces a
621:17 - little more pleasant from the
621:18 - perspective of the user by not
621:20 - immediately getting rid of a post but by
621:22 - having a nice fade out so it disappears
621:24 - nicely now even this is not perfect
621:26 - animation wise like one thing you might
621:28 - notice is that it jumps up as soon as
621:30 - the post is gone if I hide post number
621:32 - three I hide it it disappears and post
621:34 - five sort of jumps up very abruptly in
621:36 - order to fill its place what I might
621:38 - like is to be a little bit cleverer to
621:40 - somehow shrink the size of the post
621:42 - after it's gone so that the post doesn't
621:45 - jump into place but it slides a little
621:47 - bit more naturally into place and so
621:49 - there's some additional things I can
621:50 - play with here maybe I want to say
621:52 - they're all right let me make this
621:55 - animation a multiple part animation so
621:57 - here instead of just from zero to 100
621:59 - setting the opacity from one to zero
622:01 - maybe in the first 75 percent of the
622:04 - animation that will take care of
622:06 - reducing the opacity going down from one
622:07 - all the way down to zero but in the last
622:10 - 25 percent of the animation will still
622:13 - end with an opacity of zero
622:15 - but anything that creates vertical space
622:18 - I want to reduce down to zero so the
622:20 - height should be zero pixels the line
622:22 - height which is how high the text is
622:24 - should also be zero pixels and any
622:26 - padding I want to go away it turns out
622:28 - I've added some margin to the bottom of
622:30 - the post I want to make that go away as
622:32 - well so I want to set all of those to
622:34 - Zero from whatever their initial values
622:36 - happen to be that initially the height
622:37 - is like a hundred percent of what the
622:39 - height could be likewise for line height
622:41 - 100 of the parent uh initially I have
622:43 - like 20 pixels of padding and a margin
622:46 - at the bottom of 10 pixels and I want
622:48 - all of that to still be true 75 percent
622:51 - of the way through the animation but
622:53 - it's only in the last 25 percent of the
622:55 - animation that I want to set all of
622:57 - these vertical height properties down to
622:59 - zero I want to remove all the height
623:00 - remove the line height remove all the
623:01 - padding and the effect of this is I'll
623:03 - have an animation now where for the
623:05 - first 75 percent of the animation the
623:07 - only thing that changes is the opacity
623:09 - the opacity goes from one fully visible
623:12 - to zero fully transparent and then in
623:15 - the last 25 percent of the animation the
623:17 - post is already transparent you can't
623:19 - see it but it's still taking up physical
623:21 - space on the page but we're going to now
623:23 - reduce the height of that post so that
623:25 - now you won't be able to see it at all
623:28 - so now if I refresh this page
623:31 - here we go under all the posts but now
623:32 - if I click hide on a particular post
623:34 - we'll see that it first Fades out and
623:36 - then its height shrinks so that the next
623:38 - post slides very nicely into place I can
623:40 - do that again hide the post it's
623:42 - transparent and then it slides into
623:44 - place and this again is just an
623:46 - application of this idea of CSS
623:48 - animations using properties of Animation
623:50 - to make our interfaces a little bit
623:52 - nicer to use a little bit clearer
623:54 - visually to the user that one post has
623:56 - gone away and the rest of the posts have
623:58 - now scrolled up in order to take their
624:00 - place
624:02 - so now we've been able to use JavaScript
624:04 - to create a lot of nice user interfaces
624:06 - we've been able to create single page
624:07 - applications to create infinite
624:09 - scrolling to be able to create some
624:10 - animations as well and use JavaScript to
624:12 - be able to control them but one thing
624:14 - you might be realizing at this point is
624:16 - that our applications are starting to
624:17 - get fairly complicated there's a lot of
624:19 - JavaScript code needed to manipulate a
624:21 - lot of different parts of our
624:22 - application at the same time and you can
624:24 - imagine that as web pages start to get
624:26 - more complex and as you want to start
624:28 - making them more interactive and more
624:29 - Dynamic there's going to be a lot of
624:31 - JavaScript code required in order to
624:33 - keep everything in sync in order to make
624:35 - sure that all of the elements are
624:36 - updated when they should so on and so
624:38 - forth and it's for that reason that in
624:40 - recent years a lot of JavaScript has now
624:42 - turned to some JavaScript libraries or
624:44 - Frameworks that allow to more
624:46 - efficiently and more effectively create
624:48 - user interfaces that are more
624:49 - interactive and more reactive and one of
624:52 - the most popular of these is a framework
624:54 - known as react react is a JavaScript
624:56 - library that is going to enable us to be
624:58 - able to design user interfaces that are
625:01 - very interactive where the content of
625:02 - the web page updates automatically based
625:05 - on some underlying State and what we'll
625:07 - do now is take a look at a brief Taste
625:09 - of react to get a sense for how
625:10 - Frameworks like it can actually work and
625:12 - can help us in designing some
625:14 - interactive and useful interfaces for
625:16 - users to be able to interact with
625:18 - react is ultimately based on this idea
625:20 - of declarative programming a particular
625:23 - style of programming which is different
625:24 - from the types of programming you might
625:26 - be familiar with more classical
625:27 - programming Styles like imperative
625:29 - programming in imperative programming
625:32 - you generally give the computer commands
625:34 - tell the computer what to do for example
625:36 - if we had that counter program from
625:38 - before and we wanted to update the
625:40 - counter from one number to another
625:41 - number in the view like the HTML that
625:44 - the user sees we would include something
625:45 - like a heading that just has the number
625:47 - zero inside of it and then the logic in
625:50 - imperative programming would take
625:52 - something like this form it would be
625:54 - like all right first
625:55 - document.queryselector H1 to get that H1
625:58 - tag get it at the inner HTML parse int
626:01 - will take the string and convert it into
626:02 - an integer and we can save that inside
626:04 - of a variable called num for example and
626:07 - then after that if I want to increase it
626:08 - I would take this variable num and just
626:11 - add one to it num plus equals one add
626:13 - one to it and then if I want to update
626:15 - this heading in order to replace the
626:16 - zero with a one for example well then I
626:19 - would need to say document.queryselector
626:20 - H1 set the inner HTML equal to that
626:24 - number for instance in order to say all
626:25 - right numbers now one go ahead and
626:27 - replace that in the view
626:29 - but this is a fair amount of code to do
626:32 - something fairly simple just like
626:33 - increase a number by one and the reason
626:35 - why is because we've had to be very
626:37 - explicit about what instructions we're
626:39 - giving to the web browser we're saying
626:40 - First grab the H1 figure out what number
626:42 - is inside of it add one to that number
626:44 - and then replace it inside of this tag
626:47 - what declarative programming is going to
626:49 - allow us to do is it's going to allow us
626:51 - to just describe what State Should be
626:53 - displayed on the page in what form in
626:56 - declarative programming in our view like
626:58 - the HTML like code that we're going to
627:00 - be writing we're just going to say
627:01 - something like H1 and then in curly
627:04 - braces num to mean like fill in the
627:07 - number here and this is what the react
627:08 - syntax is going to look like and then
627:10 - the logic code if we want to increment
627:12 - that number by one is we just need to
627:14 - say num plus equals one add one to the
627:17 - number and the effect of that is that
627:20 - since we have declared that inside of
627:22 - this heading it should be whatever the
627:23 - value of the number is when we increment
627:25 - the value of number react is effectively
627:27 - just going to update the view so that
627:30 - the number updates as well and so this
627:33 - will be some of the power that react
627:34 - gives us react lets us divide our
627:36 - application into a whole bunch of
627:38 - different components where a component
627:40 - is something like this thing here that
627:41 - is keeping track of some sort of count
627:43 - along with a button that might
627:44 - manipulate it and then make that
627:46 - component based on some underlying State
627:48 - some underlying variables that represent
627:50 - the state of the application something
627:52 - like the current number and then we can
627:54 - manipulate that state and when we
627:55 - manipulate the state that will have an
627:57 - impact on what the user actually sees
627:59 - and react will handle the process of
628:01 - updating that user interface for us
628:03 - there are a number of ways to get react
628:05 - working on our web page but the simplest
628:07 - is probably just to include these three
628:09 - JavaScript packages inside of our web
628:13 - page so we're first going to include
628:14 - react itself which is going to be the
628:16 - library that's going to allow us to
628:18 - Define these components and how they
628:19 - behave then is react Dom a special
628:22 - package that's going to allow us to take
628:24 - react components and insert them into
628:26 - the Dom the document object model that
628:29 - represents the struct structure of the
628:30 - entire page and then finally Babel is
628:32 - going to be a package that we're going
628:34 - to use in order to translate code from
628:36 - one language to another it turns out
628:38 - that when we're rating react code we're
628:40 - not actually going to be writing
628:41 - JavaScript we're going to be writing in
628:43 - an extension to JavaScript known as jsx
628:46 - and jsx is going to be an extension to
628:48 - JavaScript that looks a lot like
628:50 - JavaScript but has some additional
628:52 - features in particular it has the
628:54 - ability to effectively allow us to
628:56 - represent HTML inside of our JavaScript
628:58 - code in a way that's much easier to read
629:00 - and it's going to be convenient for us
629:02 - to deal with
629:03 - browsers on the other hand don't
629:04 - understand jsx automatically so what
629:07 - we're going to use is a tool like Babel
629:08 - to convert that jsx code into plain
629:11 - JavaScript that our web browsers are
629:13 - ultimately going to be able to
629:14 - understand
629:15 - the best way to get a feel for this kind
629:17 - of thing is just to see it in action so
629:19 - I'll go ahead and create a couple of
629:20 - react applications just to get a sense
629:22 - for how it is that you can use react in
629:24 - your own applications as well
629:27 - so let's start by taking a look at
629:29 - react.html and what I have here is the
629:31 - beginning of an HTML page inside the
629:34 - head section what you'll notice is I've
629:36 - already included these three script tags
629:38 - and what these script tags are doing are
629:40 - just including those three JavaScript
629:42 - libraries we were talking about a moment
629:44 - ago I have a title for the page just
629:46 - called react and now let's start to fill
629:48 - in the body of this web page I'll begin
629:51 - by adding a div which I'll give an ID to
629:54 - I'll call it app but I could call it
629:55 - anything and this is where our
629:57 - application is going to go but right now
629:59 - I'm just going to leave it as empty it's
630:01 - going to be react's job to fill in this
630:03 - div with the content of our user
630:05 - interface
630:06 - and now beneath that div I'll start to
630:08 - write some JavaScript but remember I'm
630:11 - not going to be writing JavaScript per
630:12 - se but rather jsx that extension to
630:15 - JavaScript so in this case I'll need to
630:17 - add an extra attribute type equals Text
630:20 - slash Babel and all this is doing is
630:22 - telling my browser that it's going to
630:24 - need to translate this jsx code into
630:26 - JavaScript code that the browser is
630:28 - actually going to be able to understand
630:29 - before it tries to run this code in
630:32 - practice if you were developing a real
630:34 - application what you would want to do is
630:36 - you would want to do this translation
630:37 - ahead of time prior to deploying the
630:39 - application but here we're just going to
630:41 - translate it on the Fly
630:43 - and so all of our react applications are
630:46 - going to be composed of components where
630:48 - a component is just some part of my web
630:51 - application's user interface and to
630:53 - describe a component I can write a
630:55 - JavaScript function so I'll create a
630:57 - function called app which is going to
630:59 - represent this app component
631:01 - and what's going to go inside of this
631:03 - app component well it's a function so
631:05 - it's going to return something and what
631:07 - it's going to return is what should
631:09 - appear inside of that component and this
631:12 - app component could really just be for
631:14 - example a div that says hello let's say
631:18 - and this is where the power of jsx
631:20 - really starts to come in that here I can
631:22 - write HTML like syntax inside of my
631:26 - JavaScript code and jsx is going to be
631:28 - able to understand it so this function
631:30 - right here is a function called app that
631:33 - is representing a react component and
631:35 - when this component is rendered onto my
631:37 - web page it's going to say hello
631:40 - so there's one last line I need inside
631:42 - of my JavaScript now and that is to
631:44 - actually render this component into the
631:46 - page to do that I'll say react Dom dot
631:49 - render
631:51 - and the first argument to this function
631:53 - reactdom.render is what component would
631:55 - I like to render the component is this
631:57 - app component that I just created and so
632:00 - I'll say app again using this HTML like
632:02 - syntax
632:03 - and then the second argument is where on
632:06 - the page would I like to render this
632:07 - component and I want to render this
632:09 - component right here on line 10 where I
632:12 - have a div whose ID is app so I'll need
632:15 - to add some JavaScript code to find that
632:17 - particular div and to do that I can just
632:20 - say document dot query selector and then
632:24 - uh
632:25 - hash app to say find the element with an
632:30 - ID of app and that is where I would like
632:32 - to render this app component
632:35 - so I first created this empty div then I
632:37 - defined this function representing a
632:40 - react component and then after that
632:41 - we're going to render that component
632:43 - inside of the HTML page itself
632:47 - so now if we were to open a browser
632:49 - and see what this page actually looks
632:51 - like I'll make the text a little bit
632:52 - bigger you see that we actually do see
632:55 - the word hello
632:56 - and if I make a change to the component
632:58 - and refresh the page it will change the
633:01 - page as well so if the component instead
633:03 - displayed hello world
633:05 - well then I refresh the page and the
633:07 - page now also says hello world
633:10 - and because this is Javascript I can add
633:13 - JavaScript code to the function just as
633:15 - I could with any function in JavaScript
633:17 - imagine for example that I had some
633:19 - variables like let's create a variable X
633:21 - which is equal to 1 and a variable Y
633:24 - which is equal to 2. inside of this div
633:27 - rather than just render some text I can
633:29 - use curly braces to say plug in the
633:32 - value of some JavaScript expression I
633:34 - could plug in the value of x plus y for
633:37 - example
633:38 - and now by including X Plus Y in these
633:40 - curly braces JavaScript is going to
633:42 - evaluate what is X Plus Y and display
633:45 - that inside of the div instead
633:48 - and so now when I refresh the page you
633:50 - see that the page just says three for
633:52 - example
633:54 - and so that's the basics of react we
633:56 - create these components and then render
633:58 - those components all using the power of
634:01 - JavaScript
634:02 - but where react starts to get more
634:03 - powerful is when we can reuse components
634:05 - the whole idea of a component is it
634:07 - represents some part of the user
634:09 - interface and I could reuse that same
634:11 - component across multiple parts of the
634:13 - interface as well imagine for example
634:15 - that inside of my app component I was
634:18 - going to render a div that had three
634:21 - headings Each of which said hello
634:25 - so there's one heading there's another
634:27 - one and we'll add a third one there as
634:30 - well
634:31 - so I have a div with three headings
634:33 - inside of it and we can see what that
634:35 - looks like each one of them says hello
634:38 - but there's some repetition here I'm
634:39 - having to use this H1 tag three times
634:42 - all to create exactly the same UI
634:44 - element on the page this is a case where
634:47 - I can create a separate component and
634:48 - then just reuse that component rather
634:50 - than have to repeat myself multiple
634:52 - times so how could I do that well
634:55 - remember that in JavaScript we can write
634:57 - a function to represent a react
634:58 - component so I'll add another function
635:01 - here and I'll call that function hello
635:03 - because it's going to represent this
635:05 - hello component and this hello function
635:08 - is also going to return something
635:10 - and what it's going to return is a
635:12 - heading in H1 that just says hello
635:17 - and so now inside of my app component
635:19 - rather than render three separate H1s I
635:23 - can simplify this a little bit to just
635:25 - say hello here I'm saying go ahead and
635:28 - render a hello component here we'll
635:30 - render a second one and a third one
635:32 - after that
635:34 - each time I render a hello component
635:36 - it's going to display as this heading
635:38 - that just says hello
635:40 - so I refresh the page and nothing
635:42 - changes I still see three headings Each
635:44 - of which says hello because inside of my
635:47 - app component I'm rendering this hello
635:48 - component three times and each time it's
635:51 - going to display this H1
635:54 - but where components start to get more
635:55 - powerful is when they're not always
635:57 - displaying the same information every
635:59 - time but when we can parameterize those
636:01 - components with Properties or as react
636:04 - simplifies them props short for
636:06 - properties
636:07 - so what would that mean we see that HTML
636:10 - elements can take attributes likewise
636:12 - react components can take properties
636:14 - where maybe I don't just want to say
636:15 - hello but I want to say hello to someone
636:18 - hello to Harry or to Ron or Hermione for
636:20 - example so I could say hello name equals
636:24 - Harry using syntax much like an HTML
636:27 - attribute then here say hello name
636:30 - equals Ron and then finally hello name
636:32 - equals Hermione
636:35 - and so now my hello component is
636:37 - accepting this prop this property called
636:40 - name which is different for all three of
636:43 - these components
636:46 - and so inside this hello function now I
636:48 - would like the hello function to take
636:50 - advantage of these properties of these
636:52 - props
636:53 - and so I'm going to add an argument to
636:54 - the hello function that argument is
636:56 - conventionally just called props
636:59 - and now instead of just saying hello I'm
637:01 - going to say hello comma and then
637:03 - remember to plug in a JavaScript value I
637:05 - use curly braces
637:07 - and inside of those curly braces I can
637:09 - say props Dot and then whatever the name
637:12 - of the property is in this case the name
637:14 - of the property is just name so I can
637:17 - say props dot name to say whatever the
637:20 - name prop is go ahead and plug that in
637:22 - right here inside of the hello component
637:25 - so the hello component is going to say
637:27 - hello comma and then someone's name
637:29 - so I can save that
637:31 - refresh the page and now I see Hello
637:33 - Harry hello Ron and hello Hermione three
637:36 - different components Each of which is
637:38 - still just this hello component but
637:40 - we're rendering it with different props
637:42 - one time with the name of Harry one time
637:44 - with the name of Ron and one time with
637:46 - the name Hermione and so this is where
637:49 - components can start to get a little bit
637:50 - different by passing in different props
637:52 - into those components we can decide how
637:55 - that component is ultimately going to
637:57 - render
637:57 - but let's add to this a little bit and
638:00 - start to add State into our react
638:02 - components as well and state is going to
638:04 - mean any kind of data that we want to
638:06 - store inside of the component itself and
638:09 - for this let's try to recreate the
638:11 - counter application that we created when
638:13 - we first introduced JavaScript where we
638:15 - were really just creating a button that
638:17 - allowed you to count and it counted up
638:19 - from zero one two three four
638:21 - Etc
638:22 - so to do this let's create a new file
638:24 - I'll create a new file and just call it
638:26 - counter.html
638:27 - and we can start just by copying the
638:30 - contents of react.html into our
638:33 - counter.html file we're still going to
638:35 - use those same script tags and we can
638:37 - still have an app component
638:39 - but what's going to be inside this app
638:41 - component is going to be a little
638:42 - different I'll change the title of the
638:44 - page 2 to the counter instead of react
638:48 - so what goes inside of the app component
638:51 - well if we're going to do discounting we
638:53 - need a div that's going to display the
638:55 - number that we've currently counted to
638:56 - something like zero to start with
638:58 - and we're going to need a button this
639:00 - button is just going to be count
639:03 - which will be the label for that button
639:06 - so a div that just says 0 and a button
639:09 - that says count
639:11 - and now if I open up counter.html
639:15 - make it a little bigger you can see that
639:17 - I have this number 0 here and a button
639:19 - that says count of course right now
639:21 - clicking on the button doesn't do
639:23 - anything because I haven't written any
639:24 - JavaScript code to say what should
639:26 - happen when this button is actually
639:28 - clicked on
639:29 - but before we get there let's modify
639:32 - this program a little bit
639:34 - right now I've written the number zero
639:36 - directly into the div itself but it's
639:38 - not always going to be zero eventually
639:40 - as I start counting by pressing that
639:42 - count button that number is going to
639:44 - change so what I'm going to do now is
639:46 - Factor this zero out into what's known
639:48 - as state inside of my react component
639:51 - and here one way to create state in my
639:53 - react component is to use a special
639:55 - function inside of react called use
639:59 - State this is one example of a react
640:01 - hook that allows me to add some
640:03 - additional functionality into my react
640:06 - component and the argument to react.use
640:08 - state is going to be the initial value
640:10 - of that state I'm going to start
640:12 - counting and I want to start counting
640:14 - from the number 0 so I'm going to
640:16 - include the number 0 as the argument to
640:19 - this use State function
640:20 - so we're going to start counting at zero
640:22 - and what this use State function returns
640:25 - is really an array of two things it's
640:28 - going to be a variable that I can give a
640:31 - name to I'll call it count and also a
640:33 - function that I'm going to call set
640:35 - count and that function is going to
640:37 - allow me to set the value for the state
640:40 - If Ever I need to change the state at
640:42 - some point in the future
640:44 - so this use State function except 0 the
640:47 - initial State as its argument and then I
640:49 - get two things back I get the state
640:51 - variable itself called count and I get a
640:54 - function for changing that state when I
640:56 - need to
640:57 - so now instead of rendering a zero
640:59 - inside of the div just by writing the
641:01 - number zero I'm going to instead in
641:03 - curly braces
641:05 - go ahead and render whatever the value
641:06 - of count is initially it's going to be
641:09 - zero but eventually that number might
641:10 - change and I want my UI to reflect the
641:13 - changes in the underlying state
641:15 - so right now if I refresh the page it
641:17 - still says zero because the initial
641:19 - state was set to zero but I could change
641:22 - that if initially that initial state was
641:24 - some other value I could refresh the
641:26 - page and see a different value appear
641:28 - for the count instead whatever the value
641:30 - of this count variable is in the state
641:32 - that's going to be what the user is
641:34 - going to see when they're looking at my
641:36 - user interface And when they see my
641:39 - component
641:40 - so now let's make this button actually
641:42 - do something because right now the
641:44 - number is never changing to do that I
641:46 - can add an on click Handler and notice
641:49 - one difference between on click and
641:51 - react and unclicked as we traditionally
641:53 - used it in JavaScript I'm using this
641:55 - Capital C and that's just a common react
641:57 - convention when we're defining event
641:59 - handlers
642:00 - and here I'm going to say on click and
642:02 - then in curly braces the name of a
642:04 - function a function that I would like to
642:06 - run when this button is clicked and I
642:10 - can call that function whatever I'd like
642:11 - I'll call it update count for example
642:15 - and now what I need to do is Define a
642:18 - function called update count
642:20 - and I'm going to Define that function
642:22 - inside of this react component inside of
642:25 - my app function it turns out in
642:26 - JavaScript you can have functions that
642:28 - are defined inside of other functions so
642:31 - I'll Define this function called update
642:33 - count
642:34 - and what do I want the update count
642:36 - function to do well what I'd like to do
642:38 - is just increase count by one and you
642:40 - might think that I could do that just by
642:42 - saying count equals count plus one but
642:44 - it turns out you can't quite do that in
642:46 - react in react whenever whenever I'm
642:49 - using this use state if I want to change
642:51 - the state I have to use this function
642:54 - that use state provides to me for
642:56 - whenever I want to set the new value of
642:59 - the state so rather than count equals
643:01 - count plus one I have to use the set
643:03 - count function and the argument to set
643:05 - count is going to be count plus one
643:08 - so set count is this function that is
643:10 - going to change the underlying State
643:12 - inside of my component and the argument
643:15 - is what should the new state be and in
643:17 - this case it's just going to be count
643:19 - plus one one more than whatever the
643:22 - count was before
643:23 - so I can save that
643:25 - and I'll go ahead and refresh the pager
643:27 - it starts out at zero but every time I
643:29 - click on this count button you'll notice
643:31 - the count increases by one
643:34 - and again I have no code that's saying
643:37 - go into the div and change whatever is
643:39 - inside of the diva all I have inside of
643:41 - this div is this reference to this state
643:43 - variable count and whenever the state
643:45 - changes JavaScript and in turn react
643:48 - knows that what react needs to do is to
643:51 - recreate this component re-render the
643:52 - component by displaying the new value of
643:55 - this state variable and then when the
643:57 - button is clicked on we're able to run
643:59 - this function to change the value of
644:01 - that underlying state
644:03 - so by taking advantage of these react
644:05 - components with State we can start to
644:07 - represent information inside of our
644:08 - components and then Define what our
644:10 - component is going to display as just by
644:13 - representing HTML in terms of that
644:15 - underlying State deciding how we should
644:17 - use that state in order to render an
644:19 - interface that the user is ultimately
644:21 - going to see
644:23 - so let's now try and put these pieces
644:25 - together and create a web application
644:28 - that uses these abilities of react to
644:30 - Define State and to manipulate that
644:32 - state and in turn update a user
644:34 - interface based on changes that are
644:36 - happening to that underlying State and
644:38 - we'll create an application that will
644:40 - just display some simple mathematical
644:42 - questions to the user and quiz the user
644:44 - on some basic addition facts for example
644:47 - so let's create that application I'll
644:49 - create a new file and call it
644:51 - addition.html
644:53 - and inside of addition.html I'll start
644:56 - again just by copying the contents of
644:58 - this counter.html file because the
645:01 - framework the structure of this page
645:03 - will be similar but I'll go ahead and
645:05 - clear out what's inside of my app
645:08 - component at least for now
645:11 - and so what would I like for my app
645:12 - component to render
645:14 - well let's go ahead and render a div
645:17 - and if I want to create an application
645:19 - that's going to ask the user some
645:21 - mathematical questions and then prompt
645:23 - the user to type in an answer there are
645:25 - at least two parts of this user
645:26 - interface that I'm going to need I'm
645:28 - going to need a place to display the
645:30 - addition fact answer like what is one
645:32 - plus two for example and then I'll need
645:34 - an input field where the user can type
645:36 - in their response to that question and
645:38 - then see if they got the question right
645:40 - or wrong
645:41 - so inside the div I'll start by creating
645:44 - a div that displays the question itself
645:46 - something like one plus two
645:49 - and then beneath that I'll just add an
645:51 - input field eventually we'll add more to
645:53 - this user interface but for now all we
645:55 - really need is a div that displays the
645:57 - mathematical question and an input for
645:59 - the user to type in their response so
646:02 - now if I go ahead and go to
646:04 - addition.html here's what I see I'll
646:06 - make it a little bit bigger I see one
646:09 - plus two and then an input field where
646:11 - the user could start to type in their
646:13 - response but just as we did before I
646:16 - don't want to literally write the
646:17 - numbers 1 and 2 into what I'm returning
646:20 - instead I want these one and two to be
646:22 - based on some underlying State inside of
646:25 - my application the application is going
646:27 - to maintain State about what two numbers
646:29 - to add together and then it's going to
646:31 - display a user interface based on that
646:33 - state
646:34 - so what could I do here
646:35 - well one thing I could do is again use
646:38 - react.use State start this number off as
646:41 - 1. and maybe call this num1 and then a
646:45 - function to set number one
646:47 - and then I could do it again let's
646:49 - create num2 and set num2 to be react.use
646:52 - state two and I could have two different
646:55 - pieces of state num1 and num2 Each of
646:57 - which has a different function set num1
646:59 - and set num2 that are each representing
647:02 - the two different numbers that I would
647:03 - like to add together
647:05 - but already this is starting to get
647:06 - messy and over time as I add more
647:08 - different pieces of state to the
647:10 - application as we'll see in just a
647:11 - moment the state might start to get more
647:13 - and more complex with more and more
647:14 - different functions and variables and so
647:16 - it's often helpful and a common practice
647:18 - in react to combine multiple pieces of
647:20 - State just into one JavaScript object
647:23 - that's maintaining all of the different
647:25 - pieces of State for this particular
647:27 - component
647:29 - and to do that I'll again use react.use
647:32 - state but instead of setting the state
647:34 - initially to be a number like one or two
647:36 - it's instead going to be a JavaScript
647:38 - object that has keys and values
647:41 - or I could say let num1 be the number
647:44 - one and let num2 be the number two much
647:48 - like a dictionary in Python for example
647:50 - where I have multiple different values
647:52 - num1 and num2 all together inside of the
647:55 - same object and I can call that state
647:58 - and have a variable and have a function
648:00 - called set state that is going to update
648:02 - the value of that state and so rather
648:04 - than have to have all of these different
648:07 - variables I can simplify a little bit to
648:09 - just State and a function to set the
648:11 - state and the state now has these two
648:13 - different pieces number one and number
648:16 - two
648:17 - and so now instead of rendering
648:19 - literally the number one using curly
648:21 - braces I can say State DOT num1
648:24 - and instead of rendering literally the
648:26 - number two I can say state DOT num2
648:31 - drawing upon that state to decide what
648:33 - it is going to appear inside of the user
648:35 - interface and so right now the page
648:37 - appears no different but if I were to
648:39 - change those initial values of the state
648:40 - maybe make it two and four for example
648:43 - and then refresh the page well now it
648:46 - displays as two plus four
648:49 - and so that's helpful we now have a user
648:51 - interface where the numbers are based on
648:53 - the state but now what I'd like to do is
648:55 - add the ability to keep track of what
648:57 - the user typed in so we can tell if the
648:59 - user correctly typed in the answer to
649:02 - this mathematical problem and how would
649:04 - I do that well the state represents any
649:06 - information that we need to keep track
649:08 - of inside of this component and so in
649:11 - addition to storing the two numbers
649:12 - inside of the state I likely also need
649:15 - to keep track of a third piece of
649:16 - information which is the response what
649:19 - did the user type in
649:21 - into this text field and so I'll add a
649:24 - third part of the state called response
649:25 - that initially will just be the empty
649:28 - string will just be nothing
649:30 - and then this input field I'm going to
649:32 - give it a value and the value is going
649:34 - to be state DOT response
649:37 - whatever the user typed in as the
649:38 - response that's stored inside of the
649:40 - state and that is going to be the value
649:42 - of what shows up in the input field
649:45 - and so that way whatever is in the input
649:47 - field will have access to it inside of
649:49 - this state.response variable
649:51 - but there is a problem and here's the
649:53 - problem I'll try refreshing the page
649:55 - I'll go into this text field and let's
649:57 - say I know the answer I know 2 plus 4 is
649:58 - equal to 6. I'm now going to press 6 on
650:01 - my keyboard
650:02 - but as I press six on the keyboard
650:04 - nothing's happening no 6 is appearing
650:06 - inside of the text field even though I
650:09 - am pressing the key on the keyboard
650:11 - so why is that why is the text field not
650:13 - updating
650:14 - well the reason is the value of the
650:17 - input field whatever appears in the
650:18 - input field is this value state DOT
650:21 - response and state.response is always
650:24 - this empty string and never changing
650:26 - what state DOT response is equal to
650:29 - and so I need to change this a little
650:31 - bit I need to add as an attribute to
650:33 - this input field
650:34 - on change meaning when the input field
650:37 - changes I need to do something
650:39 - and I'll call a function that I can call
650:41 - update response
650:43 - but again I could call that update
650:45 - function whatever I'd like it's just the
650:46 - name for the function that's going to
650:48 - run whenever something changes in the
650:50 - input field so let me now Define that
650:52 - update response function I'll Define a
650:55 - function called update response and
650:57 - because it's an event handler it can
650:59 - accept an argument which is the event
651:01 - itself the fact that something has
651:02 - changed inside of the input field
651:05 - and when I have access to this event it
651:07 - turns out that if I want to figure out
651:09 - what it is the user is typed into the
651:10 - input field I can get at that with event
651:13 - dot Target dot value and I'd only know
651:16 - that by looking at it in the
651:17 - documentation but what I'd like is for
651:20 - event.target.value to be the new value
651:22 - for this response
651:24 - and so what I'd like to do is do
651:27 - something like this set State and what
651:29 - should the new value of the state be
651:30 - well I would like for a response to no
651:33 - longer be the empty string but to now be
651:35 - event dot Target dot value and that is
651:39 - going to be the new value for response
651:42 - quite done yet
651:44 - because State doesn't just have response
651:46 - as one of the parts of the state the
651:48 - state also has num1 and num2 and those
651:51 - two pieces aren't really changing so I
651:53 - could say all right num1 is just going
651:55 - to be whatever state DOT num1 was that's
651:57 - not changing and num2 is going to be
652:00 - whatever state DOT num2 was that's not
652:01 - changing the only thing that's changing
652:03 - is the response but this is starting to
652:07 - get a little bit verbose and especially
652:08 - if I start adding more and more
652:09 - different pieces to the state it's going
652:11 - to become difficult to manage if I
652:13 - constantly have to repeat myself for all
652:15 - of the parts of the state that aren't
652:17 - changing ideally what I'd like to do is
652:19 - just specify the parts of the state that
652:21 - will change and ignore everything else
652:25 - and so one shorthand way to do that in
652:27 - JavaScript is to use what's known as the
652:29 - spread operator and it looks like this
652:31 - dot dot dot and then state and what this
652:34 - is saying is just use the existing
652:36 - values of the state for everything else
652:38 - like num1 and num2 the only thing to
652:41 - override is the new value for the
652:44 - response
652:45 - and so this syntax here is my way of
652:47 - saying I would like to update the state
652:49 - everything should stay the same except
652:51 - for response which is now going to be
652:55 - event.target.value in other words
652:56 - whatever it is the user typed in into
652:59 - that input field
653:01 - and so I'll go ahead and refresh the
653:02 - page and now if I type a number like six
653:05 - you actually see that number appear in
653:08 - the input field
653:09 - so that's great we've now displayed a
653:11 - question where the numbers are stored in
653:12 - the state and the user can type in a
653:14 - response where that response is also
653:16 - stored in the state now what I'd like is
653:19 - when the user presses the enter key on
653:20 - their keyboard we check did they get the
653:23 - answer right or did they get the answer
653:25 - wrong
653:26 - and so how would I do that well the
653:28 - first thing I need to do
653:30 - is in this input field somehow detect
653:33 - when a key is pressed
653:35 - when a key is pressed what I'd like to
653:37 - do is check to see if it was the enter
653:39 - key and if it was the enter key then
653:41 - let's go ahead and check to see what the
653:43 - actual sum of the two numbers is and see
653:45 - if the user got that right or wrong
653:48 - so let's add an event handler on key
653:50 - press
653:51 - is going to be equal to something again
653:53 - I can name this function whatever I'd
653:55 - like I'll call it input key press but
653:58 - again I could name that anything
653:59 - and now let's define that input keypress
654:03 - function so up above I'm going to Define
654:05 - this function called input keypress
654:07 - again it takes that event as its
654:10 - argument
654:11 - and this event is going to happen
654:13 - anytime a key is pressed regardless of
654:15 - whether it's a letter or a number or the
654:17 - enter key and so I want to check to make
654:19 - sure that the key is actually the enter
654:21 - key that's the only time that I want to
654:23 - now check to see if they got the
654:25 - question right or wrong so I'll add here
654:27 - a condition it's just JavaScript so I
654:28 - can say if event.key is equal to enter
654:33 - well then let's go ahead and check and
654:35 - otherwise we don't have to do anything I
654:37 - don't need an else case here because
654:38 - nothing should happen unless it's the
654:41 - enter key that was actually pressed
654:44 - and so now how do I check to see if the
654:47 - user got the answer right or wrong
654:49 - well inside of state.num1 is the first
654:52 - number
654:53 - and inside of state DOT num2 is the
654:55 - second number so I could have a
654:57 - condition that check if state.num1 plus
654:59 - state.num2 is equal to State DOT
655:03 - response which is what the user typed in
655:05 - into the input field but that doesn't
655:08 - quite work because state.response that's
655:11 - a string the user doesn't necessarily
655:13 - have to type in numbers it's possible
655:15 - the user is going to type in some
655:17 - letters instead for example or other
655:19 - characters instead and so what I'm going
655:21 - to do first is convert the response into
655:24 - an integer if we're able to do so
655:27 - so I'm going to Define a variable called
655:28 - answer using the JavaScript function
655:31 - parseint that takes a string and tries
655:34 - to convert it into an integer so we're
655:36 - going to parse the end state DOT
655:39 - response
655:40 - and now we can check if number one plus
655:43 - number two is equal to the answer
655:46 - well then this means the user got the
655:50 - question right
655:51 - and else if the sum is not equal to the
655:53 - answer that means the user
655:56 - got the question wrong
655:58 - and so now what I could do is handle
656:00 - those two different scenarios in one
656:02 - case the user got the question right and
656:04 - we should do something and in another
656:06 - case the user got the question wrong and
656:08 - we should do something else and we're
656:09 - making that decision by looking at the
656:12 - state of the application by looking at
656:14 - what two numbers we're supposed to be
656:15 - adding and looking at what the user
656:17 - typed in as their response
656:20 - so what should we do when the user gets
656:22 - a question right or gets a question
656:23 - wrong well maybe this game is going to
656:25 - keep score by maintaining a number for
656:27 - how many questions the user has gotten
656:29 - right and every time the user gets a
656:31 - question right we could increase that
656:33 - score by one and anytime the user gets a
656:35 - question wrong we could decrease that
656:37 - score by one for example so how would we
656:40 - do that well the score is some piece of
656:43 - State inside of the application and so
656:46 - we're going to need to add to the state
656:48 - right now in the state we're storing a
656:49 - number one a number two and a response
656:53 - I'll add to that a score
656:55 - where the score is going to start out as
656:57 - just zero
656:58 - and we can render that score on the page
657:01 - if I scroll down to where we're
657:03 - returning the div to render
657:05 - let's add
657:06 - another day of it that says the score is
657:09 - and then using curly braces plug in
657:12 - whatever the value of a state DOT score
657:15 - is whatever the score is let's figure
657:17 - that out from the state and let's
657:19 - display that in the user interface
657:22 - so now this user interface shows not
657:24 - only a question and an input field but
657:27 - also a score and the score starts out as
657:29 - just the number zero
657:32 - so let's now go back to this function
657:35 - when a key is pressed if it's the enter
657:38 - key let's check to see if they got the
657:40 - answer right or wrong we check did the
657:42 - user actually get the question right if
657:45 - so what should we do well we should
657:47 - increase the score and how do we do that
657:49 - we do that by calling the set State
657:51 - function
657:52 - all of the state is going to be the same
657:54 - so using that dot dot dot State spread
657:57 - operator the only thing that's different
657:58 - is the score is going to be state DOT
658:01 - score plus one
658:04 - so we're updating the state to increase
658:06 - the score by one
658:08 - and if the user gets the question wrong
658:10 - let's set the state to be dot dot State
658:14 - and then the score is going to be state
658:16 - DOT score
658:18 - minus 1.
658:20 - so if the user gets the question right
658:21 - we increase the score by one otherwise
658:24 - we decrease the score by one and let's
658:26 - test that to see what it actually looks
658:28 - like when we try this in the user
658:30 - interface
658:31 - I'll refresh the page two plus four if I
658:34 - type in the correct answer six press
658:36 - return the score increases by one
658:39 - if I typed in the wrong answer let's say
658:41 - eight press return the score decreases
658:44 - by one
658:45 - so this appears to work depending on
658:47 - whether I get the question right or
658:49 - wrong the score is able to update
658:51 - increasing or decreasing based on the
658:53 - result of that condition now this game
658:56 - is pretty easy to get a high score on
658:57 - right now because I can just keep
658:58 - pressing return over and over and over
659:00 - and the question is never changing my
659:03 - response is already there and so the
659:04 - score keeps going up and up and up so
659:07 - let's make the game a little bit more
659:08 - interesting every time the user gets a
659:10 - question right let's display a new
659:13 - question for them to answer and how
659:15 - would we do that well the question
659:17 - that's displayed to the user is based on
659:19 - two underlying pieces of the state of
659:22 - the component it's based on state.num1
659:25 - and it's based on state.num2
659:28 - so if I want to change the question all
659:31 - I have to do is when the user gets the
659:32 - question right and I'm updating the
659:35 - state instead of only updating the score
659:37 - let's also update num1 and num2
659:42 - and I could set these to be specific
659:44 - values maybe like 5 and 10 for example
659:46 - but let's make it more interesting and
659:49 - display a random number every time we'll
659:51 - generate a random number and so the user
659:53 - will be adding two random numbers
659:54 - together every time they get a new
659:56 - question right how do we generate a
659:58 - random number well math.random is a
660:01 - JavaScript function that generates a
660:03 - random number between 0 and 1. we can
660:05 - multiply it by 10 so now we're getting a
660:07 - number between 0 and 10 but we don't
660:09 - want any decimals to appear in the
660:11 - number so I'll go ahead and take the
660:13 - ceiling of the number math.seal to say
660:16 - if the number was like 5.8 we'll just go
660:19 - ahead and round that up to six for
660:20 - example
660:21 - and we'll do the same thing for number
660:22 - two we'll take the ceiling of
660:25 - math.random times 10. so every time the
660:29 - user gets a question right we'll update
660:31 - num1 and num2 to be new random numbers
660:34 - generated just like this
660:37 - and so let's go back and try it again we
660:40 - see two plus four I type in the correct
660:42 - answer 6 and the question changes eight
660:46 - plus five I type in the correct answer
660:47 - press return my score increases and the
660:50 - question changes again this time if I
660:52 - get the answer wrong I type in 10 for
660:54 - example watch my score decrease it went
660:56 - from 2 down to one but the question
660:59 - didn't change now I get another
661:00 - opportunity to try to answer this
661:02 - question and when I answer it correctly
661:04 - the score increases again from one to
661:07 - two
661:07 - so this game is starting to come along
661:09 - now it's keeping track of my score it's
661:11 - displaying different questions there is
661:13 - at least one user interface Quirk right
661:16 - now and that is the fact that at the
661:18 - moment when I get a question right and
661:19 - press return I type in six and press
661:21 - return the six still stays there ideally
661:24 - I get a new question I'd like to clear
661:26 - out the response so the user can just
661:28 - type in whatever the new answer is
661:30 - rather than have to delete whatever they
661:31 - typed in before and then type in a new
661:34 - number so how could we do that reset
661:36 - whatever is inside of the input field
661:38 - well what's typed into the input field
661:40 - is stored inside of the state of my
661:43 - component it's stored inside of state
661:45 - DOT response
661:47 - and so if I wanted to change that
661:49 - all I would have to do is say let's
661:51 - change the response to be
661:55 - the empty string
661:57 - when the user gets a question right
661:58 - we're going to update these two numbers
661:59 - increase the score and also clear out
662:03 - the response so that it's just the empty
662:05 - string and I can do the same thing if
662:08 - the user gets a question wrong decrease
662:10 - the score by one but also clear out that
662:13 - response back to the empty string so
662:15 - that there's nothing there
662:17 - and so now
662:18 - we get a question I type in an answer
662:21 - press return and the input field clears
662:24 - out I get a new question and the score
662:26 - increases by one four separate pieces of
662:28 - State all changing at the same time and
662:31 - that gets reflected in the user
662:33 - interface that I'm now able to see so I
662:35 - type in another value and the score
662:38 - increases and everything updates again
662:42 - all right so that's definitely progress
662:43 - one other user interface Quirk that I
662:45 - noticed here is that the input field by
662:48 - default isn't automatically selected
662:50 - where I would have to go in and click on
662:52 - the input field in order to highlight it
662:54 - so that I can start typing in my
662:55 - response I can fix that pretty easily if
662:58 - I scroll down to where the input field
663:00 - is we'll add in auto focus attribute
663:04 - and just set that to be true so that the
663:06 - input field automatically focuses when I
663:09 - load the page for the first time
663:12 - so now I refresh the page the input
663:13 - field is already highlighted and
663:15 - immediately I can start to try to play
663:17 - this game
663:18 - so now that we have the basic
663:20 - functionality of this app working let's
663:22 - try and improve the CSS so that the game
663:24 - looks a little bit nicer I'll scroll up
663:27 - to the top of the page and add a style
663:29 - tag to the Head section of my HTML page
663:32 - and I'd like for this entire app to be
663:35 - centered so I'll say text align is going
663:37 - to be Center
663:39 - and I'm going to set the font family to
663:42 - be Sans serif because I prefer that font
663:44 - for this particular game
663:47 - so I refresh the page and now everything
663:48 - is centered and the font is different
663:50 - than what the default was
663:52 - and what else would I like to have
663:53 - changed
663:54 - well this problem two plus four maybe
663:57 - I'd like for that to be bigger I'd like
663:58 - the problem to be big and the score
664:00 - beneath that that can stay the same size
664:02 - that it is right now
664:04 - so how would I do that well if I go back
664:06 - to the HTML here I'll go ahead and give
664:09 - this div where I'm displaying the
664:10 - problem number one plus number two I'll
664:13 - give it an ID of problem
664:16 - and then if I scroll back up I'll say
664:18 - for the element with an ID of problem
664:21 - let's go ahead and set the font size to
664:24 - be
664:25 - 72 pixels for example
664:28 - just to make it bigger and so now I see
664:30 - a big math equation two plus four for
664:32 - example the input field and then the
664:34 - smaller score beneath it so that's a
664:37 - nice UI enhancement a little bit and now
664:39 - I can play the game get a question right
664:40 - uh and the score increases and I get a
664:43 - question wrong and I get to try again
664:45 - but maybe I'd like to offer more of a
664:48 - visual indication that the user got a
664:50 - question wrong maybe any time the user
664:52 - gets a question wrong I'd like to change
664:54 - the color of this text instead of being
664:57 - black instead it should be red when the
664:58 - user gets a question wrong and how could
665:01 - I go about doing that well we can change
665:03 - the color of something just by using CSS
665:06 - if we had like a class called incorrect
665:09 - for example if I scroll down here
665:11 - and give this div a class name which is
665:16 - how you add a class in react of
665:19 - incorrect
665:20 - then I could use this class name to
665:22 - style it as red or not red so I could
665:26 - say
665:27 - anything that has a class of incorrect
665:29 - let's go ahead and give that a color of
665:32 - red
665:34 - and so now because I gave this problem a
665:37 - class of Incorrect and I said turn all
665:40 - incorrect text to be read we now see
665:42 - this text appear as red but this again
665:44 - is not quite what I want I don't want it
665:46 - to be read all of the time I only want
665:48 - it to be read when the user has just
665:50 - gotten the question wrong when they were
665:52 - just incorrect In answering a
665:54 - mathematical question and so how could I
665:56 - represent that information inside of my
665:59 - application well I'm going to need some
666:01 - additional state state again is any
666:03 - information that I need to keep track of
666:05 - inside of my component and now it seems
666:07 - that in addition to the response and the
666:10 - score and the numbers I also want to
666:12 - keep track of did the user just answer a
666:15 - question incorrectly or not
666:17 - so I'll add another piece to the state
666:18 - I'll call it Incorrect and initially it
666:22 - will be false they didn't just get
666:23 - something incorrect
666:25 - and now here
666:28 - if I scroll down to this class name
666:30 - rather than have it be incorrect all the
666:32 - time
666:33 - let me add in curly braces in expression
666:37 - I'll say if state DOT incorrect is true
666:40 - using the ternary operator with a
666:42 - question mark then the class should be
666:45 - incorrect but otherwise it shouldn't
666:47 - have a class of incorrect it'll just be
666:49 - the empty string and so this expression
666:51 - here allows me to change the class of an
666:54 - HTML element based on the underlying
666:57 - state if State DOT incorrect is true
666:59 - then this div will have a class of
667:01 - Incorrect and otherwise it won't
667:04 - and so now when I load the page for the
667:06 - first time
667:07 - the text appears as black
667:09 - and what I need to do is when the user
667:12 - gets a question wrong I need to change
667:14 - the state to indicate that they just got
667:16 - a question wrong
667:18 - how do I do that
667:19 - well here is the set State call when the
667:23 - user gets a question wrong
667:25 - and in that case I'll go ahead and set
667:26 - incorrect equal to true
667:30 - and when the user gets a question right
667:32 - we'll go ahead and set incorrect equal
667:34 - to false we're modifying this one
667:37 - additional piece of State based on
667:38 - whether the user got the question right
667:41 - or wrong
667:42 - so now if I load the page answer a
667:45 - question correctly the score increases
667:46 - and I get a new question but if I answer
667:49 - a question incorrectly and press return
667:51 - you'll notice the score decreases the
667:53 - input field clears out and the text
667:55 - changes color because I change the value
667:58 - of that incorrect part of the underlying
668:00 - State and based on that we were able to
668:02 - see the text color change as well if I
668:05 - now get a question correct press return
668:07 - the text color changes Back to Black and
668:09 - the score increases
668:12 - and let's now add one final piece of
668:15 - state or one final change to the UI for
668:17 - this application let's give me a way to
668:19 - win this game maybe once I get to a
668:21 - score of 10 by answering 10 questions
668:23 - correctly then we're going to win the
668:26 - game and how could I do that well
668:28 - remember that each react component can
668:31 - just be a JavaScript function and this
668:33 - function is just immediately returning
668:35 - this div but it's a function so I can
668:37 - add additional logic to it I can say if
668:40 - state DOT score is equal to 10 for
668:44 - example then rather than render the old
668:46 - div let's run return a new div
668:51 - this div is just going to display
668:55 - something like U1
668:57 - and so that I can style it I'll give it
668:59 - an ID
669:00 - the ID will be winner
669:03 - and if the ID is winner
669:06 - let's go ahead and make the font size 72
669:09 - pixels and let's make the color green if
669:11 - I win
669:12 - so I added some CSS just to style it but
669:15 - really the only New Logic is further
669:17 - down below where I'm here saying check
669:20 - the state if the score is 10 well that
669:23 - means we win so instead of returning the
669:25 - new problem just return a div that says
669:28 - you won the game
669:30 - so let's try that now
669:32 - I get these questions every time I
669:34 - answer a question you're noticing that
669:36 - the score is going to increase by one
669:37 - and every time we're generating new
669:39 - random numbers to display as the uh as
669:43 - what's going to appear in the user
669:44 - interface and once I get to question
669:46 - number 10 if I answer it correctly press
669:49 - return the entire UI changes instead of
669:51 - the problem in an input field and the
669:53 - score I just see in green large text
669:56 - that I want and again I was able to do
669:59 - that by looking here at this condition
670:01 - where we're looking at the value of the
670:03 - state and if the state is 10 we're
670:06 - deciding what's a retina and this again
670:08 - is one of the great powers of react this
670:10 - ability to use this underlying State and
670:12 - based on the value of the underlying
670:14 - State decide what it is the user should
670:16 - see in their user interface
670:18 - and react is just one of many libraries
670:21 - that do this type of thing other popular
670:23 - ones include angular and view where all
670:25 - of these are just these web Frameworks
670:27 - that make it easy to be able to create
670:28 - applications that are able to respond to
670:31 - some underlying state so that you the
670:33 - programmer don't have to worry about
670:34 - constantly having to manipulate various
670:36 - different parts of the page which
670:37 - especially as you imagine websites like
670:40 - Facebook or Twitter where there are many
670:41 - things happening on the page at the same
670:43 - time every time a new tweet comes in you
670:45 - might get a notification and see a new
670:47 - Post in your main area of your news feed
670:49 - so these are the types of things that
670:51 - you might want the application to be
670:53 - able to more easily handle for you where
670:55 - you describe what the state is you
670:57 - describe what the page should look like
670:58 - based on that underlying State and let
671:00 - the library whether it's react or
671:02 - something else begin to handle the
671:03 - process of doing that for you and the
671:06 - world of user interfaces is changing
671:08 - pretty quickly that a lot changes in
671:10 - user interfaces in terms of the
671:11 - Technologies and the tools that are
671:12 - quite popular but they're really based
671:14 - on the same set of underlying ideas the
671:16 - idea that we can use JavaScript in order
671:18 - to manipulate what it is the user sees
671:20 - on their page in order to detect what's
671:22 - happening based on particular events
671:24 - like scrolling to the bottom of the page
671:25 - or typing something into an input field
671:27 - and then responding to those particular
671:30 - events by providing some sort of
671:32 - function that gets called anytime a
671:34 - particular event happens by mixing that
671:36 - in with other features like the ability
671:37 - to asynchronously request information
671:39 - from an external server or the ability
671:42 - to do computations based on the values
671:44 - of the state like we saw within react we
671:46 - have the ability to create very
671:47 - interesting engaging Dynamic user
671:50 - interfaces very very quickly all just
671:52 - using the power of combining Python and
671:54 - JavaScript that was web programming with
671:57 - python and JavaScript for today we'll
671:58 - see you next time
672:02 - [Music]
672:11 - thank you
672:14 - [Music]
672:19 - okay welcome back everyone to web
672:21 - programming with python and JavaScript
672:22 - and now at this point we've seen a
672:24 - number of different techniques and tools
672:26 - that we can use in order to design web
672:28 - applications HTML and CSS to describe
672:30 - how it is that our Pages look a
672:33 - programming language like python using a
672:34 - framework like Django in order to listen
672:36 - for requests process them and provide
672:39 - some sort of response and then more
672:40 - recently we took a look at JavaScript
672:42 - another programming language that we can
672:44 - use in particular on the client side
672:46 - running inside of the user's web browser
672:48 - in order to make our web pages even more
672:50 - interactive and user friendly now what
672:52 - we'll transition to today is taking a
672:54 - look at some of software's best
672:55 - practices some tools and techniques that
672:57 - developers actually use when they're
672:59 - working on web applications especially
673:01 - as those web applications start to grow
673:03 - larger in particular we'll start by
673:05 - discussing testing this idea of
673:07 - verifying that our code is correct and
673:08 - then transition to CI CD short for
673:11 - continuous integration and continuous
673:13 - delivery some other best practices that
673:15 - are used in making sure that the work
673:17 - that software developers are working on
673:18 - can be tested and deployed readily and
673:21 - very quickly
673:22 - so we'll begin the conversation with
673:24 - testing and testing is really about this
673:25 - idea of verifying and making sure that
673:28 - the code that software developers are
673:30 - writing are in fact correct to make sure
673:32 - that the functions work the way they're
673:33 - supposed to that the web pages behave
673:35 - the way that they are supposed to and
673:37 - ideally we'd like some way to be able to
673:39 - efficiently and effectively test our
673:41 - code over time and as our programs grow
673:43 - more complicated to allow our tests to
673:45 - make sure that our program is behaving
673:47 - the way that we want it to so we'll go
673:49 - ahead and start simple and consider the
673:51 - basic way that we might take a function
673:52 - for example written in Python and test
673:55 - and verify to make sure that it works
673:57 - the way we would expect it to and to do
673:59 - so we can start with a command in Python
674:01 - known as assert and what assert does in
674:04 - Python is it asserts or just states that
674:06 - something should be true and if that
674:09 - something is not true then the assert is
674:11 - going to throw an exception some sort of
674:13 - error so that whoever is running the
674:15 - program or running the command knows
674:17 - that something went wrong and this can
674:18 - be a very basic way that we can leverage
674:20 - Python's abilities to test a function
674:23 - and verify that that function behaves
674:25 - the way we would want it to so let's go
674:27 - ahead and try a simple example of
674:29 - writing a python function and then
674:31 - trying to test to make sure that that
674:32 - function works the way we would want it
674:34 - to
674:35 - so we'll go ahead and create a new file
674:36 - I'll call it a search.pi
674:39 - and let me Define a new python function
674:41 - for example that is going to take an
674:43 - integer and square it just want to take
674:45 - a number and return it Square so I'm
674:47 - going to define a function called Square
674:49 - that takes us input a number like X and
674:52 - I want to return x times x so fairly
674:57 - straightforward function but I would
674:58 - like to now verify that the function
675:00 - works the way I would expect it to now
675:01 - there are a number of ways that you
675:03 - could do this one would be just like
675:04 - let's print out what the square of 10 is
675:08 - for example and just see what that's
675:10 - equal to and then you could run a
675:11 - program something like Python assert.pi
675:15 - and just say all right the answer is 100
675:16 - and I could say to myself okay that's
675:18 - what I would expect it to be but I now
675:20 - have to do the mental math of squaring
675:22 - the number 10 making sure that the
675:23 - answer comes out to be the value that I
675:25 - expect it would be nice if I could
675:26 - automate this process
675:28 - well one thing I could do is print out
675:30 - does the square of 10 equal 100 I know
675:34 - that I want square of 10 to equal 100 so
675:36 - I could just print out that value print
675:37 - out does square of 10 equal the number
675:40 - 100 I'll go ahead and run the program
675:42 - again and this time what I get is true
675:44 - for example because those two things are
675:46 - equal to each other and if on the other
675:48 - hand I had tried to check for something
675:50 - that wasn't true like does square of 10
675:52 - equal 101 you run the program and okay
675:55 - now it's going to be false
675:56 - so this is nothing new nothing we
675:58 - haven't seen before but now what I can
676:00 - do is instead of this I can just say let
676:03 - me assert that square of 10 is equal to
676:07 - 100. here I'm just asserting that this
676:10 - expression that the square of 10 is
676:11 - equal to 100 is going to be true
676:15 - and now I can run the program and what
676:17 - you'll notice is nothing happens no
676:19 - output nothing at all because when an
676:22 - assert statement it runs and the
676:23 - expression that it's checking turns out
676:25 - to be true that the square of 10 does
676:27 - equal 100 it effectively ignores that
676:29 - statement altogether just continues on
676:31 - to the next thing no output no side
676:32 - effect of any sort and this is helpful
676:35 - because it just means that if I want to
676:36 - assert that something is true I can
676:38 - assert it and then just continue writing
676:40 - my code and it's as if I hadn't written
676:42 - that a certain statement at all so long
676:43 - is the thing that I'm asserting is
676:45 - actually true but if there were a bug in
676:48 - my code for example some sort of mistake
676:50 - where instead of returning x times x
676:52 - imagine that I accidentally said return
676:54 - X Plus X to calculate the square instead
676:57 - something that would be a bug in this
676:58 - case
676:59 - well then when I try to run python
677:02 - assert.pi what I'm going to get is an
677:05 - exception and the type of exception that
677:07 - I get is something known as an assertion
677:08 - error and I can see that here there's an
677:10 - assertion error and then I see the
677:12 - reason why the assertion error happened
677:13 - in the assertion error happened on line
677:15 - four which is this line here where I
677:17 - said I would like to assert that the
677:19 - square of 10 is equal to 100. so one way
677:22 - we could imagine testing our code is
677:24 - just by including a number of these
677:26 - different assert statements if I want to
677:27 - verify that my code is correct I can
677:30 - write various different assert
677:31 - statements and for a function that's
677:32 - fairly simple like the square function
677:34 - probably not too many tests that I would
677:36 - need to write but you can imagine for
677:37 - more complex functions that have
677:39 - multiple different conditional branches
677:41 - being able to assert that no matter
677:43 - which conditional Branch the program
677:45 - chooses to follow that the code will
677:46 - actually be correct can be a valuable
677:48 - thing to be able to say
677:50 - and this can be helpful too when in
677:52 - working on a larger project you want to
677:54 - deal with the problem of like bugs that
677:56 - might appear inside of a project and
677:58 - this gets at the idea of test driven
678:00 - development developing while keeping
678:01 - this notion of testing in mind and one
678:03 - of the best practices would be if ever
678:05 - you're working on a program of your own
678:06 - and you encounter some bug in the
678:08 - program you'll first want to fix the bug
678:10 - but then you'll want to write a test
678:12 - that verifies that the new behavior is
678:15 - working as expected and once you've
678:17 - written these tests these tests can
678:19 - start to grow over time and as you
678:20 - continue working on your project you can
678:22 - always run those existing set of tests
678:24 - to make sure that you nothing no new
678:26 - changes that you make to the program
678:27 - down the line no future features that
678:29 - you add or changes you might make are
678:31 - going to break anything that was there
678:33 - before and this is especially valuable
678:35 - as programs start to get more complex
678:36 - and testing everything by hand would
678:39 - start to become a very tedious process
678:40 - to be able to just automate the process
678:42 - of just run a whole bunch of tests on
678:44 - all the things that I know that I would
678:45 - like the program to do and making sure
678:47 - they work as expected that can be quite
678:49 - helpful
678:50 - so assert then is one basic way of just
678:53 - saying that I would like for this
678:54 - statement to be true and if it's not
678:56 - true go ahead and throw an exception and
678:58 - using python we know we also have the
679:00 - ability to catch those exceptions in
679:02 - order to make sure that we're able to
679:04 - handle those appropriately so we can
679:05 - display a nice error message for example
679:07 - if we wanted to do so
679:09 - but now let's go ahead and try and write
679:11 - a more complex function something more
679:13 - complex than just taking a number and
679:15 - squaring it somewhere where there's more
679:17 - room for various different cases that I
679:19 - might want to test and more room where I
679:20 - the programmer might make a mistake for
679:22 - example so let's imagine
679:24 - writing a new file then I'm going to
679:26 - call prime.pi where here I'll go ahead
679:30 - and say that I would like Prime dot pi
679:32 - to implement a function called is prime
679:36 - and what the is prime function should do
679:37 - is check to see if a number is prime or
679:40 - not the prime number only has factors of
679:42 - one and itself and I would like to write
679:44 - a function that verifies that fact
679:46 - and so how might I go about doing that
679:48 - well if n is less than two
679:52 - then it is definitely not prime because
679:57 - we say 0 and 1 are not going to be Prime
679:59 - and we'll only deal with numbers that
680:00 - are zero or greater and we'll deal with
680:02 - that for now but let's start then with
680:05 - other numbers numbers that are two or
680:06 - greater
680:08 - well what do I want to do I really want
680:09 - to check each of the possible factors
680:11 - like if I want to check whether or not
680:12 - 100 is prime or not then I want to Loop
680:15 - over all the possible numbers that could
680:17 - be factors of 100 like 2 3 4 5 6 and
680:19 - when I get to a number like 2 or a
680:21 - number like 5 that do go into 100
680:23 - cleanly well then I'll know that the
680:25 - number is not prime so I could say for I
680:28 - in range from 2 all the way up through n
680:33 - for example
680:35 - let me go ahead and say if n mod I
680:39 - equals 0 then return false so what am I
680:43 - saying here I'm saying go ahead and
680:45 - start at 2 go up through but not
680:47 - including n so for if I'm checking to
680:49 - see if 10 is prime for example I'm going
680:51 - to check for I is 2 3 4 5 6 7 8 9 and
680:54 - for each of those numbers check if n my
680:57 - input to this function mod I the factor
681:00 - that I would like to check is equal to
681:02 - zero this mod operator this percent if
681:04 - you don't recall gives us the remainder
681:06 - when you divide one number by another
681:08 - and so if n mod I equals 0 that means
681:11 - the remainder when you divide n by I
681:14 - equals 0 meaning I goes into end cleanly
681:16 - with no remainder and that means that
681:18 - it's not prime because it does have a
681:21 - factor whatever I is is going to be that
681:22 - factor
681:23 - and if I get to the end of this for Loop
681:25 - then I can go ahead and just say return
681:27 - true if we weren't able to find a factor
681:30 - for the number other than one and the
681:32 - number itself well then we can go ahead
681:33 - and say that true this number is going
681:35 - to be Prime
681:36 - and so this for example could be a
681:38 - function that checks to see if a number
681:40 - is prime but if I'm trying to optimize
681:42 - I'm trying to make my function more
681:43 - efficient I might realize that you
681:45 - really don't need to check every number
681:46 - from 2 all the way up to the number n
681:49 - itself I could really just check up to
681:52 - like the square root of that number for
681:54 - example that for a number like 25 I want
681:57 - to check like 2 3 4 5 because 5 squared
682:00 - is going to be 25 but after 5 I don't
682:03 - need to check any more numbers beyond
682:05 - that that after you get to a number
682:06 - after a number the square root of that
682:09 - number is multiplied by itself there's
682:10 - never going to be a case where a number
682:12 - bigger than that could be a factor that
682:14 - I won't have already known about so just
682:16 - thinking about things a little bit
682:17 - mathematically we might be able to make
682:19 - some sort of optimizations where instead
682:21 - of going from 2 all the way up through N
682:23 - I might go up to the square root of n
682:28 - and I'll go ahead and import math to be
682:31 - able to use math.s square root and I'll
682:33 - convert that number to an integer just
682:35 - in case the square root doesn't already
682:36 - happen to be an integer so I think this
682:39 - works I've at least talked myself into
682:41 - thinking that this is a function that
682:42 - might be able to check if a number is
682:44 - prime so what could I do if I wanted to
682:46 - verify this well I could write some
682:47 - assert statements another thing I could
682:49 - do is just use the python interpreter I
682:51 - could say all right let me go ahead and
682:53 - type python
682:55 - and now I'm in the python interpreter
682:57 - and I can say from Prime go ahead and
683:00 - import is prime prime is the name of
683:03 - that file is prime is the function in
683:05 - that file that I would like to test and
683:07 - let's just try alright like is prime of
683:09 - 5. that's a prime number hopefully it'll
683:11 - say true that it's Prime all right it
683:13 - does let's try is prime 10 see if that
683:17 - works all right is prime 10 is false
683:19 - because 10 is not prime that's good that
683:21 - seems to be working as well let's try
683:22 - like is prime uh 99 that's not prime
683:26 - because like 3 is a multiple of that for
683:28 - example all right false so that's good
683:30 - this seems to be working and I could in
683:32 - The Interpreter test this function to
683:34 - make sure that it works the way that I
683:35 - would want it to work but let's now see
683:37 - some other ways that I might go about
683:39 - testing it well one way
683:41 - is that I could write a file like uh
683:44 - test0 dot pi and when test 0.pi is going
683:48 - to do instead of using assert I'm just
683:50 - going to do our Boolean checks like we
683:51 - were doing before I'm going to import
683:53 - the is prime function and I've defined a
683:56 - new function called test Prime which is
683:58 - going to serve the role of testing to
684:00 - make sure that when you square some
684:02 - number or when you check to see if some
684:04 - number n is prime that you get some
684:06 - expected value where that expected value
684:07 - is either true for it is prime or false
684:10 - for it's not Prime what then is this
684:12 - function doing well the function is
684:14 - checking we're calling the is prime
684:16 - function on this number n and seeing
684:18 - whether or not it is equal to the
684:20 - expected value that we get where we
684:22 - expect it to be either true or false and
684:24 - if we run is Prime on n and it is not
684:27 - equal to what we expect well then we
684:31 - print out okay there's an error we
684:33 - expected some value true or false but it
684:36 - turned out not to be the case
684:38 - and so now that I have this test Prime
684:40 - function well I can say all right let me
684:42 - go back into the python interpreter from
684:44 - test zero import test Prime and now I
684:47 - can say all right let me test Prime make
684:49 - sure that 5
684:51 - is prime so I'm passing in my first
684:54 - input the number n the number I would
684:55 - like to check I want to check if 5 is
684:57 - Prime and the second input I provide is
684:59 - what I expect it to be either true or
685:01 - false and here nothing happens which is
685:05 - a good thing if there were an error it
685:07 - would have printed something out and the
685:08 - fact that I see nothing printed out
685:09 - means that everything was okay if I test
685:11 - Prime now and say something like all
685:13 - right make sure 10 is not prime make
685:16 - sure the 10 when you pass it into is
685:18 - prime is going to give us false again
685:20 - nothing happens seems to be working just
685:22 - fine
685:23 - let me now try I can try more examples
685:25 - maybe I try test Prime 25 I want to make
685:28 - sure the 25 is not prime because 25 is
685:30 - not a prime number
685:32 - all right we got some sort of error
685:33 - there's an error on is prime 25 where I
685:36 - expected the output to be false but for
685:39 - some reason it looks like is prime
685:41 - returns something other than false it
685:43 - probably return true and some might
685:45 - indicate some sort of bug in my program
685:46 - that somehow I don't think that 25
685:49 - should be a prime number but my program
685:52 - thinks that 25 is a prime number and
685:54 - that error can be a clue to me as to how
685:56 - to do this but ultimately especially as
685:58 - programs start to grow longer especially
686:00 - as I start to add more and more
686:01 - functions testing each of those
686:02 - functions by hand is going to start to
686:04 - get tedious so one thing I could do is
686:06 - like write a script to be able to run
686:09 - all these tests for me automatically and
686:11 - so here what I have a test zero dot sh
686:14 - dot sh being like a shell script some
686:17 - script that I can just run inside my
686:18 - terminal and what this is doing is it's
686:21 - running python3 for python version 3
686:23 - Dash C which means I'm just going to
686:25 - give it a command and it is going to run
686:27 - that command and so I can just run these
686:29 - and each of these lines does what from
686:32 - test 0 it Imports my test Prime function
686:34 - that function that is going to test to
686:36 - make sure that the prime function
686:38 - produces the output that I would expect
686:39 - it to and each time I'm testing a
686:42 - different number making sure that one is
686:43 - not prime making sure that 2 is prime 8
686:45 - is not prime so on and so forth and I
686:48 - can just write a whole bunch of these
686:49 - tests and then rather than have to run
686:51 - each test one at a time what I can do is
686:53 - I can just run test zero dot sh I can
686:56 - just say
686:57 - that I would like to run dot slash
687:00 - test0.sh
687:03 - and all right I see that I get two
687:04 - errors I get an error on is prime 8
687:06 - where I expected it to not be prime but
687:09 - for some reason it seems to be Prime and
687:11 - then again here exception on is prime 25
687:14 - or I expected it to not be prime but for
687:17 - some reason my program thinks that it is
687:19 - prime so very helpful way for me to know
687:21 - immediately that there's some sort of
687:23 - error that is going on here
687:25 - But ultimately rather than have me have
687:27 - to write all this framework for how to
687:28 - go about testing my code on my own there
687:30 - exists libraries that can help us with
687:32 - this and one of the most popular in
687:34 - Python is a library known as unit test
687:36 - and what unit test is a library designed
687:38 - to do is it is going to allow us to very
687:40 - quickly write tests that are able to
687:42 - check whether something is equal to
687:43 - something else and then unit test is
687:45 - built in with an automated test Runner
687:47 - that will run all of the tests for me
687:49 - and verify the output and unit test gets
687:51 - built in to a lot of other libraries
687:53 - within python we'll see how we'll soon
687:55 - be able to apply this sort of idea to
687:57 - our Django applications as well but
687:59 - let's now translate these tests that we
688:00 - have written ourselves just by writing a
688:02 - function that like tests whether the
688:04 - prime number is what we expect it to be
688:05 - and now translate it to using this
688:08 - python unit test Library instead
688:10 - and so just to get a sense for what this
688:12 - looks like I'll now go ahead and open up
688:14 - tests one dot Pi where here first thing
688:17 - I'm doing is I'm importing unit test
688:19 - which we get for free with python I'm
688:21 - also importing the function that I would
688:23 - like to test and now I'm defining a
688:26 - class which will contain all of my tests
688:29 - this is a class that inherits from or
688:31 - derives from unit test.test case which
688:34 - means that this is going to be a class
688:35 - that is going to define a whole bunch of
688:37 - functions Each of which is something
688:40 - that I would like to test and so for
688:42 - example in this very first test this is
688:45 - a test that checks to make sure that one
688:47 - is not Prime
688:49 - and so the way I do that is by calling
688:51 - self this testing object itself it
688:53 - happens to have a method or function
688:55 - built into it called assert false
688:57 - there's an equivalent assert true but I
689:00 - would like to assert false and what
689:01 - would I like to assert that is false is
689:03 - prime one
689:04 - so whatever is prime one is that should
689:06 - be false and I would like to just assert
689:07 - that it is false
689:10 - likewise for the number two now I want
689:12 - to check that the number two is Prime
689:14 - and the way I do that is by calling self
689:16 - dot assert true I would like to assert
689:19 - that when I run the is prime function on
689:20 - the number two the output that I get is
689:22 - going to be a true value self not a
689:24 - third true
689:25 - and I can translate each of the rest of
689:27 - my tests into one of these self.assert
689:30 - truths or self dot assert false and then
689:33 - I say that if you go ahead and run the
689:34 - program go ahead and call unittest.main
689:37 - which will run all of these unit tests
689:40 - so now when I run python test1 dot pi
689:45 - here's what I get I get some nice output
689:47 - we're up at the top I see dots every
689:49 - time a test succeeded and on letter f
689:51 - for a test that happened to fail it says
689:53 - that it ran six tests and down at the
689:55 - bottom I see that there were two
689:56 - failures so it's immediately going to
689:58 - tell me exactly what failed and it'll
690:00 - give me some rationale some reason for
690:02 - why it is that those tests failed as
690:04 - well so we can see all right here is one
690:05 - test here's another test this test that
690:08 - failed is the test that checked that 25
690:10 - is not Prime and this sentence here is
690:13 - what I supplied inside of what was known
690:15 - as that python doc string inside of
690:17 - those triple quotation marks underneath
690:19 - the Declaration of the function those
690:21 - triple quotation marks otherwise known
690:23 - as a doc string serve a number of
690:24 - purposes they can serve as just a
690:26 - comment for describing what it is the
690:28 - function does but there are special
690:29 - comment in so far as someone who's
690:32 - looking at the function can access that
690:34 - doc string that's usually used for
690:36 - documentation for what it is that the
690:38 - function is doing and they can use it
690:39 - inside of other places as well and so
690:42 - what unit test is doing is for every
690:43 - function it uses that Doctrine as a
690:46 - description of what the test is testing
690:48 - for so that if a test fails then I can
690:51 - see exactly what the name is of the test
690:53 - that failed and what it was tested where
690:55 - the description describes what was
690:57 - happening now in this case where it's
690:58 - just one function I'm testing a whole
691:00 - bunch of different numbers it doesn't
691:01 - seem all that useful but again if you
691:03 - imagine projects that start to get more
691:05 - complex being able to know immediately
691:07 - when you run your tests which parts of
691:09 - the program or which parts of your web
691:10 - application aren't working the way they
691:12 - are expected to can actually be quite
691:15 - helpful
691:16 - so test 25 that was the function that
691:18 - triggered an assertion failure in this
691:20 - case and the line that caused it was
691:22 - self.assert false is prime 25 and the
691:25 - reason that it failed is because true
691:27 - which apparently was the output of this
691:30 - function is not false and I expected it
691:32 - to be false instead
691:34 - and so multiple different ways of trying
691:36 - to run our tests this happens to be one
691:38 - quite popular one but this now tells me
691:40 - that I should go back and try and fix my
691:42 - is prime function I can go back
691:45 - into Prime dot pi and say all right I
691:49 - would like to figure out why this went
691:50 - wrong and if you look at this enough and
691:52 - maybe give it a little bit of testing
691:53 - you might see that I have a slight off
691:55 - by one error that I probably need to
691:56 - check one additional number than I
691:59 - actually am because in checking whether
692:01 - or not 25 is prime or not for example I
692:04 - might need to go up 2 and including the
692:06 - number five to know that 5 is a factor
692:08 - of 25 but before I was going up to the
692:11 - number five but I wasn't including the
692:12 - number five so I also need to just check
692:15 - one more number and now to verify that
692:17 - this is right I could just manually test
692:19 - the function myself or I could just run
692:21 - these tests again run Python test1.pi
692:24 - and this time all these dots mean all
692:26 - these tests succeeded we ran six tests
692:29 - and everything was okay no failures and
692:32 - so
692:33 - this can be a helpful way for me to know
692:34 - immediately that thing seems to be
692:36 - working okay
692:37 - so the takeaways from here are that
692:39 - these tests can definitely help as you
692:41 - begin to write new changes to your
692:43 - program especially as you begin to
692:44 - optimize functions you might make a
692:46 - function more efficient but then run
692:48 - your tests to make sure that in making
692:49 - these improvements you haven't broken
692:51 - anything you haven't changed any
692:52 - behavior that the way the program was
692:54 - supposed to behave and now it doesn't
692:55 - behave that way you're able to verify
692:58 - with much more confidence that that is
692:59 - true but of course that only works if
693:01 - your tests have good coverage of all the
693:04 - things that you would want the function
693:05 - to do and you've covered appropriately
693:07 - all the various different cases for how
693:09 - the function should behave because only
693:11 - if the tests are comprehensive will they
693:13 - actually be useful to you in indicating
693:14 - that the change that you made isn't
693:16 - going to break anything and only then
693:17 - can you actually feel confident in those
693:20 - changes themselves
693:21 - so now let's take this idea of using
693:24 - unit tests to be able to write these
693:25 - tests that verify that a function works
693:27 - and apply it to something like a web
693:29 - application like a web application
693:31 - written in Django that we would like to
693:33 - now use in order to be able to test to
693:34 - make sure that various different
693:36 - functions inside of our Django web
693:37 - application work as well
693:40 - so what I'm going to do is actually take
693:42 - a look at the airline program that we
693:44 - wrote back when we were first talking
693:45 - about Django and first talking about
693:47 - storing data inside of databases and I'm
693:49 - going to open up models.pi
693:51 - where you see that I've made one
693:53 - addition to our definition of a flight
693:55 - and recall from before when we first
693:57 - introduced this idea of defining a model
693:59 - inside of our application for a flight
694:01 - inside of an airline we gave that model
694:03 - three properties it had an origin and a
694:06 - destination where both origin and
694:07 - destination referenced an airport object
694:10 - where an airport object with an object
694:11 - we defined separately but a flight has
694:13 - an origin airport and a destination
694:15 - airport and in addition to that every
694:17 - flight has a duration some number of
694:19 - minutes long that that flight is going
694:21 - to last
694:22 - now I might like to have some way to
694:25 - validate to verify that a flight is a
694:28 - valid flight there isn't some error
694:30 - somewhere in how the data was entered
694:32 - into the database I would like to just
694:33 - generally make sure that given a flight
694:35 - I can check to make sure it's a valid
694:37 - flight and what does it mean for a
694:38 - flight to be valid well in general given
694:41 - these particular Fields I'll say there
694:43 - are two things that need to be true for
694:44 - a flight to be valid uh the origin and
694:46 - the destination need to be different
694:47 - that's condition number one it wouldn't
694:49 - make sense to have a flight whose origin
694:51 - and destination are the same airport and
694:53 - condition number two the duration of the
694:55 - flight needs to be greater than zero
694:58 - minutes if ever the duration is zero or
695:00 - the duration is negative that probably
695:01 - indicates to me that there was some sort
695:03 - of mistake in data entry or some problem
695:05 - that happened with how it is that these
695:07 - flights were configured so I want to
695:08 - make sure that the duration is greater
695:10 - than zero and those then are my two
695:12 - conditions for what makes a valid flight
695:14 - and I've in fact written a function here
695:16 - called is valid flight that just works
695:18 - on the slight class that simply checks
695:21 - given a flight make sure that is in fact
695:23 - valid and the way it's doing that is by
695:25 - checking for these two conditions that
695:27 - I've just described it's checking to
695:28 - make sure that the origin is not equal
695:30 - to the destination it's checking to make
695:32 - sure that the duration of the flight is
695:34 - greater than or equal to zero and maybe
695:36 - I should change that to greater than to
695:37 - make sure it's entirely positive but
695:39 - this then is my definition for what it
695:42 - means for something to be a valid flight
695:45 - and what I'd like to do now is test
695:47 - these various different parts of my
695:49 - application I have this is valid flight
695:51 - function inside of flight that I might
695:53 - like to test as well but we also have
695:55 - all of these other properties that I
695:57 - would like to test these relationships
695:58 - that a flight has an origin and a
696:00 - destination we have passengers that can
696:02 - be associated with flights so there's
696:04 - lots of relationships between my data
696:06 - that I would like to test and verify to
696:08 - make sure they work the way we would
696:09 - expect it to
696:10 - so to do that whenever we create an
696:13 - application in Django like this flights
696:15 - application here we were also given this
696:18 - test.pi file and we haven't yet used the
696:21 - test.pi FI file for anything but what
696:23 - it's supposed to be used for is for
696:25 - writing these sorts of tests testing
696:27 - that verifies that our application
696:29 - behaves the way that we want it to
696:31 - behave
696:33 - so let's go ahead now and open up
696:35 - test.pi and see what happens to be in
696:37 - here what we can do is we can define a
696:41 - subclass of test case which behaves very
696:43 - similar to unit test and it's based on
696:45 - that same idea I'll Define a new class
696:46 - called flight test case that will just
696:49 - Define all of the tests that I would
696:51 - like to run on my flights application
696:54 - and so things to know about this is that
696:56 - first I might need to do some initial
696:58 - setup in order to make sure that there's
697:00 - some data that I can actually work with
697:02 - and test with and what Django will do
697:04 - when I go ahead and run these unit tests
697:06 - is that it will create an entirely
697:08 - separate database for me just for
697:10 - testing purposes that we have one
697:12 - database that contains all the
697:13 - information that actually pertains to
697:15 - the flights that are actually there on
697:18 - my web server but we might also like to
697:20 - just test things with some dummy flights
697:22 - and some dummy airports just to make
697:24 - sure that things are working and then
697:26 - once we're confident things are working
697:28 - then we can deploy our web application
697:29 - to let actual users begin to use
697:31 - whatever new features we've added to the
697:33 - web application for example so inside of
697:36 - this database I might need to do some
697:38 - initial setup and I can do so by
697:40 - defining a setup function inside of my
697:43 - test case class this is a special
697:45 - function and Django knows that when it's
697:46 - running these tests it should first do
697:49 - any of the setup steps that we need to
697:51 - do
697:51 - and so how are we doing this well what
697:53 - we're doing is inside of the setup we're
697:55 - going to just add some sample data into
697:58 - the test database again this won't touch
698:00 - the database that users actually see and
698:02 - actually interact with this is just our
698:04 - test one for testing purposes and we'll
698:06 - start by going ahead and creating some
698:07 - airports so airport Dot objects.create
698:10 - and then specifying what the values for
698:12 - these fields should be
698:13 - we'll just have an airport whose code is
698:15 - AAA for City a and an airport whose code
698:18 - is BBB
698:19 - for City B just dummy airport names
698:21 - they're not real airports but just use
698:23 - for testing purposes and I'll save those
698:25 - airport objects inside of these values
698:27 - A1 and A2
698:29 - and beneath that what I'm going to do
698:31 - next is go ahead and create some flights
698:33 - where I create using
698:35 - flight.objects.create three different
698:37 - flights one that goes from A1 to A2 with
698:39 - the duration of 100 minutes one from A1
698:42 - to A1 with a duration of 200 minutes one
698:44 - from A1 to A2 with a duration of
698:46 - negative 100 minutes so I have a whole
698:49 - bunch of these flights now that I would
698:50 - like to test that I would like to make
698:51 - sure work in some predetermined or
698:54 - expected way
698:56 - and so now if I scroll down we can see
698:58 - that I have a whole bunch of these
699:00 - various different tests here is one test
699:02 - that just tests the departures count so
699:05 - every airport has access to a field
699:07 - called departures which ideally should
699:09 - be like how many flights are departing
699:11 - from that airport and I'd like to make
699:12 - sure that departures count works the way
699:15 - I expect it to so here
699:17 - I go ahead and get the airport whose
699:19 - code is AAA
699:21 - and now using unit tests like syntax I'd
699:24 - like to say self dot assert equal so
699:26 - assert true verifies that something is
699:28 - true assert false verifies that
699:29 - something is false assert equal verifies
699:32 - that two numbers are equal to each other
699:34 - and here I'd like to verify that
699:37 - a.departures.count if I take airport a
699:39 - and count how many flights are departing
699:41 - from that airport that that should be
699:43 - three so just verifying that that works
699:45 - and then after that if this test passes
699:47 - then I can be confident that elsewhere
699:49 - in my program if I take an airport and
699:51 - call that
699:52 - airport.departures.count I can feel
699:54 - pretty confident that that is going to
699:55 - work the way I would expect it to
699:58 - I can do the same thing for arrivals get
700:00 - the airport and assert that
700:02 - a.arrivals.count that that is going to
700:04 - be equal to the number one if there's
700:06 - only one flight that arrives at airport
700:08 - A1 for example
700:11 - so that tests these relationships and I
700:13 - can also now test the is valid flight
700:15 - function as well that here I get my two
700:18 - airports A1 and A2 this is the one who
700:21 - was code AS AAA this is the one whose
700:23 - code is BBB I'll go ahead and get the
700:25 - flight whose origin is A1 whose
700:28 - destination is A2 whose duration is 100
700:29 - and let me just assert true that this
700:32 - flight is going to be a valid flight
700:35 - because this flight is valid the origin
700:37 - is different from the destination it's
700:39 - duration is some positive number of
700:41 - minutes and so I should feel pretty
700:42 - confident that this is going to be a
700:43 - valid flight that I can verify by
700:45 - calling self not a third true
700:47 - I can do the same thing for testing for
700:50 - an invalid flight testing for an invalid
700:52 - flight because the destination is bad I
700:55 - can get the flight airport A1 and get
700:57 - the flight whose origin and destination
700:59 - are both A1 and now let me self dot
701:02 - assert false say that this should not be
701:04 - a valid flight because the origin in the
701:06 - destination are the same
701:07 - what's the other way a flight can be
701:09 - invalid well flight can be invalid
701:10 - because of its duration so I could say
701:12 - something like go ahead and get airports
701:15 - A1 and A2
701:17 - and get me the flight whose origin is A1
701:19 - destination is A2 but the duration is
701:22 - negative 100 minutes that was one of the
701:24 - flights as well and while that should
701:25 - not be a valid flight so I'll say self
701:27 - dot assert false is valid flight because
701:29 - when a call is valid flight on that
701:31 - flight it shouldn't be valid because the
701:33 - duration makes it an invalid flight
701:36 - so here now I've defined a whole bunch
701:38 - of tests and there are more down below
701:39 - that we'll take a look at in a moment as
701:41 - well but I've defined a whole bunch of
701:43 - these slides now or a bunch of these
701:45 - tests and now I'd like to run them and
701:47 - the way that I can run tests in Django
701:49 - is via a manage.pi command manage.pi has
701:52 - a whole bunch of different commands that
701:53 - we can run we've seen like make
701:54 - migrations and migrate and run server
701:56 - but one of them as well is if I go into
701:59 - Airline zero I can say python
702:02 - manage.pi test that's just going to run
702:05 - all of my tests
702:08 - and all right it seems that we ran 10
702:10 - tests but two of them failed so let's go
702:13 - ahead and see why did those two tests
702:15 - fail well the way to read this is that
702:17 - we get this heading anytime a test
702:18 - failed and so we failed the test invalid
702:21 - flight destination function and we
702:24 - failed the test invalid flight duration
702:25 - function and Doc strings could have
702:27 - helped me to know what it is that these
702:28 - tests are exactly doing but it seems
702:31 - that true is not false I wanted to
702:34 - assert that this should not be a valid
702:35 - flight that it should be false but for
702:37 - some reason these appear to be valid
702:40 - flight so something seems wrong with is
702:42 - valid flight where it's returning true
702:43 - when it should be returning false and so
702:47 - this then gives me a place to start
702:48 - looking I can say all right let me go to
702:50 - is valid flight and make sure that
702:52 - function is correct so I'll go back into
702:54 - models.pi I'll take another look at is
702:57 - valid flight maybe I'll Think Through
702:58 - the logic again all right I wanted to
703:00 - check that self.origin is not
703:01 - self.destination I wanted to check that
703:03 - the duration is greater than or equal to
703:05 - zero I could change this to greater than
703:07 - but I don't think that's the issue
703:09 - because my duration was negative and so
703:11 - that already should have been invalid
703:13 - but the other thing I might realize
703:14 - looking at this now is that okay The
703:16 - Logical connective that I have used uh
703:18 - was not the right one I want to check
703:20 - that for it to be a valid flight it
703:22 - needs to satisfy both of the conditions
703:23 - the origin and the destination need to
703:25 - be different and the duration of the
703:27 - flight needs to be greater than zero for
703:30 - example and here I've used or instead of
703:31 - and so I can just change it all right
703:34 - and hopefully that will fix things and
703:36 - to verify as much I can rerun
703:38 - pythonmanage.pi test go ahead and press
703:41 - return
703:42 - it's going to check things ran 10 tests
703:45 - everything is okay and all right it
703:47 - seems that now I have passed all of
703:49 - these tests
703:51 - and notice here at the top it created a
703:54 - test database so it just created a test
703:56 - database for me in order to do all this
703:57 - testing work and then it destroyed that
703:59 - test database at the end as well so none
704:01 - of my tests if I'm adding data removing
704:03 - data it's not going to touch any of the
704:05 - actual data inside of my database for
704:07 - the web application Django will take
704:09 - care of the process of keeping all of
704:11 - that separate for me by first calling
704:13 - that setup function to make sure that my
704:15 - new test database has everything that it
704:17 - needs to
704:18 - so all right we now have the ability by
704:20 - using unit test to be able to test
704:22 - various different functions inside of
704:25 - our web application we first saw that we
704:26 - could test a function like the is prime
704:28 - function just the python function that
704:30 - we wrote but we can also test things
704:31 - like functions on our models like
704:33 - checking to make sure that a flight is
704:35 - valid checking to make sure that we can
704:37 - take a flight and access all of the or
704:39 - take an airport and access all of its
704:40 - arrivals and all of its departures but
704:43 - I'd like to do more than that especially
704:44 - for a web application I'd like to check
704:46 - that like particular web pages work the
704:49 - way that I want them to work and so to
704:51 - do that Django lets us simulate trying
704:54 - to make requests and risket responses to
704:57 - a web application
704:59 - and so let's go ahead and look at some
705:00 - of these other tests as well here what
705:02 - we have is a function called test index
705:04 - and what test index is going to do is
705:07 - it's just going to test my default
705:08 - flights page to make sure that it works
705:10 - correctly so we start by creating a
705:13 - client some client that's going to be
705:14 - interacting request and response Style
705:17 - then I'm going to call
705:20 - client.getflights that is the route that
705:21 - gets me the index page for all the
705:24 - flights
705:25 - and I'm saving that inside of a variable
705:28 - called response whatever response I get
705:29 - back from trying to get that page I
705:32 - would like to save inside of this
705:33 - variable called response and now I can
705:36 - have multiple assert statements inside
705:38 - of the same test if I would like to
705:40 - sometimes you might want to separate
705:41 - them but here I want to check that the
705:43 - index page works and what that means is
705:45 - a couple of things it means that
705:49 - response.statuscode well that should be
705:51 - equal to 200 200 again meaning okay I
705:54 - want to make sure that whatever response
705:55 - I get back that that is going to be a
705:57 - 200. and if there was some sort of error
705:59 - like a 404 because the page wasn't found
706:01 - or a 500 because of some internal server
706:03 - error I would like to know about that so
706:05 - let me first just assert that the status
706:07 - code should be equal to 200.
706:10 - but then Django also lets me access the
706:13 - context for a response and what is the
706:16 - context well recall again in Django when
706:18 - we rendered a template for example we
706:20 - called like return render then provided
706:22 - the request and what page we were going
706:24 - to render but we could also provide some
706:26 - context some python dictionary
706:27 - describing all of the values that we
706:30 - wanted to pass in to that template and
706:32 - Django's testing framework gives us
706:34 - access to that context so that we can
706:36 - test to make sure that it contains what
706:38 - we would expect it to contain and on the
706:40 - index page for all my flights I would
706:42 - expect that to contain a listing of all
706:44 - of the flights and we created three
706:47 - sample flights inside of this test
706:48 - database so I should be able to assert
706:51 - that these two things are equal
706:53 - response.contacts flights that gets me
706:55 - whatever was passed in as flight in the
706:58 - context
706:58 - dot count
707:00 - well that better be three because I want
707:02 - to make sure that there are exactly
707:03 - three results that come back when I look
707:06 - at the context and access whatever
707:07 - happens to be inside of that flight's
707:10 - key
707:11 - there are other tests I can run as well
707:13 - so in this case I've gone ahead and
707:15 - gotten a particular flight the flight
707:17 - who in this case had an origin of A1 and
707:19 - a destination of A1 now that was not a
707:21 - valid flight but we'll go ahead and get
707:22 - it anyway because it exists in the
707:24 - database and now I can get slash flights
707:27 - slash that flights ID
707:30 - right because on my flights page I would
707:32 - like to be able to go to slash flights
707:34 - one to get AT flight number one and go
707:37 - to slash Flight 2 to get AT flight
707:39 - number two so if I take some valid ID
707:42 - some ID of an actual flight F and go to
707:45 - slash flights slash that ID well that
707:49 - should work it should have a status code
707:51 - of 200.
707:52 - meanwhile though
707:54 - if I test an invalid flight page this is
707:57 - a Django command that will get me the
707:59 - maximum value for the ID this ID
708:01 - underscore underscore Max gets me the
708:03 - biggest possible ID out of all of the
708:05 - flights that happen to exist inside of
708:07 - my database if I go ahead and try and
708:09 - get slash flights slash Max ID plus one
708:14 - so a number that is one greater than any
708:16 - of the flights that were already inside
708:18 - of my database well that shouldn't work
708:20 - there shouldn't be a page for a flight
708:21 - that doesn't exist so here then I can
708:24 - assert equal that the status code of
708:26 - what comes back that that is equal to
708:28 - 404 because I would expect that page to
708:30 - return a 404.
708:32 - and finally I can also check various
708:35 - different contexts for things about the
708:37 - passenger page so in this case I've
708:38 - added some sample passengers to the
708:40 - database so inside of my test I can
708:42 - manipulate the database as well adding
708:44 - data into the database and checking to
708:46 - make sure that when you count up the
708:48 - number of passengers on a flight page
708:49 - that that is going to be like the number
708:51 - one for example
708:53 - so a number of different tests that we
708:55 - can then write in order to verify
708:57 - various different parts of our web
708:58 - application I would like to verify not
709:01 - only that our database works the way we
709:03 - would expect the database to work in
709:04 - terms of how functions on our models
709:06 - work in terms of relationships between
709:08 - those models like the relationship
709:10 - between a flight and an airport but we
709:12 - can also simulate a get request
709:14 - simulating a request to a page and
709:16 - verify that the status code that comes
709:18 - back is what we would expect it to be
709:19 - verified that the contents of the page
709:21 - contain the right contents verify that
709:24 - the context that was passed into that
709:26 - template is correct as well and then all
709:28 - of that can then be verified
709:30 - by saying something like python
709:33 - manage.pi test
709:35 - then go ahead and running that
709:37 - and we see that in this case all of the
709:39 - tests happen to pass which means that
709:41 - everything seems to be okay at least for
709:43 - now
709:45 - so this then again very helpful as our
709:47 - web programs start to get more complex
709:48 - as we have multiple different models
709:50 - multiple different routes the ability to
709:52 - test to make sure that if we change
709:53 - things in one part of the program that
709:55 - it doesn't break things in another part
709:56 - that can be quite helpful too what we
709:59 - haven't yet been able to test though is
710:01 - any interaction that's happening
710:03 - exclusively in the browser that I've
710:05 - been able to test a lot of things that
710:06 - are happening server side and recall
710:08 - that Django is all about working on
710:10 - writing this web server a python
710:12 - application that acts as a web server
710:14 - that listens for requests that come in
710:16 - from users processes those using these
710:18 - various different views and models and
710:20 - then provides some sort of response back
710:22 - and we can test the contents of that
710:24 - response things like does the status
710:26 - code match what we would expect it to
710:28 - does the context match what we would
710:30 - expect it to but there are some times
710:31 - where we would like to really simulate
710:33 - like a user clicking on buttons and
710:35 - trying things on a page and making sure
710:37 - that page behaves we would like it how
710:39 - we would like it to as well even if
710:41 - we're not using Django or even if we're
710:43 - just dealing with the front end
710:46 - so let's create like a sample JavaScript
710:48 - webpage that we might like to test now
710:50 - by using these sorts of ideas the
710:52 - ability to automate the process of
710:54 - testing various different parts of our
710:56 - application to verify that they do in
710:58 - fact work correctly what I'm going to do
711:00 - now
711:01 - is we'll get out of the airline
711:03 - directory and I'm going to create a new
711:05 - file that I'll call counter.html
711:08 - and recall before we created a counter
711:10 - application using just JavaScript or
711:12 - what the counter application did is it
711:15 - let me click a button like an increase
711:16 - or Account button that just incremented
711:18 - a number it went from zero to one to two
711:20 - to three to four and so forth I'm going
711:22 - to do the same thing here we'll add a
711:23 - little more complexity though and give
711:25 - myself both an increase button to add a
711:27 - number and a decrease button to decrease
711:29 - the number by one as well so I'll go
711:32 - ahead and start
711:33 - with our usual doctype HTML
711:35 - and our HTML tag I'll give this page a
711:38 - title of counter
711:40 - and now inside of the body of this page
711:42 - I will go ahead and start with a big
711:45 - heading that just says zero
711:48 - and then beneath that I'll create two
711:50 - buttons I'll have one button which will
711:53 - be the plus symbol and one button which
711:56 - will be the minus symbol
711:58 - so now no JavaScript yet this won't
712:00 - actually work but I can go ahead and go
712:02 - into opencounter.html
712:05 - and I can see that I now have 0 and I
712:09 - have a plus and a minus button although
712:11 - those plus and minus buttons don't
712:12 - actually do anything right now so let's
712:15 - go ahead and make them do something
712:16 - let's give this button an ID called
712:19 - increase
712:20 - so that I can reference it later and
712:22 - give this button an ID called decrease
712:24 - again so that I can reference it inside
712:26 - of my JavaScript
712:28 - and now in the head section of my web
712:29 - page I'll add a script tag where I want
712:33 - to start running some JavaScript once
712:34 - the page is done loading and to do that
712:36 - you'll recall I can say document dot add
712:38 - event listener
712:39 - Dom content loaded to say go ahead and
712:42 - run this function
712:44 - once the Dom is loaded once all the
712:46 - contents of this page have loaded the
712:48 - way I would expect it to
712:50 - and what am I going to do well I first
712:51 - need a variable something like let
712:53 - counter equals zero
712:55 - and then I can say all right
712:58 - document.queryselector increase get me
713:01 - the element whose ID is increase that's
713:04 - that plus button and when you are
713:06 - clicked let's go ahead and add an event
713:09 - handler in the form of this callback
713:10 - function this function that will be
713:12 - called when the increase button is
713:14 - clicked
713:15 - and what would I like to do well I'd
713:16 - like to increase the counter go ahead
713:18 - and say counter plus plus
713:20 - and then I'm going to update this H1
713:23 - that currently contains 0.
713:26 - document.queryselector H1 that gets me
713:29 - the H1 element
713:31 - I'll go ahead and update its inner HTML
713:33 - and go ahead and set that to whatever
713:35 - the value of counter happens to be
713:39 - and then I'll do the same thing for the
713:40 - decrease button
713:42 - document.queryselector get me the
713:44 - element whose ID is decreased that's the
713:46 - button that will be the minus button and
713:48 - when you are clicked go ahead and run
713:50 - this callback function which will do the
713:52 - same thing except we'll first do counter
713:53 - minus minus decrease the value of the
713:55 - counter by one and then
713:58 - get me the H1 element
714:00 - set it to Inner HTML equal to the
714:03 - counter
714:04 - I think this should work and I could
714:06 - verify that by opening up counter.html
714:08 - I'll refresh the page
714:10 - and I can test these buttons test the
714:12 - plus button
714:13 - all right that seems to work increases
714:15 - the value by one I can test the minus
714:17 - button make sure that that decreases the
714:19 - value by one that all seems to work just
714:21 - fine but of course this requires me
714:23 - having to interact with this page I have
714:26 - to open up the page I have to click on
714:28 - these buttons and it's not the type of
714:30 - thing where I'm simulating like a get
714:32 - request or a post request there's no
714:34 - server that I'm sending a request to and
714:36 - getting back a response of one two three
714:38 - four from this is all happening in the
714:40 - browser and so what I might like to have
714:42 - the ability to do is some sort of
714:44 - browser testing and there are a number
714:46 - of different Frameworks for doing this
714:47 - one of the most popular is selenium
714:50 - and what this is going to allow me to do
714:52 - is I can define a test file that using
714:55 - unit tests or a similar Library can
714:57 - effectively simulate a web browser can
715:00 - simulate a web browser and simulate a
715:02 - user interacting with that web browser
715:04 - using something that we call a web
715:06 - driver that's going to allow me to use
715:07 - in code control what it is that the
715:10 - browser is doing and how it is that the
715:13 - user is interacting with this program
715:16 - so how is this going to work well I'm
715:18 - going to go ahead and just as a test let
715:20 - me open up the python interpreter and
715:23 - let me import from tests import Star
715:27 - and that's going to give me access to a
715:29 - couple of different things but the first
715:31 - thing you'll notice that it's doing is
715:32 - because I'm using this Webdriver it's
715:35 - going to give me a web browser and here
715:37 - I'm using Chrome but you could use
715:39 - another browser but notice that here
715:40 - Chrome is telling me Chrome is being
715:42 - controlled by automated test software
715:44 - that Chrome has the ability to allow me
715:47 - using automated test software using like
715:49 - python code control what it is the web
715:52 - browser is doing
715:54 - and so what I can do here is the first
715:56 - thing I need to do is like tell Chrome
715:58 - to open up my web page and it turns out
716:00 - that in order to do so I need to get
716:03 - that Page's URI or uniform resource
716:05 - identifier just some string that will
716:07 - identify that page and I've defined a
716:09 - function called a file URI that gets me
716:13 - the URI of a particular file in this
716:15 - directory so I'm going to say I want to
716:16 - open up counter.html and I need to get
716:19 - its URI
716:20 - but now what I can say is driver dot get
716:25 - URI meaning like tell this Webdriver
716:28 - this python part of the part of the
716:30 - Python program that is controlling the
716:32 - web browser that I would like to get
716:34 - this web page as if the user had gone to
716:37 - the web page and like pressed return
716:38 - after typing in the URL so I say
716:40 - driver.geturi
716:42 - I go ahead and press that
716:44 - and what you'll notice on the right hand
716:45 - side here is that Chrome has loaded this
716:48 - page I am effectively controlling this
716:51 - web browser window using my Python
716:53 - program I said driver.geturi meaning go
716:56 - ahead and open up thecounter.html page
716:58 - and then inside of this test window
717:00 - Chrome has opened that up and inside my
717:03 - Python program Now using this Webdriver
717:06 - I have the ability to like see the same
717:08 - things that the user sees when they open
717:10 - the page so what does the user see when
717:12 - they open the page well they see for
717:14 - example the title of the page so I could
717:16 - say like driver dot title
717:19 - and see that all right the title of this
717:21 - page is counter that was in fact the
717:23 - title of the page but I could verify
717:25 - that inside my Python program that by
717:27 - checking that driver.title by taking my
717:29 - web driver getting the title of the
717:31 - current page that it's looking at making
717:33 - sure that that is counter
717:35 - and likewise if I looked at driver.page
717:37 - source press return When I see there in
717:40 - string format so it's a little bit messy
717:42 - is the contents the HTML content of this
717:46 - page and you'll notice things like you
717:47 - know Dom content loaded here my on click
717:49 - handlers here's my H1 that says zero
717:52 - it's very messy because it's being
717:53 - represented as a python string and these
717:56 - backslash ends refer to like new lines
717:57 - where there's a line break but this is
718:00 - the content and this is really all the
718:01 - browser gets the browser takes this
718:03 - information and just knows how to render
718:05 - it in some nice more graphical
718:07 - representation that's easier for a user
718:09 - to look at and therefore be able to
718:10 - understand but this is fundamentally all
718:13 - that my web browser is actually getting
718:14 - back when it tries to load a web page
718:18 - so what can I do from here well I would
718:20 - like to simulate a user's behavior on
718:22 - this page that sure I can get a page and
718:24 - see the title but I want to simulate
718:26 - like clicking on the plus button for
718:28 - example so in order to do that first
718:30 - thing I need to do is like actually get
718:32 - the plus button
718:33 - and to do that I could say something
718:34 - like driver dot uh get or find element
718:40 - by ID there are a number of ways that I
718:42 - could try and find an HTML element but I
718:45 - would like to find an HTML element by
718:46 - its ID and I know that the plus button
718:49 - the increase button has an ID of
718:52 - increase for example
718:54 - and so if I find element by ID let me
718:57 - find the element whose ID is increase
719:01 - and all right it seems here
719:03 - that I've gotten some web element object
719:06 - back from my Webdriver
719:09 - and I'll go ahead and save that inside
719:12 - of a variable called increase
719:14 - so what I now have is a variable called
719:15 - increase that represents the increase
719:18 - button that my web driver has found on
719:20 - the web page it's the effect of the
719:21 - effectively the same thing as you the
719:23 - human going through the page looking for
719:25 - the increase button the web driver is
719:27 - doing the same thing except instead of
719:29 - looking for the button based on what it
719:30 - looks like it looks for the button based
719:32 - on its ID and so this again another
719:34 - reason why it's helpful to give your
719:35 - HTML elements IDs in case you ever need
719:38 - to be able to find that element it's
719:40 - very useful to be able to reference that
719:42 - element by its name
719:43 - but now that I have a button I can
719:46 - simulate user interaction with that
719:48 - button I can say something like increase
719:50 - dot click to say I would like to take
719:53 - the increase button and simulate a user
719:55 - clicking on that button in order to see
719:58 - whatever it is that the user would get
719:59 - back when they click on that button so
720:01 - increase.click I press return and what
720:04 - you'll notice happens is that the number
720:06 - increases increases from zero to one
720:08 - it's as if I the user had actually
720:10 - clicked on the plus button except all I
720:12 - did was say like increase.click to say
720:15 - go ahead and increase the increase
720:16 - button and let the browser do what it
720:19 - would normally do in response and what
720:20 - it would do in response is get that
720:22 - JavaScript event handler that on click
720:24 - Handler and run that callback function
720:26 - that increases the value of counter and
720:29 - updates the H1 so I can say increase dot
720:32 - click to simulate increasing the value
720:35 - of that variable
720:36 - but this is just a function call which
720:38 - means I can include it in any other
720:39 - python constructs that I want that if I
720:42 - want to repeat something like 25 times
720:44 - for example and press the button 25
720:45 - times I can say like for I in range 25
720:50 - go ahead and like click the increase
720:52 - button and now very quickly 25 times
720:55 - it's going to click the increase button
720:56 - and I'm going to see the result of all
720:58 - of that interaction so I can simulate
721:00 - user interaction just by using the
721:03 - python interpreter
721:04 - likewise If instead of increasing I
721:06 - wanted to decrease well then I'm going
721:07 - to do the same thing I'm going to say
721:09 - decrease equals driver dot find element
721:12 - by ID let me get the decrease element
721:15 - the element whose ID is decrease and now
721:18 - say decrease dot click
721:21 - and that will simulate me pressing the
721:23 - decrease button press it again and the
721:25 - more I press it every time it's just
721:26 - going to decrease by one
721:28 - and if I want to decrease it all the way
721:30 - back to zero well then I'll just do it
721:31 - 20 times for I in range 20 go ahead and
721:34 - decrease dot click and that's going to
721:37 - go ahead and reduce the count all the
721:39 - way back to zero by simulating the user
721:40 - pressing a button 20 times and what
721:42 - you'll notice is that it happened
721:43 - remarkably fast like I can simulate 100
721:46 - presses of the increase button by saying
721:48 - for I in range 100
721:50 - increase dot click and very quickly
721:53 - you'll see that number 100 times go
721:56 - ahead and go up to 100 faster than a
721:58 - human could ever have clicked that plus
722:00 - button over and over again and so these
722:02 - tests can not only be automated but they
722:04 - can be much faster than any human could
722:05 - ever be in order to test this Behavior
722:09 - so how then can we incorporate this idea
722:11 - into actual tests that we write into
722:13 - like a unit testing framework that
722:15 - allows me to Define all these various
722:17 - different functions that test different
722:18 - parts of my web applications Behavior
722:21 - well to do that
722:22 - let's go ahead and take another look at
722:25 - tests.pi
722:27 - inside of test.pi here again is that
722:29 - file URI function where that function
722:31 - has the sole purpose of like taking a
722:33 - file and getting its URI and we need the
722:35 - URI to be able to open it up
722:37 - then we go ahead and get the Chrome web
722:39 - driver which is going to be what's going
722:41 - to allow us to run the in simulate
722:44 - interaction with chrome and in order to
722:46 - get Chrome's Webdriver you do have to
722:47 - get Chrome driver separately it is
722:49 - separate from Google Chrome itself but
722:50 - Google does make it available and other
722:52 - web browsers make equivalent web drivers
722:54 - available as well if you'd like to test
722:56 - how things would work in other browsers
722:58 - because different browsers might behave
723:00 - differently and it might be useful to be
723:02 - able to test to make sure that not only
723:03 - does everything work in Google Chrome
723:05 - but it's also going to work in other
723:07 - browsers that you might expect users to
723:09 - be working with as well
723:11 - here then I've defined a class that
723:13 - again inherits from unit test.test case
723:15 - that is going to Define all of the tests
723:17 - that I would like to run on this web
723:19 - page that here I have a function called
723:21 - test title that's going to go ahead and
723:23 - first get counter.html it's going to
723:25 - open up that page and then just assert
723:28 - equal let's make sure the title of the
723:30 - page is actually counter that's what I
723:32 - would expect it to be so I can write a
723:34 - test in order to test for that case as
723:36 - well
723:37 - here I test the increase button by
723:39 - finding the element whose ID is increase
723:41 - and clicking on that button to simulate
723:44 - a user pressing the plus button in order
723:46 - to increase the value of the counter and
723:48 - then what do I want to check well I want
723:51 - to check that when you find element by
723:53 - tag name H1 and so find element by tag
723:56 - name similar to find element by ID
723:58 - except instead of finding something by
723:59 - its ID it's going to look at what's the
724:01 - tag and it only is one element that is
724:03 - an H1 and so here I'm saying go ahead
724:05 - and get me the H1 element and access its
724:08 - text property meaning whatever it is
724:10 - that is contained inside of those two H1
724:13 - tags I would expect that to be the
724:16 - number one and so I would assert that
724:18 - this is equal to 1. and likewise I can
724:20 - do the same thing for the decrease
724:22 - button finding the element whose ID is
724:24 - decrease clicking on that button and
724:27 - then asserting equal find me the H1
724:29 - element and make sure that the contents
724:31 - of it are equal to the number negative
724:34 - one for instance and this final test
724:36 - just test things multiple times that
724:38 - three times and then press the increase
724:40 - button and make sure that after I press
724:41 - the increase button three times when I
724:44 - check the H1 check what's inside of its
724:46 - text that the answer should in fact be
724:48 - three
724:49 - so now I should be able to go ahead and
724:55 - test this code by running
724:58 - pythontests.pi and what that is going to
725:01 - do is it's going to open up a web
725:03 - browser and what you're going to see it
725:05 - very quickly flashed across my screen
725:07 - were all of those tests we test the
725:09 - increase by one we test decrease by one
725:11 - and then we test like increase three
725:13 - times after we check to make sure the
725:15 - title was correct and then we can see
725:17 - here is the output we ran four tests in
725:20 - this amount of time and everything
725:21 - turned out to be okay none of the tests
725:23 - failed but if one of the tests had
725:25 - failed well then
725:28 - we would see a different output so let's
725:29 - imagine for example that I had had a bug
725:32 - in my decrease function for example
725:34 - where the decrease function wasn't
725:35 - actually working what would that bug
725:37 - look like maybe I forgot to say counter
725:40 - minus minus or maybe perhaps more likely
725:43 - what might have happened is I wanted to
725:45 - I already had written the increase
725:47 - function and I decided to very quickly
725:49 - add the decrease function and I thought
725:50 - I'd just you know what copy paste like
725:52 - copy the increase event handler the
725:54 - decrease event handler is basically the
725:55 - same thing except I need to query for
725:57 - decrease instead and maybe I just did
725:59 - that and forgot to change a plus plus to
726:03 - minus minus a bug that might happen if
726:05 - you're not too careful about how you
726:07 - copy and paste code from one place to
726:09 - another
726:10 - now when I run these tests pythontest.pi
726:14 - we'll see the simulation
726:16 - a whole bunch gets simulated and when I
726:19 - go back and check the output of my test
726:20 - see what actually happened I see that we
726:23 - do seem to have an assertion error here
726:25 - the assertion fail was on the test
726:27 - decrease function and it happened when I
726:30 - tried to assert that was inside of the
726:32 - H1 element was negative one because one
726:35 - is not equal to negative one so this is
726:37 - the value of this assertion error as
726:39 - well and this is helpful an advantage
726:41 - over just assert assert just tells you
726:43 - you know there's an assertion error but
726:46 - here in unit test we actually get to see
726:48 - if I asserted that two things are equal
726:49 - it tells me what both of those things
726:51 - are it tells me the actual output of
726:54 - h1's text it was one
726:57 - but what I expected it to be was
726:59 - negative one so it tells me exactly what
727:01 - the discrepancy is I know that for some
727:03 - reason it was one instead of negative
727:05 - one and that can be a clue to me a hint
727:07 - to me as to how I can go about trying to
727:09 - solve this problem
727:11 - and I can solve the problem by going
727:13 - into my decrease event handler seeing
727:15 - that all right this was increasing the
727:16 - counter instead of decreasing it change
727:19 - plus plus to minus minus and now rerun
727:21 - my tests and see
727:25 - all the test simulated inside of my
727:27 - Chrome driver
727:28 - and we ran four tests and this time
727:31 - everything was okay so all of my tests
727:33 - appear to have passed this time
727:36 - so those then are some possibilities for
727:38 - being able to test our code especially
727:40 - taking advantage of unit tests this
727:42 - library that we can use in Python in
727:44 - order to make various types of
727:45 - assertions about what we would like to
727:47 - be true or false about our code and unit
727:49 - test contains a number of helpful
727:51 - methods for being able to perform these
727:53 - sorts of assertions some of them are
727:55 - here so we can say things like I would
727:57 - like to assert the two things are equal
727:58 - to each other which we've seen there's a
728:00 - counterpart to that a certain not equal
728:02 - for making sure the two things are not
728:04 - equal to one another assert true and
728:05 - false we've seen this well there are
728:07 - others as well though things like assert
728:09 - in or assert not in if I would like to
728:11 - assert for example that some element is
728:13 - in some list for example or that some
728:15 - element is not in some list
728:17 - there are other assert methods as well
728:19 - that we can use in order to verify that
728:21 - a part of our program or a part of our
728:23 - web application does in fact behave the
728:26 - way we would want to behave and we can
728:27 - integrate this type of idea into a
728:29 - number of different types of testing we
728:30 - thought integrating it into Django
728:32 - itself using Django's unit testing in
728:34 - order to verify that our database works
728:36 - the way we expected it to and that our
728:38 - views works the way that we expected
728:39 - them to and provided the right context
728:41 - back to the user after the user makes a
728:44 - request to our web application and there
728:46 - are also applications of unit testing
728:48 - whether using the framework or not to
728:49 - browser-based testing when I want to
728:51 - test like inside of the user's web
728:53 - browser does it actually work when a
728:55 - user clicks on this button that the
728:57 - JavaScript behaves the way that we
728:58 - expect it to and I don't need to
729:00 - especially use JavaScript in order to do
729:02 - those tests I can write those tests
729:04 - using python using unit test to be able
729:07 - to say click on the button that has this
729:09 - ID and verify that the result that we
729:11 - get back is what we would expect it to
729:13 - be
729:14 - so that then was testing and now we'll
729:16 - go ahead and take a look at CI CD
729:19 - continuous integration and continuous
729:21 - delivery which refer to two best
729:23 - practices in the software development
729:25 - world that have to do with how it is
729:27 - that code is written especially by
729:28 - groups or teams of people how it all
729:30 - works together and how that code is
729:32 - eventually delivered and deployed to
729:34 - users who are using those applications
729:36 - so CI which refers to continuous
729:39 - integration involves frequent merges to
729:42 - a main branch of some repository like a
729:44 - git repository and then automatically
729:46 - running unit tests when that code is
729:49 - pushed
729:49 - so what does that generally mean well in
729:52 - the past you might imagine that if
729:53 - multiple people are working on some
729:55 - project at the same time and multiple
729:57 - people are each working on different
729:58 - features or different parts of that
730:00 - project then after everyone's done
730:02 - working on those features and we're
730:03 - ready to like ship some new version of a
730:05 - web application or ship some new version
730:07 - of a software product well then
730:09 - everyone's going to have to take all
730:10 - these various different features and
730:12 - combine them all together at the end and
730:14 - figure out how to then try and deliver
730:16 - that program to users and this has a
730:19 - tendency to cause problems especially if
730:21 - people have been working on different
730:22 - big changes all simultaneously they
730:24 - might not all be compatible with one
730:26 - another there might be conflicts between
730:28 - the various different changes that have
730:29 - been made SO waiting until everyone's
730:31 - done working on a feature to merge them
730:33 - all back together and then deliver it is
730:35 - not necessarily the best practice which
730:37 - is why increasingly many more teams are
730:40 - beginning to adopt a system of
730:41 - continuous integration that there's one
730:43 - repository somewhere online that's
730:45 - keeping the official version of the code
730:47 - everyone works on their own version of
730:49 - the code maybe on their own Branch for
730:51 - example
730:52 - but very frequently all of these changes
730:54 - are merged back together into the same
730:57 - Branch to make sure that these
730:59 - incremental changes can be happening
731:00 - such that it's less likely that there's
731:02 - two really Divergent paths that the
731:04 - program has gone under and as a result
731:06 - it's much more difficult to merge those
731:08 - two paths back together
731:10 - in addition to frequently merging to a
731:12 - thumb main branch another key idea of
731:14 - continuous integration is this idea of
731:16 - automated unit testing where unit
731:18 - testing again refers to this idea of on
731:20 - our program we run a big series of tests
731:22 - that verify each little part of our
731:25 - program to make sure that the web
731:26 - application behaves the way it is
731:28 - supposed to and unit tests generally
731:30 - refer to testing particular small
731:32 - components of our program making sure
731:34 - that each component works as expected
731:36 - there are also bigger scale tests tests
731:38 - like integration tests that make sure
731:39 - that the entire pathway from like user
731:42 - request to response that everything
731:43 - along a certain pipeline works as well
731:45 - but there are various different types of
731:47 - testing and the important thing is
731:48 - making sure that anytime some new change
731:51 - is merged into the main branch or
731:53 - someone wants to merge their changes
731:55 - into the main branch that these tests
731:57 - are run to make sure that nobody ever
731:59 - makes a change to one part of a program
732:01 - that breaks some other part of the
732:03 - program and in a large enough code base
732:05 - it's going to be impossible for any one
732:06 - person to know exactly what the effect
732:08 - of one particular change is going to be
732:10 - on every other part of the program
732:12 - they're going to be unforeseen
732:13 - consequences that the one programmer may
732:16 - or may not know about and so the
732:18 - advantage of unit testing assuming
732:20 - they're comprehensive and cover all of
732:21 - these various different components of
732:22 - the program is that anytime someone
732:24 - makes a change and attempts to merge
732:27 - that change into the main branch
732:28 - according to the practice of continuous
732:30 - integration the fact that it doesn't
732:32 - pass a test will know about that
732:33 - immediately and as a result that
732:35 - programmer can go back and try to fix it
732:37 - as opposed to waiting until everything
732:38 - is done merging everything together and
732:41 - then running the tests realizing
732:42 - something doesn't work and then being
732:44 - unsure of where to begin we don't know
732:46 - where the bug is which change happened
732:48 - to cause the bug if everything is merged
732:50 - more incrementally it's easier to spot
732:52 - those bugs assuming there's good
732:54 - coverage of tests to make sure that
732:55 - we're accounting for these various
732:57 - different possibilities
732:58 - so continuous integration refers to that
733:01 - idea frequently and more incrementally
733:03 - updating the main branch and making sure
733:05 - that the tests are in fact passing and
733:07 - it's closely tied to a related idea of
733:10 - continuous delivery which is about the
733:12 - process of how it is that the software
733:14 - is actually released to users how the
733:16 - web application actually gets deployed
733:18 - and there are a couple of models you
733:20 - might go about thinking with regards to
733:21 - how it is that some program or web
733:23 - application gets deployed you might
733:25 - imagine the release cycle might be quite
733:27 - long the people spend months working on
733:30 - various different features on some
733:31 - software development team and after
733:32 - they're happy with all the new changes
733:34 - they've released some new version of the
733:36 - web application but especially with web
733:38 - applications that are undergoing
733:40 - constant change that have lots of users
733:42 - that are moving very quickly one thing
733:44 - that's quite popular is this notion of
733:46 - continuous delivery which refers to
733:48 - having shorter release schedules instead
733:50 - of immediately releasing something at
733:52 - the end of some long cycle you can in
733:55 - shorter Cycles make releases every day
733:57 - every week or so in order to say that
733:59 - let's just go ahead and incrementally
734:01 - make those changes whatever new changes
734:03 - happen to have merged to the main branch
734:04 - let's go ahead and release those as
734:07 - opposed to waiting much longer in order
734:08 - to perform those releases
734:10 - and that again lends itself to certain
734:12 - benefits the benefit of being able to
734:14 - just incrementally make changes such as
734:16 - something goes wrong you know more
734:18 - immediately what went wrong as opposed
734:19 - to making a lot of changes at once where
734:21 - if something goes wrong it's not
734:23 - necessarily clear what went wrong and it
734:25 - also allows new features to get out to
734:28 - users much more quickly so especially in
734:30 - a competitive market where many
734:31 - different web applications are competing
734:33 - with one another being able to take a
734:34 - new feature and release it very quickly
734:36 - can be quite helpful so continuous
734:38 - delivery is all about that idea of short
734:41 - release Cycles rather than wait a long
734:43 - time for a new version to be released
734:44 - release versions incrementally as new
734:47 - features begin to come in it's closely
734:50 - related to the idea of continuous
734:52 - deployment which CD will sometimes also
734:54 - represent continuous deployment is
734:56 - similar in spirit to continuous delivery
734:58 - but the deployments happen automatically
735:00 - that rather than a human having to say
735:02 - all right we've made a couple of changes
735:04 - let's go ahead and deploy those changes
735:05 - in continuous deployment anytime these
735:08 - changes are made the pipeline of
735:10 - deploying the application to users will
735:12 - automatically take place as well just
735:14 - removing one thing for humans to have to
735:16 - think about and allowing for these
735:17 - deployments to happen even more quickly
735:19 - as well
735:21 - so the question then is what tools can
735:23 - allow us to make continuous integration
735:25 - and continuous delivery a little bit
735:27 - easier what techniques can we use in
735:28 - order to do so and there are a number of
735:30 - different continuous integration tools
735:32 - but one of them produced by GitHub more
735:34 - recently is known as GitHub actions and
735:37 - what GitHub actions allows us to do is
735:39 - to create these workflows where we can
735:41 - say that anytime for example someone
735:44 - pushes to a git repository I would like
735:46 - for certain steps to take place certain
735:49 - steps that might be like checking to
735:51 - make sure the code is styled well that
735:52 - if a company has some style guide that
735:54 - it expects all of its programmers to
735:56 - adhere to when working on a particular
735:57 - product you could have a GitHub action
735:59 - such that anytime someone pushes to a
736:02 - repository you have an action that
736:04 - automatically checks that code against
736:06 - the style guide to make sure that it is
736:08 - well styled well common to documented
736:10 - and so forth you might also for instance
736:12 - have a GitHub action that tests our code
736:15 - to make sure that anytime anyone pushes
736:17 - code to a GitHub repository we
736:19 - automatically run whatever tests we
736:22 - would like to run on that particular
736:23 - code base and GitHub actions can allow
736:26 - us to do that as well by defining some
736:28 - workflow to be able to do so and so
736:30 - that's what we'll take a look at in just
736:31 - a moment using GitHub actions to
736:33 - automate the process of running tests so
736:36 - that the human though it would be a good
736:37 - thing for the programmer when they're
736:38 - done writing their code to test their
736:40 - code and make sure it works we can
736:42 - enforce that by making sure that every
736:44 - time anyone pushes to a GitHub
736:46 - repository will automatically run some
736:48 - GitHub action that is going to take care
736:50 - of the process of running tests on that
736:52 - program and we'll know immediately as
736:53 - via an email that GitHub might send to
736:55 - you to say that this particular test
736:57 - failed and you'll know every time you
737:00 - push to that Repository
737:02 - so how do these workflows get structured
737:04 - what is the syntax of them will they use
737:06 - a particular type of syntax known as
737:08 - yamo which is some language a
737:09 - configuration language that can be used
737:11 - in order to describe often described for
737:14 - configuration of various different tools
737:15 - and software GitHub actions happens to
737:17 - use it other Technologies use it as well
737:19 - and yaml is a file format that
737:22 - structures its data sort of like this in
737:24 - terms of key value pairs much in the
737:26 - same way that a Json object or a python
737:28 - dictionary might where we'll have the
737:30 - name of a key followed by a colon
737:32 - followed by its value name of a key
737:34 - followed by colon followed by a value
737:36 - and the value doesn't necessarily need
737:38 - to be just a single value it could be a
737:40 - sequence of values like a list of values
737:42 - for example and those are denoted this
737:44 - way by like a hyphen indicating a list
737:46 - item one item two item three and in
737:49 - addition to just having single values
737:51 - and lists of items these ideas these
737:53 - lists these sequences these values can
737:55 - be nested within one another that you
737:57 - might have one key that leads to another
737:59 - set of keys that are associated with
738:01 - values that leads to other sets of keys
738:03 - associated with values as well much in
738:05 - the same way that a Json object like a
738:08 - representation of keys and values can
738:11 - also have nested Json objects within a
738:13 - Json object likewise too we can have
738:15 - nested key value pairs as the value for
738:18 - a particular key too so we'll take a
738:20 - look at an example of what that actually
738:22 - looks like in the context of creating
738:24 - some GitHub workflow that will run some
738:27 - GitHub actions
738:29 - so what will that look like let's go
738:31 - back into Airline zero where here I've
738:33 - defined inside of a DOT GitHub directory
738:35 - a directory called workflows inside of
738:38 - which I have a ci.yml file it can be any
738:42 - name.yaml.yml or dot yaml or the
738:45 - conventional file extensions for a yaml
738:47 - file
738:48 - and here I'll open up ci.yml and this
738:52 - now is the configuration for how this
738:55 - workflow
738:56 - ought to behave I give the workflow a
738:58 - name it's called testing because what I
739:00 - want the workflow to do is like test my
739:02 - Airline application
739:03 - then I specify an on key to mean when
739:07 - should this workflow run
739:09 - and here I've said on push meaning
739:12 - anytime someone pushes their code to
739:13 - GitHub we would like to run this
739:16 - workflow
739:17 - every workflow consists of some jobs and
739:19 - so what are the jobs what tasks should
739:21 - happen anytime that I try and push to
739:25 - this repository well I've defined a job
739:27 - called test project and this is a name
739:29 - that I chose for myself you can choose
739:30 - any name for a job that you would like
739:32 - and now I need to specify two things for
739:35 - what happens on a job one thing I need
739:37 - to specify is what sort of machine is it
739:40 - going to run on that GitHub has its own
739:41 - virtual machines otherwise known as VMS
739:44 - and I would like to run this job on one
739:46 - of those virtual machines and they're
739:48 - virtual machines for various different
739:49 - operating systems here I'm just saying
739:52 - go ahead and run on the latest version
739:54 - of Ubuntu which is a related version of
739:56 - Linux that I would like for this test to
739:58 - run on and then for the job I specify
740:01 - what steps should happen where I can now
740:04 - specify like what actions should happen
740:06 - when someone tries to test the project
740:08 - when I try and run this job and here I'm
740:11 - using a particular GitHub action and
740:13 - this is a GitHub action written by
740:15 - GitHub called actions slash checkout and
740:17 - what this is going to do is it's going
740:19 - to check out my code in the git
740:21 - repository and allow me to like run
740:23 - programs that operate on that code and
740:26 - you can write your own GitHub actions if
740:27 - you would like but here all we really
740:29 - need to do is go ahead and check out the
740:32 - code AS by looking at what's on the
740:33 - branch that I just pushed to and then
740:36 - I'm going to run Django unit tests this
740:38 - is just a description for me to know
740:39 - what's going on in this particular step
740:41 - and here is what I would like to run I'm
740:44 - going to first go ahead and install
740:46 - Django because I'm going to need to
740:48 - install Django to be able to run all
740:49 - these tests but after and if there are
740:51 - other requirements I might need to
740:53 - install those requirements as well but
740:55 - the airline program is fairly simple all
740:56 - we really need in order to run the tests
740:58 - is just Django so I'll go ahead and
741:00 - install Django
741:01 - and then
741:03 - I'll run python3 manage.pi test I would
741:06 - like to test run all of the tests and
741:09 - the way I can do that is just by
741:10 - providing this manage.pi command to say
741:12 - that I would like to run all of the
741:13 - tests on this particular application
741:16 - so this configuration file all together
741:18 - now is going to specify a particular
741:21 - workflow the workflow that says that
741:23 - every time I push to the GitHub
741:24 - repository what I would like to happen
741:26 - is I would like to check out my code
741:28 - inside of the git repository so on some
741:31 - Ubuntu VM GitHub is going to check out
741:33 - my code and it's going to run these
741:35 - commands it's going to install Django
741:37 - and then it's going to test my code and
741:40 - it will then give back to me what the
741:42 - response is after I do that
741:44 - so let's go ahead and test this and in
741:46 - particular let's run it on a program
741:48 - where the tests are going to fail so I
741:51 - might say for example let's go into
741:53 - flights and models.pi
741:55 - and let's go to my is valid flight
741:57 - function from before and change it back
741:59 - to that version that didn't work but
742:01 - before it was something and something
742:03 - I'll change it to something or something
742:05 - that as long as the origin is not the
742:07 - destination or the duration is greater
742:09 - than zero we'll count that as valid but
742:11 - we know that that's wrong that should
742:12 - not work
742:13 - so here's what I'll do I'll go ahead and
742:16 - first say git status see all right
742:17 - what's changed and it seems that all
742:19 - right I've changed I've modified
742:21 - models.pi
742:22 - which makes sense I'll go ahead and get
742:25 - add I'll add dot we'll just add all the
742:27 - files that I might have modified I'll
742:29 - commit my changes so go ahead and use a
742:34 - wrong valid flight function
742:38 - that's what I'm going to do and now I'm
742:40 - going to push my code to GitHub
742:43 - I added it I committed it I pushed it
742:45 - that now then pushes my code to GitHub
742:47 - into a repository called airline that I
742:50 - already have and now if I go ahead and
742:51 - go to GitHub and I go to my Airline
742:55 - Repository
742:57 - what you'll notice is that we've mostly
742:59 - been dealing with this code tab but
743:01 - GitHub gives us other tabs as well that
743:03 - are quite useful as you begin to think
743:05 - about working on a project in larger
743:07 - teams so in addition to looking at the
743:08 - code we have issues issues are ways for
743:11 - people to just report that something is
743:12 - not quite right or there's a feature
743:14 - request that we have for this particular
743:15 - code base so the issues might maintain a
743:18 - list of all the pending action items for
743:20 - a particular repository things that we
743:22 - still need to deal with and once those
743:23 - issues are dealt with the issues can be
743:25 - closed so I have no issues here as well
743:28 - pull requests are people that are trying
743:30 - to merge some part of the code from one
743:32 - branch into another Branch so you might
743:34 - imagine on a larger project you don't
743:36 - want everyone merging things into master
743:37 - all at the same time you might have
743:39 - people working on their own separate
743:40 - branches and then when they feel
743:42 - confident and happy with their code then
743:44 - they can propose a pull request to merge
743:46 - their code into the master branch and
743:49 - that allows for various other features
743:50 - like the ability for someone to offer a
743:52 - code review to be able to review the
743:54 - code write comments and propose
743:56 - suggestions for what changes should be
743:57 - made to a particular part of the code
743:59 - before it gets merged into the master
744:01 - branch and that's another common
744:03 - practice with regards to
744:05 - working on a GitHub repository or any
744:07 - other larger project that you're
744:09 - controlling using Source control is this
744:11 - idea of code reviews that oftentimes you
744:12 - don't want just one person making the
744:14 - changes without anyone's eyes on that
744:16 - code but you'll want a second pair of
744:18 - eyes to be able to look things over make
744:19 - sure the code is correct make sure it's
744:21 - efficient make sure it's in line with
744:23 - the practices that the application is
744:25 - using and so pull requests can be quite
744:26 - helpful for that and then this fourth
744:28 - tab over here represents GitHub actions
744:31 - these are the various different actions
744:32 - or workflows that I might want to run on
744:35 - this particular repository and what
744:37 - we'll see here is that if I go to the
744:39 - actions tab now
744:41 - what I'll see is here is my most recent
744:45 - testing action so anytime I push I get a
744:47 - new testing action this one was from 29
744:48 - seconds ago
744:49 - I'll go ahead and click on it and see
744:51 - what's within it all right here was the
744:53 - job that I ran test project I see that
744:56 - on the left hand side you'll notice this
744:58 - big red X on the left hand side of this
745:00 - workflow means something went wrong so
745:01 - I'd like to know what it is that went
745:03 - wrong I'll go ahead and click on test
745:05 - project
745:06 - and here within it these are all of the
745:09 - steps the things that happened when we
745:11 - actually ran this particular job first
745:13 - the job sets up then the checkout action
745:15 - goes ahead and checks out my code
745:16 - because we need access to my code to be
745:18 - able to run it
745:19 - here with the step I defined run Django
745:22 - unit tests which was going to install
745:24 - Django and run those tests
745:26 - it has an X next to it indicating
745:28 - something went wrong and I see down
745:29 - below annotations one failure so all
745:31 - over the place GitHub is trying to tell
745:33 - me that something went wrong it failed
745:35 - two minutes ago here
745:36 - I'll go ahead and open this up
745:39 - and what I'll see is the first thing
745:40 - that happened is we install Django and
745:43 - that seems to have worked okay
745:44 - but down below what you'll see is the
745:47 - output of running these unit tests that
745:50 - we see failed failures too and now I can
745:52 - see here are the unit tests that failed
745:55 - we failed the invalid flight destination
745:57 - test we failed the invalid flight
745:59 - duration test and as before I can see in
746:02 - github's user interface what those
746:04 - assertion errors are I can see it true
746:05 - is not false true is not false those
746:07 - were the problems that happened when I
746:09 - tried to run this particular test Suite
746:12 - and now others who are also working on
746:13 - this repository can see as well what the
746:16 - results of these tests are and can offer
746:17 - suggestions can offer ways that I might
746:19 - be able to fix the code in order to deal
746:21 - with that problem but now I know that
746:23 - this particular test failed
746:26 - and if I go back to the main code page
746:28 - for this GitHub repository
746:30 - I'll see
746:31 - that next to this commit there's a
746:34 - little X symbol and that little X symbol
746:36 - next to the commit just tells me that
746:38 - the most recent time I tried to commit
746:40 - something went wrong they ran the
746:41 - workflow in there was an error and so
746:43 - I'll immediately see for this commit and
746:45 - I can go back and look at the history of
746:46 - commits and see which ones were okay and
746:48 - which ones had a tendency to cause some
746:51 - sort of problem
746:52 - so this one it appears caused a problem
746:55 - and we know why it caused a problem
746:56 - because of this condition something or
746:58 - something else so I can fix it I'll
747:00 - change the or to an end
747:02 - I'll go ahead and get add dot get commit
747:06 - say I will fix
747:09 - a valid flight check
747:12 - if I do get status just to check out
747:13 - like what's going on right now I'm ahead
747:15 - of the master Branch by one commit
747:17 - that's exactly what I would expect and
747:19 - now I'll go ahead and push my code to
747:20 - GitHub by running git push
747:22 - saying all right let's push this update
747:24 - and now hopefully we're going to pass
747:27 - the workflow now now I go back to the
747:29 - repository I refresh the page
747:32 - here's my latest commit fix valid flight
747:34 - check you'll notice here there's an
747:36 - orange dot instead of the Red X as
747:38 - before this dot just means the tests are
747:40 - currently pending the workflow is in
747:42 - progress because it takes some time for
747:44 - GitHub to be able to start up the VM to
747:46 - be able to initialize the job to check
747:47 - out my code to run all those tests so it
747:49 - does take some time but if I go back to
747:51 - the actions tab I'll see that all right
747:53 - this time for testing we get a green
747:55 - check mark everything seems to be okay I
747:58 - go to test project just to see it and
748:00 - now I notice the green check mark next
748:02 - to run Django unit tests means that the
748:03 - unit tests have passed as well
748:06 - if I open those up now I see at the
748:08 - bottom the same output that I saw before
748:10 - when I was running those unit tests on
748:12 - my own machine we ran 10 tests and
748:15 - everything was okay and that tells me
748:16 - that these tests have passed so GitHub
748:19 - actions have the ability to allow for
748:21 - certain jobs to happen certain work to
748:23 - happen anytime you push code anytime you
748:26 - submit a pull request or on various
748:27 - different actions that might happen on a
748:30 - GitHub repository and they're very
748:31 - helpful for being able to implement this
748:33 - idea of continuous integration because
748:35 - it means you can make sure that when
748:37 - you're merging code from some developers
748:39 - Branch into the main branch that
748:41 - everyone's merging their code into you
748:43 - can verify that those tests can pass and
748:45 - you can add rules to say that you don't
748:47 - want to allow anyone to merge code into
748:48 - the branch if the tests don't pass to
748:51 - guarantee that any code that does get
748:53 - merged is going to pass all of those
748:55 - tests as well
748:57 - and so that can definitely help the
748:59 - development cycle make it easier to
749:01 - ensure the changes can be made quickly
749:03 - but as we make those changes quickly
749:05 - we're not going to lose accuracy and
749:06 - validity within our code that we can
749:08 - make sure that our code still passes
749:10 - those tests by automating the process of
749:12 - running those tests altogether
749:15 - so other than continuous integration
749:17 - then we now talk about this idea of
749:19 - continuous delivery these short
749:21 - application Cycles where we would like
749:22 - to very quickly be able to deploy our
749:25 - application onto some sort of web server
749:27 - and when we're deploying applications to
749:29 - a web server there are things that we
749:30 - need to think about we need to think
749:31 - about getting our program that was
749:33 - running fine on our computer working on
749:35 - a web server as well and this can just
749:37 - be fraught with headaches and all sorts
749:39 - of configuration problems because you
749:41 - might imagine that the computer that you
749:43 - are using is not necessarily going to be
749:45 - the same as the computer that on the
749:48 - cloud the computer and the server where
749:50 - your web application is actually running
749:51 - it might be running a different
749:53 - operating system it might have a
749:54 - different version of python installed if
749:56 - you have certain packages working on
749:57 - your own computer those same packages
749:59 - might not be installed on the server so
750:02 - we've run into all sorts of various
750:03 - different configuration problems where
750:05 - you can be developing deploy your code
750:07 - and realize that it doesn't work on the
750:09 - server because of some sort of
750:10 - difference between what's happening on
750:12 - your computer and what's happening on
750:13 - the server and this becomes even more
750:16 - problematic if you're working on a
750:17 - larger team you and multiple other
750:19 - people working on a software project but
750:21 - you each have different versions of
750:23 - various different packages or libraries
750:24 - installed and those different versions
750:26 - have different features and might not
750:28 - all work and cooperate with one another
750:30 - and so we need some way in order to be
750:32 - able to deploy applications efficiently
750:34 - and effectively to be able to
750:36 - standardize on just you know one version
750:38 - of the environment one version of all
750:40 - these packages to make sure that every
750:42 - developer is working on the project in
750:44 - the same environment and once we deploy
750:46 - the application it's going to be working
750:48 - in the same environment as well and the
750:50 - solution to this comes in a number of
750:51 - possible options but one option is to
750:53 - take advantage of a tool like Docker
750:55 - which is some sort of containerization
750:57 - software and by containerization
750:59 - software what we're talking about is the
751:01 - idea that when we're running an
751:02 - application instead of just running it
751:04 - on your computer we're going to run it
751:06 - inside of a container on your computer
751:08 - and each container is going to contain
751:11 - its own configuration it's going to have
751:13 - certain package is installed it's going
751:15 - to have certain versions of certain
751:17 - pieces of software it's going to be
751:18 - configured in exactly the same way
751:20 - and by leveraging a tool like Docker you
751:23 - can make sure that so long as you
751:24 - provide the right instructions for how
751:27 - to start up and set up these containers
751:28 - then if you are working on the
751:30 - application and someone you're working
751:32 - with some colleague is also working on
751:34 - the same project so long as you're using
751:36 - the same instructions for how to set up
751:38 - a Docker container you're going to be
751:40 - working in the identical environments
751:42 - that if a package is installed on your
751:44 - computer in your container it's going to
751:46 - be installed in your colleagues
751:47 - container as well and the advantage of
751:50 - this too works with this idea of
751:51 - continuous delivery when you want to
751:53 - deliver and deploy your application to
751:55 - the internet you can run your
751:56 - application inside of that exact same
751:58 - container set up using the exact same
752:00 - set of instructions so that you don't
752:02 - have to worry about the nightmare
752:03 - headaches of trying to make sure that
752:05 - all the right packages and all the right
752:06 - versions are in fact installed on the
752:09 - server
752:10 - Docker might remind you of the idea of a
752:12 - virtual machine or a VM if you're
752:14 - familiar with that concept GitHub uses
752:16 - VMS for instance when running into
752:17 - GitHub actions they are in fact
752:19 - different a VM is effectively running an
752:22 - entire virtual computer with its own
752:24 - virtual operating system and libraries
752:26 - and application running on top of that
752:27 - all inside of your own computer so a
752:30 - virtual machine ends up taking up a lot
752:32 - of memory taking up a lot of Space
752:34 - Docker containers meanwhile are a bit
752:37 - lighter weight they don't have their own
752:38 - operating system they're all running
752:39 - still on top of the host operating
752:42 - system but there's this Docker layer in
752:44 - between that keeps track of all these
752:46 - various different containers and keeps
752:48 - track of for each container such that
752:50 - every container can have its own
752:52 - separate set of libraries a percent of
752:53 - binaries and an application running on
752:56 - top of that
752:57 - so the advantage then of
752:58 - containerization is that these
753:00 - containers are lighter weight than
753:01 - having an entire virtual machine but
753:03 - they can still keep their own
753:05 - environment consistent such that you can
753:07 - feel confident that if the application
753:09 - is working in a Docker container you can
753:11 - have that Docker container running on
753:13 - your computer on someone else's computer
753:14 - on the server to guarantee that the
753:17 - application is going to work the way
753:18 - that you would actually expect it to and
753:20 - so how exactly do we configure these
753:22 - various different Docker containers well
753:25 - in order to do so
753:26 - we're going to write what's called a
753:28 - Docker file so to do this I'll go ahead
753:30 - and go into Airline one
753:32 - and I'll open up this Docker file
753:35 - and the docker file describes the
753:37 - instructions for creating a Docker image
753:40 - where the docker image represents all of
753:43 - the libraries and other installed items
753:45 - we might want to have inside of the
753:46 - container inside and then based on that
753:48 - image we're able to create a whole bunch
753:51 - of different containers that are all
753:52 - based on that same image where each
753:54 - container has its own files and can run
753:57 - the web application inside of it so this
753:59 - Docker file for example describes how I
754:02 - might create a container that is going
754:05 - to run my Django web application
754:07 - so first essay from python colon 3 this
754:11 - happens to be another Docker image on
754:14 - which I'm going to base these
754:16 - instructions that this is going to be a
754:17 - Docker image that already contains
754:19 - instructions for installing python3
754:21 - installing other related packages that
754:23 - might be helpful oftentimes when you're
754:25 - writing a Docker file you'll base it on
754:27 - some existing Docker file that already
754:29 - exists so here I'm saying go ahead and
754:31 - use python3
754:32 - and now what do I want to do in order to
754:34 - set up this container well I want to
754:37 - copy anything in dot in my current
754:40 - directory into the container and I have
754:43 - to decide where in the container am I
754:45 - going to store it well there I could
754:46 - choose to store it anywhere but I'll
754:48 - just store it in slash user Source app
754:50 - just some you are some particular path
754:52 - that will take me to a directory where I
754:55 - am going to store the application but
754:56 - you could choose something else entirely
754:59 - so I copy all of the current files in my
755:01 - current directory so that'll include
755:02 - things like my requirements file my
755:04 - manage.pi file my applications files all
755:07 - my settings files everything inside of
755:09 - the directory I would like to copy into
755:11 - the container
755:13 - then I'm saying workder meaning change
755:15 - my working directory effectively the
755:17 - same thing as something like CD on your
755:19 - terminal to move into some directory I
755:22 - would like to set my working directory
755:23 - equal to that same application directory
755:26 - the application directory inside of the
755:28 - container that now contains all of the
755:30 - files for my application because I
755:32 - copied all of those files into the
755:34 - container
755:36 - now once I'm inside of this directory I
755:38 - need to install all of my requirements
755:40 - so assuming I've put all my requirements
755:42 - like Django and any other packages that
755:43 - I needed inside of a file called
755:45 - requirements.txt I can just run the
755:48 - command
755:49 - pip install requirements.txt
755:51 - and then finally inside the docker file
755:54 - I specify a command and this is the
755:56 - command that should run when I start up
755:58 - the container everything else is going
756:00 - to happen initially when we're just
756:02 - setting up this Docker image but when I
756:03 - start up the container and actually want
756:05 - to run my web application here is the
756:07 - command that should run and I provide it
756:09 - effectively as like a python list where
756:11 - each word in the command is separated by
756:12 - a comma where here I'm saying the
756:14 - command that I would like to run when
756:16 - you start up this container is python
756:18 - manage.pi run server and here I'm just
756:21 - specifying on what address and what port
756:24 - I would like it to run and running it on
756:25 - Port 8000 for example but I could choose
756:28 - another Port that I would like to run
756:29 - instead
756:31 - so what's going to happen then is that
756:33 - when I start up this Docker container
756:35 - it's going to if it needs to go through
756:37 - these instructions and make sure that it
756:39 - sets up the container according to these
756:41 - instructions make sure that we've
756:42 - installed all the necessary requirements
756:44 - make sure that we're using python3 and
756:47 - anyone using the same Docker file can
756:49 - generate a container that has all the
756:51 - same configuration on it so we don't
756:53 - have to worry about configuration
756:54 - differences between me and someone else
756:56 - who might not have the exact same
756:58 - computer setup that I do and the nice
757:00 - thing about this is that it can run on
757:02 - Mac and windows and Linux so even people
757:04 - running on different operating systems
757:05 - can still have containers that all have
757:08 - the same configuration that all work in
757:10 - the same way just to speed up that
757:12 - process
757:13 - now so far when we've been building
757:15 - Django applications we've been using a
757:17 - sqlite database sqlite database just
757:19 - being a file that is stored inside of
757:22 - our application and this file based
757:24 - database allows us to create tables
757:25 - insert rows into it delete rows from it
757:27 - in most production environments and most
757:30 - real web applications that are working
757:32 - with many many users sqlite is not
757:34 - actually the database that is used it
757:36 - doesn't scale nearly as well when there
757:37 - are many users all trying to access it
757:39 - concurrently oftentimes in those sorts
757:41 - of situations you want your database
757:43 - hosted Elsewhere on some separate server
757:45 - to be able to handle its own incoming
757:47 - requests and connections and we talked
757:50 - about a couple of possible databases we
757:51 - could use instead of sqlite things like
757:53 - my secret MySQL things like postgres or
757:56 - various different SQL based databases
757:59 - so imagine now I want to deploy my
758:01 - application but instead of using SQL
758:03 - Lite I would like to use postgres for
758:06 - example as the database server that I
758:08 - would like to run well that would seem
758:09 - to be pretty complicated for me to test
758:11 - on my own because now in addition to
758:13 - running my web application in one server
758:16 - effectively I also need like another
758:18 - server that's running postgres for
758:20 - example such that I can communicate with
758:22 - that postgres database instead and
758:24 - that's going to be even harder for like
758:26 - other people to be able to work on as
758:27 - well potentially it might be difficult
758:29 - to get the server to work in that way
758:30 - too but the nice thing about Docker is
758:33 - that I can run each of these processes
758:35 - in a different container effectively I
758:37 - can have one container that's running my
758:39 - web application using this Docker file
758:41 - right here and I can have another
758:43 - container that's just going to run
758:44 - postgres and as long as other people
758:47 - also have access to that same container
758:49 - for running postgres they can be working
758:51 - in an identical environment to the one
758:53 - that I am working in as well
758:55 - and so there's also a feature of Docker
758:57 - known as Docker compose and what Docker
758:59 - compose lets us do is allow us to
759:01 - compose multiple different Services
759:03 - together that I would like to run my web
759:06 - application in one container and I would
759:08 - like to run a postgres database in
759:10 - another container but I would like for
759:12 - those containers to be able to talk to
759:13 - each other to be able to work together
759:15 - whenever I start up the application
759:17 - so if I'd like to do that in order to
759:20 - run this application on my computer and
759:22 - have both the web application and
759:23 - postgres installed I can create a Docker
759:26 - compose file which looks like this here
759:29 - I'm specifying using version 3 of Docker
759:31 - compose
759:32 - here I specify again using a yaml file
759:35 - much as in my GitHub workflows we're
759:36 - formatted in yaml just as a
759:38 - configuration file Docker compose.yml is
759:41 - a yaml file that describes all of the
759:43 - various different services that I want
759:45 - to be part of my application where each
759:47 - service is going to be its own container
759:49 - that could be based on a different
759:51 - Docker image
759:53 - here I'm saying that I have two Services
759:55 - one called DB for database one called
759:58 - web for my web application the database
760:00 - is going to be based on the postgres
760:02 - docker image image the postgres wrote
760:04 - that I don't have to worry about someone
760:05 - else has written the docker file for how
760:07 - to start up a postgres container
760:10 - here though for the web application
760:11 - that's going to be built based on the
760:13 - docker file in my current directory the
760:15 - docker file that I have written
760:17 - and then down below I've just specified
760:18 - that my current directory should
760:20 - correspond to the app directory and then
760:22 - I've specified when I'm running this on
760:24 - my own computer I would like Port 8000
760:27 - on the container to correspond to Port
760:29 - 8000 on my own computer just so that I
760:31 - can access port 8000 in my browser and
760:34 - access port 8000 inside the container it
760:36 - just lets my computer actually talk to
760:38 - The Container so I can open up the web
760:40 - application in my web browser for
760:42 - example and actually see the results of
760:44 - all of this
760:45 - so here then I've created two Services a
760:48 - database and web so now let's actually
760:50 - try starting up these containers I'm
760:52 - going to first go into my Airline One
760:54 - Directory and I'm going to say Docker
760:56 - compose up to mean go ahead and start up
760:59 - these Services I'll press return and
761:02 - what you'll see is we're going ahead and
761:03 - starting up two Services I'm starting up
761:05 - the database service and I'm starting up
761:07 - the web service
761:08 - and now as a result of all of this
761:11 - I've started up the application and I
761:13 - started it on Port 8000 so if I go to
761:15 - 0.0.0.0 8000 or colon 8000 slash flights
761:21 - that's going to take me to the flights
761:23 - page and now this is running not just on
761:25 - my own computer but inside of a Docker
761:28 - container now of course right now there
761:30 - are no flights inside of this page
761:31 - because I haven't actually added
761:33 - anything to the database yet so I could
761:35 - do that if I wanted to but how do I do
761:37 - that well I needed to like go into slash
761:38 - admin to say like let me log in and go
761:41 - ahead and create some sample flights but
761:43 - I don't have a login yet because I need
761:44 - to like create a super user account and
761:47 - I can't just like inside of my Airline
761:49 - One Directory say python manage.pi
761:52 - create super user the way that I used to
761:54 - because this is running in my terminal
761:57 - on my computer whereas what I really
761:59 - want to do is go into the docker
762:02 - container and run this command there
762:04 - inside of the container so how can I do
762:06 - that well there are various different
762:07 - Docker commands that I can use Docker PS
762:10 - will show me all of the docker
762:12 - containers that are currently running so
762:15 - go ahead and Shrink this down a little
762:16 - bit I see two rows one for each
762:18 - container one for my postgres container
762:20 - that's running the database one for just
762:23 - my web application that's running as
762:24 - well
762:25 - each one has a container ID
762:27 - so I want to go into my web application
762:31 - container in order to run some commands
762:33 - inside of that container so I'm going to
762:35 - copy its container ID and say Docker
762:38 - exec meaning go ahead and execute a
762:41 - command on the container Dash it will
762:43 - make this interactive here is the
762:45 - container ID that I would like to
762:46 - execute a command on and the command I
762:48 - want to execute is dash pass in the dash
762:51 - L flag but bash to say I want to run a
762:54 - bash prompt I want to be able to
762:56 - interact with a shell so that I can run
762:58 - commands inside of this container
763:01 - so I press return
763:03 - and now what you'll notice is that I am
763:05 - inside of my container in the user
763:08 - Source app directory that directory that
763:10 - contained all the information about this
763:13 - web application I type LS and what I'll
763:16 - see is here all the files inside of this
763:18 - container now and now I can say
763:20 - something like python manage.pi create
763:22 - super user
763:24 - and now it's going to let me create a
763:26 - super user so I'll create a user inside
763:28 - of my web application called Brian I'll
763:30 - give it my email address I'll type in a
763:33 - password
763:35 - and now we've created a super user
763:37 - and you can run other commands here if
763:39 - you wanted to migrate all of your
763:40 - migrations I could say python manage.pi
763:42 - migrate it turns out I've already done
763:44 - that so I didn't actually have to do it
763:45 - again but you can run any commands that
763:47 - you could run on your computer but now
763:49 - you can run them inside of the docker
763:51 - container instead I'm going to press
763:52 - Ctrl D just to log out get out of the
763:55 - container and get back to my computer
763:57 - but now I've created a super user so I
763:59 - could go ahead and sign in to Django's
764:02 - admin and now I can begin to manipulate
764:04 - this database which is a postgres
764:06 - database running in a separate container
764:08 - but the nice thing about it is that I
764:10 - can start them both up together just by
764:12 - running something like Docker compose up
764:14 - for example
764:15 - so Docker can be quite a powerful tool
764:18 - for allowing us to very quickly ensure
764:20 - that an application is running in the
764:22 - environment that we expect it to be
764:24 - running to make sure that all the right
764:25 - libraries are installed make sure that
764:27 - all the right packages are installed as
764:28 - well that the configuration between my
764:30 - development environment and the
764:32 - environment that's running on the server
764:33 - are the same as well
764:35 - so those then were just some of the best
764:38 - practices for how you can go about
764:39 - developing a program now that we have
764:41 - the tools to do so we have a lot of
764:42 - tools for being able to develop these
764:44 - web applications but as our programs
764:46 - start to get more complex it'll be
764:47 - increasingly important to test them make
764:49 - sure that each various different
764:51 - component of our web application behaves
764:53 - the way that it is expected to behave
764:55 - and then taking advantage especially in
764:57 - bigger teams of CI CD continuous
764:59 - integration continuous delivery to make
765:02 - incremental changes and make sure each
765:04 - of those incremental changes in fact
765:06 - works on the web application and then
765:08 - cud continuous delivery to say that
765:10 - rather than wait and then deploy
765:12 - everything all at once let's deploy
765:14 - things incrementally as well let users
765:16 - more quickly get access to the latest
765:18 - features and more quickly find out if
765:20 - something went wrong we can better
765:21 - identify what it is that went wrong if
765:24 - we've deployed things incrementally
765:25 - rather than waiting a long time in order
765:27 - to do so as well so these are some of
765:29 - the best practices in modern software
765:31 - application development not only for web
765:33 - applications but for software more
765:35 - generally next time we'll consider other
765:37 - challenges that might arise as we go
765:39 - about trying to make web applications
765:40 - that are used by more and more users in
765:42 - particular taking a look at challenges
765:44 - that will arise in terms of scalability
765:46 - as our programs get bigger and also
765:48 - security of what security
765:49 - vulnerabilities open themselves up as we
765:51 - begin to design our web applications
765:53 - using Python and JavaScript so more on
765:56 - that next time and we'll see you then
766:00 - [Music]
766:09 - thank you
766:12 - [Music]
766:17 - all right welcome back everyone to web
766:19 - programming with python and JavaScript
766:20 - and for our final topic we're going to
766:23 - explore scalability and security so so
766:26 - far in the class we've been building web
766:27 - applications and we've been building web
766:28 - applications that work on our own
766:30 - computer but if we want to take those
766:32 - web applications and deploy them to the
766:34 - world so people all across the internet
766:35 - can begin to use them then we're going
766:37 - to need to host our web application on
766:39 - some sort of web server some dedicated
766:41 - piece of Hardware that is listening for
766:43 - web requests and responding to them with
766:45 - the response that we would like for our
766:46 - web application to deliver and when we
766:48 - do so this introduces a whole bunch of
766:50 - interesting issues surrounding
766:52 - scalability and security so we'll take a
766:54 - look at these issues today beginning
766:56 - with problems concerning scalability
766:58 - what those problems are and how we might
767:00 - go about addressing them so when we
767:02 - deploy our web applications we deploy
767:04 - them by putting them onto a web server
767:06 - that I'm here just representing with
767:07 - this rectangle but all the server is is
767:10 - some dedicated computer some piece of
767:11 - Hardware that is listening for incoming
767:13 - requests so we'll draw this line to
767:15 - represent an incoming web request from a
767:17 - user the server takes that request and
767:20 - responds to it but ultimately our web
767:22 - application isn't just going to be
767:23 - servicing one user if it becomes popular
767:25 - it might have many users that are all
767:28 - trying to connect to that server at the
767:30 - same time and as multiple people start
767:32 - to connect to that server at the same
767:33 - time here's where we start to deal with
767:35 - issues of scalability a single computer
767:37 - a single server can only service so many
767:40 - users at any given time and so therefore
767:42 - we need to think in advance about how
767:44 - we're going to deal with those issues of
767:46 - scale but the first question before we
767:48 - even get there is where these servers
767:50 - actually exist and nowadays there are
767:52 - two main options for where these servers
767:54 - can exist these server series can be on
767:57 - the cloud or they can be on premise an
768:00 - on-premise servers you might imagine and
768:02 - as if a company is running their own web
768:04 - application on-premise servers or
768:06 - servers that are inside of the company's
768:07 - walls the company owns the physical
768:09 - servers maybe on some server racks
768:11 - inside of a room and therefore they have
768:13 - very direct control over all of the
768:15 - servers exactly what kind of servers
768:16 - they are exactly what software is
768:18 - running on them they can go and
768:20 - physically look at the servers and debug
768:21 - them if need be in order to make sure
768:23 - that any issues are dealt with but
768:25 - increasingly we're starting to move into
768:27 - a world where cloud computing is
768:29 - becoming increasingly popular we're in
768:31 - cloud computing rather than have
768:32 - dedicated servers that are on premise we
768:35 - have servers that are somewhere in the
768:36 - cloud where cloud computing companies
768:38 - like Amazon or Google or Microsoft are
768:40 - able to run their own servers and we
768:42 - simply use those servers that are
768:44 - provided by those third parties whether
768:46 - it's Amazon or Google or Microsoft or
768:49 - someone else and there are trade-offs
768:50 - here with cloud computing we no longer
768:52 - have as direct control over the machines
768:54 - themselves because they're not on
768:55 - premise we can't physically manipulate
768:57 - those computers but we have the
768:59 - advantage of not having to worry about
769:01 - dealing with physical objects that are
769:04 - inside of the premise of the company
769:05 - whose servers we'd like to run code for
769:07 - that when it's on the cloud everything
769:09 - is managed externally by some other
769:10 - company and we can simply use the
769:12 - servers that we need to and we'll see
769:14 - that This lends itself to other benefits
769:16 - as well as we might need more servers as
769:18 - we start to get more sophisticated web
769:20 - applications that need more users these
769:22 - cloud computing companies can allow us
769:24 - to create web app locations that are
769:26 - able to scale across multiple different
769:28 - servers as we start to get more and more
769:30 - users but we'll discuss those issues of
769:33 - scale as we get to them the question we
769:35 - need to ask after we have these servers
769:37 - whether they're servers that are on
769:38 - premise or servers that are operating
769:40 - somewhere in the cloud is how many can
769:43 - those users can the server actually
769:45 - service at any given time and that's
769:47 - going to vary it's going to vary based
769:48 - on the size of the server the computing
769:51 - power of the server and it's going to be
769:52 - dependent upon how diff how long it
769:55 - takes to process any particular user's
769:57 - request if user requests are quite
769:59 - expensive it might mean that there are
770:00 - fewer users that can be serviced at any
770:02 - given time and it's for that reason that
770:04 - a helpful tool is to do some kind of
770:06 - benchmarking some process of trying to
770:08 - do some analysis on how many users a
770:11 - server can actually be handling at any
770:13 - particular time and there are numerous
770:15 - different tools that allow us to do this
770:17 - kind of benchmarking Apache bench or
770:19 - otherwise known as a b is a popular tool
770:22 - for doing this kind of thing but
770:24 - benchmarking is going to be useful so
770:25 - that we know how many users one
770:28 - particular server can handle maybe it
770:29 - can handle 50 users maybe it can handle
770:31 - 100 users maybe it can handle more at
770:33 - any given time but ultimately it's going
770:35 - to be some finite limit every computer
770:38 - just has some finite amount of resources
770:40 - and servers are no exception there's
770:41 - going to be some number of users after
770:43 - which the server is not going to be able
770:45 - to handle it so what do we do in that
770:47 - situation what do we do if our server
770:49 - can only handle 100 users at any given
770:52 - time but 101 users are trying to use our
770:55 - web application at the same time
770:57 - something needs to change we need to
770:59 - deal with some sort of scaling to make
771:01 - sure that our web application can scale
771:03 - and there are a couple of different
771:05 - types of scaling that we can try one
771:07 - approach is to do what's called vertical
771:09 - scaling which might be the simplest way
771:11 - you could imagine scaling if this server
771:13 - is not good enough for handling the
771:14 - number of users that we needed to handle
771:16 - we'll then just get a bigger server in
771:18 - vertical scaling we just take the server
771:20 - and get a bigger server a more powerful
771:22 - server a server that can handle more
771:24 - users at any given time it's going to
771:26 - cost more but if we need it to handle
771:28 - more users we can just get a bigger
771:30 - server to be able to deal with that
771:32 - problem this approach is fairly simple
771:34 - it just involves swapping out one server
771:36 - for another one that can handle more
771:37 - users concurrently but it also has
771:39 - drawbacks right there's some limit to
771:41 - how big the server can be to how many
771:43 - users any physical one server is going
771:45 - to be able to handle because there's a
771:47 - physical limitation on what is the
771:48 - biggest fastest most powerful server we
771:51 - could possibly get
771:52 - so when vertical scaling ends up not
771:54 - being enough an alternative as you might
771:56 - imagine is what's known as horizontal
771:58 - scaling and the idea behind horizontal
772:00 - scaling is that when one server isn't
772:03 - enough to be able to service all of the
772:05 - users that might be trying to use a web
772:07 - application at the same time well then
772:09 - we can take the approach of saying well
772:11 - rather than just using one server let's
772:13 - go ahead and split it up into two
772:16 - different servers we now have two
772:18 - servers that are both running the web
772:20 - application and now effectively we've
772:22 - been able to double the number of users
772:24 - that this web application can handle
772:26 - rather than just a single server that
772:27 - can serve as 100 users if we have two of
772:30 - them now we can Service 200 users at any
772:32 - given time if you imagine 100 of them
772:34 - using server a over here and 100 of them
772:37 - using server B over there
772:39 - but this then lends itself to some other
772:42 - questions that we have to answer which
772:44 - is how do these servers get their users
772:46 - in the first place like when a user
772:48 - requests a web page how does that user
772:50 - get directed either to server a or to
772:53 - server B it seems that they need some
772:54 - way to make that decision in order to
772:57 - decide whether to go One Direction or
772:59 - another
773:00 - and it's for that reason that we might
773:01 - introduce another piece of Hardware into
773:03 - this picture and that additional piece
773:05 - of Hardware is what we might call a load
773:07 - balancer and a load balancer is just
773:09 - another piece of Hardware that is going
773:11 - to sit in front of these servers so to
773:13 - speak in other words when a user makes a
773:16 - request to a web page rather than
773:17 - immediately getting that request to one
773:19 - of these web servers the request is
773:21 - first going to go through this load
773:24 - balancer where the request first comes
773:26 - into the load balancer and the load
773:27 - balancer then decides whether to send
773:29 - that request to server a or to send that
773:32 - request to server B
773:34 - and this process is likely less
773:35 - expensive than actually dealing with and
773:37 - processing that request so the load
773:39 - balancer is effectively just acting as a
773:41 - dispatcher it waits for those requests
773:43 - to come in and when the requests do come
773:45 - in the load balancer directs those
773:46 - requests either to go to one server or
773:48 - to another and you might imagine a story
773:50 - where we have more than just two servers
773:52 - maybe we have many servers and the load
773:54 - balancer is just going to balance
773:56 - between all of those different servers
773:58 - and this process of deciding which
774:00 - server to send a request to is known as
774:02 - load balancing which is what the load
774:04 - balancer is ultimately doing and there
774:06 - are various different methods that you
774:07 - might use in order to perform this load
774:09 - balancing so you might imagine thinking
774:11 - about this intuitively how would the
774:13 - load balancer decide given some request
774:15 - should we send the request to this
774:17 - router to this server or should we send
774:19 - the request to some other server instead
774:22 - and there are many different approaches
774:24 - that our load balancer might take and
774:25 - here are just a couple random Choice
774:27 - might be the simplest of options given a
774:30 - user that shows up and tries to make a
774:32 - request to our web server the load
774:34 - balancer first takes a look at the user
774:36 - and just randomly assigns them to one of
774:38 - the various different servers that might
774:40 - be processing that request if there are
774:42 - 10 different servers it randomly chooses
774:44 - among those 10 servers to decide which
774:46 - of them is going to be servicing that
774:48 - request this has the advantage of being
774:51 - very simple it's just a quick
774:52 - calculation the computers can pretty
774:53 - readily Generate random numbers and
774:56 - based on that random number the computer
774:57 - can dispatch the user to one server or
775:00 - to another server but it might not be
775:03 - the best option because if we happen to
775:05 - get unlucky we might end up with many
775:07 - more users on one server than another or
775:10 - in such we might end up with servers
775:11 - that are entirely unused if it just so
775:13 - happens that we don't end up randomly
775:15 - selecting that server now in practice
775:17 - with many users that are all using this
775:19 - load balance they're all being
775:20 - dispatched odds are high that eventually
775:22 - all of them will be used but it might
775:24 - not be a totally even distribution and
775:27 - so for that reason another approach you
775:28 - might take is a round-robin approach
775:30 - where the approach is instead for the
775:32 - very first user go ahead and assign that
775:34 - user to server number one for the next
775:36 - user assign them to server number two
775:38 - and maybe if there are five servers you
775:40 - say the third user goes to server three
775:41 - user four goes to server four user 5
775:44 - goes to server five and then user six
775:46 - goes back to server number one you
775:48 - basically rotate going one through five
775:50 - and then once you've assigned someone to
775:52 - each of the servers you go back to the
775:54 - beginning
775:55 - this is also a relatively easy thing to
775:57 - implement because you can simply just
775:59 - keep count somewhere in the load
776:00 - balancer saying what was the most recent
776:02 - server that I assigned a user to and the
776:04 - next time a request comes in go ahead
776:06 - and assign it to the next server and the
776:08 - next server after that effectively is
776:09 - doing a round robin style approach where
776:12 - you go through all the servers once
776:13 - before going through the servers again
776:16 - now this might seem better than random
776:18 - choice in the sense that it's going to
776:20 - more equitably decide whether to assign
776:22 - any particular uh request to any
776:25 - particular server but it also suffers
776:27 - from certain problems that round robin
776:29 - might be great but if some requests take
776:31 - longer than other requests we might also
776:33 - get unlucky and the requests that are
776:35 - taking longer might end up all going to
776:37 - one of the servers as opposed to another
776:39 - server so there are other approaches
776:40 - that we might want to go to as well for
776:43 - example something like fewest
776:44 - connections where the approach there is
776:46 - to say go ahead and when a user makes a
776:48 - request
776:49 - the load balancer should pick which of
776:52 - the servers currently has the fewest
776:54 - connections the fewest active
776:55 - connections from other users and other
776:57 - requests that are currently connected to
776:59 - those servers instead and by choosing
777:01 - the server that happens to have the
777:02 - fewest connections you're probably going
777:04 - to do a better job of trying to balance
777:06 - out between all the various different
777:08 - requests that might be happening inside
777:10 - of your web application
777:11 - and while this might do a better job
777:13 - there are trade-offs here as well that
777:14 - it might be more expensive for example
777:16 - to compute which of the servers happens
777:18 - to have the fewest number of connections
777:20 - whereas it's much easier just to say
777:22 - choose a server at random or to do the
777:25 - round robin style approach of just one
777:27 - two three four five one two three four
777:29 - five again and again and again
777:32 - but all of these approaches naively have
777:34 - yet another problem which has to do with
777:36 - sessions and you recall that sessions we
777:39 - used whenever we wanted to store
777:40 - information about the user's current
777:42 - interaction with the web application
777:44 - when you log into a website like you log
777:46 - into your email or you log into Amazon
777:48 - for example and then you come back to
777:51 - that website or visit another page on
777:52 - that website making another request for
777:55 - example it's not the case that you have
777:57 - to sign in yet again that the web
777:59 - browser has totally forgotten who you
778:00 - are when I go back to my mail account or
778:03 - when I go back to Amazon for a second
778:04 - time my mail account or Amazon remembers
778:06 - me from the last time that I visited I
778:08 - have some sort of session where it's
778:10 - keeping track of who is logged in maybe
778:12 - information about what I've been doing
778:14 - on the page and allows me to continue
778:16 - interacting with the web application
778:17 - even if I'm making multiple requests
778:21 - and this you might imagine could be a
778:23 - problem for this type of load balancing
778:25 - but if I have multiple different servers
778:28 - imagine if I try to log into a website
778:30 - and the first time I make a request I'm
778:33 - directed to server number one and I'm
778:34 - now logged in on server number one but
778:37 - then I make another request I'm directed
778:39 - back to the load balancer and maybe the
778:41 - load balancer this time decides to send
778:43 - me to server number two but if the
778:45 - session is stored in server number one
778:47 - somewhere server number one remembers
778:49 - who I am and what I'm doing then server
778:51 - number two is not going to know who I am
778:53 - and therefore it's not going to remember
778:55 - that I've already logged into this web
778:57 - application and as a result I might be
778:59 - prompted to log in again and if I would
779:01 - go make another request and I end up on
779:03 - yet another server I might be logged out
779:04 - again and have to log in for a third
779:06 - time so the problem comes about when our
779:09 - load balancing happens but we're not
779:11 - doing so in a session aware way that our
779:14 - load balancer isn't caring about when a
779:16 - user visits the page and then visits
779:18 - another page on the same web application
779:21 - again because we want to remember
779:22 - information from the previous time that
779:25 - the user was here
779:27 - so how can we solve this problem how can
779:28 - we make sure that when we do this load
779:30 - balancing across multiple different
779:31 - servers that we do so in a session aware
779:34 - way well there are multiple different
779:35 - approaches to session aware load
779:38 - balancing one approach is this general
779:40 - idea known as sticky sessions where the
779:42 - idea is that when I come back to the
779:44 - load balancer the load balancer will
779:46 - remember what server I was sent to last
779:48 - time and send me there yet again
779:51 - so for example if I log into a website
779:53 - once and I'm directed to server number
779:55 - two for example then the next time I
779:58 - visit this web application even if I
780:00 - should be directed to server 3 or 4
780:02 - according to random choice or according
780:04 - to fewest connections or any of these
780:06 - other load balancing methods the load
780:08 - balancer should remember that last time
780:10 - I came to this site I got directed to
780:12 - server number two and so this time the
780:15 - load balancer is going to direct me to
780:16 - server number two yet again that way
780:18 - server number two which contains
780:20 - information about my session is going to
780:22 - see me again and remember who it is that
780:24 - I am and it's not going to make me log
780:26 - in again into the exact same website for
780:28 - a second time for example and so sticky
780:31 - sessions are one way of dealing with
780:32 - this problem but again with all of these
780:34 - approaches and this will be a recurring
780:35 - theme as we talk about scalability and
780:37 - security there are trade-offs here that
780:39 - are trade-off to the sticky sessions is
780:41 - that it's possible that one of these
780:43 - servers is going to end up getting far
780:45 - more load than another if one server
780:47 - happens to have a lot of users that keep
780:48 - coming back to the website and keep
780:50 - requesting additional pages but other
780:52 - Pages other servers might have had users
780:55 - that decided not to come back for
780:57 - example and so there's a difference in
780:58 - utilization where some of our servers
781:00 - might be more heavily utilized than
781:02 - other servers and we're not doing a very
781:04 - good job of balancing between them
781:06 - and so one approach is to store sessions
781:09 - inside of the database rather than store
781:12 - information about sessions inside of the
781:15 - server themselves so that if I get
781:16 - directed to another server that other
781:18 - Server doesn't remember who I am doesn't
781:20 - remember information about my
781:22 - interaction with this website if we
781:24 - instead choose to store sessions inside
781:26 - of a database and in particular inside
781:28 - of a database that all of the servers
781:30 - have the ability to access well then it
781:33 - doesn't matter which of the servers I
781:35 - get directed to and which server the
781:37 - load balancer decides to send me to
781:38 - because regardless of which server I end
781:40 - up getting sent to the session
781:42 - information is in the database and each
781:44 - of the servers can connect to the
781:45 - database to find out who I am to find
781:47 - out whether I've logged into the site
781:49 - already and therefore is able to
781:51 - recognize me
781:52 - and so that might be one approach as
781:53 - well another approach to store sessions
781:56 - on the client side we've talked a little
781:58 - bit about this idea of cookies which can
782:00 - be stored where the web browser can set
782:01 - a cookie so that your web browser is
782:04 - able to present that cookie the next
782:05 - time it makes a request to the same web
782:07 - application and inside this cookie you
782:09 - can store a whole bunch of information
782:11 - including information about the session
782:13 - you might inside of a cookie store
782:15 - information about what user is currently
782:17 - logged in for example or other session
782:19 - related information but here too there
782:21 - are drawbacks if you're not careful
782:23 - someone could manipulate that cookie and
782:25 - maybe pretend to be something else and
782:27 - so for that reason you might want to do
782:28 - some encryption or some kind of signing
782:30 - to make sure that you can't fake a
782:32 - cookie and pretend to be someone that
782:34 - you're not but another concern is that
782:36 - as you start to store more and more
782:38 - information inside of these cookies
782:39 - these cookies keep get sitting back and
782:41 - forth between the server and the client
782:43 - every time a request is made that can
782:45 - start to get expensive too more and more
782:46 - information passing back and forth
782:48 - between the client and between the
782:50 - server
782:51 - so lots of possible approaches no one
782:53 - approach that is necessarily the right
782:55 - approach or the best approach to use in
782:57 - any cases but things to be aware of
782:59 - things to think about as we begin to
783:01 - deal with these issues of scale of
783:02 - making sure we have multiple servers
783:04 - that are available for usage in case we
783:06 - do need it but also making sure that
783:08 - when we do so we don't break the user
783:10 - experience we don't result in a
783:12 - situation where a user is logged in but
783:14 - then suddenly isn't logged in at all
783:17 - and so horizontal scaling gives us this
783:20 - kind of capacity the ability to have
783:22 - multiple different servers all of which
783:24 - can be dealing with user requests and
783:26 - responding to those user requests as
783:27 - well
783:28 - but a reasonable question asked is how
783:31 - many of those servers do we need
783:33 - now we can use benchmarking to try to
783:35 - estimate this if we have an estimate of
783:37 - how many users are going to be on our
783:39 - website at any given time we can
783:41 - Benchmark and see how many users there
783:43 - can be handled by a single server and
783:45 - extrapolate based on that information to
783:47 - infer how many servers we might need in
783:49 - our web application to be able to
783:51 - service all of these different users but
783:53 - it might be the case that our web
783:54 - application doesn't always have the same
783:57 - number of users maybe sometimes they're
783:59 - going to be far more users than another
784:00 - time you might imagine for example that
784:03 - in a news organization's website like
784:04 - the web application for a newspaper
784:07 - when there's breaking news some big
784:09 - story there's going to be a lot more
784:10 - people that are all trying to access the
784:12 - website at the same time than at other
784:14 - times so one approach might be like
784:16 - consider the maximum what is the most
784:18 - number of users that ever might be
784:20 - trying to use our web application at any
784:22 - given time and choose a number of
784:24 - servers based on that maximum so that no
784:26 - matter how high the number of users get
784:28 - we will have enough servers to be able
784:30 - to service all of those users but that's
784:32 - probably not a great economical choice
784:34 - if in the vast majority of cases there
784:37 - will be far fewer users in that case
784:39 - you're going to have a lot of servers
784:41 - that are underutilized where you don't
784:42 - need that many servers but you're still
784:44 - paying for the electricity for keeping
784:46 - all of them running which might not be
784:48 - an ideal choice either
784:50 - so one solution to this quite popular
784:52 - especially in this world of cloud
784:53 - computing is the idea of Auto scaling
784:57 - where you can have an auto scaler to say
784:58 - that you know what let's start with for
785:00 - example two servers
785:02 - but if there's enough traffic to the
785:04 - website if enough people are making
785:06 - requests to the website maybe it's a
785:07 - peak time where people are using the
785:09 - website go ahead and scale up go ahead
785:11 - and add a third server where now our
785:14 - load balancer can balance between all
785:16 - three of those servers and if even more
785:18 - traffic ends up coming to the website
785:20 - more users are trying to use this
785:22 - application all at the same time well
785:24 - then we can go ahead and add a fourth
785:26 - server as well and we can continue to do
785:27 - that most Auto scalers will let you
785:29 - configure for example a minimum number
785:31 - of servers and a maximum number of
785:33 - servers and dependent on how many users
785:35 - happen to be using your web application
785:37 - at any given time
785:39 - the auto scaler can scale up or scale
785:41 - down adding new servers with more users
785:43 - come to the website removing servers as
785:46 - fewer users are using the website as
785:48 - well
785:49 - and so this can be a nice solution to
785:51 - this problem of scale where you don't
785:52 - have to worry about how many servers
785:54 - there are it just Auto scales entirely
785:56 - on its own now there are trade-offs here
785:58 - too that this Auto scaling process might
786:00 - take time and if a lot of users all come
786:02 - into your website all at the exact same
786:04 - time well it's going to take some time
786:06 - to be able to add all these additional
786:08 - servers to start them up and so there
786:11 - might be some trade-offs there too
786:13 - where you might not be able to service
786:14 - all of those users immediately
786:16 - and another problem we're thinking about
786:18 - is as you add more and more of these
786:20 - servers you introduce opportunities for
786:22 - failure now it's better than having a
786:24 - single server where if that single
786:26 - server fails now suddenly the entire web
786:28 - application doesn't work at all that's
786:30 - what we generally call a single point of
786:32 - failure a single place where if it fails
786:34 - the entire system is going to be broken
786:36 - one advantage of having multiple servers
786:39 - is that we no longer have a single
786:41 - server that acts as a point of failure
786:42 - if one of the servers goes down then
786:45 - ideally our load balancer should be able
786:47 - to know based on that information
786:49 - to no longer send a requests to that
786:52 - particular server to instead balance the
786:54 - load across the remaining three servers
786:56 - instead
786:57 - now there's an interesting question
786:59 - there as well which is how does the load
787:01 - balancer know that this server is no
787:04 - longer responding for some reason and
787:06 - have some sort of error that it's not
787:07 - able to process requests appropriately
787:09 - well there are multiple ways you can do
787:10 - this but one of the most common is
787:12 - what's simply known as a heartbeat where
787:14 - effectively every so often every sum
787:16 - number of seconds the load balancer
787:18 - pings all the servers just sends a quick
787:21 - request to all the servers and all of
787:23 - the servers are supposed to respond back
787:25 - and using that information
787:27 - the load balancer knows a little bit
787:29 - about the latency of each of the servers
787:31 - how long it took for the server to
787:33 - respond to the request but also it can
787:35 - get information about whether or not the
787:37 - server is functioning properly that if
787:39 - one of the servers doesn't respond to
787:41 - the Ping well then the load balancer
787:43 - knows that there's probably something
787:44 - wrong with the server that we probably
787:46 - shouldn't be directing more users to
787:48 - that server at all
787:49 - and so this can solve for the problem of
787:52 - a single point of failure by allowing
787:54 - ourselves multiple servers where if any
787:55 - one of the servers fails the load
787:57 - balancer learns about that via heartbeat
787:59 - and then based on that information can
788:01 - begin to redirect traffic to the other
788:03 - servers instead
788:05 - now one thing you might notice is that
788:07 - even in this picture now the load
788:08 - balancer appears to be like a single
788:10 - point of failure where if the load
788:12 - balancer happens to fail well now
788:14 - nothing is going to work because the
788:15 - load balancer is the one responsible for
788:17 - directing traffic to all of these
788:18 - various different servers and so even
788:20 - there there's no single server that has
788:22 - a point of failure this load balancer
788:24 - also appears to be a single point of
788:26 - failure and that's definitely true and
788:28 - you might imagine instead having
788:29 - multiple load balancers where if one
788:31 - load balancer goes down another load
788:33 - balancer can swoop in acting as a hot
788:35 - spare where it picks up all the traffic
788:37 - that was originally going to the first
788:39 - load balancer and if it ever goes down a
788:41 - second one is ready to take its place
788:43 - and it might also be doing this kind of
788:46 - heartbeat process checking up on the
788:47 - first load balancer and if all is well
788:49 - the second load balancer doesn't have to
788:50 - do anything but if the first load
788:52 - balancer ever were to fail well then the
788:54 - second load balancer can step in and
788:56 - begin servicing those requests directing
788:58 - them to all of these individual servers
789:00 - as well and so there too another
789:02 - opportunity to think about where the
789:04 - single points of failure are and
789:05 - thinking about how we might address
789:07 - those single points of failure in order
789:09 - to make sure that our web applications
789:10 - are scalable so that then deals with
789:13 - issues about how we might go about
789:14 - scaling up these servers But ultimately
789:17 - the servers are not the entirety of the
789:19 - story that inside of our applications
789:20 - we've mostly been writing web
789:22 - applications that interact and deal with
789:24 - data in some way and there are multiple
789:26 - different databases that we've talked
789:28 - about SQL Lite has been the default one
789:30 - that Django provides to us which just
789:31 - stores data inside of a file but as we
789:34 - begin to grow our applications we want
789:36 - to begin to scale them it's quite
789:37 - popular and quite common to put
789:39 - databases entirely somewhere separate to
789:41 - have a separate database server running
789:42 - somewhere else where the servers are all
789:44 - communicating with that database whether
789:46 - it's running MySQL or postgres or some
789:49 - other database system instead and all of
789:52 - the servers then have access to that
789:54 - database and so there too are are
789:56 - considerations that we need to take into
789:58 - account issues of how it is that we go
790:00 - about scaling up these databases
790:03 - that in this picture for example you
790:05 - might imagine a load balancer that is
790:07 - communicating with two servers but both
790:08 - of those servers for example need to be
790:10 - communicating with this database and
790:13 - much like any server can only handle
790:14 - some number of requests some number of
790:16 - users at any given time databases 2 can
790:19 - only handle some number of requests some
790:21 - concurrent number of connections at any
790:23 - given time and so we need to begin to
790:24 - think about issues of how it is and that
790:26 - we scale these databases as well in
790:29 - order to be able to handle more and more
790:31 - users
790:32 - now one approach the first thing we
790:34 - might try to do is something called
790:35 - database partitioning effectively
790:37 - splitting up what is a big data set into
790:40 - multiple different parts to that data
790:42 - set and we've already seen some examples
790:44 - of database partitioning we've seen one
790:46 - example where for example when we talked
790:48 - about SQL we looked at a table of
790:50 - flights where each flight Had An Origin
790:52 - City the origin cities airport code the
790:55 - destination city the destination cities
790:57 - airport code and some number of minutes
790:59 - the duration for that particular flight
791:02 - and we decided that storing all of this
791:04 - data in a single table probably wasn't
791:06 - the best idea and instead we wanted to
791:08 - split that data up in a type of
791:10 - partitioning where instead we said all
791:12 - right let's just have one table that
791:14 - will have all of the airports and so
791:16 - each airport gets its own row inside of
791:18 - this Airport's table and we also had
791:20 - another table which was just the flights
791:22 - table which rather than storing all of
791:25 - those columns just mapped to airports to
791:27 - each other that with any given flight it
791:29 - has an origin ID meaning Which object
791:32 - which Row in the origin of airports
791:34 - table is represented by the flight and
791:36 - then which Row in the airports table is
791:39 - going to represent the destination for
791:41 - that flight
791:42 - so we took one table and effectively
791:44 - split it up into multiple tables Each of
791:47 - which ultimately had fewer columns and
791:49 - this might be something we call the
791:51 - vertical partitioning of a database
791:53 - where instead of just having single big
791:55 - long tables we split them up into
791:57 - multiple tables Each of which have fewer
792:00 - columns that are able to represent data
792:01 - in a more relational way and that's
792:03 - something we've seen before too but in
792:05 - addition to Vertical partitioning we can
792:07 - also do horizontal partitioning where
792:09 - the idea there is that we take a table
792:11 - and just split it up into multiple
792:13 - tables that are all storing effectively
792:15 - the same data but split up into
792:17 - different data sets so the same type of
792:19 - data but just in different tables where
792:22 - we might have originally had a flights
792:24 - table and instead we split it up into a
792:26 - domestic flights table and an
792:28 - international flights table each of
792:30 - these tables still has the exact same
792:31 - columns they still have a destination
792:33 - column they still have an origin column
792:35 - they still have a duration column for
792:37 - example but we've just now taken the
792:39 - data that used to be in one table and
792:41 - split up that data into two or more
792:43 - multiple different tables instead one
792:46 - for all the domestic flights one for all
792:47 - the international flights and the
792:50 - advantage there is that we no longer
792:52 - need to search through the entirety of
792:53 - the data set if we're just looking for
792:55 - one domestic flight for example if you
792:57 - know the flight you're looking for is a
792:59 - domestic flight well then it can be more
793:01 - efficient to just search the flight's
793:03 - domestic table and not bother searching
793:05 - through the flight's International table
793:07 - and so for intelligent about how we
793:09 - choose to take a table and split it up
793:11 - into multiple different tables the
793:13 - effect of that is that we can often
793:15 - improve the efficiency of our searches
793:17 - the efficiency of our operations because
793:19 - we're dealing with multiple smaller
793:20 - tables where these operations can come
793:22 - faster
793:23 - one drawback though is that as we begin
793:26 - to split data across multiple different
793:28 - tables it becomes more expensive if ever
793:30 - we need to join this data back together
793:32 - and connect all the domestic and
793:34 - international flights running separate
793:36 - queries on each and so in that case
793:38 - we'll want to think about trying to
793:39 - separate our data in such a way that
793:41 - generally we're only going to need to
793:43 - deal with one table or the other at any
793:45 - given time and so domestic and
793:47 - international might be a reasonable way
793:49 - to split up our flights table because
793:50 - maybe most of the time our airport just
793:52 - cares about searching domestic flights
793:54 - if we know we're looking for one kind of
793:55 - flight or just cares about searching for
793:57 - international flights if they're
793:59 - different people or different computers
794:00 - that are going to handle each of those
794:02 - different types of systems
794:04 - and so partitioning our database can
794:06 - sometimes help with issues of scale by
794:08 - making it faster to search through large
794:10 - amounts of data and being able to
794:11 - represent data a little bit more cleanly
794:13 - but it still seems to represent a single
794:16 - point of failure that we have multiple
794:18 - servers now that are all connected to
794:21 - the same database and there again is a
794:23 - single point of failure if the database
794:25 - fails for some reason well now suddenly
794:27 - none of our web application is going to
794:29 - work because all of those servers are
794:31 - all connected to that exact same
794:33 - database and so it's for that reason
794:35 - that we might just as we tried to add
794:37 - more servers in order to solve the
794:39 - problem of a single point of failure
794:41 - with our servers we might also try
794:43 - database replication that rather than
794:45 - just have a single database in our web
794:47 - application in order to guard against
794:49 - potential failure we might replicate our
794:51 - database have multiple different
794:52 - databases and therefore reduce the
794:56 - likelihood that our application entirely
794:58 - fails and there are a couple of
795:00 - approaches that we can use for database
795:01 - replication two of the most common are
795:03 - what are known as single primary
795:05 - replication and multi-primary
795:07 - replication and in single primary
795:09 - database replication we have multiple
795:12 - different databases but one of those
795:14 - databases is considered to be the
795:16 - primary database and what we mean by a
795:18 - primary database is a database to which
795:20 - we can both read data meaning like
795:22 - select rows from the table but also
795:24 - write data meaning insert rows or update
795:27 - rows or delete rows to any of those
795:29 - tables
795:30 - so in single primary replication we have
795:33 - a single database where we can both read
795:34 - and write and we have some number of
795:36 - other databases in this case two other
795:38 - databases from which we can only read
795:41 - data so we can get data from those
795:42 - databases but we can't update or insert
795:45 - or delete from those databases
795:48 - and now we need some mechanism to make
795:50 - sure that all of these databases are
795:52 - kept in sync and ultimately what that
795:54 - means is that anytime the database
795:56 - changes all of the databases are
795:58 - informed now the only database that can
796:00 - change is our primary one this is the
796:02 - only one that can be written to the only
796:04 - one that allows for the data to change
796:06 - the others are read-only so anytime this
796:08 - primary database updates or changes in
796:11 - some way it needs to inform the other
796:13 - databases of that update and so it
796:16 - informs the other databases of that
796:18 - update and now all of the databases are
796:20 - kept in sync where if you try and run a
796:22 - query on any of these databases to
796:23 - select and get some information you'll
796:25 - get the same results from all of these
796:27 - various different databases now the
796:30 - single primary approach has some
796:32 - drawbacks it has the drawback of only
796:34 - one of these databases can be written to
796:36 - so if you have a lot of users that are
796:38 - all trying to write data to the database
796:39 - at the exact same time
796:41 - well there might be some issues here
796:43 - where this one database is going to be
796:45 - carrying all of that load for all of the
796:48 - people that might be trying to update
796:49 - and change that database and it also has
796:52 - a slightly smaller version of the same
796:54 - problem of a single point of failure
796:56 - there's no longer a single point of
796:58 - failure for reading from that data that
797:00 - if you want to read from the data and
797:01 - one of the databases goes out you can
797:03 - read data from any of the other
797:04 - databases and they'll work just fine but
797:07 - it does have the drawback that if this
797:09 - database fails if our primary database
797:11 - fails well then we're no longer able to
797:13 - write data that if we want to update
797:15 - data inside of our database this one
797:17 - database is no longer going to be
797:18 - operational and none of the other
797:20 - databases are going to allow us to write
797:22 - new changes
797:24 - so there are a couple of approaches we
797:25 - can use to try to solve this problem one
797:27 - approach though is instead of having a
797:29 - single primary database a single
797:31 - database to which we can read and write
797:33 - to use a multi-primary approach and in
797:36 - the multi-primary approach we have
797:37 - multiple databases all of which we can
797:40 - read and write to we can select rows
797:42 - from all the databases and we can insert
797:44 - and update and delete rows to all of
797:46 - these databases as well but now the
797:49 - synchronization process becomes a little
797:51 - bit trickier and here now is the
797:52 - trade-off and now we've replicated the
797:54 - number of reads and writes we can do by
797:56 - having many databases to which we can
797:58 - read data and write data but anytime any
798:00 - of these databases changes every
798:02 - database needs to inform all of the
798:05 - other databases of those updates
798:07 - and that's certainly going to take some
798:08 - amount of time it introduces some
798:10 - complexity into our system as well and
798:13 - it also introduces the possibility for
798:15 - conflicts that you might imagine
798:16 - situations where if two people are
798:18 - editing similar data at the same time
798:20 - that you might run into a number of
798:22 - different types of conflicts so one type
798:24 - of conflict for example would be an
798:26 - update conflict if I try to edit one row
798:28 - in one database and someone else tries
798:30 - to edit the same Row in another database
798:32 - when they sync up with each other via
798:34 - this update process our database system
798:36 - needs some way to decide how it's going
798:38 - to resolve those various different
798:40 - updates
798:41 - another conflict might be a uniqueness
798:43 - conflict we've seen in the case of
798:45 - databases in SQL that when we're
798:47 - designing our tables I can specify that
798:49 - this particular field should be a unique
798:51 - field common one being the ID field for
798:53 - example where every single row is going
798:55 - to have its own unique ID well what
798:58 - happens if two people try to insert data
799:00 - at the same time into two different
799:02 - databases they're each given a unique ID
799:04 - but it's the same ID on both of the
799:06 - databases because neither database knows
799:08 - that the other databases added a new row
799:10 - yet so when they sync back up we might
799:12 - run into uniqueness conflict where two
799:14 - different databases have assigned the
799:16 - same exact ID to multiple different
799:18 - entries and so we need some way to be
799:20 - able to resolve those conflicts as well
799:22 - and there are many other conflicts that
799:24 - you might imagine trying to deal with
799:25 - one example being for instance delete
799:27 - conflicts where one person tries to
799:30 - delete a row and another person tries to
799:32 - update that row well which should take
799:34 - precedence should we update the row
799:36 - should we delete the row we need some
799:37 - way
799:38 - to be able to make those decisions
799:40 - because there is some latency between
799:42 - When A change is made to a database and
799:45 - when that database is able to
799:46 - communicate with another database so
799:48 - these issues have scale these issues of
799:50 - synchronization are always going to come
799:51 - up as we start to deal with programs
799:53 - that are interacting with more and more
799:55 - of this kind of data and as a result we
799:57 - need to design more and more
799:58 - sophisticated systems that are able to
800:00 - deal with those issues of scale
800:03 - now ultimately we'd ideally like to
800:06 - reduce the number of different of these
800:08 - database servers that we have that every
800:10 - additional database server is going to
800:12 - cost time it's going to cost resources
800:13 - to cost money in terms of keeping all of
800:15 - these servers running and so ideally
800:17 - we'd like not to have to talk to this
800:19 - database if we don't need to so you
800:22 - might imagine for example a news
800:24 - organization's website something like
800:26 - the front page of the New York Times if
800:28 - you go to the homepage of the New York
800:29 - Times website it displays all of the
800:31 - day's headlines with images and with
800:33 - information about what each of the
800:34 - stories are about for example and you
800:36 - might imagine that the way they're doing
800:38 - something like this
800:39 - is that they have some kind of database
800:41 - that's storing all of these news
800:42 - articles and when you visit the front
800:44 - page of the New York Times it's going to
800:46 - do some kind of database query selecting
800:48 - all of the recent top headlines for
800:50 - example and rendering all of that
800:52 - information in an HTML page that you can
800:55 - see
800:55 - and that would certainly work but if a
800:58 - lot of people are all requesting the
800:59 - front page at the same time
801:01 - well it probably doesn't make all that
801:03 - much sense if the web application every
801:05 - time is making a database query getting
801:08 - the latest articles
801:09 - and then displaying that information to
801:11 - all the users because the Articles might
801:14 - not be changing all that frequently if
801:16 - one person makes a request one second
801:17 - and another person makes the same
801:19 - request half a second later it probably
801:21 - is not going to be useful to re-request
801:24 - all the information from the database
801:26 - regenerate that template yet again
801:28 - because it's an expensive process of
801:30 - requesting data from the database of
801:32 - generating that template we'd ideally
801:33 - like some way of dealing with that
801:35 - problem and the way we can deal with
801:37 - that problem is some form of caching and
801:39 - caching refers to a whole bunch of
801:41 - different types of of ideas and tools
801:44 - that we can use at various different
801:45 - places inside of our system but in
801:47 - general when we're talking about caching
801:49 - we're talking about storing a saved
801:52 - version of some information in a way
801:54 - that we can access it more quickly so
801:56 - that we don't need to continue making
801:57 - requests to a database for example and
802:00 - so there are a number of ways we can do
802:01 - caching one way we can do caching is on
802:04 - the client side via client-side caching
802:06 - where the idea is that your browser
802:08 - whether it's Safari or Chrome or
802:09 - something else is able to cache data
802:12 - store information so that the browser
802:14 - doesn't need to re-request the same
802:16 - information the next time it visits the
802:18 - page for example if you request a page
802:20 - and it loads an image on the page for
802:22 - example and you reload the page well
802:24 - your web browser might try and make a
802:26 - request again for the exact same image
802:28 - and then display it to you but an
802:30 - alternative might be
802:31 - but your web browser could just save a
802:33 - copy of the image inside of a cache to
802:35 - locally store a version of the image so
802:38 - that the next time that the user makes a
802:41 - request to the website the user doesn't
802:42 - need to reload that entire image and
802:45 - that might be true of entire web pages
802:46 - and web resources that if there's some
802:48 - page that doesn't change very often then
802:51 - if the web browser just stores a cache a
802:53 - saved version of that page then the next
802:56 - time the user goes to their web browser
802:57 - tries to access that page
803:00 - rather than re-request to the server and
803:02 - make a new request that the server needs
803:03 - to respond to if the browser has that
803:05 - page to cached the browser can just
803:07 - display the cached saved version of the
803:10 - page saving the need to talk to the
803:12 - server at all so this can certainly help
803:14 - to reduce the load on any given server
803:16 - that if users are caching information
803:18 - inside of the web browser it makes the
803:20 - experience faster for the user because
803:22 - they can see the information immediately
803:23 - rather than need to make a request and
803:25 - wait for a response to come back and
803:28 - it's good for the server because the
803:29 - server doesn't need to be dealing with
803:30 - as many requests if some of those
803:32 - requests are getting cached
803:34 - and so one approach to trying to do this
803:36 - is by adding this inside of the headers
803:39 - of an HTTP response that when your web
803:42 - server responds to some request the web
803:44 - server can include a line like this
803:46 - inside of the response something like
803:48 - cache control max age 86 400 in effect
803:53 - specifying the number of seconds that
803:56 - you should cache this resource for that
803:58 - if I try to access this page 10 seconds
804:01 - later well that's less than 86 400 so
804:04 - rather than reload and re-request the
804:06 - entire page
804:08 - we're just going to use the version of
804:09 - the page that happens to be cached
804:11 - inside of the web browser and so this
804:14 - has several advantages that we've talked
804:15 - about in terms of reducing the amount of
804:17 - time it takes to see the content of a
804:19 - page because it's already saved and
804:20 - reducing the load on any particular
804:22 - server but it also has drawbacks that if
804:25 - for example the resource changes within
804:27 - this amount of time that maybe in 60
804:30 - seconds the page has changed if I try
804:32 - and load the page again well then if
804:34 - it's loading the cached version of the
804:36 - page I might be seeing an outdated
804:38 - version of a web page I'm seeing an
804:40 - older version of the web page because my
804:42 - web browser just so happens to have that
804:45 - particular resource cached and this
804:47 - might be true of a web page it's
804:49 - especially true of other like static
804:51 - resources things like CSS files or
804:53 - JavaScript files that the CSS of a web
804:55 - page probably doesn't change all that
804:57 - often and so as a result it's pretty
805:00 - natural that your web browser rather
805:02 - than request the exact same CSS files
805:04 - again and again and again might just
805:06 - save a copy of that those CSS files
805:08 - cache them such that it's able to just
805:10 - reuse the cached version but if the
805:12 - website were to update their CSS you
805:14 - might not see the latest changes and you
805:16 - might have experienced this yourself if
805:18 - you're working on your own web
805:19 - applications when you change your CSS
805:21 - and refresh the page you might not
805:22 - always see those changes reflected if
805:25 - your web browser is caching those
805:27 - results and so in most web browsers you
805:28 - can do a hard refresh to say ignore
805:31 - whatever's in the cache and actually go
805:33 - out and make a new request and get some
805:34 - new data but ultimately
805:36 - if you don't do that you're subject to
805:39 - this cache control where the web browser
805:40 - is going to say unless this number of
805:43 - seconds has elapsed we're going to reuse
805:45 - the existing version of the page and so
805:48 - an alternative to this approach and this
805:50 - approach certainly works and is quite
805:51 - popular we can add to this approach by
805:54 - adding what's known as an e-tag and the
805:57 - e-tag for a resource like a CSS file or
805:59 - an image or a Javascript file is just
806:01 - some unique sequence of characters that
806:04 - identifies a particular version of a
806:06 - resource that identifies a particular
806:08 - version of a CSS file or a Javascript
806:10 - file for example
806:12 - and what this allows a program to do
806:14 - like a web browser is that when a web
806:16 - browser requests a resource like makes a
806:18 - request for a CSS file or a Javascript
806:20 - file they get it back and they get its
806:23 - Associated e-tag value so I know that
806:25 - this is the value that is associated
806:27 - with this version of the CSS file and if
806:31 - the web browser if the web server were
806:33 - ever to change that CSS file replace it
806:35 - with a new updated CSS file the
806:37 - corresponding e-tag will also change
806:41 - so why is this helpful
806:42 - well it means that if I am trying to
806:45 - decide should I load a new version of
806:48 - the resource or not should I try and
806:50 - make another request to get the latest
806:51 - version of the CSS what I can do first
806:53 - is just ask for what is the e-tag value
806:56 - this short sequence that can be answered
806:58 - very quickly that very quickly we can
807:00 - just respond and say you know what if
807:02 - the etag value is the same as what I
807:04 - remembered from last time well then I
807:06 - don't need to get a whole new version of
807:09 - that resource and so this is quite
807:10 - common too that a web browser will say
807:12 - hey let me request this resource but I
807:15 - already have a version of the resource
807:17 - with this particular e-tag so if that
807:19 - e-tag is still the re-tag for the most
807:22 - recent version of a particular resource
807:24 - like a CSS or JavaScript file then no
807:26 - need for the web server to send a new
807:28 - version of that file
807:30 - just go ahead and respond and say the
807:32 - version you have that one works totally
807:33 - fine but if there is a new version well
807:36 - then the web server can respond with the
807:38 - new asset the new CSS file for example
807:40 - but also the new etag value so these two
807:43 - approaches can work in concert with each
807:45 - other that you can say go ahead and
807:47 - cache this for some number of seconds so
807:49 - that for some number of seconds you're
807:50 - not going to ever request a new version
807:53 - of that resource but even if you do ask
807:56 - for a new version of the resource after
807:57 - this number of seconds has elapsed if
807:59 - the etag value hasn't updated then no
808:02 - need to re-download a whole new version
808:03 - of a particular file you can just reuse
808:06 - the version
808:07 - that happens to be cached already in the
808:10 - browser so caching in the browser can be
808:12 - an incredibly powerful tool for trying
808:14 - to speed up these requests for trying to
808:16 - reduce the load on any particular server
808:18 - but the client side is not the only
808:20 - place where we can begin to do this kind
808:22 - of caching we also have the ability to
808:24 - do server side caching and in
808:26 - server-side caching we're going to
808:28 - introduce to our picture the notion of a
808:30 - cache
808:31 - that we have these multiple servers that
808:33 - are all communicating with the database
808:34 - but these servers can also communicate
808:37 - with a cache someplace where we've
808:39 - stored information that we might want to
808:41 - reuse later rather than have to do all
808:43 - of that recalculation
808:45 - and Django in turns out has an entire
808:48 - cash framework a whole host of features
808:50 - that Django offers that allow us to
808:52 - leverage this ability to use the cache
808:54 - to be able to speed up requests so there
808:57 - are per view caches where you can
808:58 - specify a cache on a particular view to
809:01 - say that rather than run through all
809:02 - this python code every time someone
809:04 - makes a request to this particular view
809:06 - instead
809:08 - and just cache The View so that for the
809:11 - next 30 seconds or 30 minutes the next
809:14 - time someone tries to visit the same
809:15 - view go ahead and just reuse the results
809:18 - of the last time that that view was
809:20 - loaded and this can work not just for a
809:22 - single view it can work for fragments
809:24 - inside of a template that your template
809:25 - might have multiple different parts that
809:27 - on your web page you might render the
809:29 - navigation bar in the sidebar and the
809:31 - footer maybe based on information about
809:33 - today that might change the next day
809:35 - but if you expect that the sidebar of
809:37 - your page is not going to change very
809:39 - often within the same minute or within
809:41 - the same hour well then you might
809:43 - imagine caching that part of the
809:45 - template so the next time that Django
809:47 - tries to load that entire template it
809:48 - doesn't need to recalculate how to
809:50 - generate the sidebar for your website it
809:52 - just knows that we can use the save
809:54 - version of the sidebar from the last
809:56 - time that we loaded this website instead
809:59 - and Django also gives you access to a
810:01 - lower level cache API where for any
810:04 - information that you might want to cache
810:05 - and store for use later you can save
810:07 - that information inside of the API you
810:09 - make an expensive database query that
810:11 - takes a couple of milliseconds or a
810:13 - couple of seconds to process you can
810:15 - save those results inside of a cache to
810:17 - make it easier to access that same data
810:19 - if ever you tried to get access to that
810:21 - again
810:22 - so caching allows us to be able to deal
810:24 - with these issues of scale by reducing
810:26 - load on our servers but also on our
810:28 - databases that rather than need to talk
810:30 - to the database every single time we
810:33 - make a new request for a particular web
810:35 - application
810:36 - we can just reuse information that
810:38 - happens to be in the cache to allow our
810:40 - web applications to become even more
810:42 - scalable
810:43 - so that then was a look at some issues
810:45 - concerning scalability and we'll next
810:48 - turn our attention to security trying to
810:50 - make sure that as we build our web
810:52 - applications as we deploy our web
810:53 - applications and more users start to use
810:55 - them we want to make sure that they're
810:57 - secure and there are a whole bunch of
810:59 - security considerations to take into
811:00 - account across all of the topics that
811:03 - we've looked at in the course we've
811:04 - looked at a number of different topics
811:05 - and with each of them there are security
811:07 - vulnerabilities there are ideas to be
811:10 - mindful of when it comes towards making
811:11 - sure that our applications are secure
811:13 - and we can begin our story in fact by
811:16 - talking about git and Version Control
811:17 - git is all about trying to make sure
811:19 - we're able to keep track of different
811:21 - versions of our code and one thing that
811:23 - goes hand in hand with Git is this idea
811:25 - of Open Source software but on websites
811:27 - like GitHub and other services that host
811:29 - git repositories increasingly a lot of
811:31 - software is becoming open source where
811:33 - anyone can see and contribute to the
811:36 - source code of an application and this
811:38 - is great in the sense that it allows for
811:40 - many people to be able to collaborate
811:41 - work together in order to try to find
811:43 - bugs that might exist inside of a web
811:45 - application but it also comes with
811:47 - drawbacks drawbacks where if there is a
811:49 - bug in the application now someone who's
811:51 - looking through the source code of our
811:53 - program might be able to spot that bug
811:55 - or you might imagine
811:57 - now because git keeps track of different
811:59 - versions of our code every time we make
812:01 - a commit to our repository you have to
812:03 - be very careful when it comes towards
812:05 - credentials or things that might leak
812:07 - inside of the source code you generally
812:09 - never want to put passwords or any
812:11 - secure information inside of the git
812:13 - repository because the git repository
812:15 - could be shared with other people it
812:16 - might be open to anyone to look at and
812:18 - so there's a security considerations to
812:20 - be mindful there as well that if you
812:22 - make a commit and accidentally make a
812:24 - commit to your code where you expose
812:26 - those credentials you might remove those
812:28 - credentials and commit again to the
812:30 - latest version of your program doesn't
812:32 - have those credentials in it but someone
812:34 - who has access to the git repository has
812:36 - access not just to the latest version of
812:38 - your code but to every version of your
812:40 - code and that person
812:42 - could theoretically go back through the
812:43 - history of the repository and find the
812:45 - commit where the credentials were
812:47 - exposed and see those credentials as
812:50 - well so while git is a very powerful
812:51 - tool it's also one to be mindful of that
812:54 - any change you make could potentially
812:55 - get saved inside of a commit could
812:57 - potentially therefore be accessed later
812:59 - on and so if ever credentials are
813:02 - exposed inside of the repository you
813:04 - want to make sure to wipe out all of
813:06 - those previous commits and not just make
813:08 - some new commit in order to try and hide
813:10 - the previous credentials that can be
813:12 - exposed because they can still be
813:13 - retrieved if someone goes back through
813:15 - the history of any particular Repository
813:19 - and so that then was a look at some
813:21 - issues that might concern git we also
813:23 - talked at the beginning of the course
813:24 - about HTML and about what it is that we
813:26 - can use with HTML and how we can use
813:28 - this language in order to design the
813:30 - structure of a web page in order to
813:32 - decide where all of the paragraphs are
813:35 - going to be what tables are going to be
813:37 - on the page we talked about links and
813:38 - how we can use anchor tags to link one
813:41 - page to another page now one concern and
813:43 - is this type of attack known as a
813:45 - phishing attack with HTML and a phishing
813:47 - attack really just comes down to a
813:49 - little bit of HTML that looks like this
813:51 - very easy to write where I have an
813:53 - anchor tag that is going to direct the
813:55 - user to URL one but it looks like it
813:58 - directs the user to url2
814:01 - so what made an example of this be all
814:03 - right so we'll take a look I'll go ahead
814:05 - and open up link.html
814:08 - and in link.html I have a website that
814:10 - I've written that appears to have a link
814:12 - to Google but if I click on that link
814:14 - I'm suddenly directed to this course's
814:17 - website for example so how did that
814:19 - happen why did that happen it seems like
814:20 - it's linking to Google well if you look
814:22 - at the code if I go ahead and open up
814:24 - link.html we'll see that here I have an
814:27 - anchor tag that actually links to the
814:30 - course website but appears to be linking
814:33 - the text that the user sees appears that
814:35 - it is linking instead to Google and so
814:37 - this is a very common attack Vector
814:39 - especially in emails for example that
814:41 - you might see an email that tells you to
814:43 - click on a particular link but that link
814:45 - takes you to somewhere else entirely
814:46 - instead and as a result someone might
814:49 - inadvertently share their bank account
814:51 - credentials or other sensitive
814:52 - information and so here too something to
814:55 - be mindful of if you interact with the
814:56 - web maybe not necessarily on your own
814:58 - website but in other websites that you
815:00 - might interact with just to be mindful
815:01 - about where links are actually taking
815:03 - you and most web browsers if you hover
815:06 - over a link will show you where that
815:08 - link might actually be directing you to
815:09 - because it might be different than what
815:11 - the text of that particular anchor tag
815:14 - might appear to link you to instead
815:17 - and so HTML has all these various
815:19 - different vulnerabilities where because
815:21 - you can just decide what you want the
815:23 - structure of the page to be it leaves
815:25 - open the possibility that someone might
815:26 - try to trick you into thinking that
815:28 - you're going to a page that you're not
815:29 - actually on and this problem is more
815:32 - widespread because anyone can look at
815:34 - the HTML for any page HTML comes back
815:37 - from the server and therefore the web
815:39 - browser has access to all of that HTML
815:41 - and can use that HTML in order to render
815:44 - a page for example and this leaves open
815:46 - other vulnerabilities too so for example
815:50 - let me go ahead and go to
815:52 - bankofamerica.com just Bank of America's
815:55 - website go to any other website instead
815:57 - if I wanted to create a fake version of
816:00 - Bank of America's website for example to
816:02 - trick people into thinking they're going
816:03 - to Bank of America's website when really
816:05 - they're going to my website well then
816:07 - what I can do is just go ahead and view
816:09 - the source of this page I'll go ahead
816:11 - and view page source
816:13 - and here is all of the HTML for Bank of
816:16 - America's website and nothing then stops
816:18 - me from copying all this content
816:20 - going into an HTML file and creating a
816:23 - new file then I'll just call like
816:24 - bank.html
816:26 - and I'll go ahead and paste in the
816:29 - contents of that HTML file
816:30 - so here then is all of Bank of America's
816:33 - HTML
816:34 - and now if I open up bank.html that HTML
816:37 - file that I have now written but really
816:39 - just copied from Bank of America
816:41 - I open it up
816:43 - and now here on my page is a web page
816:46 - that appears to look like Bank of
816:48 - America it's using all of Bank of
816:49 - America's HTML but instead it is my HTML
816:52 - page and not actually Bank of America
816:54 - and so you might imagine combining these
816:57 - to create an even more concerning attack
817:00 - Vector where instead of linking to
817:02 - google.com let me try and link to Bank
817:03 - of america.com
817:06 - but where I'm actually going to link to
817:08 - is
817:09 - bank.html my version of Bank of
817:12 - America's website where now if I open up
817:15 - link.html
817:16 - here appears to be a link that links me
817:19 - to bankofamerica.com if I click on that
817:21 - link I get to a page that looks like
817:23 - Bank of America's website but it's not
817:25 - Bank of America's website it's my
817:27 - bank.html file that I have written that
817:30 - Joseph happens to look like Bank of
817:31 - America's website because I copied all
817:34 - of that underlying HTML so HTML has the
817:37 - ability to describe the structure of our
817:38 - web page but anytime you're writing this
817:40 - HTML it's good to be mindful of the fact
817:43 - that anyone can copy your HTML could
817:45 - theoretically pretend to be you and
817:47 - these are security vulnerabilities that
817:49 - are worth bearing in mind as we start to
817:51 - develop web applications and interacting
817:53 - with web applications as well
817:56 - so ultimately we used HTML in the
817:58 - context of Designing web applications
818:00 - using Django a framework and how exactly
818:03 - then did these web Frameworks work in
818:05 - terms of creating these web servers that
818:08 - are listening for requests and that are
818:10 - responding to those requests well
818:12 - ultimately much of the internet is based
818:14 - around this idea of a client
818:15 - communicating with a server or more
818:17 - generally any one computer communicating
818:20 - with another computer using HTTP and in
818:23 - particular https a more secure version
818:25 - of the HTTP protocol and so you might
818:28 - imagine that what these Protocols are
818:30 - really about is how information gets
818:32 - from one person to another and what
818:34 - we're storing with that information that
818:35 - we have one computer trying to
818:37 - communicate with some other computer and
818:39 - in order to do so information is
818:41 - generally going to flow through these
818:43 - routers that you might imagine
818:45 - information going back and forth between
818:47 - one computer and another computer going
818:49 - through these intermediate routers along
818:51 - the way
818:52 - and as a result one thing to be cautious
818:55 - about is how do you know that this
818:57 - information that's getting passed back
818:58 - and forth is getting passed back and
819:00 - forth securely then ideally when I send
819:03 - a message to another computer I'm
819:04 - sending an email to someone else and
819:06 - sending a message or making a request to
819:08 - a website that might contain sensitive
819:10 - information like my bank account for
819:12 - example I don't want it so that any
819:14 - intercepting router that is taking my
819:16 - request and passing it along I don't
819:18 - want those routers to be able to look at
819:20 - that request and see the contents of my
819:22 - email or the contents of what password I
819:24 - happen to be sending across the web or
819:27 - not ideally I'd like for this
819:28 - information to be encrypted and so here
819:31 - we'll talk a little bit about
819:32 - cryptography this process of trying to
819:34 - make sure that I am able to communicate
819:36 - with some other person without some
819:38 - eavesdropper in the middle being able to
819:40 - intercept that message
819:42 - obviously if I just take a plain text
819:44 - version of the message I'm trying to
819:46 - send I just literally take the text of
819:48 - the message I'm trying to send and
819:49 - effectively pass it along across the
819:51 - internet well then anyone who's able to
819:53 - see that message is going to know what
819:55 - the text of that message is and so I
819:57 - want to do some kind of encryption some
819:59 - way of encrypting that message so that
820:01 - someone along the way won't be able to
820:03 - do that decryption if a router in the
820:05 - middle or someone in the middle is able
820:07 - to intercept that message and so the
820:09 - first approach we'll look at is what's
820:11 - known as secret key cryptography in
820:13 - secret key cryptography I have not just
820:16 - the plain text but some key some secret
820:19 - piece of information that can be used in
820:22 - order to encrypt or decrypt information
820:24 - and so
820:26 - I'll use both the key and the plain text
820:28 - to generate what's known as the
820:31 - ciphertext the encrypted version of the
820:33 - message I'm trying to send and then
820:35 - instead of instead of sending the plain
820:38 - text across the internet to the other
820:40 - person I might instead want to just send
820:42 - the cipher text across the internet to
820:44 - the other person so that I'm not sending
820:46 - the plain version of the message across
820:49 - the internet so the ciphertext goes
820:50 - across and the other person will also
820:52 - need the key and now if the other person
820:54 - has both the ciphertext and the key well
820:57 - then using that information the other
820:59 - person can use the key to decrypt the
821:01 - ciphertext and obtain the original plain
821:04 - text
821:05 - this key is what we might call a
821:07 - symmetric key encryption and decryption
821:10 - key you use the key in order to encrypt
821:12 - messages and you use the same key in
821:15 - order to do the decryption process and
821:17 - as long as both I and the person I'm
821:19 - communicating with both have access to
821:20 - that key well then we'll be able to
821:22 - encrypt messages and decrypt messages
821:25 - and someone who just has the ciphertext
821:27 - but not the key likely won't be able to
821:29 - figure out what that original message
821:31 - was
821:32 - but there's a problem here especially in
821:34 - the context of the internet and that is
821:36 - that both I and the other person need to
821:39 - have access to this key the key is what
821:42 - I use to do the encryption and the
821:43 - decryption and I can't just send the key
821:46 - across the internet to the other person
821:48 - because if I do that well then someone
821:50 - in the middle who's intercepting all of
821:52 - my requests could intercept both the
821:54 - ciphertext and the key and therefore
821:56 - they would be able to decrypt the
821:59 - message because they have both the
822:00 - ciphertext and the key now if I were
822:03 - able to go to another person in person
822:05 - and exchange the secret key in secret
822:08 - well then this scheme might work because
822:10 - we both have the key and I didn't share
822:13 - the key publicly with anyone who might
822:14 - intercept the message only I and the
822:16 - other person have the key but in general
822:19 - when communicating on the internet
822:20 - you're not communicating with servers
822:22 - you've necessarily communicated with
822:24 - before I might be trying to make a
822:26 - request to a new website and we somehow
822:28 - still need to agree on a system where I
822:31 - can encrypt messages but only the other
822:33 - person on the other side is able to
822:35 - decrypt those messages instead
822:38 - so this kind of cryptography probably
822:41 - not great for trying to initially try
822:44 - and create a secure connection on the
822:46 - internet and for that reason a major
822:48 - advancement in cryptography that allows
822:50 - for the internet to work is this notion
822:52 - of public key cryptography in secret key
822:55 - cryptography it's important the key is
822:57 - secret because if the key were known by
822:59 - everyone well then anyone would be able
823:01 - to decrypt messages in public key
823:03 - cryptography we're able to create a
823:05 - secure encryption system where the key
823:07 - is allowed to be public or one of the
823:10 - keys as we'll soon see and the idea here
823:12 - is that we're using two keys instead of
823:14 - just one that we have both a public key
823:17 - and what's known as a private key the
823:20 - private key your private key is
823:21 - something you should not share with
823:23 - other people to keep the encryption
823:24 - scheme secure but the public key is one
823:27 - that is okay to share with other people
823:29 - and the distinction between the two
823:31 - is that the public key will be used in
823:34 - order to encrypt information and the
823:36 - private key will be used to decrypt
823:38 - information that was encrypted by the
823:41 - public key and the public key and the
823:42 - private key are mathematically related
823:44 - and there are a couple of ways that we
823:45 - might imagine doing that but the idea
823:47 - now is that if I want to communicate
823:49 - with another person that person sends me
823:52 - their public key and it's okay for the
823:54 - public key to travel across the internet
823:56 - anyone is allowed to see the public key
823:58 - because the public key is only used for
824:01 - encrypting that data so I can then take
824:04 - the plain text and the public key and
824:06 - use that to generate the ciphertext the
824:09 - encrypted version of the message that I
824:11 - am trying to send across the internet
824:13 - and then I send the ciphertext to the
824:15 - other person with whom I'm trying to
824:17 - communicate and the other person now
824:19 - using the ciphertext then uses the
824:23 - private key the private key that they
824:24 - did not share and then private key that
824:26 - has the ability to decrypt information
824:28 - that was encrypted using the public key
824:31 - so using a combination of the ciphertext
824:34 - and the private key the person I'm
824:36 - communicating with can decrypt that
824:37 - information and get back whatever the
824:40 - original plain text of that information
824:42 - happened to be and so this then is how
824:45 - we can do a lot of this communication on
824:47 - the Internet by using this public
824:49 - private key pair we can say use the
824:51 - public key to do the encrypting use the
824:53 - private key to do the decrypting and now
824:55 - two computers that have never interacted
824:57 - with each other before without having
824:59 - the opportunity to meet to exchange some
825:01 - secret information can use a technique
825:03 - like this in order to securely
825:05 - communicate with each other to send a
825:07 - message back and forth without anyone in
825:09 - the middle being able to intercept the
825:11 - message and identify what the message is
825:13 - about
825:14 - and once you have this ability the
825:16 - ability to communicate with another
825:17 - secretly well then you could imagine
825:19 - agreeing on some secret key and then
825:21 - using secret key encryption to be able
825:23 - to encrypt and decrypt messages as well
825:25 - and so that's an approach that you can
825:27 - also take when trying to communicate
825:29 - with other people across the internet
825:30 - but this idea of encryption is what
825:32 - allows for https a secure version of the
825:36 - HTTP protocol to actually work to make
825:38 - sure that when you are communicating
825:39 - with your bank's website for example
825:41 - someone along the way won't be able to
825:44 - intercept that information and identify
825:46 - what it is that you're communicating
825:47 - about and instead only has the encrypted
825:50 - version of the information and a plan
825:52 - and a public key with which they can
825:54 - encrypt information but not a private
825:56 - key that can ultimately be used in order
825:58 - to decrypt information as well
826:01 - and so that then is how we might allow
826:03 - for this kind of secure communication on
826:05 - the internet and allow our web
826:07 - applications to be secure but in
826:09 - addition to our web applications just
826:10 - listening for requests and then
826:12 - providing some sort of response our web
826:14 - applications were also dealing with data
826:17 - we introduced the idea of SQL data
826:19 - tables where we had tables of data with
826:21 - rows and columns that are representing
826:22 - information and we've also created web
826:24 - applications in this course where we've
826:26 - had applications that have users users
826:28 - sign in with a username and a password
826:31 - for example and so how might we
826:33 - represent that information about users
826:35 - and their passwords well one way
826:37 - would be just a stored inside of a table
826:39 - like this here's a table of users every
826:42 - user has an ID they have a username and
826:45 - they have a password
826:46 - but this turns out to be an incredibly
826:48 - insecure way to store passwords to be
826:51 - storing passwords in what might be
826:53 - called plain text just to literally
826:55 - store the passwords inside of a database
826:57 - and we should never do this in practice
826:59 - because of the security vulnerabilities
827:01 - associated with it if ever someone were
827:03 - to unauthorize get access to this
827:05 - database they would be able to see all
827:07 - of the passwords for all of the users so
827:09 - if this database ever leaked for
827:11 - whatever reason suddenly all of these
827:13 - passwords are now known and this kind of
827:15 - thing does happen that if companies are
827:16 - not careful about how they represent
827:18 - usernames and passwords inside of their
827:20 - databases and however there's sort of
827:22 - some sort of database leak
827:24 - suddenly a whole bunch of passwords
827:26 - could potentially be compromised and
827:29 - it's for that reason that the
827:30 - recommended approach rather than store
827:31 - an actual password is to store a hashed
827:34 - version of the same password using a
827:37 - hash function or a hash function in this
827:39 - context is some function that takes a
827:41 - password of input and outputs some
827:45 - hash some sequence of characters and
827:48 - numbers in this case that represents
827:50 - that particular password a hashed
827:52 - version of the password but the
827:53 - important thing about this hash function
827:55 - is that it's a one-way hash function
827:57 - from the password you can get to the
827:59 - sequence of letters and numbers but it
828:01 - is very very difficult to go the other
828:03 - way around to use this information
828:06 - to figure out what the original password
828:08 - actually was and so what this means is
828:10 - that the companies won't actually know
828:13 - what any particular user's password is
828:15 - when a user tries to log in what we'll
828:18 - do is take their password that they're
828:20 - trying to log in with will hash it and
828:22 - compare that hash against the hash that
828:24 - we've stored in the database
828:27 - if the hashes match up that means the
828:29 - user probably typed in their password
828:30 - correctly and therefore we can sign the
828:32 - user in and otherwise that's a sign that
828:34 - the user did not type their password in
828:36 - correctly so this then is the reason why
828:39 - companies if they're obeying these best
828:41 - practices usually can't tell you what
828:43 - your password actually is if you forget
828:45 - your password if you forget your
828:47 - password the company will let you reset
828:49 - your password they can update the data
828:51 - inside of the table but the company
828:52 - won't be able to tell you what your
828:54 - password actually is because the company
828:56 - doesn't know your password the company
828:57 - only knows some hashed version of the
829:00 - password some result of passing that
829:02 - password through a hash function and as
829:04 - a result
829:05 - they're able to know whether you logged
829:07 - in successfully or not with the correct
829:09 - credentials without actually knowing
829:11 - what your password actually is and so
829:14 - this is another area where you might
829:15 - imagine that if you're not careful about
829:17 - how you're storing this data it could be
829:19 - a security vulnerability inside of your
829:21 - program wherever that data is leaked
829:23 - passwords suddenly become known and
829:26 - there are other more subtle ways that
829:27 - web applications could potentially leak
829:29 - information that you as the web
829:31 - developer need to decide if you're okay
829:33 - with or not imagine a website for
829:35 - example where you do have a place where
829:36 - you can say if you forgot your password
829:38 - you can be sent a place where you can
829:40 - reset your password for example
829:42 - you might imagine that if you type in
829:44 - your email address click reset password
829:46 - you might get a message like all right
829:47 - password reset email has been sent but
829:50 - you might imagine typing in an email
829:51 - address and getting something like error
829:54 - there is no user with that email address
829:56 - and here again is a potential security
829:58 - vulnerability in terms of leaked
830:01 - information this page that just seems to
830:03 - send you an email if you forgot your
830:05 - password is now leaking information
830:06 - about which users happen to have
830:09 - accounts on your website and which users
830:11 - do not because all someone needs to do
830:13 - is type in an email address and find out
830:15 - whether it results in an error or not in
830:17 - order to know whether a user happens to
830:20 - have an account on the website or not
830:22 - and maybe that's not a big deal if
830:23 - that's not something that you care about
830:25 - securing but if it's a website where you
830:27 - do care
830:28 - about making sure that if someone has an
830:31 - account or doesn't have an account that
830:32 - information is kept private and secure
830:34 - only to the user unless they want to
830:35 - share it well then this type of page
830:37 - this type of interface with the database
830:39 - could potentially be leaking that kind
830:42 - of information and information can be
830:44 - leaked in all sorts of different ways
830:45 - you can even leak information just based
830:47 - on the time it takes for the database to
830:49 - be able to respond to a particular
830:51 - request that you might imagine if you
830:53 - make a request about a user and it takes
830:55 - longer to respond that might tell you
830:57 - something about the number of database
830:59 - queries it needs to run or the amount of
831:01 - information that's stored about that
831:02 - user as opposed to if a request takes
831:05 - less time so even something like how
831:07 - many milliseconds it takes for a web
831:08 - server to respond to a request can
831:11 - reveal or leak information about the
831:14 - data that is stored inside of the
831:16 - database and there have been examples of
831:17 - researchers who actually tried and see
831:19 - what information they can get just from
831:21 - looking at these kinds of information
831:22 - that it doesn't seem like would leak
831:24 - information but might actually reveal
831:26 - information as well
831:28 - now another concern when dealing with
831:30 - SQL and databases we've talked about is
831:32 - the context of SQL injection this threat
831:35 - where if you're not careful about how it
831:36 - is that you run your SQL code you could
831:38 - inadvertently end up executing code that
831:41 - you don't mean to be executing
831:42 - situations like here when a username and
831:45 - password field we've seen this example
831:46 - before where if a user tries to log in
831:49 - you might imagine a query like this is
831:50 - run selecting from the users table where
831:53 - username equals whatever was typed in as
831:55 - the username and password equals
831:57 - whatever was typed in as the password
831:58 - and we saw how for a normal user someone
832:01 - who types in like Harry and one two
832:03 - three four five as they're username and
832:05 - password
832:06 - now this type of query works just fine
832:08 - but if a hacker tries to log into a
832:10 - website and maybe includes a double
832:13 - quotation mark and two hyphens for
832:15 - example where two hyphens mean a comment
832:17 - in SQL and we were to literally
832:19 - substitute these values into our SQL
832:21 - queries well then you might end up
832:23 - substituting hacker hyphen hyphen hyphen
832:26 - hyphen creating a comment that ignores
832:28 - the rest of this query effectively
832:30 - ignoring any kind of password checking
832:32 - that we might want our web application
832:34 - to be doing so this to another
832:36 - vulnerability that comes about whenever
832:38 - we're dealing when executing SQL code
832:40 - inside of a database and in order to
832:42 - deal with this we want to make sure that
832:44 - we're escaping any of these potentially
832:46 - dangerous characters that might show up
832:48 - inside of our SQL queries and Django's
832:51 - models do this for us so when we do
832:53 - these kinds of queries using Django
832:54 - saying like dot objects.filter to be
832:56 - able to filter out for only certain
832:58 - versions of a particular model it is
833:00 - going to take care of the process of
833:02 - making sure that it's not subject to
833:04 - these kinds of SQL injection attacks but
833:06 - if ever you're writing a web application
833:07 - that is directly executing SQL code
833:10 - which you might imagine doing you do
833:12 - want to be careful about making sure
833:13 - that you're not exposing the application
833:15 - to be vulnerable to these kinds of
833:17 - threats as well
833:19 - so that then are potential threats to
833:21 - come about when we're just talking about
833:22 - what's happening on the server but we
833:24 - also can think about what might happen
833:26 - when we're interacting with other
833:27 - servers when we're interacting with apis
833:30 - for example and so we talked about
833:31 - JavaScript and using JavaScript to be
833:33 - able to make additional requests to apis
833:35 - or to other services that are able to
833:37 - return back with certain types of
833:39 - information and with apis there are a
833:41 - number of techniques that we can use in
833:42 - apis to allow them to be more scalable
833:45 - to allow them to be more secure
833:47 - one is this notion of rate limiting
833:50 - where we might want to make sure that no
833:51 - user is able to make more than a certain
833:54 - number of requests to an API in any
833:56 - particular amount of time this is in
833:59 - response to a security threat that has
834:01 - to do with the scalability of a system
834:02 - which is known as a Dos or denial of
834:05 - service attack where effectively if you
834:07 - just make a whole bunch of requests to a
834:09 - single server over and over and over
834:10 - again you could potentially shut down
834:12 - that system because you're making so
834:14 - many requests that it's not able to
834:15 - handle that many requests all at the
834:18 - same time and for that reason because
834:19 - it's so easy to make an API request you
834:22 - can do so using just a single line of
834:24 - like python or JavaScript for example
834:26 - apis will often Institute some kind of
834:29 - rate limiting to limit the number of
834:30 - requests you can make so that you're not
834:32 - going to overwhelm the server or
834:34 - overwhelm the database that needs to be
834:35 - queried in order to respond to those
834:38 - requests into this kind of limiting
834:39 - might work as well
834:41 - apis might also want to add some kind of
834:44 - Route authentication you might not want
834:46 - everybody to access the same data via an
834:48 - API maybe there's some sort of
834:50 - permission model where only certain
834:51 - users are able to access certain pieces
834:54 - of data from the API so you might
834:55 - imagine that a user needs to have an API
834:58 - key for example some effectively like a
835:00 - password that they need to pass around
835:02 - anytime they're making an API request to
835:05 - your API and that allows you to then be
835:07 - able to look at that key and verify that
835:09 - they are who they say they are
835:11 - now with those API Keys comes other
835:14 - potential security vulnerabilities to be
835:16 - mindful of one is that just as you
835:17 - should never be putting like passwords
835:19 - inside of your source code inside of
835:21 - your git repository for example you
835:23 - likewise generally shouldn't be putting
835:25 - your API keys inside of your web
835:28 - applications as well inside of the
835:30 - source code of those web applications
835:31 - because then anyone who has access to
835:33 - the source code for the web application
835:35 - can see what your API key is could then
835:38 - use the API key to pretend to be you and
835:41 - therefore get access to potential API
835:43 - routes that they should not be able to
835:45 - access one common solution to this is to
835:48 - use what are known as environment
835:49 - variables where effectively
835:51 - you and your program say that your API
835:54 - key is not going to be some
835:55 - predetermined string that is in the text
835:57 - of your program but instead is going to
835:59 - be drawn from the environment in which
836:02 - the program is being run and then on the
836:04 - server
836:05 - when you're running the web application
836:06 - you'll first make sure the server has
836:08 - all of those environment variables set
836:10 - correctly
836:11 - so that rather than have the API key
836:15 - actually in the source code of the
836:16 - program the API key is simply in the
836:18 - environment on the server where the web
836:20 - application is running and the server
836:22 - can just draw that information from the
836:24 - environment so that it knows what the
836:26 - API key should be without the API key
836:29 - actually having to be inside of the web
836:31 - application source code itself and so as
836:34 - we begin to deal with apis you might
836:36 - notice that many apis will require you
836:38 - to have an API key and often it's for
836:40 - these sorts of reasons to make sure that
836:42 - we're able to authenticate users
836:43 - effectively and also to make sure that
836:46 - we're able to limit users to make sure
836:48 - that they're not making too many
836:49 - requests to the server or to the
836:51 - database at any particular time
836:53 - but this then starts to get us into
836:55 - other potential vulnerabilities in
836:57 - particular vulnerability is concerning
836:59 - JavaScript JavaScript again is a
837:01 - programming language that we use in
837:02 - order to write code that runs inside of
837:04 - our web browser a browser like Chrome or
837:06 - Safari or something like that and as a
837:08 - result
837:09 - JavaScript has a lot of power to
837:12 - manipulate things on the page it can
837:14 - simulate the clicking of buttons it can
837:16 - change the content of what happens to be
837:18 - on any particular page and as a result
837:20 - there are many many vulnerabilities that
837:22 - come about when it comes to thinking
837:24 - about JavaScript
837:26 - and one such vulnerability is this
837:28 - notion of cross-site scripting that in
837:30 - general when on your web application you
837:33 - only want JavaScript to run if you
837:35 - yourself have written it cross-site
837:37 - scripting is a Potential Threat where
837:39 - someone else might be able to get
837:41 - JavaScript code to run on your website
837:44 - when it's JavaScript code that someone
837:46 - else wrote instead of you yourself and
837:48 - this is a potential vulnerability
837:49 - because someone else can write the
837:51 - JavaScript code they can manipulate the
837:54 - contents of what happens to be on your
837:55 - website they can potentially manipulate
837:57 - the user experience to get a result that
838:00 - is not actually desired so let's go
838:02 - ahead and take a look at one example of
838:04 - cross-site scripting all right so I've
838:07 - prepared a web application in advance
838:09 - it's called security inside of which is
838:11 - a single Django app called xsx xss for
838:14 - cross-site scripting
838:16 - and inside of here we'll first take a
838:18 - look at the URLs so there's a single URL
838:20 - that just allows us to provide any path
838:23 - and then it's going to load the index
838:25 - View
838:26 - and on the index View
838:29 - we're going to display an HTTP response
838:31 - that says here was the path that just
838:33 - happened to be requested so you might
838:35 - imagine this is a simplified version of
838:37 - what you might see on other websites for
838:39 - example where websites might show you on
838:41 - any particular page what path you're on
838:43 - in order to get to that page some sort
838:45 - of indication of where you are inside of
838:47 - this web application
838:49 - so I'll go ahead and CD into security
838:51 - and run the server pythonmanage.pi run
838:54 - server
838:57 - so I am now running the server and I'll
838:59 - now go ahead and go into
839:02 - my web application slash hello for
839:05 - example and so what I see here is
839:07 - requested path hello which is what I
839:09 - would expect it to be I can change it to
839:11 - something else like hi so here's
839:14 - requested path Hi here's hi slash two
839:16 - for example whatever page I visit it
839:19 - gives me a page that says requested path
839:21 - and then whatever path I happen to be
839:24 - visiting
839:25 - but watch what happens if I try and
839:27 - visit this URL instead I'm going to
839:29 - visit URL slash script alert hi
839:35 - and then end script
839:39 - so I run it and suddenly an alert shows
839:41 - up on my page that says hi
839:44 - and then press OK and it says all right
839:46 - requested path that alert was a
839:48 - JavaScript alert it was JavaScript code
839:50 - running on my web application but it was
839:53 - not code that was JavaScript code inside
839:55 - of my web application it was someone
839:57 - else who wrote based on the URL to run
840:00 - particular JavaScript on my particular
840:02 - page and so if someone linked to my web
840:04 - application and passed in this script
840:07 - tag as part of the URL someone who
840:09 - clicked on that link might have been
840:10 - taken to my web application but
840:12 - ultimately had JavaScript run that was
840:14 - created by someone else
840:17 - and that ultimately is potentially
840:19 - dangerous it leaves open the possibility
840:21 - that someone else could run JavaScript
840:23 - code on my page and it might not just be
840:25 - something like a script you might
840:27 - imagine someone not just displaying an
840:29 - alert but modifying something inside of
840:31 - the Dom changing the contents of the web
840:33 - page making API requests doing other
840:35 - types of tasks that you can do using
840:37 - JavaScript inside of a web browser that
840:39 - ultimately leave my page open to
840:42 - potential security vulnerabilities and
840:44 - so these are cases where it's important
840:45 - to be mindful of when you're designing
840:47 - these Pages if ever there's a
840:49 - possibility that someone could inject
840:51 - their own JavaScript into your page
840:53 - somehow you'll want to either detect
840:55 - that or Escape it in some way or take
840:57 - other precautions to make sure that this
840:59 - kind of cross-site scripting isn't going
841:02 - to be possible you might imagine that in
841:04 - a messaging application for example if
841:06 - you're messaging back and forth you
841:07 - don't want it to be the case that if you
841:09 - message someone else some JavaScript
841:11 - code that when they receive it that code
841:13 - actually ends up running as some
841:15 - JavaScript that runs on that particular
841:17 - page you want to be sure to escape that
841:19 - information so that they just see the
841:21 - text of the JavaScript code but the code
841:23 - isn't actually executed and this is a
841:25 - similar threat to that threat of SQL
841:27 - injection it all comes back to the idea
841:29 - of not wanting to allow someone else to
841:31 - be able to inject their own code into
841:34 - your program you don't want someone else
841:35 - to be able to inject SQL code into the
841:38 - queries you run on your database and you
841:40 - don't want someone to be able to inject
841:42 - JavaScript code into your web page
841:44 - because that leaves open potential
841:46 - security vulnerabilities as well
841:49 - one type of security vulnerability the
841:51 - Django is quite good at defending
841:52 - against is one that we've seen before
841:54 - but we'll explore in more detail how it
841:56 - might work and it's this idea of
841:58 - cross-site request forgery where you
842:00 - fake a request to a website when you
842:03 - didn't intend to actually make a request
842:05 - to that website so you might imagine
842:08 - that if your bank for example had a URL
842:11 - that allowed you to transfer money from
842:13 - one person to another person we've
842:14 - talked about this idea a little bit but
842:16 - imagine now how you could implement this
842:17 - if it really was just a URL that you
842:20 - could go to like slash transfer and say
842:23 - as get parameters who am I transferring
842:25 - money to and what is the amount that I'm
842:26 - transferring then someone else on some
842:28 - other website could in the body of their
842:31 - page just have a link
842:33 - where that link says click here and it
842:35 - links to your bank.com or whatever your
842:37 - bank is transferring money like to me in
842:40 - this amount and if some user unknowingly
842:43 - just clicked on that link not knowing
842:44 - where it would take them this website
842:46 - might be able to forge a request to the
842:48 - bank make it seem like the user had gone
842:51 - to the bank and tried to initiate some
842:53 - kind of transfer and ultimately try to
842:55 - transfer money and it doesn't even
842:56 - necessarily need to be in a link how
842:59 - else might you get some new request to
843:01 - happen inside of the web browser you
843:03 - might imagine though it might seem a bit
843:04 - strange to put this inside of an image
843:07 - image source the source of the image is
843:11 - this particular URL the bank's transfer
843:13 - page now that doesn't really make any
843:15 - sense the transfer page is not an image
843:17 - but it doesn't matter
843:18 - all an image tag is going to do is try
843:21 - to make a request to this Source URL to
843:24 - get that image and then try to display
843:26 - it in the user's web browser but the
843:28 - first part is what's important the fact
843:30 - that this Source ends up being requested
843:32 - by the web browser without the user
843:34 - having to click on or do anything they
843:36 - might try and request from your bank.com
843:38 - transfer this particular request which
843:41 - might initiate some sort of bank
843:43 - transfer without the user even realizing
843:45 - it and it's for that reason that we
843:47 - generally suggest that anytime you're
843:49 - creating a website
843:51 - but it's going to allow for the
843:53 - manipulation of some kind of state that
843:55 - allows for some change to happen
843:57 - something like transferring money you
843:59 - don't want that to be via a get request
844:01 - something you could just load in an
844:03 - image or a load by clicking on a link
844:04 - that takes you to another page you don't
844:06 - want that to happen because then it
844:08 - makes it very easy for someone else to
844:09 - fake a request to your page by just
844:12 - creating an image or a linking to
844:14 - somehow a website like transferring
844:17 - funds from one user to another
844:19 - so a solution to this as we've talked
844:21 - about is that generally we only want
844:23 - post requests to be able to manipulate
844:25 - something inside of the database to be
844:27 - able to actually initiate a transfer
844:29 - from one user to another user but even
844:32 - then this is not perfectly secure that
844:34 - you could still be tricked into
844:36 - submitting a post request imagine an
844:39 - adversarial website that had a form like
844:41 - this a form whose action was
844:43 - yourbank.com transfer and whose method
844:46 - was post and now here to input Fields
844:49 - whose type is hidden meaning you won't
844:52 - actually be able to see those input
844:54 - Fields when the user is looking at the
844:55 - page they'd only know about it if they
844:57 - inspected the source code of this
844:59 - particular HTML page
845:02 - here there's the hidden input whose name
845:04 - is two meaning the person I'd like to
845:06 - transfer money to here's the amount the
845:08 - value that I would like to transfer and
845:10 - all the user is going to see is a button
845:12 - that says click here they're not going
845:14 - to see either of the input Fields
845:15 - because they're hidden but if they do
845:17 - click the click here button well then
845:19 - suddenly they're going to be submitting
845:20 - a post request to the bank and
845:22 - initiating some transfer when they
845:24 - didn't intend to now maybe this seems
845:26 - like oh it's not a big deal because the
845:27 - user still needs to click a button and
845:29 - the user shouldn't be clicking on a
845:30 - button if they don't know what the
845:32 - button is going to do well for one
845:34 - it's probably reasonable to imagine that
845:36 - an adversary might embed this button
845:39 - inside of a page where it looks totally
845:40 - safe to be able to click on a button but
845:42 - moreover the user doesn't even need to
845:44 - click on it in order to submit the form
845:46 - we can just add a little bit of
845:47 - JavaScript you might imagine that an
845:49 - adversary could do something like this
845:52 - add an on load attribute to the body
845:54 - that says when the body of the page is
845:56 - done loading go to document.forms
845:58 - meaning all of the forms for this
846:00 - webpage get the first one and submit it
846:03 - submit the form
846:05 - and what that's going to do is even
846:07 - without the user doing anything even
846:09 - without the user clicking on the click
846:11 - here Button as soon as this page is
846:13 - loaded this form is going to submit
846:15 - submitting a post request to the bank
846:16 - and attempting to transfer funds from
846:18 - one user to another user and so this is
846:21 - what we might call a cross-site request
846:23 - forgery where some adversario website
846:25 - has forged a request to our website and
846:29 - ideally we wouldn't like for that to be
846:31 - able to happen so how did we guard
846:33 - against this
846:34 - well what Django allows us to do and a
846:36 - very common approach is to add a csrf
846:39 - token a cross-site request forgery token
846:41 - that is going to be regenerated for
846:44 - every session
846:45 - such that only if that token is present
846:48 - will the transfer be able to go through
846:51 - so on our website
846:53 - we can include the csrf token inside of
846:55 - this HTML form and as a result make sure
846:58 - that we're able to transfer money only
847:00 - when the csrf token is present but if
847:02 - some other website tries to forge a
847:04 - request they won't know what the csrf
847:06 - token should be because it changes for
847:08 - every session and therefore they won't
847:10 - be able to actually Forge a request from
847:13 - one user to another
847:15 - so all across the various different
847:18 - tools and Technologies we've been using
847:20 - python HTTP Django HTML in terms of
847:24 - creating these web applications using
847:26 - JavaScript and the apis we might be
847:28 - interacting with there are security
847:29 - considerations all throughout we've only
847:31 - touched on a couple of them here but
847:33 - just goes to show how it's important to
847:35 - be mindful if you think about the
847:36 - practice of web programming thinking
847:38 - about what you're going to add to your
847:39 - web applications and what features your
847:41 - web application supports to think about
847:43 - what the potential vulnerability is
847:44 - there are as well how someone might
847:46 - exploit your web application in order to
847:49 - do something with it that they probably
847:50 - shouldn't and as you take your web
847:52 - applications from applications that are
847:54 - just running on your own local computer
847:56 - to applications that are running in some
847:58 - web server that many people are starting
848:00 - to use these are the types of questions
848:02 - to start to be asking how can you make
848:04 - sure that your web application is
848:06 - scalable how can you make sure that your
848:08 - web application is secure
848:11 - so now that we've explored that a lot of
848:13 - web programming what comes next in this
848:15 - course we've explored a number of
848:16 - different tools and Technologies and
848:18 - languages but there are many other web
848:20 - Frameworks and ways you can build web
848:22 - applications as well we spent most of
848:24 - our time looking at the Django web
848:25 - framework written in Python but you can
848:27 - use other programming languages to build
848:29 - web applications as well express.js for
848:32 - example is a very popular JavaScript
848:34 - framework for building web applications
848:35 - Ruby on Rails is a popular server-side
848:38 - web framework but built using Ruby and
848:41 - there are many others as well and there
848:43 - are also client-side Frameworks used
848:44 - primarily with JavaScript to be able to
848:46 - build user interfaces we've seen a
848:48 - little bit of react to build Dynamic and
848:50 - interactive user interfaces other
848:52 - popular client-side Frameworks include
848:54 - angularjs and view JS and a number of
848:56 - others as well and then once you've
848:58 - built these web applications using any
849:00 - of these server-side Frameworks and
849:02 - client-side Frameworks then you might
849:03 - imagine wanting to take these
849:05 - applications and deploy them to the web
849:07 - and to do that there are a number of
849:08 - ways we can do this as well a number of
849:10 - different services including Amazon web
849:12 - services AWS Google cloud and Microsoft
849:14 - Azure they can be used in order to
849:16 - deploy these web applications
849:19 - Heroku is a service that uses AWS and
849:21 - tries to simplify the process of making
849:23 - it easier to deploy your web
849:24 - applications and if your web application
849:26 - is really just static it's just HTML and
849:29 - CSS and JavaScript well then you can use
849:31 - something like GitHub pages to be able
849:33 - to host a web application for free on
849:35 - github's own servers instead and there
849:37 - are many other ways you can imagine
849:39 - deploying web applications as well
849:41 - different services that you can use in
849:42 - order to take the web applications that
849:44 - you have been building or web
849:45 - applications you might build in the
849:47 - future and make them available on the
849:49 - internet for others to be able to use as
849:51 - well so as we look back on the various
849:53 - topics within web programming we've
849:55 - explored we've seen a lot of tools and
849:57 - Technologies we can use that we can
849:59 - leverage in order to build interesting
850:01 - web applications we started by taking a
850:04 - closer look at HTML and CSS diving into
850:07 - how we can use that to describe the
850:08 - structure of our page and then taking
850:10 - advantage of tools like SAS that allow
850:12 - us to generate CSS that allows for much
850:15 - more complex styling for our website
850:17 - that would have been much more difficult
850:18 - to do with just CSS alone as we started
850:21 - to build larger web applications we took
850:23 - a look at Git Version Control tools that
850:25 - we can use in order to make sure that we
850:27 - keep track of versions and changes we
850:29 - make to our code allowing multiple
850:30 - people to collaborate on a project
850:32 - simultaneously we then took a look at
850:35 - python looking at various different
850:36 - features that the language offered
850:37 - functions and conditions and Loops as
850:40 - we've seen in many other programming
850:41 - languages but also object oriented
850:43 - programming the ability to represent
850:45 - objects and methods and functions that
850:47 - operate on those particular objects
850:49 - which prove especially powerful in the
850:51 - context of dealing with data inside of
850:53 - our web applications
850:54 - Django was the example of a web
850:56 - framework written in Python that we use
850:58 - to very quickly be able to start up a
851:00 - web application that's able to listen
851:02 - for requests and make responses Django
851:04 - has a whole lot of features built in
851:06 - that really make it easy to get started
851:07 - with building a web application and in
851:10 - particular it makes it easy for writing
851:11 - web applications that deal with data so
851:14 - Django allows us the ability to build
851:16 - models that interact with SQL without us
851:18 - having to actually write any SQL code
851:20 - Django can generate the SQL for us just
851:22 - using these models and migrations then
851:25 - allow us to continually apply changes
851:27 - that we make to our database that as we
851:29 - add new tables add and modify existing
851:31 - fields on those tables Django can take
851:33 - care of all of that
851:35 - after that is the only recall we took
851:37 - our attention towards the second of the
851:39 - main programming languages in the course
851:40 - JavaScript which was has a lot of uses
851:43 - and is very very popular but we
851:44 - primarily used on the client side to be
851:46 - able to build interesting user
851:48 - interfaces using JavaScript to
851:50 - manipulate the Dom the structure of the
851:52 - page to change what it is to use our
851:54 - theism and also to add event handling so
851:56 - that when the user clicks on a button
851:57 - when the user hovers over something when
851:59 - the user interacts with the page in some
852:01 - sort of way our code is able to respond
852:03 - to it and we saw react a web framework
852:05 - that our client-side framework that uses
852:08 - JavaScript in order to allow us to
852:09 - create really interesting and
852:11 - interactive user interfaces with not all
852:13 - that much code at all and then finally
852:16 - in these last couple of lectures we've
852:17 - been looking at some best practices how
852:19 - we can design tests tests that test the
852:21 - server but also the client to make sure
852:23 - that our code is working appropriately
852:25 - and also some industry practices like
852:27 - continuous integration and continuous
852:29 - delivery that just help to make sure
852:30 - that as we make changes to our code
852:32 - we're able to deploy and deliver them
852:34 - rapidly and effectively and make sure
852:36 - that we're able to make incremental
852:37 - changes to our code base rather than
852:39 - need to wait on longer release Cycles
852:41 - and then finally today we've been
852:43 - talking about issues about scalability
852:45 - and security especially important as we
852:47 - begin to take our application and move
852:49 - them to the web we want to make sure
852:51 - that these applications are scalable
852:53 - that they're able to handle multiple
852:54 - different users and also to make sure
852:56 - that they're secure that we're not
852:57 - exposing ourselves to potential
852:59 - vulnerabilities like someone who might
853:01 - inject SQL or inject JavaScript code
853:03 - into our Pages or who might try to
853:05 - access some data that they're not
853:07 - supposed to access we want to make sure
853:09 - that when we go about designing these
853:11 - web applications we're able to do so in
853:13 - a scalable and ultimately in a secure
853:15 - way
853:16 - so hopefully you enjoyed this
853:18 - exploration into the world of web
853:19 - programming with python and JavaScript
853:21 - best of luck with the web programs that
853:23 - you yourself might build with the tools
853:25 - we've seen here today and also other
853:26 - tools that are inspired by or use
853:28 - similar tools and techniques and ideas
853:29 - as the things that we've ultimately
853:31 - talked about here a big thanks to the
853:33 - courses teaching staff and the
853:34 - production team for making this entire
853:36 - class possible I look forward to seeing
853:38 - the web applications that you might go
853:39 - on to create this was web programming
853:41 - with python and JavaScript
853:46 - this course from Harvard University
853:48 - picks up where cs50x leaves off diving
853:52 - more deeply into the design and
853:54 - implementation of web apps with python
853:56 - JavaScript and SQL using Frameworks like
853:59 - Django react and bootstrap
854:04 - Brian you will teach you topics such as
854:07 - database design scalability security and
854:10 - user experience you learn to write and
854:12 - use apis create interactive uis and
854:15 - Leverage
854:18 - and leverage cloud services like GitHub
854:21 - and Heroku

Cleaned transcript:

this course from Harvard University picks up where cs50x leaves off diving more deeply into the design and implementation of web apps with python JavaScript and SQL using Frameworks like Django react and bootstrap Brian you will teach you topics such as database design scalability security and user experience you learn to write and use apis create interactive uis and leverage cloud services like GitHub and Heroku hello world this is cs50 and this is web programming with python and JavaScript with cs50 Zone Brian you this course picks up where cs50 itself leaves off diving more deeply into the design and implementation of web apps with python JavaScript and SQL using Frameworks like Django react and bootstrap we'll start by taking a closer look at HTML and CSS languages that we can use to describe the structure and the style of web pages after that we'll introduce git a Version Control tool that we can use to keep track of changes we make to our code and also to allow multiple people to collaborate on the same project at the same time after that we'll dive more deeply into python exploring some more advanced features of the programming language and in particular how we can use it in order to create Dynamic web applications using a web framework known as Django we'll leverage Django and in particular its ability to deal with data working with SQL models and migrations to create web applications that use a database in order to create interactive user experiences after that we'll dive more deeply into another programming language JavaScript exploring how we can use JavaScript to create Dynamic and interactive user interfaces writing code that responds to events and also manipulates a web page in response to some kind of user interaction after that we'll explore some best practices in Industry including testing to make sure that our code works as expected and also continuous integration and continuous delivery to allow us to rapidly make changes and deploy those changes to our code whenever we're able to make those updates and then finally we'll consider concerns around scalability and security as we take our applications and move them from our own computers to the web where anyone can access them we'll talk about how we make sure that these applications are able to scale and how we're able to make sure that these applications are secure along the way you'll have an opportunity to put all of this into practice by building web applications of your vario this is cs50 thank you all right welcome everyone to web programming with python and JavaScript my name is Brian Yu and in this course we'll dive into the design and implementation of web applications in lectures we'll have an opportunity to discuss and explore many of the ideas and tools and languages that are Central to Modern web programming and through HandsOn projects you'll have an opportunity to take those ideas and put them into practice designing multiple web applications of your own culminating in a final project of your own choosing throughout the term we'll cover a number of topics in this world of web programming beginning with HTML5 and css3 two of the languages that are Central to the understanding of web pages HTML is a language we'll use to describe the structure of a web page and CSS is a language we'll use to describe the style of a web page the colors and the fonts and the layouts and the spacing that make the web page look exactly the way we want it to look after that we'll turn our attention to git a tool not specific to web programming per se but that we can use in order to Version Control our programs to keep track of the different changes we make to our web programs and to allow us to be able to work on various different parts of the web application at the same time before merging those pieces back together after that we'll take a look at python one of the first main languages that we're going to be exploring in the course which is a language that we're going to use in order to build our web applications specifically we'll use Python using a framework called Django Django is a web programming framework written in the Python programming language that we're going to use to make it easy to design and develop our web applications Django in particular makes it easy to design web applications that interact with data so after that we'll turn our attention to SQL a language that we can use to interact with databases in particular looking at how Django allows us to use models and migrations to interact with data and allow users to interact with data all the more easily next we'll turn our attention to the second of the main programming languages that we'll be exploring in this class JavaScript and looking at how we can use JavaScript to run in users web browsers to make web pages just a little bit more interactive in particular we'll use JavaScript in the context of user interfaces looking at modern user interfaces and exploring how it is that those interfaces work and how we can develop those user interfaces with a combination of python and JavaScript next we'll turn our attention to testing and CI CD or continuous integration and continuous delivery which are tools that we can use in software best practices to make sure that we're able to design and develop code more efficiently and testing in particular makes sure that as we make changes to our code we're not breaking existing parts of our web application by making sure that we have a whole Suite of tests that we can use to ensure that our web application is always behaving as it should and finally we'll turn our attention to scalability and security on the internet thinking about what happens as our web application grows larger as more and more different users start to use our web application how do we load balance between those people and what do we need to change about our database to make sure lots of users are able to connect to our web application at the same time moreover we'll look at the security implications behind designing our web applications what might an adversary do if we're not careful and how should we proactively be designing our web application to make sure that it's secure but today we begin our conversation with HTML and CSS two of the languages that are foundational to understanding web pages and how web browsers are able to display those web pages and we'll start with HTML or hypertext markup language which is a language that we can use to describe the structure of the web page all of the buttons and the text and the forums and other parts of the web page that the user ultimately sees and interacts with our very first HTML page is going to look a little something like this it's going to be textbased code that we write that a web browser like Safari or Chrome or Firefox is then able to look at parse understand and display to the user so let's take a look at this page one line at a time and get an understanding for how it works even if you don't quite understand all the nuances of the syntax there are probably a couple of things that stand out to you you might notice the word title which probably reflects the title of the web page for example which in this case appears to be the word hello and then down further below we see that we have the body of the web page that seems to contain the words of hello world so what is this webpage actually going to look like well let's take a look at it we'll go ahead and open up a text editor you can use any text editor you want but for this course I'm going to use Microsoft's Visual Studio code and I'm going to open up a new file that I'm just going to call hello.html inside of hello.html I'm going to write the same HTML that we just saw a moment ago and we'll explain each of these lines in due time but recall that we had a title of the page that says something like hello and then a body of the page where we said something like hello world for example so this is our very first HTML page and if I go ahead and open that HTML page as by opening hello.html for example inside of a web browser what I'll see is something like this in the body of the page I see the words hello world and if you notice up here at the top of my web browser I see the title bar where I have the title for this page which in this case is just the word hello so this is our very first web program that we've been able to develop just using HTML and now let's explore in more detail how exactly this program works so here again was the web page that we were just looking at and this very first line here doctype HTML is what we might call a doctype declaration it's a way of telling the web browser what version of HTML we're using in this particular web page because depending on the version of HTML the web browser might want to display different information or I might need to parse the page a little bit differently each version of HTML has had a slightly different way of indicating that version but this line here doctype HTML is our way of saying that this HTML page is written using HTML5 the latest version of HTML after that our HTML page is structured as a series of nested HTML elements where an HTML element describes something on the page and we might have elements that are inside of other elements each of those elements is indicated by what we're going to call an HTML tag enclosed using those angled brackets and right here we'll see the beginning of the HTML tag which means this is the beginning of the HTML content of our page down below this slash HTML means that this is the end of the HTML content of the page and in between is the actual HTML content of the page which might include other HTML elements you might also notice that in this HTML tag we've specified what we're going to call an HTML attribute some additional information that we're giving about this tag in particular we're giving it a lang or language attribute which is equal to e n or English this just tells the web browser or anyone looking at the HTML of this page that this page is written in a language and the language it's written in is English and this is helpful for search engines for example when they're looking through many different web pages trying to figure out what language each web page is in we can just tell the search engine or anyone else who's looking at the page that this page is written in English now inside of the HTML body of the page we have a number of different elements that are going to describe what we want on this page starting with the head section of the web page which describes stuff not in the main body of the web page the part of the web page the user sees it but other information about the web page that's going to be helpful or useful for web browsers to know about for example one important thing that the web browser needs to know is what is the title of the web page and here we see a title tag again indicated by the word title in those angled brackets followed by the end of the title tag indicated by a slash before the title and in between the two title tags is the word hello which means the title of this page should be the word hello and that's all the information we'll have in the head of the page we'll add more information there later but for now all the web page needs to know is that it has a title and the title is the word hello next up comes the body of the page again indicated by a body tag and that ends with the tag with Slash body meaning this is the end of the body of the page and the body of the page again is just the visible part of the page that the user can see and what do we want inside the body of the page for now we just want the text hello world and that's the information that's going to be displayed when someone visits this webpage and so that's all there really is to this HTML page we specified in the header that there's a title of the page called hello and inside the body we're saying the page should say the words hello world and if you want to visually think about the way that all these HTML elements are structured it can sometimes be helpful to think about an HTML page in terms of a tree like structure that we call the document object model or Dom and so here for example is what the Dom for this webpage might actually look like here on the left is the HTML content that we just saw a moment ago and over here on the right is the Dom the document object model the treelike structure that describes how all of these HTML elements are related to each other so we start up here with the HTML element and this parent element so to speak has two child elements within it head element and a body element as we can see here we're inside of HTML we have a head section and a body section and the indentation here that we're including in the HTML text it's not strictly necessary the web browser doesn't care what the indentation is but it can be helpful for someone who's reading the page just to see the indentation to understand visually that the head is inside of the HTML element and the body is inside of the HTML element too so inside of the head element we have a title element and inside of the title element is just the text the word hello and likewise inside of the body element we also have some text the text hello world so thinking about HTML and HTML documents in terms of this structure can be helpful for understanding which HTML elements are inside of which other HTML elements and that's going to make it easier for us to reason about these Pages later on and especially as we later transition into the world of JavaScript JavaScript is going to make it all the more powerful and give us the ability to actually modify parts of this Dom as well but we'll certainly get to that in due time so now let's take a look at some of the other common HTML tags and HTML elements that we might be interacting with in our web page and we'll start by thinking about HTML headings so big Banners at the top of a page for example some headline that describes what a page is about so I'll go ahead into my text editor and create a new file that I'll call headings.html and the structure of this page is going to be pretty similar to the pages that we've seen before already so I'm going to start by just using the hello.html text and paste it in here I'll change the title of the page instead of hello we'll go ahead and call it headings but inside the body of this page now I want something a little bit different I'm going to inside the body of the page use an H1 element and say this is a heading for example so H1 is a tag that I can use to create a large heading at the top of my page like for the title of a page for example so if I open up headings.html I might see something that looks like this a big heading at the top of my page that says this is a heading H1 where the H stands for heading and the one stands for the largest possible heading and in fact HTML gives us a number of different tags that we can use in order to create headings of various sizes so for example I could also say H2 inside of which I say this is a smaller heading if H1 is the largest heading H2 is the second largest heading so if I load this page for example I now see the H1 at the very top this is the big heading and then beneath that I see this is a smaller heading the H2 and it turns out there's also H3 H4 H5 all the way down to H6 which is the smallest heading such that if I load this page now I have a big heading a smaller one and then here's the smallest so we can often use these H1 H2 H3 tags just for visually organizing text inside of a page if I want the title of the page but also I want titles for each of the various different sections and subsections that might be contained within that page as well so those are headings and now let's also take a look at some other elements that we might want to add on web pages we see not just titles and not just text but we might also see lists for example like if you've ever used a todo list program on a web page for example you might see a list of things that you need to do or other web pages might display lists of information and it turns out that HTML has two basic types of lists we have ordered lists for things that are in a particular order like item number one item number two item number three and we have unordered lists for lists that don't have any particular order so just bullet point bullet point bullet point for example and both are quite easy to use I'll go ahead and create a new file and we'll call this lists.html and again in list.html I'll copy the same structure from hello.html We're again going to have doctype HTML just to indicate the version of HTML most of the heading is the same I'm just going to change the title from Hello to lists and then we're going to replace the body of this page to show some different information here so let me first show what an ordered list might look like something that has numbers one two three and ordered list as an HTML tag is just o l o l for ordered list so I can add a tag that says ol and now inside of my ol element my ordered list element I need a new element for every list item list item we're going to abbreviate to just Li so the l i tag in HTML is what we're going to use to designate an item inside of an HTML list so here for example I could say Li and then first item and then I could do the same thing Li second item and then again Li third item so what I have here are some elements and then elements nested within other elements I have an ordered list element inside of which are three other HTML elements three list items that are each indicating each of the individual items that are inside of my HTML list I can now open this up by opening lists.html and this is what I see I see an ordered list where I have item number one first item second item third item note that I didn't actually need to in the HTML anywhere specify the number one the number two and the number three when the web browser reads this should be an ordered list my web browser Chrome in this case just adds those numbers in for me because it knows what an ordered list means and it knows how to take the HTML that I've written and display it in the way that I intend to to the user now in addition to ordered lists that all have numbers one two three we also have unordered lists that are just bullet points bullet points of information so I could up above add some more content to this HTML page I can say here is an unordered list and just as an ordered list we represented using the ol tag in HTML ol standing for ordered list likewise we can use the UL tag in HTML to create an unordered list U for unordered so here we're going to add a UL tag and again my text editor here is automatically adding the closing tag here this slash UL meaning the end of the unordered list and many text editors will do this now just so you the programmer don't forget to add that and now inside of this unordered list we're again going to have some list items also using the LI tag here is one item and here is another item and here is yet another item if I go ahead and refresh the page now I'm still on list.html I now see that on top of my ordered list I have an unordered list where each item instead of being numbered one two three is instead labeled with just bullet point bullet point bullet point where each of these bullet points and each of these numbered items is a list item element or An Li so hopefully now we can see that as we start to explore these various different HTML tags and nesting HTML tags inside of one another we're able to create more and more interesting web pages as a result so let's explore now what other types of web pages we can create using other types of HTML elements in addition to lists one thing you might imagine is that one of the important things on the web is not just displaying text but also displaying other types of media like images for example so how might we go about doing that well I can for example let's go back into my text editor let me create a new file that I'm going to call image.html which is going to contain some code for displaying some images I'll go ahead and go into hello.html and copy this text into the page again change the title to image and now inside of the body I'm going to add a new tag called image and the image tag has a couple of required attributes remember that attributes are what we saw before things like adding a lang equals en to the top of my page to indicate that this web page is written in English for example and the image tag has a couple of required attributes that I need to add in particular when I display an image on the page I need to specify what image I actually want displayed for example so I might specify image SRC short for Source if is going to be equal to what image do I actually want to display on this page and it just so happens that inside of my folder where I have image.html I have an image called cat.jpg so I'm just going to specify cat.jpg as the file name of the image that I want to display and it turns out that images also have a second required attribute in addition to the file name or the link to whatever image I want to display I also need to provide some alternative text a text based representation of what you're going to see on the image because in some cases some web browser might not be able to render the image correctly you might imagine if there's some error rendering the image or if someone's on a slow internet connection or if someone's using a screen reader and therefore can't actually see the image we want some textbased representation of that image as well and so I'll provide some alt text some alternative text that can be used to substitute the image in case for some reason we can't display the image and the alt text that I'll use in this case is just going to be the word cap for example and that's all I need now notice in particular that something a little bit different about this image tag compared to other tags that we've seen before in the sense that it doesn't have a closing tag in the sense that the body had a beginning of the body and an end of the body our ordered list had a beginning of the ordered list and the end of the ordered list with list items in between it doesn't really make sense for for an image for example to have the beginning of the image and the end of the image and some content in between because the image is just a single HTML element that can't really have anything inside of it so in that sense we don't actually need a closing image tag the image tag is selfclothing it is its own beginning and end so we can just say we want an image to be here that is cat.jpega with an alternative text of just the word cat for example so now if I open up image.html we'll see that what gets loaded is quite large a picture of a cat and I can scroll around and see this entire image of course this picture of a cat is probably larger than I wanted it to be I probably when my user visits this webpage I don't want them to have to scroll all the way to the right in order to see the entire cat so I can actually add additional HTML attributes in order to modify the size of the image that I'm displaying and later we'll see we can use CSS to do a similar thing as well but for now what I can add is an additional attribute and say that let me give cat.jpeg this image tag another attribute that in this case I'll just call width and I'll say that width is going to be equal to 300 because I would like for this image to be 300 pixels wide for example so now if I refresh this page I now see that the same cat image appears except now it appears at 300 pixels wide exactly so I'm able to add additional attributes additional information to control how an HTML element is going to appear in this case I want to control its width and it automatically scales down the height to make sure that the image is proportional as well now on the internet in addition to just displaying information on a single page it's also common for a page to link to other pages in fact that's one of the main important values of the internet is the ability to go from one page to another via these links and so one thing we might reasonably want to do is add some links to our page where if you click on something you're taken to another page altogether so let's take a look at an example of that I'll create a new file based on hello.html and I'll add laying equals English for good measure and I'll call this new file link.html where here we're going to practice with building some links into our HTML page I'll copy the content of hello.html again call this link in order to create a link I'm going to use a tag called the a tag short for the anchor tag and the a tag takes one important attribute which is called href for hyperlink reference which is going to specify what page I would like to link to so if for example I wanted when a user clicks on this link to go to google.com then I'd set the href attribute of this tag equal to https colon slash google.com for example then inside of the a tag I would specify what text I want to display what text should the user see such that when the user clicks on that text they're taken to the web page in this case I'm just going to say something like click here for instance now if I open up link.html this is what the user sees they see a blue link that says click here and when the user does click on that link they're taken to https colon slash google.com and it turns out that we can use this href attribute not only to link to different websites altogether but we can link to different pages on the same website so for example if I wanted to link to that cap page that I designed a moment ago instead of linking to google.com I could instead just link to image.html and now if I save that and refresh or if I open up link.html again now I see a click here link where when I click on click here now I'm taken to that page cat image.html that happened to have that picture of a cat from before so using these anchor tags and href attributes we're able to link together multiple pages so that if we have a website that has many different web pages we can connect them all together by using a combination of these various different links so now that we've seen images and links and lists what other HTML elements might we add to our web page well one thing we might want to add are things like tables just other ways of displaying information so let's go ahead and create a table and look at what HTML elements we can use in order to do so so I'll go back here to my text editor create a new file called table.html using the same starting HTML we'll call this page title or table and inside the body of this page now there are a number of different HTML elements that we'll need in order to create a table because as you might imagine a table is really composed of multiple parts we have our big table but each table is really just a sequence of individual table rows and each of those rows is really just a sequence of individual cells of data within that table and so that structure that we're imagining a table that consists of individual rows where each row consists of individual cells is exactly how we're going to represent this table in HTML we're going to start with just a table tag that's going to represent the entirety of this table but inside of the table we might have different parts we might have the heading of the table we would have the body of the table so in order to represent that I'll add T head that's going to stand for the heading of the table the stuff at the top of the table that might indicate what each column of the table means for example and let's see what columns do I want well let's go ahead and add some table headings which I can represent using the th tag H for heading and maybe I want in this webpage to display information about various different oceans for example so maybe I have one column for the ocean and another column another table heading for the average depth of that ocean and another table heading for the maximum depth of that ocean and that'll be the very first row of that table The Heading of the table but in addition to The Heading of the table we also have the body of the table so underneath the T head I'll go ahead and include T body body for the main part of the table where all my data is going to be and that body is going to consist of individual rows of a table so I might have a TR which here stands for table row and inside of this table row we'll go ahead and add some individual data points inside of the table so inside of my table row I'm going to have one table data point or TD for table data that says Pacific Ocean for example then another table data that says 4280 meters and then another one for the maximum depth of the Pacific Ocean which is ten thousand nine hundred and eleven meters and in fact this these three table heads as well at the top of the page the ocean the average depth and the maximum depth those should actually probably be in a row of their own as well because the very first part of the table that is also a row so I'll go ahead and add a TR short for table row and inside of that TR put these headings I'll go ahead and add one more row just so we can see what this looks like and then we'll take a look at the page and then go back to this code I'll add the Atlantic Ocean to which has an average depth of 3646 meters as well as a maximum depth of 8486 meters as well so when I open up table.html now here's what I'm going to see I'm going to see a table like representation of the data it's not just one thing after another after another anymore it's structured in a table now granted there aren't any borders and I can probably add some colors and spacing to make this look a little bit nicer but I see three columns ocean average depth and maximum depth where this very first row is what we might call the table header the very top of the table that's defining what all of the columns mean inside of that table header is a single table row that has three table data cells ocean average depth and maximum depth then beneath this table header represented in bold is the table's body or the T body element inside of which we add two rows one for representing the Pacific Ocean one for representing the Atlantic Ocean and then we had data cells in each one of those rows for representing each of the individual cells that's located within this table so this is what that page ultimately looks like and let's take one more look at the HTML just to get an understanding for how all of these tags interact with one another and no need to memorize all these tags right now slowly as you begin to design HTML Pages you'll start to get more familiar with what HTML tags are available to you and certainly all of these HTML tags are things that are easy to reference if you need to look them up it's very helpful to be able to look up something like how do I create a table in HTML and then you'll be able to see what the various different tags you'll need to add are in order to generate the table that you're looking for but again just to recap here we have a table element inside of which are two child elements TI head and T body inside of each of those are one or more table rows representing using TR inside of each of those are three table data cells representing using TD and so using these nested tags elements inside of elements inside of other elements we've been able to build something far more complex than just a bulleted list we've been able to build an entire table that has information as well But ultimately our web pages should be web pages that don't just display information but that also let users interact with that information in some way for example you might imagine that on Google's homepage for example it's not just unchanging there's a field where I can type something in and anytime users can provide input to a web page we generally call that a four or someplace where a user can fill out a form in order to provide information to the web page and so now let's take a look at how we can use HTML in order to create a form that's going to display some information so I'll go ahead and create a new page called form.html again using that same HTML as before call the page form and inside of the body of this page now let's say that I want to create a form that gives the user an opportunity to provide their full name for example how do I do that well the first thing I need is a form element some way of saying here is going to be a form and now inside of that form what are the various different parts of the form well there's really two parts that you might imagine to this form one is a place for the user to actually type in their name and they probably also need some way to submit the form some button that just says submit such that they can click on that button in order to submit the form so how would we do that well in order to create an input field we're going to use an input tag whose type in this case is going to be text there are a number of different ways the users might provide input to a forum they might type in text they might choose from a drop down menu they might choose from a radio button option or they might provide input as by clicking on a button for example in this case we're specifically using the type attribute to say that when the user is providing input in this way the type of input that they're providing is going to be some kind of text then we might provide a placeholder some default text that's going to be inside of that input field the first time the user looks at the page so for example the placeholder might be full name that way the user knows that what they should type into this place into this placeholder is their own full name and then finally we're going to go ahead and give a name to this input field now this isn't going to be something that the user sees when they visit the page but anytime you submit a form when we receive that form in our web application something we'll explore later on we need some way of knowing which input field corresponded to which value and so we're going to name each of the input Fields just so that later on we'll be able to reference them and for now since the user is typing their full name here we could just name this full name or we could more succinctly just say name as the name of this input field after that we have an input field where the user can type in their name and now we need some way for the user to be able to submit this form so we might say something like input type equals submit to say here is a way for the user to submit the form type equal submit means this is how they're going to submit the form when they're done completing it now if I open up form.html this is the page that we're ultimately going to see when we load this HTML this entire page just contains a single HTML form but that HTML form contains two parts the first part was this input element here that allowed an opportunity for the user to type in their full name they type in their full name into this input field and when they're done they can click the submit button to indicate that they would like to now submit this form of course right now this form isn't going to do anything when we type in our name and click submit because we haven't added any logic in order to handle this form but later on as we transition into the world of building web applications using python we'll see how we can design a form such that after the user submits it we save information to a database or display some sort of results back to the user all by using the power of building these web applications and connecting them to these sorts of HTML forms and HTML forms can actually get quite a bit more complex we'll take a look at another example for instance let me open up forms 1 form1.html which is a form that I built in advance which shows a number of other ways that users can provide information as input to an HTML form here we see an input whose type is text meaning we want the user to type in their name as text but you might also imagine that if a user is logging into a website for example they might in addition to typing in a textbased name or username or email also provide a password and generally if you've been on a website and you've typed in a password the password characters don't all show up as the actual characters for security reasons they generally show up as just little dots on the screen hiding the actual characters that they're representing and in HTML we can do that very easily by just saying that the type of this input is password if they're typing in a password our web browser will know not to actually display those individual characters in addition to just text based input we also have radio button input as I alluded to a moment ago so here we have a number of different radio inputs where the user might be able to select from a number of options choosing their favorite color for example from a number of these options and finally just to take it one look at one other additional feature of HTML5 in fact a new feature of HTML5 is something we might call a data list where we might have the user choose in a drop down from a number of different options but we want to very quickly filter down or autocomplete based on those options so if the user needs to select what country they're from for example we might have an input field and specify that it's going to be associated with a list called countries then immediately below that I have a data list element whose ideas countries where here I'm going to specify these are all of the options for what country we could have each one is inside of an option element whose value is whatever country they could select and we have all of the countries of the world listed in these option elements so this input here is going to allow me to select one option from a list of all of these possible options so now if I open up form1.html here's what that form ultimately looks like I can hear inside of the name field again that word name shows up because it's the placeholder I can type in my name here and inside of the password field anything I type is going to show up as just little dots instead of the actual characters because the type of that input field was password instead of the type being text in favorite color I now have the ability to choose between various different favorite color options in a radio button format I choose from one of a number of options and finally inside this country drop down I have the ability now when I click on it to see all of the countries but as I start to type letters like u n i t it filters down to only the options that I actually care about so here if I type in enough letters eventually I see United States and I can click on that option as well so HTML5 builds in these additional features to make it easy to implement something like a text field where it will autocomplete based on the text that you provide you can just specify that it is inside of this data list and then provide a list of all the possible values and then HTML and your web browser in turn will take care of the process of rendering that information in the way that you expect it to be displayed so those are just some of the possible HTML elements that we can ultimately create by using these various different elements that we Nest within each other and there are definitely other HTML elements that exist as well you can begin to explore but all of them follow a very similar pattern that we're going to have some tag that might require some attributes additional information about the HTML to give context to the web browser for how that element should be displayed maybe that element needs to have a particular source for an image maybe it needs a link in order to link to somewhere or other information as well and then inside of that element you might Nest other elements so that your table has rows and inside of those rows we have other cells and you might imagine nesting elements inside of other elements inside of other elements but right now so far all of our web pages have been rather simple they've just been we've described the structure of the page and we've described we want to list here we want to form there what we might really like is some way of specifying that we want to style our web page in some way we want to add color we want to add spacing we want to add some sort of other layout to our page as well and in order to do that we're going to use a second language that we're going to call CSS short for cascading style sheets in particular we'll use the latest version of CSS css3 which gives us the ability to take an HTML page and tell the web browser how we would like it to be styled instead of just black text in the same font on a white background we can begin to specify particular CSS properties of how we would like this page to look to make sure that the page looks the way we want it to so let's take a look at a simple example now of CSS to take a look at how we can add some CSS code to our page so I'll go ahead and create a new file that I'll call style.html just to demonstrate some basic ideas of adding some style to our page and we'll go ahead and copy the same hello.html from before and maybe in addition to hello world I display an H1 some big heading at the top that says like welcome to my web page for example so now if I open up style.html this is what I see I see a big heading at the top that says welcome to my webpage beneath which is just a text hello world and now imagine that I want to add some style to this heading at the top of the page maybe instead of being left aligned I want it to be centered maybe instead of just being black texted like to change the color in order to do that just as we've used attributes in the past to add additional information to this particular HTML page we can do a very similar thing with CSS we can specify that we're going to give this H1 element a style attribute and that is going to be equal to and then in quotation marks we're going to provide all of the CSS properties that we would like to add to this particular element so the way that CSS styling works is that we can give elements individual CSS properties where a property is something like the color of the element or the alignment of the element and each of those properties has a default value but we can change its value to something else so if for example I wanted to change the color of this heading so that instead of a black heading it displayed as a blue heading I could say for this H1 I would like to give it a color property and then to give the color property a value I say color colon and then the value that I would like to give to it so color colon blue for example followed by a semicolon will change the color of this H1 element to Blue and my text editor is automatically showing me a little square that shows me what this color blue is actually going to look like this isn't part of the text it's just my text editor being helpful so that I can see in advance as I'm writing this code what the color is actually going to look like so now if I open up style dot HTML here's what I see instead of a black heading at the top we've changed the color to Blue and there are many other builtin colors that exist within HTML that we can use in order to change the color to whatever we want if instead of blue I said I want the color to be red for instance I can refresh the page and now the heading is red and there are many other colors I can change the color to like spring green for instance and that's going to be a particular shade of green that displays just like this and so now we have the ability to add various different style properties to individual elements I can say take this heading and change its style so that the color instead of being black is going to show up as blue instead and if I want to add multiple CSS properties to the same HTML element I can do that as well here in the style attribute I can say that in addition to saying that the color is blue I'd like to give a second CSS property to this element I'd like to say that the text align property should be Center for example the text align property controls as you might imagine how a particular HTML element has its text aligned is it all the way on the left all the way on the right or centered and if I change the text align property to have a value of Center well then now when I refresh this page I see that welcome to my web page is now both blue and it's centered I've changed the color and I've changed the alignment of this particular element and HTML elements don't need to just be styled directly they can also get their style information from parent elements so if you recall again that Dom structure where we have an HTML element inside of which is this body element and inside of the body element is this H1 element and this text you can imagine if we wanted this styling to apply not just to this heading but also to the hello world text I could move the styling information move this style attribute change it from the H1 and escalating it to this body and if I move the style to the body then everything inside of the body is going to be styled in that way so let's now take a look at an example of that to see how that works if I take this style information and I move it so that instead of associating it with the H1 i instead associate it with the body then now when I refresh the page I see that both parts of the body both the big heading at the top that says welcome to my web page as well as the text hello world both have those CSS properties applied I've changed their color to Blue and I've also changed their text alignment to be centered instead of just left aligned but if I do want it to just be that heading then I can move it out and say that I just want to apply the style to that one individual heading now one thing that we might imagine might become a problem over time is that imagine if I had multiple headings that I wanted to style in the same way for example let's say I have a second heading that this is a second heading that I also want to be styled as blue and centered as well I can refresh this page and see that right now that is not the case and I don't want to make the entire page blue and centered I only want these two headings to be blue and centered so what I could do is I could just take this style code from the H1 and apply it to this H1 as well so that both of my H1 elements now have the exact same style code and I'll go ahead and refresh this and now we see this is the intended Behavior I have two headings both of which are centered and both of which are blue but what we want to start to think about as we start to build web applications and especially as our web applications start to get a little bit more sophisticated is to think about the design of how we're building our web pages and how we're building our web applications and in particular anytime we find ourselves copying a lot of the same information from one place to another that's probably not the best design and you should start to think about how might you design this a little bit better it's not great design one just because there's some redundancy that probably doesn't need to be there but also because it makes the page a little bit more difficult to change and a little more difficult to update if I instead want to change both of these headings to be red instead of blue then all of a sudden I need to change my code in two places I need to change the style attribute on this first heading up here and I also need to change the style attribute on the second heading down there what I'd like to do is to somehow just be able to write the style code once and then have it applied to both of these headings and in fact there is a way to do that what we can do is instead of doing what we might call inline styling where we take the CSS code and place it directly as an attribute of an HTML element we can move our style code to an entirely different part of the web page recall again that at the top of our HTML page we have this head section that just includes information that's useful to know about the web page but isn't actually part of the body of the web page the content that the user sees this head section is a great place where we can begin to put some style information information about how we would like for this web page to be styled so what I can do here is instead of putting these style attributes inside in line with these HTML elements I can inside of the head section of my web page add a style element where in between these the opening style tag in the closing style tag I can add any of the style information that I want and here's the way that syntax is going to look I first need to specify what types of elements am I going to style and in this case I want to style all of the H1s so I can just say H1 and then all of the style code is going to go inside of a pair of curly braces where I can say I would like the color to be blue and I would like the text align property to be centered so now here's what I've done I've taken the CSS code that used to be down here inside the body of the page actually as an attribute of these H1 elements and I've moved the style related code to a different part of my page altogether now the style information is inside the header of my page inside of the style element where I've said for every H1 element here's how you should style it The Styling is in between the opening and curly closing braces here and I've said that every H1 should have a color of blue and every H1 should have a text align property of Center and that is then going to apply to all of the H1 elements that my web page happens to find inside the body of my web page so there's a couple of advantages here Advantage number one is what we talked about a moment ago I don't need to duplicate the same code in both of these H1 elements I can write it once and say apply this styling to all of the H1s that show up in the page an advantage number two is we've been able to factor out the style code to somewhere else just to make it a little bit cleaner so that instead of having a really long line you might imagine if we had not just two but maybe five or six or seven different CSS properties that would have taken up a lot of space on one line I can instead in a more readable more organized way move that style related code to the style element at the beginning of the page just to make it easier to read easier to visually understand and just to clean up the body of the web page as well and that's going to be another of the key themes that's going to come up again and again in this class this idea of separating things out so that every piece can sort of be independent of one another our structure of the web page inside the body is separate from the style and we'll see the same sort of idea appear again and again as we begin to try to design web applications well so now if I take this exact same page and go ahead and refresh style.html we'll see that we see the exact same thing both of the headings still show up as centered both of them still show up as blue but now we have the advantage of having only written the style code once instead of needing to write the exact same style code multiple times in the same way but it turns out that we can even do a little bit better than this because one thing you might imagine is that if I have a web application or a website that has multiple different web pages it's probably going to be likely that each of those web pages might need to be styled in similar ways if I have a big banner at the top of one web page then in other Pages related to that page I might want the same Banner styled in the same way using similar style information and right now our CSS code is specific to one particular page and it's not going to be easy to then take that same styling and apply it to another page if I wanted to I'd need to copy the exact same CSS code put it inside of another page but then we run into the same problem of duplication where I've now had to repeat myself across multiple different pages putting the exact same CSS code across all those different pages so there is an improvement we can make and the Improvement we can make is to take that CSS code and just move it to an entirely different file so instead of putting this style code inside of a style element inside of this HTML page I'll just create a new file that I'll call styles.css inside of which is going to be all of the CSS that I care about I want to take every H1 I want to change its color to Blue and now I want to change its text align property to Center and now inside of my HTML page I no longer need to include any CSS at all instead of this style element altogether I can just link my CSS code in that CSS file called styles.css to this particular HTML page and how do I link the styles.css file well I can do so again in the head section of my web page using a link tag where I can say I'd like this link to be the relationship is it's going to be a style sheet meaning what I'm about to link is going to be a style sheet for this page it's going to describe how I want for the elements on this page to be styled and then just as in the case of a link to another page I used href to specify a hyperlink reference what I want to link to I'm now going to specify using an href attribute what CSS file I would like to Now link and in this case the CSS file that I'm going to link is styles.css that is the file that just so happens to contain all of the CSS that I would like to apply to this particular file now if I refresh the page I see again nothing has changed in the last two revisions the pages stayed exactly the same as far as the user is concerned they still see two headings both of them are centered both of them are blue but now the advantage is that here is my HTML it's shorter than it was before and in particular there's no CSS that's baked in to this HTML file at all I factored it all out into the separate styles.css file and now if I have multiple HTML files that are all using the same styling I can just link them all to the same styles.css file such that they're all using the same style information I don't need to repeat myself and If Ever I need to make a change across all of those pages I just change the styling once I change the styles.css file and then all of the web pages that are linked to that style sheet will update as well in order to reflect those changes so again we've been able to factor out some of this style information to a separate file just to make our lives a little bit easier all right so so far we've now seen how we can use CSS in a number of different ways to add some basic style store Page we've seen that we can take an element and change its color we've seen how we can take an element and change its alignment move it from left to line to right align to Centered for example as it turns out there are a lot of different CSS properties that we can add to our HTML elements in order to style them in various different ways more than we'll have time to talk about in this lecture but now let's just take a look at a couple of the most popular most common CSS properties that we can add in order to make our web pages look the way we want it to and one of the most powerful tools for CSS is controlling the size of various different elements by default HTML just used a default size for everything on the page but if I want to more precisely control how big any particular element is I can use CSS in order to do so so let me now create a new file that I will call size.html we'll start with the same HTML code and call the page size and now inside the body of my page let me just have a vertical section of my page just some section of my page that's going to have some content and I'm going to put this inside of a div tag now this is the first time that we've seen a div in HTML you can think of a div as just a division of the page some section of the page that's going to have some content inside of it and we use div because it makes it easy to reference a particular div or a nest information inside of other pieces of information or just to divide and break up our page into multiple different sections here inside of the body I'm just going to have a single div that is going to say something like Hello World and now I'm going to add some style to this page in order to control the size of this div to control the size of this section of my web page I could use inline styling I could Factor things out into another file but since I'm only dealing with one file for now I'm just going to add a style section to the top of my web page just so you can more clearly see how the style of this page is going to map on to the way that we're modifying these HTML elements and I would like to style this David in a couple of ways one thing I can do is give the div a background color let me change its background color to Blue for example and then I can say all right I'd like to give this div a width and a height some size information I can say go ahead and give this div a width of 100 pixels and maybe a height of 400 pixels so now when I go ahead and open up size.html this is what I see I see in a 100 by 400 pixel wide vertical or rectangular section of my page I see the words hello world and so you might imagine if you have multiple different elements on your page as your web pages start to get a little bit more complex you probably want to have some more precise control over how wide or how tall any particular element is and these width and height attributes can be very helpful because I can very easily change the width to say like 500 pixels for example and now when I refresh the page now I see that the width of this page of this div this section of the page has actually now gotten a lot wider and so we have the ability to control size using CSS go ahead and close some of these pages that I no longer need and now take a look at some other things that we can do in addition to controlling the size and let me change this color to something a little bit lighter something like orange such that now if I open up size it looks like this I'll make this a little bit smaller let's try 200 by 200 pixels it looks now like this you might imagine there are some other changes that I might like to make like this hello world for example is very close to the edge of this particular div it's right up against the upper left corner of that div I might want to change that by adding what we might call some padding to this particular HTML element some space just so that the content of the element isn't so close to the border of the element itself so for example one thing I can do is inside this div add some padding say maybe I want 20 pixels worth of padding on the inside of the element such that now when I refresh the page we see that we have some padding along the outside of the element so that hello world now shows up not right up against the edge of the element but inside a little bit as well and if we have a particular HTML element that maybe is too close to the edge of the screen maybe it's too close to the top of the screen we can also add space around outside of the element by adding what we call margin to the element as well so I can say let's give it 20 pixels of margin inside of this div and then refresh and now we see that whereas before this div was very close to the upper left edge of the screen now we've moved it 20 pixels away from everything so it's got some space on all four sides of it so that's how we can now use margin and padding just to make the page look a little bit nicer to the user so objects are not too close together or too far apart ing again is on the inside of the border of the element I can add 20 pixels of padding for example to make sure that the content inside of the element in this case the words hello world just have a little bit of space from the border and that's padding on the inside of the element margin meanwhile is on the outside of the element we add some margin along the outside of the border to space the element out from other elements that might be nearby to make sure that there's enough space between the border of the element from the top of the screen and also from the left and also the bottom and the right though there's no objects there that we're currently creating space from so by combining width and height and margin and padding we now have the ability using CSS to make sure that we're able to lay out our page the way we want to lay out the page so that elements have the right amount of spacing from each other and are the correct size so now let's take a look at some other features that CSS is going to give us in addition to just changing where particular elements are like centering text or adding size and margin and padding we can also use CSS to change how elements actually look we've seen it to change the color of text changing it from one color like black to another color like blue but we can also use CSS to be able to change something like the font that we use in order to display text modern web pages don't show everything in the exact same font usually some designer is choosing what font they want for any particular web page so let's experiment with those possibilities I'll now create a new file that I'll call font dot HTML inside of which will be an HTML page called font and inside the body I'll again just have a div that says hello world same as before but now inside of the style tag here up in the head section of my web page I would like to add some font information to this div and in particular there are a number of different font related CSS properties that I can add to control the font of any particular HTML element one thing I can specify is the font family specifying what font would I like to use in order to display this text and maybe I want to display it in Arial for example which is a common font used on the internet such that now if I open up font.html I now see in aerial the words hello world different from the text that I was using before you can also specify multiple different fonts not all Computers support all fonts so I could specify that just in case Ariel isn't supported fall back to any Sans serif font any of the fonts that don't have the little glyphs at the edge of each of the characters so now if I refresh the page because my web browser supports Ariel I don't notice anything different but you might imagine if you're using more complex fonts that not all web browsers have or support you might add some backups just in case the font you want isn't actually available in addition to a font family I might also specify a font size how big I want the font to be inside of this div so I can specify that I'd like the font size of this div to be you know 28 pixels for example such that now I refresh it and now this div appears using larger text and I can also adjust as like text editors let you specify whether you want it to be normal text or bold text I can specify a font weight for this div and say that in addition to being in font aerial and size 28 I would also like for the font to be bold such that now I refresh it and now the font shows up as bold and using these CSS style sheets we're able to selectively apply The Styling to only particular parts of the web page if I have another underneath this div some more text down here for example that additional text that's outside of the div isn't going to be affected by the CSS styling such that now if I refresh this page some more text shows up in that same standard default font provided by my web browser and not the custom font that I have specified to apply to only this particular part of the HTML page so that now is the ability to add fonts to our page too another thing that we might want to do is to be able to add some sort of border around our HTML elements so maybe I want a line to be able to separate this entire part of the page from another part of the page so I could add a border by going to this div and saying let me give this div a border and maybe I want the border to be like a 3 pixel solid black border for instance I can specify how big I want the border to be I can specify whether I want the border to be a solid line or a dashed or dotted line and I can specify what color I would like that border to be as well so now when I refresh this I now see I have a border around this entire section around this entire div inside of my web page and you can imagine these borders being helpful for styling various different parts of my page so for example if we go back to that table that we were looking at a moment ago when we were dealing with Oceans Where I had ocean and Pacific Ocean and Atlantic Ocean this is structured in the format of a table we have rows and columns but it doesn't look great right now I might like to add some styling in order to improve the way that this table looks for example so let's give that a try I'll go ahead and go back into table.html that HTML file I was using before where I had this table and let me now add some style information to this table I might say that for this table I would like to give it a border that is maybe a one pixel solid Glock border such that now when I refresh the page I have a 1 pixel solid Blackboard room around the entirety of the table all right that's great but I also really wanted to border in between the rows and the columns as well in particular every table data item I might like to have some additional CSS applied to those two so I might say for every table data cell again TD stood for table data and those were the individual cells within my table I might specify that I would like those to also have a border that is one pixel solid black such that now I refresh the page and now each of my table data cells also has a border around it now this applied to the table data cells in the body of my page but it didn't yet apply to these cells up in the heading and that's because those were th elements table headers and so here we have a couple of options I could specify once more table headers I would like to give a border of one pixel solid black but when I do so you'll see that it does create a border around those table headers but again one thing that should be crossing your mind now is that there's a fair amount of redundancy here some repeated style code that shows up in multiple different places table data cells in the body of my page I really want to be styled in a very similar way to table header cells and so it would be nice if I could somehow consolidate these two different CSS selectors these ways of me saying style table data style table headers I'd like to combine them into one and you can in fact do this in CSS there are a number of different CSS selectors ways of choosing elements and one of them is just called the multiple element selector that if I want to select both table data cells and table headers then I can do so by saying TD comma th and delete these three lines down there what these three lines are now saying are that I would like to style all table data cells and table headers in the same way and I could even combine table if I wanted to for good measure but I'd like to give all of them a border of one pixel solid black such that now I refresh it and now I see that they all have this border around them now most tables you see on the internet don't have both a table or a border around everything in the table and also a border around each of the individual cells usually those are collapsed just into a single line and it turns out that CSS has an easy way for you to do this as well I can add a CSS property to the table called border collapse and just say I would like to collapse all of the borders in the table just going to show you there are many many different CSS properties far more than we'll be looking at today but they're easy things to reference so you can easily look up how to collapse borders in a table and then find a CSS property like this that you can then use and apply to your web page so now I refresh that and now I see that I have a border just a single border around all of the cells in this particular page next what I might like to do so though is like add some space around here like it seems like these these text is very tight against the border of this table so in order to do so I want to add some spacing and recall again do I want margin or padding margin is facing around outside of the border of a particular HTML element whereas padding is inside of the border so if I want some space inside of the Border just to space out the text from the border itself then what I want is padding inside of all of my table cells so I can say let me add five pixels worth of padding inside of all of my table data cells and table header cells refresh the page and now here's what the resulting table looks like just by adding a little bit of CSS specifying what border I want around the edge of the page specifying a little bit of padding inside of each of the cellism my table now looks a whole lot nicer than it did just a few lines of code to go when I just had the HTML structure of the page and not the CSS to describe how I actually want that page to be styled and notice again that in doing so we were able to use one of these CSS selectors I was able to say that I wanted to use the multiple element selector which is just this comma here to specify that I would like to apply this styling not just to TDs but also to THS as well we'll take a look at some additional examples of CSS selectors in just a moment but next let's turn our attention to some more tricky instances where we might want to apply styling to multiple elements at the same time let's imagine and let's go back to style.html where we had some style code where I had one heading I'll call this heading one and let's give myself two other headings heading two and heading 3. all of these now are H1 elements that are going to show up the same way such that now if I Style and say I would like all H1s to show up with a color of blue then when I open this page where I have three H1 tags Each of which has a color of blue when I open up style.html what I'm going to see is something like this three headings Each of which happens to have a color of blue but what would happen now if I wanted to style only the first edit I want heading 1 to be blue but I don't want to style heading 2 and heading 3. how do I do that well one thing we could do is go back to the inline styling we did a moment ago where inside of H1 I said style color is blue and that would say for just this very first heading I would like that to be blue but not the other elements at all but this again we decided was not the best design this inline styling comingling of HTML and CSS just gets a little bit messy and it would be nice to be able to factor all of our style code to a separate part of the page altogether so how do we do this well we need some way to uniquely reference this particular HTML element and in order to do so we can give an HTML element an ID in ID is just some unique name we give to an HTML element so that we can reference it more easily later on let me just go ahead and give this an ID of Foo it could be any idea you want but Foo is just a generic name here and now we've given this heading a name such that in other parts of our page or in other code we can reference and find this particular HTML element and in particular now in the style section of my web page instead of styling all H1 elements I only want to style the element that has an ID of Foo IDs are by definition unique there can only be one element in this page that has an idea Foo otherwise it's not valid HTML and so in order to do so we're going to use hashtag Foo the hash mark symbol is just css's way of selecting just something with a particular ID so instead of just H1 for selecting all of the H1 tags if I want to select something by its ID I say hash Foo to say only style the element that has an ID of Foo and give it a color of blue for example so this style code now will find something with a particular ID and give it a style to correspond with it such that now if I reload this page only heading 1 is styled heading 2 and heading 3 are not I've been able to name heading 1 give it a name of Foo an idea Foo and then in my style code just style that particular part of my HTML page of course what if I wanted to style multiple but not all of the headings like maybe I want to style both heading 1 and heading 2. now I could use a second ID maybe give this an ID of bar for example and then Style Both the element with ID Foo and the element with ID bar but now we're starting to add IDs unnecessarily I have too many different names things could start to get messy especially as my web pages start to get bigger so while IDs are a way of giving a name to an HTML element that is unique sometimes I want to give a name to an HTML element that is not unique some name that can apply to multiple different HTML elements and when we do that we call that a class an ID is a way of giving a unique name to an HTML element while a class is a way of giving a name to an HTML element that might not be unique it might apply to zero or one or two or more different HTML elements so here's what that might look like instead of giving each of these H1s an ID that's different I can give each one a class we'll give this a class of baz again just another arbitrary name that we've chosen and I'll give this H1 a class of baz as well they both belong to the same class called baz in this case and now inside of my style code I would like to say just style the elements that are of class baz and just as we had a special symbol the hashtag for styling only something with a particular ID you to style everything with a particular class I can use a DOT so dot baz in this case is going to style only the elements that have a class of baths so here I can now say take all of the elements with a class of baz and go ahead and give those a color of blue so now I have two H1s that belong to class baz each the other H1 does not and I've styled only the things that are of cloth spaz such that now when I go back to the page and refresh the page my first two headings those do get styled as blue but the third heading does not because I've applied a class to these two elements that does not get applied to this third element there so oftentimes it can be very helpful if you have to start to design larger web pages where you have multiple different elements some of which might be styled in some ways and other elements that might be styled similarly to one another you can add IDs and classes to your HTML elements just to clean up the way that you write your CSS to be able to very specifically pinpoint one element that you want to apply style to or to apply styling to entire class of elements as well now one tricky thing you might imagine now is that now we have multiple ways of referencing the exact same element so for example if you imagine that I just had a single H1 which had an ID of Foo for example that I've named Foo what would happen if for instance I said all of the H1s I would like those to be colored red and all of the elements with an ID of Foo or the only element with an idea Foo I would like that to be colored blue what might happen then these would seem to be conflicting where now suddenly we have an H1 style tag that is saying I should style each ones in this way but I should style element Foo in another way so what happens if I have an H1 whose ID is Foo how do I choose to style that and in order to deal with that we have to start to deal with the CSS problem of specificity of what happens when I have multiple different CSS selectors that could apply to the exact same HTML element and this often happens when we start to add IDs and classes to our elements as well so when we deal with specificity specificity goes in a particular order there's an order of Precedence that we can follow for determining what style should ultimately be applied to any particular element the first most powerful most specific way of referencing an element is inline styling literally adding a style equals attribute towards the HTML elements the way we did way at the beginning when we were first taking a look at CSS if we associate inline styling with an HTML element that's going to take precedence over any styling that's inside the style section of our head of the web page or inside of a separate.css file because the reasoning goes if you are literally putting the style code attached to the element itself then we probably want to apply it to that element after that specificity goes in order of how precisely we are identifying an element an ID is a unique way to identify an element there's only one element with that particular ID so if I've added style to a particular ID that is going to be pretty highly valued in terms of how specific it is next we look at classes so if there's no ID selector we look for did we reference the element by its class and if so then that takes next precedence and otherwise then we fall back to what type of HTML element it is is it an H1 is it an ordered list is it a table so in short the type is the least specific class is slightly more specific ID is more than that and the most specificity we can provide is by literally putting the CSS in line with the HTML element itself so let's take a look at an example of this let's look at this code for example where for instance I have a div whose ID is Foo inside of which I'm just saying the word hello and the CSS code that I've included here is I've said for all divs I would like to give those a color of blue obviously in that case there's nothing conflicting what we're going to see is we're going to see the word hello and we're going to see the word hello in blue but what happens now if we add anything with ID Foo should be colored red well because ID has higher specificity than just an individual tag well then next what we're going to say is that this hello is going to show up as red the ID is more specific and so this element is going to show up red instead and it doesn't matter what are these are in it's not that the later one takes precedence if I were to flip these around where idfu color red div color blue is in that order it's still going to show up as red because this ID selector is more specific than just the name div which is the name of the HTML element that happens to be there and so as you start to develop more sophisticated style sheets you might find that some of your CSS code is going to conflict with each other and that's where it's important to bear in mind how these specificity rules work to know as you add style to your elements how are they actually going to end up showing up now we've seen a couple of CSS selectors now in terms of selecting a single element selecting an ID selecting a class selecting multiple elements as well it turns out there are a number of other CSS selectors that we can use too so we saw for example the multiple element selector like TD comma th for selecting table data but also table headers but there's a number of other selectors here's just a sampling of ones you can specify like descendants or children so if I only want to style divs that are inside of tables or I only want to style lists that are inside of certain classes I can use these descendant and child selectors to add styling in those particular ways and there are a number of other CSS selectors we can add as well and we'll go ahead and explore a couple of these just to give you a sample of how some of these CSS selectors can actually work and we'll start by taking a look at the descendant selector which is used to select all the elements that are descendants of some other element for example so let's go ahead and create a new file that I'll call descendant .html that again we'll start with the same code and inside the body of this page I want an ordered list that maybe has a list item one and maybe list item two and it turns out with lists in HTML you can Nest lists inside of other lists maybe you've seen bullet points where there's like nested bullets inside of other bullet points I can do that here I can add an unordered list and create a sub list like sublist item one and sublist item two and maybe down here here's another list item such that now I have a couple of items but some that are inside of an unordered sub list let's go ahead and open up descendant.html and see what that looks like so here's what we have we have list item one list item two another list item that is probably actually list item three so we have three items but inside of list item two I have an unordered list let's imagine for example that I wanted to only style these sub list items as a particular color like maybe I want those to be blue for example if in the style section of my web page I say that I would like for all list items to be styled blue well then not styled colored blue rather then what I'm going to see when I refresh the page is that all of the items are going to be blue instead of just the two sublist items but I could instead say that you know what I only want list items that are children of unordered lists and I can do direct children using this greater than symbol to say that only if there is a UL that immediately contains an Li within it then I would like for that to be colored blue and now if I refresh that now you'll see that the ordered items listed in one two three those do not get colored but only the list items that are inside of the unordered list that are directly children of that unordered list actually get the CSS styling applied this greater than symbol here is specifying immediate children I could get rid of it ulli like this and this would also work you still see sublist item one and two but this is a more General selector called The Descendant selector that selects all descendant elements so they might not be the children element so that might be grandchildren elements so to speak if those children elements have other children that are attached to them as well again for all of this it's helpful to begin to think about things in terms of that document object model that Dom structure that tree that represented how all of our various different HTML elements are related to one another so next up we can begin to take a look at some of the other selectors that we have access to so one of those selectors might be something like modifying and only on a specific attribute of a particular HTML element so we can use the attribute selector for that I'll create a new file called attribute.html where here let's go ahead and create a unordered list that's going to have a number of different links to various different websites so here's a list item that is going to be a link to Google so I'll link to google.com and say Google and I'll go ahead and add a link to facebook.com call that Facebook and I'll go ahead and add a link to amazon.com and call that Amazon and let's imagine for a moment that I only wanted to style the Facebook link like I want to really highlight the Facebook link tell people to click on that one as by coloring it in entirely different color well to cut to style links normally I would say something like links should be colored you know blue for example they're color blue by default but I could be explicit about it and say links should be color blue like that such that now when I open up attribute.html all of the links are colored blue but I could also say I would like links that have an href attribute of facebook.com I would like those links to be colored red instead so this square bracket notation I can use to specify a particular attribute of an HTML element only anchor tags a tags whose ahref is equal to facebook.com those should be the only ones colored red so now when I refresh this I now see that Facebook is a link that is now colored red instead of colored blue because I've been very specific about picking an attribute that I would like to use in order to reference that particular HTML element and we can use CSS selectors in more powerful ways too maybe not just to style a particular element always but to style an element only under certain conditions or only when an element is in a particular State and this is very often done for something like when you hover over something when you hover over some a button and something pops out or you hover over something and it changes color slightly we can begin to do this by adding what we call a pseudo class to a CSS selector so let's take a look at an example of that to see how we can modify an element when a user hovers their cursor over that element for example so I'll go ahead and open up a new file hover.html we're here I'll go ahead and inside the body of the page just give myself a button this button is going to say click me and let's add some style to the button by default buttons show up as fairly simple buttons it just looks something like this I might like to add a little bit more to this button and say you know what let's add some style to the button and give it a width of 200 pixels a height of 50 pixels a font size of 24 pixels and maybe a background color of green for example so I specified some size information how big I'd like the font to be and also a background color for the button such that now here's what that button looks like shrink it down a little bit it says click me but many buttons especially nowadays are a little bit of they give you a little bit of feedback you hover over them and they change their color slightly how do they do that well often it's using a CSS pseudo class where I can say button colon hover meaning when I am hovering over a button then I'd like you to change the background color to Orange for example some other color so now I specified that by default normally for a button your background color should be green but when the button is being hovered over instead now change the background color to Orange such that now when I open up this page and go to click me if I hover over the button the color of the button changes normally green changes to Orange and so that is a very powerful feature that we have access to as well all right so now we've seen how we can use various different CSS selectors to very precisely Define how we want our web pages to be styled but one other thing we can use CSS for that's quite powerful is responsive design and responsive design is all about making sure that our web pages look good no matter how you're looking at the web page nowadays people aren't always looking at web pages on their computers but they're looking at web pages on their mobile phones or on their tablets as well and it's important as we begin to design web pages that we design our web pages in a responsive way so we'll look at a number of different ways we can Implement responsive design in our web pages starting with the discussion of the viewport and what the viewport is is the viewport is the visual part of the screen that the user can actually see so the viewport is this entire area of the web page that displays content to the user so one question you might ask is what's going to happen when you take this page and translate it onto a Mobile screen well one thing that many mobile devices do by default is treat their viewport as though it is the same width as a computer screen because not all web pages are optimized for mobile device mobile devices you want to make sure that on a mobile device you can see everything and so many phones will take a web page like this and just shrink it down to fit onto a Mobile screen that looks a little something like that now of course that's probably not really what we want it to look like ideally we want our page to adapt to different size screens maybe we want the heading and the image and the text if that's what these are to grow a little bit to fill that entire screen and so one simple thing we can do is just to add a little line of code to our HTML inside the head section of our page that controls the viewport this line of code here is providing some metadata to our HTML page and saying I would like you to change the viewport to be specifically the width of the device by default many phones will use a viewport that's actually wider than the with the device treat it as if they're loading a page on a computer and then shrinking it down to the size of a mobile device if you and your web page specify though that you want the viewport to be just the device with oftentimes a page is going to look a whole lot better on a mobile device but in addition to just adding a line like this there are other actual changes we can make to our page to make it look a little better on different screens and one of those has to do with media queries and media queries are all about controlling how our page is going to look depending on how we render that particular page or what size screen we're rendering that page on so let's take a look at an example of how we might go about do using media queries in order to control what a page actually looks like depending on what type of page or what type of browser we're using to view it so I'll go ahead and open a new file that I'll call responsive.html because we're going to try and build a responsive web page now and now I'll go ahead and inside the body of my page just include a big heading that says welcome to my web page for example and just to demonstrate what you can do now with responsive design is I could say something like let me add a style tag here where I want to say that if the size of the screen is a certain width then I want to style the page in one way and if the size of the page is a different width then I might want to style the page in a different way you might imagine that as you shrink the screen you want to move elements around in order to rearrange them to make the page just look a little bit nicer on a mobile screen so we'll do a very simple example of just changing the color depending on the size of the screen so let me specify now in a media query in the Syntax for media query looks like this I'm going to use the at symbol and say media and then specify for what type of media I would like to apply this query I can say something like if the minimum width of the page is 600 pixels in other words if the width of the page is 600 pixels or anything larger than 600 pixels well then go ahead and take the body and give it a background color of red but then I could also add another media query and say you know what for this media query let me give it a Max width of 599 pixels meaning if the size of the screen is 599 pixels or fewer then maybe I'd like to take the body and give it a background color of blue for example so now let's take a look at what happens when I take this page and actually open it and see what's going on I'll open up responsive.html and here's what I see normally I see a red web page because my screen is longer than 600 pixels wide but notice what happens is I shrink this web page if I go ahead and shrink it looking at it on the smaller screen eventually it turns to Blue if it's above 600 pixels wide it's going to be red if it's below 600 pixels wide the color changes to Blue so we're able to now use these media queries to really finetune the control how our page is going to look on various different types of devices if it's on a big screen maybe you want the elements to look a certain way if it's a smaller screen maybe they look differently and you don't just need to control a background color you can control any CSS property you want just by using these media queries you can say on a big screen you want certain amounts of spacing or padding you can even hide elements on smaller screens if you want to by using a particular CSS property called the display property that controls whether or not an element is even visible and ultimately put together this can help to make your pages a little bit more responsive and there are a number of different media queries that we can apply to our page as well we can check to see whether a mobile device is vertical or landscape we can check to see whether the user is viewing the page on their computer screen or if they've tried to print out the contents of the page as well so there are a number of different options that we have to really control how a page is going to look there are some other tools we have in our toolbox as well though for dealing with mobile responsiveness and one of the tools built into the latest version of CSS is something called flexbox and flexbox is quite helpful if we have multiple elements that we're all trying to display on the same page at the same time that might overflow if we're not careful about how we do responsive design if we're really not careful let's imagine I have six elements that show up on my computer's monitor when you translate that to a Mobile screen you can imagine they may all shrink down so that they're barely visible something like this this is probably not what we want if we're trying to design a mobile responsive page for example so you might imagine how can we do a little bit better well another thing we could do is take these elements and go ahead and keep them the same size but make you have to scroll through them this isn't a slightly better the elements are at least still visible and they're large enough on the screen but it'd be nice not to have to scroll through them what would be really nice is given that we have all this extra space I would like to be able to wrap around elements if I don't have enough space for them such that if I'm translating these six elements to a Mobile screen they translate but I get them in like two rows for example three on the top and three below and flexbox is an easy way to be able to implement something like this inside of our web pages so let's take a look at what that might actually look like to add flexbox to our page so I'll go ahead and create a new file called flexbox.html we'll start with the same HTML code and now inside of the body I'm going to create first a div that is going to be called the container and we're creating a container because we're going to specifically say that everything inside the container I would like to add flexbox to to be able to wrap it around so that things can go on to multiple lines if I ever need to and now let me just add some sample text so this is some sample text inside of a div to demo flexbox and I'll go ahead and repeat this maybe like 12 times and I'll number each one here's one two three four and I'll number all the rest this is just to give a demonstration of what these elements could actually look like ideally these would be different pieces of content though so now inside of my style tag here's what I'm going to say just to demonstrate I'll say take the ID container again the hashtag specifies get me something with a particular ID and I want to display it using flexbox and in particular I would like to use the flex wrap property to say if there's not enough room at the end of a line for all of the elements go ahead and wrap around those elements onto the next line instead and now I can specify some additional CSS properties for the divs inside of the container so I can say for the container all of the divs inside of that container again using this child selector to get all of the divs that are inside of the container I can add some CSS to that too I can say let's give these a background color of like a shade of green I can give them a particular font maybe 20 pixel font give them some margin and padding just to add some space and maybe each one is going to be 200 pixels wide so just adding some spacing to those individual divs the important part is this right here where I've said that this whole container is going to be a flexbox container and I'd like to wrap around elements if you ever reach the end so now I'll open up flexbox.html and so here I now see 12 elements that are on multiple lines but notice what happens as I shrink the page if there isn't room for all of them elements move onto other lines now there's only three elements in any particular row now there's only two elements on any particular row and so I can use flexbox to very well adapt myself to different size screens and no matter whether you're looking at this on a big screen or a small screen the content is still going to look good because I'm able to adapt responsively to whatever might be happening so this is one layout Paradigm that exists within CSS this flexbox layout there are other layouts that exist as well one common one is the grid layout for any time you want to arrange things in a particular Grid or maybe certain columns need to be certain widths but others could maybe be a little bit more flexible show us I'll show one example of that too just to give you a demonstration of what that grid layout might look like so here's grid.html where I'll go ahead and inside the body of this page give myself a div whose I'll give it an ID of grid and then let me just add div class equals grid item again a class because there might be multiple items but I'll go ahead and just create a whole bunch of grid items and number each one so two three four five six seven eight nine ten eleven twelve so I have a whole bunch of grid items inside of a div whose ID is grid and now I'd like to add some style here I'll say for the grid let's give it a background color maybe maybe a background color should be green a display is going to be grid I want this to show up as a grid and now there are a couple of attributes I'm going to or properties that I'm going to specify here maybe I want some padding around the grid first but the important grid properties are grid column Gap how much space goes between each of the columns maybe I'll say like 20 pixels likewise there's also a grid row Gap how much space goes between each of the rows of the grid maybe I'll say 10 pixels here and then finally grid template columns is a way for me to specify how many columns there are going to be and how wide should each of those columns be so if I want maybe three columns I can specify that the First Column should be 200 pixels the second column should also be 200 pixels and the third column can be automatically sized just grow or Shrink to fill the screen so we'll say Auto so First Column 200 pixels second column 200 pixels third column just do it automatically and now for all of the grid items well those I can add some styling to to as well I'll give them a background color of white just to distinguish them and also give them some font size and some padding and maybe Center them as well so just adding some additional CSS properties in order to make it display the way I want to but the important ones to care about here are display as grid and then I'm specifying here's how the grid should be laid out how much space between columns how much space between rows and how wide are each of those rows going to be now if I open up grid.html here's what that grid looks like I now have a First Column 200 pixels wide a second column also 200 pixels wide and a third column that's going to resize dynamically based on how wide or how narrow my screen happens to be so as I shrink the screen the third column shrinks with it as I grow the screen it also grows alongside with how big this window happens to be and so flexbox and grid are some very powerful tools that we can use just to make it easier for us to be able to use mobile responsive design to be able to make sure that our Pages look good no matter what kind of browser or what kind of device the user is using in order to look at our page but it turns out there exists a lot of libraries out there that do a lot of this for us some people that have already written CSS code to make our text look good to make our buttons look good in order to make sure that things are mobile responsive and one of those is called bootstrap bootstrap is a very popular CSS library that we can use in order to use some styling that they have written such that we don't need to write all the styling from scratch so this is what bootstrap's website looks like I'll go ahead and show it to you now just to give you a sampling for what's available inside of a library like bootstrap if I go to getbootstrap.com here's bootstrap's website and if I go to their documentation on this first link here I can look at all of the bootstrap components that I'm given access to these are things like alerts for example that here's an alert that's styled in a very particular way it's in a specific font it's gotten a certain amount of padding in certain colors and if I want to just copy this alert once I've used bootstraps code I can just apply certain classes to a div and bootstrap will handle the process of applying the right styles for me I don't need to write all of these styles by myself from scratch bootstrap's written a lot of The Styling already so how do you actually go about using bootstrap well to get started with bootstrap all you need to do is copy the CSS link that bootstrap gives you to the top of your file so if I take the CSS link and then go back to something like hello.html which you'll recall originally looked something like this just hello world I can add some bootstrap to it to say all right I would like to take this HTML file and apply bootstrap styling to it to make it look a little bit nicer so I refresh the page and now you'll notice bootstraps chosen a custom font for me just to make things look a little nicer in bootstrap's own eyes and now if I want to add bootstrap elements I can say all right let me go to their components and I want to add an alert I can just copy their alert code here's their alert code for a primary alert an alert that looks blue and I can just inside the body of my page go ahead and add an alert and maybe change the text to here is my alert for example now when I reload hello.html I now see an alert that shows up styled according to bootstrap styling and again I can change that styling just by changing these classes so a primary alert shows up as blue a success alert shows up as green a danger alert is red so if I want to give a danger alert the user is doing something wrong on the web page for example I can change alert primary here inside my HTML to something like alert danger instead and now when I refresh this page I now see the alert shows up as red instead of blue so bootstrap gives us access to a lot of these various different types of components different ways of adding breadcrumbs and alerts and carousels and other elements to our page just to make it easy to make our page look good very very quickly without having to worry too much about writing our own CSS because bootstrap's written a lot of that for us bootstrap even includes a way to make sure that web pages are mobile responsive using something called bootstrap's column model so I'll show you an example of that now bootstrap divides its page into 12 distinct columns so one thing I can do is I've pulled this up in an example I have an advance called column 0.html notice that inside of the body of my page now I have a div whose classes container and then a div whose classes row and bootstrap divides every row into a 12 unit column so here for example I have a whole bunch of divs that are each three unit columns so if I have four three unit columns that will take up a total amount of space equal to 12 meaning filling up the entirety of the screen so if I now open up Source column zero dot HTML here's what that looks like I have four columns Each of which is of width three and as a result as I shrink it those columns will automatically resize to make sure that they're always the appropriate size now as long as they add up to 12 they don't all need to be the same size so for example if I only wanted three columns instead of four I could get rid of the fourth column by deleting those rows and maybe change the second column instead of to being a column of size three let's make it a column of size six so that's a length six column instead and now if I refresh the page now suddenly I see three columns where the middle one is twice as large as the ones on either end and as I shrink this down I can see that it shrinks down as well and one of the advantages of using bootstrap columns is that they too can be mobile responsive they too can wrap around other lines if they ever need to so for example let me pull up columns1.html here for example I have a row and let's take a look at what's going on in here recall that every Row in bootstrap is divided up into 12 column units but bootstrap in addition to letting me specify how many units a column should take up also lets me specify how many units that column should take up depending on the size of the screen so if I'm on a large screen as indicated by LG this is saying that on a large screen this div should take up three units of space and this div should also take up three units of space and for each of these four divs on a large screen each will take up three of the total 12 units of space so they'll all show up on one row what happens on a small screen though well here call SM for column on a small screen I've said on a small screen each column should only take up should take up six units of Space six or half of the total 12 that I have in the row and so I use up six here six here for a total of 12 and one row which means the next two also a size 6 need to go on to a second row and bootstrap is smart enough to do this math for me and figure out how exactly these elements should ultimately be laid out so now if I open up columns1.html and see what's there on a large screen I see four columns all in the same row but as I shrink down to a smaller screen eventually we'll see that things change I now see the third and four sections move down onto the second row because on a smaller screen now when the when the window is smaller now I only have the ability to show two elements in any particular row so I get two on the first row and then two on the row underneath that so all in all there are a lot of different ways to know that we can use CSS in order to make sure our pages are mobile responsive we can use bootstrap's column model to make sure the columns move around whenever a size of the window shrinks or grows we can also use things like flexbox and the grid model writing our own CSS to make sure that our page is responsive depending on the size of the screen that the user happens to be using in order to visit our web page so these are some of the very powerful features that we get using just CSS but one thing you might imagine is that as we begin to write more and more CSS there's going to be more and more repetition things that appear again and again and again and we've already seen some ways that we can minimize redundancy in CSS we've seen how we can move CSS into the style section of our web page we've even seen how we can move CSS to an entirely different file however what we haven't yet seen is how to deal with other types of redundancy and so let's take a look at an example of that now let's imagine for example that I want to style multiple different elements uh in different ways but using some common properties so for example let me create a new file that all in this case call variables.html and you'll see why in a moment I'll go ahead and copy hello.html but I'll get rid of all this bootstrap inside of it let's imagine that here I have in maybe two lists an ordered list and an unordered list where my unordered list has unordered item maybe three unordered items and my ordered list also has three ordered items again just for sake of demonstration I'm showing that we have these two lists now and I'll open up variables.html just to give you a sense for what that could look like we have three unordered items in an unordered list three ordered items in an ordered list let's imagine I wanted to style these a little bit differently maybe inside the style section of my page I want to style the unordered list to have a font size of 14 pixels and maybe a color of red and my ordered list I would like that to have a font size of maybe larger 18 pixels but also a color of red I want to keep the same color for all the text but I want the font sizes to be different now if I refresh this page here's what I see they are indeed of different sizes the ordered list items are larger than the unordered list items and they're all red but there was some redundancy some repetition that was introduced when I was writing my CSS code in particular when I was writing my CSS code I've repeated this usage of the color red if I ever want to change the color from red to blue for example I'm going to have to change my code in two different places ultimately I just like for my CSS to be a little bit more powerful and so that brings us to our last topic today which is a language called SAS and SAS is a language that is essentially an extension to CSS it adds additional features to what CSS has to offer just to make it a little bit more powerful for us to be able to use and manipulate CSS in a way that's going to be faster and remove some of the repetition that we might have had in CSS previously and one of the key features of SAS is the ability to have variables so let's take a look at an example of the snow I'm going to create a new file normally when we created our CSS files we call them like variables.css something.css to stand for a CSS file SAS is a different language though so it's going to require a different extension we're going to conventionally use dot scss to stand for this is a SAS file so here's now variables.scss and now what I can do in SAS is I can actually create variables in the same way that we could create variables in a programming language like python which we'll soon see CSS normally doesn't support variables but SAS is going to give us that power in SAS all variables begin with a dollar sign so I can create a variable dollar sign color to create a variable called color and I can say the variable called color is going to be equal to red so this line here line one is my way of telling SAS I'd like to create a variable called color and I'd like for its value to be red and now I can add the same styling I had before I can just use normal CSS and say for an unordered list I'd like the font size to be 14 pixels but the color instead of saying red here I can use the name of a variable I can say dollar sign color to mean go ahead and use the value of the variable color as the color for this unordered list then for an ordered list I'll also say font size 18 pixels and say color should also be this variable called color by using a variable I've removed the repetition rather than having the word red show up in multiple places in my code where I would need to change it twice if I ever needed to change it now I have defined the variable once and I only ever need to change it in one place if I ever need to make modifications to this particular file so now let's try and Link this file instead of we'll go back to variables.html instead of putting the style code here I'll go ahead and Link a style sheet and say the href should be variables.scss because that's the file where my styling exists so now let me try and open up variables.html after I've linked the CSS and all right something seems not quite right I specified font sizes I specified that everything should be read but it's not showing up everything is showing up black and I don't see any of the differences in sizing and the reason for this is while the web browser things like Chrome and Safari and Firefox can understand CSS they can't by default understand scss or SAS SAS is an extension to CSS that web browsers don't understand out of the box so in order to solve this problem once we've written our SAS file we need to compile it convert it translate it so to speak from SAS into plain old CSS so that our browser is able to understand it and so you'll need in order to do this you'll need to install a program called SAS onto your computer you can install it on Mac or PC or Linux and now in the terminal in order to do this compilation I'm going to say SAS variables.scss the file I'd like to compile colon variables.css so variables.scss is the file that I would like to compile and the file I'd like to generate is variables.css I'd like to turn my SAS file into a plain old CSS file I'll go ahead and press return and to write that compilation process is now done and so now inside of variables.html instead of represent referencing the scss file I'm going to reference the CSS file as the style sheet because my web browser only understands CSS it doesn't understand SAS now when I load the page now I see the result I expect everything shows up as red and the font sizes are different so ultimately this was a twostep process I first needed to take my SAS code compile it into CSS and then I could link the CSS to this particular page but the advantage now is that if ever I want to make some sort of change I want to change the color rather than change it in two places or you might imagine in a more complex page like tens or dozens of places I just go to the scss file and I change the color from red to blue now if I refresh the page all right everything is still red and it's because I forgot a step I changed the SAS file but that doesn't automatically change the CSS file I need to now recompile the CSS file by saying SAS variables.scss variables.css to compile the file again using the updated SAS file and now I see the updated changes and if you're curious as what the updated file looks like I'm gonna actually look at variables.css to see what code happens to be there and though it's styled a little bit strangely you can see that I have a UL with a font size of 14 and a color of blue so they've substituted the word blue for this variable and they've done the same thing for ordered lists as well now in practice it's going to be pretty annoying if I'm building a web page building using SAS if I constantly need to go back and recompile my SAS into CSS every single time what I'd like to do is just automate that process and SAS makes it easy to do this I can just say SAS dash dash watch variables.scss variables.css and what that's going to do is now you see SAS is watching for changes SAS is going to monitor the variables.css file and if ever I change my SAS file SAS is going to know about it and it's automatically going to recompile the corresponding CSS file and you can do this now just with single files but entire directories as well if you have multiple different SAS files so now what I can do is if in the variables.scss file I change the color instead of blue I now want it to be green for example I now save the variables.scss file and now without doing anything take a look at my terminal SAS detected a change to variables.scss so it gave me a new version of my original CSS file if I go back to my web browser now refresh the page now all of the text is green as I would expect it to be so that's one of the very powerful features that SAS gives us it gives us the ability to add variables to our CSS code just to factor out commonalities if there are common fonts common colors common borders common styling that I want to apply to a lot of different things it becomes much easier just to use SAS in order to do so and finally we'll take a look at a couple of other features that SAS gives us the ability to do one of them is the ability to Nest CSS selectors inside of other CSS selectors so one thing you've seen so far for example is that in CSS if I wanted to style all of the unordered lists that are inside of divs for example I could say like div Arrow unordered list in order to style unordered lists that are inside of divs what CSS what SAS will do is it'll give us a bit of a nicer Syntax for doing this type of thing in particular by allowing us to Nest CSS inside of other pieces of CSS so just as an example of this I'll go ahead and open up a file I already brought called nesting.html and so here's what we might see inside of nesting.html here's the body of the page inside the body of the page I have a div inside of which is a paragraph inside the div and also a list in unordered list or UL that's inside of this div as well and then we also have a paragraph that's outside of the div and a list that's outside of the div in addition to that so A number of different elements some of which are located inside of other elements and what I'd like to do is be very precise about how I style these pages what SAS is going to allow us to do is it lets us write a SAS file that looks a little something like this let's take a look at what it's doing it's saying for the entire div I would like to give that div a font size of 18 pixels and then what CSS normally doesn't allow us to do but we can do now using the power of SAS is say for any paragraphs that are inside of that div go ahead and give those paragraphs a color of blue and for any unordered lists that are inside of the div give those unordered lists a color of green by nesting these CSS selectors inside of others we've been able to get across the idea that I only want to style the paragraph if it is inside of a div and this is just a little bit of a nicer cleaner syntax for doing some of these more complex styling tasks that might come up so what does this actually look like if I like take this scss file and turn it into normal CSS what is the result going to be well let's take a look we can try it out by let me go into my nesting folder where all these files are located and if I run SAS nesting.s CSS turn it into nesting.css now let's open up nesting.css and see what it looks like here it's turned into take all of the divs give them a font size of 18 pixels and then we're using the same descendant selector notation that we saw before where all the paragraphs inside of divs should be color blue all the unordered lists inside of a div should be colored green and this certainly works and we could have just written this CSS from the beginning but it can be a little bit cleaner a little bit easier to read to use SAS in order to really say uh paragraphs inside of divs should be structured this way unordered lists are styled in some other way and using this nesting approach just makes it often easier to take a look at this scss page and really understand how all of the different style code interacts with each other so after all of this now if I open up nesting.html we might see something that looks a little something like this the paragraph inside the div and the list inside of the div those both get changes to the way that they've been styled but unlike them these paragraphs outside of the div and the list that is also outside of the div those get styled a little bit differently so two features now we've seen inside of SAS we've first seen the ability to have variables to make sure we're not repeating ourselves in many places throughout the code and now we've seen the ability to Nest CSS selectors inside of each other by taking advantage of SAS finally we'll take a look at one last feature that SAS is going to give us and that is something called inheritance if we have certain CSS selectors that are related to other CSS selectors but that are maybe adding some additional information and in this case I'm actually going to show you the finished product first so let's go into inheritance and let me open up inheritance.html and here you see I've tried to almost Implement bootstrap style alert messages in HTML I have a success message up at the top a warning message and then an error message and each of these messages you'll notice are styled differently in particular they're each a different color but despite that they share a lot in common they share a common border they share a common font they share a common size and many other properties are all shared between these elements there are just some things that are a little bit different about them I could have written three different CSS selectors to deal with all of these cases but there might be some repetition there so here's what I can do by taking advantage of the features that SAS gives me let me go ahead and look at inheritance dot scss to look at the code for doing this and it looks a little bit cryptic at first but here's what I've defined I've here defined using a percent sign that this is what a generic message is going to be something that I can extend later to add additional information to all of the messages whether they be success messages or danger messages or warning messages they're all going to have the same font they're all going to have the same border they're all going to have the same padding and margin spacing around and outside of it but each of the specific messages are going to be slightly different how are they different well let's take a look down here anything with a class of success I'm going to say extends this message and by extends this message what I mean is that anything with a class of success is going to inherit all of these CSS properties the font the border the padding and the margin but it's going to add additional information to it in particular we're going to add a color we're going to say that for Success messages the background color is going to be green I have extended the basics of what a message is but said that this message in particular has some additional style that we're going to assign to it as well and the other two messages behave in very similar ways my warning message extends the message but instead says the background color should be orange and finally the error message also extends the message but this time gives us a background color of red instead so now when you compile this all together into inheritance.css which are compiled in advance uh this is what this is ultimately going to look like it translates what I've written into saying all right success and warning and errors should have all of these properties but success should also have this background color warning should have this background color error should have this background color so you again we could have written this CSS there's nothing that SAS does that we couldn't have written ourselves using CSS SAS will just make it a little bit easier to do many of the same things so we can write things in a little bit of a nicer syntax by saying the success message inherits from the message but adds a background color and likewise the warning and error messages do the same thing but in a simpler syntax and a bit of a nicer syntax such that later we can let the computer take the SAS code and compile it into CSS instead and so those now are some of the fundamentals of what we've seen in building web programs using HTML and CSS we've seen how we can use HTML to describe the structure of our web page deciding what's going to show up where on the page and then we looked at CSS and how CSS can then be used to style our web page in various different ways adding custom styling like colors and layouts but also thinking about things like responsive design like what happens on a mobile screen or on a tablet and making sure that our web pages look good on those screens too and then finally we took a look at SAS in extension to CSS that adds a number of additional features features like variables and nesting and inheritance that make it even easier for us to be able to write style that we can apply to our web pages from there we're going to be transitioning now to looking at how we can use HTML and CSS in larger web applications as we begin to incorporate other tools tools like Python and JavaScript and other languages and Frameworks altogether so this is web programming with python and JavaScript we'll see you next time thank you all right welcome back everyone to web programming with python and JavaScript so last time we took a look at two languages HTML and CSS both of which can be used to design web pages HTML we used in order to describe the structure of web pages to decide what content we want in the layout of the page and then CSS we use to describe the style of the page what color we wanted things how much space we wanted to run things as well today we're going to turn our attention to a tool that we can use as we begin to develop these web applications and in particular we're going to be looking at a tool called git and what git is is it is a Version Control tool not specific to web programs necessarily but that we're going to use as we begin to develop bigger and more sophisticated web applications over the course of this term so what is git going to enable us to do well it's going to do a couple of things first and foremost what git is it is a command line tool that's going to allow us to First keep track of changes that we make to code so once upon a time the first time I was starting to develop web applications I remember working on a file and then when I wanted to make changes I might have wanted to save the old version so I would duplicate the file and then just make changes to the duplicate but this quickly gets messy especially if you have lots of different versions of your code in various different stages keeping track of them just starts to become a nightmare so what git is going to enable us to do is to keep track of changes that we make to our code so we might create a file initially save that version of it but over time as we make changes add to it remove things from it we can save snapshots so to speak of various different parts of our code at different points in time such that we can quickly and easily reference all of those changes that we've made to that code additionally git is going to make it easy for us to synchronize code between different people in larger scale web applications it's rarely just one person who's working on the entire application usually you're working with a coworker or multiple coworkers all in the same application and all at the same time and one definitely tricky part of this process is figuring out how to synchronize your work between different people if I make a change on my part of the web application I want to make sure that my colleagues are also able to see those changes and get access to the latest changes that I've made and then I want to be able to get access to the latest changes that the people I'm working with have made too so we need some way to keep everything in sync and git is going to enable us to do that what we're going to effectively have is one version of the code stored in what we're going to call a repository somewhere online and both I and someone I'm working with a partner for example might both be able to get access to that exact same repository those same files in the same state and If Ever I and the other person make changes to those files we can each make changes to those files and then say synchronize them back up pushing them back up to the server so to speak so that the server will have the most recent most uptodate version of this code then after that after we've both pushed our changes up to the server then we can both pull changes from the server so to speak in order to get access to the latest version of the code so that no matter what so long as I've been working on the same project that my partner has we can use git to synchronize our work so that I have access to my colleagues most recent changes and vice versa git also enables us to do a number of other things for example git allows us to test changes to our code without removing access to the original so for example you might imagine that as I'm working on writing a program I might want to try making some changes but I'm not sure if they're quite going to work so I want to test those changes but I don't want to lose access to my original working version of the program just in case something goes wrong so what git enables us to do is it lets us make changes to code on a separate Branch so to speak such that later once we're happy and satisfied with the changes we can merge those changes back into the original version of our code being able to test those changes before we're really sure that they're the ones that we want to make and finally one powerful feature that git gives us access to is the ability to revert back to old versions of our code so you might imagine in a situation where I've been working on some code and I realized that actually what I'm doing right now isn't what I want git enables us to say you know what this most recent change isn't something that I wanted I would like to revert back to a previous version of the code instead and git makes it very easy to go back to those previous versions so the goal for today is going to be to learn how to use this tool to learn the various different git commands that will be quite popular and quite common as you go about working on web applications or really any other code related project because Version Control really allows a number of useful features that are practical as you begin to work on larger and larger projects But ultimately as we begin working on these git projects they need to be stored somewhere online such that we're able to download them from anywhere such that me and a partner can both be working on the same files in the same code and so in order to do that we need to host our git code somewhere and there are a number of different websites that can do this but one of the most popular is a website known as GitHub GitHub is a website that stores git repositories where all a repository is is you can think of it as a folder that holds a whole bunch of code and files related to our code so we're going to host this code online on a website called GitHub and then on our computer we'll be able to access these GitHub repositories and manipulate those repositories by changing the files that are within them so let's go ahead and take a look at GitHub and see how we can go ahead and create our very first GitHub repository if you don't already have a GitHub account you can create one by going to github.com and signing up for an account for free and I'll now go to github.com new github.com new is the page I go to if I want to create a new GitHub repository and so let's take a look at what I need to do in order to create a repository the first thing I need to do is give my repository a name so in this case I'm just going to call the repository hello we can give it any name you want so long as that name doesn't collide with other repository names that you already have GitHub optionally lets me provide a description for this repository I'll just say web programming with python and JavaScript and then GitHub gives me the choice do I want this to be a public repository such that anyone can see the repository not everyone can necessarily make changes to it but it's publicly available if anyone wants to download my code and try it out public means that anyone can access it or private meaning by default only I can see this repository but I can choose if I would like other people to be able to see it as well and I can select which individuals for now I'll go ahead and make this repository public and I'll go down here and click on the green create repository button in order to make this new Repository so I click the create repository button and here it is this is the github's repository page and right now you'll notice that there's a lot of instructions here but there are no files because right now when I first created my first git repository I got an empty repository with nothing in it so what I'd like to do now is somehow download this repository onto my own computer such that I can add say an HTML file that contains some HTML that I want to keep track of using git so how am I going to do that well in order to do that we're going to take a look at the very first git command that's going to be involved with Git which is known as git clone git clone is a command that we can run in order to take a repository from the internet and download it onto our own computer so you'll need to have git installed onto your computer you can install it on any Mac or PC or Linux machine and once you do what you're going to do is on your computer in the terminal you'll run git clone followed by the URL of the git repository that you're trying to download so you might imagine that here's your computer over here and up here is some server where a git repository is located GitHub for example is one such server but there are others as well and up there is the repository that potentially has files or maybe other folders with other files that contain the contents of the repository that you care about downloading so if I run git clone followed by the URL the repository I want the effect of that is that the repository and all of its contents get downloaded onto my computer such that I on my computer now have a copy of everything that was originally inside of that git Repository so now now that we know how to clone a repository let's actually try it we've just created a repository using GitHub and now let me go into my terminal and actually try to clone this repository so that I have a copy of it on my computer and I can begin to make some changes to it so I'll go into my terminal now and I'll go into my lecture one directory and the first thing that I'm going to need is I'm going to need the URL of the git repository so if I go back into GitHub what you'll notice is that it gives me an https Link in order to download my git repository so there are a couple of different ways that I can use to clone my repository of ways to authenticate myself one is using https which will eventually involve like a username and password that I'll have to type in in order to prove to get that these are my GitHub credentials alternatively familiar with SSH this is another method of authentication you can give GitHub your public SSH key in order to authenticate as well but no need to worry about that if you're not as familiar with that technology and the key here is that this URL is the GitHub URL that corresponds to my repository so I'm going to copy that URL and then inside of my terminal I'll type git clone and then I'll just paste in the URL that I would like to clone that contains that repository I'll go ahead and press return it says I'm cloning into a directory called hello and then it's saying you appear to have cloned an empty repository it's saying that's a warning but that's okay because I know that I've cloned an empty repository because the repository is brand new and now I can type the command LS in my terminal the ls command in the terminal stands for list and effectively what it's going to do is list all of the files that are currently inside of this directory all the files and folders that are inside of my lecture one directory where directory is just a fancy name for folder so I'll type LS and I see that all right I now have a folder called hello inside of my lecture one directory which I didn't have before I'll go ahead and move into this hello directory in order to change into a directory or folder you can use the CD command CD stands for change directory and so if I type CD hello I will now move myself into the hello directory and if I type LS you'll see that there's nothing inside of this hello directory right now because again this repository was empty I cloned it and there was nothing in it so now I'd like to actually put something in this repository the repository is only useful if I'm keeping track of my code and keeping track of the changes that I make to that code so I'll go ahead and actually try now to add some code to the repository the first thing I'll do is create a new file and we could create a new file just by opening up a text editor but on the terminal there's actually a command for creating a new file called touch so in the terminal I can type touch hello.html and what that's going to do is create a new file called hello.html and if I type LS I can see that indeed I do have a file called hello.html now inside of my hello directory Let Me Now open up this directory in the hello.html file inside of a text editor again I'm using vs code and let me now add just some text to hello.html on the status simple HTML page same thing we've seen before where I give it a header a title will be hello and inside the body of the page will be hello world same HTML page we've seen a number of times now and now just now inside of this Repository of course I haven't yet made any saving to this repository I haven't said that I want to save these changes to the repository and the repository isn't keeping track of every single character I write I need to tell git that this is a state of my current files that I would like to keep track of something that I would like to save and in the world of git we call those save points commits when I say I am making a commit I mean I would like to save the current state of all of the files and folders and other assets that exist inside of the repository and basically take a snapshot of their current position such that later I might be able to refer back to that but in order to do that there are actually a couple of steps so the first step we need to follow is an additional command so we saw that git clone was the command we could use in order to clone a repository take a repository and download it onto our own computer the next command we'll take a look at is a command called git add and what git add is going to do is it's going to let us tell git that I would like to add a file as one to track the next time I save the next time I make a commit to say that I would like to take a snapshot of all these files such that I'm able to refer back to them later in order to do that I need to tell git what files to keep track of so if for example I'm keep working on this file and I'd like to tell git that I'd like to track it I can run a command like git add followed by the name of the file like foo.pi or HTML or whatever file it happens to be and then git will display a message saying that all right now we have added food.pi this is now a file that will be saved the next time I make a commit so why are these two separate steps well one reason you might imagine is that if I'm working on a lot of different files say I'm working on 10 different files and there are only three that I'm happy with three that I want to save I don't want to just say save and have everything be saved in a commit I might want to say that you know what these are the only three files that I actually want to save right now and the other ones I'm still working on so git gives us that ability to have the separation to say let me explicitly say that I want to track this file the next time I save the next time I make a commit and not all of the files for example so there are shortcuts we can use if we do want to add all of the files and we'll see those in a moment as well so let's go ahead and try that we'll go back to our repository where I've created this hello.html file and now what I'd like to do is say that I would like to add the hello.html file to my git repository so inside of my terminal I'll now say again I have a hello.html file here I'll say git add followed by hello.html and you'll notice that so far nothing seems to have happened because so far I haven't yet saved anything I've just said that I would like to add hello.html as a file that the next time I say save the next time I commit my repository it is going to keep track of the changes I have now made to hello.html so how do I actually make a commit how do I actually say save the state of these files well that's going to be one more git command which is known as git commit when I say git commit I am going to tell my git repository that I would like to save a snapshot of the current state of the repository keeping track of any of the changes that have been made to files that I've added using git add and the way we run it is by running git commit followed by Dash M and then in quotation marks a message and this message is known as a commit message and what it is is it a description in English or whatever your language is of what changes you've made in this most recent commit because over time as you work on a big project you're probably going to make lots of commits as you make lots of changes to your program you'll commit and commit again after each new addition you make to the project and you might want to refer back to a previous commit but it's only valuable to do so if you can identify in which commit you made a particular change for example so by providing some English message just some note to yourself such that later you can refer back to all your commit messages and know that all right at this point in time in this Commit This is the change that I made that can just make it easier to keep track of all the changes that you've made to a particular git Repository so when you type git commit followed by Dash M you might include a message something like I added a new line for example and when you do git is going to save a new snapshot of a version of your code right now keeping track of the old version or old versions that used to exist there inside of the Repository so let's try and actually make a commit now and see how that's actually going to work so we've already added the file as by running git add to say add the hello.html file as one to keep track of but now when we're happy with it and we could make additional changes to the file if we want to I can go back into the terminal and now say git commit and then Dash m and then I can specify the commit message some English description of what it is that I did in this most recent commit and what I did was I um added the hello.html file so I'm just going to say I added the hello edited HTML file that was the change I made in this most recent commit I'll go ahead and press return and here's what it's telling me it's telling me one file has been changed with nine insertions so git keeps track of changes in terms of how many lines have been added or inserted and how many lines have been deleted or removed and in this case it's telling me there have been nine insertions to one file because previously the file didn't exist and now a file that has nine lines does exist and now I have saved hello.html to this git Repository so now you might imagine if I go back to my git repository on github's website and refresh it that maybe I'll see that hello.html file better refresh and all right nothing happened nothing changed I don't see my hello.html file and that's because there's one final step here I'm missing before my changes are going to be reflected online recall that when I ran the get clone step in order to clone the repository from GitHub GitHub had a version of the repository and Iran git clone to download a copy of that repository onto my own computer and when I ran git add to add the hello.html file or I ran git commit to say I would like to save these changes I was always making those changes only to my local version of the repository I was never affecting anything that was already on GitHub the changes I was making were only happening on my own computer if I want to push those changes up to GitHub then I'm going to need some additional commands and in fact we can see what's currently going on inside of my repository using a command called git status and what git status will do is it'll tell us what's currently happening inside of my repository so for example if I were to in this current state run the command get status then git is going to report back to me and tell me that I am currently on Branch Master more on branches later but then I'm saying my branch is ahead of origin Master by one commit so this is a longwinded way of saying that my local version of the repository the version of the repository on my computer is ahead of the origin version of the repository the version of the repository that's up on GitHub by one commit that I have one commit that the origin GitHub does not have and it's helpfully telling me I can use the command git push to publish your local commits get push is a command that I can use in order to say I would like to take my changes and actually push them up to the server push them up to GitHub so that they're reflected there so after we've checked our current status with Git status we can use the command git push to say that now whatever changes that I've made when I run git push those changes get pushed up to GitHub so GitHub has access to all of the commits that I have now made so let's try those two commands now get status to see what's currently going on inside of my repository and then get push to say I would like to now push those changes to GitHub so that the online version of the repository has the same contents as the local version on my own computer all right so in my terminal now I can run git status and I see that I'm on Branch Master same as before and it's a slightly different message because there's nothing currently inside the repository but the key here is that now I can run the command git push to say take all of the changes that I have made to my repository and go ahead and push them up to GitHub so I'll type git push and what's going to happen is it's going to compress all the information and it's going to push it up to GitHub to this URL and now if I go back to github's website github.com my repository and refresh the page I'll see that I do actually now see something different and so this is what github's user interface actually looks like it gives me a few pieces of information it's telling me for example that there's one commit currently made to the repository that's the one I just made that is on one branch so far I've only created one branch the default one but we'll see how to create more branches later and in particular down below you'll see the files that currently exist inside of this repository that right now I have this hello.html file which is the one that I pushed and in particular next to it is the commit message the message from the most recent time that I touched this file which is in particular telling me that I added the hello.html file in the most recent commit that affected hello.html and if it were not I didn't out a click on hello.html to actually see what's inside of it I would see the same content that I wrote in that file before I see doctype HTML and then the hello world page that we've seen a couple of times now so I made the change on my own computer and I've now pushed them up to GitHub so they're now inside of this repository that's now public such that anyone else if they wanted to collaborate on this project could take this URL clone it to their own computer and make their own changes locally as well and so now we can explore how we might be able to make additional changes to this web page as well so if for example I wanted to add a heading to this webpage for instance I might at the top of the body say something like in an H1 tag uh welcome to my website and now if I you know just for good measure open up hello.html see what it looks like this is what my web page now looks like and now I've made changes to my hello.html file changes that have not yet been saved and I can tell that if I run git status git status is your goto for telling you what's currently going on inside of your repository so here we see changes not staged for commit which is a fancy way of saying files that have been changed but I haven't said I would like to keep track of them in the next commit it's telling me that I've modified hello.html but it's not something that git is currently going to keep track of the next time I make a save so if I want to save hello.html when I commit for the next time then I'll first need to run gitad hello.html and then I could run git commit but there's actually a bit of a shorthand here if you want to add all of the files that have been changed and commit at the same time the shorthand is git commit Dash am remember before we just use Dash M to say specify a message Dash am means git commit all of the files that have been changed a for all and also provide a message so you can combine the get add step and get commit step into just a single step by saying I'd like to commit all of the files that I've changed and then I'll provide a message what exactly did I change I added a headache I'll go ahead and press return it's kept track of the fact that I've now changed one file with one insertion all I did was add one new line to that file and now if I run git status it's going to tell me I'm on Branch master and I am ahead of origin Master origin Master being the version on GitHub by one commit that I have this add a heading commit but right now on GitHub if I refresh this page it's still showing the old version of that page in order to take my changes that I've made on my computer and make sure they're updated on GitHub I can just run git push to say push those changes up to GitHub and once that's done I can now refresh the page on GitHub and I'll now see that GitHub now has the latest version of my program as well it now has this H1 it says welcome to my website so that's git push now the ability for me to say I would like to make the take the changes that I have made to the my repository and push them up to some remote server the remote server on GitHub for example but we can also go in the opposite way you might imagine that maybe the version that's up on GitHub is more recent than the version that I have on my computer and in that case I would like to download the latest version of the repository that currently exists on GitHub and in order to do that we can use a command called git pull how does that work well when I run gitpo what's going to happen is the opposite of what get pushed it well git push took my changes on my computer and pushed them up to GitHub git pull will say take the changes that currently exist on GitHub and go ahead and pull the most recent changes down so that I and my local version of the repository have access to the latest version of all of the code that is currently on GitHub and we can demonstrate this for example if I go back and take a look at github's website itself because on GitHub I actually have the ability to edit files using github's interface so I'm going to simulate like someone else working on this project for example maybe someone else added a second heading so they add an H2 that says hello for example and then they can provide a commit message this is sort of a graphical equivalent to the dash M and then a message that we provided before they can say added H2 and then commit so this is another way to edit a git repository is by literally adding it in editing it inside of github's interface so GitHub allows you to just edit a file and then add or modify any of the lines there so now the version on GitHub is actually different from the version that we have on our computer that if we look at hello.html here I only see the H1 and I don't see the H2 that was just added because it's a more recent commit that I don't yet have access to but if I want to download that commit then what I can say is inside my terminal I can say git pull in order to download it and all right it's updated one file it's made some changes and so now if I go back to the file you'll notice that automatically I now have the latest version of the file I now have this H2 that says hello because I've pulled the latest version of the file down from GitHub so via a combination of git push and git pull I can make changes to my code push them up to GitHub and also get access to the latest version of code that already is on GitHub but as we do this you might imagine that we could run into some sort of problem in particular we might run into a problem if I've been making changes to my code and some someone else working on my same project has also been making changes to the code what happens if we both make changes to the same part of the code and then try to sync up our work together what's going to happen well we're going to run into some sort of conflict because I've made changes to the same line that my colleague has been making changes to and that type of conflict is called a merge conflict that when trying to merge my changes with the changes that someone else has made we run into a situation where suddenly git doesn't know what to do there are two different sets of changes and we need to figure out how to resolve them and what to do when we run into this sort of conflict so here's what's going to happen if ever we run into this sort of merge conflict it's generally going to happen if I try and pull in or merge in some changes from elsewhere so let's say I run git pull but there's some conflicting commit something that is online that conflicts with my current version of the repository what I'll get is a message like this some conflict saying merge conflicts in some file have failed you need to fix the conflicts and then commit the results so what might those conflicts look like well generally the file is going to look a little something like this git is automatically going to add some metadata to the file to describe the things that it can't quite figure out and it's a lot of cryptic looking information but we can distill it down into a couple of Key Parts everything in between these arrows at the top and the equal signs here are your changes the changes I have made on my version of the repository that are somehow conflicting with some other changes everything between these equal signs and these arrows down here are the remote changes the changes from GitHub that I'm trying to pull in that somehow are conflicting with what I've currently been working on and then this sequence of numbers and characters here is the hash of the conflicting commit so every commit gets a hash just some sequence of numbers and characters that is likely to be unique that helps to identify any particular commit and git will automatically generate a hash every time you make a commit and we'll see in a moment how you can look at all of those possible commits but here git is just helpfully telling us this is the commit that is causing the conflict just for our own reference in order to address this merge conflict the way we do it is we first need to remove all of these merge conflict markers that exist in the text file and decide what we want what we want as the resolution of the conflict so maybe I want to keep my version of the changes maybe I want to keep the remote version of the changes the changes that were already on GitHub for example or maybe I want to combine them in some intelligent way I the programmer get to make that decision I get to look at my version and the conflicting version and decide how I want to resolve that conflict I'll remove any of the blank lines and then commit the changes to say this is what I want the merged version of this program to look like so let's now take a look at an example of emerge conflict in action to see how one might arise and how we might actually go going about dealing with a merge conflict should it happen so I on my computer now I'm going to make a change to this page I'm going to say add a second exclamation point one exclamation point wasn't enough I'll add in a second exclamation point to this H1 and I'll go ahead and commit those changes I'll say git commit Dash am ADD exclamation point and I'll go ahead and commit those changes I saved this new version of the program but I'm not going to push the code yet instead what I'm going to do is simulating someone else working on the same file maybe someone else on GitHub has decided you know what for this H1 what we'd really like to do is add some style to it with some inline Style by saying let's give it a color of blue for example so they've added some CSS we'll go ahead and write a commit message what did they do they added some style and we'll commit those changes and now what we've created is what is going to be a merge conflict that someone else on GitHub has made a change to this line changing the color to Blue of this particular H1 tag for example and I meanwhile have also made a change the same line adding an exclamation point and git entirely operates in terms of like adding lines and removing lines given that we both made changes to the same line git is going to have a very hard time figuring out what to do in this scenario so here in my terminal I'll go ahead and run git pull because I want to pull in those latest changes and when I do I'll see that all right I get this message conflict there was a merge conflict in hello.html the automatic merge failed because normally git will try to merge files automatically if it can but sometimes it can't so now I need to fix the conflicts and then commit the results so let's go ahead and look at what's inside of hello.html and what you'll notice is a whole bunch of these markers and my text editor just so happens to highlight them for me so that I can see them a little more clearly but this is just highlighting provided by the text editor it's not actually part of the text itself but you'll notice all of these arrows and then all of these equal signs and in between here's my version of this line of code the line of code with the extra exclamation point at the end of it down below here is the remote conflicting version of the same code the version that was modified on GitHub that I am now trying to pull in this is the version that says we want style color blue inside of the inline style for this particular H1 element and now what I need to do is somehow figure out how to merge these two together how do I want to resolve this conflict well in this particular case I might like to resolve this conflict by just taking the Best of Both Worlds if the person on GitHub wanted to add a style attribute to this H1 element and I wanted the extra exclamation point I can do both I can go ahead and just add an extra exclamation point and then get rid of my version and then also get rid of these commit markers so go ahead and remove those I basically modify the file until I'm satisfied with it until I think that all right this is the way I wanted to resolve the conflict one person added color one person added punctuation the way to resolve it in this case is just use both of them but here's where some human intuition comes in the human programmer does need to look at this file and figure out how exactly do we want to resolve this conflict how do we want to figure out how to take these different changes and merge them all together but once we're satisfied with it we can go ahead and commit the results I can say git commit Dash am fix merge conflict and all right we fix the merge conflict and now if I push those results back up to GitHub when that is done and I refresh the page I now see the updated line of code on GitHub with the H1 that has both the inline styling and the extra punctuation because I've resolved the merge conflict and then I've pushed that information back up to GitHub as well there are a couple of other git commands that are just useful to know about I mean there are many but we'll talk about a couple right now the first of which is git log git log is useful if you ever need to keep track of all of the changes that you've made to your code you want to keep track of all of the commits that have been made in this particular repository all you need to do is run the command git log and git will spit out a bunch of messages that look like this describing each of your commits for each commit it'll tell you what the commit hash is such that you can reference it more easily it'll tell you who made the commit it will tell you the date on which that commit was made and it will also tell you the commit message so if you need to very quickly look back and see you know on what day was this feature added or who added this part to the web page you can just look through the git log find the commit in question and then you'll know which commit it happened to be also helpful is if you realize that you've made a change that you didn't mean to and you want to go back to a previous commit then in that case you can use a command called get reset which has a number of different possible ways to use it but get reset in effect we'll take the current state of the repository and revert it back to an older state of the repository for example so a couple of ways you can use it are like this you can do get reset dash dash hard meaning hard reset reset everything back to and then you can plug in a commit hash so git log as you might recall from before gave you the commit hashments for each of the various different commits if I want to go back to one particular commit I can say get reset dash dash hard and then the commit message I want or the commit hash that I want to go back to and I'll go back to that commit alternatively I could say something like gitreset dash dash hard origin master and recall that origin Master is the version of my repository that's currently on GitHub so if I want to take my current version of the repository and reset it back to whatever's on GitHub then I can use a command like this in order to do so you run git reset followed by a commit hash and that will reset the current state of your repository back to whatever state it was in previously and there are a number of other git commands as well that can be quite helpful as you begin working with larger and larger project projects but these are some of the most helpful and some of the ones you'll use the most often are just adding files that you want to keep track of git commit to say I would like to make a save I would like to save the current state of all of these files push and pull to be able to upload changes and download changes that have made to been made to your repository and then some helpful commands like reset and log and status just to give you information about your repository and get you back to an older state of the repository if you need to but as we begin to work on more and more projects and especially as we begin to work on more sophisticated projects you may find that just keeping track of one change after another isn't nearly as powerful as you might like it to be and so we can explore what might happen in a hypothetical situation where you begin making some changes till we get repository for example so let's imagine you make your first commit you're making some changes you make some additional changes and maybe you realize you want to start working on a new feature to this web application that you've been working on so you start working on a new feature then you continue working on that new feature but then you realize suddenly you know what there was a bug in the original code that I made way back here and you want to go back and fix that bug but now we're sort of in a tricky spot that we want to fix the bug but we're in the middle of working on a new feature so what do we do we could go back to this and try and fix the bug but then what happens to the new feature the problem is that this structure just change after change after change is very linear it only goes one after another after another and oftentimes when you're working on a project it's not going to operate in a very linear fashion you're not always working on one thing that immediately follows the thing before it you might be fixing multiple bugs while working on multiple new features and you want some way of being able to work on all of those things simultaneously and to easily be able to switch between them and so that is where branching comes into handy branches are git's way of working on different parts of the repository at the same time and so you might imagine a situation unfolding more along these lines you make your first commit you start to make changes you make more changes and when you decide that you'd like to start working on a new feature for example rather than keep making changes in one after another after another on this same Branch so to speak I can create a new Branch I can Branch off and say you know what let's create a new branch and start working on a new feature there and then keep working on that new feature there and if I realize later on down the road that you know what there was a bug way back at this commit then I can go back to this commit and create a new Branch where I go ahead and fix that bug and now I have two different branches Each of which might have different code on it one of which I've been fixing a bug one of which I've been working on a new feature on for example generally each of those branches is going to have a name so the master branch is your default branch which is generally going to contain the uptodate stable version of your code and as you're working on newer things newer additional features you might have some feature Branch where you're working on some other feature for example and at any given time though your focus is only on one of these two branches and where your focus is what the current state of your repository is is designated by something we call the head so if head is pointing to master that means your repository right now is working on this Branch where you fix the bug but you can change the head you can switch what brands you want to look at and you can check out the feature branch and say let's look at that branch and begin working on that as well and you can begin working on these different branches by switching where your head is switching from one branch to another and then back again and only when you're satisfied that you know what this bug is fixed and this feature is in a satisfactory place then after all of that we can merge those changes back together so that everything comes back onto this unified Master branch that now has all of the latest code and that's the real power of git branching this ability to say that I would like to be working on multiple things simultaneously and be working on a feature without disrupting the master version of the code so let's now take a look at an example of how we might go about doing that so here in my hello.html file I've been adding some style to this H1 I added a color of blue and let's say that I would like to make some changes I would like to move the styling outside of inline styling and I'd instead like to move it up into the head section on my web page because we decided earlier that with slightly better design for a web page like this I could make those changes immediately but I can instead it if I expect I might be working on multiple changes I could move on to a different branch and Branch off into something else in order to work on these new changes and so here are some of the key commands to know about this if I type git branch that will tell me what branch I'm currently on and what branches exist in my repository so here for example I type git branch and I see that I just have a single branch called master and the star on the left hand side tells me that this is the branch that I am currently on the only branch that there is if I want to check out a new Branch I can type git checkout and if it's a new Branch I'll type git checkout Dash B and then the name of the new branch and I'll call the new Branch style because I'm going to be making some style changes to the web page for example so I typed git checkout Dash b style and git gives me a message I have switched to a new branch called Style and now if I type git Branch again you'll see that now I have two branches I have the master branch which is the branch I was originally on and now I have the style branch which is this new branch which I am on now as indicated by the star on the left hand side so now that I'm on this new Branch I can feel free to make any changes that I want and nothing I do is going to mess up what is on the master Branch so long as I stay on this Branch so I can say all right let's experiment with removing the style and let's add a style tag to the top where I can say that I would like my H1 to have a color of blue for example so I've made a whole bunch of changes and I would like to now commit those changes I'll say git commit move style properties that's the change that I've made but I've only made those changes to the style Branch again if I run git Branch you'll see that I'm currently on the style Branch where I've moved the style information up here to the top of my page but I can switch branches by using git checkout git checkout allows me to switch between branches we used git checkout B to create a new Branch but if you're switching to a branch that already exists I can just say git checkout Master for example to switch my current Branch from the style Branch to the master Branch so I run git checkout Master now I'm on the master branch and now you'll see if I go back to the file now I'm back to the inline styling without the styling up here in the head section of the page if I check out the style Branch again then the file immediately goes back now I have the style code up here in the style section of the page and not inline so these changes have only been made to one part of the page so now I'll check out Master again and maybe I want to make some other changes on my master Branch maybe I realize that I want to remove this extra punctuation you know what two exclamation points was too many we'll remove now we just have one and now I'll commit these changes I'll say git commit and remove punctuation and now I've removed the punctuation only from the master branch so this master Branch now has just a single exclamation point here but it still does have the inline styling so now what I'd like to do is merge in those changes that I made from the other Branch I'd like to take what I was working on in the style branch and merge it into this current version of the repository on my master branch and in order to do that the command we'll use is called git merge so git merge notice that I'm currently on the master Branch but if I run git merge and then Style that is going to take whatever's on the style branch and attempt to merge it into my current branch and what we'll find is we're able to get most of the way there but there's a merge conflict now this won't happen all the time when you merge sometimes git will be smart enough to know that if one change has been made to one part of a file and one change has been made to another part of a file when you merge those changes back together git will resolve those merge conflicts automatically but in this case that wasn't the case because both my style branch and my master Branch made changes to the same line of code and we'll see why if I go back here you'll notice that in the merged version we do see this style tag at the head of the page no problems no conflict there because that was just lines that have been added to this page so there was no conflict the conflict comes up here which is where in my version on the master Branch I remove this punctuation mark whereas in the version on the style branch which we can see here by the word style we removed the inline styling so we need to resolve these somehow and what I'll ultimately do is just get rid of these style markers or the conflict markers and say you know what I would like for the updated version not to have either not to have the inline styling and not to have the additional punctuation so I have now made those changes I have resolved the merge conflict and now I can commit I fixed the merge conflicts and that's the general workflow now of how branching in git ultimately works when you're working on something new you might Branch off in order to say you would like to work on a different part of this web application you'll make changes make commits add changes to that new branch and when you're satisfied with those changes when they're in the state that you want them to be you can then say merge them back in to the original version of the repository sometimes you'll have to deal with merge conflicts though certainly not always and if you're careful about where you make changes and trying to be careful not to make modifications to the same line of code in two different places you can reduce the likelihood of actually getting emerge conflict because git ultimately is quite smart about how it tries to deal with these sorts of issues and finally we'll take a look at a couple of features of GitHub specifically that can be quite helpful if you begin to work on larger projects that have many different moving pieces the first of which is forking a GitHub repository so let's go to a GitHub repository and look at the GitHub repository for bootstrap for example so bootstrap which is the CSS library that we took a look at last time is a library that gives us the easy access to a whole bunch of different CSS features and the entire thing is open source meaning all of the code for bootstrap is publicly available for anyone to look at and more importantly for anyone to contribute to that it's not just one person that's been working on all of bootstrap but it's a Community Driven repository that many people can be working on adding new features and making fixes to bootstraps code and collaborating on them by taking advantage of the features of git and so if you find a git repository that you would like to contribute to or if you want other people to be able to contribute to your repository one thing you can do is Fork that repository and by forking we mean making your own copy of the original repository and so up here in the upper right hand corner of github's page is a button called fork and we can see that right now about 68 000 people have already forked bootstraps repository made a copy of the repository into their own GitHub account and so we could Fork it ourselves just by clicking on this button called Fork and then getting our own version of the repository that we can then clone and push and pull from as well the reason we might do that is that bootstraps repository while it is public doesn't allow anyone to just push to it that would be probably unsafe if anyone in the world could just update bootstrap's master code but what you can do is copy the code make a fork of it make changes to it on your own push and pull to it and then when you feel like you've made a contribution that you would like to send back to bootstrap you can open What's called a pull request that you are requesting that your code be pulled in to bootstraps code and we can look for example at bootstrap's pull request tab it looks like right now there are 71 open pull requests there are 71 people that have made some fixes or made some changes to bootstraps code and you can submit a pull request to say that you would like to take those changes and merge them back in with bootstrap's actual code and the people that maintain bootstraps code in this particular repository can review those pull requests provide feedback ask for additional changes and then when everyone's satisfied they can merge those changes into bootstrap's actual code and this is one of the key benefits of Open Source software the ability for multiple people to be working on the same piece of code and for a community to be able to collaborate on finding bugs on figuring out what changes to make on figuring out how to improve upon an existing repository and make it better moving forward and one final thing worth noting about GitHub is an additional feature known as GitHub Pages GitHub pages is a free way that GitHub provides to be able to quickly take a website with HTML and CSS and maybe even a little bit of JavaScript and deploy it to the internet for anyone to look at and anyone with a GitHub account is allowed to create a GitHub Pages website for free and in order to do so we can demonstrate it now all you need to do in GitHub is let's create a new Repository that we'll call it should generally be your username.github dot IO is the conventional name for your GitHub Pages site though it can have other names you'll just have to manually turn on GitHub pages and we'll go ahead and create this repository now if you create a GitHub repository called your username.github.io it will automatically be supporting GitHub pages and what that means is that I can take this URL and I can clone it so I can say git clone followed by this URL I've cloned an empty repository but I can go into this Repository and add some files to it I can say let's add by default it's called an index.html file and I'll create an HTML file that is my site and the body of it will just say this is my GitHub pages website so something like this something simple but it can certainly be more complex if you want it to be inside my terminal I will git add this index.html file and I'll make a commit and often a first commit you'll just in the commit message right first commit so that we know it was the first commit and then I'll push those changes to GitHub now so if you push your changes to a repository called your username.github.io then if you take a look at the settings and scroll down you'll see that GitHub pages is by default uh ready to be published and now if I click on this URL my username.github.io you'll see deployed to the internet such that anyone can go to this URL and see it they'll see a big heading that says this is my GitHub Pages website because this is the way the browser is rendering the HTML that I pushed to my GitHub Pages repository and the advantage of doing this is that it's very easy now to be able to quickly update my website all I need to do is if I make a new change I can commit that change push that change to GitHub and when GitHub detects that I've made a push to my GitHub Pages repository then it will update my website that anyone in the world can access by going to myusername.github.io and this allows you to leverage all of these features of git the ability to Branch the ability to work on different features of your web page at different times and revert back to different versions of the code as well so all in all git has given us a number of very powerful tools it's given us the ability now to be able to very quickly and very easily keep track of any changes we make to code keep track of when a piece of code is updated and to quickly revert back and look at old versions of that code if need beam and in particular it's given us the ability to take our code and work together with other people on it such that we can be working on multiple parts of the same project and someone else working on the same project can also be working on multiple parts of the same project on different branches and is very easy then to sync up our changes in order to work together and so git is a very popular tool used not only in the world of web programming but especially whenever dealing with any kind of larger project where multiple people might be working on the same thing simultaneously git will enable us to more easily develop our web applications over the course of this term next time we'll take a look at python which is one of the first programming languages that we'll use as we continue on our journey towards building more sophisticated web applications I'll see you then thank you all right welcome back everyone to web programming with python and JavaScript and today we take a look at one of the two main languages we're going to be looking at in this course in particular we're going to be looking at python pi very powerful language that makes it very easy to build applications quickly because there are a lot of features that are built into the language that just make it convenient for quick and productive development so one of the goals of today is to introduce you to the Python programming language if you haven't seen it before and even if you have seen it before to give you a taste for what the language has to offer exploring some of the more advanced features and some of the techniques we can use using python to be able to develop applications all the more effectively so we begin with our very first Python program just a program that says hello world we're going to be writing it in a text file and the program just looks like a single line just like this and if you've used other programming languages before like C or Java or other languages this probably looks pretty familiar syntax wise but just to break it down we have a function called print built into the Python programming language for us and like many other programming languages functions in Python take their arguments inside of parentheses so inside of these parentheses are the argument or the input to the print function which in this case is just the words hello world followed by an exclamation point so here's how we can actually take this program and run it I'm going to go into my text editor and create a new file that I'll call hello.py.py or dot Pi is the conventional extension for python programs so I'll create a file called hello.pi inside of which will just be the python code that we just saw a moment ago we'll call the print function and as an argument or the input to the print function I'll say hello world exclamation point now in order to run this program we're going to use a program in our terminal that also just so happens to be called python python is what you might call an interpreted language meaning we're going to run a program called python which is an interpreter that is going to read our DOT Pi file line by line executing each line and interpreting what it is that it means in a way that the computer can actually understand so we'll run python followed by the name of the program that we'd like to interpret in this case hello.pi and when we run this program we see that the words hello world are printed to the terminal and that's it that's the end of the program and that's the very first program that we've written using the Python programming language so now already we've seen a couple of features of python the ability to interpret python there's no need to compile it into a binary first in order to run a Python program we've seen functions and we've also seen strings just text that we can provide in quotation marks that we can provide as input to other functions or manipulate in other ways and we'll see some examples of string manipulation a little bit later like many other programming languages python also supports variables and in order to assign a new value to a variable the syntax looks a little something like this if I have a line like a equals 28 what that's going to mean is take the value 28 and assign it store it inside of this variable called a now unlike other languages like C or Java which you might be familiar with where you have to specify the type of every variable you create I have to say like int a to mean a is an integer python doesn't require you to tell you what the types of each of these variables actually are so we can just say a equals 28 and python knows that because this number is an INT that it's going to represent the variable a as an INT and it knows it's able to infer what the types of any of these values happen to be so all the values do indeed have types you just don't explicitly need to State them so for example this here the number 28 is of type int it's an integer a number like 1.5 has a decimal in it it's a floating Point number so that in Python is what we might call a float type any type of text something like the word hello wrapped in either double quotation marks or single quotation marks python supports both is what we would call the stir type short for string we also have a type for Boolean values things that can be either true or false in Python those are represented using a capital T true and a capital false those are of type Bool and also we have a special type in Python called the none type which only has one possible value this capital N none and none as a value we'll use whenever we want to represent the lack of a value somewhere so if we have a function that is not returning anything it is really returning none effectively and so you might imagine that none can be useful if ever you want a variable to represent the absence of something for example so lots of different possible types and there are more types than just this but here's a sampling of the possible variables and types that might exist inside of this language so now let's try and actually use a variable in order to do something a little bit more interesting inside of our program and we'll write a program that's able to take input from the user in order to say hello to them for example so I'll create a new file we'll call it name dot pi and to start I'd like to prompt the user for input I'd like to prompt the user to for example type in their name so how might we do that well just as there is a print function that is built into python that just prints out whatever the argument happens to be python also has a builtin function called input that prompts the user for input and asks them to just type in some input so let's provide some input and ask the user to type in their name for example and then we can save the result the output of that function inside of a variable and in this case I'll save it inside of a variable that in this case also just happens to be called name now we can run the program I can run the program by going into my terminal and typing python name.pi I'll press return and we'll see the program prompts me to type in my name I see Name colon space which is that string I provided as the argument to the input function and this now prompts me to type in my name so I will and after that nothing seems to happen so far so now I'd like to do something with that input I typed in my name I'd like to say like hello for example to myself so I'll go back into this program and now what I can do is I can say print hello comma and then I can say plus name this plus operator in Python does a number of different things if I have two numbers it'll add those two numbers together but with two strings plus can actually concatenate or combine two strings together so I can combine hello comma space with whatever the value of name happens to be so now I'll rerun this program python name dot pi type in my name and now we see Hello Brian as the output of the program so this is one way that you can manipulate strings in Python another way that's quite popular in later versions of Python 3 is a method known as using F strings short for formatted strings and in order to use f strings in Python it's going to be a similar but slightly different syntax instead of just having a string in double quotation marks we'll put the letter F before the string and inside of the string I can now say hello comma and then if in a formatted string if I want to plug in the value of a variable I can do so by specifying it in curly braces so what I'll say here is inside of curly braces name and so what's going on here is I am telling this formatted string to substitute right here the value of a variable so I prompted the user for input to type in their name we took their name saved it inside of this variable called name and now here in this print statement on line two I'm printing out a formatted string that is hello comma and then in curly braces here I'm saying Plug In the value of the variable name and so that is going to have the effect of taking whatever name was provided as input and printing it out and this is a slightly more efficient way of being able to quickly create strings as by plugging in values into those strings so now I'll see the exact same behavior if I run python name dot pi then prompted to type in my name something like Brian and then I see the result hello Brian for example and so those are a couple of ways that we can deal with strings manipulating strings and combining strings using this technique so in addition to variables python also supports all the same other features that are core to many procedural programming languages such as conditions for example so let's take a look at an example now of seeing whether a number is positive or negative or zero for example so I'll create a new file then I'll call conditions.pi and inside of conditions.pi I'll first prompt the user to type in some input I'll say input number to mean you know type in a number and we'll save that input inside of a variable that I'm just going to call n and now I can ask questions I can say something like if n is greater than zero then print and is positive and so what's going on here is I have a python condition and the way a python condition works is it begins with this keyword a keyword like if followed by a Boolean expression some expression that's going to evaluate to true or false or something kind of like true or false we can be a little bit loose about that as we may see later and then a colon means all right here is the beginning of the body of the if statement and in Python the way we know that we're inside the body of an if statement or inside the body of any other block of code is via indentation so in some languages like C or in languages like HTML which we saw a couple of lectures ago the indentation isn't strictly required by the computer to be able to parse and understand what's inside the program in Python it's different the indentation is required because the indentation is how the program knows what code is inside of the if statement and what code is outside of the if statement so we have if n is greater than zero colon and then everything indented underneath the f is all of the body of the if statement it is the lines of code that we'll execute if this condition this Boolean expression n greater than zero happens to be true so if n is greater than zero we'll print out n is positive and then we can add an additional condition I can say something like well I could say something like else print n is not positive but I can be a little bit more specific than that here is sort of two branches one if n is greater than zero and one else case to handle all of the other possible scenarios but really what I'd like to do is perform a second check in other languages this might be called an else if like if this condition is not true but this other condition is true python abbreviates this to just L if elif just short for else if so I can say l if n is less than zero then let's go ahead and print out n is negative and else print n is zero so the idea here now is that if n is greater than zero we perform some task L if in other words if it's not greater than zero then we check to see if it is less than zero in which case we print out that n is negative else if neither of those two conditions are true it's not positive and it's not negative the only remaining possibility is that n is 0 so we can print out that n is zero and so we might like for this program to work but watch what happens if I now try and run conditions.pi even though logically in our heads and looking at it now it probably seems pretty logical if I run pythonconditions.pi and type in a number I'll type in the number five for example we'll just see what happens all right something weird just happened and this is our very first python exception an error that happens because something didn't quite go right inside of our Python program and over time you'll begin to learn how to parse this exception and understand what it means and where to begin to debug but learning how to read these exceptions and figure out how to deal with them is definitely a very valuable skill on your way to becoming a python developer and so let's see if we can figure out what this exception is saying oftentimes I start by looking at the bottom I see that there is a type error that is the type of the exception that has happened there are a lot of exceptions that can go wrong in Python things that we can do that cause errors in this case it's a type error which generally means that there's some mismatch of types that python expected something to be of one type but it turned out to be a different type so let's try and understand what this might be where it says greater than sign not supported between instances of stir short for string and int so what does that mean well I guess it means that the greater than symbol that checks if one thing is greater than another doesn't work if you're comparing a string to an integer and that's probably pretty reasonable it doesn't really make sense to say a string is greater than or less than an integer when we're talking about greater than or less than usually we're talking about numbers so they should both be integers for example so why do we think that greater than is comparing a string and an integer well now we can look a little bit further up at the traceback which will show which parts of the code are really causing this problem and in this case the traceback is pretty short it's just pointing me to a single line of a single file it's saying in the file conditions.pi on line three here is the line that triggered the exception if n is greater than zero so what's the exception here well zero is obviously an integer because that just is an integer and so if greater than thinks that it's comparing a string with an integer then n somehow must be a string even though I typed in the number five it must still think N is a string so why might that be let's take a look at the code again and see if we can figure out what's going on well it seems that this input function doesn't care what you type in it's always going to give you back a string n somehow is ending up as a string which is pretty reasonable because the input function has no idea whether I typed in a number or whether I typed in a letter or I typed in other characters altogether so input doesn't know to give back its data in the form of an INT or in the form of a float or in any other form so by default it's just going to return a string what characters did the user type in as their input so what I'd like to do now in order to make this program work the way I wanted to is take this and convert it into an integer cast it into an integer so to speak and the way that I can do that is by using a function in Python called int that takes anything and turns it into an integer so here I can say int and then as the argument to the int function the input to the end function I'm just going to include this whole expression input number so I'm going to ask the user to input a number they type in some text the input function gives me back a string and that string is going to serve as the input to the int function which then gets saved inside of this variable called n so now that we know that n is indeed an integer let's try and run this program again I'll go back into the terminal run python conditions.pi I'm asked to type in a number I type in a number like five and all right that still doesn't seem to have worked and it didn't work because I didn't save the file so I'll go ahead and save the file try it again type in a number and now we see that indeed n is positive we get no more exception we were able to run the code successfully and see that the value of n is positive and I could try this again to test the other conditional branches type in negative one for example to see that n is negative and otherwise if it isn't either positive or negative then we know that n is zero and so here was our first exposure to conditions in Python the ability to have multiple different branches and do different code depending on some expression that we're going to evaluate to either be a true expression or a false expression all right so let's take a look at some of the other features that are going to be present inside the Python language and one of the most powerful features of python are its various different types of sequences data types that store values in some sort of sequence or some collection of values altogether so I'll go ahead and create a new file that we'll call sequences.pi and there are a number of different types of sequences that all obey similar properties um but one of the types of sequences is a type we've already seen which is just a string for example so if I have a name and the name is something like Harry for instance and this sequence allows me to access individual elements inside of the sequence and in order to do so it's much like an array in other languages if you've experienced them before but I can print out name square bracket zero this square bracket notation takes a sequence some ordered sequence of elements and gets me access to one particular element inside of that sequence and so if I have a string like name and I say name square bracket zero the effect of that is going to be take this long sequence and get me the zeroth element in many programming languages and in programming more generally we often start counting things at zero so the very first item in the sequence is item zero the second item is item one so it's easy to get slight off by one errors there but just know that item zero of the name should be the first character in the name and I can see that for sure if I run python I'll save this file run python sequences dot pi and what I get is just the first character of Harry's name which in this case is the letter H if I instead asked to print out character one which will be the second character in the name if I rerun the program now I get the letter A and this type of indexing works for many different types of sequences not just a string which so happens to be a sequence of characters but other types as well python for example has a type for lists of data so if I have a sequence of any type of data that I want to store I can store that information inside of a list in Python so maybe instead of storing one name I have multiple names that I want to store so I want to store names like Harry and Ron and Hermione for example so now I have three names all stored in a sequence inside of a python list and I can you know I can print out all of the names for example just to print out all of the names to see what the value of the variable names is equal to and we'll see that when I do that I get a printout of the contents of that list Harry Ron Hermione in that particular order but you could also much as you could index into a string index into a list to say get me just the very first item inside of this names list which in this case when I run the program is going to just be hairy so there are a number of different sequence types you can use in order to represent data another one just so happens to be called a tuple and a tuple is often used if you have a couple of values that aren't going to change but you need to store a pair of values like two values together or three values together or something like it you might imagine that if you're writing a program to deal with graphing in two dimensions for example you might want to represent a point as an x value and a y value and you could create two variables for it I could say you know let me just say a coordinate X is going to be equal to 10.0 and coordinate Y is equal to 20.0 but now I'm creating two variables for what's really one unit that just so happens to have two parts and so to represent this we can use a tuple in Python and just say something like coordinate equals 10.0 comma 20.0 so whereas in lists we use square brackets to denote where the list begins and where the list ends in a tuple we just use parentheses to say we're grouping a number of values together we're grouping one value 10.0 with a second value 20.0 and now we can pass around these two values as a single unit just by referencing them using a single name which in this case is coordinate so there are a number of different types of these various different sequences and some of those sequences we'll take a look at are these data structures here so list for example is a sequence of mutable values which we took a look at and mutable just meaning we can change the elements in the list if I have a list I can add something to the end of the list I can delete something from the list I can modify the values inside the list a tuple on the other hand is a sequence of immutable values those values can't change you can't add another element to the existing Tuple you'd have to create a new Tuple in order to do so and there are other data structures that exist as well a couple that we'll take a look at in a moment include sets which are a collection of unique values so if you're familiar with sets from the world of mathematics it's a very similar idea that whereas a list in a tuple keeps things in a particular order a set does not keep things in any particular order it's just a collection and in particular all of the values need to be unique in a list or inner Tuple you might have the same value appearing multiple times in a set every value appears exactly once and there are some advantages to set some ways that you can make your programs more efficient by using sets if you know that you just need a collection if you don't care about the order if something is only going to show up exactly once at most then you can use a set to potentially make your programs a little more efficient and a little more elegantly designed and finally one other data structure that's quite powerful and it's going to come up a number of times during this course is a dictionary in Python shortened to just addict which is the collection of what we're going to call key value Pairs and the way I like to think of this is with an actual physical dictionary that you might find at a library that Maps words to their definitions in a physical dictionary you open up the dictionary and you look up a word and you get the definition an addict in Python is going to be very similar it's going to be a data structure where I can look something up by one keyword or one value and get some other value as a result we call the thing that I'm looking up the key and we call what I get when I do the looking up the value so we keep pairs of keys and values in the case of an actual dictionary in the real world the key is the word that we want to look up and the value is its definition but we can use this more generally in Python any time we want to map something to some other value such that we can very easily look up that value inside of this data structure so we'll see examples of dictionaries as well so let's now explore the first of these data structures these lists to explore what we can do by taking advantage of the features that are given to us by a python list for example so we'll go ahead and create a new program that I'll call lists.pi and here I'm just going to create a list of names so names equals Harry Ron Hermione and Jenny for example and as I start to write multiple lines of code especially as my python programs start getting longer it can be a good idea to document what it is that I'm doing so I can say let me add a comment to this particular line of code just so I know what it is that I've done in this line of code and in Python there are a couple of different ways to create a comment but the simplest way is just to use the pound sign or the hashtag as soon as you include that everything after that for the remainder of the line is a comment The Interpreter is going to ignore that comment if you can say whatever you want it's more for you the programmer and for someone who's reading your program to be able to look at the program understand what it's saying and figure out what they need to do about it so I can just say Define a list of names for example just to make it clear to me what it is that I have done inside of this line of code so I can print out that list of names as we've done before and we'll see that when I print out that list of names what I get is oh let me run list up I what I get is this list Harry Ron Hermione and Jenny but I could also print out as we've seen before just the first of those names say you know print out just name square bracket zero in which case I'm going to get just Harry for example but now recall that a list is mutable I can modify the elements that happen to exist inside of this list so I could say names dot append a new name something like Draco for example and so lists have a number of builtin methods or functions which are functions that I can run on an existing list to access particular elements of the list or to modify the list in particular ways and in the case of a list the append method is a method or function that I can run that just adds a value to the end of an existing list so I've added Draco to the list and there are a number of other methods that I can use on lists one of which is for example sorting a list no need to write your own sorting algorithm in order to sort a sequence of objects in Python there is a builtin sort method that works on lists where I can just say names dot sort that will automatically sort everything in the list and now if I print out all of those names go ahead and print them out and get rid of this old print statement now we see that we get five names that are printed out because I had four elements originally in this list but then I added a fifth one and notice now that they are actually in alphabetical order starting with Draco ending with Ron because I was able to sort the list by modifying the order in which those elements actually show up and so lists can definitely be quite powerful anytime you need to store elements in order a list is definitely a useful tool that python gives to you if you don't care about the order of the elements though and if you know that all the elements are going to be unique then you can use a set which is another python data structure that works in similar ways the syntax is slightly different so let's do an example with those I'll create a new file call it sets dot pi and let me first create an empty set and we can do that by just saying s equals s is going to be the variable that will store my set and I'll say set and then parentheses that will just create an empty set that just so happens to have nothing inside of it now we'll add some elements to the set so I can say s dot add let's add the number one to the set let's add the number two let's add the number three and let's add the number four and then we can print out the set to see what happens to be inside the set right now now when I run this program uh python sets dot pi we see that inside the set are four values one two three and four they happen to be in order but sets are not naturally ordered they're not going to always keep track of what the order is going to be but I could add for example if I add 3 again to the set now I've added 3 to the set twice I added one two three four and then three again when I print out the contents of the set it still just contains the elements one two three four no element ever appears twice in the set following with the mathematical definition of a set where no element ever appears more than once inside of a set you can also remove elements from sets as well so if I wanted to remove the number two from the set for example I could say s dot remove two and then print out s to say print out whatever happens to be inside of that set now and now when I rerun this program I only get one three and four because I removed two from the set so sets allow you to add to them remove from them and also all sequences whether they Be Strings or lists or sets allow you to get how many elements are in the set by taking advantage of a function built into python called Len so Len will give you the length of a sequence so the number of items inside of a list or the number of characters inside of a string or the number of elements inside of a set and so if I wanted to print out how many elements are in the set I might do something like this in a formatted string say the set has some number of elements and how do I know how many elements well again inside of these curly braces I can include any expression in Python that I would like to substitute into this string so how many elements are in the set I can get that by calculating Len of s so what I've done here is I've said with lenovs I would like to calculate the length of the set s in other words how many elements are actually inside of that set and then using this curly brace notation I'm saying take that number and plug it into this string so we can see the set has some number of elements for example so now if I run this program pythoncepts.pi I see that I get these three elements that happen to be inside of the set right now which is one and then three and then four and then it tells me that the set has three elements inside of it which is the number of elements that are in the set right now so now we've seen a number of different language features inside of python we've seen variables we've seen conditions so that we can conditionally do things if something is true if something else is true and we've seen some of the data structures that are core to the way python Works lists and sets and tuples and other data structures can be helpful too and now let's take a look at another feature of the Python programming language common to many programming languages the idea of looping if I want to be able to do something multiple times I'll go ahead and create a new file called Loops dot pi and let's just create a simple Loop the simplest Loop we could create in Python is just one that's going to count a bunch of numbers so in order to do that what I could say is something like this for I in one two three four five or maybe I want to count zero one two three four five just to start counting at zero print I and so here is the basic Syntax for a python Loop and here's what seems to be going on over here on the very first line I have a python list as denoted by those square brackets that contains six numbers zero one two three four five and now I have a for Loop for I in this list and the way python interprets this is to say go through this list one element at a time and for each element call that element I we could have called it anything but in this case I is just a conventional choice for a number that keeps incrementing and we're going to print out now the value of I for each iteration of this Loop so we can try this out now and run python loops.pi we see one zero one two three four five great it printed out all of the numbers from zero to five one at a time in practice though if we wanted to count all the way up to five or for print six numbers for example this is fine for now but if we wanted to print like 100 numbers or a thousand numbers this is going to start to get tedious so python has a builtin function called range where I can say for I in range 6 to achieve exactly the same thing range six means get me a range of six numbers so if we start at zero it's going to go from zero all the way up to five and then we can print out each one of the elements inside of that sequence so if I rerun python loops.pi we get 0 1 2 3 4 5. so Loops enable us to Loop over any type of sequence so if the sequence is a list I can say something like if I have a list of names like Harry and Ron and Hermione and this is my list of names I can have a loop that says that for each name in my list of names let's print out that name for example so we have a list the list is called names We're looping over it one element at a time and printing it out now if I run the program I see three names printed one on each line and you can do this for other sequences as well maybe I have just a single name that is called Harry and now I could have a line that says you know for every character in that name print the character if the name is is the sequence is a sequence of individual characters because it's a string then when I Loop over that string I'll be looping over each individual character in that string so I can run the program and see one on each line each of the letters that just so happens to be inside of Harry's name so now we've seen conditions we've seen loops and we've seen a number of different data structures we've seen lists and sets as well as tuples the last important data structure that we're going to be taking a look at are python dictionaries which as you'll recall are some mapping of keys to values if I want to be able to look something up I can use a python dictionary just as a data structure to be able to store these sorts of values so I'll create a new file called dictionarys.pi and maybe I want to create a dictionary that is going to keep track of say what house each of the students at Hogwarts happen to be in so I might have a dictionary called houses and the way we specify a dictionary is by specifying a key colon of value when we're defining a dictionary for the first time so I might say Harry colon Gryffindor and then Draco colon Slytherin for example and so what this line of code is doing is it is creating a new dictionary this dictionary is called houses and inside this dictionary I have two keys two things that I can look up I can look up Harry or I can look up Draco and when I look up those keys I get the value that follows their colon so after Harry if I look up Harry I get Gryffindor if I look up Draco I get Slytherin for example so now if I wanted to print out what house Harry is in I can print out houses square brackets Harry so I can here say I would like to print out take the houses dictionary and the square bracket notation is how I look something up inside of a dictionary it's similar to how we use square brackets to look up a specific element inside of a list to say like get me element 0 or element one in this case we're using a python dictionary to say take the houses dictionary and look up Harry's value which hopefully should be Gryffindor and we'll see that if we look up run python dictionaries.pi we do get Gryffindor as the value of Harry's house we can add things to this dictionary as well using the same syntax in the same way that I use square brackets to access the value inside of a dictionary if I want to change the value in a dictionary or add something new to it I could say houses and Hermione and say that Hermione is also in Gryffindor for example and so this line of code here says take the House's dictionary and look up Hermione in houses dictionary and when you do that should be set equal to this value here Gryffindor so we took that value and we are going to assign it to Hermione inside of the dictionary such that now if we wanted to we could print out Hermione's house as well run the program and see that Hermione is also in Gryffindor so anytime we want to be able to map some value to some other value whether we're mapping people to what house they happen to be in or we're mapping users to some information about those users inside of our web application dictionaries are going to be very very powerful tools for us to be able to do that the next Python language feature we'll take a look at are functions in Python that are going to be some way for us to write our own functions that take an input and produce some output we've already seen a number of different functions that already exist in Python we've seen the input function that takes an input from the user we've seen the print function that takes some text or some other information and prints it to the screen but if we want to Define our own functions we can do so as well so here I'll go ahead and write a new program called functions.pi and let's write a function that takes a number and squares it so the square of 10 is 10 times 10 or 100 I would like a function that very easily takes a number and returns its Square the way I Define a function in Python is using the def keyword def short for Define and here I can say let me Define a function called Square and then in parentheses what inputs it takes in this case Square just takes a single input then I'm going to call X but if there were multiple inputs I could separate them with commas like XYZ for a function that took three inputs for example but in this case there's just a single input X and the square function could have any logic in it indented underneath the square function but ultimately this function is fairly simple all it's going to do is return x times x x multiplied by itself and now if I want to print out a whole bunch of squares of numbers I can do so I can say for I in range let's say 10. let's print out that the square of I is Square I so let's try and parse out what's going on here line four says for I in range 10 do some Loop 10 times looping from 0 all the way up to nine and for each time we loop we're going to print something out we're going to print out the square of plug in the value of I here is plug in the value of calling our Square function using I as input so that is going to have the result of running this Loop 10 times and printing out this line 10 different times each with a different value of I so I can run pythonfunctions.pi and here's what I see the square of zero is zero square of one is one two is four so on and so forth all the way up to the square of 9 is 81. so we've now written a function and been able to use it but ideally when we write functions we'd like to not just be able to use them in the same file but for others to be able to use them as well and so how can we do that well in order to do that you can import functions from other python modules or files so to speak so let me create a new file called squares.pi for example so that instead of running this Loop here let's instead run this Loop in squares dot Pi again separating out different parts of my code I have one file that defines the square function inside of functions.pi and then another file called squares.pi where I'm actually calling the square function now if I try to run python squares.pi you'll notice I'll run into an error here's another error you'll see quite frequently it's a name error another type of exception which here says the name square is not defined meaning I'm trying to use a variable or a function name or something else that doesn't actually have a definition I've never said what square is and that's because by default python files don't know about each other if I want to use a function that was defined inside of another file I need to import it from that file and I can do so like so I can say from functions import Square functions was the name of this file functions.pi and I'm saying from that python module I would like to import the square function as a function that I would like to use now I can run python squares.pi and we get the output that we expect no more exception I've now been able to import something from another module and access it this way so this is one way to import to literally say from functions import a square function import a particular name that is defined inside a functions.pi another way I could have done this is just to say import functions just import that whole module but then I would need to say instead of just Square I would need to say functions.square to mean go inside the functions module and get the square function and run that function and this would operate in exactly the same way so a couple of different options I either import the entire module in which case I use this dot notation to say access a particular part of that module or I say from functions and import Square to just import the name square into this file entirely so that I can just use the word square whenever I want to and this works not just for modules that we have written but also python comes with a number of builtin modules if you want to write programs that interact with CSV files which are a spreadsheet file format I can import Python's builtin CSV module to get access to a whole bunch of CSV related features there are a whole bunch of math related features you can get by importing the math module so on and so forth and there are additional python modules and packages that you can install that other people have written and then you just import them when the time comes and next time as we take a look at Django this is one of the techniques that we're going to be looking at is using functions that have been written by people that are not ourselves so that now is modules and how we can use modules to be able to import functions in order to allow for certain behavior and this is one way that we can program using the Python programming language but another key technique that python supports that are supported by a number of other programming languages as well is an idea of objectoriented programming a special type of programming or a programming Paradigm so to speak which is a way of thinking about the way that we write programs and an object oriented programming we think about the world in terms of objects where objects might store information store some data inside of them and also support the ability to perform types of operations some sort of actions or methods or functions as we might call them that can operate on those objects so now we're going to take a look at some of the objectoriented capacities that the Python programming language is going to give us the ability to have so python comes with a number of builtin types it has types for lists such as types for sets and so on and so forth let's imagine though that we want to create a new type in Python some way of representing other types of data for example twodimensional points things we've talked about before something that has an x value and a y value now as we've already discussed you could do this using a tuple just using one number comma another number but we could create an entire class of objects to be able to represent this data structure as well and so that's what we'll take a look at now is how to create a class in Python so I'll create a new file called classes dot pi and all a class is is you can think of a class as a template for a type of object we are going to define a new class called point and then after we've defined what a point is we will be able to create other points we'll be able to create points to store X and Y values for example and so what do we need in order to create a class well we need some way to say that when I create a point what should happen and in Python this is defined using a what's called a magic method called underscore underscore init and underscore underscore init is a method or function that is going to automatically be called every time that I try to create a new point and this function takes a couple of arguments all functions that operate on objects themselves otherwise known as methods are going to take the first argument called self and this argument self represents the object in question and this is going to be important because we don't just want a single variable called X to store the points x coordinate or a single variable called y to store the y coordinate because two different points might have different X and different y values and we want to be able to store those separately and we're going to store them inside of the object itself so this variable self references the object that we are currently dealing with and it might change depending on which point we happen to be interacting with at any given time what other inputs does a point need well a point also needs an x value and a y value so when we create a point we're going to provide to that point in x value and a y value now what do we need to do in order to store all this data inside of the point well recalled itself is representing the point itself and so if we want to store data inside of that point allow the point to store its own X and Y values then we just we need to store that data inside of the self so to speak and in order to do that we can use this dot notation to say self dot X is equal to whatever this input X happens to be and self dot Y is equal to whatever this argument y happens to be and these values X and Y they could be called anything they could just be called like input 1 and input 2 for example and then you would just reflect them here the important thing is that these two input values are being stored inside of the point itself in properties that we're going to call X and Y all right so that was a little bit abstract but now let's see how we could actually use this if I want to create a new Point called P I can say p equals point and then the selfargument is going to be provided automatically I don't need to worry about that but I do need to provide input 1 and input 2 the x value and the Y value so I'll go ahead and provide an x value of 2 and a y value of 8 for example so now I've created this point and now that I have a point I can print out information about the point I can print out the x value of the point and I can print out the Y value of the point again I'm using this dot notation to say go into the point and access data that is stored inside of that point access its x value and excess its y value so now when I run this program pythonclasses.pi what I get is 2 on the first line that is the x value and then 8 on the SEC or eight on the second line that is the Y value so what we have here is a function called init that creates a point by storing the two inputs inside of the object inside of a property called X and a property called y such that later I can create a point which calls this init function implicitly and after we've created the point I can access the data inside of it I can say print out whatever P dot X is equal to print out whatever P dot Y is equal to as well so that was a fairly simple example of creating a class just creating a class for representing a point in X and A Y value let's look at a more interesting example let's imagine that we're trying to write a program for an airline where the airline needs to keep track of booking passengers on a flight and making sure that no flight gets overbooked we don't want more passengers on the flight then there is capacity on that flight so let's define a new class that we're going to call flight and this time the init method is just going to take a single argument other than the self which is the capacity every flight needs some sort of capacity to know how many people can fit on the plane and so I'll store that inside of a value called self.capacity Equals capacity and what other information do we need to soar about a flight well a flight has a capacity and it also has all of the passengers on the flight and so we could represent this in a number of ways but we know that lists can be used in order to store a sequence of values so we'll go ahead and just create a list that will store in self.passengers that is going to be equal to the empty list so we start out with an empty list of passengers so now if I want to create a flight I can say flight equals and then capital F flight that's the name of the class and then provide a capacity I can say capacity of three to mean three people can go in this flight but no more than three that is the capacity because that is the argument that's specified inside of this init function and when I do so I'm automatically going to get this empty list of passengers so now let's think about what methods or what functions we might care about performing when it comes to a flight so one reasonable function to add would be a function that says all right let's add a passenger to the flight if I want someone new to go on this slide so how might I go about doing that well let's define a new method also known as a function to this flight class called add passenger this method can be called whatever we want because this is a method that's going to work on an individual object we need some way of referencing that object itself so we'll use the keyword self again and when we add a passenger we need to add a passenger by their name so I need to specify their name as well such that now here I want to add that name to the passengers list how do I get access to the passengers list will I have access to the self the object itself and I stored the passengers inside of Self in self dot passenger in attribute of this object and self.passengers is a list that initially starts out as an empty list but if I want to add something to the end of a list we've already seen that in order to do that I can say self.passengers dot append name so that adds that someone new to the end of this passengers list now what could potentially go wrong here well every time we call this add passenger function what's going to happen is we are going to append to the end of this passengers list this name but we haven't taken into consideration the capacity of the flight ideally our ad passengers function shouldn't let someone be added to a flight if the flight is already at capacity so there are a number of things we could do here we could just check it inside of this function but just for good measure let's create a new function let's add a new function called open seats that is going to return the number of open seats that are on the plane other than self there are no other inputs that we need to calculate how many open seats there are the only thing we need to know in order to calculate open seats is we need to know the capacity minus however many passengers there are remember self.passengers is our list of all the passengers and anytime we have a sequence to get the length of that sequence I can say Len or length of that sequence to say get me the number of passengers that there are so now we have this function called open seats which will return capacity minus the number of passengers and tell us how many open seats there are and now in this add passenger function I can add some additional logic I can say if not self dot open seats so this is equivalent to me saying in this case like if self dot open seats equals equals zero meaning there are no open seats a more pythonic way so to speak of expressing this idea is just saying if not self dot open seats in other words if there aren't any more open seats then what should we do we should return and maybe you might imagine this ad passenger function returns true if it was able to successfully add a passenger and false otherwise so in this case I can return false to say you know what there aren't enough open seats let me return false from this function to indicate that there was some sort of error but otherwise if there are open seats we can add the passenger and return true to mean that everything was okay we were able to add the passenger successfully so now we have these three functions in it that creates a new flight add passenger that adds a new passenger to that flight and open seats which tells us how many open seats there are and now let's use those functions to actually add some passengers to the Slate let me get a list of people we'll say Harry Ron Hermione and Jenny and now let me Loop over all of those people for every person in that list of people let's try to flight dot add passenger person and we can save the result in a variable called success for example and then I can say if success well then let's print out that we added the person to flight successfully but else otherwise let's print out no available seats for that person so what's going on here we have a list of people four people and for each of those people we're going to try and add the passenger to the flight calling flight dot add passenger calling this method passing as input the person's name and save the result true or false in this variable called success if success is true we print out we've added them successfully otherwise we print out there are no available seats for that person so now we can try running this program I'll run pythonclasses.pi and now we see we've added Harry Ron and Hermione to the flight successfully but the flight had a capacity of three which means there are no available seats for Ginny which we get as the error message on the fourth line and if you're really trying to optimize you might notice that you don't really need this variable I could just take this entire expression flight.adpassenger person and put it in the condition itself I can say try and add a passenger add passenger will return true or false and if it returns true that means it was a success and then I can print out that we've added the person to the flight successfully so that is a brief look at object oriented programming this technique within Python and other programming languages to represent objects like this particular flight and then to manipulate those objects using methods like the add passenger method that takes a flight and adds people to it at least as long as there is available capacity on that flight so one of the many powerful features of python that we'll be definitely taking a look at later in the term and using as we go about building these web applications now there are a couple of final examples that are just worth taking a look at just to give you some exposure to some of the other features that are available in Python one thing that will be coming up soon is the idea of decorators and just as we can take a value in Python like a number and modify the value decorators are away in Python of taking a function and modifying that function adding some additional Behavior to that function so I'll create a new file called decorators.pi just to demonstrate what we can do with decorators and the idea of a decorator is a decorator is going to be a function that takes a function of input and returns a modified version of that function as output so unlike other programming languages where functions just exist on their own and they can't be passed in as input or output to other functions in Python a function is just a value like any other you can pass it as input to another function you can get it as the output of another function and this is known as a functional programming Paradigm where functions are themselves values so let's create a function that modifies another function by announcing that the function is about to run and that the function has completed running just to demonstrate so this announce function will take us input a function f and it's going to return a new function and usually this function wraps up this function f with some additional behavior and for that the reason it's often called a wrapper function so we may call this wrapper to say that all right what is my wrapper function going to do it's first going to print about to run the function just to announce that we're about to run the function that's what I want my announced decorator to do then let's actually run the function f and then let's print done with the function so what my announce decorator is doing is it's taking the function f and it's creating a new function that just announces via a print statement before and after the function is done running and then at the end we'll return this new function which is the wrapper function so this right here is what we might call a decorator a function that takes a function modifies it by adding some additional capabilities to it and then gives us back some output and so now here I can define a function called hello that just prints hello world for example and then to add a decorator I use the add symbol I can say at announce to say add the announced decorator to this function and then I'll just run the function hello and we'll see what happens I'll run Python decorators.pi and I see about to run the function then hello world then done with the function so again why did that work it's because our hello function that just printed hello world is wrapped inside of this announced decorator where what the announce decorator does is it takes our hello function of input and gets us a new function that first prints an alert warning that we're about to run the function actually runs the function and then prints another message so a bit of a simple example here but there's a lot of power in decorators for being able to very quickly take a function and add capability to it you might imagine in a web application if you only want certain functions to be able to run if a user is logged in you can imagine writing a decorator that checks to make sure that a user is logged in and then just using that decorator on all of the functions that you want to make sure only work when a user so happens to be logged in so decorators are a very powerful tool that web application Frameworks like Django can make use of just to make the web application development process a little bit easier as well let's take a look at a couple other techniques that exist within python one is how we might be able to more efficiently represent functions so let's imagine that I now have I'm going to call this lambda.pi for a reason you'll see in a moment let's imagine that I have a list of names or people for example and inside of this list of people each person instead of being just a string is going to be a dictionary that has both a name like Harry and a house like Gryffindor and let me add another name like Cho and a house like Ravenclaw and then another name like Draco and a house like Slytherin so here we have a list where each of the elements inside of that list is a dictionary a mapping of keys and values and that's totally okay in Python we have the ability to Nest data structures within one another we can have lists inside of other lists or lists inside of dictionaries or in this case dictionaries inside of a list and in fact this nesting of data structures is one of the reasons why it's very easy in Python to be able to represent structured data like a list of people where every person has various different properties what I might like to do now is something like sort all of these people and then print them all out so I might want to say people.sort and then print all the people but if I try to run this I'll get an exception I get an exception type error less than not supported between dict and dit which is sort of weird because I'm not using any less than symbol at all anywhere in my program but in the traceback you'll see that the line of code that it's catching on is people.sort somehow people.sort is causing a type error because it's trying to use less than to compare two dictionaries and what this appears to mean is that python doesn't know how to sort these dictionaries it doesn't know does Harry belong before or after Cho because it doesn't know how to compare these two elements and so if I want to do something like this then I need to tell the sort function how to sort these people and so in order to do that one way I could do this is by defining a function that tells the sort function how to do the Sorting what to look at when sorting so if I want to sort by people's name let me Define a function then I'll just call F that takes a person as input and returns that person's name by looking up the name field inside of that dictionary and now I can sort people by their name by saying sort key equals f what this means is sort all the people and the way to sort them the way you know how to compare them is by running this function where this function takes a person and gives us back their name and this will sort Everyone by name now if I run pythonlab.pi you'll see that I first get show then Draco then Harry in alphabetical order by name whereas if instead I had tried to sort people by their house by changing my function that I'm using to sort and then rerun this now I see that it's first Harry who's in Gryffindor then Ravenclaw then Slytherin for example so we get the houses in alphabetical order instead but the reason I show this is because this function is so simple and is only used in one place python actually gives us an easier way to represent a very short oneline function using something called a Lambda expression and this is a way of including the function just as a single value on a single line I can say instead of defining a function called f i can get rid of all of this and just say sort by this key a Lambda which is a function that takes a person and Returns the person's name so we say person is the input colon person name as the output this is a condensed way of saying the same thing we saw a moment ago of defining a function giving it a name and then passing in the name here this right here is a complete function that takes a person and as input and returns their name so python lambda.pi that will actually sort the people by their name Cho then Draco then Harry whereas if I have left off this key altogether and then tried to sort well then we get this type error because we can't compare these two dictionaries so we've seen a lot of different exceptions now throughout python so the very last example we'll take a look at is an example of how to deal with these exceptions like what to do when things might go wrong if we want our program to be able to handle those possible exceptional cases situations where things might in fact go wrong so let's try an example I'll create a new file that I'm going to call exceptions.pi and what exceptions that Pi is going to do is it's going to get some input it's going to say let's get an integer input called X and let's get an integer input called y and then let's go ahead and print out the result of x divided by y so result equals x divided by Y and then let's print out something like x divided by y equals result and we can literally print out the values of X and Y so this is a simple program that's just performing some division get a value of x get a value of y divide the two and print out the result we can try running this by running python exceptions.pi if I type in like 5 and then 10 5 divided by 10 is 0.5 exactly what might I might expect but what could go wrong now if you remember from math in division what could go wrong is if I type in 5 and then 0 and try and do five divided by zero what's going to happen well when I do that I get an exception I get a zero division error which is an error that happens whenever you try to divide by zero what I'd like to happen though in this case is not for my program to display kind of a messy error and a trace back like this but to handle the exception gracefully so to speak to be able to catch when the user does something wrong and report a nicer looking message instead and so how might I go about doing that well one thing I can do here is instead of just saying result equals x over y I can say try to do this try to set result equal to x divided by Y and then say except if a zero division error happens then let's do something else let's print error cannot divide by zero and then exit the program how do you exit the program it turns out there's a module in Python called sys and if I import the sys module I can say CIS dot exit one to mean exit the program with a status code of one where a status code of one generally means something went wrong in this program so now I'm trying to divide x divided by y except I have an exception Handler this is a try accept expression I'm saying try to do this except if this exception happens rather than have the program crash just print out this error message can't divide by zero and then exit the program so now let's try it python exceptions.pi again 5 and 10 Works totally normally gets me a value of 0.5 but now if I try 5 and 0 press return I get an error cannot divide by zero no long exception that's going to look complicated to the user it's no longer messy I've been able to handle the exception gracefully now one other exception that might come up is what if instead of X is 5 I type in a word like hello something that's not a number now I get another type of exception a value error which is happening when I try and convert something to an INT because hello cannot be converted into a base 10 integer you can't take text that is not a number and turn it into an integer so instead I'm getting this value error here how can I deal with that well I can deal with it in much the same way when I'm getting this input X and Y I can say rather than just get the input just try to get the input except if a value error happens which is the error that we got a moment ago this value error then print error invalid input and go ahead and sys.exit one so now I've been able to handle that error as well I can say pythonexceptions.pi I can say hello and I just get error invalid input I can divide by zero I get error cannot divide by zero but if I do type a valid X and A Y value then I get the result of dividing one number by the other and so exception handling is often a helpful tool for if you expect that some lines of code you might be running might run into some sort of problem be they a value error or a zero division error or some other error altogether to be able to handle those errors gracefully and that's probably what you want if you're going about building a web application using python is the ability to say that if something goes wrong we want to handle the error nicely display a nice error message to the user telling them what was wrong instead of having the program entirely crash so those are some of the key features now this Python programming language this language that gives us the ability to Define these functions and loops and conditions in very convenient ways to create classes where we can begin to build objects that are able to perform various different types of tasks and next time time using python we'll be able to design web applications such that users are able to make requests to our web applications and get some sort of response back so we will see you next time okay welcome back everyone to web programming with python and JavaScript so thus far in the course we've taken a look at a couple of different Technologies we took a look at HTML and CSS which are languages we can use to describe the structure of a web page and then style it appropriately and then we also took a look at python a programming language that we could use to get programming features features like loops and conditions and variables and functions and more and what we're going to do today is introduce Django which is going to combine these two Django is a python web framework which is going to allow us to write python code that is able to dynamically generate HTML and CSS ultimately allowing us to build a dynamic web application so what is this now going to enable us to do that we weren't able to previously do using just HTML and CSS well using HTML and CSS the web pages that we created were static web pages they were the same and every time you visited the web page the page you were looking at was identical But ultimately if you think about websites you interact with on a daytoday basis say like the New York Times for example it's not the case that every time you go to the New York Times homepage you're seeing the exact same HTML it changes the next day you might see the new date you might see the next day's articles whenever someone comments on an article you can see those comments and you can see how many people have commented on an article for example and it's probably not the case that someone is sitting there updating the HTML of the New York Times website every time something changes but rather more likely there is some program maybe written in Python maybe written in some other language that is dynamically generating that HTML and CSS and allowing the web application to respond based on how users are interacting with it and this is ultimately what we're going to be trying to create using this Django web framework we're going to be creating software that's going to run on a web server such that clients running in their web browser can make requests to our web server and our server is going to respond back with some sort of response and so how does this process actually happen well ultimately it boils down to this protocol http otherwise known as the hypertext transfer protocol which is the protocol for how messages are going to be sent back and forth over the internet in this case you can think about this as a computer some user which we might call the client and then our server which is going to be the server that is going to contain our web application we are going to write a Django web application that is going to run on this server and clients are going to make requests to that server the server is going to process that request and then return some sort of response that request might look a little something like this underneath the hood it might start with the word get get is just an example of a request method a way that you might try to get a page so get just means I would like to get a particular page in this case the page I'm trying to get is the slash page just denoting the root of the website usually the default page for the website HTTP 11 is just the version of HTTP that we're using and the host is what URL we're trying to access the web page for so example.com or some other website for example that I might be trying to make a request to so this request ultimately gets sent by my web browser when I type in a URL and press return for example the server processes that request and then gives back some sort of response and the response will generally look a little something like this beginning with the HTTP version 1.1 or in some cases 2 version 2 now and then some sort of Response Code 200 is a response code that just means okay everything was okay the page was returned successfully for example and here on the second line we see content type text HTML which just means the format of the data that's coming back in this response is HTML data it's HTML data that the user's web browser on the client should then render as HTML for example and there are other content types as well and other information that comes back in that response but the key idea is just thinking about the web in terms of requests and responses one user makes a request to get a particular web page and what they get back is a response like this that hopefully includes status code 200 which means okay but there are a number of other status codes well some of the more popular 200 means okay you've probably seen 404 the status code that means not found if you try to request a web page that doesn't exist for example others you might see are 301 moved permanently that often happens if you're redirected from one website to another for example we'll take a look at an example of that shortly 403 generally means forbidden you're trying to access a page you're not supposed to have access to and 500 usually refers to some sort of internal server error usually meaning that whoever was writing the server maybe our Django web application has something that's buggy in it and we might need to go back and figure out where that bug is in order to fix it and again there are other status codes as well but these are some of the most common that we're going to be seeing and interacting with as we go about building web applications using Django so Django is a web framework it's a set of tools that is already built for us that's just going to make it easy to get started by writing python code in order to design a fully fledged web application by taking care of some of the stuff that most web pages all have to do such that we can focus on the interesting logic of building our own web applications so the first step you'll need to do in order to use Django is to install it if you're using python you may be familiar with Pip the python package manager which makes it easy to be able to install new packages and the first thing we'll probably want to do is install Django and here we're going to be using python3 so you might need to specify pip 3 install Django to install Django on your system and after you do we can run a command to be able to create a Django project and that command looks something like this Django Dash admin start project followed by the name of the project that we would like to create when we run this command Django is automatically going to create some starter files for us just to get started with the process of building a web application so let's try creating a project now I'll go ahead and go into my terminal window and what I'm going to do is type that command I'm going to type Django admin and then start project and then I need to give this project a name and I'm just going to give this project a name of lecture three for example you can name the project whatever you'd like and when that happens if I type LS what I see is that a lecture 3 directory or folder has been created for me by Django and if I go ahead and open this up inside of my text editor we can take a look at what files are inside of this lecture 3 directory so actually I'll go ahead and CD into lecture three and open it up and what we see inside of lecture three are a couple of files that we're given just to get started so there are a couple files not all of them are really interesting to us right now but first and foremost manage.pi is a file that Django is going to create for us we'll generally not need to touch that file but we're going to use the manage.pi file to be able to execute commands on this Django project and we'll see a couple of examples of that now and a couple of examples of that in future lectures as well and then the other important one that we'll be looking at is settings.pi which just contains important configuration settings for our Django application settings.pi comes preloaded with a couple of default settings but we might want to change those settings to be able to add features to our application as well or make some modifications to how the application behaves and then the other important file that's precreated for us now here is urls.pi and you can think of urls.pi as a sort of table of contents for our web application that On Any Given web application on a website there are a number of different URLs or routes that you can visit on Google for example you can visit slash search or slash images and urls.pi is just going to be a table of contents of all of the URLs on my web application that I can ultimately visit and so if I'd like to try running this web application just to see what it looks like the way to do it in Django is in the terminal I'll run python manage.pi followed by a command and the command is called run server and so this is generally how we'll use manage.pi we'll run manage.pi followed by an argument specifying what command we would like to run and python manage.pi run server means go ahead and actually run this web server if I do this I'm now running this web server locally and I see a bunch of debugging output but the interesting point to me is that it says down here starting development server at HTTP colon slash 127001 colon 8000. and so this is where my web application is currently running 127001 is an IP address an address on the internet that just refers to my local computer the computer I'm looking at right now so only I can access this not anyone else on the internet and 8000 is what we would call a port number it just refers to what type of service is being run and you might have multiple different internet services running on different ports in this case our Django application is running on Port 8000. so if I copy this URL and just go ahead and go into my web browser and paste that URL in what I see is just jenga's default page to say our installation of Django works and this now is the default page that Django is going to give to us to say the Django has been loaded for this web application and we can now actually start to begin building this web application by adding the features we want to it and so what we've created here is what we call a Django project and in terms of the way a Django project is structured is that every Django project generally consists of one or more Django applications so one project may have multiple applications within it and the reason for this division is if you think about big websites oftentimes a big website a big project has multiple different apps that are sort of separate services that operate within it Google for example has Google search but also Google images and Google news and Google Maps where you can think of each of those Individual Services as a separate app all under one larger project like Google for example or Amazon's website for instance might be one big project that has a couple of different apps within it one app for shopping maybe and one application for Amazon's video servers for example and so Django comes preloaded with this ability to take a project and divide it into multiple distinct apps maybe for simpler apps we're only going to have a project that has one app inside of it instead of multiple but it has the ability to allow us to create these separate apps that have have different capacities so if we want to get started with Django the first thing we'll need to do after we create a project is create a Django app and so the way to do that if you go back to the terminal I'll go ahead and exit out of this server by pressing Ctrl C to say I would like to exit stop running the server so now if I go back to that URL and refresh it it won't work because the Jango server is no longer running but I'll run the command python manage.pi start app and then the name of the app that I would like to create and for our very first app I'll just call this app hello for example so I've now created one Django project called lecture three and inside of which I've created the very first app that I've now called hello and so if we take a look at our files now you'll see that in addition to a lecture 3 directory which existed before we also now have a Hello directory that Django created for us that is going to contain the information needed for the Hello app to work and there are a number of files again that are generated by default we're not going to look at all of them today we're going to focus primarily on views.pi we'll see why in a moment which is going to be the file that lets us describe what it is the user sees when they visit a particular route for example where we can decide what gets rendered to the user and the other files we'll take a look at over the course of this term taking a look at what additional features Django has to offer so we've now created this Hello app that we would like to install into this project and in order to install it we need to go into the settings for this particular Django project so if I go into the lecture 3 directory and open up settings.pi what I'll see here is a big file all created for me by Django I didn't write any of this code but this is all just the default configuration for a Django project and if you scroll down somewhere there you'll see a variable called installed apps which is where Django configures what apps are installed on this project and there are a whole bunch of individual apps that are installed by default that are just created by Django one for example manages sessions which we'll take a look at a little bit later but if I want to add my new app that I've just created called hello to these installed apps I'll go ahead and just add to this list of strings this installed apps variable I'll just add hello and so now hello is going to be an installed app on this particular Django project so now what I'd like to do is actually make this app this Hello app do something and display something when I try and visit a particular route for example so how can I go about doing that well let's go ahead and go into the hello directory and let's take a look at views.pi inside of my Hello app so here's the default file I get for views.pi I see a comment that's given to me by default that says create your views here and you can think of each view as something the user might want to see so let's go ahead and just create a default view and in order to create a view in Django we're going to define a function to this function I'll just call index this function by convention takes this argument a request argument and this is going to be an argument that's going to represent the HTTP request that the user made in order to access our web server so if we want information about that request we can look inside of this request object to get access to some other data and we'll take a look at that momentarily too but now what would I like for this request to do well what I want to do for now is let's just do something simple and return an HTTP response of hello world for example now HTTP response is a special class created by Django and so if I want to use it I'll generally need to import it and so Django is going to give us a lot of features that we might want to use in our web applications but if we want to use them we generally have to import them first and it just so happens and I only know this from Reading Django's documentation that I can include a line like this from django.http import HTTP response to say I would like to import the ability to give an HTTP response and now what I have is a function representing my view this function is called index and what the index function does is it just returns an HTTP response of hello world and so this is the response but now we need to tell the app like when should you actually return this response what URL is the user going to visit and this is where we now begin to create some URL configuration some sort of setting to tell Django when a particular URL is visited then this function should be run in order to return that particular HTTP response so how to do that well in order to do that we're going to need to create a urls.pi file for this particular app so Django has one urls.pi file that works for the entire project but oftentimes We'll have each app contain its own urls.pi file just for the sake of separating things out into different places such that if we have multiple different apps Each of which is doing something independent we can have each of those individual apps have its own urls.pi file to control what URLs are available for that particular app so I'll go ahead and go into the hello directory and I'll create a new file inside of the hello directory called urls.pi and What urls.pi needs is it needs to Define a variable called URL patterns which will be a list of all of the allowable URLs that can be accessed for this particular app and the way you create a URL is by first importing from django.url's import path and let's create our first URL I'll say path and then the first argument here I'm going to give the empty string to mean no additional argument and we'll see what that means in just a moment meaning nothing at the end of the route and then the second argument to path is what view should be rendered when this URL is visited and so if I want to render my index view recall that in views.pi over here I have this index function then what I want to render when someone visits this URL the empty URL is going to be views dot index views is representative views.pi that file where I've defined All of My Views an index just so happens to be the name of the function that I want to call when someone visits this URL for example and then you can optionally provide a path with a string name to represent this URL I'm going to give this a name of index we'll see why this can be useful later on but the idea is giving a name to a particular URL pattern makes it easy to reference it from other parts of the application so later when we might want to link to things or have forms that are submitting to different parts of the web application giving a name to a path can be a useful tool in order to use views last line I need to add to urls.pi is to say from dot in other words from the current directory go ahead and import views anytime I'm using a variable name like views I'm using that name I need to import it from somewhere and it just so happens that views.pi and urls.pi are located in the same directory so I can just say from dot import views to import all of that into this particular file so this now is the urls.pi file for this application but the last step in order to get all this working for the very first time is to go back into the lecture 3 directory and open up urls.pi here this is the urls.pi file for the entire project for all of the apps that might be contained within this project and it just so happens that there's one path already given to us by default called admin which runs a default Django application called the admin application we'll see more about that in the next lecture but for now I'd like to add my own route here to say that I would like for a particular path to lead to not the admin app but the Hello app that I have just now created so I'll go ahead and give this a path of hello and what I'd like to do is say that after you've included the path hello go ahead and include all of the URLs from the urls.pi of my hello application I basically like to link these two URL configuration files together and so the command to do that is include Hello dot URLs inside of the hello module get at the URLs URLs file there and that is now what I would like to add as a URL pattern and in order to do this I also need to import include since I'm using include inside of URL patterns so that was a lot of steps just to get things started but just to get a high level overview of how this is all working I have a Django project called lecture three and inside of lecture three there's a URLs file that decides what URLs I can access I can access slash admin which takes me to the admin application which is created by Django where you don't have to worry about that just yet but now I've just added you can go to slash hello to go to the hello application and when you do that I'm telling Django to look at the urls.pi inside of the hello directory to figure out what additional URLs I can get to from there so this is one master urls.pi file that might connect to multiple different other URL configurations that exist as well then inside of the urls.pi for my app for the Hello app I've said that when someone visits just the default route on this particular application go ahead and just run the index function that is one of my views so all that's to say that now that that is done I should be able to go back into my terminal and run python manage.pi run server to actually start up this web server and now I can go back to this URL but instead of just going to that default URL I'll go ahead and go to that URL slash hello and when I go to slash hello what I see is hello world so what was happening there is that I typed in a URL that URL went to Django and Django looked at that URL and looked at my urls.pi file and said you know anytime something starts with Slash hello that belongs to the Hello app and inside of our hello configuration we said that when we go to the default route we should run the index function and the index function returns this hello world response and now we can begin to change that response we can begin to adjust what it is that views.pi is actually doing right now it says hello world but if I want to change it to just say like hello for example I can just edit it now say the index function just returns an HTTP response of hello for example and so now if I refresh this page now it just says hello so I can edit my files when I do Django notices that a change has been made and it will reupdate the server with my latest code such that now I can visit slash hello and I can see that an HTTP response of hello is what ultimately comes back to me so now let's take a look at the idea that in addition to just having one view inside of us.pi I can have as many views as I want I can create additional functions that each return different responses maybe I'd like a route that says hello to me for example so let me Define a new function then I'll call Brian that accepts the request argument and this function is just going to return HTTP response hello Brian for example and now I need to associate this new view that I've created with the URL so I'll go ahead and go back to urls.pi inside of my hello directory and so I have a default route represented by the empty string that loads the index function but I can add to this just add to this list add a new path where if I type Brian into the URL instead that will load the Brian function and I'll go ahead and give that a name as well so now if I refresh the page I'm still on just the slash hello route and that just displays hello for example but if I go to slash Brian for example now I see Hello Brian I have two different URLs one that is just slash hello with nothing after it which was that empty string and one which was Slash hello with Brian following it that loads a different view function that returns a different HTTP response and so we could imagine continuing to do this I might want a web application that has a number of different URLs that I can visit so I could go ahead and add like a David function for example that returns an HTTP response of hello David and then again inside of my URL configuration I would say go ahead and give me another route call David that loads the David function each time I'm giving it a URL so what comes after the slash hello I'm giving it a function to run the David function inside of views.pi and giving it a name just to make it easier to reference a little bit later so now I have slash hello Brian and now I have slash hello David Each of which displays a different hdb response so you can imagine starting to use this feature to begin to build a web application that has a number of different routes it has different routes to do different things and many web applications are parameterized by what it is that's actually in the URL so for example on Twitter you can go to twitter.com someone's username to see all of that user's tweets for example or GitHub a service we've taken a look at now you can go to github.com your GitHub username to be able to see all of the repositories for a particular user for example so if you think about how that might be implemented if either of these Services were using Django they might have a urls.pi file or something like it that is just defining a whole bunch of URLs and saying what route should be associated with them when someone visits that page but you can imagine ultimately that this is probably going to start to get tedious that if I want to say hello to anyone if I want to not only support slash hello Brian and slash David but I also want to support arbitrary names like slash Harry or slash Ron or slash Hermione well then it would seem that I need to create a whole bunch of different functions Each of which says hello to a different person and then create a whole bunch of different URLs to be able to do that as well but it turns out that what I can do is create URL patterns that have placeholders in effect things that allow me to parameterize the path via certain path converters so to speak so what does that actually mean well let's instead of creating functions that just say hello Brian and hello David let me create a new function that's just called greet for example that also takes a request but takes an additional parameter takes a parameter like someone's name for example and this greet function is going to return an HTTP response of hello comma and then I'll go ahead and plug in the name here and I'll need to add an F to the beginning of the string to indicate that it's a formatted string this is just python syntax to say that I would like to say hello not just to anyone but to whatever the value of the name variable happens to be I'd like to substitute the name variable into that greet function and then what I can do is inside of urls.pi I'll go ahead and add another path but instead of saying a name like Brian or David or Harry for example here I'm going to say in angled brackets stir colon name and when someone visits that route let's go to the views.greatfunction and the name for this route will be greet and so what's going on here is we have a fundamentally different kind of path rather than prescribing exactly what the URL should look like like nothing after the end of the route or Brian at the end of the route or David at the end of the route this route here on line seven is saying this route could be any string that we're going to give a variable name of name to but you could replace a name with something else entirely and this could be any string so it could be Brian or David or could be any other name and when that happens we'll call the Greet function and when that function is called it will pass in this argument this name as a parameter to that function so now be able to create a custom route that allows me to specify any string and figure out how to deal with that appropriately so now if I visit slash hello Harry for example not a route that I explicitly created but that is a string Harry is a string I press return it says hello Harry I can go to slash hello Ron and say hello Ron and slash Hermione to see Hello Hermione as well and you know what maybe just for good measure I'd like to capitalize this name like Hermione for example well the way to do that is that I can add arbitrary python logic it turns out that with any python string there is a function or method on that string called capitalize that I can say is just dot capitalize and if I can do it in Python then Django allows me to incorporate it into the response that I'm giving back so I'm now using python to take the name capitalize it and use that in the response that gets sent back to the user so now slash reminding returns hello Hermione with a capital H likewise for hello Ron likewise for hello Harry I've now been able to add a route that takes an HTTP request as well as a parameter that name whatever was in the URL and return an HTTP response that just says hello to that person so these HTTP responses can be any HTML content right now we're just using text but you can imagine adding lists or tables to this as well but you might imagine that if I have to include an entire HTML page just inside these double quotes that that's going to get unwieldy very quickly very quickly we're going to find that there's a lot of HTML to just go in a single string inside of a Python program and if we think back to the principles and the ideas that we've been looking at in this course so far we've generally tried to separate out different parts of our application wherever possible and there's a lot of value in that one in just keeping things clean two and making sure that people are able to collaborate if you want one person working on the python logic and one person working on the HTML you'd rather they not step on each other's toes as they're working and so what we can do in Django as well is separate the response the HTML from the actual python code here as well and so the way we can do that is instead of returning an HTTP response I can instead let's say for this default route instead of returning an HTTP responsive hello let me go ahead and render and when I render something I need to pass in the HTTP request but I'll also pass it pass in the name of a template and I'll go ahead and call this template hello slash index.html so if I don't want to render just a string but I want to render an entire HTML file I can call this render function pass in the request but then also pass in the name of a template and now all I need to do is create that template so let me go ahead and inside of the hello directory I'll create a new folder called templates inside of that template I'll create a folder called hello because the template name here is hello slash index.html so I need to create a folder called hello inside of which is a file called index.html I could have just called it index.html without the hello but the reason we often want to prefix our templates with the directory name is to socalled namespace them to make sure that if we have multiple different index.html files in multiple different apps to make sure they don't conflict with each other so Django best practice is to use hello index.html or whatever your app name is and inside of that hello directory I'll then create a file called index.html and this index.html can contain any HTML content same as we've seen before so I could add that doctype the HTML tag a title of hello and maybe inside the body I'll have an H1 that says hello world for example so I can have an entire HTML page just like this and now when I visit the default route of my web application by going back into my web browser and just going to slash hello for example now I see that HTML that I've defined inside of Hell of index.html it's a big H1 that just says hello world and it turns out that these HTML Pages these templates that I can render using Django are parameterizable as well right maybe I want to implement hello Hermione as some sort of HTML page an HTML page that says hello comma Hermione and using HTML out of the box you can't really do stuff like this HTML is a markup language not so much a programming language which means it doesn't by default have support for things like a variable to represent someone's name but using Django's ability to take an HTML page and treat it like a template that we can render Django has added its own templating language so to speak on top of the existing HTML and I can take advantage of that to be able to render an HTML page that actually has a variable inside of it or a condition inside of it or a loop inside of it as we'll see in just a moment as well so let's go ahead and go back to views.pi and the function that I would like to change is this greet function here that right now is just returning an HTTP response but I'd like to render an entire page for example so what might I render well let's render a template called hello slash greet dot HTML and then this render function can take an optional third argument which is called the context and the context is all of the information that I would like to provide to the template all the variables for example that I want the template to have access to and so one thing I might want my template to have access to for instance is something like a name and so this is a python dictionary just a sequence of key value Pairs and this name might be associated with what values of name is the key the value I want to be name dot capitalize and so what's going on here is that now when I render this template this template hello slash greet.html I'm providing that template with some additional context some additional information as represented by this dictionary here where I'm providing information with a key of name I'm effectively giving this template access to a variable called name and its value is whatever name dot capitalize is equal to where this name here is the argument to the function greet so now I can return this template and inside of greek.html I can use this variable called name so how do I go about doing that well let's first create that greet.html file so inside of the template hello directory I already have index.html I'll go ahead and create a new file called greet.html and inside of greek.html I'll go ahead and write some HTML and inside the body of the HTML whereas before I might have said something like hello comma world I don't want to say hello to world I just want to say hello to whoever the name is whatever is contained inside of that variable called name so how might I go about doing that well what I can do is use these double curly braces and double curly braces are part of the Django templating language that allows me to say I would like to plug in the value of a variable into this particular position inside of my template and so if I include the word name here then what I'm saying here is that when you render this greet.html template inside the body of the page I would like for there to be an H1 a big heading that just says hello comma and then inside these double curly braces I'm saying Plug In the value of the variable name there his name is Hermione it's going to be hello Hermione if it's Harry it's going to be hello Harry if it's David it's going to be hello David so let's go ahead and give this a try now when I go to slash hello Harry for example I now see a big H1 tag that says hello Harry if I go to slash hello Ron I see a big H1 that says hello comma Ron and the reason why all this is happening the way we're getting to that final position is because URLs says that when I have a URL that just is a string like someone's name we'll call the Greet function the Greet function inside of views.pi it's taking the name as an argument rendering the greek.html template and passing in that name as part of the context part of what the template has access to and inside of greet.html here is the actual HTML file here is where we then plug in the value of name so it's a lot happening across a lot of different files but the reason for all these various different files is to help keep things separate to have one file that is just responsible for URLs and directing people to where what should happen when those URLs are clicked then we have one file views.pi that is entirely responsible for deciding on this particular view what template should be rendered what information should be passed in this context and then I separately have a file for each of my HTML templates that are saying what does the page actually look like and so if you start to begin to think about the separation of components inside of a web application it can help to make the structure of a Django application a little bit clearer so we've now been able to use the Django templating language to put variables inside of our HTML templates to be able to create an infinite number of different routes where I can visit slash hello some name in order to display hello to that person's name but the Django templating language is even more powerful than just that there are a lot of additional features that the templating language is going to give us access to and we'll take a look at a couple of those now and to start I'm going to introduce you to a website you may be familiar with I consider it to be one of the simplest websites on the Internet it's a real website called is itchristmas.com and if I visit is it christmas.com and press return here's what the website says the website says no it is not Christmas and you just have to take my word for it if you visit this website on Christmas day you go to is itchristmas.com it will instead say yes and so this website is very simple you might imagine that it's really just an HTML page that probably contains a big heading that in this case just says the word no but on Christmas day just says the word yes now how might a page like this be implemented well one way you could imagine is that on Christmas Day whoever maintains the website goes into the HTML and changes no to yes and then afterwards changes the yes back to a no but we can be a little bit cleverer about this if we realize now that we have the ability to use Python logic to be able to use logic like a condition to be able to decide how a web page is ultimately going to be rendered for instance the condition might be something simple like if today's date is Christmas then render yes else render no and so we're going to use Django and take a look at some of the features of Django's templating syntax to be able to create a website like this we're not going to create is it Christmas we're going to create is it New Year's the checks if the current date is January 1st or not this is going to be a separate app it's sort of distinct from our Hello app the Hello app just says hello to people the new year app for example is just going to see whether or not it happens to be New Year's for example so I will now go ahead and create a new app and I can do that by writing python manage.pi start app and I'll call the app New Year for example I'd like to create a new app called New Year I've now created that new app if I type LS you'll see that not only do I have a Hello directory that represents the Hello app I now have this New Year directory that represents the fact that this is a new app called New Year as with before I'll need to go into settings.pi inside of my project directory and add new year as an installed app this is now a new app that exists in my web application so it too now needs to be a new installed app what else do we need to do for new apps well I need to go into urls.pi for uh lecture three and just as before I had a path saying when I go to slash hello then you should go to all the URLs for the Hello app let me add a new path that says that if I go to my application slash New Year well then you should go to all of the URLs for the new year file go to new years.urls representing the urls.pi file inside of the New Year's app now that file isn't given to us by default so we need to create it I need to go into my new year folder and create a new file called urls.pi and inside of that file I'll do from django.urls import path from dot import views and then Define some URL patterns same as before where I'll just have a single path that loads the index function inside of views.pi and it has a name of index so again just mirroring the type of structure that we've already seen before in the Hello app this app is just going to have a single route the empty route that loads the index function now all it's left to do is to actually create that index function so I go into views.pi and here now I'll Define an index function that takes an HTTP request as an argument and now inside of this index function I would like to add some logic that checks whether or not it's January 1st and so how might I go about doing that in Python well it turns out that there is a date time module in Python you can learn about this just by reading up about its documentation to figure out how it works and the date time module gives me access to things about the date and time for instance and I can play around with the date time module outside of Django just to get a feel for how it works if I just type python Into The Interpreter into my command line rather what I get is the python interpreter that lets me just write python code just to experiment and test and see what the result of running this python code would be so I can try like import date time for example and let me create a new variable called now which is dateetime.date time.now it just so happens that inside of the date time module is a function called datetime.now that gets the current date and time for example and so inside of now I have access to variables like now dot year for an example which tells me the year now.month now dot day that gives me information about the year the month and the day of the current timestamp based on getting whatever the current time is right now and given that I have this information you can imagine us constructing a Boolean condition to check whether or not today is in fact the New Year and that condition might look like now dot month equals one and now dot day equals one I can press return and see that okay the result of this condition is false it is not true that both the month and the day are true or are one rather and so using that sort of condition I can now take that and adapt it into my Django view that I'm using to try and render whether or not it's the new year or not so how might I go about doing that well what I'd like for my index function to do is return render a template the template will be called New Year slash index.html and then what context would I would like to provide to this template what information what variables do I want for this template to have access to well I wanted to have access to a variable that'll just be called New Year and in order to access that I need access to the current date consider do that I'll at the top of my file I'll go ahead and import date time and inside of my index function let me give myself a variable called now which is equal to date time.datetime.now and this New Year variable that I'm passing in to my template will be equal to now dot month equals one and now dot day equals one so if it is the case that after I get the current date and time by running datetime.datetime.now saving the result inside of this variable called now if both the month and the day are equal to one then the value of this New Year variable is going to be true when the template gets access to it otherwise as it is the case today and on most days the value of that variable is going to be false Now All That Remains for us to do is to actually create this template New Year slash index.html and have that template somehow use this new year variable in some interesting or meaningful way so how do we do that well if you recall what we did with the hello application when we want a template then inside of our application this new year app will need a new folder that we'll call templates inside of which I'll create a new folder called New Year and inside of that I'll create a new file that will be called index.html here will be the index.html file for this new year application the structure will be very similar I'll give it a title of is it New Year's and inside the body now here's where the interesting logic is sometimes I might want a big H1 that says yes other times I might want a big H1 that says no and what I need to do is conditionally decide when to say yes and when to say no and inside Django's templating language and again you'd only know this by reading Django's documentation just as we used double curly braces to say plug in the value of a variable here the Syntax for logic inside of a Django template like conditions is curly brace percent sign so we use curly brace percent sign some logical statement and then percent sign curly brace to include any kind of logic and the logic in this case is an if statement and this is very pythonlike we'll say if New Year New Year is the name of that variable that I passed into this template and if it is the new year then I want to display an H1 that just says yes and then else also inside of curly braces and percent signs I want a big H1 that just says no so if it's the new year then yes else no and then Django also requires me to give an end if tag to say this is the end of the if statement unlike python itself that uses indentation to denote when the if statement is beginning and ending in Django the indentation is optional inside of the template but in order to distinguish when the if statement is happening from when the if statement is over we need this end if tag at the very end so this here is a condition inside of our Django template we're saying if a particular variable is true then render this in the HTML and else render something else if it's the New Year say yes it's the new year otherwise say no it is not the new year so we can try this out right now we're on the route hello Ron if I instead not go to slash hello but go to slash New Year for example the site can't be reached okay so why did that happen 127.001 refused to connect so what must be happening is for some reason my web server isn't running and it turns out that in order to create the new application I had stopped my web server and so if ever that happens to start it up again we can just rerun python manage.pi run server to say I would like to now start up this web application again and all right it looks like now I have another error there's some sort of syntax error and the syntax error is in New Year slash views of dot Pi so let me go ahead and go back into views.pi and see if I can spot where the syntax error is and all right it looks like render is a function function arguments need to be enclosed in parentheses and while I have a starting parenthesis here I'd forgotten a closing parenthesis so I'll go ahead and add that and now that will complete the render function and now I should be able to load slash New Year and indeed what I see is that no it is not the new year and so what happened is we ran some python logic calculated the current date and time checked to see is the current month one is the current day one and if that's not true then we're here displaying no if we look at the actual HTML of this page like what HTML is actually making up this particular page which I can do by right clicking and control clicking and just clicking view page Source this will show me the HTML of this page this is the HTML that came back from the web server that my web browser Chrome in this case is rendering and what you can see is it looks very similar to the index.html template we wrote before but it only contains no it doesn't contain any of that if logic it doesn't contain the yes it just contains the HTML content that we wanted to respond with back to the user and so you might imagine based on this that what Django is really doing is taking the index.html template and then manipulating it based on the input we get based on whether or not it's the new year or not to say that if it's not the new year then all we should do inside the body is display an H1 that says no and the user when they get it they don't see the conditions they don't see there was another branch that could have been taken they only see the final result of rendering the template with whatever variables and logic and conditions happen to be inside of that rendering process so when the user sees it all they see is the word no and if we were to run this program on New Year's Day it would indeed say yes and we can test it just to see what it would be like if that were the case by cheating a little bit instead of now dot month equals one and now to day equals one let me just go ahead and replace this condition with new year is equal to true just to test it let's try passing in the value true as the value of New Year and see what happens instead and now when I run this page now it does say yes as we might expect it to on New Year's and so that can be a nice way of just testing what would happen if you were to replace a particular variable with a particular value we can substitute inside the context just for development purposes what value we would like that variable to take on now we've rendered HTML but we haven't really added any styling to this website just yet the real is it christmas.com has the text centered a little bit it's in Sans serif font instead of having the little serifs or the glyphs at the edge of each of the characters so maybe I'd like to add some custom CSS to this file as well and we could do this conventionally the way we've seen it done before by just including a CSS file and that is what we're still going to do but Django has a special build system for dealing with what are called Static files files that aren't going to change the HTML of this page that's not a static file because it changes depending on whether it's New Year's or not if I visited on New Year's it says yes if I visit it when it's not New Year's it says no and so this is a dynamic page but static files files that don't change like our CSS the CSS doesn't change whether it's New Year's or not and because that's files unchanging Django calls it a static file and it means that Django can be a little bit cleverer about it if you start to think about projects at scale you might store your static files somewhere separate just in some place that makes it easy to access where they're cached for faster reads later on we'll talk about that a little more later in the course as we start to delve into topics like scalability as you begin to build larger web applications on the internet but long story short Django contains a lot of features that make it easy for us to deal with static files files that don't change like CSS files and generally the way that we'll add static files is inside of the New Year folder in addition to having a template slash New Year slash index.html we'll also create a new folder called Static that will contain all of the static files that we would like to include inside of this application as well inside a static I'll create a new folder called New Year inside of which is a new file called styles.css and so inside of scales.css I can now write all of the same CSS that I would want to have written before so maybe I want all my H1s to have a font family of sans serif a font size of 90 pixels maybe and I want the text alignment to be centered just a couple of CSS properties and values same as we've already seen just to say I would like to give H1 tags this particular style now what's left to do inside of index.html is at the top of our page I'll go ahead and add a command that says load static to mean go ahead and load static files for this particular HTML page and now I'll go ahead and Link a style sheet you'll recall that this type of command inside the head section of my web page where I would like to link some particular URL as a style sheet is how I add CSS to a page but what I'm going to include in here is the link is I'm going to include rather than hard coding a URL which I could do Django best practice says that instead let's just say it's going to be a static file and the static file is called New Year styles.css so I'm not specifying exactly what the URL is but I'm saying it is a static file that is inside of a new year folder called styles.css and Django is going to figure out what that URL ought to be and this is often better than hard coding a specific URL because maybe you might imagine in larger web applications where your static files are might change you might move your static files to a different domain or to a different route and so in order to deal with that this static keyword just means Django will figure out where your static files are located and will replace this command here in the curly braces and percent signs with the actual URL for this particular file so now that I've said that I want to link this particular static file styles.css into this webpage what I might first need to do just to let Django load static files is restart the server so you might sometimes need to control C and then go ahead and rerun python manage.pi run server that will rerun the server and now if I go back to the slash New Year route inside my web browser now I see the style look a little more close to what I actually wanted it to be centered sansserif in a larger font that here just says no and if we look at the underlying HTML of this page we see that Django is actually for us filled in what the static URL is for these particular static files and by default Django just uses slash static slash and then whatever the files happen to be and so anytime we're dealing with static files files that don't change like CSS files or JavaScript files we'll take a look at later in the course that's generally where they're going to go as some sort of static file that we're going to ultimately link to this particular page so now we've seen a couple of examples of web applications we can make using Django we've seen the Hello app in Django that can parameterize URLs that depending on the URL we visit can say hello to Brian or hello to David or Harry or Ron or Hermione and we've seen the ability to using Django add some conditions to be able to conditionally say if something is true render this page if something else is true render another page let's now use these features plus some additional features to begin to build a more sophisticated web application something like a todo list that maybe I want a web application that gives me a list of tasks that lets me add new tasks to my todo list and lets me view all of the tasks that are currently on my list and I'd like to build this up one step at a time so where can I start with this well this again is going to be a new app inside of my lecture 3 project I have two apps so far a Hello app and a app for the new year and now what I'd like to do is create a third app that I'm just going to call tasks that is going to be my task management app that's all under this umbrella lecture 3 project so I'll go ahead and run python manage.pi start app tasks to say I'd like to go ahead and create a new app called tasks anytime I create a new app a couple of steps I need to follow recall that I need to go into settings.pi inside of lecture three to say that in addition to installing hello and New Year I'd also like to install the tasks app for example then I need to go into urls.pi inside of lecture three to say that in addition to hello and New Year I'd also like for us to include the URLs for tasks this URLs is again the table of contents for my entire web application where my web application if I visit slash hello then we go to the URLs for the Hello app if I go to slash tasks then I go to the URLs for the tasks app so on and so forth it tells me all of the different URLs that I now have access to and as with before the URLs file isn't created for me inside of my application so I will need to go into the tasks directory and inside of the task directory I'll go ahead and create a new file that I will call urls.pi and the format of this is going to be very similar to what we've already seen from django.urls import path from dot import views and now I Define my URL patterns where I would like a path that it's just the empty string the empty path for now that loads the index function whose name is index for example so now let's actually write this index function inside of views.pi what I'd like to do is Define a function called index that accepts the request and what I'd like to do is render a page that displays a list of all of my tasks so before we get to the idea of adding tasks let's just see if we can get our program to display a list of tasks for example so all up at the top create a global variable that I'll just call tasks that the entire application is going to have access to and I'll add three tasks to it for now we'll just use Foo bar and baz this sort of nonsense names that are just useful strings for testing purposes just placing those as sample tasks that I might want to have inside of my application and now what I'd like to do is render a template the template I'd like to render will be called tasks slash index.html and then I'll provide some context to it some information that index.html needs what information does index.html need well index.html needs access to all of my tasks and where are all of my tasks while they're inside of this variable that Joseph happens to also be called tasks and this will be something we see quite often as a paradigm in Django where we see a key and a value that look like they have the same name the key distinction is whatever is here on the right after the colon this is the value the variable takes on this is a python variable like this python variable tasks here on the left this key the string tasks that is the name of the variable that the HTML template will have access to when Django is rendering it so Django has access to this variable name on the left that has this value on the right so if you see this Paradigm that's ultimately what that's going to mean and now what I need to do is create this index.html file and make it use this tasks variable somehow how might I go about doing that well I can go back into my tasks directory create a new folder for my templates so I'll create a templates directory inside of which is a tasks directory because the template that I'm rendering again is tasks slash index.html and inside of tasks I'll create a new file called index.html inside of which we'll include some HTML I'll include just a standard starting HTML title will be tasks and now we'll have the body of the HTML page that I want to display all the tasks inside of an unordered list perhaps and if you recall from HTML to create an unordered list it looks a little something like this UL starts the unordered list and each list item is an Li tag like item one and then item two and then item three something like that gives me an unordered list that has three elements inside of it but I don't want to do this now because I don't want to hard code or exactly specify what all of the tasks are going to be what I really want to do is Loop over this tasks variable here looping over all of the tasks inside of it and creating a list item for each one of those tasks and just as in before where we could use if inside of curly braces and percent signs to use a condition likewise we can use four to say something like for task in tasks I would like to display a list item and then using these double curly braces I'm saying Plug In the task here in between these list item tasks I would like to plug in whatever the value of the task variable is and then I'll go ahead and end the for Loop there so what I've done here is rather than add a condition into a template which we've already seen I now have the ability to add a loop into an HTML template using Django to say that for task in tasks I'd like to Loop over all of the elements inside of this sequence called tasks and for each one of those individual tasks I would like to display a list item in HTML that includes whatever the value of the task happens to be and N4 just like and if ended the if statement N4 is going to end the for Loop so this syntax now rather than give me exactly the same number of list items every time with exactly the same content will be dynamic whatever the value of tasks is we will now see on this page each one as a list item and we can test this right now if I actually run this application by going to pythonmanage.pi run server I'll go ahead and go to this URL the default URL has no page but if I go to slash tasks well then here's what I see I see an unordered list that has Foo bar and bath each one is a list item and if I view the page source to see what the actual HTML is here's what I see I only wrote One Li tag inside of my template but because I put it inside of a for Loop that iterates over each of the tasks what I ultimately get in the HTML that comes back to the user is one list item for each of the elements that was originally inside of that list so I now have the ability to Loop over a list in order to generate that list of tasks of course there's still no way to like modify any of these tasks what we have here is just a fixed list of tasks that just so happens to be rendering using a loop what I'd maybe like is another page that will allow me to add in new tasks a form effectively that lets me type in a new task and press add in order to add a new task so let's do that inside of views.pi I'll Define a new function that I'm going to call add and what the add function is going to do is render tasks slash ad dot HTML in order to know when to run the few I need to give this view a URL so I'll go into urls.pi and add a new path when I go to the add route I want to go to the views.add function and I'll call this function add for example and so now when I go to slash task slash ad it's going to call the add function inside of views and inside of views here it's going to run this function that will render add.html so let's go ahead and now write ad.html we'll go into templates I'll create a new file called add.html and you know what add.html syntax is very similar to the syntax from index.html in terms of what the HTML content is so I'll go ahead and just copy this whole page from index.html paste it into ad.html the only thing that's different is the body of the page where instead of an unordered list that displays all the tasks I'd instead like a form where that form has an input whose type is text and maybe this input field has a name called task such that I can access that input data later and an input whose type is submit for example and maybe I'll give it a big heading at the top that says like add task for example so now I have a new route that adds a task so my default slash tasks route just displays a bulleted list of all the tasks and if I go to slash tasks slash add here now is my form that gives me a place where I can type in a task press submit that right now does nothing but that ultimately I hope will actually add a new task of course something I just did there should strike us as not the best design in particular the decision I made was because the general structure of this HTML page is so similar it's got the HTML tag it's got a head the title of the page is tasks ultimately I just copied all of the content of index.html and pasted it into this new HTML page add.html and anytime you find yourself copy pasting this should be another area where you start to think there's probably a better way to do this and with just pure HTML there kind of wasn't if we wanted multiple different HTML pages that displayed similar content we needed the same HTML on all those different pages but now in the world of Django we have the ability to use something called template inheritance what I'm now going to do is Define an HTML file called the layout just some file that the other files add.html and index.html are going to inherit from they're going to inherit from my layout all of the structure of the page that's the same on both of the pages and all I then need to write is what differs between the pages and as I mentioned before the only thing that differs between ad.html and index.html is the content of the body of the page over here so what can I now do well I will create a new file inside of my template tasks directory called layout.html and layout is going to have the basic layout that is common to both of these pages I have a title these title is tasks I have the body of the page and maybe there's more in common with both of the pages as well that I could add but right here this in between the body tags this is the body of the page that is going to change between each of the different pages so to denote this inside of a layout in Django I'll again use the curly brace and percent signs I'll call this a block and then I'll give this block a name I'll call it body just because it's the body of the page but I could give it any name and then I'll add an end block at the bottom here and so what I've now said inside of this layout file is that this layout file has a body inside of the structure of the page and inside the body is this block called body and what I'm saying here is this block might change depending on which file we're using add.html or index.html the rest of the structure won't change but the content of this block this block called body might change and so now what I can do inside of index.html and add.html is instead of including all of this logic I can get rid of everything other than the key part of the page that's going to be different about index.html the only thing different about index.html is this unordered list and what I'll now include at the top of index.html is I'll say that this HTML page extends tasks slash layout.html so this is now this idea of template inheritance I'm inheriting from the layout.html template basically saying use the layout.html template except inside of block body I would like to include all of this content and maybe I'll give it a H1 that just says tasks just as a title as well and so now what index.html is saying is rather the need to include all of that HTML all I need to say is this HTML file is based on the layout.html file but the difference is that inside the body of the page it's going to be this particular content here and for ad.html I can do exactly the same thing I can just add this line extends tasks slash layout.html to the top of ad.html and then I can get rid of all of this boilerplate code so to speak and just include the part of the page that differs inside the body of the page and so it seems like we've done a fair bit more work for just these two pages but if you imagine more complex websites it might have dozens or hundreds of different pages the ability to factor out the HTML that Pages have in common can definitely be very helpful just for good design to be able to make sure we're not repeating ourselves and if we ever need to change the structure rather than change it in dozens or hundreds of different places we just change it in one place inside of the layout file and the result of that is that it's going to change in each of the pages that inherit from that page as well and we can test this by just going back to slash task slash add which looks fine and back to tasks looks fine too both of these Pages now are inheriting from that basic layout now it's a little Annoying that anytime I want to switch between this page and the ad page I have to go to the URL and know that I need to go to slash tasks slash ad in order to get back and forth between them so I might like to add a link that takes me from one page to the other and vice versa and I can do that if I go into index.html you might imagine that I could just add a link here a href to create a link let's go to slash tasks slash add and like add a new task it'll be the name of that link except the problem is or the reason why this isn't necessarily good design is the Django is designed to make it such that it's very easy to change the structure of the pages in terms of how the URLs all relate to each other and I have here hard coded that when you click this link we go to slash tasks slash ad and If Ever I wanted to change that URL maybe instead of Slash ad I wanted Slash new instead of Slash ad well then I need to change it in two places I'd need to go back to the urls.pi file to change the actual URL to say instead of add it should be called new but then I need to find every place where I use that URL and I'd need to change it there as well so in order to deal with this Django has an additional feature that basically lets Django figure out what the URL should be instead and we do that by using the name that we gave to each of those routes and so this is where that name becomes relevant that I can hear just say link to a particular URL link to the URL called add so I just said link to URL called add and how Django figures this out is based on the contents of my urls.pi file that inside my urls.pi file I defined a number of different paths and I gave each of those paths a name this one was called Index this one was called add and so when I did that I was able to say if you link to a URL called add Django will find a URL whose name is ADD and Link me directly to that route and so if ever I were to change the route to something else Django would just figure out what the new URL should be and I wouldn't have to worry about it Django would fix the problems for me and so now if I go back to the task site I can click the add a new task button and that will take me to the add task and maybe now I'd like to add a link that goes back so I can go to add.html and maybe add a link down to the bottom ahref equals and what URL would I like to link to well my default page was just called index so I'll go ahead and include the word index I'd like to link to the URL index and then view tasks maybe as the name of the link so now if I go to just the default tasks page I see a link to go add a new task and now I see a link that's going to take me back to the ability to view tasks and when I click on that link I see no and now that's probably not what I wanted I wanted to go back to the index page for my tasks application but it seems that when I clicked on view tasks I'm taken to no and what's going on here well if you look at the URL the URL is Slash new year somehow I was on the tasks app I clicked a link and I'm back at the new year app how did that happen well it turns out this is an example of a namespace collision where I have two things that all have the same name and in this case what's happening is that I have a urls.pi file for my tasks application where I have a route called add and a route called index but it just so happens that inside of the New Year folder if I go up to New Year and I look at New Year's urls.pi file the New Year's urls.pi file also has a path whose name is index and so what I said was create a link and I would like that link to link to the thing that has the URL with a name of index and it turns out there were multiple things that all had a name of index and so Django didn't know which to choose and it just chose the new year one and you might imagine that linking between apps is something you might reasonably want to do you want to from Amazon's shopping page for example be able to click a link that takes you to Amazon video or you want from Google search to be able to click a button that gets you to Google Maps but in this case this isn't quite what I wanted there's a namespace collision where two things have the same name that I would now like to be able to fix and the easy way to fix this is inside of urls.pi for my tasks application let me just give each of these URLs an app name called tasks this just helps uniquely identify all of the URLs because now inside of ad.html rather than just link to a URL whose name is index I'm going to instead link to tasks colon index to mean from tasks the tasks app get the index URL and likewise inside of index.html I'll link to tasks colon add to get that particular route from this particular application name so now if I go back to the site go back to my tasks page now the Links work as expected I can get to the new tasks and I can get back to the list of all of my tasks as well so this now works I now have these two pages one that displays my list one that displays my ability to add a new task but the form to add a new task doesn't really do anything right now I type in a task I type in like Foo if I want to add a task called Foo and I press submit and like nothing happens nothing changes meaningfully on this site so I'd like for this form to do something and we've seen that we can add an action to a forum to be able to take that form and submit it somewhere and that's what I'd like to do when I add a new task I'm going to add an action to this form and when I submit the form what URL would I'd like to submit it to well I'll go ahead and submit it back to the URL for tasks colon add I'll send it back to that ad URL when I submit the form and I'm going to give this form a specific request method its method is going to be post and so we've already seen a request method of get anytime you type in a URL or click on a link to go to another page the request method implicitly associated with that request is called get which just means I would like to get a particular page anytime you're submitting data that has the potential to change some State inside the application like changing the state of the list of tasks that is stored inside the application then we'll generally use a different request method called post post was generally used for submitting form data it doesn't include parameters inside the URL the way a get request does as we saw with Google for example but this post ability is going to give us the ability now to send data via a different request method to my ad route and so let's now give this a try now I'm going to go to task add I see the ability to add a task and maybe I'll add a task like check email or something and press submit and all right I get an error forbidden this 403 in parentheses means that is the response code that came back this is an error that Django has generated for me so this 403 as we saw before means forbidden I don't have permission to do this for some reason now why don't I have permission to submit this form it says csrf verification failed so csrf stands for crosssite request forgery and what that means it is a security vulnerability that is inherent in some forms if they're not designed in a secure way meaning that someone could Forge a request to a particular website using some form on their own separate website for example you might imagine that someone on a different website might trick the user into submitting a form that submits its data to R add task function that adds a new task to their task list and maybe that's not a big deal for tasks but you might imagine in more secure contexts more sensitive contexts like a bank for example they might have a form on their website for transferring money from one user to another and if they're vulnerable to this sort of attack crosssite request forgery someone else on a different website could trick the user into submitting a form where it submits form data and it goes to the bank's website to say I would like to transfer money from this one user to another user so we would like to be able to design forms that are not vulnerable to that particular security vulnerability that don't allow for requests to be forged by another website so how can we go about doing this well one strategy that can be used in order to deal with these sorts of attacks is to add into our Forum a hidden crosssite request forgery token or csrf token which will just be some unique token that's generated for every session so every time a different user visits this particular form they see a different csrf token and then when the user submits the form they're submitting that token with the form and our web application is going to check to make sure that that token is indeed valid and if it is valid then they'll allow the form submission to go through but this means that an adversary wouldn't be able to fake a request to our website because that adversary doesn't know specifically what the generated token is so they would fail the check for csrf validation and it just so happens that Django has csrf validation turned on by default and it's done so via specific addon known as a Django middleware middleware refers to the ability in Django to be able to sort of intervene in the request response processing of a Django request and if I look at the settings.pi file if you're curious for this particular web application inside of settings.pi if we scroll down we see there's a whole bunch of middleware that's installed by default inside of a Django application in terms of making sure that we have various different features hooked into this request response processing and one of those is the CRS csrf view middleware this feature of Django that allows it to make sure that our requests whenever we're submitting data via post something that has the potential to change the state of the application in some way that we need to have csrf validation we need to add some sort of token to our Forum to make sure that Django is able to authenticate the validity of this form to make sure they know the form actually came from the web application itself and it's quite easy to be able to add this token into our HTML page Django has a builtin inside the curly brace and percent sign we can just say I would like to add into this page the csrf token for example to go ahead and fill in the csrf token right there if I now go back to the page and refresh the page now I see add task but if we're curious I can now actually go and view the page Source I can look inside this page and here now is the form and this is the form same as we saw before but you'll notice that Django has inserted this additional input field this input whose type is hidden meaning we won't be able to see it normally whose name is csrf middleware token and here is its value some long string of characters that Django has generated for me such that when I submit this form it's going to check to make sure this token is valid and if it doesn't find this token it is not going to accept my form submission and if someone else goes to this website they're going to see a different token presented to them as well and that helps to make sure that nobody can forge these sorts of requests so now if I type in a task that I'd like to add something like check email and press submit now the Forum does submit without errors of course it doesn't do anything if I go back to my task list it's still empty but at least I've now been able to submit that form it's worth noting that inside of ad.html we created this form sort of from scratch I created an input field whose type is text and whose name is Task but creating forms is something that happens so often in the world of web programming oftentimes with many different fields that you might want to change over time the djangos added a number of ways to make it easier to create forums to validate the data inside of those forms just to make our lives a little bit easier when it comes to dealing with and interacting with forums and so now we'll explore an alternative way of doing the same thing what we did here just works we can create a forum just using raw HTML as we've seen before but Django also has the ability to create forms for us so in order to do this I'll go into views.pi and at the top add from Django import forms and now I'm going to create a new class to represent this form I'll create a python class that'll just call new task form since I'll use it to create a new task it will inherit from forms.form and now inside of this class I need to Define all of the fields I would like for this forum to have all the inputs that I would like the user to provide and so I want them to provide the name of a task which will be a character field or a Char field meaning I want the user to type in characters and I can give this a label call it new task for example and now what I can do is when I render add.html I can add some context and say give this template access to a variable called form which will just be a new task form I'm going to create a new task form pass it into this ad.html template and now inside of add.html instead of writing the input whose type is text name is Task and having to do that on my own I can just use double curly braces and say plug in the form here and that will automatically take care of Django will generate the necessary HTML to make that form work so if I refresh this page now I see that here is the form the Django has created for me it's created an input field that's given it a label of new tasks so I know that it's where a new task should go but now rather than needing to edit the HTML anytime I want to change the form data that's involved inside of this application I can just change this new task form if maybe I want to eventually make upgrades to my application where in addition to specifying a text field where I can type in the new task maybe I also want to be able to specify a number indicating the priority that tasks should have I could additionally give this form access to a priority variable which is an integer field whose label is priority and I can even add constraints on this to be able to ensure that it's valid data I can give it a Min value of maybe one and a max value of 10 for example in order to add all of that and now without touching anything in my HTML I just changed the form itself inside of my python code now if I refresh the page I see an additional field I see an opportunity for me to type in a new task and I see an opportunity for me to specify some priority and of course you could add CSS in order to style this up a little bit nicer but now Django will automatically do clientside validation where if I type in a new task like check email but I don't specify a priority and submit it it tells me to fill it out if I type in a number that's in an invalid range I only wanted numbers from 0 to 10 it fills it out and this is all what we would call again clientside validation the server isn't getting any of this data it's just the web page has been encoded to know what the valid values are and it's going to constrain me to make sure that I'm typing in something that matches those values but in general when we're doing form validation when we're making sure that forms are valid data we want to somehow make sure to include not only clientside validation but also server side validation we also want to check on the server to make sure that inputs are value valid as well because there are many reasons why this we might want to be able to do this one is that it's very easy to disable this sort of clientside validation or just submit a request without doing any of the clientside validation and maybe if the user is looking at an old version of the page the validation we're doing on the server is more up to date than this clientside validation as well and Django's forums will make it very easy for us to do both of these things both the clientside validation and the server side validation as well so how does this work how do we do that well inside of the add function this add function now gets called in two different ways depending upon the request method if I try to get the ad page and by just clicking on the link for add a new task or going to the URL of Slash add then I want to just render a new blank form but if I post data to this page by using the post request method instead of get that means I'm submitting the form and I now want to submit a new task to be added to my list of tasks so I'd like to add a check for that I'm going to add a condition here that says if request dot method equals post well then here what I'd like to do is process the result of that request and the way you do that in a Django form is by creating a new variable called form which will be a new task form and if I just use new task form with two parentheses like I did before that creates a blank form but you can also populate that form with some data and if I populate it with request dot post what that is going to do is request.post contains all of the data that the User submitted when they submitted the form and so what I'm doing now is I'm creating a form variable by taking all of that data and filling it into this new task form which will contain now all of the data the User submitted and you can imagine checking this manually but I can just call if form dot is valid and inside this if statement use some logic using the clean data as a result of using this form and so inside of a variable called form dot clean data that will give me access to all of the data the User submitted and so if I want to get like what task they submitted because I had a variable here called task inside of a new task form well I'll just go to form.clean data and then task and I'll go ahead and save this inside of a variable called tasks and now what I might like to do is add this task to my list of tasks go tasks.append this new task so that's what we do if the form is valid if the form is valid we take the data from the form get the task save it inside this variable called tasks and add it to my growing list but else if the form is not valid what should we do instead well then I should return the ad.html file again but instead of providing the form back to them the a new form back to them I'm going to send back the existing form data back to them so we can display information about any errors that might have come up as well so what does this now look like let's Show an example and then I'll go back to the codes you can see in better detail how it works here's task add recall that if I type in a task like check email and a priority that's not valid out of range like 11 and press submit it says value must be less than or equal to 10. but let's now imagine a situation where the client and server are validating different things that maybe I've now decided you know what priority instead of being from 1 to 10 can only be from one to five that's now the valid range for priorities but this client which is still an older version of the page doesn't know this so it thinks that a priority of eight is still valid and it's going to pass clientside validation but now I press submit and the server is going to process it and because it's invalid it gives me back the form and gives me an error ensure this valid value is less than or equal to 5. and so this now is why we generally want both client and server side validation to make sure that the data we ultimately get is going to be accurate and it's going to be clean matching whatever specification we sent out when we were creating that form for the first time and so for the purposes of now we're not going to really worry about priority too much because we just really care about what the task is but just know that if you wanted a form that had multiple Fields you could add additional fields to this form input as well so now we've added some application logic to our route that checks to make sure that the form is valid or not if we take a look at what the add function is really doing we're checking if the request method is post meaning if the User submitted some form data then we figure out all the data they submitted and save it inside this form variable we check to see if the form is valid did they actually provide a task are they making providing all the necessary data in the right format if so then we get the task and add it to the list of tasks otherwise if the form is not valid then we go ahead and render that same ad.html file back to them but we pass in the form that they submitted so that they can see all of the errors they made they can make modifications to their own form submission if they'd like to and then otherwise meaning if the request method wasn't post at all if the user just tried to get the page rather than submit data to it then we're just going to render to them an empty form and this sort of Paradigm is actually quite common when we're dealing with requests and responses that oftentimes pages that have forms will want you to First be able to get that form via the get method to just get the page in order to display the contents but those routes will also often support a post method where you can post data to those routes in order to say I would like to now submit data to a particular route in order to get some sort of result some sort of addition to a list of tasks transferring money in a bank from one account to another for example or something else entirely but watch what happens if I now try inside of tasks ad to add a new task that's valid something like check email for example I press submit and all right nothing quite seems to happen because I just get back this new task form but if I go back to view tasks now I see that check email has been added to my list of tasks the original list of tasks just had Fue barbaz and now we've added check email to it but this wasn't quite the behavior that I might have expected maybe I wanted that after I submitted the task Forum to add a new task I would like to be redirected back to this page as well and it turns out Django makes it easy for us to be able to redirect users from one page to another in order to do that after we add a new task to my list of tasks I'm going to return an HTTP response redirect and redirect the user to a particular route I could redirect them to just like slash tasks for example but again we generally try not to hard code URLs into our application so better design would be to say let me give you the name of the route and go ahead and reverse engineer what the route actually is from that and so in order to do that we can use the function called reverse built into Django and say tasks colon index to say figure out what the URL of the index URL for the tasks app is and use that URL as the one that we ultimately redirect to when we return this HTTP response redirect in order to use these we need to import both of them so from the top I'll say from django.http import HTTP response redirect and from django.urls I'll go ahead and import reverse so I've imported both of these and now the effect of this is that after I submit a new task and add it to my list of tasks I'm going to be redirected back to the index page of my tasks application and for good measure I'll go ahead and start us off with an empty list to get rid of the fubarb as we saw there originally so tasks start out as the empty list now refresh the page I see no tasks in here by default but if I add a new task I type in something like check email press submit I now see that added to the task list and I get redirected back to the task page I can add a new task something like do laundry press submit and that gets added to my tasks list as well too so by maintaining this Global variable called tasks and updating it anytime I submit the form I've been able to dynamically grow this list of tasks inside of my application and display all of those tasks here inside of my HTML page however there's still one big problem with the application that I've built and it goes back to the idea that I've stored these tasks inside of a global variable this variable is something the entire application has access to which means that anyone who visits my website is going to be able to see the same exact list of tasks and we can simulate this by imagining someone else visiting this URL which I can simulate in Google Chrome by opening an incognito window to simulate a different session a different person interacting with the page and going to the same URL what they see when any incognito window they go to the same URL is they see the exact same list of tasks both me and another person see the same list because there's just one tasks variable across the entire application that is shared among all of the requests that come in to that particular application and that's probably not what I want when I'm dealing with something like a list of tasks I probably want it to be per user such that if a different user visits the page they have their own list of tasks as well and so in order to do this we'll introduce the concept of sessions in Django or in the web more generally where sessions are away for one Django to be able to remember who you are such that on subsequent visits it remembers who you are and knows who you are but more importantly it's able to then store data about your particular session it's able to store your user ID or information about you or in this case it's able to store all of your tasks and so in order to take advantage of sessions instead of having a global variable called tasks we're going to go ahead and delete this and instead store tasks inside of the user's session so inside the index route I'll include a line like this I'll check to see if tasks is not in request.session meaning if I look inside the session you can think of the session as like a big dictionary representing all the data we have on file inside the session about the user and if tasks is not in that session well let me add to request.sessions or session tasks and set that equal to the empty list and so what I've done here is I'm looking inside of the session I'm looking inside the session to see is there already a list of tasks in that session and if there isn't if there isn't already a list of tasks in the session well then I'd like to create it then I'd like to set request.session square bracket tasks equal to the empty list if the user doesn't already have a list of tasks go ahead and give them an empty list of tasks and now here in tasks instead of rendering the variable tasks which no longer exists I'll render request dot session tasks to pass in that list of tasks to this particular template and now in index.html we're still looping over to that list of tasks and now we'll see if I go back to tasks I see no such table Django underscore session so this is a bit of a strange error what's going on here no such table Django underscore session well it turns out as we'll see in the future Django tends to store data inside of tables and we haven't yet gotten to what that ultimately means or how to manipulate or interact with data stored inside of tables but Django stores data about sessions as it would happen inside of a table by default now you can change this to have Django stored data about sessions elsewhere but ultimately Django is keeping data about who you are and what your tasks are and that data needs to be stored somewhere and by default Django wants to store it inside of a table and right now that table doesn't exist so we need to create it and the way to give Django access to that table that it wants to create that has been waiting to create but it hasn't yet is to run this command inside the terminal python manage.pi migrate and we'll learn more about what that means in terms of what a migration is and what it means to migrate data into a database but for now just to know that python managed.pi migrate will allow us to create all of the default tables inside of Django's database next time we'll take a look at actually creating databases of our own adding tables of our own that store our own custom data but Django has some initial default tables that it wants to create and running python managed on Pi migrate allows for those tables to be created now that those exist I first need to run the server it's a python manage.pi run server I load the page and here now is my list of tasks there's nothing here so when I Loop over all the list items it's sort of empty which maybe isn't the best user experience or user design so what I might want to do is add an additional condition it turns out inside of index.html whenever I have a for Loop inside of a Django template I can also add an empty condition to say if I run the for Loop but it doesn't run at all because the sequence is empty well then let me just say like no tasks for example and this is just a nice to have feature of the Django language that just makes it easy for us to be able to deal with situations where we're iterating over a list and there's nothing in that list so now I refresh the page no tasks exactly what I would expect to see and now this index route seems to be working fine what now needs to change when it comes to adding a new task well rather than append the task to my list of tasks let me go ahead and say request.session tasks because that is my list of tasks and let me add to request.session tasks this new task I'm adding to it a new sort of adding a list to the end of it that just contains the one new task that I got from the form so when the form is submitted we check to make sure the form is valid we get the task the User submitted and we append that to the list of tasks that's already stored inside of the session before redirecting the user back to the index page so let's give it a try we'll go back to this URL back to tasks I see I have no tasks initially and now I can go ahead and add a new task type in something like check email press submit and all right now that's added add a new task someone like do laundry submit and now both of those tasks are there but now importantly if you imagine someone in ink in an incognito window or on a different computer visiting my same website going back to this page what they see is an entirely different list of tasks because they have a different session the sessions are determined by cookies these little hand stamps that help the browser to be able to give some information to Django's web server to say here is who I am so Django knows what data to show you and in this case my original case Django knows who I am knows to show me these tasks and in this case it's a different user in incognito window in this case and so what they see is a list that has no tasks inside it at all so now we've really just scratched the surface of what Django has to offer but we see now the ability it has to be able to create Dynamic web applications instead of just displaying HTML and CSS that's the same every time using Django we now have the ability to be able to generate programmatically custom HTML and CSS either saying hello to a person's name based on what name is provided inside of a URL or the ability to say to check the current date and conditionally display something if the date is one thing versus another and the ability to store data on a session basis to be able to store information about a user's todo list for example such that on subsequent visits they can see their list of things they need to do with a different list for each of these possible users and here really is just the beginning of what Django has to offer where Django gets very powerful is when it comes towards storing data inside of databases and manipulating that data and interacting with that data in various different ways and that's ultimately where a lot of the power of a web framework like this ultimately comes in we'll explore more of that next time but for now that was just a look at Django and how we can use use it to be able to build these sorts of web applications this was web programming with python and JavaScript we'll see you next time all right welcome back everyone to web programming with python and JavaScript so last time we took a look at a brand new web framework written in Python called Django and what Django allowed us to do was to build Dynamic web applications applications where we now had the ability to not just display the same HTML and CSS to the user every single time but to dynamically generate HTML in order to allow users to interact with a page that was a little bit more Dynamic doing things like rendering things on the page only if a certain condition was true or looping over a list of values and displaying one HTML element for each of those possible values but where Django gets especially powerful and where web applications certainly get much more interesting is as we start to delve into the world of data and trying to have web applications that store data inside of a database and to do that we're going to introduce a couple of topics today in particular we're going to introduce the idea of SQL models and migrations SQL is a database language that we can use to interact with databases and Django is going to allow us to have an abstraction layer on top of SQL to interact not by writing direct SQL queries but by interacting with python classes and objects that we're going to refer to as models and migrations are going to be a technique that are going to allow us to update our database in response to changes that we make to our underlying models so before we get into things that are more Django specific let's begin with the discussion of SQL more generally and more broadly just the discussion of data and the types of data that we're going to want to store and now there are a number of ways that we could try to store data inside of a computer system but oftentimes in databases in particular in a type of database known as a relational database we're going to store data inside of a table where each table is going to have rows and columns and so for the take of today we're going to imagine starting to construct a database and a web application that an airline might use for example for keeping track of various different flights on that Airline and keeping track of which passengers are on those flights and so what we have here is a sample table for example of how you might represent a whole bunch of flight related data here I have three columns for three pieces of information that I might want to keep track of for any particular flight for any given flight I might want to know that flight's origin what city it's leaving from its destination what city it's arriving at and its duration some value in minutes of how long it's going to take the flight to get from the origin to the destination so each of those columns represents one field that I might want to keep track of about my data and each row meanwhile is going to represent an individual flight so here for example is one row representing one flight from New York to London and that flight just so happens to take 415 minutes and so what SQL is going to allow us to do is it is going to be a database language that is designed to interact with relational database Management Systems databases that organize data into tables where every table has rows and columns and it turns out there are a number of different database management systems that Implement parts of the SQL standard of this type of language some of the more popular are MySQL postgres SQL and sqlite but there are definitely others as well and each of these has various different features and different use cases where some might be more appropriate MySQL and postgresql otherwise known as just postgres are more heavier database management system so to speak they're generally running on servers elsewhere where a lot of big companies will use servers like this in order to store data and represent their data in sort of a separate database where the idea of that is that you might want your web application running on one server but you might want your database running as an entirely separate process such that they can behave independently you can debug and test them independently and one is not if one goes down the other doesn't go down as well sqlite is a bit of a simpler lighter weight implementation of the SQL standard and what sqlite is going to do is rather than be an entire server that is going to be listening for requests and making responses sqlite is just going to store all of its data as a single file so we're going to store SQL data inside of a sqlite file and that's going to make it a little bit easier for us as we're just getting started to begin to write queries and add things to our database and retrieve things from our database but know that many of the same types of SQL syntax that we'll see with SQL Lite which is Django's default can also be applied to other languages as well in other database Management Systems too so as we begin to store data inside of a SQL database ultimately each of those pieces of data has a type in the same way that in Python we have types for various different types of data we have integers and we have strings and we have lists and tuples and so forth SQL 2 has types that represent various different categories of information that you might want to store inside of a database and each database management system has its own different set of types sqlite for example has a fairly short list of basic types that it supports it supports text for just like strings of text for example something like a city name for instance might be stored as text we have support for integers which are just 0 1 2 3 4 plus the negative numbers negative one negative two negative three and so forth we have support for real numbers where real numbers don't have to just be integers they can have something after the decimal point something like 2.8 or something else that might have a decimal in it and then numeric is another category for data that's just more generally some sort of number that might number like data so something like a Boolean value or something like a date for example might be stored using this numeric type where it's not really an integer or a real number though you could represent it as such it's other numeric type of data and then finally blob which stands for binary large object is any type of other binary data just zeros and ones that you might want to store inside of your database so for example if you're storing files maybe they're audio files or images or other types of files that you want to keep track of inside of your database you can store just pure binary data inside of a SQL database as well so these now are the basic types of sqlite supports but other database Management Systems have other types that they support as well MySQL for example has a much longer list of other types that it supports in addition to just supporting a text type for arbitrary length text MySQL also has a type called Char that takes an argument of size for saying I want like size characters worth of data that we're going to store inside the database and you might imagine that this can be advantageous in situations where you know that your data is going to be within a certain number of characters so if you're storing a zip code for example in the United States a zip code in the United States might just be five characters and so you can allocate a character length of five characters worth of space for storing every single zip code inside of your database table so for efficiency's sake if you know the maximum length and you can fix that length inside your database that can be an efficient choice varchar of a size is similar and this is a variable length character if something isn't going to be exactly a certain number of characters but maybe up to a certain number of characters you can use varchar to say you know maybe sometimes it's going to be fewer characters but it could be up to size number of characters and there are tradeoffs there too then there are various different types of integers there's not just a single integer type but small int and int and bigint Each of which uses a different number of bytes in order to store an integer data so if you want to be able to store much larger or much smaller numbers you might need a bigger type like an INT or a big end but if your numbers are going to be pretty small maybe you're okay with just a small end and likewise there are similar types of tradeoffs for floating Point numbers where much as in programming languages like C if you're familiar have both a float and a double type where a double uses more bytes of memory in order to store information here too we have float and double which allow us to store floating Point numbers numbers that might be real numbered values where a double just allows us to express a number to a little bit more Precision than a floating Point number might be able to and there are many other types as well but the general idea is that here even in SQL much as in a language like python we have types for each of these various different kinds of data so now that we understand that each type of data has types what we'd like to do is to be able to inside of a database actually create a table and there are various different SQL commands that we can run on our database in order to perform various different operations and the first we might want to execute is a command that is just going to create a table for example so how might we go about doing that well it turns out the syntax for creating a table is going to look a little something like this this here is the syntax we would use to create a table in sqlite for representing flights for example so we begin with the keyword create table to say I would like to create a new table inside of this database next I give the name of the table every table has a name just for ease of reference and here the name of the table is just the word flights then what follows in parentheses are a comma separated list of all of the columns that should be present in the table I'm not yet adding any data to the table the create table query is just going to decide the structure of the table what are the columns and what are the columns types and so here we see that in the beginning of each of these pair of these Clauses that are separated by commas we have the name of the column so we have an ID column because though we didn't see this before often in SQL it's going to be helpful to be able to have some way of uniquely referencing a particular element inside of the table and you know maybe there are multiple flights that are going from New York to London for example and I want some way of distinguishing between them and one easy way is to give every single entry inside of a table a unique identifier or a unique ID represented here by this ID column and that's going to be of weight making sure that we can always access a particular flight uniquely so we have an ID column An Origin column a destination column and a duration column and each of those columns has a type so the types here ID is an integer it's just going to be some number representing the flight counting one two three four so on and so forth origin and destination we'll label here as text though you'll see that if we were using MySQL for example I might make these a variable length character that could be up to a certain number of characters if I know you know there's probably not going to be a city that's longer than a certain number of characters for instance and then I have a duration which here then is an integer some number of minutes that is going to be how long it takes for this flight to go from the origin to the destination after the types for each of the columns I have additional constraints that I might add to the columns as well so integer primary key the primary key here means that the ID is going to be the primary Way by which I uniquely identify a flight and there's going to be some optimizations here to make it very quick to be able to look up a flight by its ID and not know as a constraint that I can place on columns to be able to say I don't want to allow for this particular column to ever be empty I don't want there to ever be a flight that doesn't have an origin or doesn't have a destination or a duration so I can add constraints to a particular column to say you know what for the origin destination duration columns those should not be allowed to be null I want to always have an origin and a destination and a duration and then finally this Auto increment after the primary key is a queue into SQL to automatically update the ID every time I add a new row into the table so if I add a new flight I can give the flight An Origin destination and duration but I don't have to worry about giving it an ID SQL is going to handle that for me automatically automatically giving that new table the next or the new row in that table the next available ID number so here then is the way we create a table by giving the name of the table each of the columns the types for each of those columns and then any constraints we would want to place on those columns and it turns out there are a number of different types of constraints that I can add to a particular column not null is one we've seen before you can add a default which just adds a default value to a particular column primary key we've seen unique guarantees that every value is going to be unique so if you don't want to allow for the same value to appear twice for a particular column you can add a unique constraint to a particular column to enforce that as well and then check can be use to make sure that a value obeys a certain condition like a number Falls within a certain range for example if you have like movie ratings for example and you're storing movie ratings inside of a database you might care to make sure that those ratings are within the one to five range or the one to ten range or whatever range you deem valid for the database and so via constraints you can begin to ensure that as you add data to the table that data is going to be valid in some way that it needs to obey certain constraints otherwise if you try to add it to the table it's not going to be accepted at all and so that leads into the natural next question which is I now have all of these various different tables that I can create using these create table commands but how do I actually add data into those tables and the way we're going to do that is via an insert command where we're going to insert data into a SQL table and so what might that command look like the command is generally going to look like this where we're going to say insert into to say I would like to add a new row to a table following that we provide the name of the table something like flights to say I would like to add a new row to the flights table and following the name of the table we need to provide in parentheses a comma separated list of all of the column names for which we are going to provide values so here I've said I want to provide values for the origin destination and duration of this flight note that I'm leaving out the ID column I don't have to worry about adding a value for the ID because I said the ID should Auto increment so it's going to automatically give the next available ID and what values am I going to provide well after the word values I provide again in parentheses a comma separated list of all of the values that are to be associated with those columns in the same order so origin was the first one here so origin will correspond to New York destination will correspond to London duration will correspond to 415. so this query then lets me take the flights table that I've already created and add some data into that table as well so you can use these insert queries so once you have a table to be able to add new rows of data to that table every time a new flight comes up for an airline the airline might behind the scenes be running an insert into flights command that takes data about that flight and adds it to the table but of course once we've added data to a table we'd ideally like some way to get data out of that table as well that once we've stored data inside of our database we want to retrieve that data too and to do that we're going to use a particular type of query called a select query and what select is going to do is it's going to take a table that already exists and allow us to get data out of that table it's not going to modify the data that's there it's just going to retrieve data that might be inside of a particular table so what do those queries look like well the simplest query might look a little something like this select star from flights select from flights means I want to select data from the flights table and this star is a wild card that here just means that select all of the possible columns that you can and so if this is my table my table of flights where each flight has an ID An Origin a destination and a duration then select star from flights we'll select all of that data all of the rows and all of the columns are going to come back to me when I run a query like this now it's possible that when I'm running these queries when I'm accessing data that I don't actually care about all of these columns especially if I have a table with many more columns than just this maybe I only care about particular columns and it would be wasteful to query the database asking it to return to mean a whole lot more data than I actually need so instead I could run a query like this select instead of star I'm saying select origin comma destination from flights so I'm again selecting from the flights table selecting all of the rows of still but the difference is that instead of Select star which means select all of the columns that are present in the table select origin comma destination means I'm only going to select these two columns the origin column and the destination column so highlighted in blue here is the data that would be returned if someone were to run this particular SQL query now especially as tables begin to get larger and begin to have more and more rows here I just have six rows but you might imagine a table with thousands or even millions of rows within it you probably don't want to be returning every single row every single time so just as you can constrain which columns come back to you likewise you too can constrain which rows come back to you when you perform a query too so I could say something like select star from flight where ID equals three again this reads it's very englishlike I'm saying select all of the columns from the flights table but not all of the rows I only want to select the rows where this is a SQL keyword where ID equals three ID is the name of a column three is the value and it's going to look through to this table only find me the flights where the ID is equal to three and I'll just get back that one row as a result it finds the row with an ID of three and it gives that back to me If instead I said select star from flights where origin equals New York I can see that I don't just need to filter on the primary key the ID I can also filter on any other column I can say give me all the flights where New York is the origin so all the flights leaving from New York and you might imagine that in New York's airport for example they likely want some sort of query that's going to find all the flights leaving from New York such that they can display on a screen of some sort all of the departures from that particular airport so you could run a query like this and get back only the rows in this database inside of this table that happen to have an origin of New York for example so let's go ahead and take a look at how we might actually run some of these queries inside of a SQL database so in order to create a SQL Lite database which is really just a file I can start just by creating the file and it turns out that in the terminal there's a command called touch that will create a brand new file for me so I'm going to create a file called flights.sql it's going to be a sqlite database file that by default has nothing in it but then assuming you have sqlite installed I can run sqlite 3 followed by flights.sql and now I'm inside of the sqlite prompt I can now begin to write commands that will be executed on the SQL database so one thing I might do is create a table called Flights this table I want to have in ID column which is an integer it should be the primary key the main wave which I identify a flight and I would like to Auto increment it I would also like for the flights table to have an origin which will be a text field that is not null I'll add a destination field also a text field that is not null and then finally I'll add a duration field which is an integer that also shouldn't be null I'll end with an end parenthesis and a semicolon press return and that executes that command on my database I have now created a table called Flights and to verify this in sqlite in the prompt I can type dot tables and that will show me all of the tables that currently exist in my database and it just so happens that I have a table called Flights of course there's nothing inside this table which I can verify by running select star from flights meaning get all the data from the flights table if I press return all right nothing happens I don't see anything there's no data that happens to be here but now I could say something like insert into flights then I'll provide in parentheses the names of the columns and on the slide a moment ago I showed this on multiple lines that was just for visual sake this command can be entirely on one line if we would like it to so I can say origin destination and duration and then provide values I can say let's add New York to London and I'd like for this flight to B duration of 415 minutes so I press type in that command press return that adds a new row to my flights table and I can verify this by running select star from flights and I see that now I have this table whose ID is one that's the ID column from New York to London with a duration of 415 minutes and I could do this again and again and I in advance prepared a couple of insert queries just to give us a little bit more data each of this is just a different insert query that's going to add one new flight into our database so I'll go ahead and copy those and then into the database I'll go ahead and paste in all these insert commands to insert a whole bunch of flights into this database and now if I run select star from flights what I get is all of the flights and this is not formatted particularly nicely sqlite has some additional tricks if you'd like to format it a little nicer so I can say go ahead and put this into columns mode and give me some headers yes so header dot headers yes and now if I select star from flights the data is organized a little more nicely where things are really into columns and their headers for each of the rows where I can see that all right I kind of have a text based representation of what I was displaying graphically a moment ago that inside of my flights table I have four columns an ID column origin destination and duration each flight is just one of the rows that's inside of this table and now I can begin to run additional select queries if I want to do something like select star from flights where origin equals New York well then instead of getting back all of the flights I'm only going to get back the flights where the origin is New York so I can very quickly filter down on this data only getting the information that I actually care about taking a look at and there are other ways of interacting with sqlite as well but this sqlite prompt is a very direct way of just being able to write a query very quickly and see the results of that query so it turns out there are other types of queries we can run as well so we'll take a look at some others we don't just need to say where something equals something else other types of Boolean expressions are allowed as well so I could say something like select star from flights where duration is greater than 500 where the idea here is all right let's look at the duration column it's an integer so we can do arithmetic Expressions on these values I can take a value and see is it greater than 500 or not and when I do that what I get back is all of the rows that have a duration that's greater than 500 so I can begin to query not just on whether one value equals another value but also other types of comparisons as well and much as in Python is when we had Boolean expressions in Python I could join multiple Boolean Expressions together using words like and and or SQL has the same type of thing in its own query syntax too I could say something like select star from flights where duration is greater than 500 and destination equals Paris and as you might logically Intuit this means this means get me all flights that are going to Paris and that take longer than 500 minutes and it turns out there's only one such row inside this table that satisfies both of those constraints of course instead of using and I could have also used or to get a different query where now I'm looking for all of the flights longer than 15 minutes or longer than 500 minutes or the destination in Paris is Paris so as long as either of those conditions are met I'm going to get results back and so when I get back are some of the rows where the destination is Paris some roads where the destination isn't Paris but the duration is more than 500 minutes and of course any row that satisfies both of these constraints in particular flight ID number two that gets come to get this resulted as well when I run this particular query on this table and there are other types of queries I can perform in addition to that so I can say something like select star from flights where origin is in and then in parentheses New York comma Lima to say check if the origin is in this sequence of possible values the sequence of New York and Lima as long as it is one of those two then I want for the results to come back and so then you'll get back rows that have an origin of New York rows that have an origin of Lima as well so you can begin to construct more sophisticated queries that are able to check for whether an origin is in a list of possible values or even if it matches a particular pattern that maybe you know that one of the columns looks a certain way or is formatted according to a particular structure but you don't know exactly what the value is I could run a query like select star from flights where origin not equals but where origin is like and then in quotation marks I have a bit of a strange expression percent a percent this percent again stands for a wild card and this time the wild card is looking at the values of a particular column in this case the value of the origin column meaning the percent stands for zero or more characters no matter what those characters are we're looking for some number of characters maybe zero maybe more followed by an a followed by some other number of characters maybe zero many more maybe maybe more and ultimately what this query is going to do is look inside of the flights table and get back to me all of the results where there is an A in the origin as long as there is an A in the origin column it doesn't matter if there are characters before it or characters after it all of the rows that come back are going to be the rows that just so happen to have an A in it so lots of ways we can begin to run select queries and there are even additional functions you can add to your select queries as well where if instead of just selecting the values of columns I want to compute the average duration of a particular category of flights or I want to count how many flights that are coming out of New York or I want to find the longest flight that goes to London or the shortest flight that goes to London or I want to add up all of the durations for a whole bunch of flights maybe they're flights that are connected to each other and I want to add up the total travel time that my take SQL has a number of builtin functions that allow us to perform these sorts of calculations as well so a couple of different SQL commands we've now taken a look at we've taken a look at create table that allows us to create a new table insert that lets us add data to a table and then select which lets us take data inside of the table and retrieve it but of course often when we're dealing with databases the data doesn't just get added the data changes in some way so we also need some way of being able to update data after it's already inside of our database and to do that there's another query for that which is an update command that we can execute on our database and that command looks something like this again displayed on multiple lines but you could put this entirely just on one line SQL doesn't really care if you add line breaks it just knows that when it sees a semicolon at the end of the command that is the end of this particular command but here what I've said is use the update keyword to say I would like to update a table what table would I like to update I'd like to update the flights table and then what would I like to do well I'd like to set the duration equal to 430. so whatever the value of duration happens to be right now change it to 430 but of course I don't want to change it to 430 for every single flight just as in a select Clause I could say where something equals something or where and then some other Clause to specify where I want the rows to be selected from likewise to an update I can say set duration equal to 430 where a particular condition is true so here I'm going to look through the flights table find myself all of the flights where the origin is New York and the destination is London and for those rows I'm going to update the value of the duration column setting the duration column equal to 430. so using that syntax I can take data and update it changing one value to another value by pinpointing which row or rows I would like to change if I only want to change one row I might do like update flights set duration equal to something where ID equals a particular ID to be able to pinpoint one ID and then take that row and make some modification to it and in addition to inserting data selecting data and updating data the last main command will concern ourselves with is the ability to delete data the ability to take a row and say I'd like to get rid of it or take multiple rows and get rid of them and so a command like delete from flights where destination equals Tokyo as you might imagine deletes from the flights table all of the rows satisfy this condition where the destination is equal to Tokyo so a number of different operations now that we have the ability to do the ability to delete from a particular table where a condition is true the ability to update a table based on particular conditions the ability to select data from a table and insert data into a table as well and there are a couple other Clauses that can be used to add to SQL queries as well just to add additional functionality if I don't want all of the rows to come back from a particular SQL query I can limit the results that come back so normally select star from flights would get me all of the flights inside of the table but I could say select star from flights limit five to just say you know what I only want Five results to come back from the staple order by allows me to decide how the results are ordered inside the results that come back so I could say select star from flights order by destination or order by duration to get all of the flights in order by how long they are Group by allows me to group a whole bunch of rows together so if I wanted to group all of the flights by their origin so they can get all of the flights leaving New York and all the flights leaving London and so forth I could do something like select star from flights Group by origin to group flights by their origin as well and having as a constraint I can place on Group by to say that I would like to select all of the flights from the grouping them by their origin but they need to have a count of at least three meaning there need to be at least three flights that are leaving from that particular City and for all of these particular Clauses these are helpful to know if you're going to be directly writing SQL we won't worry about them too much here in particular because fairly shortly we're not going to be writing SQL ourselves we're going to just be writing python code and Django is going to under the hood be manipulating the database and creating the SQL commands that it is going to run on the underlying database and so we will see how we don't actually need to worry about writing the specific syntax but Django is going to handle much of that for us so here now we have a flights table a table that keeps track of all the flights that we have organizing them by their ID and their origin and their destination and their duration but oftentimes when we're dealing with data especially in a larger database we don't just have one table of data we have multiple tables of data and those multiple tables might relate to each other in some way and let's take a look at an example of how that might come about we're going to introduce a concept that we'll call foreign keys and we'll see what that means in just a moment so here again is our flights table the flights table has four columns an ID origin destination and duration but of course in New York there are multiple airports in New York for instance and so it might not make sense for me to just label each origin or each destination just by the name of the city maybe I also want to give the three letter airport code that corresponds to the airport to which I'm referring in this case and so how would I encode into this table not only the origin but also that City's airport code and not only for the destination the name of the city but also the airport code for that airport as well well I could just add more columns I could say something like all right now we have this table that has an ID and origin in origin code a destination a destination code and a duration but here now the table is starting to get fairly wide there are a lot of columns here and in particular there's some duplicate data that I've repeated my mention of Paris is associated with this particular three letter code and the same thing for New York and other airports as well there's some messiness in the structure of this data and so often what we'll want to do is we begin to deal with data in larger and larger sets with more and more columns is we'll want to normalize this data separating things out into multiple different tables that just reference one another in some way and so instead of just having a single flights table what we might consider doing is saying that flights are one type of object but another type of object that I care about is like an airport and so I might just have a separate table just for airports where this table has three columns a column for the ID of the airport just some unique number that can identify a particular airport one column for the three letter code for that airport and one letter for the city or one column for the city where that airport is in and now this is a much more straightforward simpler representation of all of the airports and the question becomes what happens to my flights table that my flights table that here had an ID origin destination and duration where the type of origin and destination where in this case just text textbased Data representing the name of the city from which the flight is departing or to which the flight is arriving well now that I have this separate airports table where every Row in the airports table has its own unique ID then what I can do in this case is instead of storing An Origin and a destination as text I can store what we'll call a foreign key a reference to a key in another table and rename these columns to origin ID and destination ID that instead of storing text are going to store a number origin ID 1 means the origin of flight 1 is whatever airport number one happens to be and I could go to the airport stable look up which airport has an ID of one and that would tell me the origin of this flight and if I went to the airport's table and looked up which airport had an idea for that would tell me the destination of the slide as well so by combining now two different tables one table for representing airports and one table for representing flights I'm able to connect these two different tables together by way of a foreign key some columns inside of my flights table namely the origin ID column and the destination ID column that together allow me to reference information stored inside of another table as well and as you imagine this sort of Airlines database growing and storing more different kinds of data the ability to relate tables to each other is going to become incredibly powerful so one thing you might imagine is that in addition to storing airports and storing flights an airline probably also needs to store information about its passengers like who's on which flight and so you could imagine constructing a passengers table that has an ID column to uniquely identify every passenger a first name column that stores every passenger's first name a last name column for storing their last name and a flight ID column for storing what flight that passenger happens to be on so in this case I could say that all right Harry Potter is on flight number one I could look that up in the flights table to find out all right inside the flights table here is where the flight is leaving from where it's going to and what its duration happens to be now as we begin to design these tables we have to think about what the implications of that design happen to be and in the case of this passengers table it does seem that there is a limitation on the table design that I have created and namely if you think about it you'll see the limitation of this table design is that any particular row can only have one flight ID associated with it that Harry Potter has a single flight ID column that can only have one value stored inside of it and this would seem to make it impossible to allow for us to be able to represent a person that could be on multiple different flights and so this starts to get at the idea of different types of relationships that rows in a table can have to one another one type of relationship is a many to one relationship or a onetomany relationship where I can express the idea that one flight can be associated with many different passengers for instance but what we might also want is a manytomany relationship where many different passengers can associated with many different flights a passenger might have more than one flight a flight might have more than one passenger and to do that we're going to need a slightly different structure for this particular type of table and one way we can approach it is by creating a separate table for storing people that I could have a people table where every person has an ID has a first name and has a last name same as before but I'm no longer storing flight information inside of the table I've cleaned my setup up I'm only storing people in this table and nothing about their flight information and then I'll have a separate table for dealing with passengers on the flight and mapping people to their flights and we can think about what does that table need to look like well I need some sort of table that is going to relate people to what flights they happen to be on so odds are we're going to need one column that is a foreign key that references this people table and we'll need another column that is a foreign key that references the flights table such that I can relate those two tables together and so that table could look like this this now is the simplified passengers table that only has two columns it has a person ID column and a flight ID column and the ID of this table now is it's known as an association table or a join table that just Associates one value from one table with another value from another table that this row here one and one means the person with an ID of 1 is on flight number one and I could look up that person inside of the perp people table look up that flight inside of the flights table and figure out who the person is and what flight they're on and down here two and four means whoever the person with an ID of 2 is is on whichever flight happens to have an ID of four and so this now has allowed us to be able to represent the types of relationships we want we have a table for airports and a table for flights and any flight is going to map to two different airports one destination one origin and any airport might appear on multiple different flights it's sort of a onetomany relationship and then over here when it comes to passengers we've stored people inside of a separate table and then had a manytomany mapping between people and flights so that any person could be on multiple different flights like here for example person number two is on both flights one and four and likewise a flight could have multiple people so in this case flight number six has passengers five and six that are on that flight as well so we've been able to represent those relationships of course a byproduct of doing this is that now our tables are a little bit Messier to look at and messy in the sense that it's not immediately obvious to me when I look at this table like what data I'm looking at I see these numbers but I don't know what these numbers mean I've separated all these tables into different places and now it's a little harder for me to figure out who's on which flight I have to look at this data look up people in the people table look up flights in the flights table and somehow associate all of that information back together in order to draw any sort of conclusion but luckily SQL makes it pretty easy for us to be able to take data across multiple different tables and join them all back together and we can do this using a join query that takes multiple tables and joins them together so the Syntax for a join query might look something like this and here we'll go back to just a two table setup where I have flights and passengers where every passenger is associated with one flight that you could extend this and join multiple tables to deal with our more complex example as well but here I'd like to select select every person's first name and their origin and their destination and I'm going to select that from the flights table but I need to join it with the passengers table and then I say on to indicate how it is these two tables are related to one another and in this case I'm saying the way these two tables are related to one another is that the flight ID column of the passengers table is associated with the ID column of the flights table the flights table has an ID that uniquely identifies every flight and the passengers table has a flight ID column that uniquely identifies the flight that we're referring to for this particular passenger and so the road result I might get is a table that looks like this that gives me everyone's first name but also their origin and their destination or origin and destination are going to be drawn from that table of flights and the first name is going to be drawn from the table of passengers but by using a join query I've been able to take data from two separate tables and join them both back together and there are a number of different types of drawing queries that I can run what we saw here was just the default join which is otherwise known as an inner join where effectively an inner join will take the two tables it will cross compare them based on the condition that I've specified and only return back to me the results where there's a match on both sides where we match a passenger's flight ID with an ID in the flights Table and there are various different kinds of outer joins if I want to be okay with the idea that maybe something on the left table that I'm joining doesn't match with anything on the right or so maybe something on the right table doesn't match with something on the left but just know there are other types of join queries that I can run as well other strategies that can be helpful when dealing with SQL tables are optimizations we can make to make queries more efficient and so one thing we can do with our tables is to create an index on a particular table and you can think of an index as kind of like the index in the back of a book for example where if you wanted to be able to search for a topic in a textbook you could open the textbook and just Page by Page look for every topic and just try and find the topic you're looking for but often what you'll be able to do if the table has an index is go to the index of the book find the topic you're looking for and that will quickly give you a reference for how to get to the right page in question in an index on a table operates in much the same way it is an additional data structure that can be constructed and it does take time and memory to be able to construct this data structure and to maintain it anytime you update the data inside the table but once it exists it makes querying on a particular column much more efficient that you can very quickly look something up in the index and find the corresponding rows that go along with it and so here we could have a command like create an index that we're going to call name index on the passengers table and in particular on the last name column to say something like I expect that as I query this table I'm pretty frequently going to be looking up passengers by their last name so I would like to create an index on that table to be able to more efficiently search for a passenger based on their last name as well and so that's just a general overview of what SQL syntax is all about a syntax that we can use to be able to create data tables inside of which restoring rows of data where every row consists of some number of columns and every column has a type you have the ability to create tables add data to them update delete and get data out of those tables as well but as we begin to introduce these new technologies there are always risks and potential threats that are associated with those Technologies as well and in SQL the key one to be aware of is what's known as a SQL injection attack a security vulnerability that can happen if you're not careful about how it is you actually execute your SQL commands and so where might this come about you might imagine for instance that if a database has some number of users you might be storing those users inside of a database for instance in a user's table where there's a username column and a password column though in practice you probably wouldn't want to store passwords in clear text let's imagine here for example that you are storing usernames and passwords inside of a table and we have a login form for a website that looks like this where you get to type in your username and your password and so someone types in their username and password what might happen is that the web application might look select star from users where username equals this particular username highlighted here we're just going to substitute the username right there and password equals and we'll substitute the password over there so someone tries to log into our site like Harry logs in with a password of one two three four five what we might do is run the select query and say select star from users where username is Harry and where the password is one two three four five and our logic might be if we get results back then that means there is a user whose username is Harry and password is one two three four five and we can go ahead and sign that user in but imagine now what might happen if instead the user who typed in a username of hacker quotation mark dash dash seems like a bit of a strange username to type in and it doesn't matter what they put in their password here now the result might be that what they plug into the username is where username equals hacker and then the dash dash it turns out Dash Dash and SQL stands for a comment in SQL it just means ignore everything that comes after it in the same way that in Python you can use the hashtag symbol to mean the rest of this line is a comment and the compiler whoever's running the program should just ignore it so everything after the dash dash kind of gets ignored and we've effectively been able to bypass the password check that someone could bypass a password check and log into an account even if they were unauthorized to do so so here the vulnerability within the SQL syntax if we're not careful about when we're running SQL syntax we could be running untrusted SQL commands that some hacker some adversary has been able to plug in to our program so how do we solve this sort of problem one strategy is to escape these characters escaping just meaning add some backslashes and just make sure that SQL knows to treat these as a literal quotation mark and a literal Dash and not as like special SQL syntax of any sort another strategy is to use an abstraction layer on top of SQL so that we don't have to write the SQL queries at all and that's in fact what we're about to do as we transition to the world of Django to take a look at how when we begin to use a web framework like Django we now have the ability to not worry about the nuances of the syntax of SQL and just deal a little more high level with what our models are what are the types of objects that we're dealing with and interacting with inside of this application one other concern worth noting about with regards to SQL is the possibility of race conditions and a race condition is something that might happen anytime you have multiple events that are happening in parallel threads so to speak that you have one thing happening and another thing happening simultaneously you might imagine that in the case of social media sites where you can like a post like an image on Instagram or a tweet on Twitter for example what would happen if two people tried to like the same post at the same time if we're not careful about how we run those particular SQL queries there's a potential for us to be able to get a race condition problems where we end up like trying to query for the number of likes that a post has and then another person tries to do the same thing and there are conflicts when we try and update it where the result might not be what we would expect it to be and there are a number of unexpected results that can happen when we deal with problems related to race conditions where multiple things are happening simultaneously how do we solve those problems well one strategy is to sort of place a lock on the database to say all right well I'm working on this database nobody else can touch this data let me finish this transaction so to speak finish working on this particular transaction and making all the changes I need to make to the database and only after I'm done I can sort of release the lock let someone else go ahead and modify the database as well the number of concerns to be aware of as we begin dealing in this world of SQL and trying to work with databases so now that we've taken a look at the syntax of SQL understanding how these tables work how they're structured and what it is that we can add to those tables let's go ahead and turn our attention in particular to Django models which are a way of representing data inside of a Django application because where Django is really going to get powerful in designing our web applications is the ability to represent data in terms of these models and so we're going to go ahead and try and create a web application that is going to represent like what an airline might want to store inside of its own web application as well all right so the first thing I want to do is create a Django project so I'll go ahead and type Django admin start project and the name of my project will just be called Airline I'm creating a project for an airline's website for example I'll go ahead and go into the airline directory open that up in my code editor but before I actually begin editing any code remember that every Django project needs to have one or more apps within it so the first app that I'll create for this Airline is I'll start an app for keeping track of flights so keeping track of flight related information like Origins and destinations and durations and what passengers are on those flights when I create a new app first thing I'll need to do is go into settings.pi inside of Airline and go ahead and add this app as an installed app right so flights is now an app that I've installed and then what I'll want to do is say go ahead and go into urls.pi which is again that table of contents for all the URLs I can get to for this particular web application I'll import include because I want to do is when someone visits the path of flights something I'll want to take them to flights.urls mapping them to the urls.pi file that will be inside of my flights application of course now I need a urls.pi file inside of my flights application so I go into flights and create a new file that I'll call urls.pi and we can do from.jango.urls import path from dot import views and then my URL patterns are going to go inside of this list right here but before I begin dealing with actual URLs the first thing I'm going to want to do is create some models models are going to be a way of creating a python class that is going to represent data that I want Django to store inside of a database and so when I create a model Django is going to figure out what SQL syntax it needs to use to a create that table but then B manipulate that table selecting and updating and inserting anytime I make changes to those models and so here what I can do is inside of every app that gets created in this case called flights there's a models.pi file one that we haven't looked at before but this is going to be the place where we get to Define what models are going to exist for our application every model is going to be a python class and you can think of this as having one model for each of the main tables we care about storing information about so let me Define a new class called flight that is going to inherit from models.model so I'm creating a new class called flight that is going to be a model and then I need to provide inside of this class all of the parameters that a flight has what properties does a flight have that I might want to keep track of well a flight has an origin and the origin is going to be a models.shar field and this is all documented on Django's website in terms of the various different types of fields that exist then I can include inside of a Django model where here I'm saying all right here is a character field whose max length is going to be let's say 64. I'll assume that most city names are not going to go longer than 64 characters that seems like a reasonable maximum length for the origin of the flight for example every flight will also have a destination which will be a character field whose Mac length is also 64. and every flight will have a duration which will just be an integer field so now this is my very first Django model it is a class called flight where I've defined all of the properties that a flight has and then using Django syntax to find what type they should have as well every flight has an origin has a destination and has a duration but of course nothing here has actually modified the database that Django is using in order to store information about my web application and we can see if we in fact go back to Airline and I type LS what you see here is that there isn't yet a database that exists I just have an airline directory a flights directory and a manage.pi file so what I'd like to do is somehow tell Django that you should update the database to include information about the models that I have just created and this is a process that we refer to in Django and more generally as migrations I create a migration to say here are some changes that I would like to apply to the database and then I migrate them to tell Django all right take those changes and actually apply them to the database so it's a twostep process one is creating the migration the instructions for how to actually go about manipulating the database and then one to take that migration step of saying now take those instructions and actually apply them to the underlying database we can make the migrations via command again we'll use the manage.pi script that has a number of different commands that allow us to control various parts of the application I'll use pythonmanage.pi and then make migrations and now what we see is we've created a migration inside of zero zero zero one underscore initial.pi where in this migration it's created a model called flight and so if I go ahead and look at the migrations directory I see this file has been created for me I didn't have to create it myself and what this file is is it is instructions to Django for how to manipulate the database to reflect the changes I have made to the model that here is an instruction to Django to create a new model called flight that has these particular Fields inside of it and it's basing this off of the changes that I made to models.pi the model that I added is now reflected in this migration and now if I want to apply the migration actually apply it to Django's database I can run python manage.pi migrate to go ahead and apply these migrations there are a bunch of default migrations that get applied as well but notice that one of the migrations that gets applied is this one here applying flight.0001 underscore initial to say let's go ahead and apply that migration create that table that is going to represent flights and if I type LS now you'll see that now I have a db.sqlite3 file a sqlite database that is going to contain a table that is going to store all of my flights and so how can I actually begin to manipulate this data how can I interact with these with these sorts of models I could use direct SQL syntax by opening up this database file and running commands but Django provides some nice abstraction layers on top of it so that I don't actually need to execute those commands myself I can begin to work more generally with python classes and variables and things that I'm used to inside the Python language so I can enter Django's shell where I can just run python commands by running python manage.pi shell and what this does is open up a shell or a console where I can begin to write python commands that get executed on this web application and the first thing I'd like to do is from flights.models let me just import flight so flights is the name of my app models is the name of that file I'm importing the flight class from that models file that I've just created and now what I can do is I can create a new flight I can say something like f equals a flight whose origin is New York and whose destination is London in his duration equals 415 minutes and then I can say F dot save to save that new flight that I have created and this syntax now and I'll go ahead and make it a little bit bigger so we can see it a little easier is my way of inserting data into this table I don't need to use an insert query in SQL I just have to write a python command and Django knows that when I create a new flight and save it that it should run an insert command on the underlying SQL tables where here I've created a new flight with this particular origin and destination and duration and I've gone ahead and saved that flight as well and if I want to query that flight get information about that flight I can say something like flight.objects.all is the equivalent of like a select all get me all of the flights that exist inside of my database and here I see I get back a query set which is just a set of results and here I have one flight that came back flight object one so a flight has been created for me with id1 now flight object one probably not all that helpful of a name it'd be nicer if this model had a cleaner way of seeing the name of a particular of a particular flight for example and it turns out we can do that that any model I'll go back to the code inside of models.pi any model can Implement double underscore stir function which returns a string representation of that particular object and this applies not just a Django models but to python classes more generally than if this function returns a string representation of the object let's go ahead and return a formatted string that is self.id I'll say self.origin to self.destination so here what I've said is that the string representation of any flight is going to be a string that gives its ID and then says all right origin to destination just a nice clean name that is going to represent this particular flight so now if I go back to the Shell by running python manage.pi shell I can say from flights.models import flight I can say all right let's let a variable called Flights be equal to flight.objects.all and now flight is going to be this flight flight 1 New York to London it now has a much nicer string representation of the name which just makes it a little bit easier to interact with if I wanted to get just that one flight I can say flight equals flights DOT first slice is a query set first gets me that first flight and so now I have this flight from New York to London and just as in any python object I can begin to access properties of that object I can say all right flight what is your ID flight what is your origin flight what is your destination flight what is your duration and I can access as values all of the properties of this flight that I ultimately care about and if I want to delete the flight I can say something like flight dot delete now ultimately though this is not the model that I actually want to represent my flight because here again I'm using a character field a Char field for things like origin and destination when in reality I probably like to use something like another table for representing airports and then some relationship between every flight and an airport so let's go ahead and try and Implement that idea now that I can go back into models.pi and create a new class I'll create a class called Airport that is also a model and I'd like for this airport class to have a code which is a character field with a max length of three for the airport's code as well as a city which would be a character field with a max length of 64. and let's also give this airport a string representation we'll say that the string representation of an airport will just be the city of the airport and then in parentheses the code of the airport so it'll be something like New York and then in parentheses JFK to represent a particular Airport and now our flight model needs to change a little bit no longer will origin and destination be character fields that are just throwing text but instead origin is going to be a foreign key a foreign key that references another table like the airport table and then I can provide some additional arguments so this alone would be enough but I can add some additional arguments like on delete equals models dot Cascade so what does this mean well when I have tables that are related to each other SQL needs some way of knowing what should happen if you ever delete something if I have a flight from JFK to London and I later in the later in time decide to delete JFK Airport from my database what should happen to that flight like what happens to flights when the thing that it is referencing gets deleted what models.cascade means is if I were to ever delete an airport from the airports table it's going to also delete any of the corresponding flights and there are other on delete parameters you can set for saying like don't even let me delete an airport if there are flights that are leaving from or going to that airport that's called models.protect but there are other ways of implementing similar types of constraints and the other argument that I'm going to provide is what's called a related name and a related name as we'll see in just a moment is going to be a way of me accessing a relationship in the reverse order that from a flight I can take a flight and say dot origin to get the flight's origin in airport but the other question I might want to ask is in the reverse order if I have an airport how do I get all of the flights that have that airport as an origin and so here if I give a related name to this foreign key Django will automatically set up the relationship going in that opposite direction and so here well if we have an airport and I want to know all of the flights that have that airport as their origin the reasonable name for a related name here is something like departures so if I have an airport I can access all of the departures which gets me all of the flights that are leaving from that airport and I'll likewise do the same thing here for Destination instead of a character field it's going to be a foreign key it's going to reference airport when we delete it we'll go ahead and Cascade it and the related name will be arrivals because if I have an airport I might want to access all of the arrivals all of the flights that correspond to flights that are arriving at that particular destination and so now I've done two things I've added a new class called airport and I've modified my existing flight model so this has changed in my python code but it hasn't yet changed in my database so in order to make the change in the database again it's a twostep process step one pythonmanage.pi make migrations to say look for any new changes that have been made to models.pi and go ahead and create a migration instruction for how to make those changes to the database here we see that we've created a new migration file and this migration is going to create a model called airport and it's also going to alter the destination field and alter the origin field on my flight model because as we know we've changed destination and origin to no longer be character Fields but to instead be references to a particular airport so that's something that's going to need to change in the database and to make that change I can run something like python manage.pi migrate to go ahead and apply those changes we've now applied this migration that we just created and our database is now up to date so what can we do well now I can go ahead and go back into the shell and I'll just go ahead and import from flights.models import Star import everything and I can now create an airport I can say something like JFK equals airport whose code is JFK and whose city is New York for example and then save that I can create a London one so lhr is an airport whose code is lhr and who city is London and I can save that you know you could create more I could say CDG equals an airport whose code is CDG and city is Paris and maybe we'll do one more we'll say nrt is the airport whose code is nrt and whose city is Tokyo for example so I've created and saved four airports that get added to my airport table and now I can add a flight f equals flight whose origin equals JFK whose destination equals London Heathrow and whose duration equals 415 minutes and I'll go ahead and save that as well so I've now created four airports I've created a flight and saved it if I type f just for my flight I see that all right this is a flight from New York to London but I can also say what is f dot origin and to write F dot origin that is now an airport object it's JFK in particular and I can do F dot origin dot City to get the city of the origin which is New York F dot origin dot code to get the code of that airport which is JFK and if I start with an origin something like JFK or London Heathrow I can say lhr dot arrivals to go ahead and Dot all to get all of the arrivals all of the flights arriving in London Heathrow and it looks like there's just one of them which is this flight that I've just created uh from New York that is going to London as well and so this now gives us the ability to manipulate SQL just by using these python models and I now have python classes that represent all of these various different types of data and now instead of running SQL queries like select star from flights or from airports I can just interact with these classes and these properties on the classes and Django takes care of the process for me of figuring out what the underlying SQL queries should be executing those queries and just giving those results back to me and we can begin now to design a web application around this idea that I can go into urls.pi and let's add a URL pattern that says you know the default route will go ahead and load the index view give it a name of index same as similar things we've seen from last time and now what should we do in the index view well the index view let's go ahead and say what I would like to do is just display a list of all the flights so I might from dot models import flight and airport or maybe maybe I just need flight I just want a list of all the flights so I'm going to import flight from all of my models and now what I'd like to do is return let's go ahead and render a template called flight index.html and give index.html access to a variable called Flights and what is that variable going to be equal to it's going to be equal to flight.objects.all to get me like all of the flights that I would like to put right here all right so what can I do from now now what I need to do is actually create those individual templates so inside of flights I'll create a new folder called templates inside of which I'll create a new folder called Flights inside of which I'll go ahead and create a layout.html much as we've done before where that layout is going to contain the basic structure of our HTML page so a head section whose title is flights and a body section that is going to have a block body and the end of the block much as before this is the default layout for this particular page and then I'll add a new template called index.html that is going to extend flight layout.html and then inside the body of the page I'm going to display an H1 that just says flights and let's now create an unordered list where I can now Loop over for flight in flights N4 to end the loop but inside the loop let me create a list item where I just print out like a flight maybe I'll print the flight and then flight dot ID to print out like flight one flight two flight three and then I'll print flight.origin to flight.destination so what I've done here is create a template that I'm going to give access to a variable called Flights where flights is going to be a variable that represents all of the flights that I query by running flight.objects.org that is my way using Django's API using the functions that it has given me access to to say take the flight and get all of the flights that are stored inside of Django's database then here in the template I'm looping over each one of those flights for each one printing on a list item where I can access properties of that flight say flight this ID from origin to a particular destination so now I'll go ahead and go into my terminal run python manage.pi run server which again is how we run a Django web application and now if I go to that URL slash flights this time because that's the URL what I see is exactly what I would expect to see an unordered list that just so happens to have flight 1 New York to London displayed there it is taking data from my database and now displaying it inside of this template and if I were to add new flights it would also update on this page as well so if I go ahead and go back go into the Shell pythonmanage.pi Shell I'll go from flights.models import Star let's go ahead and well all right let's add a flight from Shanghai to Paris for example well how do I get the airports for Shanghai and Paris well it turns out that if I want to get like Shanghai I can say like Shanghai equals airport Dot objects. and then I can say if I do airport.objects.all that gets me all of the airports for example oh and it seems I don't actually have a Shanghai one um but I can add one if I wanted to but if I do airport.objects.all that again gives me all of them but if I want to filter my Airport's list so not get all of the airports but just get some of them I can say airport Dot objects.filter and I can say like get me all the airports where um the city is New York for example and that is going to go ahead and give me a query set that only contains the results that I care about so again airport.objects.filter lets me constrain the results that come back not get me all of the airports but only get me airports whose city is New York for example and it owns only giving back one so I could say dot filter City equals New York DOT first to say take that query set and just get me the first and only thing in that query set and that gives me Airport New York a simplified way of doing the same thing if you know you're only going to get one result back if I can say something like airport.objects.get which will only get one result if it knows that there's only going to be one airport with the city of New York that too will return to me New York JFK Airport but it will throw an error if ever there's more than one or if there's none for example so we'll go ahead and save that inside of JFK and we'll go ahead and create a flight that is going uh from New York to Paris for example I can do CDG equals airport.objects.get City equals Paris and now I have this variable CDG which represents the airport Paris and if I want to create a new flight that goes from New York to Paris I can say f is going to be a flight whose origin is JFK whose destination equals CDG and whose duration equals 435 and I can save that flight as well and so I've added a new flight and so now if I run the server pythonmanage.pi run server refresh the page I now see that I have two flights one flight that's going from New York to London one flight that's going from New York to Paris but of course it's going to be pretty annoying if every time I want to update the data adding new data manipulating the data I need to go into the shell in order to run direct commands that are able to add new flights add new airports so on and so forth what I'd really like to be able to do is just very simply to add it via a web interface via the web be able to say all right let me add a new flight that goes from location one to location two and it's possible using the information we know now to build a web page that does just this but Django is built on this idea that it doesn't want you the programmer to have to repeat work that other people have already done and this process of trying to Define models and very quickly be able to create and edit and manipulate models is so common the Django has already built for us an entire app that is just designed for the manipulation of these models and it's known as the Django admin app and this is an app that we've seen traces of already that if we remember that urls.pi file from inside of our application we saw that we added a path for our own app but there was already a path given to us by default slash admin that takes us to the admin app as well and so in order to use the admin app we need to create an administrative account inside of our Django web application and the way to do that is via the command line I can run python manage.pi create super user it's going to ask me for my name I'll go ahead and type in my username my email address and it's also going to ask for a password I can just make up a password that I would like to use retype it in just to confirm it and now Django has created a super user account for me in this web application so that I using these credentials have the ability to visit the web interface for the admin app and actually manipulate some of these underlying models so in order to do this the first thing I need to do is take my models and add those models to the admin app so inside of models.pi I have a class called airport and a class called flight and if we look at the files I have there's another file we haven't really looked at yet called admin.pi inside of my app and inside of admin.pi I'll first from my models import flight and Airport and now I'm going to say admin.site.register airport and admin.site dot register flight and what this is going to do is it is going to tell Django's admin app that I would like to use the admin app to be able to manipulate airports and to be able to manipulate flights as well and so let's take a look at this admin app and see how it actually works I can run python manage.pi run server that will start up the web server I'll now visit this URL instead of going to slash flights I'll go to slash admin and this opens up this Django Administration app that's not written by me Django has written this and it's asking me to log in I'll go ahead and log in using those credentials I used a moment ago typing in my username and password and what I get here is Django's site Administration interface Built For Me by Django where I didn't need to design this at all but importantly if we notice down here I now have the ability to add and manipulate airports and flights via this web interface this Django administrative interface so now using this interface I have the ability to manipulate the underlying database to manipulate my models to add and modify data that already exists so if I click on airports for example I see here here all of the airports that I've already added to my database Tokyo Paris London and New York and I can add a new one I can say let's go ahead and add PVG which is Shanghai and I can either save it save and continue editing save and add another I'm going to add a couple so I'll go ahead and save and add another let's go ahead and add Istanbul airport as well let's add a Moscow that's an airport 2 and maybe one more we'll add Lima as well and I'll just go ahead and click save and now I've added a whole bunch of airports all via this web interface Django was originally created for like news organizations that very quickly wanted to be able to post articles and post new posts on their website and it made it very easy via an interface like this to very quickly just say like here add a new article and here's the content of the article to be able to display in a page and now we've been able to very quickly add new airports to our website as well and so if we want to add flights well we can go ahead and go back home I'll click on flights I see that I already have two flights inside of my database I have New York to London and New York to Paris I'll add a new one it's letting me choose an origin destination and duration and Django knows that the origin must be an airport so it's going to give me the opportunity to just choose an airport where I can say Okay Shanghai is the origin uh the destination is going to be Paris and the duration is going to be like 760 minutes for example so now using Django's admin interface I've been able to add a number of different flights and a number of different airports and if I go back not to the admin app but to my flights app the app that I wrote myself and go back to flash flights now I actually see all of the new flights that I have added to my database via Django's admin interface I added them to the admin interface and now I see this flight from Shanghai to Paris I see this flight from Paris to New York as well and so now what I might like to do is begin to add some more pages to this web application make this web application a little more sophisticated by maybe giving me the ability to like click on a particular flight to view details about that flight what I'd like is for every flight to have its own page not just slash flights for all the fights but slash flight one for flight id1 Flight 2 for id2 so on and so forth what I can do in order to do that is go back into urls.pi and create a new path we'll create a path where I'm going to specify a flight ID which would be an integer when I do let's go ahead and load the flight view whose name will be flight and now I need to just go to views.pi and add a function called flight so I'll go back go into views.pi in addition to an index function we'll Define a flight function that accepts as an argument a flight ID so now what is this flight function going to do well the first thing I need was actually need to do is actually get that flight I can say flight equals flight.objects.get me the flight whose ID is equal to flight ID for example or alternatively Django also lets you say PK instead of ID is a more generic way of referencing the primary key for whatever the primary key happens to be called the PK in this case is just the ID but then what I can do is render a template like flight flight.html and pass as input to that the flight so we're passing it this flight to flight.html and now I can create a template create a new file called flight.html which is going to also extend flight layout.html using that same HTML layout and inside the body of the page let's just say something like in big we'll say flight flight ID and then maybe an unordered list where I can say something like the origin is flight.origin the destination is flight.destination and the duration is flight dot duration so now I have a page that displays flight information about any particular flight and if I go ahead and load not slash flights in my web browser but flash flight one for example will now have information about flight number one and Flash Flight 2 gets me information about flight number two querying for that particular flight then printing out its origin destination and duration now there's some error checking that we probably should do here if I try and access a flight that doesn't exist something like Flight 28 for example I'm going to get some sort of error that it does not exist there flight matching query does not exist I might like to control what happens in that situation A little better so you might imagine adding some additional error checking to handle those cases as well but we'll leave it at this just for now but now let's go ahead and add the ability not only to have flights that have airports associated with them but let's also add passengers to our flights as well to be able to represent passengers that might actually be on these flights too so I'll go ahead and go back into models.pi and in models.pi in addition to an airport class and a flight class let me create a new class called passenger also going to be a model and what properties does a passenger have well passenger has a first name which will go ahead and make a models.char field whose max length will put at 64. and a last name max length equals 64. and passengers also as we described before they have a manytomany relationship with flights that a flight could have multiple passengers a passenger could be on multiple flights and ultimately we need an additional table to keep track of this but we can think a little bit more abstractly here in Django and just say that every passenger has flights associated with them which are a models dot many too many field with flight so every passenger could be associated with many flights we'll say blank equals true to allow the possibility that a passenger has no flights maybe if they're not registered for any flights at all and we'll also give this a related name of passengers meaning if I have a passenger I can use the flights attribute to access all of their flights and likewise if I have a flight I can use this passengers related name to access all of the passengers who are on that flight and we'll see how that'll be useful in a moment too the string representation of a passenger we'll just go ahead and be their first name space their last name which feels like a reasonable way of representing a particular passenger and now I need to apply these changes I need to say python manage.pi make migrations because I've made new changes to my model I've created a model passenger in particular and now if I do python manage.pi migrate now I've applied those changes to my actual database and if I go into admin.pi so we'll go into admin.pi and register not only flight and airport but passenger admin.site.registerpassenger then now via the admin interface I can manipulate passengers as well I can say python manage.pi run server to run my web server go to my web server's admin view by going to slash admin go down to passengers and let's go ahead and add a passenger where I can say all right first name Harry last name Potter and we'll go ahead and put him on flight one and flight three maybe he's on two different flights for example and you can hold down command or control to be able to select multiple flights and we'll go ahead and save that Harry Potter has been added successfully and let's add a couple of other passengers We'll add Ron Weasley and we'll add another We'll add Hermione Granger and we'll add Ginny Weasley as well so we've added a number of different passengers that now all exist in Django's admin interface and now what I'd like to do is on the flight page display information about which passengers happen to be on any given flight so the way I might do that is by going into views.pi and on the flight page in addition to giving access to the flight let me also give it access to passengers so passengers this template is going to get access to and we get passengers by saying flight dotpassengers dot all and the reason we can do this is again because passengers is that related name it is our way of taking a flight and getting all of the passengers that happen to be on that flight and so now inside of flight.html I can add something like let's add an H2 called passengers where here I'm going to Loop for passenger in passengers go ahead and display that passenger just print out that passenger inside of a list item and in Django I can say if the list is empty let's just have a list item that says no passengers meaning nobody is currently on this flight so now my web server is still running I can go back to slash flights here are all the flights and if I go to slash flight one I now see that on flight one Harry Potter is a passenger on that flight but if I go to Flight 2 all right no passengers are on that flight either and now it's been a little Annoying that I've had to do everything by using the URL here to be able to go back and forth between pages I could link to those pages if I want to and the way I might do that is let's on the flight page add a link that goes to the URL index that says something like back to flight list Maybe so here's now a link that takes me to the index View and likewise I can go into index.html and for each of these list items each of these list items is really going to be a link that links to it's a URL to a particular flight and the flight route takes as a parameter of flight ID and so inside this URL substitution here I can specify use flight.id as the ID of the flight that I would like to use here and so now I've put every single flight inside of a link that takes me to the flight route but because the flight route requires as an argument the flight ID I can specify the flight ID here and so now if I go back to flash flights I now see a list of flights where every flight is in fact a link that can take me somewhere else and so now I can click on any one of those links like New York to Paris and that takes me to the flight page I can click back to flight list that takes me back to the flight list click on another flight and go to that flight as well so I've now been able to come up with this way of linking these pages together by having links in each of the various different pages that take me to some other route as well and so now what I might like to do is in addition to displaying all the passengers on any particular flight also give myself the ability to add passengers to a flight as well which feels like a reasonable thing that I might want to do inside of this web application and so how can I go about doing that well in order to do that I'm going to need some new route that lets me book a flight for a particular passenger and so I'll go ahead and go back to urls.pi and inside of urls.pi I'll add a new path that will be int flight ID slash book an inflight ID slash book is going to let me book a flight for this particular flight ID for flight one or Flight 2 or flight 3 or so forth when I do we'll go ahead and go to the book View and we'll name that book and so now I need to implement the book View so how is this view going to work I'm going to define a function called book that is going to take this argument not only the request but also a flight ID the first thing as with before is I want to get the flight ID but remember from before that there are multiple ways that I can request a web page I can request a web page via the get request method which means I would just like to get this page or I can request a method via post meaning I would like to send data to the page and generally speaking anytime you want to manipulate the state of something especially manipulating our database that should be inside of a post request I'm submitting some form some data and in response to that post submission you should manipulate what's going on inside of the database so we're going to check when this book route is called upon if request method is post then we want to perform some sort of action flight in question is just going to be flight.objects.gettheflight whose primary key is that flight ID and then what I'd also like to do is associated with the form when someone submits this form to like book a new passenger on the flight they should tell me what the ID is of the passenger like what passenger should I book on this flight because those are the two pieces of information you need to know in order to actually book a flight you need the flight and the passenger information so let's assume for now that the information is going to be in request dot post and then in square brackets passenger what this means is that the data about which passenger ID we want to register on this flight is going to be passed in by a form with an input field whose name is passenger the name on any particular input field dictates what name we get receipt what is received when a route like this book route is able to process the request from the user so we'll go ahead and take that information and because by default this might be a string let's go ahead and convert it into an integer just to make sure we're dealing with an integer and let me say that the passenger in question is going to be passenger.objects.get PK equals this whole thing so now what I've done is if the request method is post meaning someone submitted this form via the post request method I'm first saying flights.objects.get to get a particular flight get me the flight with that flight ID and then I'm getting a passenger which passenger am I getting the one who's PK their primary key otherwise known as ID is equal to whatever was submitted via this post form with a name of Passenger and we haven't yet created that form but we'll do so in just a moment now ultimately we'll want to add some more error checking to this as well like what if someone requests a passenger that doesn't exist or a flight that doesn't exist either so there's definitely some error checking that we probably should be doing here but for Simplicity let's just assume for now that we're able to get a flight and get a passenger well how do we access the passengers flights I can just say passenger dot flights and in order in order to add a new item to Sunset like flights I can just say passenger.flights.add flight and this will do the equivalent of adding a new row into a table of keeping track that the passenger is on that flight but the nice thing about Django's abstractions is that I don't have to worry about those underlying details I don't have to worry about what the structures of the tables are I can think at a much higher level and just say take this passenger take their set of flights and go ahead and add a new flight to that set of flights and when all that's said and done what I probably want to do is return some sort of redirect that redirects the user back to the flight page so we'll go ahead and return an HTTP response redirect what URL would I like to take them to well I'd like to take them to the flight route and reverse again takes the name of a particular View and gets me what the URL is and we saw that last time and the flight route takes an argument so I need to pass as an argument the flights ID so I need to provide it to the flight route what the flight's ID is structured as a tuple and that is going to redirect me back to the flight route so that I can see that flight page again and what I need to add up at the top here is from django.http import HTTP response redirect in addition to from Django dot URLs import reverse and so those I'll need to add as well so that I can redirect the user back to the flight page after they're done submitting the form and reverse takes the name of a particular view as defined in urls.pi something like index or flight or book and gets me what the actual URL path should be and as we talked about last time that's helpful so that I don't have to hard code URLs into my Django web application I can just reference URLs by their name and If Ever I need to change a URL I can just change it in one place in urls.pi and that change is going to reflect everywhere else as well so now the next thing I need to do is actually create this form that what I have so far is just a function called book that is waiting for a post request to be made to it and when a post request is made to it then we're going to go ahead and submit this form and go ahead and add the flight for this particular passenger but what I'd like to do now is actually add that form so I'll go back into templates go into flight.html and what I'd like to add here is a form I'll go ahead and label it with an H2 called add passenger and we'll create a form whose action is going to be URL of book so we're going to go to the book route and again if we recall the book route in urls.pi the the route with name book this View requires as a parameter some flight ID so I need to provide the flight ID as an argument for what flight I'm booking the passenger on and it just happens to be flight.id because this template has access to a variable called flight the method of this submission is again going to be post and recall from before that whenever I have a form in Django I need to give it the csrf token just for security to make sure that Django knows it's really this application that is submitting this form we'll go ahead and add a drop down list which you can create in HTML using a select field the name of this select field is going to be passenger and the reason for that is inside of views.pi when I get the passenger I'm looking for inside the post data inside of request.post for a field whose name is passenger and so that is what I would like the name of this drop down to be and inside of a select drop down we have a whole bunch of options options that we can choose from and there's going to be one option for everyone who isn't a passenger on this flight and so how do I get everyone who isn't a passenger on the flight well it seems that right now the flight page only has access to actual passengers and doesn't yet have access to people that are not passengers on the flight so it sounds like I need to add some additional context to this template additional information that we want access to so I'll go ahead and give the slight access to additional information that we'll call like nonpassengers for people that are not on the flight and how do I get nonpassengers well just as I could say passenger.objects.filter to only get passengers that match a particular query there's also a way in Django to say passenger.objects.exclude to say exclude passengers that satisfy a particular query so I want to exclude passengers who among their flights have this as one of their flights and so what does this actually mean well it means that when I render flight.html there's a couple pieces of information that it should have it needs to know what flight is being rendered it needs to know who is on the flight who are the passengers but if I want a drop down where I can choose from all the people who aren't already on the flight like I would like to register you for this flight well I also need all of the nonpassengers passengers accept excluding the ones who are already on the flight and get me all of them is what that dot all is ultimately saying and so using that I now have access to this variable called nonpassengers that I can use as I'm constructing this page so back on flight.html I can say for every passenger in nonpassengers let me create a option that I can choose from and the options value is going to be the passenger's ID because ultimately when I submit the form what I care about getting is what is the ID of this passenger that I've chosen from this drop down but of course the user who's looking at this page they don't want to see people's IDs they want to see people's names so inside of the option tag we'll go ahead and just print out the passenger's name and we'll see in a moment what all of this actually looks like in terms of HTML so now that I've created this form I'll also need at the bottom to add an input whose type is submit to let myself submit this form to let's now try running this application it looks like there's a slight error where I said view.book instead of views.book views is the name of the module since it's in a file called views.pi and now looks like my server is running okay I can go back to slash flights let me get one of the flights like New York to London flight number one and all right name error name passenger is not defined this is how Django renders to me errors that are occurring in IPython code looks like it just means inside of views.pi I'm referencing passenger but I never imported it so up at the top I'll go ahead and import passenger as well now it seems that my web application is working okay so now hopefully I refresh this page I see flight information I see passengers and I also down at the bottom now see an add passenger section with a drop down list where I can click on it and see all right here are the three people that are not already on this flight and so if I want to add like Ginny Weasley to this flight I can click Jenny Weasley click submit and that submits the form and I'm redirected back to the same flight page now Harry and Jenny are both on the flight and then the add passenger list I see Ron and Hermione that's the options for me there and so using Django's models I've been able to very quickly build up a reasonably sophisticated application an application that has models that displays that information to me and lets me manipulate that data and that data is ultimately stored inside of a SQL database and one of the big powers of Django that it really gives to me is this admin interface that I ordinarily might have had to spend a lot of time designing a web interface that just lets me do things like take some person and go ahead and update like what is their name what flights are they on and the ability to very quickly add and delete and edit the models is something that in a web application could take quite a lot of time to be able to build from scratch but Django very fortunately gives all of that right to me and this admin interface even though it is designed by Django it's very customizable in terms of things that I can do on this admin interface if I want to manipulate it in certain ways in order to add additional features to it as well so we'll see a couple brief examples of this if I go into admin.pi here is my configuration for Django's admin interface and I can say I would like to configure the admin interface in a particular way that in a flight for example by default all I saw was like the flight's origin and destination if I want to be able to see more information about a flight I can say go ahead and give me a class called flight admin which is going to be a subclass of model admin where I can specify any particular settings that I want to apply to how the flight admin page is displayed so I can and all this is documented on Django's website and you just have to read it to be able to know what configuration options are available to you but I can say in the list display when you list all the flights and display them all to me what Fields should I have access to we'll go ahead and show me something like the origin and the destination and the duration and maybe also show me the ID for example so I want to see all of this information when you load a flight and when I register the flight I'll say register this flight but use the flight admin settings when you do so so I can specify I would like to use these particular settings when you view the admin interface and so now if I go back and go ahead and click on flights then now in this list display whereas before I only saw IDs and Origins and destinations now I can configure it to show me all of the IDS and Origins and destinations and durations as well I've been able to configure this display to work the way I would like it to and there are other configurations you can do as well one that I quite like to use is if I want to update my passenger admin so when I'm editing a passenger you can have a special way of manipulating many to many relationships inside of an attribute called filter horizontal and if I use a horizontal filter on flights this will just make it a little bit nicer for manipulating the flights that a passenger is on and again the specific syntax of this not as important as the idea that these are all just configurable settings that Django has documented that you can look at to see how to configure the admin interface to work exactly the way you want it to work and so now if I go back home and go to passengers and maybe click on a passenger like Harry Potter I now see this horizontal filter which is a very nice way of being able to manipulate flights that the person is on I see on the left list of their available flights that I could add them to on the right a list of their chosen flights flights that they're already on and it becomes very easy for me to just take a flight and double click on it to Move It from an available flight to a flight that they're on and vice versa just very quickly being able to control and manipulate these models and this is all stuff that Django just gives to you right out of the box so Django now has given us a lot of features the ability to represent models very succinctly a migration method for being able to very quickly apply those changes to our database and the last thing we'll take a look at is this idea of authentication that on many websites we want some method of authentication some ability for users to be able to log in and log out for Django to remember who a particular user happens to be and what we're going to do now is introduce an application that lets us interact with this authentication method because Django has a whole bunch of authentication features built right into the framework that we can take advantage of so that we don't need to rewrite all the logic for how do you log someone in and what does it mean to represent a user Django has done a whole lot of that for us so we'll go ahead and create an application to do that now all right so let's go back into my terminal now and now I have this Airline project inside of which is one app called Flights and I'd like to now create another app that's going to maintain users inside of this application so I'll go ahead and run python manage.pi start app users which just be an app that's going to allow me to represent users as of before when I create a new application I'll need to go into settings.pi add users as one of the installed apps inside of this project and they'll go into urls.pi to say I'd also like when I go to like users we'll go ahead and include users.urls so all the URLs that are associated with my users application now I'll need to actually create those URLs so I'll go ahead and go down into my users application create a new file called urls.pi inside of which is the same as what we've normally seen inside of these URLs files I need to import path import My Views and then Define some URL patterns where here what I'd like to do is Define One path that takes me to views.index and we'll call this one index then I'll create another path that takes me to login called the login View and the name will be login and we'll have another path called log out for a function called logout view that will be associated with it so we'll effectively have three different routes one main index route that's just going to display information about the currently signed in user one route for logging someone in a form that will display the place where they can type in a username and password to log in and then one route to allow users to be able to log out from this application as well so let's go ahead now and actually write these functions we need one function called index one function called login view one function called log out View so I'll go into views.pi and we'll start with index and so what does the index function need to do it's going to display information about the currently signed in user that I sign into this website and then I'm presented with the index page but as we think about this programmatically we first need to think about what should happen if someone tries to access this page but they're not authenticated how would we even find that out and what do we do in that situation well let's say if not request.user DOT is authenticated the request object that gets passed in as part of the request to every user in Django automatically has a user attribute associated with it and that user object has an is authenticated attribute that tells us if the user is signed in or not if they're not signed in we'll go ahead and HTTP response redirect them to the login View and in order to make this work I'm going to need to from django.http import HTTP response redirect and likewise from django.urls let's go ahead and import reverse as well so if the user is not authenticated then we're going to redirect them to the login view where what is the login view going to do well the login view for now let's just go ahead and render users login.html some form where the user can log themselves in we'll need to create some templates I'll create a templates folder inside of which is a users folder inside of which we'll just create a basic layout as we've done multiple times now this is again going to be the general structure for pages in this app title will be users and the body will just have a block called body that I can later fill in with other content and now that I have this HTML layout I can go ahead and create a new file called login.html where login.html will extend users layout.html and inside the body block I can just display an HTML form so I can say something like I would like for there to be a form whose action when I submit the form let's go ahead and still go to the login URL but let's do so using the post request method again I'm logging in I'm submitting a form generally when you're doing that you want to submit form data via post especially in the case of username and password because if you do this sort of thing you don't want the username and password to be passed in as get parameters because those show up in the URL our form will have our csrf token for security as before an input whose type is text whose name is username and just for user friendliness let's give it a placeholder also of username so the user knows to type in their username here we'll also have an input whose type is password whose name is also password and when an inputs type is password that just means our HTML will know in the browser that Chrome or Safari or whatnot will know to show the password as dots instead of as characters and we'll give that a placeholder of password and then an input of type submit whose value is log in so we now have the ability to log in so if we go ahead and run this program python manage.pyrun server we should see users.views has no attribute login view all right it looks like I called this function login request it should actually be called login View and I'll also need a function called log out view but I haven't implemented that yet so I'll just go ahead and say pass for now but I'll come back to that later to implement the logout View all right so it looks like my web server is running now and before I actually go to the login page let me first go back to the admin page and actually just create some users I can go to users and then add and let's add a user the username will be like Harry for example and we'll go ahead and give Harry a password and we'll go ahead and save and add another let's add maybe Ron as well uh go ahead and add him we'll go ahead and save that and these users they can have additional information associated with them I can give Ron a name like Ron Weasley Ron Weasley example.com this is email address there are a bunch of default fields that Django gives you for manipulating users and you can take these users and go ahead and add to those fields if I want to giving them a first name last name email address and whatnot and you can also customize these fields as well if you'd like to add custom fields that you would like to keep track of with regards to your individual users and I will go ahead and log out from Django admin now because I don't need it anymore but now if I go to slash users I'm not authenticated so what I see is a login form that just looks like this a place for me to type in a username and a password and of course now you can type in like Harry's username and password but I haven't yet implemented the processing of that data yet so let's go ahead and do that now we'll go ahead and go back to views.pi in the login view there are two ways the login view function could be called one is via the get request method meaning just show me the login form and one is via post submit data to the login form as well so if the request method is post well then let me first get the username which will be inside of the post data in a field called username and let me get the password which will be in a field of in the request.post inside of password and now what I'd like to do is try to authenticate this user and how do I go about doing that well it turns out there are a couple of functions that Django has given to me that I can import so from django.contrib.off auth for authentication I'm going to import three functions we're ultimately going to use one is authenticate that checks if username and password are correct one is called login one is called log out and I can now use those functions inside of this login view here after I've gotten the username and password I'd like to authenticate the user check if the username and password are correct so I'll go ahead and say user is equal to authenticate request username is the username password equals password and so authenticate as a function just takes the request takes a username takes a password and if the username and password are valid they give me back who the user actually is and as long as the user is not none that means the authentication was successful and I can go ahead and log the user in how do I log the user in I use the login function that Django gives me logging in with this request this user and now I can go ahead and redirect them HTTP response redirect the user back to the index route back to the original route that the user started out as and so that's if the user is not none if the authentication was successful but otherwise if the authentication failed what should I do well let me go ahead and render the same users login page again but let me add some additional context the context will be a message that says invalid credentials and now inside of login.html I can just add some logic that says if there's a message then go ahead and display that message inside of a div and then endif to end that so if there is a message we'll see the message printed otherwise we won't see it at all so now if I go ahead and refresh the login page nothing seems to have changed but let's say I type in a username that doesn't exist Hermione and some password and I log in well then I get this error message invalid credentials we were not able to log the user in so what happens if we do successfully log in well then the user is going to be taken to this index route and it looks like now we need to finish off this index route what does the index route do well let's go ahead and return render a template called users slash user.html and inside of user.html we'll go ahead and display some information about the user we'll still extend user slash layout because we're going to use the same basic layout but in the body of this page the information I want to show is I want to say like welcome and then like Harry or welcome Ron or whoever the user happens to be and it turns out inside of Django templates I have access to the request that was used to make this HTTP request which means I also have access to request.user who is the user associated with that request and if the user has a first name I can access request.user.firstname and in addition to that I can display other information maybe like their username is request.user.username and maybe their email address is request.user.email and so I can show the user information about them such that if like Harry logs in for example I sign in as Harry sign in with Harry's credentials click login well then Harry sees a page that says welcome Harry Harry is logged in they are request.user and using that information we can access first name username and email as well just by accessing properties of request.user now last thing we need to add which still doesn't yet exist is a way to actually log the user out and it turns out that just as Django has a login function Django also has a logout function that handles logout for us so we don't need to implement it ourselves so all our logout view needs to do is make a call to this logout function and then figure out where should the user go after they've been logged out and you know what let's go ahead and take them back to the login page with a message of logged up to indicate that the user has now been logged out then in user.html we'll go ahead and add a link that will go to the logout route that just says log out for example so now when Harry goes back to Harry's page Harry sees a URL that says log out if Harry clicks log out Harry gets logged out is brought back to this page because now request.user.is authenticated is going to be false there is no authenticated user and so they now see just the default login page and if now Ron were to log in for example using Ron's username and Ron's password logging in then Ron nasi's information associated with him as well so Django gives us a lot out of the box gives us the ability to represent these models and admin interface to be able to manipulate them a migration system that allows us to very quickly make changes to our models and apply them to our database and also a builtin user authentication system A system that allows us to very quickly enable users to be able to log in log out from our web application as well so all of this are features that just helps to make it so that we can very quickly take advantage of things like SQL and models and migrations to build Dynamic interesting web applications with data to back them up this was web programming with python and JavaScript we will see you next time thank you foreign welcome back everyone to web programming with python and JavaScript and today we turn our attention to the second of the main programming languages that we'll be looking into this class in particular JavaScript and to get an understanding for why it is that JavaScript is actually helpful let's go back and revisit this diagram of what communication over the internet will generally look like oftentimes we'll have a user otherwise known as the client using their computer on their web browser whether that's Chrome or Safari or some other web browser that sends an HTTP request a web request to some sort of web server that server then processes that request and then returns some sort of response that comes back to the client thus far all of the code that we've written the python web application code running in a Django web application for example has all been code that runs on some sort of server code that is listening for requests doing some computation in order to process that request and then generating some sort of response usually in the form of an HTML template that we then send back to the client what JavaScript is going to enable us to do is to begin to write clientside code JavaScript is going to allow us to write code that actually runs inside of the user's web browser on the client and this can be useful for a number of reasons one if there's computation that we want to do but we don't need to go out and reach out to a server in order to do so we can do the computation potentially faster just by running the code exclusively on the client and in addition to that we can begin to make our web pages a whole lot more interactive JavaScript is going to give us the ability to directly manipulate the Dom where again the Dom is the document object model that treelike hierarchy that represents the web page that the user happens to be looking at so JavaScript will enable us to write code that directly manipulates the content on the web page and we'll see how that can be quite powerful very soon so how do we then use JavaScript inside of a web page in order to add some code add some programming logic to a web page well so far we've already seen HTML the language we use to describe the structure of a web page where an HT tml page just describes the structure of a page in terms of nested tags we had those head tags at the top of the page the body tags that describe the structure of the page and then additional tags that could be nested within those and in order to add JavaScript to a web page it's as simple as including some script tags that are often located inside of the HTML page itself when we use these script tags we're telling the browser that anything in between these script tags should be interpreted in this case as JavaScript code that the web browser is then going to execute so our very first program for example might just look like a line of code inside of those script tags something like this where alert for example is the name of a function a function that's going to produce an alert and then just as it functions in Python functions in JavaScript can take arguments so in between these parentheses we have an argument something like the string hello world the text that we would like to display to the user so let's go ahead and give this a try and see how we can actually use this code to write JavaScript that is going to run inside of the user's web browser I'll go ahead and create a new file that we'll call hello.html and inside of it I'll include the same basic HTML structure that we've already seen before where I have a head section that has a title and then a body that maybe just says hello for example and so now what I'd like to do is add a little bit of JavaScript to this web page so in the head section of my web page I'm going to go ahead and add a script tag we're in between these script tags now I can write JavaScript code code that is going to be written in JavaScript that will run inside of the web browser when the user actually opens up this page and for now I'll just say alert and then hello world it turns out in JavaScript you can use either single quotation marks or double quotation marks in order to represent strings I'll generally use single quotation marks here just by convention so here I'm running a function called alert that's going to display an alert something like Hello World to the user and that's going to be inside of the script tags of this HTML page so now if I want to actually open the page up I can open hello.html or you can just visit it inside of your web browser whether it's Chrome or something else and now at the top of the page what you'll notice is that I get a little bit of an alert some interaction where it says this page says hello world and it gives me an option to like press a button for example like hello like the OK button that'll say all right dismiss the alert now and this is our very first example of JavaScript we have a function called alert built into JavaScript for our web browser and our web browser knows that when we call the alert function the browser should display an alert message that looks a little something like that and if I click the OK button to dismiss the alert then we go ahead and get back the original page that I had from the beginning and so now we can begin to imagine that using this ability to programmatically display alerts that we can add additional features to our applications as well and one big area where JavaScript can be quite powerful is with event driven programming and what event driven programming is all about is thinking about things that happen on the web in terms of events that happen what are some examples of events events are things like the user clicks on a button or the user selects something from a drop down list or the user Scrolls through a list or submits a form anything the user does can generally be thought of as an event and what we can do with JavaScript is add event listeners or event handlers things that say when an event happens go ahead and run this particular block of code or this function for example and using that we can begin to allow our JavaScript code to respond to how the user is actually interacting with our web page to say when the user clicks on a button I would like to run this particular JavaScript function for example so let's go ahead and give that a try I'll go ahead and now instead of just saying alert hello world let me put this alert inside of a function and to create a function in JavaScript you just use the keyword function followed by the name of the function I'll call the function hello for example and then in parentheses any inputs that function takes this hello function is not going to take any input so I'll just use an empty set of parentheses and then inside of curly braces I include any of the code that I want to run in this function and so what I've done here now is create a function called hello and then inside of the curly braces I've defined the body of the function what code should run when I run the hello function and what the hello function should do is it should display an alert that in this case says hello world so now what I'd like to do is get this function to run when something happens on the page for example when a user clicks on a button so to do that the first thing I'll need to do is actually create a button so add a button that just says like click here for example so now if I refresh this page I now see that I have hello and I also have this button that says click here but when I click here like nothing happens I'm clicking the click here button but it's not changing anything because I haven't yet said what should happen when the user does click on this button and so one way we could do this is by adding an attribute to this HTML element called on click what this is going to do is it's going to add an on click Handler to this button it's going to say what should happen when the user clicks on this button and I'm going to set the on click attribute equal to running the function hello and in order to run a function in JavaScript just as you ran a function with python you use the name of the function followed by a set of parentheses to say go ahead and actually run this function using those parentheses calls the function another word for running the function and the fact that there's nothing in between the parentheses means we're not providing anything of input to the hello function though if the hello function did take inputs we could certainly add that in between the parentheses so now I've tied the two pieces of this page together I have a button that says click here and I've added an on click Handler that says that when you click on the button you should run the hello function and then up above I've defined the hello function to say what should the hello function do well when the function is called we're going to display an alert then in this case says hello world so now we should be able to refresh the page we still see the same thing at least initially where it just says hello and a button that tells me to click here but now if I go ahead and click the button that says click here well then I get the alert that says this page says hello world I can press OK and this event handler is always going to work I click the button again and I get the alert a second time because every time I click the button it's going to call the hello function again and when I click the hello when the hello function runs it is going to display this particular alert so this now appears to give us a fair amount of power and much as in other programming languages languages like python or other languages you might have worked with JavaScript has all these same types of language features so far we've seen data types things like a string but we also have other data types that we'll take a look at soon too we've seen functions some functions that are built into JavaScript like the alert function and other functions that we can write for ourselves functions like hello but we also have the ability to include things like variables inside of our program as well so what might that look like I'll go ahead and create a new file the we'll call counter.html and counter is going to have some of the similar code to hello so I'll just go ahead and copy it for now but I'll clear out the script section change the title from Hello to counter and now inside of get rid of the button or actually I'll keep the button but instead of saying click here the button is going to say count I'd like to create a program that just counts for me from 0 to 1 to 2 3 4 so on and so forth and now in order to do that in order to have some way of counting repeatedly zero one two three four five I'm going to need to have some sort of variable inside of my program something that is keeping track of data like the number that I'm currently have counted to so in order to do that in JavaScript I can say something like let counter equal zero this is the way in JavaScript that I Define a new variable I first say let counter meaning let there be a new variable called counter and I'm going to initially set the value of counter equal to the number zero and now when I click on the button instead of running the hello function I'm going to go ahead and run the count function which doesn't exist yet but I'll now write it I'll Define a function called count and what the count function is going to do is it is going to first increment the value of counter and a number of ways I could do that one is by saying counter equals counter plus one to say go ahead and reset the value of counter to whatever counter is plus one and there are a couple of shorthand notations for this I could equivalently say counter plus equals one to say add 1 to the counter or in the case of adding one JavaScript much like languages like C if you've seen them before support notation like this counter plus plus which just means take the value of counter and increment it add one to it so I'll add one to the value of counter and then I'll just display an alert that has whatever the current value of counter happens to be and so I've incremented the value of counter and then displayed an alert that shows me what's contained inside of counter and so now if I go ahead and not go to hello.html but to counter.html instead I now see that I still see a button that says count and if I click on that button I get an alert that this time says one we've incremented the value of counter from zero to one the alertness has one and I can press ok if I press count again the count now goes to 2. I press OK press count again it goes to three and every time I click count it is going to increment the value of the variable counter inside of my JavaScript web page and then it's going to display an alert that is going to contain the value of that variable so using alerts now we're able to manipulate that we can inside of functions manipulate the values of variables and then display alerts that show the contents of those variables But ultimately when users are interacting with the page it's going to be fairly annoying if the only way that we have to interact with the user is via displaying these alerts the equivalent of like printing something out except instead of printing it to a terminal we're printing it via an alert that appears on the screen what would be more interesting and more powerful and much more useful in the context of a web page is if we could programmatically update the website change something about the web page the user is actually seeing changing the content that happens to be on the page and turns out JavaScript is going to enable us to do that as well because JavaScript allows us to manipulate the Dom the document object model that represents all of the elements that happen to be on that page so to do that let's go ahead and return to hello.html this again was this webpage that just said hello and gave me a button where if I clicked on that button it would display an alert that said hello world now what I'd like to do is instead of having the hello function display an alert I'd like to have it manipulate something on the page and what might I want to manipulate well inside the body of the page I here have this heading this heading that just says hello for example which is inside of an H1 element and what I might like to do is actually change that element how can I do that well it turns out that in JavaScript we have access to a function called document dot query selector and with document.queryselector is going to do is it is going to give us the ability to look through an HTML page and extract an element out of that page so that we can manipulate that HTML element using JavaScript code and so if I want to select like an H1 element I can say document.queryselector and then as the argument the input to document.queryselector I'll go ahead and say each one meaning go through the page find me an H1 element and query selector is only going to return one element so if they're multiple it's going to return the first thing it finds but here we only have one H1 element so it's okay I'm going to say look through this document try and find an H1 element and when you do I'd like to manipulate it and the way I'd like to manipulate It Is by saying dot inner HTML equals let's say goodbye for example so all right what's going on here well right now initially when we first load the page we have an H1 a big heading at the top that just says hello and now when this hello function is called which is called when this button is clicked on because it has an on click attribute that is equal to hello calling the hello function what the hello function is going to do is it's going to say document.queryselector H1 find me the H1 element that will return this element right here the JavaScript representation of this HTML element that is just an H1 whose HTML inside of it says hello and if I want to change that HTML I can do that by modifying the inner HTML property of the JavaScript element in order to update a property of anything in JavaScript we'll generally use this dot notation where dot accesses a property of some particular object and so I have this element this H1 and saying dot inner HTML means take that element and access its inner HTML property some property of that object and I would like to update its inner HTML to just in this case be the word goodbye followed by an exclamation point for example so now what we'll see is that when we run this page when we open this page up as by opening up hello.html I still see an H1 that says hello I still see a button that says click here but now when I actually click on the button click here you'll see that hello changes to goodbye we've run JavaScript code that finds an H1 element on the page and manipulates it changing it to something else than it was originally now every time I click here nothing else happens because every time I click here it's going to find the same H1 and it's going to update its HTML changing it from Hello to goodbye so maybe what I'd really like then is the ability to toggle back and forth to toggle back and forth between hello and goodbye rather than just change it from one thing to something else every time I click the button I'd like it to alternate back and forth and there are a number of ways you could imagine doing this but one way is by taking advantage of conditions so much in the same way that a language like python has conditions ifs and L ifs and else's JavaScript 2 has if and else if and else that allow us to describe it conditions such that we can only run certain blocks of code when a particular Boolean expression is true for example so what would that look like well let's go ahead and say inside of this hello function I can ask a question if document dot query selector H1s inner HTML is equal to hello well then go ahead and set it to goodbye and else then go ahead and update the inner HTML of this H1 element go ahead and set it to hello instead so what is this hello function doing it's now a little bit more sophisticated it now has a condition where I say if the keyword if followed by in parentheses the condition that I want to check for the thing I want to see is this true or not and what I'm checking for is is let me run document.queryselector H1 which again looks through the page finds me the H1 tag and gets that element for me if I look at that inner HTML if it is equal to hello then I want to do something and this triple equal sign here is javascript's way of checking for strict equality checking to make sure the two values are equal and also that their types are the same thing that if this is a string this must also be a string it turns out in JavaScript there's also a weaker way to check free quality that just uses two equal signs and that is going to check that values are the same but it's going to allow for a bit of differences in type the two things might have different types but so long as they're basically the same value the double equal sign might generally come to be true usually if you can you'll want to use this triple equal sign the strict equality to make sure that not only are the types the same but the values are the same too and the triple equal sign will check both of those things so if I go ahead and find the H1 element and its inner HTML is the word hello well then go ahead and find the H1 element and update its inner HTML setting it equal to goodbye for example and else go ahead and find that same H1 element update it to Inner HTML set it equal to hello and again just as in functions where we use these curly braces to enclose the body of the function all of the lines of code that are inside of the function JavaScript does the same thing too that inside of a condition when we want to express that this is inside the body of an if condition I can use curly braces to say this line of code and that line of code that's inside of the if expression or that's inside of the else expression for example so let's go ahead and try this now I can go ahead and open hello.html refresh it currently says hello with a button that says click here and now when I click here hello changes to goodbye and when I click here again goodbye changes back to hello and every time I click the button it's going to alternate between hello and goodbye because we either get caught in the if expression or we get caught in the else expression now there are a couple of places where you might look at this and notice that maybe this isn't as efficient as this code could potentially be and recall that every time we run document.queryselector to say go ahead and try and find a particular HTML element for me it's going to look through that page trying to find the H1 element and it turns out that right now we have three separate calls to query selector even though only two of them will ever run on any given instance of the function but we call document.query selector then we call it again inside of the if expression we can probably improve the design of this page by factoring that out by just looking for the H1 element once and then manipulating it and checking it using that element that we have found and to do that we can store an element inside of a variable in the same way that a variable can store a number like a counter or a string like Hello World it can also store other values like an HTML element that we get back from document.query selector so I could say something like let heading where heading is just the name of a variable be equal to document.queryselector H1 for instance find the H1 element save it inside of a variable called heading and now rather than document.queryselector H1 all the time I can just say if the headings inner HTML is hello then set the headings in or HTML to goodbye otherwise set the headings inner HTML to hello so I've improved the efficiency of the program but also reduced the number of characters of Code that I've had to write my lines are now much shorter a little bit easier to read this we would consider to be an improvement in design and it turns out there's one other Improvement we can make here too that we can define a variable like let something equal something else but it turns out that JavaScript gives us a couple of ways to Define a variable and if we're going to be creating a variable whose value is never going to change we're never going to reassign the variable name to something else then instead of let we can enforce that it's never going to change by calling it a const variable so const heading equals document.queryselector H1 means I am going to create a variable called heading setting it equal to the result of document.query selector H1 and never again will I change what heading is equal to I will never have another line of code that says heading equals something else because it is constant and JavaScript will then enforce that this variable should not change and If Ever I do try to change it JavaScript will give me an error and this can just be helpful to prevent against possible unintended behavior that if you know you have a variable that is never going to change it's often good design to label it as a const variable so that you and other people looking at your code know that that is never going to have a value that gets changed later on so this then will behave the same way where it says hello but I can toggle it back and forth changing it to goodbye and then changing it back to hello again and so now using this ability this ability to manipulate the Dom we can go back to our counter program and actually improve upon it that right now ever the counter program uh I count and it displays an alert that says one I count and it displays an alert that says two I can probably do a little bit better than that by instead of displaying an alert actually manipulating the Dom in some way that I would like to have this H1 this big heading at the top instead of starting up by saying hello let's have it start out by saying zero for example just some initial value for the counter and now when I increment the value of counter rather than display an alert that just tells me the value of the counter in an alert I'm going to instead say document.queryselector H1 dot inner HTML equals counter where I'm saying find each one element update its inner HTML set it equal to whatever the value of the variable counter happens to be such that now if I refresh this page the value of this H1 initially is zero that's the initial value but every time I click count we're going to update the contents of that H1 element this time setting it to 1 2 3 4 and so forth every time I click the count button it's going to increment the value of the variable as well as manipulate the Dom actually making changes in order to produce the effect that I want to see on this actual page and we can begin to add additional logic to this as well maybe I do occasionally want an alert but I don't want to alert every single time I could add a condition I could say something like if I only want to display an alert every time I count to a multiple of 10 like 10 and 20 and 30 and 40 and 50 and so forth I could add a condition that says that if counter mod 10 and mod just gets me remainder when you divide by 10. so if you take the counter divide it by 10 if the remainder is 0 when I divide by 10 well that means counter is a multiple of 10 and so I can now display an alert where I can display an alert that says like I want to say something like the counter is now 10 or the counter is now 20. and in order to do that what I really want to do is have some way of plugging in a variable into a string inside of JavaScript and in Python the way we would have done this is by appending F or prepending F in front of the string to create a formatted string and then I would have said something like the count is now and then I'd use curly braces to say go ahead and print out the value of counter so this F for formatted string followed by this string would have been the way in Python that we would have done this turns out JavaScript does the same thing just with slightly different syntax it doesn't use f instead instead of using the regular quotation marks whether the single or double quotation marks JavaScript uses these back ticks which are usually located above the tab key on a standard US keyboard and this is going to create what JavaScript calls a template literal where I can then substitute the value of a variable somewhere inside of this template and then in order to actually do the substitution well python uses double curly braces to say plug in the value of counter right here JavaScript does something similar it also uses double curly braces but there needs to be a dollar sign in front of it the dollar sign and then the dollar double curly braces I mean go ahead and plug in the value of a variable there so this then is a template literal where every time we get to a multiple of 10 we're going to display an alert that says the count is now and then this dollar sign curly brace means actually plug in whatever the value of counter happens to be right there so now if I go ahead and refresh counter it starts at zero I can count three four five six seven eight nine but when I get to 10 then I get an alert that says the count is now 10 and then I see the result update on the page and so that template literal can allow us to combine variables and strings in order to generate new strings that are able to represent data inside of them as well so now what improvements can we begin to make here what changes can we make to this to improve upon the design of it well one thing especially as our programs get a little bit more sophisticated a little bit more complicated is that we often don't want to be intermingling our JavaScript code with the contents of our HTML that down here we have button on click equals count that's the name of this function and especially as our page starts to get more complicated it's going to start to get a little bit annoying if we're constantly having to maintain a little bit of JavaScript code like making a call to a function inside of our HTML we'll see a little bit later there are other paradigms that actually encourage this type of thing but right now it can start to get a little poorly designed we'd really like to separate all of our JavaScript related code from all of the HTML the general structure of our page and so there are ways we can begin to do that as well I can add an event listener inside of JavaScript too that I can say something like document.queryselector button and then I can say dot on click equals count so what's going on here and I can do this instead of this on click equals count what I'm now saying is document.queryselector button find me the button on the page it turns out there's only one button here so it's fine though if there were more I might have to be a little bit more specific but once I get that button then I'm going to access its on click property and I'm going to set it equal to count and what does count count is the name of a function count is itself a function and so what I'm here saying is I would like to set the value of the on click property of the button equal to count the count is the function that should run when the button is clicked on and notice that I am not actually calling the function it's not count and then parentheses which would mean run the count function and then get its return value and use that as the value for onclick I'm just setting on click equal literally to the count function itself without actually calling the function and what this is going to do is it is going to say when the button is clicked on then and only then should you actually run this count function and we're not going to run the count function until that button actually gets clicked on and so in JavaScript functions can be treated as values of their own just as you can set a variable equal to a string just as you can set a variable equal to an integer just as you can set a variable equal to like an HTML element like the result of document.queryselector you can also set a variable equal to a function something like count and pass that around as a value just as you could with any other value and this is a paradigm we generally call functional programming where we have functions as values of their own things that we can reassign things that we we can manipulate just as we could any other value so now I can try and run this program by going ahead and refreshing the page I'll refresh it it's zero I press count and all right nothing seems to be happening it's still zero I want it to be counting but it doesn't seem to be working so why not anytime you run into problems in JavaScript where you're not getting the behavior you want often it can be helpful to look at the JavaScript console or the JavaScript console is the equivalent of like the terminal window in when you're running your Django application in Python that would display any error messages the JavaScript console will display any of the JavaScript logging information and error messages as well in Chrome I can get to it if I first go ahead and go to inspect and then just open up the console tab here and all right we seem to have some sort of error here it's an uncaught type error that says we cannot set property on click of null in counter.html line 18. so that will generally tell you where the error is coming from it's coming from counter.html on line 18 and the problem seems to be that I'm trying to access the on click property of null and null is javascript's way of expressing like nothing some object that doesn't exist so somehow I'm trying to set the on click property of null well let's see what's going on on line 18 and see if we can figure out what's happening there well all right here is line 18 where I say document.queryselector button setting its on click property equal to count and now what seems to be the problem here well the error message was that I was trying to modify the onclick property of no well here then is the on click property so why would this document.queryselector button be returning or giving me an output of null well it turns out the document.query selector will return null if it's not able to find something if I try and find a button but it's not able to find a button well this seems a little bit strange because there's a button down here on line 24 that I'd like for my JavaScript code to be able to find when it runs query selector and tries to find the button as it turns out this is a bit of The Quirk of the way the browser is going to work but if the browser is running our code from top to bottom just reading it from line one on and on then it's going to get to line 18 where I've said document.queryselector button dot on click equals count and it's going to try and find a button on line 18 but the button doesn't show up in my HTML page until much further down in the page so at this point when we get to this line of JavaScript JavaScript is looking for the button but the Dom the body of the page hasn't finished loading yet the content of the Dom has not yet loaded and as a result we're not able to find this button so how do we solve this problem how do we get it so we actually are able to like ask for the button and actually get the button well it turns out there are a couple of strategies we could use one would be take the script tag and go ahead and just move it to the bottom section of the body so that after we've already defined the button that says count then we have the script tag that then says all right go ahead and now find the button and now we'll be able to find it turns out another way and perhaps a more common way is to instead add yet another event listener and we're going to add an event listener not to the button but to the entire document where document is a variable built into this JavaScript that we have access to on the web page that just refers to this entire web document where I've used document.queryselector already to look through the whole web document trying to find a button or trying to find an H1 tag for example but I can also add an event listener to the document itself and in order to do that I can say document dot add event listener and when I call out event listener and I can do this on any HTML element not just the document but I could run this function on a button or on an H1 element or any other HTML element ad event listener will generally take two arguments where the first is what event I want to listen for the event could be something like click when I click on the document it could be something like when I scroll through a page for example but the event I'm going to listen for is a particularly special event called Dom content loaded and the Dom content loaded event is an event that is going to be fired or triggered when the Dom the document object model the structure of the page is done loading when all of the elements on the page are done loading the Dom content has been loaded and then if I attach an event listener to it it'll run whatever code I want to run that should only run after the Dom is fully loaded after all of the content on the page has then been loaded and the second argument to add event listener is what function should run once the event actually happens when the Dom content loaded does happen so I could pass in the name of a function if I had the name of a function that I wanted to pass in but alternatively JavaScript allows me to just directly write a function here in the argument to add event listener I can just say function and then a set of parentheses to mean the function doesn't take any input and then in curly braces I can include the body of the function right here as the second argument to add event listener and this is a little bit of tricky syntax to wrap your mind around if you've never seen it before but the big picture way to think of it is add event listener takes two arguments one is the event the second is the function so here first is the event Dom content loaded and the second argument is a function and I would declare the function same as before just using function I haven't given the function a name because strictly speaking it doesn't need a name I'm never going to refer to the function by name so it is what we might call an anonymous function a function that has no name but I'm still passing it into the add event listener function as an argument because I want to run the code inside of the function once the Dom is done loading and so inside of curly braces then is the content of that function the content of what code should run when the Dom is done loading and then at the end I again use just this end parenthesis where that end parenthesis lines up with this parenthesis here this is in closing all of the arguments to add event listener where the first one is Dom content loaded and the second one is this entire function that might span multiple lines so you'll see syntax like this quite a bit in JavaScript but now what I want to do is adding the event listener to the button I can go ahead and just replace and put it here and it turns out that if I wanted to instead of saying dot on click equals count you could have used the same syntax of ad event listener I could say add event listener click and then count to mean when the click event happens go ahead and run the count function but you can equivalently shorthand this and just say dot on click equals count and that would work just as well so now what we're saying here is that wait until the Dom is done loaded wait until all the content on the page is loaded and then go ahead and run this function and what the function is going to do is it's going to add the event handler to this button and that'll work because now we'll be able to find the button because now all of the content of the Dom has loaded so now if I go back refreshcounter.html you'll notice that the JavaScript error goes away I don't seem to have that error anymore and now if I press count we're able to see the count increment just as before as well and so this then is an improvement upon what I've had before where now I'm able to separate out my JavaScript code from all of the rest of my code as well but much as in the case of CSS where we were able to take CSS it was originally located in the head of our page and move it into a separate file you can do the same thing with JavaScript too and this can be helpful if you have multiple people working on different files you want one person working on the HTML and someone else working on the JavaScript it can be helpful if you expect that one of these things is going to change more frequently than the other so you might not need to load the other one as often so there can be value in separating our HTML code from our JavaScript even more by moving our JavaScript into a separate file and so in order to do that I can create a new file that I'll just call counter.js which will contain all of the JavaScript for mycounter.html file so in order to do that what I can say is let's go ahead and copy all of this JavaScript code go ahead and cut it out of this page and I'll paste it into counter.js remove some of that indentation so now I have a file called counter.js that just contains all of the JavaScript I want to run on my counter.html page and now rather than include actual JavaScript in between these script tags what I can say is script SRC SRC for Source equals counter.js for example to say go ahead and reference counter.js and use that JavaScript in the head of the page here and that then is going to work exactly the same way I still am able to count as high as I'd like I still get an alert every time the count reaches a multiple of 10 but my HTML is now a little bit simpler it's just the body it's just the H1 and the button and then all of my JavaScript is now located in a separate file that allows me to do that allows me to keep my HTML code and my JavaScript code separate from each other and that can be value for valuable for a couple of reasons among them if I have common JavaScript code that's in use by multiple different HTML Pages multiple HTML Pages can all include the same JavaScript Source rather than needing to repeat myself use the same JavaScript across multiple different pages I can just use the same JavaScript across all of them and that'll be helpful too as we begin to take a look later at some JavaScript libraries which are JavaScript written by other people we can just include other people's JavaScript in our own web pages just by adding a script tag at the top of our page that specifies a particular Source you may have already interacted with bootstrap that has its own JavaScript code and you can include bootstraps JavaScript just by including a script tag at the top of our HTML page in order to say go ahead and include all of that JavaScript in our page as well so what else can we do now now that we have the ability to like get at elements of the Dom and actually manipulate their contents well one thing we can do is begin to make our Pages a little bit more interactive actually respond to what users are doing on the page whether the user is typing something in or maybe filling out a form for example so let's go ahead and try an example of that where the user might be filling out a form and we would like for our code to somehow respond to what it is that they type I'll go ahead and go back into hello.html and now inside of the body of the page I've said hello at the top I'm here instead of a button I'm going to have a form this HTML form will look like the HTML forms we've seen before I have an input field that'll add the autofocus attribute to to mean like automatically Focus this input field when I open the page because I might want the user to start typing right away I'm going to give this input field an ID of name for example and then a placeholder of name capital N whose type is text so what have I done here I've created an input field where the user can type in some text the placeholder the thing the user sees filled into that input field originally will just be capital N name telling them they should type their name in here and I've given this input field an ID some unique identifier such that I later on can reference and find this particular input field and then I have input type equals submit some way for me to now submit this form as well and so if I load this page load hello.html here's what I see Hello a field where I can type in my name the placeholder name shows up there for me and then a button where I can submit this form and now what I'd like to do inside of my JavaScript is instead of this hello function what I'm going to do is I'm going to first run some JavaScript when the Dom is done loading and so I'll use that same line from before you're going to see it quite a bit where we're going to say document.ad eventlistener Dom content loaded and then this function to mean go ahead and run this code when the Dom is done loaded and the code I'd like to run is to say when I submit the form I want something to happen when I submit the form maybe I want to display an alert that if I typed in Brian it'll say hello Brian or if I typed in David it'll say hello David for example so how might I do that well how do I get the form that's the first question anytime you want to get at an element one particular element on an HTML page usually what we're going to do is document.queryselector to say get me the element that is a form and there's only one form on the page so I don't have to worry about ambiguity I'm just saying get me that form and then I can say dot on submit when you submit the form what code should run and if I had a name of a function like a function f i could just say like run function f when the form is submitted but alternatively just as before instead of providing the name of a function I can also just provide the function itself I can say function and then in between these curly braces I can specify exactly what code should run when the form is submitted by providing this Anonymous function instead using this Anonymous function as the value of the on submit property of this form and so now what I'd like to do is somehow get access to whatever the user typed into the input field whatever the user's name happens to be and so I could get the input field via document.queryselector input and that would work this time but we'll want to start to be a little bit careful because on this page there are multiple different input elements there's an input element here for typing in the name and a second input element here for telling me you're giving me a button where I can submit this particular HTML form and so what I probably want to do is be a little bit more specific and it turns out that inside of query selector I can use all of the standard ways in CSS that we could select for a particular element so in CSS if you'll recall we had the ability to run CSS and just say style all the H1s or we could say style all the things with this particular ID or with this particular class and document.queryselector works the same way that I can say document.queryselector and pass in a tag to say like get me the H1 element or get me the button or get me the form but if there are multiple H1 elements or multiple buttons or multiple forms I can be more specific than that if for example an element has an ID in which case I can say document.queryselector and then in quotation marks the hash mark and then the name of the ID to say get me the element with that particular ID again using the exact same syntax that CSS uses if I want to apply a particular set of styles to only one element that only has one ID likewise too I can say document.queryselector and then use dot followed by the name of a class if there's a particular particular class of elements and I want to just get one of those to say get me an element that has this particular class in order to manipulate it as well so the same types of syntax that we could use in CSS for trying to reference and get at a particular HTML element we can do the same thing here with document.queryselector to go ahead and try and get a particular element based on its tag name based on its ID or based on its class and it was for that reason that inside of the HTML page for my input I gave the input an ID of name I wanted some way to be able to uniquely reference it and I can uniquely reference it not by input but by pound name or I can say get me the element that has an ID of name and that is the element that I would like to extract inside of my JavaScript code once I have that HTML element what I want is like what the user actually typed into that input field and it turns out that if you have an input field in HTML I can get access to what the user typed in by accessing its value property value is a property that for that refers to what it is the user actually typed in so I can say dot value and I'm going to go ahead and save that inside of a variable so I could say something like let name equal whatever the user typed in but if I'm not going to reassign name to something else inside of this function inside of this function I'm really going to get the name once and I'm not going to change it inside of the function so I can use a const variable instead and that would be better designed so I have a constant variable called name which is equal to document.queryselector get me the element whose idea's name and get access to its value and now I can display an alert I can alert something like in backticks hello comma and then using the dollar sign curly brace syntax I can say plug in the name there followed by an exclamation point so I've extracted the name from the form get me the input field where they typed the name get access to its value and then I'm displaying an alert that is going to say hello to that person for example and so now if I refresh the page I type in my name I press submit I get an alert that says hello Brian I press OK I can try it again I can type in something like David press submit and now the page says hello David so here again we've been able to combine event listeners and functions and query selector to be able to both read information from the page in order to say get me this particular HTML element find me an HTML element and access like what the user typed into it the dot value property that gets me what the user typed into an input field and we've been able to combine that with event listeners and alerts that are able to actually respond dynamically to when a user submits the form or when the entire content of the page is done loading in order to produce some interesting effects as well but it turns out we can do more than just change like the HTML that is contained within an element we can also change CSS as well change the style properties of a particular element as well so let's go ahead and see an example of that I'll go ahead and create a new file that I'll call colors.html and inside of colors I'll include the same standard HTML boilerplate code that we often start with a head section with a title and a body section and inside of the body of this page I'm going to display a heading that just says hello for example and maybe I'll give it an ID just so I can reference it by name maybe it has an ID of hello and then I'll have three buttons I'll have a button called red a button called blue and then a button called Green for example where now if I open up colors.html here's what I see I see a big heading that says hello and then I see three buttons red blue and green but of course right now these buttons don't actually do anything how do I get the buttons to do something well that's where javascript's going to come in I'll add a script tagged at the top of my page and I only want to run this JavaScript when the Dom is done loading so again we'll use the same syntax as before document dot add event listener Dom content loaded and then run this function to say everything in between these curly braces this is all the code that should run once the page is done loading and what I'd really like to do is get at these three buttons and say when you click on each one of them do something different like change the color of a particular HTML element and in order to do that I need some way of uniquely referencing these buttons so to do that I'm going to give them all IDs this button will have an ID of red this button will have an ID of blue this button will have an ID of green just unique names I can give to the buttons in HTML such that in JavaScript I'm later able to reference them so what I what do I include now here inside of my JavaScript code well let me say document.queryselector hash red to say get me the element whose ID is read and when you're clicked on on click go ahead and run this function what should the function do well I want to take this H1 element and change its color to Red I want to change the font color to red and I'll leave a comment to myself in JavaScript the way you can leave a comment just to document what you're doing is using these two slashes the two slashes indicate everything after that on the page is going to be a comment browser will ignore it but it can be useful to you the programmer into someone who's reading your code to be able to see what it is that you're describing here on the page and now what I'd like to do is document.queryselector hello get me the HTML element whose ID is hello and go ahead and modify its style property and now inside of this style object I can modify any of the CSS style properties one of them for example is something like color so I can update the color property and set it equal to red so here now I'm saying when you click on the red button go ahead and run this function and what the function should do is find the hello element update its style what part of the style update its color what should we update it to we should update it to red and I'm going to do the same thing for the other two buttons as well and it's pretty similar code so I'm just going to copy paste copy paste here I'm going to have one for changing the color to Blue when I click the blue button you should change the color to blue and then we'll do it one more time change the font color to Green when you click on the green button you should change the color to Green so now when I refresh the colors.html right now hello by default is just in Black standard font color for HTML I click red Hello changes to Red I click blue it changes to Blue I click green it changes to Green so depending on what button I click that triggers some event listener that's going to then say when the button is clicked run this function and what the function does is it grabs this H1 element the element whose ID is hello modifies its style updates its color property to be something like red or blue or green and that's showing that we can modify style in addition to just modifying the content of the page itself but it turns out that as you looked at me writing that code something should have struck you is probably not optimal design that in general anytime you find yourself writing the same code again and again and again especially if you're copy pasting that that is a generally a bad sign usually a sign that there is some better way of trying to modify of trying to implement the behavior that I'm trying to create and it turns out that there is and there are a number of ways that you could do this one way here is that I might like to consolidate these three event listeners into just like a single function that is going to handle changing the color to whatever the button says the color should be changed to but one problem here is that if I just attach the same event listener to all three of the buttons it's not going to be clear to me when I click on the button how does the button know what color we should change the text to and so to that effect we can add some additional special attributes to a particular HTML element that are called Data attributes or a data attribute is my way of saying that I would like to associate some data with this particular H2O HTML element where here I can say data Dash color equals Red Data Dash color equals blue data Dash color equals green data attributes always start with data followed by a dash and then I can specify really any name that I want for some information that I would like to store about the HTML element and here the information I want to store is I want to store data about what color you should change the text to when the button is clicked on and so what we're going to have the ability to do now is the ability to say that if I have access to this element this button I can access its data color property to know whether we should change the text to red or blue or green by adding these data attributes to these HTML elements and so now what I want is some way of getting all of these buttons now document.queryselector as you recall just gets one element it's just going to get for me a single element and it's going to get the first one that it finds if I want to get multiple elements what I can do instead is something like document dot query selector all query selector all is going to return the same thing the query selector does but instead of query selector returning a single element that matches what it looks for query selector all is going to return to mean an array of all of the elements that match my particular query so if I want to select not just the first button I find but all of the buttons I find I can here say query selector all for button and that will give me back a JavaScript array the equivalent of a list that represents all of those buttons and we can actually test what this looks like by looking at things inside of the JavaScript console that if I go ahead and refresh this page colors I can open up the inspector go into the JavaScript console and just as you could see error messages here you can also actually write JavaScript code here as well so I can say something like document.queryselector button say all right what's going to happen when I try and select for a button on this particular page and what I get is all right I get just this very first button button whose data Dash color is equal to Red that's what I would expect query selector just finds me one element and it's going to find me the very first element and likewise I can say all right instead of query selector let's do query selector all and what I get back is a node list which you can think of as kind of like an array or a list in Python that's got three buttons in it button zero one and two and just as with a list in python as you can index into things arrays in Python arrays in JavaScript can be indexed into as well that if I have something like const names equals Harry Ron and Hermione like a array of three names I can say name square bracket zero to get the first name name square bracket one to get the second one name score bracket two to get the third one for example and that gives me each of the individual elements in the array if I want to get the whole length of the array I can do names dot length to get all right the length of the names array happens to be three so just some additional features that we have access to If you happen to have an array of things turns out query selector all returns to me a node list which is kind of like an array and that's going to be useful because when I say document.queryselector all button I am saying get me all of the buttons on the page and now what I would like to do is effectively Loop over all of those buttons and say for each of the buttons inside of this list that comes back to me I would like to add an event handler for when that button is clicked on to say for each of the buttons that comes back go ahead and say when you're clicked on change the color of the H1 element and so there are a number of ways again that you could do this but one way is to use a particular property called for each and for each is a function that accepts as an argument another function where the idea is going to be I would like to run a function for each of the elements inside of an array or inside of a node list for example so here I can say for each button go ahead and run this function this is going to be a function now that takes something as input it's going to take one of the elements in the list as input something like a button and now for each button what would I like to do for that button well when the button is clicked on button Dot unclick then go ahead and run a function that is going to document.queryselector get me the element whose ID is hello change its style within the style change its color and what do I want to change this color to will I have access to this button this argument to the function is whichever button I'm currently trying to add an event listener for and in order to access its data properties I can access a special property of an HTML element called its data set property and then I can say something like button.dataset dot color to get at the data Dash color attribute so a lot of stuff going on here let's go ahead and try and read through this entire thing and just get a feel for what's happening because we have functions nested within other functions nested within other functions up at the very top I've said add an event listener to the document when the documents Dom content is loaded meaning all the content of the page is downloading go ahead and run this function this is the body of the function so what do I want to do when the page is done loading I'm going to document.queryselector all looking for all of the buttons and if I wanted to if there could be more buttons I could have added a class to these buttons and just look for things with a particular class query selector all just returns all of the elements that match a particular query and then I'm saying for each of those buttons for each of the buttons that came back I would like to run a function on each of those buttons I'm basically saying if I have three buttons that came back let me run a function on the first button then the same function on the second button then the same function on the third button and what is that function well it's this function here a function that takes as input the button it's first going to pass in as input the first button then the second button then the Third and what this function does is it adds an on click Handler to the button it says when the button is clicked on go ahead and run this other function and this function now is the function that will run when the button is clicked on to say when the button is clicked on get me the hello element change its color to button.dataset.color and button.dataset.color takes a button takes an HTML element like this one here and accesses its data set all of its data properties and specifically accesses the color data property which in this case is equal to red and that is what we would like to set color equal to it's a little bit more complex than we've seen before but now we've been able to reduce what was three different event handlers into just a single one and now this is going to work the same way change it to red blue and green all by just using those data properties that we have access to and so when in doubt about how these things are working about what query selector is returning the JavaScript console can be a very powerful tool for this so you can go into the JavaScript console and actually manipulate things you can run and run queries you can run functions you can even modify the values of variables like if I go back for instance to counter.html or had this counter that's counting zero one two three four if I wanted to I could say something like counter equals 27 just like change the value of the counter nothing appears to have changed on the page I didn't say update anything on the page but now next time I run count it's going to update the value of the count to 28 because I had updated the value inside of the JavaScript console it's going to increment that value display that value inside of the H1 element so you can modify variables you can run functions you can run document.queryselector to figure out what particular elements are going to come back all through the use of the JavaScript console which can be a very very powerful tool especially as you begin working on trying to debug these programs and trying to figure out what might be wrong with them it turns out too that there are other changes that we can make in order to optimize our code a little bit more in order to make it a little bit more succinct and one way is that in more recent versions of JavaScript they've introduced a particular notation for functions called the arrow notation for functions and I'll just show it to you because it'll come up but oftentimes instead of using the keyword function before introducing a function you'll just have something like button and then Arrow the curly braces and strictly speaking you'd only even need the parentheses around the input where button arrow and then in these curly braces some code just means here is going to be a function that takes us input a variable called button and then runs this particular block of code when that function is run and likewise if a function takes no input like this function up here you could express it using arrow notation with just parentheses Arrow block and so this is often a notation that you'll see in JavaScript so if you ever see it know that that's really just shorthand for creating a function whatever it is to the left of the arrow sign is the input to the function and whatever is to the right of the arrow is what code should actually run when the function body gets executed when the function is called upon so what other changes might we want to make to colors.html well if we look back at colors.html here's what it looks like now we've got a heading that says hello and then buttons to change the color to red or blue or green for example we might instead if we want the user to choose from one from a number of options decide upon the user interface choice of using a drop down instead of a bunch of buttons for example and JavaScript supports that as well and we'll use this as an opportunity to explore some of the other event handlers that exist within JavaScript so for example instead of having these all inside of buttons I can make my life a little bit easier by making this a select drop down where the select is going to have an option whose value is let's say black is the default option we'll just say black and then we'll add another option whose value is red and then we say red and the value is what we'll get in JavaScript when we try and extract the value of a particular select drop down well it's in between the option tags themselves is what the user is going to see on the page when they actually view it so I'm capitalizing it just for them option value equals blue it'll be blue and then option value equals green and that'll be green so now what the user sees is they say hello and then a drop down menu where they can choose from a list of colors rather than click buttons in order to do so and now of course this select drop down doesn't do anything at the moment but I can modify it so that it does so now instead of selecting for all of the buttons and doing something with all the buttons we don't have any buttons anymore what I do have is I have a select drop down and now just as we've seen like on click to say when you click on something as we've seen Dom content loaded as an event there's another event called on change which applies to things like select dropdowns where when something changes in the select drop down when a user chooses something different I can run some code for example so I can run a function that in this case is going to take document.queryselector hello meaning get me the hello HTML element change its style what part of the style change its color and I want to change it to something I want to change it to the value of this select drop down but how do I get access to this particular select drop down well in JavaScript we have access to a special value called this and this has special meaning in JavaScript and its meaning varies based on context but in the context of an event handler a function that is called when a particular event happens this is going to be a special keyword that always refers to the thing that received the event so what received the event it was the select drop down that is what received the event of being changed and so this is going to be a special keyword that always refers to that that always refers to the drop down menu where I made a different selection so if I want to get the value of that drop down menu what it is the user actually selected I can just say this dot value to mean get that drop down menu and get at the value the thing that the user selected in that menu and now much more succinctly than before I've been able to implement the same kind of idea it says hello right now in black but if I choose from the drop down menu to change its color to something like red for example color changes to Red if I instead choose blue it changes to blue green changes to Green I choose black it changes Back to Black so now I have this ability to detect these other types of events and respond to them as well and there are many many different events that exist in JavaScript there's on click which we've seen already on Mouse over it can detect like when you Mouse over something when you're hovering over a particular element if you've ever seen websites that somehow respond when your mouse moves over something that can be how it's implemented on key down and on key up can respond to keyboard events something like when you press a key on the keyboard when you press down on the key that's on key down and when you lift your finger off the key that's on key up and there are other events as well many more events that are just listed here that you can listen for and respond to so that you can really interact with the user based on what it is that they're doing so now let's take a look at an example of how we can use some of these events to now begin to create a little bit of a more interesting application we'll go ahead and build a todo list application this time using exclusively JavaScript we've seen todo lists before that involve communicating with a server making requests and responses we'll now build a todo list that only uses JavaScript to do so I'll create a new file called tasks.html and we'll use them we'll create a head section whose title is tasks and a body section and inside the body of the page I'll go ahead and have a heading that says tasks and underneath that I want an unordered list of all of my tasks so I have an unordered list I'll give it an ID of tasks just for good measure so I can reference it later but initially nothing's going to be in here but what I'll have underneath the unordered list is a form a form where I can submit a new task for example so I'll give myself an input field also given an ID the ID will be task singular for the new task that I am typing in the placeholder will be new task just so the user knows what to type in and the type of the input field will be text so I have an input field where the user can type in some new task and I'll also add an input field for good measure whose type is submit that allows the user to submit a new task once they've created it so if I open up tasks.html here's then what I see big heading there is technically an unordered list underneath it here but there's nothing in that unordered list yet so it just shows up as empty then a text field where I can type in a task and then a submit button where I can submit my new task so now I'd like some JavaScript such that when I submit this form we actually do something so add a script tag I want this JavaScript to run after the Dom content is loaded so we'll go ahead and add the usual Dom content loaded event listener and now I want to run code when the form is submitted so I can say document.queryselector form dot on submit equals and then I want to run a function and I could use the keyword function again but I can just use an arrow function which will be a little bit faster to type just say all right here's the function that I want to run when the form is submitted and what would I like to do well I'd first like to figure out all right what did the user actually type in and what the user typed in well that'll be document.queryselector task dot value get me the element with ID task that's the input field dot value gets the value of the input field which is what the user actually typed in and I can save that as like const task that is what it is the user typed in and if I'm curious as to what the user typed in I can actually print it out to the JavaScript console and the way to do that is using a special function called console.log and that just logs something to the console the equivalent of printing something out in Python where it just shows up in the python terminal here this is going to show up in the JavaScript console and one other thing I'll add is by default forms will try and submit when you press the submit button like take you to another page we've seen this before already in the context of Django that when you submit a form it tries and submits another web request if I want to prevent that behavior stop the form from submitting so stop form from submitting I can return false at the end of my form submission Handler to say don't actually submit the form we're going to do everything clientside everything just inside of the browser so now this won't quite work yet but it'll be progress I refresh the page I'm going to open up the JavaScript console so I can see what's going on if I add a task something just like Foo press submit this now gets logged to the JavaScript console it's the equivalent of a way of like providing debugging information to myself to know all right I now have access to this value Foo and it's also telling me what line of code logged at it with tasks.html line 9 is the line of code that logged Foo and so this can be useful when you're debugging a program when you want to see what the values of variables are you can just print them out using console.log to figure out what's going on in your program at any particular point in time but what I want to do is not console.loget what I want to do is really create a new element that I'm going to add into my body of the HTML so how can I do that well to create a new element for my document I can run a function called document dot create element followed by what type of element do I want to create well I have an unordered list a ul and every item inside of an unordered list is a list item An Li so I'll go ahead and create an Li element a list item and I'll save that in a variable then I'll call Li so I've created a new list item and this list items inner HTML the HTML content inside of that list item well that's just going to be task this variable from up here which is whatever the user typed in so I've now created a new list item and said what HTML should go inside of the list item it should be whatever task the user typed in and now I'm going to say document dot query selector tasks get me the element whose ideas tasks and that's going to be this unordered list here the unordered list whose ID is tasks and if I have an HTML element I can add a new element inside of it by saying dot append Li and what that now is going to do is it's going to say get me the unordered list whose ideas tasks get me the element whose ID is tasks by a query selector here once I have that element append to the end of what's inside of that element this value Li which happens to be this new element that I've created a new list item so I've been able to add a new HTML element and this line of code is going to say add it to the Dom add it to the unordered list that I am here now constructing so now I rerun this I see tasks I type in something like Foo I press submit and all right food now shows up I type in something like I delete that type in bar bar now shows up I type in baz bazino shows up now one minor user interface annoyance is that it seems that every time I submit a new task this input field retains the value of what it used to be and that's probably not what I want because I'd rather it just clear out I've already submitted the task no need for it to stay there but that's easy to manipulate in JavaScript if I want to clear out this input field the input field whose ID is tasked then all I need to do is say document dot query selector task get me that input field change its value equal to the empty string equal to nothing just to say clear out the value of what happens to be inside of that input field right now and now if I refresh the page type in Foo press submit input field clears out and now I can type in something like bar and then something like baz to continue to add tasks as well now one thing that might be slightly annoying is if I'm not careful if I press submit well it submits the empty string as a task and so I just get this empty bullet point that shows up here when I press submit and I just get all of these empty bullet points it might be nice from a user experience perspective if I were to not allow the user to do that not allow them to submit a task if they haven't actually typed something in to the new task field and we can do that just by modifying properties of elements that it turns out that HTML elements have a property called disabled that can be true or false that allows us to disable something like a button so if I want to disable the submit button one thing I might want to do first is give this submit button an ID I'll give it an ID of submit so that in my JavaScript code I can reference the submit button and now inside of this JavaScript code when the Dom content is loaded by default the submit button should be disabled like when I first load the page I don't want the submit button to be enabled because I want the user to type in a task first before I enable the submit button so how do I do that well I can document.queryselector get me the element whose ID is submit get me that submit button and just set its disabled property equal to True JavaScript has Boolean values true and false I set the disabled value equal to true to disable the submit button now if I refresh the page I can type in a new task but the submit button is disabled it doesn't do anything now obviously I don't want to keep it that way I'd like it such that as I begin to type things in then the submit button stops being disabled disabled gets set from True to false instead and so what I really want to do is listen for me like pressing keys on the keyboard and so the way I can do that is by adding yet another event listener document.queryselector what do I want to add a query selector to what do I want to add an event handler for well I want to add an event handler for when I type something into this input field and this input field has an ID of task so let me go ahead and get the input field the element whose ID is task and add an on key up Handler on key up again is the event when I lift my finger off of a key go ahead and run this function and what should the function do well it's going to say document.queryselector submit set the disabled property equal to false and so now here's what we're doing we're saying by default when I first load the page take the submit button and disable it set dot disabled equal to true then anytime I type a key and my finger comes off the key that means on key up is the event that gets triggered run this function and what the function is going to do is take that same submit button and set its disabled property equal to false so now instead of being disabled it will be enabled so if I go back to the page go here I type in right now by default the submit button is disabled but as soon as I start typing something now the submit button is active and I can actually click on it and all right this isn't great because I clicked on it but the submit button is still enabled so what I might like to do is all right after I've submitted the form after I've added a new task let's go back and disable the submit button so after I've submitted the form after we've added the new task to my list of tasks after we've cleared out the value from the input field let me also get the submit button set its disabled property equal to true now even after I submit the form the submit button is still going to be disabled such that I type in Foo now submit is active I press it but the submit button goes back to being inactive as well it turns out that even now there's still a little bit of a bug if I go back here and I type in something like bar but then I backspace back to like nothing here the submit button is still active so I can still technically submit a task that has no content inside of it and so I might like to have some way of preventing against that as well and that's just some additional logic we now have access to JavaScript that has conditions that has Loops that has functions and so if I want to do something like conditionally check I can say if document.query selector task dot value dot length is greater than zero meaning like something's actually typed into the task field we'll then go ahead and set disable defaults but otherwise go ahead and set disabled equal to true so now here we're checking if the length of what the user has typed in is greater than zero they actually type something in then yes give them access to the submit button but otherwise don't give them access to that button so now I refresh the page disabled by default I type something in it's enabled I delete delete delete and it goes back to being disabled so JavaScript has allowed us to really make our Pages much more interactive and immediately interactive based on how the user is interacting with the page as they begin to type things as they begin to delete things as they press buttons we're able to have the page respond either by adding content to the Dom by literally adding parts to the HTML Page Changing the stylus of things changing particular properties of elements and this is really where the power of JavaScript begins to come in it's been allowing ourselves to do things like that now so far we've only been able to have events happen when the user does something when the user clicks on a button or when the user presses a key for example but it turns out JavaScript has other ways of allowing functions to run in fact on their own we can set what are called intervals where a particular function runs every sum number of milliseconds for example and so if we go back to like the counter example from before right now for this counter example I have to be the one to press the count button that is going to increment the value of count every single time but I could put that inside of an interval instead so let me go back to counter.html whose JavaScript is inside of counter.js and now what I'd like to say is I would like when the Dom content is loaded let me set an interval for count and one thousand so what is that going to do set interval is a function built into JavaScript here where I'm saying that I would like to create a new interval where every so often go ahead and run a particular function and I would like to run the count function we'll recall that count function is going to increment the value of count and I'll get rid of this alert for now just for Simplicity all I want the count function to do is update the H1 with the new value of the counter and go ahead and run that count function every 1000 milliseconds otherwise known as every one second go ahead and run the count function so now when I open counter.html it's 0 but every second now it's going to change every second updating one by one by one I don't have to click the button of course I could in the event handler would still work but the interval is saying now every one second go ahead and run the count function and that has this particular result so if you've ever seen a web page that like displays the current time in seconds it was like a countdown timer or it's displaying the current time with seconds it might be doing something like this just having some sort of interval that every second is going to count an increment in order to say update the number to the one greater one greater and one greater than that of course if I close the page and go back to it if I close these pages and then opencounter.html again I've gone back to zero like JavaScript is not saving any state about my page it's just every time we're running the page it's going to go back to counter.js it's going to say all right we're defining a variable called counter we're setting that variable equal to zero so every time I load the page it's going to be set back to zero and that might not be great depending on the type of page you're trying to create that maybe you want a page that is somehow able to store information such that on subsequent visits we're able to utilize the information that was already stored some way of remembering information for later use and later versions of JavaScript and more modern browsers now allow us to do something just like that called local storage and what local storage is is it's a way for us to be able to store information inside of the user's web browser that a page can ask to store particular values inside the web browser and later on on subsequent visits to that page we can go back and say let's extract those values that were previously stored inside of local storage local storage is going to give us access to two key functions that we're going to use to manipulate this local storage the first is localstorage.getitem where we would like to get something out of local storage based on its key some name that we have given to that value and we also have access to localstorage.set item which goes ahead and adds a new value to local storage or replaces an existing value in local storage setting this key equal to a particular value so we can use local storage then to allow our web pages using JavaScript to be able to store information and retrieve information from the browser and let's now try to use that in order to solve this problem of the counter that seems to always reset back to zero so now in counter.js instead of sentencounter equal to zero the first thing I want to know is is there already a value for the counter in local storage so I can ask a question like if local storage dot get item counter meaning go to local storage try and get the counter and anything in this if expression will happen if there is something inside of local storage for counter but it turns out that if I want to do the inverse of that say not I can just use the exclamation point much like in C in JavaScript the exclamation point just means not so meaning if there is not something in local storage called counter well then let's go ahead and just set the value in local storage local storage dot set item counter and we'll set it equal to zero so what this is doing here is before anything else happens we are checking local storage to say is there already a value for counter and if there is not already a value for counter we need to make sure there is something there inside of local storage for the counter so we are going to set the value of counter equal to zero for example and so now what needs to change I'll go ahead and get rid of the interval so that it only happens when I click on it but what should this count function actually do well first let me get the value of the counter counter is going to be whatever localstorage dot get item counter is I'm going to get the counter out of local storage I'm going to increment it counter plus plus we'll go ahead and set the value of this H1 elements inner HTML equal to that counter but the last step is I'll also do local storage dot set item counter is equal to the new value of counter so what I've done here is to say that when I click the button count function is going to run we're first going to go into local storage get the value for the key counter whatever the value of counter happens to be save it inside of this variable called counter we'll go ahead and increment that variable setting it equal to itself plus one update the H1s inner HTML same as before just to update what we actually see on the page but then go ahead and localstorage.set item counter gets set to counter for example so now let's go ahead and see what's going to happen if I go ahead and open counter.html we see Zero we count one two three four five everything so far so good now watch what happens if I refresh this page I refresh the page and all right that seems a little bit strange it's zero let me try counting and see what happens I press count and all right the count changed to six so it seems like it did remember that I counted up to five zero one two three four five but when I refresh the page it still showed me zero but then let me count up to the number six and I can keep counting seven eight nine ten what happens if I refresh the page now I can try it I refresh the page I've gone back to zero but I count and okay now I'm at 11. so somehow I am still remembering but the first time it's still giving me zero every time why might that be well if you look back at counter.html you'll notice that the reason is just inside the body of the page the initial value of the H1 is just always zero so if I want to fix that then what I need to say is when the Dom content is loaded go ahead and get document.queryselector H1 go ahead and update the inner HTML equal to whatever local storage dot get item counter happens to be so every time I open the page even before I click the button even before the event listener is triggered I'd like to say go ahead and replace this heading update its inner HTML to be the result of getting the counter out of local storage for example so now if I refresh the page it's at 11 I can update update update click again some number of times bring it up to 18 for example refresh the page and it stays at the number 18 and no matter what value I get it to it's going to store that number inside of local storage such that when I refresh the page that number is going to stay there and we can actually see the value inside of local storage by again going into Chrome's inspector I go into Chrome if I go to the application tab and I go to local storage here on the left I can see that I have a value for T counter whose value in this case happens to be 28 and you could go into local storage you can manipulate this value you could delete it if you want but this just goes to show you that we have now stored this value inside of my browser such that on subsequent visits if this page gets loaded again we can access that value from inside of the application as well and so now we've been able to see how our pages are able to store data in order to just make the user experience a little bit better if we want the user to be able to have information remembered from the last time they visited a particular page we can sometimes actually be quite helpful all right so now we've seen a lot of features of JavaScript we've seen a bunch of different ways of representing data we've stored data in variables and those variables have had types like integers those variables of some has been strings sometimes have been HTML elements sometimes they've been arrays or lists of items sometimes they've even been functions you can set a variable equal to a function but perhaps one of the most useful data types inside of JavaScript is the JavaScript object so go into the JavaScript console just to demonstrate this with the JavaScript object is is it's really the equivalent of like a python dictionary some Association of keys to values where you can look up something by a key or by a property and see what its value happens to be so if I had a variable like person I could set person equal to a JavaScript object whose like first name is Harry and whose last name is Potter again using syntax very similar to what the dictionary syntax looks like inside of python as well and now that I have this variable person which is first Harry last Potter I can access a particular property of the person in a number of ways I can say something like person DOT first to say get me the first name property of this particular object and I see that it's equal to Harry I could equivalently use square bracket notation the way python does square bracket first and that will also give me Harry but this turns out to be quite powerful to be able to represent data in this structured way like this where I have an association of keys otherwise known as properties with particular values and then I have the ability given a JavaScript object to be able to access a particular value and it turns out that one of the ways this is most useful is in the exchange of data moving data around from one service to another and so here we're going to introduce what are known as apis otherwise known as application programming interfaces which in the context of the web you can think of as some welldefined structured way for services on the internet to communicate with each other that if you want your application to be able to talk to some other servers maybe you want your application to interact with Google Maps or to be able to interact with Amazon or some other Weather Service to get the day's weather then you might be able to access some API some mechanism whereby you can communicate with another service by sending a request and receiving back data in some sort of very well structured format and very often that wellstructured format happens to be a particular type of data known as Json which stands for JavaScript object notation which is a way of transferring data in the form of JavaScript objects these sort of objects that happen to have properties and values associated with them and so what does JavaScript object notation look like well if we think back to the applications that we've been creating these applications that are able to represent things like an airline and movements of planes between particular destinations a JavaScript object representing a flight might look something like this a JavaScript object that has properties for origin is something destination is something duration is something things we've seen before but you might imagine that if we wanted our airline to be able to make its data available to other services so that other web applications or other programs could programmatically access information about flights we could pass data in this format to those other applications so that they could then treat this as a JavaScript object and get access to the information about it and the nice thing about this particular representation is that it is both human readable and machine readable that we as people can look at this and get an intuitive understanding for what all of this means but also a computer knows how to access particular properties that appear before the colon and get access to what those values are which appear after that colon as well so JavaScript object notation otherwise known as Json offers a very convenient representation and this isn't exactly what the JavaScript object syntax is in JavaScript objects you don't strictly need the quotation marks around the keys you could just say origin colon and not origin and quotation marks so JavaScript object notation uses slightly different syntax But ultimately very reminiscent of what we've seen in JavaScript objects and JavaScript knows how to take data in this form and turn it into something like a JavaScript object and turns out there are ways of doing this in python as well in other programming languages have the ability to interpret Json data in order to use it in some meaningful way and another advantage of the Json representation is that it's very conducive to representing structures of things so these values don't just need to be strings or numbers they could be lists or arrays that happen to have a sequence of possible values or they could even be other JavaScript objects that if we wanted to represent not just a city name but represent the city name and the airport code for example as we saw that we wanted to do before I could instead of having origin be equal to a string like New York have origin be equal to yet another JavaScript object that contains a city property and a code property where the city is the name of the city and the code is the name of the airport code and the important thing is as long as I and the person I'm communicating with agree upon this representation agree upon what the names of these keys are and what the structure of this Json payload this Json object happens to be then the person on the receiving end can take this data and write a program that's able to interpret it and use that data in some meaningful way and so we'll see an example of this now of using JavaScript to be able to communicate with yet another online service in particular for accessing information about currency exchange rates currency exchange rates are always changing we want access to the latest currency exchange rate data and if there is an online service an API that provides access to that data in Json form in a format like this that is machine readable then we can use that data to write a stock a currency exchange application that uses realtime data in order to make those conversions what might that data look like well the data could look something like this that we make a request for accessing what are the exchange rates for converting from US Dollars otherwise known as USD and we get back a Json object that looks like this that has a base key of USD and then it has a rates key that has a whole bunch of rates within it so conversion to euros and Japanese Yen Great British written pounds as well as Australian dollars and all of the various different currency exchange rates for all of these different currencies for example and this doesn't have to be the way that this data is structured but it happens to be a convenient way and so long as the person providing this data to me and I both know what this structure is we can begin to write programs that are able to use that data and so we'll now see our example of an API which is a exchange rates API dot IO and if we go to api.exchange rates API dot IO latest and provide a get parameter of Base equals US Dollars then what we get back is data that looks like this now it's a little bit messy looking not nearly as clean as we saw before but it's the same exact thing just without the white space we have a JavaScript object that has a rates key that tells me all right here is the exchange rate between US Dollars and Canadian dollars and the pound and the Euro and other currencies that exist as well and down below we have the base of what base currency we're converting from so all of this data can come back to me if I just make an HTTP request I make a web request to this particular URL I then get access to all of this currency exchange rate information that I can then use inside of my application so how can I do this how can I now begin to use this information inside of an application let's now create a new page I'm going to call this currency.html inside of currency.html I'll add our usual HTML a title of currency exchange and a body and inside the body I'm just going to include nothing for now what I really care about is the JavaScript that is going to make a web request in order to get access to additional data now so far in JavaScript our JavaScript code has exclusively been running code that exists only on our computer it's running inside the web browser and all happening inside the web browser we're not communicating with some external server what we'll take a look at now is something known as Ajax which was about asynchronous JavaScript where the idea is that even after a page has loaded using JavaScript we can make additional web requests to ask for additional information either from our own web servers or from some thirdparty web servers if we want additional information on our page and what we want in this case is for our page to make an asynchronous request request for additional data about the current currency exchange rates for example so how am I going to do that well I want to do this after the Dom content is loaded so we'll add that usually there and what we're going to take advantage of is a function built into more recent versions of JavaScript and supported by most major browsers now and it's a function called Fetch and what fetch is going to do is it is going to make a web request it is going to query some website it could be our own it could be someone else's and it's going to get back some HTTP response from that page and I'm going to fetch and the page I'm going to fetch is this URL api.exchange rates api.io latest base equals USD and the only reason I happen to know how this API works is because I've read the api's documentation that describes how the URL parameters work and what the structure of the data that I get back is and so I'm here going to say go ahead and fetch from this URL make a HTTP request asking for additional information from this URL and get back what the results are going to be and what fetch gives back to us is something in JavaScript known as a promise and A promise is going to be a way of representing the idea that something is going to come back but it may not come back immediately we're not going to go into the details of exactly how those promises work but it turns out there's a particular Syntax for dealing with them which is that I can say after I fetch I can add a line called dot then that says what should I do when the promise comes back once I get back something like a response and so when I get back the response what I want to do is convert the response into Json treat it as Json data Java a JavaScript object as something that I can then manipulate and so what I can do is just use this as a function to say go ahead and return response dot Jason and so what this is saying is go ahead and get me the latest exchange rates and then after that's done this is an asynchronous process it might take some time but once I get back those results then run this function take the response and return the Json version of the response convert that response into just the raw Json data such that I can use that data to then access the currency exchange rates and it turns out that with arrow functions if you ever have a very simple function that all it's doing is taking something and returning something else I can simplify this function even further and just say I can emit the curly braces I can omit the return I can just say response arrow response.json and this is a shorthand way of saying a function that takes as input the response and returns as output response.json so here I'm saying go ahead and fetch me the latest exchange rates from this particular API then convert the response to Json data and then once you have the data here's what I want you to do with that data and for now let's just go ahead and console.log that data just to print it out to the terminal so we're not doing anything else just yet all I'm doing is saying get me the exchange rates convert the exchange rates data into Json and then let's go ahead and print out that data so I'll open up currency.html it's a blank page but if I look in the JavaScript inspector I see what got logged is a JavaScript object here indicated by the word object and if I click the triangle at left I can open up and see all right inside of this object is all of this data about exchange rates for a whole bunch of different exchange rates for converting from the US dollar we're here US dollar one means one US dollar is one US dollar for example so now that I've got this data let's actually try and use this inside of the program maybe let's say I want to convert between US Dollars and the euro to figure out what the conversion rate is between dollars in euros well if we recall what the data looks like the data is a JavaScript object where we have a key called rate and inside of rates is this object and inside of that object I can access the EUR property to get the exchange rate of one US dollar is equal to some number of Euros for example so it's inside of the rates key and then inside of the EUR key and that's how I know what to get access to inside of my data so what I really want to do is accessdata dot rates dot EUR that says get me all the data that came back access the rates key and then access the Euro key and we'll go ahead and save that in a variable called rate and now I'll just document.queryselect your body dot innerhtml equals rate just like take that rate put it inside of the body so now if I refresh currency.html what I see is just this value 0.908843 which means that right now one US dollar happens to be equal to about 0.91 Euros for instance so that's useful I could make this a little more human friendly by putting this inside of a template string I could say one US dollar is equal to and then rate Euros for example and so now if I refresh the page I see one US dollar is equal to this many euros and even this is a little bit annoying I probably don't care about it to this many decimal places unless I'm really in the mood to be very precise about these exchange rates if I only care about it to like three decimal places for example it turns out JavaScript has functions I can use on numbers like rate dot two fixed passing in three as an argument there to mean I'd like to take this exchange rate and just round it to three decimal places for example so now I refresh the page and I see one US dollar is equal to 0.909 euros and the interesting thing about what's Happening Here is this is happening as a result of an asynchronous request I am asking for the latest exchange rates and when I get back the exchange rates data JavaScript is plugging that information into the body of the page I know communicating with an API getting back that api's data in Json form and then using that data to update the contents of my HTML page of course in practice if I really want a currency exchange web page I probably don't just want to display the exchange rate between US Dollars and Euros I probably want to let the user pick what currencies they would like to exchange between and so here's how I might go about doing that inside of the body of the page now rather than just have an empty body let's go ahead and add a form that forum is going to have an input whose ID is currency just so I have a way of referencing it later the placeholder will just be currency and the type of it is text and then I'll have an input whose type is submit and we'll give it a value of convert that'll be what the button says it says convert and then I can convert to a particular currency and then I need some place to put my results so I'll go ahead and add a div whose ID is result and this is where after I've done all the currency conversion this is where I'm going to put the results of doing that currency conversion so now rather than fetch right away here's what I need to do I need to do something only when the form is submitted so I can get the form by saying document.queryselector form dot on submit equals this function and I'm going to go ahead and just in advance return false at the end of the function so we don't actually try and submit the form to another page I just want to run everything locally on this same page but now inside of this form once you submit it that is when I want to run this code that is going to fetch new data so I'm going to fetch data from the exchange rates API convert that data to Json same as before then go ahead and get access to that data but now what I want to do is I want to figure out what the user actually typed in to the input field and that is going to be the currency that I care about getting access to so I'll create a variable called currency which will be equal to document dot query selector and to write the input field if I scroll down it has an ID of currency so if I want to get that input field I'm going to say get the element whose ID is currency and get its value so this now is the currency that the user wanted me to get access to and I can then say data dot rates currency instead of data.rates.eur and importantly I can't do data.rates dot currency that would literally try to access a property of rates that is called currency if I use square brackets instead that allows me to use a variable something like the currency variable which are defined up here on line 13 as the currency that the user typed in I would like to access that particular currency inside of the rates and so now I can ask a question there are two possibilities here either the currency the user typed in is a valid currency or it's not and it turns out that if you try and access a property of an object that doesn't exist what you get back is a particular JavaScript variable called undefined meaning there is no value there so for example if I have something like let person equal first name is Harry and last name is Potter like we did before I can access something like person.first and get Harry I can access person.last and get Potter but if I access person dot middle that is going to be a special variable in JavaScript or Special Value in JavaScript called undefined meaning there is no value there slightly different from null which also has a similar meaning they're used in slightly different contexts so here what I can say is if the rate is not undefined well then let's go ahead and update not the body but the result to say one US dollar is equal to this rate not necessarily Euros but whatever the currency happens to be and otherwise let's go ahead and document.queryselector result dot inner HTML equals invalid currency just to let the user know that the currency they tried to provide is not actually a valid currency and so we're going to need to try a different currency in order to get the result to work so now here's what we can do if I open up currency.html again I now see a form where I can type in a currency I can type in something like the Euro for example press convert and I see all right one US dollar equal to 0.909 euros I type in something like the pound press convert one US dollar equal to 0.771 pounds I type in the Japanese Yen one US dollar is equal to 109.852 Japanese Yen and all of this is happening where every time I submit the form it's making yet another request so if the exchange rates happen to change in between when I submit the form the next time I submit the form I will be getting the latest exchange rates according to that exchange rates API and the results are going to come back here and of course if I type in a currency that doesn't exist I type in something like Foo for example and press convert invalid currency so it's going to report back to me that it wasn't able to find that currency and so it tells me that I need to type in something valid and so I can type in something valid maybe I tried just US Dollars itself it tells me one US dollar is equal to one US dollar exactly what I would expect it to be now there are a couple of optimizations and improvements that we can make here one is that I can search for euros right now with EUR press convert but if I search for euros in lower case for example it turns out it thinks that's an invalid currency and the reason why is because if you look at the data that comes back to me from the API this is the data that I get back from the exchange rates API what you'll notice is that all of the currencies are all in capital letters they're all capital letters all capital letters which means the only keys that I'm allowed to access are in fact those that have capital letters in them because these are the only keys that this API makes available to me so if I want to convert between US Dollars and Euros lowercase what I might want to do is first take the currency the thing the user typed in and first just call to uppercase on it which is a JavaScript function that takes a string and converts it to uppercase I'd like to take whatever the user typed in and now just first convert it to uppercase that way if I go back here I can type in Euro lowercase press convert and I'm still able to get the correct conversion rate the other thing that we won't noticeably notice the difference with here is that right now I'm assuming that all of this is going to go successfully that we're going to successfully be able to make a web request we'll successfully convert the response back to Json but you never know an API could go down the API could change and do something unexpected and so anytime you're dealing with these types of promises where you fetch something and say then do this then do that it can often be a good idea to add one last case which is a a catch case that basically says what should you do if something goes wrong so I can say catch the error and what I can just do is say like console.log error and then log the error there and all that's really saying is that if anything above goes wrong with the fetching and trying to process the response it's going to catch the error and then we'll just like print out to the console that something went wrong some error message happened and so that can be helpful nice to have just to make sure that when things crash they crash in a predictable way that you're able to see exactly what the error is just by looking inside the JavaScript console and so now we have a fully working web page that is able to communicate with an external API that is able to ask for information from another service on the internet use those results and put them back into the page really just going to show the power now that we get by taking advantage of the JavaScript language we have the ability now to not only use JavaScript to be able to run code on the client where we weren't able to before where right before we only had python code that was running on a web server but using JavaScript the really powerful thing is now the ability to manipulate the Dom the ability to use JavaScript to take the page and change the contents of the Page by updating things by reading what happens to be on the page whether it's inside of a particular element or what a user happened to type in and using that in conjunction with event handlers ways that we can listen for when the user clicks on something or when the user Scrolls through something or when the user types a key to be able to respond and therefore make our web pages all the more Interactive next time we'll continue our discussion of JavaScript looking at how we can leverage the features of JavaScript to continue to build even more interesting and engaging user interfaces so we'll see you next time welcome back everyone to web programming with python and JavaScript and last time we took a look at JavaScript that language that ran inside of a user's web browser clientside and allowed us to do a number of things to make our web pages more interactive JavaScript enabled us to display alerts to be able to manipulate the Dom the structure of the web page in order to add content or see what content was already there and it also let us respond to user events when a user clicked on a button or submitted a form or typed something into an input field we could have JavaScript functions run that responded to those events in order to make our web pages more interactive today we're going to continue that conversation in particular taking a look at user interface design looking at some common paradigms in terms of user interfaces and how we can leverage JavaScript to be able to achieve those goals to create interactive user interfaces that will be valuable when users are interacting with our applications so one of the more common paradigms especially nowadays in web programming is the idea of single page applications thus far if we want to create a web application that has multiple different pages we've generally done that by multiple different routes in our Django web application for example where you go to slash something to get one page and slash something else in order to get another page but commonly using JavaScript we have the ability to create single page applications where the entire web page is really just a single page and then we use JavaScript to manipulate the Dom to replace portions of the page with things we want to replace and this has a number of advantages one of them being that we only need to make modifications to the part of the page that is actually changing if for example you have five different pages but the general layout and structure of the page is pretty similar when you switch between Pages rather than load an entirely new page you can just load the part of the page that is changing and this is especially helpful for applications that are changing quite frequently so let's take a look now at how we could Implement for example a very simple single page application so let's imagine for example that we want a single page application that just displays three different pages but all included in the same page I'll go ahead and create a new file that I'll call single page.html inside of which we'll include our usual HTML tags and inside the body of this page now I'm going to include three different sections of the page to represent the three different pages I might want to display to the user so I'll have a div whose ID is page one that maybe just has a heading that says this is page one and you could imagine there's more content on these Pages as well idea of whose ID is page two we'll say this is page two and then one final day of whose ID is Page Three it has a heading that says this is Page Three for example now right now if I were to open up single page.html what we'd see is we see all three pages at the same time and now that's probably not what we want what we really want is by default to hide these Pages until we want to view the pages one at a time for example so one thing I could do is use CSS to be able to toggle whether or not something is visible adding some style tags to my page to say that by default all of my divs should have a display property set To None meaning they're not visible they're not displayed on the screen now if I refresh the page I don't actually see any of the three headings that I had there before but what I'd really like is for some buttons now to allow me to toggle between these three pages so I'll give myself three buttons one button that says page one one button that says page two and one button that says page three for example and I need some mechanism for these buttons to know when you click on this button what page should be displayed so I'll go ahead and use data attributes which we saw last time with JavaScript to add some additional information to these particular HTML elements where I'll give the first button a data Dash page value of page one the second one a data Dash page value of page two and the third one a data Dash page value of Page Three here again just providing information so that later when I write some JavaScript I can have the JavaScript code look at the data Dash page attribute to say that when you click on this button you should let me see the div whose ID is page one that's what this is going to allow us to signal so now let's go ahead and write that JavaScript what I want to be able to do is to be able to say I would like to show page one and hide the other two or show page two and hide the other two or show page three for example and so to do that I'll first write a function that will let me do that I'll write a function called show page that takes us its argument like what page I want to show and so what should this function do what we're going to do is we're going to say document.queryselector and I want to get the thing that has a particular ID the ID of whatever this input happens to be this page is going to represent the ID of the div that I want to show so I'll say get me the thing that has this ID and then using a template literal I'll say all right get me the ID of page whatever element has that particular ID and then I'd like to change its style property which part of the style well I want to change its display property and instead of none which was the default here where I said don't don't show it at all the other option for a div is block meaning it shows up as just a block that is on the page that is actually visible and so now I have this show page function and I can test it in fact if I go into my browser refresh the page I now see three buttons the buttons don't do anything just yet but what I can do is in the console if I actually just try running this I can run the show page function and say like show page page one for example press return and all right page one now appears on my page and if I rest show page page two then page two will become visible and all right that did half of what I wanted page two is now visible but so is page one so I probably want it such that if I ever show a page I hide the other Pages first like hide all the pages and then show page two or hide all the pages and then show page three so how could I go about doing that well first I might want to just when I show a page first hide all of the other Pages hide all the pages so to get all the pages I'll do document.queryselector all get all of the divs which is what I'm using to include and close the pages and now for each one of those again effectively creating a loop where I'm looping over each of the divs for each div let's go ahead and set the div.style dot display property equal to none and so what this show page function is now doing is it is first querying for all of the divs which are simulating my pages inside of the single page application and for each one of the divs we're going to pass it as input into this function which is the argument to for each again using this Arrow function notation which is just a shorthand way of expressing a function where I'm here saying that for each of the divs we'll go ahead and modify its style property setting display equal to none meaning don't show any of the divs and then show only the div that was requested so now this should solve the problem of multiple Pages appearing simultaneously that if I go back to this page and I click or write show page page one then page one appears but if I run show page of page 2 then page two appears but page one disappears and likewise when I show page page three that shows page three but not the other two so I can manipulate which page is visible all via the console but now what I'd like to do is get these buttons to actually work where if I click on one of the buttons that has the effect of actually displaying the requested page so in order to do that well I want to attach some event listeners to these buttons which means I need to wait until those buttons have loaded onto the page so we'll use document dot add event listener Dom content loaded again waiting until all of the content on the page has been loaded and then and only then will I say let's go ahead and query selector all for all of the buttons and for each one of those buttons let's go ahead and attach an event listener to each of those buttons so I'm querying for all of the buttons and saying for each of the buttons I would like to do this with each button and what I'd like to do is say button dot on click when the button is clicked on go ahead and run this function I'd like to show page and which page do I want to show well I want to show whatever page is in the page part of the buttons data set and to get it the current button the button that has been clicked on recall that when we're inside of an event handler we can take advantage of the JavaScript keyword this which refers to whatever element has received the event so whatever button in this case that was clicked on so I can say this dot dataset dot page to mean that all right for each of the buttons when the button is clicked on we're saying button dot on click for each of the buttons run this function when the button is clicked we'd like to show a page which page do we want to show we'll take this button the button that received the event access its data properties accesses Data Page attribute which are down here either page 1 or page two or page three and go ahead and just call the show page function that we wrote a moment ago so now that we've done that we've attached these event handlers to the buttons so now if I refresh the page I can click on these buttons and toggle between any of the three pages and now the interesting thing here is that we now have the ability to just in a single page allow myself to simulate the idea of having multiple Pages all enclosed in a single HTML file but not needing to consistently make additional requests to a server in order to get access to that information now sometimes though it might be reasonable to want to reach out to a server when you need new information for a page for example you might imagine that each of these Pages contains a lot of text it's going to be inefficient if immediately we're loading all of that data into HTML and just showing and hiding them when we need to because maybe we're loading more information than the user is ever going to actually care about if they're never going to look at page 2 or page 3. so one thing we might imagine doing is loading this data dynamically last time when we were talking about JavaScript we saw how we could use fetch to say go ahead and request some additional information from a web server last time it was currency exchange rates but then we used that data that came back in order to fill in something onto our page and likewise we could do a similar thing here that if we have the general structure of a single page and we want to load new content rather than load entirely new HTML content and reload the entire page we can just ask our own web server for what part of the page needs to change and then just replace that part of the page and so that's what we'll take a look at now now combining Django for our web server and JavaScript for writing the clientside code to be able to generate a single page application and so for this we'll go ahead and go into an example I had in advance called single page one and inside of single page one this is just a Django application with a single app called single page and what we'll notice is we'll go to the URLs first there are two URLs one default URL that just loads the index function and then a URL for loading different like sections of a page that I might want to dynamically load for example so I have section slash some particular number and if we look at the views for what it is these URLs are actually doing the index function just returns index.html and then what the section function does is it first make sure the number is between one and three and if so responds with one of these just strings of text for example so how does this actually work if I go into a single page one and run the server if I go to this URL slash section one for example what I get is this block of text and if I go to slash section two I get that block of text section three a different block of text altogether so just different text and I'd like to incorporate this text into an existing HTML page for instance so here I'll go into index.html this template that gets loaded when I go to the default route and inside of index.html what we'll see is I have a show section function that behaves very similar to the show page function we saw from a moment ago but instead what show section is going to do is it's going to fetch what text I should display on the page from my own web server I'm fetching from slash sections slash fill in a number here number like one or two or three when I get the response in the past we've seen how we can convert that response into Json data if it's some structured data we can also just convert the response into plain text then I'll take that text console.log it just so we can see it in the log output but then go ahead and query select for the content of the page something that has an ID of content update its inner HTML and set it equal to that text so what this entire function is now doing is it is going to reach out to my server figure out what text content belongs in the new section and fill in the part of my page accordingly with the text that comes back from that HTTP request and then down further below inside of the page we'll see that I have a Hello heading three buttons that toggle between the different sections each of them has a data Dash section attribute this time for which section should be loaded and then a div that is initially blank just for the content of the page so putting this all together now if I go to the default route I see Hello plus three buttons to give me a choice between three different sections and if I click section one what's going to happen is Javascript is going to query slash section one ask for the text it gets that text back and it's going to fill it in into the page section one section two and section three so very similar to before but unlike what we had before where all of the text was being loaded into the HTML page all at once now we're using asynchronous JavaScript to only dynamically load information when we need it when we click on a section then it's going to make the request for what content needs to be filled in and it's going to fill it in and everything else these buttons this heading and you might imagine in a more complex website you've got a lot more going on around the edges of this web page all of that stays the same we don't need to reload any of that information we're only reloading the portion of the page that actually changes as we toggle between these various different section headings now this seems to be an advantage in some ways that maybe we can be more efficient about how we run our single page applications like this one thing we seem to lose though is the notion of maintaining State inside of the URL that generally the URL gives you an indication for what page you're on you're on something like slash one if you're on section one or slash two if you're on section two slash three for section three but of course we're staying on the same page in all of these examples whenever I click a button section one or two or three the URL is never changing the URL stays the same it turns out there's a way in JavaScript to manipulate that URL taking advantage of what's known as the JavaScript history API where I can push something to the history meaning update the URL and actually save that inside the user's browser history so later on they could potentially go back to that and to do that I'll show you yet another example inside of a single page two which is very similar except inside of index.html I've added a couple additional things one is that when I click on a button meaning when I click on Section 1 or section 2 or Section 3 I've added this line here history.push State when history.push state is going to do is it is going to basically add a new element to my browsing history where I first specify any data associated with the state so in particular I'm storing a JavaScript object representing what section number is being represented here next is a title parameter that most web browsers actually ignore so that can generally be the empty string but the third argument here is what should go in the URL and what I want to go in the URL in this case is something like section followed by the section number so I can go to slash section one or slash section two or slash Section 3 for instance and those will appear in the URL bar when I click on a different page then what I want to be able to support is the ability to say when I go back through my history if I click the back button in my web browser I'd like to go back from section 3 to section two if that was the page I visited previously and then it turns out to be an event handler for that as well window dot on pop State meaning when I pop something off of the history like go back in my history we have the ability to take some event as an argument and if you look at event.state.section which I've run console.log on so we can take a look at it in a moment we'll see what state was stored associated with that part of the user's history and I can go ahead and show that section so all in all when I run this web application going into single page two this time when I run the server I see Hello three sections for buttons when I click on one of those buttons not only do I see text but I also see in the URL bar that I'm now on slash section one that has been pushed onto my history and I've updated the URL to reflect that too I click section two that updates the URL as well Section 3 updates the URL too and when I've pushed things onto my history I've Associated some state with them so that I can go back if I ever need to and in fact if I open up the JavaScript console now and I go back for example back to section two what you'll see is that what gets logged is the number two when I print out like what is the current section that's associated with this URL it's saving that state that I should be loading section number two and so it does load section number two here so there's certainly nothing wrong with the original Paradigm of just loading different pages dynamically using Django like make a request and get a response but oftentimes as you begin to imagine applications where a lot of things are changing on the same page simultaneously you might imagine social networking websites where a lot of things stay the same but new posts might be added and you might be looking at different parts of the same page being able to dynamically load information request additional information and then display it on the page can actually be quite powerful a way to make your web pages a little bit more Interactive so that then is how we might build single page applications taking advantage of JavaScript to asynchronously load new data and then taking advantage of this history API that let us add things to the URL add things to the user's browsing history such that we could go back to them later by listening for window dot on pop State and it turns out that window object that we get access to in JavaScript is quite powerful it represents the physical window on the computer screen that displays all of their web content and there are certain properties of that window we can look at that allow us to enable some interesting features so for example your window is really described by what the user actually sees inside of their window in Google Chrome or Safari or whatever web browser they happen to be using and there are a couple of properties that might be of use something like window.inner width will represent how wide is the window which might be useful to know to know like the size of the user's screen for example to know how many pixels wide the window happens to be and just as there's a window.inter with there's also a window.inner height that represents the height of the window as well now window represents the physical part that they're actually seeing we've also seen another variable that JavaScript gives us access to and that is this document object so what is the difference between the window and the document well the document generally represents the entire web page but if web pages are long oftentimes the web page doesn't fit entirely inside of the window that you generally have to scroll through an entire web page and the windows only showing you one portion of that page in any given time so you can represent the document as like this big vertical section that goes beyond the window there might be part of the document that is above the window part of the document that is below the window as well so window.scroll Y is another variable you have access to on the window and window.scroll Y represents how many pixels far down have you scrolled so if you're at the top of the page window.scroll Y is zero you haven't scrolled at all but as you begin to scroll if you want to know how far the user has scrolled on a page you can look at window.scroll y to figure out the number of pixels the user has scrolled in the y direction the up and down Direction and the entire height of the page is represented in document.body.offset height that represents how tall the entire height of the document is and we talk about all this in addition to things like window.inner height and window.inter with because using all of these values together you can begin to do some interesting calculations so one thing you might want to detect for example is has the user scrolled down to the bottom of the page or not that might be something you care about knowing and it turns out there isn't an event listener that does this automatically but we can calculate it in order to try and figure this out if inner height is the height of the window scroll y is how far vertically the user has scrolled and document body offset height is the entire height of the document you can ask yourself what needs to be true if the user has scrolled to the bottom of the page and well if the user is scrolled to the bottom of the page well then scroll why plus the inner height meaning the amount they've scrolled plus the height of the window that must be at least or equal to document body offset height meaning the amount that they scrolled plus the window takes you down to the bottom of the page to the end of the page to whoever tall the document happens to be and using that mathematical comparison we can actually detect when the user has reached the bottom of the page and we can actually try and now put that into practice so I'll go ahead and open up an example that I have here called scroll.html and all scroll.html has right now is 100 paragraphs inside of the body tag I have a p for paragraph paragraph one paragraph two so on and so forth I have 100 paragraphs inside of the body of this HTML page and that's all that really is there right now such that now if I go ahead and open scroll dot HTML I see that I have 100 paragraphs that I can scroll through and what I might like to do is detect when I've reached the bottom of the page and maybe do something when I do so something like change the color of the page for instance so how might I go about doing that well I'm going to need some JavaScript so I'm going to add some JavaScript and I'll add an event listener for window dot on scroll on scrolling is an event that listens for when I'm scrolling through the window and when I scroll through the window we'll go ahead and run this function I'll just use an arrow function as a shorthand here what do I want to calculate well I want to calculate if window.inner height meaning the height of the window itself plus window dot scroll y meaning the amount that I've scrolled if that is at least document.body dot offset height well that means I must have scrolled to the bottom of the page or maybe even a little bit further if there's a little wiggle room to scroll past the end of the page so if this is true well then I've reached the end of the page and then we'll go ahead and say document.queryselector body and let's go ahead and change its style in particular change its background color and change the background color to Green otherwise if we haven't reached the end of the page then we'll take the body of the page and change its background color to white so what we're now doing here is taking advantage of the properties we know of this window object saying when we scroll the window let's check to see if we add this up and at least the height of the entire document we've reached the end of the page go ahead and change the style of the background to the body accordingly otherwise change the background to white or leave it at White if it already is so now if I take a look at this actual HTML page and reload scroll.html we'll see that the background is initially white but as I scroll down once I reach the bottom we'll see that the page changes to Green it's white before I reach the bottom but as soon as I get to the bottom of the page it turns to green and the reason why is because the height of the window height of the window here plus however much I've already scrolled from the top of the page up until now that together is equal to the entire height of the document which means we're able to detect the fact that I reached the end of the page and as a result we can change the color of the background to Green now this in itself is not a particularly practical use of detecting when we scroll to the end of something we probably don't usually care about changing the background color when you reach the end of the page but there actually are real applications and you might imagine this in the context of websites that allow for things like infinite scroll but if you're on a social networking site that has a whole bunch of posts you scroll to the bottom of the list of posts and then it generates the new set of posts as well or you're looking at news articles and you're scrolling through news articles and once you reach the bottom it'll load a whole new set of news articles without you having to go to another page how is it doing that well it's a combination of the same types of ideas that we've been talking about number one the ability to detect when you've reached the end of the page using JavaScript to detect that you're at the bottom of the page and number two to be able to asynchronously load using JavaScript load additional content fetch some additional page that has some additional content some additional news articles some additional posts and whatnot and then take that information and manipulate the Dom to add that information to the existing web page and that ultimately is what's going to give us this power to be able to support something like infinite scroll so let's now go ahead and try and see what it would look like to implement infinite scroll I've already started to create a sample application inside of this application called scroll and I've got an app called posts inside of it and what the posts app does is it's got a couple of URLs it's got a default URL that just loads an index route and then a post route that loads this posts view and so let's look at what these do index all it does is going to load a file called index.html this template and if I make a request to slash posts I need to provide two arguments I need to provide a start for what post I want to start with an N for what post I want to end with and then it's just going to generate some sample posts that just say like Post Number One post number two so on and so forth in practice you could actually use social network posts in place of this but this is good just for demonstration purposes so what this is going to do if I go into scroll and run server is that if I go to slash post and say start equals one and end equals 10 for example then I get a JavaScript object that looks like this recall that a JavaScript object is just a convenient format for passing information back and forth in Json format and what we have here is a Json object with a key called posts that gives me all of the posts Post Number One Post Number Two all the way up to number 10 and it's giving me those posts because I said start at one end at 10. but I could have specified other numbers as well if I had said something like uh start at 20 and go to 28 then it's going to give me post number 20 through post number 28. I can specify the range of posts that I want so this now is an API that I have implemented effectively that allows someone to get access to a variety of different posts by hitting this particular URL this endpoint so to speak and passing in parameters passing in what posts they want to start with and what posts they want to end with and then they get all of this data back presented to them in Json format that can then be used and what's nice about this is that now when we're loading posts rather than have to just guess at how many posts we need to load and then require someone to go to another page we can just do something like load the first 20 posts and now what we'd like to do is if they reach the end of the page go ahead and load the next 20 posts by hitting this API endpoint getting the next 20 posts and then filling that in into the HTML page so let's see now how that actually works in practice by taking a look at that template in index.html so go into templates index.html and there's a fair bit of JavaScript here but look at the body first the body just have a has a div for all the posts that initially is going to be empty now here's what the JavaScript is going to do and we'll walk through it we start with the first post so counter is going to keep track of what post we need to load next by default we're just going to start by loading Post Number One we have a variable called quantity that's going to tell us how many posts are we going to load at a time let's just say load 20 posts at a time so start with 1 to 20 then 21 to 40 41 to 60 so on and so forth and when Dom content is loaded go ahead and just call this function that's called load and what the load function does is it figures out what the start and end should be it fetches all the new posts and then for each of the posts that comes back is it figures out what this so asynchronously asking for new posts and what the ad post function does is it creates a new div populates the post inside of it and adds it to the Dom so now that we have these parts the ability to load new posts as by fetching from some URL all the posts that we care about and then for each of those posts that comes back add something new to the Dom as by creating a new HTML element and inserting it into the page we have the ability to dynamically load all of these posts so if I go not to slash posts but just to this default route I'll see that we have something like 20 posts that all show up but just 20 posts because every time I call the load function that is going to load the next set of posts for example and so what I can do is in the console if I try running the load function just by calling it myself press return after a second or so the next set of posts show up 21 all the way through 40. I call load again the next set of posts show up 41 through 60. 20 posts at a time all using that asynchronous JavaScript but now what I'd like to happen is for all this to happen on its own without me having to intervene and manually write JavaScript calls I would just like to say well the same type of logic as before window.el and scroll let's go ahead and say if window.inner height plus window.scroll y is at least document.body.offset height meaning if I have scrolled to the end of the page well then just go ahead and call the load function that's all these lines are doing every time I scroll we check did we scroll to the end of the page and if we did scroll to the end of the page then go ahead and load the next set of posts so now I refresh the page I see post one all the way up through post 20. now watch what happens when I get to post 20 if I scroll to the bottom after a second the next set of posts appears I scroll to the bottom again I'm at 40 and then after a second the next set appears every time I scroll to the bottom more posts are going to load after that allowing you to effectively implement this idea of infinite scrolling by taking advantage of some JavaScript techniques where I can check for when I've got to the end of the page and then dynamically do something as a result of that something like load some additional Pages onto the screen and so here too a lot of power to be had inside of JavaScript and a lot of where the power of user interface comes from is from how it is that the user interface interacts with the user thinking about what the user is going to do and how the page should interact as a result something like user Scrolls to the end of the page and they see some new pages show up as well and one Technique we can use for just making HTML elements a little more responsive a little bit more interesting is by adding some animation to them as well the ability for things to move around and change their properties in some way and it turns out that CSS has support for animation CSS has already given us support for things like styling elements saying we want this element to be of this color and this size for example but it also gives us the ability to animate those properties as well to change the size of something or change the position of something over some amount of time and so let's now take a look at an example of what that might actually look like I'll go ahead and create a new file and I'll call it animate.html and inside of animate.html I'll go ahead and start by including our usual HTML title is animate and what I'd like to do is just add a little bit of Animation using CSS into this particular page I'm going to start with just a heading a heading that says something like welcome for example it's just going to display a welcome message such that now if I open animate.html here's what I see just a message that says welcome but now let's add some CSS to it let's go into the style tag and for H1 for this heading I'd like to apply a particular animation to it and I first need to specify what the animation's name is going to be and I can pick a name for the animation I'll say something like grow for example I'll set the animations duration to be two seconds and then the animation fill mode is like what direction should the animation move in should it go forwards or should it go backwards well generally want our animations to go forward so they're making some sort of forward progress According to some rules that we're going to specify so here I'm saying we're going to animate all of our headings using an animation called grow and now I need to Define what that animation actually does and to do that up above in style I'm going to say at keyframes grow and what this is going to allow me to do is specify some key frames for this particular element meaning where should the element start what should its style properties be and then at the end what should the style properties be and CSS is going to take care of the process of figuring out what needs to happen in all those intermediary fractions of seconds for example so what I can say is something like go ahead and grow from meaning what should its initial properties be and maybe initially I wanted to have a font size of 20 pixels and then we'll say 2 font size of 100 pixels for example so all in all what this is saying is I would like to apply an animation called grow to all of my headings this animation should last two seconds and go forwards and what is the grow animation going to do well it's going to mean at the start anything that obeys the grow animation we'll start with a font size of 20 pixels and at the end it will grow to a font size of 100 pixels and I have now defined what it is that that animation means so now if I go ahead and refresh this page animate.html you'll see that welcome changes size over the course of two seconds it goes from smaller to larger by obeying those keyframes I told it to obey this particular step a set of instructions where it goes from a particular font size to another font size and as a result we see the effect here on the page and it turns out you can do more than just manipulate size you can manipulate just about any CSS property you want so if I tell the heading that it should have a relative position meaning its position should be relative to other elements or other things and it's parent I can say you should change your position from being zero percent away from the left side of the screen to being 50 of the way from the left side of the screen and at this point grow is probably not the best name for this animation I'll call it move instead so animation name is move and so now what this animation is going to do is it's going to say when you run the animation go from being right next to the left side of the screen to being about 50 away from the left side of the screen so I can go ahead and rerun this and we see that's the animation that takes place it goes from the left all the way back up to about halfway across the screen refresh the page and it goes ahead and does the exact same thing and it turns out we don't just need to specify a beginning point and an end point for an animation we can specify various different keyframes for different points within the animation that we would like to capture something like at the beginning of the animation have this set of CSS properties maybe halfway through the animation have a different set of CSS properties and then at the very end have yet another set of CSS properties so I could say something like if I want the heading not just to move from left to right but also to move back again I can say at the beginning at the zero percent point when you're zero percent of the way through the animation you should be zero percent away from the left hand side when you're 50 of the way through the animation you should be 50 away from the left hand side and then when you're done with the animation 100 of the way through let's go back to zero percent away from the left hand side I now have three keyframes beginning of the animation middle of the animation back to the beginning of the animation again and the effect of this is if I refresh the page we go to the right and then we go back we're able to move One Direction and then move back and there are other properties we can use to manipulate these animations as well I can set the animation iteration count for example to two to mean rather than just do the animation once and then stop do the animation twice and then stop so refresh it goes to the right and then it goes left and then it repeats that a second time and it turns out if you really want you can set this to infinite to mean never stop performing that animation it's consistently going to have this heading move to the right and then move left according to those keyframes that I've specified and so if you ever see things moving around on a page interactive in some way there are a number of ways to do it you can animate things using JavaScript for example but there are many cases where CSS alone is pretty good at just creating these types of animations and while this animation right now is just running forever we could use JavaScript in order to control that animation as well so let's see an example of what that would look like I'll go back here in the body of the page in addition to a heading that says welcome I'll go ahead and add a button that just says click here for example and now what I'll do is add a little bit of JavaScript I'm going to add some JavaScript so that the button can now control the animation decide when the animation is going to start and stop and so what we'll do inside of the script is to First say document.ad event listener Dom content loaded meaning wait until the Dom is done loading as we've done before and let me now get that H1 element document.queryselector H1 and initially I'm going to set its style dot animation playstate equal to paused so animation play state is a property of the style that lets me decide if the animation is playing or paused and I can control that using JavaScript rather than just say run infinitely forever I can say the animation playstate should start out as paused by first getting the H1 element then modifying the animation play state property of that particular element but now what I'd like to happen is anytime someone clicks on the button I want to change the animation play state so I'm going to say document.queryselector button meaning get that button and when someone clicks on the button let's run this function where if the current animation play state is paused well then go ahead and set animation play State equal to running and otherwise if it's already running then let's go ahead and set the animation play State equal to paused so all in all what this function is going to do is it's going to get me the heading pause this initially and every time the button is clicked run this function where the function says if we're paused go ahead and start running the animation otherwise go ahead and pause the animation by modifying that animation play state property of the head so now if I refresh this page right now we have welcome plus a button that says click here and initially everything is pause there's no animation happening but I click here and that begins the animation which would go on indefinitely until I decide that I want to stop it at which point I click it again and the animation pauses and I can control when to start and when to pause that animation as well and so this can be helpful and nice when you want to create something a little bit more interactive something animated on the page but this is especially helpful because it means that you can gradually change CSS properties over time rather than just immediately change something you have the ability to animate something to make it work a little bit better so let's take a look at an example of how you might put that idea into practice let's go back to our posts example where we had this infinite scrolling let's suppose but imagine now that we want the ability to hide posts when we're done with them so I've prepared an example called hide which is very similar to what we had before but this time I've just added one extra button and the button says hide on every single div right now clicking the hide button does nothing we'll go ahead and Implement that in just a moment but first to see how this worked if you go into hide go into the index.html template the only change that's been made here is what happens when I add a new post recall again that what this application does is it loads posts from a server and then when it gets those posts it Loops over each of the individual posts which is a string of text and it adds that string of text inside of an element onto the page via this add post function and what the ad post function is going to do here is first create a new element create a div in which to store that post give it a class name because that's how we're going to animate it and then set its inner HTML equal to the contents of the post something like Post Number One Post Number Two post number three and then add a button that just says hide and then we're going to go ahead and add that to the Dom as well so that's what ad post is now going to do we're sort of generating some HTML using this JavaScript code and then adding that HTML to the page and now what we're adding is a div that has not only the contents of the post as text but it's also going to give us access to a button that ultimately we hope is going to let us hide that post as well so how do we actually get the hiding of the post to work well what we want to do is somehow detect when the user clicks on one of those hide buttons so there's a number of ways we could do this but one way is just to listen for any time anyone clicks on the document as a whole anytime anyone clicks on the document I might like to ask something like what did they actually click on and it turns out that with most event listeners the function the event listener takes in can take as an optional argument the event itself which is a JavaScript object that contains information about the event that happened like the Click event or the scroll event or the key down event or the key up event for example and one of the properties you get access to is event dot Target which is like what was the target of the event in this case what was the thing that was actually clicked on and I'll go ahead and save event.target inside of a variable called element where the idea now is that whatever gets clicked on that is the event's Target we're going to save that inside of element and what I want to know is is element is that one of the Hide buttons I want to know is it a hide button I could have also attached an event listener to each of the Hide buttons this is just an alternative way of doing it that I'm showing you for sake of demonstration where we say when we click anywhere in the document figure out what was clicked on and save it inside of this variable and if it's a hide button then it's going to have a class of hide right because I gave every class every hide button a class of hide and so what I can say is if element dot class name equals hide well that means that what was clicked on is something with a class of hide we can assume that it is in fact a hide button and then what I want to do is I can do something like element dot remove to say go ahead and get rid of that element so now what does this do if I refresh the page let's try it post number one if I hide it I want to hide Post Number One all right that didn't quite work it was close it got rid of the Hide button but I didn't want to get rid of the Hide button I wanted to get rid of the whole post so what's going on here is it seems to be that if the element's class name is hide meaning I clicked on a hide button element.remove just removes that element it removes the hide button but it doesn't remove the post that contains it and if you think about this in terms of the Dom the post is a div and it's child element is the button this hide button and so you remove the button but it doesn't also remove the post as well if you want to remove the post as well you need to remove not the element but the elements parent and in JavaScript it turns out there's a way to do that too rather than element dot remove I can say element dot parentelement dot remove to say take the element get its parent and remove that so now I refresh the page now I see a post one I want to hide it I hide post one and all right now I see post 2 and the post one has gone away if I want to hide post three I hide post three now post three is gone now I go straight from post 2 to post four so this works but it's also not immediately obvious what's going on like because all of the posts are the exact same height when I get rid of post one and three it's not immediately obvious to the eye that they've gone away because post two and four they look almost exactly the same you really have to be paying attention to know the hiding worked and so this can be a time where animation can actually be quite helpful so what I can do is say something like let's go ahead and give this post an animation associated with every post we'll give it an animation name called hide an animation duration of two seconds we'll say it'll take you two seconds in order to hide and an animation fill mode forwards I want to go forwards with the animation and initially I'll give the post an animation play state of paused meaning initially I don't want the animation to be running because I don't want to hide all the posts immediately pause this animation later we'll go ahead and run the animation in order to actually hide the post then I need to Define what does it actually mean to hide the post and I'll say well all right at the zero percent Mark what does it mean let's give yourselves an opacity of one opacity is a CSS property that just controls how opaque or how transparent an HTML element happens to be and at the end a hundred percent of the way done with the animation we'll set opacity to zero so initially we can fully see the element at the end the element is totally transparent and now what I need to do is actually trigger this to happen somehow so this is probably going to happen inside of my event listener where instead of removing the element right away let me just take the parent element and set its animation play State equal to running for example meaning when I click the hide button go ahead and run the animation that will change the opacity from one to zero over the course of a couple of seconds and then if I really want to I can add another event listener to say take the parent element add event listener there's an event called animation end which happens when the animation is over and then I can say all right when the animation is over we'll then go ahead and remove the element so all in all rather than just immediately remove the element when I click on the button that says hide what I'd like to do is say if you click on a button and the button is hide go ahead and get the parent element not the hide button but the post itself set its animation play state to running meaning run the hide animation and then add an event listener to the parent to that post as a whole to say when the animation is over go ahead and remove that entire post from the Dom altogether so what is the effect of all of this now of having this animation and running it well now if I refresh the page I see all these posts if I try and hide like post number two for example you'll see that the opacity changes and then it slowly disappears and then only after it's totally transparent the post disappears entirely so I can say hide Post Number Four it disappears and then post number five jumps up to fill its place and I can do that for any of these posts triggering the animation when I click on the hide button and so this is part of the value of what animation can do is to be able to make our user interfaces a little more pleasant from the perspective of the user by not immediately getting rid of a post but by having a nice fade out so it disappears nicely now even this is not perfect animation wise like one thing you might notice is that it jumps up as soon as the post is gone if I hide post number three I hide it it disappears and post five sort of jumps up very abruptly in order to fill its place what I might like is to be a little bit cleverer to somehow shrink the size of the post after it's gone so that the post doesn't jump into place but it slides a little bit more naturally into place and so there's some additional things I can play with here maybe I want to say they're all right let me make this animation a multiple part animation so here instead of just from zero to 100 setting the opacity from one to zero maybe in the first 75 percent of the animation that will take care of reducing the opacity going down from one all the way down to zero but in the last 25 percent of the animation will still end with an opacity of zero but anything that creates vertical space I want to reduce down to zero so the height should be zero pixels the line height which is how high the text is should also be zero pixels and any padding I want to go away it turns out I've added some margin to the bottom of the post I want to make that go away as well so I want to set all of those to Zero from whatever their initial values happen to be that initially the height is like a hundred percent of what the height could be likewise for line height 100 of the parent uh initially I have like 20 pixels of padding and a margin at the bottom of 10 pixels and I want all of that to still be true 75 percent of the way through the animation but it's only in the last 25 percent of the animation that I want to set all of these vertical height properties down to zero I want to remove all the height remove the line height remove all the padding and the effect of this is I'll have an animation now where for the first 75 percent of the animation the only thing that changes is the opacity the opacity goes from one fully visible to zero fully transparent and then in the last 25 percent of the animation the post is already transparent you can't see it but it's still taking up physical space on the page but we're going to now reduce the height of that post so that now you won't be able to see it at all so now if I refresh this page here we go under all the posts but now if I click hide on a particular post we'll see that it first Fades out and then its height shrinks so that the next post slides very nicely into place I can do that again hide the post it's transparent and then it slides into place and this again is just an application of this idea of CSS animations using properties of Animation to make our interfaces a little bit nicer to use a little bit clearer visually to the user that one post has gone away and the rest of the posts have now scrolled up in order to take their place so now we've been able to use JavaScript to create a lot of nice user interfaces we've been able to create single page applications to create infinite scrolling to be able to create some animations as well and use JavaScript to be able to control them but one thing you might be realizing at this point is that our applications are starting to get fairly complicated there's a lot of JavaScript code needed to manipulate a lot of different parts of our application at the same time and you can imagine that as web pages start to get more complex and as you want to start making them more interactive and more Dynamic there's going to be a lot of JavaScript code required in order to keep everything in sync in order to make sure that all of the elements are updated when they should so on and so forth and it's for that reason that in recent years a lot of JavaScript has now turned to some JavaScript libraries or Frameworks that allow to more efficiently and more effectively create user interfaces that are more interactive and more reactive and one of the most popular of these is a framework known as react react is a JavaScript library that is going to enable us to be able to design user interfaces that are very interactive where the content of the web page updates automatically based on some underlying State and what we'll do now is take a look at a brief Taste of react to get a sense for how Frameworks like it can actually work and can help us in designing some interactive and useful interfaces for users to be able to interact with react is ultimately based on this idea of declarative programming a particular style of programming which is different from the types of programming you might be familiar with more classical programming Styles like imperative programming in imperative programming you generally give the computer commands tell the computer what to do for example if we had that counter program from before and we wanted to update the counter from one number to another number in the view like the HTML that the user sees we would include something like a heading that just has the number zero inside of it and then the logic in imperative programming would take something like this form it would be like all right first document.queryselector H1 to get that H1 tag get it at the inner HTML parse int will take the string and convert it into an integer and we can save that inside of a variable called num for example and then after that if I want to increase it I would take this variable num and just add one to it num plus equals one add one to it and then if I want to update this heading in order to replace the zero with a one for example well then I would need to say document.queryselector H1 set the inner HTML equal to that number for instance in order to say all right numbers now one go ahead and replace that in the view but this is a fair amount of code to do something fairly simple just like increase a number by one and the reason why is because we've had to be very explicit about what instructions we're giving to the web browser we're saying First grab the H1 figure out what number is inside of it add one to that number and then replace it inside of this tag what declarative programming is going to allow us to do is it's going to allow us to just describe what State Should be displayed on the page in what form in declarative programming in our view like the HTML like code that we're going to be writing we're just going to say something like H1 and then in curly braces num to mean like fill in the number here and this is what the react syntax is going to look like and then the logic code if we want to increment that number by one is we just need to say num plus equals one add one to the number and the effect of that is that since we have declared that inside of this heading it should be whatever the value of the number is when we increment the value of number react is effectively just going to update the view so that the number updates as well and so this will be some of the power that react gives us react lets us divide our application into a whole bunch of different components where a component is something like this thing here that is keeping track of some sort of count along with a button that might manipulate it and then make that component based on some underlying State some underlying variables that represent the state of the application something like the current number and then we can manipulate that state and when we manipulate the state that will have an impact on what the user actually sees and react will handle the process of updating that user interface for us there are a number of ways to get react working on our web page but the simplest is probably just to include these three JavaScript packages inside of our web page so we're first going to include react itself which is going to be the library that's going to allow us to Define these components and how they behave then is react Dom a special package that's going to allow us to take react components and insert them into the Dom the document object model that represents the struct structure of the entire page and then finally Babel is going to be a package that we're going to use in order to translate code from one language to another it turns out that when we're rating react code we're not actually going to be writing JavaScript we're going to be writing in an extension to JavaScript known as jsx and jsx is going to be an extension to JavaScript that looks a lot like JavaScript but has some additional features in particular it has the ability to effectively allow us to represent HTML inside of our JavaScript code in a way that's much easier to read and it's going to be convenient for us to deal with browsers on the other hand don't understand jsx automatically so what we're going to use is a tool like Babel to convert that jsx code into plain JavaScript that our web browsers are ultimately going to be able to understand the best way to get a feel for this kind of thing is just to see it in action so I'll go ahead and create a couple of react applications just to get a sense for how it is that you can use react in your own applications as well so let's start by taking a look at react.html and what I have here is the beginning of an HTML page inside the head section what you'll notice is I've already included these three script tags and what these script tags are doing are just including those three JavaScript libraries we were talking about a moment ago I have a title for the page just called react and now let's start to fill in the body of this web page I'll begin by adding a div which I'll give an ID to I'll call it app but I could call it anything and this is where our application is going to go but right now I'm just going to leave it as empty it's going to be react's job to fill in this div with the content of our user interface and now beneath that div I'll start to write some JavaScript but remember I'm not going to be writing JavaScript per se but rather jsx that extension to JavaScript so in this case I'll need to add an extra attribute type equals Text slash Babel and all this is doing is telling my browser that it's going to need to translate this jsx code into JavaScript code that the browser is actually going to be able to understand before it tries to run this code in practice if you were developing a real application what you would want to do is you would want to do this translation ahead of time prior to deploying the application but here we're just going to translate it on the Fly and so all of our react applications are going to be composed of components where a component is just some part of my web application's user interface and to describe a component I can write a JavaScript function so I'll create a function called app which is going to represent this app component and what's going to go inside of this app component well it's a function so it's going to return something and what it's going to return is what should appear inside of that component and this app component could really just be for example a div that says hello let's say and this is where the power of jsx really starts to come in that here I can write HTML like syntax inside of my JavaScript code and jsx is going to be able to understand it so this function right here is a function called app that is representing a react component and when this component is rendered onto my web page it's going to say hello so there's one last line I need inside of my JavaScript now and that is to actually render this component into the page to do that I'll say react Dom dot render and the first argument to this function reactdom.render is what component would I like to render the component is this app component that I just created and so I'll say app again using this HTML like syntax and then the second argument is where on the page would I like to render this component and I want to render this component right here on line 10 where I have a div whose ID is app so I'll need to add some JavaScript code to find that particular div and to do that I can just say document dot query selector and then uh hash app to say find the element with an ID of app and that is where I would like to render this app component so I first created this empty div then I defined this function representing a react component and then after that we're going to render that component inside of the HTML page itself so now if we were to open a browser and see what this page actually looks like I'll make the text a little bit bigger you see that we actually do see the word hello and if I make a change to the component and refresh the page it will change the page as well so if the component instead displayed hello world well then I refresh the page and the page now also says hello world and because this is Javascript I can add JavaScript code to the function just as I could with any function in JavaScript imagine for example that I had some variables like let's create a variable X which is equal to 1 and a variable Y which is equal to 2. inside of this div rather than just render some text I can use curly braces to say plug in the value of some JavaScript expression I could plug in the value of x plus y for example and now by including X Plus Y in these curly braces JavaScript is going to evaluate what is X Plus Y and display that inside of the div instead and so now when I refresh the page you see that the page just says three for example and so that's the basics of react we create these components and then render those components all using the power of JavaScript but where react starts to get more powerful is when we can reuse components the whole idea of a component is it represents some part of the user interface and I could reuse that same component across multiple parts of the interface as well imagine for example that inside of my app component I was going to render a div that had three headings Each of which said hello so there's one heading there's another one and we'll add a third one there as well so I have a div with three headings inside of it and we can see what that looks like each one of them says hello but there's some repetition here I'm having to use this H1 tag three times all to create exactly the same UI element on the page this is a case where I can create a separate component and then just reuse that component rather than have to repeat myself multiple times so how could I do that well remember that in JavaScript we can write a function to represent a react component so I'll add another function here and I'll call that function hello because it's going to represent this hello component and this hello function is also going to return something and what it's going to return is a heading in H1 that just says hello and so now inside of my app component rather than render three separate H1s I can simplify this a little bit to just say hello here I'm saying go ahead and render a hello component here we'll render a second one and a third one after that each time I render a hello component it's going to display as this heading that just says hello so I refresh the page and nothing changes I still see three headings Each of which says hello because inside of my app component I'm rendering this hello component three times and each time it's going to display this H1 but where components start to get more powerful is when they're not always displaying the same information every time but when we can parameterize those components with Properties or as react simplifies them props short for properties so what would that mean we see that HTML elements can take attributes likewise react components can take properties where maybe I don't just want to say hello but I want to say hello to someone hello to Harry or to Ron or Hermione for example so I could say hello name equals Harry using syntax much like an HTML attribute then here say hello name equals Ron and then finally hello name equals Hermione and so now my hello component is accepting this prop this property called name which is different for all three of these components and so inside this hello function now I would like the hello function to take advantage of these properties of these props and so I'm going to add an argument to the hello function that argument is conventionally just called props and now instead of just saying hello I'm going to say hello comma and then remember to plug in a JavaScript value I use curly braces and inside of those curly braces I can say props Dot and then whatever the name of the property is in this case the name of the property is just name so I can say props dot name to say whatever the name prop is go ahead and plug that in right here inside of the hello component so the hello component is going to say hello comma and then someone's name so I can save that refresh the page and now I see Hello Harry hello Ron and hello Hermione three different components Each of which is still just this hello component but we're rendering it with different props one time with the name of Harry one time with the name of Ron and one time with the name Hermione and so this is where components can start to get a little bit different by passing in different props into those components we can decide how that component is ultimately going to render but let's add to this a little bit and start to add State into our react components as well and state is going to mean any kind of data that we want to store inside of the component itself and for this let's try to recreate the counter application that we created when we first introduced JavaScript where we were really just creating a button that allowed you to count and it counted up from zero one two three four Etc so to do this let's create a new file I'll create a new file and just call it counter.html and we can start just by copying the contents of react.html into our counter.html file we're still going to use those same script tags and we can still have an app component but what's going to be inside this app component is going to be a little different I'll change the title of the page 2 to the counter instead of react so what goes inside of the app component well if we're going to do discounting we need a div that's going to display the number that we've currently counted to something like zero to start with and we're going to need a button this button is just going to be count which will be the label for that button so a div that just says 0 and a button that says count and now if I open up counter.html make it a little bigger you can see that I have this number 0 here and a button that says count of course right now clicking on the button doesn't do anything because I haven't written any JavaScript code to say what should happen when this button is actually clicked on but before we get there let's modify this program a little bit right now I've written the number zero directly into the div itself but it's not always going to be zero eventually as I start counting by pressing that count button that number is going to change so what I'm going to do now is Factor this zero out into what's known as state inside of my react component and here one way to create state in my react component is to use a special function inside of react called use State this is one example of a react hook that allows me to add some additional functionality into my react component and the argument to react.use state is going to be the initial value of that state I'm going to start counting and I want to start counting from the number 0 so I'm going to include the number 0 as the argument to this use State function so we're going to start counting at zero and what this use State function returns is really an array of two things it's going to be a variable that I can give a name to I'll call it count and also a function that I'm going to call set count and that function is going to allow me to set the value for the state If Ever I need to change the state at some point in the future so this use State function except 0 the initial State as its argument and then I get two things back I get the state variable itself called count and I get a function for changing that state when I need to so now instead of rendering a zero inside of the div just by writing the number zero I'm going to instead in curly braces go ahead and render whatever the value of count is initially it's going to be zero but eventually that number might change and I want my UI to reflect the changes in the underlying state so right now if I refresh the page it still says zero because the initial state was set to zero but I could change that if initially that initial state was some other value I could refresh the page and see a different value appear for the count instead whatever the value of this count variable is in the state that's going to be what the user is going to see when they're looking at my user interface And when they see my component so now let's make this button actually do something because right now the number is never changing to do that I can add an on click Handler and notice one difference between on click and react and unclicked as we traditionally used it in JavaScript I'm using this Capital C and that's just a common react convention when we're defining event handlers and here I'm going to say on click and then in curly braces the name of a function a function that I would like to run when this button is clicked and I can call that function whatever I'd like I'll call it update count for example and now what I need to do is Define a function called update count and I'm going to Define that function inside of this react component inside of my app function it turns out in JavaScript you can have functions that are defined inside of other functions so I'll Define this function called update count and what do I want the update count function to do well what I'd like to do is just increase count by one and you might think that I could do that just by saying count equals count plus one but it turns out you can't quite do that in react in react whenever whenever I'm using this use state if I want to change the state I have to use this function that use state provides to me for whenever I want to set the new value of the state so rather than count equals count plus one I have to use the set count function and the argument to set count is going to be count plus one so set count is this function that is going to change the underlying State inside of my component and the argument is what should the new state be and in this case it's just going to be count plus one one more than whatever the count was before so I can save that and I'll go ahead and refresh the pager it starts out at zero but every time I click on this count button you'll notice the count increases by one and again I have no code that's saying go into the div and change whatever is inside of the diva all I have inside of this div is this reference to this state variable count and whenever the state changes JavaScript and in turn react knows that what react needs to do is to recreate this component rerender the component by displaying the new value of this state variable and then when the button is clicked on we're able to run this function to change the value of that underlying state so by taking advantage of these react components with State we can start to represent information inside of our components and then Define what our component is going to display as just by representing HTML in terms of that underlying State deciding how we should use that state in order to render an interface that the user is ultimately going to see so let's now try and put these pieces together and create a web application that uses these abilities of react to Define State and to manipulate that state and in turn update a user interface based on changes that are happening to that underlying State and we'll create an application that will just display some simple mathematical questions to the user and quiz the user on some basic addition facts for example so let's create that application I'll create a new file and call it addition.html and inside of addition.html I'll start again just by copying the contents of this counter.html file because the framework the structure of this page will be similar but I'll go ahead and clear out what's inside of my app component at least for now and so what would I like for my app component to render well let's go ahead and render a div and if I want to create an application that's going to ask the user some mathematical questions and then prompt the user to type in an answer there are at least two parts of this user interface that I'm going to need I'm going to need a place to display the addition fact answer like what is one plus two for example and then I'll need an input field where the user can type in their response to that question and then see if they got the question right or wrong so inside the div I'll start by creating a div that displays the question itself something like one plus two and then beneath that I'll just add an input field eventually we'll add more to this user interface but for now all we really need is a div that displays the mathematical question and an input for the user to type in their response so now if I go ahead and go to addition.html here's what I see I'll make it a little bit bigger I see one plus two and then an input field where the user could start to type in their response but just as we did before I don't want to literally write the numbers 1 and 2 into what I'm returning instead I want these one and two to be based on some underlying State inside of my application the application is going to maintain State about what two numbers to add together and then it's going to display a user interface based on that state so what could I do here well one thing I could do is again use react.use State start this number off as 1. and maybe call this num1 and then a function to set number one and then I could do it again let's create num2 and set num2 to be react.use state two and I could have two different pieces of state num1 and num2 Each of which has a different function set num1 and set num2 that are each representing the two different numbers that I would like to add together but already this is starting to get messy and over time as I add more different pieces of state to the application as we'll see in just a moment the state might start to get more and more complex with more and more different functions and variables and so it's often helpful and a common practice in react to combine multiple pieces of State just into one JavaScript object that's maintaining all of the different pieces of State for this particular component and to do that I'll again use react.use state but instead of setting the state initially to be a number like one or two it's instead going to be a JavaScript object that has keys and values or I could say let num1 be the number one and let num2 be the number two much like a dictionary in Python for example where I have multiple different values num1 and num2 all together inside of the same object and I can call that state and have a variable and have a function called set state that is going to update the value of that state and so rather than have to have all of these different variables I can simplify a little bit to just State and a function to set the state and the state now has these two different pieces number one and number two and so now instead of rendering literally the number one using curly braces I can say State DOT num1 and instead of rendering literally the number two I can say state DOT num2 drawing upon that state to decide what it is going to appear inside of the user interface and so right now the page appears no different but if I were to change those initial values of the state maybe make it two and four for example and then refresh the page well now it displays as two plus four and so that's helpful we now have a user interface where the numbers are based on the state but now what I'd like to do is add the ability to keep track of what the user typed in so we can tell if the user correctly typed in the answer to this mathematical problem and how would I do that well the state represents any information that we need to keep track of inside of this component and so in addition to storing the two numbers inside of the state I likely also need to keep track of a third piece of information which is the response what did the user type in into this text field and so I'll add a third part of the state called response that initially will just be the empty string will just be nothing and then this input field I'm going to give it a value and the value is going to be state DOT response whatever the user typed in as the response that's stored inside of the state and that is going to be the value of what shows up in the input field and so that way whatever is in the input field will have access to it inside of this state.response variable but there is a problem and here's the problem I'll try refreshing the page I'll go into this text field and let's say I know the answer I know 2 plus 4 is equal to 6. I'm now going to press 6 on my keyboard but as I press six on the keyboard nothing's happening no 6 is appearing inside of the text field even though I am pressing the key on the keyboard so why is that why is the text field not updating well the reason is the value of the input field whatever appears in the input field is this value state DOT response and state.response is always this empty string and never changing what state DOT response is equal to and so I need to change this a little bit I need to add as an attribute to this input field on change meaning when the input field changes I need to do something and I'll call a function that I can call update response but again I could call that update function whatever I'd like it's just the name for the function that's going to run whenever something changes in the input field so let me now Define that update response function I'll Define a function called update response and because it's an event handler it can accept an argument which is the event itself the fact that something has changed inside of the input field and when I have access to this event it turns out that if I want to figure out what it is the user is typed into the input field I can get at that with event dot Target dot value and I'd only know that by looking at it in the documentation but what I'd like is for event.target.value to be the new value for this response and so what I'd like to do is do something like this set State and what should the new value of the state be well I would like for a response to no longer be the empty string but to now be event dot Target dot value and that is going to be the new value for response quite done yet because State doesn't just have response as one of the parts of the state the state also has num1 and num2 and those two pieces aren't really changing so I could say all right num1 is just going to be whatever state DOT num1 was that's not changing and num2 is going to be whatever state DOT num2 was that's not changing the only thing that's changing is the response but this is starting to get a little bit verbose and especially if I start adding more and more different pieces to the state it's going to become difficult to manage if I constantly have to repeat myself for all of the parts of the state that aren't changing ideally what I'd like to do is just specify the parts of the state that will change and ignore everything else and so one shorthand way to do that in JavaScript is to use what's known as the spread operator and it looks like this dot dot dot and then state and what this is saying is just use the existing values of the state for everything else like num1 and num2 the only thing to override is the new value for the response and so this syntax here is my way of saying I would like to update the state everything should stay the same except for response which is now going to be event.target.value in other words whatever it is the user typed in into that input field and so I'll go ahead and refresh the page and now if I type a number like six you actually see that number appear in the input field so that's great we've now displayed a question where the numbers are stored in the state and the user can type in a response where that response is also stored in the state now what I'd like is when the user presses the enter key on their keyboard we check did they get the answer right or did they get the answer wrong and so how would I do that well the first thing I need to do is in this input field somehow detect when a key is pressed when a key is pressed what I'd like to do is check to see if it was the enter key and if it was the enter key then let's go ahead and check to see what the actual sum of the two numbers is and see if the user got that right or wrong so let's add an event handler on key press is going to be equal to something again I can name this function whatever I'd like I'll call it input key press but again I could name that anything and now let's define that input keypress function so up above I'm going to Define this function called input keypress again it takes that event as its argument and this event is going to happen anytime a key is pressed regardless of whether it's a letter or a number or the enter key and so I want to check to make sure that the key is actually the enter key that's the only time that I want to now check to see if they got the question right or wrong so I'll add here a condition it's just JavaScript so I can say if event.key is equal to enter well then let's go ahead and check and otherwise we don't have to do anything I don't need an else case here because nothing should happen unless it's the enter key that was actually pressed and so now how do I check to see if the user got the answer right or wrong well inside of state.num1 is the first number and inside of state DOT num2 is the second number so I could have a condition that check if state.num1 plus state.num2 is equal to State DOT response which is what the user typed in into the input field but that doesn't quite work because state.response that's a string the user doesn't necessarily have to type in numbers it's possible the user is going to type in some letters instead for example or other characters instead and so what I'm going to do first is convert the response into an integer if we're able to do so so I'm going to Define a variable called answer using the JavaScript function parseint that takes a string and tries to convert it into an integer so we're going to parse the end state DOT response and now we can check if number one plus number two is equal to the answer well then this means the user got the question right and else if the sum is not equal to the answer that means the user got the question wrong and so now what I could do is handle those two different scenarios in one case the user got the question right and we should do something and in another case the user got the question wrong and we should do something else and we're making that decision by looking at the state of the application by looking at what two numbers we're supposed to be adding and looking at what the user typed in as their response so what should we do when the user gets a question right or gets a question wrong well maybe this game is going to keep score by maintaining a number for how many questions the user has gotten right and every time the user gets a question right we could increase that score by one and anytime the user gets a question wrong we could decrease that score by one for example so how would we do that well the score is some piece of State inside of the application and so we're going to need to add to the state right now in the state we're storing a number one a number two and a response I'll add to that a score where the score is going to start out as just zero and we can render that score on the page if I scroll down to where we're returning the div to render let's add another day of it that says the score is and then using curly braces plug in whatever the value of a state DOT score is whatever the score is let's figure that out from the state and let's display that in the user interface so now this user interface shows not only a question and an input field but also a score and the score starts out as just the number zero so let's now go back to this function when a key is pressed if it's the enter key let's check to see if they got the answer right or wrong we check did the user actually get the question right if so what should we do well we should increase the score and how do we do that we do that by calling the set State function all of the state is going to be the same so using that dot dot dot State spread operator the only thing that's different is the score is going to be state DOT score plus one so we're updating the state to increase the score by one and if the user gets the question wrong let's set the state to be dot dot State and then the score is going to be state DOT score minus 1. so if the user gets the question right we increase the score by one otherwise we decrease the score by one and let's test that to see what it actually looks like when we try this in the user interface I'll refresh the page two plus four if I type in the correct answer six press return the score increases by one if I typed in the wrong answer let's say eight press return the score decreases by one so this appears to work depending on whether I get the question right or wrong the score is able to update increasing or decreasing based on the result of that condition now this game is pretty easy to get a high score on right now because I can just keep pressing return over and over and over and the question is never changing my response is already there and so the score keeps going up and up and up so let's make the game a little bit more interesting every time the user gets a question right let's display a new question for them to answer and how would we do that well the question that's displayed to the user is based on two underlying pieces of the state of the component it's based on state.num1 and it's based on state.num2 so if I want to change the question all I have to do is when the user gets the question right and I'm updating the state instead of only updating the score let's also update num1 and num2 and I could set these to be specific values maybe like 5 and 10 for example but let's make it more interesting and display a random number every time we'll generate a random number and so the user will be adding two random numbers together every time they get a new question right how do we generate a random number well math.random is a JavaScript function that generates a random number between 0 and 1. we can multiply it by 10 so now we're getting a number between 0 and 10 but we don't want any decimals to appear in the number so I'll go ahead and take the ceiling of the number math.seal to say if the number was like 5.8 we'll just go ahead and round that up to six for example and we'll do the same thing for number two we'll take the ceiling of math.random times 10. so every time the user gets a question right we'll update num1 and num2 to be new random numbers generated just like this and so let's go back and try it again we see two plus four I type in the correct answer 6 and the question changes eight plus five I type in the correct answer press return my score increases and the question changes again this time if I get the answer wrong I type in 10 for example watch my score decrease it went from 2 down to one but the question didn't change now I get another opportunity to try to answer this question and when I answer it correctly the score increases again from one to two so this game is starting to come along now it's keeping track of my score it's displaying different questions there is at least one user interface Quirk right now and that is the fact that at the moment when I get a question right and press return I type in six and press return the six still stays there ideally I get a new question I'd like to clear out the response so the user can just type in whatever the new answer is rather than have to delete whatever they typed in before and then type in a new number so how could we do that reset whatever is inside of the input field well what's typed into the input field is stored inside of the state of my component it's stored inside of state DOT response and so if I wanted to change that all I would have to do is say let's change the response to be the empty string when the user gets a question right we're going to update these two numbers increase the score and also clear out the response so that it's just the empty string and I can do the same thing if the user gets a question wrong decrease the score by one but also clear out that response back to the empty string so that there's nothing there and so now we get a question I type in an answer press return and the input field clears out I get a new question and the score increases by one four separate pieces of State all changing at the same time and that gets reflected in the user interface that I'm now able to see so I type in another value and the score increases and everything updates again all right so that's definitely progress one other user interface Quirk that I noticed here is that the input field by default isn't automatically selected where I would have to go in and click on the input field in order to highlight it so that I can start typing in my response I can fix that pretty easily if I scroll down to where the input field is we'll add in auto focus attribute and just set that to be true so that the input field automatically focuses when I load the page for the first time so now I refresh the page the input field is already highlighted and immediately I can start to try to play this game so now that we have the basic functionality of this app working let's try and improve the CSS so that the game looks a little bit nicer I'll scroll up to the top of the page and add a style tag to the Head section of my HTML page and I'd like for this entire app to be centered so I'll say text align is going to be Center and I'm going to set the font family to be Sans serif because I prefer that font for this particular game so I refresh the page and now everything is centered and the font is different than what the default was and what else would I like to have changed well this problem two plus four maybe I'd like for that to be bigger I'd like the problem to be big and the score beneath that that can stay the same size that it is right now so how would I do that well if I go back to the HTML here I'll go ahead and give this div where I'm displaying the problem number one plus number two I'll give it an ID of problem and then if I scroll back up I'll say for the element with an ID of problem let's go ahead and set the font size to be 72 pixels for example just to make it bigger and so now I see a big math equation two plus four for example the input field and then the smaller score beneath it so that's a nice UI enhancement a little bit and now I can play the game get a question right uh and the score increases and I get a question wrong and I get to try again but maybe I'd like to offer more of a visual indication that the user got a question wrong maybe any time the user gets a question wrong I'd like to change the color of this text instead of being black instead it should be red when the user gets a question wrong and how could I go about doing that well we can change the color of something just by using CSS if we had like a class called incorrect for example if I scroll down here and give this div a class name which is how you add a class in react of incorrect then I could use this class name to style it as red or not red so I could say anything that has a class of incorrect let's go ahead and give that a color of red and so now because I gave this problem a class of Incorrect and I said turn all incorrect text to be read we now see this text appear as red but this again is not quite what I want I don't want it to be read all of the time I only want it to be read when the user has just gotten the question wrong when they were just incorrect In answering a mathematical question and so how could I represent that information inside of my application well I'm going to need some additional state state again is any information that I need to keep track of inside of my component and now it seems that in addition to the response and the score and the numbers I also want to keep track of did the user just answer a question incorrectly or not so I'll add another piece to the state I'll call it Incorrect and initially it will be false they didn't just get something incorrect and now here if I scroll down to this class name rather than have it be incorrect all the time let me add in curly braces in expression I'll say if state DOT incorrect is true using the ternary operator with a question mark then the class should be incorrect but otherwise it shouldn't have a class of incorrect it'll just be the empty string and so this expression here allows me to change the class of an HTML element based on the underlying state if State DOT incorrect is true then this div will have a class of Incorrect and otherwise it won't and so now when I load the page for the first time the text appears as black and what I need to do is when the user gets a question wrong I need to change the state to indicate that they just got a question wrong how do I do that well here is the set State call when the user gets a question wrong and in that case I'll go ahead and set incorrect equal to true and when the user gets a question right we'll go ahead and set incorrect equal to false we're modifying this one additional piece of State based on whether the user got the question right or wrong so now if I load the page answer a question correctly the score increases and I get a new question but if I answer a question incorrectly and press return you'll notice the score decreases the input field clears out and the text changes color because I change the value of that incorrect part of the underlying State and based on that we were able to see the text color change as well if I now get a question correct press return the text color changes Back to Black and the score increases and let's now add one final piece of state or one final change to the UI for this application let's give me a way to win this game maybe once I get to a score of 10 by answering 10 questions correctly then we're going to win the game and how could I do that well remember that each react component can just be a JavaScript function and this function is just immediately returning this div but it's a function so I can add additional logic to it I can say if state DOT score is equal to 10 for example then rather than render the old div let's run return a new div this div is just going to display something like U1 and so that I can style it I'll give it an ID the ID will be winner and if the ID is winner let's go ahead and make the font size 72 pixels and let's make the color green if I win so I added some CSS just to style it but really the only New Logic is further down below where I'm here saying check the state if the score is 10 well that means we win so instead of returning the new problem just return a div that says you won the game so let's try that now I get these questions every time I answer a question you're noticing that the score is going to increase by one and every time we're generating new random numbers to display as the uh as what's going to appear in the user interface and once I get to question number 10 if I answer it correctly press return the entire UI changes instead of the problem in an input field and the score I just see in green large text that I want and again I was able to do that by looking here at this condition where we're looking at the value of the state and if the state is 10 we're deciding what's a retina and this again is one of the great powers of react this ability to use this underlying State and based on the value of the underlying State decide what it is the user should see in their user interface and react is just one of many libraries that do this type of thing other popular ones include angular and view where all of these are just these web Frameworks that make it easy to be able to create applications that are able to respond to some underlying state so that you the programmer don't have to worry about constantly having to manipulate various different parts of the page which especially as you imagine websites like Facebook or Twitter where there are many things happening on the page at the same time every time a new tweet comes in you might get a notification and see a new Post in your main area of your news feed so these are the types of things that you might want the application to be able to more easily handle for you where you describe what the state is you describe what the page should look like based on that underlying State and let the library whether it's react or something else begin to handle the process of doing that for you and the world of user interfaces is changing pretty quickly that a lot changes in user interfaces in terms of the Technologies and the tools that are quite popular but they're really based on the same set of underlying ideas the idea that we can use JavaScript in order to manipulate what it is the user sees on their page in order to detect what's happening based on particular events like scrolling to the bottom of the page or typing something into an input field and then responding to those particular events by providing some sort of function that gets called anytime a particular event happens by mixing that in with other features like the ability to asynchronously request information from an external server or the ability to do computations based on the values of the state like we saw within react we have the ability to create very interesting engaging Dynamic user interfaces very very quickly all just using the power of combining Python and JavaScript that was web programming with python and JavaScript for today we'll see you next time thank you okay welcome back everyone to web programming with python and JavaScript and now at this point we've seen a number of different techniques and tools that we can use in order to design web applications HTML and CSS to describe how it is that our Pages look a programming language like python using a framework like Django in order to listen for requests process them and provide some sort of response and then more recently we took a look at JavaScript another programming language that we can use in particular on the client side running inside of the user's web browser in order to make our web pages even more interactive and user friendly now what we'll transition to today is taking a look at some of software's best practices some tools and techniques that developers actually use when they're working on web applications especially as those web applications start to grow larger in particular we'll start by discussing testing this idea of verifying that our code is correct and then transition to CI CD short for continuous integration and continuous delivery some other best practices that are used in making sure that the work that software developers are working on can be tested and deployed readily and very quickly so we'll begin the conversation with testing and testing is really about this idea of verifying and making sure that the code that software developers are writing are in fact correct to make sure that the functions work the way they're supposed to that the web pages behave the way that they are supposed to and ideally we'd like some way to be able to efficiently and effectively test our code over time and as our programs grow more complicated to allow our tests to make sure that our program is behaving the way that we want it to so we'll go ahead and start simple and consider the basic way that we might take a function for example written in Python and test and verify to make sure that it works the way we would expect it to and to do so we can start with a command in Python known as assert and what assert does in Python is it asserts or just states that something should be true and if that something is not true then the assert is going to throw an exception some sort of error so that whoever is running the program or running the command knows that something went wrong and this can be a very basic way that we can leverage Python's abilities to test a function and verify that that function behaves the way we would want it to so let's go ahead and try a simple example of writing a python function and then trying to test to make sure that that function works the way we would want it to so we'll go ahead and create a new file I'll call it a search.pi and let me Define a new python function for example that is going to take an integer and square it just want to take a number and return it Square so I'm going to define a function called Square that takes us input a number like X and I want to return x times x so fairly straightforward function but I would like to now verify that the function works the way I would expect it to now there are a number of ways that you could do this one would be just like let's print out what the square of 10 is for example and just see what that's equal to and then you could run a program something like Python assert.pi and just say all right the answer is 100 and I could say to myself okay that's what I would expect it to be but I now have to do the mental math of squaring the number 10 making sure that the answer comes out to be the value that I expect it would be nice if I could automate this process well one thing I could do is print out does the square of 10 equal 100 I know that I want square of 10 to equal 100 so I could just print out that value print out does square of 10 equal the number 100 I'll go ahead and run the program again and this time what I get is true for example because those two things are equal to each other and if on the other hand I had tried to check for something that wasn't true like does square of 10 equal 101 you run the program and okay now it's going to be false so this is nothing new nothing we haven't seen before but now what I can do is instead of this I can just say let me assert that square of 10 is equal to 100. here I'm just asserting that this expression that the square of 10 is equal to 100 is going to be true and now I can run the program and what you'll notice is nothing happens no output nothing at all because when an assert statement it runs and the expression that it's checking turns out to be true that the square of 10 does equal 100 it effectively ignores that statement altogether just continues on to the next thing no output no side effect of any sort and this is helpful because it just means that if I want to assert that something is true I can assert it and then just continue writing my code and it's as if I hadn't written that a certain statement at all so long is the thing that I'm asserting is actually true but if there were a bug in my code for example some sort of mistake where instead of returning x times x imagine that I accidentally said return X Plus X to calculate the square instead something that would be a bug in this case well then when I try to run python assert.pi what I'm going to get is an exception and the type of exception that I get is something known as an assertion error and I can see that here there's an assertion error and then I see the reason why the assertion error happened in the assertion error happened on line four which is this line here where I said I would like to assert that the square of 10 is equal to 100. so one way we could imagine testing our code is just by including a number of these different assert statements if I want to verify that my code is correct I can write various different assert statements and for a function that's fairly simple like the square function probably not too many tests that I would need to write but you can imagine for more complex functions that have multiple different conditional branches being able to assert that no matter which conditional Branch the program chooses to follow that the code will actually be correct can be a valuable thing to be able to say and this can be helpful too when in working on a larger project you want to deal with the problem of like bugs that might appear inside of a project and this gets at the idea of test driven development developing while keeping this notion of testing in mind and one of the best practices would be if ever you're working on a program of your own and you encounter some bug in the program you'll first want to fix the bug but then you'll want to write a test that verifies that the new behavior is working as expected and once you've written these tests these tests can start to grow over time and as you continue working on your project you can always run those existing set of tests to make sure that you nothing no new changes that you make to the program down the line no future features that you add or changes you might make are going to break anything that was there before and this is especially valuable as programs start to get more complex and testing everything by hand would start to become a very tedious process to be able to just automate the process of just run a whole bunch of tests on all the things that I know that I would like the program to do and making sure they work as expected that can be quite helpful so assert then is one basic way of just saying that I would like for this statement to be true and if it's not true go ahead and throw an exception and using python we know we also have the ability to catch those exceptions in order to make sure that we're able to handle those appropriately so we can display a nice error message for example if we wanted to do so but now let's go ahead and try and write a more complex function something more complex than just taking a number and squaring it somewhere where there's more room for various different cases that I might want to test and more room where I the programmer might make a mistake for example so let's imagine writing a new file then I'm going to call prime.pi where here I'll go ahead and say that I would like Prime dot pi to implement a function called is prime and what the is prime function should do is check to see if a number is prime or not the prime number only has factors of one and itself and I would like to write a function that verifies that fact and so how might I go about doing that well if n is less than two then it is definitely not prime because we say 0 and 1 are not going to be Prime and we'll only deal with numbers that are zero or greater and we'll deal with that for now but let's start then with other numbers numbers that are two or greater well what do I want to do I really want to check each of the possible factors like if I want to check whether or not 100 is prime or not then I want to Loop over all the possible numbers that could be factors of 100 like 2 3 4 5 6 and when I get to a number like 2 or a number like 5 that do go into 100 cleanly well then I'll know that the number is not prime so I could say for I in range from 2 all the way up through n for example let me go ahead and say if n mod I equals 0 then return false so what am I saying here I'm saying go ahead and start at 2 go up through but not including n so for if I'm checking to see if 10 is prime for example I'm going to check for I is 2 3 4 5 6 7 8 9 and for each of those numbers check if n my input to this function mod I the factor that I would like to check is equal to zero this mod operator this percent if you don't recall gives us the remainder when you divide one number by another and so if n mod I equals 0 that means the remainder when you divide n by I equals 0 meaning I goes into end cleanly with no remainder and that means that it's not prime because it does have a factor whatever I is is going to be that factor and if I get to the end of this for Loop then I can go ahead and just say return true if we weren't able to find a factor for the number other than one and the number itself well then we can go ahead and say that true this number is going to be Prime and so this for example could be a function that checks to see if a number is prime but if I'm trying to optimize I'm trying to make my function more efficient I might realize that you really don't need to check every number from 2 all the way up to the number n itself I could really just check up to like the square root of that number for example that for a number like 25 I want to check like 2 3 4 5 because 5 squared is going to be 25 but after 5 I don't need to check any more numbers beyond that that after you get to a number after a number the square root of that number is multiplied by itself there's never going to be a case where a number bigger than that could be a factor that I won't have already known about so just thinking about things a little bit mathematically we might be able to make some sort of optimizations where instead of going from 2 all the way up through N I might go up to the square root of n and I'll go ahead and import math to be able to use math.s square root and I'll convert that number to an integer just in case the square root doesn't already happen to be an integer so I think this works I've at least talked myself into thinking that this is a function that might be able to check if a number is prime so what could I do if I wanted to verify this well I could write some assert statements another thing I could do is just use the python interpreter I could say all right let me go ahead and type python and now I'm in the python interpreter and I can say from Prime go ahead and import is prime prime is the name of that file is prime is the function in that file that I would like to test and let's just try alright like is prime of 5. that's a prime number hopefully it'll say true that it's Prime all right it does let's try is prime 10 see if that works all right is prime 10 is false because 10 is not prime that's good that seems to be working as well let's try like is prime uh 99 that's not prime because like 3 is a multiple of that for example all right false so that's good this seems to be working and I could in The Interpreter test this function to make sure that it works the way that I would want it to work but let's now see some other ways that I might go about testing it well one way is that I could write a file like uh test0 dot pi and when test 0.pi is going to do instead of using assert I'm just going to do our Boolean checks like we were doing before I'm going to import the is prime function and I've defined a new function called test Prime which is going to serve the role of testing to make sure that when you square some number or when you check to see if some number n is prime that you get some expected value where that expected value is either true for it is prime or false for it's not Prime what then is this function doing well the function is checking we're calling the is prime function on this number n and seeing whether or not it is equal to the expected value that we get where we expect it to be either true or false and if we run is Prime on n and it is not equal to what we expect well then we print out okay there's an error we expected some value true or false but it turned out not to be the case and so now that I have this test Prime function well I can say all right let me go back into the python interpreter from test zero import test Prime and now I can say all right let me test Prime make sure that 5 is prime so I'm passing in my first input the number n the number I would like to check I want to check if 5 is Prime and the second input I provide is what I expect it to be either true or false and here nothing happens which is a good thing if there were an error it would have printed something out and the fact that I see nothing printed out means that everything was okay if I test Prime now and say something like all right make sure 10 is not prime make sure the 10 when you pass it into is prime is going to give us false again nothing happens seems to be working just fine let me now try I can try more examples maybe I try test Prime 25 I want to make sure the 25 is not prime because 25 is not a prime number all right we got some sort of error there's an error on is prime 25 where I expected the output to be false but for some reason it looks like is prime returns something other than false it probably return true and some might indicate some sort of bug in my program that somehow I don't think that 25 should be a prime number but my program thinks that 25 is a prime number and that error can be a clue to me as to how to do this but ultimately especially as programs start to grow longer especially as I start to add more and more functions testing each of those functions by hand is going to start to get tedious so one thing I could do is like write a script to be able to run all these tests for me automatically and so here what I have a test zero dot sh dot sh being like a shell script some script that I can just run inside my terminal and what this is doing is it's running python3 for python version 3 Dash C which means I'm just going to give it a command and it is going to run that command and so I can just run these and each of these lines does what from test 0 it Imports my test Prime function that function that is going to test to make sure that the prime function produces the output that I would expect it to and each time I'm testing a different number making sure that one is not prime making sure that 2 is prime 8 is not prime so on and so forth and I can just write a whole bunch of these tests and then rather than have to run each test one at a time what I can do is I can just run test zero dot sh I can just say that I would like to run dot slash test0.sh and all right I see that I get two errors I get an error on is prime 8 where I expected it to not be prime but for some reason it seems to be Prime and then again here exception on is prime 25 or I expected it to not be prime but for some reason my program thinks that it is prime so very helpful way for me to know immediately that there's some sort of error that is going on here But ultimately rather than have me have to write all this framework for how to go about testing my code on my own there exists libraries that can help us with this and one of the most popular in Python is a library known as unit test and what unit test is a library designed to do is it is going to allow us to very quickly write tests that are able to check whether something is equal to something else and then unit test is built in with an automated test Runner that will run all of the tests for me and verify the output and unit test gets built in to a lot of other libraries within python we'll see how we'll soon be able to apply this sort of idea to our Django applications as well but let's now translate these tests that we have written ourselves just by writing a function that like tests whether the prime number is what we expect it to be and now translate it to using this python unit test Library instead and so just to get a sense for what this looks like I'll now go ahead and open up tests one dot Pi where here first thing I'm doing is I'm importing unit test which we get for free with python I'm also importing the function that I would like to test and now I'm defining a class which will contain all of my tests this is a class that inherits from or derives from unit test.test case which means that this is going to be a class that is going to define a whole bunch of functions Each of which is something that I would like to test and so for example in this very first test this is a test that checks to make sure that one is not Prime and so the way I do that is by calling self this testing object itself it happens to have a method or function built into it called assert false there's an equivalent assert true but I would like to assert false and what would I like to assert that is false is prime one so whatever is prime one is that should be false and I would like to just assert that it is false likewise for the number two now I want to check that the number two is Prime and the way I do that is by calling self dot assert true I would like to assert that when I run the is prime function on the number two the output that I get is going to be a true value self not a third true and I can translate each of the rest of my tests into one of these self.assert truths or self dot assert false and then I say that if you go ahead and run the program go ahead and call unittest.main which will run all of these unit tests so now when I run python test1 dot pi here's what I get I get some nice output we're up at the top I see dots every time a test succeeded and on letter f for a test that happened to fail it says that it ran six tests and down at the bottom I see that there were two failures so it's immediately going to tell me exactly what failed and it'll give me some rationale some reason for why it is that those tests failed as well so we can see all right here is one test here's another test this test that failed is the test that checked that 25 is not Prime and this sentence here is what I supplied inside of what was known as that python doc string inside of those triple quotation marks underneath the Declaration of the function those triple quotation marks otherwise known as a doc string serve a number of purposes they can serve as just a comment for describing what it is the function does but there are special comment in so far as someone who's looking at the function can access that doc string that's usually used for documentation for what it is that the function is doing and they can use it inside of other places as well and so what unit test is doing is for every function it uses that Doctrine as a description of what the test is testing for so that if a test fails then I can see exactly what the name is of the test that failed and what it was tested where the description describes what was happening now in this case where it's just one function I'm testing a whole bunch of different numbers it doesn't seem all that useful but again if you imagine projects that start to get more complex being able to know immediately when you run your tests which parts of the program or which parts of your web application aren't working the way they are expected to can actually be quite helpful so test 25 that was the function that triggered an assertion failure in this case and the line that caused it was self.assert false is prime 25 and the reason that it failed is because true which apparently was the output of this function is not false and I expected it to be false instead and so multiple different ways of trying to run our tests this happens to be one quite popular one but this now tells me that I should go back and try and fix my is prime function I can go back into Prime dot pi and say all right I would like to figure out why this went wrong and if you look at this enough and maybe give it a little bit of testing you might see that I have a slight off by one error that I probably need to check one additional number than I actually am because in checking whether or not 25 is prime or not for example I might need to go up 2 and including the number five to know that 5 is a factor of 25 but before I was going up to the number five but I wasn't including the number five so I also need to just check one more number and now to verify that this is right I could just manually test the function myself or I could just run these tests again run Python test1.pi and this time all these dots mean all these tests succeeded we ran six tests and everything was okay no failures and so this can be a helpful way for me to know immediately that thing seems to be working okay so the takeaways from here are that these tests can definitely help as you begin to write new changes to your program especially as you begin to optimize functions you might make a function more efficient but then run your tests to make sure that in making these improvements you haven't broken anything you haven't changed any behavior that the way the program was supposed to behave and now it doesn't behave that way you're able to verify with much more confidence that that is true but of course that only works if your tests have good coverage of all the things that you would want the function to do and you've covered appropriately all the various different cases for how the function should behave because only if the tests are comprehensive will they actually be useful to you in indicating that the change that you made isn't going to break anything and only then can you actually feel confident in those changes themselves so now let's take this idea of using unit tests to be able to write these tests that verify that a function works and apply it to something like a web application like a web application written in Django that we would like to now use in order to be able to test to make sure that various different functions inside of our Django web application work as well so what I'm going to do is actually take a look at the airline program that we wrote back when we were first talking about Django and first talking about storing data inside of databases and I'm going to open up models.pi where you see that I've made one addition to our definition of a flight and recall from before when we first introduced this idea of defining a model inside of our application for a flight inside of an airline we gave that model three properties it had an origin and a destination where both origin and destination referenced an airport object where an airport object with an object we defined separately but a flight has an origin airport and a destination airport and in addition to that every flight has a duration some number of minutes long that that flight is going to last now I might like to have some way to validate to verify that a flight is a valid flight there isn't some error somewhere in how the data was entered into the database I would like to just generally make sure that given a flight I can check to make sure it's a valid flight and what does it mean for a flight to be valid well in general given these particular Fields I'll say there are two things that need to be true for a flight to be valid uh the origin and the destination need to be different that's condition number one it wouldn't make sense to have a flight whose origin and destination are the same airport and condition number two the duration of the flight needs to be greater than zero minutes if ever the duration is zero or the duration is negative that probably indicates to me that there was some sort of mistake in data entry or some problem that happened with how it is that these flights were configured so I want to make sure that the duration is greater than zero and those then are my two conditions for what makes a valid flight and I've in fact written a function here called is valid flight that just works on the slight class that simply checks given a flight make sure that is in fact valid and the way it's doing that is by checking for these two conditions that I've just described it's checking to make sure that the origin is not equal to the destination it's checking to make sure that the duration of the flight is greater than or equal to zero and maybe I should change that to greater than to make sure it's entirely positive but this then is my definition for what it means for something to be a valid flight and what I'd like to do now is test these various different parts of my application I have this is valid flight function inside of flight that I might like to test as well but we also have all of these other properties that I would like to test these relationships that a flight has an origin and a destination we have passengers that can be associated with flights so there's lots of relationships between my data that I would like to test and verify to make sure they work the way we would expect it to so to do that whenever we create an application in Django like this flights application here we were also given this test.pi file and we haven't yet used the test.pi FI file for anything but what it's supposed to be used for is for writing these sorts of tests testing that verifies that our application behaves the way that we want it to behave so let's go ahead now and open up test.pi and see what happens to be in here what we can do is we can define a subclass of test case which behaves very similar to unit test and it's based on that same idea I'll Define a new class called flight test case that will just Define all of the tests that I would like to run on my flights application and so things to know about this is that first I might need to do some initial setup in order to make sure that there's some data that I can actually work with and test with and what Django will do when I go ahead and run these unit tests is that it will create an entirely separate database for me just for testing purposes that we have one database that contains all the information that actually pertains to the flights that are actually there on my web server but we might also like to just test things with some dummy flights and some dummy airports just to make sure that things are working and then once we're confident things are working then we can deploy our web application to let actual users begin to use whatever new features we've added to the web application for example so inside of this database I might need to do some initial setup and I can do so by defining a setup function inside of my test case class this is a special function and Django knows that when it's running these tests it should first do any of the setup steps that we need to do and so how are we doing this well what we're doing is inside of the setup we're going to just add some sample data into the test database again this won't touch the database that users actually see and actually interact with this is just our test one for testing purposes and we'll start by going ahead and creating some airports so airport Dot objects.create and then specifying what the values for these fields should be we'll just have an airport whose code is AAA for City a and an airport whose code is BBB for City B just dummy airport names they're not real airports but just use for testing purposes and I'll save those airport objects inside of these values A1 and A2 and beneath that what I'm going to do next is go ahead and create some flights where I create using flight.objects.create three different flights one that goes from A1 to A2 with the duration of 100 minutes one from A1 to A1 with a duration of 200 minutes one from A1 to A2 with a duration of negative 100 minutes so I have a whole bunch of these flights now that I would like to test that I would like to make sure work in some predetermined or expected way and so now if I scroll down we can see that I have a whole bunch of these various different tests here is one test that just tests the departures count so every airport has access to a field called departures which ideally should be like how many flights are departing from that airport and I'd like to make sure that departures count works the way I expect it to so here I go ahead and get the airport whose code is AAA and now using unit tests like syntax I'd like to say self dot assert equal so assert true verifies that something is true assert false verifies that something is false assert equal verifies that two numbers are equal to each other and here I'd like to verify that a.departures.count if I take airport a and count how many flights are departing from that airport that that should be three so just verifying that that works and then after that if this test passes then I can be confident that elsewhere in my program if I take an airport and call that airport.departures.count I can feel pretty confident that that is going to work the way I would expect it to I can do the same thing for arrivals get the airport and assert that a.arrivals.count that that is going to be equal to the number one if there's only one flight that arrives at airport A1 for example so that tests these relationships and I can also now test the is valid flight function as well that here I get my two airports A1 and A2 this is the one who was code AS AAA this is the one whose code is BBB I'll go ahead and get the flight whose origin is A1 whose destination is A2 whose duration is 100 and let me just assert true that this flight is going to be a valid flight because this flight is valid the origin is different from the destination it's duration is some positive number of minutes and so I should feel pretty confident that this is going to be a valid flight that I can verify by calling self not a third true I can do the same thing for testing for an invalid flight testing for an invalid flight because the destination is bad I can get the flight airport A1 and get the flight whose origin and destination are both A1 and now let me self dot assert false say that this should not be a valid flight because the origin in the destination are the same what's the other way a flight can be invalid well flight can be invalid because of its duration so I could say something like go ahead and get airports A1 and A2 and get me the flight whose origin is A1 destination is A2 but the duration is negative 100 minutes that was one of the flights as well and while that should not be a valid flight so I'll say self dot assert false is valid flight because when a call is valid flight on that flight it shouldn't be valid because the duration makes it an invalid flight so here now I've defined a whole bunch of tests and there are more down below that we'll take a look at in a moment as well but I've defined a whole bunch of these slides now or a bunch of these tests and now I'd like to run them and the way that I can run tests in Django is via a manage.pi command manage.pi has a whole bunch of different commands that we can run we've seen like make migrations and migrate and run server but one of them as well is if I go into Airline zero I can say python manage.pi test that's just going to run all of my tests and all right it seems that we ran 10 tests but two of them failed so let's go ahead and see why did those two tests fail well the way to read this is that we get this heading anytime a test failed and so we failed the test invalid flight destination function and we failed the test invalid flight duration function and Doc strings could have helped me to know what it is that these tests are exactly doing but it seems that true is not false I wanted to assert that this should not be a valid flight that it should be false but for some reason these appear to be valid flight so something seems wrong with is valid flight where it's returning true when it should be returning false and so this then gives me a place to start looking I can say all right let me go to is valid flight and make sure that function is correct so I'll go back into models.pi I'll take another look at is valid flight maybe I'll Think Through the logic again all right I wanted to check that self.origin is not self.destination I wanted to check that the duration is greater than or equal to zero I could change this to greater than but I don't think that's the issue because my duration was negative and so that already should have been invalid but the other thing I might realize looking at this now is that okay The Logical connective that I have used uh was not the right one I want to check that for it to be a valid flight it needs to satisfy both of the conditions the origin and the destination need to be different and the duration of the flight needs to be greater than zero for example and here I've used or instead of and so I can just change it all right and hopefully that will fix things and to verify as much I can rerun pythonmanage.pi test go ahead and press return it's going to check things ran 10 tests everything is okay and all right it seems that now I have passed all of these tests and notice here at the top it created a test database so it just created a test database for me in order to do all this testing work and then it destroyed that test database at the end as well so none of my tests if I'm adding data removing data it's not going to touch any of the actual data inside of my database for the web application Django will take care of the process of keeping all of that separate for me by first calling that setup function to make sure that my new test database has everything that it needs to so all right we now have the ability by using unit test to be able to test various different functions inside of our web application we first saw that we could test a function like the is prime function just the python function that we wrote but we can also test things like functions on our models like checking to make sure that a flight is valid checking to make sure that we can take a flight and access all of the or take an airport and access all of its arrivals and all of its departures but I'd like to do more than that especially for a web application I'd like to check that like particular web pages work the way that I want them to work and so to do that Django lets us simulate trying to make requests and risket responses to a web application and so let's go ahead and look at some of these other tests as well here what we have is a function called test index and what test index is going to do is it's just going to test my default flights page to make sure that it works correctly so we start by creating a client some client that's going to be interacting request and response Style then I'm going to call client.getflights that is the route that gets me the index page for all the flights and I'm saving that inside of a variable called response whatever response I get back from trying to get that page I would like to save inside of this variable called response and now I can have multiple assert statements inside of the same test if I would like to sometimes you might want to separate them but here I want to check that the index page works and what that means is a couple of things it means that response.statuscode well that should be equal to 200 200 again meaning okay I want to make sure that whatever response I get back that that is going to be a 200. and if there was some sort of error like a 404 because the page wasn't found or a 500 because of some internal server error I would like to know about that so let me first just assert that the status code should be equal to 200. but then Django also lets me access the context for a response and what is the context well recall again in Django when we rendered a template for example we called like return render then provided the request and what page we were going to render but we could also provide some context some python dictionary describing all of the values that we wanted to pass in to that template and Django's testing framework gives us access to that context so that we can test to make sure that it contains what we would expect it to contain and on the index page for all my flights I would expect that to contain a listing of all of the flights and we created three sample flights inside of this test database so I should be able to assert that these two things are equal response.contacts flights that gets me whatever was passed in as flight in the context dot count well that better be three because I want to make sure that there are exactly three results that come back when I look at the context and access whatever happens to be inside of that flight's key there are other tests I can run as well so in this case I've gone ahead and gotten a particular flight the flight who in this case had an origin of A1 and a destination of A1 now that was not a valid flight but we'll go ahead and get it anyway because it exists in the database and now I can get slash flights slash that flights ID right because on my flights page I would like to be able to go to slash flights one to get AT flight number one and go to slash Flight 2 to get AT flight number two so if I take some valid ID some ID of an actual flight F and go to slash flights slash that ID well that should work it should have a status code of 200. meanwhile though if I test an invalid flight page this is a Django command that will get me the maximum value for the ID this ID underscore underscore Max gets me the biggest possible ID out of all of the flights that happen to exist inside of my database if I go ahead and try and get slash flights slash Max ID plus one so a number that is one greater than any of the flights that were already inside of my database well that shouldn't work there shouldn't be a page for a flight that doesn't exist so here then I can assert equal that the status code of what comes back that that is equal to 404 because I would expect that page to return a 404. and finally I can also check various different contexts for things about the passenger page so in this case I've added some sample passengers to the database so inside of my test I can manipulate the database as well adding data into the database and checking to make sure that when you count up the number of passengers on a flight page that that is going to be like the number one for example so a number of different tests that we can then write in order to verify various different parts of our web application I would like to verify not only that our database works the way we would expect the database to work in terms of how functions on our models work in terms of relationships between those models like the relationship between a flight and an airport but we can also simulate a get request simulating a request to a page and verify that the status code that comes back is what we would expect it to be verified that the contents of the page contain the right contents verify that the context that was passed into that template is correct as well and then all of that can then be verified by saying something like python manage.pi test then go ahead and running that and we see that in this case all of the tests happen to pass which means that everything seems to be okay at least for now so this then again very helpful as our web programs start to get more complex as we have multiple different models multiple different routes the ability to test to make sure that if we change things in one part of the program that it doesn't break things in another part that can be quite helpful too what we haven't yet been able to test though is any interaction that's happening exclusively in the browser that I've been able to test a lot of things that are happening server side and recall that Django is all about working on writing this web server a python application that acts as a web server that listens for requests that come in from users processes those using these various different views and models and then provides some sort of response back and we can test the contents of that response things like does the status code match what we would expect it to does the context match what we would expect it to but there are some times where we would like to really simulate like a user clicking on buttons and trying things on a page and making sure that page behaves we would like it how we would like it to as well even if we're not using Django or even if we're just dealing with the front end so let's create like a sample JavaScript webpage that we might like to test now by using these sorts of ideas the ability to automate the process of testing various different parts of our application to verify that they do in fact work correctly what I'm going to do now is we'll get out of the airline directory and I'm going to create a new file that I'll call counter.html and recall before we created a counter application using just JavaScript or what the counter application did is it let me click a button like an increase or Account button that just incremented a number it went from zero to one to two to three to four and so forth I'm going to do the same thing here we'll add a little more complexity though and give myself both an increase button to add a number and a decrease button to decrease the number by one as well so I'll go ahead and start with our usual doctype HTML and our HTML tag I'll give this page a title of counter and now inside of the body of this page I will go ahead and start with a big heading that just says zero and then beneath that I'll create two buttons I'll have one button which will be the plus symbol and one button which will be the minus symbol so now no JavaScript yet this won't actually work but I can go ahead and go into opencounter.html and I can see that I now have 0 and I have a plus and a minus button although those plus and minus buttons don't actually do anything right now so let's go ahead and make them do something let's give this button an ID called increase so that I can reference it later and give this button an ID called decrease again so that I can reference it inside of my JavaScript and now in the head section of my web page I'll add a script tag where I want to start running some JavaScript once the page is done loading and to do that you'll recall I can say document dot add event listener Dom content loaded to say go ahead and run this function once the Dom is loaded once all the contents of this page have loaded the way I would expect it to and what am I going to do well I first need a variable something like let counter equals zero and then I can say all right document.queryselector increase get me the element whose ID is increase that's that plus button and when you are clicked let's go ahead and add an event handler in the form of this callback function this function that will be called when the increase button is clicked and what would I like to do well I'd like to increase the counter go ahead and say counter plus plus and then I'm going to update this H1 that currently contains 0. document.queryselector H1 that gets me the H1 element I'll go ahead and update its inner HTML and go ahead and set that to whatever the value of counter happens to be and then I'll do the same thing for the decrease button document.queryselector get me the element whose ID is decreased that's the button that will be the minus button and when you are clicked go ahead and run this callback function which will do the same thing except we'll first do counter minus minus decrease the value of the counter by one and then get me the H1 element set it to Inner HTML equal to the counter I think this should work and I could verify that by opening up counter.html I'll refresh the page and I can test these buttons test the plus button all right that seems to work increases the value by one I can test the minus button make sure that that decreases the value by one that all seems to work just fine but of course this requires me having to interact with this page I have to open up the page I have to click on these buttons and it's not the type of thing where I'm simulating like a get request or a post request there's no server that I'm sending a request to and getting back a response of one two three four from this is all happening in the browser and so what I might like to have the ability to do is some sort of browser testing and there are a number of different Frameworks for doing this one of the most popular is selenium and what this is going to allow me to do is I can define a test file that using unit tests or a similar Library can effectively simulate a web browser can simulate a web browser and simulate a user interacting with that web browser using something that we call a web driver that's going to allow me to use in code control what it is that the browser is doing and how it is that the user is interacting with this program so how is this going to work well I'm going to go ahead and just as a test let me open up the python interpreter and let me import from tests import Star and that's going to give me access to a couple of different things but the first thing you'll notice that it's doing is because I'm using this Webdriver it's going to give me a web browser and here I'm using Chrome but you could use another browser but notice that here Chrome is telling me Chrome is being controlled by automated test software that Chrome has the ability to allow me using automated test software using like python code control what it is the web browser is doing and so what I can do here is the first thing I need to do is like tell Chrome to open up my web page and it turns out that in order to do so I need to get that Page's URI or uniform resource identifier just some string that will identify that page and I've defined a function called a file URI that gets me the URI of a particular file in this directory so I'm going to say I want to open up counter.html and I need to get its URI but now what I can say is driver dot get URI meaning like tell this Webdriver this python part of the part of the Python program that is controlling the web browser that I would like to get this web page as if the user had gone to the web page and like pressed return after typing in the URL so I say driver.geturi I go ahead and press that and what you'll notice on the right hand side here is that Chrome has loaded this page I am effectively controlling this web browser window using my Python program I said driver.geturi meaning go ahead and open up thecounter.html page and then inside of this test window Chrome has opened that up and inside my Python program Now using this Webdriver I have the ability to like see the same things that the user sees when they open the page so what does the user see when they open the page well they see for example the title of the page so I could say like driver dot title and see that all right the title of this page is counter that was in fact the title of the page but I could verify that inside my Python program that by checking that driver.title by taking my web driver getting the title of the current page that it's looking at making sure that that is counter and likewise if I looked at driver.page source press return When I see there in string format so it's a little bit messy is the contents the HTML content of this page and you'll notice things like you know Dom content loaded here my on click handlers here's my H1 that says zero it's very messy because it's being represented as a python string and these backslash ends refer to like new lines where there's a line break but this is the content and this is really all the browser gets the browser takes this information and just knows how to render it in some nice more graphical representation that's easier for a user to look at and therefore be able to understand but this is fundamentally all that my web browser is actually getting back when it tries to load a web page so what can I do from here well I would like to simulate a user's behavior on this page that sure I can get a page and see the title but I want to simulate like clicking on the plus button for example so in order to do that first thing I need to do is like actually get the plus button and to do that I could say something like driver dot uh get or find element by ID there are a number of ways that I could try and find an HTML element but I would like to find an HTML element by its ID and I know that the plus button the increase button has an ID of increase for example and so if I find element by ID let me find the element whose ID is increase and all right it seems here that I've gotten some web element object back from my Webdriver and I'll go ahead and save that inside of a variable called increase so what I now have is a variable called increase that represents the increase button that my web driver has found on the web page it's the effect of the effectively the same thing as you the human going through the page looking for the increase button the web driver is doing the same thing except instead of looking for the button based on what it looks like it looks for the button based on its ID and so this again another reason why it's helpful to give your HTML elements IDs in case you ever need to be able to find that element it's very useful to be able to reference that element by its name but now that I have a button I can simulate user interaction with that button I can say something like increase dot click to say I would like to take the increase button and simulate a user clicking on that button in order to see whatever it is that the user would get back when they click on that button so increase.click I press return and what you'll notice happens is that the number increases increases from zero to one it's as if I the user had actually clicked on the plus button except all I did was say like increase.click to say go ahead and increase the increase button and let the browser do what it would normally do in response and what it would do in response is get that JavaScript event handler that on click Handler and run that callback function that increases the value of counter and updates the H1 so I can say increase dot click to simulate increasing the value of that variable but this is just a function call which means I can include it in any other python constructs that I want that if I want to repeat something like 25 times for example and press the button 25 times I can say like for I in range 25 go ahead and like click the increase button and now very quickly 25 times it's going to click the increase button and I'm going to see the result of all of that interaction so I can simulate user interaction just by using the python interpreter likewise If instead of increasing I wanted to decrease well then I'm going to do the same thing I'm going to say decrease equals driver dot find element by ID let me get the decrease element the element whose ID is decrease and now say decrease dot click and that will simulate me pressing the decrease button press it again and the more I press it every time it's just going to decrease by one and if I want to decrease it all the way back to zero well then I'll just do it 20 times for I in range 20 go ahead and decrease dot click and that's going to go ahead and reduce the count all the way back to zero by simulating the user pressing a button 20 times and what you'll notice is that it happened remarkably fast like I can simulate 100 presses of the increase button by saying for I in range 100 increase dot click and very quickly you'll see that number 100 times go ahead and go up to 100 faster than a human could ever have clicked that plus button over and over again and so these tests can not only be automated but they can be much faster than any human could ever be in order to test this Behavior so how then can we incorporate this idea into actual tests that we write into like a unit testing framework that allows me to Define all these various different functions that test different parts of my web applications Behavior well to do that let's go ahead and take another look at tests.pi inside of test.pi here again is that file URI function where that function has the sole purpose of like taking a file and getting its URI and we need the URI to be able to open it up then we go ahead and get the Chrome web driver which is going to be what's going to allow us to run the in simulate interaction with chrome and in order to get Chrome's Webdriver you do have to get Chrome driver separately it is separate from Google Chrome itself but Google does make it available and other web browsers make equivalent web drivers available as well if you'd like to test how things would work in other browsers because different browsers might behave differently and it might be useful to be able to test to make sure that not only does everything work in Google Chrome but it's also going to work in other browsers that you might expect users to be working with as well here then I've defined a class that again inherits from unit test.test case that is going to Define all of the tests that I would like to run on this web page that here I have a function called test title that's going to go ahead and first get counter.html it's going to open up that page and then just assert equal let's make sure the title of the page is actually counter that's what I would expect it to be so I can write a test in order to test for that case as well here I test the increase button by finding the element whose ID is increase and clicking on that button to simulate a user pressing the plus button in order to increase the value of the counter and then what do I want to check well I want to check that when you find element by tag name H1 and so find element by tag name similar to find element by ID except instead of finding something by its ID it's going to look at what's the tag and it only is one element that is an H1 and so here I'm saying go ahead and get me the H1 element and access its text property meaning whatever it is that is contained inside of those two H1 tags I would expect that to be the number one and so I would assert that this is equal to 1. and likewise I can do the same thing for the decrease button finding the element whose ID is decrease clicking on that button and then asserting equal find me the H1 element and make sure that the contents of it are equal to the number negative one for instance and this final test just test things multiple times that three times and then press the increase button and make sure that after I press the increase button three times when I check the H1 check what's inside of its text that the answer should in fact be three so now I should be able to go ahead and test this code by running pythontests.pi and what that is going to do is it's going to open up a web browser and what you're going to see it very quickly flashed across my screen were all of those tests we test the increase by one we test decrease by one and then we test like increase three times after we check to make sure the title was correct and then we can see here is the output we ran four tests in this amount of time and everything turned out to be okay none of the tests failed but if one of the tests had failed well then we would see a different output so let's imagine for example that I had had a bug in my decrease function for example where the decrease function wasn't actually working what would that bug look like maybe I forgot to say counter minus minus or maybe perhaps more likely what might have happened is I wanted to I already had written the increase function and I decided to very quickly add the decrease function and I thought I'd just you know what copy paste like copy the increase event handler the decrease event handler is basically the same thing except I need to query for decrease instead and maybe I just did that and forgot to change a plus plus to minus minus a bug that might happen if you're not too careful about how you copy and paste code from one place to another now when I run these tests pythontest.pi we'll see the simulation a whole bunch gets simulated and when I go back and check the output of my test see what actually happened I see that we do seem to have an assertion error here the assertion fail was on the test decrease function and it happened when I tried to assert that was inside of the H1 element was negative one because one is not equal to negative one so this is the value of this assertion error as well and this is helpful an advantage over just assert assert just tells you you know there's an assertion error but here in unit test we actually get to see if I asserted that two things are equal it tells me what both of those things are it tells me the actual output of h1's text it was one but what I expected it to be was negative one so it tells me exactly what the discrepancy is I know that for some reason it was one instead of negative one and that can be a clue to me a hint to me as to how I can go about trying to solve this problem and I can solve the problem by going into my decrease event handler seeing that all right this was increasing the counter instead of decreasing it change plus plus to minus minus and now rerun my tests and see all the test simulated inside of my Chrome driver and we ran four tests and this time everything was okay so all of my tests appear to have passed this time so those then are some possibilities for being able to test our code especially taking advantage of unit tests this library that we can use in Python in order to make various types of assertions about what we would like to be true or false about our code and unit test contains a number of helpful methods for being able to perform these sorts of assertions some of them are here so we can say things like I would like to assert the two things are equal to each other which we've seen there's a counterpart to that a certain not equal for making sure the two things are not equal to one another assert true and false we've seen this well there are others as well though things like assert in or assert not in if I would like to assert for example that some element is in some list for example or that some element is not in some list there are other assert methods as well that we can use in order to verify that a part of our program or a part of our web application does in fact behave the way we would want to behave and we can integrate this type of idea into a number of different types of testing we thought integrating it into Django itself using Django's unit testing in order to verify that our database works the way we expected it to and that our views works the way that we expected them to and provided the right context back to the user after the user makes a request to our web application and there are also applications of unit testing whether using the framework or not to browserbased testing when I want to test like inside of the user's web browser does it actually work when a user clicks on this button that the JavaScript behaves the way that we expect it to and I don't need to especially use JavaScript in order to do those tests I can write those tests using python using unit test to be able to say click on the button that has this ID and verify that the result that we get back is what we would expect it to be so that then was testing and now we'll go ahead and take a look at CI CD continuous integration and continuous delivery which refer to two best practices in the software development world that have to do with how it is that code is written especially by groups or teams of people how it all works together and how that code is eventually delivered and deployed to users who are using those applications so CI which refers to continuous integration involves frequent merges to a main branch of some repository like a git repository and then automatically running unit tests when that code is pushed so what does that generally mean well in the past you might imagine that if multiple people are working on some project at the same time and multiple people are each working on different features or different parts of that project then after everyone's done working on those features and we're ready to like ship some new version of a web application or ship some new version of a software product well then everyone's going to have to take all these various different features and combine them all together at the end and figure out how to then try and deliver that program to users and this has a tendency to cause problems especially if people have been working on different big changes all simultaneously they might not all be compatible with one another there might be conflicts between the various different changes that have been made SO waiting until everyone's done working on a feature to merge them all back together and then deliver it is not necessarily the best practice which is why increasingly many more teams are beginning to adopt a system of continuous integration that there's one repository somewhere online that's keeping the official version of the code everyone works on their own version of the code maybe on their own Branch for example but very frequently all of these changes are merged back together into the same Branch to make sure that these incremental changes can be happening such that it's less likely that there's two really Divergent paths that the program has gone under and as a result it's much more difficult to merge those two paths back together in addition to frequently merging to a thumb main branch another key idea of continuous integration is this idea of automated unit testing where unit testing again refers to this idea of on our program we run a big series of tests that verify each little part of our program to make sure that the web application behaves the way it is supposed to and unit tests generally refer to testing particular small components of our program making sure that each component works as expected there are also bigger scale tests tests like integration tests that make sure that the entire pathway from like user request to response that everything along a certain pipeline works as well but there are various different types of testing and the important thing is making sure that anytime some new change is merged into the main branch or someone wants to merge their changes into the main branch that these tests are run to make sure that nobody ever makes a change to one part of a program that breaks some other part of the program and in a large enough code base it's going to be impossible for any one person to know exactly what the effect of one particular change is going to be on every other part of the program they're going to be unforeseen consequences that the one programmer may or may not know about and so the advantage of unit testing assuming they're comprehensive and cover all of these various different components of the program is that anytime someone makes a change and attempts to merge that change into the main branch according to the practice of continuous integration the fact that it doesn't pass a test will know about that immediately and as a result that programmer can go back and try to fix it as opposed to waiting until everything is done merging everything together and then running the tests realizing something doesn't work and then being unsure of where to begin we don't know where the bug is which change happened to cause the bug if everything is merged more incrementally it's easier to spot those bugs assuming there's good coverage of tests to make sure that we're accounting for these various different possibilities so continuous integration refers to that idea frequently and more incrementally updating the main branch and making sure that the tests are in fact passing and it's closely tied to a related idea of continuous delivery which is about the process of how it is that the software is actually released to users how the web application actually gets deployed and there are a couple of models you might go about thinking with regards to how it is that some program or web application gets deployed you might imagine the release cycle might be quite long the people spend months working on various different features on some software development team and after they're happy with all the new changes they've released some new version of the web application but especially with web applications that are undergoing constant change that have lots of users that are moving very quickly one thing that's quite popular is this notion of continuous delivery which refers to having shorter release schedules instead of immediately releasing something at the end of some long cycle you can in shorter Cycles make releases every day every week or so in order to say that let's just go ahead and incrementally make those changes whatever new changes happen to have merged to the main branch let's go ahead and release those as opposed to waiting much longer in order to perform those releases and that again lends itself to certain benefits the benefit of being able to just incrementally make changes such as something goes wrong you know more immediately what went wrong as opposed to making a lot of changes at once where if something goes wrong it's not necessarily clear what went wrong and it also allows new features to get out to users much more quickly so especially in a competitive market where many different web applications are competing with one another being able to take a new feature and release it very quickly can be quite helpful so continuous delivery is all about that idea of short release Cycles rather than wait a long time for a new version to be released release versions incrementally as new features begin to come in it's closely related to the idea of continuous deployment which CD will sometimes also represent continuous deployment is similar in spirit to continuous delivery but the deployments happen automatically that rather than a human having to say all right we've made a couple of changes let's go ahead and deploy those changes in continuous deployment anytime these changes are made the pipeline of deploying the application to users will automatically take place as well just removing one thing for humans to have to think about and allowing for these deployments to happen even more quickly as well so the question then is what tools can allow us to make continuous integration and continuous delivery a little bit easier what techniques can we use in order to do so and there are a number of different continuous integration tools but one of them produced by GitHub more recently is known as GitHub actions and what GitHub actions allows us to do is to create these workflows where we can say that anytime for example someone pushes to a git repository I would like for certain steps to take place certain steps that might be like checking to make sure the code is styled well that if a company has some style guide that it expects all of its programmers to adhere to when working on a particular product you could have a GitHub action such that anytime someone pushes to a repository you have an action that automatically checks that code against the style guide to make sure that it is well styled well common to documented and so forth you might also for instance have a GitHub action that tests our code to make sure that anytime anyone pushes code to a GitHub repository we automatically run whatever tests we would like to run on that particular code base and GitHub actions can allow us to do that as well by defining some workflow to be able to do so and so that's what we'll take a look at in just a moment using GitHub actions to automate the process of running tests so that the human though it would be a good thing for the programmer when they're done writing their code to test their code and make sure it works we can enforce that by making sure that every time anyone pushes to a GitHub repository will automatically run some GitHub action that is going to take care of the process of running tests on that program and we'll know immediately as via an email that GitHub might send to you to say that this particular test failed and you'll know every time you push to that Repository so how do these workflows get structured what is the syntax of them will they use a particular type of syntax known as yamo which is some language a configuration language that can be used in order to describe often described for configuration of various different tools and software GitHub actions happens to use it other Technologies use it as well and yaml is a file format that structures its data sort of like this in terms of key value pairs much in the same way that a Json object or a python dictionary might where we'll have the name of a key followed by a colon followed by its value name of a key followed by colon followed by a value and the value doesn't necessarily need to be just a single value it could be a sequence of values like a list of values for example and those are denoted this way by like a hyphen indicating a list item one item two item three and in addition to just having single values and lists of items these ideas these lists these sequences these values can be nested within one another that you might have one key that leads to another set of keys that are associated with values that leads to other sets of keys associated with values as well much in the same way that a Json object like a representation of keys and values can also have nested Json objects within a Json object likewise too we can have nested key value pairs as the value for a particular key too so we'll take a look at an example of what that actually looks like in the context of creating some GitHub workflow that will run some GitHub actions so what will that look like let's go back into Airline zero where here I've defined inside of a DOT GitHub directory a directory called workflows inside of which I have a ci.yml file it can be any name.yaml.yml or dot yaml or the conventional file extensions for a yaml file and here I'll open up ci.yml and this now is the configuration for how this workflow ought to behave I give the workflow a name it's called testing because what I want the workflow to do is like test my Airline application then I specify an on key to mean when should this workflow run and here I've said on push meaning anytime someone pushes their code to GitHub we would like to run this workflow every workflow consists of some jobs and so what are the jobs what tasks should happen anytime that I try and push to this repository well I've defined a job called test project and this is a name that I chose for myself you can choose any name for a job that you would like and now I need to specify two things for what happens on a job one thing I need to specify is what sort of machine is it going to run on that GitHub has its own virtual machines otherwise known as VMS and I would like to run this job on one of those virtual machines and they're virtual machines for various different operating systems here I'm just saying go ahead and run on the latest version of Ubuntu which is a related version of Linux that I would like for this test to run on and then for the job I specify what steps should happen where I can now specify like what actions should happen when someone tries to test the project when I try and run this job and here I'm using a particular GitHub action and this is a GitHub action written by GitHub called actions slash checkout and what this is going to do is it's going to check out my code in the git repository and allow me to like run programs that operate on that code and you can write your own GitHub actions if you would like but here all we really need to do is go ahead and check out the code AS by looking at what's on the branch that I just pushed to and then I'm going to run Django unit tests this is just a description for me to know what's going on in this particular step and here is what I would like to run I'm going to first go ahead and install Django because I'm going to need to install Django to be able to run all these tests but after and if there are other requirements I might need to install those requirements as well but the airline program is fairly simple all we really need in order to run the tests is just Django so I'll go ahead and install Django and then I'll run python3 manage.pi test I would like to test run all of the tests and the way I can do that is just by providing this manage.pi command to say that I would like to run all of the tests on this particular application so this configuration file all together now is going to specify a particular workflow the workflow that says that every time I push to the GitHub repository what I would like to happen is I would like to check out my code inside of the git repository so on some Ubuntu VM GitHub is going to check out my code and it's going to run these commands it's going to install Django and then it's going to test my code and it will then give back to me what the response is after I do that so let's go ahead and test this and in particular let's run it on a program where the tests are going to fail so I might say for example let's go into flights and models.pi and let's go to my is valid flight function from before and change it back to that version that didn't work but before it was something and something I'll change it to something or something that as long as the origin is not the destination or the duration is greater than zero we'll count that as valid but we know that that's wrong that should not work so here's what I'll do I'll go ahead and first say git status see all right what's changed and it seems that all right I've changed I've modified models.pi which makes sense I'll go ahead and get add I'll add dot we'll just add all the files that I might have modified I'll commit my changes so go ahead and use a wrong valid flight function that's what I'm going to do and now I'm going to push my code to GitHub I added it I committed it I pushed it that now then pushes my code to GitHub into a repository called airline that I already have and now if I go ahead and go to GitHub and I go to my Airline Repository what you'll notice is that we've mostly been dealing with this code tab but GitHub gives us other tabs as well that are quite useful as you begin to think about working on a project in larger teams so in addition to looking at the code we have issues issues are ways for people to just report that something is not quite right or there's a feature request that we have for this particular code base so the issues might maintain a list of all the pending action items for a particular repository things that we still need to deal with and once those issues are dealt with the issues can be closed so I have no issues here as well pull requests are people that are trying to merge some part of the code from one branch into another Branch so you might imagine on a larger project you don't want everyone merging things into master all at the same time you might have people working on their own separate branches and then when they feel confident and happy with their code then they can propose a pull request to merge their code into the master branch and that allows for various other features like the ability for someone to offer a code review to be able to review the code write comments and propose suggestions for what changes should be made to a particular part of the code before it gets merged into the master branch and that's another common practice with regards to working on a GitHub repository or any other larger project that you're controlling using Source control is this idea of code reviews that oftentimes you don't want just one person making the changes without anyone's eyes on that code but you'll want a second pair of eyes to be able to look things over make sure the code is correct make sure it's efficient make sure it's in line with the practices that the application is using and so pull requests can be quite helpful for that and then this fourth tab over here represents GitHub actions these are the various different actions or workflows that I might want to run on this particular repository and what we'll see here is that if I go to the actions tab now what I'll see is here is my most recent testing action so anytime I push I get a new testing action this one was from 29 seconds ago I'll go ahead and click on it and see what's within it all right here was the job that I ran test project I see that on the left hand side you'll notice this big red X on the left hand side of this workflow means something went wrong so I'd like to know what it is that went wrong I'll go ahead and click on test project and here within it these are all of the steps the things that happened when we actually ran this particular job first the job sets up then the checkout action goes ahead and checks out my code because we need access to my code to be able to run it here with the step I defined run Django unit tests which was going to install Django and run those tests it has an X next to it indicating something went wrong and I see down below annotations one failure so all over the place GitHub is trying to tell me that something went wrong it failed two minutes ago here I'll go ahead and open this up and what I'll see is the first thing that happened is we install Django and that seems to have worked okay but down below what you'll see is the output of running these unit tests that we see failed failures too and now I can see here are the unit tests that failed we failed the invalid flight destination test we failed the invalid flight duration test and as before I can see in github's user interface what those assertion errors are I can see it true is not false true is not false those were the problems that happened when I tried to run this particular test Suite and now others who are also working on this repository can see as well what the results of these tests are and can offer suggestions can offer ways that I might be able to fix the code in order to deal with that problem but now I know that this particular test failed and if I go back to the main code page for this GitHub repository I'll see that next to this commit there's a little X symbol and that little X symbol next to the commit just tells me that the most recent time I tried to commit something went wrong they ran the workflow in there was an error and so I'll immediately see for this commit and I can go back and look at the history of commits and see which ones were okay and which ones had a tendency to cause some sort of problem so this one it appears caused a problem and we know why it caused a problem because of this condition something or something else so I can fix it I'll change the or to an end I'll go ahead and get add dot get commit say I will fix a valid flight check if I do get status just to check out like what's going on right now I'm ahead of the master Branch by one commit that's exactly what I would expect and now I'll go ahead and push my code to GitHub by running git push saying all right let's push this update and now hopefully we're going to pass the workflow now now I go back to the repository I refresh the page here's my latest commit fix valid flight check you'll notice here there's an orange dot instead of the Red X as before this dot just means the tests are currently pending the workflow is in progress because it takes some time for GitHub to be able to start up the VM to be able to initialize the job to check out my code to run all those tests so it does take some time but if I go back to the actions tab I'll see that all right this time for testing we get a green check mark everything seems to be okay I go to test project just to see it and now I notice the green check mark next to run Django unit tests means that the unit tests have passed as well if I open those up now I see at the bottom the same output that I saw before when I was running those unit tests on my own machine we ran 10 tests and everything was okay and that tells me that these tests have passed so GitHub actions have the ability to allow for certain jobs to happen certain work to happen anytime you push code anytime you submit a pull request or on various different actions that might happen on a GitHub repository and they're very helpful for being able to implement this idea of continuous integration because it means you can make sure that when you're merging code from some developers Branch into the main branch that everyone's merging their code into you can verify that those tests can pass and you can add rules to say that you don't want to allow anyone to merge code into the branch if the tests don't pass to guarantee that any code that does get merged is going to pass all of those tests as well and so that can definitely help the development cycle make it easier to ensure the changes can be made quickly but as we make those changes quickly we're not going to lose accuracy and validity within our code that we can make sure that our code still passes those tests by automating the process of running those tests altogether so other than continuous integration then we now talk about this idea of continuous delivery these short application Cycles where we would like to very quickly be able to deploy our application onto some sort of web server and when we're deploying applications to a web server there are things that we need to think about we need to think about getting our program that was running fine on our computer working on a web server as well and this can just be fraught with headaches and all sorts of configuration problems because you might imagine that the computer that you are using is not necessarily going to be the same as the computer that on the cloud the computer and the server where your web application is actually running it might be running a different operating system it might have a different version of python installed if you have certain packages working on your own computer those same packages might not be installed on the server so we've run into all sorts of various different configuration problems where you can be developing deploy your code and realize that it doesn't work on the server because of some sort of difference between what's happening on your computer and what's happening on the server and this becomes even more problematic if you're working on a larger team you and multiple other people working on a software project but you each have different versions of various different packages or libraries installed and those different versions have different features and might not all work and cooperate with one another and so we need some way in order to be able to deploy applications efficiently and effectively to be able to standardize on just you know one version of the environment one version of all these packages to make sure that every developer is working on the project in the same environment and once we deploy the application it's going to be working in the same environment as well and the solution to this comes in a number of possible options but one option is to take advantage of a tool like Docker which is some sort of containerization software and by containerization software what we're talking about is the idea that when we're running an application instead of just running it on your computer we're going to run it inside of a container on your computer and each container is going to contain its own configuration it's going to have certain package is installed it's going to have certain versions of certain pieces of software it's going to be configured in exactly the same way and by leveraging a tool like Docker you can make sure that so long as you provide the right instructions for how to start up and set up these containers then if you are working on the application and someone you're working with some colleague is also working on the same project so long as you're using the same instructions for how to set up a Docker container you're going to be working in the identical environments that if a package is installed on your computer in your container it's going to be installed in your colleagues container as well and the advantage of this too works with this idea of continuous delivery when you want to deliver and deploy your application to the internet you can run your application inside of that exact same container set up using the exact same set of instructions so that you don't have to worry about the nightmare headaches of trying to make sure that all the right packages and all the right versions are in fact installed on the server Docker might remind you of the idea of a virtual machine or a VM if you're familiar with that concept GitHub uses VMS for instance when running into GitHub actions they are in fact different a VM is effectively running an entire virtual computer with its own virtual operating system and libraries and application running on top of that all inside of your own computer so a virtual machine ends up taking up a lot of memory taking up a lot of Space Docker containers meanwhile are a bit lighter weight they don't have their own operating system they're all running still on top of the host operating system but there's this Docker layer in between that keeps track of all these various different containers and keeps track of for each container such that every container can have its own separate set of libraries a percent of binaries and an application running on top of that so the advantage then of containerization is that these containers are lighter weight than having an entire virtual machine but they can still keep their own environment consistent such that you can feel confident that if the application is working in a Docker container you can have that Docker container running on your computer on someone else's computer on the server to guarantee that the application is going to work the way that you would actually expect it to and so how exactly do we configure these various different Docker containers well in order to do so we're going to write what's called a Docker file so to do this I'll go ahead and go into Airline one and I'll open up this Docker file and the docker file describes the instructions for creating a Docker image where the docker image represents all of the libraries and other installed items we might want to have inside of the container inside and then based on that image we're able to create a whole bunch of different containers that are all based on that same image where each container has its own files and can run the web application inside of it so this Docker file for example describes how I might create a container that is going to run my Django web application so first essay from python colon 3 this happens to be another Docker image on which I'm going to base these instructions that this is going to be a Docker image that already contains instructions for installing python3 installing other related packages that might be helpful oftentimes when you're writing a Docker file you'll base it on some existing Docker file that already exists so here I'm saying go ahead and use python3 and now what do I want to do in order to set up this container well I want to copy anything in dot in my current directory into the container and I have to decide where in the container am I going to store it well there I could choose to store it anywhere but I'll just store it in slash user Source app just some you are some particular path that will take me to a directory where I am going to store the application but you could choose something else entirely so I copy all of the current files in my current directory so that'll include things like my requirements file my manage.pi file my applications files all my settings files everything inside of the directory I would like to copy into the container then I'm saying workder meaning change my working directory effectively the same thing as something like CD on your terminal to move into some directory I would like to set my working directory equal to that same application directory the application directory inside of the container that now contains all of the files for my application because I copied all of those files into the container now once I'm inside of this directory I need to install all of my requirements so assuming I've put all my requirements like Django and any other packages that I needed inside of a file called requirements.txt I can just run the command pip install requirements.txt and then finally inside the docker file I specify a command and this is the command that should run when I start up the container everything else is going to happen initially when we're just setting up this Docker image but when I start up the container and actually want to run my web application here is the command that should run and I provide it effectively as like a python list where each word in the command is separated by a comma where here I'm saying the command that I would like to run when you start up this container is python manage.pi run server and here I'm just specifying on what address and what port I would like it to run and running it on Port 8000 for example but I could choose another Port that I would like to run instead so what's going to happen then is that when I start up this Docker container it's going to if it needs to go through these instructions and make sure that it sets up the container according to these instructions make sure that we've installed all the necessary requirements make sure that we're using python3 and anyone using the same Docker file can generate a container that has all the same configuration on it so we don't have to worry about configuration differences between me and someone else who might not have the exact same computer setup that I do and the nice thing about this is that it can run on Mac and windows and Linux so even people running on different operating systems can still have containers that all have the same configuration that all work in the same way just to speed up that process now so far when we've been building Django applications we've been using a sqlite database sqlite database just being a file that is stored inside of our application and this file based database allows us to create tables insert rows into it delete rows from it in most production environments and most real web applications that are working with many many users sqlite is not actually the database that is used it doesn't scale nearly as well when there are many users all trying to access it concurrently oftentimes in those sorts of situations you want your database hosted Elsewhere on some separate server to be able to handle its own incoming requests and connections and we talked about a couple of possible databases we could use instead of sqlite things like my secret MySQL things like postgres or various different SQL based databases so imagine now I want to deploy my application but instead of using SQL Lite I would like to use postgres for example as the database server that I would like to run well that would seem to be pretty complicated for me to test on my own because now in addition to running my web application in one server effectively I also need like another server that's running postgres for example such that I can communicate with that postgres database instead and that's going to be even harder for like other people to be able to work on as well potentially it might be difficult to get the server to work in that way too but the nice thing about Docker is that I can run each of these processes in a different container effectively I can have one container that's running my web application using this Docker file right here and I can have another container that's just going to run postgres and as long as other people also have access to that same container for running postgres they can be working in an identical environment to the one that I am working in as well and so there's also a feature of Docker known as Docker compose and what Docker compose lets us do is allow us to compose multiple different Services together that I would like to run my web application in one container and I would like to run a postgres database in another container but I would like for those containers to be able to talk to each other to be able to work together whenever I start up the application so if I'd like to do that in order to run this application on my computer and have both the web application and postgres installed I can create a Docker compose file which looks like this here I'm specifying using version 3 of Docker compose here I specify again using a yaml file much as in my GitHub workflows we're formatted in yaml just as a configuration file Docker compose.yml is a yaml file that describes all of the various different services that I want to be part of my application where each service is going to be its own container that could be based on a different Docker image here I'm saying that I have two Services one called DB for database one called web for my web application the database is going to be based on the postgres docker image image the postgres wrote that I don't have to worry about someone else has written the docker file for how to start up a postgres container here though for the web application that's going to be built based on the docker file in my current directory the docker file that I have written and then down below I've just specified that my current directory should correspond to the app directory and then I've specified when I'm running this on my own computer I would like Port 8000 on the container to correspond to Port 8000 on my own computer just so that I can access port 8000 in my browser and access port 8000 inside the container it just lets my computer actually talk to The Container so I can open up the web application in my web browser for example and actually see the results of all of this so here then I've created two Services a database and web so now let's actually try starting up these containers I'm going to first go into my Airline One Directory and I'm going to say Docker compose up to mean go ahead and start up these Services I'll press return and what you'll see is we're going ahead and starting up two Services I'm starting up the database service and I'm starting up the web service and now as a result of all of this I've started up the application and I started it on Port 8000 so if I go to 0.0.0.0 8000 or colon 8000 slash flights that's going to take me to the flights page and now this is running not just on my own computer but inside of a Docker container now of course right now there are no flights inside of this page because I haven't actually added anything to the database yet so I could do that if I wanted to but how do I do that well I needed to like go into slash admin to say like let me log in and go ahead and create some sample flights but I don't have a login yet because I need to like create a super user account and I can't just like inside of my Airline One Directory say python manage.pi create super user the way that I used to because this is running in my terminal on my computer whereas what I really want to do is go into the docker container and run this command there inside of the container so how can I do that well there are various different Docker commands that I can use Docker PS will show me all of the docker containers that are currently running so go ahead and Shrink this down a little bit I see two rows one for each container one for my postgres container that's running the database one for just my web application that's running as well each one has a container ID so I want to go into my web application container in order to run some commands inside of that container so I'm going to copy its container ID and say Docker exec meaning go ahead and execute a command on the container Dash it will make this interactive here is the container ID that I would like to execute a command on and the command I want to execute is dash pass in the dash L flag but bash to say I want to run a bash prompt I want to be able to interact with a shell so that I can run commands inside of this container so I press return and now what you'll notice is that I am inside of my container in the user Source app directory that directory that contained all the information about this web application I type LS and what I'll see is here all the files inside of this container now and now I can say something like python manage.pi create super user and now it's going to let me create a super user so I'll create a user inside of my web application called Brian I'll give it my email address I'll type in a password and now we've created a super user and you can run other commands here if you wanted to migrate all of your migrations I could say python manage.pi migrate it turns out I've already done that so I didn't actually have to do it again but you can run any commands that you could run on your computer but now you can run them inside of the docker container instead I'm going to press Ctrl D just to log out get out of the container and get back to my computer but now I've created a super user so I could go ahead and sign in to Django's admin and now I can begin to manipulate this database which is a postgres database running in a separate container but the nice thing about it is that I can start them both up together just by running something like Docker compose up for example so Docker can be quite a powerful tool for allowing us to very quickly ensure that an application is running in the environment that we expect it to be running to make sure that all the right libraries are installed make sure that all the right packages are installed as well that the configuration between my development environment and the environment that's running on the server are the same as well so those then were just some of the best practices for how you can go about developing a program now that we have the tools to do so we have a lot of tools for being able to develop these web applications but as our programs start to get more complex it'll be increasingly important to test them make sure that each various different component of our web application behaves the way that it is expected to behave and then taking advantage especially in bigger teams of CI CD continuous integration continuous delivery to make incremental changes and make sure each of those incremental changes in fact works on the web application and then cud continuous delivery to say that rather than wait and then deploy everything all at once let's deploy things incrementally as well let users more quickly get access to the latest features and more quickly find out if something went wrong we can better identify what it is that went wrong if we've deployed things incrementally rather than waiting a long time in order to do so as well so these are some of the best practices in modern software application development not only for web applications but for software more generally next time we'll consider other challenges that might arise as we go about trying to make web applications that are used by more and more users in particular taking a look at challenges that will arise in terms of scalability as our programs get bigger and also security of what security vulnerabilities open themselves up as we begin to design our web applications using Python and JavaScript so more on that next time and we'll see you then thank you all right welcome back everyone to web programming with python and JavaScript and for our final topic we're going to explore scalability and security so so far in the class we've been building web applications and we've been building web applications that work on our own computer but if we want to take those web applications and deploy them to the world so people all across the internet can begin to use them then we're going to need to host our web application on some sort of web server some dedicated piece of Hardware that is listening for web requests and responding to them with the response that we would like for our web application to deliver and when we do so this introduces a whole bunch of interesting issues surrounding scalability and security so we'll take a look at these issues today beginning with problems concerning scalability what those problems are and how we might go about addressing them so when we deploy our web applications we deploy them by putting them onto a web server that I'm here just representing with this rectangle but all the server is is some dedicated computer some piece of Hardware that is listening for incoming requests so we'll draw this line to represent an incoming web request from a user the server takes that request and responds to it but ultimately our web application isn't just going to be servicing one user if it becomes popular it might have many users that are all trying to connect to that server at the same time and as multiple people start to connect to that server at the same time here's where we start to deal with issues of scalability a single computer a single server can only service so many users at any given time and so therefore we need to think in advance about how we're going to deal with those issues of scale but the first question before we even get there is where these servers actually exist and nowadays there are two main options for where these servers can exist these server series can be on the cloud or they can be on premise an onpremise servers you might imagine and as if a company is running their own web application onpremise servers or servers that are inside of the company's walls the company owns the physical servers maybe on some server racks inside of a room and therefore they have very direct control over all of the servers exactly what kind of servers they are exactly what software is running on them they can go and physically look at the servers and debug them if need be in order to make sure that any issues are dealt with but increasingly we're starting to move into a world where cloud computing is becoming increasingly popular we're in cloud computing rather than have dedicated servers that are on premise we have servers that are somewhere in the cloud where cloud computing companies like Amazon or Google or Microsoft are able to run their own servers and we simply use those servers that are provided by those third parties whether it's Amazon or Google or Microsoft or someone else and there are tradeoffs here with cloud computing we no longer have as direct control over the machines themselves because they're not on premise we can't physically manipulate those computers but we have the advantage of not having to worry about dealing with physical objects that are inside of the premise of the company whose servers we'd like to run code for that when it's on the cloud everything is managed externally by some other company and we can simply use the servers that we need to and we'll see that This lends itself to other benefits as well as we might need more servers as we start to get more sophisticated web applications that need more users these cloud computing companies can allow us to create web app locations that are able to scale across multiple different servers as we start to get more and more users but we'll discuss those issues of scale as we get to them the question we need to ask after we have these servers whether they're servers that are on premise or servers that are operating somewhere in the cloud is how many can those users can the server actually service at any given time and that's going to vary it's going to vary based on the size of the server the computing power of the server and it's going to be dependent upon how diff how long it takes to process any particular user's request if user requests are quite expensive it might mean that there are fewer users that can be serviced at any given time and it's for that reason that a helpful tool is to do some kind of benchmarking some process of trying to do some analysis on how many users a server can actually be handling at any particular time and there are numerous different tools that allow us to do this kind of benchmarking Apache bench or otherwise known as a b is a popular tool for doing this kind of thing but benchmarking is going to be useful so that we know how many users one particular server can handle maybe it can handle 50 users maybe it can handle 100 users maybe it can handle more at any given time but ultimately it's going to be some finite limit every computer just has some finite amount of resources and servers are no exception there's going to be some number of users after which the server is not going to be able to handle it so what do we do in that situation what do we do if our server can only handle 100 users at any given time but 101 users are trying to use our web application at the same time something needs to change we need to deal with some sort of scaling to make sure that our web application can scale and there are a couple of different types of scaling that we can try one approach is to do what's called vertical scaling which might be the simplest way you could imagine scaling if this server is not good enough for handling the number of users that we needed to handle we'll then just get a bigger server in vertical scaling we just take the server and get a bigger server a more powerful server a server that can handle more users at any given time it's going to cost more but if we need it to handle more users we can just get a bigger server to be able to deal with that problem this approach is fairly simple it just involves swapping out one server for another one that can handle more users concurrently but it also has drawbacks right there's some limit to how big the server can be to how many users any physical one server is going to be able to handle because there's a physical limitation on what is the biggest fastest most powerful server we could possibly get so when vertical scaling ends up not being enough an alternative as you might imagine is what's known as horizontal scaling and the idea behind horizontal scaling is that when one server isn't enough to be able to service all of the users that might be trying to use a web application at the same time well then we can take the approach of saying well rather than just using one server let's go ahead and split it up into two different servers we now have two servers that are both running the web application and now effectively we've been able to double the number of users that this web application can handle rather than just a single server that can serve as 100 users if we have two of them now we can Service 200 users at any given time if you imagine 100 of them using server a over here and 100 of them using server B over there but this then lends itself to some other questions that we have to answer which is how do these servers get their users in the first place like when a user requests a web page how does that user get directed either to server a or to server B it seems that they need some way to make that decision in order to decide whether to go One Direction or another and it's for that reason that we might introduce another piece of Hardware into this picture and that additional piece of Hardware is what we might call a load balancer and a load balancer is just another piece of Hardware that is going to sit in front of these servers so to speak in other words when a user makes a request to a web page rather than immediately getting that request to one of these web servers the request is first going to go through this load balancer where the request first comes into the load balancer and the load balancer then decides whether to send that request to server a or to send that request to server B and this process is likely less expensive than actually dealing with and processing that request so the load balancer is effectively just acting as a dispatcher it waits for those requests to come in and when the requests do come in the load balancer directs those requests either to go to one server or to another and you might imagine a story where we have more than just two servers maybe we have many servers and the load balancer is just going to balance between all of those different servers and this process of deciding which server to send a request to is known as load balancing which is what the load balancer is ultimately doing and there are various different methods that you might use in order to perform this load balancing so you might imagine thinking about this intuitively how would the load balancer decide given some request should we send the request to this router to this server or should we send the request to some other server instead and there are many different approaches that our load balancer might take and here are just a couple random Choice might be the simplest of options given a user that shows up and tries to make a request to our web server the load balancer first takes a look at the user and just randomly assigns them to one of the various different servers that might be processing that request if there are 10 different servers it randomly chooses among those 10 servers to decide which of them is going to be servicing that request this has the advantage of being very simple it's just a quick calculation the computers can pretty readily Generate random numbers and based on that random number the computer can dispatch the user to one server or to another server but it might not be the best option because if we happen to get unlucky we might end up with many more users on one server than another or in such we might end up with servers that are entirely unused if it just so happens that we don't end up randomly selecting that server now in practice with many users that are all using this load balance they're all being dispatched odds are high that eventually all of them will be used but it might not be a totally even distribution and so for that reason another approach you might take is a roundrobin approach where the approach is instead for the very first user go ahead and assign that user to server number one for the next user assign them to server number two and maybe if there are five servers you say the third user goes to server three user four goes to server four user 5 goes to server five and then user six goes back to server number one you basically rotate going one through five and then once you've assigned someone to each of the servers you go back to the beginning this is also a relatively easy thing to implement because you can simply just keep count somewhere in the load balancer saying what was the most recent server that I assigned a user to and the next time a request comes in go ahead and assign it to the next server and the next server after that effectively is doing a round robin style approach where you go through all the servers once before going through the servers again now this might seem better than random choice in the sense that it's going to more equitably decide whether to assign any particular uh request to any particular server but it also suffers from certain problems that round robin might be great but if some requests take longer than other requests we might also get unlucky and the requests that are taking longer might end up all going to one of the servers as opposed to another server so there are other approaches that we might want to go to as well for example something like fewest connections where the approach there is to say go ahead and when a user makes a request the load balancer should pick which of the servers currently has the fewest connections the fewest active connections from other users and other requests that are currently connected to those servers instead and by choosing the server that happens to have the fewest connections you're probably going to do a better job of trying to balance out between all the various different requests that might be happening inside of your web application and while this might do a better job there are tradeoffs here as well that it might be more expensive for example to compute which of the servers happens to have the fewest number of connections whereas it's much easier just to say choose a server at random or to do the round robin style approach of just one two three four five one two three four five again and again and again but all of these approaches naively have yet another problem which has to do with sessions and you recall that sessions we used whenever we wanted to store information about the user's current interaction with the web application when you log into a website like you log into your email or you log into Amazon for example and then you come back to that website or visit another page on that website making another request for example it's not the case that you have to sign in yet again that the web browser has totally forgotten who you are when I go back to my mail account or when I go back to Amazon for a second time my mail account or Amazon remembers me from the last time that I visited I have some sort of session where it's keeping track of who is logged in maybe information about what I've been doing on the page and allows me to continue interacting with the web application even if I'm making multiple requests and this you might imagine could be a problem for this type of load balancing but if I have multiple different servers imagine if I try to log into a website and the first time I make a request I'm directed to server number one and I'm now logged in on server number one but then I make another request I'm directed back to the load balancer and maybe the load balancer this time decides to send me to server number two but if the session is stored in server number one somewhere server number one remembers who I am and what I'm doing then server number two is not going to know who I am and therefore it's not going to remember that I've already logged into this web application and as a result I might be prompted to log in again and if I would go make another request and I end up on yet another server I might be logged out again and have to log in for a third time so the problem comes about when our load balancing happens but we're not doing so in a session aware way that our load balancer isn't caring about when a user visits the page and then visits another page on the same web application again because we want to remember information from the previous time that the user was here so how can we solve this problem how can we make sure that when we do this load balancing across multiple different servers that we do so in a session aware way well there are multiple different approaches to session aware load balancing one approach is this general idea known as sticky sessions where the idea is that when I come back to the load balancer the load balancer will remember what server I was sent to last time and send me there yet again so for example if I log into a website once and I'm directed to server number two for example then the next time I visit this web application even if I should be directed to server 3 or 4 according to random choice or according to fewest connections or any of these other load balancing methods the load balancer should remember that last time I came to this site I got directed to server number two and so this time the load balancer is going to direct me to server number two yet again that way server number two which contains information about my session is going to see me again and remember who it is that I am and it's not going to make me log in again into the exact same website for a second time for example and so sticky sessions are one way of dealing with this problem but again with all of these approaches and this will be a recurring theme as we talk about scalability and security there are tradeoffs here that are tradeoff to the sticky sessions is that it's possible that one of these servers is going to end up getting far more load than another if one server happens to have a lot of users that keep coming back to the website and keep requesting additional pages but other Pages other servers might have had users that decided not to come back for example and so there's a difference in utilization where some of our servers might be more heavily utilized than other servers and we're not doing a very good job of balancing between them and so one approach is to store sessions inside of the database rather than store information about sessions inside of the server themselves so that if I get directed to another server that other Server doesn't remember who I am doesn't remember information about my interaction with this website if we instead choose to store sessions inside of a database and in particular inside of a database that all of the servers have the ability to access well then it doesn't matter which of the servers I get directed to and which server the load balancer decides to send me to because regardless of which server I end up getting sent to the session information is in the database and each of the servers can connect to the database to find out who I am to find out whether I've logged into the site already and therefore is able to recognize me and so that might be one approach as well another approach to store sessions on the client side we've talked a little bit about this idea of cookies which can be stored where the web browser can set a cookie so that your web browser is able to present that cookie the next time it makes a request to the same web application and inside this cookie you can store a whole bunch of information including information about the session you might inside of a cookie store information about what user is currently logged in for example or other session related information but here too there are drawbacks if you're not careful someone could manipulate that cookie and maybe pretend to be something else and so for that reason you might want to do some encryption or some kind of signing to make sure that you can't fake a cookie and pretend to be someone that you're not but another concern is that as you start to store more and more information inside of these cookies these cookies keep get sitting back and forth between the server and the client every time a request is made that can start to get expensive too more and more information passing back and forth between the client and between the server so lots of possible approaches no one approach that is necessarily the right approach or the best approach to use in any cases but things to be aware of things to think about as we begin to deal with these issues of scale of making sure we have multiple servers that are available for usage in case we do need it but also making sure that when we do so we don't break the user experience we don't result in a situation where a user is logged in but then suddenly isn't logged in at all and so horizontal scaling gives us this kind of capacity the ability to have multiple different servers all of which can be dealing with user requests and responding to those user requests as well but a reasonable question asked is how many of those servers do we need now we can use benchmarking to try to estimate this if we have an estimate of how many users are going to be on our website at any given time we can Benchmark and see how many users there can be handled by a single server and extrapolate based on that information to infer how many servers we might need in our web application to be able to service all of these different users but it might be the case that our web application doesn't always have the same number of users maybe sometimes they're going to be far more users than another time you might imagine for example that in a news organization's website like the web application for a newspaper when there's breaking news some big story there's going to be a lot more people that are all trying to access the website at the same time than at other times so one approach might be like consider the maximum what is the most number of users that ever might be trying to use our web application at any given time and choose a number of servers based on that maximum so that no matter how high the number of users get we will have enough servers to be able to service all of those users but that's probably not a great economical choice if in the vast majority of cases there will be far fewer users in that case you're going to have a lot of servers that are underutilized where you don't need that many servers but you're still paying for the electricity for keeping all of them running which might not be an ideal choice either so one solution to this quite popular especially in this world of cloud computing is the idea of Auto scaling where you can have an auto scaler to say that you know what let's start with for example two servers but if there's enough traffic to the website if enough people are making requests to the website maybe it's a peak time where people are using the website go ahead and scale up go ahead and add a third server where now our load balancer can balance between all three of those servers and if even more traffic ends up coming to the website more users are trying to use this application all at the same time well then we can go ahead and add a fourth server as well and we can continue to do that most Auto scalers will let you configure for example a minimum number of servers and a maximum number of servers and dependent on how many users happen to be using your web application at any given time the auto scaler can scale up or scale down adding new servers with more users come to the website removing servers as fewer users are using the website as well and so this can be a nice solution to this problem of scale where you don't have to worry about how many servers there are it just Auto scales entirely on its own now there are tradeoffs here too that this Auto scaling process might take time and if a lot of users all come into your website all at the exact same time well it's going to take some time to be able to add all these additional servers to start them up and so there might be some tradeoffs there too where you might not be able to service all of those users immediately and another problem we're thinking about is as you add more and more of these servers you introduce opportunities for failure now it's better than having a single server where if that single server fails now suddenly the entire web application doesn't work at all that's what we generally call a single point of failure a single place where if it fails the entire system is going to be broken one advantage of having multiple servers is that we no longer have a single server that acts as a point of failure if one of the servers goes down then ideally our load balancer should be able to know based on that information to no longer send a requests to that particular server to instead balance the load across the remaining three servers instead now there's an interesting question there as well which is how does the load balancer know that this server is no longer responding for some reason and have some sort of error that it's not able to process requests appropriately well there are multiple ways you can do this but one of the most common is what's simply known as a heartbeat where effectively every so often every sum number of seconds the load balancer pings all the servers just sends a quick request to all the servers and all of the servers are supposed to respond back and using that information the load balancer knows a little bit about the latency of each of the servers how long it took for the server to respond to the request but also it can get information about whether or not the server is functioning properly that if one of the servers doesn't respond to the Ping well then the load balancer knows that there's probably something wrong with the server that we probably shouldn't be directing more users to that server at all and so this can solve for the problem of a single point of failure by allowing ourselves multiple servers where if any one of the servers fails the load balancer learns about that via heartbeat and then based on that information can begin to redirect traffic to the other servers instead now one thing you might notice is that even in this picture now the load balancer appears to be like a single point of failure where if the load balancer happens to fail well now nothing is going to work because the load balancer is the one responsible for directing traffic to all of these various different servers and so even there there's no single server that has a point of failure this load balancer also appears to be a single point of failure and that's definitely true and you might imagine instead having multiple load balancers where if one load balancer goes down another load balancer can swoop in acting as a hot spare where it picks up all the traffic that was originally going to the first load balancer and if it ever goes down a second one is ready to take its place and it might also be doing this kind of heartbeat process checking up on the first load balancer and if all is well the second load balancer doesn't have to do anything but if the first load balancer ever were to fail well then the second load balancer can step in and begin servicing those requests directing them to all of these individual servers as well and so there too another opportunity to think about where the single points of failure are and thinking about how we might address those single points of failure in order to make sure that our web applications are scalable so that then deals with issues about how we might go about scaling up these servers But ultimately the servers are not the entirety of the story that inside of our applications we've mostly been writing web applications that interact and deal with data in some way and there are multiple different databases that we've talked about SQL Lite has been the default one that Django provides to us which just stores data inside of a file but as we begin to grow our applications we want to begin to scale them it's quite popular and quite common to put databases entirely somewhere separate to have a separate database server running somewhere else where the servers are all communicating with that database whether it's running MySQL or postgres or some other database system instead and all of the servers then have access to that database and so there too are are considerations that we need to take into account issues of how it is that we go about scaling up these databases that in this picture for example you might imagine a load balancer that is communicating with two servers but both of those servers for example need to be communicating with this database and much like any server can only handle some number of requests some number of users at any given time databases 2 can only handle some number of requests some concurrent number of connections at any given time and so we need to begin to think about issues of how it is and that we scale these databases as well in order to be able to handle more and more users now one approach the first thing we might try to do is something called database partitioning effectively splitting up what is a big data set into multiple different parts to that data set and we've already seen some examples of database partitioning we've seen one example where for example when we talked about SQL we looked at a table of flights where each flight Had An Origin City the origin cities airport code the destination city the destination cities airport code and some number of minutes the duration for that particular flight and we decided that storing all of this data in a single table probably wasn't the best idea and instead we wanted to split that data up in a type of partitioning where instead we said all right let's just have one table that will have all of the airports and so each airport gets its own row inside of this Airport's table and we also had another table which was just the flights table which rather than storing all of those columns just mapped to airports to each other that with any given flight it has an origin ID meaning Which object which Row in the origin of airports table is represented by the flight and then which Row in the airports table is going to represent the destination for that flight so we took one table and effectively split it up into multiple tables Each of which ultimately had fewer columns and this might be something we call the vertical partitioning of a database where instead of just having single big long tables we split them up into multiple tables Each of which have fewer columns that are able to represent data in a more relational way and that's something we've seen before too but in addition to Vertical partitioning we can also do horizontal partitioning where the idea there is that we take a table and just split it up into multiple tables that are all storing effectively the same data but split up into different data sets so the same type of data but just in different tables where we might have originally had a flights table and instead we split it up into a domestic flights table and an international flights table each of these tables still has the exact same columns they still have a destination column they still have an origin column they still have a duration column for example but we've just now taken the data that used to be in one table and split up that data into two or more multiple different tables instead one for all the domestic flights one for all the international flights and the advantage there is that we no longer need to search through the entirety of the data set if we're just looking for one domestic flight for example if you know the flight you're looking for is a domestic flight well then it can be more efficient to just search the flight's domestic table and not bother searching through the flight's International table and so for intelligent about how we choose to take a table and split it up into multiple different tables the effect of that is that we can often improve the efficiency of our searches the efficiency of our operations because we're dealing with multiple smaller tables where these operations can come faster one drawback though is that as we begin to split data across multiple different tables it becomes more expensive if ever we need to join this data back together and connect all the domestic and international flights running separate queries on each and so in that case we'll want to think about trying to separate our data in such a way that generally we're only going to need to deal with one table or the other at any given time and so domestic and international might be a reasonable way to split up our flights table because maybe most of the time our airport just cares about searching domestic flights if we know we're looking for one kind of flight or just cares about searching for international flights if they're different people or different computers that are going to handle each of those different types of systems and so partitioning our database can sometimes help with issues of scale by making it faster to search through large amounts of data and being able to represent data a little bit more cleanly but it still seems to represent a single point of failure that we have multiple servers now that are all connected to the same database and there again is a single point of failure if the database fails for some reason well now suddenly none of our web application is going to work because all of those servers are all connected to that exact same database and so it's for that reason that we might just as we tried to add more servers in order to solve the problem of a single point of failure with our servers we might also try database replication that rather than just have a single database in our web application in order to guard against potential failure we might replicate our database have multiple different databases and therefore reduce the likelihood that our application entirely fails and there are a couple of approaches that we can use for database replication two of the most common are what are known as single primary replication and multiprimary replication and in single primary database replication we have multiple different databases but one of those databases is considered to be the primary database and what we mean by a primary database is a database to which we can both read data meaning like select rows from the table but also write data meaning insert rows or update rows or delete rows to any of those tables so in single primary replication we have a single database where we can both read and write and we have some number of other databases in this case two other databases from which we can only read data so we can get data from those databases but we can't update or insert or delete from those databases and now we need some mechanism to make sure that all of these databases are kept in sync and ultimately what that means is that anytime the database changes all of the databases are informed now the only database that can change is our primary one this is the only one that can be written to the only one that allows for the data to change the others are readonly so anytime this primary database updates or changes in some way it needs to inform the other databases of that update and so it informs the other databases of that update and now all of the databases are kept in sync where if you try and run a query on any of these databases to select and get some information you'll get the same results from all of these various different databases now the single primary approach has some drawbacks it has the drawback of only one of these databases can be written to so if you have a lot of users that are all trying to write data to the database at the exact same time well there might be some issues here where this one database is going to be carrying all of that load for all of the people that might be trying to update and change that database and it also has a slightly smaller version of the same problem of a single point of failure there's no longer a single point of failure for reading from that data that if you want to read from the data and one of the databases goes out you can read data from any of the other databases and they'll work just fine but it does have the drawback that if this database fails if our primary database fails well then we're no longer able to write data that if we want to update data inside of our database this one database is no longer going to be operational and none of the other databases are going to allow us to write new changes so there are a couple of approaches we can use to try to solve this problem one approach though is instead of having a single primary database a single database to which we can read and write to use a multiprimary approach and in the multiprimary approach we have multiple databases all of which we can read and write to we can select rows from all the databases and we can insert and update and delete rows to all of these databases as well but now the synchronization process becomes a little bit trickier and here now is the tradeoff and now we've replicated the number of reads and writes we can do by having many databases to which we can read data and write data but anytime any of these databases changes every database needs to inform all of the other databases of those updates and that's certainly going to take some amount of time it introduces some complexity into our system as well and it also introduces the possibility for conflicts that you might imagine situations where if two people are editing similar data at the same time that you might run into a number of different types of conflicts so one type of conflict for example would be an update conflict if I try to edit one row in one database and someone else tries to edit the same Row in another database when they sync up with each other via this update process our database system needs some way to decide how it's going to resolve those various different updates another conflict might be a uniqueness conflict we've seen in the case of databases in SQL that when we're designing our tables I can specify that this particular field should be a unique field common one being the ID field for example where every single row is going to have its own unique ID well what happens if two people try to insert data at the same time into two different databases they're each given a unique ID but it's the same ID on both of the databases because neither database knows that the other databases added a new row yet so when they sync back up we might run into uniqueness conflict where two different databases have assigned the same exact ID to multiple different entries and so we need some way to be able to resolve those conflicts as well and there are many other conflicts that you might imagine trying to deal with one example being for instance delete conflicts where one person tries to delete a row and another person tries to update that row well which should take precedence should we update the row should we delete the row we need some way to be able to make those decisions because there is some latency between When A change is made to a database and when that database is able to communicate with another database so these issues have scale these issues of synchronization are always going to come up as we start to deal with programs that are interacting with more and more of this kind of data and as a result we need to design more and more sophisticated systems that are able to deal with those issues of scale now ultimately we'd ideally like to reduce the number of different of these database servers that we have that every additional database server is going to cost time it's going to cost resources to cost money in terms of keeping all of these servers running and so ideally we'd like not to have to talk to this database if we don't need to so you might imagine for example a news organization's website something like the front page of the New York Times if you go to the homepage of the New York Times website it displays all of the day's headlines with images and with information about what each of the stories are about for example and you might imagine that the way they're doing something like this is that they have some kind of database that's storing all of these news articles and when you visit the front page of the New York Times it's going to do some kind of database query selecting all of the recent top headlines for example and rendering all of that information in an HTML page that you can see and that would certainly work but if a lot of people are all requesting the front page at the same time well it probably doesn't make all that much sense if the web application every time is making a database query getting the latest articles and then displaying that information to all the users because the Articles might not be changing all that frequently if one person makes a request one second and another person makes the same request half a second later it probably is not going to be useful to rerequest all the information from the database regenerate that template yet again because it's an expensive process of requesting data from the database of generating that template we'd ideally like some way of dealing with that problem and the way we can deal with that problem is some form of caching and caching refers to a whole bunch of different types of of ideas and tools that we can use at various different places inside of our system but in general when we're talking about caching we're talking about storing a saved version of some information in a way that we can access it more quickly so that we don't need to continue making requests to a database for example and so there are a number of ways we can do caching one way we can do caching is on the client side via clientside caching where the idea is that your browser whether it's Safari or Chrome or something else is able to cache data store information so that the browser doesn't need to rerequest the same information the next time it visits the page for example if you request a page and it loads an image on the page for example and you reload the page well your web browser might try and make a request again for the exact same image and then display it to you but an alternative might be but your web browser could just save a copy of the image inside of a cache to locally store a version of the image so that the next time that the user makes a request to the website the user doesn't need to reload that entire image and that might be true of entire web pages and web resources that if there's some page that doesn't change very often then if the web browser just stores a cache a saved version of that page then the next time the user goes to their web browser tries to access that page rather than rerequest to the server and make a new request that the server needs to respond to if the browser has that page to cached the browser can just display the cached saved version of the page saving the need to talk to the server at all so this can certainly help to reduce the load on any given server that if users are caching information inside of the web browser it makes the experience faster for the user because they can see the information immediately rather than need to make a request and wait for a response to come back and it's good for the server because the server doesn't need to be dealing with as many requests if some of those requests are getting cached and so one approach to trying to do this is by adding this inside of the headers of an HTTP response that when your web server responds to some request the web server can include a line like this inside of the response something like cache control max age 86 400 in effect specifying the number of seconds that you should cache this resource for that if I try to access this page 10 seconds later well that's less than 86 400 so rather than reload and rerequest the entire page we're just going to use the version of the page that happens to be cached inside of the web browser and so this has several advantages that we've talked about in terms of reducing the amount of time it takes to see the content of a page because it's already saved and reducing the load on any particular server but it also has drawbacks that if for example the resource changes within this amount of time that maybe in 60 seconds the page has changed if I try and load the page again well then if it's loading the cached version of the page I might be seeing an outdated version of a web page I'm seeing an older version of the web page because my web browser just so happens to have that particular resource cached and this might be true of a web page it's especially true of other like static resources things like CSS files or JavaScript files that the CSS of a web page probably doesn't change all that often and so as a result it's pretty natural that your web browser rather than request the exact same CSS files again and again and again might just save a copy of that those CSS files cache them such that it's able to just reuse the cached version but if the website were to update their CSS you might not see the latest changes and you might have experienced this yourself if you're working on your own web applications when you change your CSS and refresh the page you might not always see those changes reflected if your web browser is caching those results and so in most web browsers you can do a hard refresh to say ignore whatever's in the cache and actually go out and make a new request and get some new data but ultimately if you don't do that you're subject to this cache control where the web browser is going to say unless this number of seconds has elapsed we're going to reuse the existing version of the page and so an alternative to this approach and this approach certainly works and is quite popular we can add to this approach by adding what's known as an etag and the etag for a resource like a CSS file or an image or a Javascript file is just some unique sequence of characters that identifies a particular version of a resource that identifies a particular version of a CSS file or a Javascript file for example and what this allows a program to do like a web browser is that when a web browser requests a resource like makes a request for a CSS file or a Javascript file they get it back and they get its Associated etag value so I know that this is the value that is associated with this version of the CSS file and if the web browser if the web server were ever to change that CSS file replace it with a new updated CSS file the corresponding etag will also change so why is this helpful well it means that if I am trying to decide should I load a new version of the resource or not should I try and make another request to get the latest version of the CSS what I can do first is just ask for what is the etag value this short sequence that can be answered very quickly that very quickly we can just respond and say you know what if the etag value is the same as what I remembered from last time well then I don't need to get a whole new version of that resource and so this is quite common too that a web browser will say hey let me request this resource but I already have a version of the resource with this particular etag so if that etag is still the retag for the most recent version of a particular resource like a CSS or JavaScript file then no need for the web server to send a new version of that file just go ahead and respond and say the version you have that one works totally fine but if there is a new version well then the web server can respond with the new asset the new CSS file for example but also the new etag value so these two approaches can work in concert with each other that you can say go ahead and cache this for some number of seconds so that for some number of seconds you're not going to ever request a new version of that resource but even if you do ask for a new version of the resource after this number of seconds has elapsed if the etag value hasn't updated then no need to redownload a whole new version of a particular file you can just reuse the version that happens to be cached already in the browser so caching in the browser can be an incredibly powerful tool for trying to speed up these requests for trying to reduce the load on any particular server but the client side is not the only place where we can begin to do this kind of caching we also have the ability to do server side caching and in serverside caching we're going to introduce to our picture the notion of a cache that we have these multiple servers that are all communicating with the database but these servers can also communicate with a cache someplace where we've stored information that we might want to reuse later rather than have to do all of that recalculation and Django in turns out has an entire cash framework a whole host of features that Django offers that allow us to leverage this ability to use the cache to be able to speed up requests so there are per view caches where you can specify a cache on a particular view to say that rather than run through all this python code every time someone makes a request to this particular view instead and just cache The View so that for the next 30 seconds or 30 minutes the next time someone tries to visit the same view go ahead and just reuse the results of the last time that that view was loaded and this can work not just for a single view it can work for fragments inside of a template that your template might have multiple different parts that on your web page you might render the navigation bar in the sidebar and the footer maybe based on information about today that might change the next day but if you expect that the sidebar of your page is not going to change very often within the same minute or within the same hour well then you might imagine caching that part of the template so the next time that Django tries to load that entire template it doesn't need to recalculate how to generate the sidebar for your website it just knows that we can use the save version of the sidebar from the last time that we loaded this website instead and Django also gives you access to a lower level cache API where for any information that you might want to cache and store for use later you can save that information inside of the API you make an expensive database query that takes a couple of milliseconds or a couple of seconds to process you can save those results inside of a cache to make it easier to access that same data if ever you tried to get access to that again so caching allows us to be able to deal with these issues of scale by reducing load on our servers but also on our databases that rather than need to talk to the database every single time we make a new request for a particular web application we can just reuse information that happens to be in the cache to allow our web applications to become even more scalable so that then was a look at some issues concerning scalability and we'll next turn our attention to security trying to make sure that as we build our web applications as we deploy our web applications and more users start to use them we want to make sure that they're secure and there are a whole bunch of security considerations to take into account across all of the topics that we've looked at in the course we've looked at a number of different topics and with each of them there are security vulnerabilities there are ideas to be mindful of when it comes towards making sure that our applications are secure and we can begin our story in fact by talking about git and Version Control git is all about trying to make sure we're able to keep track of different versions of our code and one thing that goes hand in hand with Git is this idea of Open Source software but on websites like GitHub and other services that host git repositories increasingly a lot of software is becoming open source where anyone can see and contribute to the source code of an application and this is great in the sense that it allows for many people to be able to collaborate work together in order to try to find bugs that might exist inside of a web application but it also comes with drawbacks drawbacks where if there is a bug in the application now someone who's looking through the source code of our program might be able to spot that bug or you might imagine now because git keeps track of different versions of our code every time we make a commit to our repository you have to be very careful when it comes towards credentials or things that might leak inside of the source code you generally never want to put passwords or any secure information inside of the git repository because the git repository could be shared with other people it might be open to anyone to look at and so there's a security considerations to be mindful there as well that if you make a commit and accidentally make a commit to your code where you expose those credentials you might remove those credentials and commit again to the latest version of your program doesn't have those credentials in it but someone who has access to the git repository has access not just to the latest version of your code but to every version of your code and that person could theoretically go back through the history of the repository and find the commit where the credentials were exposed and see those credentials as well so while git is a very powerful tool it's also one to be mindful of that any change you make could potentially get saved inside of a commit could potentially therefore be accessed later on and so if ever credentials are exposed inside of the repository you want to make sure to wipe out all of those previous commits and not just make some new commit in order to try and hide the previous credentials that can be exposed because they can still be retrieved if someone goes back through the history of any particular Repository and so that then was a look at some issues that might concern git we also talked at the beginning of the course about HTML and about what it is that we can use with HTML and how we can use this language in order to design the structure of a web page in order to decide where all of the paragraphs are going to be what tables are going to be on the page we talked about links and how we can use anchor tags to link one page to another page now one concern and is this type of attack known as a phishing attack with HTML and a phishing attack really just comes down to a little bit of HTML that looks like this very easy to write where I have an anchor tag that is going to direct the user to URL one but it looks like it directs the user to url2 so what made an example of this be all right so we'll take a look I'll go ahead and open up link.html and in link.html I have a website that I've written that appears to have a link to Google but if I click on that link I'm suddenly directed to this course's website for example so how did that happen why did that happen it seems like it's linking to Google well if you look at the code if I go ahead and open up link.html we'll see that here I have an anchor tag that actually links to the course website but appears to be linking the text that the user sees appears that it is linking instead to Google and so this is a very common attack Vector especially in emails for example that you might see an email that tells you to click on a particular link but that link takes you to somewhere else entirely instead and as a result someone might inadvertently share their bank account credentials or other sensitive information and so here too something to be mindful of if you interact with the web maybe not necessarily on your own website but in other websites that you might interact with just to be mindful about where links are actually taking you and most web browsers if you hover over a link will show you where that link might actually be directing you to because it might be different than what the text of that particular anchor tag might appear to link you to instead and so HTML has all these various different vulnerabilities where because you can just decide what you want the structure of the page to be it leaves open the possibility that someone might try to trick you into thinking that you're going to a page that you're not actually on and this problem is more widespread because anyone can look at the HTML for any page HTML comes back from the server and therefore the web browser has access to all of that HTML and can use that HTML in order to render a page for example and this leaves open other vulnerabilities too so for example let me go ahead and go to bankofamerica.com just Bank of America's website go to any other website instead if I wanted to create a fake version of Bank of America's website for example to trick people into thinking they're going to Bank of America's website when really they're going to my website well then what I can do is just go ahead and view the source of this page I'll go ahead and view page source and here is all of the HTML for Bank of America's website and nothing then stops me from copying all this content going into an HTML file and creating a new file then I'll just call like bank.html and I'll go ahead and paste in the contents of that HTML file so here then is all of Bank of America's HTML and now if I open up bank.html that HTML file that I have now written but really just copied from Bank of America I open it up and now here on my page is a web page that appears to look like Bank of America it's using all of Bank of America's HTML but instead it is my HTML page and not actually Bank of America and so you might imagine combining these to create an even more concerning attack Vector where instead of linking to google.com let me try and link to Bank of america.com but where I'm actually going to link to is bank.html my version of Bank of America's website where now if I open up link.html here appears to be a link that links me to bankofamerica.com if I click on that link I get to a page that looks like Bank of America's website but it's not Bank of America's website it's my bank.html file that I have written that Joseph happens to look like Bank of America's website because I copied all of that underlying HTML so HTML has the ability to describe the structure of our web page but anytime you're writing this HTML it's good to be mindful of the fact that anyone can copy your HTML could theoretically pretend to be you and these are security vulnerabilities that are worth bearing in mind as we start to develop web applications and interacting with web applications as well so ultimately we used HTML in the context of Designing web applications using Django a framework and how exactly then did these web Frameworks work in terms of creating these web servers that are listening for requests and that are responding to those requests well ultimately much of the internet is based around this idea of a client communicating with a server or more generally any one computer communicating with another computer using HTTP and in particular https a more secure version of the HTTP protocol and so you might imagine that what these Protocols are really about is how information gets from one person to another and what we're storing with that information that we have one computer trying to communicate with some other computer and in order to do so information is generally going to flow through these routers that you might imagine information going back and forth between one computer and another computer going through these intermediate routers along the way and as a result one thing to be cautious about is how do you know that this information that's getting passed back and forth is getting passed back and forth securely then ideally when I send a message to another computer I'm sending an email to someone else and sending a message or making a request to a website that might contain sensitive information like my bank account for example I don't want it so that any intercepting router that is taking my request and passing it along I don't want those routers to be able to look at that request and see the contents of my email or the contents of what password I happen to be sending across the web or not ideally I'd like for this information to be encrypted and so here we'll talk a little bit about cryptography this process of trying to make sure that I am able to communicate with some other person without some eavesdropper in the middle being able to intercept that message obviously if I just take a plain text version of the message I'm trying to send I just literally take the text of the message I'm trying to send and effectively pass it along across the internet well then anyone who's able to see that message is going to know what the text of that message is and so I want to do some kind of encryption some way of encrypting that message so that someone along the way won't be able to do that decryption if a router in the middle or someone in the middle is able to intercept that message and so the first approach we'll look at is what's known as secret key cryptography in secret key cryptography I have not just the plain text but some key some secret piece of information that can be used in order to encrypt or decrypt information and so I'll use both the key and the plain text to generate what's known as the ciphertext the encrypted version of the message I'm trying to send and then instead of instead of sending the plain text across the internet to the other person I might instead want to just send the cipher text across the internet to the other person so that I'm not sending the plain version of the message across the internet so the ciphertext goes across and the other person will also need the key and now if the other person has both the ciphertext and the key well then using that information the other person can use the key to decrypt the ciphertext and obtain the original plain text this key is what we might call a symmetric key encryption and decryption key you use the key in order to encrypt messages and you use the same key in order to do the decryption process and as long as both I and the person I'm communicating with both have access to that key well then we'll be able to encrypt messages and decrypt messages and someone who just has the ciphertext but not the key likely won't be able to figure out what that original message was but there's a problem here especially in the context of the internet and that is that both I and the other person need to have access to this key the key is what I use to do the encryption and the decryption and I can't just send the key across the internet to the other person because if I do that well then someone in the middle who's intercepting all of my requests could intercept both the ciphertext and the key and therefore they would be able to decrypt the message because they have both the ciphertext and the key now if I were able to go to another person in person and exchange the secret key in secret well then this scheme might work because we both have the key and I didn't share the key publicly with anyone who might intercept the message only I and the other person have the key but in general when communicating on the internet you're not communicating with servers you've necessarily communicated with before I might be trying to make a request to a new website and we somehow still need to agree on a system where I can encrypt messages but only the other person on the other side is able to decrypt those messages instead so this kind of cryptography probably not great for trying to initially try and create a secure connection on the internet and for that reason a major advancement in cryptography that allows for the internet to work is this notion of public key cryptography in secret key cryptography it's important the key is secret because if the key were known by everyone well then anyone would be able to decrypt messages in public key cryptography we're able to create a secure encryption system where the key is allowed to be public or one of the keys as we'll soon see and the idea here is that we're using two keys instead of just one that we have both a public key and what's known as a private key the private key your private key is something you should not share with other people to keep the encryption scheme secure but the public key is one that is okay to share with other people and the distinction between the two is that the public key will be used in order to encrypt information and the private key will be used to decrypt information that was encrypted by the public key and the public key and the private key are mathematically related and there are a couple of ways that we might imagine doing that but the idea now is that if I want to communicate with another person that person sends me their public key and it's okay for the public key to travel across the internet anyone is allowed to see the public key because the public key is only used for encrypting that data so I can then take the plain text and the public key and use that to generate the ciphertext the encrypted version of the message that I am trying to send across the internet and then I send the ciphertext to the other person with whom I'm trying to communicate and the other person now using the ciphertext then uses the private key the private key that they did not share and then private key that has the ability to decrypt information that was encrypted using the public key so using a combination of the ciphertext and the private key the person I'm communicating with can decrypt that information and get back whatever the original plain text of that information happened to be and so this then is how we can do a lot of this communication on the Internet by using this public private key pair we can say use the public key to do the encrypting use the private key to do the decrypting and now two computers that have never interacted with each other before without having the opportunity to meet to exchange some secret information can use a technique like this in order to securely communicate with each other to send a message back and forth without anyone in the middle being able to intercept the message and identify what the message is about and once you have this ability the ability to communicate with another secretly well then you could imagine agreeing on some secret key and then using secret key encryption to be able to encrypt and decrypt messages as well and so that's an approach that you can also take when trying to communicate with other people across the internet but this idea of encryption is what allows for https a secure version of the HTTP protocol to actually work to make sure that when you are communicating with your bank's website for example someone along the way won't be able to intercept that information and identify what it is that you're communicating about and instead only has the encrypted version of the information and a plan and a public key with which they can encrypt information but not a private key that can ultimately be used in order to decrypt information as well and so that then is how we might allow for this kind of secure communication on the internet and allow our web applications to be secure but in addition to our web applications just listening for requests and then providing some sort of response our web applications were also dealing with data we introduced the idea of SQL data tables where we had tables of data with rows and columns that are representing information and we've also created web applications in this course where we've had applications that have users users sign in with a username and a password for example and so how might we represent that information about users and their passwords well one way would be just a stored inside of a table like this here's a table of users every user has an ID they have a username and they have a password but this turns out to be an incredibly insecure way to store passwords to be storing passwords in what might be called plain text just to literally store the passwords inside of a database and we should never do this in practice because of the security vulnerabilities associated with it if ever someone were to unauthorize get access to this database they would be able to see all of the passwords for all of the users so if this database ever leaked for whatever reason suddenly all of these passwords are now known and this kind of thing does happen that if companies are not careful about how they represent usernames and passwords inside of their databases and however there's sort of some sort of database leak suddenly a whole bunch of passwords could potentially be compromised and it's for that reason that the recommended approach rather than store an actual password is to store a hashed version of the same password using a hash function or a hash function in this context is some function that takes a password of input and outputs some hash some sequence of characters and numbers in this case that represents that particular password a hashed version of the password but the important thing about this hash function is that it's a oneway hash function from the password you can get to the sequence of letters and numbers but it is very very difficult to go the other way around to use this information to figure out what the original password actually was and so what this means is that the companies won't actually know what any particular user's password is when a user tries to log in what we'll do is take their password that they're trying to log in with will hash it and compare that hash against the hash that we've stored in the database if the hashes match up that means the user probably typed in their password correctly and therefore we can sign the user in and otherwise that's a sign that the user did not type their password in correctly so this then is the reason why companies if they're obeying these best practices usually can't tell you what your password actually is if you forget your password if you forget your password the company will let you reset your password they can update the data inside of the table but the company won't be able to tell you what your password actually is because the company doesn't know your password the company only knows some hashed version of the password some result of passing that password through a hash function and as a result they're able to know whether you logged in successfully or not with the correct credentials without actually knowing what your password actually is and so this is another area where you might imagine that if you're not careful about how you're storing this data it could be a security vulnerability inside of your program wherever that data is leaked passwords suddenly become known and there are other more subtle ways that web applications could potentially leak information that you as the web developer need to decide if you're okay with or not imagine a website for example where you do have a place where you can say if you forgot your password you can be sent a place where you can reset your password for example you might imagine that if you type in your email address click reset password you might get a message like all right password reset email has been sent but you might imagine typing in an email address and getting something like error there is no user with that email address and here again is a potential security vulnerability in terms of leaked information this page that just seems to send you an email if you forgot your password is now leaking information about which users happen to have accounts on your website and which users do not because all someone needs to do is type in an email address and find out whether it results in an error or not in order to know whether a user happens to have an account on the website or not and maybe that's not a big deal if that's not something that you care about securing but if it's a website where you do care about making sure that if someone has an account or doesn't have an account that information is kept private and secure only to the user unless they want to share it well then this type of page this type of interface with the database could potentially be leaking that kind of information and information can be leaked in all sorts of different ways you can even leak information just based on the time it takes for the database to be able to respond to a particular request that you might imagine if you make a request about a user and it takes longer to respond that might tell you something about the number of database queries it needs to run or the amount of information that's stored about that user as opposed to if a request takes less time so even something like how many milliseconds it takes for a web server to respond to a request can reveal or leak information about the data that is stored inside of the database and there have been examples of researchers who actually tried and see what information they can get just from looking at these kinds of information that it doesn't seem like would leak information but might actually reveal information as well now another concern when dealing with SQL and databases we've talked about is the context of SQL injection this threat where if you're not careful about how it is that you run your SQL code you could inadvertently end up executing code that you don't mean to be executing situations like here when a username and password field we've seen this example before where if a user tries to log in you might imagine a query like this is run selecting from the users table where username equals whatever was typed in as the username and password equals whatever was typed in as the password and we saw how for a normal user someone who types in like Harry and one two three four five as they're username and password now this type of query works just fine but if a hacker tries to log into a website and maybe includes a double quotation mark and two hyphens for example where two hyphens mean a comment in SQL and we were to literally substitute these values into our SQL queries well then you might end up substituting hacker hyphen hyphen hyphen hyphen creating a comment that ignores the rest of this query effectively ignoring any kind of password checking that we might want our web application to be doing so this to another vulnerability that comes about whenever we're dealing when executing SQL code inside of a database and in order to deal with this we want to make sure that we're escaping any of these potentially dangerous characters that might show up inside of our SQL queries and Django's models do this for us so when we do these kinds of queries using Django saying like dot objects.filter to be able to filter out for only certain versions of a particular model it is going to take care of the process of making sure that it's not subject to these kinds of SQL injection attacks but if ever you're writing a web application that is directly executing SQL code which you might imagine doing you do want to be careful about making sure that you're not exposing the application to be vulnerable to these kinds of threats as well so that then are potential threats to come about when we're just talking about what's happening on the server but we also can think about what might happen when we're interacting with other servers when we're interacting with apis for example and so we talked about JavaScript and using JavaScript to be able to make additional requests to apis or to other services that are able to return back with certain types of information and with apis there are a number of techniques that we can use in apis to allow them to be more scalable to allow them to be more secure one is this notion of rate limiting where we might want to make sure that no user is able to make more than a certain number of requests to an API in any particular amount of time this is in response to a security threat that has to do with the scalability of a system which is known as a Dos or denial of service attack where effectively if you just make a whole bunch of requests to a single server over and over and over again you could potentially shut down that system because you're making so many requests that it's not able to handle that many requests all at the same time and for that reason because it's so easy to make an API request you can do so using just a single line of like python or JavaScript for example apis will often Institute some kind of rate limiting to limit the number of requests you can make so that you're not going to overwhelm the server or overwhelm the database that needs to be queried in order to respond to those requests into this kind of limiting might work as well apis might also want to add some kind of Route authentication you might not want everybody to access the same data via an API maybe there's some sort of permission model where only certain users are able to access certain pieces of data from the API so you might imagine that a user needs to have an API key for example some effectively like a password that they need to pass around anytime they're making an API request to your API and that allows you to then be able to look at that key and verify that they are who they say they are now with those API Keys comes other potential security vulnerabilities to be mindful of one is that just as you should never be putting like passwords inside of your source code inside of your git repository for example you likewise generally shouldn't be putting your API keys inside of your web applications as well inside of the source code of those web applications because then anyone who has access to the source code for the web application can see what your API key is could then use the API key to pretend to be you and therefore get access to potential API routes that they should not be able to access one common solution to this is to use what are known as environment variables where effectively you and your program say that your API key is not going to be some predetermined string that is in the text of your program but instead is going to be drawn from the environment in which the program is being run and then on the server when you're running the web application you'll first make sure the server has all of those environment variables set correctly so that rather than have the API key actually in the source code of the program the API key is simply in the environment on the server where the web application is running and the server can just draw that information from the environment so that it knows what the API key should be without the API key actually having to be inside of the web application source code itself and so as we begin to deal with apis you might notice that many apis will require you to have an API key and often it's for these sorts of reasons to make sure that we're able to authenticate users effectively and also to make sure that we're able to limit users to make sure that they're not making too many requests to the server or to the database at any particular time but this then starts to get us into other potential vulnerabilities in particular vulnerability is concerning JavaScript JavaScript again is a programming language that we use in order to write code that runs inside of our web browser a browser like Chrome or Safari or something like that and as a result JavaScript has a lot of power to manipulate things on the page it can simulate the clicking of buttons it can change the content of what happens to be on any particular page and as a result there are many many vulnerabilities that come about when it comes to thinking about JavaScript and one such vulnerability is this notion of crosssite scripting that in general when on your web application you only want JavaScript to run if you yourself have written it crosssite scripting is a Potential Threat where someone else might be able to get JavaScript code to run on your website when it's JavaScript code that someone else wrote instead of you yourself and this is a potential vulnerability because someone else can write the JavaScript code they can manipulate the contents of what happens to be on your website they can potentially manipulate the user experience to get a result that is not actually desired so let's go ahead and take a look at one example of crosssite scripting all right so I've prepared a web application in advance it's called security inside of which is a single Django app called xsx xss for crosssite scripting and inside of here we'll first take a look at the URLs so there's a single URL that just allows us to provide any path and then it's going to load the index View and on the index View we're going to display an HTTP response that says here was the path that just happened to be requested so you might imagine this is a simplified version of what you might see on other websites for example where websites might show you on any particular page what path you're on in order to get to that page some sort of indication of where you are inside of this web application so I'll go ahead and CD into security and run the server pythonmanage.pi run server so I am now running the server and I'll now go ahead and go into my web application slash hello for example and so what I see here is requested path hello which is what I would expect it to be I can change it to something else like hi so here's requested path Hi here's hi slash two for example whatever page I visit it gives me a page that says requested path and then whatever path I happen to be visiting but watch what happens if I try and visit this URL instead I'm going to visit URL slash script alert hi and then end script so I run it and suddenly an alert shows up on my page that says hi and then press OK and it says all right requested path that alert was a JavaScript alert it was JavaScript code running on my web application but it was not code that was JavaScript code inside of my web application it was someone else who wrote based on the URL to run particular JavaScript on my particular page and so if someone linked to my web application and passed in this script tag as part of the URL someone who clicked on that link might have been taken to my web application but ultimately had JavaScript run that was created by someone else and that ultimately is potentially dangerous it leaves open the possibility that someone else could run JavaScript code on my page and it might not just be something like a script you might imagine someone not just displaying an alert but modifying something inside of the Dom changing the contents of the web page making API requests doing other types of tasks that you can do using JavaScript inside of a web browser that ultimately leave my page open to potential security vulnerabilities and so these are cases where it's important to be mindful of when you're designing these Pages if ever there's a possibility that someone could inject their own JavaScript into your page somehow you'll want to either detect that or Escape it in some way or take other precautions to make sure that this kind of crosssite scripting isn't going to be possible you might imagine that in a messaging application for example if you're messaging back and forth you don't want it to be the case that if you message someone else some JavaScript code that when they receive it that code actually ends up running as some JavaScript that runs on that particular page you want to be sure to escape that information so that they just see the text of the JavaScript code but the code isn't actually executed and this is a similar threat to that threat of SQL injection it all comes back to the idea of not wanting to allow someone else to be able to inject their own code into your program you don't want someone else to be able to inject SQL code into the queries you run on your database and you don't want someone to be able to inject JavaScript code into your web page because that leaves open potential security vulnerabilities as well one type of security vulnerability the Django is quite good at defending against is one that we've seen before but we'll explore in more detail how it might work and it's this idea of crosssite request forgery where you fake a request to a website when you didn't intend to actually make a request to that website so you might imagine that if your bank for example had a URL that allowed you to transfer money from one person to another person we've talked about this idea a little bit but imagine now how you could implement this if it really was just a URL that you could go to like slash transfer and say as get parameters who am I transferring money to and what is the amount that I'm transferring then someone else on some other website could in the body of their page just have a link where that link says click here and it links to your bank.com or whatever your bank is transferring money like to me in this amount and if some user unknowingly just clicked on that link not knowing where it would take them this website might be able to forge a request to the bank make it seem like the user had gone to the bank and tried to initiate some kind of transfer and ultimately try to transfer money and it doesn't even necessarily need to be in a link how else might you get some new request to happen inside of the web browser you might imagine though it might seem a bit strange to put this inside of an image image source the source of the image is this particular URL the bank's transfer page now that doesn't really make any sense the transfer page is not an image but it doesn't matter all an image tag is going to do is try to make a request to this Source URL to get that image and then try to display it in the user's web browser but the first part is what's important the fact that this Source ends up being requested by the web browser without the user having to click on or do anything they might try and request from your bank.com transfer this particular request which might initiate some sort of bank transfer without the user even realizing it and it's for that reason that we generally suggest that anytime you're creating a website but it's going to allow for the manipulation of some kind of state that allows for some change to happen something like transferring money you don't want that to be via a get request something you could just load in an image or a load by clicking on a link that takes you to another page you don't want that to happen because then it makes it very easy for someone else to fake a request to your page by just creating an image or a linking to somehow a website like transferring funds from one user to another so a solution to this as we've talked about is that generally we only want post requests to be able to manipulate something inside of the database to be able to actually initiate a transfer from one user to another user but even then this is not perfectly secure that you could still be tricked into submitting a post request imagine an adversarial website that had a form like this a form whose action was yourbank.com transfer and whose method was post and now here to input Fields whose type is hidden meaning you won't actually be able to see those input Fields when the user is looking at the page they'd only know about it if they inspected the source code of this particular HTML page here there's the hidden input whose name is two meaning the person I'd like to transfer money to here's the amount the value that I would like to transfer and all the user is going to see is a button that says click here they're not going to see either of the input Fields because they're hidden but if they do click the click here button well then suddenly they're going to be submitting a post request to the bank and initiating some transfer when they didn't intend to now maybe this seems like oh it's not a big deal because the user still needs to click a button and the user shouldn't be clicking on a button if they don't know what the button is going to do well for one it's probably reasonable to imagine that an adversary might embed this button inside of a page where it looks totally safe to be able to click on a button but moreover the user doesn't even need to click on it in order to submit the form we can just add a little bit of JavaScript you might imagine that an adversary could do something like this add an on load attribute to the body that says when the body of the page is done loading go to document.forms meaning all of the forms for this webpage get the first one and submit it submit the form and what that's going to do is even without the user doing anything even without the user clicking on the click here Button as soon as this page is loaded this form is going to submit submitting a post request to the bank and attempting to transfer funds from one user to another user and so this is what we might call a crosssite request forgery where some adversario website has forged a request to our website and ideally we wouldn't like for that to be able to happen so how did we guard against this well what Django allows us to do and a very common approach is to add a csrf token a crosssite request forgery token that is going to be regenerated for every session such that only if that token is present will the transfer be able to go through so on our website we can include the csrf token inside of this HTML form and as a result make sure that we're able to transfer money only when the csrf token is present but if some other website tries to forge a request they won't know what the csrf token should be because it changes for every session and therefore they won't be able to actually Forge a request from one user to another so all across the various different tools and Technologies we've been using python HTTP Django HTML in terms of creating these web applications using JavaScript and the apis we might be interacting with there are security considerations all throughout we've only touched on a couple of them here but just goes to show how it's important to be mindful if you think about the practice of web programming thinking about what you're going to add to your web applications and what features your web application supports to think about what the potential vulnerability is there are as well how someone might exploit your web application in order to do something with it that they probably shouldn't and as you take your web applications from applications that are just running on your own local computer to applications that are running in some web server that many people are starting to use these are the types of questions to start to be asking how can you make sure that your web application is scalable how can you make sure that your web application is secure so now that we've explored that a lot of web programming what comes next in this course we've explored a number of different tools and Technologies and languages but there are many other web Frameworks and ways you can build web applications as well we spent most of our time looking at the Django web framework written in Python but you can use other programming languages to build web applications as well express.js for example is a very popular JavaScript framework for building web applications Ruby on Rails is a popular serverside web framework but built using Ruby and there are many others as well and there are also clientside Frameworks used primarily with JavaScript to be able to build user interfaces we've seen a little bit of react to build Dynamic and interactive user interfaces other popular clientside Frameworks include angularjs and view JS and a number of others as well and then once you've built these web applications using any of these serverside Frameworks and clientside Frameworks then you might imagine wanting to take these applications and deploy them to the web and to do that there are a number of ways we can do this as well a number of different services including Amazon web services AWS Google cloud and Microsoft Azure they can be used in order to deploy these web applications Heroku is a service that uses AWS and tries to simplify the process of making it easier to deploy your web applications and if your web application is really just static it's just HTML and CSS and JavaScript well then you can use something like GitHub pages to be able to host a web application for free on github's own servers instead and there are many other ways you can imagine deploying web applications as well different services that you can use in order to take the web applications that you have been building or web applications you might build in the future and make them available on the internet for others to be able to use as well so as we look back on the various topics within web programming we've explored we've seen a lot of tools and Technologies we can use that we can leverage in order to build interesting web applications we started by taking a closer look at HTML and CSS diving into how we can use that to describe the structure of our page and then taking advantage of tools like SAS that allow us to generate CSS that allows for much more complex styling for our website that would have been much more difficult to do with just CSS alone as we started to build larger web applications we took a look at Git Version Control tools that we can use in order to make sure that we keep track of versions and changes we make to our code allowing multiple people to collaborate on a project simultaneously we then took a look at python looking at various different features that the language offered functions and conditions and Loops as we've seen in many other programming languages but also object oriented programming the ability to represent objects and methods and functions that operate on those particular objects which prove especially powerful in the context of dealing with data inside of our web applications Django was the example of a web framework written in Python that we use to very quickly be able to start up a web application that's able to listen for requests and make responses Django has a whole lot of features built in that really make it easy to get started with building a web application and in particular it makes it easy for writing web applications that deal with data so Django allows us the ability to build models that interact with SQL without us having to actually write any SQL code Django can generate the SQL for us just using these models and migrations then allow us to continually apply changes that we make to our database that as we add new tables add and modify existing fields on those tables Django can take care of all of that after that is the only recall we took our attention towards the second of the main programming languages in the course JavaScript which was has a lot of uses and is very very popular but we primarily used on the client side to be able to build interesting user interfaces using JavaScript to manipulate the Dom the structure of the page to change what it is to use our theism and also to add event handling so that when the user clicks on a button when the user hovers over something when the user interacts with the page in some sort of way our code is able to respond to it and we saw react a web framework that our clientside framework that uses JavaScript in order to allow us to create really interesting and interactive user interfaces with not all that much code at all and then finally in these last couple of lectures we've been looking at some best practices how we can design tests tests that test the server but also the client to make sure that our code is working appropriately and also some industry practices like continuous integration and continuous delivery that just help to make sure that as we make changes to our code we're able to deploy and deliver them rapidly and effectively and make sure that we're able to make incremental changes to our code base rather than need to wait on longer release Cycles and then finally today we've been talking about issues about scalability and security especially important as we begin to take our application and move them to the web we want to make sure that these applications are scalable that they're able to handle multiple different users and also to make sure that they're secure that we're not exposing ourselves to potential vulnerabilities like someone who might inject SQL or inject JavaScript code into our Pages or who might try to access some data that they're not supposed to access we want to make sure that when we go about designing these web applications we're able to do so in a scalable and ultimately in a secure way so hopefully you enjoyed this exploration into the world of web programming with python and JavaScript best of luck with the web programs that you yourself might build with the tools we've seen here today and also other tools that are inspired by or use similar tools and techniques and ideas as the things that we've ultimately talked about here a big thanks to the courses teaching staff and the production team for making this entire class possible I look forward to seeing the web applications that you might go on to create this was web programming with python and JavaScript this course from Harvard University picks up where cs50x leaves off diving more deeply into the design and implementation of web apps with python JavaScript and SQL using Frameworks like Django react and bootstrap Brian you will teach you topics such as database design scalability security and user experience you learn to write and use apis create interactive uis and Leverage and leverage cloud services like GitHub and Heroku
