With timestamps:

00:08 - hey everyone welcome to live coding with
00:11 - jesse i'm jesse
00:13 - and today
00:14 - we're going gonna do a shorter than
00:16 - normal stream
00:17 - because i have a meeting in less than an
00:19 - hour
00:20 - uh and also
00:24 - we're doing something that
00:26 - may end up being a little bit boring
00:28 - we're doing some data transfer
00:30 - so
00:31 - it needs to be done i need to get all
00:33 - this data transferred
00:35 - really soon
00:37 - because i'd like to have
00:39 - um i'd like to be done with it be done
00:41 - with the data transfer and just finish
00:44 - out getting a test version of this site
00:46 - available on a public url for everyone
00:49 - to try
00:50 - and give us a month before we need to
00:53 - launch
00:54 - you know to have
00:56 - as many people as possible test it and
00:58 - get feedback
01:00 - so that's why we're doing uh just some
01:02 - data transfer stuff you know on the
01:05 - stream which i usually save for
01:07 - uh when i'm not streaming but i thought
01:10 - it might be useful to show it
01:12 - and um
01:14 - i'm a little bit
01:16 - a little bit tired today
01:18 - my daughter cordelia who's one and a
01:21 - half just wanted to party last night so
01:24 - she didn't feel like sleeping
01:26 - uh so if i if i sound a little like
01:30 - uh less enthusiastic than normal that's
01:32 - why so i'm gonna try my best to fight
01:35 - that though
01:38 - okay so let's
01:40 - get started
01:42 - let me switch my view
01:45 - and
01:47 - the first thing i'm going to do is just
01:49 - introduce you to the code we're using to
01:52 - migrate so it's been a long time since
01:54 - i've i've showed this code uh on a
01:56 - stream
01:58 - so
01:59 - you may not be um
02:02 - you may not be familiar with it unless
02:03 - you watched
02:05 - i don't know maybe two months ago it
02:07 - would have been the last time we showed
02:08 - it so this was
02:10 - basically built by
02:12 - one of the the viewers so harshit uh
02:15 - built this
02:17 - and
02:18 - i've modified it depending on the type
02:20 - of content that i need to bring over
02:23 - but what we're doing is
02:26 - we're bringing in
02:29 - a few packages right so this is node.js
02:31 - in particular we have sqlize and fetch
02:36 - so sqlize helps us to get data from
02:39 - a sql database in one case we're going
02:42 - from one type of sql database to another
02:44 - type of sql database so sql server
02:48 - to my mysql
02:50 - so we're we have our database info
02:54 - right so
02:57 - name password everything we need to
02:58 - actually get in there
03:00 - and i can connect to this database but
03:02 - only from this computer that i'm at
03:04 - right now and only if i'm on a certain
03:06 - network
03:07 - so
03:09 - um i'm a little bit limited in in what i
03:12 - can do
03:13 - so
03:15 - we're connecting to the sql server
03:17 - database
03:18 - and then we're pulling out data
03:21 - so we have this sql query
03:24 - here and this is just using a template
03:26 - literal right to write our sql query so
03:29 - i manually modify the sql query
03:32 - based on the data that i'm getting so on
03:34 - my other screen i just have an excel
03:36 - spreadsheet that i i created from that
03:39 - database
03:40 - that gives me the content
03:43 - of each
03:46 - um
03:47 - what do you say like each row
03:49 - in the excel spreadsheet gives me
03:52 - one item in the database
03:55 - and
03:56 - i can see the content i could see the
03:59 - folder id and that's what we're using
04:01 - the folder id is the key piece of
04:03 - content so we want to bring over the
04:05 - content id the title
04:08 - the content html
04:10 - the teaser the date created
04:14 - from
04:15 - our content
04:17 - table where
04:18 - folder id is whatever we set it to in
04:20 - this case i just imported everything
04:22 - from 4 to 441
04:24 - and then data length
04:27 - of content html is greater than zero so
04:29 - there's
04:31 - there are a lot of items in the database
04:34 - that have no content at all i don't want
04:36 - to bother bringing them over so that's
04:37 - why we have this piece to filter out so
04:39 - we're grabbing all that and then the
04:41 - next step is let's insert it into my sql
04:44 - database
04:45 - so that's why we're using fetch that's
04:48 - why we imported fetch here
04:50 - node fetch so in the browser now
04:52 - depending on your browser you would
04:54 - automatically have access to fetch but
04:55 - this is server side so
04:57 - we have to bring in
04:59 - node fetch or something like that
05:01 - there's another package called unfetch
05:03 - that'll do the same thing
05:06 - so
05:07 - we're going to use the wordpress api to
05:11 - put the data into our mysql database
05:13 - because we're using wordpress to manage
05:16 - that database
05:18 - so why not just use the api
05:21 - and it will make sure that that data
05:23 - gets put in in the proper order in just
05:26 - the right way that wordpress likes
05:29 - so
05:30 - that's why we ended up doing it like
05:31 - that
05:32 - so you can see here
05:34 - we
05:39 - we take our
05:41 - wordpress um our uri so basically we
05:45 - have the url we already
05:47 - have uh the url that we're we're trying
05:49 - to send it to
05:52 - here
05:52 - and then
05:54 - we just add in the post type that we
05:56 - wanted to go into in this case i was
05:58 - adding an into graduate program which is
06:00 - a post type that i just created a few
06:02 - minutes ago
06:04 - to handle some of that data we have a
06:06 - few other options here that are
06:07 - commented out but
06:09 - if we needed to make some changes to the
06:12 - titles we're using some regular
06:14 - expressions to do that in this case we
06:16 - don't need to or i didn't need to for
06:18 - that last post type we also are doing
06:21 - some things to manipulate the date so
06:23 - that the date gets into the
06:26 - the format the dates in and the old
06:27 - server is not the right format we need
06:30 - for the new server so we do some stuff
06:32 - to make sure it is in the right format
06:34 - and then this is the how we format the
06:37 - data so
06:39 - we basically just take
06:41 - the data in the way that the wordpress
06:44 - api wants it and we just plug in what
06:48 - we've gotten from the sql server
06:50 - so wordpress doesn't want content html
06:53 - they want content
06:55 - see so we just put it in the right
06:58 - the right way
07:00 - and
07:01 - we just do a simple fetch right and we
07:05 - just send that data to the right place
07:07 - and then the wordpress api takes care of
07:11 - all of the rest and actually inserting
07:13 - that into the right place in the my sql
07:15 - database
07:16 - so
07:22 - that's it i mean it's it's it works it
07:25 - it works really really well
07:28 - but it's not it's not super complicated
07:30 - to go through it
07:33 - so let's do some
07:35 - some more migration
07:37 - uh let me say hello to everybody i see
07:39 - this uh some of you saying hi
07:42 - um
07:46 - i see there's already a few questions
07:47 - let me let's do it like this what time
07:49 - is it okay let me start my pomodoro
07:52 - timer
07:55 - i'm gonna do one pomodoro session
07:58 - and then i'll answer all the questions
08:00 - after that up until
08:02 - um maybe about five minutes till three
08:05 - p.m eastern time and then i'll have to
08:07 - stop and go to a meeting
08:09 - okay so
08:10 - hang in there if you've asked a question
08:12 - or if you want to ask a question i'll
08:14 - get to it in about 25 minutes
08:18 - so for now let's
08:21 - we're going to basically be here for
08:23 - most of the time if we need to make
08:24 - another custom post type we're going to
08:26 - be here if you're interested in the
08:28 - plugin that we created
08:30 - to
08:31 - handle all these different custom post
08:32 - types and taxonomies this is now on the
08:35 - github repo so if you go to that fus
08:38 - marcom github organization this is the
08:40 - latest repository there i've i've added
08:43 - that plug-in which that's that's new i i
08:46 - just did that last week
08:48 - before that i wasn't tracking it with
08:50 - git
08:53 - all right so
08:54 - i have on a few of my other screens i
08:56 - have some
08:58 - uh some data
09:00 - uh already set up
09:03 - in terms of like that spreadsheet that i
09:05 - told you about and just a list of items
09:07 - that i've as i've gone through building
09:09 - the site i've noticed like hey we don't
09:11 - have this data yet
09:12 - so
09:13 - owners program pages
09:16 - saving the same savio pages all right so
09:19 - let's see
09:22 - here's here's my process let me drag
09:24 - some of this over
09:26 - to the screen
09:34 - and here's my
09:36 - oops
09:38 - let me organize this a bit better let's
09:40 - pull this over here
09:43 - there we are
09:45 - okay
09:47 - so
09:48 - what i've been doing is
09:54 - basically just searching the site to
09:56 - find out some of the pages this is the
09:58 - current website summer ancient and
10:00 - biblical languages institute so i
10:02 - currently don't have any of the data for
10:05 - this program that we have
10:07 - um
10:10 - so our ancient language institute oh
10:12 - that's a pdf all right
10:14 - definitely don't
10:16 - need to worry about that right now
10:18 - there we are
10:20 - so i go in here and just try to see like
10:23 - all right how many pieces of data are we
10:25 - looking at
10:26 - two three four five maybe like five
10:29 - pages so not really a lot
10:31 - occasionally these pages will be broken
10:33 - up into different pieces of data so it
10:35 - may be more than five that we're looking
10:37 - at and then i'll grab some of the text
10:41 - and
10:44 - usually it's it's just enough to grab
10:46 - like seven or eight words and then i go
10:49 - over to my
10:51 - spreadsheet which i'm gonna pull this
10:53 - over
10:54 - so that you all can see it
10:58 - let's fold over here so i go over to my
11:00 - spreadsheet this is going to be really
11:02 - small it it doesn't really matter to be
11:04 - able to read it it's just like the
11:05 - concept of how i'm doing this so i paste
11:07 - that in and try to find it
11:10 - it looks like it's not here that's not
11:12 - good news
11:16 - so well it may or may not be good news
11:18 - it could mean that i've already brought
11:20 - it over
11:21 - uh and
11:23 - didn't realize it at the time that i
11:24 - brought that data over
11:40 - let me try to grab just some other piece
11:43 - of data from here
11:46 - um
11:48 - let's see maybe this one
11:50 - uh the other possibility is that this
11:52 - page has been edited since i made a copy
11:56 - i had a copy made of the database
11:58 - and so
12:00 - uh this data is actually newer
12:03 - than what i had so that's why i'm going
12:05 - to try to grab another piece
12:07 - of data and try to do a search with that
12:12 - there we are
12:13 - okay so it looks like we're we are able
12:16 - to find this
12:19 - awesome
12:20 - so
12:21 - this is a little bit small so you may
12:23 - not be able to see it but i found a few
12:25 - pages that do say that that's s-a-b-l
12:28 - institute
12:30 - and now i can look over here at the
12:32 - folder number
12:33 - and it's 346
12:36 - and if i look every piece of
12:39 - data here in that
12:41 - 346 folder
12:44 - all have to do
12:46 - with that same institute
12:49 - so
12:50 - safe to say we can grab this everything
12:53 - in this 346 folder and categorize it in
12:57 - in our new database
12:59 - as
13:00 - um
13:01 - as that type of of data
13:04 - so
13:08 - let's see
13:12 - i know i just lost it three four six
13:16 - yeah this spreadsheet is
13:18 - a little intense um
13:22 - now i want to make sure it seems like
13:25 - i'm missing a pitch one two three four
13:29 - why is there only four
13:31 - so
13:35 - one two three four
13:37 - five
13:43 - let me see what this page is see this is
13:45 - like part detective work
13:49 - all right this explains why i only have
13:50 - four pieces of data because this page
13:52 - doesn't really have content it's pulling
13:54 - um
13:56 - other content that we've already brought
13:58 - over but just in a different post type
14:00 - these this content is stored under our
14:03 - faculty profiles
14:05 - so we've already pulled these over
14:07 - so that explains why so i
14:10 - i need to be really careful to make sure
14:11 - that i don't
14:12 - miss parts because that could be a mess
14:15 - later on
14:17 - uh when you know i'm trying to launch
14:19 - and people are saying this page doesn't
14:20 - work this page doesn't work and
14:22 - uh so this is good this this should be
14:25 - fine sapos yeah
14:28 - so
14:30 - we may need to make a custom post type
14:34 - for this so let me bring over and show
14:36 - you
14:36 - what we have going on in wordpress
14:43 - so right now
14:45 - okay we do have a post type for
14:46 - institutes
14:49 - let's check out if we have anything in
14:50 - there yet
14:52 - what
14:57 - you gotta be kidding me i have
15:00 - this
15:04 - institute texts ancient languages
15:08 - all right let's see
15:12 - read the ancient writers from the words
15:14 - experience immersion
15:16 - we may i may have already brought this
15:17 - over
15:22 - if so that is excellent course credit
15:24 - descriptions
15:25 - let's see if we have that
15:31 - wow and it's already categorized you got
15:33 - to be kidding me so uh this is really
15:36 - good news unfortunately i didn't when i
15:39 - first started bringing over data i was
15:40 - just bringing over a ton of data and i
15:42 - didn't take the time to mark down what i
15:44 - was bringing over
15:46 - and so
15:47 - occasionally
15:48 - not often but occasionally i run into
15:50 - this where i've actually already brought
15:51 - over data but it was so long ago that i
15:53 - didn't even remember so this is great
15:56 - now what we can do is
15:58 - go in here and delete these rows
16:01 - i made a copy of the original
16:03 - spreadsheet i was working off of but in
16:05 - this one every time i verify the data is
16:07 - there
16:08 - i delete the rows
16:10 - so ideally what will happen is once i
16:12 - have no rows left i will know that i've
16:14 - transferred every bit of data
16:16 - so that's the idea
16:18 - i just have to make sure i'm very
16:19 - careful so that that in fact is is
16:22 - really the case
16:23 - so it looks like
16:26 - for sure everything in this folder here
16:28 - i can go through but also
16:31 - we have
16:33 - this veritas center
16:35 - which
16:36 - i believe i saw that in there as well we
16:39 - can verify that
16:42 - um there it says
16:47 - i thought we had it in here oh there's
16:48 - two pages let's see
16:51 - the shout out conference
16:53 - hmm
16:58 - oh you know what i guess i gave them
16:59 - their own custom post type
17:01 - so
17:03 - where it's uh so we do have veritas
17:05 - stuff in here
17:07 - there's a center for bio ethics
17:16 - do i have that
17:20 - it doesn't seem like i have that
17:21 - particular piece of data
17:25 - oh i do i have it here veritas center
17:27 - for republica
17:31 - all right
17:32 - um i will i'll have to figure out what
17:34 - the heck is going on with that because
17:37 - i don't really see why i would want to
17:39 - separate out those two into different
17:40 - post types
17:42 - but i have verified that it's there so
17:44 - we can delete that as well
17:46 - that's great now i can mark that off my
17:48 - list
17:54 - and next thing on the list are honors
17:56 - programs which is awesome because i just
17:59 - happen to have the honors program pages
18:01 - right here
18:08 - all right
18:10 - honors program it looks like we only
18:12 - have three
18:16 - three pages here honest program
18:18 - requirements
18:19 - let's verify though
18:22 - and
18:23 - we can get rid of this
18:25 - and this we'll go back to our search
18:27 - type in
18:31 - honors program
18:51 - okay so this is actually treated
18:55 - as if it were a major in terms of um
18:59 - where this content is on the site and
19:02 - the url it's given so it's the same way
19:04 - as as we would treat a program or a
19:05 - major
19:06 - so
19:10 - that's interesting and we also have two
19:13 - different
19:15 - urls for this we have one with a hyphen
19:18 - and one without a hyphen i bet they go
19:19 - to the same page
19:24 - do
19:27 - all right we'll have to make sure we
19:29 - account for that in our routing
19:31 - uh if we haven't already
19:36 - but um
19:39 - all right
19:43 - so it looks okay like we we have that
19:45 - honors program
19:47 - the great thinkers
19:49 - requirements
19:58 - list information
20:00 - there we go requirements
20:02 - is here under owners program as well
20:05 - and then austria
20:08 - so those are the three things we need
20:11 - and none of this is
20:13 - okay good so we have this honors program
20:16 - stuff
20:18 - what i think we'll do then
20:20 - is
20:21 - we'll put this data in the same place as
20:23 - we would put
20:25 - other majors and things like that
20:28 - and
20:30 - i think we'll categorize it underneath
20:32 - the classics category that we already
20:34 - have
20:37 - since that's where it's it's being
20:38 - categorized right now
20:42 - we probably should verify that it's not
20:43 - already there so let's go into our
20:45 - majors
20:46 - section
20:47 - type in
20:49 - honors
20:51 - honors program quick links
20:55 - so it looks like we don't have
20:57 - everything honestly quick links
21:04 - okay
21:05 - so we do have one
21:08 - piece of data here
21:12 - oops
21:13 - but not everything
21:16 - so let's pull this over then
21:18 - so we need a few pieces of information
21:22 - and that is the folder id which looks
21:24 - like it's 340.
21:27 - so we're going to put in 340 into here
21:33 - okay and then in this case
21:35 - we want this to be under the major post
21:38 - type so
21:39 - we're going to type in major
21:42 - and then we also want to make sure this
21:44 - isn't the right category so we have this
21:46 - faculty department
21:48 - taxonomy
21:50 - and we have to get the category id
21:53 - so let's go back over here
21:55 - where wordpress is and make sure we can
21:58 - get the right id
22:01 - so if we go to
22:02 - faculty department
22:05 - and we go over to classics
22:09 - if i hover over it the url shows up
22:11 - really small at the bottom
22:13 - and that url has the id number which is
22:15 - 19. that's the fastest way that i've
22:18 - found to just get the id right away with
22:20 - the fewest number of clicks so i get 19.
22:23 - so now i can go back here type in 19
22:28 - and
22:30 - that's all we have to change
22:34 - and now i can just run this so i'm going
22:36 - to run node migrate.js because that's
22:39 - what this file is called that we're
22:40 - working in we can do migrate.js and see
22:44 - uh it's
22:45 - you know it gives us a little message
22:47 - here of
22:48 - you know here's the sql query that we're
22:50 - running and then here's how many posts
22:52 - we brought over which is three
22:54 - which is what we expected
22:56 - i cancelled that out just by pressing
22:58 - ctrl c
23:00 - now we can go back over to wordpress and
23:02 - verify that that data is there now
23:06 - so if we go back to
23:10 - let's see
23:11 - uh
23:12 - classics
23:14 - because that's the category we went to
23:16 - and click that it'll give us all the
23:18 - classic stuff we should be able to see
23:20 - yep we have the honors program front
23:22 - page honors program requirements on this
23:25 - program for students in austria and we
23:27 - could click that and see how this comes
23:29 - through
23:30 - it's actually not bad
23:32 - right we can see the the raw html here
23:35 - it's not too bad you know we've got h1s
23:37 - and things so um there's occasionally
23:40 - weird stuff like right down here we just
23:41 - have an h5 just hanging out in empty h5
23:44 - i'm gonna get rid of that i don't clean
23:46 - up the data always i just wanted to show
23:47 - you what it's like
23:49 - eventually i do want to go through and
23:51 - clean it all up but it's not a hundred
23:52 - percent necessary before launch at least
23:54 - not for most pages
23:57 - i mean ideally i also wouldn't have like
23:59 - eight h1 two h3s and an h4 all right
24:02 - there at the top it's a little odd
24:05 - um
24:06 - but
24:07 - all in all that's not really bad that
24:09 - you know this data is coming out of a
24:11 - totally different content management
24:12 - system and we're able to pull it into
24:14 - wordpress and it it basically works
24:17 - so i'm just going to update that
24:20 - but we can see it also pulls over the
24:22 - correct publish date so this data was
24:25 - actually published in 2014
24:28 - long before i was working here
24:31 - but this gives us a way to keep track of
24:33 - like how old is the data actually so
24:35 - that's why we're bringing over the
24:37 - original publish dates otherwise
24:38 - everything would seem like it was
24:39 - published this year
24:41 - which is definitely not the case
24:47 - wonderful so now the next step would be
24:49 - make sure i get rid of this data
24:52 - in the spreadsheet
24:55 - so it's just those three pieces
24:57 - i'm going to delete that
24:59 - and then on my other screen i just have
25:01 - a checklist in google keep so i'm just
25:03 - checking things off
25:05 - as i go through
25:08 - and i do wanna at this point check how
25:10 - much time i have left
25:13 - see if we can get into anything okay
25:15 - about seven minutes
25:17 - and i see there's a lot more questions
25:19 - in there i'm not i'm not ignoring the
25:20 - live chat forever i will get back to it
25:23 - in about seven minutes
25:24 - uh let's see i'm gonna try to get one
25:27 - more type of data in and um
25:31 - depending on what we have i i may even
25:33 - need to make a custom post type here or
25:35 - taxonomy
25:37 - add categories to jobs
25:51 - okay
25:53 - i need to get hr profiles
25:56 - so this i i might need an another um
26:00 - custom post type for this
26:02 - so
26:03 - first i want to try to find where this
26:06 - is on the website
26:08 - so don't think
26:10 - about
26:12 - there we go human resources i won't need
26:14 - to search for this one i i know where
26:15 - it's at in the menu
26:17 - uh
26:18 - let's see
26:19 - hr
26:27 - i think that's these are where they were
26:30 - yeah so
26:32 - there's this whole section of why i
26:34 - chose franciscan and it's people that
26:36 - work
26:36 - here and it's their story about why they
26:41 - they work here
26:42 - so the data that i really want is this
26:44 - here
26:47 - and you know this image as well
26:50 - it should just be a url linking that
26:51 - image for now
26:53 - so that's that's what we want to find
26:56 - so once again i'm just going to grab
26:58 - some of this data
27:01 - and i'm going to go back over to our
27:03 - spreadsheet
27:05 - i'm gonna paste that in and search for
27:07 - it no
27:09 - couldn't find it all right let's try to
27:10 - grab it from somewhere else
27:22 - you gotta be kidding me
27:29 - oh
27:31 - thank you i i
27:33 - maybe since i had highlighted those
27:35 - sections it was only searching in that
27:36 - section
27:38 - so
27:40 - uh all right great so it looks like
27:42 - we we have these um those same names of
27:46 - the people that we just saw up there
27:48 - and this is in for 615
27:50 - so let's double check
27:52 - um wow this profile is actually for the
27:55 - head of my department so
27:58 - uh i believe sh the ex she's the
28:01 - executive director i think that's her
28:02 - title
28:03 - um
28:04 - great so let's bring over everything
28:06 - here in the 615
28:11 - folder
28:13 - i'm going to create a new post type and
28:15 - these are going to be hr profiles
28:19 - as far as i can tell
28:21 - they are definitely different from some
28:22 - of the other profiles that we've we've
28:24 - brought over
28:25 - so
28:27 - let's create the post type first
28:30 - and then we'll we'll bring them over
28:33 - so we
28:35 - we do that we have an option actually so
28:37 - we already have
28:39 - we can see in wordpress we have an hr
28:43 - section
28:46 - so we could
28:47 - just bring these over into hr into that
28:50 - section
28:51 - uh human resources
28:53 - and perhaps give them some sort of um
28:58 - category or something
29:00 - that would say like okay these are our
29:05 - profiles we want to use
29:08 - either way we have to set up something
29:10 - either a custom taxonomy or a custom
29:13 - post type
29:16 - i think it'll be easier right now to do
29:18 - a custom post type
29:22 - it's something that could definitely be
29:24 - changed at some point
29:29 - let me see what the url looks like this
29:30 - is going to be the probably the big deal
29:32 - actually uh how the url structure is
29:36 - whoa
29:37 - that's awful
29:38 - i don't know if you can see that url but
29:43 - that's no good
29:45 - all right so i don't know what's up with
29:46 - that one but this one
29:49 - let's see
29:53 - all right so our ur structures hr
29:56 - slash profiles slash
29:59 - and then we have uh last name hyphen
30:02 - first name
30:06 - hmm
30:16 - what would be
30:20 - would be the easiest way to bring this
30:22 - in
30:26 - all right let me think about it just
30:27 - just for a few seconds
30:31 - uh i'm trying to think how our how our
30:33 - router works in our server.js file in
30:36 - our react site
30:55 - i think we'll be fine i think
30:58 - yeah
30:59 - we'll be fine to just pull this into
31:02 - our hr pages i don't even think we need
31:04 - a category
31:08 - yeah i think we'll be okay
31:10 - uh there's gonna be a slight chance that
31:14 - this data could be pulled in if you type
31:17 - in a different url
31:19 - but i'm not worried about that it won't
31:20 - conflict with existing urls
31:23 - [Music]
31:26 - so i think we'll be okay
31:30 - all right so let's go over
31:33 - so this this will make it a lot faster
31:35 - so let's verify was that 6 15 okay
31:40 - where am i at six
31:42 - yeah so let's go 6 15.
31:49 - 615 and let's go
31:51 - human
31:55 - human resource
31:58 - i think i did it
32:00 - let's let's make sure that i did it like
32:01 - that
32:03 - human resource
32:04 - yep
32:06 - all right so when you bring it in
32:09 - uh in here it has to be the singular so
32:11 - it sounds a little weird to say a
32:14 - human resource
32:15 - but
32:16 - that's how i named it
32:19 - and
32:21 - we need
32:26 - let's let's go with
32:36 - let's clean up the names first
32:40 - all
32:40 - right
32:42 - so we're going to clean up our names and
32:44 - we're going to add that to the slug
32:46 - that'll help us uh it may not perfectly
32:49 - get the slugs how we want it but it'll
32:51 - get them a lot closer and i i think
32:53 - that'll be easier we might luck out some
32:55 - of them might have the right slugs
32:56 - automatically we won't have to manually
32:58 - change them so we don't need this
33:00 - faculty department
33:04 - and i think we're
33:06 - i think we're good
33:08 - and that's what we need
33:12 - all right so let's save that
33:14 - run it
33:16 - there we are we got six of them
33:19 - it's stopped that process and then now
33:22 - we can go back over here
33:24 - check out our human resources
33:27 - and see
33:29 - oh nice so we we do have
33:32 - now these people here and
33:36 - let's check out our slugs so i do i want
33:38 - to see how it works with someone that
33:39 - has a doctor and their name where the
33:41 - slugs come out i mean all right awesome
33:43 - those slugs are actually perfect so
33:45 - it's been so long since we did that
33:47 - regular expression
33:49 - i couldn't remember exactly what it
33:51 - would do but it actually is uh is
33:54 - perfect it reverses the name so you have
33:56 - last name first and then first name
33:58 - takes out doctor or any title like that
34:01 - and adds the hyphen
34:02 - so
34:03 - uh
34:04 - there will be no need for us to go in
34:06 - and manually adjust those slugs
34:08 - and you can see we we have urls and
34:11 - fortunately they are relative urls so
34:14 - once i eventually transfer all of the
34:18 - image
34:19 - the images from where they reside now to
34:22 - our wherever i'm going to have them
34:23 - later on as long as i keep the same
34:26 - folder structure all those relative urls
34:28 - will still work so it'll save a ton of
34:31 - time
34:33 - and um
34:35 - that should work so i think
34:39 - yeah it won't work automatically right
34:40 - now because i need to set up a few more
34:42 - things in the router
34:44 - uh but otherwise as soon as i i set up
34:46 - that route
34:48 - in our server.js file those should work
34:51 - fine
34:51 - they should be good
34:54 - awesome
34:57 - so my timer is is up
35:01 - um trying to think so what i need to do
35:03 - i don't need to um push anything to
35:05 - github because all the changes we made
35:07 - we're just transferring data we didn't
35:09 - make any changes to code
35:11 - so now
35:13 - i got to keep an eye on my time so i
35:14 - make get to my meeting on time but i'm
35:16 - going to go back to the chat
35:18 - and oh let me check off
35:21 - check this off on my uh
35:24 - to do list here
35:26 - it's always nice when you start checking
35:28 - things off and you see that list getting
35:30 - shorter
35:33 - but i am now
35:40 - i'm going to spend the whole rest of the
35:41 - time answering your questions
35:43 - and checking out your comments in the
35:45 - live chat
35:47 - uh
35:48 - tech
35:49 - techie gang says sir i just graduated
35:51 - and have moderate knowledge in html and
35:53 - css what should i do to get a great
35:56 - start in career
36:01 - if you want a career as a developer like
36:03 - a web developer then
36:05 - keep learning more about html and css
36:08 - but then also learn some javascript as
36:10 - well start into that so i recommend
36:13 - uh if you if you have some time now
36:16 - uh start with free code cam if you
36:19 - already know a little html and css the
36:21 - first few lessons are going to be really
36:23 - easy for you
36:24 - but then you'll you'll move into
36:26 - javascript and that'll give you a nice
36:28 - foundation
36:30 - so if you go to freecodecamp.org
36:32 - that's a great place to start there are
36:34 - a lot of other resources
36:36 - but
36:37 - you know kind of as a simple answer to
36:39 - your question
36:40 - i would start there
36:42 - and as soon as you feel comfortable
36:44 - start building some projects set up your
36:46 - get
36:47 - your github
36:50 - profile
36:51 - and put your projects on github
36:54 - after you get a few projects made get
36:56 - more comfortable
36:58 - you could start applying to jobs
37:00 - and you know you gotta you have a real
37:02 - shot at becoming a developer
37:05 - you know depending on how much work you
37:07 - can put into it you know somewhere maybe
37:09 - in the next year even
37:11 - uh you'd be ready to get a good job
37:14 - so
37:15 - that means different for everybody
37:17 - depends on a lot of the factors but you
37:19 - know it's definitely a possibility
37:23 - javascript is here hey what's up
37:26 - harshit's here nikki
37:31 - everybody's here we got we have
37:33 - all our other regular people i think are
37:35 - in here awesome
37:52 - marshall says yeah i remember that file
37:55 - yeah that's
37:56 - honestly hardship that
37:58 - that has been great i use it constantly
38:01 - uh for migrating data it just worked
38:02 - perfectly
38:30 - uh javascript just says why not use
38:31 - algolia for search instead of powered by
38:34 - google so this is the the search
38:36 - uh that we were talking about um
38:43 - i'm just gonna type in rugby because i'm
38:45 - curious to see whether or not we have
38:47 - sports pages on here
38:51 - anyway
38:52 - this website i've had very very little
38:55 - to do with it was
38:57 - developed before i started working here
39:00 - so
39:01 - a lot of the decisions that pretty much
39:04 - all the decisions were made without me
39:05 - really i've
39:07 - the only work i've done on this is just
39:10 - really really minimal things like if
39:12 - something looks really bad sometimes i
39:14 - get to change it um
39:18 - i did do some work to try to make it
39:20 - faster and i did make it significantly
39:22 - faster but it's still really slow like
39:24 - if your load times are like 160 seconds
39:28 - on 3g and you cut the load times in half
39:31 - your site is still insanely slow right
39:34 - it still has 80 seconds load time so i
39:37 - percentage-wise it was impressive how i
39:39 - cut the load times but it's still too
39:41 - slow which is a big reason why we're
39:43 - completely redoing the site
39:46 - so anyway javascript that's why we're
39:48 - not using algolia because
39:51 - i had no say in that
39:58 - hey dimitri says hi jesse how are you
40:01 - not bad i'm a little bit tired
40:03 - but other than that i'm okay
40:06 - uh any how are you doing if you're still
40:08 - here dimitri let me know
40:11 - michael says just remember to build a
40:13 - cute 404 page before a launch just in
40:15 - case you know what i i actually put that
40:17 - in as an issue in the github repo
40:19 - uh that we need a 404 page i thought
40:22 - about it sometime last week
40:24 - and
40:26 - i
40:27 - i thought i definitely need to make this
40:29 - an issue so i don't forget
40:36 - chris is that html inside your database
40:39 - uh
40:40 - yes i'm
40:42 - i'm pretty sure i know what you're
40:43 - talking about like what with that and
40:45 - what i was showing on the screen and yes
40:47 - like the the actual html
40:49 - uh comes over
41:02 - michael says instead of deleting out of
41:04 - the xl why not add a um
41:07 - you know a yes or no column for imported
41:09 - and filter out for blanks uh or no that
41:12 - way you want to accidentally delete
41:14 - something
41:16 - that probably has been a better idea
41:19 - at this point i'm just going to keep
41:20 - going with that with what i have i do
41:22 - have a copy of that excel sheet that
41:26 - doesn't have any of anything deleted
41:29 - that i can refer to if i if i need to
41:32 - if later on i realized like i'm missing
41:35 - something
41:37 - i can always double check on that and i
41:39 - still have the actual database
41:42 - that
41:43 - is still intact so
41:45 - there's a few ways i could still find
41:47 - that but anyway michael that that
41:49 - probably would have been a better way
41:52 - i just didn't think about it
41:59 - javascript just says i forgot how does
42:01 - one shoot a vid or do a live for free
42:03 - code camp um you could try to like make
42:06 - a video on your own and then send it to
42:09 - you probably want to talk to beau carnes
42:11 - um you could try talking to quincy but i
42:14 - think he usually says like talk to beau
42:16 - because beau handles a lot of um
42:19 - like bringing people into the channel
42:21 - and letting them know like he he did
42:23 - like some training with me
42:25 - uh when i came in and bo is actually the
42:28 - one that saw my
42:29 - live streams on my channel first
42:31 - and then invited me to come onto this
42:33 - channel
42:34 - so
42:35 - i would get a hold of him
42:37 - on twitter or through email or something
42:39 - like that and
42:41 - let him know you're interested
42:43 - you know send them a video that you've
42:44 - done
42:46 - something like that and then that's you
42:47 - know you just go from there
42:50 - uh
42:51 - good
42:52 - gideon i'm not sure how to pronounce
42:55 - that but gideon says isn't there a
42:56 - better way to do this
42:59 - if anyone knows a better way to do this
43:00 - let me know
43:02 - the problem that i found is that the
43:04 - data is so separated out
43:07 - i
43:10 - i can't bring over large chunks at a
43:12 - time if i want it to be organized at all
43:15 - on the other side
43:17 - uh there's no
43:22 - there's just nothing i could find
43:25 - the only thing i could find that even
43:26 - remotely groups data into
43:28 - reasonable groups is that folder id and
43:31 - there are so many folders
43:35 - that i i have to go through and say okay
43:37 - what is in this folder
43:39 - what should we categorize it as
43:42 - and then bring it over
43:44 - so there were some chunks some folders
43:46 - that had a lot of stuff in it and i was
43:48 - able to bring over like 700 things at
43:50 - once and that was awesome
43:53 - but now i'm getting to the point where
43:54 - all the folders that are left only have
43:56 - a few things in each folder
43:58 - so it's just kind of slowing the process
44:00 - down a lot
44:02 - i mean really if anybody thinks there's
44:05 - a better way to do it that would be easy
44:06 - to implement and switch to
44:09 - and
44:10 - get through all the rest of it you know
44:11 - let me know
44:14 - uh i'm open to trying but at this point
44:18 - i migrated
44:20 - more than half of the data i hope
44:23 - and uh so just i'm kind of gonna like
44:25 - stick with what i have and get through
44:27 - it
44:32 - uh
44:33 - destroyer of world says what cms was it
44:37 - a cms content management system uh just
44:39 - in case um you're not familiar with that
44:42 - term
44:43 - uh
44:44 - it was called ektron all right nikki
44:46 - says is ektron
44:48 - yeah
44:50 - yeah and the new cms is wordpress
44:53 - the old one is ektron so extron
44:58 - is not very easy to work with in my
44:59 - opinion
45:02 - um not nearly as easy to work with as
45:04 - wordpress
45:05 - and it costs a lot of money to use it
45:07 - every year and you have very limited
45:10 - amount of users uh who can actually
45:12 - edit things in extron
45:14 - wordpress way more
45:16 - user-friendly um
45:19 - and you can have unlimited users for
45:21 - free
45:22 - so
45:23 - it was kind of a no-brainer and like
45:25 - should we switch our content management
45:27 - system like absolutely another big thing
45:29 - is ektron the company is no longer a
45:31 - company anymore got bought out by
45:32 - another company so
45:35 - i'm not even confident that it's
45:37 - really receiving good support anymore
45:49 - hattie says i am new with this project
45:51 - where do you get this data from and what
45:53 - will this website do are you writing a
45:56 - personal code and running it with
45:58 - wordpress are we able to do that
46:00 - um
46:03 - okay so nikki answered
46:05 - so i'm writing a site and this is how
46:08 - nikki says he's writing the site in
46:09 - react and using wordpress as a headless
46:11 - cms
46:12 - so
46:13 - yeah i'm getting all the data from an
46:15 - old uh
46:16 - database
46:18 - and i'm bringing it over into wordpress
46:22 - uh heidi says i heard that wordpress
46:24 - does most of the work but you're writing
46:26 - your own code can you explain a little
46:28 - yeah okay so the code that you were
46:30 - seeing
46:31 - was well two there are two pieces of
46:33 - code that i showed you one was the
46:36 - little bit of node.js that we were using
46:38 - to migrate data and then the other thing
46:40 - i i showed briefly was
46:42 - a php plugin for wordpress
46:46 - uh so if you're not at all familiar with
46:48 - wordpress you you write plugins
46:51 - in order to add functionality to
46:54 - wordpress and in this case we're adding
46:57 - post types
46:58 - so like if you think of a post in a blog
47:01 - that comes standard in wordpress
47:03 - but if you want to add another piece of
47:05 - a type of content in
47:07 - and
47:09 - you can do that and create a custom post
47:11 - type so that's what we're doing as a way
47:13 - to organize data
47:14 - uh and
47:16 - it's better for the people who need to
47:18 - edit it and then it's better for us to
47:20 - be able to grab that data and use it and
47:22 - react
47:23 - if we separate it out into a lot of you
47:25 - know different post types different
47:27 - categories and things
47:30 - so that's what i'm doing and then
47:31 - there's a whole lot of other code for a
47:34 - react site
47:35 - so
47:37 - we're really only using wordpress
47:40 - for the content management and not for
47:41 - display at all
47:43 - so that's why we say it's a headless
47:45 - wordpress install
47:47 - all the display part of it
47:50 - is happening in reacts
48:02 - an extraordinary of world says lol
48:05 - ektron do you do you have experience
48:07 - with extron very few people have had
48:10 - experience with it but i've never met
48:11 - anybody that actually likes it
48:18 - i apologize if anybody that actually
48:20 - developed ektron is watching in the
48:22 - stream
48:23 - um
48:24 - i'm sure that
48:25 - when it came out it was probably very
48:27 - state of the art it's just by today's
48:30 - standards it's not
48:32 - um
48:33 - a great cms
48:40 - uh heidi says why not use database
48:42 - directly uh because
48:46 - um
48:48 - we need a way for users who don't really
48:51 - have any experience with uh programming
48:55 - to be able to edit content
48:57 - so wordpress is that that user interface
49:01 - that's going to allow them to edit
49:02 - content and have it get saved to a
49:04 - database so if we just were going
49:06 - straight from the database
49:08 - it would be difficult for users to put
49:10 - data in i wouldn't want to put data
49:13 - directly in a database and i know how i
49:16 - still would rather have like a nice
49:18 - whizzy wig editor to do it in
49:20 - uh if it's just some simple you know
49:22 - text content changes
49:24 - so that's why we're doing it like that
49:31 - hey phoenix is here how are you doing uh
49:33 - heidi says can you share your list
49:34 - please i'm interested in how you have uh
49:37 - created it
49:39 - you mean my uh my checklist
49:42 - it was just it's just check boxes in uh
49:44 - in google keep so it's not any like
49:46 - custom thing it's just the standard that
49:48 - comes with it
49:54 - uh chris barker says
49:56 - i would i also would advise people who
49:58 - are familiar with css to look up css
50:01 - grid
50:02 - uh
50:02 - rachel andrews is a good place to start
50:05 - she created the spec uh grid okay
50:08 - actually that's a great i've been
50:10 - meaning to to learn more about css grid
50:12 - lately um my wife and i both we were
50:15 - just talking about it yesterday
50:17 - uh so
50:18 - rachel andrews i'll have to i'll
50:20 - definitely have to look that up
50:22 - thanks for that chris
50:26 - john's here john hanson's is uh i'm here
50:29 - too hey listening today as i'm painting
50:31 - up a storm
50:32 - awesome all right i don't know if any of
50:34 - you know uh
50:36 - john is a really talented artist so
50:41 - he's a man of many talents programming
50:44 - and art and i'm sure other things that i
50:47 - don't even know about
50:53 - uh nathan says really great content
50:55 - jesse i love this content and delivery
50:57 - wow i'm really thank you for saying that
50:59 - i really appreciate that
51:02 - uh
51:03 - sunu says hi hey how's it going
51:07 - nathan says create a solution for this
51:09 - that is generalized to migrate any data
51:12 - set
51:13 - uh it would be cool to catalog the
51:15 - problems at each way uh an ideal
51:18 - solution
51:21 - yeah i i
51:25 - i
51:26 - started doing this i guess before
51:28 - there was so much data it was just
51:33 - so much data and it wasn't categorized
51:36 - in the best way that it was just really
51:38 - difficult to create a solution that
51:39 - would allow me to just bulk import data
51:42 - and really cover all the different
51:44 - situations because some of it just
51:48 - wasn't there wasn't the same set of
51:51 - logic applied like
51:53 - routinely throughout the development of
51:55 - the site
51:57 - so
51:57 - different people who don't even work
51:59 - here anymore added things in and
52:02 - contract workers who never worked here
52:04 - added things in and it
52:06 - sometimes we had like student workers
52:07 - working on it and
52:09 - so it's just really difficult to come up
52:11 - with something that would work
52:13 - for all the data when it was just so
52:17 - uh i guess in a sense like disorganized
52:20 - in some ways
52:29 - all right let me check my time
52:31 - okay i only have like two more minutes
52:33 - so i'm gonna
52:34 - just try to get some of the questions uh
52:36 - harshit's asking me about uh jsaf i
52:39 - really like it i we can get in more into
52:41 - it and twitter today i'm actually super
52:43 - busy so i apologize if i'm not um that
52:46 - active on twitter for any of you that
52:48 - are
52:49 - you know trying to talk to me on any
52:50 - social media
52:52 - uh today's just a busy day for me
52:55 - um
53:06 - okay phoenix says westboss's course on
53:08 - css grid is also really
53:12 - awesome right i'm gonna have to look
53:14 - into that as well i haven't ever taken
53:16 - anything by westboss but everybody says
53:18 - it's awesome so i'm gonna have to try it
53:20 - out
53:24 - john hanson says someone's him a bit of
53:25 - a birder as well
53:30 - uh hattie says i thought cms is
53:31 - something used for both database and uh
53:34 - showing all the content and it can't be
53:36 - separated but you said using cs cms for
53:39 - database why didn't you use database
53:41 - directly yes so um
53:43 - essentially you you can separate them so
53:45 - that's what we've done we've separated
53:47 - all the um
53:50 - basically what a user sees when they
53:51 - come to our website is no longer
53:53 - controlled by wordpress
53:56 - so essentially like you have let's
53:58 - you can't really see my i was going to
53:59 - do something with my hands but like
54:00 - imagine you have a database that lives
54:02 - here
54:03 - the users
54:05 - who are content editors
54:07 - interact with the database through
54:08 - wordpress which sits here
54:10 - and then
54:12 - over here
54:13 - separately i can't get into
54:17 - over here separately sits our react site
54:20 - and that's what users who are coming to
54:22 - the website will see the react site
54:24 - pulls data
54:26 - from the database through wordpress
54:29 - so like no one ever interacts directly
54:31 - with a database wordpress is the
54:33 - intermediary between the two
54:36 - that's both helping to pull the data in
54:39 - in an organized way to a react site and
54:41 - helping content editors to be able to
54:44 - in a very easy way edit things that are
54:47 - in the database without even
54:49 - even realizing there's a database there
54:52 - so that's kind of what we're doing so
54:55 - i think yeah i definitely have to go now
54:57 - my meetings in just a few minutes
54:59 - so
55:01 - anyway thank you all i apologize if i
55:03 - didn't spend couldn't spend as much time
55:05 - as i maybe normally would answering
55:07 - questions
55:08 - feel free to always you know ask me
55:09 - questions in the comments of the videos
55:11 - on twitter uh instagram facebook uh
55:14 - email anything you like in any way you
55:17 - can find me you can write me a letter if
55:18 - you want i'm sure you can find my
55:19 - address if you google me it's probably
55:22 - not that hard
55:23 - uh
55:24 - so you send me a text if you want to
55:26 - um i know my
55:28 - phone number's out there as well
55:30 - but anyway i have to go to a meeting
55:33 - thank you so much everyone for all your
55:36 - great uh encouragement and questions and
55:39 - uh i had a great time doing the stream
55:41 - it definitely woke me up a bit
55:43 - and uh i
55:46 - i'm working on my home setup for
55:47 - streaming
55:48 - hopefully i'll have it ready tomorrow so
55:50 - i can stream from home i'll let y'all
55:52 - know uh on twitter
55:54 - uh for sure
55:55 - uh if i will be streaming or not
55:57 - tomorrow
55:59 - uh so
56:00 - hopefully see y'all tomorrow until then
56:02 - have a great day

Cleaned transcript:

hey everyone welcome to live coding with jesse i'm jesse and today we're going gonna do a shorter than normal stream because i have a meeting in less than an hour uh and also we're doing something that may end up being a little bit boring we're doing some data transfer so it needs to be done i need to get all this data transferred really soon because i'd like to have um i'd like to be done with it be done with the data transfer and just finish out getting a test version of this site available on a public url for everyone to try and give us a month before we need to launch you know to have as many people as possible test it and get feedback so that's why we're doing uh just some data transfer stuff you know on the stream which i usually save for uh when i'm not streaming but i thought it might be useful to show it and um i'm a little bit a little bit tired today my daughter cordelia who's one and a half just wanted to party last night so she didn't feel like sleeping uh so if i if i sound a little like uh less enthusiastic than normal that's why so i'm gonna try my best to fight that though okay so let's get started let me switch my view and the first thing i'm going to do is just introduce you to the code we're using to migrate so it's been a long time since i've i've showed this code uh on a stream so you may not be um you may not be familiar with it unless you watched i don't know maybe two months ago it would have been the last time we showed it so this was basically built by one of the the viewers so harshit uh built this and i've modified it depending on the type of content that i need to bring over but what we're doing is we're bringing in a few packages right so this is node.js in particular we have sqlize and fetch so sqlize helps us to get data from a sql database in one case we're going from one type of sql database to another type of sql database so sql server to my mysql so we're we have our database info right so name password everything we need to actually get in there and i can connect to this database but only from this computer that i'm at right now and only if i'm on a certain network so um i'm a little bit limited in in what i can do so we're connecting to the sql server database and then we're pulling out data so we have this sql query here and this is just using a template literal right to write our sql query so i manually modify the sql query based on the data that i'm getting so on my other screen i just have an excel spreadsheet that i i created from that database that gives me the content of each um what do you say like each row in the excel spreadsheet gives me one item in the database and i can see the content i could see the folder id and that's what we're using the folder id is the key piece of content so we want to bring over the content id the title the content html the teaser the date created from our content table where folder id is whatever we set it to in this case i just imported everything from 4 to 441 and then data length of content html is greater than zero so there's there are a lot of items in the database that have no content at all i don't want to bother bringing them over so that's why we have this piece to filter out so we're grabbing all that and then the next step is let's insert it into my sql database so that's why we're using fetch that's why we imported fetch here node fetch so in the browser now depending on your browser you would automatically have access to fetch but this is server side so we have to bring in node fetch or something like that there's another package called unfetch that'll do the same thing so we're going to use the wordpress api to put the data into our mysql database because we're using wordpress to manage that database so why not just use the api and it will make sure that that data gets put in in the proper order in just the right way that wordpress likes so that's why we ended up doing it like that so you can see here we we take our wordpress um our uri so basically we have the url we already have uh the url that we're we're trying to send it to here and then we just add in the post type that we wanted to go into in this case i was adding an into graduate program which is a post type that i just created a few minutes ago to handle some of that data we have a few other options here that are commented out but if we needed to make some changes to the titles we're using some regular expressions to do that in this case we don't need to or i didn't need to for that last post type we also are doing some things to manipulate the date so that the date gets into the the format the dates in and the old server is not the right format we need for the new server so we do some stuff to make sure it is in the right format and then this is the how we format the data so we basically just take the data in the way that the wordpress api wants it and we just plug in what we've gotten from the sql server so wordpress doesn't want content html they want content see so we just put it in the right the right way and we just do a simple fetch right and we just send that data to the right place and then the wordpress api takes care of all of the rest and actually inserting that into the right place in the my sql database so that's it i mean it's it's it works it it works really really well but it's not it's not super complicated to go through it so let's do some some more migration uh let me say hello to everybody i see this uh some of you saying hi um i see there's already a few questions let me let's do it like this what time is it okay let me start my pomodoro timer i'm gonna do one pomodoro session and then i'll answer all the questions after that up until um maybe about five minutes till three p.m eastern time and then i'll have to stop and go to a meeting okay so hang in there if you've asked a question or if you want to ask a question i'll get to it in about 25 minutes so for now let's we're going to basically be here for most of the time if we need to make another custom post type we're going to be here if you're interested in the plugin that we created to handle all these different custom post types and taxonomies this is now on the github repo so if you go to that fus marcom github organization this is the latest repository there i've i've added that plugin which that's that's new i i just did that last week before that i wasn't tracking it with git all right so i have on a few of my other screens i have some uh some data uh already set up in terms of like that spreadsheet that i told you about and just a list of items that i've as i've gone through building the site i've noticed like hey we don't have this data yet so owners program pages saving the same savio pages all right so let's see here's here's my process let me drag some of this over to the screen and here's my oops let me organize this a bit better let's pull this over here there we are okay so what i've been doing is basically just searching the site to find out some of the pages this is the current website summer ancient and biblical languages institute so i currently don't have any of the data for this program that we have um so our ancient language institute oh that's a pdf all right definitely don't need to worry about that right now there we are so i go in here and just try to see like all right how many pieces of data are we looking at two three four five maybe like five pages so not really a lot occasionally these pages will be broken up into different pieces of data so it may be more than five that we're looking at and then i'll grab some of the text and usually it's it's just enough to grab like seven or eight words and then i go over to my spreadsheet which i'm gonna pull this over so that you all can see it let's fold over here so i go over to my spreadsheet this is going to be really small it it doesn't really matter to be able to read it it's just like the concept of how i'm doing this so i paste that in and try to find it it looks like it's not here that's not good news so well it may or may not be good news it could mean that i've already brought it over uh and didn't realize it at the time that i brought that data over let me try to grab just some other piece of data from here um let's see maybe this one uh the other possibility is that this page has been edited since i made a copy i had a copy made of the database and so uh this data is actually newer than what i had so that's why i'm going to try to grab another piece of data and try to do a search with that there we are okay so it looks like we're we are able to find this awesome so this is a little bit small so you may not be able to see it but i found a few pages that do say that that's sabl institute and now i can look over here at the folder number and it's 346 and if i look every piece of data here in that 346 folder all have to do with that same institute so safe to say we can grab this everything in this 346 folder and categorize it in in our new database as um as that type of of data so let's see i know i just lost it three four six yeah this spreadsheet is a little intense um now i want to make sure it seems like i'm missing a pitch one two three four why is there only four so one two three four five let me see what this page is see this is like part detective work all right this explains why i only have four pieces of data because this page doesn't really have content it's pulling um other content that we've already brought over but just in a different post type these this content is stored under our faculty profiles so we've already pulled these over so that explains why so i i need to be really careful to make sure that i don't miss parts because that could be a mess later on uh when you know i'm trying to launch and people are saying this page doesn't work this page doesn't work and uh so this is good this this should be fine sapos yeah so we may need to make a custom post type for this so let me bring over and show you what we have going on in wordpress so right now okay we do have a post type for institutes let's check out if we have anything in there yet what you gotta be kidding me i have this institute texts ancient languages all right let's see read the ancient writers from the words experience immersion we may i may have already brought this over if so that is excellent course credit descriptions let's see if we have that wow and it's already categorized you got to be kidding me so uh this is really good news unfortunately i didn't when i first started bringing over data i was just bringing over a ton of data and i didn't take the time to mark down what i was bringing over and so occasionally not often but occasionally i run into this where i've actually already brought over data but it was so long ago that i didn't even remember so this is great now what we can do is go in here and delete these rows i made a copy of the original spreadsheet i was working off of but in this one every time i verify the data is there i delete the rows so ideally what will happen is once i have no rows left i will know that i've transferred every bit of data so that's the idea i just have to make sure i'm very careful so that that in fact is is really the case so it looks like for sure everything in this folder here i can go through but also we have this veritas center which i believe i saw that in there as well we can verify that um there it says i thought we had it in here oh there's two pages let's see the shout out conference hmm oh you know what i guess i gave them their own custom post type so where it's uh so we do have veritas stuff in here there's a center for bio ethics do i have that it doesn't seem like i have that particular piece of data oh i do i have it here veritas center for republica all right um i will i'll have to figure out what the heck is going on with that because i don't really see why i would want to separate out those two into different post types but i have verified that it's there so we can delete that as well that's great now i can mark that off my list and next thing on the list are honors programs which is awesome because i just happen to have the honors program pages right here all right honors program it looks like we only have three three pages here honest program requirements let's verify though and we can get rid of this and this we'll go back to our search type in honors program okay so this is actually treated as if it were a major in terms of um where this content is on the site and the url it's given so it's the same way as as we would treat a program or a major so that's interesting and we also have two different urls for this we have one with a hyphen and one without a hyphen i bet they go to the same page do all right we'll have to make sure we account for that in our routing uh if we haven't already but um all right so it looks okay like we we have that honors program the great thinkers requirements list information there we go requirements is here under owners program as well and then austria so those are the three things we need and none of this is okay good so we have this honors program stuff what i think we'll do then is we'll put this data in the same place as we would put other majors and things like that and i think we'll categorize it underneath the classics category that we already have since that's where it's it's being categorized right now we probably should verify that it's not already there so let's go into our majors section type in honors honors program quick links so it looks like we don't have everything honestly quick links okay so we do have one piece of data here oops but not everything so let's pull this over then so we need a few pieces of information and that is the folder id which looks like it's 340. so we're going to put in 340 into here okay and then in this case we want this to be under the major post type so we're going to type in major and then we also want to make sure this isn't the right category so we have this faculty department taxonomy and we have to get the category id so let's go back over here where wordpress is and make sure we can get the right id so if we go to faculty department and we go over to classics if i hover over it the url shows up really small at the bottom and that url has the id number which is 19. that's the fastest way that i've found to just get the id right away with the fewest number of clicks so i get 19. so now i can go back here type in 19 and that's all we have to change and now i can just run this so i'm going to run node migrate.js because that's what this file is called that we're working in we can do migrate.js and see uh it's you know it gives us a little message here of you know here's the sql query that we're running and then here's how many posts we brought over which is three which is what we expected i cancelled that out just by pressing ctrl c now we can go back over to wordpress and verify that that data is there now so if we go back to let's see uh classics because that's the category we went to and click that it'll give us all the classic stuff we should be able to see yep we have the honors program front page honors program requirements on this program for students in austria and we could click that and see how this comes through it's actually not bad right we can see the the raw html here it's not too bad you know we've got h1s and things so um there's occasionally weird stuff like right down here we just have an h5 just hanging out in empty h5 i'm gonna get rid of that i don't clean up the data always i just wanted to show you what it's like eventually i do want to go through and clean it all up but it's not a hundred percent necessary before launch at least not for most pages i mean ideally i also wouldn't have like eight h1 two h3s and an h4 all right there at the top it's a little odd um but all in all that's not really bad that you know this data is coming out of a totally different content management system and we're able to pull it into wordpress and it it basically works so i'm just going to update that but we can see it also pulls over the correct publish date so this data was actually published in 2014 long before i was working here but this gives us a way to keep track of like how old is the data actually so that's why we're bringing over the original publish dates otherwise everything would seem like it was published this year which is definitely not the case wonderful so now the next step would be make sure i get rid of this data in the spreadsheet so it's just those three pieces i'm going to delete that and then on my other screen i just have a checklist in google keep so i'm just checking things off as i go through and i do wanna at this point check how much time i have left see if we can get into anything okay about seven minutes and i see there's a lot more questions in there i'm not i'm not ignoring the live chat forever i will get back to it in about seven minutes uh let's see i'm gonna try to get one more type of data in and um depending on what we have i i may even need to make a custom post type here or taxonomy add categories to jobs okay i need to get hr profiles so this i i might need an another um custom post type for this so first i want to try to find where this is on the website so don't think about there we go human resources i won't need to search for this one i i know where it's at in the menu uh let's see hr i think that's these are where they were yeah so there's this whole section of why i chose franciscan and it's people that work here and it's their story about why they they work here so the data that i really want is this here and you know this image as well it should just be a url linking that image for now so that's that's what we want to find so once again i'm just going to grab some of this data and i'm going to go back over to our spreadsheet i'm gonna paste that in and search for it no couldn't find it all right let's try to grab it from somewhere else you gotta be kidding me oh thank you i i maybe since i had highlighted those sections it was only searching in that section so uh all right great so it looks like we we have these um those same names of the people that we just saw up there and this is in for 615 so let's double check um wow this profile is actually for the head of my department so uh i believe sh the ex she's the executive director i think that's her title um great so let's bring over everything here in the 615 folder i'm going to create a new post type and these are going to be hr profiles as far as i can tell they are definitely different from some of the other profiles that we've we've brought over so let's create the post type first and then we'll we'll bring them over so we we do that we have an option actually so we already have we can see in wordpress we have an hr section so we could just bring these over into hr into that section uh human resources and perhaps give them some sort of um category or something that would say like okay these are our profiles we want to use either way we have to set up something either a custom taxonomy or a custom post type i think it'll be easier right now to do a custom post type it's something that could definitely be changed at some point let me see what the url looks like this is going to be the probably the big deal actually uh how the url structure is whoa that's awful i don't know if you can see that url but that's no good all right so i don't know what's up with that one but this one let's see all right so our ur structures hr slash profiles slash and then we have uh last name hyphen first name hmm what would be would be the easiest way to bring this in all right let me think about it just just for a few seconds uh i'm trying to think how our how our router works in our server.js file in our react site i think we'll be fine i think yeah we'll be fine to just pull this into our hr pages i don't even think we need a category yeah i think we'll be okay uh there's gonna be a slight chance that this data could be pulled in if you type in a different url but i'm not worried about that it won't conflict with existing urls so i think we'll be okay all right so let's go over so this this will make it a lot faster so let's verify was that 6 15 okay where am i at six yeah so let's go 6 15. 615 and let's go human human resource i think i did it let's let's make sure that i did it like that human resource yep all right so when you bring it in uh in here it has to be the singular so it sounds a little weird to say a human resource but that's how i named it and we need let's let's go with let's clean up the names first all right so we're going to clean up our names and we're going to add that to the slug that'll help us uh it may not perfectly get the slugs how we want it but it'll get them a lot closer and i i think that'll be easier we might luck out some of them might have the right slugs automatically we won't have to manually change them so we don't need this faculty department and i think we're i think we're good and that's what we need all right so let's save that run it there we are we got six of them it's stopped that process and then now we can go back over here check out our human resources and see oh nice so we we do have now these people here and let's check out our slugs so i do i want to see how it works with someone that has a doctor and their name where the slugs come out i mean all right awesome those slugs are actually perfect so it's been so long since we did that regular expression i couldn't remember exactly what it would do but it actually is uh is perfect it reverses the name so you have last name first and then first name takes out doctor or any title like that and adds the hyphen so uh there will be no need for us to go in and manually adjust those slugs and you can see we we have urls and fortunately they are relative urls so once i eventually transfer all of the image the images from where they reside now to our wherever i'm going to have them later on as long as i keep the same folder structure all those relative urls will still work so it'll save a ton of time and um that should work so i think yeah it won't work automatically right now because i need to set up a few more things in the router uh but otherwise as soon as i i set up that route in our server.js file those should work fine they should be good awesome so my timer is is up um trying to think so what i need to do i don't need to um push anything to github because all the changes we made we're just transferring data we didn't make any changes to code so now i got to keep an eye on my time so i make get to my meeting on time but i'm going to go back to the chat and oh let me check off check this off on my uh to do list here it's always nice when you start checking things off and you see that list getting shorter but i am now i'm going to spend the whole rest of the time answering your questions and checking out your comments in the live chat uh tech techie gang says sir i just graduated and have moderate knowledge in html and css what should i do to get a great start in career if you want a career as a developer like a web developer then keep learning more about html and css but then also learn some javascript as well start into that so i recommend uh if you if you have some time now uh start with free code cam if you already know a little html and css the first few lessons are going to be really easy for you but then you'll you'll move into javascript and that'll give you a nice foundation so if you go to freecodecamp.org that's a great place to start there are a lot of other resources but you know kind of as a simple answer to your question i would start there and as soon as you feel comfortable start building some projects set up your get your github profile and put your projects on github after you get a few projects made get more comfortable you could start applying to jobs and you know you gotta you have a real shot at becoming a developer you know depending on how much work you can put into it you know somewhere maybe in the next year even uh you'd be ready to get a good job so that means different for everybody depends on a lot of the factors but you know it's definitely a possibility javascript is here hey what's up harshit's here nikki everybody's here we got we have all our other regular people i think are in here awesome marshall says yeah i remember that file yeah that's honestly hardship that that has been great i use it constantly uh for migrating data it just worked perfectly uh javascript just says why not use algolia for search instead of powered by google so this is the the search uh that we were talking about um i'm just gonna type in rugby because i'm curious to see whether or not we have sports pages on here anyway this website i've had very very little to do with it was developed before i started working here so a lot of the decisions that pretty much all the decisions were made without me really i've the only work i've done on this is just really really minimal things like if something looks really bad sometimes i get to change it um i did do some work to try to make it faster and i did make it significantly faster but it's still really slow like if your load times are like 160 seconds on 3g and you cut the load times in half your site is still insanely slow right it still has 80 seconds load time so i percentagewise it was impressive how i cut the load times but it's still too slow which is a big reason why we're completely redoing the site so anyway javascript that's why we're not using algolia because i had no say in that hey dimitri says hi jesse how are you not bad i'm a little bit tired but other than that i'm okay uh any how are you doing if you're still here dimitri let me know michael says just remember to build a cute 404 page before a launch just in case you know what i i actually put that in as an issue in the github repo uh that we need a 404 page i thought about it sometime last week and i i thought i definitely need to make this an issue so i don't forget chris is that html inside your database uh yes i'm i'm pretty sure i know what you're talking about like what with that and what i was showing on the screen and yes like the the actual html uh comes over michael says instead of deleting out of the xl why not add a um you know a yes or no column for imported and filter out for blanks uh or no that way you want to accidentally delete something that probably has been a better idea at this point i'm just going to keep going with that with what i have i do have a copy of that excel sheet that doesn't have any of anything deleted that i can refer to if i if i need to if later on i realized like i'm missing something i can always double check on that and i still have the actual database that is still intact so there's a few ways i could still find that but anyway michael that that probably would have been a better way i just didn't think about it javascript just says i forgot how does one shoot a vid or do a live for free code camp um you could try to like make a video on your own and then send it to you probably want to talk to beau carnes um you could try talking to quincy but i think he usually says like talk to beau because beau handles a lot of um like bringing people into the channel and letting them know like he he did like some training with me uh when i came in and bo is actually the one that saw my live streams on my channel first and then invited me to come onto this channel so i would get a hold of him on twitter or through email or something like that and let him know you're interested you know send them a video that you've done something like that and then that's you know you just go from there uh good gideon i'm not sure how to pronounce that but gideon says isn't there a better way to do this if anyone knows a better way to do this let me know the problem that i found is that the data is so separated out i i can't bring over large chunks at a time if i want it to be organized at all on the other side uh there's no there's just nothing i could find the only thing i could find that even remotely groups data into reasonable groups is that folder id and there are so many folders that i i have to go through and say okay what is in this folder what should we categorize it as and then bring it over so there were some chunks some folders that had a lot of stuff in it and i was able to bring over like 700 things at once and that was awesome but now i'm getting to the point where all the folders that are left only have a few things in each folder so it's just kind of slowing the process down a lot i mean really if anybody thinks there's a better way to do it that would be easy to implement and switch to and get through all the rest of it you know let me know uh i'm open to trying but at this point i migrated more than half of the data i hope and uh so just i'm kind of gonna like stick with what i have and get through it uh destroyer of world says what cms was it a cms content management system uh just in case um you're not familiar with that term uh it was called ektron all right nikki says is ektron yeah yeah and the new cms is wordpress the old one is ektron so extron is not very easy to work with in my opinion um not nearly as easy to work with as wordpress and it costs a lot of money to use it every year and you have very limited amount of users uh who can actually edit things in extron wordpress way more userfriendly um and you can have unlimited users for free so it was kind of a nobrainer and like should we switch our content management system like absolutely another big thing is ektron the company is no longer a company anymore got bought out by another company so i'm not even confident that it's really receiving good support anymore hattie says i am new with this project where do you get this data from and what will this website do are you writing a personal code and running it with wordpress are we able to do that um okay so nikki answered so i'm writing a site and this is how nikki says he's writing the site in react and using wordpress as a headless cms so yeah i'm getting all the data from an old uh database and i'm bringing it over into wordpress uh heidi says i heard that wordpress does most of the work but you're writing your own code can you explain a little yeah okay so the code that you were seeing was well two there are two pieces of code that i showed you one was the little bit of node.js that we were using to migrate data and then the other thing i i showed briefly was a php plugin for wordpress uh so if you're not at all familiar with wordpress you you write plugins in order to add functionality to wordpress and in this case we're adding post types so like if you think of a post in a blog that comes standard in wordpress but if you want to add another piece of a type of content in and you can do that and create a custom post type so that's what we're doing as a way to organize data uh and it's better for the people who need to edit it and then it's better for us to be able to grab that data and use it and react if we separate it out into a lot of you know different post types different categories and things so that's what i'm doing and then there's a whole lot of other code for a react site so we're really only using wordpress for the content management and not for display at all so that's why we say it's a headless wordpress install all the display part of it is happening in reacts an extraordinary of world says lol ektron do you do you have experience with extron very few people have had experience with it but i've never met anybody that actually likes it i apologize if anybody that actually developed ektron is watching in the stream um i'm sure that when it came out it was probably very state of the art it's just by today's standards it's not um a great cms uh heidi says why not use database directly uh because um we need a way for users who don't really have any experience with uh programming to be able to edit content so wordpress is that that user interface that's going to allow them to edit content and have it get saved to a database so if we just were going straight from the database it would be difficult for users to put data in i wouldn't want to put data directly in a database and i know how i still would rather have like a nice whizzy wig editor to do it in uh if it's just some simple you know text content changes so that's why we're doing it like that hey phoenix is here how are you doing uh heidi says can you share your list please i'm interested in how you have uh created it you mean my uh my checklist it was just it's just check boxes in uh in google keep so it's not any like custom thing it's just the standard that comes with it uh chris barker says i would i also would advise people who are familiar with css to look up css grid uh rachel andrews is a good place to start she created the spec uh grid okay actually that's a great i've been meaning to to learn more about css grid lately um my wife and i both we were just talking about it yesterday uh so rachel andrews i'll have to i'll definitely have to look that up thanks for that chris john's here john hanson's is uh i'm here too hey listening today as i'm painting up a storm awesome all right i don't know if any of you know uh john is a really talented artist so he's a man of many talents programming and art and i'm sure other things that i don't even know about uh nathan says really great content jesse i love this content and delivery wow i'm really thank you for saying that i really appreciate that uh sunu says hi hey how's it going nathan says create a solution for this that is generalized to migrate any data set uh it would be cool to catalog the problems at each way uh an ideal solution yeah i i i started doing this i guess before there was so much data it was just so much data and it wasn't categorized in the best way that it was just really difficult to create a solution that would allow me to just bulk import data and really cover all the different situations because some of it just wasn't there wasn't the same set of logic applied like routinely throughout the development of the site so different people who don't even work here anymore added things in and contract workers who never worked here added things in and it sometimes we had like student workers working on it and so it's just really difficult to come up with something that would work for all the data when it was just so uh i guess in a sense like disorganized in some ways all right let me check my time okay i only have like two more minutes so i'm gonna just try to get some of the questions uh harshit's asking me about uh jsaf i really like it i we can get in more into it and twitter today i'm actually super busy so i apologize if i'm not um that active on twitter for any of you that are you know trying to talk to me on any social media uh today's just a busy day for me um okay phoenix says westboss's course on css grid is also really awesome right i'm gonna have to look into that as well i haven't ever taken anything by westboss but everybody says it's awesome so i'm gonna have to try it out john hanson says someone's him a bit of a birder as well uh hattie says i thought cms is something used for both database and uh showing all the content and it can't be separated but you said using cs cms for database why didn't you use database directly yes so um essentially you you can separate them so that's what we've done we've separated all the um basically what a user sees when they come to our website is no longer controlled by wordpress so essentially like you have let's you can't really see my i was going to do something with my hands but like imagine you have a database that lives here the users who are content editors interact with the database through wordpress which sits here and then over here separately i can't get into over here separately sits our react site and that's what users who are coming to the website will see the react site pulls data from the database through wordpress so like no one ever interacts directly with a database wordpress is the intermediary between the two that's both helping to pull the data in in an organized way to a react site and helping content editors to be able to in a very easy way edit things that are in the database without even even realizing there's a database there so that's kind of what we're doing so i think yeah i definitely have to go now my meetings in just a few minutes so anyway thank you all i apologize if i didn't spend couldn't spend as much time as i maybe normally would answering questions feel free to always you know ask me questions in the comments of the videos on twitter uh instagram facebook uh email anything you like in any way you can find me you can write me a letter if you want i'm sure you can find my address if you google me it's probably not that hard uh so you send me a text if you want to um i know my phone number's out there as well but anyway i have to go to a meeting thank you so much everyone for all your great uh encouragement and questions and uh i had a great time doing the stream it definitely woke me up a bit and uh i i'm working on my home setup for streaming hopefully i'll have it ready tomorrow so i can stream from home i'll let y'all know uh on twitter uh for sure uh if i will be streaming or not tomorrow uh so hopefully see y'all tomorrow until then have a great day
