With timestamps:

02:11 - [Music]
02:13 - hi everyone
02:15 - welcome back to another vjs stream on
02:18 - free code camp
02:19 - hi sassy it's good to see you again hi
02:22 - tom
02:23 - so today is a continuation of
02:27 - the last app basically last week's app
02:31 - which was this view nwjs hours tracking
02:34 - app
02:36 - and
02:37 - i'm going to post this in the chat i
02:38 - think it's in the description below too
02:42 - let me
02:43 - oops there we go
02:46 - all right
02:47 - so
02:48 - i was basically building this
02:51 - application to track hours in
02:54 - vue.js so
02:56 - you can still watch the last stream and
02:58 - you can also read the readme here
02:59 - there's some more details about it
03:02 - so basically i made a couple screens
03:05 - last week
03:06 - um
03:07 - got the
03:08 - front a lot of the front end
03:10 - started anyway
03:12 - and so today i would like to
03:15 - be able to set up
03:17 - some kind of a database solution
03:19 - and then finish setting up some more of
03:22 - the screens in the application
03:25 - and just real quick i looked through
03:27 - quite a few
03:29 - solutions that people use for databases
03:32 - for desktop apps over the last few days
03:35 - and it's quite different because i'm so
03:38 - used to
03:39 - you know
03:40 - attaching the database to a backend and
03:43 - from the front end calling an api
03:46 - or even doing a full stack
03:48 - application together like a django app
03:51 - but there's a distinct front end and
03:53 - back end but in desktop apps it seems
03:56 - like it's recommended
03:58 - to just call called
03:59 - because it's all compiled into an
04:01 - application anyway so
04:03 - um i don't have to differentiate between
04:05 - the front and back end as much it's okay
04:07 - to
04:08 - i guess call the database from the front
04:10 - end
04:11 - and so out of all the options pouchdb
04:14 - looked really good so this is the one
04:17 - i'm gonna work with today for the
04:19 - application
04:21 - i also set up this is uh comes from
04:24 - couchdb
04:26 - so i
04:28 - set up couchdb earlier just to check it
04:31 - out because i hadn't used couchdb before
04:33 - but i used dynamo and and a couple
04:35 - other i would say similar
04:37 - databases
04:39 - yeah so um
04:42 - that was the starter for this app
04:45 - so i have the code open
04:48 - and
04:49 - i'm going to go ahead and run the code
04:52 - with the npm
04:55 - start command
04:58 - and this should open my browser window
05:02 - for the nwjs application
05:14 - all right cool
05:17 - so this is what i did last time
05:22 - this is all in bootstrap by the way
05:26 - and
05:27 - i have this page is the hours log and
05:29 - then i have a projects page
05:32 - uh there's no canada project that was
05:34 - just the default
05:36 - from this drop down component that i
05:37 - added
05:38 - oh add new project isn't set up yet but
05:40 - i do have this ad entry for the hours
05:43 - log
05:44 - where you can add a new hours entry
05:48 - um so i think i'm going to start off
05:51 - trying to
05:55 - for this hours log i'm going to start
05:57 - off trying to save this in a database
05:59 - and figuring that part out
06:02 - so
06:03 - i'm going to come to
06:05 - pouch db
06:08 - skip bower
06:10 - um
06:11 - okay so npm
06:14 - i'm not going to use the node because i
06:15 - can just use it directly for my view app
06:17 - here
06:19 - so i'm gonna go ahead and install
06:21 - pouchdb
06:26 - um oh right i have to stop it anyway
06:29 - oh well
06:30 - so let me get this installed on first
06:37 - okay
06:39 - and then just in my html
06:42 - i can
06:44 - require
06:47 - db and i shouldn't have to do anything
06:49 - else
06:55 - okay and then i'll have to set up the
06:57 - database so i guess i'm going to do this
06:59 - in my main.js file in the view
07:02 - application
07:05 - that's still installing
07:08 - can everyone hear me okay
07:14 - um oh let's see
07:18 - source so in my main js file
07:22 - um
07:24 - oh here's the public so here's my
07:26 - index.html file
07:29 - which is
07:33 - let's see build files will be
07:35 - auto-injected so i can add this
07:38 - in the header okay cool
07:41 - hi oliver i think this is the first time
07:43 - i've seen you here welcome to the stream
07:46 - so let me just add the
07:49 - db here
07:51 - in the head tag
07:54 - above anything that's going to be
07:55 - injected
07:57 - and above the view app
08:00 - um okay
08:03 - so
08:06 - now it says working with local databases
08:09 - to create local database you can simply
08:11 - call new patchdb and give it a name
08:14 - so
08:15 - this is what i'm going to do
08:18 - rdb equals new
08:21 - pouchdb
08:23 - and i think i'll put that in my main js
08:26 - file for right now
08:28 - and then i can separate it
08:30 - later
08:32 - so
08:34 - i'll say pouch db config
08:37 - let me zoom in one
08:42 - where's the drag
08:45 - there it is
08:46 - okay
08:47 - pouch
08:48 - db
08:50 - config
08:56 - okay
08:57 - so this is my new db i won't call it
09:00 - kittens though
09:01 - i'll call it
09:03 - hours
09:05 - for
09:07 - hours
09:09 - tracking
09:12 - let me do this
09:14 - camel case
09:16 - okay so i have a new db instance
09:19 - and then
09:21 - [Music]
09:22 - okay it says live code example pro tip
09:25 - whenever you see this live example in
09:27 - the guide you can download it just to
09:29 - follow along at home for example
09:31 - to run this app
09:33 - okay
09:34 - i don't want to do that
09:37 - how to
09:39 - oh remote databases
09:42 - and give it a path to a database in
09:44 - couchdb
09:46 - i don't think i want to do that although
09:47 - i do have couchdb running right now just
09:49 - in case
09:53 - get basic info
09:55 - about the database
10:00 - working with databases
10:03 - okay and then oh interesting so i can
10:08 - um
10:10 - all right let me run my app i think
10:13 - with the dev tools
10:15 - oh npm start i think i'll be able to
10:19 - navigate through this database using the
10:23 - in browser dev tools
10:30 - the same ones i use in chrome or firefox
10:34 - okay
10:35 - so that's loading let me
10:37 - try to open
10:40 - the
10:45 - dev tools
10:47 - let's see
10:49 - inspect
10:53 - so
10:56 - okay not in source
10:58 - let's see
11:00 - is it in i can't remember which one
11:04 - application
11:06 - sources
11:08 - why am i i'm having a brain fart right
11:10 - now i can't remember
11:11 - yeah here it is
11:12 - application all right
11:14 - so
11:16 - indexeddb
11:19 - um i'm not using index db
11:22 - cache storage application cache local
11:25 - storage
11:28 - um
11:29 - okay i thought maybe it would be in here
11:31 - but i guess i need to read a little bit
11:32 - more
11:35 - let's see
11:36 - indexeddb web sql inspectors you can use
11:39 - the normal developer tools to see what
11:41 - your database looks like under the hood
11:44 - in chrome just choose the
11:46 - overflow icon
11:50 - tools developer tools then click on
11:52 - resources tab then
11:54 - indexeddb okay
11:59 - tools developer tools
12:02 - all right so
12:07 - oh these are the developer tools
12:10 - resources tab
12:13 - do i have a resources tab
12:19 - um
12:20 - more tools
12:25 - yeah i don't see it okay
12:27 - i mean index db is here anyway so this
12:30 - is probably what they're talking about
12:34 - but
12:37 - yeah i don't see it there so maybe it
12:39 - just hasn't added the database yet
12:44 - so
12:45 - okay
12:48 - um
12:49 - so i have
12:50 - this which is a new db
12:53 - hours tracking
12:56 - and
12:58 - seems to be doing okay
13:01 - yeah there's nothing to add right now so
13:03 - how do i add a table
13:06 - or a collection to the database
13:10 - um
13:12 - you can also enable
13:14 - debug logging
13:16 - oh wait what am i doing i'm not
13:17 - importing pouchdb from oh yeah i am it's
13:20 - in my index.html file okay nevermind so
13:23 - i have my pouchdb database
13:27 - and so i should be able to
13:30 - let me enable
13:32 - the debug mode
13:34 - put that here
13:38 - okay
13:40 - delete your local database
13:45 - in chrome you can use clear cache all
13:47 - right
13:49 - um
13:51 - debug mode i wonder if it's in working
13:53 - with
13:55 - documents
13:57 - so patchdb is a nosql database yeah
14:04 - okay
14:06 - so to store a document you simply
14:09 - use put
14:12 - um
14:14 - okay
14:15 - so
14:18 - db.get
14:20 - mittens okay so there i think there is
14:22 - no concept of tables
14:25 - in this database
14:26 - it's just
14:28 - put the documents
14:32 - and then retrieve them by the id okay
14:35 - well
14:37 - um
14:40 - this is interesting
14:45 - okay
14:46 - i think what i'm going to do first then
14:50 - is finish up some of these pages
14:53 - just so i can get going with this
14:57 - and then work on putting things in the
14:59 - database
15:00 - so i think i'm going to pick back up on
15:03 - the
15:04 - projects page
15:05 - where i was here
15:07 - and make it so you can add a project
15:09 - because i'm going to need a foreign key
15:11 - relation between
15:13 - these projects and which hours or which
15:17 - project certain hours go to
15:20 - so i think i'm going to finish setting
15:22 - up that so select projects
15:25 - i need
15:26 - an add new project page
15:29 - which will match
15:31 - this schema here so i'll need a name
15:33 - description
15:34 - color
15:35 - and then
15:37 - create it at updated should be automatic
15:40 - so i need a name description and a color
15:42 - for the project
15:45 - so
15:46 - the first thing i need to do is create a
15:48 - view for that
15:50 - get out of here
15:52 - in my source
15:55 - so i have app
15:59 - which is oh wait this is the
16:03 - wait one second
16:07 - i think that was a different
16:09 - let me open this in the code editor make
16:10 - sure that's the right app
16:14 - there we go
16:17 - all right
16:18 - so yeah i was wondering where my views
16:20 - folder was okay so here's the projects
16:24 - page
16:25 - that i have
16:27 - and
16:28 - i have the time entry page which is the
16:30 - form
16:31 - for
16:33 - entering new hours so i'm going to copy
16:35 - that
16:36 - and i'll go to views
16:39 - and
16:40 - now i'm going to
16:41 - put i guess project entry page
16:45 - since i'm calling the other one time
16:46 - entry
16:48 - and i'm going to paste this
16:50 - let's see what i need to change
16:53 - not time entry but
16:56 - project entry
17:00 - and
17:02 - okay i don't need date pickers for this
17:08 - and okay i have submit and reset buttons
17:10 - so i need to grab form elements for this
17:13 - oh and let me change the page name
17:16 - to project
17:17 - entry
17:19 - uh
17:20 - start date end date
17:24 - okay so i have
17:26 - a basic boilerplate for it
17:28 - um oh yeah let me add it to the router
17:30 - real quick so i can wrap to that page
17:33 - add time entry so let me copy
17:36 - this
17:39 - go to the end
17:42 - and this one will be add
17:45 - project
17:56 - project entry okay
17:58 - now i need to import this
18:00 - at the top
18:02 - um
18:08 - project
18:12 - entry project entry okay
18:17 - so now i have it routable so let me
18:21 - go to
18:23 - my
18:24 - hours log
18:26 - or not my hours log
18:28 - um
18:30 - okay in my app
18:34 - no actually it's from the projects page
18:36 - it's not from the main bar so this here
18:39 - this add new project
18:41 - so
18:43 - let me just create a link from here
18:48 - and
18:49 - say
18:51 - at click
18:53 - and then i'm going to use the view
18:54 - router so
18:56 - dollar sign router
18:58 - dot push
19:00 - and then
19:01 - whatever
19:02 - route
19:04 - so
19:05 - actually i could do based off the name
19:07 - so i could do name
19:09 - is
19:10 - project entry
19:13 - let's see if that works
19:17 - oh i need to run it again so
19:20 - npm
19:22 - start and that'll take a minute
19:28 - okay
19:31 - so now project entry is routable
19:35 - and then yeah the database is really the
19:37 - next thing because i need to be able to
19:39 - add
19:40 - these hours and projects in here
19:43 - so from the hours log
19:46 - if i add an entry
19:49 - from here okay cool
19:52 - i can add a project entry let me just
19:55 - add those fields real quick and then
19:56 - i'll get back to the database so name
19:58 - description and color
20:00 - and
20:03 - from
20:03 - [Music]
20:05 - okay from here
20:07 - i have these label start date so this is
20:09 - going to be
20:11 - name
20:13 - and then
20:17 - add description
20:21 - and then
20:24 - i'll add
20:26 - color
20:28 - and
20:29 - i'm using vidif not beautify this is
20:31 - bootstrap
20:35 - okay let me look up bootstrap view then
20:37 - for the forum elements
20:39 - bootstrap
20:41 - view
20:44 - here we go
20:49 - okay uh get oh docs here we go
20:53 - so let me look for form
20:58 - and i think just all the form components
21:01 - are on one page here
21:03 - so
21:05 - where is the code here it is
21:07 - so this b form
21:09 - b form group b form input
21:11 - so this is what i want
21:14 - b form input
21:17 - and then
21:18 - so the first two name and description
21:20 - are these inputs
21:26 - let's see
21:30 - this one will be
21:31 - type of text
21:33 - which is default so i don't think i need
21:35 - it there required placeholder
21:39 - is name
21:42 - and
21:43 - v model
21:45 - is form data and then i'll put name
21:48 - which i don't have there yet so name
21:52 - id
21:53 - is okay
21:54 - and now let me just copy this
21:57 - actually i'll probably want a text area
22:01 - so
22:02 - let me search for that
22:04 - form text area
22:08 - yeah let me copy this one
22:11 - it's a form text area
22:17 - okay
22:18 - b form input
22:20 - now i have text area
22:23 - i think this is actually zoomed in too
22:24 - much
22:25 - maybe yeah that's better
22:28 - it was sideways scrolling a lot
22:32 - okay
22:36 - so the model
22:39 - is
22:40 - is it form data dot description
22:45 - and then i'll say enter
22:47 - a description
22:49 - for the placeholder
22:52 - three to six rows that's fine
22:56 - um
22:57 - and then
23:03 - oh yeah i'm not closing it that's why
23:05 - it was giving me an
23:06 - error
23:08 - okay cool that looks good i wonder if
23:10 - you can resize things
23:13 - oh not really in this that's fine so i
23:15 - have a name description and then i need
23:18 - a color picker
23:19 - so let me look for
23:23 - color picker i wonder if they have one
23:27 - they have bar color schemes
23:31 - color picker
23:37 - those date pickers
23:40 - oh here's color picker it's a third
23:41 - party library i guess
23:43 - view color picker v color
23:45 - vert
23:50 - view color picker
23:56 - do i want to add a whole color picker
24:02 - um
24:06 - yeah it looks pretty easy to use let me
24:08 - look at the other ones
24:12 - oh you can zoom panes independently
24:15 - in vs code i didn't know about that
24:19 - um
24:21 - pretty sure
24:23 - there's an html
24:25 - native color picker
24:28 - um is there html
24:32 - an html color picker oh wait
24:36 - color
24:37 - picker
24:42 - type color oh
24:46 - it only works in modern browsers well
24:49 - good thing this is latest version of
24:52 - chromium
24:55 - um
24:58 - okay
24:59 - color picker
25:04 - let's see
25:08 - actually i don't need the name
25:10 - because
25:11 - i'm gonna remodel this so
25:14 - i guess i can do
25:17 - v model
25:18 - is
25:21 - form
25:22 - data dot color
25:25 - type
25:26 - color
25:28 - oh cool thank you
25:30 - i didn't even know
25:31 - i didn't even know html had one and that
25:34 - looks just as good as
25:35 - any other one except i can change the
25:38 - style a little bit of how it's displayed
25:42 - thank you
25:43 - okay let me just put these in my data
25:45 - real quick
25:47 - so i need
25:49 - name
25:52 - description
25:55 - and then color
25:58 - which
26:01 - i guess it's a string
26:04 - i'm not sure
26:05 - um
26:09 - let's see
26:12 - let me actually see what it is let me
26:14 - open up the dev tools
26:16 - inspect
26:19 - and
26:21 - i think i have view yeah i have the view
26:22 - dev tools here
26:25 - so
26:26 - let me look at
26:29 - um
26:31 - let's see project entry
26:34 - yeah cool i have the color there
26:37 - thank you that was easy
26:39 - all right so now i have project entry
26:42 - page
26:43 - and the hours log and
26:45 - add new time entry page so now i really
26:48 - need to hook this up to the database
26:50 - and
26:51 - i think my mind just being so used to
26:54 - let me get rid of these um
26:57 - you know having it connected to a back
26:59 - end
27:00 - it's
27:01 - it's kind of strange to
27:03 - i guess
27:04 - imagine this database or imagine how to
27:07 - use it
27:11 - okay so
27:12 - related api documentation there's get
27:16 - and there's put and i'm guessing get
27:18 - because i'm gonna need to get back
27:24 - or query for a whole bunch of objects of
27:27 - the same yeah you did thank you
27:32 - i'm going to need to query for a whole
27:34 - bunch of objects
27:35 - of the same type
27:38 - so i guess i can pass in options
27:42 - let me look at their examples
27:44 - so they have db.get
27:50 - my doctor okay let's stop then
27:52 - um but that's just searching by id how
27:54 - can i pull things back without using the
27:56 - id
28:00 - okay create update a batch of documents
28:03 - that's good
28:05 - okay db.bulk docs
28:09 - so i i'd have to create a different
28:11 - database for
28:13 - i think i need one database for projects
28:15 - and one database for
28:18 - [Music]
28:20 - users with this
28:22 - with pouchdb
28:28 - okay
28:29 - bulk update delete
28:31 - what about bulk get oh fetch a batch of
28:34 - documents
28:36 - db all docs
28:38 - fetch multiple documents indexed and
28:40 - sorted
28:42 - by the id
28:45 - uh deleted documents are only included
28:47 - if option.keys is specified okay
28:50 - so
28:51 - i basically
28:54 - need to set up two databases
28:58 - oh
28:59 - i was wondering why the database didn't
29:01 - show up it's because i put it in the
29:02 - wrong application that was that was dumb
29:06 - um
29:07 - okay so here i'm actually going to have
29:09 - to
29:12 - um
29:15 - go back i think it's working with
29:17 - databases yeah
29:19 - i need this
29:20 - and then i need to set up the debug too
29:24 - so i have
29:26 - all of these imports
29:29 - all of those okay i'm going to set up
29:34 - database config
29:38 - here and
29:41 - two databases and then i need to set up
29:47 - the
29:47 - debug options
29:50 - you can also enable debug logging by
29:53 - doing
29:55 - this
29:55 - i want logging because i want to make
29:57 - sure that it's working
30:04 - okay so
30:06 - kittens
30:07 - what other
30:08 - so these are i think it the concept of
30:10 - db here is like a table
30:13 - so
30:14 - i'm gonna do
30:16 - time
30:17 - entry
30:19 - and then
30:23 - was the other one projects
30:27 - or this would be time entries
30:31 - and
30:35 - let's see
30:36 - deleting your local database differences
30:38 - between local and remote okay
30:42 - and now
30:45 - oh i'm not actually importing this in
30:47 - this app
30:48 - into the index.js
30:51 - so let me go into public
30:54 - go to
30:55 - index.html i mean
30:58 - and then i need to paste the link there
31:02 - which is setting up pouchdb
31:08 - i already installed it so i just need to
31:09 - add this link to the head tag
31:15 - oh hi jared good to see you
31:19 - too bad you're here not here to help me
31:21 - with nwjs
31:24 - okay
31:25 - so
31:27 - let's see script tag pouch cb
31:31 - and
31:32 - i think that's it let me rerun the
31:34 - server because i'm guessing i'll need to
31:36 - rerun it
31:37 - so it can see that import in the
31:40 - index.html
31:53 - all right
31:55 - now it's going to reopen the window
32:02 - uh maybe there's an error i don't know
32:06 - let's see
32:08 - pouchdb is not defined
32:11 - okay
32:14 - um
32:17 - so i have it here
32:20 - um because i thought that it would
32:22 - expose oh not enough in that file
32:25 - from here
32:27 - i thought that it would expose
32:31 - that pouch db variable for me to use
32:36 - but i guess it's not doing that
32:41 - so i could
32:43 - i guess i could do it just directly npm
32:45 - install it
32:48 - wait someone sent me a message
32:53 - uh nw dot window dot
32:59 - okay
33:01 - just to automate the devtools opening
33:04 - sure let me add that
33:06 - thanks for the tip
33:08 - um
33:09 - let me add this to
33:12 - i guess just anywhere
33:14 - for right now
33:16 - um i'll have to take that out before i
33:19 - build this as an app
33:23 - okay
33:25 - so i guess next time i next time i run
33:27 - my server it should automatically open
33:29 - the devtools
33:33 - the first line
33:35 - of js and then comment it out okay
33:37 - pouchdb is not defined
33:41 - so
33:44 - let me actually take this out i'm gonna
33:46 - try
33:48 - oh it did restart
33:49 - patch tv is still not fun i know let me
33:52 - actually install it just like i would
33:54 - any other view module here
33:58 - and
34:01 - uh
34:02 - let's see mpm and
34:04 - oops i copied npm install okay npm
34:08 - install pouchdb
34:23 - and it's taking a minute
34:30 - yeah that'll just be easier if i can
34:32 - import it
34:37 - in view
34:40 - okay
34:41 - yeah i don't know why i didn't do that
34:43 - before
34:44 - now let me do npm start
34:47 - and while that's going
34:50 - i'll come to my main js and
34:53 - i'm gonna
34:56 - put that with my library imports
34:59 - 08
35:01 - require i wonder if i can import this
35:03 - then
35:05 - um
35:08 - db
35:09 - uh import
35:11 - pouch db
35:13 - i'll see if this works
35:17 - from
35:19 - pouch db
35:24 - cannot read enable
35:26 - of undefined
35:31 - in
35:33 - my
35:35 - source main js
35:40 - oh
35:43 - dot pouchdb.debug.in
35:49 - okay
35:52 - so i wonder if it's even registering
35:55 - pouch db
35:57 - because i don't seem to have the debug
35:59 - enable available so let me look in
36:01 - application
36:05 - oh cool i do have it
36:07 - awesome so i do have
36:10 - if you can see on the side there i have
36:12 - pouchdb
36:15 - projects and patchdb time entries
36:21 - and then i can open those up
36:24 - and
36:26 - um
36:29 - i can look at
36:31 - all the different
36:34 - i don't know i'm not too familiar with
36:35 - um
36:37 - the index to db in the browser
36:40 - so yeah i'll have to try that out
36:43 - okay but anyway i do have my two
36:49 - databases here that i added that's good
36:52 - so i should be able to start
36:54 - adding
36:57 - things to them
36:59 - so how do i do
37:04 - let's see
37:05 - i can do
37:08 - create update doc create database delete
37:11 - yeah let me go to create or update so
37:13 - it's just db.put
37:16 - and then
37:18 - um
37:18 - [Music]
37:21 - i need the
37:24 - doc okay
37:26 - um so here
37:28 - i have
37:30 - the two dbs here
37:32 - i have time entries and projects
37:36 - the thing is though i'm wondering if i
37:40 - should put it here now i'm thinking that
37:42 - maybe i want this
37:44 - in my view x or in an extra config that
37:47 - i import into my view x
37:50 - because
37:53 - this is really where i'm going to be
37:54 - working
37:56 - with
37:56 - that
37:58 - db stuff
38:00 - so
38:02 - let's see
38:05 - let me make not in my router
38:07 - in my store let me make a new file
38:10 - and
38:11 - i'm going to call it db
38:13 - config
38:15 - dot js
38:19 - and then i'm going to take
38:22 - pouch db
38:25 - uh take it here
38:28 - is this a good idea does anyone else
38:30 - have a better idea
38:31 - set it up in my view x
38:34 - and then
38:37 - i'm going to take
38:39 - these
38:41 - because otherwise
38:43 - i mean could i inject it into
38:45 - my global state but then i want to use
38:47 - it from view x
38:48 - so i need access to those databases from
38:52 - here anyway
38:53 - oh wait
38:54 - i made this new file let me use that new
38:56 - file
38:58 - um
39:00 - okay
39:03 - so let me use that file and then let me
39:07 - import
39:09 - import db
39:13 - config
39:14 - from
39:17 - db config
39:21 - okay
39:22 - and now i need to
39:26 - um export oh wait this is these are both
39:29 - the bees why am i doing two dbs so let
39:31 - me export these as two different things
39:34 - i'm gonna do
39:36 - um
39:39 - t e
39:41 - db
39:43 - no i need to spell this out so time
39:45 - entry
39:46 - db
39:48 - and
39:49 - i'll call this
39:52 - projects
39:53 - db and actually that should be time
39:56 - entries
40:00 - okay and then from here i need to export
40:02 - something
40:03 - so i need to export
40:08 - export um
40:12 - yeah i was thinking i could export these
40:14 - individually
40:16 - but i want to export an object because
40:18 - then i can
40:19 - add options or do whatever i want
40:22 - so let me export
40:25 - default in object
40:28 - and i'll do time
40:30 - entries
40:31 - eb
40:33 - and then i'll do
40:35 - projects db
40:43 - okay
40:44 - um
40:48 - oh it has the option to refresh that's
40:50 - cool
40:52 - okay so now i have these two database
40:55 - instances and i can pull these out
40:59 - so
41:00 - when i import them into view x
41:02 - i can just go ahead and get time entries
41:05 - and projects
41:07 - db
41:09 - and then i can do whatever i want with
41:10 - them in my view x store
41:13 - and then i can interact with the
41:15 - database from any component through the
41:16 - store
41:20 - okay
41:22 - um so i think i think that will work
41:24 - and now let me do db.put
41:28 - doc options callback
41:32 - um
41:33 - so let me grab this
41:35 - and let me just do a test here
41:37 - so
41:39 - let me do
41:44 - um
41:46 - okay so doc i need
41:50 - name
41:51 - gwen
41:53 - and then
41:55 - options
41:58 - uh
41:59 - options i'll just leave an empty object
42:01 - for that
42:03 - and then callback
42:05 - function
42:10 - um this will be just console.log
42:15 - worked
42:16 - even though there's no
42:18 - error handling
42:24 - all right
42:26 - so how do i see documents that i've
42:28 - added which one did i add to
42:30 - oh i don't even have db there
42:33 - let me add this to time entries oh no
42:36 - projects
42:38 - projects db
42:46 - um export projects db was not found in
42:49 - db config okay
42:54 - exports
42:55 - projects
42:57 - db
42:58 - okay
43:00 - so
43:04 - let's see
43:07 - projects db did i misspell something
43:10 - i think i misspelled something
43:14 - did i
43:22 - oh it seems to be right projects db
43:27 - let me restart the server and see
43:35 - okay these are both new pouchdb
43:39 - projects dp
43:46 - okay export project stevie was not found
43:50 - in db
43:52 - config learning from source store
43:55 - index.js
43:58 - hmm
44:01 - that's weird okay
44:04 - let me look at index.js
44:08 - see if i'm importing the right file so i
44:10 - do have
44:12 - db config
44:14 - which is that file name
44:16 - and then i'm importing
44:18 - let me try time entries
44:24 - yeah why why aren't the exports being
44:26 - found in here
44:29 - i'm exporting default oh because i'm
44:31 - requiring this maybe
44:34 - um
44:37 - maybe i need to import
44:40 - let's see
44:43 - import
44:45 - from i think this i feel like that's
44:47 - what i was doing anyway in
44:50 - the main.js file
44:59 - no i thought i had it here where i
45:00 - changed it to import maybe i didn't i
45:02 - can't remember
45:05 - okay
45:06 - it was not found
45:08 - in
45:13 - let's see
45:15 - it wasn't found in
45:18 - the dbconfig file so let me actually see
45:22 - because this is creating the new
45:28 - pouchdb
45:30 - instances and i am exporting
45:35 - the correct
45:36 - um
45:37 - values from there
45:40 - so that's a little bit strange let me
45:43 - see
45:46 - um time entries projects db
45:49 - exports
45:51 - um let me see what these are equal to
45:56 - from here
45:57 - so
46:01 - let me try to get it to pause
46:04 - on the debugger
46:07 - okay so
46:09 - um
46:11 - entries db
46:13 - these are both correct and pouch db
46:16 - those are both correct
46:19 - and then what i'm exporting is also
46:21 - correct
46:25 - which is strange
46:27 - okay
46:30 - but then when i'm importing it so the
46:32 - problem is when i'm importing it here
46:35 - and i can do
46:36 - a
46:39 - debugger here
46:44 - that should restart on its own
46:46 - does anyone have an idea about why this
46:48 - isn't working
46:52 - let's see
46:55 - it's restarting
46:57 - cannot read property line number of
46:59 - undefined
47:09 - okay let me play it
47:12 - and
47:15 - maybe i'll restart the server again
47:24 - and this should open the
47:27 - dev tools
47:29 - so it should open the new debugger i
47:31 - think
47:33 - because the devtools will open before
47:35 - the app
47:37 - finishes
47:41 - okay so i have my two index db's
47:47 - i'll refresh both of them
47:55 - console.log inside of export okay so
47:57 - here's the problem cannot read put of
47:59 - undefined
48:01 - um
48:02 - but these are defined
48:05 - console.log so
48:07 - inside of export um
48:10 - i looked at these in the debugger
48:14 - and
48:15 - when i had a debugger in here
48:18 - where is it get out of there
48:20 - in here
48:35 - let's see
48:36 - and
48:38 - it says that they're defined here
48:41 - or at least it shows time entries but it
48:43 - was saying
48:44 - in the other file that time entries and
48:46 - projects aren't defined
48:49 - which is weird i can make sure that this
48:52 - one
48:57 - yeah these are all spelled the same
49:01 - let me step over
49:03 - oh yeah
49:11 - try pudding okay let's
49:17 - try putting inside of
49:21 - try put inside of db config yeah i guess
49:25 - it will work from there maybe i'll just
49:26 - move it to this main file
49:31 - because it doesn't seem to like the
49:32 - importing exporting and that might
49:34 - because because it's only set up
49:38 - it's not set up to use
49:41 - es6 but i don't see how that would make
49:43 - sense
49:45 - because this import works
49:47 - yeah i don't know
49:48 - let me see
49:50 - oh wait
49:51 - did i
49:52 - let me
49:55 - get this back
49:59 - and now in here
50:03 - okay so time entries db.put
50:07 - and then let me see
50:08 - i got rid of all the debuggers so let me
50:10 - just play
50:15 - cannot read property put of undefined
50:18 - let me
50:21 - refresh this
50:24 - okay
50:26 - okay so that worked actually
50:28 - if i just have it in the same file yeah
50:30 - i don't know why the import export isn't
50:32 - working
50:36 - why do you need the curly brackets in
50:38 - import
50:40 - oh i was just pulling these two things
50:42 - out
50:44 - from the import
50:47 - so i didn't have to but then i would
50:49 - have to
50:51 - do like db dot this database or that
50:54 - database
50:55 - so i was just using a shorthand
50:59 - um
51:01 - okay
51:05 - maybe you should import yeah that's what
51:07 - i'm thinking that i'll just move this
51:09 - whole thing to import for right now
51:11 - because this seems to work i do wonder
51:14 - how i can see
51:16 - so that's time entries
51:18 - um
51:18 - [Music]
51:20 - attach store local store
51:25 - meta store
51:27 - this is metadata
51:30 - doc id
51:32 - sequence
51:34 - there's a lot of stuff in here
51:40 - so where is
51:44 - um
51:50 - i wonder do i have to
51:52 - refresh this database
51:56 - refresh
52:00 - because i can't see the dock i just
52:02 - added
52:05 - it's not listed here
52:08 - key blob
52:13 - detect blob support
52:15 - yeah i don't
52:16 - know where the document is
52:22 - i guess i don't know enough about this
52:24 - index.js
52:26 - to
52:27 - see it but it says it saved so let me
52:29 - just move this
52:31 - to the index file
52:36 - yeah
52:38 - and
52:40 - so
52:41 - um let's see
52:44 - get rid of that
52:46 - export default get rid of these
52:56 - okay
52:58 - and i wonder if i do have to set an id
53:00 - here
53:01 - so
53:03 - let's look at a document
53:05 - yeah they're putting the id so i do need
53:07 - to set my own id
53:10 - on these documents so i guess i'm going
53:11 - to use uuid
53:16 - let's see npm uuid
53:20 - to generate a unique id for each
53:22 - document since the database isn't doing
53:24 - it for me
53:27 - okay npm install
53:29 - uuid
53:34 - and then
53:36 - i'll import it into the view x
53:39 - okay one more time stopping the server
53:42 - oh clear
53:44 - um
53:45 - npm install uuid
53:50 - that should be pretty quick
53:52 - and then i can import
53:58 - um
53:58 - uid okay then i just call the uuid
54:01 - function
54:02 - so let me import this in my view x
54:06 - so
54:08 - after pouchdb
54:10 - i'll import
54:12 - um
54:14 - version 4 as uuid version 4.
54:17 - so i think this is how i need to
54:21 - store documents in here i need to add
54:23 - the database
54:25 - so i can call this uuid function that i
54:27 - just imported
54:30 - and save
54:31 - the id and name
54:33 - [Music]
54:35 - and i'm actually logging worked here
54:38 - so i think that's
54:40 - oops um
54:43 - oh wait that's also a mistake
54:47 - so
54:50 - let's see
54:55 - because this could come back
54:58 - with an error so
55:01 - um what would i get response and then
55:04 - error or error and then response
55:06 - let me look at this api
55:10 - uh
55:11 - okay so
55:13 - oh there's dot then dot catch after put
55:16 - so i could use async await for this
55:20 - and then try catch let me just copy this
55:22 - though
55:23 - for this test right here
55:25 - so
55:27 - i'm going to do this
55:29 - so i'm going to call that put
55:31 - and now i can
55:32 - use dot then
55:35 - indent all this
55:37 - all right
55:40 - hi pk get now how are you
55:44 - um okay so now i have error
55:47 - and i'll just console.log
55:51 - the response as well
55:59 - okay
55:59 - and let me see how it handles this
56:03 - when i run the app again
56:07 - npm start
56:11 - hi pk did you join to give me some
56:13 - advice
56:18 - um
56:22 - hopefully but if you want to chat that's
56:23 - good too
56:25 - um
56:26 - okay
56:29 - i like the dev tools opening
56:30 - automatically
56:40 - all right
56:46 - yay sweet look at this
56:48 - doc id
56:51 - rev
56:52 - whatever that means
56:55 - and i have
56:57 - the
56:58 - object
57:00 - with named gwen i have the
57:03 - unique id
57:04 - that i set
57:06 - primary key one cool
57:09 - okay so now i can see it in here that's
57:12 - good news
57:14 - and now
57:16 - i just need to put this in my
57:20 - um
57:21 - or add
57:22 - view x
57:24 - actions here
57:27 - oh sorry my watch is telling me to go
57:30 - walk around
57:31 - it says it reminds me when i've been
57:33 - sitting too long
57:35 - but i can't walk around right now
57:38 - um okay so actions what kind of actions
57:41 - do i need i need to i need crud
57:43 - operations
57:44 - for
57:45 - projects
57:47 - and for time entries
57:50 - so
57:50 - i'm gonna name these kind of like crud
57:53 - operations
57:54 - so let's say create time
57:58 - entry
58:00 - um
58:01 - these will all be async
58:03 - too
58:04 - so
58:07 - and then we do async
58:10 - create
58:11 - project
58:15 - and then
58:19 - in create time entry
58:21 - i'm gonna
58:23 - copy this
58:28 - uh
58:31 - wait oh yeah
58:34 - oh i missed the
58:36 - other part of the
58:38 - there we go
58:47 - so what i'm going to do inside of this
58:50 - async function
58:52 - is change this from promises to async
58:56 - await
58:58 - so
58:59 - i'm going to do const
59:02 - const response equals
59:05 - a weight
59:07 - whatever object i'm going to put in
59:09 - and actually here
59:11 - so
59:13 - the first
59:14 - parameter is
59:17 - um from vue.js so i'll be able to
59:21 - get
59:22 - the function to commit mutations and
59:24 - then the second one is what i'm passing
59:25 - in as the payload
59:27 - which will be
59:30 - in object here
59:32 - which will be this object
59:34 - that i'm gonna save
59:38 - um
59:40 - so let me get rid of this then
59:43 - and i'm gonna add
59:45 - the payload on here
59:47 - and i'm going to generate an id
59:50 - from view x for that payload i'm passing
59:52 - in that i want to save as a time entry
59:56 - um
59:57 - okay
59:59 - and then get rid of bees
60:04 - it keeps bringing me over there every
60:05 - time i save but it's such a habit to
60:08 - save
60:08 - every second
60:10 - um
60:12 - okay i feel much better about this now
60:15 - let's see
60:16 - um create time entry
60:19 - so this
60:21 - i need to wrap this in a try catch so i
60:23 - can know if
60:25 - this creates an error
60:30 - let me close that and then do catch
60:34 - let's see
60:36 - error
60:38 - and then i'll just do console.
60:41 - error
60:43 - and error
60:44 - and now
60:46 - okay in my try
60:48 - i need to so what do i want to do with
60:51 - the response
60:52 - um
60:57 - the response
61:01 - i don't know i guess for now i could
61:03 - just log it out i actually don't think i
61:05 - want
61:06 - um
61:09 - because this is all local
61:12 - so
61:13 - because in a nor so in a normal vjs
61:15 - application on the web
61:16 - i would take the document i just created
61:20 - and push it into my state so that i
61:23 - didn't have to make another api call
61:25 - but
61:27 - and actually that will make it update so
61:29 - let me just
61:30 - not do that for right now and see how
61:32 - this plays out so let me do console.log
61:34 - response
61:36 - um
61:38 - and that means it was a success so let
61:40 - me do
61:42 - i guess success
61:46 - okay and then i basically want the same
61:49 - thing for
61:53 - create project so i'm just going to go
61:55 - ahead and put that and then i'll make a
61:56 - getter because
61:58 - i need to be able to get all of this
62:01 - stuff out of the database
62:04 - so for project
62:06 - i want the same things
62:09 - i want i probably don't need to commit
62:11 - so i'll just leave that empty
62:13 - um i don't know if i can leave it empty
62:17 - um
62:18 - maybe i don't know uh payload is that
62:21 - gonna error
62:23 - and
62:28 - i wonder so okay so this is project
62:32 - projects db
62:38 - which is basically the same thing
62:41 - um
62:43 - generating uid
62:45 - passing the payload so i save all of the
62:48 - key value pairs on the payload
62:51 - and then so now i need to get all of the
62:54 - items that i save
62:58 - so let me make that real quick before i
63:00 - test out the saving because i need to be
63:02 - able to see if i
63:04 - created anything
63:06 - hi jared so i basically
63:09 - several things broke but i think they're
63:11 - fixed now
63:12 - i basically set up pouchdb from here
63:15 - because i couldn't get it working from
63:17 - importing
63:18 - in the
63:20 - index.html file
63:23 - and then
63:25 - i have to create my own ids so i
63:26 - imported uuid
63:29 - um yeah and then i have these two
63:31 - databases
63:33 - so patchdb seems to differentiate
63:36 - by databases instead of tables so i
63:39 - created two different databases for
63:40 - these two tables that i want
63:43 - and right now i'm working on these
63:44 - actions so that i can get
63:51 - uh
63:52 - get
63:53 - all the time entries
63:55 - and projects that are in the database
64:03 - line 18
64:05 - yeah i'm still typing that's why there's
64:08 - an error
64:11 - okay
64:14 - yeah
64:16 - let's see uh read time entries
64:20 - okay
64:21 - um i don't actually need to commit from
64:23 - there either really
64:26 - so let me do
64:28 - i don't need to pass in a payload i
64:30 - don't need anything
64:33 - um i just need to basically get
64:36 - which is
64:37 - oh bringing me back over there so i
64:40 - think that is
64:42 - bulk get or batch
64:44 - is it batch fetch
64:48 - oh indexes and everything okay
64:51 - um
64:53 - let's see batch fetch db.all docs
64:57 - okay
64:58 - so
65:01 - from here then i'll have to be able to
65:03 - filter at some point too
65:06 - which i guess options might let me
65:08 - filter
65:13 - i forgot to have water here
65:15 - i might need some in a second
65:17 - um
65:19 - okay so
65:20 - what was i getting oh yeah db.all docs
65:24 - so let me do that here so await
65:27 - db
65:28 - which will be
65:30 - time
65:32 - entries db dot
65:35 - all docs
65:37 - and then
65:38 - pass in options if i want options
65:42 - but
65:44 - i think i don't don't need options right
65:46 - now so let me
65:48 - do const
65:50 - docs
65:53 - equals that and let me just i guess i'll
65:55 - log out the docs because i don't know
65:56 - what format that's coming back in
66:01 - okay and now i need this action to
66:05 - be able to be called from my component
66:08 - which will be my
66:10 - hours log so i can see all the hours in
66:12 - here
66:14 - so let me go down here
66:16 - and i'm going to map it into the
66:18 - component so i'm going to import
66:22 - was it map actions
66:26 - from
66:26 - view x
66:29 - can you explain commit
66:32 - yeah so real quick commit
66:35 - here is
66:37 - um
66:38 - so
66:40 - view x has my global state or it will
66:42 - have global state
66:44 - whenever i need state that doesn't
66:45 - necessarily need to be in the database
66:48 - but i want it to be accessed by many
66:50 - components so what commit does is call a
66:53 - mutation
66:55 - that can update that global state
66:57 - but right now i don't have any mutations
67:01 - um or anything on the global state so i
67:03 - really don't need commit yet
67:05 - but it's generally from ux actions most
67:08 - viewers bux actions will call commit
67:11 - to update state but i'll get rid of that
67:15 - for right now so it's not
67:18 - yeah so it's not there when i don't need
67:19 - it
67:20 - um
67:24 - oh yeah
67:28 - uh okay so i am pulling in
67:32 - map actions
67:34 - and now i need so i need to put that in
67:36 - methods
67:38 - which will be below data so i need a
67:39 - methods
67:40 - object for view
67:43 - and then
67:47 - i can do map actions call that
67:51 - and then which actions do i want to map
67:53 - to this component
67:56 - i want
67:58 - read time entries
68:01 - i can't get rid of that um
68:04 - yeah read time entries
68:06 - create no i don't need that one here so
68:08 - just read time entries basically
68:10 - and now i need
68:13 - or i need to call read time entries so
68:16 - this will be called on a created
68:19 - so let me add my life cycle hook here
68:22 - created
68:23 - so when this
68:25 - component
68:27 - actually no i'll do mounted so
68:30 - when this component mounts to the screen
68:34 - it should
68:35 - [Music]
68:37 - call my action
68:40 - uh which is
68:42 - this dot
68:44 - read
68:45 - time entries now
68:48 - and then i don't need to pass anything
68:49 - in
68:50 - so i can do this.readtime entries
68:54 - which we'll call this and then it should
68:56 - lock up log out my docs
68:58 - so let me see
69:00 - if that works
69:02 - sweet
69:04 - why does it say two rows
69:06 - oh i must have uh
69:11 - saved it twice
69:14 - saved something twice where's my name in
69:16 - this
69:22 - okay that's weird it seems like it's
69:24 - just an id
69:25 - and nothing else
69:27 - that i saved all right
69:31 - that's fine
69:33 - so anyway that's coming back with docs
69:35 - and
69:38 - that is
69:39 - yeah so i'll need to do rows
69:42 - so docs is this whole object and then i
69:45 - need to do dot rows so that's kind of
69:47 - like response.data
69:50 - so
69:51 - let me then do
69:53 - um so here's actually where i need a
69:55 - mutation because i need to update the
69:59 - docs here
70:00 - so let me
70:03 - commit a mutation from here
70:06 - and
70:07 - i'll need to
70:09 - do
70:11 - what is it set i guess set time entries
70:16 - and then pass in
70:18 - docs dot rows
70:22 - and then
70:24 - in
70:28 - state so state i need to have all
70:32 - time entries
70:35 - okay and then i i guess i'll also oh
70:38 - that will be an array actually
70:40 - so that's an array and then i need
70:41 - projects here
70:43 - which i'll need in a minute and that's
70:44 - also an array
70:46 - and then i need to create that mutation
70:48 - that i'm calling so set time entries
70:51 - needs to be a mutation which is not
70:53 - async
70:55 - inside a mutation i have access to state
70:59 - and i have access to whatever i'm
71:02 - passing in
71:03 - which is the
71:05 - i like to use the word payload
71:08 - i don't know how many people use that
71:10 - but it's just like a general word for
71:12 - anything that i'm passing in
71:15 - so
71:17 - now i can do this
71:20 - no i don't need this because i already
71:21 - have state available to me in the
71:23 - function
71:24 - so now i can overwrite state
71:28 - on time entries
71:32 - which is equal to the payload that i'm
71:34 - passing in
71:40 - oh commit is not defined i forgot to
71:42 - import
71:44 - or get commit in the function so
71:47 - here i need commit
71:52 - that should work now let me look at my
71:54 - view
71:56 - um
71:59 - where is it here it is oh cool it called
72:01 - the mutation set time entries
72:04 - and now
72:07 - i have the payload with two objects
72:11 - which
72:12 - is weird i'm gonna have to figure that
72:14 - out
72:15 - but anyway
72:16 - it did work
72:17 - and
72:19 - so that is my store now i have an array
72:21 - of time entries
72:25 - cool
72:28 - so now i need to be able to create one
72:31 - create time entry from
72:34 - the
72:36 - time entry dot view page
72:42 - i like payload
72:43 - it sounds very serious
72:46 - does it
72:47 - what is payload in the military
72:50 - oh this like dropping a bomb or
72:52 - something
72:53 - that's that's kind of gruesome
72:55 - that makes me not want to use the bird
72:57 - anymore
72:59 - um okay so i have dates here
73:05 - okay
73:06 - okay i get it i get it
73:08 - um
73:09 - so when i click submit
73:11 - i'm going to
73:14 - call this action that i need to be
73:17 - getting from view x so here also
73:20 - i'm going to have to import
73:23 - [Music]
73:25 - map
73:26 - actions
73:28 - from
73:29 - view
73:30 - x and
73:34 - i'm trying not to save after every time
73:36 - because it switches me back to the other
73:37 - screen
73:40 - um okay
73:42 - oh yeah methods now i need to
73:45 - do math actions
73:48 - and
73:49 - which action do i want
73:51 - it's create time entry oops
73:55 - and now
73:58 - i can call this dot create time entry
74:01 - and then i need to pass it a payload
74:05 - of what i want to create which is
74:07 - form data
74:09 - so actually
74:11 - i can just pass it as an object here
74:13 - because that's what my payload is
74:14 - expecting
74:16 - so i can do
74:19 - this dot
74:22 - form data
74:24 - um
74:25 - oh
74:26 - yeah but how am i doing start date and
74:29 - date i'll have to look at how i'm saving
74:31 - those
74:33 - um in what format but this is okay just
74:37 - to get this working for now
74:40 - um
74:42 - so let me go to add time entry
74:46 - choose
74:49 - uh today
74:53 - choose today and then end date
74:58 - after some hours submit
75:04 - okay
75:05 - i might have to do prevent default there
75:07 - let me see if it
75:12 - did
75:13 - add anything
75:15 - i think i have to go back to
75:17 - this page because this is where it loads
75:19 - the hours
75:24 - company one no that was just that was
75:27 - already there never mind
75:28 - um
75:32 - so
75:33 - let me look at
75:35 - this state here
75:37 - yeah it did add it though
75:39 - value
75:42 - set time entries
75:48 - why is it not showing
75:53 - the actual value here
75:57 - i guess that's
76:00 - um let me refresh this
76:03 - let me refresh this
76:04 - database refresh
76:07 - and
76:09 - so here okay i do see start date and
76:11 - date
76:14 - all right
76:15 - and
76:19 - these are
76:22 - time stamps okay
76:24 - actually i can
76:26 - bring the value over here
76:30 - okay that's actually pretty good
76:32 - i have start date and date that's
76:34 - exactly what i want
76:36 - um then why am i doing this i think what
76:39 - i need to be doing here is actually
76:41 - having a string
76:43 - not an object
76:45 - i think that's
76:47 - from something i had before
76:52 - okay so now i can create
76:54 - i can pull them from the database
76:58 - um i could loop through these actually
77:01 - in my
77:02 - hours log
77:05 - kalachi factory
77:08 - um
77:10 - oh i missed
77:12 - okay
77:13 - um
77:18 - talking about food makes me hungry what
77:20 - was i doing i can't remember oh yeah
77:22 - hours long i want to loop through these
77:24 - and display them in the table
77:27 - so be table striped hover
77:30 - and then items
77:32 - it's kind of a really simple table i
77:34 - want to denote
77:36 - like
77:37 - which
77:38 - i guess which headers i want
77:41 - um well let me map state to this
77:42 - component
77:44 - i want to get those time entries off of
77:46 - ux
77:48 - so
77:50 - map
77:51 - state
77:53 - to the component and now i need to
77:56 - create computed here
78:00 - so that i can see the updates that
78:01 - happen in my view x state
78:04 - and let me do map state here
78:09 - and what state do i want to map
78:12 - [Music]
78:13 - here it is
78:15 - so
78:17 - my state is i have this array of time
78:20 - entries
78:21 - that i want to map here
78:24 - so now i can see all the time entries in
78:26 - this component
78:28 - and then
78:30 - i could
78:33 - on this table here i could just pass in
78:35 - time entries
78:37 - and see how it looks
78:41 - that looks awful
78:43 - um
78:47 - yeah why aren't i getting the correct
78:49 - values back i guess
78:52 - from the database i'm doing this wrong
78:56 - so
78:57 - let me see
79:04 - deleted documents are only included
79:11 - oh okay i need to do include docs
79:15 - thanks
79:17 - options not include docs i need to set
79:19 - this to true because otherwise i just
79:21 - get the id and
79:24 - i i guess rev is for revision
79:27 - and that changes when i update it i'm
79:29 - guessing
79:30 - um
79:32 - okay so options.include docs
79:36 - so i need to
79:39 - set this
79:41 - in no in my
79:44 - database
79:47 - um in my get so here
79:51 - um
79:53 - so is it an array
79:55 - yeah it's an array of options
80:00 - so how does that look
80:04 - okay no it's an object i'd pass it yeah
80:06 - it would be weird as an array i guess
80:08 - they were just using brackets
80:10 - as a placeholder there okay
80:13 - so
80:15 - include docs is true
80:21 - [Music]
80:25 - is true
80:27 - any other options i want
80:29 - attachments
80:31 - are attachments
80:35 - include that as okay so those are like
80:37 - images and stuff
80:40 - uh maybe i want that
80:42 - sure
80:43 - um actually i don't need that here so
80:46 - maybe i'll do that when i actually have
80:47 - images like on the profile or something
80:52 - okay
80:54 - so now
80:58 - okay now i have the doc
81:02 - and
81:03 - i'm going to need to
81:06 - yeah i'm going to need to clean up this
81:08 - database a little bit
81:10 - but
81:12 - what was i oh yeah in the code
81:14 - so i have this
81:17 - and i'm setting docs.rows
81:21 - and let me see what
81:22 - docs.rows are
81:24 - i guess it's docs.rows.dock
81:27 - i have to do it
81:29 - let me see what it said as time entries
81:32 - now
81:34 - so
81:35 - oh dot value
81:39 - no dot value is already there
81:41 - i need this i need doc
81:47 - rose.doc
81:55 - okay
81:57 - and now i get nothing
82:01 - let me undo that
82:04 - and let me
82:06 - it might be easier if i just console.log
82:08 - out these docs dot rows
82:12 - so i can explore them
82:17 - okay so let me take document one
82:23 - and this is what i want i want
82:26 - um
82:28 - oh right right that was dumb so i want
82:30 - the documents here so i'm going to pass
82:32 - in
82:33 - actually to my mutation i'm going to
82:35 - pass in
82:36 - docs.rows and then in my mutation
82:41 - and i might move this into a helper
82:43 - function but i need to do take the
82:45 - payload
82:47 - and loop through these
82:49 - so
82:50 - payload
82:52 - dot four each
82:55 - um
82:56 - now i can do a map because
82:58 - i'm gonna want
83:00 - uh
83:01 - i can do an array instead of just
83:02 - pushing individually so let me take i
83:05 - don't know why i did it this way but
83:07 - okay
83:08 - so payload.map
83:11 - and
83:14 - i need to call a function
83:17 - which will be
83:20 - entry
83:23 - and
83:25 - basically going to take
83:28 - entry dot
83:30 - doc
83:35 - return entry dot doc
83:39 - uh
83:40 - and i think that's what i want
83:43 - let me see yeah that looks better anyway
83:48 - and then
83:50 - so
83:50 - this is so what bootstrap is doing is
83:53 - looking at these first this first
83:54 - document and saying okay
83:57 - it has
83:58 - a name
84:03 - um
84:04 - key and an id yeah i don't know why this
84:06 - database is set up like this i haven't
84:08 - read too much into it it just looked
84:10 - like the best one out of all the end of
84:12 - bjs options i saw
84:14 - um but yeah the database table here is
84:16 - taking
84:17 - the names of
84:20 - just this first item and then putting
84:22 - them in the header but this one here
84:24 - with timestamps isn't showing up so i
84:26 - need to do some database cleanup first
84:29 - and let me do that here
84:32 - let me delete these two
84:36 - entries that are just
84:38 - dummy entries delete
84:42 - okay so
84:50 - and then also i'm wondering
84:54 - yeah i'm wondering if key
84:56 - if i'm supposed to be pulling
84:59 - things out by key if i should be having
85:01 - this as unique because it still has
85:04 - a primary key here that is generating
85:06 - for me
85:07 - so yeah i'll have to read more about how
85:09 - that works
85:10 - but now i have start date and date so
85:14 - if i
85:15 - refresh
85:17 - oh let me reload app
85:21 - wait
85:22 - exit
85:26 - and
85:27 - now it's not
85:29 - it's not showing anything
85:32 - hours log
85:35 - um let me go to a different page and
85:37 - navigate back
85:40 - yeah it's not showing anything
85:42 - so
85:45 - let me look at the view x
85:48 - store real quick
85:51 - and see what i have set time entries
85:54 - i can refresh this
85:59 - and
86:03 - so why is it still
86:06 - i deleted them directly from here
86:10 - so i wonder
86:12 - if i need to reset this
86:15 - refresh index db
86:21 - now let me try to reload this
86:29 - okay it's not showing up at all now
86:31 - and in my view
86:33 - dev
86:34 - tools i have the same three time entries
86:38 - that aren't supposed to exist anymore
86:43 - oh all right
86:48 - so oh these two are empty now
86:52 - and that other one's full that's why the
86:54 - table's not showing up
86:55 - because
86:57 - these first two objects
87:01 - are empty
87:04 - um
87:06 - yeah
87:07 - and then this object isn't because it
87:10 - was the only one that wasn't deleted
87:13 - um so how do i fix this i guess i can
87:18 - call just manually call a delete
87:23 - delete document
87:25 - db.remove
87:27 - and then the document id
87:30 - so let me call this
87:33 - just up here
87:36 - so i guess i'll do
87:38 - time entries db
87:41 - and just call it manually and i'll have
87:42 - a vx action for this at some point dot
87:46 - remove and then i need to pass in
87:49 - the
87:51 - id of what the one i want to remove
88:02 - um
88:11 - that didn't seem to remove anything
88:13 - though
88:15 - maybe i need to restart the server let
88:18 - me just
88:19 - completely restart everything
88:28 - new pouch db
88:31 - mydb destroy
88:36 - okay i could call db.destroy
88:39 - let me if this doesn't work i'm going to
88:41 - destroy it
88:47 - and it looks like it's not working yeah
88:49 - it's not working
88:51 - okay
88:52 - yeah until i have all my crud operations
88:55 - set up
88:56 - i'm just going to call
89:00 - i'm just going to call destroy
89:05 - destroy
89:12 - can i do it on there
89:19 - good sweet
89:20 - now let me do projects
89:28 - okay cool so now they're both
89:31 - completely refreshed
89:34 - they didn't have the
89:37 - thanks for the help sashi they didn't
89:38 - have the edgy potato breakfast bun i
89:41 - have no idea what that is
89:44 - i've had kolaches though i think aren't
89:46 - they eastern european
89:49 - or something
89:52 - um when i was in serbia the person i
89:55 - stayed with
89:56 - fed me something like that so it might
89:58 - not have been a kolache but it was
90:01 - some kind of bread with
90:03 - a bunch of flavorful stuff inside
90:07 - um
90:09 - okay
90:10 - so now if i go to view us there is zero
90:12 - chance
90:14 - yes
90:15 - nothing there that's good
90:18 - now i can add an actually valid time
90:20 - entry
90:24 - and date
90:26 - um
90:27 - what date was that
90:30 - 722
90:36 - and
90:40 - do that
90:41 - submit
90:47 - okay and now actually to pull
90:50 - i have to
90:52 - go back here sweet
90:54 - so i have start date end date
90:56 - id and rev now the bootstrap table is
91:00 - kind of
91:01 - annoying
91:02 - um
91:04 - let me
91:05 - oh oops let me go here
91:08 - and see bootstrap
91:12 - egg oh eggy
91:16 - i read that wrong
91:17 - iggy potato bun that makes more sense
91:20 - for breakfast
91:21 - not edgy potatoes
91:25 - table table
91:29 - tables
91:32 - okay i'm using the table
91:35 - and
91:40 - pass in items
91:52 - cell variance okay
91:56 - column definition okay i can define
91:58 - columns
92:00 - so the fields prop
92:03 - is used to customize
92:05 - the
92:07 - table column headings in which order the
92:09 - columns of data are displayed okay
92:12 - that's good
92:14 - um
92:15 - first name last name age
92:19 - okay so now i need to pass in fields
92:21 - which is an array of the titles that i
92:24 - want
92:25 - camel cased
92:28 - not camel case snake case
92:30 - so
92:31 - let me go to my
92:33 - time entry
92:36 - oh no it's the hours log this is where
92:37 - the table
92:38 - is and
92:40 - here so
92:43 - um
92:46 - i'm doing okay
92:49 - let's actually
92:50 - put these on different lines it's
92:52 - starting to get long
92:58 - and now i can pass in
93:01 - um fields
93:03 - and i'm going to create a fields array
93:06 - for called fields
93:11 - and
93:12 - so items i actually don't need items
93:14 - anymore
93:16 - but i do need
93:17 - fields
93:20 - so
93:21 - this will be
93:24 - start date and date so let me do start
93:29 - date
93:32 - end
93:34 - date
93:39 - okay but it doesn't line up because i
93:42 - think because the names aren't exactly
93:44 - the same
93:47 - so
93:49 - um oh yeah because these aren't snake
93:51 - cased
93:52 - they are camel cased
93:54 - so let me line these up here then
93:58 - date
94:01 - and date
94:04 - that should yeah that worked okay and
94:07 - then i just need moment
94:09 - to format these dates a little bit
94:11 - better let me go ahead and do that let
94:13 - me install moment
94:14 - um i'm going to add the name here but
94:16 - that's only after i get the projects all
94:18 - set up
94:20 - so
94:24 - lincoln park i haven't heard them in
94:26 - forever
94:27 - um
94:28 - okay i need to install moment.js so
94:31 - moment
94:33 - is that spell right moment yeah
94:43 - all right
94:48 - so now
95:01 - this is weird because my little preview
95:03 - still shows the
95:05 - live in three minutes sign
95:08 - but the chat is working fine
95:10 - so
95:12 - okay
95:14 - uh
95:16 - that's okay
95:17 - now i have a moment so let me go ahead
95:19 - and do npm start
95:23 - and
95:26 - yeah run the app again
95:29 - and now i can format these dates
95:32 - so i'm going to create a function here
95:36 - let's see
95:38 - um
95:40 - time entry no an hour's log
95:42 - in mounted
95:44 - no in methods i'm going to create a
95:46 - method
95:47 - so
95:48 - uh
95:50 - let's see
95:52 - i'll just yeah i'll call it format date
95:55 - format date pass in a date
95:58 - and then i can return
96:01 - moment
96:02 - dot
96:03 - oh i need to pass the date into moment
96:05 - and then i can do dot format
96:08 - and then say the format that i want
96:11 - and let me import moment here before i
96:13 - forget
96:14 - so let me import
96:17 - moment from
96:19 - moment
96:22 - um
96:23 - and then format
96:26 - month
96:28 - day
96:30 - year
96:32 - um
96:33 - [Music]
96:34 - and then
96:36 - how do i put the
96:37 - minutes like oh i think it's
96:40 - uh
96:42 - minutes
96:44 - seconds something like that
96:46 - and then am or pm
96:51 - no wait this is hours i don't want
96:52 - seconds
96:54 - uh
96:55 - hours and then minutes that looks better
97:01 - um oh yeah i'm not calling the function
97:03 - yet i was like why aren't my dates
97:04 - formatted
97:06 - so let me go here
97:09 - and
97:11 - oh hmm
97:13 - i'm gonna have to
97:15 - format okay so this dot read time
97:18 - entries
97:22 - um
97:23 - how how am i going to do this because
97:27 - i'm taking this directly from view x
97:31 - from view x
97:34 - so
97:36 - how am i going to format the dates as
97:38 - they appear here
97:41 - um
97:42 - so i wonder should i use a slot
97:45 - like if there are slots on the table
97:48 - i don't know if bootstrap has anything
97:50 - fancy like that
97:58 - key
98:00 - um i could map out the data
98:06 - um
98:11 - let's see
98:12 - fields primary key
98:14 - let me search if they have a slot
98:18 - used to trigger the display of row
98:20 - details scope slot
98:29 - custom header and footer slots
98:33 - um what about column slots there's
98:35 - formatter format or callback or the name
98:38 - of the method in the component
98:40 - and this is exactly what i want
98:43 - scoped field slots the formatter will be
98:46 - called with the syntax
98:47 - formatter
98:50 - value key item
98:53 - so
98:56 - field definition reference
99:00 - um so this is this is what i want but
99:03 - then again
99:04 - i'm pulling this in from view x
99:06 - so that kind of has the same problem how
99:08 - do i
99:10 - format what's coming in from view x
99:13 - so should i use
99:17 - um
99:20 - what should i use here should i use
99:21 - computed maybe
99:23 - a computed method
99:26 - and
99:29 - watch time entries basically
99:32 - i could call the computed something like
99:34 - entries
99:36 - is this what i should be doing does
99:37 - anyone know what i'm talking about
99:40 - so i could do something like entries
99:45 - and
99:48 - from here so from computed i don't think
99:50 - i can call a method
99:52 - but
99:55 - um
99:57 - i can map the
99:59 - this dot time entries right
100:03 - uh yeah so i can do uh this dot time
100:05 - entries
100:07 - dot map
100:10 - and i'll return this so this time entry
100:12 - stop map
100:14 - and then
100:16 - entry
100:19 - and then when i'm looping through it
100:23 - i need to
100:25 - so let me return
100:29 - the whole entry
100:33 - except for
100:36 - the times which is the whole entry
100:38 - um
100:39 - yeah start date and date
100:41 - so
100:44 - i'm gonna do overwrite start date
100:47 - and
100:49 - and
100:50 - date
100:52 - and these are going to be
100:55 - format date
100:56 - ah
100:57 - okay
100:58 - um
101:00 - so
101:01 - let me just try and see if it works i
101:03 - don't even know if this is the best way
101:05 - i should be doing this
101:07 - so
101:07 - [Music]
101:10 - date here will be
101:12 - entry dot
101:14 - um
101:16 - end
101:17 - date
101:21 - and this will be
101:24 - start date
101:30 - start
101:32 - date
101:38 - okay
101:41 - um oh yeah and then i have to
101:43 - take this
101:46 - which is this entries method
101:49 - and see if i can just loop through these
101:54 - or no these will be the items in the
101:56 - table now
101:59 - okay cool that works anyway
102:02 - um
102:03 - i'm not calling another method i could
102:05 - just make this an external method then
102:08 - this format date one that's not in the
102:10 - component
102:12 - but yeah that works well this is a
102:16 - a real time entry
102:18 - and i can add another one so let me add
102:21 - one here
102:23 - let's see
102:28 - let me add one here
102:37 - and go to the hours
102:40 - log sweet and now i have all of my
102:44 - time entries
102:46 - that's pretty good
102:48 - i have like 15 minutes left
102:51 - let me see first of all when i add a new
102:53 - entry this should really be routing back
102:57 - yeah i'm happy about that i was nervous
102:59 - at the at first because i was like oh no
103:01 - i don't know how to deal with databases
103:03 - and desktop apps
103:05 - but
103:06 - it's not too bad
103:08 - uh
103:08 - after figuring it out
103:12 - and i'm sure
103:13 - i can just keep making it better and
103:15 - tweaking it but overall it's yeah pretty
103:18 - good
103:20 - let's see
103:22 - um what was i just doing oh yeah i need
103:24 - to route back after
103:26 - i
103:27 - save the entry
103:30 - so
103:32 - i call on submit
103:34 - and i save it
103:36 - and then
103:39 - yeah using set
103:42 - set time entries
103:44 - no no that's my mutation i'm doing
103:46 - create time entry
103:48 - and
103:50 - i save it here so actually here
103:55 - i should be
103:58 - let me import my router here
104:03 - import
104:06 - from
104:11 - a
104:12 - router because i have an index file in
104:14 - my router folder too
104:17 - okay so now i'm importing router
104:20 - and so i should be able to
104:22 - push
104:23 - from here
104:24 - so i can do router.push
104:28 - and
104:28 - what route do i want to go to
104:32 - um
104:35 - let's see
104:39 - which one oh yeah ours log
104:43 - oh that's the home route okay well
104:46 - i'll just push
104:48 - um if i'm pushing by name oops what did
104:50 - i just do
104:53 - um if i'm pushing by name in the other
104:56 - place then i should probably do it by
104:57 - name here too
104:59 - so uh
105:03 - ty no i can't i forgot already hours log
105:07 - hours log
105:10 - okay
105:16 - all right so one more time entry
105:19 - for
105:20 - two days ago i'll have to sort these
105:24 - um
105:26 - based off of date too
105:30 - oh come on
105:32 - it didn't push
105:34 - um
105:35 - i wonder if that's because it's
105:37 - submitting
105:40 - yeah
105:41 - it was surprising
105:43 - i was worried in the beginning because i
105:44 - kind of got stuck
105:46 - and
105:50 - yeah but i'm very happy with this
105:53 - project i'm actually excited about
105:55 - working on it more
105:57 - so let's see
105:59 - um
106:00 - why isn't it pushing
106:02 - so on submit am i actually doing a
106:04 - submit
106:06 - yeah this is actually type submit so i
106:08 - think what i need to do
106:10 - is
106:12 - um maybe
106:15 - e dot
106:16 - e dot
106:18 - prevent
106:19 - default
106:22 - good
106:24 - sashi d or sassy do you uh do any
106:27 - desktop apps
106:32 - or desktop app development
106:38 - um let's see the 27th
106:43 - we work till 10 pm
106:46 - submit
106:48 - sweet do i have my i have my 27th there
106:51 - great
106:52 - so i have my time entries now
106:56 - um i wonder in the next like
106:59 - five minutes or so
107:01 - if i could just set up projects real
107:03 - quick
107:05 - so let me go
107:06 - here projects
107:11 - and
107:13 - i've done applications using
107:15 - swing i've never heard of that
107:18 - swing in java
107:20 - so i guess that's a framework for making
107:22 - desktop apps with java
107:25 - don't forget to do commits and push yes
107:27 - i won't
107:28 - and last time i was in such a hurry i
107:31 - force pushed and overwrote my readme and
107:33 - had to hand type it out again
107:36 - which was
107:38 - really dumb
107:39 - um
107:41 - okay so project now let me let me try to
107:44 - enter a project
107:45 - real quick
107:47 - get rid of all these time entry files
107:50 - let's open
107:52 - project entry
107:55 - and so i have on submit here so let me
107:58 - do the prevent default before i forget
108:01 - prevent
108:02 - default
108:04 - okay
108:06 - and now i need to call
108:10 - let me open my store
108:13 - and i need to call
108:15 - this create project
108:20 - um
108:21 - let's see
108:22 - yeah and pass it the payload of the
108:24 - project that i want to create looks like
108:27 - it's set up already so i'll just import
108:29 - create
108:30 - project all right
108:33 - [Music]
108:35 - i'll have to call this dot create
108:37 - project and pass it a payload but first
108:40 - i need to set up
108:41 - view x so map
108:44 - actions
108:46 - and i need the
108:48 - create project action
108:51 - and then
108:53 - oh wait
108:56 - uh import
108:58 - um
108:59 - map actions
109:02 - from view x
109:09 - okay and then this dot create project i
109:11 - need to pass in form data
109:14 - so i'm just going to pass that in
109:16 - because that's already an object so this
109:18 - dot form data
109:20 - and that should work
109:24 - so
109:26 - that's another thing i'll have to add
109:28 - form validation next time too
109:31 - so let me try typing in a name of a
109:33 - project
109:35 - let's say
109:37 - view
109:38 - tracking app
109:41 - uh
109:42 - our
109:44 - tracking app
109:46 - built in view
109:48 - what color do i want
109:51 - let's say
109:53 - orange
109:56 - submit
109:59 - success
110:01 - okay cool
110:02 - and now
110:05 - i want to
110:06 - reroute
110:10 - the same way i'm doing here so let me
110:11 - just yank that
110:14 - and push to
110:17 - wait push to
110:20 - not hours log but
110:23 - projects
110:24 - so let me push to
110:26 - projects
110:30 - so let me create one more project
110:33 - and i'll call this
110:35 - um
110:37 - i don't know
110:39 - grid some app
110:42 - so
110:46 - let me say grid some blog
110:49 - choose a color
110:51 - do
110:52 - blue
110:54 - that's a good color
110:56 - submit
110:57 - cool
110:59 - so now i need to display the projects
111:02 - oh no because i was actually thinking
111:04 - about having them in the drop down here
111:08 - is that
111:09 - a good idea how many projects are people
111:11 - gonna have
111:12 - you know
111:14 - um
111:14 - oh well
111:16 - i already have the drop down so
111:18 - might as well keep it but i need a
111:20 - getter though
111:22 - so
111:24 - i have read time entries which gets all
111:26 - the time entries
111:27 - let me
111:30 - put
111:31 - uh read projects here
111:35 - read projects
111:38 - and
111:40 - this will return
111:43 - everything from
111:44 - the projects db but i also need a
111:47 - different mutation though
111:49 - so set time entries i'm going to need
111:51 - set
111:53 - projects here
111:55 - set projects
111:59 - [Music]
112:00 - and what do i need here okay so set
112:04 - projects state
112:06 - payload and this will basically be the
112:09 - same thing
112:11 - from there
112:12 - um
112:15 - exactly the same thing actually so
112:20 - except this
112:22 - and it just keeps coming back because i
112:24 - every time i save it okay state.projects
112:27 - this time i'm overwriting projects
112:29 - payload
112:30 - entry
112:31 - entry.doc that's all how the database
112:35 - data is set up so
112:37 - that's all fine
112:39 - um set projects db projects okay so read
112:44 - projects i'm going to have to
112:47 - import this into
112:49 - my projects.view file
112:52 - um
112:54 - okay i don't actually have
112:57 - any
112:58 - script tag in here
113:01 - so
113:02 - let me do
113:07 - no i need computed here
113:10 - actually i should have a name for the
113:11 - component that would be
113:13 - the best thing so
113:15 - it'll line up with view router called
113:17 - projects and now i'll do
113:20 - computed
113:22 - and here is where i'm going to map state
113:28 - which will be projects
113:31 - projects okay
113:33 - and
113:34 - i need to
113:36 - import map state so import
113:39 - map
113:40 - state
113:42 - from view x
113:45 - and
113:48 - let's see
113:52 - um map state no what am i doing it's not
113:55 - projects
113:56 - oh it is projects but i need it in the
113:58 - array so projects
114:01 - from state and now i have access to
114:04 - this.projects
114:06 - um
114:07 - but i need to get that into state in the
114:09 - first place or the new projects so i
114:12 - need a life cycle hook here so i'm going
114:14 - to use
114:15 - the mounted lifecycle hook again and
114:17 - call this dot
114:20 - read projects
114:23 - to get those into state
114:25 - i don't need to pass anything in
114:29 - um
114:30 - but
114:31 - oh i need to map
114:33 - that action so map actions
114:38 - and that's going to have to be
114:41 - inside of methods
114:45 - so a methods object oops
114:48 - um
114:51 - let's see methods object
114:53 - and
114:56 - that will be
114:57 - map
114:58 - actions
115:00 - and then
115:02 - pass in
115:07 - yeah read projects
115:09 - okay so now i can call this.reprojects
115:12 - that should update the projects there
115:14 - and then i should be able to
115:18 - use the array of projects here
115:21 - to loop through
115:24 - select so i'm actually going to have to
115:26 - use a computed here
115:28 - to map these projects in the way that i
115:31 - need them but i'll have to look at how
115:34 - oh it says payload is not defined
115:36 - okay that must be
115:38 - where is that
115:41 - um it's not giving me a file but i'm
115:43 - guessing it's
115:46 - let's see
115:49 - create project
115:52 - read projects
115:55 - docs dot rose
115:58 - oh
115:59 - because there aren't any rows i think
116:02 - and i'm calling reed projects with no
116:04 - rows
116:06 - um
116:11 - so
116:12 - oh yeah and then i'm trying to so i
116:13 - could do
116:17 - i could do this
116:19 - uh i think it's locked up oh no
116:22 - it's back now okay
116:24 - i could do this pass in an empty array
116:27 - if there aren't any rows
116:32 - payload is not defined
116:34 - where is payload not defined
116:40 - okay so it's saying here
116:46 - um in set projects payload isn't defined
116:48 - yeah and because i'm trying to map
116:50 - through that payload
116:51 - so
116:54 - let's see
116:57 - but i think that this so doc's dot rose
117:01 - or empty array
117:03 - i think that that will fix the problem
117:07 - um
117:11 - oh it's still it's still doing that so
117:14 - um
117:16 - yeah i don't know why the ore doesn't
117:18 - work there
117:19 - um but
117:21 - i have two minutes
117:23 - yeah
117:25 - i do okay so
117:27 - this line right here we have to fix this
117:30 - line the error on this line and be able
117:32 - to display projects on this page so if
117:35 - someone has an idea about that after the
117:36 - stream then let me know
117:39 - i am going to push my code now
117:43 - and if you want to check out
117:45 - uh more of my live streams i do a lot of
117:47 - vue.js live streams and django live
117:50 - streams on my channel
117:52 - which is faraday academy i'm also on
117:54 - twitch
117:55 - and you can find me there
117:57 - at faraday academy on twitch
118:00 - um
118:03 - oh thanks
118:04 - jared um let's see
118:07 - i added db config which is empty it's
118:09 - fine i'll leave it there
118:12 - package lock public index i did update
118:14 - those okay that all looks good git
118:17 - commit dash m is code from
118:21 - live stream on
118:24 - july
118:26 - 31st today
118:29 - okay
118:31 - let me push it
118:35 - pull oh it's saying i'm not pull it oh i
118:37 - think i updated the readme maybe
118:44 - yeah i updated the readme it's usually
118:46 - what happens
118:47 - in my own repels anyway
118:50 - okay so i pushed
118:51 - and now you should be able to see it
118:53 - here
118:58 - let's see oh yeah that's where i had to
119:00 - rewrite the readme
119:02 - last time after i force pushed
119:06 - okay cool
119:07 - it has all of the updated code what i'm
119:10 - gonna do is
119:12 - add a project board here actually
119:15 - for dev tasks and i'm going to fill this
119:17 - out after the stream
119:19 - but
119:20 - uh just to put all the things that i
119:22 - still need to work on on this app
119:25 - and add some columns here so just so i
119:27 - can keep track of it because it's
119:28 - getting to the point where i can't just
119:31 - keep it in memory or figure out what to
119:32 - work on next
119:34 - so yeah if you have any uh feedback
119:36 - suggestions feel free to
119:39 - shoot me a message or to raise an issue
119:41 - here or leave a comment if you're
119:43 - watching this later
119:45 - so yeah thanks for joining me today
119:48 - have a great day everybody
119:51 - take care

Cleaned transcript:

hi everyone welcome back to another vjs stream on free code camp hi sassy it's good to see you again hi tom so today is a continuation of the last app basically last week's app which was this view nwjs hours tracking app and i'm going to post this in the chat i think it's in the description below too let me oops there we go all right so i was basically building this application to track hours in vue.js so you can still watch the last stream and you can also read the readme here there's some more details about it so basically i made a couple screens last week um got the front a lot of the front end started anyway and so today i would like to be able to set up some kind of a database solution and then finish setting up some more of the screens in the application and just real quick i looked through quite a few solutions that people use for databases for desktop apps over the last few days and it's quite different because i'm so used to you know attaching the database to a backend and from the front end calling an api or even doing a full stack application together like a django app but there's a distinct front end and back end but in desktop apps it seems like it's recommended to just call called because it's all compiled into an application anyway so um i don't have to differentiate between the front and back end as much it's okay to i guess call the database from the front end and so out of all the options pouchdb looked really good so this is the one i'm gonna work with today for the application i also set up this is uh comes from couchdb so i set up couchdb earlier just to check it out because i hadn't used couchdb before but i used dynamo and and a couple other i would say similar databases yeah so um that was the starter for this app so i have the code open and i'm going to go ahead and run the code with the npm start command and this should open my browser window for the nwjs application all right cool so this is what i did last time this is all in bootstrap by the way and i have this page is the hours log and then i have a projects page uh there's no canada project that was just the default from this drop down component that i added oh add new project isn't set up yet but i do have this ad entry for the hours log where you can add a new hours entry um so i think i'm going to start off trying to for this hours log i'm going to start off trying to save this in a database and figuring that part out so i'm going to come to pouch db skip bower um okay so npm i'm not going to use the node because i can just use it directly for my view app here so i'm gonna go ahead and install pouchdb um oh right i have to stop it anyway oh well so let me get this installed on first okay and then just in my html i can require db and i shouldn't have to do anything else okay and then i'll have to set up the database so i guess i'm going to do this in my main.js file in the view application that's still installing can everyone hear me okay um oh let's see source so in my main js file um oh here's the public so here's my index.html file which is let's see build files will be autoinjected so i can add this in the header okay cool hi oliver i think this is the first time i've seen you here welcome to the stream so let me just add the db here in the head tag above anything that's going to be injected and above the view app um okay so now it says working with local databases to create local database you can simply call new patchdb and give it a name so this is what i'm going to do rdb equals new pouchdb and i think i'll put that in my main js file for right now and then i can separate it later so i'll say pouch db config let me zoom in one where's the drag there it is okay pouch db config okay so this is my new db i won't call it kittens though i'll call it hours for hours tracking let me do this camel case okay so i have a new db instance and then okay it says live code example pro tip whenever you see this live example in the guide you can download it just to follow along at home for example to run this app okay i don't want to do that how to oh remote databases and give it a path to a database in couchdb i don't think i want to do that although i do have couchdb running right now just in case get basic info about the database working with databases okay and then oh interesting so i can um all right let me run my app i think with the dev tools oh npm start i think i'll be able to navigate through this database using the in browser dev tools the same ones i use in chrome or firefox okay so that's loading let me try to open the dev tools let's see inspect so okay not in source let's see is it in i can't remember which one application sources why am i i'm having a brain fart right now i can't remember yeah here it is application all right so indexeddb um i'm not using index db cache storage application cache local storage um okay i thought maybe it would be in here but i guess i need to read a little bit more let's see indexeddb web sql inspectors you can use the normal developer tools to see what your database looks like under the hood in chrome just choose the overflow icon tools developer tools then click on resources tab then indexeddb okay tools developer tools all right so oh these are the developer tools resources tab do i have a resources tab um more tools yeah i don't see it okay i mean index db is here anyway so this is probably what they're talking about but yeah i don't see it there so maybe it just hasn't added the database yet so okay um so i have this which is a new db hours tracking and seems to be doing okay yeah there's nothing to add right now so how do i add a table or a collection to the database um you can also enable debug logging oh wait what am i doing i'm not importing pouchdb from oh yeah i am it's in my index.html file okay nevermind so i have my pouchdb database and so i should be able to let me enable the debug mode put that here okay delete your local database in chrome you can use clear cache all right um debug mode i wonder if it's in working with documents so patchdb is a nosql database yeah okay so to store a document you simply use put um okay so db.get mittens okay so there i think there is no concept of tables in this database it's just put the documents and then retrieve them by the id okay well um this is interesting okay i think what i'm going to do first then is finish up some of these pages just so i can get going with this and then work on putting things in the database so i think i'm going to pick back up on the projects page where i was here and make it so you can add a project because i'm going to need a foreign key relation between these projects and which hours or which project certain hours go to so i think i'm going to finish setting up that so select projects i need an add new project page which will match this schema here so i'll need a name description color and then create it at updated should be automatic so i need a name description and a color for the project so the first thing i need to do is create a view for that get out of here in my source so i have app which is oh wait this is the wait one second i think that was a different let me open this in the code editor make sure that's the right app there we go all right so yeah i was wondering where my views folder was okay so here's the projects page that i have and i have the time entry page which is the form for entering new hours so i'm going to copy that and i'll go to views and now i'm going to put i guess project entry page since i'm calling the other one time entry and i'm going to paste this let's see what i need to change not time entry but project entry and okay i don't need date pickers for this and okay i have submit and reset buttons so i need to grab form elements for this oh and let me change the page name to project entry uh start date end date okay so i have a basic boilerplate for it um oh yeah let me add it to the router real quick so i can wrap to that page add time entry so let me copy this go to the end and this one will be add project project entry okay now i need to import this at the top um project entry project entry okay so now i have it routable so let me go to my hours log or not my hours log um okay in my app no actually it's from the projects page it's not from the main bar so this here this add new project so let me just create a link from here and say at click and then i'm going to use the view router so dollar sign router dot push and then whatever route so actually i could do based off the name so i could do name is project entry let's see if that works oh i need to run it again so npm start and that'll take a minute okay so now project entry is routable and then yeah the database is really the next thing because i need to be able to add these hours and projects in here so from the hours log if i add an entry from here okay cool i can add a project entry let me just add those fields real quick and then i'll get back to the database so name description and color and from okay from here i have these label start date so this is going to be name and then add description and then i'll add color and i'm using vidif not beautify this is bootstrap okay let me look up bootstrap view then for the forum elements bootstrap view here we go okay uh get oh docs here we go so let me look for form and i think just all the form components are on one page here so where is the code here it is so this b form b form group b form input so this is what i want b form input and then so the first two name and description are these inputs let's see this one will be type of text which is default so i don't think i need it there required placeholder is name and v model is form data and then i'll put name which i don't have there yet so name id is okay and now let me just copy this actually i'll probably want a text area so let me search for that form text area yeah let me copy this one it's a form text area okay b form input now i have text area i think this is actually zoomed in too much maybe yeah that's better it was sideways scrolling a lot okay so the model is is it form data dot description and then i'll say enter a description for the placeholder three to six rows that's fine um and then oh yeah i'm not closing it that's why it was giving me an error okay cool that looks good i wonder if you can resize things oh not really in this that's fine so i have a name description and then i need a color picker so let me look for color picker i wonder if they have one they have bar color schemes color picker those date pickers oh here's color picker it's a third party library i guess view color picker v color vert view color picker do i want to add a whole color picker um yeah it looks pretty easy to use let me look at the other ones oh you can zoom panes independently in vs code i didn't know about that um pretty sure there's an html native color picker um is there html an html color picker oh wait color picker type color oh it only works in modern browsers well good thing this is latest version of chromium um okay color picker let's see actually i don't need the name because i'm gonna remodel this so i guess i can do v model is form data dot color type color oh cool thank you i didn't even know i didn't even know html had one and that looks just as good as any other one except i can change the style a little bit of how it's displayed thank you okay let me just put these in my data real quick so i need name description and then color which i guess it's a string i'm not sure um let's see let me actually see what it is let me open up the dev tools inspect and i think i have view yeah i have the view dev tools here so let me look at um let's see project entry yeah cool i have the color there thank you that was easy all right so now i have project entry page and the hours log and add new time entry page so now i really need to hook this up to the database and i think my mind just being so used to let me get rid of these um you know having it connected to a back end it's it's kind of strange to i guess imagine this database or imagine how to use it okay so related api documentation there's get and there's put and i'm guessing get because i'm gonna need to get back or query for a whole bunch of objects of the same yeah you did thank you i'm going to need to query for a whole bunch of objects of the same type so i guess i can pass in options let me look at their examples so they have db.get my doctor okay let's stop then um but that's just searching by id how can i pull things back without using the id okay create update a batch of documents that's good okay db.bulk docs so i i'd have to create a different database for i think i need one database for projects and one database for users with this with pouchdb okay bulk update delete what about bulk get oh fetch a batch of documents db all docs fetch multiple documents indexed and sorted by the id uh deleted documents are only included if option.keys is specified okay so i basically need to set up two databases oh i was wondering why the database didn't show up it's because i put it in the wrong application that was that was dumb um okay so here i'm actually going to have to um go back i think it's working with databases yeah i need this and then i need to set up the debug too so i have all of these imports all of those okay i'm going to set up database config here and two databases and then i need to set up the debug options you can also enable debug logging by doing this i want logging because i want to make sure that it's working okay so kittens what other so these are i think it the concept of db here is like a table so i'm gonna do time entry and then was the other one projects or this would be time entries and let's see deleting your local database differences between local and remote okay and now oh i'm not actually importing this in this app into the index.js so let me go into public go to index.html i mean and then i need to paste the link there which is setting up pouchdb i already installed it so i just need to add this link to the head tag oh hi jared good to see you too bad you're here not here to help me with nwjs okay so let's see script tag pouch cb and i think that's it let me rerun the server because i'm guessing i'll need to rerun it so it can see that import in the index.html all right now it's going to reopen the window uh maybe there's an error i don't know let's see pouchdb is not defined okay um so i have it here um because i thought that it would expose oh not enough in that file from here i thought that it would expose that pouch db variable for me to use but i guess it's not doing that so i could i guess i could do it just directly npm install it wait someone sent me a message uh nw dot window dot okay just to automate the devtools opening sure let me add that thanks for the tip um let me add this to i guess just anywhere for right now um i'll have to take that out before i build this as an app okay so i guess next time i next time i run my server it should automatically open the devtools the first line of js and then comment it out okay pouchdb is not defined so let me actually take this out i'm gonna try oh it did restart patch tv is still not fun i know let me actually install it just like i would any other view module here and uh let's see mpm and oops i copied npm install okay npm install pouchdb and it's taking a minute yeah that'll just be easier if i can import it in view okay yeah i don't know why i didn't do that before now let me do npm start and while that's going i'll come to my main js and i'm gonna put that with my library imports 08 require i wonder if i can import this then um db uh import pouch db i'll see if this works from pouch db cannot read enable of undefined in my source main js oh dot pouchdb.debug.in okay so i wonder if it's even registering pouch db because i don't seem to have the debug enable available so let me look in application oh cool i do have it awesome so i do have if you can see on the side there i have pouchdb projects and patchdb time entries and then i can open those up and um i can look at all the different i don't know i'm not too familiar with um the index to db in the browser so yeah i'll have to try that out okay but anyway i do have my two databases here that i added that's good so i should be able to start adding things to them so how do i do let's see i can do create update doc create database delete yeah let me go to create or update so it's just db.put and then um i need the doc okay um so here i have the two dbs here i have time entries and projects the thing is though i'm wondering if i should put it here now i'm thinking that maybe i want this in my view x or in an extra config that i import into my view x because this is really where i'm going to be working with that db stuff so let's see let me make not in my router in my store let me make a new file and i'm going to call it db config dot js and then i'm going to take pouch db uh take it here is this a good idea does anyone else have a better idea set it up in my view x and then i'm going to take these because otherwise i mean could i inject it into my global state but then i want to use it from view x so i need access to those databases from here anyway oh wait i made this new file let me use that new file um okay so let me use that file and then let me import import db config from db config okay and now i need to um export oh wait this is these are both the bees why am i doing two dbs so let me export these as two different things i'm gonna do um t e db no i need to spell this out so time entry db and i'll call this projects db and actually that should be time entries okay and then from here i need to export something so i need to export export um yeah i was thinking i could export these individually but i want to export an object because then i can add options or do whatever i want so let me export default in object and i'll do time entries eb and then i'll do projects db okay um oh it has the option to refresh that's cool okay so now i have these two database instances and i can pull these out so when i import them into view x i can just go ahead and get time entries and projects db and then i can do whatever i want with them in my view x store and then i can interact with the database from any component through the store okay um so i think i think that will work and now let me do db.put doc options callback um so let me grab this and let me just do a test here so let me do um okay so doc i need name gwen and then options uh options i'll just leave an empty object for that and then callback function um this will be just console.log worked even though there's no error handling all right so how do i see documents that i've added which one did i add to oh i don't even have db there let me add this to time entries oh no projects projects db um export projects db was not found in db config okay exports projects db okay so let's see projects db did i misspell something i think i misspelled something did i oh it seems to be right projects db let me restart the server and see okay these are both new pouchdb projects dp okay export project stevie was not found in db config learning from source store index.js hmm that's weird okay let me look at index.js see if i'm importing the right file so i do have db config which is that file name and then i'm importing let me try time entries yeah why why aren't the exports being found in here i'm exporting default oh because i'm requiring this maybe um maybe i need to import let's see import from i think this i feel like that's what i was doing anyway in the main.js file no i thought i had it here where i changed it to import maybe i didn't i can't remember okay it was not found in let's see it wasn't found in the dbconfig file so let me actually see because this is creating the new pouchdb instances and i am exporting the correct um values from there so that's a little bit strange let me see um time entries projects db exports um let me see what these are equal to from here so let me try to get it to pause on the debugger okay so um entries db these are both correct and pouch db those are both correct and then what i'm exporting is also correct which is strange okay but then when i'm importing it so the problem is when i'm importing it here and i can do a debugger here that should restart on its own does anyone have an idea about why this isn't working let's see it's restarting cannot read property line number of undefined okay let me play it and maybe i'll restart the server again and this should open the dev tools so it should open the new debugger i think because the devtools will open before the app finishes okay so i have my two index db's i'll refresh both of them console.log inside of export okay so here's the problem cannot read put of undefined um but these are defined console.log so inside of export um i looked at these in the debugger and when i had a debugger in here where is it get out of there in here let's see and it says that they're defined here or at least it shows time entries but it was saying in the other file that time entries and projects aren't defined which is weird i can make sure that this one yeah these are all spelled the same let me step over oh yeah try pudding okay let's try putting inside of try put inside of db config yeah i guess it will work from there maybe i'll just move it to this main file because it doesn't seem to like the importing exporting and that might because because it's only set up it's not set up to use es6 but i don't see how that would make sense because this import works yeah i don't know let me see oh wait did i let me get this back and now in here okay so time entries db.put and then let me see i got rid of all the debuggers so let me just play cannot read property put of undefined let me refresh this okay okay so that worked actually if i just have it in the same file yeah i don't know why the import export isn't working why do you need the curly brackets in import oh i was just pulling these two things out from the import so i didn't have to but then i would have to do like db dot this database or that database so i was just using a shorthand um okay maybe you should import yeah that's what i'm thinking that i'll just move this whole thing to import for right now because this seems to work i do wonder how i can see so that's time entries um attach store local store meta store this is metadata doc id sequence there's a lot of stuff in here so where is um i wonder do i have to refresh this database refresh because i can't see the dock i just added it's not listed here key blob detect blob support yeah i don't know where the document is i guess i don't know enough about this index.js to see it but it says it saved so let me just move this to the index file yeah and so um let's see get rid of that export default get rid of these okay and i wonder if i do have to set an id here so let's look at a document yeah they're putting the id so i do need to set my own id on these documents so i guess i'm going to use uuid let's see npm uuid to generate a unique id for each document since the database isn't doing it for me okay npm install uuid and then i'll import it into the view x okay one more time stopping the server oh clear um npm install uuid that should be pretty quick and then i can import um uid okay then i just call the uuid function so let me import this in my view x so after pouchdb i'll import um version 4 as uuid version 4. so i think this is how i need to store documents in here i need to add the database so i can call this uuid function that i just imported and save the id and name and i'm actually logging worked here so i think that's oops um oh wait that's also a mistake so let's see because this could come back with an error so um what would i get response and then error or error and then response let me look at this api uh okay so oh there's dot then dot catch after put so i could use async await for this and then try catch let me just copy this though for this test right here so i'm going to do this so i'm going to call that put and now i can use dot then indent all this all right hi pk get now how are you um okay so now i have error and i'll just console.log the response as well okay and let me see how it handles this when i run the app again npm start hi pk did you join to give me some advice um hopefully but if you want to chat that's good too um okay i like the dev tools opening automatically all right yay sweet look at this doc id rev whatever that means and i have the object with named gwen i have the unique id that i set primary key one cool okay so now i can see it in here that's good news and now i just need to put this in my um or add view x actions here oh sorry my watch is telling me to go walk around it says it reminds me when i've been sitting too long but i can't walk around right now um okay so actions what kind of actions do i need i need to i need crud operations for projects and for time entries so i'm gonna name these kind of like crud operations so let's say create time entry um these will all be async too so and then we do async create project and then in create time entry i'm gonna copy this uh wait oh yeah oh i missed the other part of the there we go so what i'm going to do inside of this async function is change this from promises to async await so i'm going to do const const response equals a weight whatever object i'm going to put in and actually here so the first parameter is um from vue.js so i'll be able to get the function to commit mutations and then the second one is what i'm passing in as the payload which will be in object here which will be this object that i'm gonna save um so let me get rid of this then and i'm gonna add the payload on here and i'm going to generate an id from view x for that payload i'm passing in that i want to save as a time entry um okay and then get rid of bees it keeps bringing me over there every time i save but it's such a habit to save every second um okay i feel much better about this now let's see um create time entry so this i need to wrap this in a try catch so i can know if this creates an error let me close that and then do catch let's see error and then i'll just do console. error and error and now okay in my try i need to so what do i want to do with the response um the response i don't know i guess for now i could just log it out i actually don't think i want um because this is all local so because in a nor so in a normal vjs application on the web i would take the document i just created and push it into my state so that i didn't have to make another api call but and actually that will make it update so let me just not do that for right now and see how this plays out so let me do console.log response um and that means it was a success so let me do i guess success okay and then i basically want the same thing for create project so i'm just going to go ahead and put that and then i'll make a getter because i need to be able to get all of this stuff out of the database so for project i want the same things i want i probably don't need to commit so i'll just leave that empty um i don't know if i can leave it empty um maybe i don't know uh payload is that gonna error and i wonder so okay so this is project projects db which is basically the same thing um generating uid passing the payload so i save all of the key value pairs on the payload and then so now i need to get all of the items that i save so let me make that real quick before i test out the saving because i need to be able to see if i created anything hi jared so i basically several things broke but i think they're fixed now i basically set up pouchdb from here because i couldn't get it working from importing in the index.html file and then i have to create my own ids so i imported uuid um yeah and then i have these two databases so patchdb seems to differentiate by databases instead of tables so i created two different databases for these two tables that i want and right now i'm working on these actions so that i can get uh get all the time entries and projects that are in the database line 18 yeah i'm still typing that's why there's an error okay yeah let's see uh read time entries okay um i don't actually need to commit from there either really so let me do i don't need to pass in a payload i don't need anything um i just need to basically get which is oh bringing me back over there so i think that is bulk get or batch is it batch fetch oh indexes and everything okay um let's see batch fetch db.all docs okay so from here then i'll have to be able to filter at some point too which i guess options might let me filter i forgot to have water here i might need some in a second um okay so what was i getting oh yeah db.all docs so let me do that here so await db which will be time entries db dot all docs and then pass in options if i want options but i think i don't don't need options right now so let me do const docs equals that and let me just i guess i'll log out the docs because i don't know what format that's coming back in okay and now i need this action to be able to be called from my component which will be my hours log so i can see all the hours in here so let me go down here and i'm going to map it into the component so i'm going to import was it map actions from view x can you explain commit yeah so real quick commit here is um so view x has my global state or it will have global state whenever i need state that doesn't necessarily need to be in the database but i want it to be accessed by many components so what commit does is call a mutation that can update that global state but right now i don't have any mutations um or anything on the global state so i really don't need commit yet but it's generally from ux actions most viewers bux actions will call commit to update state but i'll get rid of that for right now so it's not yeah so it's not there when i don't need it um oh yeah uh okay so i am pulling in map actions and now i need so i need to put that in methods which will be below data so i need a methods object for view and then i can do map actions call that and then which actions do i want to map to this component i want read time entries i can't get rid of that um yeah read time entries create no i don't need that one here so just read time entries basically and now i need or i need to call read time entries so this will be called on a created so let me add my life cycle hook here created so when this component actually no i'll do mounted so when this component mounts to the screen it should call my action uh which is this dot read time entries now and then i don't need to pass anything in so i can do this.readtime entries which we'll call this and then it should lock up log out my docs so let me see if that works sweet why does it say two rows oh i must have uh saved it twice saved something twice where's my name in this okay that's weird it seems like it's just an id and nothing else that i saved all right that's fine so anyway that's coming back with docs and that is yeah so i'll need to do rows so docs is this whole object and then i need to do dot rows so that's kind of like response.data so let me then do um so here's actually where i need a mutation because i need to update the docs here so let me commit a mutation from here and i'll need to do what is it set i guess set time entries and then pass in docs dot rows and then in state so state i need to have all time entries okay and then i i guess i'll also oh that will be an array actually so that's an array and then i need projects here which i'll need in a minute and that's also an array and then i need to create that mutation that i'm calling so set time entries needs to be a mutation which is not async inside a mutation i have access to state and i have access to whatever i'm passing in which is the i like to use the word payload i don't know how many people use that but it's just like a general word for anything that i'm passing in so now i can do this no i don't need this because i already have state available to me in the function so now i can overwrite state on time entries which is equal to the payload that i'm passing in oh commit is not defined i forgot to import or get commit in the function so here i need commit that should work now let me look at my view um where is it here it is oh cool it called the mutation set time entries and now i have the payload with two objects which is weird i'm gonna have to figure that out but anyway it did work and so that is my store now i have an array of time entries cool so now i need to be able to create one create time entry from the time entry dot view page i like payload it sounds very serious does it what is payload in the military oh this like dropping a bomb or something that's that's kind of gruesome that makes me not want to use the bird anymore um okay so i have dates here okay okay i get it i get it um so when i click submit i'm going to call this action that i need to be getting from view x so here also i'm going to have to import map actions from view x and i'm trying not to save after every time because it switches me back to the other screen um okay oh yeah methods now i need to do math actions and which action do i want it's create time entry oops and now i can call this dot create time entry and then i need to pass it a payload of what i want to create which is form data so actually i can just pass it as an object here because that's what my payload is expecting so i can do this dot form data um oh yeah but how am i doing start date and date i'll have to look at how i'm saving those um in what format but this is okay just to get this working for now um so let me go to add time entry choose uh today choose today and then end date after some hours submit okay i might have to do prevent default there let me see if it did add anything i think i have to go back to this page because this is where it loads the hours company one no that was just that was already there never mind um so let me look at this state here yeah it did add it though value set time entries why is it not showing the actual value here i guess that's um let me refresh this let me refresh this database refresh and so here okay i do see start date and date all right and these are time stamps okay actually i can bring the value over here okay that's actually pretty good i have start date and date that's exactly what i want um then why am i doing this i think what i need to be doing here is actually having a string not an object i think that's from something i had before okay so now i can create i can pull them from the database um i could loop through these actually in my hours log kalachi factory um oh i missed okay um talking about food makes me hungry what was i doing i can't remember oh yeah hours long i want to loop through these and display them in the table so be table striped hover and then items it's kind of a really simple table i want to denote like which i guess which headers i want um well let me map state to this component i want to get those time entries off of ux so map state to the component and now i need to create computed here so that i can see the updates that happen in my view x state and let me do map state here and what state do i want to map here it is so my state is i have this array of time entries that i want to map here so now i can see all the time entries in this component and then i could on this table here i could just pass in time entries and see how it looks that looks awful um yeah why aren't i getting the correct values back i guess from the database i'm doing this wrong so let me see deleted documents are only included oh okay i need to do include docs thanks options not include docs i need to set this to true because otherwise i just get the id and i i guess rev is for revision and that changes when i update it i'm guessing um okay so options.include docs so i need to set this in no in my database um in my get so here um so is it an array yeah it's an array of options so how does that look okay no it's an object i'd pass it yeah it would be weird as an array i guess they were just using brackets as a placeholder there okay so include docs is true is true any other options i want attachments are attachments include that as okay so those are like images and stuff uh maybe i want that sure um actually i don't need that here so maybe i'll do that when i actually have images like on the profile or something okay so now okay now i have the doc and i'm going to need to yeah i'm going to need to clean up this database a little bit but what was i oh yeah in the code so i have this and i'm setting docs.rows and let me see what docs.rows are i guess it's docs.rows.dock i have to do it let me see what it said as time entries now so oh dot value no dot value is already there i need this i need doc rose.doc okay and now i get nothing let me undo that and let me it might be easier if i just console.log out these docs dot rows so i can explore them okay so let me take document one and this is what i want i want um oh right right that was dumb so i want the documents here so i'm going to pass in actually to my mutation i'm going to pass in docs.rows and then in my mutation and i might move this into a helper function but i need to do take the payload and loop through these so payload dot four each um now i can do a map because i'm gonna want uh i can do an array instead of just pushing individually so let me take i don't know why i did it this way but okay so payload.map and i need to call a function which will be entry and basically going to take entry dot doc return entry dot doc uh and i think that's what i want let me see yeah that looks better anyway and then so this is so what bootstrap is doing is looking at these first this first document and saying okay it has a name um key and an id yeah i don't know why this database is set up like this i haven't read too much into it it just looked like the best one out of all the end of bjs options i saw um but yeah the database table here is taking the names of just this first item and then putting them in the header but this one here with timestamps isn't showing up so i need to do some database cleanup first and let me do that here let me delete these two entries that are just dummy entries delete okay so and then also i'm wondering yeah i'm wondering if key if i'm supposed to be pulling things out by key if i should be having this as unique because it still has a primary key here that is generating for me so yeah i'll have to read more about how that works but now i have start date and date so if i refresh oh let me reload app wait exit and now it's not it's not showing anything hours log um let me go to a different page and navigate back yeah it's not showing anything so let me look at the view x store real quick and see what i have set time entries i can refresh this and so why is it still i deleted them directly from here so i wonder if i need to reset this refresh index db now let me try to reload this okay it's not showing up at all now and in my view dev tools i have the same three time entries that aren't supposed to exist anymore oh all right so oh these two are empty now and that other one's full that's why the table's not showing up because these first two objects are empty um yeah and then this object isn't because it was the only one that wasn't deleted um so how do i fix this i guess i can call just manually call a delete delete document db.remove and then the document id so let me call this just up here so i guess i'll do time entries db and just call it manually and i'll have a vx action for this at some point dot remove and then i need to pass in the id of what the one i want to remove um that didn't seem to remove anything though maybe i need to restart the server let me just completely restart everything new pouch db mydb destroy okay i could call db.destroy let me if this doesn't work i'm going to destroy it and it looks like it's not working yeah it's not working okay yeah until i have all my crud operations set up i'm just going to call i'm just going to call destroy destroy can i do it on there good sweet now let me do projects okay cool so now they're both completely refreshed they didn't have the thanks for the help sashi they didn't have the edgy potato breakfast bun i have no idea what that is i've had kolaches though i think aren't they eastern european or something um when i was in serbia the person i stayed with fed me something like that so it might not have been a kolache but it was some kind of bread with a bunch of flavorful stuff inside um okay so now if i go to view us there is zero chance yes nothing there that's good now i can add an actually valid time entry and date um what date was that 722 and do that submit okay and now actually to pull i have to go back here sweet so i have start date end date id and rev now the bootstrap table is kind of annoying um let me oh oops let me go here and see bootstrap egg oh eggy i read that wrong iggy potato bun that makes more sense for breakfast not edgy potatoes table table tables okay i'm using the table and pass in items cell variance okay column definition okay i can define columns so the fields prop is used to customize the table column headings in which order the columns of data are displayed okay that's good um first name last name age okay so now i need to pass in fields which is an array of the titles that i want camel cased not camel case snake case so let me go to my time entry oh no it's the hours log this is where the table is and here so um i'm doing okay let's actually put these on different lines it's starting to get long and now i can pass in um fields and i'm going to create a fields array for called fields and so items i actually don't need items anymore but i do need fields so this will be start date and date so let me do start date end date okay but it doesn't line up because i think because the names aren't exactly the same so um oh yeah because these aren't snake cased they are camel cased so let me line these up here then date and date that should yeah that worked okay and then i just need moment to format these dates a little bit better let me go ahead and do that let me install moment um i'm going to add the name here but that's only after i get the projects all set up so lincoln park i haven't heard them in forever um okay i need to install moment.js so moment is that spell right moment yeah all right so now this is weird because my little preview still shows the live in three minutes sign but the chat is working fine so okay uh that's okay now i have a moment so let me go ahead and do npm start and yeah run the app again and now i can format these dates so i'm going to create a function here let's see um time entry no an hour's log in mounted no in methods i'm going to create a method so uh let's see i'll just yeah i'll call it format date format date pass in a date and then i can return moment dot oh i need to pass the date into moment and then i can do dot format and then say the format that i want and let me import moment here before i forget so let me import moment from moment um and then format month day year um and then how do i put the minutes like oh i think it's uh minutes seconds something like that and then am or pm no wait this is hours i don't want seconds uh hours and then minutes that looks better um oh yeah i'm not calling the function yet i was like why aren't my dates formatted so let me go here and oh hmm i'm gonna have to format okay so this dot read time entries um how how am i going to do this because i'm taking this directly from view x from view x so how am i going to format the dates as they appear here um so i wonder should i use a slot like if there are slots on the table i don't know if bootstrap has anything fancy like that key um i could map out the data um let's see fields primary key let me search if they have a slot used to trigger the display of row details scope slot custom header and footer slots um what about column slots there's formatter format or callback or the name of the method in the component and this is exactly what i want scoped field slots the formatter will be called with the syntax formatter value key item so field definition reference um so this is this is what i want but then again i'm pulling this in from view x so that kind of has the same problem how do i format what's coming in from view x so should i use um what should i use here should i use computed maybe a computed method and watch time entries basically i could call the computed something like entries is this what i should be doing does anyone know what i'm talking about so i could do something like entries and from here so from computed i don't think i can call a method but um i can map the this dot time entries right uh yeah so i can do uh this dot time entries dot map and i'll return this so this time entry stop map and then entry and then when i'm looping through it i need to so let me return the whole entry except for the times which is the whole entry um yeah start date and date so i'm gonna do overwrite start date and and date and these are going to be format date ah okay um so let me just try and see if it works i don't even know if this is the best way i should be doing this so date here will be entry dot um end date and this will be start date start date okay um oh yeah and then i have to take this which is this entries method and see if i can just loop through these or no these will be the items in the table now okay cool that works anyway um i'm not calling another method i could just make this an external method then this format date one that's not in the component but yeah that works well this is a a real time entry and i can add another one so let me add one here let's see let me add one here and go to the hours log sweet and now i have all of my time entries that's pretty good i have like 15 minutes left let me see first of all when i add a new entry this should really be routing back yeah i'm happy about that i was nervous at the at first because i was like oh no i don't know how to deal with databases and desktop apps but it's not too bad uh after figuring it out and i'm sure i can just keep making it better and tweaking it but overall it's yeah pretty good let's see um what was i just doing oh yeah i need to route back after i save the entry so i call on submit and i save it and then yeah using set set time entries no no that's my mutation i'm doing create time entry and i save it here so actually here i should be let me import my router here import from a router because i have an index file in my router folder too okay so now i'm importing router and so i should be able to push from here so i can do router.push and what route do i want to go to um let's see which one oh yeah ours log oh that's the home route okay well i'll just push um if i'm pushing by name oops what did i just do um if i'm pushing by name in the other place then i should probably do it by name here too so uh ty no i can't i forgot already hours log hours log okay all right so one more time entry for two days ago i'll have to sort these um based off of date too oh come on it didn't push um i wonder if that's because it's submitting yeah it was surprising i was worried in the beginning because i kind of got stuck and yeah but i'm very happy with this project i'm actually excited about working on it more so let's see um why isn't it pushing so on submit am i actually doing a submit yeah this is actually type submit so i think what i need to do is um maybe e dot e dot prevent default good sashi d or sassy do you uh do any desktop apps or desktop app development um let's see the 27th we work till 10 pm submit sweet do i have my i have my 27th there great so i have my time entries now um i wonder in the next like five minutes or so if i could just set up projects real quick so let me go here projects and i've done applications using swing i've never heard of that swing in java so i guess that's a framework for making desktop apps with java don't forget to do commits and push yes i won't and last time i was in such a hurry i force pushed and overwrote my readme and had to hand type it out again which was really dumb um okay so project now let me let me try to enter a project real quick get rid of all these time entry files let's open project entry and so i have on submit here so let me do the prevent default before i forget prevent default okay and now i need to call let me open my store and i need to call this create project um let's see yeah and pass it the payload of the project that i want to create looks like it's set up already so i'll just import create project all right i'll have to call this dot create project and pass it a payload but first i need to set up view x so map actions and i need the create project action and then oh wait uh import um map actions from view x okay and then this dot create project i need to pass in form data so i'm just going to pass that in because that's already an object so this dot form data and that should work so that's another thing i'll have to add form validation next time too so let me try typing in a name of a project let's say view tracking app uh our tracking app built in view what color do i want let's say orange submit success okay cool and now i want to reroute the same way i'm doing here so let me just yank that and push to wait push to not hours log but projects so let me push to projects so let me create one more project and i'll call this um i don't know grid some app so let me say grid some blog choose a color do blue that's a good color submit cool so now i need to display the projects oh no because i was actually thinking about having them in the drop down here is that a good idea how many projects are people gonna have you know um oh well i already have the drop down so might as well keep it but i need a getter though so i have read time entries which gets all the time entries let me put uh read projects here read projects and this will return everything from the projects db but i also need a different mutation though so set time entries i'm going to need set projects here set projects and what do i need here okay so set projects state payload and this will basically be the same thing from there um exactly the same thing actually so except this and it just keeps coming back because i every time i save it okay state.projects this time i'm overwriting projects payload entry entry.doc that's all how the database data is set up so that's all fine um set projects db projects okay so read projects i'm going to have to import this into my projects.view file um okay i don't actually have any script tag in here so let me do no i need computed here actually i should have a name for the component that would be the best thing so it'll line up with view router called projects and now i'll do computed and here is where i'm going to map state which will be projects projects okay and i need to import map state so import map state from view x and let's see um map state no what am i doing it's not projects oh it is projects but i need it in the array so projects from state and now i have access to this.projects um but i need to get that into state in the first place or the new projects so i need a life cycle hook here so i'm going to use the mounted lifecycle hook again and call this dot read projects to get those into state i don't need to pass anything in um but oh i need to map that action so map actions and that's going to have to be inside of methods so a methods object oops um let's see methods object and that will be map actions and then pass in yeah read projects okay so now i can call this.reprojects that should update the projects there and then i should be able to use the array of projects here to loop through select so i'm actually going to have to use a computed here to map these projects in the way that i need them but i'll have to look at how oh it says payload is not defined okay that must be where is that um it's not giving me a file but i'm guessing it's let's see create project read projects docs dot rose oh because there aren't any rows i think and i'm calling reed projects with no rows um so oh yeah and then i'm trying to so i could do i could do this uh i think it's locked up oh no it's back now okay i could do this pass in an empty array if there aren't any rows payload is not defined where is payload not defined okay so it's saying here um in set projects payload isn't defined yeah and because i'm trying to map through that payload so let's see but i think that this so doc's dot rose or empty array i think that that will fix the problem um oh it's still it's still doing that so um yeah i don't know why the ore doesn't work there um but i have two minutes yeah i do okay so this line right here we have to fix this line the error on this line and be able to display projects on this page so if someone has an idea about that after the stream then let me know i am going to push my code now and if you want to check out uh more of my live streams i do a lot of vue.js live streams and django live streams on my channel which is faraday academy i'm also on twitch and you can find me there at faraday academy on twitch um oh thanks jared um let's see i added db config which is empty it's fine i'll leave it there package lock public index i did update those okay that all looks good git commit dash m is code from live stream on july 31st today okay let me push it pull oh it's saying i'm not pull it oh i think i updated the readme maybe yeah i updated the readme it's usually what happens in my own repels anyway okay so i pushed and now you should be able to see it here let's see oh yeah that's where i had to rewrite the readme last time after i force pushed okay cool it has all of the updated code what i'm gonna do is add a project board here actually for dev tasks and i'm going to fill this out after the stream but uh just to put all the things that i still need to work on on this app and add some columns here so just so i can keep track of it because it's getting to the point where i can't just keep it in memory or figure out what to work on next so yeah if you have any uh feedback suggestions feel free to shoot me a message or to raise an issue here or leave a comment if you're watching this later so yeah thanks for joining me today have a great day everybody take care
