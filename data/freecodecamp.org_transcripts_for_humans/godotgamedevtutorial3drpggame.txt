With timestamps:

00:00 - learn how to use gdau to build a 3D RPG
00:02 - game in this series Omar from coding
00:05 - Quest will guide you through four main
00:07 - components creating the player designing
00:10 - the AI skeleton monster building the
00:12 - guey with a profile and inventory system
00:15 - and adding stunning VFX to enhance your
00:18 - game by the end of this course you'll
00:20 - have the skills to create a dynamic and
00:22 - engaging 3D RPG game with gdau complete
00:25 - with Advanced features and interactive
00:28 - elements for skipping me just hold on
00:30 - real quick is I'm going to give you a
00:31 - quick overview of this course and what
00:33 - you'll get out of it my name is Omar and
00:35 - I run the channel coding Quest and if
00:36 - you guys enjoy this free course
00:38 - definitely check out my channel as well
00:39 - as my site as I'll also have this course
00:41 - up for free on there in a more
00:43 - comfortable format now the first thing
00:46 - that we're going to do in this course uh
00:48 - is understand that this course is split
00:50 - up into four sections the first section
00:52 - is going to be focusing on the player
00:54 - specifically the player will be able to
00:56 - have several different features like
00:58 - moving uh animating
01:00 - attacking uh stuff like that the next
01:03 - section we'll have a monster which will
01:05 - be a relatively simple AI that will just
01:09 - have some different state machines it'll
01:11 - be able to go from idle to run to attack
01:13 - Etc so it'll be able to detect all those
01:16 - different things in this course after
01:19 - the monster we'll be going into the GUI
01:21 - which will involve an inventory system
01:24 - with an equipment system with it a
01:26 - profile system to just represent and
01:28 - show our stats and finally a shop so
01:31 - this will allow us to buy items and
01:33 - stuff like that the last section of this
01:36 - course will have VFX this will kind of
01:39 - I'll kind of introduce you to what it
01:42 - how we do this with a very simple fire
01:44 - effect then we're going to have a guest
01:46 - instructor who's going to come in and
01:48 - he's much much more talented than I am
01:50 - with the shaders and particle effects
01:53 - inside of good he's going to kind of
01:55 - walk you through a lot of that
01:57 - stuff lastly as I mentioned short
02:00 - mentioned before if you guys don't
02:01 - prefer the YouTube format with one super
02:03 - long video I have this course up uh
02:06 - split up more comfortably on my site at
02:08 - quing quest.com we go check it out
02:10 - without but without further Ado good
02:12 - luck with this course and I hope to see
02:13 - you all at the end all right welcome
02:15 - everyone to our beginning uh part of
02:18 - this RPG course now in order to get
02:21 - started I'm going to assume that you
02:23 - have downloaded the starter project
02:26 - files now do keep in mind that if yours
02:29 - is zipped meaning it is a ZIP file and
02:31 - it ends with Z zip you need to unzip it
02:36 - here I have the unzipped version and now
02:39 - we can click the gdo engine and open it
02:42 - up here you will see the project manager
02:45 - now there is something to note at the
02:47 - moment of this recording the stable
02:50 - version is on 4.2 in fact I can open it
02:53 - up and you will see the version is
02:55 - 4.22 now the the version I'm going to be
02:58 - using is 4. three as this is kind of in
03:01 - beta or in Dev at the moment uh it is
03:05 - still not buggy per se but it is just
03:08 - not stable yet but um I'm going to be
03:10 - recording this and hopefully by the time
03:12 - you're watching this and following along
03:14 - it will be in 4.3 stable however just to
03:18 - basically note this if you are using a
03:20 - different version if you doubleclick the
03:23 - project you will see that it wants to
03:25 - upgrade it and it will do this
03:27 - automatically and it's very good at it
03:29 - it will upgrade whatever it needs to uh
03:32 - and it just does it all on its own now
03:34 - all I need to do to actually get started
03:36 - is I'm going to take my file here the 3D
03:39 - action RPG starter project files and
03:41 - drag it into my uh project
03:44 - manager now I will find it by finding
03:47 - the name of it 3D action RPG and if I
03:50 - double click it whether you needs to
03:52 - convert convert it or not you just open
03:55 - it and it might reort some assets if it
03:58 - needs to it will do whatever needs to do
04:00 - to get started so hopefully by the time
04:04 - it's done importing and whatever you see
04:06 - something like this you see no scenes
04:08 - you see a bunch of asset packs here you
04:10 - see a bunch of folders and let's just
04:12 - take a look at what we have first so we
04:15 - have a few asset packs that essentially
04:17 - here we have some uh 2D pixel
04:20 - art we have the kkit adventure which
04:23 - we'll be using for a character we have
04:24 - the Kut dungeon remastered which is
04:27 - going to be for a dungeon we have the
04:29 - skeleton which will be for our monsters
04:31 - and we have this sfx which will be for
04:34 - our sound we also have the VFX these are
04:38 - um these will be made outside of kind of
04:40 - the engine and and course but we'll have
04:42 - a introductory uh instructor kind of
04:46 - come in and you know do these on our own
04:48 - but here I have them just already
04:50 - finished as I'll be showing you how to
04:51 - actually Implement them into our game
04:53 - later we also have our default uh
04:56 - resource here or our theme and if I
04:58 - click it you will see it already kind of
05:00 - filled in but I will show you how to do
05:02 - this from scratch now kind of following
05:04 - that if I go to my 2D scene on the top
05:08 - you will see the UI that I'm using this
05:10 - is the UI template we're going to use
05:13 - some of these panels we're going to use
05:14 - some of these for armor stuff like that
05:17 - so this was something that we're going
05:19 - to use for a little later and then
05:21 - lastly of course we have our font this
05:23 - is going to be our font our custom font
05:25 - inside of the engine and that is already
05:28 - in the default function as font as well
05:30 - you can see here that I've already
05:31 - loaded it in all right so this is our
05:34 - starter project and now from here let's
05:37 - get started and create our grid map so
05:39 - we want to actually get started by going
05:41 - to the 3D part and we'll get started in
05:44 - here in just a
05:46 - second okay so let's get started with
05:48 - our grid map now our grid map is
05:50 - essentially Our World Builder it's our
05:53 - environment scene level to do this what
05:55 - we'll do is first we'll create two new
05:58 - folders we'll create a new folder called
06:02 - scenes and we'll create one more folder
06:04 - called scripts this is just to organize
06:07 - all our like scenes and scripts and
06:09 - things into these three main folders now
06:11 - one cool feature inside of gdau is if I
06:14 - rightclick one of these I can set the
06:16 - color folder of course you can kind of
06:18 - set it to whatever you'd like I'll just
06:20 - set it to random colors uh I'm not too
06:22 - picky about the colors so just kind of
06:24 - set them in order like this now in the
06:27 - scenes folder I'm going to create a new
06:28 - folder called levels and this is where
06:32 - you can create more than one level and
06:34 - anything level related I'll put it in
06:36 - here so first let's create our level so
06:39 - let's hit node 3D as our base scene I
06:42 - will save this in my scenes folder my
06:45 - levels I'm going to rename it right here
06:49 - I will rename this to level one and hit
06:51 - save and this will be our main scene at
06:54 - the moment if I hit play I can select
06:57 - current and you will see our game has
07:00 - launched this is our first game
07:03 - congratulations now let's rename this to
07:05 - level one on the top
07:07 - left and now I want to add something
07:09 - called a grid map this is going to be
07:12 - where I can actually put tiles down in a
07:15 - 3D environment now you can see that I
07:17 - can put stuff but there's nothing to put
07:20 - in order to put things in our game we
07:23 - need a mesh Library however in order to
07:26 - create a mesh Library I can't just
07:27 - create one like this I can't can't just
07:29 - click into this and do that this is
07:31 - something that you would you would do in
07:33 - a 2d scene or could do but in 3D
07:36 - unfortunately it's not that easy but
07:38 - don't worry it's still pretty easy just
07:40 - done a different way now to do this we
07:42 - will create a new scene here a 3D scene
07:45 - we'll rename this to mesh Library I'll
07:50 - contrl s to save this I'll put it in
07:52 - this level scene now what I'll do is I
07:56 - want to find a
07:58 - floor on uh our dungeon assets here so
08:02 - if I search up floor you will find some
08:04 - floors now do feel free to you know pick
08:07 - whatever you'd like I'm going to pick
08:09 - the
08:11 - floor P large I'm going to pick this guy
08:16 - and if I just drag it here and I turn on
08:18 - the pixel snap or the uh snap
08:21 - here it will snap to the next pixel now
08:25 - what I'm going to do is I'm going to
08:26 - reset the transform to 0
08:29 - and now I can snap it kind of nicely to
08:33 - this corner right here now don't worry
08:35 - it doesn't look beautiful and there is a
08:37 - reason for that but we'll get to that
08:39 - later at the moment all we need to do is
08:41 - hit make local I will drag this mesh out
08:45 - out of that thing I will delete this guy
08:48 - and now what I want to do is I want to
08:50 - click the mesh make sure the mesh is
08:52 - selected I'm going to go to mesh right
08:54 - here I'm going to create a collision
08:58 - shape and here we have a few uh options
09:02 - but I'm just going to leave it as it
09:04 - is and I will create and now you see
09:07 - here that I've created a collision shape
09:10 - now in my floor tile you want to make
09:12 - sure that it is the uh body where we
09:16 - have a static body 3D and then a
09:18 - collision shape now make sure it's in
09:19 - this order like so and now if we zoom in
09:22 - here you can actually kind of see that
09:24 - blue outline that is the Collision shape
09:27 - of our tiles now it's it's kind of hard
09:29 - to test this right now because we don't
09:31 - have a player yet but just trust me this
09:33 - will add Collision for our game now if
09:35 - you're using good 4.2 it is a similar
09:38 - process but I think it just has fewer
09:41 - options essentially and you will see
09:42 - something similar to this so if you're
09:45 - also using like 4.4 or whatever in the
09:47 - future it should relatively be the same
09:50 - if it's not search it up um for that
09:53 - respective version so if you're on 4.4
09:55 - or whatever version in the future just
09:57 - search it up on YouTube you might find a
09:59 - short 1 to 2 minute video explaining how
10:01 - to do that in fact I might actually
10:03 - update this in the future as well so
10:06 - okay now what we want to do is we want
10:07 - to repeat that process for one more of
10:10 - these I'm going to do this for this guy
10:13 - I will add a well I actually want to
10:15 - make this local first we'll drag this
10:18 - out I'm going to delete this node and
10:21 - I'm going to do the same thing at a
10:23 - static body click the mesh click create
10:26 - Collision shape and create and just drag
10:28 - that in
10:30 - and now you can see it's a little more
10:32 - accurate but yeah that's about it now
10:35 - all we want to do is we want to do two
10:38 - more things I'm going to add a wall now
10:42 - if you're wondering how to kind of
10:44 - navigate our 3D scene here all I need to
10:46 - do is hold shift and middle click and I
10:49 - can kind of drag my scene a little bit
10:51 - or my camera to the right or left now
10:54 - one other uh thing we'll add is a wall
10:57 - arched
10:59 - I'll drag this
11:01 - out I want this guy I want a wall
11:07 - doorway this is going to represent our
11:09 - door kind
11:11 - of and then I want a
11:15 - wall corner there we go and here you can
11:19 - see that it's just going to represent a
11:21 - corner now the last thing we'll have is
11:24 - a uh stairs this will be called uh
11:27 - stairs
11:30 - walled here we go and if I drag this out
11:33 - you will see it just has stairs or it is
11:36 - stairs okay so now we'll repeat the same
11:39 - process for each of these now a cool
11:41 - trick is if I select all of these and I
11:43 - right click and there should be a make
11:47 - local unless they took that
11:48 - out it seems like they took it out so
11:51 - we'll have to do it one by one that's
11:53 - okay so we'll make this local for each
11:55 - of these and again a cool trick is we'll
11:59 - control and select all the meshes and
12:02 - I'll simply drag them out of this now I
12:04 - can just delete all of
12:06 - these again I'll do the same
12:09 - thing now I have all these meshes I want
12:12 - to essentially add now for each of these
12:15 - I will just create a collision
12:18 - shape and you can see it's creating a
12:21 - pretty accurate Collision shape for each
12:24 - of
12:25 - these now we'll actually skip the uh
12:29 - stairwell and I'm going to delete the
12:31 - doorway door so here I don't want a door
12:35 - I'm just going to delete that now for
12:37 - each of these I'm going to just drag in
12:38 - the Collision
12:40 - shape but again I need a static body 3D
12:43 - for each of these to make sure we
12:45 - essentially add a static body 3D for
12:48 - each of these
12:50 - meshes and drag in the Collision shape
12:52 - for that corresponding mesh or static
12:55 - body now you might kind of Imagine an
12:58 - issue here for this stairs stairs don't
13:02 - exactly uh Collide well with our player
13:05 - and you'll see why later when we add our
13:07 - player but for now what we'll do is we
13:10 - will actually add a static body 3D I
13:13 - will add my own Collision shape a
13:15 - searching up Collision shape and I'm
13:18 - going to give it a shape
13:20 - of
13:23 - a to a box here we go and now I'm going
13:27 - to kind of just drag this box out and
13:30 - what I'll do is I'll rotate
13:33 - it and basically extend it to be the
13:36 - size of the stairwell and I'm going to
13:38 - turn off the snap so I can make this a
13:40 - little more accurate here and I'm going
13:42 - to just drag this up a tiny bit until I
13:44 - kind of see it pop out now I want to
13:47 - rotate it just slightly downwards like
13:49 - this and I'm going to just try to
13:52 - basically match it up with the stairs as
13:55 - much as I possibly can
13:59 - and this will allow us to basically
14:01 - smoothly run on the
14:04 - stairs all right so that looks kind of
14:06 - okay I'll just shorten this slightly so
14:09 - it doesn't pop out of the top there and
14:11 - now we'll save and finally we can go to
14:14 - our scene on the top left we can export
14:17 - as mesh Library we can go into our
14:19 - scenes levels all this
14:23 - Library hit save and now if we head over
14:26 - to a level one I will find the asset
14:29 - that I just found or just made I going
14:32 - into our levels and now here we have a
14:34 - mesh Library I can drag this in and now
14:37 - you can see that I have all my libraries
14:39 - or all my
14:41 - floors now what I can do here is I can
14:45 - hold shift drag and then
14:48 - crlf this will allow me to fill in my
14:50 - scene very quickly and very nicely now
14:53 - if I hit play nothing will happen or I
14:56 - won't see anything and that is for a
14:57 - very good reason that is because I do
15:00 - not have a camera 3D in order to make
15:03 - our 3D scene work I need a camera 3D
15:05 - inside of a 3D scene in order for it to
15:08 - play and so I can see our 3D environment
15:12 - now this does not look very well or very
15:14 - good in fact it looks horrible in fact
15:16 - we can't even see the outline of our
15:18 - files so uh in the next part we will
15:21 - look at adding our environment and
15:23 - seeing how we can add some light in
15:25 - World environment and stuff like that
15:27 - all right so I'll see you in the next
15:30 - part all right now that we have our
15:33 - scene here I want to add some World
15:35 - environments and stuff now let's take a
15:37 - look at what that even is if we add a
15:39 - new node here to our level one I'm going
15:41 - to add a world environment and
15:43 - immediately you can see man it looks so
15:45 - much better and if I hit
15:47 - play you will see no difference now why
15:51 - is that well we need to actually add an
15:54 - environment we need to add a new
15:56 - environment here when we do we will go
15:58 - into into this environment and we can
16:00 - start fiddling with its uh things here
16:04 - now let's take a look at a kind of short
16:05 - intro to what we can actually do here
16:08 - the first thing is the background now
16:10 - the background here this is where we can
16:12 - actually decide if we want a dungeon or
16:14 - a Overworld kind of a sky based thing
16:17 - let's take a look at the sky first so
16:19 - let's add a sky add a new sky over here
16:23 - we'll go to procedural Sky material and
16:27 - yeah that's kind of it in here you can
16:29 - of course adjust the colors but we're
16:30 - not going to do that we're going to hit
16:33 - play and now we can see a much nicer
16:36 - scene we can even see the tiles uh
16:38 - properly you know you can see the actual
16:40 - stuff of it now what we'll do is I'll
16:43 - add something called a directional light
16:46 - this allows me to add light that is
16:48 - directional and you can see by default
16:50 - it is pointing uh this way to my right I
16:53 - suppose for the negative Zed index now
16:57 - here I can point it downwards
16:59 - and if I hit play you will see now it's
17:02 - our scene is just more has more light
17:05 - now we're going to be making a dungeon
17:07 - so obviously we're not going to use any
17:09 - of this so let's reset all this as
17:12 - instead of mode or in our mode instead
17:14 - of color or Sky sorry we're going to use
17:16 - a custom color now in here when I click
17:19 - the custom color this is where it's kind
17:21 - of up to you be a little creative on
17:23 - this as I'm going to adjust the color
17:27 - 100 100 and 100 this will give my world
17:31 - kind of a grade out effect and when I
17:34 - hit play it looks a little dark but it's
17:37 - not completely black so if I were to
17:39 - reset the color here play again you'll
17:42 - see it's completely black which of
17:44 - course you probably don't want so it's
17:46 - kind of up to you you know be a little
17:47 - creative on the coloring um if you are
17:50 - creative I suppose um but I'm going to
17:52 - just do 100 100 100 and now I'm going to
17:56 - head over to the fog and volum metric
17:59 - fog now I'm going to just enable both of
18:02 - these now in order to play around with
18:04 - this I would kind of just suggest you
18:07 - know play around with some of these one
18:08 - by one and change the values and see
18:11 - what happens that is essentially the
18:14 - idea of this change some of the light
18:16 - energy values you know change the
18:18 - density Etc and see what your scene
18:21 - looks like for me what I'm going to do
18:23 - is in my volumetric
18:26 - fog I'm going to change the density to
18:30 - 0.02 and leave the rest as it is for the
18:34 - fog I'm going to change the density to
18:39 - 0.2 the light energy to
18:42 - 0.1 and that's it now if I hit play we
18:46 - get kind of a similar effect to what I
18:48 - have for my original kind of game all
18:51 - right so we're actually not going to
18:53 - enable glow just leave it off for now as
18:55 - we might actually come back to it um
18:57 - once we add more light and stuff to our
18:59 - world and scenes and stuff okay so now
19:02 - that we have our world scene set up here
19:04 - we want to actually start with our
19:06 - player so our player will be our next
19:08 - part and I will see you all in the next
19:10 - part where we actually get started with
19:12 - our player scene adding our player and
19:14 - you know making it work so see you in
19:16 - the next part all right so to get
19:19 - started here what we're going to do is
19:20 - create a new Scene by adding a new scene
19:23 - here we will add a new node called a
19:27 - sorry not static uh character body 3D
19:31 - I'm going to add a collision
19:34 - shape and what we're going to do now is
19:37 - add our character we add our character
19:39 - or the character that we'll add is
19:41 - inside of the assets folder in our K
19:44 - Adventures we'll find the fbx that we
19:47 - want and here if we find uh just one of
19:52 - these guys sorry not the assets the
19:54 - characters here we go we'll find these
19:56 - characters we will use a barbarian or no
20:00 - sorry we'll use a knight as our base and
20:03 - now we can drag our Knight here here we
20:06 - go I will make this
20:08 - local and now I can reset the Knight the
20:12 - position to 0 0 right there now the
20:15 - Collision shape I'm going to give it a
20:17 - collision shape of a capsule and just
20:19 - move this up to be around the same size
20:22 - as my player can make it a little
20:25 - smaller and just make it at the base of
20:27 - its feet
20:29 - all right so there we go there's our
20:31 - capsule for a player now we'll save this
20:34 - as player or lowercase maybe and I'll go
20:37 - up into my scenes folder create a new
20:39 - folder called player hit play and save
20:44 - and here we go now in here we'll rename
20:47 - our player to player I will now attach a
20:50 - script with the template character body
20:53 - 3D I will move this script into my
20:56 - scripts folder adding a new character
20:59 - uh script here called
21:01 - player open create and now we have our
21:05 - script now we'll just hit play uh
21:08 - actually before we hit play let's add
21:09 - our player to our scene here so let's
21:12 - add our player like
21:14 - so it might kind of lag out or it might
21:17 - just move it now that happens so I'll
21:19 - move it back into the uh player scen or
21:22 - player files sometimes that happens and
21:24 - it's kind of annoying but that's okay um
21:26 - it's just because the project files are
21:28 - so I might have to hold and drag it
21:30 - until I see the actual image there there
21:33 - we go so now I'll add my character body
21:35 - as a child of the level one I'll rename
21:38 - this to player hit save and now I'll hit
21:43 - play and when I hit play you will see my
21:46 - character body and in fact you can even
21:48 - start moving with your joystick or with
21:50 - your uh keyboard now obviously though
21:53 - you might notice that this doesn't
21:56 - actually really work the the way might
21:58 - want it to the arrow keys might not be
22:01 - the same way we actually need it to now
22:04 - that is because our uh camera is not
22:08 - attached to our player and we don't have
22:11 - Direction based movement well based on
22:13 - where our camera is looking so let's
22:15 - take a look at how we can do that inside
22:17 - of our player next but first to get this
22:20 - started though let's just close the mesh
22:21 - library and now I will actually get into
22:24 - my player and we'll take a look at how
22:26 - we can do this inside of our player
22:29 - all right to get started with our ler
22:32 - and camera control and movement and
22:33 - stuff what we're going to do is we'll
22:35 - set up the camera first and then we'll
22:37 - take a look at the script because we
22:39 - added a script but we don't know what
22:40 - any of it does yet so first what we'll
22:42 - do is I'm going to add a node
22:44 - 3D I'm going to add a new node called
22:49 - spring arm 3D I'll add one more node
22:53 - inside of the spring arm called camera
22:56 - 3D oops that's not camera 3D
23:00 - add a new node one more time M 3D and
23:04 - this guy I'm going to actually add one
23:07 - more node 3D and put all of this inside
23:10 - of that one now this one I'm going to
23:12 - rename it to M root this next one I will
23:16 - rename it to H and this one to V this
23:21 - essentially represents my horizontal
23:23 - movement and this represents my vertical
23:25 - movement and then this will be my actual
23:27 - camera right okay let's take a look
23:29 - though at what I want the setup to look
23:32 - like for the spring arm I'm going to
23:34 - take this and set it to negative five
23:37 - now you can change the length later but
23:39 - at the moment I'm just going to leave
23:41 - this as five now this is the actual
23:43 - length away from the camera the player
23:46 - you'll kind of see it will be away five
23:49 - uh pixels or meters away from the
23:52 - camera now the camera itself I'm going
23:55 - to rotate it in the transform
23:59 - on the Y AIS to 180 and on the X to -10
24:04 - this will just make it Point downwards
24:06 - ever so
24:08 - slightly next in my um am
24:14 - rout sorry no in my V right here we can
24:17 - now move this guy up uh a little bit
24:20 - kind of up to you I'm going to move it
24:22 - up to 2.9 this will be above my player's
24:26 - head all right now lastly we'll go back
24:29 - to our script and just a kind of tip
24:31 - here and this is what I will be doing
24:33 - for this series of course I'm going to
24:35 - be making my float or my script float
24:38 - this will make it come out of my actual
24:40 - scen or act out of gdau and into its own
24:44 - window this allows me to just show the
24:46 - code a little nicer and you can actually
24:49 - see everything without it being all
24:50 - crumpled up so I can zoom in and it
24:52 - might look a little nicer for you but of
24:54 - course you feel free to do whatever
24:56 - you'd like all right now in the code
24:58 - here we can see that we have a speed a
25:00 - jump velocity as our two variables now
25:03 - if you're using another version you
25:04 - might have gravity fact in vo 4.2 there
25:08 - was another one called variable gravity
25:10 - that might be what You' be using now
25:13 - don't worry it might yours might look
25:15 - slightly different but it's still the
25:16 - same the general idea here is first
25:18 - we're going to add gravity and we do
25:20 - that by adding the velocity on the Y AIS
25:24 - and here the gravity will add it to the
25:26 - y- axis times Delta here we'll jump the
25:30 - same idea so here we jump by clicking
25:33 - the UI accept which is actually spacebar
25:35 - or enter on by default inside of gdo
25:38 - we'll also use a function called is on
25:40 - floor to make sure we're actually on the
25:42 - floor and then we jump now here the jump
25:45 - velocity is actually positive and the
25:47 - reason is because the positive is
25:50 - upwards not NE uh the other way around
25:54 - now here we will get the input Direction
25:57 - by getting Vector between these four
26:00 - Keys it will give us a input Direction
26:03 - based on what I click with these four
26:06 - Keys next it will give us our Direction
26:09 - with the transform. basis and multiply
26:12 - it by the Direction X and Direction y
26:15 - now the reason we don't do the Zed is
26:16 - because that's we don't need that right
26:18 - we just need X and Y for the kind of Pop
26:21 - down movement if that makes sense now
26:24 - we'll normalize it this will kind of
26:25 - just essentially round our number to a
26:27 - nice number so it's not completely weird
26:30 - every time I click and then we'll check
26:32 - to see if direction is valid if it is
26:34 - this means I'm moving and if I am moving
26:36 - then I want to actually move I move by
26:39 - multiplying my velocity or making my
26:41 - velocity dox equal to Direction dox time
26:44 - speed which up here is 5.0 now here this
26:48 - is essentially the same as setting my
26:50 - velocity to zero but here it's just
26:52 - using a function called move towards uh
26:55 - it's just basically taking our current
26:57 - velocity and moving moving it to zero
26:59 - over the times of speed so don't worry
27:01 - too much about it it's pretty much the
27:03 - same as doing this now lastly we'll have
27:05 - a move and slide function this will
27:07 - allow us to actually move and slide or
27:10 - move our player so this allows us to
27:13 - actually utilize velocity now I do have
27:15 - a video on my channel uh explaining
27:17 - transform and basis and how General
27:20 - things inside of a 3D environment work
27:23 - at least in the simplistic manner so if
27:25 - you're curious about how the basis and
27:27 - transform works terms of our player do
27:30 - check out that video on my channel um it
27:33 - is on coding quests again that's so
27:36 - lastly let's close our script here as I
27:38 - want to set up my camera now in order to
27:41 - do this I'm going to create a new script
27:42 - here by going to scripts player and I'll
27:45 - actually add it through the cam rot here
27:47 - we'll add a new script by going to the
27:49 - top left by adding a new script I'll uh
27:53 - call this camera controller I'll add
27:56 - this script to my player scene for
27:58 - scripts here open create and here we go
28:02 - here's our script now in this script
28:05 - what I want to do is I'm going to delete
28:07 - all this and add some new variables the
28:10 - first variable will be cam
28:12 - root H this is going to be an
28:16 - integer this will be equal to zero we'll
28:19 - do the same thing but for the V we'll
28:21 - say cam root B and we'll say int equal
28:27 - Z next we want to get the or have a
28:31 - maximum and a minimum for both of these
28:35 - uh specifically for the V so what we'll
28:37 - do is I'm going to use something called
28:39 - export variable h v uh V root and this
28:44 - will be an integer and we'll make it
28:47 - equal to 75 by default now I'm going to
28:51 - duplicate this but I'm going to actually
28:53 - change this to be Max and this to be Min
28:57 - so the minimum value I want it to be 55
29:00 - at least for me and the max I want it to
29:03 - be 75 now you'll see what this kind of
29:06 - looks like in code when I actually start
29:08 - using it now what I'm going to do is I'm
29:10 - going to make two more variables for
29:12 - sensitivity to kind of adjust our
29:14 - sensitivity based on this variable I'll
29:17 - make one
29:18 - for
29:21 - sensitivity maybe I'll just copy this
29:23 - number right here or this word
29:25 - sensitivity this will be a float and
29:28 - I'll make this equal to
29:29 - 0.1 let me just copy paste this and
29:33 - we're going to change this to
29:34 - V one last thing we'll do is we will add
29:38 - a
29:39 - acceleration variable H acceleration
29:42 - this will be a float as well so we'll
29:44 - make it equal to
29:46 - .0 copy this one more
29:49 - time but this one will be for the V all
29:53 - right so now let's take a look at the
29:54 - actual logic of our code so the first
29:56 - thing we'll do is we'll create a
29:58 - function called input this will allow us
30:01 - to get a event input that essentially
30:04 - has things in it now what are these
30:06 - things well if I print event and I close
30:10 - this and hit my play
30:13 - button um we'll actually have to adjust
30:15 - something in a second but if I start
30:17 - moving my mouse around you'll see it
30:19 - says input event Mouse motion if I click
30:22 - you will
30:24 - see right above here it says event Mouse
30:28 - button this means I clicked right so
30:31 - this allows me to check to see if
30:33 - there's any sort of input with my mouse
30:36 - now what I need to do here just to make
30:38 - sure we set this up I need to delete my
30:40 - old camera 3D in my level one so now
30:43 - that this guy can actually take over and
30:45 - enable in this camera as this is the
30:47 - camera I want to look out of when I play
30:50 - Let's Open Up Our script here again and
30:53 - now let's take a look at what I can do
30:55 - to actually make this camera work what I
30:57 - can do is I can say if event is input
31:01 - event
31:03 - Mouse oops Mouse motion then I want to
31:07 - actually do something what do I want to
31:09 - do well I want to change my cam rot H
31:13 - and add the event the negative event uh
31:18 - do relative dox multiplied by the H
31:24 - sensitivity now I'll do the same thing
31:26 - but for the V oops
31:29 - copy paste this I'll change this to V
31:32 - I'm going to remove the negative here
31:35 - this will be do y and this of course
31:38 - will be V sensitivity this will allow us
31:41 - of course these AR the same number but
31:42 - this will allow us to you know adjust
31:44 - these movement based on
31:47 - sensitivity all right now this won't
31:50 - actually do anything so let's make this
31:52 - these numbers do something so we'll add
31:54 - a physics process function what we'll do
31:57 - here is we'll say cam root B is equal to
32:01 - clamp which is a math function we're
32:04 - going to clamp this form cam root V to
32:09 - degree to Radiance of our cam V
32:14 - Min to whoops outside of that to degree
32:19 - to radians one more time but this time
32:21 - we'll do the cam B
32:24 - Max all right so this will essentially
32:27 - clamp our vot between 55° and 75° you'll
32:34 - see what this looks like in just a
32:35 - second when we actually make this work
32:37 - so what we need to do to make this work
32:39 - is get node H and this will be our
32:42 - horizontal so we'll take the rotation of
32:45 - our Y and we'll make it equal to lur F
32:49 - the lur float from its float from so the
32:54 - float that we want it to rotate is going
32:56 - to be its current rotation so what I'll
32:58 - do is I'll copy
33:00 - this right here so I want to get its
33:03 - current rotation and then rotate it to
33:08 - mun H there we go over a time of
33:13 - Delta
33:15 - times H
33:18 - acceleration I think I spelled Delta
33:20 - wrong there so Delta there we go all
33:24 - right now that that's right now what I
33:26 - want to do is I want to actually copy
33:27 - paste this and now I'll do the same
33:29 - thing for the V but obviously the
33:31 - rotation for this will be on the X AIS
33:34 - because if I'm rotating the vertical I
33:36 - want to be doing the
33:37 - x-axis all right so here I'm going to do
33:40 - the same thing so instead of the H
33:42 - rotation I want the V rotation of course
33:45 - here I want the X rotation and then here
33:47 - I want the
33:49 - v v and then the V
33:52 - acceleration all right so now when I hit
33:54 - play Let's just test this out sometimes
33:56 - it can be buggy
33:58 - let's see if I can now move all right so
34:01 - now you can see when I move around my
34:03 - mouse not perfect but it is working
34:07 - slightly okay so let's take a look at
34:09 - what's going on as this doesn't seem to
34:11 - be working out 100% let's read through
34:14 - our code here and see if it makes
34:16 - sense first we're adding to our H
34:18 - rotation in the negative event. relative
34:21 - dox times H
34:23 - sensitivity next we're doing the same
34:25 - thing but on the y- axis which is right
34:28 - time the V sensitivity okay that looks
34:31 - right then we're taking our cam rot
34:34 - camot V and we're going to clamp it
34:37 - between its current uh count CL rot and
34:40 - between the minimum and the maximum okay
34:43 - that looks
34:45 - right okay now here we have the rotation
34:48 - doy we're going to lurp it from its H
34:52 - rotation so it's current rotation to cam
34:55 - root H right by the speed of Delta time
35:00 - acceleration and then same thing here
35:02 - but for the V this should be V that's
35:05 - right and then get node
35:07 - V okay so let's take a look at one more
35:11 - thing this all looks right but maybe one
35:14 - more thing that we can do is we can make
35:16 - our input here do set Mouse
35:21 - mode to input dot oops
35:29 - Mouse
35:31 - mode captured here we go we'll close
35:34 - this and this should capture our
35:37 - Mouse so now when I move it should allow
35:40 - us to move around smoothly but it's not
35:43 - I'll be right back and figure out why
35:45 - it's not letting us move all right so
35:48 - one small mistake I made actually is
35:50 - these two numbers are actually going to
35:52 - be floats not integers that is why we
35:55 - had that weird clunky sound is because
35:57 - it was trying to round our float number
35:59 - basically to a whole number and now we
36:02 - have a nice smooth motion there we go so
36:04 - now we have nice camera rotation now on
36:08 - the next part we're going to see how we
36:09 - can make our Player move in its
36:12 - corresponding well Direction because
36:14 - here you can see it's not exactly moving
36:16 - how we want it to Right Moving in well
36:19 - kind of this way or I guess this way as
36:22 - if it's looking this way but we need it
36:24 - to move whenever I move my camera in the
36:27 - corresponding Direction so let's take a
36:29 - look at the next part to see how we can
36:30 - do
36:33 - that all right so get started with our
36:36 - player what we're going to do is head
36:37 - over to the script I'm just going to
36:38 - stop the game here and this may seem
36:41 - annoying but what we're going to do is
36:42 - actually delete everything we're going
36:44 - to start everything completely from
36:46 - scratch the first thing we're going to
36:47 - do is we're going to start with um all
36:50 - the variables that we'll be adding
36:51 - eventually hopefully some of these will
36:53 - make sense uh right now and eventually
36:55 - some of them might not right now but
36:57 - some eventually they will make sense as
36:59 - we actually start to use them so let's
37:01 - just start with uh all the forces so the
37:04 - first thing on the forces is we'll
37:06 - export a few Val variables first we'll
37:09 - export a variable called gravity this
37:11 - will be a float equal to
37:13 - 9.8 next we'll
37:16 - export our jump Force this will be an
37:20 - integer equal to 9 will export a walk
37:25 - speed this will be an int equal to three
37:29 - and lastly we'll have a run speed as
37:32 - eventually we want to uh create a shift
37:35 - uh hold right where we can actually go
37:37 - from walking to running so this will be
37:40 - our speed that we actually run at now
37:42 - this will probably have to be greater
37:43 - than three so in my case I'm going to do
37:46 - 10 which may seem like a lot but you'll
37:48 - see notice or you'll notice later that
37:50 - it doesn't actually impact it that much
37:53 - you'll kind of uh play around with the
37:54 - values yourself hopefully next we're
37:57 - going to create a few um animation nodes
38:00 - so these are going to be the animation
38:02 - node
38:04 - names so what we'll do here is we'll say
38:07 - variable Idol node name which is a
38:10 - string will be equal to idle and what
38:13 - I'm going to do here is I'm just going
38:14 - to duplicate this a few times and now
38:17 - I'll just change the name of
38:19 - these this one will be walk this one
38:21 - will be run this one will be jump this
38:24 - one will be attack one and this one will
38:27 - be death now for each of these we'll say
38:31 - death or we kind of give it the
38:33 - corresponding one so walk here this one
38:36 - will be run this will be
38:40 - jump and attack one now you'll see what
38:44 - these kind of are for a little later but
38:46 - essentially they just represent the name
38:48 - of the animation that we'll be playing
38:50 - for each corresponding node all right so
38:53 - next we'll create some variables and
38:55 - these variables will be called our four
38:57 - for our state machine condition State
39:00 - whoops State machine conditions so what
39:04 - this will look like is is attacking and
39:08 - this will be a Boolean we'll also have a
39:11 - variable let's just duplicate this for
39:14 - now four times we'll have another one
39:17 - called is walking this will tell us if
39:19 - we're walking or not we'll have another
39:21 - one for is running and the last one for
39:24 - is dying each of these variables are
39:27 - going to true or false variables that
39:29 - will essentially tell us if we're dying
39:30 - or not if we're running or not if we're
39:33 - walking or not and if we're attacking or
39:35 - not all right so next up what we'll do
39:38 - is We'll add some Physics
39:40 - values so this will be the or the first
39:43 - one we have is Direction which will be a
39:45 - vector
39:47 - 3 next we'll have a
39:49 - horizontal
39:52 - velocity this will be a vector
39:55 - 3 next we'll have an aim turn and this
39:59 - will be a float this will allow us to
40:02 - aim uh for our
40:04 - turn when next we'll have a movement
40:08 - something called movement which will be
40:09 - a vector
40:10 - 3 next we'll have vertical
40:15 - velocity like so and this will be a
40:19 - vector
40:20 - 3 next we'll create a variable
40:23 - movement feed this will be an INT
40:27 - and last or not lastly we have two more
40:30 - we have an
40:32 - angular
40:34 - acceleration this will be an
40:37 - INT and next we'll have acceleration for
40:41 - actual movement will also be an INT and
40:44 - lastly we'll say
40:46 - variable uh there we go just hit and
40:49 - this will be a Boolean this is going to
40:51 - be for a little later uh in our series
40:53 - but this will allow us to detect if I
40:55 - just got hit or not so we kind of see
40:58 - what that's for much later but don't
41:00 - worry too much about it just now next
41:02 - I'm going to load or on ready load my
41:05 - cam rot or my cam rotation into as a
41:09 - variable or as a node and we'll do that
41:12 - by saying get node Hamot H I want to get
41:16 - access to the horizontal rotation of my
41:18 - node and I do that by saying get node uh
41:21 - rotation cam rot H and this will allow
41:24 - me to just get access to the node much
41:26 - quicker
41:28 - all right next what I want to do is I
41:31 - want to add a ready function and for now
41:34 - I'll just pass then I also want to add a
41:37 - physics process function this will allow
41:40 - me to actually Implement a lot of the
41:42 - physics process now in between this I'm
41:45 - going to add an input
41:47 - event and this will allow me to well
41:49 - input event just as we did in our camera
41:52 - rotation controller now in here is where
41:55 - we'll actually rotate or aim turn so
41:58 - here I'm going to say if event is input
42:04 - event uh Mouse motion then I'm going to
42:09 - whoops change my aim turn to be equal to
42:14 - negative event. relative dox time
42:21 - 0.015 all right now after this now we
42:24 - don't have this just yet but we'll write
42:26 - it anyways we're going to say if event
42:29 - is action pressed
42:32 - aim then I'm going to take my direction
42:35 - and make it equal to my cam
42:38 - rotation do Global transformation or
42:42 - transform basis. Z now this is going to
42:46 - actually allow me to change my direction
42:48 - that my player is looking at now this
42:50 - aim that I have that I don't have
42:52 - actually right now is going to be a left
42:54 - click or kind of whatever you want to be
42:56 - honest it might be control so if you
42:58 - want to aim your player in a certain
43:00 - direction whenever you hit this button
43:02 - this is how you do it so we'll add this
43:04 - a little later but don't worry too much
43:06 - about it right now but now we understand
43:08 - and see how we can kind of add this okay
43:12 - in our physics process function we want
43:14 - a few things the first thing we'll add
43:17 - is a variable called on floor this is
43:21 - going to be a variable that just checks
43:23 - to see is
43:25 - on floor
43:27 - so this will allow us to detect if we're
43:29 - on the floor or not but using a variable
43:32 - instead next what I'll do is I'll say if
43:35 - is not dying then I want to actually do
43:38 - the logic that I would do if I were not
43:41 - dying the first thing we'll do is we'll
43:44 - check to see or sorry not check but I'm
43:46 - going to actually uh add gravity now
43:49 - what I can say is if not on
43:53 - floor what I'll do here is I'm going to
43:56 - say Vertical Velocity plus equals Vector
44:01 - 3 dot
44:04 - down time
44:06 - gravity * 2 *
44:11 - Delta Delta so this will actually allow
44:14 - me to add our gravity now otherwise what
44:17 - I'm going to do here is I'm going to
44:18 - just copy
44:20 - this and I'm going to make this equal to
44:23 - a down time
44:25 - gravity instead of all this I'm just
44:28 - going to divide it by 10 and not
44:30 - multiply but divide by 10 all right okay
44:34 - so next what I want to do is I want to
44:36 - jump to jump similarly to what we had
44:39 - before I can say if input do is action
44:43 - just pressed I'm going to create a new
44:45 - variable or a new input called jump
44:48 - which we haven't added to our game yet
44:50 - but don't worry we'll add it soon and
44:52 - we'll say and is not is
44:57 - attacking because I don't want to jump
45:00 - while I'm attacking I also want to be
45:02 - able to jump when I'm also well you
45:05 - probably guessed it uh on floor so we'll
45:08 - use that variable that I just created to
45:10 - check if I'm on the floor or not now if
45:13 - I do what I'll do is very similar to the
45:15 - vertical velocity I can just take my
45:17 - Vertical Velocity and make it equal to
45:20 - Vector 3 dot up though this time times
45:24 - jump
45:24 - force all right so that is how I jump
45:27 - similar to what I had before next up I'm
45:30 - going to update my angular acceleration
45:33 - to 10 I'm going to update my movement
45:36 - speed to zero and then I'm going to
45:39 - update my acceleration to
45:43 - 15 all right next what we want to do is
45:46 - actually add our rotation so to do that
45:48 - or a camera rotation and apply it to do
45:51 - that what we'll do is we'll say h
45:53 - rotation is equal to cam rotation. h
45:57 - we'll get access to the node that we
45:58 - just created above we'll get its Global
46:02 - transformation
46:04 - transform basis and then oops basis and
46:08 - then we'll get
46:13 - .y hopefully this doesn't error there we
46:16 - go all right next what I want to do is I
46:19 - want to say direction is equal to its
46:23 - current direction rotated
46:27 - to our Vector oops Vector up Vector 3
46:31 - dot up with the H rotation as its angle
46:35 - then we'll normalize this this will
46:37 - essentially take its current direction
46:39 - take its current rotation and rotate it
46:42 - to the direction that I want it to be
46:44 - rotated to which is the AG
46:46 - rotation okay so now that we have that I
46:49 - want to actually get our Direction
46:51 - because this adjusts our Direction based
46:53 - on the rotation of our camera but what
46:55 - about the direction of our Mouse or not
46:57 - our Mouse but our keyboard well this
46:59 - isn't too hard what I can do is first
47:02 - I'll check to see if I'm actually
47:03 - pressing anything now to do that it's
47:05 - not too hard I can say if
47:08 - input is action pressed I can say
47:13 - forward or now in order to do the or
47:16 - command I can just do this which is
47:18 - shift and then the button right above
47:20 - your Enter key if you hold shift and
47:23 - press that weird straight button above
47:26 - your enter ke key that is how you do
47:27 - that now you can do or but I just prefer
47:30 - this way next what I'll do is I'm going
47:33 - to copy paste this right here and now
47:37 - what I'm going to do this might seem a
47:38 - little long but I'm going to now copy
47:40 - paste this two more
47:42 - times because now what I want to do is I
47:45 - want to check to see if I'm moving
47:47 - forward backwards I want to check to see
47:50 - if I'm moving left and you guessed it
47:53 - the last one is going to be to check if
47:55 - I'm moving right
47:58 - now if I'm doing any of these three
47:59 - actions or four actions sorry then what
48:02 - I'll do is I'll say direction is equal
48:05 - to in Vector
48:08 - 3 and then inside of this Vector 3 we're
48:11 - going to do something called input dot
48:14 - getaction strength this will allow me to
48:17 - essentially detect and get the action
48:19 - strength of a certain key now the key
48:22 - that I want here is going to be left for
48:25 - the X but here I'll sa left now what I
48:28 - want to do is I want to subtract so I'm
48:30 - going to copy this I want to subtract
48:34 - the
48:34 - right so here I'm going to subtract the
48:37 - left to the right and this will
48:39 - essentially allow me to see if I'm
48:41 - clicking left I will get one if I'm
48:44 - clicking right I will get negative 1 and
48:47 - that is what I want now here for the Z
48:50 - Axis or sorry for the Y I'll put zero
48:52 - and then for the Zed axis I want to just
48:54 - copy this
48:57 - right
48:58 - here this in the X uh or sorry the Zed
49:01 - axis then here I'm going to put
49:05 - forward and then for the last one I'm
49:08 - going to put
49:09 - backward and then lastly I need this guy
49:13 - on this line I
49:14 - believe and now we should not error
49:18 - unless I do because I probably have a
49:21 - missing thing
49:25 - somewhere so saying expected
49:28 - closing that right here we need to close
49:31 - this I
49:32 - believe nope that is not
49:36 - range but right here I need a comma
49:39 - that's why okay there we go so make sure
49:41 - there's a comma after each line except
49:43 - for the last one okay so this allows me
49:46 - to take my direction based on input so
49:49 - hopefully this kind of makes sense and
49:51 - if I zoom out here kind of get a full
49:53 - view of what the code should look like
49:56 - next I'm going to make sure that this
49:57 - direction is only updated if I'm
49:59 - clicking something all right so now I
50:03 - have my direction being updated on its
50:06 - current direction and rotating based on
50:08 - where I'm moving now the question is how
50:11 - do I actually
50:12 - move how do I actually rotate now the
50:15 - rotation that we're going to do is going
50:17 - to be rotation on the mesh not the
50:20 - actual player so on the very top of our
50:24 - script we're going to up here we're
50:27 - going to say on ready variable player
50:29 - mesh and we're going to load our mesh
50:32 - and we can do that by getting the KN so
50:36 - the Knight is going to be our player
50:38 - mesh all
50:40 - right next we'll head back to the bottom
50:42 - of our script here and in here uh sorry
50:45 - outside of this if check checking here
50:48 - we're going to check and now see if the
50:53 - input is action rest
50:59 - aim then what we'll do is I'll say
51:01 - player mesh. rotation doy is equal to
51:05 - lur angle to its current player mesh
51:09 - angle so what we'll do is we'll get its
51:12 - current
51:12 - rotation doy and we're going to rotate
51:15 - it to the cam
51:18 - rotation H or sorry cam rote H like that
51:24 - and we want to get that rotations
51:27 - y so we do that by saying rotation doy
51:30 - and lastly we'll do this at a speed of
51:32 - Delta time angular
51:36 - acceleration and that's
51:38 - it next we'll go down a little bit let
51:41 - me just go a few lines
51:43 - below next what I want to add here is an
51:45 - else statement and I'm going to actually
51:47 - copy this into this else statement but
51:51 - here what I'm going to do is I'm going
51:52 - to change this guy to the a tan
51:57 - two of its direction
52:00 - dox and
52:02 - direction do
52:04 - Z then I'm going to
52:06 - subtract it's rotation doy so this is
52:11 - the same as saying self. rotation
52:14 - okay and then the speed is also going to
52:17 - be Delta times
52:18 - acceleration all right this is how we do
52:21 - that now of course this isn't complete
52:22 - though because now we still have a few
52:24 - other things now the last parts we need
52:28 - are going to be right here I believe in
52:32 - this line so here we'll say velocity do
52:36 - Z is equal to horizontal velocity do Z
52:41 - Plus vertical velocity. Z and
52:45 - essentially we want to duplicate
52:47 - this three times we'll change this to Y
52:51 - this to Y and change this or sorry to x
52:55 - x and x
52:58 - now for the Y I'm going to change this
53:00 - to Y and change this by deleting this
53:03 - and only having the vertical
53:06 - doy lastly on the next line we'll move
53:10 - and slide this will allow us to actually
53:12 - use the
53:13 - velocity now the question is what if
53:16 - what about the horizontal velocity well
53:18 - here I can say if is
53:22 - attacking then what I want to do is I
53:24 - actually want to lurp my velocity
53:27 - to zero so I can do that by saying
53:29 - horizontal velocity is equal to
53:32 - horizontal velocity lurp and we'll lurp
53:36 - it to direction. normalized time
53:41 - 0.1 we'll do this at a speed of
53:44 - acceleration now I'll copy
53:47 - this now what if I'm not attacking which
53:49 - at the moment probably not going to be
53:51 - for a while well I'm going to copy paste
53:54 - it in the L statement but for this I'm
53:56 - going to remove the0 Z and instead I'll
53:59 - put movement speed uh movement
54:03 - speed and then that's it so now uh let's
54:07 - give this a try and see what we get well
54:10 - let's actually now import our
54:12 - functionalities here because I've added
54:13 - a few things but none of this actually
54:15 - does anything right now because well I
54:17 - haven't added it so let's close this go
54:20 - to our project settings our project
54:22 - settings here we'll go to input map and
54:26 - here where I want to add or can add new
54:29 - function input mapping now in the add
54:32 - action what I'll do is I'm going to add
54:34 - a new uh action called right left
54:39 - backward
54:41 - forward
54:42 - dump attack
54:45 - Sprint aim and pause these are all the
54:49 - inputs that we'll need eventually now
54:51 - for all of these you can add whatever
54:52 - you'd like for the right I'm going to
54:54 - add the left left I'm going to add a
54:58 - backwards I'm going to add s and forward
55:01 - I'm going to add a so ASW basically now
55:05 - for the jump I'm going to add the space
55:06 - bar attack I'm going to add the left
55:09 - button the left Mouse button and I can
55:11 - do that by going to Mouse buttons going
55:13 - up and selecting the M left Mouse
55:16 - button that's a attack now for Sprint I
55:19 - want shift for aim I want
55:23 - control for pause I'm going to add
55:25 - Escape
55:26 - now I can close this and now let's give
55:28 - it a try now most likely it probably
55:31 - won't work first try that's okay okay
55:34 - cool so we got something wrong right
55:35 - away because I spelled basis wrong so
55:37 - let's fix that right away and see what
55:40 - we
55:41 - get all right so we got a bunch of
55:43 - errors but we do have something working
55:45 - we do see that our mesh is working based
55:48 - on our rotation which is nice so we can
55:50 - see that some of these are actually
55:53 - working quite nicely and the aim is
55:55 - working so we now know that the aim is
55:57 - working we just aren't moving properly
56:01 - so let's take a look at what's happening
56:02 - and I'll be right back okay so one quick
56:05 - fix I think hopefully you probably
56:06 - realized this is on line 62 I spelled
56:10 - forward wrong but let's continue as uh
56:13 - we actually have a bit more to do
56:14 - because what was happening and the
56:16 - reasoning this wasn't working is because
56:19 - the is walking and is false we need to
56:21 - now have a way of keeping track of what
56:24 - is true and what is false so the first
56:26 - thing we'll do is when I'm not clicking
56:28 - anything here I'm going to add an else
56:30 - statement if I'm not moving forward
56:32 - backwards or whatever I'm going to now
56:34 - say is oops oh my gosh is walking that's
56:40 - not is walking is walking is equal to
56:42 - false I'll also say is running is also
56:46 - false now what I'm going to do is inside
56:49 - of the direction I'm going to check to
56:51 - see if
56:53 - input dot is action press
56:57 - hopefully you can guess I'm going to
56:58 - check to see if I'm sprinting I'm also
57:01 - going to check to see if is walking is
57:04 - true now if it is what I'll do is I'll
57:07 - say movement
57:09 - speed movement speed is equal to run
57:13 - speed and then I'll say is running is
57:17 - equal to True next I'll say else is
57:21 - walking is equal to true and movement
57:27 - speed is equal to walk speed there we go
57:31 - now the reason that we need this mostly
57:34 - specifically this is because here I was
57:37 - I had a movement speed of zero so that's
57:39 - why so now what I can do is if I hit
57:41 - close when I test this you will now see
57:44 - when I hit play I can now move around
57:47 - rotate my camera and see that my player
57:49 - is moving now I can even hit control to
57:52 - aim my player as I'm moving but
57:55 - obviously this still looks you know it
57:57 - looks okay but it's not perfect because
58:00 - well we need animation we have a lot of
58:02 - Swords of stuff as well let me actually
58:05 - what we'll do is we'll go to the rig
58:06 - here and I'm going to hide a few of
58:08 - these swords so what I'll do is I'll
58:10 - just hide the bone so I'll find just
58:14 - minimize
58:16 - these and you can of course hide
58:18 - whatever you'd like I'm going to show or
58:20 - hide everything except for the
58:22 - two-handed sword uh so this one hide
58:25 - everything above
58:27 - it and the
58:29 - shield where's the shield this guy right
58:32 - here find the shield and there we go so
58:35 - this is our two-handed sword I'll keep
58:36 - this guy in my hand as I'm going to use
58:38 - that as my sword later okay so now I
58:41 - actually have a nice equi uh night here
58:45 - okay in the next part we'll take a look
58:48 - at how we can start animating things all
58:50 - right so I'll see you in the next part
58:53 - okay so in this next part we're going to
58:54 - set up our animation now to get started
58:57 - we need to start with our animation tree
58:59 - so let's add a new node here called
59:01 - animation tree we'll go to the tree root
59:04 - on the top right and we will add a state
59:07 - machine we'll assign the animation
59:09 - player right here by clicking it and we
59:12 - can assign the animation player we'll
59:15 - hit okay and now what we can do is we
59:17 - can start adding some states now in our
59:21 - tree route here we'll click this and on
59:23 - the bottom you should see animation tree
59:26 - let's click into this as this is our
59:27 - actual State
59:29 - machine next what we want to do is
59:31 - rightclick and start adding things now
59:34 - we could add a either the animation
59:37 - itself or a blend tree now let's add
59:40 - some animations and then we go for blent
59:43 - tree in the attack so first We'll add a
59:45 - idle
59:46 - animation and if you're wondering you
59:48 - can just click the first letter so for
59:50 - example I will give you the idol um but
59:54 - now we'll add a blend tree
59:57 - and we'll rename this to attack
60:00 - one this will click into this and now
60:03 - you can see a blend tree now the cool
60:05 - part about this and the reason we might
60:07 - do this is because now I can add an
60:10 - animation and this would work similarly
60:12 - and I can connect this and it would
60:14 - output that animation but the cool part
60:16 - is that I can rightclick go to time
60:19 - scale and this will allow me to adjust
60:23 - the scale of the time depending on what
60:25 - I want want so if I want it to be two
60:27 - times as fast I can click two and this
60:30 - will animate the attack that I want two
60:33 - times as fast now I'm going to find the
60:35 - two-handed melee attack spinning and use
60:38 - that as my attack we head back here and
60:41 - I'm going to put my attack on the
60:43 - top just do it like this now I'm going
60:47 - to organize the rest of my notes I'm
60:49 - going to add a death
60:51 - animation a walk
60:53 - animation a run animation
60:56 - so you can pick whichever one you'd like
60:58 - and lastly a jump animation we'll do the
61:03 - jump full long do that
61:06 - one next I will connect all of these
61:09 - with a uh transition now the first thing
61:12 - we'll do is connect start to idle we'll
61:14 - connect idle to walk walk to run run to
61:18 - jump and idle to jump jump back to
61:21 - walking and walking back to jump now you
61:25 - might notice that all of these are
61:26 - automatic and that's okay because right
61:29 - now what we're going to do is we're
61:30 - going to add conditions for each of
61:32 - these now for each of these so the first
61:35 - one that we can add um well actually
61:37 - first let's finish the transition so
61:39 - here we can go from walking to death
61:41 - running to death and idle to death we
61:44 - should also be able to go from idle to
61:46 - attack and attack back to idle now let's
61:49 - take a look at what I meant by
61:51 - conditions okay now in each of these
61:54 - transitions let's take a look at our
61:56 - idle first idle to jump in this you can
62:00 - see the switch and the advanced the
62:03 - switch mode is on immediate the mode is
62:05 - automatic now I do want it on automatic
62:09 - however I want a condition with this and
62:11 - that condition is going to be called is
62:13 - in
62:14 - air now what I can do is start adding
62:17 - these conditions for whatever I want so
62:20 - for example the jump we'll actually
62:22 - rename this to jump
62:26 - from jump to walking I want the advanced
62:29 - condition to be is on
62:34 - floor from walking to Jump we're going
62:37 - to do the same thing as here so I'm
62:39 - going to copy this go into my Advan and
62:43 - sometimes it doesn't actually copy so
62:44 - I'm just going to be having type it in
62:46 - okay and we'll just go from each of
62:49 - these transitions to jump will be
62:53 - is is in here
62:56 - from walking to running the condition to
62:59 - go from walking to running will be is
63:02 - running we'll say is running now we also
63:06 - need a condition from running to walking
63:08 - and walking back to Idol now the
63:10 - condition from running to walking will
63:15 - be is not
63:18 - running from idle to walking the
63:21 - condition will
63:23 - be is walking
63:28 - now from walking to Idol the condition
63:31 - will be is not
63:33 - walking is not
63:35 - walking now the attack will be a little
63:38 - unique so the uh this one from going
63:42 - from Attack to idle we're actually going
63:44 - to switch it to at end and that's it
63:47 - we're not going to have a condition
63:48 - we're just going to switch it actually
63:51 - sorry I lied we're going to have a
63:52 - condition but it's going to be is on
63:54 - floor because I should only be able to
63:56 - transition if I'm on the floor now from
63:59 - idle to attack we're going to actually
64:01 - not have a condition for this one and
64:04 - we're going to turn off the automatic
64:06 - the reason is because we're going to
64:07 - transfer or kind of travel from idle to
64:10 - attack manually now just make sure that
64:13 - in each of these I actually remove um
64:16 - some of these and rename it to walk this
64:19 - one I'll rename it to run and this one
64:21 - I'll rename it to
64:23 - death now the condition from all of
64:26 - these to death we'll need is going to be
64:29 - is dying
64:31 - sorry oops need that on auto and then is
64:34 - dying like
64:37 - this let's say is dying for each of
64:42 - these and
64:44 - lastly is
64:46 - dying all right now that we have our
64:49 - animation tree we actually want this to
64:51 - work so let's head over to our script
64:53 - and pop out the code now do remember
64:55 - that here this is where the idle names
64:58 - are do make sure that the animations
65:00 - that we've added are the same here okay
65:03 - so these should look familiar jump
65:05 - capital J Attack One death Etc okay so
65:09 - do make sure that these are all the
65:11 - same otherwise it won't really work
65:14 - properly okay so now what we can do is
65:17 - in order to make the animation work we
65:20 - can actually load our animation Tree on
65:23 - the top so what we'll do is at the very
65:25 - top I'm going to on ready load that's
65:28 - not on ready on ready variable animation
65:32 - three I'll say get
65:35 - node animation tree we also on ready
65:39 - variable playback and this will be equal
65:42 - to
65:43 - animation uh
65:46 - tree do
65:48 - get I get
65:52 - parameters parameters SL layback
65:56 - this is essentially the actual playback
65:59 - of the current
66:01 - animation so now we just have it as a uh
66:04 - variable instead of having to access it
66:06 - every time okay so let's take a look on
66:09 - the bottom how we would do this at the
66:12 - very bottom under the move and slide
66:15 - this is actually where I'm going to set
66:17 - the conditions whether it's true or not
66:19 - to do this all I need to do is access my
66:22 - animation tree I'll get the parameters
66:26 - the conditions and then the is on floor
66:31 - so these are the conditions that I want
66:33 - to edit now the variable I'll edit it to
66:36 - is going to be this one of course on
66:38 - floor now what I can do is I can copy
66:41 - paste this a few times and change some
66:43 - of these to be what I need the first one
66:46 - or the second one will be is in
66:49 - air third one will be is
66:53 - walking the one after that is is not
66:59 - walking this one will be
67:02 - is is
67:04 - running this one will be is not
67:08 - running and lastly is
67:12 - dying now for each of these we can kind
67:14 - of change them this one will be is not
67:16 - on floor this one will be is
67:20 - walking this one is is not
67:23 - walking this one will be is is running
67:27 - you can probably guess this one will be
67:28 - is not running uh running running there
67:33 - we go and then the last one is dying and
67:36 - we don't know need and not is dying
67:38 - because well I mean if I'm dying then
67:40 - I'm dying right so okay so now let's
67:43 - take a look at how I might animate these
67:45 - in the actual
67:47 - code okay so the first thing I will do
67:50 - is I want to uh do the attacking for the
67:53 - attacking what I'll do is I'm going to
67:55 - scroll up
67:56 - right here and I'll do the attacking
67:58 - right here now to do this I'll do an
68:02 - statement called if attack one uh node
68:06 - name is in the
68:08 - playback. getet current
68:12 - node this will allow me to check to see
68:14 - if I'm attacking or not and this is
68:17 - where I can just say is attacking is
68:18 - equal to True
68:21 - otherwise we'll add an else statement
68:23 - here otherwise I'll say is attacking is
68:26 - equal to false all right now what I can
68:30 - do is I can also add a new function at
68:32 - the very top right under the is not
68:35 - dying called attack one and this will be
68:38 - a function I create that will allow me
68:40 - to check to see if I'm
68:42 - attacking okay so on the bottom we'll
68:45 - create a new function by saying Funk one
68:47 - back one we'll say inside of here
68:50 - if idle node name is in the playback
68:54 - node dot get
68:57 - current
68:59 - node or now this is kind of optional in
69:03 - a sense or what I'll do here is I'll
69:07 - say we
69:09 - go instead of idle I'll also add to see
69:12 - if I can walk or if uh if I'm walking or
69:16 - if I'm idle now here's another option
69:19 - duplicate this and do the running as
69:21 - well if you want to be able to attack
69:24 - while running or walking this is where
69:26 - you would do it but you can check to see
69:29 - if you're walking idle or running if
69:32 - you're doing any of those things what
69:34 - we'll do now is first I need to check to
69:36 - see if I'm actually attacking to do that
69:38 - I can say is action just
69:40 - pressed attack if I attack using my
69:44 - mouse I will check to see if I'm not is
69:48 - attacking then if I'm not doing any of
69:50 - that I will just say playback. travel to
69:56 - back one this will allow me to manually
69:59 - travel to this node all right so now
70:03 - what I can do is hit close on this hit
70:07 - play and let's take a look at what we
70:09 - have but here you can see when I'm
70:12 - walking and running I now play these
70:15 - animations there is an issue that it
70:17 - doesn't Loop but will change that in
70:19 - just a second if I attack and now see
70:22 - that I attack and if I jump and now see
70:25 - I jump okay now but what about the uh
70:30 - looping well that's not too hard in our
70:32 - animation here our animation tab let's
70:36 - find The Walking a that I'm using and
70:38 - make sure it's looped we'll find the
70:40 - running make sure it's looped and lastly
70:43 - the idle make sure that's looped now
70:47 - when I hit
70:49 - play you should see my player is playing
70:52 - the an idle animation and now I can walk
70:55 - with a loop and run infinitely all right
70:59 - so here we go here is our player I can
71:01 - attack whenever I am running walking or
71:04 - whatever and there we go so that is our
71:07 - player animation pretty cool I'll see
71:10 - you all in the next
71:12 - part all right so now that we have our
71:14 - player relatively working what we need
71:17 - to do next is we need to think about how
71:19 - this player is going to interact with
71:21 - other things but before we do that need
71:24 - those other things right we can't
71:25 - interact with a monster we can't kill a
71:27 - monster there is no monster so let's
71:30 - let's get started with our monster so
71:32 - what we'll do here is I'm going to
71:33 - create a new folder in our seams
71:37 - folder new folder and we'll say
71:41 - monsters we're going to create a new
71:43 - scene here we're going to create a
71:45 - character body 3D as our base this is
71:49 - going to be
71:50 - our call it our
71:53 - skeleton Warrior
71:56 - monster we'll add a new node here called
72:00 - Collision shape and now we can find
72:03 - skeletons we'll find the
72:06 - characters we'll use the skeleton
72:09 - Warrior drag this out and here we go
72:12 - here's our Warrior we can just make this
72:14 - local and pop this our actual monster I
72:19 - will transform it to
72:21 - 0 and here we go here's our monster now
72:25 - now the problem is right away we need to
72:27 - give it a collision
72:29 - shape pop this up a little
72:33 - smaller
72:35 - go and maybe I'll make it a little
72:37 - fatter that's good we'll save this in my
72:40 - monster
72:42 - scene there we go now I can add this to
72:46 - my main scene here I'll find our
72:49 - Warrior I'll add this in drag it in like
72:52 - so it might take a second like before
72:55 - and now we have a monster when I hit
72:58 - play I can see that I can kind of
73:00 - interact with it in a sense where I can
73:03 - kind of run up to it and pack it but
73:06 - nothing happens so what we want to do is
73:09 - I want to actually add functionality to
73:11 - it first what I'll do I'll add a new
73:14 - script can use the template it's okay
73:17 - I'll make this in my scripts folder make
73:21 - a new folder called monsters open and
73:24 - create create in here what we'll do is
73:28 - we want to now think about our state
73:30 - machine and how we're going to actually
73:33 - make our monster with its own different
73:36 - state
73:37 - machine now this guy is going to have uh
73:40 - gravity in actual monster so what we can
73:43 - do is we can just delete all this input
73:45 - the jump input and leave the gravity as
73:48 - well we're going to be adding gravity
73:51 - now what we can do actually just not
73:54 - going to use th we're going to create
73:56 - our own uh speed things later we'll
73:59 - close this and now when I hit play
74:02 - though
74:04 - like and when I hit play you'll see that
74:07 - my monster does fall to the ground as
74:09 - now he has gravity all right that is our
74:12 - player setup in the next part we'll take
74:14 - a look at how we can start setting up
74:15 - our state machines and how State
74:17 - machines work uh and you know how we'll
74:20 - do this with a
74:21 - monster all right so in this we'll be
74:24 - taking look at the concept and idea of
74:27 - State machines before going into classes
74:29 - and custom nodes inside of Gau so the
74:33 - general idea of finite State machines
74:36 - right so finite State machines now the
74:39 - word finite right means the well kind of
74:42 - the opposite of infinite right so it's
74:45 - something that eventually ends so we
74:47 - have a finite State
74:50 - machine now let's say for the sake of uh
74:54 - a small small example we have the idle
74:57 - State this is kind of a circle that
75:00 - encompasses things that happen inside of
75:02 - the idol state so for example play idle
75:07 - right remember that play idle animation
75:09 - that would probably go in here right now
75:12 - that's one thing now let's say we have
75:14 - another state called move right we would
75:18 - have well again this the functionality
75:21 - of the move state in here right so
75:23 - anything that I want to do that should
75:25 - involve movement should be inside of
75:28 - this so for example well obviously we
75:31 - would play the move animation for
75:33 - example right now another one that is
75:35 - common but we actually won't have is an
75:37 - attack State uh this is a very common
75:40 - one I'm just going to put it in here
75:41 - because uh it's just an
75:43 - example now obviously you would play the
75:46 - attack animation or do whatever else is
75:48 - in there right now the general idea of
75:51 - State machines is that we want a kind of
75:54 - uh imaginary state right or imaginary
75:58 - idea where we hold States so we need
76:01 - something to keep track of what state
76:03 - we're in and usually that can be used
76:05 - using a variable let's say current state
76:08 - right so keep some way to keep track of
76:11 - what the current state
76:13 - is now you can keep track of the current
76:15 - state whatever way you want you can use
76:17 - a name a string a number it doesn't
76:20 - matter it's up to you now what's another
76:23 - concept of State machines now this is an
76:25 - important one in fact this is probably
76:28 - going to take up most of your uh States
76:31 - or the most of the code inside of your
76:33 - script of your states that is the
76:36 - conditions to move from one state to
76:39 - another in order to go from idle to move
76:42 - I need some sort of condition now
76:44 - usually it's an if statement it doesn't
76:46 - have to be but usually it is well
76:49 - because it's an if statement right now I
76:51 - can say if input blah blah blah right
76:55 - let's say left right if I move left then
76:59 - whoops left like that then I want to
77:01 - move to the idle State or the move state
77:03 - right well because I'm starting to move
77:06 - if I'm moving I should probably go to
77:08 - the move state but I need an if
77:10 - statement in a condition in the idle
77:13 - state that allows me to move to the move
77:17 - State now that is important to
77:19 - understand you need to understand that
77:21 - there is conditions from each state to
77:23 - another now from the move State I can go
77:25 - to the idle State as well I need
77:27 - conditions from the move to the idle I
77:29 - also should have some sort of condition
77:31 - to go from the idle to the attack now
77:35 - ideally you would probably go from
77:37 - Attack to idle you would also be able to
77:39 - go from move to attack and from Attack
77:41 - to move right now the condition from
77:45 - Attack to Idol or attack to move is not
77:47 - always input right think about it when
77:50 - you attack or finish attacking when do
77:51 - you go back to Idol well when you finish
77:53 - attacking you usually or sometimes I
77:56 - would say most of the time it's after
77:58 - the attack animation finishes or some
78:01 - other condition so those are things to
78:03 - think about about when do I want the
78:05 - condition to happen when do I want it to
78:07 - attack when do I want it to fall stuff
78:09 - like that right so these the basic idea
78:12 - of finite State machines is essentially
78:15 - the idea of having the states themselves
78:18 - having the functionality inside of them
78:20 - having a way to keep track of what our
78:22 - current state is and then we also want a
78:27 - condition inside of the states to be
78:29 - able to go away from that state to to
78:31 - kind of change States right so okay that
78:34 - is pretty much it for the finite State
78:36 - machine concept video uh I will see you
78:38 - all in the next lecture okay so now that
78:41 - we understand State machine what I want
78:43 - to do is go to my monsters create a new
78:46 - folder and call this
78:49 - States we'll actually call this one AI
78:53 - melee and we'll put our skeleton in here
78:56 - as
78:59 - well and it might take a second to just
79:02 - drag and drop it there we go all right
79:05 - now in here we'll create a few new
79:07 - scripts the first script we'll have is
79:10 - called attack
79:12 - State we will duplicate this and call
79:16 - this one uh death
79:20 - State have one more
79:23 - called uh
79:25 - ideal
79:26 - State quite a few but you know let's do
79:28 - these all together so one more time and
79:32 - we will create Run
79:35 - State duplicate and lastly one more
79:39 - called State
79:41 - machine uh just State machine actually
79:43 - this will be our state machine will kind
79:46 - of help us control and hold all these
79:49 - states okay so let's take a look at how
79:52 - to do this now in each of these states
79:54 - what we want to
79:55 - do uh we'll open them up first so let's
79:58 - open up our Idol let's pop out the
80:00 - script uh we'll actually close this for
80:02 - now again open them all that way they
80:05 - are all open right here and we'll just
80:07 - make sure these are all open now in our
80:10 - state Machine controller here what I'm
80:12 - going to do is I'm going to uh preload
80:14 - all our States now to do that what I'll
80:17 - do is I'll create a dictionary called
80:19 - variable
80:20 - States state equal to this curly bracket
80:24 - this is
80:25 - States we'll have a key called idle here
80:28 - will preload our idle script we can do
80:32 - that by just typing in Idol State and
80:34 - here you can see that I preloaded our
80:37 - idle script now alternatively if you
80:40 - don't know how to do that you can just
80:42 - drag in the idle State path like this
80:44 - and it will give you the path another
80:47 - way to do this is right click idle a
80:49 - script and copy path right here and it
80:52 - will copy the path
80:55 - all right next what we'll do is we'll
80:57 - copy paste this put a comma right here
81:00 - copy it
81:02 - times uh three times I'll have one
81:04 - called
81:07 - run one called
81:10 - attack and one called Death there we go
81:13 - okay and we'll just change all of these
81:15 - to the corresponding script so this is
81:17 - death this is attack and this is
81:23 - run run there we go okay now that we
81:26 - have all the scripts we need a helper
81:28 - function called change
81:31 - State this is a function that will allow
81:34 - us to pass through a new state which is
81:37 - going to be a
81:39 - string make sure that this is spelled
81:41 - correctly State and this will allow us
81:44 - to change our state now how do we do
81:46 - this what we'll do is we're going to say
81:48 - get
81:50 - child
81:51 - count we will see if it's equal to zero
81:54 - or not if it's not what we'll do is I
81:57 - want to get current child zero and
82:01 - Q3 however I don't want to do this if
82:04 - I'm in the death state so I'm going to
82:06 - see if death not in the get child z.
82:14 - name this will essentially check to see
82:17 - if the state I'm trying to Q free is
82:20 - death I don't want to Q free if I'm
82:22 - death I don't want to change States
82:25 - now what I'll do I'll say if state has
82:29 - uh
82:31 - dot has there we go new state then that
82:35 - means my dictionary has this state if I
82:38 - do I'll say State uh State m is equal to
82:44 - State new state. new this will allow me
82:49 - to create a new object or a new node
82:52 - using this pre-loaded script
82:55 - now we'll see why we can do this in just
82:56 - a second but for now let's continue we
82:59 - can now say State temp is equal do name
83:03 - equal to New State we'll set the name of
83:06 - that new node equal to the well state
83:08 - that we're trying to change into then we
83:11 - will just add child State
83:14 - M this will allow us to change States so
83:17 - this gets rid of our old State and this
83:19 - adds our new state okay now in our idle
83:22 - State we can get started with our idle
83:23 - state that's usually the easiest you can
83:26 - see here that we extend node this is a
83:29 - script but it extends node now this
83:31 - essentially allows us to create a new
83:33 - node or a new object using the node as a
83:36 - base now what we're going to do here is
83:39 - we're going to call or make a new
83:40 - variable called AI
83:43 - controller and this will essentially
83:46 - reference the uh skeleton Warrior script
83:50 - so to do this what we'll do is in the
83:52 - function uh ready we will say AI
83:56 - controller is equal to get parent. get
84:00 - parent now the reason we do this twice
84:03 - is because here we'll actually add our
84:07 - state machine uh we'll actually do that
84:10 - by adding a node here we go and we'll
84:12 - attach the state machine script and this
84:14 - is going to be our state Machine
84:16 - controller so let's rename this
84:19 - to State machine or state Machine
84:22 - controller whatever you'd like now in
84:24 - here this will be adding a child in this
84:27 - state machine this is where I can now in
84:31 - my idle State get parent to get to the
84:33 - saate machine and then get parent one
84:35 - more time to get to this script this
84:37 - will allow me to access the a
84:39 - roller okay so now that we have our
84:41 - state machine set up we actually need to
84:43 - take a step back and set up our
84:45 - animation tree so in the next uh video
84:48 - FL part we will now set up our animation
84:51 - tree okay so to get started with our
84:54 - animation we need to add our animation
84:56 - tree so let's add an animation tree node
85:00 - we'll go to the inspector tab add a DAT
85:03 - machine assign the animation player and
85:07 - now we head over to the animation tree
85:09 - and we will add a few notes and the
85:11 - animations will add the first one
85:13 - instead of just an idol we're actually
85:15 - going to add uh let's just add the death
85:17 - FR first so I'll have that kind on the
85:21 - top the idol what I'm going to do is I'm
85:23 - going to add
85:24 - a Sit floor Idol and this will if I play
85:29 - it he's just sitting down on the floor
85:33 - essentially now the next one I'm going
85:35 - to add is a awaken State now this awaken
85:38 - state if I search up skeleton or type in
85:41 - SSS whatever you'll find the skeleton
85:43 - awaken floor long this one will or sorry
85:47 - not this
85:49 - one we will add the uh awaken
85:56 - standing where is that there we go this
85:58 - one this one will pop up as if he's
86:01 - standing and then we will add a running
86:04 - and then an attacking now the attacking
86:06 - uh you can kind of pick whichever one
86:07 - you'd like I'm going to pick the
86:10 - attack
86:12 - slice and then I'm going to add one more
86:15 - called idle
86:18 - combat there we go and now we want to
86:21 - add transitions to all of these so from
86:24 - awaken back to Idol from standing and
86:27 - running back and
86:28 - forth Etc and then we also want from
86:32 - running to Idol we want from Attack to
86:35 - idle then we want from Idol to death and
86:38 - from Attack to death we'll also want
86:40 - from idle combat to attack and now let's
86:43 - rename all these to kind of an easier
86:45 - name here this will be idle this will be
86:49 - awaken this will be
86:51 - run and this will be attack
86:55 - this will be we'll leave it as Idle
86:57 - combat that makes sense and this one
86:59 - we'll just say death now for all of
87:01 - these transitions I'm going to take off
87:04 - the automatic and just uncheck this for
87:07 - each of these transitions because we're
87:09 - going to be transitioning from state to
87:12 - state through our actual
87:14 - code all right so let's make sure that
87:16 - we just do this for each of these for
87:19 - the Run go to idle combat now from the
87:24 - attack right here we'll turn this off
87:27 - but from the attack to the idle combat
87:29 - we're going to actually leave the
87:30 - automatic on and sync it at the end of
87:33 - this attack
87:35 - animation because I wanted to
87:37 - automatically idle combat like this when
87:40 - it one every time it finishes attacking
87:42 - so that way it's kind of like a cool
87:43 - down every time it attacks so it doesn't
87:46 - just attack right after attacking right
87:49 - so it kind of Waits a little bit and
87:50 - then attacks again okay so here we go
87:53 - here is our uh animation tree setup and
87:56 - now what I need to do is we'll head into
87:59 - our scripts and we'll start getting
88:00 - things to work all right so next we'll
88:03 - go to our actual uh script here for our
88:05 - monster and I'm going to start adding
88:08 - the variables that we'll need in this
88:09 - script to make our cler work so we'll
88:13 - add it one by one the first thing we'll
88:15 - add is a speed this is going to be a
88:17 - float and we'll make it equal speed 1.0
88:20 - for now we'll add a on red ready
88:25 - variable which will be our state
88:28 - controller this will just say get node
88:31 - and we'll get access to the uh State
88:34 - machine we'll create another variable
88:37 - this one will export it and we'll say
88:38 - export variable player and this one will
88:41 - be a character body 3D this will
88:44 - essentially represent a variable as our
88:47 - player now to get access to it we'll do
88:49 - that in a bit but for now let's just say
88:51 - variable Direction and we will set this
88:54 - to Vector 3 this is going to be the
88:57 - direction from our player or from our s
89:00 - the monster to the player so which
89:02 - direction is the player we'll create
89:04 - another variable called Awakening and
89:08 - this is going to be a Boolean we'll set
89:10 - it to false by default we create another
89:12 - one called attacking a Boolean false
89:17 - another one called hell be an INT which
89:19 - will make equal to four create a
89:22 - variable damage
89:26 - intal to two we'll create a variable
89:29 - dying will be a Boolean equal to false
89:33 - we'll create another variable called
89:35 - just
89:36 - hit will be a Boolean equal to false all
89:40 - right now that we've done all this we're
89:42 - going to add a ready function and we're
89:44 - going to get access to our state
89:46 - controller we're going to change states
89:49 - to idle on the ready when our scene
89:52 - essentially uh is ready ready and this
89:54 - player loads or this monster loads now
89:58 - this is all nice and handy and stuff but
90:00 - what about our Direction well I want to
90:03 - get access to our direction or get the
90:06 - direction by saying direction is equal
90:09 - to player I'll put it like this player
90:12 - do Global
90:15 - transform do origin minus self. Global
90:22 - transform. origin
90:24 - we can also uh
90:27 - normalize this
90:29 - number now this is cool but this isn't
90:32 - something we want to do unless the
90:35 - player is valid if the player is not
90:38 - valid meaning it doesn't exist then well
90:40 - I don't want to do anything right so
90:42 - here we'll only get the direction if the
90:44 - player is valid all right now let's head
90:47 - over to our state machine for sorry idle
90:49 - State and we'll take a look at how we
90:51 - can get this to work here we can say if
90:54 - AI
90:56 - controller.
90:58 - Awakening then what we'll do is we're
91:00 - going to await for that animation to
91:02 - finish what I can do is say AI uh
91:06 - controller dot get node animation
91:11 - three do animation finished so what the
91:15 - await function does is it will wait for
91:17 - a
91:18 - signal a wait essentially stops the code
91:21 - and waits for a certain signal to kind
91:24 - of happen before
91:26 - continuing the signal that we're going
91:27 - to wait for is the animation tree
91:30 - animation
91:31 - finished if I head over to my animation
91:34 - tree in the node
91:36 - section you will see the animation
91:39 - finished signal right
91:40 - here okay so that is how that works now
91:44 - after this though what I want to now do
91:46 - is say AI controller. getet node
91:49 - animation 3.get
91:55 - parameters SL playback and then I want
91:58 - to travel to the idle
92:01 - animation now in my physics process
92:04 - which I don't have so let me add
92:07 - that physics process I will ask if the
92:11 - AI controller is valid first then what
92:14 - I'll do is if this AI controller is
92:16 - valid meaning it exists I have access to
92:18 - the monster then I will just AI
92:22 - controller veloc
92:24 - X is equal to Z similarly I'll just copy
92:28 - paste this and change this to Z in the
92:31 - idle State all I need to do is just set
92:33 - the velocity to zero now what I'm going
92:36 - to do is I'm going to copy paste this
92:38 - into each of my States so that way I
92:41 - have a rough outline to get started with
92:43 - in each of these states let's take a
92:45 - look at the Run state next as this one
92:47 - isn't too complicated and it's not too
92:49 - different in our Run state I'm going to
92:51 - create a variable though called run and
92:54 - this will essentially kind of help me
92:56 - run or not in the ready first so I don't
92:59 - want to start running until I've
93:01 - awakened basically so what I want to do
93:04 - first is instead of checking for awaking
93:06 - I'm going to check for attacking first
93:09 - if I am attacking I will wait for the
93:11 - animation finish and what I'll say is AI
93:14 - controller. attacking is equal to false
93:18 - because after this I've waited for the
93:20 - animation to finish and then I stop
93:22 - attacking L statement where I'll say run
93:26 - is equal to false I'll say AI
93:29 - controller. getet node animation tree
93:32 - actually I'll just copy paste this right
93:34 - here so we'll just copy that and instead
93:37 - of traveling to Idol I will travel to
93:40 - awaken after that I will say AI
93:43 - controller.
93:45 - Awakening is equal to
93:48 - True after that I can now wait one more
93:51 - time but once I start playing the awaken
93:54 - I want to wait for this and then uh now
93:57 - here I want to once all this is finished
94:00 - I want to now say running is equal to uh
94:03 - true and then I can set the Awakening to
94:08 - false now lastly here I want to travel
94:11 - to run because I'm not idle in my run
94:13 - animation or my run State I want to you
94:15 - know run that would make more sense now
94:17 - here I'm going to check for if running
94:20 - is also valid because here I'm not only
94:22 - just I'm not going to run zero anymore
94:25 - I'm going to actually run right so to do
94:27 - that I will get my AI controller.
94:29 - Direction dox and multiply it by the AI
94:34 - controller. speed so this is it this is
94:37 - all I need to move my monster towards my
94:40 - player now this one I'll copy paste it
94:43 - but change it to the Z index and then
94:45 - lastly I'm going to get access to my AI
94:47 - controller and we're going to use a
94:49 - function called look at and this will
94:51 - essentially allow me to look at my
94:53 - player this is kind of a rotation
94:55 - function so I'll pass through the global
95:00 - transform. origin then add the AI
95:04 - controller.
95:06 - Direction all right and then we'll pass
95:08 - through the vector 3
95:12 - 01 0 like so all right so that's it for
95:17 - the Run function hopefully this works
95:19 - out
95:22 - nicely all right let me just zoom out
95:24 - here just a little bit so you can see
95:26 - everything and this is the Run State all
95:28 - right so now let's take a look at our
95:30 - attack State now in the attack State
95:33 - this is actually a little easier because
95:35 - we don't have to change this because I
95:36 - don't want to move when I'm attacking
95:38 - now here I can actually keep this
95:40 - because if I'm Awakening while I'm
95:42 - trying to attack I want to wait now the
95:44 - only difference is when I uh after this
95:47 - I want to get the a controller and set
95:49 - the attacking to true because at this
95:51 - point this is probably when I'm going to
95:53 - start attacking
95:54 - now I want to actually travel to the
95:56 - attack node and then I'm actually going
95:58 - to go to my run State and copy paste
96:02 - this here I want to look at my player
96:06 - only in the attack ready obviously this
96:08 - is kind of up to you if you want to add
96:10 - it in the physics process that's totally
96:12 - fine I'm going to add it in the ready
96:14 - function so imagine my monster is going
96:16 - to only look at me when it's starting to
96:19 - attack instead of all the time all right
96:23 - now in my death animation this is where
96:25 - uh some things are going to get funky so
96:27 - here I'm going to say AI controller do
96:30 - dying is equal to true and then here all
96:34 - I need to do is say death and that's it
96:38 - now uh this is pretty much it so now
96:41 - what we can do is give this a try we'll
96:44 - test this out and see what we
96:46 - get okay now if we go to our main scene
96:48 - here and we assign the player right here
96:51 - on the skeleton sign the player we'll
96:55 - actually see if we hit play nothing will
96:57 - happen the reason is because we don't
97:01 - have a way of changing states but we do
97:03 - see that it is working it is playing the
97:05 - idle State actually in fact if we go to
97:07 - the
97:09 - remote we will find under the state
97:11 - machine that it is playing
97:13 - Idol now in our skeleton we now need
97:17 - some sort of condition some automatic
97:19 - condition to allow us to detect if I
97:22 - want to go into well whichever State I
97:24 - need it to be so to do this I'm going to
97:27 - add an area 3D I'm going to duplicate it
97:30 - and adds a collision shaped 3D both of
97:34 - these I'll duplicate this as
97:37 - well and put this in here just kind of
97:40 - rename it so it's the same now this one
97:42 - will be the chase layer
97:46 - detection this one will be the attack
97:50 - layer
97:51 - detection now for both both of these I'm
97:54 - going to essentially give an area so
97:56 - that it does what I need it to do for
97:59 - both of these I'll use a sphere but for
98:01 - the chase player I'll make it a little
98:03 - bigger here the attack player this needs
98:06 - to be a doesn't need to be a cylinder
98:08 - but I'll make it a cylinder and this
98:10 - essentially will be my attack range this
98:12 - will be the range that I want my monster
98:15 - to be able to attack in so now what I'm
98:18 - going to do is in both of these I'm
98:19 - going to go to the chase first and enter
98:22 - body entered
98:24 - and connect these to my monster I'll do
98:27 - this for the body entered and then the
98:29 - body exited I will then do this for the
98:32 - attack and lastly the
98:35 - exited now one more thing that is kind
98:38 - of important before we continue here is
98:41 - grouping now inside of gdau there is
98:44 - something called grouping and this might
98:46 - vary depending on your version but uh
98:48 - here in good 4.3 all you need to do is
98:51 - add a filter here we will add a group
98:54 - called Monster and then we'll add one
98:56 - more called uh player now we'll uncheck
99:00 - the player here in the monster because
99:01 - well this isn't a player this is a
99:02 - monster in our player though we'll head
99:05 - to our our node here and so here we'll
99:09 - actually have to add the player here
99:11 - again and here we can actually just
99:13 - remove the player we don't need
99:17 - that and now if we go here we will see
99:20 - that these are groups now the cool part
99:23 - about this is that inside of these
99:26 - signals I can check to see if this body
99:28 - is a part of a specific group now I can
99:32 - do this essentially let's say the chase
99:34 - detection let me zoom in a little
99:36 - bit I can say if body is in group Player
99:43 - then I can do whatever I want now in all
99:48 - of these I don't want to change States
99:50 - unless I it's a player and if I'm not
99:53 - is dying right if I'm dying then I
99:56 - probably shouldn't change States I
99:57 - should probably stay in the dying state
100:00 - so now what I can do is I can say state
100:02 - controller do change
100:05 - state to run in this case so if I enter
100:09 - the chase state I want to start
100:11 - running okay so the is dying is not a
100:14 - thing it should be just dying there we
100:15 - go all right so now what I can do is
100:18 - copy paste this into each of these but
100:21 - obviously I'm going to change the state
100:22 - to the course responding one now for the
100:25 - attack exited or for the chase exited
100:27 - this one will go back to idle for the
100:30 - attack entered this one will probably go
100:32 - to attack and this one is actually
100:34 - correct because if I leave the attack
100:37 - player detection I want to go back to
100:38 - running and Chase the
100:41 - player okay now there's one more thing I
100:43 - need to do before I kind of test this is
100:46 - in our animation tree I'm going to
100:47 - actually connect whoops the
100:50 - signal signals animation finished
100:53 - and I'm going to connect this and in
100:55 - here I'm going to check for a few things
100:58 - the first thing I'm going to do is I'm
100:59 - going to check to see if the
101:02 - awaken the word awaken is in the anim
101:05 - name if it is what I'll do is I can just
101:08 - say Awakening is equal to
101:10 - false here I'll add an L if statement
101:13 - I'll copy this I'll change this to
101:17 - attack and then I'll have an if
101:19 - statement saying if the player
101:24 - is in the get
101:29 - node attack
101:33 - detection uh dot get
101:37 - overlapping
101:40 - bodies
101:42 - and not
101:44 - dying then this is where I will uh
101:48 - change to attack again so if I finished
101:50 - one attack so this will kind of allow me
101:52 - to so this right here let me kind of
101:55 - explain this piece of code will
101:57 - essentially allow me to Loop my
101:59 - animation for attacking if I finish one
102:02 - attack this will check to see if my
102:04 - player is still in the current detection
102:07 - uh bodies so this will check oh I SP
102:11 - wrong if it is in the area attack then I
102:14 - will just attack again now I can do that
102:16 - by just saying State controller. change
102:20 - state to attack
102:23 - all right now lastly oops lastly I want
102:26 - to say l if uh death so I'll do this
102:29 - again but here I'm going to say death
102:32 - and if I am playing the death animation
102:34 - or I finished playing the death
102:35 - animation I'm going to call a function
102:36 - Called Death now this function uh
102:40 - doesn't exist yet so let's actually
102:41 - create it and for now what I'll do is
102:44 - I'm actually just going to say self. Q
102:46 - free now here is where we'll play
102:49 - animations and stuff and blah blah blah
102:51 - but uh for now this will just kind of be
102:53 - good enough all right now what we'll do
102:55 - is close the script and let's hit play
102:57 - Let's see what we get let's see if we
102:59 - get any crazy bugs that we might have to
103:01 - debug
103:02 - together okay so here we see that it is
103:05 - facing and there's already a few bugs
103:07 - and that's okay we can actually fix
103:09 - these quite easily but we do see that
103:11 - direction is
103:12 - working and the attack is working quite
103:15 - nicely the only issue is that he's
103:17 - facing the wrong way now this is
103:19 - actually a very easy fix all I need to
103:22 - do is go to my skelet Warrior and I will
103:25 - rotate this guy by
103:26 - 180 I will also add a weapon because he
103:30 - doesn't have a weapon so let's actually
103:32 - go to our assets here in our skeletons
103:35 - go to fvx and we'll find a skeleton
103:39 - blade and in our rig here I might
103:42 - actually need to add a new bone because
103:45 - here we have a bone helmet but we don't
103:47 - have a bone for our hand so what I'm
103:49 - going to do is I'm going to search up
103:51 - bone attachment which is bone and we
103:54 - should find a bone attachment 3D I'll
103:57 - add this I'll select the hand slot right
104:01 - you can do left if you'd like but now
104:02 - you can see that the hand slot is kind
104:04 - of on our hand now I can take my bone my
104:08 - skeleton blade here and I'll just make
104:10 - this local and drag out the dash I
104:14 - need and now I can reset its position
104:17 - and rotation 3 0 like so and now if I
104:21 - hit play on on one of my
104:24 - animations I play the attack you'll see
104:29 - he kind of plays the attack but it's a
104:30 - little funky that might be because I
104:32 - need to rotate the blade I do so I need
104:37 - to rotate the blade Itself by 180 or
104:41 - just
104:41 - 180 and now when I hit play one more
104:47 - time okay so it kind of still looks a
104:50 - little funky let's make sure that this
104:52 - is the right hand
104:54 - slot B3
104:58 - yeah okay so what we'll do is I'm going
105:01 - to play the T
105:03 - pose find the T pose here oops and this
105:08 - guy should be looking this way so we'll
105:10 - get this rotate like
105:14 - so so this will probably
105:17 - be90 and- 180 so whatever your rotation
105:21 - is it should be facing this way outside
105:24 - of the T pose now let's try one more
105:26 - time go to the animation tree and there
105:29 - we go now we have a nice smooth attack
105:31 - all right let's hit play and see what we
105:36 - get okay so here we go he's chasing us
105:39 - there's no Loop but we can change that
105:41 - in a second but we do see that the
105:43 - attack does uh actually Loop which is
105:46 - nice now there is few issues right so
105:49 - the first one is in the walking or I
105:52 - believe in the running
105:54 - actually where is the running we go
105:57 - running a we'll Loop that now another
106:00 - one is the idol which is going to be the
106:02 - sit floor idle I think is this one
106:07 - right let's take a look so this one
106:11 - doesn't need to Loop this one will need
106:13 - to Loop so the FL sit four idle and
106:16 - running a that's good all right so yeah
106:19 - there we go there is our monster so it
106:21 - should now Loop if we pick play one one
106:23 - more
106:26 - time here we go so he's running and he's
106:28 - looping if I leave he goes to the idle
106:32 - animation now one thing that I like to
106:35 - do is inside of our animation tree I'm
106:38 - going to actually blend uh some of the
106:42 - animations now what does that look like
106:44 - well in our run to Idol what I can do
106:48 - here is I can change the X fade time I'm
106:52 - going to change it to 2 and this will
106:55 - allow us to have a smoother animation
106:57 - between our transitions now I'll do this
107:00 - for all of them
107:03 - 0.2 so let me just make sure that all of
107:05 - these are
107:06 - 0.2 and you can of course do these for
107:09 - all of them it's kind of optional but of
107:12 - course if you don't it might look a
107:13 - little chunky so it is up to you whether
107:16 - or not you want to try this or if you
107:18 - want to try something else of course you
107:19 - can also try the xade perve that is also
107:22 - a nice thing but it's more so just kind
107:25 - of how how fast it curves into this uh
107:28 - time now if we try one more time though
107:31 - should see it'll do that and then it'll
107:34 - kind of sit back down right
107:36 - away yeah so there we go it doesn't kind
107:38 - of just chunk back down to the idle it
107:41 - kind of Fades back into the idle
107:42 - animation all right so there we go
107:44 - there's our monster it works pretty
107:46 - nicely now in the next part we'll need
107:48 - need to now actually add some
107:50 - functionality to hit it we need to hit
107:53 - the monster and the monster needs to be
107:55 - able to hit us we'll do this in the next
107:58 - section right so now that we have the
108:00 - player and the skeleton working all we
108:02 - need to do now is well make them
108:04 - interact with each other and this isn't
108:06 - actually that hard all we need to do is
108:09 - add some things into each scene so the
108:11 - things We'll add the general idea of
108:13 - this is we're going to add some sort of
108:15 - detection area in well specifically The
108:18 - Sword and then every time I attack I'll
108:20 - be able to detect whether or not I can
108:23 - hit the other monster and if I do I'll
108:26 - send kind of a signal that will allow me
108:28 - to hit the other person so let's start
108:31 - with the monster to start what we'll do
108:34 - is we need to find the right hand now
108:37 - usually you would do this in a sword now
108:40 - this could work and you could you're
108:42 - more than welcome to add uh the area to
108:45 - this sword specifically but a better way
108:47 - to do this is if we add a new bone
108:49 - attachment just like we did with the
108:51 - monster we can attach a right hand slot
108:54 - right and we can just add the area to
108:56 - this right because this will apply for
108:58 - any sword because in the future what if
109:01 - you want to hi this and show this
109:03 - whatever you may want right it'll be
109:06 - kind of more dynamic in this sense so
109:08 - what we can do is we can rename this to
109:10 - right hand
109:13 - slot we will add a new uh node called
109:16 - area 3D this is going to be our detector
109:19 - we add a collision shape and now we need
109:22 - to set the Collision shape I we'll put a
109:25 - capsule we need to zoom in here and
109:28 - essentially make this the same size as
109:31 - the sword so we'll just kind of zoom out
109:34 - just a little bit like
109:35 - this and there we go now what we can do
109:38 - is rename this to damage
109:42 - detector and there we go that is our uh
109:45 - sword right so now when I attack so if I
109:49 - go to my animation tree and throw this I
109:52 - mean it's a little fast but you can see
109:54 - that the area 2D or 3D sorry follows the
109:57 - sword so every time I play well I gu I
109:59 - would have to play idol
110:01 - first yeah I mean even honestly even in
110:03 - the idol you can see that it's following
110:05 - the idol right as I walk it's following
110:07 - the sword so this is perfect so this is
110:09 - exactly what we want now what we can do
110:12 - is uh reference or connect the signal
110:16 - will connect the body entered signal to
110:18 - the player now in here you might recall
110:22 - that we cre grouping so this is where we
110:24 - can first check to see in fact actually
110:27 - this is where I want you to pause the
110:29 - video and try seeing if you can detect
110:32 - if this body that is entering this area
110:34 - is a monster or not see if you can
110:36 - figure it out using a similar uh thing
110:39 - that we used before so to do this
110:41 - hopefully tried it yourself first what
110:43 - we need to do is say if body is in group
110:48 - monster because if you recall from
110:50 - before in our monster here
110:53 - we have created a group called Monster
110:56 - so here now in our player back in our
110:59 - script again we can simply check to see
111:01 - if it's in that group and if it is that
111:03 - means well I'm hitting a monster and if
111:06 - I am what do I want to do well I
111:08 - actually want to just call hit on it so
111:11 - in order to do this the monster needs a
111:14 - function called Hit first otherwise it
111:17 - doesn't really make sense like how can I
111:18 - hit it without having a function inside
111:21 - of it now I could just Q free so for
111:23 - example I could just do free like this
111:25 - and this could totally work this would
111:26 - just destroy the monster however I'm
111:29 - going to call a function called Hit and
111:31 - the cool part about this is that I can
111:33 - now put in a amount of damage in like
111:36 - like one or two right so if I want to do
111:38 - a certain amount of damage to its Health
111:40 - this is where I can do it okay now one
111:43 - more thing we'll do though is in the
111:45 - body is in group whatever what we want
111:47 - to also check for is is attacking I
111:51 - don't want to damage the monster if I'm
111:53 - not attacking because let's say I'm just
111:56 - walking right my player's walking and I
111:59 - just walk past a monster and the monster
112:01 - enters this area obviously that's not
112:03 - very good I don't want that that's a
112:05 - pretty terrible interaction right I
112:08 - don't want that in my game I only want
112:09 - to interact uh when I'm attacking now
112:12 - there is actually a better way to do
112:14 - this um but I'll show you that in the
112:15 - monster so it's going to be kind of two
112:17 - different ways to detect whether or not
112:19 - I'm attacking or not and this will be a
112:21 - nice way to
112:23 - for you to kind of learn different ways
112:25 - of doing something similar that we need
112:27 - to achieve so let's head back to our
112:29 - script and what we need to do now is now
112:33 - that we've created this hit function or
112:35 - called this hit function we need to
112:37 - create it we don't have a hit function
112:39 - in our monster so in this body right
112:42 - this is the body that we would be
112:43 - calling but I mean I'm not going to ask
112:45 - you do you guys see a h function I don't
112:47 - see a h function here so what we need to
112:50 - do is create it we'll create a h
112:52 - function will pass through an amount of
112:54 - damage that will be an integer and then
112:57 - all I need to do is say health minus
113:00 - equal damage and then we can check to
113:03 - see if the health is less than zero if
113:06 - it is we'll say self. Q free now here's
113:10 - the issue that well the main issue is Q
113:13 - free doesn't exactly do what I want
113:16 - right I don't want to just Q3 you
113:18 - probably guessed it I want to change
113:19 - states to death so all I need to do is
113:22 - change states to death because we should
113:24 - already have this set up okay so now
113:27 - that we have our hit
113:28 - function um all we another thing I want
113:31 - to do is I want to start detecting the
113:33 - just hit function what this means is if
113:36 - I just got
113:37 - hit I actually don't want to do any of
113:40 - this so I will only reduce my damage
113:43 - I'll only die etc etc if I wasn't just
113:46 - hit now this is a variable that we
113:49 - created uh kind of a while ago and this
113:51 - will essentially allow to detect if I
113:53 - was just hit or not now here's the
113:55 - kicker is I want to set this to True
113:58 - inside of here just hit is equal to true
114:02 - but here's another issue is how do I set
114:04 - it to false well what we're going to do
114:06 - is I'm going to close our script here
114:08 - head to our Warrior and I'm going to add
114:10 - a new node called the timer this timer
114:14 - is going to allow us to essentially
114:16 - start when I just get hit and I'll
114:19 - connect a signal called Timeout on our
114:22 - monster
114:23 - here and every time it times out I will
114:26 - set the just hit to
114:29 - false now the issue is oops false not
114:33 - the issue but how do we start this timer
114:35 - right because this timer doesn't just
114:36 - start like magically we need to start it
114:38 - so how do we do that well it's pretty
114:40 - easy we just say get node just hit it's
114:43 - the timer that we just created and then
114:45 - just start it this will automatically
114:48 - start our timer well not automatically
114:50 - but it'll start our timer and yeah so
114:52 - that'll allow us to actually do that
114:55 - okay so now what do we need to do well
114:58 - uh in our just hit function or sorry our
115:01 - hit function we now need to uh not need
115:05 - to but one other thing that we can add
115:07 - is a knockback this is something that I
115:10 - like to do in a lot of my games um it's
115:12 - just a very very simple way of adding a
115:14 - knockback and that is by something doing
115:16 - something called tweening tweening is a
115:19 - very simplistic way of animating so
115:22 - think of how we might want to animate a
115:24 - knockback well one way we could do it is
115:27 - doing it through the animation player
115:29 - right if we go into our animation player
115:31 - if you understand how it works if you
115:33 - don't that's okay the basic idea of it
115:35 - is that there's something called key
115:37 - frames and essentially and we'll
115:39 - actually use this for a monster later in
115:40 - the next part uh is see let's go to our
115:45 - skeleton monster we have keys here and I
115:47 - can key one of these and it will kind of
115:50 - put that position in this key frame and
115:52 - then if I key another one at another
115:54 - position it will kind of animate between
115:56 - those two frames now I don't want to
115:59 - give an example because I'm actually
116:00 - going to give an example a little later
116:02 - but the basic idea of tweening is that
116:04 - it's done in code it's the same thing
116:06 - but just done in code so let's take a
116:08 - look at how we can do this first I need
116:10 - to create a tween you know just a fun
116:13 - fact G in G 3 and previous tweening used
116:17 - to be an actual node but they removed it
116:19 - and now we only can create it through
116:21 - code but that's okay okay we can still
116:22 - utilize it quite nicely so here we'll
116:25 - just say twe property and the property
116:29 - that we want to twe first we'll look at
116:31 - the object well the object is going to
116:33 - be our self okay now what property do we
116:36 - want to adjust well I want to adjust the
116:39 - uh Global position what I essentially
116:42 - want to do is take our Global position
116:44 - and then the final value will be its
116:46 - Global position
116:49 - minus the direction divided by
116:53 - 1.5 this essentially will act as a
116:56 - knockback now I want to do this over a
116:59 - period
117:00 - of2 and this is going to basically be
117:02 - how long this tween takes so 0 2 seconds
117:05 - is very quickly right you'll not really
117:08 - not notice it but it's it's just very
117:10 - quick okay now that we have our hit
117:13 - function Let's test it out let's see if
117:14 - this works so let's take a look first at
117:16 - our health here we have four health and
117:19 - we should be doing in our player script
117:21 - two damage it should take two hits to
117:23 - kill our monster let's take a
117:27 - look play we go and our Monster's
117:31 - chasing us and you can even see that
117:33 - there's a little knock back and
117:35 - eventually it dies and we even saw that
117:38 - that second attack didn't go through
117:40 - because it just got hit so I couldn't it
117:42 - was invulnerable essentially I couldn't
117:44 - keep hitting it I wasn't allowed so
117:46 - there we go that's our know detection
117:48 - that's our monster attacking that's
117:50 - pretty neat in the next part we'll take
117:52 - a look at how we can now do the opposite
117:54 - I would suggest actually with this next
117:56 - part you try it on your own first try
117:59 - making it doing exactly what we just did
118:01 - adding the area 3D to the monster and
118:04 - then allowing it to hit the player
118:05 - adding a hit function inside the player
118:07 - Etc but that's what we'll do in the next
118:09 - part so we'll be able to have the
118:11 - monster now attack the
118:13 - player right so in our next part like I
118:16 - said um we now need to make it so our
118:19 - monster can hit our player now to do
118:21 - this actually a little not easier but
118:24 - per say but we already have our bone
118:27 - attachment here and I'm going to rename
118:28 - this to right and Slot just like I did
118:31 - for the player and I'll attach an area
118:34 - 3D again and similarly a collision shape
118:38 - now I'm going to go to my animation
118:39 - player and select the key pose just so
118:42 - it's a little easier to add it or you
118:44 - know adjust the sword here I'll add a
118:47 - cylinder capsule make it much smaller as
118:49 - you can tell make it skinnier
118:52 - order and there we go here's our sword I
118:55 - might actually extend it a little
118:57 - outwards just so it can actually hit the
118:59 - player okay so now what we can do is you
119:03 - need to make sure and me uh we need to
119:06 - make sure that we take a look at which
119:08 - attack we're using here I'm using the
119:09 - two-handed melee attack slice so now
119:12 - what we'll do is we'll head into our
119:15 - animation player with animation on the
119:17 - bottom we will head into the
119:20 - two-handed attack slice one that we're
119:22 - using now what I want to do is I want to
119:26 - turn off the animation tree so that way
119:28 - I can look at my animation uh for this
119:31 - animation as it actually happens now
119:34 - here's the thing I want this area 3D
119:37 - only be uh disabled and enabled whenever
119:43 - this Frame is kind of like right here
119:46 - like in between the attacks so right
119:48 - maybe right here and in between here
119:51 - after that I want want to disable it so
119:53 - what do we do well this is actually
119:55 - quite easy this is the key part that I
119:56 - was talking about so here what I can do
119:59 - is make sure that it's disabled is off
120:02 - I'll key here like so and then right
120:05 - here I'll check this on and then key it
120:09 - again now if we scroll all the way to
120:11 - the bottom you will now see this new
120:13 - Collision shape 3D with enabled and
120:16 - disabled so this will essentially enable
120:19 - the Collision shape or yeah Collision
120:21 - shape and then disable it after a
120:23 - certain frame now here's the kicker is
120:26 - we want to find that reset track and
120:28 - make sure that this is enabled so by
120:32 - default this should be enabled right so
120:34 - this will automatically kind of happen
120:37 - like this is the reset this is what will
120:39 - reset every time I play the game kind of
120:41 - it's almost like a ready
120:43 - function now let's rename this similarly
120:46 - to damage
120:48 - detector I will go into this area 3D add
120:52 - it into our body entered and connect so
120:55 - just kind of uh an ad if you recall from
120:59 - our last part uh like just 10 minutes
121:01 - ago this is how uh that animation player
121:04 - that's another way of detecting if I'm
121:06 - currently attacking or not because here
121:08 - I I could check for the state so let me
121:11 - actually pop this out I could check for
121:13 - the state controller I could just check
121:15 - for the name or whatever see if I'm in
121:17 - the attack State and that could work
121:19 - that's totally fine but this is kind of
121:21 - a more Accurate Way of detecting for a
121:24 - specific frame it's it's just a bit more
121:27 - accurate I would say okay now here in
121:30 - the damage detector this is from the
121:32 - monsters to the player but as a
121:34 - reference I can actually just copy paste
121:36 - this into here and change this to player
121:40 - and then remove this I want I'm not
121:42 - going to need that now for the body do
121:44 - hit instead of two you recall I already
121:47 - have this damage right here so I'll just
121:49 - pass that through now I can always
121:51 - change the damage that I want uh you
121:53 - know to whatever I
121:55 - want okay so now on the bottom uh now if
121:59 - you recall you know we have this hit
122:00 - function we're calling it but again we
122:03 - don't have a hit function inside the
122:04 - player so let's create it um in fact
122:06 - actually as a good reference to create
122:08 - it I'll just copy paste this copy this
122:11 - here and now we have a good amount of
122:13 - stuff now of course we don't have health
122:15 - I don't have damage or actually we do
122:17 - have damage um and we were going to add
122:20 - our I was going to add the health um a
122:22 - global variable but for now we can just
122:24 - add a health variable here as int equals
122:28 - say
122:29 - five and then uh instead of State
122:32 - Controller here I'll say self. do free
122:36 - for
122:37 - now okay um actually we could just play
122:41 - the death animation so why don't we just
122:42 - do that actually so instead of uh self
122:46 - talk Q free what we can do is we can
122:48 - actually say is
122:49 - dying oops is is dying is equal to true
122:54 - and then uh here we'll just copy this
122:57 - right here and instead of traveling to
122:59 - attack node one the attack to the death
123:02 - node name here we'll just travel to the
123:04 - death now here's the thing is after my
123:07 - death animation I want to die I want to
123:10 - like end the game and little later we'll
123:12 - add a game over overlay but for now what
123:15 - we can do is I'll close the script and
123:17 - in my animation
123:19 - tree here I've already connected uh oops
123:23 - in my player here in my animation tree I
123:25 - don't have this so I'll connect the
123:26 - animation finished connect it pop this
123:30 - out and now I can check for the death
123:32 - animation see if I just played the death
123:35 - animation I'll say if death in random
123:38 - name then what I'll do is I'll say self.
123:41 - Q free this will allow me to just Q free
123:44 - and in the future if we ever want to add
123:46 - a game over overlay we'll just add it
123:48 - here okay all right so here we have the
123:53 - uhing however this might not work
123:56 - because we have a
123:59 - direction we have a direction this
124:01 - direction is facing wherever I am which
124:05 - I think will work fine okay so we have
124:08 - the just hit being started but I don't
124:10 - have that timer so we need to add it but
124:13 - let's add our new
124:15 - timer our player here and we'll rename
124:18 - this to just hit okay so we should be
124:21 - able to to give this a
124:26 - try Okay so let's see if we can oh okay
124:30 - so our monster needs to turn on the
124:32 - animation tree
124:33 - again go back to the
124:35 - inspector it close the
124:39 - game okay back to Output here we
124:47 - go all right so here's our monster
124:49 - should be able to attack us now and even
124:52 - knock
124:54 - back all right so it seems that I'm
124:58 - Invincible now because I never connected
125:01 - the just hit uh timeout so that would
125:03 - make sense I would probably need to be
125:06 - able to turn just hit to false so here I
125:09 - turned it to true and then I never
125:10 - turned it to false again so that would
125:12 - make sense all right so let's H play one
125:15 - more time test this
125:19 - out so he's waking up going to hit
125:24 - all right cool so there we go and then
125:26 - eventually I die and then IQ free and
125:29 - the reason this is happening is because
125:30 - I don't have a camera 3D anymore because
125:32 - if you remember camera 3D is in our
125:35 - player and we already destroyed our
125:36 - player so uh that's probably not the
125:38 - best way to do it but it works out quite
125:40 - nicely so in the future we'll add a game
125:42 - over overlay and it will be able to
125:44 - restart the level and stuff this is
125:46 - pretty good so far so I'll see you in
125:48 - the next part all right now that we've
125:51 - pretty much completed the player and
125:53 - monster we now want to head into our
125:55 - assets and I'm going to now show you how
125:57 - to create this custom theme because
126:00 - we're going to kind of uh I'm actually
126:01 - going to close these guys we're going to
126:03 - now head into creating GUI so for
126:07 - example um we'll actually create a
126:09 - canvas item canvas layer as our base
126:12 - here I'll save this as GUI and I'll put
126:15 - this in my scenes in my player and save
126:19 - and just kind of show you what this
126:20 - might look like if I create a
126:23 - panel you will see here this is the
126:25 - default theme of gdau now this default
126:28 - theme if I pop this into the themes
126:31 - right
126:32 - here you will see it turns into this
126:34 - nice pretty thing now in order to create
126:37 - this though what we'll do is create a
126:39 - new resource search up
126:42 - theme save and we can create default
126:47 - 2.0 of course if you don't want to do
126:49 - this you can of course skip it I've
126:51 - already set
126:52 - all the default themes you'll need but I
126:54 - want to show you how to do this uh you
126:56 - know ourselves now okay the font very
126:58 - easy just drag and drop the font into
127:00 - the default font done super simple now
127:04 - what about the rest because here you can
127:06 - see in this default theme we have button
127:08 - panel progress bar but here I have
127:10 - nothing well I go to manage items go to
127:13 - import items and we can now import the
127:16 - things I want I'm going to import panel
127:18 - I'll find the panel
127:21 - I'll find
127:23 - button I want the button
127:26 - here and let's import these first close
127:30 - C okay and I forgot the last one
127:33 - progress bar right okay we'll go to the
127:35 - thing over here manage items and
127:40 - progress progress bar there we go import
127:45 - selected and now we can see uh in my
127:47 - edit items you can even see it here but
127:49 - I'll close Okay and now we have our our
127:53 - things that I want to give now okay
127:55 - we'll start one by one we'll start with
127:57 - the panel as this one's probably the
127:58 - easiest we'll go to the Styles we're
128:01 - going to select this down button and
128:02 - select the texture we'll take our UI big
128:06 - piece and drop it nowhere because I need
128:08 - to click this first then I'll drag it
128:11 - into the texture now you can see in the
128:13 - background I have this texture now I'm
128:16 - going to go to the sub region edit
128:18 - region and now I'm going to select this
128:21 - guy
128:23 - now I could also try pixel
128:26 - snap sometimes it's not perfect but it's
128:29 - not too bad here we go now I can move
128:32 - these dotted lines be kind of below
128:35 - where I want it to be and essentially
128:37 - what this does is let me actually move
128:39 - all these first and it might be easier
128:40 - to explain
128:43 - it it will use the middle of this as the
128:47 - middle of the entire panel so this side
128:51 - corner will always be consistent so now
128:54 - when I close this and I add a panel here
128:58 - more
129:00 - time and I set this theme as the theme
129:03 - 2.0 you will see if I zoom in here we
129:06 - have these dots always no matter how big
129:09 - the panel is so essentially everything
129:11 - else gets stretched that is kind of the
129:14 - advantage you can see that these Corners
129:15 - don't get stretched they get uh they
129:18 - stay the same size okay so that's the
129:20 - panel finished we'll close the panel
129:22 - here in our custom theme let's H over to
129:24 - the styles of our button the buttons are
129:26 - going to be a little more difficult but
129:29 - uh just more of a drag I would say let's
129:31 - head over to the normal one because that
129:33 - one's probably the easiest but we'll
129:35 - drag in the UI piece go to sub region
129:38 - edit region zoom out and here we can
129:41 - find our buttons so this one is going to
129:42 - be our normal button this is pressed and
129:44 - this is hover for Focus as well so let's
129:48 - just do the normal first so we'll drag
129:51 - this
129:52 - and I can just down just a little bit
129:55 - and I can move the dotted line in the
129:58 - middle like
129:59 - so and just bring this up a tiny
130:06 - bit all right we'll close and now if I
130:09 - add a button it would should look like
130:11 - this but let's finish the rest so what
130:12 - I'll do is I'm going to drag this guy
130:15 - into the rest of them now here's the
130:17 - thing though is that if I edit one of
130:19 - these it will edit the rest you're more
130:21 - than welcome to give it a try but I'm
130:23 - just going to make unique on all of
130:24 - these so that way I don't mess anything
130:27 - up do make sure that you just make each
130:29 - of these unique right now for the
130:32 - Pressed we'll go to the sub region and
130:34 - select the
130:38 - Pressed here we go looks pretty good
130:42 - I'll just move
130:43 - this I'll just leave it there that's
130:45 - fine close and we'll go to the
130:49 - hover sub region
130:52 - edit
130:53 - region and hover we can select this
131:02 - one we go and just select the entire
131:06 - thing make sure that the inside is kind
131:09 - of what you want close and we'll go to
131:12 - the focus the focus we can leave as the
131:15 - default and then the disabled uh we'll
131:18 - select the Pressed one for the disabled
131:21 - if we want ever disable the buttons
131:23 - which we actually will at for our item
131:27 - or our inventory system kind of then
131:29 - we'll select this as our disabled okay
131:32 - so that's our buttons and lastly the
131:34 - progress bar this one's going to be a
131:35 - little easier because if you actually
131:37 - notice in the default one that I gave
131:39 - you in here the background is empty and
131:42 - there's a good reason for this but the
131:44 - fill is going to be our texture so let's
131:45 - do this for our um guy here so
131:48 - background I'll set this to empty and
131:50 - then the fill I'll set it to texture and
131:53 - pop in the texture that I want I'll go
131:56 - to sub region edit region and I've
132:00 - created this guy so I've edited it I've
132:03 - basically just moved these all together
132:04 - because that's what we need so here we
132:06 - go select the
132:09 - red like
132:11 - this uh I think it's supposed to be like
132:13 - that there we go and I'll just move this
132:15 - guy one corner like
132:17 - this that's not what I wanted to do I
132:19 - want to move this guy up and this guy
132:22 - down like so I'll use this as my stretch
132:24 - essentially okay so there we go there's
132:26 - our theme completed now to actually load
132:29 - this into our game I need to go to
132:30 - Project
132:31 - settings go to General search up
132:35 - theme go to theme and add in our custom
132:39 - uh theme
132:40 - here so here I'll just add in my uh
132:43 - default 2.0 or you can add the default
132:46 - and I'll save and restart and I'll see
132:48 - you in the next
132:50 - part right so our next step is to
132:52 - actually create a game over overlay this
132:55 - will be a little easier so we'll start
132:56 - with this as our kind of initial GUI set
132:59 - up so to do this we'll create a new
133:01 - scene and this new node will be a canvas
133:04 - layer base now I know I haven't
133:06 - explained what a canvas layer is but
133:07 - let's kind of take a look at what it is
133:09 - and what it does so to do this we'll add
133:12 - a panel and we'll increase this panel
133:15 - here and I'm going to actually turn on
133:17 - this grid snap and this will just allow
133:20 - me to more accur accurately assess how
133:24 - big I want this to be so I want it to be
133:25 - this big now inside of this inside of my
133:28 - panel specifically I'll add a label and
133:31 - I'll add a
133:33 - button okay so this button let me make
133:36 - it a little bigger here me just do it
133:38 - like so I'll type in
133:41 - retry put this kind of in the middle and
133:44 - then the label I'll make it a little
133:46 - bigger here and I'll type in game over
133:51 - try again now if I want this to be
133:53 - bigger that's easy all I need to do is
133:56 - go to the theme overrides you could of
133:58 - course uh edit the actual theme in here
134:01 - right I believe you should be able to
134:03 - edit the default size but I'm not going
134:04 - to do that I usually like to edit the
134:06 - size manually every time I add a label
134:10 - um the font size here I can actually
134:12 - just overwrite it and make it much
134:13 - bigger as I want it to be now what I can
134:15 - do is I can just Center it in the
134:17 - alignment there we go I can maybe just
134:20 - press enter so that way it says game
134:22 - over try again on two lines like so and
134:24 - even more what's cool about this is I
134:26 - can go to the constants and give it line
134:29 - spacing outline size uh you know make it
134:31 - look pretty whatever you really want
134:33 - right so you can kind of start making
134:35 - your text a little nicer we'll save this
134:38 - as a game game
134:40 - over overlay We'll add this to our
134:43 - scenes our player I'll make a new folder
134:46 - here called
134:48 - GUI H save and in our level I'm going to
134:52 - now add our game over overlay now when I
134:56 - hit
134:57 - play the way this works is a canvas
134:59 - layer essentially follows the screen no
135:02 - matter where it is so here you can see
135:04 - the label in on top of our gameplay
135:07 - because in our game over overlay here
135:10 - the canvas layer is Within These blue
135:13 - lines so that is how we canvas layer
135:15 - Works anything within these lines will
135:18 - show up on our
135:19 - screen so you can kind of see or imagine
135:22 - why this would be useful specifically
135:24 - for uh you know gii and stuff so let's
135:29 - rename this to game over overlay we will
135:32 - add a script because well I'm going to
135:34 - need a script for this guy but I'll put
135:36 - it into my scripts folder put into my
135:39 - player create a new folder
135:42 - UI open create now in here what I'm
135:46 - going to do is I'm going to on ready the
135:49 - self. hiide I want to hide this game
135:51 - over overlay now I want another function
135:55 - that we're going to call when the game
135:58 - is over meaning like I'm dead this is
136:00 - the function I'm going to call one of my
136:01 - player dies now in here what I'm going
136:04 - to do is I'm going to take my input
136:07 - Mouse and make it so that it's captured
136:09 - or visible right because before it was
136:11 - captured but now I want it to be visible
136:13 - so we're going to say mouse mode is
136:15 - equal to visible next I'm going to say
136:17 - self. show because I want to show this
136:19 - overlay that would make sense because
136:21 - it's hidden right now right and then
136:23 - lastly I want to pause the scene to do
136:26 - this all I need to do is say get tree do
136:29 - pause is equal to true and then uh
136:33 - that's pretty much it now this is it but
136:36 - there's kind of an issue um that issue
136:38 - is that here let's actually let me
136:41 - actually show you so let's go to our
136:43 - player and in our player here instead of
136:46 - the q3e here what we're going to do is
136:49 - we're going to call the game overlay to
136:52 - do this I need to get node and get the
136:54 - path now to get the path it's actually
136:56 - not that hard let's go to our level here
136:58 - go to our player script and it might be
137:01 - a little
137:02 - cramped but all I need to do is now drag
137:05 - in uh maybe I'll actually rename this to
137:07 - game over overlay and then now I just
137:10 - need to drag it in and this will give me
137:12 - the path here I can just say get node
137:15 - overlay and now I can call that game
137:17 - over function that I created so this
137:20 - will do that for us now one thing I want
137:22 - to do though is before I call this I'm
137:25 - actually going to wait one second to
137:26 - kind of have that to show the effect
137:28 - that oh you're dead and we played the
137:30 - death animation but now we're going to
137:32 - you know uh wait one second kind of it
137:35 - just kind of adds a bit more player to
137:38 - our game I'll say so here I'll say get
137:40 - tree create
137:43 - timer one uh yeah so one second and then
137:46 - we'll wait for the timeout uh signal if
137:49 - you recall a wait allows us to you know
137:51 - wait for a certain signal and this is
137:53 - the signal we'll wait for so here I'm
137:55 - just going to get tree to create a timer
137:57 - once I create the timer I'll wait for
137:59 - the timeout signal now the seconds it's
138:01 - up to you whether you want one or two
138:02 - seconds or whatever I'm going to do one
138:04 - second I find that it's not bad so let's
138:07 - hit play and you're going to see
138:09 - something happen so let's just try to
138:11 - die here so get hit
138:13 - once twice here we go I died after a
138:16 - second this pops up but nothing happens
138:19 - now I could kind of click but it doesn't
138:21 - actually work the reason why this
138:23 - wouldn't work is because in my game
138:25 - overlay the process inside the node is
138:29 - called or it's on inherit now inherit
138:32 - essentially is inheriting the scene or
138:35 - the project uh pause scene right so the
138:38 - mode and the mode is currently paused
138:41 - right we pause the scene so this scene
138:43 - is also paused meaning I can't click
138:45 - anything so what I need to do is go to
138:47 - this mode and turn it on always so that
138:50 - way I can always interact with this
138:53 - script and these no nodes here no matter
138:56 - whether or not the scene is paused so
138:58 - okay let's rename this button to retry
139:01 - and I'm going to connect this node by
139:03 - going to press connect and here now all
139:06 - I need to do is a few things first I'm
139:09 - going to unpause the scene I'm going to
139:11 - say pause uh get Tre is equal to false
139:14 - and then I'm going to say get parent dot
139:17 - uh
139:19 - reload parent
139:21 - see oh not get parent what am I doing
139:24 - could be get tree that would make much
139:26 - more sense that's why we didn't have it
139:28 - complete so get current tree there we go
139:30 - so now we just we just reload the
139:32 - current scene from our get tree so now
139:35 - let's hit play and see if this
139:38 - works now we should be able to just go
139:40 - to our monster here eventually I'll
139:43 - die there we go 1 second later I can
139:47 - retry and here we go we restart our
139:49 - scene there we go that's our game over
139:52 - overlay in the next part we'll get
139:54 - started with our GUI and you our pause
139:56 - menu and stuff like that so see you in
139:58 - the next part all right so the next part
140:01 - is going to be in our GUI but first we
140:03 - need to actually make sure we add our
140:05 - GUI into our main scene here let's just
140:07 - make sure we add this guy in and I'm
140:09 - going to rename it to VII so this is our
140:12 - general VII for our inventory our
140:16 - profile that kind of thing so let's make
140:18 - this panel a little bigger just like I
140:20 - did for the game over and I'll rename it
140:24 - to
140:25 - gy and before I start adding things
140:29 - let's add a new script here add a new
140:32 - script to our scripts folder player gy
140:35 - open create now okay in this script
140:38 - there's a few things I'm going to do the
140:40 - first thing I'll do is I'm going to go
140:41 - into my function physics process I'm
140:44 - going to check for the input of my
140:46 - paused function or my uh input sorry I'm
140:50 - going to check for it just pressed and
140:53 - pause here this is where I will start
140:56 - pausing things and doing things so the
140:58 - first thing I'll do is I'm going to get
140:59 - tree. paused and instead of saying true
141:02 - or false there's a kind of trick here I
141:05 - can do that's just to get it to be the
141:07 - opposite of what it currently is and
141:10 - then the cool part about this is that
141:12 - now I can just say uh get node container
141:17 - which we don't have yet uh Dot
141:21 - visible is equal to the get tree. pause
141:25 - so if this becomes true I will set the
141:28 - visible to true it becomes false I'll
141:30 - set the visibility to false now okay
141:32 - let's add this container because well I
141:34 - don't have it so we'll probably want it
141:37 - now the reason we're doing this um I'm
141:39 - going to add a control node by the way
141:40 - so that's our container let's rename
141:42 - this to container okay let me explain
141:45 - why I'm doing this the reason is because
141:47 - I'm G to add a panel into this this is
141:49 - where my profile will be this is where
141:52 - my inventory will be but the question is
141:54 - what about the HP bar the progress bar
141:57 - that I add so let's add a progress bar
141:59 - for now and here I zoom in I can kind of
142:02 - move it to the top left extend it a
142:05 - little bit and here I can give it a
142:07 - value of let's say 50 I'll turn off the
142:10 - show percentage and here I don't want to
142:13 - hide or show this guy depending on if I
142:16 - pause or not right I always want to have
142:18 - the HP bar showing let me just rename it
142:20 - to HP bar and now the advantage is I can
142:23 - show or hide the container specifically
142:26 - this guy depending on if I'm POS or not
142:29 - the HP bar I want it to always show now
142:32 - before we continue one other thing I
142:33 - need to do is make sure the process mode
142:35 - is on always for my GUI because
142:38 - otherwise I'm not going to be able to
142:40 - unpause My Scene if I pause it right
142:43 - that would be kind of silly I won't be
142:44 - able to do anything if I pause it now
142:47 - okay here's the the fun part though or
142:49 - the unfun part is we need to match the
142:53 - paused uh scene so here I'm going to
142:56 - match whether or not I'm paused and if
142:58 - it's true what I'm going to do is I'm
143:00 - going to say input. mouse mode is equal
143:03 - to Mouse
143:06 - visible Mouse visible and if it's false
143:09 - which is pretty much the only other
143:11 - option here I'm going to set it to Mouse
143:14 - captured this will allow me to just be
143:17 - more dynamic in whether or not I pause
143:19 - the scene this kind of comes more into
143:21 - play when I add my shop uh well we'll
143:23 - add our shop later um because this is
143:26 - just kind of it becomes a little buggy
143:29 - because our our shop is going to pause
143:31 - the scene it's going to show and hide
143:33 - some GUI that will'll add later but this
143:36 - will just allow us to avoid any weird
143:38 - issues where if I go into a shop and
143:40 - then try pausing or whatever it just
143:42 - avoids all that so let's close the
143:44 - script now and let's hit play just to
143:47 - test this out here our is paused now you
143:50 - can see here that first of all nothing's
143:54 - working so let's actually just make sure
143:56 - that the pause is right so let's go to
143:57 - our project settings input okay so here
144:00 - I don't even have anything so let's add
144:02 - a
144:03 - Escape okay so now uh we have our pause
144:06 - but there's an issue is that this is
144:08 - still showing on the default now this
144:11 - should actually fix itself if I hit play
144:14 - and I pause my scene it will show and
144:16 - then I unpause it it'll hide but by
144:19 - default I should probably show it so
144:21 - let's add a ready function and we'll
144:23 - just take the visibility here and we can
144:25 - just do hide instead so that way we can
144:28 - hide it uh by default okay okay so now
144:33 - when I hit
144:34 - play here we go our container is hidden
144:36 - but if I hit Escape we pause the scene
144:39 - and uh we have our GUI so this is quite
144:41 - nice now from here we can start adding
144:43 - our inventory and things and whatever we
144:45 - want so let's just set up the general
144:48 - things that we need um first I'm going
144:50 - to Ren the panel here to BG for
144:52 - background I'm going to add two
144:54 - containers I'll duplicate it or two
144:57 - control nodes I'm going to add a vbox
145:01 - container and in this vbox container I'm
145:03 - going to add two buttons one will be the
145:06 - inventory inventory button I'll
145:10 - duplicate this and this will be the
145:12 - profile
145:14 - button now in my vbox container the cool
145:17 - part about this is if I extend it the
145:19 - buttons will automatic Al kind of resize
145:21 - a little bit here I can just type in
145:23 - inventory and then here I can type in
145:26 - profile now the spacing is a little
145:29 - weird and that is because in my custom
145:31 - theme I didn't really space it out too
145:33 - well so let me just fix that real quick
145:35 - we'll go to our style or normal
145:38 - here sub region here you can see that
145:41 - this is not spaced out nicely so we need
145:43 - to just kind of Center it again we'll
145:46 - close that and now we can see it's
145:47 - centered a little nicer alternatively
145:49 - you can just use this guy I think this
145:51 - guy was set up a little better so I
145:53 - spent a bit more time setting this up
145:55 - properly okay so here we have our
145:56 - inventory item and our profile button
145:58 - sorry and now what we can do is connect
146:01 - a signal for pressed in our GUI for both
146:04 - of
146:05 - these now what we'll do when we press
146:08 - these buttons is I want to show and hide
146:11 - these control nodes but these control
146:13 - nodes I need to rename them to the
146:15 - proper thing so let's rename this to
146:17 - inventory and this one to profile
146:20 - so what we'll do now is inside of this
146:23 - script we're going to show and hide
146:26 - depending on what I want so okay what
146:28 - we'll do here is for the inventory press
146:30 - I'm going to say get node container bbox
146:35 - inventory
146:36 - button
146:38 - disabled is equal to true because now
146:41 - I'm kind of showing that I'm in the
146:44 - inventory I do that by disabling this
146:46 - button now what I can do is duplicate
146:48 - this and just change this to
146:52 - profile and then enable the uh profile
146:56 - button because if I were in here right
146:59 - if I were to actually copy paste this I
147:01 - would do the opposite so here I would
147:03 - set the disabled to
147:05 - true and set the in disable to false on
147:08 - the but on this one so we're kind of
147:10 - just doing the opposite essentially now
147:12 - what I want to do is I want to show the
147:15 - inventory right so this guy I'm going to
147:17 - show
147:18 - this but then I'm going to hide the
147:21 - profile so here I'll get the profile and
147:23 - then hide this now I'll just copy this
147:26 - one more time the profile but do the
147:29 - opposite so here I'll hide the
147:31 - inventory and then show the profile yeah
147:35 - that's pretty much it now we won't have
147:37 - much of a visual effect um because
147:39 - there's nothing in our inventory or
147:41 - profile right now um but in the next
147:43 - part we'll start filling it in so we'll
147:45 - add in our inventory first uh so this
147:48 - might actually take a bit of time maybe
147:50 - an hour or so the next part um but we'll
147:52 - fill in the inventory we'll add a bunch
147:54 - of logic to it we'll add some items etc
147:56 - etc um and it'll be quite fun we'll
147:59 - start using the item pack here that we
148:01 - have and yeah so it'll be fun and we'll
148:03 - fill it in and yeah so I'll see you all
148:05 - in the next part all right so let's get
148:07 - started with our inventory first um and
148:10 - to do this what we're going to do here
148:11 - is we're going to right click our
148:13 - inventory and Save branch as scene this
148:16 - will allow us to create a new scene
148:18 - basically just as an inventory so you'll
148:20 - see what I mean in just a second we'll
148:22 - save this in rgi I'm going to create a
148:24 - new folder here called
148:27 - inventory and save and now you can
148:29 - should be able to see this kind of
148:31 - YouTube looking button here you can
148:33 - click into it and it opens a new scene
148:35 - let me just close the game overlay we'll
148:37 - open this inventory and here we go okay
148:40 - so what we need to do first is set up um
148:44 - our scripts so let's go to our GUI here
148:46 - create a new
148:48 - folder inventory
148:51 - and in this folder we're going to set up
148:53 - a bunch of our scripts now okay this
148:55 - next part this these next few parts that
148:58 - we're going to be watching and maybe the
148:59 - next hour or so will be not hard per se
149:03 - but try to keep up as there's quite a
149:05 - bit of logic to understand and learn so
149:08 - first we're just going to set up these
149:10 - scripts that we need so the first one is
149:12 - going to be inventory item this will be
149:14 - the actual item I'll duplicate this okay
149:19 - sometimes uh
149:20 - okay here we
149:22 - go sometimes it doesn't like when I have
149:24 - something else selected to control D
149:26 - which will allow me to duplicate it
149:29 - we'll say inventory main this will go
149:31 - into this
149:33 - inventory okay one more time we'll say
149:36 - inventory
149:39 - slot duplicate one more time and we will
149:42 - say um
149:45 - item data then we will
149:48 - have no that's actually for our for now
149:51 - at least we will have one more but that
149:53 - will be a little later so the first
149:55 - thing we'll start with is the item data
149:57 - the reason we're going to start with
149:58 - this is because we're going to create
150:00 - something called a resource we're also
150:03 - going to create something called a class
150:05 - now a class resource is something
150:07 - slightly specific um but we'll kind of
150:10 - go into it one one step at a time so
150:13 - let's create a class name here called
150:15 - item data this will essentially be our
150:18 - item information data right the
150:20 - information that will go into it we here
150:23 - we're going to extend a
150:25 - resource and a resource is something
150:28 - inside of gdau it's a built-in feature
150:30 - that essentially allows us to add uh GUI
150:33 - into a information packet now you'll see
150:36 - what I mean in just a second so let's
150:38 - close all these scripts and just open
150:40 - this up again and for example we can
150:43 - export a variable called item name and
150:46 - this can be a string now let's take a
150:48 - look inside of our 2D here let me just
150:51 - make this a little bigger now what I'm
150:54 - going to do now is go to my
150:57 - scenes that's not my scenes here we go
150:59 - inventory scenes I'll create a new
151:01 - resource and we'll use the default
151:03 - resource at the top I'll create a item
151:07 - uh now the item I will create is let's
151:10 - say a sword um we'll
151:13 - say iron
151:15 - sword so now uh what I can do is take
151:18 - this iron sword double click it go to
151:21 - the inspector Tab and you can see here I
151:23 - have the iron resource I have resource
151:26 - don't worry about this we have a script
151:29 - now the script we want to attach the
151:31 - item data and now you can see the item
151:34 - data the class name you can see the item
151:36 - name with a string now here I can just
151:39 - say iron sword so this is where I can
151:42 - start filling in information that I want
151:45 - inside of my resource so this is the
151:47 - kind of the advantage is that there's a
151:48 - nice uh property tab or a inspector tab
151:52 - for this now think of resources and um
151:55 - the script basically as an extension or
151:59 - a different way of doing a dictionary so
152:01 - a dictionary would look something like
152:03 - this so if I created a dictionary say
152:05 - item
152:06 - data right I can say it's a dictionary
152:09 - it would look like this where we have
152:11 - curly brackets we can have the item name
152:15 - and then this is the key so inside this
152:17 - item name we would have another string
152:19 - we would say iron sword right and then
152:23 - we have to do comma and then we would
152:25 - put in item damage Etc right so this is
152:28 - kind of how we do this dictionary but
152:30 - this is kind of messy right and imagine
152:33 - this is just one item so this I wouldn't
152:35 - even name item data I would name sword
152:38 - iron iron sword right and then I would
152:40 - have to create several dictionaries
152:42 - inside of another dictionary inside of
152:43 - an array inside of different things now
152:45 - this is kind of messy and there's just
152:47 - no point to that so instead we'll use
152:49 - res resources now in our resource we'll
152:52 - have a few things here so the first
152:54 - thing will be a type this is the type of
152:57 - item it is so in our types we will have
153:01 - weapon we'll have head body legs
153:07 - beat we'll have misk MK is miscellaneous
153:12 - so things like um potions and you know
153:16 - things you eat or things that aren't
153:17 - usable depends on what it is um you can
153:20 - kind of make this actually different to
153:22 - what you want our miscellaneous that I'm
153:24 - going to code in our game is going to be
153:25 - a usable item so specifically we're
153:28 - going to use a potion the two items that
153:30 - we're going to kind of look at in this
153:32 - are going to be some sort of equipment
153:34 - item so a weapon probably and then a
153:36 - miscellaneous item so like a potion that
153:38 - way you'll see how we can kind of
153:40 - differentiate between the two and then
153:42 - lastly we'll have main main is going to
153:44 - represent the uh inventory system so the
153:47 - actual main
153:48 - inventory all right so next we want to
153:51 - export the type and we can do this by
153:54 - saying lowercase type and then type
153:56 - which is the type that we just created
153:58 - so this is the enumerator that we just
153:59 - created now what I'm going to do is I'm
154:01 - going to copy paste this a few
154:04 - times and I'm going to change some of
154:06 - these do uh we have item name we have
154:08 - item damage that we
154:10 - want we have item
154:14 - Health we have item defense of course
154:17 - you can kind of Pi and choose whichever
154:19 - ones you want want um I'm going to just
154:21 - do the ones that I'm going to need um
154:23 - the ones that I'm going to implement
154:26 - here we're going to have a stackable
154:27 - item whether or it's going to be a
154:29 - Boolean I'll change the types in just a
154:31 - second um but this is a Boolean that is
154:33 - going to tell us whether or not it's
154:34 - stackable and if it is we'll have a
154:36 - count right next to it and then after
154:38 - that we're going to have a ex export
154:43 - multi-line and this is going to be our
154:46 - description and this is also a string
154:48 - but it's just going to be exported as a
154:49 - multi-line so you'll see the difference
154:51 - in just a second and then lastly we're
154:53 - going to need a texture so this is going
154:55 - to be a texture
154:58 - 2D texture 3 this one will be a
155:03 - integer the item defense an integer the
155:07 - item Health an integer the item damage
155:10 - also an integer so this is a Boolean
155:13 - okay actually now that we're done what
155:15 - we can do is head over to our item new
155:18 - item resource iron uh sword and we can
155:20 - start filling things in so we can see
155:22 - the type by default is weapon so that's
155:24 - cool the item damage we can give it
155:26 - damage like five the item health and
155:29 - defense I'm not going to fill that in if
155:30 - you're wondering what the item health is
155:32 - this is kind of the healing that I was
155:33 - going to implement so for the potions
155:36 - this is where I would do that now the
155:38 - description you can see the multi-line
155:39 - is more of a multi-line description so
155:42 - here what I can do is I can now I can
155:45 - kind of just do whatever I want I can
155:46 - write in this is a iron sword
155:51 - and this is not a stackable item I'm
155:53 - going to leave it unchecked I'm going to
155:54 - scroll up to my item pack and I can just
155:57 - kind of drag in one of these whichever
156:00 - one you'd like I don't know I'll just
156:02 - drag in maybe this one
156:03 - actually iight highlight again we'll use
156:07 - the first one um I'm going to use two
156:09 - different ones just to represent two
156:11 - different items so we'll have a iron
156:12 - sword I'll duplicate this and say long
156:16 - sword now in my long sword I'll go into
156:19 - this and you can see on the top right it
156:22 - says long sword so this is not an iron
156:23 - sword anymore we'll change this to long
156:25 - sword we can change the damage to maybe
156:29 - three this is maybe a slightly weaker
156:31 - item can say long sword scroll up and
156:35 - select a
156:37 - different thing maybe this one yeah this
156:39 - one kind of looks long I don't know yeah
156:42 - so you can kind of Select uh look
156:43 - through these and select whichone you'd
156:45 - like I'll now make a potion because well
156:49 - we'll make a small potion let's say so
156:52 - this small potion we rename it to small
156:55 - potion this is going to be a
156:57 - miscellaneous item the item damage will
156:59 - be zero the health we can change it to
157:01 - five so it'll heal five you can say this
157:04 - is a small ocean that
157:08 - heals heals you the count will change to
157:12 - one and this is a stackable item so
157:14 - we'll check that on so next what we can
157:17 - do is find a small potion
157:20 - and fill the texture in okay so we have
157:22 - a few items which is nice now one more
157:24 - thing I'm going to do is I'm going to
157:26 - actually create a new folder here called
157:28 - default stats this will be for a little
157:31 - later and for now what I'll do is I'm
157:33 - going to duplicate this and call this
157:36 - default
157:38 - sword I'll drag this guy into the
157:41 - default stats
157:43 - folder pop this out duplicate one more
157:46 - time and make a
157:50 - uh oops default body armor uh body armor
157:56 - like this. trust duplicate now these
157:59 - guys will be our default stats so for
158:01 - the iron sword or for the iron body I'm
158:04 - going to actually reset everything and
158:06 - here I'll just say default armor the
158:09 - default sword I'll say default
158:12 - Sword and the Damage I'll say is one by
158:16 - default or actually let's say two now
158:19 - the rest doesn't really matter we can
158:20 - just say the default sword because this
158:23 - isn't an actual item we'll have in the
158:25 - game it's just to represent our stats
158:27 - you'll see why we do this a little
158:29 - later okay so now that we have
158:32 - everything set up uh we need to actually
158:33 - start setting up our scene now the scene
158:36 - setup is not going to be actually too
158:37 - complicated here all I need to do is set
158:40 - or add my inventory main to my inventory
158:44 - uh scene here next I'm going to add a
158:48 - grid uh scroll scroll up grid container
158:51 - this is going to be our grid container
158:53 - so I'll rename this to grid this is
158:57 - going to be where I put my inventory
158:58 - slots now next what we want to do is we
159:01 - want to add equipment but our equipment
159:04 - is going to be our own node that we
159:06 - create now what I mean by this is inside
159:09 - of our inventory slot here what we're
159:12 - going to start doing in the next part is
159:13 - we're going to take a look at how we can
159:15 - create our own node from scratch because
159:18 - here we extend node but we want to
159:20 - create our own node and we'll take a
159:22 - look at how that what that looks like in
159:23 - just a
159:24 - second all right so now that we have our
159:27 - inventory slot here to create a new node
159:31 - using this script what we can do is
159:34 - create something called a class name now
159:37 - we already did this but this time we're
159:38 - using an extend node so let's take a
159:41 - look at how this might work we're going
159:43 - to create this class name called
159:45 - inventory slot and instead of extending
159:47 - node we're going to extend panel
159:49 - container so now what we can do is if I
159:52 - close the script just as an example well
159:54 - it is an example but we're actually
159:56 - going to use this if I search up
159:58 - inventory or uh slot okay I'm going to
160:02 - have to actually save so here I need to
160:04 - make sure I contrl S and then try one
160:07 - more time here we go we have our
160:09 - inventory slot I can create this as its
160:12 - own item or is its own node now this
160:15 - slot is technically a panel container
160:18 - right but here it says inventory slot
160:20 - just because it has the script attached
160:22 - to it now the coolest part about this is
160:25 - in my inventory here what I could do now
160:28 - is let's say I create a ready function
160:31 - so that's not a ready
160:34 - function the cool part is if I say
160:36 - create a variable slot is equal to
160:40 - inventory slot because now it's a class
160:43 - that I can call and then say New I can
160:47 - add a child slot
160:49 - now the cool part is let me hit play
160:51 - Within this
160:53 - scene this will add a new slot but if I
160:57 - go to the remote section you will see I
160:58 - now have two slots whereas here I only
161:01 - had one so this is how we will actually
161:03 - fill our inventory slot grid through
161:06 - this now kind of extend on this example
161:09 - you can also do this using any already
161:12 - pre-built node inside of gdau so here I
161:14 - could create a label right so here let's
161:17 - add a label let's go to our REM section
161:20 - and here I now have a label additionally
161:23 - we can also start editing some things
161:25 - and properties from this label obviously
161:27 - here it's called slot but I'm going to
161:29 - call slot. text equal to I my name is
161:35 - coding
161:36 - quests and if I hit play you will see a
161:39 - label on the top left that has that
161:42 - property so this is kind of the
161:44 - advantage to what we're going to be
161:45 - using we're going to essentially create
161:48 - some slots just control Z here and fill
161:51 - in our inventory slot now let's complete
161:54 - our inventory slot first because we'll
161:57 - kind of be confused on what we're doing
161:58 - in here and what we're filling in until
162:01 - I actually do this so in our inventory
162:03 - slot here we're going to start filling
162:05 - in some things now the first thing we'll
162:08 - need is an on uh sorry export variable
162:12 - called variable type and there's a
162:14 - reason we're going to export this I'll
162:15 - show you in just a second we're going to
162:17 - get the item data type so we'll export
162:20 - all the types of the uh item data right
162:23 - so now if I actually close this you will
162:26 - see here I can now pick what sort of
162:29 - item this is now the advantage of this
162:31 - specifically the reason we're exporting
162:33 - it is because now I can create equipment
162:36 - system using this same slot and we'll do
162:38 - that a little later so let's just go
162:39 - back to our script and we'll continue
162:41 - this next we need to initialize our um
162:46 - slot here to do that we'll say in it P
162:50 - item
162:51 - data. type we initialize the item data
162:56 - CMS and then Vector 2 this is the size
163:00 - that will actually have our uh oops this
163:04 - is going to return void so here we go we
163:06 - say void this is the size of our actual
163:09 - inventory panel slot here I can say type
163:12 - is equal to T and then I can say CMS or
163:16 - sorry custom
163:19 - minimum size is equal to DMS the custom
163:22 - minimum size right so this custom
163:25 - minimum size what this is is if I close
163:27 - this real quick is in my layout so if I
163:30 - add this to my grid you will see that my
163:32 - inventory slot disappeared and that is
163:35 - because even though well I guess
163:37 - technically now it's just 0 0 this I
163:39 - can't actually edit the size of my panel
163:43 - or my inventory panel here I can change
163:46 - the size of this to 64x 64 or 32 by 32
163:50 - whatever I want so here I need to make
163:53 - sure I change my minimum size all right
163:56 - let's uh make sure that we just have
163:58 - that outside for now let's head back to
164:01 - our script here all right next we're
164:03 - going to add a function called function
164:06 - and drop item data this is going to
164:10 - allow us to have a true or false it's
164:11 - going to return true or false and tell
164:14 - us whether or not we can uh drop data or
164:17 - not at a certain position now if we can
164:20 - right we're going to call another
164:21 - function called drop data and this is
164:24 - going to return void so here we can
164:26 - actually pass here I'll just return
164:28 - false for now so that way we get rid of
164:30 - that
164:31 - error next we're going to have a fun
164:34 - physics process function which we'll
164:35 - actually return to a little later but
164:37 - this is where I'm going to check for
164:42 - equipment and adjust stats this is
164:46 - something we'll do a little later but
164:48 - for now we'll just have it in so that
164:49 - way we remember that we're going to need
164:51 - it next we're going to add a GUI input
164:55 - now a GUI input is a function that
164:57 - allows us to detect some sort of input
165:01 - only within not only the script but only
165:04 - within this actual item so what do I
165:08 - mean by this well if here I actually
165:11 - print event and I hit
165:13 - play let's say if you tried this before
165:17 - right event should print like Mouse
165:19 - motion and stuff but the cool part about
165:21 - this is because this is a control node
165:23 - specifically right a panel container is
165:25 - part of the control node family here you
165:28 - can see it says control this I head back
165:31 - to my game
165:32 - here let me just play
165:36 - again will only print if my mouse is
165:38 - within this control so here you can see
165:42 - there's motion I can click and you will
165:44 - see the mouse button here we go and we
165:46 - can detect things only Within the
165:49 - specific uh script so this is going to
165:52 - allow us to check for a very specific
165:54 - thing within this specific slot okay all
165:58 - right so and this is where we're going
165:59 - to be using a lot of um using buttons
166:03 - and uh sorry using like our items and
166:05 - stuff like that so this specifically
166:06 - will actually be using our items okay
166:10 - let's get started with our handrop
166:13 - function so here we're returning false
166:15 - by default which is actually correct but
166:17 - well it's correct and not correct what
166:19 - we want to do here is we want to first
166:21 - check to see if the data is inventory
166:25 - slot uh sorry inventory item now
166:28 - inventory item is another class that
166:30 - we're going to need to make but let's
166:31 - actually make that before we continue so
166:34 - I don't eror here here I'm going to
166:36 - create a class name inventory item and
166:39 - this is going to
166:41 - extend let me extend just double check
166:45 - the texture rectangle
166:49 - texture rect so this is going to
166:51 - essentially represent uh our Sprite
166:53 - think of it as kind of a Sprite but this
166:55 - texture rectangle specifically is a uh
166:58 - control node uh sorry so texture wct you
167:02 - can see here that it inherits the
167:04 - control node properties so it's just to
167:07 - display a texture but it's also a
167:09 - control node so that's kind of why we're
167:11 - using it okay so let's pop this back out
167:14 - go back to our inventory slot and now we
167:16 - can continue this so here what else I
167:19 - need to do or check for is if the type
167:22 - is equal to the item data. type. main I
167:27 - want to check to see if this is our main
167:29 - inventory slot if it is we'll also check
167:32 - to see if the child count is zero and
167:35 - what this
167:37 - is this is to check to see if we have an
167:40 - item or not so what we're going to end
167:42 - up doing is when we drop the data or
167:45 - drop an item in an in a slot we're going
167:48 - to actually add a physical item into
167:50 - that slot so it's going to be an actual
167:52 - node that gets dropped into that filed
167:55 - so if I do that the child count will be
167:58 - one not zero if it is zero this means
168:01 - that I can return this means that there
168:03 - is space to return on the inventory slot
168:07 - otherwise I will return get child
168:11 - z. dat
168:13 - type equal to data do dat. type now the
168:19 - data is something that we'll have to
168:20 - adjust later so don't worry too much
168:23 - about understanding this because we
168:24 - haven't finished it just yet but next
168:27 - we'll create a if statement here or
168:29 - check an if statement we'll say if type
168:31 - is equal to data.
168:34 - getet
168:37 - parent do
168:41 - type there we go Ty if it is then we'll
168:46 - return
168:47 - true now lastly we'll say if else here
168:50 - and then we'll return false on the
168:52 - else okay so here I might have to make
168:55 - sure that this gets saved in order for
168:58 - this to actually work and I'm going to
169:01 - close my game here so I don't get an
169:03 - error so
169:05 - hopefully okay so we're missing some
169:07 - things okay so right here this is
169:09 - missing an else statement so over here
169:11 - we'll need an else statement here so
169:13 - here we'll return the data do dat. type
169:18 - equal equal to type so this is going to
169:20 - return a true or false depending on if
169:22 - this is true or not right okay so this
169:24 - is our can drop now if we can drop
169:27 - something I want to drop something to do
169:29 - that I will first check to see if the
169:31 - child count is bigger than
169:33 - zero if it is that means there's an item
169:36 - that we're currently dropping into this
169:38 - item or into this slot so what we'll say
169:40 - is variable item is equal to get
169:45 - child we'll get the item that is kind of
169:47 - in the slot right now now and then we'll
169:50 - say if item is equal to data we'll just
169:53 - return this basically means item this
169:56 - means that I'm trying to replace a slot
169:58 - with a with the same item so then I can
170:00 - just return I don't have to actually
170:01 - change anything next I can just item
170:05 - reparent data. get
170:08 - parent then outside of this if statement
170:11 - I will say data.
170:14 - reparent uh
170:16 - self here we'll reparent our self the
170:19 - item that is kind of currently in our
170:20 - hand into the uh inventory slot but if
170:23 - there is an inventory or if there's an
170:26 - item already in that slot will reparent
170:29 - the item there into the previous um slot
170:33 - that we were in okay so now this is kind
170:37 - of our general Logic for our inventory
170:39 - slot let's take a look at our inventory
170:41 - item as this is where some of the things
170:44 - actually happen for actual
170:46 - item all right next up in our inventory
170:49 - item we're going to start editing some
170:51 - things in here first we will export our
170:55 - data now this is the data that we've
170:56 - been talking about this entire time
170:58 - right this is where the data will be
171:00 - stored now the data that's storing or
171:03 - that's being stored is an item data
171:05 - resource now we can create a ready
171:07 - function and say if data we'll start to
171:11 - fill in some things that we need first
171:13 - we'll say expand mode is equal to
171:16 - texture Direct
171:19 - rect
171:21 - expand mode ignore size here we go we'll
171:26 - also say stretch
171:27 - mode is equal
171:30 - to uh okay there we go error is gone
171:33 - texture
171:35 - re do stretch
171:38 - mode aspect
171:40 - centered next we will say texture is
171:42 - equal to data. item
171:46 - texture next we'll fill in the tool tip
171:49 - the tool tip is a very cool thing it
171:52 - essentially allows us to cover an item
171:55 - and some text will appear so this is
171:57 - kind of where the description will
171:58 - become so here we can fill in a name
172:01 - we'll put in percent s we'll fill in
172:04 - that information in just a second we'll
172:07 - say new line percent s maybe I'll just
172:12 - copy this so it's a little easier to
172:14 - put new line and then we'll say stats
172:18 - actually no space there stats space new
172:21 - line or sorry uh contr s and then damage
172:26 - then
172:30 - defense and then maybe the health as
172:32 - well so now what we can do on this line
172:36 - we'll put our
172:38 - percent and then an array with the
172:41 - information we want to fill that
172:42 - information is going to be the item
172:45 - name the data Dot
172:48 - uh
172:49 - description and the data do uh item
172:53 - defense or damage and I'll just copy
172:57 - this so this one will be item
173:01 - defense and then this one is item Health
173:05 - hopefully that should be
173:07 - right okay so let's go to the new line
173:10 - all right so now what we can check for
173:12 - is if the item is
173:15 - stackable if it is stackable that means
173:17 - I want to create a count number right
173:19 - below to do this what we can do is
173:22 - create a new label to do that we
173:25 - actually already kind of went through an
173:26 - example I just create a new label like
173:29 - so next I can just start adjusting its
173:32 - uh properties the text I'll add is a
173:34 - string of the data.
173:37 - count the position of this I'm going to
173:40 - set it to be Vector 2 24 and 16 now this
173:45 - you can adjust to whatever you'd like
173:47 - later this is kind of something I found
173:49 - it works kind of good enough it's in a
173:51 - decent position next I'll just add child
173:54 - and then add the label okay so this is
173:57 - our ready function complete next I'm
173:59 - going to initialize our function here
174:01 - now make sure that when you initialize
174:04 - you do not have the underscore the
174:06 - underscore is a very is not very
174:08 - different but it is different than
174:10 - having this um here I'm going to
174:13 - initialize the item data and this is
174:17 - going to return void and we'll just say
174:19 - data is equal to
174:20 - D okay next we'll create a function
174:24 - called get uh drag data here we'll just
174:28 - pass for now and we'll create one more
174:30 - function called make drag review uh
174:35 - preview there we go preview um it's
174:37 - going to be at position and I'm actually
174:39 - just going to copy
174:41 - this but here I'm going to return a
174:44 - control node next in here uh we'll do
174:47 - this part first because this is the
174:49 - preview and then this is the get preview
174:51 - uh so here in the make preview I'm going
174:52 - to create two new nodes the First new
174:55 - node is to represent the actual image
174:58 - that I have so to do that I'll create a
175:00 - texture
175:01 - rectangle a
175:04 - new oops new like so we'll get the
175:07 - texture and we'll say texture is equal
175:09 - to self.
175:11 - texture we'll get the expand mode and
175:13 - I'm actually going to just copy this
175:16 - right here
175:19 - and then after that I will say t. custom
175:22 - minimum size is equal to self. size
175:26 - we'll say t. modulate a equal to 0.5 now
175:33 - if you're wondering what this is this is
175:34 - the modulation a so what that is is
175:38 - let's go to our inventory slot go to
175:40 - visibility modulate and if we look at
175:43 - the a this is kind of the invisibility
175:46 - tab the 05 would be in the middle and
175:48 - this just makes it slightly transparent
175:50 - so this will kind of give it that effect
175:52 - that I'm dragging my item okay next I
175:55 - want to say p. position is equal to
175:58 - Vector 2 minus F
176:02 - position next I want to create a control
176:05 - node because I'm supposed to return a
176:06 - control node here I'll create a
176:10 - control do
176:12 - new I'll say c.
176:16 - addchild I'm going to add that texture
176:18 - that I created and then return
176:20 - C now for the get preview I'll just say
176:23 - get uh set drag preview oops preview do
176:28 - the make drag preview which I just
176:31 - created and pass through the
176:33 - position then I will return
176:36 - self all right so this should be it this
176:38 - is my entire inventory item script next
176:42 - we will head back to our inventory Main
176:45 - and start filling in our inventory
176:47 - because we don't have any slots right
176:48 - now to test anything with and before we
176:51 - continue actually we now need to create
176:54 - a our Global script This Global script
176:57 - will create a new folder for it for
176:59 - Global if anything if we ever add
177:02 - anything Global it will be in here we'll
177:04 - add a new script in
177:06 - here new script we'll call this game now
177:10 - this the reason we're doing this is
177:11 - because we want to essentially globalize
177:14 - a lot of our things the one thing we're
177:16 - going to globalize first is is um player
177:20 - heal we're going to default this as an
177:23 - INT to let's say five we'll create a
177:26 - player health max this will be well five
177:30 - by default as well can't be bigger than
177:32 - or smaller than the player Health we'll
177:34 - create a right
177:36 - hand
177:38 - equipped for item data now this is kind
177:42 - of where we start to go into uh the
177:44 - reason we created the default resource
177:47 - so we also create a body
177:52 - equipped uh item
177:55 - data next we'll create a uh variable
177:58 - player damage this will keep track of
178:00 - how much damage we
178:03 - do to zero variable player
178:07 - defense as an in to zero and we'll say
178:11 - variable
178:14 - uh oh that's it for now uh next we'll
178:17 - actually load our items though globally
178:19 - so we'll also create an items tab here
178:23 - whoops going to be a dictionary not an
178:25 - array here I can actually say dictionary
178:29 - and then here I will say long sword and
178:32 - then I'll load or preload the long sword
178:36 - so here I should be able to
178:38 - say long sword okay maybe not if it
178:43 - doesn't pop up that's okay what we can
178:44 - do here is we'll close thisor Scripts
178:49 - and we now want to find that long sword
178:52 - I've created over here so now I will pop
178:56 - this into the new
179:00 - row we'll load in all our items that we
179:02 - have so we have a long sword we have an
179:05 - iron sword we also have a
179:08 - small
179:10 - potion okay here we'll just load in the
179:14 - small
179:16 - potion make sure that this is correct we
179:19 - go iron
179:21 - sword here we go we load in all these
179:24 - items okay uh we'll delete that there we
179:28 - go so now we have our items globally
179:31 - accessible now what we can do is
179:33 - actually one more thing we'll create is
179:35 - a gold variable here I'll just default
179:37 - this to 100 uh this will be for a little
179:40 - later but we'll just add it now for why
179:42 - not okay so now let's head back to our
179:44 - inventory main here and this is where
179:46 - I'm going to start adding my inventory
179:48 - items first I'm going to export a
179:50 - variable called inventory size and equal
179:54 - to
179:55 - 24 I'm going to on ready variable grid
179:59 - and I'm going to get a node grid this
180:02 - will just allow me to access the grid
180:04 - inventory a little faster now what I'm
180:06 - going to do here is I'm going to for I
180:09 - in range of our inventory size so I want
180:14 - to Loop 24 times every time I do I'm
180:17 - going to create a new slot now every
180:19 - time I create this new slot though I
180:21 - need to initialize it because if you
180:23 - remember we created an initialize
180:26 - function so in it and then we're going
180:28 - to pass through item data. type main
180:32 - we're going to initialize every single
180:35 - inventory uh to Main and then we're
180:38 - going to give it a size of 32x 32 then
180:42 - I'm going to get my grid and then add
180:44 - the child there now that's it so now if
180:48 - I hit play I should be able to just hit
180:52 - play and here is my inventory now this
180:55 - obviously isn't perfect because I need
180:58 - to now head back to my inventory grid
181:00 - here and go to columns and search either
181:03 - do four or six the four would give you a
181:06 - 4X six and six would give you well a 6x4
181:09 - right so it's up to you now let's play
181:11 - one more
181:12 - time and now here we go so I kind of
181:16 - think I'll do a 6x4 instead I think that
181:18 - might look a little nicer I'll kind of
181:20 - move this right
181:21 - here and now we can
181:25 - start um we can actually delete this guy
181:27 - I'll add it a little later but for now
181:30 - let's hit play one more
181:32 - time and now we have our items now the
181:35 - issue is we need to now add items so to
181:37 - add an item we'll create a new function
181:40 - called add item this will pass through
181:43 - the item name as a string and will
181:46 - return void
181:48 - so what to to do what we need to do
181:51 - sorry is create a new inventory item we
181:55 - say inventory item. new we initialize
181:58 - this item so we'll in it we'll say
182:01 - initialize with the game. items items
182:05 - that we just globalized we'll call in
182:07 - the item
182:09 - name okay so the game is not Global
182:12 - because I haven't globalized it let's
182:14 - head to our project settings go to
182:17 - autoload and we need to autoload our
182:20 - script so let's add it and this has
182:23 - enabled our Global variable you can even
182:25 - see global variable and if we close this
182:27 - head back to our script this will now be
182:30 - globalized all right so sometimes you
182:33 - still have an error but that's okay
182:35 - it'll go away eventually now what we can
182:37 - do there you go see it's gone away
182:39 - already so now what we can do is check
182:40 - to see if the item is stackable the
182:43 - reason is because if this item is
182:45 - stackable there's something else we need
182:46 - to do now if it's not stackable the
182:49 - answer is actually quite easy all we
182:51 - need to do is for I in the inventory
182:54 - size and you can probably guess why
182:56 - we're doing this we need to find an
182:58 - empty slot If an item is not stackable
183:01 - like a sword and I want to put it in my
183:04 - inventory well I need to find an empty
183:06 - inventory slot to put it in so this is
183:08 - actually quite easy all I'll do is for
183:10 - Loop through the inventory and then I'll
183:12 - check to see if the grid. getchild child
183:16 - I and get child count of that child is
183:20 - equal to zero if it is that means the
183:23 - inventory uh or that slot specifically
183:25 - is empty so what I can do is say grid.
183:28 - getchild I do addchild item now if I do
183:34 - find it I will just break and no longer
183:36 - need to continue looping through my
183:38 - inventory now here it's a little more
183:41 - complicated because now I need to find
183:43 - if the item is stackable I need to First
183:45 - find if I have this item or not so
183:48 - similarly I will for Loop through the
183:50 - inventory first then I will check to see
183:54 - I'll just copy this right here I'll
183:56 - check to see another way we can do this
183:58 - is to see if it's greater than zero that
184:00 - means there is an inventory uh in that
184:02 - slot so if there is an item right or if
184:05 - the child count is greater than zero
184:07 - that means there is an item in that said
184:08 - slot now if there is an item well you
184:11 - can probably guess what I want to do is
184:13 - now uh see if that item is equal to the
184:18 - item I'm trying to add so here what I
184:20 - can do is check to see if the
184:26 - grid. get child
184:30 - i. getet
184:32 - child
184:34 - zero this is the uh data and we'll check
184:39 - to see if the item. DAT is equal to that
184:42 - we'll see if the data is equal to the
184:44 - item data meaning it's just the same
184:47 - item right
184:48 - now if it is then that means we found
184:51 - our item in our inventory so what we'll
184:53 - do is we'll update the
184:55 - counter then we'll
184:57 - update oops update the label counter now
185:02 - at this point this is where I don't
185:05 - actually need to add child this is I
185:06 - just need to do this I just need to
185:09 - update the counter and update the label
185:11 - so to do this I will just get grid here
185:13 - I'll just get all this copy this and
185:16 - then dot data and then count plus equals
185:20 - 1 next I can copy paste it again but
185:23 - instead of child I'll get child one more
185:25 - time because this is my label so now I
185:28 - have access to my label I'll edit the
185:30 - text now I can just make it equal to uh
185:34 - the item I'll copy this part right
185:36 - here I'll get the string of this I'll
185:40 - copy the count into the text now once I
185:44 - do that what I'll do is I'll go to the
185:46 - next line here
185:48 - I will just break if I this means I have
185:51 - found our item and I've just added it
185:53 - now what I can do here is add an lse
185:55 - statement and I will add the item if I
185:59 - can't find it if I can't find the item I
186:01 - will simply add the item right that
186:04 - means I don't have it and then here I
186:06 - can break
186:07 - again okay so now that we've created our
186:11 - ad item function we can just add an item
186:15 - and then we can say long sword
186:18 - we can add an
186:20 - item small
186:22 - potion now do make sure that the name
186:25 - here has to be the same as this so here
186:29 - it has to be capital S maybe I'll just
186:32 - make sure that these are all the
186:34 - same small potion Etc we'll hit close
186:37 - we'll hit
186:40 - play and now you can see I've added my
186:43 - items and I should be able to drag and
186:45 - drop them okay cool so this is very neat
186:48 - now the question is what if I want to
186:50 - use this item specifically the misk item
186:52 - what if I want to right click and use
186:54 - this and obviously okay you can also see
186:57 - here when I hover it you see the
186:58 - description which is very cool so okay
187:01 - now let's head into
187:03 - our um inventory slot I believe yeah so
187:07 - this is where we will actually be
187:09 - checking for equipment we'll be also be
187:12 - able to use the equipment let's take a
187:15 - look at how we'll do
187:16 - that all right so back in our inventory
187:18 - slot here what we're going to do is
187:20 - we're going to do our gii input first so
187:22 - this is to use a misk item so to do this
187:25 - we'll check the event first we want to
187:27 - check to see if the event is an input
187:30 - event Mouse button if we're clicking and
187:34 - I now want to check what sort of
187:36 - clicking we're doing well what I can do
187:38 - here is I can check to see the button
187:40 - Index this is to check if I'm clicking
187:42 - left or right clicking or middle click
187:45 - technically but here I'm going to check
187:47 - for right click specifically now if you
187:49 - want left click I believe it's zero if
187:52 - you want middle click I think it's one
187:53 - but don't putote me on that I might be
187:55 - wrong uh here we can say event and event
187:59 - button
188:01 - mask is equal to zero this button mask
188:05 - will check to see if I'm clicking up or
188:06 - down this will be like it's kind of like
188:09 - a release or press down right so here
188:11 - this is uh release so now if I am left
188:14 - right clicking and I'm releasing my
188:16 - button then I will say get child count
188:21 - greater than zero
188:23 - oops greater than
188:25 - Z then that means there's an item in
188:28 - that slot that I'm clicking in if the
188:30 - get
188:32 - child get filed
188:35 - zero is data. type is an item data.
188:44 - type. MK that means it's a miscellaneous
188:47 - item and I want to use it so to use it
188:49 - what I'll do is I'll say game dot
188:53 - heal
188:56 - player so this is a functional call with
188:59 - the uh game dot or sorry not game dot
189:02 - we'll get the child hero do
189:07 - data. item help here I'm going to use
189:11 - the item Health to heal myself now this
189:14 - function I need to create otherwise I'll
189:16 - airor so let's go to game
189:18 - and create this
189:19 - function and for now we'll just pass and
189:23 - here I need to pass through uh Health
189:25 - this will be an INT we'll pass through
189:27 - at health and we'll return void I
189:29 - believe the
189:31 - moment okay so now that we have that
189:32 - function hopefully we don't error next
189:35 - we will get child zero we want to update
189:38 - the count so to do this we say data.
189:40 - count minus equals 1 because we're using
189:43 - one right next I want to update the
189:45 - counter the label to do that we can say
189:48 - get child. get child Z again text is
189:52 - equal to the new data I'll just copy
189:56 - paste this string of that
190:00 - data and then after that I want to check
190:03 - to see if this data count is less than
190:05 - or equal to zero if it is that means I
190:08 - mean I'm out of items right so now oop
190:12 - now I want to get
190:13 - child
190:15 - dot do free because this means that the
190:18 - item I'm using is all used up right get
190:21 - child zero there we go there we go this
190:23 - is our usable item so in fact we can
190:26 - actually test this out by hitting
190:28 - play and here we should be able to right
190:32 - click and use our item now of course
190:34 - nothing happens because we haven't used
190:36 - or implemented our deal functionality
190:39 - yet but we'll do that a little later
190:41 - okay next for the equipment what we'll
190:44 - do is actually not too hard here what
190:46 - we'll say is if get child count get
190:51 - Childs child count is greater than zero
190:55 - that means we have an item in this slot
190:57 - if we do we'll get the item we'll just
191:00 - assign it a variable by saying get child
191:03 - zero we will match the type right so the
191:06 - type in this slot itself to the item
191:10 - that is equipped we'll match the type
191:12 - the item that's equipped so we'll say
191:14 - item data. type
191:18 - weapon
191:20 - weapon here we go if it is a weapon then
191:23 - what I want to do is I want to fill in
191:26 - the game. right hand equipped with the
191:29 - item. DAT this will whoops dat there we
191:33 - go so this will fill in my game right
191:35 - hand with the item that is equipped so
191:38 - essentially if I have this item or if
191:41 - this inventory slot is a equipment item
191:44 - right or an equipment slot and I have
191:46 - this certain type of data inside of it
191:49 - then I'm going to fill in my right hand
191:51 - equipped with this data now
191:54 - alternatively we might have uh now this
191:56 - is kind of up to you so you can start
191:58 - implementing the body the right hand
192:00 - left hand Etc I'm only going to do the
192:02 - weapon and the body um so here in the
192:06 - body. equipped I will say body equipped
192:09 - item data now
192:12 - otherwise so this is almost like saying
192:15 - else if it's else what I'm going to do
192:17 - here is I'm going to load in the AUD
192:20 - equipped and the right hand data with
192:24 - the default stats so this is going to be
192:26 - my default stats here I have default
192:31 - SW so this one should actually be on the
192:33 - next one s right let's load this for our
192:36 - right
192:37 - hand and then this one I'm going to load
192:39 - in the
192:42 - default armor so here we now have our
192:46 - default armor and our default sword
192:48 - being equipped if I don't have this
192:50 - equipped or this equipped and this will
192:52 - work for each slot
192:54 - independently so now if I close this we
192:57 - now need to set up our inventory
192:59 - equipment stuff so let's take a look at
193:01 - how we can do that it's actually not too
193:02 - hard all I need to do is search up
193:04 - inventory slot add my inventory slot
193:06 - here and now I need to just assign each
193:09 - one of these what I can do here is I can
193:13 - zoom in here a little bit I can
193:14 - duplicate this a few times and now now I
193:17 - can rename this to what I need so first
193:19 - I'll rename one to right
193:21 - hand I'll rename this to body I'll
193:25 - rename this to
193:27 - head I'll rename this to
193:30 - legs and this to feet and this one we
193:34 - won't need so I'll delete that now I can
193:36 - start moving everything around as I want
193:39 - it this is my head this is my right hand
193:42 - so I'll put that over here these are my
193:44 - legs so I'll put that right there this
193:47 - is my body so I'll put that there my
193:50 - head and this is my right hand but
193:52 - here's my kind of equipment system now
193:55 - if I hit
193:57 - play uh actually sorry before we do that
194:00 - let's just close one more time and now
194:02 - we need to make sure that the type is
194:03 - all correct so here this is a weapon so
194:05 - that's correct the body type I need to
194:07 - select body the head I need to select uh
194:11 - head here we go the legs I need to
194:14 - select legs and feet I need to select
194:16 - feet
194:17 - all right so now if I hit play I should
194:20 - be able to go into my inventory and drag
194:23 - this into my weapon system but not my
194:25 - body or head now if I drop this in you
194:28 - will see in my remote section in my game
194:31 - you will now see the right hand is
194:33 - equipped with the long sword. tress
194:36 - however if I head back to my game and
194:39 - unequip this you will see a returns to
194:41 - the default sword so that is our
194:43 - equipment system our equipment system
194:46 - now essentially works
194:47 - and inside of this we have all these
194:49 - stats that I might need
194:52 - okay now in the next part we'll take a
194:54 - look at how we can continue our gii
194:57 - system because here I don't believe
194:59 - we're completely finished so we'll kind
195:00 - of continue our whole gii system all
195:03 - right next we're going to start filling
195:05 - in our profile because right now if I
195:07 - hit play and I head into my system here
195:12 - go to profile nothing's here and I go
195:14 - back to inventory here's my inventory
195:16 - equip stuff but I want to be able to see
195:18 - my stats now okay what we'll do is we
195:21 - will create our profile by right
195:24 - clicking our profile Save branch as seen
195:27 - and we can save it in our VII group save
195:32 - we'll head into our profile here I will
195:34 - add a script I'll save the script in my
195:37 - scripts folder player GUI open create I
195:43 - will uh now we want to add some things
195:46 - in this to
195:47 - all I'm going to do is add a label now
195:49 - this label I'm just going to test some
195:53 - things this is a test text yeah and now
195:58 - I can just dag this out and I want to
196:02 - just put this where it would be in my
196:04 - profile here if I actually hit uh
196:07 - save I'm going to close my inventory go
196:10 - to my gu so this is where the text will
196:12 - show here I'm going to Center the text
196:16 - and I'll just kind of drag it where I
196:18 - would want it to be in my GUI and there
196:21 - we go of course alternatively you could
196:23 - just use this profile and move this
196:26 - around uh but I'm just going to do it in
196:28 - my profile it's really up to you now
196:30 - here I'm going to rename this to Stats
196:32 - label and into my script here and now
196:35 - I'm going to pop this out and we're
196:39 - going to create a process function now
196:41 - I'm just going to say this uh even
196:42 - though I probably shouldn't this is not
196:44 - good practice to do you don't want to
196:46 - just add everything into a process
196:47 - function you would ideally want to
196:50 - update the text every time you hit
196:52 - Escape so ideally you would have a
196:55 - function instead that updates the text
196:57 - and then you would call it through here
196:59 - whenever you hit play so um this is not
197:03 - good practice but I'm just going to do
197:04 - it anyways because it's quick and easy
197:07 - what we'll do is we'll say get node
197:10 - stats label we'll edit the text equal
197:15 - to a string
197:17 - uh not Delta we'll hit uh enter we'll
197:20 - say player
197:22 - healths player health is space I will
197:26 - put in uh percent s and now I'm going to
197:30 - hit enter copy this and paste it a few
197:32 - times this I'm going to remove or
197:35 - replace with attack this is going to be
197:38 - defense this is going to be level and
197:41 - this is going to be
197:42 - XP now these obviously don't exist yet
197:45 - or some of these don't so let's head
197:46 - back to our game script here and let's
197:49 - start adding in some of the things that
197:50 - we'll need eventually so here I'm going
197:52 - to create a variable called current XP
197:56 - this will be an
197:58 - integer equal to zero next I'm going to
198:02 - have a variable XP to Next Level as an
198:07 - INT be equal to 100 by default we'll
198:10 - have our player level as an INT equal to
198:14 - one by default now lastly we have
198:17 - another thing called shopping this will
198:18 - be a Boolean that we'll use a little
198:20 - later so don't worry too much about this
198:23 - when we add our shop we'll you'll see
198:25 - why we need this okay let's head back to
198:27 - our profile and now I need to fill in
198:29 - the information so let's uh hit percent
198:33 - array and now we want to fill in the
198:36 - game. player
198:40 - L we want to add our game uh do
198:45 - player damage
198:47 - right for the attack we want the game.
198:51 - player
198:53 - defense and we want the game. player uh
199:00 - level then came do
199:03 - current
199:06 - XP and then game
199:08 - dot XP to Next Level now back over here
199:16 - we're actually going to have to add a
199:19 - flash percent so this will just show us
199:22 - how much xp we need to get to the next
199:24 - level let's hit close and see if this
199:26 - works so let's hit
199:28 - play and immediately should air if we
199:31 - don't okay so cool it works here we go
199:34 - now we can go in and out now if I equip
199:36 - something you will not see anything
199:38 - happen and the reason is because we
199:40 - don't actually update the player damage
199:44 - uh depending on where we need it to be
199:46 - so the player damage think of the player
199:48 - damage and all that stuff as the total
199:52 - player damage now we want to have a
199:55 - total that we add to it um with our
199:58 - stats so let's take a look at how we can
200:00 - do
200:01 - that right so in our script here we're
200:03 - going to head over to our game script
200:05 - and pop this out and at the very bottom
200:08 - we're going to actually in between this
200:10 - we'll create a function process and in
200:13 - here what I'm going to do is I'm going
200:15 - to say player damage is equal to right
200:18 - hand equipped do item damage and this is
200:22 - now where you would add other things so
200:25 - for example I can add the body equipped
200:30 - do item damage obviously my body equi
200:34 - doesn't have damage but we'll change it
200:35 - in just a second to test this
200:37 - out now here I can change the item
200:41 - defense similarly but the item defense
200:44 - here I'm going to take item defense
200:48 - very same thing for the body equipped
200:50 - and now this will essentially give me a
200:52 - total of well all my player damage and
200:55 - all my player defense let's take a look
200:57 - at how this might work let's go to my
200:59 - iron well I should probably add a body
201:02 - so let's say iron
201:05 - body let's go into this iron body here
201:08 - change this to iron body we will scroll
201:12 - up find some
201:15 - armor uh we'll go over here here we go
201:18 - we'll change the type to body we'll
201:20 - change the defense to five as well and
201:24 - this is an iron body armor I'm going to
201:28 - need to load this in my game script so
201:30 - over here I will Control Paste body uh
201:35 - iron
201:37 - armor and then I need to load the body
201:42 - iron body there we go all right so
201:45 - that's our added now let's add this in
201:48 - my main uh slot here here I'm just going
201:50 - to add it so uh I'll
201:55 - say iron body we'll add this item we'll
201:59 - hit
202:00 - play and now when I hit Escape okay so
202:04 - here we have an error because iron body
202:06 - doesn't exist so here I said iron armor
202:10 - so let say iron body play one more
202:14 - time here if I uh sorry go to here pop
202:19 - this in pop this in and if we can go to
202:21 - profile and we can see the t is two
202:26 - which is doesn't seem right so let's go
202:28 - to over here okay so here we can see
202:31 - that the long sword is equipped and the
202:33 - iron body is equipped so that's correct
202:35 - now here if we go into this it says item
202:37 - defense five and here we have zero we
202:40 - should have a total of five so this is
202:43 - not being updated which is weird now now
202:47 - we also have the player Health which is
202:49 - correct the attack should
202:53 - be okay so the attack should be 3 + 5 so
202:58 - it should be eight but it's two let's
203:00 - take a look at why this is not
203:03 - working here we have player damage is
203:06 - equal to right hand equipped do item
203:10 - damage this doesn't seem to be working
203:13 - so okay I see the problem the problem is
203:17 - the this script is not being updated so
203:19 - actually if I hit escape and then try it
203:22 - again you'll see that it works but what
203:24 - was happening is the script the game
203:26 - script is being paused because I'm in
203:28 - pausing my screen so what I want to do
203:30 - is on function ready I'm going to say
203:33 - self. process mode is equal to mode
203:37 - process always okay this will allow my
203:41 - script to always run even when my game
203:43 - is paused so now when I hit play now it
203:46 - should work properly so hit play pop
203:49 - this in and you can see the stats being
203:52 - changed okay now um what we want to do
203:55 - now is before we kind of head to the
203:57 - next part is I want to fix our GUI so
204:00 - let's go into our GUI here and in the
204:03 - ready function I want to hide a few
204:05 - things so first I'm going to get
204:08 - node um I'm going to say get node
204:12 - profile here we go this guy and I'll
204:15 - hide this
204:16 - by default so by default I will have the
204:19 - Prof uh the inventory selected so to do
204:23 - that as well I will also disable
204:26 - the uh inventory button by default so
204:29 - this kind of gives it that effect that
204:31 - I'm by default looking into my uh
204:34 - inventory slot okay so now what we can
204:37 - do is we'll also get
204:41 - node um we will get the HP bar and we'll
204:46 - say. max value is equal to game. layer
204:52 - Max Health now we'll also start
204:55 - implementing the health in just a minute
204:57 - but this will just allow us to fill in
204:59 - the HP bar okay so let's hit play to
205:02 - double check this
205:04 - works all right there we go we can see
205:06 - our inventory slot is selected I can
205:08 - unselect or whatever and there we go now
205:11 - everything works pretty nicely all right
205:15 - okay next we want want to start doing a
205:17 - bit of weird stuff because we want to
205:19 - implement the health and stuff but we
205:21 - also want to start Implement damage now
205:24 - let's close our GUI close our profile
205:27 - now we'll head back to our player in our
205:30 - script here and if you
205:32 - recall in our uh hit thing we here we
205:37 - we're doing two but now I want to say
205:39 - game do player damage now this will do
205:42 - the amount of damage I should be doing
205:45 - now at the very top
205:46 - we can delete the health at the very
205:49 - bottom we can now go over here and
205:51 - change this to game. player Health now
205:56 - here's the thing though is I want to now
205:58 - also apply the defense that I you know
206:01 - added right so how do I do that well
206:04 - it's kind of up to you in this sense
206:06 - that you can kind of create your own
206:09 - calculations whether or not you want to
206:11 - uh have like some weird calculations I'm
206:13 - going to do a very flat damage what I'm
206:16 - going to do here is I'm going to say or
206:17 - check to see um I'm going to create a
206:21 - damage uh done this is going to be equal
206:24 - to damage minus the game.
206:29 - player defense and then I'm going to
206:32 - check to see if Damage Done is greater
206:36 - than zero then this is where I will
206:38 - actually do damage okay now uh here the
206:44 - Damage Done though will be reduced here
206:47 - this is the amount of damage I will do
206:48 - to my health only if it's greater than
206:51 - zero uh now here I want to check to see
206:54 - if it's less than or equal to zero if it
206:57 - is then we die just the same way we just
207:00 - did now I'm only going to get hit though
207:02 - if this goes off so here I can say just
207:05 - hit is equal to
207:07 - True okay now that is pretty much it um
207:11 - here is our damage done now what else do
207:13 - we want to do we also want to
207:16 - uh Implement our health system our
207:19 - health system player to do this we're
207:21 - going to create a custom signal now
207:24 - custom signals are pretty cool let me
207:26 - show you an example first before we head
207:27 - into this so if I create a new node here
207:30 - create a random node it doesn't really
207:32 - matter I'll make a buil-in script and
207:35 - I'm going to create before I do that
207:37 - actually let me show you the signals so
207:40 - here on the top right in the node
207:42 - section I select the node you will see a
207:45 - bunch of signals now the question is
207:47 - what if I want my own signal not too
207:50 - hard I can create a signal called custom
207:53 - signal it's save uh I don't have to save
207:57 - the scene because now we see it here
207:59 - custom signal and this is how we create
208:01 - a custom signal now if I want to pass
208:03 - through some sort of
208:05 - variable you can now see that it says
208:08 - damage variant of course I can uh
208:10 - initialize it to an INT and there we go
208:13 - now the damage is an INT so this is how
208:15 - I create a custom signal let me close
208:17 - this going to discard it that was just
208:20 - an example now in my game script I'm
208:22 - going to create a global variable called
208:25 - Health
208:27 - changed this is going to pass through a
208:29 - damage variable I'm going to have one
208:31 - more for later called level up and this
208:35 - is going to be a level up signal now in
208:37 - order to make these work we're going to
208:39 - go to the bottom we're going to in our
208:41 - heal player I'm going to say self. emit
208:45 - signal
208:47 - Health
208:48 - changed when I emit the signal I'm going
208:51 - to pass through the negative
208:54 - amount the reason is because this is to
208:57 - heal the player now I'm going to have
208:59 - another
209:00 - function um let me actually let's finish
209:02 - this one first first and then we'll do
209:04 - the other one here what I'll say is
209:06 - player Health Plus equals okay so here I
209:11 - actually need to change this to amount
209:13 - there player Health Plus equal amount
209:16 - and then I'll check to see if the player
209:18 - health is greater than the player max
209:23 - Health if it is I want to set the player
209:27 - Health to the max the reason we do this
209:30 - is well because I don't want to overheal
209:33 - right unless that is something you want
209:34 - to do but now what I'll do is I'm going
209:36 - to copy paste this function and rename
209:38 - this one to damage player and this will
209:42 - say will emit the signal damage changed
209:44 - here we'll do the same thing the amount
209:46 - now here I'm going to remove this
209:48 - because here I'm going to be subtracting
209:51 - damage okay so these are our functions
209:53 - that we want to add now the question is
209:56 - well what about the Damage Done or
209:59 - damage player sorry well uh in our
210:03 - player script we can go
210:06 - to player
210:09 - and we want to uh damage the
210:13 - player if uh
210:17 - here we go in the hit
210:20 - function here we go so instead of Damage
210:24 - Done Right here where we subtract the
210:26 - Damage Done Now I can just all the
210:29 - function that I just created called
210:31 - damage ler
210:34 - damage layer and pass through damage
210:37 - done now the reason we're doing all this
210:39 - by the way is specifically for our GUI
210:42 - so let's open our GUI one more time
210:44 - let's open this guy up and now this is
210:47 - where I want to uh create a new function
210:50 - on the bottom called on
210:54 - node Health
210:57 - changed we're going to pass through a
210:59 - damage as a
211:02 - int pass through an INT and this is
211:05 - going to be a function where we tween
211:07 - the HP bar so we're going to Tween so TW
211:11 - we need to create a tween we will twe
211:14 - Dot
211:16 - uh between
211:20 - property okay so there we go uh the
211:23 - thing that we're going to TW is going to
211:24 - be the HP bar which we don't have so
211:27 - let's actually on ready variable this at
211:29 - the top we'll say on ready variable HP
211:35 - bar is equal to get node now I can call
211:39 - the HP bar here and at the bottom we can
211:43 - call the HP bar we can twe the value
211:47 - the value I'll set it to HP bar do value
211:52 - minus the damage done and we'll do this
211:55 - over a period of2
211:57 - seconds okay now what we want to do is
212:01 - at the very top we want to connect the
212:03 - signal to do this we will say variable
212:06 - game node is equal to get
212:11 - node game. get path this will get us the
212:16 - to the game script globally now we have
212:19 - access to the game as a variable now
212:22 - what we'll do the reason we do this is
212:24 - because now I want to say game. node do
212:27 - elf
212:28 - changed dot
212:32 - connect to
212:34 - callable and here we'll say
212:38 - self then we will copy this new thing
212:41 - that we just created and pass it as a
212:44 - string and this will pass through the
212:46 - signal every time I change my health
212:49 - every time this signal is uh shot at
212:53 - basically through the game we will
212:54 - connect it here and we'll pick it up
212:57 - we'll pick up that signal through this
212:58 - script and then every time I lose damage
213:01 - or gain health or whatever it will
213:03 - change my HP bar now here when I hit
213:08 - play I should be able to take damage now
213:12 - and it doesn't seem to be updated so
213:14 - let's take a look at What's happen
213:15 - happening let's go to my inspector
213:19 - here player health is one so it should
213:22 - have changed so something is going
213:25 - on something not good is going on so
213:27 - let's take a look the damage player is
213:29 - not
213:31 - working so let's take a look at if I'm
213:35 - actually damaging the player here what
213:38 - we can do to kind of debug this in a
213:40 - sense I
213:42 - will well here actually I should be
213:44 - adding the amount Maybe that's why so
213:46 - here let's try one more
213:49 - time okay there we go so now it should
213:52 - be working functionally all right there
213:54 - we go and we lost all our health game
213:56 - over and there we go so now actually
213:59 - let's try the health uh potion as well
214:01 - so let me just lose
214:03 - damage okay so I lost some health let me
214:06 - right click and you can see here that I
214:08 - added some health now it was pretty
214:10 - immediate so let's take a look as to why
214:12 - that is here heal player their
214:17 - amount amount
214:22 - negative okay uh it should be working um
214:25 - but one thing we're going to add here is
214:28 - a background for our image because this
214:30 - looks nice but we want to make it a
214:32 - little better now the reason I didn't
214:34 - add a image for this before for from our
214:38 - texture is let's find our UI big piece
214:41 - here drag this in and I'm going to go to
214:43 - region enable and edit region and now I
214:47 - can select the health bar that I want
214:50 - and I will select this
214:52 - one this is the health bar I'm going to
214:55 - select close and now I can move this in
214:58 - put this behind my HP bar and just drag
215:02 - it to be a little bigger let me fill
215:05 - this in 100 so I know how much it should
215:07 - have here I can just start dragging this
215:10 - guy to be a little bigger like so and
215:14 - then I can turn off the grid snap if I
215:17 - need and now here I can just drag this
215:19 - in to fit the HP bar like
215:24 - so I'll just drag it in like this maybe
215:28 - all the way right
215:30 - there
215:32 - and right there I believe okay so there
215:35 - we go there's our HQ bar it's not
215:36 - perfect but should now look a little
215:39 - nicer visually now if we hit play I lose
215:43 - some health now it actually looks like I
215:45 - lost some health
215:46 - and if I right click okay so it does
215:48 - animate it was just really quick there
215:50 - we
215:51 - go okay so there there's our system
215:54 - there's quite a bit and it looks quite
215:56 - nice so let's take a look at what we're
215:58 - going to do
215:59 - next right next now that we have a nice
216:02 - system here and everything is working
216:04 - relatively well we're now going to
216:06 - implement a way to drop items from our
216:09 - monster right now I can walk up to him
216:13 - kill him uh hopefully without
216:17 - dying well I died kind of tried to bug
216:20 - out the game there uh let's actually
216:22 - equip some stuff see if I can kill
216:25 - him okay there we go one shot him but he
216:28 - doesn't drop anything so we want to make
216:30 - a way so that he drops stuff and I can
216:32 - pick it up or whatever now of course you
216:34 - could just have the monster die and then
216:37 - drop them right away but I want a more
216:40 - visual effect so let's create an area 3D
216:43 - as our base here now what I'm going to
216:45 - do is I'm going to search up some items
216:47 - now the first one I'm going to have is a
216:49 - sword let's find a sword and here in the
216:52 - K kit we can find some swords now it's
216:54 - kind of up to you um you can use the
216:56 - two-handed you can use this um whatever
216:59 - you'd like I'm going to put put this guy
217:01 - in then there's also a body armor now to
217:05 - get the armor don't think we actually
217:07 - have it so we what we'll have to do is
217:10 - we're going to cheat a little bit and
217:12 - we're going to find the
217:16 - Knight drag him in we're going to make
217:18 - it local and then we're going to steal
217:20 - his
217:22 - uht body armor there we go he Knight
217:25 - body going to steal this
217:27 - guy all right so let's make this local
217:30 - as well we'll drag this
217:32 - in and we'll rename this to sword rename
217:36 - this to body and one more item we'll
217:38 - have is a beer we search a beer a beer
217:46 - other one was
217:48 - called don't remember what was called
217:50 - but let's go into the fbx here and we
217:52 - can probably just find it oh mug here we
217:54 - go so mug full we'll make this
217:58 - local and I'll rename this to potion
218:00 - I'll use this as the potion obviously I
218:02 - don't have a mesh of a a potion but this
218:05 - is going to work fine now I'm going to
218:08 - reset everything to
218:10 - 00 here we go set everything to Z
218:15 - now the ocean I'm just going to move it
218:17 - up a little bit that way it doesn't go
218:19 - into the floor now I'm going to add a
218:22 - new uh thing here called Collision shape
218:25 - 3D this is going to be the Collision
218:28 - that I use to pick up our item I'll make
218:31 - this little higher here I'll rename this
218:33 - to
218:35 - item object I'll save this into my
218:38 - scenes I'll save this into
218:41 - my maybe I'll make a new object here or
218:44 - actually I'll just save it right here
218:45 - here as we're going to have this be
218:46 - slightly Dynamic now we'll add a new
218:49 - script We'll add this as non-b built-in
218:52 - script or script folder uh player UI
218:56 - inventory We'll add it here create I
218:59 - will delete this code and I'm just going
219:01 - to connect our body enters uh node here
219:05 - I'll pop this out now what I want to do
219:08 - is a few things first let's do the
219:11 - pickup the pickup is not too hard all I
219:14 - need to do is check to see if it's in
219:16 - the group Player right because hopefully
219:19 - it's oops a player that's picking up
219:21 - this item not a monster now what we'll
219:24 - do here is I'm going to match RNG now
219:27 - the reason we're doing this is because
219:28 - I'm going to randomize the item so I'm
219:30 - going to create a new variable called
219:32 - RNG outside of this if it's zero what
219:35 - I'll do I'll get node and I want to add
219:39 - the
219:41 - item uh long sword
219:43 - probably so what we'll do is we need to
219:46 - get access to our monster or to our
219:49 - inventory now to do this we need to
219:52 - First figure out how am I going to do
219:54 - this pathing so I'm going to close this
219:56 - go to level one and I'm going to create
219:58 - a few new nodes here node 3DS I'm going
220:01 - to duplicate this a few times I'm going
220:03 - to rename this to
220:05 - monsters
220:07 - monsters going to rename this one to
220:10 - code
220:12 - projectiles going to rename this one to
220:18 - objects and this one to items so the
220:21 - objects will be things like torches and
220:24 - kind of environmental things now the
220:27 - items is where I'm going to add my item
220:29 - so what I'll do here I'm going to add my
220:32 - item object into my scene make sure it's
220:35 - a child of this make sure I save this so
220:37 - I can see the script here now I will
220:40 - drag in my GUI this will give me the
220:42 - path to my GUI I can copy paste is here
220:46 - but now we're not done because now what
220:48 - we need to do is get the path of the
220:50 - inventory right so back to my item
220:52 - object I need to say slash container
220:56 - slash inventory and now I have access to
220:59 - my inventory script which in here I have
221:02 - the add item now just remember in order
221:04 - to add an item I need to make sure that
221:06 - the name is the right name in here I can
221:09 - say long sword but it has to be the same
221:12 - one okay now we'll head back to the
221:16 - script and what we'll do is we'll match
221:19 - uh the other numbers so here this
221:21 - actually has to be on the next line
221:23 - we'll do one uh we'll copy paste
221:26 - this one more time two copy paste and
221:31 - then outside of this I'm going to say
221:33 - self.
221:35 - hiide actually sorry I'm going to say
221:38 - self. VI three for now there we go so no
221:43 - matter what I pick up obviously I should
221:45 - self. Q free outside of the match
221:47 - function sorry now here I'm going to
221:49 - change these so one will be the small
221:55 - potion small
221:59 - potion the third one we can make it the
222:03 - the iron body copy paste that iron body
222:08 - and now what I want to do is I want to
222:10 - make my RNG work though so to do this I
222:13 - will make sure this is an INT I will say
222:15 - ready
222:17 - function uh what we'll do is we will say
222:19 - RNG is equal to Randy range from 0 to2
222:24 - we'll get
222:25 - node ocean
222:28 - oops do
222:30 - hiide we get node
222:33 - sword do hiide we're just hiding all the
222:37 - uh meshes right now the body do hiide
222:42 - then what I'm going to do is I'm going
222:43 - to uh match
222:45 - the
222:46 - RNG just like I did before I'll match
222:50 - zero so zero should be the sword so I'll
222:52 - get the sword and show
222:55 - it if it's one that should be the small
222:58 - potion so I'll get the small potion I'll
223:00 - hide this or sorry I'll show this if
223:03 - it's two that means it's the body it is
223:06 - the body I'll show the body and that
223:09 - should be it now this is pretty much
223:13 - General uh our general object now one
223:16 - thing I want to do is I want to kind of
223:18 - create a floating effect with our object
223:22 - so to do this what I'll do is or not a
223:24 - floating effect sorry a randomized
223:27 - spawning position so to do this I'll
223:29 - create a tween that's not a twe create
223:33 - TW I'll say variable
223:36 - RNG position this is going to be a
223:39 - vector 3 we're going to
223:41 - randomize the X range from1 to
223:46 - one we're going to randomize the Z we're
223:50 - going to say Randy range from one to one
223:54 - and the Y needs to be one so by default
223:57 - the Y needs to be one otherwise if it's
224:00 - zero it'll be in the floor if it's two
224:02 - it'll be too high Etc right now we can
224:05 - tween the property of self we're going
224:09 - to twe the
224:11 - position to position plus plus the RNG
224:16 - position that I just made over a time of
224:20 - 0.5 this has to be side of a string like
224:23 - so so there we go all right so now I'll
224:27 - close this I'll head into my monster so
224:31 - let's find our monster here I'll pop
224:33 - this into the monsters tab go over here
224:36 - and now what I can do is I can load the
224:41 - uh item object that I just created so to
224:43 - do that what I'll do is at the very top
224:47 - I will maybe right here I'll say on
224:49 - ready variable item object be is equal
224:54 - to
224:56 - preload item
224:58 - object and now what I want to do is I
225:02 - want to find uh where I die so where do
225:04 - I die well in my death function so in
225:08 - the death function right here this is
225:10 - where I'm going to add this so to do
225:12 - this I will randomize the object by
225:14 - saying
225:15 - RNG
225:18 - Randy uh Randy range and essentially
225:22 - this is going to be a random number
225:23 - between two and four is going to be how
225:25 - many items I spawn we'll for loop I in
225:29 - RNG we'll create the item object M as
225:35 - the item object scene do
225:38 - instantiated this is going to create a
225:41 - new object for us let me actually pop
225:42 - this out so it's a bit easier to see we
225:45 - get access to this temp you will say.
225:49 - global position equal to self. globble
225:55 - position and then all we need to do is
225:57 - get access to the items tab so this guy
226:00 - right here I need to get access to this
226:03 - so I I'll remove that and say get
226:06 - node items so I'll make sure the path is
226:10 - correct and then I will just add the
226:13 - child so I'm going to add this guy by
226:15 - saying ADD child add item object temp
226:19 - and that's pretty much it now one more
226:21 - thing since we're here we'll also gain
226:24 - XP here so I'm going to add a function
226:26 - called gain XP and here I'll just say
226:29 - 100 now here I need to create this in my
226:32 - game uh script we will create it but for
226:35 - now we'll just uh pass we'll say gain XP
226:38 - uh amount and we'll pass through an INT
226:42 - and we'll return void and pass for now
226:46 - now let's close our script here let's
226:48 - hit
226:50 - play and we should be able to going to
226:53 - equip my items here so I can onot him we
226:56 - should be able to kill him and he spawns
226:59 - some items now we can pick these items
227:01 - up and it should add it to my inventory
227:05 - all right there we go we even got some
227:06 - potions we got some armor should be able
227:08 - to switch it out Etc so obviously if you
227:11 - have a different item it would visually
227:14 - make more sense but since these items
227:15 - are the same you don't really notice a
227:17 - difference but yeah so that's pretty
227:19 - much it for the item object we've now
227:22 - also created it so we can spawn some
227:24 - items so let's delete this guy we don't
227:26 - need it so in the next part we'll take a
227:28 - look at how we can create our shop all
227:31 - right so let's move into our shop now to
227:33 - start our shop we're going to create a
227:35 - new scene called canvas item or layer
227:38 - we're going to go to level one open up
227:40 - our GUI as this is kind of going to be
227:42 - where our shop is so let's make sure we
227:45 - rename this first to shop I'll save this
227:48 - in my
227:50 - leri save it in here in here I will just
227:54 - drag in the shop that I just created and
227:57 - now head back to my shop sure we're in a
227:59 - 2d scene of course and now I want to
228:01 - start filling in the things I need for
228:03 - my shop let's fill in all the nodes that
228:06 - we'll need so first I'm going to add a
228:08 - panel I'm going to add a Rd
228:13 - painter going to add
228:15 - a control node and this control node
228:18 - will actually contain two labels so
228:20 - let's create a label duplicate it and
228:22 - then add a
228:24 - Sprite uh sorry not Sprite 3D just a
228:26 - regular Sprite
228:29 - 3D then our shop we will add two buttons
228:33 - one is going to be our buy button we
228:36 - name this to buy we'll duplicate this we
228:40 - name this to
228:41 - buy button and this is going to be close
228:45 - button so close the
228:47 - shop Okay so let's rename this to
228:50 - close and let's start organizing things
228:53 - let's make our panel a little bigger
228:55 - here I'll put it same size as I do for
228:57 - everything I'll take our clothes let me
229:00 - actually lock in the panel by clicking
229:02 - the lock button right there take our
229:04 - close button I'll move it to the bottom
229:06 - right or bottom right up right whatever
229:09 - you want I'll move my buy button kind of
229:11 - right there maybe in the middle I'll
229:13 - take my control node here here and I'm
229:15 - going to uh take my label and I'm just
229:18 - going to move everything uh to where I
229:20 - want it to be so this is going to be our
229:22 - item
229:24 - name this is going to
229:27 - be the item description and this is
229:31 - going to be the item uh
229:34 - Sprite this is going to be the
229:38 - item info node here I'm going to make
229:41 - sure that this is right around here so
229:43 - here I can give it a default name by
229:46 - like sword I'll Center everything going
229:48 - to take the theme override make it a
229:51 - little bit
229:52 - bigger be 40 41 whatever you'd like and
229:56 - I'll just kind of Center it like this
229:58 - this is where my item will show the item
230:01 - description I'm going to move this down
230:02 - here where the description will go say
230:06 - this is a item description blah blah
230:09 - blah and then I can turn on the auto
230:12 - wrap word smart can Center
230:16 - everything and I'll leave the text size
230:18 - the same the item Sprite what I'm going
230:21 - to do here is I'm going to search up for
230:23 - a PNG file find my random item and I'm
230:27 - going to scale it to be as big as I want
230:30 - it to be I'm going to try to keep it
230:31 - consistent so here maybe I'll do 13 by3
230:35 - and just leave it around there maybe
230:37 - I'll move that down move this to the
230:39 - right and just readjust things as how
230:41 - you want it to be the grid container I'm
230:43 - going to rename it to shop
230:45 - items I'll move this to the right hand
230:48 - side right over here this is where all
230:50 - my shop items will
230:52 - appear okay now I want to fill this in
230:55 - and so to fill this in I need to First
230:57 - have a script let's add a shop script we
231:01 - put this in our scripts folder player
231:03 - GUI and open create now in here we're
231:08 - going to have a few things so to get
231:11 - started what we're going to do is we're
231:13 - going to create a current item
231:16 - Cent item like so and this is going to
231:18 - be an item data now before we continue
231:21 - we need to now create our uh packed
231:24 - scene that is going to represent our
231:26 - item slot kind of like we did for our
231:28 - inventory but this time we're going to
231:30 - create it a a bit more manually so to do
231:33 - this we'll create a new scene here we
231:35 - will create a panel as the
231:38 - default zoom in we will add uh we can
231:41 - just drag in one of these guys we can
231:45 - make the scale three move this here move
231:50 - the panel to be a little bigger here
231:52 - move this in the middle the panel a
231:55 - little bigger once more we can make the
231:57 - layout to be 64x
232:01 - 64 and we can move this item in the
232:03 - middle and then lastly we can add a
232:05 - button I'm going to cheat a little bit
232:08 - because what I'm going to do I'm going
232:10 - to take this button take its theme I'm
232:14 - going to take it theme override go to
232:17 - style and I'm going to go to press empty
232:22 - box I'm going to go to
232:26 - visibility self modulate and make it
232:29 - invisible and here
232:32 - um going actually scale it so going to
232:35 - remove the theme I don't really care
232:36 - about the theme I'm just going to scale
232:38 - it so I'm going to cheat a little bit
232:39 - and make this button a bit smaller on
232:41 - the x axis I'll make this point
232:45 - 75 and there we go there we have our uh
232:49 - button so this will act as our shop
232:51 - button I'm going to save this as a shop
232:54 - item save it in
232:56 - here I'm going to rename this to shop
233:00 - item I can rename this to image I'll add
233:04 - a script this guy add a script to the
233:07 - scripts folder player
233:10 - DUI uh we'll put in here now in this
233:13 - script it's not too difficult what we'll
233:15 - do is I'll just create and I'll pop this
233:18 - out and I'll just close other tabs for
233:21 - now so I have it a bit more organized
233:23 - I'm going to create a variable item info
233:26 - this is going to be a item data and then
233:29 - I'm going to close this one real quick
233:32 - and connect the Pressed button if I
233:35 - press this all I need to do is fill in
233:38 - information in my shop so what I'm going
233:40 - to do here is I'm going to click a item
233:42 - and then fill in this information
233:45 - okay to do that all I'm going to do I'm
233:47 - going to say uh go to our item shop here
233:50 - to our press button I'll say get
233:55 - node get parent get parent and we'll say
233:59 - do curent item is equal to item info
234:05 - next I will say get node uh well
234:08 - actually just copy this right
234:10 - here but instead of this I'm going to
234:12 - say get the item
234:14 - info and I'm going to show this and this
234:18 - this thing right here is this guy so
234:21 - this is going to let us show or hide
234:23 - this so if I do click something
234:24 - obviously I want to show it right I want
234:26 - to show that item that is being
234:28 - presented in my
234:29 - shop next I'm just going to copy paste
234:31 - this a few times I'll change this or I'm
234:34 - going to add to it I'm going to say item
234:36 - name is going to be equal
234:38 - to the text is going to be equal
234:41 - to the item info
234:44 - do item
234:46 - name the next one is going to be the
234:49 - item
234:51 - description that one is going to be a
234:53 - text as well for this one I can actually
234:56 - what we'll do is I'm going to close my
234:57 - script I'm going to hit control shift F
235:01 - I'm going to find the thing that says
235:03 - stats and in here I'm just going to copy
235:07 - this so here I'll just copy from
235:10 - stats and after that go back to my shop
235:14 - item it pop this out and paste this but
235:18 - here I need to make sure that there's a
235:21 - string here I'm just going to show the
235:23 - stats the damage defense and health here
235:26 - I don't need the item name I don't need
235:29 - the
235:30 - description I could add the description
235:32 - actually so here why don't I add the
235:34 - percent s here for the description and
235:36 - then new line with stats we'll have the
235:39 - item damage item defense and item
235:42 - Health lastly we'll do the uh this is
235:46 - actually an invalid path so item info
235:49 - item description text is equal to that
235:52 - uh here it's saying data is not a thing
235:54 - which makes sense because here I have
235:56 - item info instead of data make sure to
235:59 - replace the data with item
236:01 - info and lastly uh the item info here
236:05 - this one is going to be the item
236:07 - Sprite and hopefully you can guess how
236:09 - we do this all we need to do is set the
236:11 - texture for this guy equal to the item
236:14 - info. item texture there we go now we
236:18 - filled in the information with uh the
236:21 - sword right so now what we need to do is
236:23 - actually create those items though we
236:25 - need to create those shop items that I
236:27 - just created to do that all we need to
236:30 - do is preload at shop item so I'll say
236:34 - on ready
236:35 - variable shop item scene it's a this is
236:40 - a packed
236:41 - scene this is going to be equal to a
236:43 - preload
236:45 - um shop item we'll preload that script
236:48 - that I just made going to save we go to
236:52 - function ready I'll for loop I in game
236:56 - items so I'm going to for Loop through
236:58 - all the items I have in my game that
237:01 - exist I'll say if I uh don't need
237:06 - that we'll say variable
237:09 - shop item temp is equal to shop item
237:14 - scene. instantiate we want to create
237:17 - this scene and then start adding them so
237:19 - before we start adding them or we'll
237:22 - just add it and then see what we need to
237:23 - do before that next we'll get our shop
237:26 - items which is going to be our grid and
237:28 - we'll just add
237:30 - child item Temp and before we add them
237:33 - we need to fill in the information which
237:35 - is not too hard because we're for
237:37 - looping here so we can just say this
237:39 - item info is equal to game do
237:45 - items at position
237:47 - I next we can just get the item temp.
237:52 - get node uh image and then fill in the
237:55 - texture for that then make it equal to
237:58 - game. items at I the item
238:04 - texture just double check that's right
238:07 - so item texture we're filling in the
238:10 - shop item texture so this guy right here
238:13 - the image
238:15 - let's actually make sure I said that
238:16 - right yes
238:18 - image okay and lastly what we'll do is
238:22 - I'm going to get in the ready function
238:24 - I'm going to get this guy not this guy
238:27 - actually I'm going to get the item
238:30 - info and hide it I don't want to show an
238:33 - item in here unless I'm clicking an item
238:36 - so let's hit play and see what we
238:38 - get all right so we get an error right
238:40 - away um it is because
238:44 - item
238:48 - texture okay so saying the key item
238:50 - texture doesn't exist so let's take a
238:52 - look in our resource for item
238:57 - data let's find
238:59 - our
239:04 - inventory so the item
239:06 - data called item texture so it should be
239:08 - working something is going
239:11 - on let's just make sure I copy paste it
239:14 - right texture is equal to game
239:18 - texture okay I see so we can't be
239:21 - filling it in with anything empty so let
239:24 - me make sure here if I hit
239:28 - play
239:31 - okay let me figure out what's going on
239:33 - and I'll be right back okay so in case
239:35 - you were getting that error or not um
239:38 - generally those kind of errors are kind
239:39 - of annoying uh and what I ended up just
239:41 - doing is reloading the project and
239:44 - sometimes the resources kind of don't
239:47 - load fully unless you restart the
239:48 - project so just reload the project and
239:51 - make sure that all the textures have a
239:52 - texture otherwise you might get some
239:54 - weird errors so let's continue um now if
239:57 - I hit play you will see that I have my
240:01 - shop filled with the items that I have
240:03 - now obviously the shop isn't functioning
240:04 - fully because I need to actually make
240:07 - this work a bit nicer right so let's
240:09 - just continue and we'll kind of
240:11 - implement this a bit so first let's make
240:14 - sure our
240:15 - buy is connected and our close so here
240:19 - what we're going to do for the close is
240:21 - actually quite easy just pop this
240:23 - out all I need to do is get
240:26 - tree paused is equal to false we'll say
240:31 - oops that's not false we'll say game.
240:34 - shopping is equal to
240:37 - false I'm going to say
240:40 - input input Dot Mouse mode is equal to
240:47 - input mous mode
240:49 - captured self. hiide this will basically
240:53 - close my shop now on the buy this is
240:56 - actually pretty easy all I need to do is
240:58 - say get node go up one I'm going to get
241:02 - container inventory and then add child
241:06 - now at this point the child that we want
241:08 - to add is the string of the current item
241:13 - do item name now here's where things
241:16 - might get a bit iffy if the item name
241:18 - that I'm trying to add is different than
241:20 - the like child then this might not
241:25 - work okay that doesn't make oh add uh
241:29 - item there we go add item and then
241:32 - string so what I mean by that is in my
241:36 - iron body for example this needs to be
241:39 - the same thing as my game here it says
241:43 - iron body and it's the same here same
241:45 - thing for the iron sword it needs to be
241:47 - the exact same long
241:49 - sword uh so this one's called iron sword
241:52 - so let's change that to long sword and
241:54 - small potion small potion needs to be
241:57 - capitalized okay everything has to be
242:00 - the exact same otherwise it won't work
242:02 - with this right okay now to give this uh
242:06 - go in our 3D scene here we're going to
242:09 - add a AI or a kind of NPC guy this NPC
242:12 - is going to allow us to interact with
242:14 - our
242:15 - shop okay so to do this we'll create a
242:17 - new
242:18 - scene we'll create an area
242:21 - 3D we'll add a adventure just a random
242:24 - guy you can go up to the top and find a
242:29 - adventure we can find
242:32 - a maybe a mage pop this guy in make it
242:36 - local and I'll hide the
242:39 - Spellbook open one-handed wand agage hat
242:45 - I'll show that and I'll show the rest
242:47 - now for the animation player I'll just
242:50 - play the idle by default I'll play this
242:54 - like so and then Loop this okay so I
242:57 - can't Loop this so uh what I'll do is
243:00 - I'll let's add a collision first add a
243:03 - collision
243:04 - shape hit play We'll add a c we're not
243:07 - going to add a capsule we're going to
243:08 - add a circle here or maybe a cylinder
243:11 - make this a little higher a little
243:13 - bigger
243:14 - we'll save this in our scene here we'll
243:16 - save it in here why not and we'll save
243:19 - this as NPC
243:22 - Mage now what we can do is head over to
243:24 - level one and find our
243:27 - NPC I I called it npv so let's rename it
243:32 - new
243:36 - npt all right let's pop this guy in put
243:39 - him right behind us and I'll just rename
243:41 - him to NPC We'll add script to this
243:47 - guy go add a script the script I'm going
243:50 - to add it into
243:52 - the folder we'll just add it right here
243:56 - create and what I want to do is connect
243:58 - the uh body
244:01 - entered and you might imagine we need to
244:04 - check to see if this body is in group
244:07 - layer if it
244:10 - is what we'll do is we will uh do the
244:14 - things that we need to do so what do we
244:16 - need to do well first I need to say
244:18 - game. shopping is equal to True
244:21 - next I'm going to pause the scene and
244:24 - get paused or get
244:27 - free paused is equal to True next I'll
244:32 - get node go up one go up one ui/ shop
244:37 - and then show the shop next I'm going to
244:40 - make sure my input
244:42 - Mouse mode
244:44 - is equal to um
244:48 - visible right so I want to be able to
244:50 - show my mouse here now what I'm going to
244:52 - do because I couldn't Loop this
244:53 - animation all I'm going to do is I'm
244:55 - going to go to animation finished
244:57 - connect this and every time that
244:59 - animation finishes I'll just say get
245:02 - this animation player then play the idle
245:06 - animation
245:07 - again it has to be the same name as this
245:11 - right now that's pretty much it this is
245:13 - our NPC see let's hit save let's hit
245:16 - play now we should be able to test our
245:18 - game
245:20 - here okay so let's let's just go okay
245:24 - let's let's go to our shop we'll go into
245:27 - here and we'll say self
245:31 - hide hit
245:35 - play all right now that our shop is
245:37 - hidden we can go into here and see that
245:39 - we get an error okay so it's saying that
245:41 - this path doesn't exist and that is
245:43 - because this guy needs to be in the
245:45 - objects tab let's H play one more
245:50 - time over here okay here we go here's
245:53 - our shop I should be able to now
245:55 - interact with it now oddly enough I
245:58 - might actually not be able to
246:01 - uh seemly enough I can buy stuff but
246:04 - just in case I'm going to go over here
246:06 - and set the process to all on the shop
246:08 - that way I can interact with it hit play
246:11 - one more time and just make sure that I
246:12 - can actually
246:14 - buy something so here I don't have any
246:16 - items let's buy this iron
246:19 - sword and now you can see I have an iron
246:22 - sword and I can even use it and hover it
246:24 - and it says iron sword and it has the
246:27 - stats that I need here I should be able
246:29 - to replace this with the other item and
246:32 - it has uh I guess the same stat so let's
246:34 - actually change this to
246:37 - 10 and the iron sword should be five
246:40 - okay let's double test one more time
246:45 - here we go okay so here is our iron
246:48 - sword this is our long sword it says
246:50 - stat 10 damage so that's good let's buy
246:53 - it and here we go here's our sword and
246:56 - this one should do 10 damage whereas if
246:59 - I buy the other
247:01 - one so this
247:03 - one this one is only five okay cool
247:07 - let's just make sure it works in the
247:08 - profile
247:10 - yep all right there we go so there we go
247:12 - we can see it works all right so that's
247:15 - our shop that's pretty good all right so
247:17 - in the next part we'll Implement our
247:19 - level up system all right the last thing
247:22 - we need to do before we head into the
247:24 - environmental things is the level up
247:26 - system this one is not too difficult as
247:28 - we already have a lot of things for it
247:30 - already set up let's head over to our
247:32 - script go to our game and pop this out
247:36 - now if you recall we created this level
247:38 - up signal but we're not using it so
247:40 - let's figure out if we can do something
247:43 - with it now to gain XP it's really easy
247:46 - right all we need to do is take our
247:48 - current XP and add the XP amount uh
247:51 - we'll change we'll say XP amount like
247:55 - this and we will change the amount to XP
247:58 - amount like that now what we need to do
248:00 - here is say while press enter a few
248:04 - times while the current Uh current XP
248:10 - is greater than or equal to X P to the
248:14 - next level then we're going to start
248:18 - leveling up so the first thing we'll do
248:20 - is well we'll level up we'll level up we
248:24 - will take our player health max and add
248:29 - the player
248:30 - level time 10 so that's just like one
248:33 - example of a stat adjustment essentially
248:36 - we can full heal ourself by saying
248:38 - player health is equal to player health
248:41 - max we can take now take our current XP
248:45 - and subtract the amount of XP I I was
248:48 - supposed to add or I can subtract the XP
248:51 - to Next Level now the advantage of this
248:54 - is if I want to level up more than once
248:57 - while I'm kind of doing this and this is
249:00 - how we do it inside of a while loop now
249:03 - I'm going to take my XP to the next
249:05 - level and I'm going to round it to the
249:08 - XP to the next level time
249:12 - 1.3 and then I'm going to take it again
249:15 - and then I'm going to multiply it
249:18 - multiply Itself by the power of
249:23 - 1.2 with the player
249:26 - level minus
249:29 - one this is kind of the previous level
249:31 - because over here I already added it so
249:33 - this is the previous level okay so this
249:35 - kind of gives me an exponential growth
249:38 - for my XP so now what I can do the last
249:41 - thing that we will add but we're not
249:43 - going to use just yet is we're going to
249:45 - emit the signal level
249:47 - up so that signal that we created we're
249:50 - going to emit it but we're not going to
249:52 - use it just yet because uh this is kind
249:54 - of where we'll go into our uh bfx a
249:58 - little later so we're going to actually
250:00 - Implement um some of the logic for it
250:02 - specifically our level up animation so
250:06 - um we can connect it right now so let's
250:07 - actually do that let's head over to our
250:09 - level one go to our
250:12 - player we will go to the script open
250:15 - this
250:16 - up and similarly to before when we
250:19 - connected our signal I'm going to just
250:21 - uh kind of Pop all these down so that
250:24 - way I can see my code a little nicer now
250:27 - in my ready
250:28 - function if you remember we need to get
250:31 - access to the node the game node we can
250:34 - do that by saying game node is equal to
250:36 - get node
250:39 - game G game. get path
250:44 - then we can to say game node do level up
250:48 - that signal that we created connect
250:52 - followable we will connect it to the
250:54 - self self and then we'll connect it to a
250:58 - signal that we can create we can say on
251:01 - level up uh level up like this then of
251:05 - course we need to put this in a string
251:07 - and that's pretty much it now we need to
251:09 - create this function on the
251:11 - bottom and here we we go this is our
251:14 - function that we've created now this
251:16 - function will trigger uh when the signal
251:18 - is called right so here I can just
251:20 - print uh yeah let's print the game.
251:23 - player level just to make sure this
251:26 - works let's hit close here and let's hit
251:28 - play and now if you remember we should
251:31 - be able to gain 100 XP when I kill the
251:33 - monster so let me just equip some things
251:35 - here and let's kill
251:38 - it and now we go to profile we should
251:41 - see level two and we see level one the
251:44 - reason it's one is because it's emitting
251:46 - the uh previous level basically so we'll
251:49 - need to it doesn't really matter because
251:51 - the signal is more so for an animation
251:54 - that will add later anyway so we don't
251:56 - really care about the level that's being
251:58 - printed we just care that this is being
251:59 - updated right here which it is and the
252:01 - XP is being updated which is perfect so
252:04 - um we're pretty much good to go and even
252:07 - see that the health is being increased
252:09 - so that is pretty much it for most of
252:12 - the logic in our game in next few
252:14 - sections we're going to be taking a look
252:15 - at our environmental things how we can
252:17 - make sure our environment looks good uh
252:20 - we're going to start playing around with
252:21 - our world environment again as you might
252:23 - have noticed we have been getting errors
252:25 - depending on whether or not set things
252:28 - up similarly to what I did but yeah so
252:30 - let's get started into the next part
252:33 - which is the Environmental section right
252:35 - the first thing we need to do is we need
252:38 - to actually fix our engine now what do I
252:40 - mean by that well on the top right we
252:42 - will see a compatibility now do make
252:45 - sure that you have it on forward plus
252:48 - I'm going to select forward plus and I'm
252:50 - going to save and
252:52 - restart right once you've launched the
252:54 - game again you might have noticed a few
252:56 - errors but don't worry just okay andore
252:59 - them and if you hit play you will
253:01 - immediately notice a very big difference
253:03 - scene you will already notice that the
253:06 - scene is very thick kind of just a very
253:08 - different environment okay now what we
253:11 - can do is head over to our EnV
253:13 - environment node we're going to enable
253:15 - the glow now as now we have the proper
253:18 - things that we'll need in here I'm going
253:21 - to turn on the normalized go to blend
253:25 - mode and select ad dative ad dative um
253:30 - and yeah so that's pretty much it for
253:31 - the glow and make sure the settings for
253:33 - all these are the same of course at this
253:35 - point remember you can always just
253:36 - adjust these accordingly to whatever
253:38 - you'd like make it thicker thinner
253:40 - whatever you'd like right so now
253:43 - uh that's pretty much it for the world
253:44 - environment now for the grid map I'm
253:47 - going to set the cell size over here
253:49 - four four and four now we can see here
253:53 - though that the air is under the ground
253:56 - so what I'll do is I will take my grid
253:58 - map and I could either pull this down or
254:02 - I can actually just go to level one and
254:05 - that is where I'll paint my ground here
254:07 - I'm going to go back to level zero and
254:09 - remove my ground by pressing delete to
254:13 - floor Z or
254:15 - sorry1 I will draw my floor here by
254:19 - control
254:22 - fill uh let's just make sure I'm doing
254:24 - it
254:25 - right in order to fill we should be
254:28 - saying uh well I actually actually
254:30 - select a thing so that would make sense
254:33 - so let's select a tile and fill in an
254:36 - area that I want there we go now I
254:38 - should be able to fill it in properly
254:40 - and now we have our ground it works the
254:41 - exact same but this just allows us to
254:43 - properly distance things now here's our
254:46 - issue is that when I start adding walls
254:48 - it's going to remove the floor I don't
254:51 - want that so what I'll do is I'm going
254:52 - to rename this grid to
254:55 - floor and I'll duplicate this and what
254:58 - I'm going to do is in my I'm going to
254:59 - make the floor invisible and delete make
255:02 - sure floor two is selected and delete
255:04 - this floor I'm going to rename this two
255:07 - walls and now I'll show the floor and
255:10 - now what I can do is start drawing on
255:12 - the wall section and of course we can
255:14 - make sure we're on1 and at this point we
255:17 - can start kind of going wherever I'd
255:19 - like so here what I'll do is I'll draw
255:22 - right here and I can just whoops select
255:27 - like this and contrl F and fill in a
255:31 - large wall and at this point I can just
255:34 - start be adjusting everything so in
255:37 - order to rotate this you just click s to
255:40 - rotate it so that way we can have it
255:43 - rotated to that way I want to rotate
255:46 - this wall this way I'll fill it in like
255:51 - this and at this point you can just
255:53 - start moving around the scene and just
255:55 - fill in uh the walls that you
255:59 - want keep those two
256:02 - walls and here we go I'll kind of do
256:05 - this together with you so at this point
256:07 - you can either skip or you know just
256:09 - kind of zoom in and do do yourself but
256:12 - I'm just going to keep doing this
256:14 - together so that way we don't skip any
256:16 - big steps here lastly we'll have that
256:18 - wall
256:20 - there and I'll
256:22 - just
256:25 - Wall go all the way and we can delete
256:28 - this wall and put a corner wall instead
256:31 - all right so there we go we have a fully
256:34 - encased dungeon here so what I'm going
256:37 - to do now is I'm going to put a wall
256:38 - right here
256:41 - so or I can just put it right
256:44 - there and fill in wall section in the
256:48 - middle like that I'll put a door kind of
256:52 - maybe right there and one right there
256:55 - then I can kind of just start doing
256:58 - whatever I'd like at this
257:00 - point now we do notice that there is
257:02 - this Gap so at this point you can either
257:05 - duplicate again which is actually what
257:07 - I'm going to do because this is a bit
257:09 - quicker here I'll just duplicate and
257:11 - start filling in the sections that I
257:14 - want and here of course it doesn't look
257:17 - perfect so this is where you would
257:19 - probably need to uh finish the mesh
257:21 - library and start adding in the walls
257:23 - that you might need if you search up
257:25 - wall you might be able to find the wall
257:28 - that you'll need um it might
257:31 - be it's probably one of these um I know
257:33 - it is one of these I have seen it it's
257:35 - just uh I don't have it complete so
257:38 - we're not going to do that in this
257:39 - series that's more of a level design um
257:41 - as we're just going to kind of continue
257:43 - this level so here we now have our level
257:47 - so we can just start drawing make sure
257:49 - I'm on the walls wall to I can just keep
257:52 - drawing whatever I
257:55 - like I'll just kind of draw out a few
257:58 - levels here or areas if that makes
258:01 - sense and I'll put in this guy maybe
258:05 - I'll put that like
258:07 - here
258:09 - and yeah so you can kind of fill in the
258:11 - rest of the level I'm going to now move
258:14 - my player over here to the kind of
258:16 - corner over here so this is the starting
258:18 - area now when I hit
258:20 - play we will see my level here is my
258:25 - level I can start running around and
258:28 - it's my Mage and my monster obviously
258:31 - the Mage will have to readjust to make
258:32 - sure he's on the floor so let's do
258:35 - that let's take our
258:37 - NPC uh and we'll drag him to the right
258:40 - side and we can just
258:43 - B him
258:44 - down and we'll maybe rotate him and of
258:47 - face the
258:49 - corner and we can make sure he's kind of
258:53 - looking like he's on the floor put him
258:55 - right there maybe floating a tiny bit
258:57 - now when I hit play one more
259:01 - time we can now walk up to him and he
259:03 - looks like he's standing there walk up
259:06 - to him interact with the shop close it
259:08 - and keep running around okay cool now
259:12 - what we'll do is I'm going to now head
259:15 - into or we're going to head into the
259:17 - torch section so we're going to take a
259:18 - look at how we can create a torch and
259:20 - add some lighting into our scene let's
259:22 - take a look at how we can do that okay
259:25 - so to get started with our torch I'm
259:27 - just going to close everything from the
259:29 - level right click close tabs to right
259:33 - make a new scene here and I'll create a
259:36 - uh node 3D as the
259:38 - base I'm going to search up TCH and find
259:42 - the lit torch actually sorry not the lit
259:45 - torch just the mounted torch here we go
259:49 - I'm going to reset this
259:51 - 0 make it local bring in the torch
259:55 - delete this guy I'll add two things an
259:59 - omn
260:00 - light and a GPU particles this is where
260:04 - all the magic will happen Okay so in
260:07 - this guy this is where we're going to
260:09 - actually add and uh start adjusting all
260:11 - the particles I'll try to go slow and
260:14 - we'll try to do as much as we can
260:16 - together to make this as pretty as
260:17 - possible so to start what we need to do
260:20 - is we need a draw pass and process
260:23 - material this is where we will add the
260:27 - draw pass so meaning let's actually just
260:29 - do this so if I go to path one I will
260:32 - add
260:33 - a ash plane where is that
260:38 - plane and now uh we want to or sorry not
260:41 - plane uh quad mesh where is that quad
260:44 - mesh there we go now you can see that we
260:46 - have this quad mesh here now it's not
260:48 - moving because there's no gravity
260:50 - there's no things being adjusted to it
260:52 - but that's okay first we're just G to
260:54 - make sure this guy is pretty and do it
260:57 - make it material wise what we want it to
260:59 - be so we'll go to the material we're
261:02 - going to select new standard material
261:04 - we'll go into this and now we can start
261:07 - coloring it to be what I want it to be
261:09 - we'll go to
261:11 - transparency I'm going to uh select the
261:15 - alpha make it transparent between uh the
261:19 - things just okay on
261:21 - that I'm going to go to blend and go to
261:25 - add and we'll just C okay uh you might
261:29 - have to restart your project if I keep
261:30 - getting that we'll do that a little
261:31 - later go to shade
261:34 - unshaded and then we will
261:36 - select the vertex color going to turn on
261:40 - the albo
261:43 - and we will go to Alo and now we will
261:45 - actually select the color we want now at
261:48 - this point you can do whatever you'd
261:49 - like I'm going to select kind of a dark
261:52 - orangish color so maybe kind of right
261:55 - around
261:56 - here maybe a bright orange kind of like
261:59 - this um something like that okay so kind
262:03 - of pick whatever you'd like all right so
262:05 - now for the billboard on the bottom
262:06 - we'll go to mode article
262:11 - billboard okay
262:13 - and then we're going to turn on the
262:15 - scale keep scale
262:17 - on okay I'm getting annoyed by this I'm
262:21 - just going to restart my project and
262:22 - make sure that airor doesn't pop up I'll
262:24 - be right
262:25 - back all right so I've restarted my
262:27 - project and no more errors okay let's
262:29 - scroll up a little bit we're going to go
262:31 - to the process material now this is
262:33 - where the magic will happen this is
262:35 - where I'm going to actually essentially
262:38 - start of adding the particles well here
262:41 - we'll go to new particle material and
262:44 - you can see right away when I add this
262:46 - it's already doing something now what we
262:48 - want to do first is we want to uh adjust
262:52 - certain things the first thing we're
262:53 - going to do is go into spawn we're going
262:56 - to go into the uh angle and we're going
263:00 - to change this to 360 for the Max and
263:04 - that's it now you can see that it is
263:06 - rotating kind of
263:09 - randomly next we'll go into the velocity
263:12 - right under it we will go into the
263:15 - direction we'll set this to zero the Z
263:18 - we set it to
263:21 - 042 five and then the spread I'm going
263:25 - to set it to
263:27 - zero type in
263:29 - zero and the initial velocity we will
263:32 - set the max to three and now we have a
263:36 - bit more of a jump for our particles
263:38 - here all right so that's our
263:41 - velocity next next we want to go to out
263:44 - of Spawn into animated velocity we will
263:47 - go into the angular velocity and in here
263:50 - we're going to set the max to uh 40 or
263:54 - 30 we can do 40 though all right so
263:58 - that's the angular velocity next we're
264:00 - going to go to the acceleration gravity
264:03 - and we're going to turn off the gravity
264:04 - and put it to zero now at this point you
264:07 - can kind of mess around with some of
264:09 - these obviously you can see that now
264:11 - it's kind of being pushed to the right
264:13 - but of course you can push it to
264:14 - whatever you'd like all right so now we
264:17 - want
264:19 - to head over to the linear acceleration
264:22 - in the linear acceleration I'll set this
264:24 - to one and five it accelerates a bit
264:29 - more we'll go to the scale which is
264:32 - going to be in the
264:33 - display in the display we're going to go
264:35 - to scale we're going to go to the scale
264:39 - itself and set this to 0.01
264:42 - and
264:43 - 0.5 this will just make the actual
264:46 - particles much
264:47 - smaller next we're going to go to the
264:49 - color curves and this will allow us to
264:52 - kind of curve the initial ramp here
264:54 - we'll add a new uh initial ramp
264:58 - here go down sorry I guess it went up a
265:00 - little bit for no reason we'll go into
265:03 - here into the gradient and at this point
265:05 - this is where you can kind of start
265:07 - picking your colors I'm going to pick
265:09 - the left one into making it a red one
265:12 - kind of a dark
265:14 - redish so and then the middle one I'll
265:17 - make it kind of a uh grayish color like
265:21 - so and then the very right I'll make
265:23 - this a orange
265:25 - color something like this and now we
265:28 - have just kind of a different uh color
265:31 - and radiant now if I click out of it
265:34 - you'll see kind of
265:36 - that okay so now that's the color curves
265:39 - let's undo that or go out of it
265:43 - we'll go to the Hue variations and
265:45 - inside of this I'm going to set this to
265:48 - 0.2 and this to
265:51 - positive2 we're going to go to the curve
265:53 - texture create a new curve texture go
265:56 - into the curve and I'm going to add a
265:58 - point right here and drag this down and
266:01 - drag this around the middle like so now
266:04 - I'll just do that hit save contrl s and
266:09 - lastly I'm going to go to turbulence
266:11 - turn this on
266:13 - and it might lag a tiny bit there we go
266:16 - now it's kind of going upwards a tiny
266:18 - bit and now I can kind of adjust some of
266:20 - these back down to turbulence and I'm
266:23 - going to adjust the noise speed to 07
266:27 - just a little less than what it
266:28 - currently is and now what we want to do
266:31 - is go to the very top and turn up the
266:34 - amount to
266:35 - 500 and now you can see we have fire now
266:40 - this isn't perfect but another another
266:42 - thing or another issue I'll say is that
266:44 - it's upside down so of course we can
266:47 - rotate it if we'd like like
266:50 - so um or we can actually not can but
266:53 - we're going to actually have to do this
266:54 - in the direction so let's just reset the
266:56 - rotation here and we'll head over
267:00 - to so now we see that it's going in the
267:03 - right direction for some reason that's
267:05 - perfect now we'll move it into the
267:08 - mounted area kind of and there we go now
267:12 - we'll go into our level one we'll go
267:14 - into our objects we'll find our torch
267:18 - that we hopefully
267:19 - saved and pop this
267:22 - in now I'll take my torch here and just
267:26 - kind of move it to be on the side of the
267:30 - wall here so kind of put it right there
267:34 - and if I zoom in a tiny bit you'll see
267:38 - that and just move it in ever so
267:41 - slightly maybe move it to the side and
267:44 - just kind of move it to wherever you'd
267:46 - like it to be and now what I could do is
267:48 - I can turn on snap and I'll just snap
267:51 - this over here I'll duplicate this just
267:54 - snap it a few pixels over snap snap and
267:58 - just duplicate a few of these now what I
268:00 - can do is I can duplicate all of these
268:04 - rotate it by about
268:07 - 180 and then I can move this guy all the
268:09 - way to the other side of the wall now
268:12 - obviously this guy right here I don't
268:15 - want this so I'll delete this and now
268:17 - when I hit
268:18 - play we should be able to see the
268:20 - Torches in the
268:23 - game all right here we go there's our
268:25 - torches now I do suggest you play around
268:28 - with some of the values in fact I'll
268:30 - probably do that as well to make it a
268:32 - little less but this is not bad so far
268:35 - so yeah it's pretty good maybe we can
268:37 - reduce the amount that it's being
268:39 - expected um in fact actually this one is
268:42 - not on a wall so let's just delete this
268:44 - one and another thing that you can take
268:46 - a look at is in the world environment in
268:48 - the glow you can go to the uh some of
268:51 - these settings and increase or decrease
268:54 - some of these so if you look at the
268:55 - intensity you can decrease the glow of
268:57 - the fire if you increase it obviously
269:00 - that's probably too much you can look at
269:02 - the strength of it and go to the bloom I
269:05 - don't really suggest the bloom too much
269:06 - Bloom is kind of a weird threshold we
269:09 - can look at the HDR threshold and just
269:11 - play around with some of these values uh
269:13 - they're pretty fun to play around with
269:14 - you can also play around with soft light
269:16 - maybe some of the other ones um I find
269:19 - ad dative to be I wouldn't say the best
269:22 - but it's probably the nicest in a sense
269:24 - to kind of add to our game so yeah so
269:27 - this is pretty nice um if you want to
269:29 - get rid of that like random Direction
269:31 - you can turn off the turbulence which I
269:34 - think I'll actually do here so I'm going
269:35 - to turn off the turbulence and here we
269:38 - have the direction kind of going in a
269:39 - weird angle so let's go to the
269:43 - Gravity the directional velocity here
269:47 - spawn velocity here we can kind of
269:51 - adjust
269:54 - the velocity a little bit to whatever
269:57 - we'd like or sorry the direction but
269:59 - here maybe I can set it to
270:02 - 0.2 the random
270:05 - Direction
270:08 - 01 and this one I'll do yeah that's not
270:12 - bad okay and we can kind of adjust some
270:15 - of these maybe the initial velocity I
270:16 - want it to max out at two and now if we
270:18 - hit play we have maybe a more consistent
270:21 - fire right so there we go it's pretty
270:24 - long but that's okay um I like this it's
270:27 - not too bad it looks pretty wonky but
270:30 - looks pretty nice okay so there's our
270:32 - environmental flame now in our next
270:35 - section we'll be introducing a new
270:36 - instructor to introduce you to some much
270:39 - better GPU particles some better uh
270:42 - articles in general and some cool Shader
270:44 - stuff so let's take a look at who's
270:47 - going to be your instructor for the next
270:50 - hour all right so introducing lelu lelu
270:53 - will be um your next instructor for the
270:55 - next about 45 to 50 minutes um he will
270:58 - be showing you some cool effects some
271:00 - puff effect a level up effect Etc and a
271:03 - hit effect as well so um definitely
271:06 - check out his channel as well he makes
271:08 - really cool uh just Shader videos in
271:10 - general he has some beam effects
271:12 - better fire effect than what we made so
271:15 - if you want a much better fire effect
271:17 - there is one right there for you I'm
271:19 - basically just I just introduced you to
271:21 - the GPU particles and how and what we
271:24 - can do with it but of course you can
271:25 - definitely check out his channel he will
271:27 - have his uh videos up as there as well
271:30 - so the puff effect that we'll be making
271:31 - here and the level up effect and once
271:34 - he's finished though we will be uh
271:36 - implementing them all into our game and
271:39 - of course we do already have the project
271:41 - files so here at the very top in our
271:45 - assets we have the VFX files so if you
271:48 - don't want this and you want to do
271:50 - everything from scratch you can of
271:51 - course just delete this but it is here
271:53 - in the starter project so um let's take
271:56 - a look at how we can get started so I'll
271:58 - see you all in about an
272:00 - hour hello guys I am Leu and today we
272:04 - are going to see how to create two
272:06 - important effects that you can see in
272:09 - almost every RPG games
272:12 - level of effects and pop effects these
272:16 - effects will improve a lot the
272:18 - atmosphere in this game and helps the
272:21 - player to really feel a progress in the
272:23 - game rather by leveling up or the
272:26 - killing monsters we will use the Goot
272:29 - particle system and some visual shaders
272:32 - to create these effects so let's start
272:36 - with the level of
272:39 - effect this tutorial will be the divided
272:42 - into three parts first let's create a
272:46 - basic Aura effect using particles and a
272:49 - visual Shader then let's improve this
272:53 - effect adding an expansive
272:56 - wave and finally let's add some extra
273:00 - details and coordinate all the
273:03 - effects okay let's go ahead and start
273:07 - creating the basic Aura effect
273:12 - so for the level up effect we first need
273:15 - to create a very simple mesh so let's go
273:18 - to blender and let's delete this and
273:23 - shift a to create a new cylinder mesh I
273:26 - want this cylinder to be on field so set
273:29 - the this option to
273:32 - nothing so let's go to edit mode by
273:35 - pressing T move this cylinder
273:39 - up and stretch it a little bit
273:47 - and finally press W and select shade
273:51 - smooth okay so this is the cylinder it's
273:55 - a simple long cylinder the only
273:57 - difference is that the pivot point is at
274:01 - the bottom of the cylinder so let's
274:04 - export this file export
274:08 - OBG and let's name this cyinder there
274:16 - long okay so we are back in Goot let's
274:20 - import our cylinder
274:27 - mesh and I want to go ahead and create a
274:31 - new particle system a GPU particle
274:35 - system and in order for these particles
274:38 - to work we first need to create a new
274:41 - particle process material and also in
274:44 - draw passes assigned a mesh to be used
274:47 - for the particle system in this case I
274:49 - will use the
274:55 - cylinder and as you can see we have a
274:57 - lot of cylinder meshes falling down this
275:00 - is because of the gravity so let's go to
275:02 - the particle system into accelerations
275:05 - and set the gravity to
275:08 - zero also I only need one cylinder so
275:11 - set the amount to
275:13 - one
275:15 - and let's change the size so let's go to
275:18 - display scale and set a scale of
275:24 - four cool this will be the area effect
275:28 - for the level of
275:31 - effect oh by the way I don't want this
275:34 - cylinder to cast Shadows so let's close
275:38 - this and let's go to
275:42 - geometry and set cast Shadow to
275:46 - off also we need a material for the
275:49 - cylinder so let's create a new Shader
275:52 - material here in material
275:55 - override and let's create a new Shader I
275:58 - want this Shader to be a visual
276:00 - Shader let's name
276:03 - it Shader
276:07 - cylinder houra
276:13 - so let's open the
276:15 - Shader and I want to do some changes for
276:18 - example I want this Shader to be the
276:21 - cool mode to be disabled so we can see
276:23 - both sides of the
276:26 - cylinder also I want this material to be
276:30 - unshaded and disable
276:33 - Shadows cool so let's start creating the
276:39 - Shader for this Shader
276:42 - first I want to add a gradient so right
276:45 - click and create a new texture
276:49 - 2D set it to
276:51 - color and select gradient texture
276:55 - 2D so let's edit this
276:58 - gradient I will pick these little points
277:02 - because I want this gradient to be
277:07 - vertical
277:09 - and yeah let's now now connect the
277:13 - gradient into the alpha
277:16 - Channel and we can see this little line
277:20 - up here so in order to fix this let's
277:23 - modify the gradient a little
277:26 - bit like
277:29 - so yeah this is perfect cool so we now
277:33 - have this gradient connected to the
277:35 - alpha Channel we also need a color so
277:37 - right click and create a new color
277:40 - fragment
277:42 - let's connect the
277:44 - color and also let's connect the Alpha
277:48 - from the color oh we cannot connect it
277:51 - here so let's
277:54 - multiply the alpha channel from the
277:56 - color with the
278:01 - gradient cool so now if we go to the
278:04 - particle system we go to display in
278:09 - color curves we can pick any color we
278:12 - want for the gradient let's pick for
278:14 - example a yellow with a row value of 2.5
278:20 - 2 and
278:22 - 0.5 a very strong yellow also I want
278:26 - this cylinder to disappear over the time
278:29 - so let's go to Alpha curve let's create
278:32 - a new
278:35 - curve and I want this cylinder to be
278:38 - transparent at the beginning
278:43 - and at the end like this or maybe
278:47 - something like this it goes from
278:49 - transparent to full opaque to
278:52 - transparent again at the the end of the
278:54 - cylinder cool so we have this
278:57 - interesting effect but we can make it
279:00 - look even more cool by adding some
279:03 - special textures so for example here I
279:06 - have a lot of
279:09 - textures you can use any texture you
279:12 - want the important part is that the
279:15 - texture needs to be
279:17 - repetitive so let's pick for example
279:21 - this this noise
279:25 - texture and I want to add this texture
279:28 - to the
279:30 - gradient so in order to do that
279:35 - let's pick the texture this is a black
279:37 - and white texture so we don't need to
279:39 - pick a full color just one channel and
279:43 - multiply this
279:46 - texture with the
279:50 - gradient like
279:52 - this so now we have this special texture
279:55 - attached to the gradient we can also
279:58 - move this texture over over the time so
280:02 - in order to do that we need to create a
280:06 - UV panning
280:08 - note with this we can move the texture
280:13 - and we also need to create a Time
280:18 - note and if we connect the time node
280:21 - into the
280:23 - offset see how the texture is
280:28 - moving very simple I also want to
280:32 - control the speed of
280:34 - this of this texture so let's create a
280:37 - new Vector 2 parameter
280:41 - let's name it for example
280:46 - speed and let's
280:52 - multiply the speed parameter with the
280:56 - time
281:01 - node and nothing changes and this is
281:04 - because we created a new parameter so
281:07 - let's go to the particle system let's go
281:10 - to the material now we have these Shader
281:13 - parameters and here we have the speed
281:16 - option let's put a speed for example
281:20 - of 1.5 into the x axis and three into
281:26 - the y axis let's do one more
281:30 - change let's say instead of using
281:34 - this noise texture we want to use any
281:37 - texture we want so let's delete this
281:42 - noise texture and instead of that let's
281:44 - create a new texture 2D
281:50 - parameter let's name it
281:53 - our
281:56 - texture set it to
281:59 - color and in order to use this texture
282:01 - we need to sample it so let's sample
282:06 - this and
282:08 - connect this texture
282:15 - so now if we go to the material we have
282:18 - the our texture property and here we can
282:21 - set any texture we want let's see for
282:24 - example this noise
282:27 - texture or maybe this
282:31 - one so feel free to try using different
282:35 - textures any texture you want just make
282:38 - sure that the texture is repetitive
282:41 - I will also upload these textures here
282:43 - in the description in case you want to
282:45 - use them but anyways the Shader is
282:53 - completed let's go back to the particle
282:56 - system and let's do one last change here
283:00 - let's go to scale and create a new curve
283:06 - XYZ and I want this cylinder to grow
283:11 - slowly up so let's go to the curve of
283:14 - the y axis of the
283:17 - scale and I want this cylinder to slowly
283:21 - grow from zero to
283:25 - one so we have this interesting
283:30 - effect cool the overa effect is
283:33 - completed now let's create the expansive
283:39 - wave okay so let's name this particle
283:42 - system for example Aura cylinder
283:47 - one and I want to duplicate this
283:50 - cylinder so contrl
283:52 - D now we have the ARA cylinder 2 and I
283:56 - want to do some changes to this new
283:58 - cylinder so let's go to the particle
284:00 - process material and because this is a
284:02 - new particle system we need to right
284:04 - click and make unique and do the same
284:08 - for the material right click make unique
284:12 - so we can change only this new
284:17 - cylinder let's go to display scale and I
284:21 - want this in there to be even bigger
284:24 - than the last one so let's set a scale
284:26 - of
284:28 - eight also we can go to the material
284:32 - into Shader
284:33 - parameters and change the texture for
284:36 - this cylinder for example let's
284:38 - use maybe this text
284:43 - T and set a speed of one and
284:48 - three
284:51 - Also let's go to scale and I don't want
284:54 - this cylinder to grow up instead I want
284:57 - it to grow into the from the center and
285:03 - go small so let's change the scale and
285:08 - because we want to change this new
285:09 - cylinder scale we need to right click
285:12 - and make unique do the same for all the
285:16 - properties of these
285:18 - particles make unique make
285:21 - unique now we can edit the
285:24 - properties so for example I want this
285:27 - cylinder to
285:29 - grow in all the
285:38 - directions but instead of growing up
285:41 - in the in the Y AIS I want it to
285:46 - go to to shrink down so let's change
285:50 - this curve so the cylinder
285:52 - goes from Big to small into the y
285:58 - axis something like like this I guess
286:02 - it's
286:03 - okay
286:05 - excellent we have done the AA effect
286:09 - with a nice expansive wave
286:11 - now we only need to add some extra
286:14 - details and coordinate everything
286:18 - together cool so finally let's go to
286:22 - photoshop or any painting program you
286:26 - want in this case I will use
286:29 - Photoshop and let's create a new
286:32 - image and put a text
286:35 - here
286:37 - level up
286:42 - let's move it to the center of the
286:45 - image and I want this text to be
286:49 - white also maybe we can give it some
286:52 - effects so let me see let's go to
286:54 - blending
286:55 - options maybe we can give it
286:59 - a a glow or maybe a contour or something
287:04 - like
287:07 - that let's try with a bevel
287:13 - effect
287:15 - okay save
287:17 - it as a
287:20 - PNG so let's go back to go and I want to
287:24 - create a new particle system let's
287:27 - create this time a CPU particle
287:31 - system and name it for
287:34 - example level up
287:38 - text so in order for this particles to
287:41 - work we need to assign a mesh so let's
287:43 - go to drawing and let's select a quad
287:47 - mesh so now we have a lot of quad meshes
287:50 - falling
287:52 - down let's also go to geometry and
287:54 - create a new standard
287:59 - material let's set the shading to be
288:04 - unshaded let's go to alido and here we
288:07 - can assign the level of text we just
288:11 - created in Photoshop so let's pick the
288:15 - text over
288:19 - here now we can see oh by the way
288:22 - because this is a transparent texture we
288:24 - need to go to
288:26 - transparency and set the transparency to
288:31 - Alpha let's also go to
288:34 - billboard and set the billboard to be
288:37 - particle billboard
288:41 - so now these particles are always facing
288:45 - the camera as you can see which is
288:47 - really cool finally for the material
288:51 - let's go to vertex color and enable
288:53 - these options so with this options we
288:56 - can now edit the color in the particle
288:59 - system cool let's close the material and
289:03 - go back to the particle system let's go
289:05 - to gravity and set it to
289:07 - zero set the amount to one
289:12 - also I want this to be this is maybe too
289:16 - small so let's go to scale and set a
289:19 - scale of
289:22 - four and maybe we can make this like go
289:27 - from small to big to small again so
289:30 - let's go to the scale option and create
289:33 - a new scale
289:35 - curve I want this particle to be very
289:40 - small at the beginning and then grow up
289:46 - and then go small
289:50 - again
289:53 - cool also I want this particle to go up
289:57 - so let's go
289:59 - to
290:00 - Direction and set the direction into the
290:03 - y axis 0 1
290:07 - 0 and let's go to Velocity and set
290:10 - velocity of
290:15 - 2.5 set the sprit to zero let's go to
290:21 - color
290:23 - and we can give it any color we want
290:27 - here in my case I want to use a row
290:32 - value of
290:33 - 2.5 2 and
290:39 - 0.5 excellent
290:42 - also I want this level up to disappear
290:45 - over the time so let's go to color ramp
290:48 - create a new
290:50 - gradient and delete
290:54 - this I want it to be
290:58 - transparent at the
291:00 - beginning like so and transparent at the
291:07 - end finally let's go to dumping
291:11 - and let's set a value of 0.8 and
291:17 - 1 now in order to keep everything
291:19 - organized I will create a new node
291:25 - 3D and put everything inside the the
291:28 - node
291:30 - 3D and we can name it for example
291:35 - VFX level
291:38 - up and right
291:42 - click and create a new Branch
291:51 - scene let's open the
291:55 - scene and create a
291:58 - new animation player so we can
292:02 - coordinate all the timing for the
292:04 - effects using the animation
292:07 - player let's create a new animation
292:10 - name it
292:15 - default let's put a time of two
292:19 - seconds and let's go to the cylinder
292:22 - one set it to one
292:25 - shot and key the emitting
292:31 - option let's do the same for every
292:34 - particle let's go to the cylinder
292:36 - 2 enable one shot and key
292:45 - do the same for this one shot
292:49 - key cool so for this effect let's
292:53 - say we want to emit all the effects at
292:58 - the beginning of the
293:04 - animation let's
293:06 - play so as you can see now everything is
293:12 - coordinated maybe we can put the level
293:15 - up effect a little
293:17 - bit later like
293:23 - this let's see let's play the
293:27 - effect okay so let's see how this final
293:30 - effect
293:31 - looks with the
293:34 - character so let's go to the level one
293:37 - and let's make this VFX editable
293:41 - children so we can play the
293:43 - animation and let's
293:46 - play excellent as you can see I added
293:49 - these little
293:53 - particles it's just some quad
293:57 - meshes similar to the text OP but yeah
294:02 - it it this adds a special touch to the
294:07 - effect cool our level up effect is is
294:11 - completed remember you can download all
294:14 - of these files for free in case you want
294:17 - to use them or story up close now let's
294:21 - go ahead and let's create the puff
294:25 - effects this tutorial is divided into
294:28 - three parts let's start creating some
294:31 - nice particles using a simple
294:35 - sphere then let's convert those spheres
294:39 - into some nice animated clouds using a
294:43 - visual
294:44 - Shader and finally let's customize the
294:47 - effect so we can use it in our game so
294:51 - let's start with the particle
294:54 - system so let's create the puff effect
294:58 - for this effect I want to go ahead and
295:00 - create a new GPU particle
295:05 - system and in order for this particle to
295:07 - work we need to create a new particle
295:10 - process material and also assign a mesh
295:14 - this time I will select the sphere
295:17 - mesh and as you can see now we have a
295:19 - lot of spheres falling down so let's go
295:23 - to accelerations and set the gravity to
295:27 - zero instead of using gravity I want to
295:30 - use a radial velocity so let's go to
295:33 - radial velocity and set a velocity
295:35 - between 1 and two
295:41 - cool now let's create a material for the
295:46 - for the Spheres so let's go to Geometry
295:49 - material override let's create a new
295:51 - Shader
295:53 - material new
295:55 - Shader select visual
295:59 - Shader maybe we can name it for example
296:03 - Shader
296:05 - puff now let's open the puff Shader
296:10 - and let's create some stuff here first
296:14 - we need to add a color so let's right
296:16 - click and create a new color
296:20 - fragment connect the color and the
296:26 - transparency also there's one more
296:30 - thing if I move the the Spheres you can
296:34 - see how it gets this hard Edge when it
296:39 - intercepts with the floor I don't want
296:41 - that so in order to fix this we can
296:44 - create a proximity fade
296:47 - node and let's multiply this node with
296:53 - the alpha
296:55 - channel so now as you can
296:58 - see if we get closer to the floor the
297:01 - Spheres disappear it fades we can also
297:05 - control the value here maybe we can
297:07 - create a float
297:10 - parameter let's name it um distance
297:16 - faith and give it a default value of
297:23 - 0.3
297:26 - cool excellent um let's do some changes
297:29 - to the particle system for
297:33 - example let's go to the particle process
297:35 - material and I want these particles to
297:38 - scale down so let let's go to scale and
297:42 - let's put a random scale between one and
297:46 - three and let's create a new
297:52 - curve and I want these particles to
297:55 - start big and then go
297:58 - small like
298:01 - this maybe too much maybe something like
298:05 - this
298:07 - perfect and I also want this particle to
298:10 - disappear over the time so let's go to
298:14 - color curves and let's create a new
298:17 - Alpha
298:22 - curve so I want these particles to be
298:26 - full opaque at the
298:28 - beginning and then I want them to
298:31 - disappear
298:36 - slowly we can also give it any color
298:39 - which want but for now I will leave them
298:45 - white okay so the particle system is
298:48 - already prepared now let's make these
298:52 - spheres look like a clouds using a
298:56 - visual
298:58 - Shader okay so here's the interesting
299:01 - part let's convert this sphere into a
299:06 - cloud we can do that using a
299:09 - Shader let me show you let's go to the
299:11 - Shader and let's go to the vertex option
299:16 - here we can control the vertices or the
299:18 - vertex of this
299:20 - sphere this can be quite confusing so I
299:25 - will quickly open my drawing board
299:30 - presentation so as we know a 3D sphere
299:34 - is composed by many little points or
299:38 - vertices
299:41 - and let's say all of these points has a
299:45 - perpendicular Vector like
299:50 - this so the idea is to being able to
299:54 - take a black and white
299:57 - texture and put that texture into a
300:01 - sphere until all these points to move
300:06 - depending of if the point is covered by
300:10 - white for example if it's white that's
300:13 - equal to one if it's black equals to
300:16 - zero gray
300:18 - 0.5 so we can move the point depending
300:22 - on the texture over the
300:28 - sphere okay so with that being said
300:30 - let's go back to go do let's go back to
300:33 - the Shader to the vertex section and
300:36 - let's do some stuff first right click
300:39 - and create the
300:41 - vertex here we have all the vertices of
300:44 - the sphere and to this vertices I want
300:47 - to
300:51 - add a normal
300:53 - Vector right click and look for
300:58 - normal so look what happen when I
301:02 - connect this node
301:05 - here now as you can see all the vertices
301:08 - or all the points of the
301:10 - sphere move in the normal direction of
301:13 - the
301:15 - vector we can also control
301:18 - the like the vector of the normal and
301:21 - reduce the size so we can for example
301:24 - multiply
301:26 - this normal Vector for the value let's
301:30 - create a
301:31 - float constant for example
301:38 - 03 so now we reduce the size of the
301:41 - normal Vector 0.3
301:44 - units and as you can see we get a small
301:48 - a
301:49 - sphere
301:52 - excellent but now let's do something
301:55 - interesting I will take a texture let's
301:58 - pick for
302:00 - example
302:01 - this
302:06 - texture set it to
302:08 - color and we don't need a full color
302:11 - because this is a black and white
302:12 - texture we only need to use one channel
302:15 - so I will pick this and I want to
302:21 - multiply this texture with the normal
302:32 - Vector excellent now we get this
302:35 - interesting shape and this is the result
302:39 - of this text
302:40 - controlling the vertices of the of the
302:42 - sphere we can also change the intensity
302:45 - here using this note let's try with
302:49 - one so we get this crazy shape but for
302:54 - the clouds let's put a value of minus
303:00 - 0.6 so now this looks more like a cloud
303:04 - right also I want these clouds to be
303:08 - dynamic to move so we need to move the
303:11 - texture and for moving the
303:16 - texture I will create a
303:20 - UV buning
303:24 - note Also let's create a Time
303:30 - node and multiply the
303:36 - time with uh
303:40 - Vector
303:42 - 2
303:45 - constant and let's give it a value for
303:47 - example
303:49 - of 0.1 and
303:56 - 1 now you can see how the texture is
304:00 - moving so the vertices of the sphere are
304:03 - moving with the texture which is moving
304:06 - using these um values
304:13 - cool so I think this is cool I think
304:17 - this this looks really nice already but
304:20 - there's one more thing I want to do I
304:23 - would like this clouds to look more
304:27 - stylized more tuny so I want to change
304:31 - the way the light interacts with the
304:36 - clouds and for doing that I want to once
304:39 - again
304:40 - modify this
304:41 - Shader and this time I want to go to the
304:45 - light section of the Shader in this
304:48 - section we can control like the way this
304:53 - sphere interacts with the
304:57 - light in this case I want this to look
305:00 - more anime style more tuny
305:03 - style so I want to make sure that the
305:06 - light hits like in the hard way the
305:10 - and also I want to give it a nice shadow
305:15 - Contour to the to the clouds for doing
305:19 - that I am going to create a normal
305:22 - vector and I want to dot product this
305:27 - multiply this normal Vector with a DOT
305:30 - product with the frel
305:35 - node let's set this forel to to through
305:39 - in inverted and connect to the diffuse
305:42 - Channel and I know this is this might
305:46 - look a bit confusing I am planning to
305:48 - explain this quite better in a in the
305:51 - future I want to do a a video about
305:54 - anime style in in 3D games but for now
305:57 - let's just follow these steps I am doing
306:01 - in the video create a smooth step note
306:10 - and create a
306:12 - float
306:15 - constant another float
306:18 - constant that goes between 0 and
306:21 - 0.1 with this we can control the
306:24 - hardness of the
306:30 - edges and
306:32 - now let's create a clamp note
306:41 - and give it a
306:44 - value
306:45 - between 0.1 and
306:50 - one so with this we can control how dark
306:54 - are the shadows and how bright are the
306:58 - this this
307:04 - brightness cool so yeah this
307:08 - is this is the the light
307:16 - note so yeah that's that was it we have
307:20 - the
307:21 - Shader with all done already we can
307:24 - close the Shader and let's do some final
307:28 - adjustments to this puff
307:31 - effect set the amount to
307:36 - 12 and the explosiveness to
307:43 - 0.85 also I want to give it
307:47 - a random angle between minus 180 and
307:53 - 180 let's go to position I want I want
307:57 - this clouds to spawn in a ring
308:04 - position with a value of one in the y
308:07 - axis
308:09 - and a height of zero and a radius of
308:14 - one also I want to set a
308:17 - velocity in the Y
308:20 - AIS between 0.5 and 1 and finally we can
308:26 - give it a nice
308:28 - color this time I want to use a color
308:31 - ramp let's create a new gradient
308:35 - texture enable hdri
308:41 - and I want to start with a really
308:43 - intense strong purple with a row value
308:47 - of
308:49 - 0.4
308:52 - 0.05 and
308:57 - 1.2 and I want it to go to a full black
309:01 - color at the
309:03 - end also we can give it another color
309:06 - over here with a row value of
309:11 - 0.2
309:14 - 0.05 and
309:16 - 1 that's it we get this really nice puff
309:21 - effect finally if we want we can set it
309:24 - to one shot and when we need to use it
309:27 - we can just emit the effect one time
309:30 - here by clicking
309:36 - here I have also added some extra
309:40 - details to the puff effect as you can
309:43 - see I will not dive too much into
309:46 - details about this since I have already
309:49 - done this in the past in my heat effect
309:52 - tutorial if you haven't seen my tutorial
309:56 - please check it out basically here I
309:59 - have two particle systems one is a big
310:03 - quad mesh with a texture that scales
310:06 - down with this curve
310:10 - and I did another particle system which
310:14 - add a bunch of quad meshes with a simple
310:19 - billboard
310:20 - texture and this simply helps to add
310:24 - some more impact to this puff
310:29 - effect as for the step puff effect it's
310:34 - almost the same I just Tweed some
310:37 - parameters for example I have changed
310:40 - the color to a white color and change
310:44 - the amount to two
310:47 - particles also I have set a simple
310:50 - velocity into the x axis
310:54 - only the puff effect is completed and
310:58 - now we can customize it as we want and
311:02 - of course the possibilities are a lot
311:05 - but at least you have the basics done
311:08 - and you can work from there so that's it
311:12 - for this tutorial guys I hope you have
311:14 - learned something new today and if you
311:17 - want to learn more about visual effects
311:19 - in thought please check out my YouTube
311:22 - channel thank you for watching
311:28 - bye all right so now that we have all
311:30 - our FFX or now that you kind of figure
311:33 - out how to make them we already have
311:35 - them whatever you may have done me
311:38 - scratch or you already have them here
311:40 - from the started project whatever let's
311:42 - take a look at what we have and what
311:44 - we'll implement the first thing we're
311:46 - going to implement is in our player so
311:47 - let's open up our player here and we're
311:50 - going to now add the VFX that are in our
311:53 - player which
311:55 - are the level up scene so this one we
311:59 - pop that in we also will need the
312:04 - puff puff run the puff run this one we
312:09 - that
312:10 - in pop it in there we go and we'll just
312:12 - make sure that both of these are reset
312:15 - to
312:17 - 0
312:19 - go okay so for the level up I'm going to
312:22 - have to make this local and now I have
312:24 - access to the animation player so here I
312:27 - don't want this to play by default I'm
312:28 - going to uncheck
312:30 - that no and now I'll actually rename
312:34 - this
312:35 - to I'm not going to rename it I'm just
312:37 - going to go into my script and remember
312:39 - this level up function that we created
312:41 - well this is where I will get node get
312:45 - this animation player
312:47 - here and we will
312:51 - play the initialize function so uh in it
312:56 - this is my level up and we can test this
313:00 - out play and if we go find a monster to
313:04 - kill which we'll have to spawn them in
313:07 - in just a minute here we
313:11 - go okay maybe I'll uh oh he died okay
313:14 - there we go there's our level up there
313:16 - we go we saw that we leveled up and we
313:18 - even got the signal and we played the
313:20 - animation there we go now what about the
313:23 - puff well this is not too hard because
313:25 - all we need to do is emit this every
313:28 - time I run now of course there's a few
313:30 - options either I can emit this while I'm
313:32 - running in my code or whatever I'm going
313:35 - to do this through the animation Tree in
313:38 - my animation tree in my night here pop
313:41 - my animation fee up I will find the
313:44 - running a which is the one I'm using and
313:47 - every time I I run so maybe like kind of
313:51 - one
313:53 - step maybe one right there I can go to
313:56 - my puff here and turn this on or I'll
314:00 - just kind of re track that and here I'll
314:03 - have to click into this and turn this on
314:05 - so now when I play this you'll see the
314:08 - puff
314:10 - so there we
314:11 - go now when I hit
314:15 - play you will see that when I
314:18 - run I have that puff
314:25 - effect there we go so it's at The First
314:28 - beginning of that animation track right
314:31 - okay so that's our puff run now we need
314:33 - to implement our puff monster death
314:37 - effect so here we will add add our big
314:41 - puff we'll pop this in our scene here
314:44 - we'll make sure that this is at position
314:48 - Z and now uh we want
314:54 - to out we want to make local and here we
314:59 - have the hit effect so this is cool but
315:02 - this is the entire puff effect so here
315:04 - we want this entire puff effect to hit
315:06 - play but I'll uncheck this oops so I
315:09 - want this entire animation to play right
315:11 - here when I die so here in my uh script
315:15 - here when I die my death function all I
315:18 - need to do is play
315:24 - this
315:25 - play uh hit there we go that's pretty
315:29 - much it here I'll just say get node
315:31 - instead because I like to use a
315:34 - consistent way of getting nodes all
315:36 - right there we go we played this
315:38 - animation
315:39 - now instead of queing free I'm going to
315:41 - hide ourself or I'm actually going to
315:44 - hide the skeleton Warrior okay and then
315:49 - I'm going to wait for this to finish
315:51 - connect the animation finished once it's
315:54 - finished then I will self duct Q free
315:57 - but now what I can do here is let's head
315:59 - back to level one and I'm actually going
316:01 - to move my monster here to be right in
316:03 - front of my player that way I don't have
316:05 - to uh wait for him to run all the way
316:08 - there
316:09 - let me just equip some weapons stuff
316:12 - here kill this guy he dies pu effect
316:15 - shows up and eventually he'll you free
316:20 - there we go that is a cool way that we
316:22 - can do that now of course you can also
316:25 - um here in the death of course hide so
316:29 - here this is when the death happens so
316:32 - here we'll hide the Sprite and here I'll
316:34 - just say get node instead
316:39 - skon Warrior there we go all right so
316:42 - that is pretty much it for our effects
316:44 - um we do have the hit effect left so
316:46 - let's take a look at our hit
316:48 - effect here we go the VFX hit we can pop
316:52 - this in uh we can pop this in
316:54 - realistically anywhere we want I'll pop
316:56 - this into my uh player here and if I
317:00 - make this local we'll find the spark
317:02 - effect and this I wanted to happen on my
317:05 - sword so what I can do is I can find my
317:08 - sword here in my right hand slot pop
317:12 - this in my hand slot I will take the
317:15 - position and reset
317:18 - it and I'm going to take my animation
317:20 - player here uh
317:23 - for the Knight play the T pose real
317:26 - quick this
317:28 - guy let's play the T pose that way I can
317:31 - move the spark effect I want to move it
317:34 - kind of right around there that's
317:36 - probably where I will hit something
317:38 - that's where I'll actually um you know
317:40 - hit something so here I'm going to turn
317:42 - off the hit by default in my functions
317:45 - here when something enters this area so
317:48 - I can actually just go over here go to
317:50 - node double click this and this will
317:53 - take me to where it needs to be I can
317:55 - take this this is my path for my hit
317:59 - animation I will say get
318:03 - node animation player and then
318:06 - play hit so here we go go we now have
318:09 - that hit effect being played every time
318:11 - I hit something so let's take a look if
318:14 - this
318:15 - works now if I play we now see that full
318:21 - hit effect every time I hit something
318:24 - more specifically a Monster yeah there
318:26 - we go there's our game with some sound
318:29 - effects or some effects now next we'll
318:31 - add some sound effects let's take a look
318:33 - at how we can do that all right so we're
318:36 - going to add three different sound
318:37 - effects which doesn't sound like much
318:39 - but that's okay here in our player we're
318:41 - going to add a audio stream player 3D we
318:47 - create we'll rename this to damage we'll
318:51 - duplicate
318:53 - it D we rename this one to hit and these
318:58 - two effects are pretty easy we just need
319:00 - to find the hit effect so can find
319:04 - either sword attack human maybe we can
319:07 - put this one for our damage and then for
319:09 - the hit we can
319:11 - find one that gets hit maybe the sword
319:15 - hit and we can play this by going to
319:18 - playing you should be able to hear it
319:21 - it's pretty
319:22 - cool now what we can do is head over to
319:25 - our script this is actually not too hard
319:27 - because all we need to do is in our hit
319:29 - function I just need to get
319:31 - node hit and then dot play so it's that
319:35 - easy I'll just copy this and then every
319:38 - time I get hit or I hit something this
319:41 - is where I'll damage it so I'll say
319:44 - damage stop play all right so that's our
319:47 - sound effects for a player one more
319:49 - thing we'll add is our item
319:51 - object over here we'll add a audio
319:54 - stream
319:56 - player we'll rename this to
319:59 - pickup we're going to connect the
320:01 - finished to this uh the signal to the
320:04 - node or to the script uh let's actually
320:07 - fill this in with a thing first so let's
320:10 - find whichever one we want we can maybe
320:12 - do crate
320:13 - open realistically it doesn't actually
320:15 - matter maybe stack open that might sound
320:18 - decent so let's say that is our pickup
320:20 - sound effect and the reason I'm doing
320:22 - this is because here we're queuing free
320:25 - now this is kind of a different way of
320:26 - doing this is here I'm going to ceue
320:29 - free once the sound is finished but
320:31 - until then I'm just going to hide self
320:34 - it's going to look as if I destroyed it
320:36 - but really it's just hiding so now now
320:38 - when I hit
320:40 - play I create my game
320:43 - here I can po this
320:47 - in there we go and go and kill it you
320:52 - can see we have some sound effects which
320:53 - was nice and then when I pick these up
320:56 - nothing happens uh probably because I'm
320:58 - never playing it so that makes sense so
321:00 - when I enter this I need to play it so
321:02 - let's get node pick up
321:07 - play and let's hit play one more time
321:10 - hopefully you caught on to that what I
321:12 - just did there I made a small mistake
321:14 - it's okay
321:17 - though all right so there we go there's
321:19 - our sound effect you should be able to
321:21 - hear it being picked up all right so
321:23 - there we go that is how we create um
321:26 - some sound effects and that's pretty
321:28 - much it so in the next part I think all
321:31 - we have left is to um have our monster
321:35 - spawn in our world so here I want to
321:36 - spawn our monster but I don't want to
321:38 - spawn it in a wall right so we're going
321:41 - to have to figure out how we can do
321:44 - that all right so now what we're going
321:46 - to do is in our level one we're going to
321:48 - create a new script attach this to our
321:51 - script level one we'll put this in our
321:53 - level or script system here hit create
321:56 - and pop this out now I'm going to on
321:59 - ready variable our Warrior scene we're
322:04 - going to pack this
322:07 - scene and I'm going to reload it here a
322:12 - skeleton Warrior we go and now I'm also
322:15 - going to load the grid map grid map to
322:20 - get node grid map now this isn't going
322:24 - to 100% work uh sorry floor because
322:26 - renamed it uh and I'll kind of show you
322:29 - why in a
322:30 - second we'll kind of look through this
322:33 - together so first let's create a
322:35 - function a ready function and we're
322:39 - going to say while the get node
322:42 - monsters. getchild
322:47 - count count is less than 10 I'm going to
322:50 - start adding monsters until I get 10
322:52 - monsters now what we can do is I'm going
322:55 - to get a x position and randomize it by
322:58 - saying Randy range from -40 uh
323:03 - 240 I'll do the same thing for the
323:07 - Zed and then I'm going to create a
323:09 - monster temp
323:11 - variable now monster temp now here's the
323:16 - thing is this monster temp we need to
323:18 - instantiate it so here we'll just say
323:20 - warrior scene do instantiate done now we
323:24 - need to check to see if the grid map.
323:27 - get
323:28 - cell cell item at Vector 3 I at The X 3
323:38 - I at The X position that I'm trying to
323:40 - add at -1 at The Zed position that I'm
323:45 - trying to add as well is equal to Z Now
323:49 - is it zero let's find out let's close
323:52 - this and head over to our walls and
323:54 - floor now if we go to the library the
323:57 - item and zero this is the one we're
324:00 - looking for here I need to make sure I'm
324:03 - adding my monster on a floor cell and
324:06 - not a uh all wall arched right so what I
324:11 - can do here is I can do two things first
324:14 - I can check to see if I'm on a floor and
324:17 - then I can also check to see if I'm not
324:20 - in a wall and I can do that by saying
324:23 - grid map walls here I can maybe rename
324:26 - this one to
324:28 - flor of course here I'll have to this to
324:31 - grid map floor now here I'm checking to
324:34 - see if I'm on a floor if I am on a floor
324:37 - I now want to check to see if I'm on a
324:39 - wall so I can do that by also checking
324:43 - for the same thing I'll just say copy
324:46 - this except this one I don't want it to
324:48 - be zero I want it to be the this one
324:51 - wall arched so I have to find which
324:53 - position that it is in here it is going
324:56 - to be two now you might have a different
324:58 - one maybe you have yeah maybe you have
325:01 - something else I don't know you'll have
325:02 - to check them and the number here is
325:04 - corresponding to the number we need so
325:06 - here I'm going to make sure it's not not
325:09 - equal to two then if it is or if it's
325:12 - not equal to two meaning I'm on a floor
325:15 - and I'm not on a wall then I will add
325:17 - the monster to do that I'll say monster
325:20 - temp
325:21 - position is equal to Vector
325:25 - 3 at X
325:29 - position at position let's say three
325:32 - just so it kind of starts in the air and
325:34 - then Z
325:36 - position then we'll say monster 10
325:39 - player is equal to get node player
325:42 - because we need to assign the player uh
325:45 - to our monster right because before we
325:47 - have exported it close this remember
325:50 - here we had it exported but now we need
325:52 - to assign it manually the code okay so
325:55 - now we need to actually add the monst to
325:57 - our scene so that's not too hard we can
325:59 - over here we can say get
326:02 - node
326:04 - monsters monsters go do add child
326:09 - monster ATT all right so there we go now
326:13 - now we will pray that this does not
326:15 - crash because we added a while loop so
326:17 - hopefully this works out nicely all
326:20 - right here we go we have not crashed and
326:24 - we have some monsters that have been
326:26 - added to our game and none of them are
326:27 - in the wall so obviously all of them
326:29 - were added to this side um that might be
326:32 - because the positioning was over here um
326:36 - you can change the range that they get
326:38 - uh spawn in right here right depending
326:40 - on what you want for the X and Y
326:42 - position it really is up to you I just
326:44 - did 40 to 40 I think that will cover a
326:46 - wide range um it might be more it might
326:49 - be less not 100% sure actually no that
326:53 - should cover most of it so here you can
326:54 - see that this is 30 and this is around
326:58 - -30 probably on the other side Etc so
327:00 - this should cover the entire map that we
327:02 - have and it will only spawn 10 monsters
327:05 - in our map okay so that is how we make
327:09 - sure that things don't spawn in our
327:10 - walls we make sure that they spawn in
327:12 - our map Etc so and it's a relatively
327:15 - randomized position so pretty neat all
327:18 - right so that is it for this section
327:20 - believe we're done but we'll find
327:23 - out congratulations on completing this
327:25 - course course was not very easy pretty
327:28 - long but got through it and good job so
327:32 - we actually created a pretty neat game
327:34 - in the end we have a relatively good
327:36 - working player with a monster and an
327:39 - inventory system that's pretty neat and
327:42 - all that good stuff so congratulations
327:44 - completed this course and H yourself on
327:47 - the back all right so now what do we do
327:50 - next what is the next step well first of
327:52 - all I'll just kind of encourage you to
327:53 - check out my channel of course and hit
327:55 - that sub button there um but what about
327:58 - what else what else can I offer you to
328:00 - help you along well I have weekly
328:02 - challenges and the point of the weekly
328:04 - challenges is terms of practice so this
328:07 - is kind of you going forward you need to
328:10 - probably practice if you want to learn
328:11 - gdau or game development you will
328:14 - probably need to practice now I offer
328:16 - free weekly challenges every Sunday I'll
328:18 - be offering uh and sending out a weekly
328:21 - challenge and the next week I'll be
328:23 - sending out the solution to that
328:24 - challenge every week I'll essentially
328:26 - send out the challenge and the solution
328:28 - to the previous week right so I've been
328:30 - doing this for about three months now
328:31 - and uh everybody has been enjoying it on
328:34 - my channel so far so I'm going to keep
328:36 - doing it for a while to access it all
328:38 - you need to do is join my email list for
328:42 - my patreon as well email list is
328:44 - completely free so all you need to do is
328:46 - just hit subscribe and you will be added
328:48 - to the email list for that and yeah
328:50 - that's it so what else can you do well
328:53 - of course there are courses as well I
328:55 - have several other courses on my website
328:57 - that you can check out um some are free
328:59 - some are paid but of course you can also
329:02 - access all of it um if you're a
329:04 - membership or if you buy a membership
329:05 - sorry um so definitely check that out as
329:08 - well now the advantages of my courses
329:11 - specifically is that I try to structure
329:13 - my courses slightly differently than
329:15 - many other people might and it's more
329:18 - specific in the sense that I split it up
329:20 - into kind of two or three different
329:21 - sections the first section is
329:24 - essentially teaching you the concept and
329:26 - idea of what we're going to do and what
329:28 - we're going to learn to apply then in
329:30 - the middle I give you an assignment and
329:33 - That assignment will hopefully help you
329:35 - guide uh guide you into creating the
329:37 - game that we need to make and then the
329:39 - third section or the second part of that
329:41 - course will be kind of like what we just
329:43 - did in this course where I kind of just
329:45 - do a follow along a code along tutorial
329:47 - where you follow me and we kind of look
329:49 - through the solution of doing the
329:51 - assignment and the project together so
329:54 - if you if you're interested in that sort
329:57 - of format definitely check it out on my
329:58 - channel I have a few courses up for free
330:00 - and I have a few courses up that are
330:02 - paid definitely check it out and
330:04 - hopefully I'll see you guys around

Cleaned transcript:

learn how to use gdau to build a 3D RPG game in this series Omar from coding Quest will guide you through four main components creating the player designing the AI skeleton monster building the guey with a profile and inventory system and adding stunning VFX to enhance your game by the end of this course you'll have the skills to create a dynamic and engaging 3D RPG game with gdau complete with Advanced features and interactive elements for skipping me just hold on real quick is I'm going to give you a quick overview of this course and what you'll get out of it my name is Omar and I run the channel coding Quest and if you guys enjoy this free course definitely check out my channel as well as my site as I'll also have this course up for free on there in a more comfortable format now the first thing that we're going to do in this course uh is understand that this course is split up into four sections the first section is going to be focusing on the player specifically the player will be able to have several different features like moving uh animating attacking uh stuff like that the next section we'll have a monster which will be a relatively simple AI that will just have some different state machines it'll be able to go from idle to run to attack Etc so it'll be able to detect all those different things in this course after the monster we'll be going into the GUI which will involve an inventory system with an equipment system with it a profile system to just represent and show our stats and finally a shop so this will allow us to buy items and stuff like that the last section of this course will have VFX this will kind of I'll kind of introduce you to what it how we do this with a very simple fire effect then we're going to have a guest instructor who's going to come in and he's much much more talented than I am with the shaders and particle effects inside of good he's going to kind of walk you through a lot of that stuff lastly as I mentioned short mentioned before if you guys don't prefer the YouTube format with one super long video I have this course up uh split up more comfortably on my site at quing quest.com we go check it out without but without further Ado good luck with this course and I hope to see you all at the end all right welcome everyone to our beginning uh part of this RPG course now in order to get started I'm going to assume that you have downloaded the starter project files now do keep in mind that if yours is zipped meaning it is a ZIP file and it ends with Z zip you need to unzip it here I have the unzipped version and now we can click the gdo engine and open it up here you will see the project manager now there is something to note at the moment of this recording the stable version is on 4.2 in fact I can open it up and you will see the version is 4.22 now the the version I'm going to be using is 4. three as this is kind of in beta or in Dev at the moment uh it is still not buggy per se but it is just not stable yet but um I'm going to be recording this and hopefully by the time you're watching this and following along it will be in 4.3 stable however just to basically note this if you are using a different version if you doubleclick the project you will see that it wants to upgrade it and it will do this automatically and it's very good at it it will upgrade whatever it needs to uh and it just does it all on its own now all I need to do to actually get started is I'm going to take my file here the 3D action RPG starter project files and drag it into my uh project manager now I will find it by finding the name of it 3D action RPG and if I double click it whether you needs to convert convert it or not you just open it and it might reort some assets if it needs to it will do whatever needs to do to get started so hopefully by the time it's done importing and whatever you see something like this you see no scenes you see a bunch of asset packs here you see a bunch of folders and let's just take a look at what we have first so we have a few asset packs that essentially here we have some uh 2D pixel art we have the kkit adventure which we'll be using for a character we have the Kut dungeon remastered which is going to be for a dungeon we have the skeleton which will be for our monsters and we have this sfx which will be for our sound we also have the VFX these are um these will be made outside of kind of the engine and and course but we'll have a introductory uh instructor kind of come in and you know do these on our own but here I have them just already finished as I'll be showing you how to actually Implement them into our game later we also have our default uh resource here or our theme and if I click it you will see it already kind of filled in but I will show you how to do this from scratch now kind of following that if I go to my 2D scene on the top you will see the UI that I'm using this is the UI template we're going to use some of these panels we're going to use some of these for armor stuff like that so this was something that we're going to use for a little later and then lastly of course we have our font this is going to be our font our custom font inside of the engine and that is already in the default function as font as well you can see here that I've already loaded it in all right so this is our starter project and now from here let's get started and create our grid map so we want to actually get started by going to the 3D part and we'll get started in here in just a second okay so let's get started with our grid map now our grid map is essentially Our World Builder it's our environment scene level to do this what we'll do is first we'll create two new folders we'll create a new folder called scenes and we'll create one more folder called scripts this is just to organize all our like scenes and scripts and things into these three main folders now one cool feature inside of gdau is if I rightclick one of these I can set the color folder of course you can kind of set it to whatever you'd like I'll just set it to random colors uh I'm not too picky about the colors so just kind of set them in order like this now in the scenes folder I'm going to create a new folder called levels and this is where you can create more than one level and anything level related I'll put it in here so first let's create our level so let's hit node 3D as our base scene I will save this in my scenes folder my levels I'm going to rename it right here I will rename this to level one and hit save and this will be our main scene at the moment if I hit play I can select current and you will see our game has launched this is our first game congratulations now let's rename this to level one on the top left and now I want to add something called a grid map this is going to be where I can actually put tiles down in a 3D environment now you can see that I can put stuff but there's nothing to put in order to put things in our game we need a mesh Library however in order to create a mesh Library I can't just create one like this I can't can't just click into this and do that this is something that you would you would do in a 2d scene or could do but in 3D unfortunately it's not that easy but don't worry it's still pretty easy just done a different way now to do this we will create a new scene here a 3D scene we'll rename this to mesh Library I'll contrl s to save this I'll put it in this level scene now what I'll do is I want to find a floor on uh our dungeon assets here so if I search up floor you will find some floors now do feel free to you know pick whatever you'd like I'm going to pick the floor P large I'm going to pick this guy and if I just drag it here and I turn on the pixel snap or the uh snap here it will snap to the next pixel now what I'm going to do is I'm going to reset the transform to 0 and now I can snap it kind of nicely to this corner right here now don't worry it doesn't look beautiful and there is a reason for that but we'll get to that later at the moment all we need to do is hit make local I will drag this mesh out out of that thing I will delete this guy and now what I want to do is I want to click the mesh make sure the mesh is selected I'm going to go to mesh right here I'm going to create a collision shape and here we have a few uh options but I'm just going to leave it as it is and I will create and now you see here that I've created a collision shape now in my floor tile you want to make sure that it is the uh body where we have a static body 3D and then a collision shape now make sure it's in this order like so and now if we zoom in here you can actually kind of see that blue outline that is the Collision shape of our tiles now it's it's kind of hard to test this right now because we don't have a player yet but just trust me this will add Collision for our game now if you're using good 4.2 it is a similar process but I think it just has fewer options essentially and you will see something similar to this so if you're also using like 4.4 or whatever in the future it should relatively be the same if it's not search it up um for that respective version so if you're on 4.4 or whatever version in the future just search it up on YouTube you might find a short 1 to 2 minute video explaining how to do that in fact I might actually update this in the future as well so okay now what we want to do is we want to repeat that process for one more of these I'm going to do this for this guy I will add a well I actually want to make this local first we'll drag this out I'm going to delete this node and I'm going to do the same thing at a static body click the mesh click create Collision shape and create and just drag that in and now you can see it's a little more accurate but yeah that's about it now all we want to do is we want to do two more things I'm going to add a wall now if you're wondering how to kind of navigate our 3D scene here all I need to do is hold shift and middle click and I can kind of drag my scene a little bit or my camera to the right or left now one other uh thing we'll add is a wall arched I'll drag this out I want this guy I want a wall doorway this is going to represent our door kind of and then I want a wall corner there we go and here you can see that it's just going to represent a corner now the last thing we'll have is a uh stairs this will be called uh stairs walled here we go and if I drag this out you will see it just has stairs or it is stairs okay so now we'll repeat the same process for each of these now a cool trick is if I select all of these and I right click and there should be a make local unless they took that out it seems like they took it out so we'll have to do it one by one that's okay so we'll make this local for each of these and again a cool trick is we'll control and select all the meshes and I'll simply drag them out of this now I can just delete all of these again I'll do the same thing now I have all these meshes I want to essentially add now for each of these I will just create a collision shape and you can see it's creating a pretty accurate Collision shape for each of these now we'll actually skip the uh stairwell and I'm going to delete the doorway door so here I don't want a door I'm just going to delete that now for each of these I'm going to just drag in the Collision shape but again I need a static body 3D for each of these to make sure we essentially add a static body 3D for each of these meshes and drag in the Collision shape for that corresponding mesh or static body now you might kind of Imagine an issue here for this stairs stairs don't exactly uh Collide well with our player and you'll see why later when we add our player but for now what we'll do is we will actually add a static body 3D I will add my own Collision shape a searching up Collision shape and I'm going to give it a shape of a to a box here we go and now I'm going to kind of just drag this box out and what I'll do is I'll rotate it and basically extend it to be the size of the stairwell and I'm going to turn off the snap so I can make this a little more accurate here and I'm going to just drag this up a tiny bit until I kind of see it pop out now I want to rotate it just slightly downwards like this and I'm going to just try to basically match it up with the stairs as much as I possibly can and this will allow us to basically smoothly run on the stairs all right so that looks kind of okay I'll just shorten this slightly so it doesn't pop out of the top there and now we'll save and finally we can go to our scene on the top left we can export as mesh Library we can go into our scenes levels all this Library hit save and now if we head over to a level one I will find the asset that I just found or just made I going into our levels and now here we have a mesh Library I can drag this in and now you can see that I have all my libraries or all my floors now what I can do here is I can hold shift drag and then crlf this will allow me to fill in my scene very quickly and very nicely now if I hit play nothing will happen or I won't see anything and that is for a very good reason that is because I do not have a camera 3D in order to make our 3D scene work I need a camera 3D inside of a 3D scene in order for it to play and so I can see our 3D environment now this does not look very well or very good in fact it looks horrible in fact we can't even see the outline of our files so uh in the next part we will look at adding our environment and seeing how we can add some light in World environment and stuff like that all right so I'll see you in the next part all right now that we have our scene here I want to add some World environments and stuff now let's take a look at what that even is if we add a new node here to our level one I'm going to add a world environment and immediately you can see man it looks so much better and if I hit play you will see no difference now why is that well we need to actually add an environment we need to add a new environment here when we do we will go into into this environment and we can start fiddling with its uh things here now let's take a look at a kind of short intro to what we can actually do here the first thing is the background now the background here this is where we can actually decide if we want a dungeon or a Overworld kind of a sky based thing let's take a look at the sky first so let's add a sky add a new sky over here we'll go to procedural Sky material and yeah that's kind of it in here you can of course adjust the colors but we're not going to do that we're going to hit play and now we can see a much nicer scene we can even see the tiles uh properly you know you can see the actual stuff of it now what we'll do is I'll add something called a directional light this allows me to add light that is directional and you can see by default it is pointing uh this way to my right I suppose for the negative Zed index now here I can point it downwards and if I hit play you will see now it's our scene is just more has more light now we're going to be making a dungeon so obviously we're not going to use any of this so let's reset all this as instead of mode or in our mode instead of color or Sky sorry we're going to use a custom color now in here when I click the custom color this is where it's kind of up to you be a little creative on this as I'm going to adjust the color 100 100 and 100 this will give my world kind of a grade out effect and when I hit play it looks a little dark but it's not completely black so if I were to reset the color here play again you'll see it's completely black which of course you probably don't want so it's kind of up to you you know be a little creative on the coloring um if you are creative I suppose um but I'm going to just do 100 100 100 and now I'm going to head over to the fog and volum metric fog now I'm going to just enable both of these now in order to play around with this I would kind of just suggest you know play around with some of these one by one and change the values and see what happens that is essentially the idea of this change some of the light energy values you know change the density Etc and see what your scene looks like for me what I'm going to do is in my volumetric fog I'm going to change the density to 0.02 and leave the rest as it is for the fog I'm going to change the density to 0.2 the light energy to 0.1 and that's it now if I hit play we get kind of a similar effect to what I have for my original kind of game all right so we're actually not going to enable glow just leave it off for now as we might actually come back to it um once we add more light and stuff to our world and scenes and stuff okay so now that we have our world scene set up here we want to actually start with our player so our player will be our next part and I will see you all in the next part where we actually get started with our player scene adding our player and you know making it work so see you in the next part all right so to get started here what we're going to do is create a new Scene by adding a new scene here we will add a new node called a sorry not static uh character body 3D I'm going to add a collision shape and what we're going to do now is add our character we add our character or the character that we'll add is inside of the assets folder in our K Adventures we'll find the fbx that we want and here if we find uh just one of these guys sorry not the assets the characters here we go we'll find these characters we will use a barbarian or no sorry we'll use a knight as our base and now we can drag our Knight here here we go I will make this local and now I can reset the Knight the position to 0 0 right there now the Collision shape I'm going to give it a collision shape of a capsule and just move this up to be around the same size as my player can make it a little smaller and just make it at the base of its feet all right so there we go there's our capsule for a player now we'll save this as player or lowercase maybe and I'll go up into my scenes folder create a new folder called player hit play and save and here we go now in here we'll rename our player to player I will now attach a script with the template character body 3D I will move this script into my scripts folder adding a new character uh script here called player open create and now we have our script now we'll just hit play uh actually before we hit play let's add our player to our scene here so let's add our player like so it might kind of lag out or it might just move it now that happens so I'll move it back into the uh player scen or player files sometimes that happens and it's kind of annoying but that's okay um it's just because the project files are so I might have to hold and drag it until I see the actual image there there we go so now I'll add my character body as a child of the level one I'll rename this to player hit save and now I'll hit play and when I hit play you will see my character body and in fact you can even start moving with your joystick or with your uh keyboard now obviously though you might notice that this doesn't actually really work the the way might want it to the arrow keys might not be the same way we actually need it to now that is because our uh camera is not attached to our player and we don't have Direction based movement well based on where our camera is looking so let's take a look at how we can do that inside of our player next but first to get this started though let's just close the mesh library and now I will actually get into my player and we'll take a look at how we can do this inside of our player all right to get started with our ler and camera control and movement and stuff what we're going to do is we'll set up the camera first and then we'll take a look at the script because we added a script but we don't know what any of it does yet so first what we'll do is I'm going to add a node 3D I'm going to add a new node called spring arm 3D I'll add one more node inside of the spring arm called camera 3D oops that's not camera 3D add a new node one more time M 3D and this guy I'm going to actually add one more node 3D and put all of this inside of that one now this one I'm going to rename it to M root this next one I will rename it to H and this one to V this essentially represents my horizontal movement and this represents my vertical movement and then this will be my actual camera right okay let's take a look though at what I want the setup to look like for the spring arm I'm going to take this and set it to negative five now you can change the length later but at the moment I'm just going to leave this as five now this is the actual length away from the camera the player you'll kind of see it will be away five uh pixels or meters away from the camera now the camera itself I'm going to rotate it in the transform on the Y AIS to 180 and on the X to 10 this will just make it Point downwards ever so slightly next in my um am rout sorry no in my V right here we can now move this guy up uh a little bit kind of up to you I'm going to move it up to 2.9 this will be above my player's head all right now lastly we'll go back to our script and just a kind of tip here and this is what I will be doing for this series of course I'm going to be making my float or my script float this will make it come out of my actual scen or act out of gdau and into its own window this allows me to just show the code a little nicer and you can actually see everything without it being all crumpled up so I can zoom in and it might look a little nicer for you but of course you feel free to do whatever you'd like all right now in the code here we can see that we have a speed a jump velocity as our two variables now if you're using another version you might have gravity fact in vo 4.2 there was another one called variable gravity that might be what You' be using now don't worry it might yours might look slightly different but it's still the same the general idea here is first we're going to add gravity and we do that by adding the velocity on the Y AIS and here the gravity will add it to the y axis times Delta here we'll jump the same idea so here we jump by clicking the UI accept which is actually spacebar or enter on by default inside of gdo we'll also use a function called is on floor to make sure we're actually on the floor and then we jump now here the jump velocity is actually positive and the reason is because the positive is upwards not NE uh the other way around now here we will get the input Direction by getting Vector between these four Keys it will give us a input Direction based on what I click with these four Keys next it will give us our Direction with the transform. basis and multiply it by the Direction X and Direction y now the reason we don't do the Zed is because that's we don't need that right we just need X and Y for the kind of Pop down movement if that makes sense now we'll normalize it this will kind of just essentially round our number to a nice number so it's not completely weird every time I click and then we'll check to see if direction is valid if it is this means I'm moving and if I am moving then I want to actually move I move by multiplying my velocity or making my velocity dox equal to Direction dox time speed which up here is 5.0 now here this is essentially the same as setting my velocity to zero but here it's just using a function called move towards uh it's just basically taking our current velocity and moving moving it to zero over the times of speed so don't worry too much about it it's pretty much the same as doing this now lastly we'll have a move and slide function this will allow us to actually move and slide or move our player so this allows us to actually utilize velocity now I do have a video on my channel uh explaining transform and basis and how General things inside of a 3D environment work at least in the simplistic manner so if you're curious about how the basis and transform works terms of our player do check out that video on my channel um it is on coding quests again that's so lastly let's close our script here as I want to set up my camera now in order to do this I'm going to create a new script here by going to scripts player and I'll actually add it through the cam rot here we'll add a new script by going to the top left by adding a new script I'll uh call this camera controller I'll add this script to my player scene for scripts here open create and here we go here's our script now in this script what I want to do is I'm going to delete all this and add some new variables the first variable will be cam root H this is going to be an integer this will be equal to zero we'll do the same thing but for the V we'll say cam root B and we'll say int equal Z next we want to get the or have a maximum and a minimum for both of these uh specifically for the V so what we'll do is I'm going to use something called export variable h v uh V root and this will be an integer and we'll make it equal to 75 by default now I'm going to duplicate this but I'm going to actually change this to be Max and this to be Min so the minimum value I want it to be 55 at least for me and the max I want it to be 75 now you'll see what this kind of looks like in code when I actually start using it now what I'm going to do is I'm going to make two more variables for sensitivity to kind of adjust our sensitivity based on this variable I'll make one for sensitivity maybe I'll just copy this number right here or this word sensitivity this will be a float and I'll make this equal to 0.1 let me just copy paste this and we're going to change this to V one last thing we'll do is we will add a acceleration variable H acceleration this will be a float as well so we'll make it equal to .0 copy this one more time but this one will be for the V all right so now let's take a look at the actual logic of our code so the first thing we'll do is we'll create a function called input this will allow us to get a event input that essentially has things in it now what are these things well if I print event and I close this and hit my play button um we'll actually have to adjust something in a second but if I start moving my mouse around you'll see it says input event Mouse motion if I click you will see right above here it says event Mouse button this means I clicked right so this allows me to check to see if there's any sort of input with my mouse now what I need to do here just to make sure we set this up I need to delete my old camera 3D in my level one so now that this guy can actually take over and enable in this camera as this is the camera I want to look out of when I play Let's Open Up Our script here again and now let's take a look at what I can do to actually make this camera work what I can do is I can say if event is input event Mouse oops Mouse motion then I want to actually do something what do I want to do well I want to change my cam rot H and add the event the negative event uh do relative dox multiplied by the H sensitivity now I'll do the same thing but for the V oops copy paste this I'll change this to V I'm going to remove the negative here this will be do y and this of course will be V sensitivity this will allow us of course these AR the same number but this will allow us to you know adjust these movement based on sensitivity all right now this won't actually do anything so let's make this these numbers do something so we'll add a physics process function what we'll do here is we'll say cam root B is equal to clamp which is a math function we're going to clamp this form cam root V to degree to Radiance of our cam V Min to whoops outside of that to degree to radians one more time but this time we'll do the cam B Max all right so this will essentially clamp our vot between 55° and 75° you'll see what this looks like in just a second when we actually make this work so what we need to do to make this work is get node H and this will be our horizontal so we'll take the rotation of our Y and we'll make it equal to lur F the lur float from its float from so the float that we want it to rotate is going to be its current rotation so what I'll do is I'll copy this right here so I want to get its current rotation and then rotate it to mun H there we go over a time of Delta times H acceleration I think I spelled Delta wrong there so Delta there we go all right now that that's right now what I want to do is I want to actually copy paste this and now I'll do the same thing for the V but obviously the rotation for this will be on the X AIS because if I'm rotating the vertical I want to be doing the xaxis all right so here I'm going to do the same thing so instead of the H rotation I want the V rotation of course here I want the X rotation and then here I want the v v and then the V acceleration all right so now when I hit play Let's just test this out sometimes it can be buggy let's see if I can now move all right so now you can see when I move around my mouse not perfect but it is working slightly okay so let's take a look at what's going on as this doesn't seem to be working out 100% let's read through our code here and see if it makes sense first we're adding to our H rotation in the negative event. relative dox times H sensitivity next we're doing the same thing but on the y axis which is right time the V sensitivity okay that looks right then we're taking our cam rot camot V and we're going to clamp it between its current uh count CL rot and between the minimum and the maximum okay that looks right okay now here we have the rotation doy we're going to lurp it from its H rotation so it's current rotation to cam root H right by the speed of Delta time acceleration and then same thing here but for the V this should be V that's right and then get node V okay so let's take a look at one more thing this all looks right but maybe one more thing that we can do is we can make our input here do set Mouse mode to input dot oops Mouse mode captured here we go we'll close this and this should capture our Mouse so now when I move it should allow us to move around smoothly but it's not I'll be right back and figure out why it's not letting us move all right so one small mistake I made actually is these two numbers are actually going to be floats not integers that is why we had that weird clunky sound is because it was trying to round our float number basically to a whole number and now we have a nice smooth motion there we go so now we have nice camera rotation now on the next part we're going to see how we can make our Player move in its corresponding well Direction because here you can see it's not exactly moving how we want it to Right Moving in well kind of this way or I guess this way as if it's looking this way but we need it to move whenever I move my camera in the corresponding Direction so let's take a look at the next part to see how we can do that all right so get started with our player what we're going to do is head over to the script I'm just going to stop the game here and this may seem annoying but what we're going to do is actually delete everything we're going to start everything completely from scratch the first thing we're going to do is we're going to start with um all the variables that we'll be adding eventually hopefully some of these will make sense uh right now and eventually some of them might not right now but some eventually they will make sense as we actually start to use them so let's just start with uh all the forces so the first thing on the forces is we'll export a few Val variables first we'll export a variable called gravity this will be a float equal to 9.8 next we'll export our jump Force this will be an integer equal to 9 will export a walk speed this will be an int equal to three and lastly we'll have a run speed as eventually we want to uh create a shift uh hold right where we can actually go from walking to running so this will be our speed that we actually run at now this will probably have to be greater than three so in my case I'm going to do 10 which may seem like a lot but you'll see notice or you'll notice later that it doesn't actually impact it that much you'll kind of uh play around with the values yourself hopefully next we're going to create a few um animation nodes so these are going to be the animation node names so what we'll do here is we'll say variable Idol node name which is a string will be equal to idle and what I'm going to do here is I'm just going to duplicate this a few times and now I'll just change the name of these this one will be walk this one will be run this one will be jump this one will be attack one and this one will be death now for each of these we'll say death or we kind of give it the corresponding one so walk here this one will be run this will be jump and attack one now you'll see what these kind of are for a little later but essentially they just represent the name of the animation that we'll be playing for each corresponding node all right so next we'll create some variables and these variables will be called our four for our state machine condition State whoops State machine conditions so what this will look like is is attacking and this will be a Boolean we'll also have a variable let's just duplicate this for now four times we'll have another one called is walking this will tell us if we're walking or not we'll have another one for is running and the last one for is dying each of these variables are going to true or false variables that will essentially tell us if we're dying or not if we're running or not if we're walking or not and if we're attacking or not all right so next up what we'll do is We'll add some Physics values so this will be the or the first one we have is Direction which will be a vector 3 next we'll have a horizontal velocity this will be a vector 3 next we'll have an aim turn and this will be a float this will allow us to aim uh for our turn when next we'll have a movement something called movement which will be a vector 3 next we'll have vertical velocity like so and this will be a vector 3 next we'll create a variable movement feed this will be an INT and last or not lastly we have two more we have an angular acceleration this will be an INT and next we'll have acceleration for actual movement will also be an INT and lastly we'll say variable uh there we go just hit and this will be a Boolean this is going to be for a little later uh in our series but this will allow us to detect if I just got hit or not so we kind of see what that's for much later but don't worry too much about it just now next I'm going to load or on ready load my cam rot or my cam rotation into as a variable or as a node and we'll do that by saying get node Hamot H I want to get access to the horizontal rotation of my node and I do that by saying get node uh rotation cam rot H and this will allow me to just get access to the node much quicker all right next what I want to do is I want to add a ready function and for now I'll just pass then I also want to add a physics process function this will allow me to actually Implement a lot of the physics process now in between this I'm going to add an input event and this will allow me to well input event just as we did in our camera rotation controller now in here is where we'll actually rotate or aim turn so here I'm going to say if event is input event uh Mouse motion then I'm going to whoops change my aim turn to be equal to negative event. relative dox time 0.015 all right now after this now we don't have this just yet but we'll write it anyways we're going to say if event is action pressed aim then I'm going to take my direction and make it equal to my cam rotation do Global transformation or transform basis. Z now this is going to actually allow me to change my direction that my player is looking at now this aim that I have that I don't have actually right now is going to be a left click or kind of whatever you want to be honest it might be control so if you want to aim your player in a certain direction whenever you hit this button this is how you do it so we'll add this a little later but don't worry too much about it right now but now we understand and see how we can kind of add this okay in our physics process function we want a few things the first thing we'll add is a variable called on floor this is going to be a variable that just checks to see is on floor so this will allow us to detect if we're on the floor or not but using a variable instead next what I'll do is I'll say if is not dying then I want to actually do the logic that I would do if I were not dying the first thing we'll do is we'll check to see or sorry not check but I'm going to actually uh add gravity now what I can say is if not on floor what I'll do here is I'm going to say Vertical Velocity plus equals Vector 3 dot down time gravity * 2 * Delta Delta so this will actually allow me to add our gravity now otherwise what I'm going to do here is I'm going to just copy this and I'm going to make this equal to a down time gravity instead of all this I'm just going to divide it by 10 and not multiply but divide by 10 all right okay so next what I want to do is I want to jump to jump similarly to what we had before I can say if input do is action just pressed I'm going to create a new variable or a new input called jump which we haven't added to our game yet but don't worry we'll add it soon and we'll say and is not is attacking because I don't want to jump while I'm attacking I also want to be able to jump when I'm also well you probably guessed it uh on floor so we'll use that variable that I just created to check if I'm on the floor or not now if I do what I'll do is very similar to the vertical velocity I can just take my Vertical Velocity and make it equal to Vector 3 dot up though this time times jump force all right so that is how I jump similar to what I had before next up I'm going to update my angular acceleration to 10 I'm going to update my movement speed to zero and then I'm going to update my acceleration to 15 all right next what we want to do is actually add our rotation so to do that or a camera rotation and apply it to do that what we'll do is we'll say h rotation is equal to cam rotation. h we'll get access to the node that we just created above we'll get its Global transformation transform basis and then oops basis and then we'll get .y hopefully this doesn't error there we go all right next what I want to do is I want to say direction is equal to its current direction rotated to our Vector oops Vector up Vector 3 dot up with the H rotation as its angle then we'll normalize this this will essentially take its current direction take its current rotation and rotate it to the direction that I want it to be rotated to which is the AG rotation okay so now that we have that I want to actually get our Direction because this adjusts our Direction based on the rotation of our camera but what about the direction of our Mouse or not our Mouse but our keyboard well this isn't too hard what I can do is first I'll check to see if I'm actually pressing anything now to do that it's not too hard I can say if input is action pressed I can say forward or now in order to do the or command I can just do this which is shift and then the button right above your Enter key if you hold shift and press that weird straight button above your enter ke key that is how you do that now you can do or but I just prefer this way next what I'll do is I'm going to copy paste this right here and now what I'm going to do this might seem a little long but I'm going to now copy paste this two more times because now what I want to do is I want to check to see if I'm moving forward backwards I want to check to see if I'm moving left and you guessed it the last one is going to be to check if I'm moving right now if I'm doing any of these three actions or four actions sorry then what I'll do is I'll say direction is equal to in Vector 3 and then inside of this Vector 3 we're going to do something called input dot getaction strength this will allow me to essentially detect and get the action strength of a certain key now the key that I want here is going to be left for the X but here I'll sa left now what I want to do is I want to subtract so I'm going to copy this I want to subtract the right so here I'm going to subtract the left to the right and this will essentially allow me to see if I'm clicking left I will get one if I'm clicking right I will get negative 1 and that is what I want now here for the Z Axis or sorry for the Y I'll put zero and then for the Zed axis I want to just copy this right here this in the X uh or sorry the Zed axis then here I'm going to put forward and then for the last one I'm going to put backward and then lastly I need this guy on this line I believe and now we should not error unless I do because I probably have a missing thing somewhere so saying expected closing that right here we need to close this I believe nope that is not range but right here I need a comma that's why okay there we go so make sure there's a comma after each line except for the last one okay so this allows me to take my direction based on input so hopefully this kind of makes sense and if I zoom out here kind of get a full view of what the code should look like next I'm going to make sure that this direction is only updated if I'm clicking something all right so now I have my direction being updated on its current direction and rotating based on where I'm moving now the question is how do I actually move how do I actually rotate now the rotation that we're going to do is going to be rotation on the mesh not the actual player so on the very top of our script we're going to up here we're going to say on ready variable player mesh and we're going to load our mesh and we can do that by getting the KN so the Knight is going to be our player mesh all right next we'll head back to the bottom of our script here and in here uh sorry outside of this if check checking here we're going to check and now see if the input is action rest aim then what we'll do is I'll say player mesh. rotation doy is equal to lur angle to its current player mesh angle so what we'll do is we'll get its current rotation doy and we're going to rotate it to the cam rotation H or sorry cam rote H like that and we want to get that rotations y so we do that by saying rotation doy and lastly we'll do this at a speed of Delta time angular acceleration and that's it next we'll go down a little bit let me just go a few lines below next what I want to add here is an else statement and I'm going to actually copy this into this else statement but here what I'm going to do is I'm going to change this guy to the a tan two of its direction dox and direction do Z then I'm going to subtract it's rotation doy so this is the same as saying self. rotation okay and then the speed is also going to be Delta times acceleration all right this is how we do that now of course this isn't complete though because now we still have a few other things now the last parts we need are going to be right here I believe in this line so here we'll say velocity do Z is equal to horizontal velocity do Z Plus vertical velocity. Z and essentially we want to duplicate this three times we'll change this to Y this to Y and change this or sorry to x x and x now for the Y I'm going to change this to Y and change this by deleting this and only having the vertical doy lastly on the next line we'll move and slide this will allow us to actually use the velocity now the question is what if what about the horizontal velocity well here I can say if is attacking then what I want to do is I actually want to lurp my velocity to zero so I can do that by saying horizontal velocity is equal to horizontal velocity lurp and we'll lurp it to direction. normalized time 0.1 we'll do this at a speed of acceleration now I'll copy this now what if I'm not attacking which at the moment probably not going to be for a while well I'm going to copy paste it in the L statement but for this I'm going to remove the0 Z and instead I'll put movement speed uh movement speed and then that's it so now uh let's give this a try and see what we get well let's actually now import our functionalities here because I've added a few things but none of this actually does anything right now because well I haven't added it so let's close this go to our project settings our project settings here we'll go to input map and here where I want to add or can add new function input mapping now in the add action what I'll do is I'm going to add a new uh action called right left backward forward dump attack Sprint aim and pause these are all the inputs that we'll need eventually now for all of these you can add whatever you'd like for the right I'm going to add the left left I'm going to add a backwards I'm going to add s and forward I'm going to add a so ASW basically now for the jump I'm going to add the space bar attack I'm going to add the left button the left Mouse button and I can do that by going to Mouse buttons going up and selecting the M left Mouse button that's a attack now for Sprint I want shift for aim I want control for pause I'm going to add Escape now I can close this and now let's give it a try now most likely it probably won't work first try that's okay okay cool so we got something wrong right away because I spelled basis wrong so let's fix that right away and see what we get all right so we got a bunch of errors but we do have something working we do see that our mesh is working based on our rotation which is nice so we can see that some of these are actually working quite nicely and the aim is working so we now know that the aim is working we just aren't moving properly so let's take a look at what's happening and I'll be right back okay so one quick fix I think hopefully you probably realized this is on line 62 I spelled forward wrong but let's continue as uh we actually have a bit more to do because what was happening and the reasoning this wasn't working is because the is walking and is false we need to now have a way of keeping track of what is true and what is false so the first thing we'll do is when I'm not clicking anything here I'm going to add an else statement if I'm not moving forward backwards or whatever I'm going to now say is oops oh my gosh is walking that's not is walking is walking is equal to false I'll also say is running is also false now what I'm going to do is inside of the direction I'm going to check to see if input dot is action press hopefully you can guess I'm going to check to see if I'm sprinting I'm also going to check to see if is walking is true now if it is what I'll do is I'll say movement speed movement speed is equal to run speed and then I'll say is running is equal to True next I'll say else is walking is equal to true and movement speed is equal to walk speed there we go now the reason that we need this mostly specifically this is because here I was I had a movement speed of zero so that's why so now what I can do is if I hit close when I test this you will now see when I hit play I can now move around rotate my camera and see that my player is moving now I can even hit control to aim my player as I'm moving but obviously this still looks you know it looks okay but it's not perfect because well we need animation we have a lot of Swords of stuff as well let me actually what we'll do is we'll go to the rig here and I'm going to hide a few of these swords so what I'll do is I'll just hide the bone so I'll find just minimize these and you can of course hide whatever you'd like I'm going to show or hide everything except for the twohanded sword uh so this one hide everything above it and the shield where's the shield this guy right here find the shield and there we go so this is our twohanded sword I'll keep this guy in my hand as I'm going to use that as my sword later okay so now I actually have a nice equi uh night here okay in the next part we'll take a look at how we can start animating things all right so I'll see you in the next part okay so in this next part we're going to set up our animation now to get started we need to start with our animation tree so let's add a new node here called animation tree we'll go to the tree root on the top right and we will add a state machine we'll assign the animation player right here by clicking it and we can assign the animation player we'll hit okay and now what we can do is we can start adding some states now in our tree route here we'll click this and on the bottom you should see animation tree let's click into this as this is our actual State machine next what we want to do is rightclick and start adding things now we could add a either the animation itself or a blend tree now let's add some animations and then we go for blent tree in the attack so first We'll add a idle animation and if you're wondering you can just click the first letter so for example I will give you the idol um but now we'll add a blend tree and we'll rename this to attack one this will click into this and now you can see a blend tree now the cool part about this and the reason we might do this is because now I can add an animation and this would work similarly and I can connect this and it would output that animation but the cool part is that I can rightclick go to time scale and this will allow me to adjust the scale of the time depending on what I want want so if I want it to be two times as fast I can click two and this will animate the attack that I want two times as fast now I'm going to find the twohanded melee attack spinning and use that as my attack we head back here and I'm going to put my attack on the top just do it like this now I'm going to organize the rest of my notes I'm going to add a death animation a walk animation a run animation so you can pick whichever one you'd like and lastly a jump animation we'll do the jump full long do that one next I will connect all of these with a uh transition now the first thing we'll do is connect start to idle we'll connect idle to walk walk to run run to jump and idle to jump jump back to walking and walking back to jump now you might notice that all of these are automatic and that's okay because right now what we're going to do is we're going to add conditions for each of these now for each of these so the first one that we can add um well actually first let's finish the transition so here we can go from walking to death running to death and idle to death we should also be able to go from idle to attack and attack back to idle now let's take a look at what I meant by conditions okay now in each of these transitions let's take a look at our idle first idle to jump in this you can see the switch and the advanced the switch mode is on immediate the mode is automatic now I do want it on automatic however I want a condition with this and that condition is going to be called is in air now what I can do is start adding these conditions for whatever I want so for example the jump we'll actually rename this to jump from jump to walking I want the advanced condition to be is on floor from walking to Jump we're going to do the same thing as here so I'm going to copy this go into my Advan and sometimes it doesn't actually copy so I'm just going to be having type it in okay and we'll just go from each of these transitions to jump will be is is in here from walking to running the condition to go from walking to running will be is running we'll say is running now we also need a condition from running to walking and walking back to Idol now the condition from running to walking will be is not running from idle to walking the condition will be is walking now from walking to Idol the condition will be is not walking is not walking now the attack will be a little unique so the uh this one from going from Attack to idle we're actually going to switch it to at end and that's it we're not going to have a condition we're just going to switch it actually sorry I lied we're going to have a condition but it's going to be is on floor because I should only be able to transition if I'm on the floor now from idle to attack we're going to actually not have a condition for this one and we're going to turn off the automatic the reason is because we're going to transfer or kind of travel from idle to attack manually now just make sure that in each of these I actually remove um some of these and rename it to walk this one I'll rename it to run and this one I'll rename it to death now the condition from all of these to death we'll need is going to be is dying sorry oops need that on auto and then is dying like this let's say is dying for each of these and lastly is dying all right now that we have our animation tree we actually want this to work so let's head over to our script and pop out the code now do remember that here this is where the idle names are do make sure that the animations that we've added are the same here okay so these should look familiar jump capital J Attack One death Etc okay so do make sure that these are all the same otherwise it won't really work properly okay so now what we can do is in order to make the animation work we can actually load our animation Tree on the top so what we'll do is at the very top I'm going to on ready load that's not on ready on ready variable animation three I'll say get node animation tree we also on ready variable playback and this will be equal to animation uh tree do get I get parameters parameters SL layback this is essentially the actual playback of the current animation so now we just have it as a uh variable instead of having to access it every time okay so let's take a look on the bottom how we would do this at the very bottom under the move and slide this is actually where I'm going to set the conditions whether it's true or not to do this all I need to do is access my animation tree I'll get the parameters the conditions and then the is on floor so these are the conditions that I want to edit now the variable I'll edit it to is going to be this one of course on floor now what I can do is I can copy paste this a few times and change some of these to be what I need the first one or the second one will be is in air third one will be is walking the one after that is is not walking this one will be is is running this one will be is not running and lastly is dying now for each of these we can kind of change them this one will be is not on floor this one will be is walking this one is is not walking this one will be is is running you can probably guess this one will be is not running uh running running there we go and then the last one is dying and we don't know need and not is dying because well I mean if I'm dying then I'm dying right so okay so now let's take a look at how I might animate these in the actual code okay so the first thing I will do is I want to uh do the attacking for the attacking what I'll do is I'm going to scroll up right here and I'll do the attacking right here now to do this I'll do an statement called if attack one uh node name is in the playback. getet current node this will allow me to check to see if I'm attacking or not and this is where I can just say is attacking is equal to True otherwise we'll add an else statement here otherwise I'll say is attacking is equal to false all right now what I can do is I can also add a new function at the very top right under the is not dying called attack one and this will be a function I create that will allow me to check to see if I'm attacking okay so on the bottom we'll create a new function by saying Funk one back one we'll say inside of here if idle node name is in the playback node dot get current node or now this is kind of optional in a sense or what I'll do here is I'll say we go instead of idle I'll also add to see if I can walk or if uh if I'm walking or if I'm idle now here's another option duplicate this and do the running as well if you want to be able to attack while running or walking this is where you would do it but you can check to see if you're walking idle or running if you're doing any of those things what we'll do now is first I need to check to see if I'm actually attacking to do that I can say is action just pressed attack if I attack using my mouse I will check to see if I'm not is attacking then if I'm not doing any of that I will just say playback. travel to back one this will allow me to manually travel to this node all right so now what I can do is hit close on this hit play and let's take a look at what we have but here you can see when I'm walking and running I now play these animations there is an issue that it doesn't Loop but will change that in just a second if I attack and now see that I attack and if I jump and now see I jump okay now but what about the uh looping well that's not too hard in our animation here our animation tab let's find The Walking a that I'm using and make sure it's looped we'll find the running make sure it's looped and lastly the idle make sure that's looped now when I hit play you should see my player is playing the an idle animation and now I can walk with a loop and run infinitely all right so here we go here is our player I can attack whenever I am running walking or whatever and there we go so that is our player animation pretty cool I'll see you all in the next part all right so now that we have our player relatively working what we need to do next is we need to think about how this player is going to interact with other things but before we do that need those other things right we can't interact with a monster we can't kill a monster there is no monster so let's let's get started with our monster so what we'll do here is I'm going to create a new folder in our seams folder new folder and we'll say monsters we're going to create a new scene here we're going to create a character body 3D as our base this is going to be our call it our skeleton Warrior monster we'll add a new node here called Collision shape and now we can find skeletons we'll find the characters we'll use the skeleton Warrior drag this out and here we go here's our Warrior we can just make this local and pop this our actual monster I will transform it to 0 and here we go here's our monster now now the problem is right away we need to give it a collision shape pop this up a little smaller go and maybe I'll make it a little fatter that's good we'll save this in my monster scene there we go now I can add this to my main scene here I'll find our Warrior I'll add this in drag it in like so it might take a second like before and now we have a monster when I hit play I can see that I can kind of interact with it in a sense where I can kind of run up to it and pack it but nothing happens so what we want to do is I want to actually add functionality to it first what I'll do I'll add a new script can use the template it's okay I'll make this in my scripts folder make a new folder called monsters open and create create in here what we'll do is we want to now think about our state machine and how we're going to actually make our monster with its own different state machine now this guy is going to have uh gravity in actual monster so what we can do is we can just delete all this input the jump input and leave the gravity as well we're going to be adding gravity now what we can do actually just not going to use th we're going to create our own uh speed things later we'll close this and now when I hit play though like and when I hit play you'll see that my monster does fall to the ground as now he has gravity all right that is our player setup in the next part we'll take a look at how we can start setting up our state machines and how State machines work uh and you know how we'll do this with a monster all right so in this we'll be taking look at the concept and idea of State machines before going into classes and custom nodes inside of Gau so the general idea of finite State machines right so finite State machines now the word finite right means the well kind of the opposite of infinite right so it's something that eventually ends so we have a finite State machine now let's say for the sake of uh a small small example we have the idle State this is kind of a circle that encompasses things that happen inside of the idol state so for example play idle right remember that play idle animation that would probably go in here right now that's one thing now let's say we have another state called move right we would have well again this the functionality of the move state in here right so anything that I want to do that should involve movement should be inside of this so for example well obviously we would play the move animation for example right now another one that is common but we actually won't have is an attack State uh this is a very common one I'm just going to put it in here because uh it's just an example now obviously you would play the attack animation or do whatever else is in there right now the general idea of State machines is that we want a kind of uh imaginary state right or imaginary idea where we hold States so we need something to keep track of what state we're in and usually that can be used using a variable let's say current state right so keep some way to keep track of what the current state is now you can keep track of the current state whatever way you want you can use a name a string a number it doesn't matter it's up to you now what's another concept of State machines now this is an important one in fact this is probably going to take up most of your uh States or the most of the code inside of your script of your states that is the conditions to move from one state to another in order to go from idle to move I need some sort of condition now usually it's an if statement it doesn't have to be but usually it is well because it's an if statement right now I can say if input blah blah blah right let's say left right if I move left then whoops left like that then I want to move to the idle State or the move state right well because I'm starting to move if I'm moving I should probably go to the move state but I need an if statement in a condition in the idle state that allows me to move to the move State now that is important to understand you need to understand that there is conditions from each state to another now from the move State I can go to the idle State as well I need conditions from the move to the idle I also should have some sort of condition to go from the idle to the attack now ideally you would probably go from Attack to idle you would also be able to go from move to attack and from Attack to move right now the condition from Attack to Idol or attack to move is not always input right think about it when you attack or finish attacking when do you go back to Idol well when you finish attacking you usually or sometimes I would say most of the time it's after the attack animation finishes or some other condition so those are things to think about about when do I want the condition to happen when do I want it to attack when do I want it to fall stuff like that right so these the basic idea of finite State machines is essentially the idea of having the states themselves having the functionality inside of them having a way to keep track of what our current state is and then we also want a condition inside of the states to be able to go away from that state to to kind of change States right so okay that is pretty much it for the finite State machine concept video uh I will see you all in the next lecture okay so now that we understand State machine what I want to do is go to my monsters create a new folder and call this States we'll actually call this one AI melee and we'll put our skeleton in here as well and it might take a second to just drag and drop it there we go all right now in here we'll create a few new scripts the first script we'll have is called attack State we will duplicate this and call this one uh death State have one more called uh ideal State quite a few but you know let's do these all together so one more time and we will create Run State duplicate and lastly one more called State machine uh just State machine actually this will be our state machine will kind of help us control and hold all these states okay so let's take a look at how to do this now in each of these states what we want to do uh we'll open them up first so let's open up our Idol let's pop out the script uh we'll actually close this for now again open them all that way they are all open right here and we'll just make sure these are all open now in our state Machine controller here what I'm going to do is I'm going to uh preload all our States now to do that what I'll do is I'll create a dictionary called variable States state equal to this curly bracket this is States we'll have a key called idle here will preload our idle script we can do that by just typing in Idol State and here you can see that I preloaded our idle script now alternatively if you don't know how to do that you can just drag in the idle State path like this and it will give you the path another way to do this is right click idle a script and copy path right here and it will copy the path all right next what we'll do is we'll copy paste this put a comma right here copy it times uh three times I'll have one called run one called attack and one called Death there we go okay and we'll just change all of these to the corresponding script so this is death this is attack and this is run run there we go okay now that we have all the scripts we need a helper function called change State this is a function that will allow us to pass through a new state which is going to be a string make sure that this is spelled correctly State and this will allow us to change our state now how do we do this what we'll do is we're going to say get child count we will see if it's equal to zero or not if it's not what we'll do is I want to get current child zero and Q3 however I don't want to do this if I'm in the death state so I'm going to see if death not in the get child z. name this will essentially check to see if the state I'm trying to Q free is death I don't want to Q free if I'm death I don't want to change States now what I'll do I'll say if state has uh dot has there we go new state then that means my dictionary has this state if I do I'll say State uh State m is equal to State new state. new this will allow me to create a new object or a new node using this preloaded script now we'll see why we can do this in just a second but for now let's continue we can now say State temp is equal do name equal to New State we'll set the name of that new node equal to the well state that we're trying to change into then we will just add child State M this will allow us to change States so this gets rid of our old State and this adds our new state okay now in our idle State we can get started with our idle state that's usually the easiest you can see here that we extend node this is a script but it extends node now this essentially allows us to create a new node or a new object using the node as a base now what we're going to do here is we're going to call or make a new variable called AI controller and this will essentially reference the uh skeleton Warrior script so to do this what we'll do is in the function uh ready we will say AI controller is equal to get parent. get parent now the reason we do this twice is because here we'll actually add our state machine uh we'll actually do that by adding a node here we go and we'll attach the state machine script and this is going to be our state Machine controller so let's rename this to State machine or state Machine controller whatever you'd like now in here this will be adding a child in this state machine this is where I can now in my idle State get parent to get to the saate machine and then get parent one more time to get to this script this will allow me to access the a roller okay so now that we have our state machine set up we actually need to take a step back and set up our animation tree so in the next uh video FL part we will now set up our animation tree okay so to get started with our animation we need to add our animation tree so let's add an animation tree node we'll go to the inspector tab add a DAT machine assign the animation player and now we head over to the animation tree and we will add a few notes and the animations will add the first one instead of just an idol we're actually going to add uh let's just add the death FR first so I'll have that kind on the top the idol what I'm going to do is I'm going to add a Sit floor Idol and this will if I play it he's just sitting down on the floor essentially now the next one I'm going to add is a awaken State now this awaken state if I search up skeleton or type in SSS whatever you'll find the skeleton awaken floor long this one will or sorry not this one we will add the uh awaken standing where is that there we go this one this one will pop up as if he's standing and then we will add a running and then an attacking now the attacking uh you can kind of pick whichever one you'd like I'm going to pick the attack slice and then I'm going to add one more called idle combat there we go and now we want to add transitions to all of these so from awaken back to Idol from standing and running back and forth Etc and then we also want from running to Idol we want from Attack to idle then we want from Idol to death and from Attack to death we'll also want from idle combat to attack and now let's rename all these to kind of an easier name here this will be idle this will be awaken this will be run and this will be attack this will be we'll leave it as Idle combat that makes sense and this one we'll just say death now for all of these transitions I'm going to take off the automatic and just uncheck this for each of these transitions because we're going to be transitioning from state to state through our actual code all right so let's make sure that we just do this for each of these for the Run go to idle combat now from the attack right here we'll turn this off but from the attack to the idle combat we're going to actually leave the automatic on and sync it at the end of this attack animation because I wanted to automatically idle combat like this when it one every time it finishes attacking so that way it's kind of like a cool down every time it attacks so it doesn't just attack right after attacking right so it kind of Waits a little bit and then attacks again okay so here we go here is our uh animation tree setup and now what I need to do is we'll head into our scripts and we'll start getting things to work all right so next we'll go to our actual uh script here for our monster and I'm going to start adding the variables that we'll need in this script to make our cler work so we'll add it one by one the first thing we'll add is a speed this is going to be a float and we'll make it equal speed 1.0 for now we'll add a on red ready variable which will be our state controller this will just say get node and we'll get access to the uh State machine we'll create another variable this one will export it and we'll say export variable player and this one will be a character body 3D this will essentially represent a variable as our player now to get access to it we'll do that in a bit but for now let's just say variable Direction and we will set this to Vector 3 this is going to be the direction from our player or from our s the monster to the player so which direction is the player we'll create another variable called Awakening and this is going to be a Boolean we'll set it to false by default we create another one called attacking a Boolean false another one called hell be an INT which will make equal to four create a variable damage intal to two we'll create a variable dying will be a Boolean equal to false we'll create another variable called just hit will be a Boolean equal to false all right now that we've done all this we're going to add a ready function and we're going to get access to our state controller we're going to change states to idle on the ready when our scene essentially uh is ready ready and this player loads or this monster loads now this is all nice and handy and stuff but what about our Direction well I want to get access to our direction or get the direction by saying direction is equal to player I'll put it like this player do Global transform do origin minus self. Global transform. origin we can also uh normalize this number now this is cool but this isn't something we want to do unless the player is valid if the player is not valid meaning it doesn't exist then well I don't want to do anything right so here we'll only get the direction if the player is valid all right now let's head over to our state machine for sorry idle State and we'll take a look at how we can get this to work here we can say if AI controller. Awakening then what we'll do is we're going to await for that animation to finish what I can do is say AI uh controller dot get node animation three do animation finished so what the await function does is it will wait for a signal a wait essentially stops the code and waits for a certain signal to kind of happen before continuing the signal that we're going to wait for is the animation tree animation finished if I head over to my animation tree in the node section you will see the animation finished signal right here okay so that is how that works now after this though what I want to now do is say AI controller. getet node animation 3.get parameters SL playback and then I want to travel to the idle animation now in my physics process which I don't have so let me add that physics process I will ask if the AI controller is valid first then what I'll do is if this AI controller is valid meaning it exists I have access to the monster then I will just AI controller veloc X is equal to Z similarly I'll just copy paste this and change this to Z in the idle State all I need to do is just set the velocity to zero now what I'm going to do is I'm going to copy paste this into each of my States so that way I have a rough outline to get started with in each of these states let's take a look at the Run state next as this one isn't too complicated and it's not too different in our Run state I'm going to create a variable though called run and this will essentially kind of help me run or not in the ready first so I don't want to start running until I've awakened basically so what I want to do first is instead of checking for awaking I'm going to check for attacking first if I am attacking I will wait for the animation finish and what I'll say is AI controller. attacking is equal to false because after this I've waited for the animation to finish and then I stop attacking L statement where I'll say run is equal to false I'll say AI controller. getet node animation tree actually I'll just copy paste this right here so we'll just copy that and instead of traveling to Idol I will travel to awaken after that I will say AI controller. Awakening is equal to True after that I can now wait one more time but once I start playing the awaken I want to wait for this and then uh now here I want to once all this is finished I want to now say running is equal to uh true and then I can set the Awakening to false now lastly here I want to travel to run because I'm not idle in my run animation or my run State I want to you know run that would make more sense now here I'm going to check for if running is also valid because here I'm not only just I'm not going to run zero anymore I'm going to actually run right so to do that I will get my AI controller. Direction dox and multiply it by the AI controller. speed so this is it this is all I need to move my monster towards my player now this one I'll copy paste it but change it to the Z index and then lastly I'm going to get access to my AI controller and we're going to use a function called look at and this will essentially allow me to look at my player this is kind of a rotation function so I'll pass through the global transform. origin then add the AI controller. Direction all right and then we'll pass through the vector 3 01 0 like so all right so that's it for the Run function hopefully this works out nicely all right let me just zoom out here just a little bit so you can see everything and this is the Run State all right so now let's take a look at our attack State now in the attack State this is actually a little easier because we don't have to change this because I don't want to move when I'm attacking now here I can actually keep this because if I'm Awakening while I'm trying to attack I want to wait now the only difference is when I uh after this I want to get the a controller and set the attacking to true because at this point this is probably when I'm going to start attacking now I want to actually travel to the attack node and then I'm actually going to go to my run State and copy paste this here I want to look at my player only in the attack ready obviously this is kind of up to you if you want to add it in the physics process that's totally fine I'm going to add it in the ready function so imagine my monster is going to only look at me when it's starting to attack instead of all the time all right now in my death animation this is where uh some things are going to get funky so here I'm going to say AI controller do dying is equal to true and then here all I need to do is say death and that's it now uh this is pretty much it so now what we can do is give this a try we'll test this out and see what we get okay now if we go to our main scene here and we assign the player right here on the skeleton sign the player we'll actually see if we hit play nothing will happen the reason is because we don't have a way of changing states but we do see that it is working it is playing the idle State actually in fact if we go to the remote we will find under the state machine that it is playing Idol now in our skeleton we now need some sort of condition some automatic condition to allow us to detect if I want to go into well whichever State I need it to be so to do this I'm going to add an area 3D I'm going to duplicate it and adds a collision shaped 3D both of these I'll duplicate this as well and put this in here just kind of rename it so it's the same now this one will be the chase layer detection this one will be the attack layer detection now for both both of these I'm going to essentially give an area so that it does what I need it to do for both of these I'll use a sphere but for the chase player I'll make it a little bigger here the attack player this needs to be a doesn't need to be a cylinder but I'll make it a cylinder and this essentially will be my attack range this will be the range that I want my monster to be able to attack in so now what I'm going to do is in both of these I'm going to go to the chase first and enter body entered and connect these to my monster I'll do this for the body entered and then the body exited I will then do this for the attack and lastly the exited now one more thing that is kind of important before we continue here is grouping now inside of gdau there is something called grouping and this might vary depending on your version but uh here in good 4.3 all you need to do is add a filter here we will add a group called Monster and then we'll add one more called uh player now we'll uncheck the player here in the monster because well this isn't a player this is a monster in our player though we'll head to our our node here and so here we'll actually have to add the player here again and here we can actually just remove the player we don't need that and now if we go here we will see that these are groups now the cool part about this is that inside of these signals I can check to see if this body is a part of a specific group now I can do this essentially let's say the chase detection let me zoom in a little bit I can say if body is in group Player then I can do whatever I want now in all of these I don't want to change States unless I it's a player and if I'm not is dying right if I'm dying then I probably shouldn't change States I should probably stay in the dying state so now what I can do is I can say state controller do change state to run in this case so if I enter the chase state I want to start running okay so the is dying is not a thing it should be just dying there we go all right so now what I can do is copy paste this into each of these but obviously I'm going to change the state to the course responding one now for the attack exited or for the chase exited this one will go back to idle for the attack entered this one will probably go to attack and this one is actually correct because if I leave the attack player detection I want to go back to running and Chase the player okay now there's one more thing I need to do before I kind of test this is in our animation tree I'm going to actually connect whoops the signal signals animation finished and I'm going to connect this and in here I'm going to check for a few things the first thing I'm going to do is I'm going to check to see if the awaken the word awaken is in the anim name if it is what I'll do is I can just say Awakening is equal to false here I'll add an L if statement I'll copy this I'll change this to attack and then I'll have an if statement saying if the player is in the get node attack detection uh dot get overlapping bodies and not dying then this is where I will uh change to attack again so if I finished one attack so this will kind of allow me to so this right here let me kind of explain this piece of code will essentially allow me to Loop my animation for attacking if I finish one attack this will check to see if my player is still in the current detection uh bodies so this will check oh I SP wrong if it is in the area attack then I will just attack again now I can do that by just saying State controller. change state to attack all right now lastly oops lastly I want to say l if uh death so I'll do this again but here I'm going to say death and if I am playing the death animation or I finished playing the death animation I'm going to call a function Called Death now this function uh doesn't exist yet so let's actually create it and for now what I'll do is I'm actually just going to say self. Q free now here is where we'll play animations and stuff and blah blah blah but uh for now this will just kind of be good enough all right now what we'll do is close the script and let's hit play Let's see what we get let's see if we get any crazy bugs that we might have to debug together okay so here we see that it is facing and there's already a few bugs and that's okay we can actually fix these quite easily but we do see that direction is working and the attack is working quite nicely the only issue is that he's facing the wrong way now this is actually a very easy fix all I need to do is go to my skelet Warrior and I will rotate this guy by 180 I will also add a weapon because he doesn't have a weapon so let's actually go to our assets here in our skeletons go to fvx and we'll find a skeleton blade and in our rig here I might actually need to add a new bone because here we have a bone helmet but we don't have a bone for our hand so what I'm going to do is I'm going to search up bone attachment which is bone and we should find a bone attachment 3D I'll add this I'll select the hand slot right you can do left if you'd like but now you can see that the hand slot is kind of on our hand now I can take my bone my skeleton blade here and I'll just make this local and drag out the dash I need and now I can reset its position and rotation 3 0 like so and now if I hit play on on one of my animations I play the attack you'll see he kind of plays the attack but it's a little funky that might be because I need to rotate the blade I do so I need to rotate the blade Itself by 180 or just 180 and now when I hit play one more time okay so it kind of still looks a little funky let's make sure that this is the right hand slot B3 yeah okay so what we'll do is I'm going to play the T pose find the T pose here oops and this guy should be looking this way so we'll get this rotate like so so this will probably be90 and 180 so whatever your rotation is it should be facing this way outside of the T pose now let's try one more time go to the animation tree and there we go now we have a nice smooth attack all right let's hit play and see what we get okay so here we go he's chasing us there's no Loop but we can change that in a second but we do see that the attack does uh actually Loop which is nice now there is few issues right so the first one is in the walking or I believe in the running actually where is the running we go running a we'll Loop that now another one is the idol which is going to be the sit floor idle I think is this one right let's take a look so this one doesn't need to Loop this one will need to Loop so the FL sit four idle and running a that's good all right so yeah there we go there is our monster so it should now Loop if we pick play one one more time here we go so he's running and he's looping if I leave he goes to the idle animation now one thing that I like to do is inside of our animation tree I'm going to actually blend uh some of the animations now what does that look like well in our run to Idol what I can do here is I can change the X fade time I'm going to change it to 2 and this will allow us to have a smoother animation between our transitions now I'll do this for all of them 0.2 so let me just make sure that all of these are 0.2 and you can of course do these for all of them it's kind of optional but of course if you don't it might look a little chunky so it is up to you whether or not you want to try this or if you want to try something else of course you can also try the xade perve that is also a nice thing but it's more so just kind of how how fast it curves into this uh time now if we try one more time though should see it'll do that and then it'll kind of sit back down right away yeah so there we go it doesn't kind of just chunk back down to the idle it kind of Fades back into the idle animation all right so there we go there's our monster it works pretty nicely now in the next part we'll need need to now actually add some functionality to hit it we need to hit the monster and the monster needs to be able to hit us we'll do this in the next section right so now that we have the player and the skeleton working all we need to do now is well make them interact with each other and this isn't actually that hard all we need to do is add some things into each scene so the things We'll add the general idea of this is we're going to add some sort of detection area in well specifically The Sword and then every time I attack I'll be able to detect whether or not I can hit the other monster and if I do I'll send kind of a signal that will allow me to hit the other person so let's start with the monster to start what we'll do is we need to find the right hand now usually you would do this in a sword now this could work and you could you're more than welcome to add uh the area to this sword specifically but a better way to do this is if we add a new bone attachment just like we did with the monster we can attach a right hand slot right and we can just add the area to this right because this will apply for any sword because in the future what if you want to hi this and show this whatever you may want right it'll be kind of more dynamic in this sense so what we can do is we can rename this to right hand slot we will add a new uh node called area 3D this is going to be our detector we add a collision shape and now we need to set the Collision shape I we'll put a capsule we need to zoom in here and essentially make this the same size as the sword so we'll just kind of zoom out just a little bit like this and there we go now what we can do is rename this to damage detector and there we go that is our uh sword right so now when I attack so if I go to my animation tree and throw this I mean it's a little fast but you can see that the area 2D or 3D sorry follows the sword so every time I play well I gu I would have to play idol first yeah I mean even honestly even in the idol you can see that it's following the idol right as I walk it's following the sword so this is perfect so this is exactly what we want now what we can do is uh reference or connect the signal will connect the body entered signal to the player now in here you might recall that we cre grouping so this is where we can first check to see in fact actually this is where I want you to pause the video and try seeing if you can detect if this body that is entering this area is a monster or not see if you can figure it out using a similar uh thing that we used before so to do this hopefully tried it yourself first what we need to do is say if body is in group monster because if you recall from before in our monster here we have created a group called Monster so here now in our player back in our script again we can simply check to see if it's in that group and if it is that means well I'm hitting a monster and if I am what do I want to do well I actually want to just call hit on it so in order to do this the monster needs a function called Hit first otherwise it doesn't really make sense like how can I hit it without having a function inside of it now I could just Q free so for example I could just do free like this and this could totally work this would just destroy the monster however I'm going to call a function called Hit and the cool part about this is that I can now put in a amount of damage in like like one or two right so if I want to do a certain amount of damage to its Health this is where I can do it okay now one more thing we'll do though is in the body is in group whatever what we want to also check for is is attacking I don't want to damage the monster if I'm not attacking because let's say I'm just walking right my player's walking and I just walk past a monster and the monster enters this area obviously that's not very good I don't want that that's a pretty terrible interaction right I don't want that in my game I only want to interact uh when I'm attacking now there is actually a better way to do this um but I'll show you that in the monster so it's going to be kind of two different ways to detect whether or not I'm attacking or not and this will be a nice way to for you to kind of learn different ways of doing something similar that we need to achieve so let's head back to our script and what we need to do now is now that we've created this hit function or called this hit function we need to create it we don't have a hit function in our monster so in this body right this is the body that we would be calling but I mean I'm not going to ask you do you guys see a h function I don't see a h function here so what we need to do is create it we'll create a h function will pass through an amount of damage that will be an integer and then all I need to do is say health minus equal damage and then we can check to see if the health is less than zero if it is we'll say self. Q free now here's the issue that well the main issue is Q free doesn't exactly do what I want right I don't want to just Q3 you probably guessed it I want to change states to death so all I need to do is change states to death because we should already have this set up okay so now that we have our hit function um all we another thing I want to do is I want to start detecting the just hit function what this means is if I just got hit I actually don't want to do any of this so I will only reduce my damage I'll only die etc etc if I wasn't just hit now this is a variable that we created uh kind of a while ago and this will essentially allow to detect if I was just hit or not now here's the kicker is I want to set this to True inside of here just hit is equal to true but here's another issue is how do I set it to false well what we're going to do is I'm going to close our script here head to our Warrior and I'm going to add a new node called the timer this timer is going to allow us to essentially start when I just get hit and I'll connect a signal called Timeout on our monster here and every time it times out I will set the just hit to false now the issue is oops false not the issue but how do we start this timer right because this timer doesn't just start like magically we need to start it so how do we do that well it's pretty easy we just say get node just hit it's the timer that we just created and then just start it this will automatically start our timer well not automatically but it'll start our timer and yeah so that'll allow us to actually do that okay so now what do we need to do well uh in our just hit function or sorry our hit function we now need to uh not need to but one other thing that we can add is a knockback this is something that I like to do in a lot of my games um it's just a very very simple way of adding a knockback and that is by something doing something called tweening tweening is a very simplistic way of animating so think of how we might want to animate a knockback well one way we could do it is doing it through the animation player right if we go into our animation player if you understand how it works if you don't that's okay the basic idea of it is that there's something called key frames and essentially and we'll actually use this for a monster later in the next part uh is see let's go to our skeleton monster we have keys here and I can key one of these and it will kind of put that position in this key frame and then if I key another one at another position it will kind of animate between those two frames now I don't want to give an example because I'm actually going to give an example a little later but the basic idea of tweening is that it's done in code it's the same thing but just done in code so let's take a look at how we can do this first I need to create a tween you know just a fun fact G in G 3 and previous tweening used to be an actual node but they removed it and now we only can create it through code but that's okay okay we can still utilize it quite nicely so here we'll just say twe property and the property that we want to twe first we'll look at the object well the object is going to be our self okay now what property do we want to adjust well I want to adjust the uh Global position what I essentially want to do is take our Global position and then the final value will be its Global position minus the direction divided by 1.5 this essentially will act as a knockback now I want to do this over a period of2 and this is going to basically be how long this tween takes so 0 2 seconds is very quickly right you'll not really not notice it but it's it's just very quick okay now that we have our hit function Let's test it out let's see if this works so let's take a look first at our health here we have four health and we should be doing in our player script two damage it should take two hits to kill our monster let's take a look play we go and our Monster's chasing us and you can even see that there's a little knock back and eventually it dies and we even saw that that second attack didn't go through because it just got hit so I couldn't it was invulnerable essentially I couldn't keep hitting it I wasn't allowed so there we go that's our know detection that's our monster attacking that's pretty neat in the next part we'll take a look at how we can now do the opposite I would suggest actually with this next part you try it on your own first try making it doing exactly what we just did adding the area 3D to the monster and then allowing it to hit the player adding a hit function inside the player Etc but that's what we'll do in the next part so we'll be able to have the monster now attack the player right so in our next part like I said um we now need to make it so our monster can hit our player now to do this actually a little not easier but per say but we already have our bone attachment here and I'm going to rename this to right and Slot just like I did for the player and I'll attach an area 3D again and similarly a collision shape now I'm going to go to my animation player and select the key pose just so it's a little easier to add it or you know adjust the sword here I'll add a cylinder capsule make it much smaller as you can tell make it skinnier order and there we go here's our sword I might actually extend it a little outwards just so it can actually hit the player okay so now what we can do is you need to make sure and me uh we need to make sure that we take a look at which attack we're using here I'm using the twohanded melee attack slice so now what we'll do is we'll head into our animation player with animation on the bottom we will head into the twohanded attack slice one that we're using now what I want to do is I want to turn off the animation tree so that way I can look at my animation uh for this animation as it actually happens now here's the thing I want this area 3D only be uh disabled and enabled whenever this Frame is kind of like right here like in between the attacks so right maybe right here and in between here after that I want want to disable it so what do we do well this is actually quite easy this is the key part that I was talking about so here what I can do is make sure that it's disabled is off I'll key here like so and then right here I'll check this on and then key it again now if we scroll all the way to the bottom you will now see this new Collision shape 3D with enabled and disabled so this will essentially enable the Collision shape or yeah Collision shape and then disable it after a certain frame now here's the kicker is we want to find that reset track and make sure that this is enabled so by default this should be enabled right so this will automatically kind of happen like this is the reset this is what will reset every time I play the game kind of it's almost like a ready function now let's rename this similarly to damage detector I will go into this area 3D add it into our body entered and connect so just kind of uh an ad if you recall from our last part uh like just 10 minutes ago this is how uh that animation player that's another way of detecting if I'm currently attacking or not because here I I could check for the state so let me actually pop this out I could check for the state controller I could just check for the name or whatever see if I'm in the attack State and that could work that's totally fine but this is kind of a more Accurate Way of detecting for a specific frame it's it's just a bit more accurate I would say okay now here in the damage detector this is from the monsters to the player but as a reference I can actually just copy paste this into here and change this to player and then remove this I want I'm not going to need that now for the body do hit instead of two you recall I already have this damage right here so I'll just pass that through now I can always change the damage that I want uh you know to whatever I want okay so now on the bottom uh now if you recall you know we have this hit function we're calling it but again we don't have a hit function inside the player so let's create it um in fact actually as a good reference to create it I'll just copy paste this copy this here and now we have a good amount of stuff now of course we don't have health I don't have damage or actually we do have damage um and we were going to add our I was going to add the health um a global variable but for now we can just add a health variable here as int equals say five and then uh instead of State Controller here I'll say self. do free for now okay um actually we could just play the death animation so why don't we just do that actually so instead of uh self talk Q free what we can do is we can actually say is dying oops is is dying is equal to true and then uh here we'll just copy this right here and instead of traveling to attack node one the attack to the death node name here we'll just travel to the death now here's the thing is after my death animation I want to die I want to like end the game and little later we'll add a game over overlay but for now what we can do is I'll close the script and in my animation tree here I've already connected uh oops in my player here in my animation tree I don't have this so I'll connect the animation finished connect it pop this out and now I can check for the death animation see if I just played the death animation I'll say if death in random name then what I'll do is I'll say self. Q free this will allow me to just Q free and in the future if we ever want to add a game over overlay we'll just add it here okay all right so here we have the uhing however this might not work because we have a direction we have a direction this direction is facing wherever I am which I think will work fine okay so we have the just hit being started but I don't have that timer so we need to add it but let's add our new timer our player here and we'll rename this to just hit okay so we should be able to to give this a try Okay so let's see if we can oh okay so our monster needs to turn on the animation tree again go back to the inspector it close the game okay back to Output here we go all right so here's our monster should be able to attack us now and even knock back all right so it seems that I'm Invincible now because I never connected the just hit uh timeout so that would make sense I would probably need to be able to turn just hit to false so here I turned it to true and then I never turned it to false again so that would make sense all right so let's H play one more time test this out so he's waking up going to hit all right cool so there we go and then eventually I die and then IQ free and the reason this is happening is because I don't have a camera 3D anymore because if you remember camera 3D is in our player and we already destroyed our player so uh that's probably not the best way to do it but it works out quite nicely so in the future we'll add a game over overlay and it will be able to restart the level and stuff this is pretty good so far so I'll see you in the next part all right now that we've pretty much completed the player and monster we now want to head into our assets and I'm going to now show you how to create this custom theme because we're going to kind of uh I'm actually going to close these guys we're going to now head into creating GUI so for example um we'll actually create a canvas item canvas layer as our base here I'll save this as GUI and I'll put this in my scenes in my player and save and just kind of show you what this might look like if I create a panel you will see here this is the default theme of gdau now this default theme if I pop this into the themes right here you will see it turns into this nice pretty thing now in order to create this though what we'll do is create a new resource search up theme save and we can create default 2.0 of course if you don't want to do this you can of course skip it I've already set all the default themes you'll need but I want to show you how to do this uh you know ourselves now okay the font very easy just drag and drop the font into the default font done super simple now what about the rest because here you can see in this default theme we have button panel progress bar but here I have nothing well I go to manage items go to import items and we can now import the things I want I'm going to import panel I'll find the panel I'll find button I want the button here and let's import these first close C okay and I forgot the last one progress bar right okay we'll go to the thing over here manage items and progress progress bar there we go import selected and now we can see uh in my edit items you can even see it here but I'll close Okay and now we have our our things that I want to give now okay we'll start one by one we'll start with the panel as this one's probably the easiest we'll go to the Styles we're going to select this down button and select the texture we'll take our UI big piece and drop it nowhere because I need to click this first then I'll drag it into the texture now you can see in the background I have this texture now I'm going to go to the sub region edit region and now I'm going to select this guy now I could also try pixel snap sometimes it's not perfect but it's not too bad here we go now I can move these dotted lines be kind of below where I want it to be and essentially what this does is let me actually move all these first and it might be easier to explain it it will use the middle of this as the middle of the entire panel so this side corner will always be consistent so now when I close this and I add a panel here more time and I set this theme as the theme 2.0 you will see if I zoom in here we have these dots always no matter how big the panel is so essentially everything else gets stretched that is kind of the advantage you can see that these Corners don't get stretched they get uh they stay the same size okay so that's the panel finished we'll close the panel here in our custom theme let's H over to the styles of our button the buttons are going to be a little more difficult but uh just more of a drag I would say let's head over to the normal one because that one's probably the easiest but we'll drag in the UI piece go to sub region edit region zoom out and here we can find our buttons so this one is going to be our normal button this is pressed and this is hover for Focus as well so let's just do the normal first so we'll drag this and I can just down just a little bit and I can move the dotted line in the middle like so and just bring this up a tiny bit all right we'll close and now if I add a button it would should look like this but let's finish the rest so what I'll do is I'm going to drag this guy into the rest of them now here's the thing though is that if I edit one of these it will edit the rest you're more than welcome to give it a try but I'm just going to make unique on all of these so that way I don't mess anything up do make sure that you just make each of these unique right now for the Pressed we'll go to the sub region and select the Pressed here we go looks pretty good I'll just move this I'll just leave it there that's fine close and we'll go to the hover sub region edit region and hover we can select this one we go and just select the entire thing make sure that the inside is kind of what you want close and we'll go to the focus the focus we can leave as the default and then the disabled uh we'll select the Pressed one for the disabled if we want ever disable the buttons which we actually will at for our item or our inventory system kind of then we'll select this as our disabled okay so that's our buttons and lastly the progress bar this one's going to be a little easier because if you actually notice in the default one that I gave you in here the background is empty and there's a good reason for this but the fill is going to be our texture so let's do this for our um guy here so background I'll set this to empty and then the fill I'll set it to texture and pop in the texture that I want I'll go to sub region edit region and I've created this guy so I've edited it I've basically just moved these all together because that's what we need so here we go select the red like this uh I think it's supposed to be like that there we go and I'll just move this guy one corner like this that's not what I wanted to do I want to move this guy up and this guy down like so I'll use this as my stretch essentially okay so there we go there's our theme completed now to actually load this into our game I need to go to Project settings go to General search up theme go to theme and add in our custom uh theme here so here I'll just add in my uh default 2.0 or you can add the default and I'll save and restart and I'll see you in the next part right so our next step is to actually create a game over overlay this will be a little easier so we'll start with this as our kind of initial GUI set up so to do this we'll create a new scene and this new node will be a canvas layer base now I know I haven't explained what a canvas layer is but let's kind of take a look at what it is and what it does so to do this we'll add a panel and we'll increase this panel here and I'm going to actually turn on this grid snap and this will just allow me to more accur accurately assess how big I want this to be so I want it to be this big now inside of this inside of my panel specifically I'll add a label and I'll add a button okay so this button let me make it a little bigger here me just do it like so I'll type in retry put this kind of in the middle and then the label I'll make it a little bigger here and I'll type in game over try again now if I want this to be bigger that's easy all I need to do is go to the theme overrides you could of course uh edit the actual theme in here right I believe you should be able to edit the default size but I'm not going to do that I usually like to edit the size manually every time I add a label um the font size here I can actually just overwrite it and make it much bigger as I want it to be now what I can do is I can just Center it in the alignment there we go I can maybe just press enter so that way it says game over try again on two lines like so and even more what's cool about this is I can go to the constants and give it line spacing outline size uh you know make it look pretty whatever you really want right so you can kind of start making your text a little nicer we'll save this as a game game over overlay We'll add this to our scenes our player I'll make a new folder here called GUI H save and in our level I'm going to now add our game over overlay now when I hit play the way this works is a canvas layer essentially follows the screen no matter where it is so here you can see the label in on top of our gameplay because in our game over overlay here the canvas layer is Within These blue lines so that is how we canvas layer Works anything within these lines will show up on our screen so you can kind of see or imagine why this would be useful specifically for uh you know gii and stuff so let's rename this to game over overlay we will add a script because well I'm going to need a script for this guy but I'll put it into my scripts folder put into my player create a new folder UI open create now in here what I'm going to do is I'm going to on ready the self. hiide I want to hide this game over overlay now I want another function that we're going to call when the game is over meaning like I'm dead this is the function I'm going to call one of my player dies now in here what I'm going to do is I'm going to take my input Mouse and make it so that it's captured or visible right because before it was captured but now I want it to be visible so we're going to say mouse mode is equal to visible next I'm going to say self. show because I want to show this overlay that would make sense because it's hidden right now right and then lastly I want to pause the scene to do this all I need to do is say get tree do pause is equal to true and then uh that's pretty much it now this is it but there's kind of an issue um that issue is that here let's actually let me actually show you so let's go to our player and in our player here instead of the q3e here what we're going to do is we're going to call the game overlay to do this I need to get node and get the path now to get the path it's actually not that hard let's go to our level here go to our player script and it might be a little cramped but all I need to do is now drag in uh maybe I'll actually rename this to game over overlay and then now I just need to drag it in and this will give me the path here I can just say get node overlay and now I can call that game over function that I created so this will do that for us now one thing I want to do though is before I call this I'm actually going to wait one second to kind of have that to show the effect that oh you're dead and we played the death animation but now we're going to you know uh wait one second kind of it just kind of adds a bit more player to our game I'll say so here I'll say get tree create timer one uh yeah so one second and then we'll wait for the timeout uh signal if you recall a wait allows us to you know wait for a certain signal and this is the signal we'll wait for so here I'm just going to get tree to create a timer once I create the timer I'll wait for the timeout signal now the seconds it's up to you whether you want one or two seconds or whatever I'm going to do one second I find that it's not bad so let's hit play and you're going to see something happen so let's just try to die here so get hit once twice here we go I died after a second this pops up but nothing happens now I could kind of click but it doesn't actually work the reason why this wouldn't work is because in my game overlay the process inside the node is called or it's on inherit now inherit essentially is inheriting the scene or the project uh pause scene right so the mode and the mode is currently paused right we pause the scene so this scene is also paused meaning I can't click anything so what I need to do is go to this mode and turn it on always so that way I can always interact with this script and these no nodes here no matter whether or not the scene is paused so okay let's rename this button to retry and I'm going to connect this node by going to press connect and here now all I need to do is a few things first I'm going to unpause the scene I'm going to say pause uh get Tre is equal to false and then I'm going to say get parent dot uh reload parent see oh not get parent what am I doing could be get tree that would make much more sense that's why we didn't have it complete so get current tree there we go so now we just we just reload the current scene from our get tree so now let's hit play and see if this works now we should be able to just go to our monster here eventually I'll die there we go 1 second later I can retry and here we go we restart our scene there we go that's our game over overlay in the next part we'll get started with our GUI and you our pause menu and stuff like that so see you in the next part all right so the next part is going to be in our GUI but first we need to actually make sure we add our GUI into our main scene here let's just make sure we add this guy in and I'm going to rename it to VII so this is our general VII for our inventory our profile that kind of thing so let's make this panel a little bigger just like I did for the game over and I'll rename it to gy and before I start adding things let's add a new script here add a new script to our scripts folder player gy open create now okay in this script there's a few things I'm going to do the first thing I'll do is I'm going to go into my function physics process I'm going to check for the input of my paused function or my uh input sorry I'm going to check for it just pressed and pause here this is where I will start pausing things and doing things so the first thing I'll do is I'm going to get tree. paused and instead of saying true or false there's a kind of trick here I can do that's just to get it to be the opposite of what it currently is and then the cool part about this is that now I can just say uh get node container which we don't have yet uh Dot visible is equal to the get tree. pause so if this becomes true I will set the visible to true it becomes false I'll set the visibility to false now okay let's add this container because well I don't have it so we'll probably want it now the reason we're doing this um I'm going to add a control node by the way so that's our container let's rename this to container okay let me explain why I'm doing this the reason is because I'm G to add a panel into this this is where my profile will be this is where my inventory will be but the question is what about the HP bar the progress bar that I add so let's add a progress bar for now and here I zoom in I can kind of move it to the top left extend it a little bit and here I can give it a value of let's say 50 I'll turn off the show percentage and here I don't want to hide or show this guy depending on if I pause or not right I always want to have the HP bar showing let me just rename it to HP bar and now the advantage is I can show or hide the container specifically this guy depending on if I'm POS or not the HP bar I want it to always show now before we continue one other thing I need to do is make sure the process mode is on always for my GUI because otherwise I'm not going to be able to unpause My Scene if I pause it right that would be kind of silly I won't be able to do anything if I pause it now okay here's the the fun part though or the unfun part is we need to match the paused uh scene so here I'm going to match whether or not I'm paused and if it's true what I'm going to do is I'm going to say input. mouse mode is equal to Mouse visible Mouse visible and if it's false which is pretty much the only other option here I'm going to set it to Mouse captured this will allow me to just be more dynamic in whether or not I pause the scene this kind of comes more into play when I add my shop uh well we'll add our shop later um because this is just kind of it becomes a little buggy because our our shop is going to pause the scene it's going to show and hide some GUI that will'll add later but this will just allow us to avoid any weird issues where if I go into a shop and then try pausing or whatever it just avoids all that so let's close the script now and let's hit play just to test this out here our is paused now you can see here that first of all nothing's working so let's actually just make sure that the pause is right so let's go to our project settings input okay so here I don't even have anything so let's add a Escape okay so now uh we have our pause but there's an issue is that this is still showing on the default now this should actually fix itself if I hit play and I pause my scene it will show and then I unpause it it'll hide but by default I should probably show it so let's add a ready function and we'll just take the visibility here and we can just do hide instead so that way we can hide it uh by default okay okay so now when I hit play here we go our container is hidden but if I hit Escape we pause the scene and uh we have our GUI so this is quite nice now from here we can start adding our inventory and things and whatever we want so let's just set up the general things that we need um first I'm going to Ren the panel here to BG for background I'm going to add two containers I'll duplicate it or two control nodes I'm going to add a vbox container and in this vbox container I'm going to add two buttons one will be the inventory inventory button I'll duplicate this and this will be the profile button now in my vbox container the cool part about this is if I extend it the buttons will automatic Al kind of resize a little bit here I can just type in inventory and then here I can type in profile now the spacing is a little weird and that is because in my custom theme I didn't really space it out too well so let me just fix that real quick we'll go to our style or normal here sub region here you can see that this is not spaced out nicely so we need to just kind of Center it again we'll close that and now we can see it's centered a little nicer alternatively you can just use this guy I think this guy was set up a little better so I spent a bit more time setting this up properly okay so here we have our inventory item and our profile button sorry and now what we can do is connect a signal for pressed in our GUI for both of these now what we'll do when we press these buttons is I want to show and hide these control nodes but these control nodes I need to rename them to the proper thing so let's rename this to inventory and this one to profile so what we'll do now is inside of this script we're going to show and hide depending on what I want so okay what we'll do here is for the inventory press I'm going to say get node container bbox inventory button disabled is equal to true because now I'm kind of showing that I'm in the inventory I do that by disabling this button now what I can do is duplicate this and just change this to profile and then enable the uh profile button because if I were in here right if I were to actually copy paste this I would do the opposite so here I would set the disabled to true and set the in disable to false on the but on this one so we're kind of just doing the opposite essentially now what I want to do is I want to show the inventory right so this guy I'm going to show this but then I'm going to hide the profile so here I'll get the profile and then hide this now I'll just copy this one more time the profile but do the opposite so here I'll hide the inventory and then show the profile yeah that's pretty much it now we won't have much of a visual effect um because there's nothing in our inventory or profile right now um but in the next part we'll start filling it in so we'll add in our inventory first uh so this might actually take a bit of time maybe an hour or so the next part um but we'll fill in the inventory we'll add a bunch of logic to it we'll add some items etc etc um and it'll be quite fun we'll start using the item pack here that we have and yeah so it'll be fun and we'll fill it in and yeah so I'll see you all in the next part all right so let's get started with our inventory first um and to do this what we're going to do here is we're going to right click our inventory and Save branch as scene this will allow us to create a new scene basically just as an inventory so you'll see what I mean in just a second we'll save this in rgi I'm going to create a new folder here called inventory and save and now you can should be able to see this kind of YouTube looking button here you can click into it and it opens a new scene let me just close the game overlay we'll open this inventory and here we go okay so what we need to do first is set up um our scripts so let's go to our GUI here create a new folder inventory and in this folder we're going to set up a bunch of our scripts now okay this next part this these next few parts that we're going to be watching and maybe the next hour or so will be not hard per se but try to keep up as there's quite a bit of logic to understand and learn so first we're just going to set up these scripts that we need so the first one is going to be inventory item this will be the actual item I'll duplicate this okay sometimes uh okay here we go sometimes it doesn't like when I have something else selected to control D which will allow me to duplicate it we'll say inventory main this will go into this inventory okay one more time we'll say inventory slot duplicate one more time and we will say um item data then we will have no that's actually for our for now at least we will have one more but that will be a little later so the first thing we'll start with is the item data the reason we're going to start with this is because we're going to create something called a resource we're also going to create something called a class now a class resource is something slightly specific um but we'll kind of go into it one one step at a time so let's create a class name here called item data this will essentially be our item information data right the information that will go into it we here we're going to extend a resource and a resource is something inside of gdau it's a builtin feature that essentially allows us to add uh GUI into a information packet now you'll see what I mean in just a second so let's close all these scripts and just open this up again and for example we can export a variable called item name and this can be a string now let's take a look inside of our 2D here let me just make this a little bigger now what I'm going to do now is go to my scenes that's not my scenes here we go inventory scenes I'll create a new resource and we'll use the default resource at the top I'll create a item uh now the item I will create is let's say a sword um we'll say iron sword so now uh what I can do is take this iron sword double click it go to the inspector Tab and you can see here I have the iron resource I have resource don't worry about this we have a script now the script we want to attach the item data and now you can see the item data the class name you can see the item name with a string now here I can just say iron sword so this is where I can start filling in information that I want inside of my resource so this is the kind of the advantage is that there's a nice uh property tab or a inspector tab for this now think of resources and um the script basically as an extension or a different way of doing a dictionary so a dictionary would look something like this so if I created a dictionary say item data right I can say it's a dictionary it would look like this where we have curly brackets we can have the item name and then this is the key so inside this item name we would have another string we would say iron sword right and then we have to do comma and then we would put in item damage Etc right so this is kind of how we do this dictionary but this is kind of messy right and imagine this is just one item so this I wouldn't even name item data I would name sword iron iron sword right and then I would have to create several dictionaries inside of another dictionary inside of an array inside of different things now this is kind of messy and there's just no point to that so instead we'll use res resources now in our resource we'll have a few things here so the first thing will be a type this is the type of item it is so in our types we will have weapon we'll have head body legs beat we'll have misk MK is miscellaneous so things like um potions and you know things you eat or things that aren't usable depends on what it is um you can kind of make this actually different to what you want our miscellaneous that I'm going to code in our game is going to be a usable item so specifically we're going to use a potion the two items that we're going to kind of look at in this are going to be some sort of equipment item so a weapon probably and then a miscellaneous item so like a potion that way you'll see how we can kind of differentiate between the two and then lastly we'll have main main is going to represent the uh inventory system so the actual main inventory all right so next we want to export the type and we can do this by saying lowercase type and then type which is the type that we just created so this is the enumerator that we just created now what I'm going to do is I'm going to copy paste this a few times and I'm going to change some of these do uh we have item name we have item damage that we want we have item Health we have item defense of course you can kind of Pi and choose whichever ones you want want um I'm going to just do the ones that I'm going to need um the ones that I'm going to implement here we're going to have a stackable item whether or it's going to be a Boolean I'll change the types in just a second um but this is a Boolean that is going to tell us whether or not it's stackable and if it is we'll have a count right next to it and then after that we're going to have a ex export multiline and this is going to be our description and this is also a string but it's just going to be exported as a multiline so you'll see the difference in just a second and then lastly we're going to need a texture so this is going to be a texture 2D texture 3 this one will be a integer the item defense an integer the item Health an integer the item damage also an integer so this is a Boolean okay actually now that we're done what we can do is head over to our item new item resource iron uh sword and we can start filling things in so we can see the type by default is weapon so that's cool the item damage we can give it damage like five the item health and defense I'm not going to fill that in if you're wondering what the item health is this is kind of the healing that I was going to implement so for the potions this is where I would do that now the description you can see the multiline is more of a multiline description so here what I can do is I can now I can kind of just do whatever I want I can write in this is a iron sword and this is not a stackable item I'm going to leave it unchecked I'm going to scroll up to my item pack and I can just kind of drag in one of these whichever one you'd like I don't know I'll just drag in maybe this one actually iight highlight again we'll use the first one um I'm going to use two different ones just to represent two different items so we'll have a iron sword I'll duplicate this and say long sword now in my long sword I'll go into this and you can see on the top right it says long sword so this is not an iron sword anymore we'll change this to long sword we can change the damage to maybe three this is maybe a slightly weaker item can say long sword scroll up and select a different thing maybe this one yeah this one kind of looks long I don't know yeah so you can kind of Select uh look through these and select whichone you'd like I'll now make a potion because well we'll make a small potion let's say so this small potion we rename it to small potion this is going to be a miscellaneous item the item damage will be zero the health we can change it to five so it'll heal five you can say this is a small ocean that heals heals you the count will change to one and this is a stackable item so we'll check that on so next what we can do is find a small potion and fill the texture in okay so we have a few items which is nice now one more thing I'm going to do is I'm going to actually create a new folder here called default stats this will be for a little later and for now what I'll do is I'm going to duplicate this and call this default sword I'll drag this guy into the default stats folder pop this out duplicate one more time and make a uh oops default body armor uh body armor like this. trust duplicate now these guys will be our default stats so for the iron sword or for the iron body I'm going to actually reset everything and here I'll just say default armor the default sword I'll say default Sword and the Damage I'll say is one by default or actually let's say two now the rest doesn't really matter we can just say the default sword because this isn't an actual item we'll have in the game it's just to represent our stats you'll see why we do this a little later okay so now that we have everything set up uh we need to actually start setting up our scene now the scene setup is not going to be actually too complicated here all I need to do is set or add my inventory main to my inventory uh scene here next I'm going to add a grid uh scroll scroll up grid container this is going to be our grid container so I'll rename this to grid this is going to be where I put my inventory slots now next what we want to do is we want to add equipment but our equipment is going to be our own node that we create now what I mean by this is inside of our inventory slot here what we're going to start doing in the next part is we're going to take a look at how we can create our own node from scratch because here we extend node but we want to create our own node and we'll take a look at how that what that looks like in just a second all right so now that we have our inventory slot here to create a new node using this script what we can do is create something called a class name now we already did this but this time we're using an extend node so let's take a look at how this might work we're going to create this class name called inventory slot and instead of extending node we're going to extend panel container so now what we can do is if I close the script just as an example well it is an example but we're actually going to use this if I search up inventory or uh slot okay I'm going to have to actually save so here I need to make sure I contrl S and then try one more time here we go we have our inventory slot I can create this as its own item or is its own node now this slot is technically a panel container right but here it says inventory slot just because it has the script attached to it now the coolest part about this is in my inventory here what I could do now is let's say I create a ready function so that's not a ready function the cool part is if I say create a variable slot is equal to inventory slot because now it's a class that I can call and then say New I can add a child slot now the cool part is let me hit play Within this scene this will add a new slot but if I go to the remote section you will see I now have two slots whereas here I only had one so this is how we will actually fill our inventory slot grid through this now kind of extend on this example you can also do this using any already prebuilt node inside of gdau so here I could create a label right so here let's add a label let's go to our REM section and here I now have a label additionally we can also start editing some things and properties from this label obviously here it's called slot but I'm going to call slot. text equal to I my name is coding quests and if I hit play you will see a label on the top left that has that property so this is kind of the advantage to what we're going to be using we're going to essentially create some slots just control Z here and fill in our inventory slot now let's complete our inventory slot first because we'll kind of be confused on what we're doing in here and what we're filling in until I actually do this so in our inventory slot here we're going to start filling in some things now the first thing we'll need is an on uh sorry export variable called variable type and there's a reason we're going to export this I'll show you in just a second we're going to get the item data type so we'll export all the types of the uh item data right so now if I actually close this you will see here I can now pick what sort of item this is now the advantage of this specifically the reason we're exporting it is because now I can create equipment system using this same slot and we'll do that a little later so let's just go back to our script and we'll continue this next we need to initialize our um slot here to do that we'll say in it P item data. type we initialize the item data CMS and then Vector 2 this is the size that will actually have our uh oops this is going to return void so here we go we say void this is the size of our actual inventory panel slot here I can say type is equal to T and then I can say CMS or sorry custom minimum size is equal to DMS the custom minimum size right so this custom minimum size what this is is if I close this real quick is in my layout so if I add this to my grid you will see that my inventory slot disappeared and that is because even though well I guess technically now it's just 0 0 this I can't actually edit the size of my panel or my inventory panel here I can change the size of this to 64x 64 or 32 by 32 whatever I want so here I need to make sure I change my minimum size all right let's uh make sure that we just have that outside for now let's head back to our script here all right next we're going to add a function called function and drop item data this is going to allow us to have a true or false it's going to return true or false and tell us whether or not we can uh drop data or not at a certain position now if we can right we're going to call another function called drop data and this is going to return void so here we can actually pass here I'll just return false for now so that way we get rid of that error next we're going to have a fun physics process function which we'll actually return to a little later but this is where I'm going to check for equipment and adjust stats this is something we'll do a little later but for now we'll just have it in so that way we remember that we're going to need it next we're going to add a GUI input now a GUI input is a function that allows us to detect some sort of input only within not only the script but only within this actual item so what do I mean by this well if here I actually print event and I hit play let's say if you tried this before right event should print like Mouse motion and stuff but the cool part about this is because this is a control node specifically right a panel container is part of the control node family here you can see it says control this I head back to my game here let me just play again will only print if my mouse is within this control so here you can see there's motion I can click and you will see the mouse button here we go and we can detect things only Within the specific uh script so this is going to allow us to check for a very specific thing within this specific slot okay all right so and this is where we're going to be using a lot of um using buttons and uh sorry using like our items and stuff like that so this specifically will actually be using our items okay let's get started with our handrop function so here we're returning false by default which is actually correct but well it's correct and not correct what we want to do here is we want to first check to see if the data is inventory slot uh sorry inventory item now inventory item is another class that we're going to need to make but let's actually make that before we continue so I don't eror here here I'm going to create a class name inventory item and this is going to extend let me extend just double check the texture rectangle texture rect so this is going to essentially represent uh our Sprite think of it as kind of a Sprite but this texture rectangle specifically is a uh control node uh sorry so texture wct you can see here that it inherits the control node properties so it's just to display a texture but it's also a control node so that's kind of why we're using it okay so let's pop this back out go back to our inventory slot and now we can continue this so here what else I need to do or check for is if the type is equal to the item data. type. main I want to check to see if this is our main inventory slot if it is we'll also check to see if the child count is zero and what this is this is to check to see if we have an item or not so what we're going to end up doing is when we drop the data or drop an item in an in a slot we're going to actually add a physical item into that slot so it's going to be an actual node that gets dropped into that filed so if I do that the child count will be one not zero if it is zero this means that I can return this means that there is space to return on the inventory slot otherwise I will return get child z. dat type equal to data do dat. type now the data is something that we'll have to adjust later so don't worry too much about understanding this because we haven't finished it just yet but next we'll create a if statement here or check an if statement we'll say if type is equal to data. getet parent do type there we go Ty if it is then we'll return true now lastly we'll say if else here and then we'll return false on the else okay so here I might have to make sure that this gets saved in order for this to actually work and I'm going to close my game here so I don't get an error so hopefully okay so we're missing some things okay so right here this is missing an else statement so over here we'll need an else statement here so here we'll return the data do dat. type equal equal to type so this is going to return a true or false depending on if this is true or not right okay so this is our can drop now if we can drop something I want to drop something to do that I will first check to see if the child count is bigger than zero if it is that means there's an item that we're currently dropping into this item or into this slot so what we'll say is variable item is equal to get child we'll get the item that is kind of in the slot right now now and then we'll say if item is equal to data we'll just return this basically means item this means that I'm trying to replace a slot with a with the same item so then I can just return I don't have to actually change anything next I can just item reparent data. get parent then outside of this if statement I will say data. reparent uh self here we'll reparent our self the item that is kind of currently in our hand into the uh inventory slot but if there is an inventory or if there's an item already in that slot will reparent the item there into the previous um slot that we were in okay so now this is kind of our general Logic for our inventory slot let's take a look at our inventory item as this is where some of the things actually happen for actual item all right next up in our inventory item we're going to start editing some things in here first we will export our data now this is the data that we've been talking about this entire time right this is where the data will be stored now the data that's storing or that's being stored is an item data resource now we can create a ready function and say if data we'll start to fill in some things that we need first we'll say expand mode is equal to texture Direct rect expand mode ignore size here we go we'll also say stretch mode is equal to uh okay there we go error is gone texture re do stretch mode aspect centered next we will say texture is equal to data. item texture next we'll fill in the tool tip the tool tip is a very cool thing it essentially allows us to cover an item and some text will appear so this is kind of where the description will become so here we can fill in a name we'll put in percent s we'll fill in that information in just a second we'll say new line percent s maybe I'll just copy this so it's a little easier to put new line and then we'll say stats actually no space there stats space new line or sorry uh contr s and then damage then defense and then maybe the health as well so now what we can do on this line we'll put our percent and then an array with the information we want to fill that information is going to be the item name the data Dot uh description and the data do uh item defense or damage and I'll just copy this so this one will be item defense and then this one is item Health hopefully that should be right okay so let's go to the new line all right so now what we can check for is if the item is stackable if it is stackable that means I want to create a count number right below to do this what we can do is create a new label to do that we actually already kind of went through an example I just create a new label like so next I can just start adjusting its uh properties the text I'll add is a string of the data. count the position of this I'm going to set it to be Vector 2 24 and 16 now this you can adjust to whatever you'd like later this is kind of something I found it works kind of good enough it's in a decent position next I'll just add child and then add the label okay so this is our ready function complete next I'm going to initialize our function here now make sure that when you initialize you do not have the underscore the underscore is a very is not very different but it is different than having this um here I'm going to initialize the item data and this is going to return void and we'll just say data is equal to D okay next we'll create a function called get uh drag data here we'll just pass for now and we'll create one more function called make drag review uh preview there we go preview um it's going to be at position and I'm actually just going to copy this but here I'm going to return a control node next in here uh we'll do this part first because this is the preview and then this is the get preview uh so here in the make preview I'm going to create two new nodes the First new node is to represent the actual image that I have so to do that I'll create a texture rectangle a new oops new like so we'll get the texture and we'll say texture is equal to self. texture we'll get the expand mode and I'm actually going to just copy this right here and then after that I will say t. custom minimum size is equal to self. size we'll say t. modulate a equal to 0.5 now if you're wondering what this is this is the modulation a so what that is is let's go to our inventory slot go to visibility modulate and if we look at the a this is kind of the invisibility tab the 05 would be in the middle and this just makes it slightly transparent so this will kind of give it that effect that I'm dragging my item okay next I want to say p. position is equal to Vector 2 minus F position next I want to create a control node because I'm supposed to return a control node here I'll create a control do new I'll say c. addchild I'm going to add that texture that I created and then return C now for the get preview I'll just say get uh set drag preview oops preview do the make drag preview which I just created and pass through the position then I will return self all right so this should be it this is my entire inventory item script next we will head back to our inventory Main and start filling in our inventory because we don't have any slots right now to test anything with and before we continue actually we now need to create a our Global script This Global script will create a new folder for it for Global if anything if we ever add anything Global it will be in here we'll add a new script in here new script we'll call this game now this the reason we're doing this is because we want to essentially globalize a lot of our things the one thing we're going to globalize first is is um player heal we're going to default this as an INT to let's say five we'll create a player health max this will be well five by default as well can't be bigger than or smaller than the player Health we'll create a right hand equipped for item data now this is kind of where we start to go into uh the reason we created the default resource so we also create a body equipped uh item data next we'll create a uh variable player damage this will keep track of how much damage we do to zero variable player defense as an in to zero and we'll say variable uh oh that's it for now uh next we'll actually load our items though globally so we'll also create an items tab here whoops going to be a dictionary not an array here I can actually say dictionary and then here I will say long sword and then I'll load or preload the long sword so here I should be able to say long sword okay maybe not if it doesn't pop up that's okay what we can do here is we'll close thisor Scripts and we now want to find that long sword I've created over here so now I will pop this into the new row we'll load in all our items that we have so we have a long sword we have an iron sword we also have a small potion okay here we'll just load in the small potion make sure that this is correct we go iron sword here we go we load in all these items okay uh we'll delete that there we go so now we have our items globally accessible now what we can do is actually one more thing we'll create is a gold variable here I'll just default this to 100 uh this will be for a little later but we'll just add it now for why not okay so now let's head back to our inventory main here and this is where I'm going to start adding my inventory items first I'm going to export a variable called inventory size and equal to 24 I'm going to on ready variable grid and I'm going to get a node grid this will just allow me to access the grid inventory a little faster now what I'm going to do here is I'm going to for I in range of our inventory size so I want to Loop 24 times every time I do I'm going to create a new slot now every time I create this new slot though I need to initialize it because if you remember we created an initialize function so in it and then we're going to pass through item data. type main we're going to initialize every single inventory uh to Main and then we're going to give it a size of 32x 32 then I'm going to get my grid and then add the child there now that's it so now if I hit play I should be able to just hit play and here is my inventory now this obviously isn't perfect because I need to now head back to my inventory grid here and go to columns and search either do four or six the four would give you a 4X six and six would give you well a 6x4 right so it's up to you now let's play one more time and now here we go so I kind of think I'll do a 6x4 instead I think that might look a little nicer I'll kind of move this right here and now we can start um we can actually delete this guy I'll add it a little later but for now let's hit play one more time and now we have our items now the issue is we need to now add items so to add an item we'll create a new function called add item this will pass through the item name as a string and will return void so what to to do what we need to do sorry is create a new inventory item we say inventory item. new we initialize this item so we'll in it we'll say initialize with the game. items items that we just globalized we'll call in the item name okay so the game is not Global because I haven't globalized it let's head to our project settings go to autoload and we need to autoload our script so let's add it and this has enabled our Global variable you can even see global variable and if we close this head back to our script this will now be globalized all right so sometimes you still have an error but that's okay it'll go away eventually now what we can do there you go see it's gone away already so now what we can do is check to see if the item is stackable the reason is because if this item is stackable there's something else we need to do now if it's not stackable the answer is actually quite easy all we need to do is for I in the inventory size and you can probably guess why we're doing this we need to find an empty slot If an item is not stackable like a sword and I want to put it in my inventory well I need to find an empty inventory slot to put it in so this is actually quite easy all I'll do is for Loop through the inventory and then I'll check to see if the grid. getchild child I and get child count of that child is equal to zero if it is that means the inventory uh or that slot specifically is empty so what I can do is say grid. getchild I do addchild item now if I do find it I will just break and no longer need to continue looping through my inventory now here it's a little more complicated because now I need to find if the item is stackable I need to First find if I have this item or not so similarly I will for Loop through the inventory first then I will check to see I'll just copy this right here I'll check to see another way we can do this is to see if it's greater than zero that means there is an inventory uh in that slot so if there is an item right or if the child count is greater than zero that means there is an item in that said slot now if there is an item well you can probably guess what I want to do is now uh see if that item is equal to the item I'm trying to add so here what I can do is check to see if the grid. get child i. getet child zero this is the uh data and we'll check to see if the item. DAT is equal to that we'll see if the data is equal to the item data meaning it's just the same item right now if it is then that means we found our item in our inventory so what we'll do is we'll update the counter then we'll update oops update the label counter now at this point this is where I don't actually need to add child this is I just need to do this I just need to update the counter and update the label so to do this I will just get grid here I'll just get all this copy this and then dot data and then count plus equals 1 next I can copy paste it again but instead of child I'll get child one more time because this is my label so now I have access to my label I'll edit the text now I can just make it equal to uh the item I'll copy this part right here I'll get the string of this I'll copy the count into the text now once I do that what I'll do is I'll go to the next line here I will just break if I this means I have found our item and I've just added it now what I can do here is add an lse statement and I will add the item if I can't find it if I can't find the item I will simply add the item right that means I don't have it and then here I can break again okay so now that we've created our ad item function we can just add an item and then we can say long sword we can add an item small potion now do make sure that the name here has to be the same as this so here it has to be capital S maybe I'll just make sure that these are all the same small potion Etc we'll hit close we'll hit play and now you can see I've added my items and I should be able to drag and drop them okay cool so this is very neat now the question is what if I want to use this item specifically the misk item what if I want to right click and use this and obviously okay you can also see here when I hover it you see the description which is very cool so okay now let's head into our um inventory slot I believe yeah so this is where we will actually be checking for equipment we'll be also be able to use the equipment let's take a look at how we'll do that all right so back in our inventory slot here what we're going to do is we're going to do our gii input first so this is to use a misk item so to do this we'll check the event first we want to check to see if the event is an input event Mouse button if we're clicking and I now want to check what sort of clicking we're doing well what I can do here is I can check to see the button Index this is to check if I'm clicking left or right clicking or middle click technically but here I'm going to check for right click specifically now if you want left click I believe it's zero if you want middle click I think it's one but don't putote me on that I might be wrong uh here we can say event and event button mask is equal to zero this button mask will check to see if I'm clicking up or down this will be like it's kind of like a release or press down right so here this is uh release so now if I am left right clicking and I'm releasing my button then I will say get child count greater than zero oops greater than Z then that means there's an item in that slot that I'm clicking in if the get child get filed zero is data. type is an item data. type. MK that means it's a miscellaneous item and I want to use it so to use it what I'll do is I'll say game dot heal player so this is a functional call with the uh game dot or sorry not game dot we'll get the child hero do data. item help here I'm going to use the item Health to heal myself now this function I need to create otherwise I'll airor so let's go to game and create this function and for now we'll just pass and here I need to pass through uh Health this will be an INT we'll pass through at health and we'll return void I believe the moment okay so now that we have that function hopefully we don't error next we will get child zero we want to update the count so to do this we say data. count minus equals 1 because we're using one right next I want to update the counter the label to do that we can say get child. get child Z again text is equal to the new data I'll just copy paste this string of that data and then after that I want to check to see if this data count is less than or equal to zero if it is that means I mean I'm out of items right so now oop now I want to get child dot do free because this means that the item I'm using is all used up right get child zero there we go there we go this is our usable item so in fact we can actually test this out by hitting play and here we should be able to right click and use our item now of course nothing happens because we haven't used or implemented our deal functionality yet but we'll do that a little later okay next for the equipment what we'll do is actually not too hard here what we'll say is if get child count get Childs child count is greater than zero that means we have an item in this slot if we do we'll get the item we'll just assign it a variable by saying get child zero we will match the type right so the type in this slot itself to the item that is equipped we'll match the type the item that's equipped so we'll say item data. type weapon weapon here we go if it is a weapon then what I want to do is I want to fill in the game. right hand equipped with the item. DAT this will whoops dat there we go so this will fill in my game right hand with the item that is equipped so essentially if I have this item or if this inventory slot is a equipment item right or an equipment slot and I have this certain type of data inside of it then I'm going to fill in my right hand equipped with this data now alternatively we might have uh now this is kind of up to you so you can start implementing the body the right hand left hand Etc I'm only going to do the weapon and the body um so here in the body. equipped I will say body equipped item data now otherwise so this is almost like saying else if it's else what I'm going to do here is I'm going to load in the AUD equipped and the right hand data with the default stats so this is going to be my default stats here I have default SW so this one should actually be on the next one s right let's load this for our right hand and then this one I'm going to load in the default armor so here we now have our default armor and our default sword being equipped if I don't have this equipped or this equipped and this will work for each slot independently so now if I close this we now need to set up our inventory equipment stuff so let's take a look at how we can do that it's actually not too hard all I need to do is search up inventory slot add my inventory slot here and now I need to just assign each one of these what I can do here is I can zoom in here a little bit I can duplicate this a few times and now now I can rename this to what I need so first I'll rename one to right hand I'll rename this to body I'll rename this to head I'll rename this to legs and this to feet and this one we won't need so I'll delete that now I can start moving everything around as I want it this is my head this is my right hand so I'll put that over here these are my legs so I'll put that right there this is my body so I'll put that there my head and this is my right hand but here's my kind of equipment system now if I hit play uh actually sorry before we do that let's just close one more time and now we need to make sure that the type is all correct so here this is a weapon so that's correct the body type I need to select body the head I need to select uh head here we go the legs I need to select legs and feet I need to select feet all right so now if I hit play I should be able to go into my inventory and drag this into my weapon system but not my body or head now if I drop this in you will see in my remote section in my game you will now see the right hand is equipped with the long sword. tress however if I head back to my game and unequip this you will see a returns to the default sword so that is our equipment system our equipment system now essentially works and inside of this we have all these stats that I might need okay now in the next part we'll take a look at how we can continue our gii system because here I don't believe we're completely finished so we'll kind of continue our whole gii system all right next we're going to start filling in our profile because right now if I hit play and I head into my system here go to profile nothing's here and I go back to inventory here's my inventory equip stuff but I want to be able to see my stats now okay what we'll do is we will create our profile by right clicking our profile Save branch as seen and we can save it in our VII group save we'll head into our profile here I will add a script I'll save the script in my scripts folder player GUI open create I will uh now we want to add some things in this to all I'm going to do is add a label now this label I'm just going to test some things this is a test text yeah and now I can just dag this out and I want to just put this where it would be in my profile here if I actually hit uh save I'm going to close my inventory go to my gu so this is where the text will show here I'm going to Center the text and I'll just kind of drag it where I would want it to be in my GUI and there we go of course alternatively you could just use this profile and move this around uh but I'm just going to do it in my profile it's really up to you now here I'm going to rename this to Stats label and into my script here and now I'm going to pop this out and we're going to create a process function now I'm just going to say this uh even though I probably shouldn't this is not good practice to do you don't want to just add everything into a process function you would ideally want to update the text every time you hit Escape so ideally you would have a function instead that updates the text and then you would call it through here whenever you hit play so um this is not good practice but I'm just going to do it anyways because it's quick and easy what we'll do is we'll say get node stats label we'll edit the text equal to a string uh not Delta we'll hit uh enter we'll say player healths player health is space I will put in uh percent s and now I'm going to hit enter copy this and paste it a few times this I'm going to remove or replace with attack this is going to be defense this is going to be level and this is going to be XP now these obviously don't exist yet or some of these don't so let's head back to our game script here and let's start adding in some of the things that we'll need eventually so here I'm going to create a variable called current XP this will be an integer equal to zero next I'm going to have a variable XP to Next Level as an INT be equal to 100 by default we'll have our player level as an INT equal to one by default now lastly we have another thing called shopping this will be a Boolean that we'll use a little later so don't worry too much about this when we add our shop we'll you'll see why we need this okay let's head back to our profile and now I need to fill in the information so let's uh hit percent array and now we want to fill in the game. player L we want to add our game uh do player damage right for the attack we want the game. player defense and we want the game. player uh level then came do current XP and then game dot XP to Next Level now back over here we're actually going to have to add a flash percent so this will just show us how much xp we need to get to the next level let's hit close and see if this works so let's hit play and immediately should air if we don't okay so cool it works here we go now we can go in and out now if I equip something you will not see anything happen and the reason is because we don't actually update the player damage uh depending on where we need it to be so the player damage think of the player damage and all that stuff as the total player damage now we want to have a total that we add to it um with our stats so let's take a look at how we can do that right so in our script here we're going to head over to our game script and pop this out and at the very bottom we're going to actually in between this we'll create a function process and in here what I'm going to do is I'm going to say player damage is equal to right hand equipped do item damage and this is now where you would add other things so for example I can add the body equipped do item damage obviously my body equi doesn't have damage but we'll change it in just a second to test this out now here I can change the item defense similarly but the item defense here I'm going to take item defense very same thing for the body equipped and now this will essentially give me a total of well all my player damage and all my player defense let's take a look at how this might work let's go to my iron well I should probably add a body so let's say iron body let's go into this iron body here change this to iron body we will scroll up find some armor uh we'll go over here here we go we'll change the type to body we'll change the defense to five as well and this is an iron body armor I'm going to need to load this in my game script so over here I will Control Paste body uh iron armor and then I need to load the body iron body there we go all right so that's our added now let's add this in my main uh slot here here I'm just going to add it so uh I'll say iron body we'll add this item we'll hit play and now when I hit Escape okay so here we have an error because iron body doesn't exist so here I said iron armor so let say iron body play one more time here if I uh sorry go to here pop this in pop this in and if we can go to profile and we can see the t is two which is doesn't seem right so let's go to over here okay so here we can see that the long sword is equipped and the iron body is equipped so that's correct now here if we go into this it says item defense five and here we have zero we should have a total of five so this is not being updated which is weird now now we also have the player Health which is correct the attack should be okay so the attack should be 3 + 5 so it should be eight but it's two let's take a look at why this is not working here we have player damage is equal to right hand equipped do item damage this doesn't seem to be working so okay I see the problem the problem is the this script is not being updated so actually if I hit escape and then try it again you'll see that it works but what was happening is the script the game script is being paused because I'm in pausing my screen so what I want to do is on function ready I'm going to say self. process mode is equal to mode process always okay this will allow my script to always run even when my game is paused so now when I hit play now it should work properly so hit play pop this in and you can see the stats being changed okay now um what we want to do now is before we kind of head to the next part is I want to fix our GUI so let's go into our GUI here and in the ready function I want to hide a few things so first I'm going to get node um I'm going to say get node profile here we go this guy and I'll hide this by default so by default I will have the Prof uh the inventory selected so to do that as well I will also disable the uh inventory button by default so this kind of gives it that effect that I'm by default looking into my uh inventory slot okay so now what we can do is we'll also get node um we will get the HP bar and we'll say. max value is equal to game. layer Max Health now we'll also start implementing the health in just a minute but this will just allow us to fill in the HP bar okay so let's hit play to double check this works all right there we go we can see our inventory slot is selected I can unselect or whatever and there we go now everything works pretty nicely all right okay next we want want to start doing a bit of weird stuff because we want to implement the health and stuff but we also want to start Implement damage now let's close our GUI close our profile now we'll head back to our player in our script here and if you recall in our uh hit thing we here we we're doing two but now I want to say game do player damage now this will do the amount of damage I should be doing now at the very top we can delete the health at the very bottom we can now go over here and change this to game. player Health now here's the thing though is I want to now also apply the defense that I you know added right so how do I do that well it's kind of up to you in this sense that you can kind of create your own calculations whether or not you want to uh have like some weird calculations I'm going to do a very flat damage what I'm going to do here is I'm going to say or check to see um I'm going to create a damage uh done this is going to be equal to damage minus the game. player defense and then I'm going to check to see if Damage Done is greater than zero then this is where I will actually do damage okay now uh here the Damage Done though will be reduced here this is the amount of damage I will do to my health only if it's greater than zero uh now here I want to check to see if it's less than or equal to zero if it is then we die just the same way we just did now I'm only going to get hit though if this goes off so here I can say just hit is equal to True okay now that is pretty much it um here is our damage done now what else do we want to do we also want to uh Implement our health system our health system player to do this we're going to create a custom signal now custom signals are pretty cool let me show you an example first before we head into this so if I create a new node here create a random node it doesn't really matter I'll make a builin script and I'm going to create before I do that actually let me show you the signals so here on the top right in the node section I select the node you will see a bunch of signals now the question is what if I want my own signal not too hard I can create a signal called custom signal it's save uh I don't have to save the scene because now we see it here custom signal and this is how we create a custom signal now if I want to pass through some sort of variable you can now see that it says damage variant of course I can uh initialize it to an INT and there we go now the damage is an INT so this is how I create a custom signal let me close this going to discard it that was just an example now in my game script I'm going to create a global variable called Health changed this is going to pass through a damage variable I'm going to have one more for later called level up and this is going to be a level up signal now in order to make these work we're going to go to the bottom we're going to in our heal player I'm going to say self. emit signal Health changed when I emit the signal I'm going to pass through the negative amount the reason is because this is to heal the player now I'm going to have another function um let me actually let's finish this one first first and then we'll do the other one here what I'll say is player Health Plus equals okay so here I actually need to change this to amount there player Health Plus equal amount and then I'll check to see if the player health is greater than the player max Health if it is I want to set the player Health to the max the reason we do this is well because I don't want to overheal right unless that is something you want to do but now what I'll do is I'm going to copy paste this function and rename this one to damage player and this will say will emit the signal damage changed here we'll do the same thing the amount now here I'm going to remove this because here I'm going to be subtracting damage okay so these are our functions that we want to add now the question is well what about the Damage Done or damage player sorry well uh in our player script we can go to player and we want to uh damage the player if uh here we go in the hit function here we go so instead of Damage Done Right here where we subtract the Damage Done Now I can just all the function that I just created called damage ler damage layer and pass through damage done now the reason we're doing all this by the way is specifically for our GUI so let's open our GUI one more time let's open this guy up and now this is where I want to uh create a new function on the bottom called on node Health changed we're going to pass through a damage as a int pass through an INT and this is going to be a function where we tween the HP bar so we're going to Tween so TW we need to create a tween we will twe Dot uh between property okay so there we go uh the thing that we're going to TW is going to be the HP bar which we don't have so let's actually on ready variable this at the top we'll say on ready variable HP bar is equal to get node now I can call the HP bar here and at the bottom we can call the HP bar we can twe the value the value I'll set it to HP bar do value minus the damage done and we'll do this over a period of2 seconds okay now what we want to do is at the very top we want to connect the signal to do this we will say variable game node is equal to get node game. get path this will get us the to the game script globally now we have access to the game as a variable now what we'll do the reason we do this is because now I want to say game. node do elf changed dot connect to callable and here we'll say self then we will copy this new thing that we just created and pass it as a string and this will pass through the signal every time I change my health every time this signal is uh shot at basically through the game we will connect it here and we'll pick it up we'll pick up that signal through this script and then every time I lose damage or gain health or whatever it will change my HP bar now here when I hit play I should be able to take damage now and it doesn't seem to be updated so let's take a look at What's happen happening let's go to my inspector here player health is one so it should have changed so something is going on something not good is going on so let's take a look the damage player is not working so let's take a look at if I'm actually damaging the player here what we can do to kind of debug this in a sense I will well here actually I should be adding the amount Maybe that's why so here let's try one more time okay there we go so now it should be working functionally all right there we go and we lost all our health game over and there we go so now actually let's try the health uh potion as well so let me just lose damage okay so I lost some health let me right click and you can see here that I added some health now it was pretty immediate so let's take a look as to why that is here heal player their amount amount negative okay uh it should be working um but one thing we're going to add here is a background for our image because this looks nice but we want to make it a little better now the reason I didn't add a image for this before for from our texture is let's find our UI big piece here drag this in and I'm going to go to region enable and edit region and now I can select the health bar that I want and I will select this one this is the health bar I'm going to select close and now I can move this in put this behind my HP bar and just drag it to be a little bigger let me fill this in 100 so I know how much it should have here I can just start dragging this guy to be a little bigger like so and then I can turn off the grid snap if I need and now here I can just drag this in to fit the HP bar like so I'll just drag it in like this maybe all the way right there and right there I believe okay so there we go there's our HQ bar it's not perfect but should now look a little nicer visually now if we hit play I lose some health now it actually looks like I lost some health and if I right click okay so it does animate it was just really quick there we go okay so there there's our system there's quite a bit and it looks quite nice so let's take a look at what we're going to do next right next now that we have a nice system here and everything is working relatively well we're now going to implement a way to drop items from our monster right now I can walk up to him kill him uh hopefully without dying well I died kind of tried to bug out the game there uh let's actually equip some stuff see if I can kill him okay there we go one shot him but he doesn't drop anything so we want to make a way so that he drops stuff and I can pick it up or whatever now of course you could just have the monster die and then drop them right away but I want a more visual effect so let's create an area 3D as our base here now what I'm going to do is I'm going to search up some items now the first one I'm going to have is a sword let's find a sword and here in the K kit we can find some swords now it's kind of up to you um you can use the twohanded you can use this um whatever you'd like I'm going to put put this guy in then there's also a body armor now to get the armor don't think we actually have it so we what we'll have to do is we're going to cheat a little bit and we're going to find the Knight drag him in we're going to make it local and then we're going to steal his uht body armor there we go he Knight body going to steal this guy all right so let's make this local as well we'll drag this in and we'll rename this to sword rename this to body and one more item we'll have is a beer we search a beer a beer other one was called don't remember what was called but let's go into the fbx here and we can probably just find it oh mug here we go so mug full we'll make this local and I'll rename this to potion I'll use this as the potion obviously I don't have a mesh of a a potion but this is going to work fine now I'm going to reset everything to 00 here we go set everything to Z now the ocean I'm just going to move it up a little bit that way it doesn't go into the floor now I'm going to add a new uh thing here called Collision shape 3D this is going to be the Collision that I use to pick up our item I'll make this little higher here I'll rename this to item object I'll save this into my scenes I'll save this into my maybe I'll make a new object here or actually I'll just save it right here here as we're going to have this be slightly Dynamic now we'll add a new script We'll add this as nonb builtin script or script folder uh player UI inventory We'll add it here create I will delete this code and I'm just going to connect our body enters uh node here I'll pop this out now what I want to do is a few things first let's do the pickup the pickup is not too hard all I need to do is check to see if it's in the group Player right because hopefully it's oops a player that's picking up this item not a monster now what we'll do here is I'm going to match RNG now the reason we're doing this is because I'm going to randomize the item so I'm going to create a new variable called RNG outside of this if it's zero what I'll do I'll get node and I want to add the item uh long sword probably so what we'll do is we need to get access to our monster or to our inventory now to do this we need to First figure out how am I going to do this pathing so I'm going to close this go to level one and I'm going to create a few new nodes here node 3DS I'm going to duplicate this a few times I'm going to rename this to monsters monsters going to rename this one to code projectiles going to rename this one to objects and this one to items so the objects will be things like torches and kind of environmental things now the items is where I'm going to add my item so what I'll do here I'm going to add my item object into my scene make sure it's a child of this make sure I save this so I can see the script here now I will drag in my GUI this will give me the path to my GUI I can copy paste is here but now we're not done because now what we need to do is get the path of the inventory right so back to my item object I need to say slash container slash inventory and now I have access to my inventory script which in here I have the add item now just remember in order to add an item I need to make sure that the name is the right name in here I can say long sword but it has to be the same one okay now we'll head back to the script and what we'll do is we'll match uh the other numbers so here this actually has to be on the next line we'll do one uh we'll copy paste this one more time two copy paste and then outside of this I'm going to say self. hiide actually sorry I'm going to say self. VI three for now there we go so no matter what I pick up obviously I should self. Q free outside of the match function sorry now here I'm going to change these so one will be the small potion small potion the third one we can make it the the iron body copy paste that iron body and now what I want to do is I want to make my RNG work though so to do this I will make sure this is an INT I will say ready function uh what we'll do is we will say RNG is equal to Randy range from 0 to2 we'll get node ocean oops do hiide we get node sword do hiide we're just hiding all the uh meshes right now the body do hiide then what I'm going to do is I'm going to uh match the RNG just like I did before I'll match zero so zero should be the sword so I'll get the sword and show it if it's one that should be the small potion so I'll get the small potion I'll hide this or sorry I'll show this if it's two that means it's the body it is the body I'll show the body and that should be it now this is pretty much General uh our general object now one thing I want to do is I want to kind of create a floating effect with our object so to do this what I'll do is or not a floating effect sorry a randomized spawning position so to do this I'll create a tween that's not a twe create TW I'll say variable RNG position this is going to be a vector 3 we're going to randomize the X range from1 to one we're going to randomize the Z we're going to say Randy range from one to one and the Y needs to be one so by default the Y needs to be one otherwise if it's zero it'll be in the floor if it's two it'll be too high Etc right now we can tween the property of self we're going to twe the position to position plus plus the RNG position that I just made over a time of 0.5 this has to be side of a string like so so there we go all right so now I'll close this I'll head into my monster so let's find our monster here I'll pop this into the monsters tab go over here and now what I can do is I can load the uh item object that I just created so to do that what I'll do is at the very top I will maybe right here I'll say on ready variable item object be is equal to preload item object and now what I want to do is I want to find uh where I die so where do I die well in my death function so in the death function right here this is where I'm going to add this so to do this I will randomize the object by saying RNG Randy uh Randy range and essentially this is going to be a random number between two and four is going to be how many items I spawn we'll for loop I in RNG we'll create the item object M as the item object scene do instantiated this is going to create a new object for us let me actually pop this out so it's a bit easier to see we get access to this temp you will say. global position equal to self. globble position and then all we need to do is get access to the items tab so this guy right here I need to get access to this so I I'll remove that and say get node items so I'll make sure the path is correct and then I will just add the child so I'm going to add this guy by saying ADD child add item object temp and that's pretty much it now one more thing since we're here we'll also gain XP here so I'm going to add a function called gain XP and here I'll just say 100 now here I need to create this in my game uh script we will create it but for now we'll just uh pass we'll say gain XP uh amount and we'll pass through an INT and we'll return void and pass for now now let's close our script here let's hit play and we should be able to going to equip my items here so I can onot him we should be able to kill him and he spawns some items now we can pick these items up and it should add it to my inventory all right there we go we even got some potions we got some armor should be able to switch it out Etc so obviously if you have a different item it would visually make more sense but since these items are the same you don't really notice a difference but yeah so that's pretty much it for the item object we've now also created it so we can spawn some items so let's delete this guy we don't need it so in the next part we'll take a look at how we can create our shop all right so let's move into our shop now to start our shop we're going to create a new scene called canvas item or layer we're going to go to level one open up our GUI as this is kind of going to be where our shop is so let's make sure we rename this first to shop I'll save this in my leri save it in here in here I will just drag in the shop that I just created and now head back to my shop sure we're in a 2d scene of course and now I want to start filling in the things I need for my shop let's fill in all the nodes that we'll need so first I'm going to add a panel I'm going to add a Rd painter going to add a control node and this control node will actually contain two labels so let's create a label duplicate it and then add a Sprite uh sorry not Sprite 3D just a regular Sprite 3D then our shop we will add two buttons one is going to be our buy button we name this to buy we'll duplicate this we name this to buy button and this is going to be close button so close the shop Okay so let's rename this to close and let's start organizing things let's make our panel a little bigger here I'll put it same size as I do for everything I'll take our clothes let me actually lock in the panel by clicking the lock button right there take our close button I'll move it to the bottom right or bottom right up right whatever you want I'll move my buy button kind of right there maybe in the middle I'll take my control node here here and I'm going to uh take my label and I'm just going to move everything uh to where I want it to be so this is going to be our item name this is going to be the item description and this is going to be the item uh Sprite this is going to be the item info node here I'm going to make sure that this is right around here so here I can give it a default name by like sword I'll Center everything going to take the theme override make it a little bit bigger be 40 41 whatever you'd like and I'll just kind of Center it like this this is where my item will show the item description I'm going to move this down here where the description will go say this is a item description blah blah blah and then I can turn on the auto wrap word smart can Center everything and I'll leave the text size the same the item Sprite what I'm going to do here is I'm going to search up for a PNG file find my random item and I'm going to scale it to be as big as I want it to be I'm going to try to keep it consistent so here maybe I'll do 13 by3 and just leave it around there maybe I'll move that down move this to the right and just readjust things as how you want it to be the grid container I'm going to rename it to shop items I'll move this to the right hand side right over here this is where all my shop items will appear okay now I want to fill this in and so to fill this in I need to First have a script let's add a shop script we put this in our scripts folder player GUI and open create now in here we're going to have a few things so to get started what we're going to do is we're going to create a current item Cent item like so and this is going to be an item data now before we continue we need to now create our uh packed scene that is going to represent our item slot kind of like we did for our inventory but this time we're going to create it a a bit more manually so to do this we'll create a new scene here we will create a panel as the default zoom in we will add uh we can just drag in one of these guys we can make the scale three move this here move the panel to be a little bigger here move this in the middle the panel a little bigger once more we can make the layout to be 64x 64 and we can move this item in the middle and then lastly we can add a button I'm going to cheat a little bit because what I'm going to do I'm going to take this button take its theme I'm going to take it theme override go to style and I'm going to go to press empty box I'm going to go to visibility self modulate and make it invisible and here um going actually scale it so going to remove the theme I don't really care about the theme I'm just going to scale it so I'm going to cheat a little bit and make this button a bit smaller on the x axis I'll make this point 75 and there we go there we have our uh button so this will act as our shop button I'm going to save this as a shop item save it in here I'm going to rename this to shop item I can rename this to image I'll add a script this guy add a script to the scripts folder player DUI uh we'll put in here now in this script it's not too difficult what we'll do is I'll just create and I'll pop this out and I'll just close other tabs for now so I have it a bit more organized I'm going to create a variable item info this is going to be a item data and then I'm going to close this one real quick and connect the Pressed button if I press this all I need to do is fill in information in my shop so what I'm going to do here is I'm going to click a item and then fill in this information okay to do that all I'm going to do I'm going to say uh go to our item shop here to our press button I'll say get node get parent get parent and we'll say do curent item is equal to item info next I will say get node uh well actually just copy this right here but instead of this I'm going to say get the item info and I'm going to show this and this this thing right here is this guy so this is going to let us show or hide this so if I do click something obviously I want to show it right I want to show that item that is being presented in my shop next I'm just going to copy paste this a few times I'll change this or I'm going to add to it I'm going to say item name is going to be equal to the text is going to be equal to the item info do item name the next one is going to be the item description that one is going to be a text as well for this one I can actually what we'll do is I'm going to close my script I'm going to hit control shift F I'm going to find the thing that says stats and in here I'm just going to copy this so here I'll just copy from stats and after that go back to my shop item it pop this out and paste this but here I need to make sure that there's a string here I'm just going to show the stats the damage defense and health here I don't need the item name I don't need the description I could add the description actually so here why don't I add the percent s here for the description and then new line with stats we'll have the item damage item defense and item Health lastly we'll do the uh this is actually an invalid path so item info item description text is equal to that uh here it's saying data is not a thing which makes sense because here I have item info instead of data make sure to replace the data with item info and lastly uh the item info here this one is going to be the item Sprite and hopefully you can guess how we do this all we need to do is set the texture for this guy equal to the item info. item texture there we go now we filled in the information with uh the sword right so now what we need to do is actually create those items though we need to create those shop items that I just created to do that all we need to do is preload at shop item so I'll say on ready variable shop item scene it's a this is a packed scene this is going to be equal to a preload um shop item we'll preload that script that I just made going to save we go to function ready I'll for loop I in game items so I'm going to for Loop through all the items I have in my game that exist I'll say if I uh don't need that we'll say variable shop item temp is equal to shop item scene. instantiate we want to create this scene and then start adding them so before we start adding them or we'll just add it and then see what we need to do before that next we'll get our shop items which is going to be our grid and we'll just add child item Temp and before we add them we need to fill in the information which is not too hard because we're for looping here so we can just say this item info is equal to game do items at position I next we can just get the item temp. get node uh image and then fill in the texture for that then make it equal to game. items at I the item texture just double check that's right so item texture we're filling in the shop item texture so this guy right here the image let's actually make sure I said that right yes image okay and lastly what we'll do is I'm going to get in the ready function I'm going to get this guy not this guy actually I'm going to get the item info and hide it I don't want to show an item in here unless I'm clicking an item so let's hit play and see what we get all right so we get an error right away um it is because item texture okay so saying the key item texture doesn't exist so let's take a look in our resource for item data let's find our inventory so the item data called item texture so it should be working something is going on let's just make sure I copy paste it right texture is equal to game texture okay I see so we can't be filling it in with anything empty so let me make sure here if I hit play okay let me figure out what's going on and I'll be right back okay so in case you were getting that error or not um generally those kind of errors are kind of annoying uh and what I ended up just doing is reloading the project and sometimes the resources kind of don't load fully unless you restart the project so just reload the project and make sure that all the textures have a texture otherwise you might get some weird errors so let's continue um now if I hit play you will see that I have my shop filled with the items that I have now obviously the shop isn't functioning fully because I need to actually make this work a bit nicer right so let's just continue and we'll kind of implement this a bit so first let's make sure our buy is connected and our close so here what we're going to do for the close is actually quite easy just pop this out all I need to do is get tree paused is equal to false we'll say oops that's not false we'll say game. shopping is equal to false I'm going to say input input Dot Mouse mode is equal to input mous mode captured self. hiide this will basically close my shop now on the buy this is actually pretty easy all I need to do is say get node go up one I'm going to get container inventory and then add child now at this point the child that we want to add is the string of the current item do item name now here's where things might get a bit iffy if the item name that I'm trying to add is different than the like child then this might not work okay that doesn't make oh add uh item there we go add item and then string so what I mean by that is in my iron body for example this needs to be the same thing as my game here it says iron body and it's the same here same thing for the iron sword it needs to be the exact same long sword uh so this one's called iron sword so let's change that to long sword and small potion small potion needs to be capitalized okay everything has to be the exact same otherwise it won't work with this right okay now to give this uh go in our 3D scene here we're going to add a AI or a kind of NPC guy this NPC is going to allow us to interact with our shop okay so to do this we'll create a new scene we'll create an area 3D we'll add a adventure just a random guy you can go up to the top and find a adventure we can find a maybe a mage pop this guy in make it local and I'll hide the Spellbook open onehanded wand agage hat I'll show that and I'll show the rest now for the animation player I'll just play the idle by default I'll play this like so and then Loop this okay so I can't Loop this so uh what I'll do is I'll let's add a collision first add a collision shape hit play We'll add a c we're not going to add a capsule we're going to add a circle here or maybe a cylinder make this a little higher a little bigger we'll save this in our scene here we'll save it in here why not and we'll save this as NPC Mage now what we can do is head over to level one and find our NPC I I called it npv so let's rename it new npt all right let's pop this guy in put him right behind us and I'll just rename him to NPC We'll add script to this guy go add a script the script I'm going to add it into the folder we'll just add it right here create and what I want to do is connect the uh body entered and you might imagine we need to check to see if this body is in group layer if it is what we'll do is we will uh do the things that we need to do so what do we need to do well first I need to say game. shopping is equal to True next I'm going to pause the scene and get paused or get free paused is equal to True next I'll get node go up one go up one ui/ shop and then show the shop next I'm going to make sure my input Mouse mode is equal to um visible right so I want to be able to show my mouse here now what I'm going to do because I couldn't Loop this animation all I'm going to do is I'm going to go to animation finished connect this and every time that animation finishes I'll just say get this animation player then play the idle animation again it has to be the same name as this right now that's pretty much it this is our NPC see let's hit save let's hit play now we should be able to test our game here okay so let's let's just go okay let's let's go to our shop we'll go into here and we'll say self hide hit play all right now that our shop is hidden we can go into here and see that we get an error okay so it's saying that this path doesn't exist and that is because this guy needs to be in the objects tab let's H play one more time over here okay here we go here's our shop I should be able to now interact with it now oddly enough I might actually not be able to uh seemly enough I can buy stuff but just in case I'm going to go over here and set the process to all on the shop that way I can interact with it hit play one more time and just make sure that I can actually buy something so here I don't have any items let's buy this iron sword and now you can see I have an iron sword and I can even use it and hover it and it says iron sword and it has the stats that I need here I should be able to replace this with the other item and it has uh I guess the same stat so let's actually change this to 10 and the iron sword should be five okay let's double test one more time here we go okay so here is our iron sword this is our long sword it says stat 10 damage so that's good let's buy it and here we go here's our sword and this one should do 10 damage whereas if I buy the other one so this one this one is only five okay cool let's just make sure it works in the profile yep all right there we go so there we go we can see it works all right so that's our shop that's pretty good all right so in the next part we'll Implement our level up system all right the last thing we need to do before we head into the environmental things is the level up system this one is not too difficult as we already have a lot of things for it already set up let's head over to our script go to our game and pop this out now if you recall we created this level up signal but we're not using it so let's figure out if we can do something with it now to gain XP it's really easy right all we need to do is take our current XP and add the XP amount uh we'll change we'll say XP amount like this and we will change the amount to XP amount like that now what we need to do here is say while press enter a few times while the current Uh current XP is greater than or equal to X P to the next level then we're going to start leveling up so the first thing we'll do is well we'll level up we'll level up we will take our player health max and add the player level time 10 so that's just like one example of a stat adjustment essentially we can full heal ourself by saying player health is equal to player health max we can take now take our current XP and subtract the amount of XP I I was supposed to add or I can subtract the XP to Next Level now the advantage of this is if I want to level up more than once while I'm kind of doing this and this is how we do it inside of a while loop now I'm going to take my XP to the next level and I'm going to round it to the XP to the next level time 1.3 and then I'm going to take it again and then I'm going to multiply it multiply Itself by the power of 1.2 with the player level minus one this is kind of the previous level because over here I already added it so this is the previous level okay so this kind of gives me an exponential growth for my XP so now what I can do the last thing that we will add but we're not going to use just yet is we're going to emit the signal level up so that signal that we created we're going to emit it but we're not going to use it just yet because uh this is kind of where we'll go into our uh bfx a little later so we're going to actually Implement um some of the logic for it specifically our level up animation so um we can connect it right now so let's actually do that let's head over to our level one go to our player we will go to the script open this up and similarly to before when we connected our signal I'm going to just uh kind of Pop all these down so that way I can see my code a little nicer now in my ready function if you remember we need to get access to the node the game node we can do that by saying game node is equal to get node game G game. get path then we can to say game node do level up that signal that we created connect followable we will connect it to the self self and then we'll connect it to a signal that we can create we can say on level up uh level up like this then of course we need to put this in a string and that's pretty much it now we need to create this function on the bottom and here we we go this is our function that we've created now this function will trigger uh when the signal is called right so here I can just print uh yeah let's print the game. player level just to make sure this works let's hit close here and let's hit play and now if you remember we should be able to gain 100 XP when I kill the monster so let me just equip some things here and let's kill it and now we go to profile we should see level two and we see level one the reason it's one is because it's emitting the uh previous level basically so we'll need to it doesn't really matter because the signal is more so for an animation that will add later anyway so we don't really care about the level that's being printed we just care that this is being updated right here which it is and the XP is being updated which is perfect so um we're pretty much good to go and even see that the health is being increased so that is pretty much it for most of the logic in our game in next few sections we're going to be taking a look at our environmental things how we can make sure our environment looks good uh we're going to start playing around with our world environment again as you might have noticed we have been getting errors depending on whether or not set things up similarly to what I did but yeah so let's get started into the next part which is the Environmental section right the first thing we need to do is we need to actually fix our engine now what do I mean by that well on the top right we will see a compatibility now do make sure that you have it on forward plus I'm going to select forward plus and I'm going to save and restart right once you've launched the game again you might have noticed a few errors but don't worry just okay andore them and if you hit play you will immediately notice a very big difference scene you will already notice that the scene is very thick kind of just a very different environment okay now what we can do is head over to our EnV environment node we're going to enable the glow now as now we have the proper things that we'll need in here I'm going to turn on the normalized go to blend mode and select ad dative ad dative um and yeah so that's pretty much it for the glow and make sure the settings for all these are the same of course at this point remember you can always just adjust these accordingly to whatever you'd like make it thicker thinner whatever you'd like right so now uh that's pretty much it for the world environment now for the grid map I'm going to set the cell size over here four four and four now we can see here though that the air is under the ground so what I'll do is I will take my grid map and I could either pull this down or I can actually just go to level one and that is where I'll paint my ground here I'm going to go back to level zero and remove my ground by pressing delete to floor Z or sorry1 I will draw my floor here by control fill uh let's just make sure I'm doing it right in order to fill we should be saying uh well I actually actually select a thing so that would make sense so let's select a tile and fill in an area that I want there we go now I should be able to fill it in properly and now we have our ground it works the exact same but this just allows us to properly distance things now here's our issue is that when I start adding walls it's going to remove the floor I don't want that so what I'll do is I'm going to rename this grid to floor and I'll duplicate this and what I'm going to do is in my I'm going to make the floor invisible and delete make sure floor two is selected and delete this floor I'm going to rename this two walls and now I'll show the floor and now what I can do is start drawing on the wall section and of course we can make sure we're on1 and at this point we can start kind of going wherever I'd like so here what I'll do is I'll draw right here and I can just whoops select like this and contrl F and fill in a large wall and at this point I can just start be adjusting everything so in order to rotate this you just click s to rotate it so that way we can have it rotated to that way I want to rotate this wall this way I'll fill it in like this and at this point you can just start moving around the scene and just fill in uh the walls that you want keep those two walls and here we go I'll kind of do this together with you so at this point you can either skip or you know just kind of zoom in and do do yourself but I'm just going to keep doing this together so that way we don't skip any big steps here lastly we'll have that wall there and I'll just Wall go all the way and we can delete this wall and put a corner wall instead all right so there we go we have a fully encased dungeon here so what I'm going to do now is I'm going to put a wall right here so or I can just put it right there and fill in wall section in the middle like that I'll put a door kind of maybe right there and one right there then I can kind of just start doing whatever I'd like at this point now we do notice that there is this Gap so at this point you can either duplicate again which is actually what I'm going to do because this is a bit quicker here I'll just duplicate and start filling in the sections that I want and here of course it doesn't look perfect so this is where you would probably need to uh finish the mesh library and start adding in the walls that you might need if you search up wall you might be able to find the wall that you'll need um it might be it's probably one of these um I know it is one of these I have seen it it's just uh I don't have it complete so we're not going to do that in this series that's more of a level design um as we're just going to kind of continue this level so here we now have our level so we can just start drawing make sure I'm on the walls wall to I can just keep drawing whatever I like I'll just kind of draw out a few levels here or areas if that makes sense and I'll put in this guy maybe I'll put that like here and yeah so you can kind of fill in the rest of the level I'm going to now move my player over here to the kind of corner over here so this is the starting area now when I hit play we will see my level here is my level I can start running around and it's my Mage and my monster obviously the Mage will have to readjust to make sure he's on the floor so let's do that let's take our NPC uh and we'll drag him to the right side and we can just B him down and we'll maybe rotate him and of face the corner and we can make sure he's kind of looking like he's on the floor put him right there maybe floating a tiny bit now when I hit play one more time we can now walk up to him and he looks like he's standing there walk up to him interact with the shop close it and keep running around okay cool now what we'll do is I'm going to now head into or we're going to head into the torch section so we're going to take a look at how we can create a torch and add some lighting into our scene let's take a look at how we can do that okay so to get started with our torch I'm just going to close everything from the level right click close tabs to right make a new scene here and I'll create a uh node 3D as the base I'm going to search up TCH and find the lit torch actually sorry not the lit torch just the mounted torch here we go I'm going to reset this 0 make it local bring in the torch delete this guy I'll add two things an omn light and a GPU particles this is where all the magic will happen Okay so in this guy this is where we're going to actually add and uh start adjusting all the particles I'll try to go slow and we'll try to do as much as we can together to make this as pretty as possible so to start what we need to do is we need a draw pass and process material this is where we will add the draw pass so meaning let's actually just do this so if I go to path one I will add a ash plane where is that plane and now uh we want to or sorry not plane uh quad mesh where is that quad mesh there we go now you can see that we have this quad mesh here now it's not moving because there's no gravity there's no things being adjusted to it but that's okay first we're just G to make sure this guy is pretty and do it make it material wise what we want it to be so we'll go to the material we're going to select new standard material we'll go into this and now we can start coloring it to be what I want it to be we'll go to transparency I'm going to uh select the alpha make it transparent between uh the things just okay on that I'm going to go to blend and go to add and we'll just C okay uh you might have to restart your project if I keep getting that we'll do that a little later go to shade unshaded and then we will select the vertex color going to turn on the albo and we will go to Alo and now we will actually select the color we want now at this point you can do whatever you'd like I'm going to select kind of a dark orangish color so maybe kind of right around here maybe a bright orange kind of like this um something like that okay so kind of pick whatever you'd like all right so now for the billboard on the bottom we'll go to mode article billboard okay and then we're going to turn on the scale keep scale on okay I'm getting annoyed by this I'm just going to restart my project and make sure that airor doesn't pop up I'll be right back all right so I've restarted my project and no more errors okay let's scroll up a little bit we're going to go to the process material now this is where the magic will happen this is where I'm going to actually essentially start of adding the particles well here we'll go to new particle material and you can see right away when I add this it's already doing something now what we want to do first is we want to uh adjust certain things the first thing we're going to do is go into spawn we're going to go into the uh angle and we're going to change this to 360 for the Max and that's it now you can see that it is rotating kind of randomly next we'll go into the velocity right under it we will go into the direction we'll set this to zero the Z we set it to 042 five and then the spread I'm going to set it to zero type in zero and the initial velocity we will set the max to three and now we have a bit more of a jump for our particles here all right so that's our velocity next next we want to go to out of Spawn into animated velocity we will go into the angular velocity and in here we're going to set the max to uh 40 or 30 we can do 40 though all right so that's the angular velocity next we're going to go to the acceleration gravity and we're going to turn off the gravity and put it to zero now at this point you can kind of mess around with some of these obviously you can see that now it's kind of being pushed to the right but of course you can push it to whatever you'd like all right so now we want to head over to the linear acceleration in the linear acceleration I'll set this to one and five it accelerates a bit more we'll go to the scale which is going to be in the display in the display we're going to go to scale we're going to go to the scale itself and set this to 0.01 and 0.5 this will just make the actual particles much smaller next we're going to go to the color curves and this will allow us to kind of curve the initial ramp here we'll add a new uh initial ramp here go down sorry I guess it went up a little bit for no reason we'll go into here into the gradient and at this point this is where you can kind of start picking your colors I'm going to pick the left one into making it a red one kind of a dark redish so and then the middle one I'll make it kind of a uh grayish color like so and then the very right I'll make this a orange color something like this and now we have just kind of a different uh color and radiant now if I click out of it you'll see kind of that okay so now that's the color curves let's undo that or go out of it we'll go to the Hue variations and inside of this I'm going to set this to 0.2 and this to positive2 we're going to go to the curve texture create a new curve texture go into the curve and I'm going to add a point right here and drag this down and drag this around the middle like so now I'll just do that hit save contrl s and lastly I'm going to go to turbulence turn this on and it might lag a tiny bit there we go now it's kind of going upwards a tiny bit and now I can kind of adjust some of these back down to turbulence and I'm going to adjust the noise speed to 07 just a little less than what it currently is and now what we want to do is go to the very top and turn up the amount to 500 and now you can see we have fire now this isn't perfect but another another thing or another issue I'll say is that it's upside down so of course we can rotate it if we'd like like so um or we can actually not can but we're going to actually have to do this in the direction so let's just reset the rotation here and we'll head over to so now we see that it's going in the right direction for some reason that's perfect now we'll move it into the mounted area kind of and there we go now we'll go into our level one we'll go into our objects we'll find our torch that we hopefully saved and pop this in now I'll take my torch here and just kind of move it to be on the side of the wall here so kind of put it right there and if I zoom in a tiny bit you'll see that and just move it in ever so slightly maybe move it to the side and just kind of move it to wherever you'd like it to be and now what I could do is I can turn on snap and I'll just snap this over here I'll duplicate this just snap it a few pixels over snap snap and just duplicate a few of these now what I can do is I can duplicate all of these rotate it by about 180 and then I can move this guy all the way to the other side of the wall now obviously this guy right here I don't want this so I'll delete this and now when I hit play we should be able to see the Torches in the game all right here we go there's our torches now I do suggest you play around with some of the values in fact I'll probably do that as well to make it a little less but this is not bad so far so yeah it's pretty good maybe we can reduce the amount that it's being expected um in fact actually this one is not on a wall so let's just delete this one and another thing that you can take a look at is in the world environment in the glow you can go to the uh some of these settings and increase or decrease some of these so if you look at the intensity you can decrease the glow of the fire if you increase it obviously that's probably too much you can look at the strength of it and go to the bloom I don't really suggest the bloom too much Bloom is kind of a weird threshold we can look at the HDR threshold and just play around with some of these values uh they're pretty fun to play around with you can also play around with soft light maybe some of the other ones um I find ad dative to be I wouldn't say the best but it's probably the nicest in a sense to kind of add to our game so yeah so this is pretty nice um if you want to get rid of that like random Direction you can turn off the turbulence which I think I'll actually do here so I'm going to turn off the turbulence and here we have the direction kind of going in a weird angle so let's go to the Gravity the directional velocity here spawn velocity here we can kind of adjust the velocity a little bit to whatever we'd like or sorry the direction but here maybe I can set it to 0.2 the random Direction 01 and this one I'll do yeah that's not bad okay and we can kind of adjust some of these maybe the initial velocity I want it to max out at two and now if we hit play we have maybe a more consistent fire right so there we go it's pretty long but that's okay um I like this it's not too bad it looks pretty wonky but looks pretty nice okay so there's our environmental flame now in our next section we'll be introducing a new instructor to introduce you to some much better GPU particles some better uh articles in general and some cool Shader stuff so let's take a look at who's going to be your instructor for the next hour all right so introducing lelu lelu will be um your next instructor for the next about 45 to 50 minutes um he will be showing you some cool effects some puff effect a level up effect Etc and a hit effect as well so um definitely check out his channel as well he makes really cool uh just Shader videos in general he has some beam effects better fire effect than what we made so if you want a much better fire effect there is one right there for you I'm basically just I just introduced you to the GPU particles and how and what we can do with it but of course you can definitely check out his channel he will have his uh videos up as there as well so the puff effect that we'll be making here and the level up effect and once he's finished though we will be uh implementing them all into our game and of course we do already have the project files so here at the very top in our assets we have the VFX files so if you don't want this and you want to do everything from scratch you can of course just delete this but it is here in the starter project so um let's take a look at how we can get started so I'll see you all in about an hour hello guys I am Leu and today we are going to see how to create two important effects that you can see in almost every RPG games level of effects and pop effects these effects will improve a lot the atmosphere in this game and helps the player to really feel a progress in the game rather by leveling up or the killing monsters we will use the Goot particle system and some visual shaders to create these effects so let's start with the level of effect this tutorial will be the divided into three parts first let's create a basic Aura effect using particles and a visual Shader then let's improve this effect adding an expansive wave and finally let's add some extra details and coordinate all the effects okay let's go ahead and start creating the basic Aura effect so for the level up effect we first need to create a very simple mesh so let's go to blender and let's delete this and shift a to create a new cylinder mesh I want this cylinder to be on field so set the this option to nothing so let's go to edit mode by pressing T move this cylinder up and stretch it a little bit and finally press W and select shade smooth okay so this is the cylinder it's a simple long cylinder the only difference is that the pivot point is at the bottom of the cylinder so let's export this file export OBG and let's name this cyinder there long okay so we are back in Goot let's import our cylinder mesh and I want to go ahead and create a new particle system a GPU particle system and in order for these particles to work we first need to create a new particle process material and also in draw passes assigned a mesh to be used for the particle system in this case I will use the cylinder and as you can see we have a lot of cylinder meshes falling down this is because of the gravity so let's go to the particle system into accelerations and set the gravity to zero also I only need one cylinder so set the amount to one and let's change the size so let's go to display scale and set a scale of four cool this will be the area effect for the level of effect oh by the way I don't want this cylinder to cast Shadows so let's close this and let's go to geometry and set cast Shadow to off also we need a material for the cylinder so let's create a new Shader material here in material override and let's create a new Shader I want this Shader to be a visual Shader let's name it Shader cylinder houra so let's open the Shader and I want to do some changes for example I want this Shader to be the cool mode to be disabled so we can see both sides of the cylinder also I want this material to be unshaded and disable Shadows cool so let's start creating the Shader for this Shader first I want to add a gradient so right click and create a new texture 2D set it to color and select gradient texture 2D so let's edit this gradient I will pick these little points because I want this gradient to be vertical and yeah let's now now connect the gradient into the alpha Channel and we can see this little line up here so in order to fix this let's modify the gradient a little bit like so yeah this is perfect cool so we now have this gradient connected to the alpha Channel we also need a color so right click and create a new color fragment let's connect the color and also let's connect the Alpha from the color oh we cannot connect it here so let's multiply the alpha channel from the color with the gradient cool so now if we go to the particle system we go to display in color curves we can pick any color we want for the gradient let's pick for example a yellow with a row value of 2.5 2 and 0.5 a very strong yellow also I want this cylinder to disappear over the time so let's go to Alpha curve let's create a new curve and I want this cylinder to be transparent at the beginning and at the end like this or maybe something like this it goes from transparent to full opaque to transparent again at the the end of the cylinder cool so we have this interesting effect but we can make it look even more cool by adding some special textures so for example here I have a lot of textures you can use any texture you want the important part is that the texture needs to be repetitive so let's pick for example this this noise texture and I want to add this texture to the gradient so in order to do that let's pick the texture this is a black and white texture so we don't need to pick a full color just one channel and multiply this texture with the gradient like this so now we have this special texture attached to the gradient we can also move this texture over over the time so in order to do that we need to create a UV panning note with this we can move the texture and we also need to create a Time note and if we connect the time node into the offset see how the texture is moving very simple I also want to control the speed of this of this texture so let's create a new Vector 2 parameter let's name it for example speed and let's multiply the speed parameter with the time node and nothing changes and this is because we created a new parameter so let's go to the particle system let's go to the material now we have these Shader parameters and here we have the speed option let's put a speed for example of 1.5 into the x axis and three into the y axis let's do one more change let's say instead of using this noise texture we want to use any texture we want so let's delete this noise texture and instead of that let's create a new texture 2D parameter let's name it our texture set it to color and in order to use this texture we need to sample it so let's sample this and connect this texture so now if we go to the material we have the our texture property and here we can set any texture we want let's see for example this noise texture or maybe this one so feel free to try using different textures any texture you want just make sure that the texture is repetitive I will also upload these textures here in the description in case you want to use them but anyways the Shader is completed let's go back to the particle system and let's do one last change here let's go to scale and create a new curve XYZ and I want this cylinder to grow slowly up so let's go to the curve of the y axis of the scale and I want this cylinder to slowly grow from zero to one so we have this interesting effect cool the overa effect is completed now let's create the expansive wave okay so let's name this particle system for example Aura cylinder one and I want to duplicate this cylinder so contrl D now we have the ARA cylinder 2 and I want to do some changes to this new cylinder so let's go to the particle process material and because this is a new particle system we need to right click and make unique and do the same for the material right click make unique so we can change only this new cylinder let's go to display scale and I want this in there to be even bigger than the last one so let's set a scale of eight also we can go to the material into Shader parameters and change the texture for this cylinder for example let's use maybe this text T and set a speed of one and three Also let's go to scale and I don't want this cylinder to grow up instead I want it to grow into the from the center and go small so let's change the scale and because we want to change this new cylinder scale we need to right click and make unique do the same for all the properties of these particles make unique make unique now we can edit the properties so for example I want this cylinder to grow in all the directions but instead of growing up in the in the Y AIS I want it to go to to shrink down so let's change this curve so the cylinder goes from Big to small into the y axis something like like this I guess it's okay excellent we have done the AA effect with a nice expansive wave now we only need to add some extra details and coordinate everything together cool so finally let's go to photoshop or any painting program you want in this case I will use Photoshop and let's create a new image and put a text here level up let's move it to the center of the image and I want this text to be white also maybe we can give it some effects so let me see let's go to blending options maybe we can give it a a glow or maybe a contour or something like that let's try with a bevel effect okay save it as a PNG so let's go back to go and I want to create a new particle system let's create this time a CPU particle system and name it for example level up text so in order for this particles to work we need to assign a mesh so let's go to drawing and let's select a quad mesh so now we have a lot of quad meshes falling down let's also go to geometry and create a new standard material let's set the shading to be unshaded let's go to alido and here we can assign the level of text we just created in Photoshop so let's pick the text over here now we can see oh by the way because this is a transparent texture we need to go to transparency and set the transparency to Alpha let's also go to billboard and set the billboard to be particle billboard so now these particles are always facing the camera as you can see which is really cool finally for the material let's go to vertex color and enable these options so with this options we can now edit the color in the particle system cool let's close the material and go back to the particle system let's go to gravity and set it to zero set the amount to one also I want this to be this is maybe too small so let's go to scale and set a scale of four and maybe we can make this like go from small to big to small again so let's go to the scale option and create a new scale curve I want this particle to be very small at the beginning and then grow up and then go small again cool also I want this particle to go up so let's go to Direction and set the direction into the y axis 0 1 0 and let's go to Velocity and set velocity of 2.5 set the sprit to zero let's go to color and we can give it any color we want here in my case I want to use a row value of 2.5 2 and 0.5 excellent also I want this level up to disappear over the time so let's go to color ramp create a new gradient and delete this I want it to be transparent at the beginning like so and transparent at the end finally let's go to dumping and let's set a value of 0.8 and 1 now in order to keep everything organized I will create a new node 3D and put everything inside the the node 3D and we can name it for example VFX level up and right click and create a new Branch scene let's open the scene and create a new animation player so we can coordinate all the timing for the effects using the animation player let's create a new animation name it default let's put a time of two seconds and let's go to the cylinder one set it to one shot and key the emitting option let's do the same for every particle let's go to the cylinder 2 enable one shot and key do the same for this one shot key cool so for this effect let's say we want to emit all the effects at the beginning of the animation let's play so as you can see now everything is coordinated maybe we can put the level up effect a little bit later like this let's see let's play the effect okay so let's see how this final effect looks with the character so let's go to the level one and let's make this VFX editable children so we can play the animation and let's play excellent as you can see I added these little particles it's just some quad meshes similar to the text OP but yeah it it this adds a special touch to the effect cool our level up effect is is completed remember you can download all of these files for free in case you want to use them or story up close now let's go ahead and let's create the puff effects this tutorial is divided into three parts let's start creating some nice particles using a simple sphere then let's convert those spheres into some nice animated clouds using a visual Shader and finally let's customize the effect so we can use it in our game so let's start with the particle system so let's create the puff effect for this effect I want to go ahead and create a new GPU particle system and in order for this particle to work we need to create a new particle process material and also assign a mesh this time I will select the sphere mesh and as you can see now we have a lot of spheres falling down so let's go to accelerations and set the gravity to zero instead of using gravity I want to use a radial velocity so let's go to radial velocity and set a velocity between 1 and two cool now let's create a material for the for the Spheres so let's go to Geometry material override let's create a new Shader material new Shader select visual Shader maybe we can name it for example Shader puff now let's open the puff Shader and let's create some stuff here first we need to add a color so let's right click and create a new color fragment connect the color and the transparency also there's one more thing if I move the the Spheres you can see how it gets this hard Edge when it intercepts with the floor I don't want that so in order to fix this we can create a proximity fade node and let's multiply this node with the alpha channel so now as you can see if we get closer to the floor the Spheres disappear it fades we can also control the value here maybe we can create a float parameter let's name it um distance faith and give it a default value of 0.3 cool excellent um let's do some changes to the particle system for example let's go to the particle process material and I want these particles to scale down so let let's go to scale and let's put a random scale between one and three and let's create a new curve and I want these particles to start big and then go small like this maybe too much maybe something like this perfect and I also want this particle to disappear over the time so let's go to color curves and let's create a new Alpha curve so I want these particles to be full opaque at the beginning and then I want them to disappear slowly we can also give it any color which want but for now I will leave them white okay so the particle system is already prepared now let's make these spheres look like a clouds using a visual Shader okay so here's the interesting part let's convert this sphere into a cloud we can do that using a Shader let me show you let's go to the Shader and let's go to the vertex option here we can control the vertices or the vertex of this sphere this can be quite confusing so I will quickly open my drawing board presentation so as we know a 3D sphere is composed by many little points or vertices and let's say all of these points has a perpendicular Vector like this so the idea is to being able to take a black and white texture and put that texture into a sphere until all these points to move depending of if the point is covered by white for example if it's white that's equal to one if it's black equals to zero gray 0.5 so we can move the point depending on the texture over the sphere okay so with that being said let's go back to go do let's go back to the Shader to the vertex section and let's do some stuff first right click and create the vertex here we have all the vertices of the sphere and to this vertices I want to add a normal Vector right click and look for normal so look what happen when I connect this node here now as you can see all the vertices or all the points of the sphere move in the normal direction of the vector we can also control the like the vector of the normal and reduce the size so we can for example multiply this normal Vector for the value let's create a float constant for example 03 so now we reduce the size of the normal Vector 0.3 units and as you can see we get a small a sphere excellent but now let's do something interesting I will take a texture let's pick for example this texture set it to color and we don't need a full color because this is a black and white texture we only need to use one channel so I will pick this and I want to multiply this texture with the normal Vector excellent now we get this interesting shape and this is the result of this text controlling the vertices of the of the sphere we can also change the intensity here using this note let's try with one so we get this crazy shape but for the clouds let's put a value of minus 0.6 so now this looks more like a cloud right also I want these clouds to be dynamic to move so we need to move the texture and for moving the texture I will create a UV buning note Also let's create a Time node and multiply the time with uh Vector 2 constant and let's give it a value for example of 0.1 and 1 now you can see how the texture is moving so the vertices of the sphere are moving with the texture which is moving using these um values cool so I think this is cool I think this this looks really nice already but there's one more thing I want to do I would like this clouds to look more stylized more tuny so I want to change the way the light interacts with the clouds and for doing that I want to once again modify this Shader and this time I want to go to the light section of the Shader in this section we can control like the way this sphere interacts with the light in this case I want this to look more anime style more tuny style so I want to make sure that the light hits like in the hard way the and also I want to give it a nice shadow Contour to the to the clouds for doing that I am going to create a normal vector and I want to dot product this multiply this normal Vector with a DOT product with the frel node let's set this forel to to through in inverted and connect to the diffuse Channel and I know this is this might look a bit confusing I am planning to explain this quite better in a in the future I want to do a a video about anime style in in 3D games but for now let's just follow these steps I am doing in the video create a smooth step note and create a float constant another float constant that goes between 0 and 0.1 with this we can control the hardness of the edges and now let's create a clamp note and give it a value between 0.1 and one so with this we can control how dark are the shadows and how bright are the this this brightness cool so yeah this is this is the the light note so yeah that's that was it we have the Shader with all done already we can close the Shader and let's do some final adjustments to this puff effect set the amount to 12 and the explosiveness to 0.85 also I want to give it a random angle between minus 180 and 180 let's go to position I want I want this clouds to spawn in a ring position with a value of one in the y axis and a height of zero and a radius of one also I want to set a velocity in the Y AIS between 0.5 and 1 and finally we can give it a nice color this time I want to use a color ramp let's create a new gradient texture enable hdri and I want to start with a really intense strong purple with a row value of 0.4 0.05 and 1.2 and I want it to go to a full black color at the end also we can give it another color over here with a row value of 0.2 0.05 and 1 that's it we get this really nice puff effect finally if we want we can set it to one shot and when we need to use it we can just emit the effect one time here by clicking here I have also added some extra details to the puff effect as you can see I will not dive too much into details about this since I have already done this in the past in my heat effect tutorial if you haven't seen my tutorial please check it out basically here I have two particle systems one is a big quad mesh with a texture that scales down with this curve and I did another particle system which add a bunch of quad meshes with a simple billboard texture and this simply helps to add some more impact to this puff effect as for the step puff effect it's almost the same I just Tweed some parameters for example I have changed the color to a white color and change the amount to two particles also I have set a simple velocity into the x axis only the puff effect is completed and now we can customize it as we want and of course the possibilities are a lot but at least you have the basics done and you can work from there so that's it for this tutorial guys I hope you have learned something new today and if you want to learn more about visual effects in thought please check out my YouTube channel thank you for watching bye all right so now that we have all our FFX or now that you kind of figure out how to make them we already have them whatever you may have done me scratch or you already have them here from the started project whatever let's take a look at what we have and what we'll implement the first thing we're going to implement is in our player so let's open up our player here and we're going to now add the VFX that are in our player which are the level up scene so this one we pop that in we also will need the puff puff run the puff run this one we that in pop it in there we go and we'll just make sure that both of these are reset to 0 go okay so for the level up I'm going to have to make this local and now I have access to the animation player so here I don't want this to play by default I'm going to uncheck that no and now I'll actually rename this to I'm not going to rename it I'm just going to go into my script and remember this level up function that we created well this is where I will get node get this animation player here and we will play the initialize function so uh in it this is my level up and we can test this out play and if we go find a monster to kill which we'll have to spawn them in in just a minute here we go okay maybe I'll uh oh he died okay there we go there's our level up there we go we saw that we leveled up and we even got the signal and we played the animation there we go now what about the puff well this is not too hard because all we need to do is emit this every time I run now of course there's a few options either I can emit this while I'm running in my code or whatever I'm going to do this through the animation Tree in my animation tree in my night here pop my animation fee up I will find the running a which is the one I'm using and every time I I run so maybe like kind of one step maybe one right there I can go to my puff here and turn this on or I'll just kind of re track that and here I'll have to click into this and turn this on so now when I play this you'll see the puff so there we go now when I hit play you will see that when I run I have that puff effect there we go so it's at The First beginning of that animation track right okay so that's our puff run now we need to implement our puff monster death effect so here we will add add our big puff we'll pop this in our scene here we'll make sure that this is at position Z and now uh we want to out we want to make local and here we have the hit effect so this is cool but this is the entire puff effect so here we want this entire puff effect to hit play but I'll uncheck this oops so I want this entire animation to play right here when I die so here in my uh script here when I die my death function all I need to do is play this play uh hit there we go that's pretty much it here I'll just say get node instead because I like to use a consistent way of getting nodes all right there we go we played this animation now instead of queing free I'm going to hide ourself or I'm actually going to hide the skeleton Warrior okay and then I'm going to wait for this to finish connect the animation finished once it's finished then I will self duct Q free but now what I can do here is let's head back to level one and I'm actually going to move my monster here to be right in front of my player that way I don't have to uh wait for him to run all the way there let me just equip some weapons stuff here kill this guy he dies pu effect shows up and eventually he'll you free there we go that is a cool way that we can do that now of course you can also um here in the death of course hide so here this is when the death happens so here we'll hide the Sprite and here I'll just say get node instead skon Warrior there we go all right so that is pretty much it for our effects um we do have the hit effect left so let's take a look at our hit effect here we go the VFX hit we can pop this in uh we can pop this in realistically anywhere we want I'll pop this into my uh player here and if I make this local we'll find the spark effect and this I wanted to happen on my sword so what I can do is I can find my sword here in my right hand slot pop this in my hand slot I will take the position and reset it and I'm going to take my animation player here uh for the Knight play the T pose real quick this guy let's play the T pose that way I can move the spark effect I want to move it kind of right around there that's probably where I will hit something that's where I'll actually um you know hit something so here I'm going to turn off the hit by default in my functions here when something enters this area so I can actually just go over here go to node double click this and this will take me to where it needs to be I can take this this is my path for my hit animation I will say get node animation player and then play hit so here we go go we now have that hit effect being played every time I hit something so let's take a look if this works now if I play we now see that full hit effect every time I hit something more specifically a Monster yeah there we go there's our game with some sound effects or some effects now next we'll add some sound effects let's take a look at how we can do that all right so we're going to add three different sound effects which doesn't sound like much but that's okay here in our player we're going to add a audio stream player 3D we create we'll rename this to damage we'll duplicate it D we rename this one to hit and these two effects are pretty easy we just need to find the hit effect so can find either sword attack human maybe we can put this one for our damage and then for the hit we can find one that gets hit maybe the sword hit and we can play this by going to playing you should be able to hear it it's pretty cool now what we can do is head over to our script this is actually not too hard because all we need to do is in our hit function I just need to get node hit and then dot play so it's that easy I'll just copy this and then every time I get hit or I hit something this is where I'll damage it so I'll say damage stop play all right so that's our sound effects for a player one more thing we'll add is our item object over here we'll add a audio stream player we'll rename this to pickup we're going to connect the finished to this uh the signal to the node or to the script uh let's actually fill this in with a thing first so let's find whichever one we want we can maybe do crate open realistically it doesn't actually matter maybe stack open that might sound decent so let's say that is our pickup sound effect and the reason I'm doing this is because here we're queuing free now this is kind of a different way of doing this is here I'm going to ceue free once the sound is finished but until then I'm just going to hide self it's going to look as if I destroyed it but really it's just hiding so now now when I hit play I create my game here I can po this in there we go and go and kill it you can see we have some sound effects which was nice and then when I pick these up nothing happens uh probably because I'm never playing it so that makes sense so when I enter this I need to play it so let's get node pick up play and let's hit play one more time hopefully you caught on to that what I just did there I made a small mistake it's okay though all right so there we go there's our sound effect you should be able to hear it being picked up all right so there we go that is how we create um some sound effects and that's pretty much it so in the next part I think all we have left is to um have our monster spawn in our world so here I want to spawn our monster but I don't want to spawn it in a wall right so we're going to have to figure out how we can do that all right so now what we're going to do is in our level one we're going to create a new script attach this to our script level one we'll put this in our level or script system here hit create and pop this out now I'm going to on ready variable our Warrior scene we're going to pack this scene and I'm going to reload it here a skeleton Warrior we go and now I'm also going to load the grid map grid map to get node grid map now this isn't going to 100% work uh sorry floor because renamed it uh and I'll kind of show you why in a second we'll kind of look through this together so first let's create a function a ready function and we're going to say while the get node monsters. getchild count count is less than 10 I'm going to start adding monsters until I get 10 monsters now what we can do is I'm going to get a x position and randomize it by saying Randy range from 40 uh 240 I'll do the same thing for the Zed and then I'm going to create a monster temp variable now monster temp now here's the thing is this monster temp we need to instantiate it so here we'll just say warrior scene do instantiate done now we need to check to see if the grid map. get cell cell item at Vector 3 I at The X 3 I at The X position that I'm trying to add at 1 at The Zed position that I'm trying to add as well is equal to Z Now is it zero let's find out let's close this and head over to our walls and floor now if we go to the library the item and zero this is the one we're looking for here I need to make sure I'm adding my monster on a floor cell and not a uh all wall arched right so what I can do here is I can do two things first I can check to see if I'm on a floor and then I can also check to see if I'm not in a wall and I can do that by saying grid map walls here I can maybe rename this one to flor of course here I'll have to this to grid map floor now here I'm checking to see if I'm on a floor if I am on a floor I now want to check to see if I'm on a wall so I can do that by also checking for the same thing I'll just say copy this except this one I don't want it to be zero I want it to be the this one wall arched so I have to find which position that it is in here it is going to be two now you might have a different one maybe you have yeah maybe you have something else I don't know you'll have to check them and the number here is corresponding to the number we need so here I'm going to make sure it's not not equal to two then if it is or if it's not equal to two meaning I'm on a floor and I'm not on a wall then I will add the monster to do that I'll say monster temp position is equal to Vector 3 at X position at position let's say three just so it kind of starts in the air and then Z position then we'll say monster 10 player is equal to get node player because we need to assign the player uh to our monster right because before we have exported it close this remember here we had it exported but now we need to assign it manually the code okay so now we need to actually add the monst to our scene so that's not too hard we can over here we can say get node monsters monsters go do add child monster ATT all right so there we go now now we will pray that this does not crash because we added a while loop so hopefully this works out nicely all right here we go we have not crashed and we have some monsters that have been added to our game and none of them are in the wall so obviously all of them were added to this side um that might be because the positioning was over here um you can change the range that they get uh spawn in right here right depending on what you want for the X and Y position it really is up to you I just did 40 to 40 I think that will cover a wide range um it might be more it might be less not 100% sure actually no that should cover most of it so here you can see that this is 30 and this is around 30 probably on the other side Etc so this should cover the entire map that we have and it will only spawn 10 monsters in our map okay so that is how we make sure that things don't spawn in our walls we make sure that they spawn in our map Etc so and it's a relatively randomized position so pretty neat all right so that is it for this section believe we're done but we'll find out congratulations on completing this course course was not very easy pretty long but got through it and good job so we actually created a pretty neat game in the end we have a relatively good working player with a monster and an inventory system that's pretty neat and all that good stuff so congratulations completed this course and H yourself on the back all right so now what do we do next what is the next step well first of all I'll just kind of encourage you to check out my channel of course and hit that sub button there um but what about what else what else can I offer you to help you along well I have weekly challenges and the point of the weekly challenges is terms of practice so this is kind of you going forward you need to probably practice if you want to learn gdau or game development you will probably need to practice now I offer free weekly challenges every Sunday I'll be offering uh and sending out a weekly challenge and the next week I'll be sending out the solution to that challenge every week I'll essentially send out the challenge and the solution to the previous week right so I've been doing this for about three months now and uh everybody has been enjoying it on my channel so far so I'm going to keep doing it for a while to access it all you need to do is join my email list for my patreon as well email list is completely free so all you need to do is just hit subscribe and you will be added to the email list for that and yeah that's it so what else can you do well of course there are courses as well I have several other courses on my website that you can check out um some are free some are paid but of course you can also access all of it um if you're a membership or if you buy a membership sorry um so definitely check that out as well now the advantages of my courses specifically is that I try to structure my courses slightly differently than many other people might and it's more specific in the sense that I split it up into kind of two or three different sections the first section is essentially teaching you the concept and idea of what we're going to do and what we're going to learn to apply then in the middle I give you an assignment and That assignment will hopefully help you guide uh guide you into creating the game that we need to make and then the third section or the second part of that course will be kind of like what we just did in this course where I kind of just do a follow along a code along tutorial where you follow me and we kind of look through the solution of doing the assignment and the project together so if you if you're interested in that sort of format definitely check it out on my channel I have a few courses up for free and I have a few courses up that are paid definitely check it out and hopefully I'll see you guys around
