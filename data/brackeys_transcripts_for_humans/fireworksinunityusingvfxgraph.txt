With timestamps:

00:00 - - Hello everyone, happy New Year
00:01 - and welcome to the Brackeys lab.
00:03 - Today we'll be working with fireworks.
00:05 - In Unity, of course.
00:06 - Yeah, we thought we
would kick off the year
00:08 - with something exciting
and what's more exciting
00:10 - than particle experiments?
00:12 - So, we'll split the process, hold on.
00:14 - We'll split the process of
VFX brew into four steps.
00:17 - First, we add the rockets,
00:19 - then we mixed in some explosions.
00:21 - We'll then spice up the mix
with some trips to the rockets
00:24 - and finally apply these trails
00:25 - to the explosion particles themselves.
00:27 - Actually, fireworks is
an amazing effect to do
00:30 - because it teaches you the tools
00:31 - to create all kinds of
other effects as well.
00:33 - And on top of that, it's a perfect example
00:35 - of how events work in VFX graph.
00:38 - GPU events can be used
00:39 - to trigger particles from other particles,
00:42 - such as spawning an explosion
at the end of the rockets
00:45 - or creating particles as a trail.
00:47 - Alright, let's get celebrating.
00:49 - But first, this video is
sponsored by Skillshare.
00:51 - Skillshare's an online learning community
00:53 - with thousands of quality classes
00:55 - on game development, tech, and more.
00:57 - If you're creating a video game
00:58 - and want to start creating
your own 3D models,
01:00 - I really recommend you
check out this awesome class
01:02 - on how to get started using Maya.
01:04 - Another really cool class is on
01:05 - how to animate characters
in After Effects,
01:08 - which is definitely
also worth checking out.
01:10 - Skillshare's the perfect
platform to keep learning
01:12 - and thriving and a premium
Skillshare membership
01:14 - gives you unlimited access to all classes
01:17 - for less than $10 a month.
01:18 - Join more than 7 million other creators
01:20 - and get your first two months for free
01:21 - by simply clicking the
link in the description.
01:23 - So, put on your safety glasses,
01:25 - take a step back and let's
light some fireworks.
01:28 - So, as you can see,
I'm using Unity 2019.3,
01:31 - and this project is set up for HDRP.
01:34 - However, with this new version,
01:35 - Visual Effect Graph should work
01:36 - with the universal
render pipeline as well.
01:39 - Just remembered to go
Window, Package Manager,
01:41 - search for the Visual Effect Graph
01:44 - and instal or update it.
01:46 - And that's all this set up we need to do.
01:47 - We can now go to a
project, hit the plus sign,
01:49 - go under Visual Effects and
create a Visual Effect Graph.
01:52 - Let's call it, "Fireworks"
01:54 - and let's drag it right into a scene.
01:56 - And right away you can see
01:57 - that it starts spawning some particles.
01:59 - We also want to go to Edit,
Preferences, Visual Effects,
02:03 - and in here there's an option
02:04 - for toggling Experimental
Operators and Blocks.
02:08 - And we want to do that.
02:09 - This enables us to use GPU events.
02:11 - And with that, let's go
ahead and double click
02:13 - on our fireworks VFX Graph
in order to open it up.
02:16 - I'm just going to take this
panel and dock it over here
02:18 - instead of the Inspector.
02:19 - And let's drag it out to make it larger,
02:21 - something like this.
02:22 - And let's also get rid of our console.
02:24 - We don't need that for now. There we go.
02:26 - So, the first element we
are going to be creating
02:28 - are the rockets themselves.
02:30 - Because of this, let's go ahead
02:31 - and decrease the spawn rate to one.
02:33 - So, we just spawn one rocket every second.
02:35 - Inside of our initialised context here,
02:37 - we can go ahead and change the velocity.
02:40 - This is currently set to give us
02:41 - a random velocity between two values.
02:43 - I just want to go ahead
and increase this on the Y
02:45 - to something like 11 and 14.
02:48 - There we go, now our particles go flying.
02:50 - Let's also change the lifetime
randomness from a one to 1.2.
02:55 - And you'll notice that right now,
02:56 - our particles are flying off the screen.
02:58 - That's because we are yet
applying any gravity to them.
03:01 - So, they will just keep on going
03:02 - with the velocity that we've set.
03:04 - Let's go into the Update context here.
03:06 - Let's hit Space and let's
add a block for gravity.
03:09 - There we go, that looks
much more like fireworks.
03:12 - We can also make it so
that they don't all spawn
03:14 - from this same point.
03:15 - So, inside of our Initialise,
let's add another block
03:18 - and let's search for a line.
03:20 - And we can use the Position Line Block.
03:22 - Let's move this to the top here,
03:24 - in order to spawn our particles
on a line along the X.
03:27 - So, let's go ahead and set this
03:28 - to a width of something like seven.
03:30 - And now we should see that
our particles are all spawning
03:33 - along this line on the X, really cool.
03:36 - If this is not happening to you,
03:37 - you might just be viewing everything
03:39 - from the wrong direction.
03:40 - You just want to make sure that up here,
03:42 - where we can see the different axis,
03:44 - X is pointing to the left.
03:46 - Awesome, finally we can go ahead
03:47 - and change the look of our particles.
03:49 - Let's go to the bottom context here,
03:51 - where we have the Output.
03:53 - And first of all, I'm going
to change the blend mode
03:55 - from alpha to additive.
03:56 - I'll also change the main textures.
03:58 - Let's hit this button here
and let's search for default,
04:01 - and here we have the default particle
04:04 - that looks really cool.
04:05 - I also want to set a size and
I don't want this to change
04:08 - over the life of the particles.
04:10 - So, let's remove this default note here
04:12 - and let's instead hit Space
and just search for Set Size
04:16 - to set them to a fixed size.
04:17 - And let's make this a size
of something like 0.05.
04:21 - I know this is very,
very small at the moment,
04:23 - but that's because the
particles aren't yet glowing.
04:26 - So, to change that, let's go ahead
04:28 - and set their colour as well.
04:29 - Again, I don't want this to
change over the lifetime.
04:31 - So, I'll remove this here
04:33 - and instead, add a Set Colour Node.
04:35 - There we go, and we can go
in here and define a colour.
04:38 - So, I'm going to do some
kind of bright yellow,
04:40 - and I'm also going to
bump up the intensity.
04:43 - And this is what is going to make
04:44 - our particles actually glow.
04:46 - So, you can see that if
I click and drag on this,
04:49 - our particles kind of start to appear
04:50 - as these glowing little things,
04:52 - and I'm going to set mine to seven.
04:54 - I think that's a pretty good value.
04:55 - If your particles are not glowing,
04:57 - it might be because you need to add
04:58 - a bloom post-processing effect.
05:00 - This is what takes the
intensity of these colour values
05:03 - and kind of blows them
out to give the impression
05:05 - that they are glowing.
05:06 - So, as you can see, I have my
post-processing volume here
05:09 - and if I go to the Inspector,
05:10 - I've gone ahead and added a bloom effect.
05:13 - You need to do that as well.
05:14 - If you want to learn more
about post-processing,
05:16 - we'll of course have a link
for that in the description.
05:18 - And that's pretty much it for step one,
05:20 - adding the rockets themselves.
05:22 - This is not a very exciting
one, but it lays the foundation
05:25 - for everything we are going
to be doing from here.
05:27 - So, let's just go ahead and
go to the top of our system,
05:30 - right click and name this system.
05:32 - And I'm just going to call it, "Rockets".
05:34 - Rocketman! Du, du, du, du, du, du, du!
05:38 - So, moving on to step two,
05:40 - which is a lot more exciting
because that's the explosions.
05:43 - The way that we are going
to be triggering these
05:45 - are using the GPU events
that we talked about.
05:48 - So, to add a trigger for a GPU event,
05:51 - we go to the Update on the
current particle system.
05:54 - So, on the rockets themselves,
05:56 - and we hit Space, and here
we search for Trigger Event.
05:59 - And as you can see, we have
three different events here.
06:01 - We want to choose, first
of all, the On Die event.
06:04 - So, whenever these particles,
the rocket themselves die,
06:07 - we want to go ahead and
trigger an explosion.
06:09 - And we get to choose
here how many particles
06:11 - we want to have in that explosion.
06:13 - So, I'm going to set
this count here to 80,
06:16 - in order to trigger 80
particles to be spawned.
06:19 - Then we can click and drag from
this green circle here out.
06:22 - And this will allow us to
spawn in a GPU Event context.
06:26 - And from this context,
06:27 - this works very much just like
the Spawn context up here.
06:32 - We can go ahead and we'll create
an entire particle system.
06:35 - So, let's go ahead and just
create the bare bone structure
06:37 - of a particle system.
06:39 - We'll go ahead and drag down from here
06:40 - into an Initialise Particle context.
06:43 - We'll go straight from that
into an Update context.
06:47 - And then finally, we'll go
from Update into Output,
06:50 - but instead of creating this from scratch,
06:51 - let's just copy the one
from our previous system.
06:53 - So, hit Ctrl + C and paste
it over here, hit Ctrl + V.
06:57 - Let's simply drag it down and connect it.
07:00 - So, we've now created another system
07:02 - with plenty of room for
us to fill stuff in.
07:04 - And let's do that now.
07:06 - The first thing that we want to do
07:07 - is set the lifetime of our particles.
07:09 - So, let's hit a set lifetime.
07:11 - And let's make this
random between two values.
07:14 - The first one we can make
1.5 and then maybe two,
07:17 - and right away, you can see
07:18 - that some particles appear down here
07:20 - in the bottom right corner.
07:22 - And the reason why they're
just appearing here
07:24 - is because we haven't yet
07:25 - set the position of these particles.
07:28 - So, let's go ahead and do that.
07:29 - And since we want our particles to spawn
07:32 - at the position of our old particles,
07:34 - we simply want to inherit
07:36 - the source position of these particles.
07:39 - And there's of course a block for this.
07:41 - So, let's hit Space, and let's search for
07:43 - Inherit Source Position.
07:45 - And we'll choose this one here.
07:47 - And as you can now see,
07:48 - we spawn the particles
in place of our old ones.
07:51 - You also noticed that sometimes
07:53 - we don't spawn enough particles
07:55 - and that's because we have
to increase the capacity
07:57 - of our Initialise Particle system here,
08:00 - in order to make sure that we can display
08:01 - all of the particles that we are spawning.
08:03 - Of course, having all the particles
08:04 - just stay in one place is a bit boring.
08:07 - So, to change that, let's go ahead
08:08 - and modify their velocity.
08:10 - Inside of our Initialise
again, we'll go Velocity,
08:13 - and here we can add
velocity in different ways,
08:15 - I just want to add some
velocity in a random direction.
08:19 - Let's hit that on the speed
mode, let's go random.
08:22 - And then we can choose between two speeds.
08:24 - I'm going to set this to
something like five and six,
08:27 - and there we go, we now have explosions.
08:31 - Of course, right now the particles
08:32 - just keep flying in whatever direction
08:34 - because there's nothing to slow them down.
08:36 - In the real world, we of
course have air resistance
08:39 - to actually slow down
whatever is travelling.
08:41 - So let's go ahead and add that now.
08:43 - So, inside of the Update Particle here,
08:45 - we'll add air resistance.
08:46 - This is called Linear Drag.
08:48 - So, let's go in and add here Linear Drag,
08:51 - and we can set the drag coefficient,
08:53 - how much we want to apply this force
08:55 - to something like three.
08:57 - And that definitely
looks a whole lot better.
08:59 - Let's also just add a tiny bit of gravity
09:01 - to make these particles
slowly fall to the ground.
09:04 - So, let's hit Space, again
we'll add in a Gravity here,
09:06 - and we want this to be quite a lot less
09:09 - than the standard gravity.
09:10 - So, let's go ahead and set it
09:11 - to something like negative one.
09:13 - And I think that looks a lot better.
09:15 - It's a pretty subtle effect,
09:16 - but it just makes everything
seem more organic and natural.
09:20 - Finally, for our explosion,
09:21 - let's make these particles look cool.
09:23 - So, let's go to the bottom
inside of our Output node.
09:26 - And the first thing that we want to do
09:28 - is vary the size of these particles.
09:30 - So, instead of just using Set Size,
09:32 - let's remove this and let's
search for Set Size Random.
09:35 - There's one at the top here.
09:37 - And we can set them to
something like 0.03 to 0.07.
09:43 - There we go, that looks a lot better.
09:44 - And for these particles,
09:46 - I don't want them to stay the same colour
09:48 - over their lifetime.
09:49 - These definitely need to vary in colour.
09:52 - So, let's remove the Set Colour
09:54 - and let's add a Set Colour Over Life.
09:57 - And this gives us a gradient
that we can play with.
10:00 - So at the top here, we
have the alpha values
10:02 - for our particles, how
transparent they are.
10:05 - And at the bottom we have the colours.
10:08 - So, just at the beginning
of the particles' lifetime
10:10 - to the left here,
10:11 - I want to make sure that
they are 100% opaque.
10:14 - So, let's just select the first
key point here and remove it
10:17 - and move this one over to make sure
10:19 - that it's set to 255 in the beginning,
10:22 - and then we can definitely
have it fall off
10:23 - at the end like this.
10:24 - Let's also take the colour here
10:26 - and turn it from a boring white
10:28 - into something more of a cyan colour.
10:31 - I want these to be really vibrant.
10:33 - Again, to make them show up,
we need to add that glow.
10:36 - So, let's increase the intensity here
10:38 - to something like 5.2 maybe.
10:41 - That looks really cool and
let's have them change colours,
10:44 - so the end colour here is going
to be something different.
10:47 - Let's go to more of a bright purple
10:50 - and let's set the intensity
here to something like 5.5.
10:53 - There we go, so now we
can see them changing hue
10:56 - and changing appearance.
10:58 - I also want to begin the
fadeout a bit quicker here.
11:01 - I think that looks much, much cooler.
11:04 - I might want to go ahead and decrease
11:05 - the amount of sparkle in the purple here.
11:07 - So, we'll just decrease
the intensity on that
11:09 - down to something like five.
11:11 - I think that looks a bit less crazy,
11:13 - but you can of course experiment
with this however you want.
11:15 - If you're going for really
over the top cartoony style,
11:18 - definitely make things glow like crazy.
11:20 - If you're going for
something more realistic,
11:22 - then maybe try and hold back a little bit.
11:24 - Now, a really cool little trick here
11:26 - is that we can actually
make a bright flash
11:29 - right when the explosion happens
11:31 - using this gradient editor.
11:33 - All we have to do is simply
move this colour over
11:35 - and create a new one here by clicking.
11:37 - And we'll make this one completely white
11:39 - and very, very bright.
11:41 - So, let's set the intensity
of this to something like 7.5
11:44 - and you can see just
how crazy this flash is.
11:48 - And then we can control
the duration of the flash
11:51 - by simply moving these closer
or further from each other.
11:55 - So, if I move them
really closely together,
11:57 - you can see that we can
create that really quick,
11:59 - bright pop, like an explosion is happening
12:02 - and then we start to see
all this sparkly stuff
12:04 - inside the fireworks.
12:05 - I really like this effect,
I think it's super cool.
12:08 - I might have overdone it a tiny bit.
12:09 - I'll try and set this
to something like 7.4.
12:12 - That looks better, and yeah,
12:14 - just a really quick and easy trick.
12:17 - And that's pretty much all we need to do
12:18 - on the explosion themselves.
12:20 - So, let's go to the top here.
12:21 - Let's take all of our nodes
here, move them down a bit.
12:24 - Let's right click here
and name the system.
12:26 - And I'm going to name it, "Explosion."
12:28 - Cool, I'm just going to tidy this up
12:30 - and now we can move on to step three,
12:32 - which is the rocket trail.
12:33 - So, I'm going to go ahead and
make some room for it here.
12:35 - I want the rocket trail
12:37 - to be right next to the rocket
system itself, there we go.
12:40 - And we actually used
the exact same technique
12:43 - that we use to trigger our explosion,
12:45 - to trigger a rocket trail.
12:47 - The only thing that we change
is the type of trigger we use.
12:51 - So, for the explosion we
just want to trigger that
12:53 - when the particles die.
12:55 - For our rocket trail,
12:56 - we want to go ahead and trigger that.
12:58 - So, Trigger Event and
we want to use Always,
13:00 - which is going to be called a re-update.
13:03 - So, in here with the Always,
13:05 - we can set the count
to something like two.
13:07 - So, we're going to spawn
two particles every update,
13:10 - and let's go ahead and lead
this into another GPU event.
13:13 - So, we create a GPU event, there we go.
13:16 - And again, we can lead this
into another particle system.
13:19 - So, let's just create
the structure for that.
13:21 - Let's create an Initialise,
let's create an Update,
13:25 - and finally, let's again,
just copy the Output
13:27 - from our first system.
13:30 - There we go, and now
inside of our Initialise,
13:32 - we can set the capacity here to 1,000
13:35 - because we want quite a few
particles on our rocket trails.
13:38 - We'll also added lifetime.
13:39 - So, let's go in here and Set Lifetime,
13:42 - and let's just set this
to something like 0.3.
13:44 - And now you can see again,
our particles start to appear.
13:46 - Again, we want these
to inherit the position
13:49 - of our particle when they're spawned.
13:51 - So, to do that, we'll again put in
13:53 - the Inherit Source
Position and right away,
13:56 - we can see that our
trails start to appear.
13:59 - Of course we can do different
things to this trail
14:01 - to make it look cooler.
14:02 - First of all, I would like
to spread it out a tiny bit,
14:05 - so we can add a tiny
amount of random velocity.
14:07 - So, we'll go under Velocity
14:09 - and let's choose random direction again,
14:11 - and let's just set the speed here to 0.2.
14:14 - There we go, so it now
spreads out a tiny bit
14:16 - and I actually don't want to do anything
14:18 - inside of Update for these particles.
14:20 - However, we definitely
have to change some things
14:23 - in the output.
14:24 - And one thing we could do here
14:25 - is maybe stretch the
particles along the Y,
14:28 - in order to give the
impression that the light
14:30 - is kind of being drawn out
14:32 - because the particles are
travelling so quickly.
14:35 - I think that looks pretty cool,
14:36 - it's probably easier to see than explain.
14:38 - So, in here, let's go
ahead and add a Set Scale,
14:43 - and this is going to allow
us to control the scale
14:45 - in the different axis.
14:47 - And I'm just going to
choose Y and set that
14:49 - to something like three.
14:51 - So, you can see that just stretches
14:52 - the particles a tiny bit.
14:53 - If I overdo this effect,
you can see what happens.
14:56 - It really stretches them along the Y,
14:58 - but I'm just going to stick
to a subtle value like three.
15:01 - And I'm just going to drag
this above the colour.
15:03 - And that's also the main
thing that we want to change.
15:05 - Right now, the colours
are a constant colour.
15:08 - Let's remove this and let's instead
15:10 - set the colour over life.
15:12 - Again, this gives us this gradient here
15:14 - and let's make the
particles instantly appear
15:17 - up here with the alpha.
15:18 - Let's also remove this one here
15:20 - and just have them
slowly linearly fade out
15:22 - from 255 to zero.
15:25 - And then in terms of the colour,
15:27 - let's go ahead and choose
a good orange colour.
15:30 - And again, let's definitely
add some intensity here.
15:32 - Let's try 3.5.
15:34 - That's a very dark orange.
15:36 - Maybe make it a tiny bit brighter.
15:38 - I think that looks really,
really, really cool.
15:40 - And let's also just have that fade
15:43 - to a standard orange without any glow,
15:46 - so that we kind of keep
the look of the particles,
15:48 - but we slowly remove the
glows so that the glow itself
15:52 - is more centred towards the top.
15:53 - I think that looks really cool.
15:55 - Awesome, so that's actually
the rocket trails themselves.
15:58 - So, let's again, go ahead
and name our system here.
16:01 - Let's name it, "Rocket Trail".
16:03 - Again, I'm just going to neaten this up
16:05 - and now for the fourth and final step,
16:07 - which are the explosion trails.
16:09 - This is definitely also the easiest,
16:11 - because we can take the
trail that we just applied
16:13 - to the rockets and simply add that
16:15 - to the explosion particles as well,
16:18 - in order to give a really cool effect.
16:20 - So, to do that, we need to
go into our explosion here
16:23 - and we need to, of course,
add in a trigger event
16:26 - on the Update here.
16:27 - So, we'll hit Space,
search for Trigger Event,
16:30 - and this time we could,
of course use Always,
16:33 - but that is quite a few particles
16:35 - if we're spawning them every update.
16:37 - So, instead I would like to use Rate,
16:39 - which allows us to define a rate over time
16:41 - to spawn in the particles with.
16:42 - So, let's just make
some room for that here.
16:44 - And let's set the rate to something like
16:46 - 40 particles per second.
16:48 - And again, let's create
an event out of this.
16:51 - So, drag out and create a GPU event.
16:54 - And now, instead of creating
this system from scratch,
16:56 - Let's just take our
entire rocket trail here,
16:59 - hit Ctrl + C, Ctrl + V
in order to duplicate it,
17:03 - move it over, simply connect it.
17:05 - And right away, we can see
some of this effect working.
17:08 - Now, we just want to go
down to the bottom here
17:10 - and remove the Set Scale
17:11 - so that these particles are not stretched.
17:14 - We also want to increase
the capacity here,
17:16 - because we are spawning
quite a few particles
17:18 - to something like 10,000 or maybe 5,000.
17:21 - And let's also change the lifetime to 0.5
17:25 - just to make them stay a tiny bit longer.
17:27 - You can of course, also
adjust the colour if needed.
17:29 - I might want to go ahead and
make these a tiny bit more red.
17:32 - There we go, I think
that's a pretty cool hue.
17:35 - And definitely play around
with this and have fun,
17:37 - but that was the final step.
17:40 - And we now have, as you can see,
17:41 - real-time particles
showing fireworks in Unity,
17:45 - and we can fly close to these,
17:47 - or we can look at them from a distance.
17:49 - Either way, I think they
look really, really cool.
17:52 - And of course, because
everything is just parameters
17:54 - that we can easily adjust in here.
17:56 - What we can do is simply,
17:58 - well, If we wanted to go
more crazy, just crank it up.
18:01 - Let's spawn, for example,
a hundred rockets a second.
18:04 - Of course, we also need to make sure
18:05 - to increase our capacity to do that.
18:08 - I think we can set this
to something like 1,000
18:11 - and increase the capacity
18:12 - on all of the other systems as well.
18:19 - And there we go, we have absolute mayhem.
18:23 - Awesome.
18:24 - That's pretty much it for this video.
18:25 - If you enjoyed it, make sure to subscribe
18:27 - and ring that notification bell,
18:28 - so you don't miss the next one.
18:29 - Also, don't forget to
check out Skillshare,
18:31 - simply click the link in the description
18:32 - to get two months for free
18:33 - and start exploring your creativity.
18:35 - On that, thanks for watching,
18:36 - and I will see you in the next video.
18:38 - Dr. Brackeys signing off.
18:40 - Thanks to all of the
awesome patron supporters
18:42 - who donated in November
18:43 - and a special thanks to
InfintyPBR, Dante_Sam,
18:45 - Samuel, Lost to Violence, Love Forever,
18:48 - Chris, faisal marafie, Megan Frazier,
18:50 - Leo Lesetre, Miamia Pop, Mohammad Younis,
18:53 - Danijel Dusanic, Jacob
Sanford, Naoki Iwasaki,
18:56 - Marc-Antoine Girard, Gregory Pierce,
18:58 - TheMightyZeus, Alison the Fierce,
19:00 - Yigit Kaya and Erasmus.
19:02 - You guys rock.

Cleaned transcript:

Hello everyone, happy New Year and welcome to the Brackeys lab. Today we'll be working with fireworks. In Unity, of course. Yeah, we thought we would kick off the year with something exciting and what's more exciting than particle experiments? So, we'll split the process, hold on. We'll split the process of VFX brew into four steps. First, we add the rockets, then we mixed in some explosions. We'll then spice up the mix with some trips to the rockets and finally apply these trails to the explosion particles themselves. Actually, fireworks is an amazing effect to do because it teaches you the tools to create all kinds of other effects as well. And on top of that, it's a perfect example of how events work in VFX graph. GPU events can be used to trigger particles from other particles, such as spawning an explosion at the end of the rockets or creating particles as a trail. Alright, let's get celebrating. But first, this video is sponsored by Skillshare. Skillshare's an online learning community with thousands of quality classes on game development, tech, and more. If you're creating a video game and want to start creating your own 3D models, I really recommend you check out this awesome class on how to get started using Maya. Another really cool class is on how to animate characters in After Effects, which is definitely also worth checking out. Skillshare's the perfect platform to keep learning and thriving and a premium Skillshare membership gives you unlimited access to all classes for less than $10 a month. Join more than 7 million other creators and get your first two months for free by simply clicking the link in the description. So, put on your safety glasses, take a step back and let's light some fireworks. So, as you can see, I'm using Unity 2019.3, and this project is set up for HDRP. However, with this new version, Visual Effect Graph should work with the universal render pipeline as well. Just remembered to go Window, Package Manager, search for the Visual Effect Graph and instal or update it. And that's all this set up we need to do. We can now go to a project, hit the plus sign, go under Visual Effects and create a Visual Effect Graph. Let's call it, "Fireworks" and let's drag it right into a scene. And right away you can see that it starts spawning some particles. We also want to go to Edit, Preferences, Visual Effects, and in here there's an option for toggling Experimental Operators and Blocks. And we want to do that. This enables us to use GPU events. And with that, let's go ahead and double click on our fireworks VFX Graph in order to open it up. I'm just going to take this panel and dock it over here instead of the Inspector. And let's drag it out to make it larger, something like this. And let's also get rid of our console. We don't need that for now. There we go. So, the first element we are going to be creating are the rockets themselves. Because of this, let's go ahead and decrease the spawn rate to one. So, we just spawn one rocket every second. Inside of our initialised context here, we can go ahead and change the velocity. This is currently set to give us a random velocity between two values. I just want to go ahead and increase this on the Y to something like 11 and 14. There we go, now our particles go flying. Let's also change the lifetime randomness from a one to 1.2. And you'll notice that right now, our particles are flying off the screen. That's because we are yet applying any gravity to them. So, they will just keep on going with the velocity that we've set. Let's go into the Update context here. Let's hit Space and let's add a block for gravity. There we go, that looks much more like fireworks. We can also make it so that they don't all spawn from this same point. So, inside of our Initialise, let's add another block and let's search for a line. And we can use the Position Line Block. Let's move this to the top here, in order to spawn our particles on a line along the X. So, let's go ahead and set this to a width of something like seven. And now we should see that our particles are all spawning along this line on the X, really cool. If this is not happening to you, you might just be viewing everything from the wrong direction. You just want to make sure that up here, where we can see the different axis, X is pointing to the left. Awesome, finally we can go ahead and change the look of our particles. Let's go to the bottom context here, where we have the Output. And first of all, I'm going to change the blend mode from alpha to additive. I'll also change the main textures. Let's hit this button here and let's search for default, and here we have the default particle that looks really cool. I also want to set a size and I don't want this to change over the life of the particles. So, let's remove this default note here and let's instead hit Space and just search for Set Size to set them to a fixed size. And let's make this a size of something like 0.05. I know this is very, very small at the moment, but that's because the particles aren't yet glowing. So, to change that, let's go ahead and set their colour as well. Again, I don't want this to change over the lifetime. So, I'll remove this here and instead, add a Set Colour Node. There we go, and we can go in here and define a colour. So, I'm going to do some kind of bright yellow, and I'm also going to bump up the intensity. And this is what is going to make our particles actually glow. So, you can see that if I click and drag on this, our particles kind of start to appear as these glowing little things, and I'm going to set mine to seven. I think that's a pretty good value. If your particles are not glowing, it might be because you need to add a bloom postprocessing effect. This is what takes the intensity of these colour values and kind of blows them out to give the impression that they are glowing. So, as you can see, I have my postprocessing volume here and if I go to the Inspector, I've gone ahead and added a bloom effect. You need to do that as well. If you want to learn more about postprocessing, we'll of course have a link for that in the description. And that's pretty much it for step one, adding the rockets themselves. This is not a very exciting one, but it lays the foundation for everything we are going to be doing from here. So, let's just go ahead and go to the top of our system, right click and name this system. And I'm just going to call it, "Rockets". Rocketman! Du, du, du, du, du, du, du! So, moving on to step two, which is a lot more exciting because that's the explosions. The way that we are going to be triggering these are using the GPU events that we talked about. So, to add a trigger for a GPU event, we go to the Update on the current particle system. So, on the rockets themselves, and we hit Space, and here we search for Trigger Event. And as you can see, we have three different events here. We want to choose, first of all, the On Die event. So, whenever these particles, the rocket themselves die, we want to go ahead and trigger an explosion. And we get to choose here how many particles we want to have in that explosion. So, I'm going to set this count here to 80, in order to trigger 80 particles to be spawned. Then we can click and drag from this green circle here out. And this will allow us to spawn in a GPU Event context. And from this context, this works very much just like the Spawn context up here. We can go ahead and we'll create an entire particle system. So, let's go ahead and just create the bare bone structure of a particle system. We'll go ahead and drag down from here into an Initialise Particle context. We'll go straight from that into an Update context. And then finally, we'll go from Update into Output, but instead of creating this from scratch, let's just copy the one from our previous system. So, hit Ctrl + C and paste it over here, hit Ctrl + V. Let's simply drag it down and connect it. So, we've now created another system with plenty of room for us to fill stuff in. And let's do that now. The first thing that we want to do is set the lifetime of our particles. So, let's hit a set lifetime. And let's make this random between two values. The first one we can make 1.5 and then maybe two, and right away, you can see that some particles appear down here in the bottom right corner. And the reason why they're just appearing here is because we haven't yet set the position of these particles. So, let's go ahead and do that. And since we want our particles to spawn at the position of our old particles, we simply want to inherit the source position of these particles. And there's of course a block for this. So, let's hit Space, and let's search for Inherit Source Position. And we'll choose this one here. And as you can now see, we spawn the particles in place of our old ones. You also noticed that sometimes we don't spawn enough particles and that's because we have to increase the capacity of our Initialise Particle system here, in order to make sure that we can display all of the particles that we are spawning. Of course, having all the particles just stay in one place is a bit boring. So, to change that, let's go ahead and modify their velocity. Inside of our Initialise again, we'll go Velocity, and here we can add velocity in different ways, I just want to add some velocity in a random direction. Let's hit that on the speed mode, let's go random. And then we can choose between two speeds. I'm going to set this to something like five and six, and there we go, we now have explosions. Of course, right now the particles just keep flying in whatever direction because there's nothing to slow them down. In the real world, we of course have air resistance to actually slow down whatever is travelling. So let's go ahead and add that now. So, inside of the Update Particle here, we'll add air resistance. This is called Linear Drag. So, let's go in and add here Linear Drag, and we can set the drag coefficient, how much we want to apply this force to something like three. And that definitely looks a whole lot better. Let's also just add a tiny bit of gravity to make these particles slowly fall to the ground. So, let's hit Space, again we'll add in a Gravity here, and we want this to be quite a lot less than the standard gravity. So, let's go ahead and set it to something like negative one. And I think that looks a lot better. It's a pretty subtle effect, but it just makes everything seem more organic and natural. Finally, for our explosion, let's make these particles look cool. So, let's go to the bottom inside of our Output node. And the first thing that we want to do is vary the size of these particles. So, instead of just using Set Size, let's remove this and let's search for Set Size Random. There's one at the top here. And we can set them to something like 0.03 to 0.07. There we go, that looks a lot better. And for these particles, I don't want them to stay the same colour over their lifetime. These definitely need to vary in colour. So, let's remove the Set Colour and let's add a Set Colour Over Life. And this gives us a gradient that we can play with. So at the top here, we have the alpha values for our particles, how transparent they are. And at the bottom we have the colours. So, just at the beginning of the particles' lifetime to the left here, I want to make sure that they are 100% opaque. So, let's just select the first key point here and remove it and move this one over to make sure that it's set to 255 in the beginning, and then we can definitely have it fall off at the end like this. Let's also take the colour here and turn it from a boring white into something more of a cyan colour. I want these to be really vibrant. Again, to make them show up, we need to add that glow. So, let's increase the intensity here to something like 5.2 maybe. That looks really cool and let's have them change colours, so the end colour here is going to be something different. Let's go to more of a bright purple and let's set the intensity here to something like 5.5. There we go, so now we can see them changing hue and changing appearance. I also want to begin the fadeout a bit quicker here. I think that looks much, much cooler. I might want to go ahead and decrease the amount of sparkle in the purple here. So, we'll just decrease the intensity on that down to something like five. I think that looks a bit less crazy, but you can of course experiment with this however you want. If you're going for really over the top cartoony style, definitely make things glow like crazy. If you're going for something more realistic, then maybe try and hold back a little bit. Now, a really cool little trick here is that we can actually make a bright flash right when the explosion happens using this gradient editor. All we have to do is simply move this colour over and create a new one here by clicking. And we'll make this one completely white and very, very bright. So, let's set the intensity of this to something like 7.5 and you can see just how crazy this flash is. And then we can control the duration of the flash by simply moving these closer or further from each other. So, if I move them really closely together, you can see that we can create that really quick, bright pop, like an explosion is happening and then we start to see all this sparkly stuff inside the fireworks. I really like this effect, I think it's super cool. I might have overdone it a tiny bit. I'll try and set this to something like 7.4. That looks better, and yeah, just a really quick and easy trick. And that's pretty much all we need to do on the explosion themselves. So, let's go to the top here. Let's take all of our nodes here, move them down a bit. Let's right click here and name the system. And I'm going to name it, "Explosion." Cool, I'm just going to tidy this up and now we can move on to step three, which is the rocket trail. So, I'm going to go ahead and make some room for it here. I want the rocket trail to be right next to the rocket system itself, there we go. And we actually used the exact same technique that we use to trigger our explosion, to trigger a rocket trail. The only thing that we change is the type of trigger we use. So, for the explosion we just want to trigger that when the particles die. For our rocket trail, we want to go ahead and trigger that. So, Trigger Event and we want to use Always, which is going to be called a reupdate. So, in here with the Always, we can set the count to something like two. So, we're going to spawn two particles every update, and let's go ahead and lead this into another GPU event. So, we create a GPU event, there we go. And again, we can lead this into another particle system. So, let's just create the structure for that. Let's create an Initialise, let's create an Update, and finally, let's again, just copy the Output from our first system. There we go, and now inside of our Initialise, we can set the capacity here to 1,000 because we want quite a few particles on our rocket trails. We'll also added lifetime. So, let's go in here and Set Lifetime, and let's just set this to something like 0.3. And now you can see again, our particles start to appear. Again, we want these to inherit the position of our particle when they're spawned. So, to do that, we'll again put in the Inherit Source Position and right away, we can see that our trails start to appear. Of course we can do different things to this trail to make it look cooler. First of all, I would like to spread it out a tiny bit, so we can add a tiny amount of random velocity. So, we'll go under Velocity and let's choose random direction again, and let's just set the speed here to 0.2. There we go, so it now spreads out a tiny bit and I actually don't want to do anything inside of Update for these particles. However, we definitely have to change some things in the output. And one thing we could do here is maybe stretch the particles along the Y, in order to give the impression that the light is kind of being drawn out because the particles are travelling so quickly. I think that looks pretty cool, it's probably easier to see than explain. So, in here, let's go ahead and add a Set Scale, and this is going to allow us to control the scale in the different axis. And I'm just going to choose Y and set that to something like three. So, you can see that just stretches the particles a tiny bit. If I overdo this effect, you can see what happens. It really stretches them along the Y, but I'm just going to stick to a subtle value like three. And I'm just going to drag this above the colour. And that's also the main thing that we want to change. Right now, the colours are a constant colour. Let's remove this and let's instead set the colour over life. Again, this gives us this gradient here and let's make the particles instantly appear up here with the alpha. Let's also remove this one here and just have them slowly linearly fade out from 255 to zero. And then in terms of the colour, let's go ahead and choose a good orange colour. And again, let's definitely add some intensity here. Let's try 3.5. That's a very dark orange. Maybe make it a tiny bit brighter. I think that looks really, really, really cool. And let's also just have that fade to a standard orange without any glow, so that we kind of keep the look of the particles, but we slowly remove the glows so that the glow itself is more centred towards the top. I think that looks really cool. Awesome, so that's actually the rocket trails themselves. So, let's again, go ahead and name our system here. Let's name it, "Rocket Trail". Again, I'm just going to neaten this up and now for the fourth and final step, which are the explosion trails. This is definitely also the easiest, because we can take the trail that we just applied to the rockets and simply add that to the explosion particles as well, in order to give a really cool effect. So, to do that, we need to go into our explosion here and we need to, of course, add in a trigger event on the Update here. So, we'll hit Space, search for Trigger Event, and this time we could, of course use Always, but that is quite a few particles if we're spawning them every update. So, instead I would like to use Rate, which allows us to define a rate over time to spawn in the particles with. So, let's just make some room for that here. And let's set the rate to something like 40 particles per second. And again, let's create an event out of this. So, drag out and create a GPU event. And now, instead of creating this system from scratch, Let's just take our entire rocket trail here, hit Ctrl + C, Ctrl + V in order to duplicate it, move it over, simply connect it. And right away, we can see some of this effect working. Now, we just want to go down to the bottom here and remove the Set Scale so that these particles are not stretched. We also want to increase the capacity here, because we are spawning quite a few particles to something like 10,000 or maybe 5,000. And let's also change the lifetime to 0.5 just to make them stay a tiny bit longer. You can of course, also adjust the colour if needed. I might want to go ahead and make these a tiny bit more red. There we go, I think that's a pretty cool hue. And definitely play around with this and have fun, but that was the final step. And we now have, as you can see, realtime particles showing fireworks in Unity, and we can fly close to these, or we can look at them from a distance. Either way, I think they look really, really cool. And of course, because everything is just parameters that we can easily adjust in here. What we can do is simply, well, If we wanted to go more crazy, just crank it up. Let's spawn, for example, a hundred rockets a second. Of course, we also need to make sure to increase our capacity to do that. I think we can set this to something like 1,000 and increase the capacity on all of the other systems as well. And there we go, we have absolute mayhem. Awesome. That's pretty much it for this video. If you enjoyed it, make sure to subscribe and ring that notification bell, so you don't miss the next one. Also, don't forget to check out Skillshare, simply click the link in the description to get two months for free and start exploring your creativity. On that, thanks for watching, and I will see you in the next video. Dr. Brackeys signing off. Thanks to all of the awesome patron supporters who donated in November and a special thanks to InfintyPBR, Dante_Sam, Samuel, Lost to Violence, Love Forever, Chris, faisal marafie, Megan Frazier, Leo Lesetre, Miamia Pop, Mohammad Younis, Danijel Dusanic, Jacob Sanford, Naoki Iwasaki, MarcAntoine Girard, Gregory Pierce, TheMightyZeus, Alison the Fierce, Yigit Kaya and Erasmus. You guys rock.
