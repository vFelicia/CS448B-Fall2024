hi everyone this is Griff patch and today I'm going to make a tutorial on how to make a topdown scrolling game I created this game zombie cube escape a couple of weeks back now and with the sole purpose of being able to show you on YouTube how to make a game like this so this game as you can see I can control my Square and the level scrolls around and it's also got enemies now that's probably the the most difficult part of the game but to begin with I'm going to show you how to make the scrolling part on the level and then we'll move on to doing the enemies next so without further ado let's stop this and we'll create a new project okay so first off name your first sprite as player I like to call it player it makes it nice and easy to know the players bright and we need another sprite now so let's add a new one and we'll paint it and this one is going to be called which we call it level like that okay let's just make this bit smaller so we can see this there yeah yeah yeah now this is the fun bit because you get to draw your level and what we're gonna do is draw a level that's zoomed out so when you play it it's gonna be much bigger but it means that you can have a big level that Scrolls around okay let's switch to bitmap mode and I'll fill in the entire background black that's gonna be the background of the level black and on top of that we're going to draw our walls so choose a color for that like the nice green there we go so we're on fill rectangle mode still and now we can start drawing some walls so let's just draw a few rectangles so okay that'll do for now there's a little bit of a level to begin with so let's give call this level one up here there we go okay now go into your code and let's add an event receiver when I receive and will call this new message setup okay and now we need some variables this is where we need the scrolling variables so let's make a new variable now be careful here it's me for all sprites so I'll use uppercase letters so I can remember that it's for all sprite so I'll call it scroll X in capitals I get space there no let me go scroll X I'll great that I'll create another one again capital letters scroll why okay and now we want a position variable for the level itself and that's gonna be useful later so I'll just call it X in lowercase this time click thee for this sprite only okay make a verbal Y again lowercase not uppercase this is bright only and then in your setup set the X to zero and set the y 0 like that what we need to do is resize this level to make it big now for this to work you need a little trick go back into the costumes add a new costume it's paint and this is gonna be a really small costume so I'm just going to add in a little or a little dot there might not really need to do it and do that but I'm gonna do that for now so there we are it's a little tiny dot I'm going to call this dot like that okay back into code and then change to that costume first switch to costume dot and the reason we do this is because then we can now set the size of the costume nice and big say 300 2% so it could be three times bigger than the covered little dot and then we can switch the costume back to level one now what you'll find is if we want level one we set the costume between two percent because it's a full scale let me show you let me show you nice and easy so if I switch to costume one okay at eye level and then I say set size to three hundred that is not so units on site if you have a look at the actual size you click on here the actual size is 150 even though we said it 300 now that's because scratch does not want you to make that costume very much bigger than the screen however if you switch to costume dot which is nice and small there it is then set size 300 it does it and then switch back to costume one stays at 300 and there's our costume that's 300 percent of the level so now we've got big big costume that we can move around and scroll let's put that back to how it was dot size 300 switch costume to level 1 excellent so that then sets up our level ready to go next step we need to add in our little guy so let's put in the beginning of the project or in green flag clicked like that we then want to set the scrolling variables so set scroll X to zero and scroll Y to zero it's always important to set your veil was up at the beginning of the project otherwise you don't always get them resetting to what you want them to be and you kind of forget any wonder why poem doesn't work the second time you run it so accept that like that we need some new variables the player's position so it is going to be for this sprite only have an X click ok another variable Y again for this sprite only and these variables we were set to zero as well okay now we need to broadcast to set up at the level so in vents broadcast and wait and we both got set up so now when we run this project it will set anything up and call the level and set that size up properly okay let me just hide all these variables we're creating because they're not very useful all over the screen same in the level let's get rid of those there we go right now we need a little character now we could keep the cat if we wanted but I'm just going to simplify that and make it into a little cube person like I did in my exam B cube so paint just zoom out so I can see the whole screen choose a color for your little guy I'm gonna go for red and then draw a square in here now if you hold down while you're dragging hold down shift create a perfect square which is nice so let's do that let's get rid of the scratch cat costumes and I'm going to call this costume player as well let's go back to the code so at the moment I can't see my player because he's behind the level so let's make sure he comes to the front so let's say looks go to front yeah run that it should pop up there he is okay so what we need now is to add in the game loop so in the controls let's add a repeat until and just pop it in there so this is going to run until to make a curse and asking me until the end of the game so we'll leave that empty for now because that means it will just repeat forever until we add something in there so click a broadcast in here just a normal broadcast not to book us and wait and a new message and it's going to be player move like that okay and then put a receiver for that in here like this and in here we're going to have a custom block so create a new block and we're going to call this player move and we're going to run without screen refresh and then add that player move to there like that okay so everything we're going to do to it moving is going to get in here for that we need lots of ifs so if and then a sensing block and a key pressed if we press up arrow key then now another custom block and we're going to call this try move and then X input and it's going to be how to X and then the text Y add another input and call it add Y and click OK that makes this a nice little block here what we can then use it's put the custom block into there and we can say how much we want to try moving when we click the up arrow sorry X we want to move 0 and y we want to move up so let's put in four there okay down a bit so this is going to be the same for each of the directions you can push let's do another one when we push the down arrow we want to move the Y by minus four and I'll do it again when we press the left demo we want to move X by minus 4y by 0 we press the right arrow we move the X by 4 and the y by 0 okay did we get that and then we can code up our moving block here so let's do that first so when we press an arrow key we're going to call this try move so this will try and move our player in the direction that we've specified as we need a motion go to block here like this so our position R use a bit of for maths in here so let's put in the add operator and the position we're going to be at is our X which is our players x position plus the amount that we want to move so this gives us the correct position of our player but we need to account for the scrolling of the screen too so in here we have to also have a takeaway X in here and drag your X plus X into the left side like this so the position of the player is the player's position X plus the amount we want to adjust it by removing the amount scroll of the screen and that gets us the exact position on the screen that it should be at and we want the same thing for the right hand side not same thing for the right hand side only it's going to be Y I'm going to be add Y and it's going to be scroll why hey that finds the exact titian and we want to relocate to now if after moving to his position it's touching the green wall then we want to not move the player so if sensing touching color and then pick the color on the level here which is this green that what we actually want is not if we're not touching a green wall then we want to allow the move so what we then do is change X by an ex and change why I had why okay so what we're doing here is we've positioned the player on the screen but we've not actually added anything to his x and y which is what's storing his location and we only actually change his location is stored position if we're not touching a wall so that's the trick we're using here okay good so now we want to add in another broadcast into the repeat loop so we've moved the player then we want to move the level so new message move level like that now when we call level move and put in the receiver down here and it's going to be called move level and we want to just position our player so it's same kind of script we had before I would say if bit just without the ad so it's going to be get this in high position I gotta get that there we go X get rid of those ants so we're gonna position player exactly we should be where exposition takeaway scroll X&Y petition takeaway scroll why when move level is called now hush do the moving level bar in a second but let's just give this a play and see what happens okay look so press the arrow keys Mike a bear moves and if I walk into a wall stops actually working really well no scrolling but it is doing exactly what I wanted it to do okay so now I need to scrolling level so what we're going to do is change the scroll X and scroll Y and that's going to happen here at the bottom of the player move custom blocks after we've done all the movement we're going to scroll the screen to reflect the movement that we just made so in variables you need a change and we're gonna change scroll X by now add in here over around so that's gonna round the number to the nearest whole number no decimal fractions which is important for when you're moving around because it tends to cause quite a bit of a problem if you have fractional numbers when you're always trying to do touching stuff in scrolling so I always round it to the nearest number so round and we want to move it by a bit of the distance towards the player so the player Muse over here the level wants to move back towards the player so what we're going to do in here is have a divide and then on the left side so this is going to be the distance between the player and the current scroll of the screen so let's put in player X the current player takeaway scroll cover position that's difference between the player position and the screen scroll position and we're going to divide it by 10 so that it's going to move it by a tenth of the amount the distance between the two things so that means it kind of will slowly catch up and the same with the scroll Y we'll change that to be y takeaway scroll Y divided by 10 okay that will scroll the scroll X and Scott Y all we need to do now is position the level to that with that scroll as well so we've added in the move level here which has been positioning our player based on the current scroll we want this also in level so I'm just going to drag it in to level okay do we go into level there it is so this is also now going to be positioning the level with the scroll let's just run that and see weapons if I now move that smooth scrolling and can't walk into these walls perfect so it's really good see how far we've got already there so I'm pretty pleased with that that's a really good start to our game and you of course can now go ahead and design this level just as excitingly as you want so as I move around here I could for example draw in another wall to find just pick the right green color again like that I can draw in another wall here that appeared straightaway on the game pigs around here like this I can then build some more walls I can draw one in here just be careful as you do this if I used to use the arrow keys now to move my player on the right hand side here I'm also moving the wall because it's still selected over here so the cursor keys moves the wall so I'm causing a bit of confusion there and while playing the game to make sure when you've drawn it you click off it otherwise when you move you're going to start changing a level by mistake we go ahead design whatever level you like only the green is gonna act as a wall at the moment so you can put other colors on the floor and it won't get in your way design your level exactly as you like it we our next YouTube tutorial I'm going to show you how to add in some enemies so that is gonna be fun I hope you enjoyed that and we've patch follow me thanks bye you