hello fellow scratchers now let's be honest who hasn't been in a situation when they've created a variable for all sprites and only later on found it should have been for this sprite only well once upon a time griff patch feeling so clever began to code the most epic scratch project ever it began with a cat and a variable for health but should it be for all sprites or only for itself well he wasn't quite sure so he just let it be and continued on blindly saying i guess we'll just see then when green flag clicked still unaware of his bloop he set health to five and then straight into a forever loop but just to be sure he muttered assay block won't lag and he dropped in a health block and smashed that green flag five he declared such muscle such brawn but he did not dally no he had to scratch on and so with much health scratchy was ready to fight with a nimble right click griff duplicated that sprite and it looked to be working double avatars of scratch reporting five health apiece a genuine perfect match now it's time to mix it up with patch declared and then boosted one cat's health from 5 up to 10. and that's when it happened on clicking the green flag it became pretty obvious he'd just hit a big snag for although each cat's health was there to plainly see they both still reporting the very same exact hp but how is this possible each sprite's health was individually set to a completely different value when green flag clicked and yet oh man this is bad he disliked code rewrites i bet this was all because i opted for all sprites and yes this is indeed the case when a variable is created for all sprites all the sprites across the entire project will see the same value and no matter which one changed it they all see that change and there lies the problem even though both sprites update the health variable in this project only the last value set is seen by both the sprites watch this it's a bit wacky but if i drag the left cat and then run the project now both cats report a health of 10 see no we are not going mad it's just that dragging a sprite on the stage brings it to the front layer and the order our scripts run in are defined by their order so whichever sprite is at the back is the last one to set the health variable and thus that is the value that wins out no wonder some scratchers can get confused right so an interesting aside how can we tell if a variable in our project is for all sprites or was it set for this sprite only well there's a few ways but if you simply click the checkbox next to a variable to make it visible on the stage then take a look at the name of the health variable it just says health right away we can tell this is for all sprites because it does not have a sprite's name prepended to the front look again if i create a test variable for this sprite only then you'll see that this one does begin with the name of the sprite sprite1 so there you go we can confirm that the reason our healths are not working is because of this mistake and it's a very common bug when you are starting out in scratch or following tutorials so the question is how do we fix it well there is no direct way of changing a variable that's already been created so that makes it tricky i guess we might consider just deleting the variable ready to make a new one delete ah where did my script go so yeah careful deleting your variables because scratch is not very forgiving deleting any blocks that make use of the removed variable within this sprite interestingly though if we click into sprite 2 you'll see that the scripts referencing health are not deleted from here which is actually quite interesting since this was the same variable but well there we go so back in sprite one let's rewind time and try doing things a little differently since deleting a variable from a sprite that uses that variable is dangerous how about we delete it from somewhere else that doesn't use it like the stage well let's find out what happens delete so what did this do back in sprite one and two oh look the health variable is back oh man it's been recreated still for all sprites we are right back where we started bother what we learned though is that scratch is quite happy to recreate missing variables if it doesn't find them that does make me curious though what does scratch do if it cannot recreate the variable if we could stop it in some way one rule of scratch is that you cannot create a second variable with the same name as an existing variable on the same sprite well this means that if you have a variable for this sprite only and then try to create a for all sprites variable anywhere else in your project with the same name then scratch also stops you well then how about we create a new dummy sprite and once again delete that global health variable delete now before scratch automatically recreates it as before we make a new variable and name it health marking it for this sprite only oh wow will scratch even allow this you bet it will so what does this mean for the other sprites that try to use the health variable clicking into sprite 1 ok so the health variable has been recreated as before check the visibility box and yes yes look what has happened sprite 1 health scratch has this time been forced to recreate the variable for this sprite only that's awesome the proof is in the pudding so smash that green flag and oh yes look at this we have fixed our bug with a cunning quirk of scratch how cool is that butch might there be consequences to bending scratch to our will in this manner come on seriously what could go wrong oh no wait what well you did ask a consequence of this variable fix is that scratch somehow messes up the variable reporters for this recreated variable they all think they are the first sprites reporter it's not that the variable doesn't work it really does but the reporter will remain broken for all time time so if you need the reporter you'll either have to go make a new variable in each sprite and manually go through switching all references from the old variable to the new one or you might have already done this install the scratch addons browser extension you can pick it up for free from any browser app store just googling scratch addons this extension has a whole host of awesome and helpful extensions to make scratch a happier place to be in including a number of features made by yours truly one of said features is the swap variable feature all we need to do then is begin by renaming the for all sprites health variable as old health now we can easily identify the bad variable we are trying to fix so now we create the health variable again this time doing it right for this sprite only cool and here comes the scratch addons magic rightclick on the old health variable and choose the new option swap variables in sprite and we are prompted in an admittedly mildly ugly input box to enter the name of the variable to swap old health with we enter health our new variables name and pow all our old healths have been replaced with our new health variable and they are showing up on the stage as sprite 1 health so that's just great and we go into sprite 2 and we do the same again make a new variable health for this sprite only right click the old health variable name and swap it for health pow that's really enjoyable and behold our stage has two health available reporters now so i can delete the old health variable that is no longer used anywhere else in our code and we smash that green flag behold the beauty of these two independent health variables and we rightly can feel very smug with ourselves for getting out of that fix with such style and on that note this is the end of that little scratch tips tutorial if you enjoyed this video then please hit the like button as doing so will make sure that even more people get to see my videos and that would be awesome oh yeah and don't forget to subscribe to the channel too i've put a link in the description under the video to scratch addons if this video gets enough likes then hey i'll make sure to tell you lots more about my favorite addons that i just couldn't bear to live without but until next time have a great week ahead and scratch on guys