hello fellow scratchers I'm Griff patch and today I'm going to show you how to add double jumping to your scratch games and specifically to our classic scratch Platformers of course but hold on there's actually a bit more to this that first meets the eye so let's take a detailed look at the rules that govern double jumping firstly the player must have already jumped into the air that is they can't just run off a platform and jump as they fall that would be a b jump and we are coding double jumps next the player has to release the jump key and press it a second time this is what triggers our beautiful double jump but can the player just keep on jumping no no we must keep of how many jumps the player has made and limit jumps do only do until that is they touch the ground once more finally what if they W jump well in that case perhaps we might allow them another double jump but the choice is up to us well I think that pretty much sums it all up so open up your projects from where we left off and save them as a fresh new copy guys let's get scratching now a few people have pointed out that perhaps we don't have so much room on our screens to allow for a lot of jumping around let alone double jumping well guys that really depends on the size of your player character doesn't it we can easily shrink them down a little smaller for example to 30% a aren't they cute and then if we want we can compress our levels to fit more platforms on one screen at this size though we would benefit to play around with gravity and the jump Force to make our new player size feel right I'm actually going to increase gravity though to 2 to give my player a fast jump Arc and that automatically reduces the maximum jump height so yeah I love how that feels see how I can no longer jump high enough to reach the jump through platform either now my screen recording is lagging a bit here I think it's because we have so many scripts on this first Sprite to make things a little smoother while looking inside the project you can create a blank Sprite and drop it in as the first Sprite in your game you might have seen that on some scratch projects with this Sprite selected things tend to run just a little little smoother yeah that's better so where to begin in the jump code I guess we can follow the scripts under the tick player we have the controls up and down script okay this is where we detect the jump key the up arrow in my case and then we have two jump triggers the first for wall jumping and the second one is for regular jumps we're going to need a third so by this time it may be obvious but we need to split this script up using a custom block pull out everything under the key press and we'll make a new block naming it start a new Jump question mark just pop those scripts under that Define block and make use of the new block right away from where the scripts were pulled except now look at this both the if conditions that can start a new Jump are checking whether jump is zero this value tells us how long we've been holding down the jump key it's only zero when the jump is first pressed but since they are both using this check we'll take it out of here and using a new if block surrounding the start new Jump pop the jump equals z condition in there that makes sense we can't start a new Jump of any kind unless this is the initial press of the jump key now hold on what about this last if down here this isn't checking for a jump of zero and with good reason this is not to handle the start of a jump but the continuation of a jump so move that off the end of the script and put it back under the if jumping here make sure it's not inside jumping if okay few lastly we tidy up these ifs the first only checks for wall jumps wall sliding and the second only tests for falling being less than three that allows for standard non delayed coyote jumps so we're almost there one last touch just just to be safe pop in a stop this script at the end of both of these ifs to ensure only one jump action doesn't leak into the next by mistake great so all these changes and we should have made no difference to our Gameplay at all but it is a lot neater and will make adding new Jump types far easier Let's test smash that green flag and give your game a good run through or a jump through in this case as we should test all possible jumping scenarios that we might have accidentally broken if you're interested then the official term for this is regression testing testing to see if we broke something that was previously working so next to allow double jumps we need to keep count of the number of jumps our player has made make a new variable jump count for this Sprite only and then in the regular jumping code down at the bottom here simply change jump count by one he hey that wasn't rocket science but it's oddly satisfying but for double jumps we are only interested in how many jumps were made since we last touched the ground so find with me the define collide y ceiling or floor script floor collisions are detected when falling is greater than zero so reset the jump counter by setting it to zero well that was easy and you'll notice that we can no longer ever get this counter greater than one it's zero or one or zero or one yeah but now we have the data we need to trigger that second jump we need to go back and find our new defined stter new Jump script and we'll introduce a new type of jump that's a new if but we can duplicate the last one for ease and the condition we are looking for is simply that jump count is equal to one that means the player is in the middle of their first jump and now we will trigger a second jump just as easy as that notice however that jump count gets increased to two and thus we won't be able to make any further jumps until we touch the ground again smash the green flag oh wow look at this we did it double jumping and it's really good so responsive and with a very solid implementation that just worked so well it's worth testing this out all over your levels to see how it affects your game at present we don't Grant the player a double jump after wall jumping which I think we probably should but also before we scroll away from here do consider that if you want to Grant the double jump ability as a power up all we would need to do is add an extra condition to this if to say something like jump count equals 1 and say the abilities list contains the word double jump and you'd be good to go what we want to do though is allow double jumps after a wall jump so scrolling up to the top of this script which is the bit that handles wall jumping all we need to do is set jump count to one then we'll still be able to trigger a double jump right after a wall jump well job done now we can go to town and make the most of this new jumping power what do you think do you like it perhaps it would be cool to add a little particle effect under the player as they double jump a cloud or something anyway I leave that to you ingenious coders to figure that one out if you want to give it a go so if you've enjoyed this lesson Mash that like button and subscribe to the channel making sure to check the Bell icon because you're going to just love what I have in store for the next episode player crouching and sliding oh man yeah but I'm afraid that's all we've got time for today so thanks for watching have a great week ahead and scratch on guys