hello fellow scratch bug squishers for a few episodes of our classic platformer series i've been getting reports of a bug cropping up in the wall jumping code every now and again i've seen it too wait there did you see how many of you have seen this in your projects too yep once you know how to exploit it it can be a real game breaker and it's way overdue every visit to put a stop to this madness but wait right there if we are going to do this we should do it officially and we'll therefore break this up into five bug fixing phases are you ready phase one bug reproduction or repro for short before we can fix a bug it's vitally important to first be able to consistently reproduce the issue over and over again hopefully at will gather as much information as you can from the hints left in comments from fellow scratchers and then try to replicate it yourself in our case the main factors appear to be that while we are wall sliding we are then somehow able to jump back up the wall however just what steps this takes are not super clear so i put the tried and tested approach of wildly mashing my keyboard into practice aha i have a repro now i just need to work out exactly what i just did and then hopefully ensure it is consistently reproducible oh yeah i got it yeah yeah this is most certainly it wow i could really get to places with this bug that should be completely out of reach oh it's actually too fun but we've got to fix this really yeah we do do we seriously it breaks the game dude so we now proceed on to phase two the documenting phase this is where we list the steps that cause the bug so that anyone who follows them can reproduce the same issue this is mega important as later on we will need to be able to follow the same steps to confirm that the bug is fixed so we jump against a wall this triggers a wall slide now while still sliding down the wall we pull away by pressing the right arrow key and there did you see it i'll rewind and slow the video down there for one single frame our player is facing the wrong direction and now we immediately mash the jump key and then boing back up the wall we go so with these steps recorded we have an easy to reproduce bug report nice work phase three understanding why the bug occurs in our case we can start by asking why we ended up facing the wrong direction after pulling away from the wall well firstly we have to remember that when we jump against a wall we enter wall slide mode and importantly appear to turn around to face the opposite direction as we slide now if you look in the costumes you'll see that the wall slide costume actually points in the opposite direction to all the other costumes yeah so when wall's sliding we don't actually turn the sprite around at all the player is still facing towards the wall only the costume is flipped to face the other way but as we press the right arrow to pull away from the wall our player's direction is changed to face right it just so happens that the wall slide persists for just the briefest of moments and so the wall slide costume appears facing left oops so is this important well if our game thinks we are still wall sliding then we have a tiny but very exploitable opportunity to perform a wall jump just after leaving the wall but while facing the wrong way and that that is exactly the problem we are seeing splendid sherlock would be proud and we enter phase four where we get to actually fix this bug i feel that if we simply cancel the wall slide as soon as we change direction then the following wall jump exploit will just go away so to the code ensure that we are in the player sprite and find the define controls left and right script this as the name implies is all about handling the left and right controls the first if checks for when we are not pressing the left or right so key x is zero but what we are really interested in is below this within the else branch right here we go see this pointing direction block this is where we make the player face the direction being pressed now we only want to cancel this wall slide if the direction changes so we'll pop in an if block before we actually set the new direction just here make sure to move the point in direction and change frames blocks below this new if now to detect when a change is about to occur we can compare the current direction with the new direction if they are different that is not equal then we can cancel the wall slide the current direction can go on the left and the new direction is given just below in the point direction block key x multiplied by 90. so duplicate that in here excellent now we know when the direction is changing all we need to do now is cancel the wall slide bring in a set block and set wall slide to zero easy peasy when you know what you are doing right that brings us to the final phase of our bug fixing exercise phase 5 the testing phase to know whether the bug is completely gone we simply go over the exact same repro steps we originally documented in phase two if these steps no longer result in the same bug then by jove it means we've done our job and the bug is fixed so here goes nothing jump and slide pull away first impressions are good i didn't spot the player facing the wrong way this time so let's go full hog and try the wall jump back up the wall i'm trying i really am but no matter what i do nope no nope i cannot do it captain bug squashed excellent okay did i say there was only five phases yeah this is the unofficial sixth phase the jumping around party celebration phase right then that is it for this mini bug fixing video i hope you enjoyed the process those who want more don't worry the official episode 12 will be coming out next week and what i have planned is just so super cool rotating platforms yes as showcased in my mmo platformer i know right these are sweet and you just don't see them in scratch projects so i am so excited if you can't wait to get them too then you might want to consider joining my early access membership for the chance to catch it before everyone else okay you know the drill don't forget to love the video subscribe to the channel if you haven't already and until next time have a great week ahead and scratch on guys bye