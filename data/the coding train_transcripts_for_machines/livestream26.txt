I am back I was away for two and a half hours but I'm back are you there are you there god it's me margaret my name is not actually Margaret I don't know if you guys know what I'm referring to I don't even know if there's a god let's not discuss that today I was making video tutorials this morning about video in p5 about pixels this is where I last left off let me get situated here and we're gonna make another video in a moment I want to if you're if you're watching this somewhere like know if the aki oh sounds right I have to find my admin pages here I just like turn this on I see that I am I see myself on youtube with three people watching that's good I see myself on twitch with it says 14 people but that cannot be possible uh but please if you are watching let me know in the chat if you that just say if you can hear me okay and if the picture quality seems fine if I walk over here you can still hear me and the picture quality seems okay and coming back over here okay so um hi again so I'm gonna just take right now I've got about maybe 10 minutes to a half an hour before i'm going to do something else i'm going to do i'm gonna i'm coming back to my tutorial list and i was just going to go to the next one called brightness mirror and I'm going to make that quick tutorial about reading the pixel I will keep looking over here because that's mine I have this view of the screen over there maybe I need to not put it there but anyway you're you're the person there who i am talking to i'm going to make a video tutorial about how you can read the pixels of a image and then draw something based on that in the canvas of a p5 sketch so let me just check no one's really told me that they can hear okay but i'm lee refresh this page because i bet you there might be there ok i see i think i missed if anyone's on twitch and posted in the chat I like lost by accident so come back to me okay so what I'm going to do first here is just get I'm going to kind of try to make this example and then I'll do the tutorial about it okay so what I need here is sublime and I need also the finder these are the examples i'm working with pixels and i'm going to say i'm going to call this brightness mirror okay so what I'm doing now is I need to go back into Chrome I need to look at brightness mirror which is I copy this code over and what I want to do instead is the following so i'm going to i'm just going to like program this really quickly to see if it works and get my head used to this example and then i'm going to kind of delete all my code hit record and kind of go through it step by step so but i'll kind of like rambo while i'm doing this in my prep stage here i'm trying to refresh this again twitches my twitch admin panel is doing weird things okay so the first thing i need is a variable for the video element and then I want to say create video create capture you rebars I'm back sorry everybody sorry everyone hello okay can you hear me now you should be able to hear me now sorry everyone yeah I haven't come back alive yet uh sorry working now okay I was trying to figure something out something is not happening if video so what I want to do is just say ready and uh and Argo equals false I'm just going to do this thing again because I don't know any other way to do it right now and i'm just going to do that I don't love this as a solution cannot read property of load pixels of undefined hold on undefined what far video I read no no no no I had a mistake in my code all along maybe I don't need this a classic programming error okay let's see if we are gonna be good now since nobody heard anything i was talking about i'll explain what i'm doing in a second there we go ah perfect okay sorry everyone r everyone i am liquid origami two streams today yes there are two streams today I am continuing from where I left off this is my topic list I made the top videos earlier today basic create capture did a little photo booth made this morbid style animation looked at the basics of the pixel array and right now what I am doing is I'm getting set up to make a tutorial where I'm going to look at how to read and manipulate the pixels from a live video you can see already how slow this is you can see the lag that's happening and I wonder if but that's not going to be an issue because there's all sorts of stuff I'm going to do later that will fix this but I'm just curious to make sure this is really working okay yep this is really working and now what I'm going to do is okay so what I'm so I am just testing some code ideas out before I actually hit record and going to walk through this stuff more stepbystep so one thing I want to do is I'm need to look at the p5 brightness function which is going to be a very key function that I'm going to use and the brightness function expects a color it expects a color so what if i give it I wonder if secretly it might be able to take some other stuff so let's look at the brightness function just even here in the console because what happens if i say brightness 255 it needs a color or pixel array brightness so I could do this 100 that seems about right 100 oh it's giving it to me as a value between 0 and 100 I guess yeah okay interestingly enough the brightness function gives me by default a value between 0 and 100 and what I'm going to give to it are so there should be a way that i can use the anyone within the chat might tell me i think the slice function takes out a p let's look up slice now i don't know if this function is going to be too slow but let's look at what slice does a shallow copy of a portion of the array begin end okay that's exactly what I want what a shallow copy mean I think it has to do maybe with something important I knew that I learned that at some point in my life you look it up pretend I could pause the pause this stream look it up pretend I know what I'm talking about so I think what I want is if this is index if I want to just get the color then I want to say video dot pixels dot slice and from the index to index plus 4 does that make sense i want if 0 1 2 3 does is it inclusive or exclusive of the end so we're going to have to look that up slice 13 gives orange lemon and not apple so 03 would give me three items okay so it is exactly what i want and then I could say var so let's do something where then I look at the brightness of that value and this should just convert it to grayscale so let's I just sort of seeing how this works oops no I need to go here object arguments is not a valid color representation huh all right fine have it your way I'm going to have to debug this VAR a equals video dots pixels slice 0 comma 4 so let's say no loop stop stop it video code pixels video dot pixels is an array oh it's some weird kind of array look and I not use slice on that can you guys see what I'm typing here so video pixels dot slice 0 comma for now that worked ah so that should work and then let's see if I put this into a variable that worked and then I should be able to say brightness I should better get the you know I could just do the math for this myself in two seconds by just averaging the three I don't know why I'm doing this but huh that looks like a pixel array to me I wonder if it's because it's this kind of weird array right like what if I do this yeah that worked interesting so there's another I got to file these issues really we should be able to pull out I guess I could Oh probably the get function or the copy function get is really what i should use i was just wearing get would be so slow i can't remember if get maybe this is a case where I could call get because I could say video get I just don't know if this would be slow and I get that and then I so VAR a equals video get and then I could say brightness of a that works all right so I'm gonna try using get I can't remember let's look at the reason why I thought I shouldn't use get is because it's really really slow as opposed to accessing the pixel array directly but I guess if I'm doing this slice thing anyway that's probably what get is doing let's look at what get is doing behind the scenes so p5 dot prototype dot get equals function this dot renderer get so dot get equals function where else table get table row glyph set matrix renderer so it's returns pixel load see it does call load pixels so this is what I want to avoid and it does all this like rounding math and does too much you know what forget about it forget about it I'm going to do this the manual way glad it looked all this up I'm going to do this the manual I forget about slice or get I'm going to just do this the wet I can do is actually just say R equals video pixels index RGB gbg6 plus one plus two and guess what you know how to calculate the brightness braked equals R plus g plus B divided by three and then now you can put that into here so I'm going to do that the mint I have to figure out how I'm going to make this example this is now how I think I'm going to make this example let's run this looks good so you can see I have turned the video into just brightness values which is something that I wanted to do you guys are still hear me yes I didn't in the chat there's 11 people watching here and there's a few people watching here ok ok so now I have that example so the next piece of the puzzle is that what I would like to do and that camera just went off turn this back on is I because this is kind of slow not just because this is the kind of flow I want to create a lower resolution version so what I'm going to do next is and I don't need this anymore I need a variable called like video scale and I'm going to make that variable for and i'm going to say with / video scale and height / video scale so now this is going to break everything but I want my video to be like small and low resolution and what I want then when I look through its pixels to only look through the lower resolution video pixels and instead of drawing pixels to the window I want to say Phil right and i want to draw a rectangle that is at x times video scale y times video scale and video scale video scale back and make a smaller variable name so that and I don't need update pixels anymore and I also don't need load pixels this is what I want to do and this should give me on now what did I get wrong pixel density some other math this has to be video dot with that's important video scale for oh wow really that's how about 16 all right so there we go this is what I'm looking to do so now I have something that's quite fast doing a low resolution whatever or mabob I think now maybe my window could be bigger and we can see this here so now okay so uh the other thing is well this looks right to you it's actually not mirrored if I'm looking at my screen although I guess I leave it this way because you can see how it maps okay so that's that piece uh and so but actually this is not the final version of the example that I want to do I actually want to instead of using the brightness as a fill I want to make the fill 255 and what I want to do is take that brightness value which has a range between 0 and 255 and map that to a rectangle sighs so small rectangle and this should say no stroke too small rectangle if it's dark a bigger rectangle if it is bigger rectangle if I wonder if V scale is that a better variable name let's try that whoa let me be scale video scale fee scale replace all okay that's a little bit better this would actually be this size so now let me run this yeah this is what I'm looking to do so if i zoom in on this you can see that the size of the rectangles is related to the brightness of the pixel and I could also say wrecked mode center and there we go this is really and it's a little bit often so I probably should you know offset each of these by like v scale / whoo I'm kind of getting into it's a slippery slope a really complicated code unnecessarily so but this is okay so this is the final version so you can see I have created unfortunately the green behind me isn't the best for this but i but i'm wearing kind of a bright shirt I can do this I don't know what but you can you get the idea okay uh has anybody so actually watching this is I'm going to make the tutorial in a second let me scooch this over and zoom it down a little bit and check to see if you guys can hear me and see me okay somebody in the chat please say hello i'm watching this it's working okay uh did that is that a bona bose shirt I have no idea what bonobos is but I guess somebody is watching us or asking about my shirt ok so in a moment here okay great you're enjoying this Thank You Adam father okay so i am going to start now the presence of the camera shouldn't distract me and since there are lots of cameras here but it does somehow i'm going to now begin go back so I figured this out and i'm going to start over just from this I hate to delete all this code let me save this code somewhere just in case secret some secret place I'm going to save that working version of it but now i'm going to go here and i'm going to put this here and i'm going to go here oh here sorry everybody i'm almost there for brightness mirror I just want to title this properly you make this a little bit smaller house that font size okay close that open this this is the only one that matters and there we go no down okay I'm ready working good thank you everybody I'm going to have a little drink of water make some weird noises while slurping that I'm gonna walk over here i'm going to definitely need the whiteboard for this i'm just getting myself ready and now i'm going to come back over here i'm going to cycle the cameras and i'm going to try to do this in trying to make this like about a 10 minute possibly 15 minute tutorial where i will rebuild that thing I just built again but but going through some of the details a bit more okay here we go just checking the chat for a second but something internet happened but I just have to assume it's still going hold on just want to make sure it's still going sound good sound sound video no problem ok move myself over a tiny bit that tends to work better blocking less I can close this I don't need this all i need is browser sublime browser sublime browser supply browser ok here we go record now hello and welcome to another video about pixels in this video i'm going to change this rainbow set of pixels behind me to the pixels from a live video stream and from that i'm going to show you how to create a abstract mirror from that video stream based on just the brightness values of the pixels so let's just dive right in and go ahead and do this so i'm going to pull up the code for this one and the first thing i want to do is just add a video Dom element here so i'm going to create a variable called video I'm going to say video equals create video create capture video and i'm going to say video size 320 240 so I'm going to just run this again and we can see there we go I now have my canvas with random pixels next to the video Dom element so the next thing I want to do is say instead of making these pixels random I want to actually just pull the pixels from the video itself so if I go into the code here you can see this particular nested loop is looking at every single X and every single why finding the pixel give it get and setting its color and I covered all how this works in a previous video link to that now magically the room um but if I make a weird sound that a pair i hope that a annotation will pop up that will link there so so but if i want to look at the videos pixels I first thing I have to do is just say video download pixels video download pixels now in addition to the canvas pixels I want to look at the video pixels okay and here i can actually just say hey the red pixel for the canvas I want it to be the red pixel from the video and the green pixel I want it to be the green pixel and the blue pixel I want it to be the blue pixel and the Alpha I could get the Alpha but I know it's 255 why bother looking it up let's just put the number 255 in there so now if I were to run this we're going to see look at that video in there and the canvas but notice we've got some stuttering now so it's a pretty expensive thing if you've worked in Java or C++ before you be like what I can look at a 320 x 240 image look at all the pixels no problem the truth that matter is this is a little bit slow in the browser so even even though it's working we've got some performance issues here so I'm going to deal with those performance issues in a fit away by saying like well I wanted to make something artistic anyway so I'm going to do this at lower resolution but that's going to sort of be the main thing that I'm going to do but before I get to that one thing i want to show you how to do is just look at the grayscale or brightness value of each pixel now there is a function in p5 called the brightness function which takes a color gives you its brightness value I'm going to do it sort of an emmanuel simpler way which i think is just going to be a bit more efficient here and what I'm going to do is I'm going to take those values i'm going to say are this is the red value from the video this is the green value from video and this is the excuse me and this is the blue value from the video and 10 1 & 2 so really what i could do is they are this is I'm just breaking this out into different lines of code by the way this is like hello image processing 101 I've got an image I look at its red green and blue value I do something to that red green and blue value and set a new pixel so this is really image processing here the thing that I'm doing to that red green blue value is nothing but if I wanted to manipulate them or swap them so I could go off on another tangent here but I'm not going to go off on that other tangent what I want to do is actually just look at the brightness value and the brightness value for a given pixel is really just the average you note it could be more complex than this if you're like a black and white photographer who cares about the nuance of how you grayscale something but a simplistic thing i could do is just add all the RGB together and divide by three and say let me set each pixel to a brightness value so there we go and now if i refresh this you're going to see I've got the image on the right live from the video and a kind of gray scale version I've taken out the colors because I'm making the red green and blue values all equal all equal to the average of their son okay so this is pretty good but we've got this issue here where I've got a performance problem and I want to do this abstract mirror thing anyway so there's a there's a solution to this so I'm going to come over here and talk about what that solution is let's say my window itself is 800 x 600 it's not but let's say how to camp sorry the canvas itself is 800 x 600 what if i were to capture my p 5 video at 80 x 60 so you can see here and I'd you know not drawn perfectly to scale this is onetenth the size of this one well it's actually not one tenth because it's twodimensional but the width is onetenth the height is 110 so really it's one one hundredth the size i think that's right boy it somebody correct me if i'm wrong the point of this is there is a relay ship between these two if I take any x value here its corresponding place there is x times 10 if i take any x value here its corresponding place here is x divided by 10 so i need a new variable like scale which is going to keep track of that relationship between my source material and the place where i'm drawing oh just not delight i looked at light i've gotta have blinded everything's gonna be okay uhhuh so but this would be a terrible terrible terrible name for a variable terrible name for a variable because scale is actually a built in p5 function so you really want to watch out but not name your variables things that already exist in p5 and cause all sorts of problems there's all sorts of interesting ways around that a topic for another time so i'm going to call this a V scale for video scale so I'm going to come back over here and I'm going to go back to my co hello back to my code and I'm going to add a variable called V scale and I'm going to make it the value 16 because I think that will kind of do the math work the math out nicely I'm actually going to make my canvas 640 by 480 and then I want my video size to be the width of the canvas / v scale a 0 and the height of the canvas / v scale so i want the video to be smaller the canvas to be bigger the video to be one sixteenth of the canvas the width and height that is ok so once I've done that now you know for a second here let's just comment this out actually let's just leave it in there it's going to do weird things and run this you can see that the video is here small very low resolution and who knows what's going on in here all that broke because my math is now way off well actually what I want to do is not even bother to set pixels anymore I do want to look up pixels in the video but instead what I want to do is for each pixel now draw a big rectangle that's 16 by 16 so here we go instead of I want to fill that tangle based on that brightness and draw a rectangle at X at why that is V scale V scale and let's run this and you can see a whoops and let's get rid of this update pixels we don't need that anymore come on I think I might have frozen what did i do here okay well there's some mistakes here i just realized terrible mistakes i was trying to a hard to pay attention what have I missed so first of all now that I'm looking I'm looking at the videos pixels right the video thing this is the small thing I want to iterate over its pixels and do things bigger in the canvas so I've got to go back and I was being very looseygoosey about all this I've got to look at the video height in the video with and in my formula in looking at the pixels I need the video with as well so now and I think I might have crashed the browser so let's close look at this look at me crashing you're not really doing p5 unless you crash your browser every once in a while doing p5 and what that means you're not really programming p5 hmm this was going well a second ago there we go so you can see something happen but whatever happened doesn't make any sense why I forgot a really really crucial detail looking at my code the x and y values are the x and y positions in that low resolution video but i want to see them in their in their spots in the actual canvas itself so what i need to do is multiply scale back up by v scale fee scale and now magic of magic we should see and we should see that i have exactly what I expected now you can see their performances pride quite good I don't know what the size of that is 32 24 or something like that it's pretty low resolution plenty of resolution to get some sense of the image and you can see I now have this pixelated version of myself and I could go back to the RGB values i could do you know i can start to do all sorts of weird things so this I think is the moment where I could stop and say hey now you be creative why don't you draw circles instead or strange hexagon excellent hexagonal shapes or other images to make this other kind of mosaic but you know text you could Patek stin there whatever you want to create this sort of mirroring effect that's abstract but I think something that I'll show you that I think is worth looking at is what's the sort of bare minimum and the reason why i chose brightness is brightness of each pixel is kind of the bare minimum value to convey the information of the image so what i want to do is just draw each pixel as a rectangle with its size relative to brightness and i can use the map function so let me create a variable called w for like width of that rectangle and i want to map the brightness of each pixel which goes between 0 and 255 to a size of that rectangle dark too dark pixels should be small rectangles bright pixels should be large rectangles so between 0 and v scale itself and then I want each pixel to be white and I want its size to be that W so you can see what I'm doing now is I'm saying look at every pixel in the lowresolution image get its brightness not that brightness to some size and draw a rectangle in the higher resolution canvas according to that particular brightness and here we go so let me hit refresh and you can see this is what I've got now so you can kind of see am I in there can I create a pose that you can recognize but if i zoom in here right zoom in really close you can see that what's happening is these are just little rectangles that are getting bigger with brighter pixels and smaller with darker pixels very very simple idea a little bit information you'll notice that the rectangles are kind of growing from the corner so really I should probably use if I you know was thinking about symmetry and design and all that sort of stuff that maybe somebody else knows about I should probably use wrecked mode center and then if i refresh the page you should see that now the rectangles are growing from their center if i zoom in and kind of move around to create some various effects and you know they're a little bit it's a little bit off now you can see at the bottom the math is off so I could probably shift everything to the right and down by V scale / to let you add that part if you want to play around with this but I would say this is the basics of an idea of how you might look at the pixels of a video and redraw them in a different way while remaining on that grid so one of the next things i'm going to show you is how to just forget about this idea of the grid entirely and create a painting system that thinks the pixels of a video and that's what a look at next i should mention one other thing though even though this looks correct to you right i stand here i move my arm to the right my arm moves to the right behind me a little bit of a lag but it moves to the right nonetheless it's not actually mirrored if i were in some kind of art installation i'm looking at it as i move my arm to the right what I'm seeing on the screen is it moving to the left so I'm actually just going to reverse that even though it'll look reversed here but I think this is useful for you in case you don't know how to do this well because a way to reverse it by the way is if I'm looking up if I'm going to draw the rectangle here I could just look up the pixel over here and then the rectangle here I look up the pixel over here so for every pixel on the left look up every pixel on the right and the way to do that is just to say with minus the x value minus 1 right because if I have an image here over the hair if I have an image that's 320 pixels wide 0 should map 2 319 one should map to 318 two should map 2 317 etc etc so i can just without having to actually manipulate or flip the image I've looking up every pixel I could just look at the other side a quick way of doing that is to say video dot with plus X oh sorry sorry minus X plus 1 plus y and I think parentheses why's that you know just to be more clear I might put parentheses here but I think it should be fine anyway so now if I hit refresh we can see here it's reversed so it looks reversed to you like I'm going to give myself a high five high five high five I'll do that on my own time later but it's actually now looks mirrored properly when I look at the screen here ok so this concludes this tutorial of making a brightness mirror with p 5 GS create capture rectangle rect boat center and a whole bunch of other things and i'm gonna go over here and hit stop and see you soon okay live chat ah yes so Arthur frisk asks it seems like they should add a global p5 object and add all the functions and properties to that instead wouldn't it in fact you can do work with it that way and there's a way to do instance mode where everything's attached to a global p5 object but for the sort of starting beginner it's kind of nice to its I agree it's not like extra typing but it's just sort of like a for me it's sort of just like a friendly simplicity to not having this like extra top thing and this global thing to worry about at the beginning so I said a good question though I I'm not sure about that okay everybody said hi and goodbye or let me check twitch so I'm I'm going to take a break now I'm going to let me see where I am here the I need to make a pain of portraits lips can I said I was gonna do seriously jazz which maybe I'll try so I'm going to actually show off the stream but i'll probably back in like a half an hour or so if i can because i want to see if i can get one more video in today otherwise i'll be doing more of these tomorrow or next tuesday i'm only day for sure i know i'm not going to be recording is Monday so I'm hopefully to get over here tomorrow afternoon I but just stay stay attached attached don't attach you know i'll post on twitter but i'm hoping to be back again today a little bit longer just going to take a short break here for a second all right and hit stop on the stream though not to just leave it on