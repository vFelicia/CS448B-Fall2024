okay one more possibly many born but at least right now in this moment one more matter a svideo so this is an example that I made in the previous video which has this nice chain of these circles and that are connected with these constraints and what I really wanna be able to I want to click on it oh I want to interact with it so one wonders that matter gotcha has built into itself something called a mouse constraint and a mouse constraint is a constraint that's not connected between the not connected between two bodies but connected between one body and the mouse now what's interesting about this is you know you might want to eventually apply this to something that's not actually the mouse but you can make an interactive system where connect sensors like doing hand tracking and you're able to move things around your hand all that is possible but I'm going to show it to you with the mouse so let's see how let's see how this works okay so what I need to do is I need to go back to the matter digest documentation and I want to look at mouse constraint so mouse coat just as with everything we've learned right now everything's name space under matter dot something so I want to work with a mouse constraint so I want to make sure I add I'm going to say mouse constraint equals matter dot mouse constraint so now I have that and then I create a mouse constraint by calling the create function so I am going to make a variable called M constraint for mouse constraint for short global variable and at the end of setup I've added all my particles all their constraints I'm going to say n constraint equals Mouse constraint dot create now the mouse constraint gets created with attached to a particular engine right I could have multiple physics engines within the same sketch pretty rare that you wanted to that but it's possible so I'm going to put in engine and then I'm going to what else options so once again I'm going to make a set of options for this mouse constraint now what are those options got to go back to this the following properties are specified for objects created by a mouse constraint create so these are the options that I need a body what is it connected to oh do I really need that no no no that's not I'm not setting that that's going to happen by working with Mouse collision filter oh there's a constraint Mouse I know I need this because I need to tell matter yes about the mouse so I'm actually to backing up a second I need to go look under Mouse so before we even do now is constraint what I actually need is to add a reference to mouse equals matter Mouse so now I also need to say VAR Mouse equals Mouse create now here's the complicated question create element element HTML element so this is really interesting matter that Jeff is a fitness entrance that's going to handle that in allow the interaction stuff behind the scenes for you so I actually just want to say just just attach yourself to a given column element that's on the web page that's going to get Mouse event so that you that matter that you guys can get those amount of them and so the thing that I want is my canvas so how do I get the actual HTML element associated with my p5 canvas well this is how the canvas is made with create canvas but there's no reason why I couldn't put that into a variable create canvas actually returns a reference to the p5 canvas object and inside that canvas object is a property called alt which is actually the html5 canvas associated with the pfunk image p5 cameras are just a wrapper for the html5 canvas with some extra functionality so I can say create a mouse that's attached to the p5 canvas and then ooh okay why I need to do that first and then I would do this now this is a little bit confusing it's like the property is a mouse but it's set the mouse into this variable so I might just call this like my canvas I might just just for the sake of clarity I might call that canvas now so I can see those are the options up maybe that's all I need what are the chances that's all I need cannot read property creative undefined sketch F 954 undefined mouse dot create canvas TLT what's undefined maybe Mouse oh this is capital M there we go case sensitivity you've got us again there we go okay there we go now what's the chance I could just click on these now something happens so this isn't doing anything so there's first of all there's a weird sort of thing that I know can happen oh also I didn't add it to the world so this is easy to forget I need to say world duh add world comma M constraints because I want to I need to add some mouse to the world I don't think so maybe I do but I definitely need to add the mouse constraint to the world so it's not doing anything if I click on them but there is an issue there is a very significant issue that could be at play here that I'm not so sure about but I'm going to let's fix this issue before I find the other issues one thing you might not be aware of is that a lot of computers that you might be using have a screen attached to them that is a high density display meaning like a Mac retina or a plenty of other examples of this but that there's actually four pixels per every kind of single pixel I mean there's really the pixels are the pixels but there's more pixels per what we kind of like think are the units of measurement for the window and in that case the coordinates might be off and so I can actually I can actually fix this if I go to Mouse constrain a mouse and look for pixel ratio okay hold on where is that or is that in the constraint I know there's a pixel let's okay so let's look console dot log canvas mouse so it might not be in the documentation but thanks to Lee Abreu on Twitter who pointed this out to me I'm going to run this again and let's look at this let's pixel ratio so there is a pixel ratio property to that now and so I need that I need to make sure that pixel ratio is the right number and it's going to by default be one but if I'm not a high density display where the pixels are doubled it needs to be two so what I can actually just do here is I can say canvas mouse pixel ratio I could just alter it like this now here's the wonder if like p5 actually has a function builtin to itself which will dynamically discover like what is the pixel ratio so I can actually just set it equal to that function pixel density which will return so this code will actually work whether it's on a high definition high density art high density display or not I don't think that was the problem here but we're certainly going to need that oh it was the problem look at that my mask so that was actually all there was so that's great to see so now my mouse constraints are working so I can click on these things and now I can't click on the fixed one you can see a lot of littler like weird stuff going on here so there's a couple things I want to fix about this but so far pretty good number one is I this is real I really need to see what I'm doing would really be helpful for me to Dilys draw something when I click so what I want to look at is the properties of the mouse constraint so I want to look at the properties of the mouse constraint because I'm going to console.log Mouse constraint now so let's look at this look at this body no there is no body because I'm currently not there so that that property of the object is going to be associated with whichever thing that I'm clicking on so what I want to do is say for example if M constraints dot body this means if a body exists that means I'm currently on one of them so I just want to do I want to get bar position equals M constraint body position and I want to just quickly highlight it so I'm gonna say fill I make a green and I'm going to draw just an ellipse there this is totally like a wackadoodle thing to do it makes no sense but just to sort of see if this is working so you can see that now whichever one that I've clicked on gets highlighted as green so this is a way to figure out what's being clicked on by looking at the amount and constraint and seeing if it actually has a body associated with it but really what I want to do is look at look and mouse has pixel ratio Mouse has a position there so what I actually do is I want to draw a line so I also want to look at VAR M equals M constraint Mouse position which I actually know is M Mouse exit now why because P 5 will give that to me but I look as well just get it from the constraint just to be sure and now what I want to say is I'm going to have a green outline color and I'm going to draw a line from paws X pause Y to MX MX m dot Y now we're going to have an issue here which we'll see in a second so but this should show me which one I'm connected to so I'm going to do manager so you can see this I'm going to click on one them now look at that that's working it's showing what I'm doing and how I'm pulling it but I'm gonna let me go let me try to go up to the top here to show you a certain shoe I'm gonna click on the edge just click really high up on it look it's pulling it from the center but it's actually not pulling it from the center so no matter what I'm drawing my line based on the center of that body but I didn't click on the center of that body so the constraint is not actually attached to the center so I need to find out that offset position so if I go back and here in addition to body under constraint Point a I think is the offset it could be point B I don't really know I think a I can't read the documentation but I think a is probably let's find out so I want to go to body constraint point A or B is going to be that offset position so I'm going to save our offset equals and constraint dot body Gus constraint nonono and constraint constraint dot point a let's try that and so now I want to draw the line from pause X plus offset dot X and Paz y plus offset dot y okay let's see if this fixes this for us so I'm going to click here Oh something crazy has happened so that's clearly not right I don't know what that is so maybe that's doing something point a it's associated with the mouse so let's try point B I knew that was the correct one I'm sure if I read the documentation it explains it but I'm just doing this through trial and error to learn how it works yeah there we go so you can see I'm now actually attached to the correct part of it based on that offset and I can pull it on now one thing that I'm not showing you here when there's a issue with using circles in with a physics engine because there's a lot of angular velocity and wrote there's an angular velocity what these things are doing and I can't see it and it's sort of weird to suddenly see that line kind of rotate around the thing so one thing just in terms of drawing if I use an image sprite to draw there that's going to have like you know eyes on it or nose or something I'd see this more easily but just for sort of debugging one thing I want to add here is just draw a line from the center to this to this R so this and it's already 250 much so so if I do this we can see that line there so this is going to give me a more of a sense of yes you could see these things are kind of like spinning and what they're doing as they're interacting now one thing is they do they they have collision geometries you could make the argument here that I actually want to ignore their collision R that's another thing I could go there are some collision filters builtin to matter chance where I can tell certain things to collide with each other and other things not to collide with each other and you know that you could make a case maybe where I I want these to be able to pass through each other in terms of how the behavior of this is working but anyway you can at least see here now how I'm able to use the mouth to kind of toss stuff around and interact with the elements in the canvas which is what I wanted to demonstrate in this particular video so thank you for watching and this this matter not yet this but I'm not finished because you know you might be in the future and you might see they're like oh my goodness there's five more matter that you have tutorials after this but right now the tie said time that I'm recording it right now this is the last one there's plenty more aspects of matter is but I will do some coding challenges to kind of make certain little mini projects with matter Jas one of which I want to do is maybe like a print go machine so you might see that up here at some point soon but right in the comments we have other matters Dutchess questions that maybe I'll make some future video followups about that okay so thank you very much for watching and I'll see you in another video goodbye you