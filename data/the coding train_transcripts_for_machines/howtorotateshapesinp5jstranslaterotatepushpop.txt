Hello, everybody. In this video tutorial, I'm starting here by this whiteboard. My friend, the whiteboard. I think I might have disturbed people in the room next to me. OK, it's fine. It's fine. Hopefully, no one's going to come and complain. I want to talk about transformations. So this is actually a video tutorial that I've been missing for a long time. It fits right in to the first or second week of programming, really, because it can become a very sophisticated, complex topic as we move into 3D graphics and all sorts of stuff. But, ultimately, this is a way of controlling your view, so to speak, of the canvas you're drawing to, the orientation, the scale, the rotation to alter the way that you draw things. So that's a terrible way to explain it. So let me make a list first. This is going to help. The functions that I want to explore in this video are translate, rotate, there's another one, scale, and then, also, push and pop. Now, there are more functions related to transformations than just these three these five, really but these are the ones that I want to focus on in this video. And I want to talk about, what's the goal? What is the goal here? So there's a lot of reasons why you might want to use transformations, and I'll try to talk about those. Grouping shapes together can be useful. Nesting various shapes within each other is a way that it can be useful. But, ultimately, for you, if you're just starting working with code and P5 and graphics, the main reason you want to use transformations is really just for this rotate function. Because you have a canvas. You might have a rectangle here, and what you want is for that rectangle to spin around and rotate, like, rotate, spin around. And you would think that's, like, the simplest thing, because there's a rotate function, and shouldn't I just say rotate, and then, the thing rotates, and we're done. We can leave. It's not. And ultimately, it's not so hard, but it is a little tricky at first and a little confusing what these things do. So the goal that I want to have in this video and there's more to it than this, but at least, for this first video about transformations is, I want to have two rectangles, and I want them each to rotate. Maybe this one rotates around its center, and maybe this one rotates around its corner, and they both rotate in opposite directions independently of each other. And then, you might think to yourself, also, like an exercise you can do, and maybe I'll I think I did this, actually, in some solar system simulation video. But I'm remembering that right now, is you could think about, well, what if you had some type of solar systemlike simulation where you have some type of star or sun in the middle, a planet that rotates around that, and while that planet rotates around that, there's another one kind of rotating around that. So think about these sort of nested systems. And I'm sure you'll come up with all sorts of other creative ideas. So where to begin? I first want to begin with the translate function. So I'm going to come over here and I'm going to go to some code, which there's very little in it, and I'm going to just do I'm going to write a draw function. Ultimately, I'm going to start with something static, but, ultimately, I might I'm going to animate it. So I'm going to draw a rectangle. And I'm going to draw that rectangle at 50, 50, and I'm going to be 100 pixels wide and 50 pixels high, and I'm going to say fill to 55. I'm going to go back to the browser and I'm going to look at this rectangle. So I see this rectangle there. There it is. So what have I done? I'm going to draw the canvas again. Now what I've done, I have this rectangle, and I gave it an x, y position, and it's oriented according to its corner. Its position is 50, 50. 50 pixels along the xaxis, 50 pixels on the yaxis. And we see it here because it's 50, 50 relative to 0, 0, which is in the top left. So we're saying rectangle, 50, 50, 100, 50. Now, I could do exactly the same code, exactly the same code in a slightly different way. I could say instead, translate 50, 50, and then, I could say rectangle, 0, 0, 100, 50. And what I've done is I these two pieces of code are identical. Because what does translate do? It moves the point of origin. It moves 0, 0 and says 0, 0 now lives here. So if I draw the rectangle at 0, 0, I see it in exactly the same place, but I'm just thinking about the orientation of the canvas in a different way. And a reason why you might do this is to, say, translate the 0, 0 to the center because you just feel you like to think about your screen as 0, 0 being in the center. There's all sorts of reasons why you might do this. Let's prove that this is the case. So I'm back here. So I'm now going to say, right here, translate 50, 50 rectangle 0, 0, 100, 50. And I'm going to say fil well, actually, what I'm going to do is I'm going to just comment this out. And I'm going to hit Refresh, and we should see exactly the same code, exactly the same result. So why would you do one or the other? Why would you say translate 50, 50 and then draw the rectangle at 0, 0 versus just drawing the rectangle directly at 50, 50? Well, one of the things that's important here is that these translations accumulate. So just like when you say fill a certain color, every shape afterwards is colored according to that fill unless you say fill again with a different color. The same sort of thing applies to translate. So now, if I were to say, rectangle 100, 100, 50, 10, you can see there's that other rectangle. It's drawn relative to where that origin was. So now, what's interesting about this is I can actually, instead of saying translate 50, 50, I could say, translate mouseX, mouseY. So now, these move relative to that one position. So this is one reason why this can be useful, because you might want to think about this complex pattern that's all centered around or relative to one given point, and you could move it all together just by altering the translation. So this is one reason why it's useful. Another reason why it's useful is really the main purpose for this video, rotate. You cannot control the rotation of a shape you're drawing without the use of translate. And why is that? Well, rotation is not as simple as just saying rotate something. So let me grab this eraser here. If you said to me, rotate that eraser 90 degrees, I would say, OK, I rotated it 90 degrees. But we have this bond, you and me. We understand each other. We can speak the language of angles and rotation without specifying. But the computer does not have this bond with you. It needs to know, OK, in addition to rotating, just rotating by some angle, I need to know around what point should I rotate. What's the origin, what's the axis of rotation? And what axis? There's all sorts of questions. So this is what this is how this is why translate is so important, because always, always, always, rotation happens around the point of origin. So if I translate and draw a rectangle at the corner, at 0, 0, it will rotate around its corner. And I have another way of describing this I'm going to come back to in a second. So let me explain what I mean by this. Let's come back. Let's put this rectangle at 50, 50. Let's get rid of translate. And I'm going to say, OK and here's the other thing. Hello, angles. Time for a little review. I think I have this video for sure, but since we're here, let's talk about angles for a second. Do I have some room over here? So if you're me, you probably typically think of angles in terms of degrees. This is like, a 90degree angle, and this is a 45degree angle. And a full rotation is 360 degrees. And we can actually use the unit of measurement, degrees, in P5, and I'm going to. Because there's a function where I can say, angle mode, and then, I can say degrees to tell P5, I like to think in terms of degrees, and you should think in terms of degree, also. But natively, and if you use other programming and graphics environments, you might not be able to do this. The native kind of unit of measurement for most computer graphics systems is something called I need more space. A unit of measurement known as radians. Radians refers to arc length. Oh, my goodness, what's that? Well, maybe I'll make a video about arcs someday, but let's just think about a circle. And pretend this circle is a unit circle. What is a unit circle? It means the radius is of length 1. 1 pixel, 1 centimeter, 1 meter, whatever it is. Let's say I want to know, what is this angle right here in radians? Well, it turns out that if I take this arc, flatten it out and measure it, that length is that angle in radians. So radian is a way of describing. And if you remember from some math class, or you haven't taken this math class yet, the circumference of a circle, meaning, the whole length of the entire outline of a circle, the formula for calculating that is 2pi r. So if r is 1, it's just 2 pi. And guess what? What is 360 degrees in radians? It's 2pi. So I kind of got a little off track the point of what I'm talking about, which is translate, rotate, but if I want to rotate something according to an angle, I need to at least decide what unit of measurement I'm using. By default, it'll use radians. Let's make things a little simpler and let's switch it to degrees. So I'm back over here now. And I'm going to say, write under create canvas angleMode. Angel mode. Let's activate angel mode. Degrees. And now, before this rectangle, I am going to say, rotate 45. What's going on? So let's add a variable. Have you tried variables yet? I don't know where this video fits into my playlist. But variables and, incidentally, I'm going to use this word let to create a variable, which, sometime in the future, silly that I'm saying it, because all my videos will have let, but this is kind of new. Say let a, for let angle equals 0, and I'm going to put angle in here. And then, every time through draw, I'm going to say, angle equals angle plus 1. So I'm going to increase by 1 degrees. What's going on here? Look at that. Oh, there it is [INAUDIBLE]. Come back. Come back. Please. It's going to come back in a second. Can we wait? Do you mind waiting? Hold on. There it is. OK, so what is it doing? So what it's doing is this rectangle at 50, 50 is rotating around the origin 0, 0. By default, if you just say rotate, everything's going to rotate around the origin. So that's why we're seeing this happen. It goes to here, and then, it goes to here, and then, it goes to here. This is not a bad thing. That might be what you want. In fact, maybe you want it to kind of rotate around the center of the window. So I could come back over here and I could say, let's move the origin. Let me move the origin to 200, 200. And now, I have this rectangle that's rotating kind of around the center. It's a little confusing. I think it might help if I drew a line. We could see what's going on here if I drew a line from 0, 0 to 50, 50. Whoa, what happened there? So why didn't the line ah, look what I did. So this is really important. And I may make this a little more complicated than I need to, but this is so key. Look at this. I translated, drew the line, and then, I rotated and drew the rectangle. So only the rectangle is rotating, not the line. The order of operations is so, so important. So let me put rotate up here. Then, let me draw both a line and a rectangle after I translate to the center and rotate by that angle. So I hit Save? I don't think so. So now, we can really see what's going on. You can see here how it's rotating. The point of origin, the point of reference for that rotation is the center of the window, wherever I've defined 0, 0 to be by translation. And then, this is now, why does this work this way? I'm going to attempt something. And I'm pretty sure it was Golan Levin who I saw do a demonstration of this. But I have a piece of paper. This piece of paper, I want it to now be indicate I want it to be the canvas. I'm going to put it up here. So what's actually happening? Let's say that I translated to the center here. And now, I'm going to say, rotate 45 degrees. I'm going to rotate this 45 degrees. Now, what am I going to do? I want to draw a rectangle. So I'm going to draw a rectangle. Can you even see this? I draw a rectangle. There we go. Look what I got. Can you see that? So what's actually happening in the computer's mind is it turns the thing. It transforms the view, in essence, of the actual windows canvas itself then draws it as if it hadn't moved it at all. But then, what you actually see, of course, is not like, the canvas doesn't move, just the view of it moves. So what you're actually seeing is the rotated thing. I don't know if that was helpful. Try this on your own. Somebody make a video that's much better than that. That was mine. This is why I'll never do live physics demonstrations or anything like that, because I'm terrible about it. Anyway, so you see what's going on here. So what do I want to do? What if I now want this rectangle to rotate around its center? How am I going to handle that? So let's go back to the code, and I'm going to say, OK, well, let's forget about this line for a second and let's put this rectangle back here. Let me run it again. Oh, but that's weird. It's still doing what it did before. What I want is to draw the rectangle at 0, 0. If I draw the rectangle at the point of origin, then it will rotate around that. Gave myself like, a weird fingernails on a chalkboard feeling there. Save, Refresh. So you can see now it's rotating around that rectangle's point of reference, because that is 0, 0, and that's where the rectangle is. If I want it to rotate around its center, let me say let me say easy thing I can do is just say rectMode CENTER. So I can tell the rectangle to reference its center. And now, I have a rectangle rotating around its center. That's what I wanted. And let me position it a little bit up in the corner more of the screen. We can see it spinning over there. Let me have it go rotate by 5 degrees every frame. And we can see, there we go. We have this rotating rectangle. And it's sort of important to realize that if I was going to have something move around, like if I was going to have this thing move around, I would probably then I would have an x position, and I might have a y position, and now, what I would want to do is position the rectangle's position as defined by translate x and y. So now, you can see this. It's the same sketch as before, but now, if x changes so in addition to the angle changing, if I were to say x equals x plus 2 or something, now, it's rotating and moving. So this is kind of interesting, by the way. And I have some future videos somewhere in the nature of code playlist that deal with angular velocity, if you're throwing something and having it spin, something you could think about simulating. But let me back up for a second. I'm going to get rid of the whole x and y concepts. That's useful for you to think about. And I am going to now the ask the question, what happens if I put a rectangle over here and I want it to rotate at a different speed in the opposite direction? So let's give these some color so we can distinguish them. Let's make this some reddish something or other. And then, I'm going to add another rectangle. I'm going to just put rectMode in Setup, just sort of as a global setting for the program. Then, I'm going to draw another rectangle and I'm going to give it a different color. And where do I want it to be? I want it to be kind of at like this is 400 by 400, so let me put it at 300, 300. So I'm going to put it at 300, 300. Whoa, where'd it go? Ah! Where'd it go? Ah, there it is. So what's going on? So one of the things you have to remember is that this translate and rotate affects everything after it. So here's a way I could fix that. I could just say, let me just take that translate and rotate and put it afterwards. I'll just put it afterwards. Just put it afterwards. I'll just put it afterwards. Don't worry about it. Now, I've got that rotating with this not rotating. Because I drew the blue rectangle first, then I translated, rotated, and I got the other thing, and this doesn't affect. Because every time through draw, every time through draw, transformations reset back to nothing, back to 0, 0 being the top left with no rotation. But that's not really a viable solution, because I might need to draw it in a different order, and I might want this thing to rotate. So if I were to translate, rotate this, it's going to affect the other thing. So how do I deal with this? Now, don't get me wrong, sometimes, once again, we want this. Remember, what if I just wanted a little, tiny rectangle offset by a little bit rotating around? So you can see, I might actually want this to be the project. I want two things to be relative, and then, this is good that they follow each other. But in the case of me wanting it to be in the corner separate, how do I how do I stop it? So one thing you might think to yourself, is undo. Well, let's see, if I translate to 50, 50, then I rotated, and I drew the thing, I know, I know, I can rotate back by negative the angle. That undoes the rotation, and then, I can rotate back by negative 50, negative 50. So I'm going to undo. I'm going to go backwards and like, reassemble, reput the canvas back in the right spot. Let me hit Save. Let we hit Refresh. Look, that worked. So that works, but this also is a really not a viable solution. Because, someday, I'm going to create a program with so many transformations for so many different things, and want some things to be related to some things, some things to be independent, me having to keep track of it myself and undo everything is kind of a nightmare. There is actually a function called Reset Matrix which will actually why are we calling it matrix will reset everything? But really, the function that I'm looking for, the one that I haven't bothered to mention yet are these, push and pop. So you can think about push, another word for push, in this case, being save. And pop, another word for pop being restore. So I can save the current transformation state. Where is the origin? What's the rotation? By the way, there's also scale. So I haven't mentioned or shown you scale, but that's another transformation. I can save the state, and then, I can do a whole bunch of stuff, and then, I can restore it, so kind of like in an undue kind of way. So let's look at how that works. So I can say, right here, before I do my first translation, let me say, save. Save whatever things were before. I do this. Now, I can do some stuff, then I can undo it by saying pop. So this, ultimately, has the same effect as backing out of what I did before. So you can kind of this is a way putting push at the top and pop at the bottom around some code is the way of making that code selfcontained within its own transformation world. And now, if I refresh, we can see there we go. This rectangle is completely independent of that rectangle. And now, I could do something like, instead of drawing the rectangle at 300, 300, I could translate to 300, 300, I could draw the rectangle at 0, 0, and I could say something like, rotate by a negative angle times 3. So I'm just going to use the same variable, but have it be faster or something. And we can see this. So we can see, now, I have my one rectangle rotating this way, independently of this one rotating the other way. So I have a feeling that I've missed a whole bunch of things. I've missed talking about scale. I missed talking about why it's push and pop. What do those terms mean? So I think I'm going to pause here for a second. I'm going to come back, and in the next video, if you're interested, I'm going to do a one thing I'm going to talk a little bit about what's actually going on a bit more behind the scenes. Why is it called push and pop? What does this function, reset matrix, do? Why is there a matrix? So I'm going to talk about that a little bit. And I also need to show you scale a little bit more, which I think can be useful. OK? Thanks for watching, and stay tuned for another video, I guess. What else am I going to do? OK, bye. [BELL RINGS] [UPBEAT MUSIC]