hello and welcome in this video I'm going to do a tutorial about how to create a slitscan effect in javascript in the browser using the p5.js framework so first what is a slitscan so slitscan is a particular kind of effect that plays with the idea of time in video in an interesting way it's been used throughout history and photography film art visual art computational design so it's a bit of a trope so to speak a cliche maybe even and if you're interested in that I would point you towards this online catalog by Golan Levin about slit scanning throughout history I'm gonna set that aside and really just focus on the technique itself and how to program it here in this video you can see it running right now the effect so let's talk about what it's doing so there is an image in the front coming from the camera you can't see the camera but there's a camera here pointing at me and what Flitz scanning does is it takes one column of pixels and copies them over and over again into this image next to each other so you see this strange sort of thing you know what I think might help a diagram let's come over here to the whiteboard so the slit scanning effect takes a video source and this could be from a live camera it could be from a recorded movie file any number of ways an animation something that happens over time frame by frame it requires some sort of canvas right a place where that slitscan effect is going to be rendered and what happens is the slit scanning algorithm goes like this take a single column of pixels so one column of pixels you could do it from anywhere the left side the right side over here over here but let's say from the center take that single column of pixels and copy it to the canvas the next moment of time there's a new frame of video take that same column of pixels and copy it next to that one do it again take that same column of pixels and copy it next to that one over and over and over again so moments in time slices of video are put next to each other in sequence on the canvas let's go back and look at this one more time and you can see how that's happening let's say I stand here and I stand very very very very very still you could see the same column of pixels with some slight variation around where my lips are happening over and over again now if I move to the side at about the speed of the camera you can see a speed of the slit scan so to speak you can see my image starting to resolve if I do strange like breakdancing in front of it you can see alien weird forms happening okay so I'll let you play this on your own after you've programmed it let's actually program and make it happen now so this is actually a version of the slip scanning this is actually a version of scanning algorithm running in processing and I have a video that does exactly this in processing but I'm gonna move to the browser and show you how to actually make this on your hopping on your website novel idea so I'm gonna close this and I'm gonna go to an example that I have already running in the browser this example is doing nothing yet it's just oh the only thing it's doing so far is getting the image from the camera and has an empty canvas with nothing on it so let's go look at the code for that so I'm gonna go over here we could see it oops I'm in the index file by action so here's the code all I'm doing is I'm making a canvas it's extra wide I could make that as wide or as less wide as I want by the way I could just lips can vertically might be something you think about as an exercise after this video I need to create the capture which is creating this live stream connecting to the camera you could also load a recorded video and see what happens with that and I want to shrink it down just for demonstration purposes but you know you can make it as high resolution as you want depending on how you know faster computer and browser isn't that sort of thing so you know ordinarily I might just do something like this I might just draw the video itself in the canvas and you can see if I run that I get the video and I'm drawing the canvas but I don't want to draw it in the canvas what I want is just a single column of pixels so how do I get a single column of pixels AHA there is a function in the p5.js library called copy I'm gonna Google copy and p5.js and we can see this function here you can see some examples of what it's doing and look at this you can see this is like an example of use it's like copy image and then like eight different numbers so this seems like an overly complex weird thing but copy function is actually quite simple and perfect for exactly what we need to do so I'm gonna come over here and let's talk about that copy function right copy and then there were nine arguments one two three four five six seven eight nine I don't know if I got nine but close enough so the first argument is the thing you want to copy from right over here you can see I want to copy from an image for us I want to copy from this video so that's gonna be the first argument the video then even though they're all these numbers there it's actually quite simple the next four numbers are the rectangle that you want to copy from and the next four numbers represent the rectangle that you want to copy to meaning I could potentially from this video say I want to copy this set of pixels some partial set of pixels and I want to copy them to the canvas and I want to stretch them out or make them bigger so you can do all sorts of interesting things with the copy function but we're gonna do something quite simple which is I want this rectangle right a rectangle that starts from the center the topleft corner of that rectangle being the top center of this source image and I want that rectangle to be one pixel wide and as high as the canvas itself so let's go look at that and I'm gonna come back here into where into my code and I'm going to say and I'm gonna comment out drawing the video image and I'm gonna say copy want to copy the video from where the center of the video which is video dot width divided by 2 now I'm going to put that in a separate variable just to make things a little bit more legible to read so I'm gonna say the center of the video and the top and then I want how wide I want one column of pixels so with a width of one and I want it to be video dot height which I will also put in a separate variable so that's what I want to copy now where do I want to copy it to well anywhere I mean there's all sorts of things I could do now I could copy to a random place I could make it I could stretch it out across the entire canvas but really what I want to do is just copy it now to the left of it that that left column of the canvas there edge of the canvas so where is that the destination rectangle is just zero zero it's also a width of one and the same exact height so if I run this now whoops come over here we're see I have an error uncaught type error cannot read property width of undefined Oh a what am I gonna do this horrible red error I have no idea act so actually I have this error earlier today I spent like 20 minutes trying to figure out what it was actually it's coming quite simple and I forgot one thing that I that I'm doing here which is a little bit different of how the code works in processing is when I'm using the copy function I'm accessing the pixels of that video image and the pixels are not available to me by default I've got to explicitly tell p5 that I want those pixels so one thing that I need to add to this particular example is just say video download pixels and that should resolve this issue as long as I have video download pixels there in draw so we can we can zoom on in here and you can see there's that single column of pixels can you see it sort of hard to see it's just one column but as I move you see the colors are changing so I kind of have that slitscan effect right I'm taking the center column of pixels I'm copying it to the top left over here but now do I need to do I need to copy here then here then here then here then here move it across the canvas itself so this is actually a really simple thing to do all I need is to add one additional variable to this program then I need to say instead of always copying it to the top left that's zero xvalue just copy it to X that's this particular I'm sorry that's this particular value in the copy function I want to change that to X and then I want to just say hey next frame move X up by one so now always copy the same center column of pixels but move the spot where you're copying it to and now I'm gonna run it again and you can see there it is oh look there is there the picture SATCOM it's moving across now enough I'm not seeing that smearing effect the reason I'm not seeing it is because I'm clearing the background every time so this is a really easy thing to fix I just need to move background back into setup for this particular example I can hit refresh and all of a sudden boom there's the foot scanning happening right now and there it is as I move around to do my breakdancing thing so you there's there's some things that you might ask now number one is why don't you slip scan start over here it should started at zero well the draw loop started before the camera kind of had initialized so we could use a call back and make sure we wait to the first image comments but that's something you can worry about if you have a question about how to do that ask in the comments I'm glad to fix the example to do that that's sort of a minor detail another thing you notice is it's completely stopped because that X value just went off the side of the screen and kept going so I think it would be useful to add something to this program like you know if X is greater than with set X back equal to zero and we'll see now as X gets to the other side of the canvas it will come back so while we're waiting for that to happen I'll mention a few things you might be interested to try a vertical slit scan what does that do another idea this is my other processing video is a radial slit scan what if you thought of like the hands on a clock kind of twisting pixels around a circular path what if you had someone had made the comment what if you had two columns of pixels coming towards each other what if you like move them along a sine wave or you know alternated or put them in random locations there's so many possibilities what if your what if your columns weren't one pixel wide but three pixels wide yeah horizontal and vertical maybe try to create your own variation on this idea share what you made put a link in the comments I would love to take a look at it another thing I would like to show you which I think I'll do in a separate video is how to actually store all of these columns a history of them so that you can kind of like cycle them around get more of a timeshifted feel to it this something more similar to I'll show you something I did in this particular so this is a very similar idea in that there's a kind of history of of images but instead of but I have the full image next to each other what if I put these columns next to each other and have them kind of ripple in a different way so I think maybe I'll try to add that in as I like addendum video so leave me your questions leave me your comments and subscribe and I'll make more videos that's just what's happening okay bye talk to you later