hello again um this video we're going to talk about box Tod joints now we've done a lot with box Tod already we've made circles and rectangles and static and dynamic and polygon shapes and multiple shapes attached to a body but we've we've left out a key uh a key thing that's possible in box Tod we one of the things we can do in boxd is connect to bodies together this is what joints do in boxu and in this video we're going to look at two case studies of joints in box we're going to look at a distance joint and we're also going to look at a revolute joint now I should mention there are lots of kinds of joints in boxd I could keep writing Prismatic rope pulley gear uh a couple more that I that I can't remember right now at the top of my head there are lots of kinds of joints in boxid to create all sorts of kind of crazy wacky physics scenarios um so uh I but but but I think what's going to be most useful hopefully is to look at these two joints what is the process for defining and creating a joint how does a distance joint work how does a revolute joint works and then if you need some of these other joints you may want to take a look at the Box Tod manual as well as the jbox UT documentation um which will um kind of lead you towards some of these other possibilities and eventually I I only have examples for these two joints but eventually I would like to make some for others as well so send me your requests and I'll get cracking on that okay so um what is a what is a joint so let's look at first at a distance joint so a distance joint is essentially a spring that we're going to put between two uh objects you know we can visualize it like this we have two boxid bodies and here's a joint connecting them these objects this could be a springy joint it could be a very rigid joint it could have it could be long it could be short there are lots of ways you could configure this but it is just that a connection it's going to bind these two bodies together and when we run a processing sketch you're going to see that when as this one Falls it's going to pull this one along with it now one thing that we should really emphasize here with box of joints is they have no geometry meaning if something else were falling it would pass right through that a joint is simply a force this distance joint is simply a force that's going to connect these two now in my example I'll choose to draw a line there but that shouldn't trick you to realize that that you shouldn't think that there's geometry one I'm kind of going ahead of myself here but if you wanted to actually have geometry with this one thing that you might think about doing is creating a a body a body and a body and then putting the joints here so that you can actually right so the this would be a connection between these two and this would be a connection between these two but that's so that'll be your exercise actually that's a great exercise when you finish this video and you look at the distance joint um examples try to make this as your exercise and see how that works okay anyway now okay so what is the process remember when we like had to make a box body we had all these steps to find the body set up the parameters Define the shape Define the fixture shape all that so we want to look at the same thing for joints what is the process for creating a joint we're going to walk ourselves through it and then we're going to look at code examples that implement it kind of give us a cursory glance over it we're not going to type out the entire example um hopefully this will just give you an overview here okay so what is the step now one thing the first thing we need to do is have two bodies ready to go exclamation point so you if you're going to make a joint the point of a joint is that it connects two box Tod bodies so before you even create the joint you should have variables that are referencing the two box Tod bodies that you want to connect and we'll see that when we get to the code example so once you have the two bodies ready to go you need to Define The Joint now what what does it mean to Define The Joint it means to create a joint definition object but it also means to set the parameters so set the parameters so just as an example what are the parameters for a distance joint let's list those the parameters for a distance joint is a length this is the rest length remember the rest length of a spring if a spring comes naturally to rest what will that distance be between the two bodies um it also has a parameter called frequency Hertz and it has a damping ratio so frequency Hertz you can think of as the kind of speed of oscillation the harmonic the simple harmonic motion right is it a what is the frequency of that oscillation and typically these are numbers between one and five uh damping ratio you can think of as um kind of affects also the springiness but like uh and you can think of damping as what causes a spring to kind of come to rest and these are typically numbers between Zer and one uh okay so by the way if you wanted a completely rigid distance joint you would make the frequency Herz value zero and the damping ratio one so that would be complete damping and no oscillation whatsoever okay so once we've defined The Joint look at my notes here um I guess I made that well let's make that a separate step so we have four steps here once we've defined The Joint the third step here would be to configure all the parameters and they're going to be different so with the distance joint we were looking at length frequency damping ratio for a revolute joint when we get to that we're going to see there's motor speed and torque each joint is going to have a different set of physics properties and the Box 2D manual is the best place to kind of look up what are those what are what are what are the parameters and what are the kind of ranges of values for them so once we've configured all the parameters then all we need to do is that last step create the joint right so two bodies ready to go Define a joint object configure all these parameters for a distance joint we've just got three we're going to configure and then create that joint so let's actually look at an example of this in action now okay okay let's take a look at this example so as I click the mouse we can see these little springy particle bline Circle things are connected so what's going on here each time I click the mouse we've made two box to bodies and one joint connecting them and you can see the joint's a little bit springy it's a distance joint so obviously we're implementing all these steps that are over here in the code so let's find where we're going to implement those steps before we can get there though let let me just point out something that's a little bit particular about this example look at this class here this class is the particle class this is essentially what we have in all of our other examples we make this particle or box or thing object and that thing object has as a a reference into it inside of itself a box 2D body that controls all of its physics that's what we've always done now we need where do we put the joint so there's lots of different strategies here and we could make a kind of our own joint joint we could make a class called connection and that has a joint in it and and and that would be a useful thing to do this particular example does something like that um and what it does is it has a pair class and the pair class has two particle objects in it the pair is an object that cont that that stores all the information related to two particles and the joint that connects them so it's just the way that we're choosing to organize our code and this is an interesting question that you might ask yourself uh I have this scenario where I'm using joints in this way what's a nice objectoriented way to organize my code ask those questions in the comments in in the Vimeo comments below um maybe we can have a little discussion about some of those things okay so um but how's it working here we have two particle objects we create them like we create any old particle objects and then we make the joint so down here we're now making the joint we're following those steps so I I guess I didn't um in the comments here come on I could say step one is create the joint right so that's just that's just creating that joint object step two we said is configure the properties and one of the things we see here is that remember a joint the whole point of a joint is that it connects two box Tod bodies and this is what we're doing right here we're saying body a of the joint is particle one's body body B of the joint is particle 2's body and then we're setting its length its frequency and its damping those are those properties right there and you can see one thing that's really important to point out about length is remember if we're thinking about the length in pixels we've got to convert it before we just give that value to box Tod it's got to be in world scale box Tod world scale and you can see we're choosing three we're choosing 0.1 try different values here's a great exercise build little slider controls that allow you to like set what the values of those joints are before you create them um and uh okay so and then so this that's step two and then I don't know somehow we had four steps oh we had okay this is really oh boy I'm doing I'm really botching this Step One is have two bodies ready to go right that was step one then we can create the joint and can between those two bodies maybe technically that goes there right we could create the joint between those two bodies configure its properties whoops and then the very last step is actually create the joint and you can see there's some gobbl good code here but we're calling box2d doc create joint and passing in the joint definition and there the joint is done interestingly enough though look at this distance joint DJ equals this is a local variable which means it's gone the moment after we create that joint and I should just point out in this example that's okay all we wanted to do in this example was create a joint that connects those two bodies we don't need to affect that joint delete it change its properties later however if you did we would probably we would see here as a variable we would probably want to keep a reference to that joint variable and you know now that I think of it this example might be a little more clear if I always did that even though we're not making use of it in this example um but I'll consider rewriting that you know when I eventually fix all these videos and make them really good okay so and then you see later how are we how are we visualizing The Joint we're just drawing a line so um that's why we don't you know we we can just we know that that joint always connects those two bodies we can make a line between those two okay so this is the distance joint and we can just to remind ourselves run this example we can see there it is again the joint's connecting those two bodies there's lots of things you could think about this try to create a string of of things connected try to make uh you know a mesh of stuff connected use the distance joint in a different way than just this simple example that would be an exercise okay let's look at a revolute joint in the next video hi I'm tacking this on to the distance joint I forgot there is also an example there's an exercise in the book exercise 5.6 which describes how you can make a bridge like kind of by connecting a lot of objects all connected with lots of little distance joints between them and you can see here we have this kind of springy elastic bridge I can create all these OB box objects that get kind of piled up and it's hanging and waiting there so this is something you might think about doing obviously the answer is there in the GitHub repository exercise 5.6 but this as an exercise you might try to create something like this um and one of the key things to realize here is the two bodies at the end are static bodies they're not Dynamic if they're static that means they're fixed and that's what's kind of holding this bridge in place okay um that's all I wanted to mention