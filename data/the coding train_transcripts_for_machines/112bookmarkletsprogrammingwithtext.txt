hello this video tutorial where I'm going to show you how to make a very simple basic bookmarklet and this is really a warmup my goal here in the next video and the video after that and the video after that is to start looking at Chrome extensions Chrome extensions are a much more powerful way to affect the browsing experience as a whole and actually the interface elements and all sorts of stuff in the Chrome browser but a bookmarklet is a really quick and easy way to add a button that's like a bookmark that triggers some code that changes your browsing experience so let's look at how that works so before I get to that I'm gonna leave it es5 which is and not use some of the fancier newer JavaScript syntax just to sort of demonstrate the simplicity of the idea but I I'm sure that it will get people watching who will help suggest fancier ways to write the same code and I look forward to including that in the material supplemental materials that'll be linked from this video's description so if you've ever made a function in JavaScript you might have done this function you know hello curly bracket curly no parentheses parentheses curly bracket curly bracket if I want to execute this function I want to run that function I would just say hello with the parentheses that means execute this function so now you are probably aware I'm looking for my eraser here it is you are probably aware that in JavaScript functions could be anonymous meaning they don't have to have a name and it can just look like this but then how do you execute the function so typically you might write an anonymous function because you're passing it in somewhere as a callback and somewhere else it's gonna get a reference to it and call it somewhere but in the case of a bookmarklet what a bookmarklet actually is it's a JavaScript function that when you press the button it runs and so a funny thing that you can do if this is the entire right remember if this was named hello then I could execute the function with the name and these two parentheses I can actually just execute the function by putting the two parentheses there so this is like an anonymous selfexecuting function again I think that's right there's some probably of appropriate technical term for it so this is actually somewhat a bookmarklet actually is and if I just put something like console dot log or alert maybe alert will be a good I think never I have this like mission in life to never ever use a JavaScript alert and I'm gonna somehow I'm gonna do that but I'm gonna break that mission that's it right now so I could say alert you know hello so if this were the code for my bookmarklet whatever the user presses the button or goes to that quoteunquote bookmark this code is gonna execute so this begs the question this is very simple idea a good and and now it's up to you like what do you put in here you can read you this is where you can start parsing and looking at what's on the webpage and changing it in real time with JavaScript but other question is where's this code go so now let's look at that all right so you might be aware that if you go so if you go to a URL and this you don't really see that Chrome by the way is hiding the fact that this is HTTP colon slash slash so I could go to URL by saying HTTP that's I'm saying I want to make an hypertext Transfer Protocol get request to this URL but I can also in the browser look at things that are like files on the computer so I can open up index of HTML and you can see oh look now I'm going to the file colon slash slash but I can actually there is and there's actually like a data path where I can do you know base64 encoded images there's all sorts of different kinds of paths that the address bar will accept one of them happens to be JavaScript I let's dare I try to do this function oh I am remembering something that I'm also being told in the chat I made a little mistake here which is that in order for you to execute this function the way that I've described here you actually have to also enclose the entire nameless or anonymous function in parenthesis itself so otherwise it's that's unclear I guess to the interpreter like what this actually match so this is execute the function that's inside these parentheses I'm pretty sure that's required so now let's come back here and so the reason why I saw that's just now I'm going to actually just type that code in right here in the address bar function that's gonna be really hard function curly bracket alert hello semicolon close curly bracket close parentheses parentheses parentheses so this is me saying I want to go to this URL it's JavaScript colon slash slash actually I don't think you need to slash slash if I'm thinking about this I think it's just JavaScript colon and then this code which is a selfexecuting anonymous function so I'm gonna zoom back out here and I'm going to now hit enter as if I'm loading this web page and I get this alert the page says hello so this that's actually what a bookmarklet is and I wish I had copy pasted that because now all I need to do is I can say I can have a paragraph and I can say I can say hey this is a and I could say a href equals book mark litt all right so look take a look at this now we can see this here now if I click on this nothing happens so what can go in a a what can be the H ref to an a tag it could be a URL it could be it could be lots of things one of the things that can be is actual JavaScript code so for example that same thing that I typed JavaScript colon function oh I need to put a parentheses around the function function parentheses curly bracket alert hello close quote close parenthesis close curly bracket close parentheses execute so now let's try refreshing this page and now whenever I click on that it runs that JavaScript code now guess what if I wanted to bookmark a URL all the whole thing like if I like here I have a bookmark up here to the rainbow topics github repository if I click Edit all this is is a name for this particular URL a bookmarklet is just a named set of JavaScript code so I can now say I can now write if actually what I could I could have created but I can't really just drag this up here and you can see look at that now I have this here and every time you I click on it I get that alert click alert click alert and if I go edit we can see this is just this now its URL encoded it did that for me because a quote is not a valid a valid character in a URL so the this has been URL encoded meaning % 27 you'll often see like % 20 that means space % 27 currently means single quote I think so you can see you can write it this way now so in a way we're done yay we made a bookmarklet but we haven't really done anything yet like here's the thing is this really sustainable is this the thing like oh my goodness and I how am I going to send what if I want to do something really elaborate I want to crawl I want to look at all the content on that web page and I want to find all the paragraph elements and I want to look anytime the word puppy is in there I want to change the word puppy to kitten so it's a it's a bookmarklet that changes puppies the kittens or swap images out or change the background color of every web page to a random color all these things are possible but working with kind of trying to write the code in here is going to be so incredibly awkward like how am I gonna really develop because I can't really have line breaks or spaces very easily here so there is a strategy that is used quite often so the next step that I want to show you is how could I write all of my bookmarklet code in a separate JavaScript file and then simply point to it from here so in other words what I want to say is new file I'm just gonna call it book mark lit a s and then what I want to do is I want to be able to write the bookmarklet in a way that's much like easier for me to follow and debug so for example something that I might do is I might say you know console.log bookmarklet starting and then I might say and now I don't have access to there is a way to gain access to JavaScript libraries like I could have jQuery or p5 be a part of what I'm doing but I'm gonna just do stuff with native JavaScript so I could say for example you know let P paragraphs equal equal document get elements by tag name us P and then I could say for let I equals 0 I is less than paragraphs length I plus plus and I could say paragraphs index i dot inner HTML equals so this is me like kind of doing a little version of the deletion Esther word list web like we find all the paragraphs on the page and just set their inner HTML to nothing or I could say it's at their inner HTML to kitten so this now if I wanted to I could put all of this into that JavaScript URL and I could like remove all the the I could remove all the white space and probably make it work but what I could do that's a little bit easier is and I'm gonna I'm gonna just type this out on this in this text document for a second down here is I could actually say all right so this is kind of the and I could write that this anonymous function and then what I can do is one of the things you can do in JavaScript is add elements to the web page and so the element that I want to add is a script so I'm going to say let script equal document dot create element script and then what I want to do is I want to add that change the source script source equal to book mark lit a s so I want the source to point to this other JavaScript file and then I want to say document.body.appendchild script so in other words this is kind of some boilerplate code that can basically say any I this just a point to a different javascript file that's gonna have all this other stuff and it tons and tons of code and then just load that and execute that code whenever the bookmarklet is is trigger so this is actually what I wanted to get this right and hopefully I got this right this is what I want to go in here and this is going to be a little tricky to make happen actually what I'm gonna do I'm gonna do this here is now what I'm going to do is I'm going to just put this all on one line there might be a way for it to account for line breaks and stuff so I'm gonna take this now and I'm gonna put it in here let's see if this is really gonna work I didn't close the paragraph tag so let's see what happens here so I am now going to refresh this page I'm going to delete this one up here if you can see that I am going to I'm just gonna like click this okay air for for file not sound so I think there's a look a so there's a little bit of an issue here which is that and I'm gonna get to this if you actually need to host your JavaScript file somewhere and I have one that I already made and hosted somewhere let's see if I can get the one that I so this this won't really work in a sustainable way but what I can do I wonder if it doesn't like the whitespace either but I think more likely right what I need to do is just say this because what I want to do let's just make sure this is the right URL for that javascript code it is there's that JavaScript code of that URL so that that should allow it to point to the actual URL where that JavaScript code is hosted now what I'm gonna do is click this oops I made a really silly error I completely forgot that I need to have this say JavaScript at the beginning just miscellaneous JavaScript code in that URL is not gonna do any good so this has to say JavaScript sorry about that all right so let's try it now I'm gonna click on this bookmarklet and it made a kitten and we see the console log perfect so what I could do is I can now drag this up to here I could go to like my tutorial page I'm now on my tutorial page I'm gonna scroll to the middle somewhere where there's a bunch of paragraphs I'm gonna click the bookmarklet and all the paragraphs now say kitten yes so this is the basic idea of making a bookmarklet what you need to do and it's obviously a little trickier than I thought and you can see actually I actually just copy pasted the code for my tutorial but here it is right here I can just basically all I need to do is have this boilerplate code that points to a JavaScript program that's hosted somewhere and then what it does is that JavaScript program does something parses the web page changes them stuff anything is possible there now there's a couple things I want to mention about this browsers browsers love love love love love to cache your stuff so if I don't know if we're gonna if this is gonna happen but let's see if we can make this happen if I change this now to say puppy right and I go back to and refresh this page and click the bookmarklet like does say puppy so it worked but I've definitely been in a situation where I changed the code and the bookmarklet didn't actually update when it when I when I executed it so way that you can get around this I actually have it here in this tutorial so I'll just come in you to add a kind of arbitrary URL argument which is like the turn date and time which will force it'll make the URL appear different to the page that's loading the JavaScript code and will force it to reload so I'm gonna leave that out of adding that in but you can when I publish the code for this example I'll include that as part of the code now what I've shown you so far it doesn't really do you any good what I least what I'm going to do is I'm going to show you this is actually a piece of JavaScript code that's basically the same thing that just takes all the paragraphs and changes their background color to some purple so the way that you really want to do this is you want to host your JavaScript code somewhere permanent and then what you want is for the bookmarklet to reference not like referencing localhost is no good it's gonna work on my computer but you want to reference a URL that's actually out there somewhere in the cloud the nice thing about this is as people use your bookmarklet I mean there's a there is a sort of security question here you can change your bookmarklets code and they don't have to reinstall it because the the actual code that they have in the bookmarklet is just pointing to another javascript file and that javascript file can be updated ok so maybe I'll come back and do a coding challenge over but so sending your creative bookmarklets that change images the kittens or puppies or rainbows and unicorns or whatever and all sorts of unserved more creative ideas than what i can think of right now but I'm gonna now move into Chrome extensions we can do I'm gonna start by making a Chrome extension that does exactly the same thing but with this kind of code that alters your view of a web page in a Chrome extension there's going to be a lot more possibilities of what you can do beyond that ok so thanks for watching this bookmarklet tutorial and I'll see you in the next one