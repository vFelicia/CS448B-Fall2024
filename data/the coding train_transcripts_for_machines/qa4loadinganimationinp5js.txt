welcome to another Q&A video today's question comes from our Noah pull up our nose question in a moment but this relates back to a video tutorial I recently made about how to program your own loading animation in p5.js so here's my loading animation that I made in that example spinning spinning loading bar loading bar loading bar loading bar and so there we go everything's loaded and you can see that this this particular sketch was loading 10 sound files in the background so Arno submits a particular piece of code and this is our nose loading animation which I love it's a nice oh it happened so fast not enough to load but you can see these nice oscillating rainbow colors and this thing pops up I have our nose code right here this is my code my loading animation which if you recall from that particular example there is a function which receives a file named truckloads that file and has a callback and then counts if all of the songs are loaded and once all of the songs are loaded boolean variable is set to false and then a realist end drawn in draw so let's look at how the code is happening in our nose sketch so you can see there's a very similar thing going on there's a load audio elements function ah this is nice to see a load image elements function so there's both a callback for audio files and a callback for images and then you can see all of the songs are loaded all of the images are loaded and then there's some other stuff and then you can see what's being drawn based on whether loading is true or false ok so let's take a look at we see that this works let's take a look at the questions now so I'm going to go over here and find these questions ok how to use the file in the draw function I try to assign a var to target a specific image in the array but I didn't succeed okay so let's see I shouldn't look at the look and do distracted by your live chat ok so let's take a look at the code again and see what's happening so so so let's look at the images the image is being loaded are any I dot PNG so let's go oops I want to come here and find the code here let's look at this folder ah so this is my this actually comes from one of my other examples which I plan to do a video tutorial about where this like stick figure example so let's just say for example I wanted to display one of these images in the canvas like number 10 for example so in theory all of the images are in this images array so in draw and I'm gonna actually just comment this out this is the nice crazy thing that and and show you let's just try image images index 0 0 0 comma 0 so let's just see if one of those images will appear and we'll go back to this one loading loading loading loading loading up error cannot read properly ELT of undefined so what happened so let's take a look let's see if we can figure this out is that images array it's empty why is the images array empty so something is wrong with this code and guess what we're gonna do some live debugging on the air ok so let's take a look there is an array called images it's empty here Wow look at this so this should be what's missing here is in this image loaded callback right the callback is automatically passed a reference to the p5 dot image object that was loaded so this images dot push is the correct call to add something to an array but we just forgot to add that image itself so now if I run this again we should see once everything is loaded you can see there it is the image the image itself now interestingly enough the loading animation is still there let's see if we can look at the code and figure out why the loading animation is not there it's still there so where's that loading animation drawing I wonder I wonder if our dough is watching let's I don't see where that's drawn is it like us I wonder if it's like a fancy CSS thing or something so let's try I have a feeling that let's do this background 51 let's run it again yes okay so that loading animation is actually some maybe it's like a gif or something else that's on the page otherwise it's not actually part of the canvas so you can see once they've loaded and I covered it up by the way let's just wash it let's let's since we're here let's make a little animation do its little animation thing and so I'm going to create a variable called index and I'm going to set that equal to zero and I'm going to say images index and then I'm going to say index equals index plus one and I'm also going to add a little trick here I'm gonna lad the add the modulus operator to say modulus the length of the array modulus is the remainder of division so let's say that array was of length five we would get 0 1 2 3 4 then 5 modulus 5 would be 0 and 6 modulus 5 would be 1 right because 6 divided by 5 is 1 remainder 1 so that modulus makes it 0 1 2 3 4 0 1 2 3 4 it's up for the array is much longer and we can run this now and everything is loaded and we can see there's the little animation of the person walking next you can screen cap this and make this your animation in your program okay I can't believe I'm doing this ok so alright so we fixed our nose first question which is that the images were just not added into the array ok Oh Arno YZ Washington says it says I use CSS to make the loading animation great so that loading animation is there uhhuh hello Arno this is perfect I'm so glad that you're watching because I'm answering your questions live this is what I always wanted to do okay I mean I guess that's what I really what I wanted to do was I don't know what I never mind let's get let's Mike let's let's not get into my childhood dreams that have all come and gone but perfectly happy doing this okay if you need to load several images sounds that have different names how do you preload them okay so I think what this is asking and Arno is in the chat so you can let me know but I believe what Arno is asking is so let's look at this so what if what if you don't happen to have all of your images numbered like this you know you have an image cat dog turtle Nana T Hedgehog whatever dot PNG jpg so all the images have different names so I don't have a great answer for this on the one hand and an R know in the chat let me know if I'm answering this incorrectly but you can see how nicely it works to load all the images in a loop but you can certainly do this you know on the one hand the answer to this is you know Mouse PMG just calling this a few times you know a hedgehog and yellowtail you know I'm thinking about starting to give an interesting bird cat bird whatever so so this on one hand you could just sort of line by line load your images the on the other hand another possible thing you could do is just create an array of all the image file names and this could be in your code like this and then that is something you could loop through and load them and this in fact could come from a data file so you could have a JSON file that has all your image names in it and you just load that JSON file and then load the images based on what's in that JSON file and certainly you can read a directory of files if you search they load everything that's in this directory now that unfortunately however will require serverside programming because you can't do that from javascript in the browser now if you're in processing which we're not you know processing has is kind of a desktop application development you could just you know open a file open a directory and list all the files you could you something like no chance I'd certainly be opened at some point making a tutorial to show you how to do that okay so that I think our know hopefully that okay hopefully that answered that question okay so we're done with question number two and now we are aha as you will see in my sketch I have two different functions to load the images and the sounds because I didn't succeed in mixing them together in the same one is there any way to load every sort of file audio image file etc in the same function this is great question so first of all you know from my point of view you know I'm writing a program and I got a load a lot of images and they got a little lot of sounds big deal I have two separate functions it actually keeps my head clear things feel alright in the world it looks nice it's sort of tidy and organized fine you know because I don't have fifty thousand different kinds of files it's no big deal to have two separate things I'm using images and sounds in a kind of different way that said it's an interesting exercise to sort of think about what might be possible so I don't honestly don't know off the top my head kind of where I'm going with this but let's take a look at the code and see let's at least point out what's going on here so what Arnaud is asking about and let's see if I can remove some whitespace make things a little bit smaller so we can kind of see so you can see here there is a lot of duplicate code there's load audio elements which is and you know I might say I might take a little quibble a tiny broom with the name of this function because technically this function is loading one thing so it's not a function that you're say passing an array to or a list of things so I might rename this load audio element I might rename this load image element but I think what what the question that we're asking here is could I just write a function called load element and have it somehow know what to do whether it's a sound or a sound or image file and certainly we could write so one thing we could do is just add another argument you know I could based on the file name detect I could do some string parsing and say oh if the file is name dot mp3 then do this thing if it's name dot PNG then do this other thing but let's just say I'm gonna add another argument to this function called type and then I could do something like if type equals sound then I would say load sound like this else if type equals image and again I could just read the file directory the file name itself image loaded so now we have an interesting question though I still have one this would be load image right so now the thing though is like do I really need a sound loaded and an image loaded function so what if I just how could I combine those file loaded file loaded and what happens in these fun you can see that these two functions image loaded and sound loaded look mostly the same so what if I took the interior of that code right up here and wrote a function called file loaded and and I'm just gonna write in in here I'm just going to call it media because that media might be an image or it might be a sound and then I'll do the same exact thing here if type equals sound then what do I want to do I want to check the sound counter you know again I could actually just have one counter you know I don't need a separate sound counter actually I could just have one counter if counter equals total songs plus total images then loading sound I'm gonna you know sound and both of these things are true and I could just have I could just have one loading right I'm just gonna change this back to one loading right so now and not so here this comes out of here so for everything that's loaded I move whoops I move up one and now I'm just checking if the type is sound then put the media in the sound array else if the type is image then and what is it I assume the array was called images images push the media so you can see this is a kind of a nice this is a nice combining of those two functions I've now a generic load element that just takes a file name and a type and so then in this case I don't need a separate load audio element I don't need a separate load image elements and here I can just say load element and I can just say here sound as another argument and here I can say load element and I can just say image as an argument and then here I only have I don't need this anymore right because this should say loading is false so if if they've it's loading at the beginning and if everything is loaded then loading is false and so now I just have a single thing to check and I should be able to see that image so let's see if I might have made some mistakes but let's see if I got it right look oh wait no I'm on sorry I'm on the site okay ah so what a counter is not defined okay so I added this idea of a single counter instead of two different counters but I forgotten I don't need these ival so I need to define that at the beginning so let's see and it worked so you can see I was able to successfully take two separate functions a function that loads sound and a function that loads images and combine that to a general load element function whether I've really made the code better or not you know up in the air but as an exercise you hopefully that was helpful to you to see how that works okay I believe I have now answered all of these questions and so hopefully our know this was useful to you hopefully it's useful to other people have watched this video and again if you're looking for the code for this particular example look in this video's description which will link to our nose github repository and then I will as well publish the Revised Code to the coding rainbow code or maybe our no wolves up used by revised code in that github people who knows the code wherever it is it'll be in the video's description because I'll figure it out later okay thanks for watching and I will see you in another QA video ask your questions someday please thanks bye