ah hello welcome to a coding challenge this coding challenge is called the moth wings butterfly wings coding challenge I'm going to look at how could we use what would be a technique to generate algorithmically the wings of a butterfly or the wings of a moth so this is inspired by a project by artist named Katy rose Pipkin I will include links to information about their work in this video's description Katy rose makes a lot of kind of generative project they make Twitter bot various other types of things good look on their website so this is one of my favorite projects it's called the moths generator and what the MOC generator does is it algorithmically tweets every once in a while a new MOC it gives it a it creates an image of a boss and it gives it a name and you could scroll through the moss trap moth generator on Twitter so what I want to look at is just you know there's no there's no way I'm going to reach the level of sophistication and creativity that Katy Rose did with this project but I would at least look at what could possibly be a technique for designing algorithmically the wings of them off so that they're different every single time and let's see what we can do so one thing in terms of making a wing pattern is symmetry so whatever I do to create this algorithm on one side all I need to do is flip and near that on the other side and the technique that I think I will attempt is using polar coordinates so I have several other videos where I've done this and I'll link to a particular tutorial about polar coordinates in this video subscription but the idea here is I could use some very simple math to draw a shape that looks like this calculate all these points right because what I can do is I can think of every point as some angle the Greek letter theta for an angle relative to the xaxis and some distance out from the center R and I can determine this this point XY by saying x equals R times cosine of the angle y equals R sign of the angle and I encourage you to look at the link to a video about that that particular mass function in more detail if you want to go and find out more but right now I'm just going to use this formula now what if instead of also theta is something that is going to increase over time what if our changes for example as I get down here are becomes less so I don't know what that's going to look like what they are that would kind of give outward wings so even we could even just try that at first but also what if I were to use something like pearly noise some randomness to kind of offset these points to give it some other kind of pattern so let's just give that a try and see what happens Here I am okay so now we want to begin programming so I'm going to go over here and I'm going to I'm just going to do this in setup and I'm at this point I'm not going to have any animation Oh that'll be interesting to see act let me I could animate it in some way so let's just first draw one side so what I want to do is say bar I'm going to start with it sorry I'm going to do a for loop and I'm gonna use a for angle I'm going to go from this is a little bit tricky here because if I want to go from up here to down here or from down here to up here typically this would be 0 and this would be PI divided by 2 or radians of 90 degrees so I think what I want to do is go from negative pi divided by 2 to PI divided by 2 so let's do that so I'm going to start at negative pi divided by 2 and I'm going to say a goes all the way up to PI divided by 2 and a increment by some arbitrary amount point 1 then I'm going to say VAR x equals R times cosine of a bar y equals R times sine of a and what is our going to be let's just make R equal to 104 right now then what I want to do and I guess what I'll do is I'm going to use the translate function to offset everything from the center translate 100 100 and I probably should say a width divided by 2 and height divided by two so everything is relative to the center because you know a canvas right here if if this is the canvas zero zero is actually by default here so this thing that I'm drawing would be sort of half off and over here so I want to translate zero zero to the center so everything's relative to that then what I'm going to do is I'm just going to draw a point I'm going to say stroke 255 I miss a point X comma Y stroke weight 240 so let's just see what I get there we go so I now have that particular path that's pretty good and I could do something where I say you know I don't know start R equal to 100 and then I could say you know for every point R you can see yeah kind of know what that did that's not really like a wing but it's something so it's almost like the other way around in a way that I want to do it but the point is I can start to vary our okay now I want this to look more like a wing so what I'm actually going to do is I'm going to say begin shape at the beginning and end shape and then instead of drawing a point I'm going to say vertex X Y what that's going to do is going to make a continuous shape along that path so you can see that now it has a fill maybe I don't want that I don't know if I want the stroke weight to be 4 let's take this stuff out here I'm going to say stroke weight 1 and then I'm gonna just you know just to get just to sort of see that fill I'm going to give it sort of like an alpha e fill and we can see there we go so there's my wings okay we're done thank you very much good night we got to make this a little bit better so I got to think about other ways that I could vary what that r is over time so one thing is perla noise oh this is a video ideas perla noise well maybe you're watching this video there's no idea what pearling noises so this video is now going to be inserted into the preliminary playlist so if you are wondering what Perlin noise is you can check this videos Christian and I will point you to a whole set of videos that describe it the algorithm what it is how it works in more detail but the way that you might understand it simply just for this video is it's an algorithm that allows you to pick random numbers it is a random number generator so to speak but those random values are smooth meaning the number you pick is related to the previous number you picked and so if I wanted to create some kind of smooth randomness like the borders of a borders of the rim where the edges of a butterfly or moth wing this could Pat p'raps me an algorithm that I could use okay so let's think about how we could do that so using Perlin noise I need to look at Perlin noise values over a over an offset a period of time or an offset along a dimension so I'm going to create a variable called X off for X offset and this was again explained in my prova noise book videos a bit more the pause go watch those would come back I'll stop saying that I'm going to say X off plus equals 0.03 or 0.1 I'm just going to pick a value and what I'm going to do is I'm going to say R equals I'm going to get rid of this R minus minus thing which was kind of unnecessary I'm going to say R equals so first I'm gonna say var and equals noise of X off so the noise function always gives me a value between 0 & 1 generally clustering around 0.5 sometimes more sometimes less moving randomly that sort of thing so what I want to do now say are R equals map n which has a range between 0 & 1 I'm just going to say between 50 and you know 50 and 125 so let's look and see what I get now now I'm getting somewhere I look at this I kind of got this strange curvy like thing so let's play with this a little bit more let's let's look what happens when I increase the offset faster I don't know if that's more or less like I'm off rig also like I'm going I'm incrementing by point one for every angle it probably makes sense for me to kind of have a bit more resolution there so now that's a little bit crazy so I can go back and move a little bit slower through the Pearl annoy because ah look at this almost right I wish I had seeded this because I almost thought just like Buddha perfect to me look I kind of have a weird shape of wing of Allah right now already so there's more that I could do to this but now one thing is I slowly flip it and see the other side how do I do that well incidentally here's the wonderful thing purling noise is deterministic meaning it's always going to return the same exact value for the same x offset so there's no reason why I couldn't just go whoops and do this exact code again and I'm sure I could do this without copy pasting it by like having an outer loop around the inner loop but just for the sake of argument here I'm gonna just literally copy paste that code again but change the range of angles so what I want to do now is go from not strong negative PI over 2 to PI divided by 2 I want to go from negative PI over 2 to I guess if I'm going this way I want to go to negative 3 PI over 2 is that right I think that's right because I'm continuing to go in the negative direction and I you know so let's let's try that I'm sure like another way to think about it that would be easier but let's go from negative 3 oh no negative PI divided by 2 all the way to as long as it's greater than I remember I'm going in a negative direction now negative 3 times pi divided by 2 and you know this is probably a ridiculous way to write these values out but it's good it's fine and then a minus equals and then exactly the same code there we go now look I have exactly neared it now I could make it just one continuous shape which would make a lot of sense to do that and also I wasn't thoughtful about designing it in such a way that my incrementation value is exactly going to get me the whole way so let's actually fix that because it's sort of like we want at least feel like close at the bottom so I'm going to say var d XD angle like Delta angle da for Delta angle equals a PI right each side of the moth or the butterfly is PI pi divided by some amount of points that I want I don't know what makes sense 100 points so that's like the incrementation so I want to increment by da and then down here decrement by da and let's take a look so this is with 100 points huh still didn't get all the way to the end do I do I need to say greater than or equal to maybe less than or equal to because I want to get one more point in there look what did I mess up oops sorry huh I'm still not getting this closed for some reason so let me try a different tax actually what I think I would like to do is go all the way to the bottom and then just keep going around so I make it one continuous shape so let's take out this end shape here and this begin shape now this is not going to work because it's going to go all the way to the bottom and actually what I'm going to do is do this mapping just between 100 to keep it more on the screen it goes all the way the bottom and it goes jumps up to the top and then goes all the way around here so what actually to do is when I get to the bottom is to keep going so in that case and I actually could condense this into just one loop but I'm going to say what I'm going to do is I'm going to start at pi divided by 2 and I'm actually going to go all the way to positive 3 pi divided by 2 I'm going to keep going at the bottom right and then a plus equals but what I'm going to do is have offset not get reset but I'm just going to say minus equals so the off the noid values are going to be going up up up up up up up up up up up up up and then to mirror it and we could go back down down down at end and ended down all the way to the other side I think this will work whoops only got half of it what did I miss here a starts there a is greater than 3 Oh RIT lesson sorry less than and then going up there we go so now I have it as a perfect symmetrical shape I can refresh it and I can get the whole bunch of different if I really made moth wings like kind of made and I really would need to think about how to make this more mullick now I think I have a kind of suspicion here that something I might be useful time do you recall I don't know why you would that I recently made a video about polar roses math so I'm going to look for this Wikipedia page this is a particular algorithm to create these petallike formations on almost like a flower pattern how could I apply the sort of Rose formation into the mod pattern okay so let's think about it so if I were to do the polar rose literally I might not use noise at all and this is by the way very silly now that I have these two loops doing the same thing I absolutely should condense that into one loop and just have noise the noise change at different parts of it but I'm going to just leave it kind of this way for right now I could say a cosine cosine of two times the angle just to like try something times you know a hundred just going to kind of put that polar rose code in there for a second look and come back here and look what I get I get that kind of Rose formation but what if I combine that and by the way what if I combined that with you can almost see if you look at it diagonally that looks like almost like a butterfly flapping its wings what if I put the noise in with that so instead of multiplying a times 100 as like our what if I multiply the result of the noise function and then I get something like this now ah in the chat I'm seeing the suggestion to do sign so let's use sign instead of cosine and there we go and now it's on its side but you can see that's kind of getting us somewhere what could I how could I rotate that well maybe it's because it's symmetrical top to bottom now though the weight is so I could do like right now just so we can like look at it differently I could just say rotate by pi divided by two there we so look at this and now I could kind of play with I don't know what the number of points is or what this X so this should really be DX just for the noise value I'm going to just put the variable in here and I'm going to put this in here and now I'm going to refresh it and I could try different values for different things like move through the noise faster move through the noise more slowly whoops move to the noise more slowly I get something much more I could I could move more slowly but have like you know many more points and now I get something good so there's a lot of possible ways I could start to explore this now one thing I would like to show you before I go is what's really interesting about curling noise is we can always add we just get it to some baseline we can always add some sort of additional dimension so right now I'm seeing the Perlin noise values for one dimension but offset of the are it's like even though it gives a twodimensional drawing I'm picking the noise values over a singular dimension a way that I cook there's lots of interesting animations but in color and other design videos I could add to this but what if I just wanted it to kind of like wiggle in some way how can I have change the Perlin noise values over time well one way to do that there's a lot of different perches I could take but one way to add the second dimension so the noise values that I'm picking the second dimension is actually frames of animation so I get a set of noise values and I get another similar soda noise size another similar set of noise values so what I'm going to do here is I'm going to add to find R twice somebody in the chat I mentioned that I'm going to take put all this stuff and draw so now I have a draw loop same program but it's drawing it over and over again I'm going to add a global variable called Y off then set it equal to zero and in my noise function let me say N equals x off Y off at second dimension with pick values the second dimension being not a twodimensional space I've done that in other videos where the second dimension is actually like pixels in two dimension I'm still asking for singular values to offset the arcs but those odd is going to change the second dimension is time here then so every frame I'm going first let's just I'm going to add me add this in plus point one I'm going to comment it out so even though I added a second dimension I'm getting just this but now I can have that change over time and you can see look at what I've got here this kind of crazy weird animation of those values changing so now I don't know what this is exactly but this is my creation of butterfly wings lost wings animated using Perlin noise and some trigonometry in p5 and there we go I kind of like this I'm really excited and curious to see what you the audience the viewers make of this hopefully you can make something more creative because think about color get think about design you can add more features to it maybe you could actually try to see if you can make it so that the wings look like they're waving and flapping share with me what you do on Twitter in the comments all that sort of stuff and just looking at the chat and see if I did anything terribly wrong it wasn't on its side once I use sign so I've got some there's a lot of things you could add to this to make it more efficient right condense those loops figure out about the orientation better but I'm going to leave the code as is and those things as exercises for you to do to make it better x x by the sine of frame count okay wait a second I'm just getting a comment from C Manny in the chat let's this video really should be over so you could stop watching it times X by sign to the frame count this here sine of frame count again I really hate that I hadn't doing all this twice sign up frame count now let's just do this whoa okay so frame count how about times 0.01 so I really should have a counter another I could use Y offset you know I could just do I'm going to use I already have Y offset so I'm going to use Y offset there we go look at it flapping what it looks like is ready and maybe I wanted to actually what I want to do why because I wanted to sort of flap along its xaxis I think there we go we've added something here so what kind of crazy monstrosity has that's really flapping but you get the idea we added a little quick extra feature there so you can see we've got flapping moth butterfly wiggly jiggly wing things in p5 with Perlin noise with trigonometry and I can't wait to see what you make of it okay so I am going to leave this so many more improvements I could make I have to resist and I'm going to leave this video thank you for watching I will see you in a future coding challenge enjoy have a great whatever it is day evening morning afternoon give somebody a hug smells the butterflies that's not a thing roses flowers anyway appreciates the nature it's a wonderful thing okay good bye