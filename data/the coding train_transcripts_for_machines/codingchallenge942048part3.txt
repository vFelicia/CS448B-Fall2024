part three of my 2048 coding challenge so what am I trying what do I got here I actually have it's very hard to follow without animations and not maybe I'll come back and add animations in another part but I have the full game mechanic available to play right now so the things that I want to add in this video are number one score number two a test to see if I've run out of moves to say game over and number three I want to be more thoughtful like if I could ever play it well enough to get to 128 she would see that it wouldn't fit so I'm just like randomly making moves right now so I need to deal with the font size to make it more dynamic so let's try to do some of that stuff so according to the game rules I'm going to say let score equal zero whenever you combine two tiles your score goes up by the value of that combined amount so we can say here wherever I have my combined function and again this would be so helpful to organize this so right here whenever I combine if a and B I can say score plus equal a plus B or and why don't I say row index I just for the sake of so I added those two the score goes up by that much now let me just really really quickly in the body add a paragraph ID score and again I'm not going to be this is a very very early crude way of doing it but I'm just going to in using the p5 Dom library in the draw function I'm going to say sketch I'm going to say select score dot HTML score so now should see there's the score okay let's make that score a little bit bigger and I'm just gonna say style I'm just gonna put it in line style here style equals font size thirty two point that should do the trick there we go and now okay so now I should have the score I'm pretty sure this is working correctly as it's supposed to so now I have my score all right boy am i doing great so I added a score that's wonderful now I need to add a check to see if I finished playing the game so how do I do that so in the main code and by the way this is this is the other thing that's terrible I don't want to have a draw loop here I should really just be I should be update canvas I should in setup oh look at all this code this is horrific I should say no loop and again I'm gonna need to animate later so I'm gonna need the draw loop back but just for right now in keep rest where I say if the game was played I'm gonna say update canvas so now and I should to it at least once at the beginning update canvas so now at least performancewise I'm not like spinning the browser sprinting that using the processor over and over again to redraw the same thing okay so now I need a check when I've played I need to right here I need to sue is game over so I'm going to write a function I'm just going to put it on the top right now function is game actually we kind of know here's the thing the game is over if there are no numbers next to each other that are identical and the board is full so there's no zeros so I can write a function I will write this function is game function is game over and I'm gonna say I'm gonna do a loop I'm gonna get my double loop which I have everywhere and for each spot I'm gonna I'm gonna assume game over is true and I mean for each spot if the grid I J equals zero then the game is not over return false so if there's a zero the game's not over because I can move if grid I J equals grid I J plus one so I could check everything to the right and just go zero through three but I'm gonna have to check the four for a zero I think if it's equal then something can be combined return false if grid I J equals grid I plus 1j j then also the game is not over so the game is not over and really so the game is not over if there's any zeros or and so I'm gonna check every single spot but I'm only gonna check the edges if I is not equal to three and there's two that are the same or if J is not equal to three and they're to the same so this should tell me if I get through every single spot and it's not equal to what's to the right of it or to blow it or it's not a zero then the game is over and so if I get to the end I'm going to say return true I don't actually need this boolean variable at the beginning this is my ridiculous function now to determine if the game is over and where did I check it here so I'm going to say let game over equals is game over and if game over console dot log game over okay let's see if this works up sketched a test line 13 has an error if J oh I'm missing a curly bracket somewhere I'm in extra parentheses there we go okay here we go let's take this again line 21 I have an extra bracket here now okay let's try to make the game over I'm just gonna rely on my random whatever there we go uncut type error cannot read sketch such as line 13 property 0 of numb undefined so I got into a funny place here so I guess now the game is over but I got an error when the game ended if J is oh whoops look at this I got to be checking J here and I here I did this in like a weird order I want to do I first and J second so that was a mistake what I should I should build in something to test it without having to like go crazy playing it but you know eventually I get to the game over game over okay it actually tells me the game is over because there are no more moves left okay now we need to let's add a little bit of color and change the font size so where do I where do I draw the text here so text size should be actually a function I'm going to map the value which goes between 0 and 248 and when it's 248 it should be 16 point and when it's 0 it should be 64 so it's bigger maybe it's like 16 point when it's 2048 so let's try this why is the font size not changing okay so this was kind of a nice idea but now I'm realizing that basically I really need to shrink it exponentially as it goes down so I really should take like the log of the value maybe I could and then that'll go from zero between the log of zero and 2048 will this do the trick for me to dip logarithmic scale yeah you can see it's getting but ultimately yeah so this is better using logarithmic scale it's a little bit nonsensical because really I should just have a better idea like let's get rid of this for a second let's just let's just convert it into a string so this is be making a string from the value and then I want to get the length of that string and then the font size text size should be the I can make an array right sizes equals okay so if it's the if it's one I want to be 64 if it's two I want it to be 64 if it's three maybe 32 and if it's for 10 24 to 48 let's make it 16 so now I just want to say sizes just based on that length so I could just see how long is the string and then pull one of these from the array based on the length is now an index into that array and that should give me hook to play it for a little yeah 16 which is 200 this it would be 0 so length plus or minus 1 apologies for that so now if I get to 3 if I have to get to 10 you're gonna have to trust me on this this is gonna require a lot of editing so I'll come up back in a minute oh I'm back because I finally got a 128 and you can the 128 is smaller oh boy you could do so many better ways of doing that okay so now you know obviously I couldn't map a color to the background I could do animations but this is really it I now have essentially the full game I have a mechanism for trying to figure out you know I could map a color to each number easily by having some kind of lookup table but I it's some point maybe I'll come back and try to animate this but please please make your own version of this improve it this is the end of this coding challenge I have made 2048 it's not what it's called goodbye