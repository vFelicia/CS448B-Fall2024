and welcome hello my name is dan i am uh here live from the school for poetic computation on thursday morning around 10 in the morning on march 31st tomorrow is april fool's day um so i'm going to be here for an hour or so um doing some tutorials for you my glasses are quite dirty i should have washed them and the topic that i'm going to explore is uh video and pixels in p5.js that's my plan i have a couple things i want to do before i get to that i've got a live chat going on both twitch and youtube i believe so i'm going to check that see if there are any questions before i get to any of that i would like to know if the audio is okay a couple days ago i had this problem with the audio crackling so i would like to know if the audio sounds good the picture is good there's also this white board over here that i might use at some point so let me know i still am working out the lighting i don't really like it so far but let me know if this is at least uh sort of legible um and in focus uh and i'm back over here i'm gonna look at the chats now to see if people are saying that things sound okay less delay here and audio is good that's good to hear thank you very much uh audio is fine today awesome okay that's great um let's see let's see what's going on here we've got uh i don't know where my um admin panel on twitch is but that's okay uh i'm gonna look over here on youtube and there are seven people watching okay so um great like last time when i did this i spent like 45 minutes just like working out a technical problem so i'm just going to jump in today so actually the first thing i want to do um is i want to use i've been using um this thing that's behind me over here the p5 editor and the p5 editor uh allows you to type your code and run your code and see the result in a browser but i want to work today in using a separate text editor sublime text and i want to just view the output in the chrome browser itself and i want to make a short video that talks about how to do that what it means to run a local server and also how to use the chrome developer tools in the console so i'm going to make a short video about that which will then allow me to use those tools in my other videos about video in p5 that's my plan um so let me a couple things though actually uh let me see if i can find i should have done this in advance but i i have a license uh i have a license for um sublime text and i want to uh sublime text license i want to put in my license so that i don't get those popups license key oh that's not right oh boy i'm never going to be able to uh all right i guess i'll worry about this later or maybe i won't worry about this later i'm going to do this now okay hold on a second i'm going to unplug this for a second uh i i just don't want to uh my email to i have to look up the license in my email and i don't want that to be broadcast live usually i don't care about this sort of stuff but you know who knows who's privately emailing me and doesn't want their name suddenly on the screen so i'm now i'm going to narrate what i'm doing here i'm looking at my computer and i'm looking for sublime license and if i search for that sublime license key 2012 is that when i purchase it let's see if that works and then i'm going to open up sublime and i'm going to go to preferences service license help purchase license enter license let me paste that in there use license thanks for purchasing great okay so that's done i can log out of my email and i can plug this back in and there it is and now i've got sublime over here and i'm gonna uh close this okay there's lots of extra stuff on the desktop here but i think that's okay i need terminal also open here the couple things that i want to reference i'm going to open up terminal um how's the font size let's make that a little bit bigger whoops and there we go that's probably pretty good move that over here the other thing i want to reference in this tutorial i'm going to make is i'm going to look for p5.js local there's a wiki page p5.js local server one of these days i'll have my computer positioned in such a way that i can look at the camera but i'm looking down it's particularly low the laptop in here i can probably get it a little bit higher you could see you can see all my lovely stickers uh okay so i want to reference this webpage where am i standing right about here um and so if i move this here and do this hit refresh you can see this here okay so now i have terminal oh and i have sublime let me make this window like this okay and now okay so that's good now the other thing i want to do is just make a dummy sketch so i'm going to do that i'm going to oops i lost ah don't disconnect computer i'm going to just check and see if anybody's asking anything somebody's reporting a slight little jump in the sound every now and then anybody let me know if you're having um any issues no i didn't wait four years i i what i do so the issue the reason why i had to enter in my license key is like the least interesting thing i could ever possibly talk about on a live stream but the reason why is because i created a new user login to this computer so i could configure the screen the way i want it for tutorials which is separate from my regular login and so i just never licensed sublime in that login okay so i want to hide the sidebar and i want to do this on the desktop as a test sketch and let's say create canvas 320 240 and um background zero and line x mod something like ellipse x uh 120 sorry i'm just gonna put something in here and our x equals zero and x equals x plus one if x i don't know i need a better default sketch so this is just a sketch that does something oops oh it's running in the browser already uh off okay okay great okay so um great i think i'm about ready to go let's see who we've got here is anybody here um sound is fine very minor um okay 11 people good morning good morning time for some jumping jacks everybody stand up do some jumping jacks with me that probably did something weird to your sound um okay so i'm getting ready i'm um to this morning the topic will be a video recorded video live video in p5 the first tutorial i'm going to do is simply about um running a local server and editing your code in a separate text editor um because um and looking at the chrome developer console i've got my whiteboard over here which i will erase i don't think i need it for this video and i oh oh i'm wearing these headphones which is totally unnecessary good thing i noticed that it'll be weird to record a whole video wearing headphones um i was testing the audio which seemed fine let me give myself some more slack here i don't know what i'm doing with this um okay let's get started just i'm gonna cycle the cameras so they don't turn off automatically and now here we go okay so this should be a short five to ten minute video tutorial lesson about what i said it was gonna be about okay let's just get started i'm gonna do the opposite the other day i took like 45 minutes before i did anything i'm just going to try to get going and here we go hello in this video where should i stand what do you think in this video i'm going to look at how to work on your p5.js sketch or really any html javascript css combo thingamabob um outside of in any old text editor by running a local server on your laptop now what does that mean actually i'm going to use the whiteboard for a second so let's just think about the internet and the web and all that stuff for a second so you are making a web page and you have a laptop and to make your web page you're maybe editing an html file maybe you have a css file maybe you have a javascript file and you're editing all these files they're just plain text files and you're editing them in some text editor so the text editor i'm going to use happens to be one called sublime but you can use any text editor list of text editors i would say now if i could think of them but you i'll put some in the comments and you can write some in the comments your favorite put your favorite text editor in the comments so but i'm going to use sublime text so you're editing these files now one of the things i'm going to show you is that you know another thing that you're going to run on your laptop is a thing called a browser and your browser actually has the ability just to open those files so you could ask your browser open the html file and you're going to see that the result of that file in the browser are going to fix the mic here in the middle of this video hold on i can um pause um it's fine you know what i'm gonna start over i don't need to start over i'm just gonna fix the mic uh and i'll edit it together i keep doing that um what's a better way i don't know why all right maybe i should just suck it up and button this shirt where am i come up like this you know what i should do is probably like loop it and then use a piece of tape there are all these professional ways of doing this i'm getting a text message or no just somebody just a notification on my phone wait okay um i think that's gonna be better with the audio now let me go back and just see um um let's see what's going on here the mic was fine oh thanks i know but it was the i the mic might have been fine um audio wise but i it was like tugging on me and it was feeling weird so i'm gonna uh pick up from where i left off somehow okay edit edit somehow i'll edit this edit edit magic edit so um crap i don't even know what i was like talking about try that again okay the thing that i'm talking about is uh the browser opening the file in the browser okay magic edit so if you open those files from the browser you're going to see the result of those files in the browser now let's think of what's your ultimate goal here the ultimately the idea probably is that you have a server server and you have your server hosting some website you know website.com and ultimately what you're going to do is you're going to take your files and put them on a server so that other people on their laptops and computers or phones or whatever it is can connect and look at your files so by opening the file by opening the html file from the browser you aren't actually doing what the web server itself will do which will ultimately serve up the files so that other people can request them so a better and in fact a lot of things won't work if you just open those files so uh okay i have to keep going i can't start over and erase all this um so um so ultimately what you want to do is by the way like the you know the youtube makes these charts you can look at these charts where you see people drop off and stop watching your video and just about everybody stops watching this video now but for the few of you are remaining i'm going to keep going with this so what you ultimately want to do is run something which i'll call a local server so if you run a local web server on this machine you are more accurately simulating what will happen when you eventually upload your files to a server and everything will look and work and function correctly so this is what i want to show you in this video how do you edit your files with a text editor run a local server so that you can see the result in the file of those files in your browser and accurately simulate the environment that will eventually exist when you publish your stuff to the world and become the person who publishes their stuff for the world there we go okay so let's go back to the computer now and take a look at this so this is actually the p5 desktop editor which you may or may not have used actually does all this for you it's a text editor you hit this run button and it spawns a local server it opens a little browser which shows your page but what i'm going to do actually is i'm going to just quit out of it and i'm going to show you that if i go to my computer's desktop i don't know if you can't really see this and i go here i was actually i made i there's a folder called test sketch and in this folder are the files associated with my sketch there's an html file a javascript file and a folder called libraries that libraries folder is where the p5.js library itself exists so what i want to do is now i have something i have a text editor called sublime text you can google it you can find it you can use any text editor you want and what i want to do is look at those files in sublime text one way i can do that is actually just take this and drag it in and now you can see here that i have now have i'm now browsing and looking at those files and if i wanted to edit my code i could look at it right here and now i can edit the code i can actually make the font a little bit bigger and you can see here i'm editing my code now let me make the next point if i just go back here and click on this html file i have no idea what's going to happen it's going to open it in some default browser it might be safari it might be chrome if i open it it opens in chrome and you can see it's working it's actually running but look what's happening up here it's opening it from the file path file users processing desktops test sketch so while this works there are a lot of things that won't work when you're opening it just from the file path itself that only work if you're using a local server running a local server certain things like loading an image file into your sketch for example won't work so while this is okay as a solution a quick and dirty test i personally would recommend never doing it this way instead you want to run a local server so there happens to be this wiki on github under the p5.js wiki which has a bunch of different instructions of different ways you can run a local server on different operating systems windows linux mac apache the thing that i'm going to use which i think is the simplest is you i'm since i'm on a mac and a macs come with python installed i can just run a python local server from any directory i want so what i'm going to do the way i'm going to do this is by running terminal so if you don't know where terminal is it's in the the you know applications utilities there's an application called terminal when you run it it looks something like this this is giving you console command line access to your computer and i can type various things like if i type pwd that stands for print working directory and you can see oh i'm in user slash processing and if i just type cd that means change directory and if i type desktop i want to change to the desktop and now if i type p pwd i could see ah i'm in users processing desktop other things i can do is i can hit the up arrow the up arrow goes to my most recent command and i see it again and now if i'm on the desktop i can run a local server from here and i can say python dash m simple http server so this just happens to be a command that i have memorized but i'm saying i want to run a python program that's built into the macintosh it's called simple http server i forget what the dash m stands for somebody will tell me in the comments i hit enter and you can see ah serving http on zero zero zero port eight thousand what this means is my this computer is now running a web server where is the web server running it's running on localhost and another way of saying localhost is 0.0.0.0. so that's the ip address the internet protocol address the address the numeric address of a computer on the internet and those numbers can become rather important but for us right now we can just think of it as localhost port 8000 being the port that other people can connect to who are the other people they're me so i am the other person and what i want to do now is go up here right and instead of accessing my sketch from file what i want to do is say http localhost now you can see i've done this before on this computer so it's already like prefilling it in but i want to go to localhost colon port 8000. localhost colon port 8000 i hit enter now you don't actually see my sketch because actually i what i now see is a view of everything on the desktop so you can see i have a bunch of other things like i was doing this photo booth um p5 demo which uh has this snap button which allows me to take so this is something i'm going to make a tutorial about in a minute another video watch a video a few videos from now you'll find this one but you can see i'm sort of browsing this is the minimum spanning tree example so i have a bunch of folders with sketches i'm sort of serving up that whole my whole desktop which i can choose to do or not to do but what i'm looking for is test sketch this is the one and i can make it bigger in chrome by shift command plus so now i see the sketch running and i could go back to the code and i could say hey let me change the background to 100 hit save tab over to chrome hit refresh and you can see now i have the new sketch running so this is another way of working outside of some allinone editor environment text editor local server browser but missing piece let's say in draw the draw loop i want to debug the value of x so i'm going to say console.log x now i could have said print line x print line is a p5 specific function that prints something to the console console.log is the sort of native javascript version of that function basically the same thing but if i put that in there and i go back and hit refresh where is it i don't see it no log no console so in chrome i can use something called the chrome developer tools are you excited you shouldn't be maybe you are maybe you should be i don't know so where do you get those view up here under view developer developer tools but i want to go straight to the javascript console the developer tools are this massive thing that has all sorts of inspect this look at that html css style this magic this all i really care about is the javascript console right now i want to see things that are console.logged so i'm going to select javascript console and it's going to appear now it won't necessarily look like this on your computer you're probably going to see it at the bottom you're probably going to see it a lot smaller but what i've done is you know you can you can there's various ways you can like move it around and change the font size you know i want it to be kind of rather big so i can for a tutorial you can see it so what's nice here is you can see there's the result and it's showing me this each one of these things is printing from sketch.js line number eight so if i go over here and see line number eight console.log x so that's great now i can also comment this out and refresh the sketch one of the wonderful things about the chrome javascript console is that it is interactive what do i mean by that i can actually type in the value x the variable x which is a variable in my program hit enter and it's going to show me the current value of x so i can kind of live debug as the program's running i can do other things like i could say x equals 50. getting to the other side of the screen hit enter and you can see that i actually changed on the fly the value of that variable and it moved i can do other things like what if i said no loop no loop is a function in p5 that turns off draw and suddenly it stops looping i can say loop i can do things like just call other functions like if i say create p hello create p is a p5 function that creates a paragraph dom element and there you go hello is right there it's also showing me what's in that dom element and there's so there's a lot more to this and i'll as i make other tutorials that use the chrome developer console you'll see more and more about it so this has been about 10 minutes hopefully this helped you make sense of the world it's a very hard world to make sense of these days and this probably doesn't help make sense of the world but it makes sense of a small part of the world the local server on your laptop with the chrome developer tools i'm sure you have questions um and i will answer them somehow in a way i don't know how yet but in in the comments of this video or in another video um and i look forward to seeing you in the next video maybe maybe maybe not okay thanks very much i'm a hit stop okay um so i'm now still live streaming for those of you but i recorded that i need to edit it together unfortunately uh uh okay let me i'm gonna read through the discussion here for a second to see if i have anything to add uh regarding text editors j edit oh adam from github is a good one probably should have mentioned that note tab visual studio code brackets is good notepad brackets has a builtin server yeah i probably should use all these uh someone says hoping for connect discussion today we'll see if we can get to that uh okay microphone fell off okay m is for oh m is for module probably localhost i thought localhost was always 127.0.0 that is correct i don't know why python is telling me so let's let's let's investigate this 127.0.0.1 that obviously works as it should 0.0.0.0 also works so these are just other ways that seem to work um oops that's funny uh not so funny these are i guess either those work all zeroes are localized okay um let me check uh twitch uh dash m mod run library module as a script terminates option list um okay uh great all right so now that i made that video and finished it i'm just gonna do something i need to rename the files because i get confused later so if you guys won't mind bearing with me here you can't see this unfortunately i have another computer which records video files to disk and what i can do is do i don't know which one these are i'm going to call this a local server one local because i local server two uh local server three okay so i named those files so hopefully those will get saved um and here we go oh wow there's 30 people watching on youtube that's amazing hello everybody okay so um let me take a minute here for all of you watching live to just say say a few words about my kind of overall plan so i keep this uh github gist um i don't know i guess if you go to get gist.github.com shiffman you can probably find it um this is where i keep track of like a list of everything i hope to make um some new some and i have some larger series that i'm hoping to do i kind of don't for some reason i've been shying away from getting i'm hoping next week to pick one of these i want to make some videos about neural networks which i've been afraid of doing but i've just decided i'm gonna there's so much happening in um kind of the machine learning with art creative coding stuff that i feel like i should maybe try to revisit that even though it terrifies me it's not really necessarily area of my expertise i've been working with the raspberry pi in processing so i want to make a few videos about that uh chrome extensions is something we want to do a lot of people have requested node plus p5 so i want to do that i've made a bunch of videos about the kinect and computer vision and i want to do more of those um some other p5.js and sound i want to make a whole set of git tutorials and then i think what i don't know why uh video so one thing that i want to do i guess this isn't really is i think what i want to try to tackle today is video in p5 so let's let me make a list and you guys can uh chime in i'm going to make a list here just for right now um of how i'm thinking of approaching this so what i want to look at is i'm trying to decide if i usually record i'm going to do create capture first i think the live video stuff is a little bit more interesting not more interesting but i kind of like so just basic create capture i did these the other day but the audio was had crackles in it so i'm going to redo them then i'm going to show how to use create capture to do a photo booth with snapshots um then i want to examine looking at pixel array um so i'm in a pixel process um then we'll do like a brightness mirror and then we'll do like a painting uh paint a portrait um from live video um these are all the things i want to do and then i'm trying to think of what else uh the other thing that i like to demonstrate is how to make a like muybridge style um video history you know slit scan is an interesting thing to look at how to do how to make how to make a slit scan that could be good so this is kind of what i have in mind i would like to do all of these today it's 10 30 i have till about noon and then i'll take a break for a while and i might come back this afternoon and do some more so look at this list think about it i'm gonna look in the chat um nobody's really said anything here i've got so the other thing i've got is i've got youtube live going and twitch live going i don't know if that's kind of ridiculous i was hoping maybe some people would find me with twitch um but i don't see too many uh comments here let's see if anything's happening on twitter uh oh i have a lot of notifications because you can ask me questions there too uh uh interesting um okay uh sorry i was reading some somebody wrote an interesting comment on twitter which is i would prefer to back you on patreon monthly than subject users to ads so it's an interesting question i've started um you know i put ads on the youtube videos i can't decide whether that's a good idea or not you know my kind of excuse for doing that is i want to close caption everything um for hearing impaired um and it costs if i pay a service to that it costs about 20 25 per video and i was thinking if i put ads and once each video gets about 20 or 25 then i'll close caption it you know i honestly like if this were i would love to do this uh more of it and if it's a you know i kind of do it in connection with my teaching at nyu so on the one hand i'm happy to just do this um but also maybe maybe there is sort of a business model for doing this i don't know i feel very sheepish about this but if anybody has any feedback about that if the ads really bother you or don't bother you um let me know uh okay um lauren covered slit scan on cadenza oh that's great to know i guess maybe i'll do it also here um okay so i'm going to get started with this then i think and i'm going to do all of these my preference right now is to use sublime and uh uh and and run things oh and run things uh locally so let me get set up for that sorry uh let me make a folder called p5.js video and i'm going to give myself a little shortcut to that here and uh let me make a uh sorry where am i where am i where am i where am i um let me just grab um let me grab this test sketch and put it in there and call it uh one create capture and so i can save these for later and i'm going to uh take this oops and put it open it with sublime and move this back over oh uncreate capture sketch okay so we see that and just so i see that something is there get this set up uh if i look at the html file o1 create capture get rid of this and close that and now i want to go to p5.js under for video run my local server and and uh i don't need this a local host there we go create capture there we go sublime browser sublime browser sublime browser terminal i don't need that open and there we go okay everyone i think i'm ready to check the chat one more time and yes i have so patreon is something i am considering um uh some so some people write uh paraglider writes ads are okay with me the other person writes most people that are opinionated about ads probably run in ad blocker anyway i'm used to the video and image processing features um yeah so some people are asking questions in the chat about the p5 editor i don't want to get too lost in a discussion about that because i want to get started with this video tutorial but i will say that one of the things that the processing foundation is actively working on right now is a webbased editor that can run in the browser i think one of the tricky things about a javascript web creative coding environment is there are numerous ways you could develop you could use something like atom you could do something like brackets you could use something like codepen and so uh in order in creating a kind of beginnerfriendly platform i think having a one that might be sort of geared towards education in that sense uh having a webbased editor makes a lot of sense um but there is uh but um but yeah so anyway that's all i want to kind of say about that i hear some some noise in the other room but i won't worry about it okay i'm back uh okay um here we go so can you guys hear that by the way it's a little distracting for me there's people talking and playing music nearby but i'll just keep going anyway 33 people are watching i better get started okay that's distracting you guys maybe you guys can't hear that it doesn't really matter i'm gonna cycle the cameras i'm gonna just hey everybody i'm just gonna mute myself for a second i'm gonna go see what that noise is nobody hears the other room okay but i'm just gonna be right back okay i have discovered what it is for all those of you who are interested it's just uh it actually seems to have gone away but it's uh joe the trainer has a uh athletic training studio that's right next door so pc i think the music and the noise was coming from there in between videos and i'll go and get myself like a workout or something okay here we go uh i should probably just meditate or something to reduce the level of kind of panicked uncertainty i have in my life okay there's a camera there's a camera i'm ready to go i'm gonna kind of close this a little bit and oh i wanted to just briefly erase this and i think this camera by the way is slightly because this is level the camera's slightly askew wonder if i could fix that i probably shouldn't worry about it right now of course ah well look what you guys are watching oh no how do i get out of this how do i get out of this there we go okay uh actually let me let me focus this really quick just make sure the focus is good um you guys this will entertain you uh so here i am uh actually that's pretty good but let me just get it this is like live stream focusing you can see it's out of focus i think that's good i think i got it okay okay i'm really gonna get started now sorry about that okay here we go and the audio is still working here we go hello in this video i'm going to look at create capture in p5.js and how the create capture function allows you to get a live image from your webcam so i want to talk briefly just about what the createcapture function does technically behind the scenes um before i start typing to the code and seeing the results so let's come with me over here look i'm over here now hello so um as you know a p5 i don't know if you know this but you've watched any other videos you do p5 has these functions setup and draw setup being the thing that runs at the beginning of a p5.js sketch and the thing that you typically have in a p5.js sketch is a function called createcanvas this is not necessarily required which gets a width and a height and what does that function do it places a canvas in the browser window itself so the goal for this video by the end of this video is to say you know your laptop which has a like a webcam at the top i want to see the image you know from that webcam i want to see that in the canvas so the way that you can connect to the default camera of your computer and anybody's computer happens to be loading your sketch in their browser is with the function create capture so the create capture function and then you pass it one argument video what the create capture function does is it creates a connection to like i think it's called in web language like user get media something like that but what what it does behind the scenes is it actually creates a separate dom element dom referring to document object model this being the document there being objects in the document the one thing we created is a canvas as you know in p5 you can also create things like a paragraph with create p you could create things like a slider with create slider you could create button with create button so you can make all these elements that live on the web page and create capture actually what it does is creates a video dom element which contains the image from that camera so on the one hand this might be what you want you want to have a canvas and a video element separate from each other but in a sort of classic creative coding sense whatever whatever that means you might just want to be doing some kind of animation or abstract visual art thingamabob based on what's in that video so you don't actually want to see that dom element you just want to paint it to the canvas and mess with it on the canvas so that's what i need to look at how to do with code um and and and we'll see in a second but i think it's important to point out that create capture is actually part of the p5 dom library and actually creates a separate element on the page and so let's go look at that okay so here i am back over here and i've got a sketch i'm working just in sublime text today running a local server and looking at the results in the chrome browser if you don't know how to do that i made a separate video that i will link to that shows how to get that setup going but you can use any any web editor thing of your choice to do all of this so what i'm going to do is i'm going to say create capture and pass in the argument video so i'm adding that to my code i'm going to go over to the browser and i'm going to hit refresh and you can see now there it is the canvas is there and the capture is there now what is the resolution of this capture make it a little smaller you can see that this capture looks bigger than the canvas it's actually made my canvas 320x240 the capture the video is 640x480 that only i guess happens to be whatever default resolution the browser the camera who knows making who's making that decision but that's what you're getting now if i wanted to change the size of this element it's a dom element so i can use for example the p5 function size ah but how do i do that so what if i want to now manipulate what if i want to manipulate sorry i lost my train of thought for a second what if i want to manipulate the the capture element itself i need to store a reference to it in a variable so what i'm going to do is add a variable to the top i'll call it video i will say video equals create capture i could have called it anything cam capture whatever and i can now also say video dot size 320 by 240. so now what i've done is i've created that connection it made that dom element and i've sized it down and you can see here and you can see now i have on my web page i have the canvas and the video hooray so now we can start to do some more things i said what if i want to ultimately not see this separate image but actually paint into the canvas so i can do other stuff on top of it well one of the nice things about working in p5 is p5 has already set up the landscape of things for you so that this video dom element can act just like any other image would act in p5 so for example in draw if i just say i didn't set up my settings correctly if i just say image my sublime settings i'll do that later video i like to have two spaces for the indent you know it's very important to me my life feels very out of control if my indentation isn't working correctly the way that i like it i'll take a deep breath move on okay so if i say image video dot zero zero um um and i do that and now i hit refresh we can see there it is so i've got now i've got the actual video dom element and i have the canvas where i'm drawing the video onto the canvas but you can see i can do things like now with the canvas i can add other functions like tint you know i could make it very uh let's see what happens if i get kind of pinkish we can see here oh you know what interesting ah so a little bug happened i'm gonna fix this bug uh and it's actually there's already a github issue file so by the time you run this with your p5 in the future this won't happen to you i'm gonna just fix it by um by enforcing the size here but what happened is uh when i added tint the pixels got manipulated and suddenly it went back to 640 by 480 even though it shouldn't that shouldn't have happened so this video is gonna have a historical error in it which will get fixed but i in my code i was able to fix it by just enforcing the size that i'm drawing the image so you can see that in the canvas i can do various things to manipulate the image itself and while i was altering the size i might as well see i could do something like ah let me make mouse x the width and now you can see i have this video that i can kind of like shrink and make myself kind of like skinny or wider or a little bit skinnier and you can see i'm not drawing the background so i'm getting these weird trails so anything that you can do with images shapes i could add translate i could add rotate i could spin it i could shrink it i can flip it all of those types of things i can do with the video and if i it's nice to have this dom element as a reference of what the original video looks like but if i didn't want to have that one thing i'll show you is i could add video.hide so the hide function hides a particular dom element and if i hit refresh you can now see that the only thing is the canvas and the video so that concludes what i originally set out as the goal which was to be able to capture video from the camera and draw into the canvas however i must alert you to something that will trip you up i should probably should have led with this and not finished with it notice how it didn't ask me for permission it didn't say like oh can i have access to your camera is that okay what you are doing if you took this sketch and uploaded it to your website potentially if somebody came to your website it could automatically turn on their camera you could take pictures of them and save that to your server so typically speaking what you're the user is going to see is like oh can i have access to the camera but some browsers in particular the chrome browser will only actually let you do this if you are serving your website from what's known as https the s being secure so if you ever go to the address bar in your browser it'll sometimes say http and it'll sometimes say https if you're like on your bank's website it's i hope it says https because you need a level of encryption and security there so depending on where you're uploading your thing if you're just working locally on your own computer and making whatever and experimenting it's always going to work but if you're uploading it to your own website you need to have https enabled some web servers might have this as a feature for you like heroku i believe if you're using that that's a web service thing company others won't um and so you need to like purchase and get a certificate and maybe i can make a video about that if i even knew how to do that but one thing i'll point out that someone pointed to me recently is there is something called let's encrypt let's encrypt is free automated and open it's a new certificate authority so that might be something you could look into if you need to resolve this issue in terms of where you're uploading i do know for example though that github pages i believe if you're using github pages as a way of hosting something that i believe you can use https with anyway but also you could just not use chrome and it might work in a different browser yada yada yada this will all be irrelevant and i'm gonna have to dub the robots of the future will dub over me and explain this correctly because this is all gonna become totally not relevant anymore probably a week from now two weeks from now two months from now et cetera okay thanks for watching this video in the next video you know so i would say if you're looking for something to do try to get this to work mess around manipulate the video in the next video i'm going to show you how to save snapshots over time from a live source okay how was that everybody i'm going to look at the chat for a second uh somebody asks um does create capture work on mobile devices i i think it does on android but i do not think it does on ios so i think createcapture will work on android in the browser um again uh you know the https thing is an issue if because i think the android browser is like chrome based but pretty sure it does not work in ios and you probably probably would need some extra set of hooks to get the camera on ios um okay um yeah i interestingly enough someone makes the comment this is this is certainly one of the uh scenarios where uh doing this in p5 is actually quite a bit simpler than in the processing desktop environment the one thing you'll run into is as i show you the pixel processing stuff it's a lot slower in javascript than in processing so uh image processing iterating over all the pixels of an image is a very expensive thing to do computationally expensive thing to do and it runs pretty slow in javascript so you got to really work with low resolution images uh okay and let's see if anyone's asking anything on twitch um nope uh okay um all right so i'm gonna go on to my next topic i'm gonna take a break for a second and drink a little this coffee that i have over here i should i shouldn't be allowed to drink coffee it's been established but i'm going to anyway i think you could probably hear my like slurping and swallowing laura it's by the way it's a little bit strange just be in a room talking to yourself even though i know there are people watching and i'm making video tutorials and people seem to like them although i'm always unsure about that it's weird okay um so the next thing i'm gonna do is let me close this let me save let me make a new copy of this and i'm going to call it uh 02 photo booth so the next thing uh for those of you who might just be tuning in this is my list of stuff to do i did basic create capture the next thing i'm gonna do is show how to make i know photo booth i don't know if that's the right term because i'm not going to make a whole photo booth here but i'm going to look at how you can add an html5 button and every time you press the button you save a snapshot from the video and maybe you save a whole bunch of them in an array that sort of thing um so and that will actually lead to this huh muybridge style thing maybe i'll move that up but we'll see um yeah i wonder if i might add that into this video if i'm feeling ambitious so let me close this sketch go over here and oh you know what i'm going to do the other thing i'm going to do everyone is i'm gonna let me just mention this i made a whole video about this the other day um uh p5 uh so i'm gonna fix something in the p5 library secretly behind the scenes uh but this will get fixed eventually in the actual p5 library this was a github issue i filed and made a whole video about and it needs to be this in line 1679. of p5 dom so if i go in here and i go all the way down i'm just going to fix something i think it's here oops uh and the other thing i said i wanted to do is in the preferences ah so how does anybody know in sublime how i set it to um let's look at this for a second uh indentation uh uh oh translate tabs to spaces true and tab size two because that's i want spaces is there another four anywhere uh margin for no i think that must have done it so now if i do this ah yes yes okay my indentation is now okay and i'm going to do this and start from this there we go uh this can be maybe a little bit smaller over here because i'm gonna need this to be a little bit wider okay i think i'm ready for the next video i'm gonna check the chat um uh yes someone says i would appreciate a small tutorial about git oh be careful what you wish for i plan on making a very large tutorial about git um i'm hoping to do that next week actually uh i want to get one more couple more lights in here just to make the setup a little bit better because i feel like this is uh the get tutorials are kind of important it's not that i'm none of these important but i want to have them i want them to sort of last for a while and kind of look good and be good so um i'm going to do those next week i think once i get a little bit better at this setup in here let me just check here um okay so i'm going to erase this i'm going to do oh it's 11 o'clock i've got about another hour to see how much more i can get done in the next hour those of you who are staying with me are very kind keeps me motivated to see stuff in the chat and let me just cycle the cameras a little ritual thing that i do and here we go oh i also and the one thing i need to do is name that video i just made so that one i'm going to call uh oh one create capture okay and now here we go i need a tissue that's one thing i need is kleenex in this room i don't have okay here we go sorry i'm thinking do i have my um where'd i put my whiteboard marker oh here it is over here i need to have that in my hand okay hello in this video i'm going to look at how if you have a live capture live capture oh live capture if you have a live capture coming in from a camera that was uh no one wants to see me do that too much okay let's start over hello in this video i'm going to look at how if you have a live capture coming in from a camera into a web page how you can add a button to that page and save snapshots over time a photo booth like kind of sketch and i'm using p5.js so this is where i'm starting i have a simple uh p5 example which has a canvas which is here it has a video dom element over here the dom element is grabbing the image from the camera and then i'm drawing it into the canvas so let's go over to the code and i've got the code here you can see that create capture video change the size of 320 by 240 and draw that onto the canvas so first thing i want to do is just stop drawing it onto the canvas and we can see this is what i've got now and i want to add a button to the page so i'm going to say create button snap and if i refresh it you can see there's that button we make this a little bit bigger and you can see there's that button snap so the idea here is that i want is whenever i hit the button i want that image to be saved and populated into the canvas so how do we do that so the first thing i need to do is bind some sort of event to the pressing of this button and the way that that's done in p5 is with well first of all once again if i want to do anything with that button i now need a variable to keep track of that button over time so i'm going to add a variable called button at the top and i'm going to say button equals create button and then i will say button dot mouse pressed and i'll call this uh take snap so what goes in here is the name of a function that i want to execute when i press the mouse on that button and this is p5 specific there are lots of ways in javascript with other frameworks and native javascript and jquery to do this same sort of thing but in p5 has a nice simple hook for binding an event to the press of the mouse which is naming a function that goes into the mouse press function that's that's called on the button object itself so once i've done that it's now my job to write a function called take snap and in that function what could i do i could take exactly this line of code that just draws what is currently in the video to the canvas so if i save this and i go back and run this again we should see now that the video is playing video is capturing there's nothing in the canvas but you can see that as soon as i hit that button i get the current image into the canvas and now i can do this and you can see i can kind of create a little like stopmotion dance animation so we can make a gif out of this if they want i don't know what i'm doing anymore i got lost in my own little world there for a second we turn off the video and just dance the night away even though it's 11 o'clock in the morning which is not really the morning i digress um so let's try to make this though a little bit more interesting here which is that i didn't really save anything i don't know what it means to save anything certainly i could like download the image to the computer ah we could add that actually that could be a feature we could add um but what i think might be interesting to look at is how might i save those images over time so since i have this white board over here i feel obligated to use it let's think about this for a second i need to sort of map this out for myself so we have the canvas we have the video and the only thing that i'm doing is at particular moments in time i'm drawing you know the image from the video to the canvas but what if i could do something in the interim over here and the thing that i want to do is actually call the function get so get is a function that uh maybe i'll get to a little more later which is a way of like grabbing pixels from the image itself but if i call get with no arguments what it does is it grabs an entire copy of that image so what if i had a uh an array i called it history so a blank array like this and every time i press a button i add a copy of the image to that array so i'm actually storing image after image after image whenever that button is pressed that way i could potentially in my canvas i could see a whole bunch of images snapshots over time so let's take a look at how we might do that okay uh so let's go back to the code what are some things i want to add the first thing i want to add and audio is still working is a variable called history which will just be an array so an empty array and now i said instead of um instead of right here just drawing the image drawing the image to the screen when the button is pressed what i want to do instead is say something like this history.push video push being a function history is an array video is the video dom element push being a function that adds something to that array so i want to add the video dom element add the video dom element every time i press the button only that's not what i want to do so this looks kind of right like oh every time i press the button add you know the image from the video to the array but this the variable video is not the image it's the entirety of that dom element live capture stream thing itself so that's not what i want in the array what i want is just a copy of that image so i need to use that get function so if i come back over here and i say video dot get this is what i want so and you know i can run this right now oh history.push is not a function why is that not a function yes it is uh is is history some other um variable name for something let's call this uh snapshots is is something else called history in the world of javascript yeah that's strange somebody will tell me what that was so sometimes if you get that error you know this is by the way i made a video about name spacing i'll link to it now but something you can walk into by accident which apparently i just did in javascript especially working with p5 is i'm making up all these like global variables and there's a lot of default stuff yeah history browser history i'm sure there's a global variable that just exists in web browsers called history that has to do with the browser history and i just messed up by overriding that so watch out danger danger don't do that so i'll call it snapshots and what i want to do now is we can look at here snapshots is an empty array so this is the chrome developer console i recently made a video about how to use that and now if i hit snap a couple times and look at snapshots again you can see that now it has an array with a bunch of p5 images in it and there's more stuff with these p5 images that we can kind of look into the width and the height and all of that but let's not worry about that right now now how can i do something with these images well one thing i could do let's um let's do one thing with it let's make the canvas uh wider and in draw let's add a loop that says four var i equals zero i is less than snapshots dot length i plus plus let's draw image snapshots index i let's draw all of those images so this is going to i don't know what this is really going to accomplish but let's run this and you can see now it's only showing the last one why is it i did a loop to draw every single one it's only showing the last one well it's drawing them all but it's drawing them all on top of each other so one thing i could do that would be kind of interesting i have no idea if this is going to work is i could add some alpha so look at that now you can see that it's drawing them all and i'm getting a nice little ghost averaging thing i gotta um because i'm tinting them as i'm drawing them let's draw them next to each other so one thing i might want to do is draw them a lot smaller like maybe i'll just draw them at 80 by 60 and maybe i'll actually make that a variable uh 80 and 60 and use those variables and i'll say let me have an x and a y so what i'm doing here is i want to draw each image at a particular x and a y as i'm looping through the array the first one is 0 0 the second one at x equals x plus w so now what you would see is you can see here that each one is drawing next to each other now when it gets to the edge of the window which is over here maybe what i wanted to do if x is greater than w then i want to reset x back to zero and have y go up by h so i'm just making a little algorithm inside this loop that no matter how many images there are they're each being drawn x is moving over when x gets the end x goes back to zero and y goes down so now i can run this and we should see here's the video down here and i can oh what happened there if x is greater than w that's not correct if x is greater than the width of the canvas not w which is just one over so that's no good so let's run this again and then i'm gonna you can see my little uh kind of stop motion muay bridge sequence now incidentally it's kind of funny that i'm doing this by like pressing the button because i could just as easily do this so so anyway so you get the idea here there's a lot of possibilities i have this whole array i can mix and match them i could create a puzzle i could chop it up i mean my mind is bursting with ideas and i hope yours is as well but and you can see also like that the i don't know if you can see this in this recording in the video but the program is running a bit slower now i have this big array of images but um uh but i wanted to do one more thing which what i want to do let's this is a little bit insane you should just stop watching this now but i want to see if i can make these be in motion so i want to see just sort of like the last however many images and i want them all to be on a delay and moving let's just see if we can do this i'm 10 minutes into this video you can think of this as completing the lesson but let's just see if we can make this happen so let's think about this for a second um what i might want to do is uh first what happens if i just put this in draw itself uh okay so i'm saying push video dot get and uh let's and let's let's let's run this for a second and count it and i'm going to run this for a second but we complained so one thing that happened is that the video a draw happens immediately but the video wasn't actually ready just yet so i need oh sad sad world we live in what i need is an event i wonder if i can add an event here called ready and i make a variable called go equals false and now i'm going to set go so i think there should be a callback to create i don't know if this exists in p5 we're about to find out there should be most of these functions in javascript have a callback like create the capture and you know but it's not what i need to know when you're done creating it so i could use it and so i passed a call back called ready and i'm just going to set a boolean variable equal to true so i can say only if go then start capturing those snapshots and i can take this out here as i've gotten rid of the button and i'm gonna have to we don't need this button anymore yeah that worked so you can see what's happening here so now let me pause this uh let me say no loop so i need to do something ridiculous which is count this one two three four five six seven eight nine ten times four there are forty so i need an array with 40. so i only want to what i want to do is actually i want to change and have a counter so i want to create a counter because i don't want to i only want to have 40 images at a time so what i would want to do is add a counter so instead of just always adding an image to the array what i want to say is snapshots index counter equals video.get so this is going to do the same exact thing i'm going to be i'm going to add images to that array i'm going to run this again counter equals zero why didn't that work somebody let's see what this error is sketch.4 i have a syntax error oh int boy my land isn't my mind is in java land var should be the name of the variable so i'm going to do this and we can see ah so it's working but i didn't increase the counter so i need to say counter plus plus and now you can see this is working now what i could do is say aha when counter gets to 40 go back to zero so now i can say if counter equals 40 because there's only 40 total counter should go back to zero okay so now this is a good time to do jumping jacks i have to do them over here right you can see my trail of jumping jacks is happening up here you know there are maybe like a second space depart you can see it's still doing it do i still have that tint in there that's funny i still have the tint let's get rid of that and refresh i forgot that i had that the whole time no wonder this is what i expected it to look like i'll do some jumping jacks so you can see now i don't i don't know why the bottom maybe i did my math wrong maybe they're 43 did i get the math wrong there uh counter equals 43 let's try that uh you know i obviously could do some actual correct math there we go so now you can see i've got this like history of the last 43 images always continuously there but i want to do something a little bit weird so this is pretty good and i think you could probably make some creative experiments with this and make it bigger or smaller or whatever but and i'm just like off the deep end here but only at 15 minutes so this is fine so let's think about how to make this notice that i'm always just drawing the images 0 through 243 and let's make that i don't know why that's the val let's make this total equal 40. let's make that a variable i swear i don't understand my math here but i'm just going to go with it so one thing i want to do is that in addition to drawing the images i want to offset them this is going to like seem weird but let me let me just do this and maybe it's going to make sense it's making sense in my head right now because i think i've done this before many years ago but i'm going to what if i said i plus frame count so in other words i want the zero image to be here then the zero image to be there then the zero image to be there every frame but as soon as we get past 43 i need to use the modulus operation boy modulus might not be familiar to some of you i believe i made a video only about modulus at one point and so let's make this a separate variable just so we can kind of discuss what's going on here pretty sure this is going to work so let me run this see if this does what i expect oop uh i have an error oh so i must have got oh so first of all i can only do this once counter has got i need i need 40 images first to start with so uh so this is only going to work once 43 or whatever once i have the total amount so this one um so i want to think of like a really simple way to approach this um i'm just going to say if if oh you know what i don't never mind i this is silly all i need to do is say snapshots.length because i can just do this based on how many elements are currently in the array so now you can see that ah that's what i was hoping for okay so you can see that everything's moving now why did this work i mean i um so this is uh this is a pretty standard kind of like trope i would say in kind of creative coding uh looking at this video and seeing like many many copies of it on a slight delay we can make that delay big or smaller we could kind of cycle it around i made a project like 10 years ago that does exactly this i think i called it time frame um and i i just have to do like my some weird like vogue dancing i think to see what this looks like this video is still recording okay um um but let's try to think about why this is working for a second and again you know i don't know if anyone's still watching this video like 20 minutes in but i hope that you make some creative projects with this um you might run into an issue by the way if you don't have that p5.js bug fixed but i can help you with that but let's think about this so remember this is the array and let's just uh pretend the array has one two three four five things in it and uh you know the animation looks something like this i was supposed to be me with one arm so you can see like the of an animation of a dial going like this so this is the canvas and this is continuously also shifting and getting new elements in it but what's happening is so the current the actual current frame is is going in one at a time so without that strange modulus i don't really try to make this make sense i don't know that this is the best drawing but without that modulus what i was seeing here is just literally the array copied into the window so we see these static images that are getting updated every once in a while but if what i'm doing is actually the zero element of the array gets drawn here then it gets drawn here then it gets drawn here then it gets drawn here you're actually seeing and the one element is also moving you're actually seeing that animation that's in the array play out because each spot on the screen that's static is seeing different elements from the array but the array is also being updated by the current elements from the camera and so how is that working basically uh what i want this is gonna i now i know how to make sense of this right i'm gonna put the index values here so first the index values go like this then the next time the index values go like this and then the next time oops i only have four here i messed up but you get the idea they go like this so then the next time it's three four zero one one two so those are cycling so how do you do that if you always have if you have that loop this is uh i so okay sorry this is i zero one two three this is i plus frame count which would be zero one two three and then one two three four then two three four five then three four five six right so this is i plus frame count the modulus operation if i was saying this i'm using my hand terrible i didn't go wash my hands in a second if i am saying now i plus frame count modulus 4 the modulus operation is like division but not like division it's the remainder of division so if i say for example three modulus four three modulus four is the three divided by four is zero remainder one four divided by four is one remainder zero five divided by four oh sorry zero divided by three sorry three divided by four at is zero remainder three five modulus four is one remainder one six divided by four is one remainder two so what the modulus operation does is it cycles everything back between to keep everything within the original range of the array boy i gotta re this video was going so well until i went off and did this but hopefully you found this interesting i'm gonna publish the code with this as i upload this video and i hope that you guys will make some experiments with this particular idea and share them so i can see what you made okay uh i'm gonna hit stop now i gotta i gotta come back to that that you know someday i i should just do this again it'll make more sense but i did my best okay um ah so somebody's saying the first three rows had 11 images one was off the right side thank you very much um okay i see there's uh look i'm just looking at the comments here boy and i'm gonna look on twitch um and this is live it is um okay yeah so somebody's i think there's some new people finding this uh stream on twitch which was sort of maybe one or two people this is live but i'm tending not to look at the chat except for at particular moments because ultimately i'm gonna record these and upload them to youtube as standalone videos um okay so um let me look back here this was my so i actually ended up doing this in this particular video i kind of want to like do that over again and like separate that out and not go so far off into this wilderness here because i but can you guys give me a little feedback was that kind of a total disaster or it kind of made sense trying to explain how the array thing worked i don't know i definitely think if i did it again i have a better sense of how to make it make sense but um okay so the next thing i would start doing would be the pixel array stuff um uh oh yeah so i guess i confirmed that it's live that i'm reading the chat responding to it uh although there is a delay so i think you're probably seeing this about 20 seconds after i'm actually doing it so sometimes the chat is a little bit behind oh i need to plug this computer in and can you apply the chroma key so someone asked can you apply the chroma key in real time so i'm actually as you can see i'm recording this you can see that i'm recording this video from a camera over there this is the camera that's actually recording that's chroma keying the back the desktop of my laptop with me but because i'm using the webcam for my laptop you're also seeing another view which is this one now i think the question asks could you use p5 to live chroma key the video and the answer is absolutely yes and this is actually part of the next topic i want to explore which is how to manipulate the pixels and um so you could do it manually by manipulating the pixels and if the pixel is green you know draw a different pixel but there is a javascript library that allows you to do this called seriously.js and you can see that um so you can see this is doing live chroma keying and various effects of a particular video and then uh you can see that's the green screen thing that it's crunching okay so um so you could look into using that and uh that would be a great why not add that seriously.js with p5 let's see if we can make that a topic um okay what time is it 11 20. uh and um so um okay so somebody is asking and i'm gonna i'm gonna just take a minute to answer some of the questions of people arriving so someone's uh so two things one is saying could you show sublime text again so let me do that so first of all the code for all these videos sometimes takes me a little while what happens with these videos after i finish this later this afternoon or this evening i will upload them as standalone videos to my youtube channel and then in the description i usually put a link to the source code that goes with the video so you'll be able to find all this later if the source code is missing all you need to do is type in the video's comments it's missing it reminds me then i post it um and if you're looking for what that repo is uh a github.com shiffman video dash lesson dash materials so this is the url you can see it up here and under uh code p5.js you can see these are like code examples that have gone along with all these other videos that i've previously made now the other question has been asked on twitch i make i came in a little after you started could you briefly re touch what p5.js j is j oh my god could you talk about what p5.js is and what it accomplishes so um very briefly p5.js is a javascript library um you don't all the things that i'm showing you you could do without p5.js but p5.js has a lot of functionality built into it to make drawing to an html5 canvas a little bit easier to make connecting to live video streams a little easier to add buttons and interface elements a little bit easier easier might be the wrong word but um but it's just a javascript library for what i would call loosely creative coding for to be able to kind of sketch and play around and make kind of experiments in a web browser there's a lot more to it in the history of it and there's something called processing i encourage you to go to p5js.org to learn a little bit more okay um so the next topic i want to explore i have to i have to think about the order of this so i think what i want to do is do a video just about the pixel array and manipulating the pixels of an image of a p5.js sketch using the live video let me actually let's make an example before i do the tutorial just to get a sense that this is actually working so i'm gonna do a little prep now even though well i like i'm having this here it's kind of crazy i can do like this is kind of interesting to see okay i have to stop playing with this though i'm gonna close this sketch and uh i'm going to make a copy of it actually let me start with uh make a copy of it and whoops uh p5.js video call this 03 pixels so and then i want to close this 03 pixels let's get rid of all this and go down here okay so what i want to do sorry everybody what i what i want to do is just test to see that pixel stuff is working in p5 so i'm going to call load pixels camera's going to go off in a second i'll fix it i'm going to call update pixels so right now what i'm doing is i'm making the example that i will then make a tutorial about just to like get my head in the game here and figure out make sure this stuff works uh so i'm gonna say x equals zero x is less than uh with x plus plus uh so i'm doing a nested loop to look at every single pixel and i'm going to say pixels index i equals so i'm doing something here bear with me for a second the pixels in p5 and html5 canvas work differently than they do in processing so if you're coming from processing if you're not coming from anything you won't care that this is different because it'll all be new to you and let's see if this actually works oops i lost chrome oops that's the wrong thing that's terminal where's chrome did i close it no no localhost pixels error i is not defined yeah no kidding i is not defined uh x plus y times width okay did something wrong ah right of course and then times four see i'm forgetting this stuff because it works differently in p5 there we go what ah another thing is pixel density one okay it'll give me that annoying warning um and i'm gonna now try this see how the frame rate is all right promising okay so this is the first thing that i want to explore which is just how to manipulate and play with the pixel array in p5 uh and then what i'll do is actually get the pixels from the i'll put the capture next to it and get the pixels from capture uh and do more with that sort of thing so let's see um uh oh somebody is telling me to check out william cheer or keir um okay and uh yeah uh yeah i like how you guys um see my errors before i see them it's very it's very fun okay so i'm gonna now in the chat let me know how the whiteboard is you can read it and see it it's not the best lighting but it's like legible and all that um okay so because i'm going to erase this now and so this video is going to just be about the pixel array in p5.js which is also about the pixel array in html5 canvas and i'm going to start by diagramming out how it works and then i'm going to write some code for it and then i will transition out to the next video which looks at actually reading the pixels from the my the camera itself it's fine it's fine thank you everybody uh okay um here we go guacamole sayonara chicken i don't know what i'm just saying words now okay all right i'm gonna drink a little coffee i have to announce that because if i don't you guys are going to wonder why do i walk off camera and make weird slurping sounds because i feel like the mic must pick that up okay um here we go ah so let me just do something here background do one oops nope okay uh great okay here we go you know what i want to check actually is i want to just check oh low battery so this is not good i need to um this one has two bars so i think that one's fine i want to replace the batteries just so you guys know what i'm i'm going to replace the battery on this because i really would hate for the battery to die in the middle of making the video so i'm going to be i'm about to mute myself and get new batteries be right back actually i haven't muted myself yet i have to find the batteries i had them out in a specific spot i don't know what happened to them oh here they are thank goodness i'm about to take the batteries out i don't know if that's gonna i'm gonna hit mute and hopefully you won't suddenly get weird like noise but maybe turn your volume down for a second so your headphones don't pop if anything weird happens i'll be back in 30 seconds okay i am back i think i'm back and the batteries are replaced so we aren't in danger of running out of battery okay all i can think about now is all the weird gifts i'm going to make of myself later i have to admit like somebody made one for me and then i was like oh that's interesting i'm gonna go see if i can make one myself and now i want to pretend that other people are making them but really it's just me making them because i'm the most vain person broadcasting creative coding tutorials on youtube and twitch okay just checking make sure everything's okay the audio looks like it's still fine somebody tell me if it's not it does release a fire hose of static okay that's good to know thank you um i you know what i should do is i should mute my control panel oh the other thing i really need to do is i need to get a sound board in here because i would like to be able to have some music get some like sound audio from the computer you have some intro music i'm thinking about using i'm totally serious here so if anybody has any ideas if like a simple little mixing board i can get or something send me a tweet good way to do that with them using wirecast in particular um okay uh oh you can't hear me right now but i think that's from earlier all right uh you guys can hear me now right so say i'm clapping say i can hear you clapping somebody say i can hear you clapping and i'll wait yes exactly like reading rainbow but the coding rainbow i actually have a friend in la who is a music composer for television and film and uh this reminds me i need to send him an email to ask he was going to help make a song you can hear me clapping okay so i'm going to go and make this video and i'm going to minimize this i'm not looking at the chat now talk amongst yourselves i'm going to cycle these cameras and i'm going to make a video about how the pixel array works in p5 here we go here we go here we go here we go you know i don't know what to say at the beginning of these videos i always just say hello in this video i will but that's what i'm going to say at this one i'm not going to include that in this video okay oh you know what i forgot to do i like to name i need to name that one that i just made so the one that i just made was uh o2 photo history okay so i named that now i can close this this one will be a pixel array in this video and this is why i need the theme music hello and welcome to another video tutorial right hello today right now this very moment i'm going to talk about the pixel array pixel array uh in p5.js which is really really i'm talking about the pixel array in html5 canvas meaning there is a canvas in a browser i am programming what's going to be on that canvas in javascript and i want to know how do i access each individual pixel of the canvas and how do i manipulate and change the color of each individual pixel for whatever purposes my mind can imagine and this will lead to um how to get live images from a camera load images from some api or from a file and manipulate the pixels of some other image from some other source so that i'll get to in the next video but right now i just want to look at how does the pixel array work so let's uh come over here to the whiteboard for a second and kind of discuss what's at play here so here is what i'm calling the canvas so canvas image whatever you want to think about it a pix an image on a computer is a rectangular thing which is essentially a grid of pixels so we can make a sort of simplified think of a simplified low resolution one two three four five six like see this has a width of six one two three four five and a height of five so i now have an image that's six by five meaning there are 30 pixels total or 6 times 5. i hope i did the math right okay so in order to access these but now p5 has functions called get and set and these functions are useful get or set you can pass an x and a y the numbers being starting with zero so the x values go from zero one two three four five or zero one two three 4 and you could say get pixel 4 comma 2 which would be this pixel right over here so you can use those functions and i might in some of the examples but i want to look at a different way of accessing the pixels which is arguably going to at least be the speediest and allow for the most possibilities i don't know if that's entirely true but let's just take that for now and so what that is is what i'm referring to is something called the pixels array so behind the scenes in p5 there's a very long array we have lots of numbers in it those numbers correspond to all of the colors in this canvas so the question that we have to figure out is if i want to change the color for this particular pixel how do i find where in this array to do that and so to do that we need to do we need to do a little bit of math because this is just a linear list uh onedimensional list array and but the the the image we'll think of as this twodimensional thing so how do we go back and forth between the two of them now this is not some unique problem it happens in any computer graphics environment but there is something different at least if you've used processing before um just to take that as an example the way that the pixels work in p5.js html5 canvas is quite different than in processing that's quite similar but there's a big sort of major fundamental difference and you will see that as i go through this so let's look at this now so let's just start let me start by telling you that the pixels in the array if this is the array right i'm going to give myself a bunch of spots here the pixel start like this pixel the very first thing index 0 in the array refers to this particular pixel here but it doesn't refer to the entire pixel it just refers to the red value of that pixel some number between 0 and 255. the second element index number 1 in the array refers to the green value for that particular pixel the third element or index number two refers to the blue value and the fourth element or index number three refers to the alpha value so it takes four spots of the array for one pixel now remember i said there are 60 pixels that means how long is this array six times four the length of the array is 240. so for an image that is six by four that has sorry six by five that has 60 pixels the array itself has four times that many spots because there's a red green blue and alpha value for each spot meaning the length of the array is 240. okay so that we've established now still so you can think about this is the this pixel starts at spot zero this pixel starts at spot and by i should stop saying spot it should say index starts at index four this one at index eight this one index 12 this one index 16. so this is how each each pixel's color values in the array are four are separated by four index values so that's the first thing to establish now let's not think about that for a second and let's just think so that that we've established now i'm going to erase this and back up again for a second let's say i want to just though number the pixels like this 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 and this is our important one 16 17 16. so one thing that you'll notice here if i'm numbering the pixels this way is that the first row is zero through five the second row is zero through five plus six right zero plus six is six six plus six is twelve one plus six six seven seven plus six is 13. so if i know the x y coordinate on the screen something like the coordinate 4 times 2 i can get that number 16 by saying x plus y times width or 4 plus 2 times 6 or 4 plus 12 which equals 16. so this is the formula for getting the numeric the number pixel it is on the screen now then i have to say where is it in the array remember the array actually went 0 4 8 12 whoa right yeah 0 4 8 12 16. so then all i need to do is multiply this by four so the way that i can find where the color values for a given pixel are in the array is the x value the x coordinate plus the y coordinate times the width and this whole thing times four so you might need to diagram this out yourself get a piece of graph paper review it a few times but ultimately this formula you can just memorize it you're going to see it in every almost every example i make right now so let's go back to the code itself and i gotta wake up my computer wake up computer and now i can go to my code so now all i want to do that first is deal with the pixels of the canvas itself one thing you have to do if you're going to deal with the pixel of the canvas is alert p5 javascript the browser i don't know who we're talking to here but you've got to tell somebody hey i want to work with the pixels so the way to do that is by saying load pixels and i'm going to put this in draw so the first thing i need to do is say load pixels now i can do anything i want i can say pixels index 365. you know equals 255. now i don't know what this is going to do and then ah if i ever change the pixels i need to say hey i'm done changing the pixels let me now say update pixels so i have messed with the pixel array and if i went back and i loaded it we should see uh some pixel got some value somewhere the truth of the matter is i'm not gonna be able to find that pixel i have no idea 365 was that the red part the green part the alpha part so ultimately we're not going to see anything so let's be a bit more methodical about this let's try to change just the first pixel in the top left corner so we know that's the red value green value blue value we need a red green a green value a blue value and an alpha those should be the first four so that top left pixel should be white let's zoom all the way in there ah you can see that look at that do you see that white pixel up there in the top left are we sure about that let's let's move it over let's say four five six seven oh you can see it moved over right can you see that pixel i changed a little bit moved over right are we really sure about this let's and you know what i could do actually why am i even bothering i could just say oh no i have to say a load pistol i could make this zero refresh look at it now i got my pink pixel we made a pink pixel whose giant mouse pointer pointing to it today is a beautiful moment right because if you know how to individually address every single pixel in a canvas there is nothing you can't possibly draw you're mad the world is now your oyster i mean you know you want to have a 3d library for doing all that kind of stuff probably you're not going to do it by pixel by pixel but there's a lot of possibilities this opens up so we see the basics at play here but what i want to do is now let me look at how i might actually address every single pixel so how might i do that so you know if you're watching this video hopefully you're aware of the idea of something called a for loop and we can see this particular for loop is a loop that's saying for every x have x go from have a variable called x and have x cycle 0 1 2 3 4 5. and what do i want to do for every x i want to actually maybe i want to do it the reverse i want to say like 4 the first row which is y do every x then for the second one do every x then for the third one do every x so i need a loop that's going through the y's as well and this is what's known as a nested loop you may have seen this in other things so so if i say this and i add another bracket and then i need to put indent these a little bit we can now look at this and we can say aha this is a loop that's saying for every y value start at y value 0 go through all the x's now have y equal 1 go through the all the x's now have y equal 2 go through all the x's so this nested loop has the property of hitting every single x and y in the window so now we should be able to apply our formula var index equals do we remember this x plus y times width times four x plus y times width this whole thing times four and now i should be able to take this and put this here indent it properly and say index index plus one right the index that value is the red value of every pixel one is the green the next one is the blue the next one is the alpha so index index plus ah plus two index plus three and you know i might just for like symmetry here add the plus zero there i don't know if that's necessary but you can see this is the chunk i need the index is the start of the pixel and there are four values associated with the pixel now there's something that's going to happen which is going to cause this not to work which i'll get to in a second but this is this is essentially the right code i missed a small little piece only because i'm using a retina laptop which i'll get to in a second so if i hit refresh here we can say ah weird it worked but i didn't get the whole canvas like i got this like stripe of pink across the top so unfortunately we live in a world now or fortunately where we have these like hd pi hp high definition display high pixel density hot pixel density so mac retina displays other types of high density displays actually have like four pixels for every quoteunquote pixel to make things finer and more higher resolution and so if this is actually what you're seeing here is a view of a high density display and so one thing i want to do just in people i could get into this and i could draw the pixels at higher density to do all sorts of stuff but something i could do in p5 just to like turn this problem off is say pixel density one so what i'm saying that is like i don't care what kind of display the user is on i don't i want the canvas to be one pixel per pixel kind of regular density display as they were a year many years ago in olden times so if i do that we should see there we go and you know it's giving me some sort of like warning that image smoothing enabled it's changed something and we can kind of ignore that in the console but you can see i have now essentially written the code for the background function right the p5 background function you know does exactly this it you give it a color like 255 comma 0 comma 255 and it fills the entire background with those pixels but i can do all sorts of things now like i could say i could say x right and y i don't know what this is going to do and i could hit and run this you could see now i have this kind of like gradient right because the amount of red increases as the pixels move to the right the amount of blue increases as the pixels move down it mixes in the center i could then also say like make the green value a random value and now we've got this like snowy rainbow noise ah the rainbow yay whenever something happens that's rainbow like in a it makes me happy and i feel glad about it so this really concludes this particular video i would say to you try to get this set up see what kind of magic pixel pixel wonderland you can make for yourself and what i'm going to do in the next video is take this concept and actually not just make up pixel colors out of thin air but actually pull pixels from an image this being a live a video source and manipulate them or draw something else based on those colors so i hope you enjoyed this video it was 14 minutes and 46 seconds long and share with me in the comments if you make something and post it somewhere i would love to see what it is okay everyone uh that was another video i'm wondering i think i actually unfortunately have to take a break now uh so there are some i'm gonna look at some of the questions now people have uh posted interesting questions um boy there's a lot of chat going on here i'm not sure okay hello um so someone says it's a bit daunting it appears that you need to know javascript inside out as well as processing to do all these cool features you're right in the sense that what i'm doing right now is kind of you know 15 20 tutorials in the this this particular tutorial assumes you know javascript it assumes you know the sort of basics of how an environment like p5 or processing works um but certainly um you can go back and watch some of my early tutorials which will like kind of cover all those basics before diving right in um uh okay uh okay there's people having a discussion about this yes some people ask about i did do a whole set of videos about just html css and p5 dom that'll help fill in some of these gaps there's a really interesting point here the gankable player on twitch writes so so uh he or she is asking about um um the gankable players asking okay so why instead of having at each of these spots a red green and blue and alpha values separate spots why not just have the array itself have some sort of color object right so the index values are zero and one and there's an object here that has like a red green blue and alpha element of the object so i would say that that's a totally reasonable interesting idea and if i were making up a pixelbased library framework from scratch i might do it that way and p5 certainly could do it that way however native html5 javascript the way it works is uh not this way it's with having rgb alpha as separate elements maybe there's a speed or efficiency issue there and so i think it for p5 to kind of work in the same way is a sort of is good in that you're not if you're kind of moving back between native javascript and canvas and using some p5 stuff it's not going to be different so i think kind of like building a layer that allows you easier quicker access to the pixels but not change the way the pixels are organized is kind of a good compromise i think okay let me come back over here see if there are other questions performance issue yeah um so um so one thing i'll say um the gang gobble player also wrote um i'm thinking i'm not good enough for open source one thing that i think is really important to say about p5.js p5.js is an open and welcoming community to people of all ages of all genders of all backgrounds of all uh countries and of all skill levels so you should come on to p5 and file a github issue or check out the wikis participate in the open source community that a p5 is and not worry about whether you are at the right level or not um they're because one of the things about p5 is to really try to create as open and welcoming uh community in terms of p5 development and also i'll mention let me come over here and plug somebody else's videos which is luisa pereira am i pronouncing vimeo p5.js let me see if this is going to come up looking looking inside so um looking inside p5 is a video series that luisa pereira is making which is uh it's on vimeo it's a tutorial series but it's not about a programming tutorial it's a tutorial about how p5 as an open source project is organized for a beginner and how you could contribute and participate in that so i encourage you guys to check those videos out as well um okay so um so i'm what i'm gonna let you it's almost noon and i was gonna take a break at noon for a little bit um and i'm gonna come back let's let me i'm gonna answer more questions because uh if i can let me come back here and look at my list here so i got through this much so i want to do maybe these four topics later this afternoon see if i can get to them um um yeah so that's what's happening today now let me look at the chat okay so um uh kujun sherpa writes question is it reasonable to use processing to write android apps yes in fact it is not only reasonable it is encouraged processing there is actually um let me just launch processing for a second oh did i update to the most recent version um i'm going to launch this is processing if you're not familiar with it it's a creative coding environment built on top of java so for like desktop application development and you'll notice up here there's this little tab that says java and i you can also write your processing sketches in python if i change to python mode this wouldn't be there by default you've got to go to add mode and here's one that i don't have added i will add it right now see if this works hit install so i've now installed android mode and i can now switch to android mode oops i think i have to oh so this is telling me i also have to go and download the android s i have to click this so it's going to do a lot more downloading to download the android sdk but you can actually use processing itself to develop android apps it's designed to do that um and you know i would say that this it's in development there's you know there's probably a lot of things that work and some things that maybe don't work as well but if i look up if i google android processing the place where you should start is this particular wiki github.com processing slash processing dash android uh wiki and you'll see there are a whole lot of instructions and information for how to run on a device and get started and that sort of thing so i i you know i don't have a lot of experience using processing for android but i hope that you will look into it and contribute to the project if you find things um paul mcguire asks what are you using for your realtime chroma key i am using a um software called wirecast uh it's commercial software i use you know costs somewhere in the hundreds of dollars um uh but it has a lot of features for me it has a feature that allows me to take multiple camera feeds in as well and i've hooked up a like a button to like switch between them automatically it also allows you to like live broadcast to youtube or twitch or any of these things so that's what i'm using currently let me see if i have any important emails about my meeting at noon that might be pushed back in which case i might keep going uh i don't see anything about that okay so it looks like um let me look on twitter here for a second okay so that seems to be the last question where else is this being streamed so currently i haven't really decided i love feedback about this i have been doing all my streams on youtube so um you know just to like put some urls here for you guys currently i am youtube.com shiffman so and slash live is where the youtube live stream is that some of you are watching uh all uh later this sort of edited chunks of videos get uploaded as standalone chunks they appear on youtube i also started recently streaming to twitch dot tv slash coding rainbow to see how twitch worked as a technology to see if there was a different community there that might discover and enjoy the videos or live streams um so i don't know i'm you know i think i'm on a verizon fios connection here uh it seems to be streaming fine to both at the same time and recording got a mac pro doing all this but please if you notice like the stream is like having issues or the audio's cutting out that sort of thing please let me know these are the two places where i'm streaming at present so i think uh good lunch oh yeah so um somebody asked can i open two windows in one program i don't know exactly what you're referring to but i did recently make a video that's on my youtube channel about multiple canvases in the same p5 sketch using something called instance mode so if you go to my youtube channel and search instance mode shiffman on youtube i'm sure you'll find it um so i hope to be back at around 2 p.m eastern time stay tuned to my twitter i'm just plugging everything right now follow me at twitter.com shiffman uh i hope to be i think about a couple hours i have a meeting i'm going to grab some lunch i want to finish these videos i definitely won't be going any later than like 4 p.m or 4 30 p.m eastern time today so sometime between 2 p.m and 4 30 p.m um i will um come back live i also another just uh if you want to be able to sign up for alerts if you go to shiffman.net that's my website shiffman.net there is a email you can put your email in here to get updates the thing is i've said this every time now mailchimp has blocked me because i guess i sent my test email out incorrectly and they blocked me as a spammer so this i'm getting your email addresses but mailchimp isn't letting me send anything so i haven't sent out any of these updates yet but i do plan on doing so or maybe i'll just use something else besides mailchimp if somebody has an idea of a different service i should use i guess i could just make a google group actually i could just use a google group can i make a announce only google group be interesting it could be interesting to have a discussion group on google and let people actually but i don't know this is this is opening too many doors the processing forum if you're looking for a place to ask questions i try to answer them in the youtube comments but also the processing forum um okay let's see if there's any other questions uh oh a message box on top of the real sketch well i don't know if you're asking about processing or p5 um but um hello france uh bonjour or bolsoire i guess depending on it's like six o'clock in france probably um port du bois asked on top of the real sketch if you're talking about processing it is there is uh i think there's a library you can get for processing that allows you have two windows open if you're talking about a p5 sketch a web browser there's lots of different ways with html and css to overlay content on top of uh other content and i that would be a great i think i might have actually covered that in one of my p5 dom library videos i'll show you where that is if anyone wants to know if i can go to youtube.comshiffman and uh oh look it says i'm live now look at that 27 watching um if i go down to uh this one p5.js tutorial part two html css dom uh cover in the this video series all the sort of dom stuff to have different dom elements on top of stuff okay it's 6 p.m yeah uh uh okay i think that seems like all the comments for now so i'm gonna it's noon i think i i've been uh streaming for two hours uh i was uh watching this guy uh i think to run it up on twitch jason somerville was like a poker player he streams for like eight hours a day has like millions of followers i wondered if i like just came here and started streaming coding for eight eight hours a day i don't i don't know what would happen to me but that sounds like fun okay i'm gonna stop the stream uh tweet at me uh see you maybe later this afternoon it'll be late for the europe but uh more reasonable time for those of you maybe on the west coast or i don't know if anybody in australia what time it is there for watching there's not that there's 26 people on youtube and uh 14 people on twitch okay i've got to go and i'll be back in a couple hours