good morning good Friday morning Lulu it's cold here in New York City but not cold in this room where I am welcome to the coding train today is a day that has been a long time coming it's almost become a bit of an inside joke I don't know if it's so inside an open joke and I'm a little bit afraid to actually move forward and cover this topic because I enjoyed the fact that it was just a thing that I probably would never get to but today I'm going to do it computers will not crash fire alarms will not go off lights will stay on power will stay on you will be might leave and go do something else but you might be watching I will still be here I'm going to talk today on the coding train about it's a really long drum sound effect oh I didn't say it huh my timing is terrible chrome extension thank you thank you very much thank you thank you good night thank you thank you thank you alright so here we go so first of all before I get to that I want to I'm so I have a limited amount of time today although I do have two hours which is not that amount of time for a live stream but I have a bad habit of livestreaming for three or four hours often but I want to make some announcements first and just cover some business is the wrong word but just some kind of admin logistics stuff about the channel and my plans for the future and that kind of thing so hi tempting to have a new system if I go to the rainbow topics github repository oh no actually I think it's I think actually it's the rainbow code hold on Oh everything's like out of whack for me can this go up a little higher rainbow code if I go to the rainbow code github repository what I am now at first of all I am now attempting to have a schedule unfortunately the way things are working for me these days I can't I don't have a consistent exact time every week the other thing that I'm discovering is that some people really prefer this time that I'm doing right now especially international people who don't live in eastern time in the east coast of the United States and some people really prefer the later in the day time because it's the evening anyway so everybody has a different preference of time so one thing I'm gonna attempt to do I think is some Fridays do this time and some Fridays do the later in the day time and that actually is kind of what I need to do any with my own schedule but you will see I still have a few remnants of a little scratchy voice last week how do I remember since last year I really lost my voice so I decided I'm gonna be smart about this and take this easy when I had a bad cold last week and I'm still sniffly okay but so this is my plan so if you ever go to this this is a readme file that I'm gonna try to keep up to date with the schedule so to be honest it's gonna change it's gonna shift I wouldn't it's the only thing that's a true official indicator of the actual time I'm gonna livestream is when I well I can always change it for this to what I tweet the time but doesn't I'm gonna try to keep this up to date and when I have to cheat and when I realize I have to change it I'm gonna come right here and change it so that's one thing that I am attempting to do I'm also going to kind of keep track of the topics here now this only goes right now through December 20th the other thing I would love if anybody wants to help I know this could be done automatically and you're welcome to figure out how to do that but I also want to have just a list of every single past live stream with a link to it and maybe the topic as well just as kind of like an archived historical archive of all the live streams so the other thing is you won't see 2018 on this list yet but I am planning something very exciting for 2019 and it is machine learning so I am going to attempt to come back in the new year in 2018 I have lots of big plans for this to do a whole set of tutorials and examples and demos around machine learning in the browser so I'll talk more about what what I'm going to use and who I'm collaborating with and all that sort of stuff soon but that's kind of the plan and maybe I'll get to some of that even before January but that least is my time that I am targeting right now so for all of those have you been asking that's the plan alright so what are some other things that I can say dude are you interested in let's see so there's some okay so if also if you're interested in supporting the work that I do you can buy some merchandise at the at store envy coding train comm you can also become a patron through this crowdfunding site called patreon and if you join the patreon group you will get an invite to a slack channel which is one right here where I'm seeing that grey wizard and the slack channel is asking me if the board is clean it is clean do I have an eraser no I never have an eraser but I do have a whiteboard marker so thank you great wizard for that so and at different levels I'll attempt to send you a gift and that sort of thing ah now I am very behind on sending out the patron reward so in case anybody who's watching happens to be a patron I want to let you know that Matthew and I are going through spreadsheets and lists and checking in and organizing so I'm hoping to get everybody who's at least joined all the way up to the beginning of up until now basically something by the end of the year mailed out by the end of the year so that's kind of my goal and if at any time you are feel like you were supposed to get something but you didn't get something send me or send Matt Chia a message a direct message in the slack group okay so that's what I want to say I think that's about it alright so I gotta get started let's see so first of all let's just check in on a couple like things from the community let's look at hashtag circle morphing let's see if we've got so recently they're the most recent coding challenge that I did was about circle morphing different algorithms and techniques inspired by a gif repository and tutorial video from Golan Levin of different ways and this looks like something that's like responding to sound so oh yeah it's responding to sound and it's changing between the circle and the triangle so morphing from a circle to a triangle to a square here's another one ooh this is really nice this is good for meditation I forgot where I was for a second okay let's let's look at some more this is from Cobain a on Twitter look at this this is this is something that's not related to the coding challenge but whoops and what just happened here I don't know what I just did on top okay so and so anyway so let's keep looking oh this is kind of a wild one from Robert Swain on Twitter which is somehow combining the maize generation tutorial I have with the astar pathfinding to get all the vertices along the path of a triangle I kept this is like I'd have no idea how this works or what it's doing but it's kind of nuts and amazing in a wonderful way ooh I have not seen this one whoa that is wild ooh all right this is a lovely one have not seen this one that is pretty cool so please continue let's look at this code pen continue to share your oh yeah look at this that's pretty nice Oh order chaos to order order to chaos kind of love that kind of stuff let's hit refresh watch this one more time oh so this looks like all the points of the vertices of that circle being just from random locations and then all slowly moving back to their original location wonderful okay so I'm looking at the chat and I'm seeing that my computer science class just finished Oh excellent go computer science class all right so I want to get started the other thing that I want to quickly check in on is I'm going to go to my twitter feed slash Schiffman and i'm going to go to this thread and let's look at Noah van boven if you are watching I need a link to your extension if I'm going to use it as something to show so I want to just get a few examples of creative why can't I not use my computer today I want to get a link to some creative Chrome extensions and let's look at this one I think this one might have some interesting language oh that's pretty great bookmarklet okay this is a familyfriendly coding show though so I think I ppreciate subversive and strong activist artworks I might not use that one just for today so this is okay this is great delete show nest I'm looking for girls vs. get from addy wagenknecht anybody in the slack channel if you can pull something from the YouTube chat or if you have something I'm looking for examples of creative artistic activists subversive things that are Chrome extensions that are maybe not necessarily what Chrome extensions were intended for in the most obvious sense that a business might use to you know tell you if there's a coupon on the webpage you're on or whatever okay so I'm looking for this is a Chrome extension from the artists at addy wagenknecht who is fantastic great so I've got the deletion esthe I've got this one there is one which is like called code doodles chrome extension I think this one is a nice one if I just go to the page for it this is a great one and wordless web this is one of my favorite projects but I couldn't find it Corie for sites and Gigli this is a wonderful bookmarklet called wordless web but it doesn't seem to exist anymore if anybody can find this for me historically a version of the wordless web bookmarklets if it's somewhere I would love to demonstrate this one as well okay so this is where I'm getting started I've got the deletion s I've got Co doodles I've got girls versus git and I've got wordless web and Noah van boven if you're watching I would love to see an extension lets you draw on the current web page that is exactly that's one of the examples that I would like to make with p5.js okay Oh momentum that's the one everybody loves everybody at ITP all my students have this momentum Chrome extension let's get that one as well okay I'm looking in the chat I don't see any other suggestions okay I'm gonna make one that changes all of your images to kittens that's what I think that's what our unicorns or something like that all right so I think I want to jump right into this is I know Simon will appreciate this it's always timing me I want to jump right in to teaching and tutorials it is 1043 a.m. I've got till 1230 so I want to see I've got a lot of let me open up my chrome extension tutorial page I've got a lot of examples and pieces that I want to make but but I won't have time to get to everything today so this might be a twoparter off to come back and revisit stuff can somebody say on the slack chat I've posted a link on Twitter again alright excellent Thank You Noah so let me go to back to this thread here we go well now I have the link to momentum Noah I want the link to yours let me see let me just maybe it's just in your Twitter oops here we go wet paint found it thank you Oh wonderful oh look at this is amazing wonderful this is perfect thank you I'm going to feature this so we'll install a couple of these we'll install a couple of these web paint being one girls versus kid I think I will just mention cuz it's not in the chrome store actually let's let's let me try to install this to see if it works still so I'm gonna do this before I start my opening video and what I'm going to do so I'm gonna do some stuff that I'm going to actually cover in the tutorial but I want to just have an opening video talking about what why you might be interested in this topic of Chrome extensions so I'm gonna do some stuff here for a second that I will cover how to do in a little bit let's see if this works so hold on here we go there we go great this is working but it's not doing it let's see so Oh girls versus get is broken probably we might have to hold on let's disable this one we might have to fix it we might as a community have to pull requests so I'll just have to talk about this one it's too bad that I can't show it wonder if I can debug this really quickly helper functions Jas cannot read undefined yet let's just try a different page see if it activates no oh oh I'm going into the territory of things that I don't want to do so what it's supposed to do is it changes the color scheme and it changes swaps out the avatars and that type of thing I'm gonna give myself a couple seconds if anybody watching wants to investigate knows Chrome extensions already wants to investigate but I don't want to lose I mean it's more important that I get to the tutorial stuff but I want it to open by demonstrating some interesting projects made by other people and addy is one of my favorite artists oh this is a packed one hold on let me just try one other thing disabled no no okay so let me go to source scripts helper functions let's just see if we can fix it because github probably changed line 63 whoa so there's like some parsing going on of oh it may be because I'm not logged in know that so I don't think I'm gonna be able to effectively debug this without losing too much time and not getting to the tutorials so that's fine I will just show the home page for we don't have to run it yeah but I am logged in so right look at me logged into github right there so I am going to just not worry about it so let's remove this one and I will come back to it I will look at that later and maybe we great to have that extension I mean it's an old a project from years ago I don't know if addy is interested in keeping it maintained but I would certainly be happy to help I am going to at least open up her website so I can mention that all right anybody find wordless web all right I think I'm ready now okay oh good 1050 so I'm gonna do a quick in case anyone's following along this is now part of the programming from A to Z course this is a course that I made a whole lot of videos for a year ago and then I recently this year added some videos about chatbots and oh my goodness I just have to mention this is a wonderful project that just came out which is by Nicole key and Nick Jonas I think it's a different Nick Jonas than the one you might be thinking of called mystery animal it's a voice experiment for Google home and Nicole wrote up a really amazing yeah medium post about how this was made so I would highly encourage her this I actually one of the tools that she used it's called dialogue flow and so this is something that I really want to I don't know if I'm in the right place but this is something that I really want to take a look at at some point if I can get back to that jackpot series as well as there is also something that was recently open sourced by Google the project by Kate Compton the creator of tracery and many other amazing things that I always love to talk about called battery and so if I look for battery this is something I haven't had a conversational agent prototyping platform that I have not had a chance to really look at but I would love to do this in a future videos ah stop procrastinating let's get to the topic of today but you guys can remind me about these things and I will get to them alright we are now ready for what is this session 12 maybe of programming from A to Z is that possibly correct alright I'm the wordless web github.com /ban tick wordless web thank you wordless web oh boy let's see well that's is this let's just try all right van tick github io is it hosted with github pages whoops Mantic github dot word less wet no come on van tick I guess I could clone it and build it all right hold on this might be as simple actually as I just I don't have I don't think I have Jekyll installed but could I at least just do this it just doesn't have the styling but that's fine nope ah this is totally it all right do I have Jekyll this is making me crazy it's probably not worth oh I do have Jekyll awesome just like I don't want to go through installing it Jekyll serve whoops I tripped in server but that seemed to do something by accident okay there we go wordless web let's just try like New York Times comm all right doesn't seem to be working oh it needs to connect to Oh cuz that's not there okay I'm have to hold on iiiii I know I could fix it but I'm just not going to I'm gonna get to the topic I know how to get this working but it'll be here later I'll come back and get all these other projects that I love working the deletion astiz kind of similar idea here okay all right let's get started everybody are you ready session 11 you sure the chat bot wasn't session 11 session 10 chat BOTS you're right Thank You Simon alright so please can you guys hear the vacuum cleaner it is a very loud vacuum cleaner I'm now in the hallway and hopefully it's not causing too much of a sound problem but I'm here in the actual room itself here we go Oh where's my bell hello welcome to another session for the course programming from A to Z and accept accept if you're watching this video it's called programming with text on YouTube because programming from A to Z sounds like it's a beginner course and this course is really for people have already gone through my foundations of JavaScript stuff and I want to do more things with programming with text generating text analyzing text and a lot of different things like that so one of the what what is this playlist going to be about this playlist is about Chrome extensions and words that I can't say book bar clips I like to say bookmark lay no that doesn't make any sense I was like the French for the book bar play no bookmarklets it's very hard to say bookmarklets so why is why is this interesting why is this important so all of my sessions in this particular course have all been about I mean this is not entirely true but this is a web browser the sessions have all been about programming kind of what happens inside here inside the actual content of the page by creating your own I know it's a vacuum cleaner because I live in the real world where the things happen like vacuuming but I'm just go on my own eyes my mind lives in its own universe though which hopefully makes these videos somewhat watchable but or not anyway so this is what we've been focusing on and maybe you make an HTML file and a JavaScript file all sorts of things to make things happen in here but working and working with text so you make a web page it generates a poem and it makes a chatbot with the user all these kinds of things that I've looked at analyzes text that a user typed in but what if what you really want to do you affect the browsing experience as a whole so what if what you want to do is say when the user is on the website github or when the user is on the website of a particular newspaper their experience the that users experience of browsing that web page changes now this is typically done and so a way to do this is with two different things one is called a book mark lint which is a way of creating a simple bookmark button that can live up here that can run some JavaScript code to alter and change your view of the current web page you're on the other is called a Chrome extension now you can imagine here the reason one sort of one one limitation of me making this tutorial video is that it is a Chrome extension it is only for the browser Chrome but it allows you to essentially make if you think about chrome like you might think about your phone you could develop an app for your phone to alter your experience of using your phone a Chrome extension is like an app for the web browser Chrome itself that allows you to alter the behavior of the browser beyond just what's happening in the page so you can add interface elements you can know about what people are typing into the address bar you can create a page that shows up whenever somebody has a new tab you could know that somebody said new tab you could know you could you could pop up a timer whenever our user is on you know some sort of like social media website to tell them you only have five more minutes to look at this website and then close the tab for them anything you could do to alter subvert change the browsing experience now this exists as a business model because companies can make Chrome extensions to you know offer you a coupon or I don't know have popup Chat popup that offers to give you help on that page I use a Chrome extension called two buddy I'm now which I'm now by accident promoting which gives me extra features to see how to manipulate and know my stats and all the sort of stuff while I'm browsing you so that's really but what I want to think about in this playlist are this idea I'm just gonna call it for lack of a better word creative Chrome extensions so what if you use a crow what if you create a Chrome extension to subvert distort change our browsing experience for the purpose of social commentary or art or activism and I should mention there's something important about this this is not something that you can just put on somebody's computer you can make a web page put it on a web server email all your friends they come to my web page but you you can't put a Chrome extension on somebody's computer without them opting into that we'll see that in a moment as we look at the Chrome extension store however I'm not really in this playlist going to focus at all about how you can deploy your Chrome extension to the store I'm gonna show you how to use a Chrome extension in what's called developer mode so you can write and create and debug and edit and change your Chrome extension right there on your own computer if it's something that you then want to distribute you can package it and put it into the chrome store and I'm just super so kind of approval process there but we're gonna stay with a sort of local development environment so this is kind of the overall picture and so in the first two first tutorial what I'm going to do is has a warmup kind of looking a bookmarklet which is kind of a much simpler lower look lower barrier of entry point to just do something interesting with manipulating the browsing experience so I'm gonna start with that and that so if you if you want to get to the code stuff you'd stop this video now just go to the next one but what I'm going to do before I get to that is let's look at some examples of some different Chrome extensions all right pause for a second oh is there a is there a cs50 live stream going on right now how do i watch that who live now you guys can't hear this can you how many people are watching there okay so I got distracted okay watch that anymore a wordless web Oh Oh Ryan it's oh that's awesome thank you can you Oh Ryan 13 can you in the slack channel I don't have slack open on this computer and I want to retype that if you could I'm trying to think if you could like to tweet that to me if you could just put it in a gist that I could get to then I can get that to run here I'm more popular well first of all if you want to watch something I'm sure that cs50 is like actually very very very good there's 648 people watching this right now freaked out alright so I'm gonna wait for anyone in the slack channel to perhaps get me that wordless web code so I could use it but I will right now keep going okay so I'm gonna now pretend for Matthew this is now editing magic all right so let's look at a couple examples of things that I'm thinking about this is a bookmark that called the deletion ascent to me on Twitter and I believe it actually relates to something that I did a previous video about erasure of poetry kind of which is that let's try it so a bookmarklet is a thing that I can drag into the book our bar and then in theory when I press this button oh it got rid of stuff so let's go to let's go to github.com and let me click the deletion nest what and it got rid this is actually very very similar to one of my favorite bookmarklets called wordless web which actually gets rid of everything on a web page that is text which has some really surprising and interesting effects trying to think of one more website that's not going to make me feel so awkward and uncomfortable to go to to demonstrate this idea but anyway I encourage you to play with the deletion so this is something maybe we'll make a bookmarklet that replaces every image on the webpage with like kitten kitten images or something like that we'll do that another Chrome extension that I wanted to show you is by one of my favorite artists I'm adding wagenknecht her website is places I've never been calm this is a Chrome extension that she created called girls versus get I'll just read to you what it does every username on github is replaced with a generic female username every Gravatar is a place with a Gravatar of a woman or female type image why there is a death of women contribute to open source software this plugin is presented as a filter to challenge assumptions about gender roles and software and to rewire your brain so you can see here you can imagine this is a one something you could do with a Chrome extension is it only activates when you're on certain web pages and changes your view of that web page and so you can see this is this is on github I will include links to all these Chrome extensions and bookmarklets in the video description I'm gonna come back to wordless web this is a Chrome extension that was submitted by I'm just want to make sure I have the right name looking in the slack channel here I believe sorry Noah van boven I apologize for pronouncing the name incorrectly called web paint let's try adding it so if you make a Chrome extension that's in the actual chrome extension store you can just go and hit add to chrome' now here something really important this is what I mean by opting in Chrome extensions get a lot more permission to do stuff beyond what you would normally have just in a generic regular web page so this Chrome extension says it can read and change all your data on the websites you visit presumably this has been vetted by Google I suppose and it's in the chrome store because it doesn't do stuff like you know steal all your passwords but this is certainly other certainly security and privacy issues that are at play here but I'm gonna add this extension and then what I'm going to do is I'm gonna go back to github.com Schiffman atoz I'm gonna like now one thing a Chrome extension can do and we're gonna see this is you can add menu options to the menu like this button so now I'm gonna click this button look you can even do a popup well I'm gonna show you how to do popups too and I'm gonna pick this pencil and now I'm gonna just start doodling or it so this is by the way this is very similar to a what else can we do this is so fun this is way better than my example ah anyway I clicked off of it but you can see this is something that I intend to make as part of this playlist a Chrome extension that allows you use p5.js to draw and make a canvas overlay over your over the webpage that you're currently browsing on ok another Chrome extension is one called code doodles this is something you can do too I forgot what it's called but to create a web page that appears so right now if I make a new tab I don't have a Chrome extension that replaces the default chrome new tab which just shows me the Google search bar and some recently visited sites but momentum is another one all my students will have this one I should probably install it let's try the code doodles one so I'm going to add this one it says this one all I can do is replace the page you see when opening a new tab add extension and so now every time I make a new tab I get whoa I get some cool interesting code doodle project oh so I would have to research this more to know credits wise like who these are coming from I wonder if it's still oh it's loading wow these are all like super crazy WebGL 3d things which is kind of wild so so you can see the range of possibilities I also wanted to mention I'm just checking the chat here I'm already getting ok so I'm getting all these great messages about other Chrome extensions and things but I also want to mention a wordless web which is one of my favorite projects very similar to the wordless web sorry by Corey Forsythe and G Lee which this is a Chrome extension that takes whatever website you're on so you can see this is an image of Facebook and just gets rid of all the words and all you're left with are just the images it's be interesting the thing about doing one that does the other so I hope this video gives you kind of a general introduction to the it's the words diagram ever overview of why it is we're here and a range of some kind of creative and artistic possibilities and what I'm gonna do in the next bunch of videos is just really go through the nuts and bolts of how to make these things and then at some point hopefully towards the end I'll do a couple coding challenges to make some quirky Chrome extension or bookmarklet projects okay thanks for watching and I'll see you maybe in the next video okay alright so that could use some improvements thank you for everybody submitting wordless web and the fix for girls versus get but I think that's gonna do it right here alright that's the end of my coffee I didn't drink coffee for like two weeks gonna have this like cold and throat thing but today I'm back alright so I'm looking I'm looking I'm thinking okay so let me get set up for the first let me get set up for the first video so what I'm going to first look at how to do is make a look when we call this uh I'll just call this folder Chrome extensions and I'm gonna make a folder called bookmark let's bookmark see I even spelled it weirdly and then all I need let me let me go back here let me open this up in Adam and we actually don't need to run a web server for doing Chrome extensions the way we're going to deploy them to the browser is gonna be a totally different way but for this bookmarklet I am going to excuse me so I'm gonna go to a desktop Chrome extensions bookmarklet and then I'll better run a little server I mean I actually could get away without running a server but it's totally fine so now I need Chrome open and I'm going to make a little webpage call it index.html what's like some generic let me just go and grab some like a whoa Oh seriously let me grab some index.html from somewhere else and I really don't care about a lot of this stuff I mean this just one a very generic this this is good enough for like totally generic HTML right okay okay and all right so Oh Thank You Simon I want to I want to clear out all of them oh that's a nice one hope actually having this I do want to clear these out because I want this to be empty when I get to leave this one in here when I get to demonstrating this stuff okay how's everybody doing everybody okay I think we're ready for makeup bookmarklet well I was like no I'm not ready yet yeah I'm gonna erase this we need to refill this with water seems have to be fine for them alright okay let's see do I have another this is making me crazy how dirty this is right here so let's try to all right in this video tutorial I am going to make a very basic simple bookmarklet I might come back and do like a coding challenge with a more like sophisticated one but this I just want to show you the basic idea and this is really just a warmup a lot of things that you could do so this is a warmup oh I should really just get to the code but I start over I got hello this is a video tutorial where I'm going to show you how to make a very simple basic bookmarklet and this is really a warmup my goal here in the next video in the video after that and the video after that is to start looking at Chrome extensions Chrome extensions are a much more powerful way to affect the browsing experience as a whole and actually the interface elements and all sorts of stuff in the Chrome browser but a bookmarklet is a really quick and easy way to add a button that's like a bookmark that triggers some code that changes your browsing experience so let's look at how that works so before I get to that I want to talk about some things about JavaScript and you know I'm going to kind of live in es5 which is kind of the a1c I'm gonna lipid es5 which is and not use some of the fancier newer JavaScript syntax just to sort of demonstrate the simplicity of the idea but I I'm sure that it will get people watching who will help suggest fancier ways to write the same code and I look forward to including that in the material supplemental materials that'll be linked from this video subscription so if you've ever made a function in JavaScript you might have done this function you know hello curly bracket curly no parentheses parentheses curly bracket curly bracket if I want to execute this function I want to run that function I would just say hello with the parentheses that means execute this function so now you are probably aware for my eraser here it is you are probably aware that in JavaScript functions can be anonymous meaning they don't have to have a name and it can just look like this but then how do you execute the function so typically you might write an anonymous function because you're passing it in somewhere as a callback and somewhere else it's gonna get a reference to it and call it somewhere but in the case of a bookmarklet what a bookmarklet actually is it's a JavaScript function that when you press the button it runs and so a funny thing that you can do if this is the entire right remember if this was named hello then I could execute the function with the name and these two parentheses I can actually just execute the function by putting the two parentheses there so this is like an anonymous self executing function okay I think that's right there's some probably of appropriate technical term for it so this is actually somewhat a bookmarklet actually is and if I just put something like console dot log or alert maybe alert will be a good I I think never I have this like mission in life to never ever use a JavaScript alert and I'm gonna somehow I'm gonna do that but I'm gonna break that mission that's it right now so I could say alert you know hello so if this were the code for my bookmarklet whatever the user presses the button or goes to that quote unquote bookmark this code is gonna execute so this begs the question this is very simple idea and and now it's up to you like what do you put in here you can read you this is where you can start parsing and looking at what's on the webpage and changing it in real time with JavaScript but other question is where's this code go so now let's look at that alright so you might be aware that if you go so if you go to a URL and this you don't really see that Chrome by the way is hiding the fact that this is HTTP colon slash slash so I could go to URL by saying HTTP that's I'm saying I want to make a hypertext Transfer Protocol get request to this URL but I can also in the browser look at things that are like files on the computer so I can open up index of HTML and you can see oh look now I'm going to the file colon slash slash but I can actually there is and there's actually like a data path where I can do you base64 encoded images there's all sorts of different kinds of paths that the address bar will accept one of them happens to be JavaScript I let's dare I try to do this function oh shoot well you know what I hate do I need parentheses around the whole thing yep yep yep i Function oh I am remembering something that I'm also being told in the chat I made a little mistake here which is that in order for you to execute this function the way that I've described here you actually have to also enclose the entire nameless or anonymous function in parentheses itself so otherwise it's that's unclear I guess to the interpreter like what this actually matches up with so this is execute the function that's inside these parentheses I'm pretty sure that's required so now let's come back here and so the reason why I saw that's just now I'm going to actually just type that code in right here in the address bar function that's gonna be really hard function curly bracket alert hello semicolon close curly bracket close parentheses parentheses parentheses so this is me saying I want to go to this URL it's JavaScript colon slash slash I don't think you need to slash slash if I'm thinking about this I think it's just JavaScript colon and then this code which is a selfexecuting anonymous function so I'm gonna zoom back out here and I'm going to now hit enter as if I'm loading this web page and I get this alert the page says hello so this that's actually what a bookmarklet is and I wish I had copy paste in that because now all I need to do is I can say I can have a paragraph and I can say I can say hey this is a and I can say aah ref equals book mark litt all right so look take a look at this now we can see this here now if I click on this nothing happens so what can go in a a what can be the H ref to an a tag it could be a URL it could be lots of things one of the things that can be is actual javascript code so for example that same thing that I typed JavaScript function oh I need to put a parenthesis around the function function parenthesis curly bracket alert hello close quote close parenthesis close curly bracket close parenthesis execute so now let's try refreshing this page and now whenever I click on that it runs that JavaScript code now guess what if I wanted to bookmark a URL all the whole thing like if I like here I have a bookmark up here to the rainbow topics github repository if I click edit all this is is a name for this particular URL a bookmarklet is just a named set of JavaScript code so I can now say I can now write if actually what I can I could have created but I can actually just drag this up here and you can see look at that now I have this here and every time you I click on it I get that alert click alert click alert and if I go edit we can see this is just this now its URL encoded it did that for me because a quote is not a valid a valid character in a URL so the this has been URL encoded meaning % 27 you office lilike % 20 that means space % 27 currently means a single quote I think so you can see you can write it this way now so in a way we're done yay we made a bookmarklet but we haven't really done anything yet like here something is this really sustainable is this the thing like oh my goodness and I how am I going to send what if I want to do something really elaborate I want to crawl I want to look at all the content on that web page and I want to find all the paragraph elements and I want to look anytime the word puppy is in there I want to change the word puppy to kitten so it's a it's a bookmarklet that changes puppies the kittens or swap images out or change the color of every webpage to a random color all these things are possible but working with kind of trying to write the code in here is going to be so incredibly awkward like how am I going to really develop because I can't really have line breaks or spaces very easily here so there is a strategy that is used quite often pause for a second just I'm thinking about where I'm going with this this is helpful so far what if I missed here okay so yeah alright I'm thinking all right I don't think I know what I'm going to do so the next step that I want to show you is how could I write all of my bookmarklet code in a separate javascript file and then simply point to it from here so in other words what I want to say is new file I'm just gonna call it book mark clipped J s and then what I want to do is I want to be able to write the bookmarklet in a way that's much like easier for me to follow and debug so for example something that I might do is I might say you know console.log bookmarklet starting and then I might say and now I don't have access to there is a way to gain access to JavaScript libraries like I could have jQuery or p5 be a part of what I'm doing but I'm gonna just do stuff with native JavaScript so I could say for example you know let P paragraphs equal equal document get elements by tag name us P and then I could say for let I equals 0 eyes less in paragraphs length I plus plus and I could say paragraphs index i dot inner HTML equals so this is me like kind of doing a little version of the deletion esther wordless web like we find all the paragraphs on the page and just set their inner HTML to nothing or i could say it's at their inner HTML to kitten so this now if I wanted to I could put all of this into that JavaScript URL and I could like remove all the the I could remove all the white space and probably make it work but what I could do that's a little bit easier is and I'm gonna I'm gonna just type this out on this in this text document for a second down here is I could actually say alright so this is kind of the and I could write that this anonymous function and then what I can do is one of the things you can do in JavaScript is add elements to the web page and so the element that I want to add is a script so I'm gonna say let script equal document dot create element script and then what I want to do is I want to add to change the source script source equal to book mark lit AAS so I want the source to point to this other JavaScript file and then I want to say document.body.appendchild script so in other words this is kind of some boilerplate code that can basically say any I this just a point to a different javascript file that's going to have all this other stuff and it tons and tons of code and then just load that and execute that code whenever the bookmarklet is is trigger so this is actually what I want to to get this right hopefully I got this right this is what I want to go in here and this is gonna be a little tricky to make happen actually what I'm gonna do I'm going to do this here is now what I'm gonna do is I'm going to just put this all on one line there might be a way for it to account for line breaks and stuff so I'm gonna take this now and I'm gonna put it in here let's see this is really gonna work I didn't close the paragraph tag so let's see what happens here so I am now going to refresh this page I'm going to delete this one up here so you can see that I am going to I'm just gonna like click this okay air for for file not found so I think there's a locate so there's a little bit of an issue here which is that and I'm gonna get to this it you actually need to host your JavaScript file somewhere and I have one that I already made and hosted somewhere let's see if I can get the one that I so this this won't really work in a sustainable way but what I can do I wonder if it doesn't like the whitespace either but I think more likely right what I need to do is just say this because what I want to do let's just make sure this is the right URL for that JavaScript code it is there's that JavaScript code of that URL so that that should allow it to point to the actual URL where that JavaScript code is hosted now what I'm gonna do is click this okay I'm gonna check this out I'm to check that don't get lost in a bookmarklet for the whole yeah script out yes or mean dot yes shoot I should just go for the a premade example that I made but now I kind of want to know why this isn't working Oh does it need to be double quotes I mean it can't be that it needs now that shouldn't matter cuz it's just JavaScript code is it possible that the whitespace is kind of like no it needs the whitespace anybody see what I've done wrong here let me let me go back again oh yeah oh wait a sec yeah look at that oh oh I know what's wrong oops I made a really silly error I completely forgot that I need to have this say JavaScript at the beginning just miscellaneous JavaScript code in that URL is not going to do any good so this has to say JavaScript sorry about that okay let's so let's try this one more time I'm gonna put this up here I'm gonna click this Oh ping get an error uncaught unexpected end of input so where is this error now I probably this is hard debugging is hard especially where the bookmarklet where did this error come from it could have come either in this code here or in this code here so here's the thing let's let's let's look let's look at this and see if I can see an error oh look at that no double quote double quote that's fine script so one thing we can try to do is yeah I forgot the JavaScript them you guys are behind me now I have something else where why won't it give me unexpected end of input let's let's I have an idea let's try commenting out this so syntax er can't be there and maybe I can go can I change it to no oh that's an air oh it doesn't like that white space there look at that so by the way I was able to look at this to get some air here so that white space we need to get rid of the unnecessary white space I think so let me see here boy this is rough see this is the thing we do a Chrome extension and before have all these problems let me try doing this let's see if there's any other unnecessary whitespace oh let's see I think this they have to have white space here so let's try this now oh no something else is wrong debugging is hard so what's wrong here document that create element script script that source equals this maybe it wants double quotes everywhere what's not using single quotes let's try that oh yeah I have look at this syntax highlighting why's something is going on that's weird let's try this mm only thing I want to do is clear browsing data oh I don't know no can i these quotes these quotes should be how they all have to be single quotes right because they're within the double quotes how did I do it yeah that's definitely the problem there we go I'm not getting the error anymore but and this okay hi I'm back I don't know when that edit point what happened but I got stuck for a while because it what so this is extra tricky and it won't be as much of an issue in a Chrome extension but because all this JavaScript code is within double quotes as part of the URL path for the a href element I've got to make sure I use single quotes in internally inside otherwise it's going to get completely confused maybe I could escape the quotes but it wasn't working so let's now let's oh I was debugging I kind of comment to stuff out so I'm putting everything back and I'm going to now refresh this page and I'm going to click on the bookmarklet and Oh kidding I did it it said kitten yay so let's delete this and I'm going to refresh this page why is this computer so unbelievably slow hold on a sec you took up I think something crashed I think I might have liked hold on time out for a second again yeah this is there's something crazy about this right oh yeah I don't know okay I don't know why I didn't work a second ago alright so let's try it now I'm gonna click on this bookmarklet and it made a kitten and we see the console.log perfect so what I can do is I can now drag this up to here I could go to like my tutorial page I'm now on my tutorial page I'm gonna scroll to the middle somewhere where there's a bunch of paragraphs I'm gonna click the bookmarklet and all the paragraphs now say kitten yes so this is the basic idea of making a bookmarklet what you need to do and it's obviously a little trickier than I thought and you can see actually I actually just copy pasted the code for my tutorial but here it is right here I can just basically all I need to do is have this boilerplate code that points to a JavaScript program that's hosted somewhere and then what it does is that JavaScript program does something parses the web page changes them stuff anything is possible there now there's a couple things I want to mention about this browsers browsers love love love love love to cache your stuff so if I don't know if we're gonna if this is gonna happen but let's see if we can make this happen if I change this now to say puppy right and I go back to and refresh this page and click the bookmarklet it does say puppy so it worked but I've definitely been in a situation where I changed the code and the bookmarklet did it actually update when it when I when I executed it so a way that you can get around this I actually have it here in this tutorial so I'll just come is is to add a kind of arbitrary URL argument which is like the current date and time which will force it'll make the URL appear different to the page that's loading the JavaScript code and it'll force it to reload so I'm gonna leave that out of adding that in but you can when I publish the code for this example I'll include that as part of the code now what I've shown you so far it doesn't really do you any good what I least what I'm going to do is I'm going to show you this is actually a piece of JavaScript code that's basically the same thing that just takes all the paragraphs and changes their background color to some purple so the way that you really want to do this is you want to host your JavaScript code somewhere permanent and then what you want is for the bookmarklet to reference not like referencing localhost is no good it's gonna work on my computer but you want to reference a URL that's actually out there somewhere in the cloud the nice thing about this is as people use your bookmarklet I mean there's a there is a sort of security question here you can change your bookmarklets code and they don't have to reinstall it because the the actual code that they have in the book market is just pointing to another javascript file and that javascript file can be updated okay so maybe I'll come back and do a coding challenge oh but but so sending your creative bookmarklets that change images the kittens or puppies or rainbows and unicorns or whatever and all sorts of unserved more creative ideas than what I can think of right now but I'm gonna now move into Chrome extensions we can do I'm going to start by making a Chrome extension that does exactly the same thing but with this kind of code that alters your view of a web page in a Chrome extension there's going to be a lot more possibilities what you can do beyond that okay so thanks for watching this bookmarklet tutorial and I'll see you in the next one yeah everyone's telling me about the quote stuff all right so it's my hair green is my hair looking green today it's probably just because this is a what's behind me is a green oh you can't see that is a green screen but I'm keyed out alright how is that how what am i doing on time wise eleven forty okay I don't know I didn't intend for it to be so much debugging all right so I'm gonna now make a Chrome extension whoops call it basics and we don't need this anymore okay yeah them I'm looking at so fly our anonymous s why don't you look at this chat I do look at it periodically it's very hard for me to go through a tutorial while reading a chat the concentrate though I am kind of scatterbrained and make lots of mistakes and also yeah you've solved all the bits there's generally like I appreciate how helpful that you had all the problems but often it Scrolls really fast and I can't read it and sometimes things that people post in the chat are not the correct answer and are troubling me yeah I've had that experience which gets me off on another so I try to say glued to the slack chat which is part of the patron group to try to see but yes I thank you I will try to do a better job of keeping an eye on the chat I aspire to be reading the chat while it's going but I also part of people's learning I hope maybe while watching the videos is seeing my own debugging process as painful as that can be to watch alright so I want to keep moving on here Oh WebGL stuff yes I want to get to that is that on the schedule if it's not somebody remind me because there are a lot of great new WebGL stuff in p5 that I can cover okay let's see here I wish I had some water next time let's go back to here oops so we're now going to start actually doing a Chrome extension this isn't working here we go oh this is off okay all right so how to besides having you watch me erase this is I want to talk about Chrome extensions and I guess the anatomy of a Chrome extension I'm going to start with the most basic kind of Chrome extension you can possibly do so first of all again let's think about this diagram this is the Chrome browser maybe there is there's a toolbar there's an address bar there's a whole lot of elements here all of these elements are things we can control manipulate and play around with as part of making a Chrome extension but I'm going to start with a sort of basic idea of affecting the actual content so for any Chrome extension that you make the first thing that you have to have is something called a manifest file manifest dot JSON so this is the first thing that you need this is a file that has all the configuration properties and information about your Chrome extension so that's let's go first make a manifest a JSON file alright so I'm gonna go to Adam I'm going to make a new file I'm gonna call it manifest JSON and so this is just a sorry I lost my train of thought um this is just a sorry this is just a JSON file so and it's going to have its kind of like if you've ever made work with no dot Jaso you need a package that JSON file that describes your project so there's a couple things that I need in here I need to say manifest version 2 and so I think there's different versions of like the Chrome extension API stuff and there was an older one maybe there's even a new or one but two is the one that I use and it works I can give it a name like coding train extension I can give it like a version which is just my madeup thing like oh it's virgin 0.001 and yes so that's let's actually just start with that okay so let's start with that so this is first what I need I need to have this kind of configuration file now there are a variety of kinds of Chrome extensions you can make we've mentioned this one that overrides the new tab page the first there's there's ones that add buttons to the interface there's browser actions papers all sort of things I'm gonna get to all that stuff the first thing that I want to add to my Chrome extension is something called a Content script and a con if you watched my previous bookmarklet video the content script is basically exactly the same thing that I did in the bookmarklet it's JavaScript code that will execute when the page loads and you can after the whole page is loaded and finished manipulate and draw and do things and alter the behavior and content of the web page work early on this is a very powerful thing for example let's say you want to make a Chrome extension that for anybody browsing the New York Times it swaps out any time the word computer appears with the word flower so if you wanted to do this project without a Chrome extension how would you do it oh maybe you'd have to create a whole fake website that kind of looks like the New York Times or you would load it and then you would are you would copy you've jumped through all these hoops to cry to create that illusion the Chrome extension is a program at least a Content script is a program that executes that runs for any given web page that the browser is currently on and you can say a lot of stuff like only for these URLs only for this you know you can know which tab you're on there's lots of possibilities there so this is the first thing that I want to add then a Content script can have a bunch of things associated with it but I'm going to associate with it just one thing which is a JavaScript file content j/s so before we can start writing that javascript code we need to add tell the manifest.json file about this content script so let's add that so I think I say I might be getting some of this stuff wrong I think I say content scripts because there could be more than one and then that's an array and then I think I said do I say JavaScript wait and it's another it's an array of objects and I think I said no I think I CJ s and then I could say like content J s so for example here is this Chrome extension now has a Content script called that is where all the code for this content script is in this JavaScript file I have to make that JavaScript file now content J s and all I'm gonna do is put console dot log you know Chrome extension ready to go whoa what did I just chrome Chrome extension go okay so I'm just going to put a console log in the in the content script now I am missing a kind of key component here which is that by definition a Chrome extension runs based on sorry turn the camera back on the Chrome extension runs first checks the URL that the current of the current page and then decides whether to run or not so one of things that I can add to this I believe is matches and that's also an array and then so I could put things in here like you know anytime I want the New York Times and you can I don't know if you can use a full regular expression in here but you can definitely use wildcards but I'm just gonna do I think it's all URLs so this is this should be what you put in if you want your Chrome extension to run on all URLs so we are by the way we're done we've actually made our first Chrome extension the only thing we need is the manifest.json file that describes the Chrome extension and we need the content dot J's file which is the we actually don't need that but if I want to just do the basic one that is a Content script that's what we need so let's see now here's the question like oh my goodness how do we get this to run do I run a local server and I open up the JSON file in the browser No so this is a this is a interesting it's actually quite simple to do but what I want to do is go to Chrome oh yeah so by the way so I can go to HTTP to look at URLs I can look at things on the file path in my in my previous bookmarklet videos I showed how you could go to like a JavaScript path to execute JavaScript code but a lot of things for Chrome you can get to like the version settings all that kind of thing through the URL address bar this is called by the way I think the omnibox I think because there's actually you can one of the things you could do with a Chrome extension is you can start to provide suggestions and make things happen based on people type in the omnibox but I'm just gonna go to extensions oh shoot hold on Matt's here this is gonna be a little edit points because I don't want that to be clicked shoot taurine I'm not gonna have that it's not gonna match I'm not gonna have the right zoom but I'm gonna go to Chrome extensions and you could see here so here's here's my Chrome extensions page I only have one Chrome extension installed JSON format or I can enable it or disable it one thing you can see here is permissions so all Chrome extensions have permission to do certain things this one allows is allowed to read and change all the data and all the websites so hope you visit that sounds very very scary but ultimately you should be I might have to take a break by the way in a second to go get some water the one day that I forgot to get water is the day that I still have this like sore throat so let me let me keep going here so it says it can read and change all of your data on the websites you visit this is actually the basic permissions for a Content script that's what content scripts are allowed to do read and change all the data on the websites you visit so Chrome extensions are really something you have to optin to and there all sorts of security and privacy questions that come with them but we're just experimenting playing around and where you want to make Chrome extensions just to run on this laptop here not to be necessarily released to the chrome store so how do I do that if I want to install run the Chrome extension code that I made I've got to go over here and first click developer mode and what you see now is that this miss these options now appear load unpacked extension pack extension the unpacked extension is just the raw code manifest that JSON the content touch is pack extension is then a thing I could do to like package it all into a single file to deploy it to the chrome store but again that's kind of beyond the scope of what I'm doing at least in this video it's really maybe in all the videos so i'm gonna click load unpacked extension i'm gonna navigate to the desktop i'm gonna go to my folder called chrome extensions i'm gonna go to this one called basics which is where i have those files and i'm gonna hit select and now we might find out that i might have made a mistake i might get an error let's see so excellent i got an error loading an extension so this is what happens when you incorrectly format your manifest.json file so i'm gonna have to look i'm sure somebody in the chat is already telling me what I got wrong but I am going to I'm gonna try to look and see what it is so let me go here to manifest.json I probably could just go to my tutorial I'm looking for a syntax error oh I know what it is the JavaScript files associated with a particular content script can be more than one javascript file in fact you can actually put like if I wanted to use jQuery as part of my content script I could actually put other library files or p5 library files in this so that needs to be an array and actually I should have had a clue to that because with saying here content scripts index 0 is invalid so this has to be an array so let's let me hit save and then I should be able hit retry boom we're great so we see coding train extension version 0.1 didn't I say it was version 0.01 shouldn't that be it's version version 2.0 yeah okay so for whatever reason it probably doesn't want let you do anything less than one decimal place version one I can check permissions which is that yes it can read it as a Content script so it can read and change all of your data on the websites you visit and it's running I could allow it to run incognito or not etc so it's enabled so here we go now I'm just gonna I'm gonna open up my console and I'm going to go to any webpage like my tutorial and hit refresh Chrome extension go so you can see that Chrome extension is going no matter what website i go to i go to google.com Chrome extension go so that code now with that Chrome extension installed runs for any web page that I'm on so now I can start to change whatever I want so let's let's do something similar to what I did with the bookmarklet I can say something like let paragraphs equal document dot document get elements by tag name you know I'm just trying to think of something simple to do I can oh let me try using one of these new let me try using one of these new es6 loops why not this video randomly so I think I could say for element like element of paragraphs I think this is a new es6 loop which so what I'm what I'm doing why am i covering this in the middle of this video I'll never know why I just decided to do this but instead of iterating over with I I can just say paragraphs is in it is an array and I want to look at each element of the array so let's see if I get this right and I'm going to say element dot style background color equals you know some color so let's see now if we now here's the thing I'm gonna go back to this page and I'm gonna get this is where there's some paragraphs and I'm gonna hit refresh nothing happened okay let me make sure let me debug this write Chrome extension go Chrome extension go question mark I should see the new message right now I'm gonna go back and hit refresh mmm there's no question mark there so just as Chrome extension go so here's one of the things you it's really hard to remember but you have to remember when you change the code you've got to go back here and click reload you've got to ask the Chrome extensions page to reload the source code from that unpack extension from that folder so I'm gonna hit reload and then I'm going to sorry I'm gonna go back to here and I'm gonna do this well we can see there it does this Chrome extension no matter what page I'm on i don't know i'll go to the IMA website for ITP right you can see it's made all the paragraphs pink on this page so so ah so this is pretty much this is done at least this first video what i wanted to show you is what are the pieces of a Chrome extension well one thing you can do with a chrome extension is alter the content of the web page or alter the behavior right JavaScript code now it's really important to realize something that I didn't mention explicitly which i think is important to realize is if you look at the code there's no you know like in p5 you have to put stuff in function setup or in you know maybe there's like window dot onload or in jQuery there's some kind of like ready with a dollar sign or something crazy like that typically you want to execute your JavaScript code after the web page has loaded so you need an event the web page is loaded execute this code a by definition the content script does not run until the page is already loaded so anything you put in here will run after the page is loaded and if you only want this to run for example if I'm on let's match each let's match can I do like star shift min star let's try this I'm gonna match any URL that has Schiffman in it so I'm gonna have to let's let's reload the extension oh it didn't like that missing scheme separator how do i how do i do the matching oh I know okay so let's just try this whoops no whoops hold on so I'm this is going to be added point I'm gonna have to go back to this what's wrong about mine Oh does it have to be inside of like no matter what it has to be like inside of this I don't know well look at the chat see now chat where are you saving me here there's this what I need to do No all right have an example that does this correctly oops all these examples basics page oh this looks like what did I do wrong here so there's I guess there's a oriental let me okay thank you me IM sami so let me come back I can also have the Chrome extension work for just a particular webpage there's a specific syntax to what you're allowed to put in matches and I'm often getting it wrong in fact there's a little edit point there because I just had some trouble figuring it out so me I am sue me and the chat just gave me a good suggestion so you can use wildcards so I think like this would basically say like any URL with Schiffman in it or like for example any URL with github in it let's just be I'm gonna be a little so that that probably works but I'm gonna just also show you like I can say like I can say like any Schiffman dotnet page whether it is so one thing I could do is like this whether it's HTTP or HTTPS I'm pretty sure this will work so now this content script will only execute on those pages so I'm gonna hit reload uhoh there's a comma there wait should be a comma in there oh no there shouldn't be a comma here that's the last element of the array so retry there we go and now if I go to here whoops refresh still making everything pink but if I go to the ITP ima website we can see nothing is now pink so it's only it's only changing the it's only running this content script for those URLs and interesting enough notice how content scripts is an array so I can have certain content scripts for certain URLs and certain kind of script for other URLs all within the same extension so this is can become a much larger project with all sorts of permutations but this is the very basic idea okay so what I've shown you so far is the basic anatomy of a Chrome extension manifest file if you want to have a Content not all promise engines need content scripts but it's a good place to start content script what URLs that you want to match what's your JavaScript code what I haven't done is shown you anything about how to actually think about the browsing experience beyond just the actual web page you're on so for example what if I want to know when the user is typing here or what if I want to know when the user opens a new tab or what if I want to add a button to over there over there that I designed myself that when the user pressed that button it shows them all the it shows them every time we're the word kitten appears on the webpage by a with a count or something like a terrible example so this is what I'm going to do next and the thing that I need for that which I will do in the next video is what's called a background script a Content script is a script that just runs execute after a given web page loads a background script in a way as a script that's kind of always running in the background listening to all of the events the entire experience of using the chrome software and that's what I'll show you in the next video all right okay how are we doing everybody um can you oh I don't have a lot of time you know what I was gonna I was gonna take a break to just go get some water and use the restroom but I do have to leave at 1230 so to be honest with twenty minutes like I can go for another 20 minutes I think I'll be fine and I want to do there was a short sound glitch so hold on time out did anybody hear that get why wait gastro in the chat asks have you ever been beardless yes I don't know many many a dad maybe a time all right was it during was it during the part of the tutorial that I just did or redo okay when was it just in this no whatever you're hearing record exactly to the disc it's the same there's no difference so it was when I was over here talking about the background script oh I'm not over there now it was on my ending no wait board time okay alright so let me try that one more time I don't remember where at what I started with background script okay what did I start by saying over there how you know if it wasn't so bad I don't really care so much but I'll just restate what I said before okay so what I all I've shown you so far is that in a Content script with a Chrome extension with a Content script you can manipulate the behavior and content of the web page that you are currently browser the user is currently browsing but a Chrome extension we can actually listen to and think about the browsing experience as a whole so what if I want they sell this stuff over there if I want to add a button or no when a user is typing what the way that that is done is by adding something called the way that's done is by adding something called a background script so a Chrome extension can have a background script content script executes for every web web page that matches the URL after it's loaded the background script is actually a thing that runs as soon as you launch Chrome and it's always there listening for all of the events of the things you might be doing in are you opening a new tab or are you pressing a button on the interface you typing in the address bar so this is going to unlock a lot of other kinds of possibilities and it's what I will show you in the next video whatever it was a minor blip maybe the first Mattia you don't need to you don't need to include the second one if it's fine whatever I did first made more sense okay so I'm gonna try to do a video with a background script now before I can do that all right who on the Internet can very quickly tweettweet at the coding train a little coding train icon that I can put here as a button like so I want something to appear here that's not just that's not just the default thing so I need like a probably like a 64 by 64 PNG I bet you I can make one myself faster than I think coding train store Envy Oh anyway no no well if I go to sticker mule coding train hey what's this is this somebody else or no this is just no this is me so let me grab this baby and save image as what might make me PNG there we go and let me open this up right this is refined this should work okay so actually never mind never mind I think I got I think I got one so I just don't remember how okay browser action I think okay great so what I'm going to do now is I'm going to delete this one Simon had a good suggestion which is to number this stuff which i think is always helpful starting with zero sure and this actually should just be content script it's not really basics and then two is going to be background scripts can I do this in time don't save boy I love this new es6 loop I'm going to be using that a lot so we'll just want to change this back to all URLs and okay okay here we go alright I'm back for a second Chrome extension video and I'm gonna pick up right where I left off which is I want to add something called a background script now the truth of the matter is a background script can do a lot of things it's the content script I'm saying what I just said at the end of the last video but to repeat myself the content script is code that executes after a webpage loads that you can effect and manipulate and work with the actual content of the web page itself a background script is a script that loads when you launch chrome and it's listening for events associated with the activity of using the Chrome browser as a piece of software itself so one of the things I could do in a background script is I can listen for things called a browser action there's also a page action there's all sorts of kinds of events but a browser action is actually a way of listening for it for example I can add a button to the menu bar with my own design and I can listen in the background script which I'm gonna call background j/s I can listen for when the user has clicked that button and then I can make something happen potentially on the web page or I could make something happen within chrome like close all the tabs or something like that lots of things are possible so what I want to do in this video is show you instead of having the previous video I made a Content script that runs immediately when you load the page instead what I'm gonna do now is have a background script that has a button and when you press the button it causes the content script to run so it doesn't run immediately but only when you press the button alright so let's see if we can make that happen so the first thing I need to do is tell manifest.json about the background script ok tell manifest.json oh so I think I need comma background can I have more than one background script I think actually just say background right somebody will correct me and then is that an array it's an array no it's it's you can't so unlike content scripts I think you could have multiple content scripts a background script one background script you get a multiple background scripts per attend it per extension you have multiple JavaScript files associated with the background script but just one so this is just an object with J with the J s property and I'm gonna call that background a s okay I think this is good so now I need to create that javascript file background j s and I'm just gonna put console dot log background running just to have something in there okay so I have this background script now oh this should be an array same problem I forgot before content dot J s this should be an array let's not make that mistake again and now what I'm going to do coding train extension I'm just gonna call this coding training tension I'm so now I'm gonna load that unpacked extension background script it's in this folder there we go I didn't get any errors Google Chrome cannot prevent extension from recording your browsing history that's it oh I I clicked allowing you to go by accident okay so now this is running alright this is very exciting let's go back to this page and hit refresh content script ran up Chrome extension go oh but where does it say I totally console.log background running how come I don't see background running here so here's the thing shoot here's the thing the content script is a thing that executes inside of the actual web page and so the debug stuff is available in the JavaScript console the background script is running as part of the browser as a whole it does not talk to the get javascript console associated with a given page instead you're gonna have to go back to debug any console logs in the background script in a different place let me show you where that is so what I'm going to do here is now oh sorry I need to go to this page chrome slash lash extensions and then hmm wait a sec interestingly enough maybe because I don't have any sold on second weirdly usually I see then like inspect views background page maybe I don't actually have the right time out for a second anybody see anything wrong here background Jay ask background JJ s background oh it's scripts okay thank you oops oops oops so what I'm looking for actually what you see down here which is inspect views background page and I don't see that the reason is I got this wrong this should be scripts for content scripts it was js4 background it's scripts whatever this is the specification for how a Chrome extension works let me hit the hole that drama for nothing let me hit reload now same thing I can go here Chrome extension go that that console.log that's in my background script is not appearing in the JavaScript console in the browser but if I go back to the extensions page I now see that it says inspect views I can click there and now I can see here I can look at the JavaScript console for the background script so this is just an important piece debugging is tricky because you got to remember is this part of the background script is as part of the content script where's it all happening okay now let's actually add a browser action so what I'm gonna do is I'm going to now in the in manifest I'm gonna say browser action mmm what is it what does it was it was a browser action no I think that's a default icon maybe icon do you fault icon default icon and then I'm gonna give it my coding training PNG so one thing I can reference by the way what I'm not sure if you can have assets and different media things associated with like a Content script and you can add that and we'll get to that I guess at some point with future examples but right now I want to have a browser action and I want the browser action to be associated with a button I need a PNG for that button so did I already put this sorry I have to navigate to this ok so I have this PNG file then I'm gonna put in now into there so you can see here now I have manifest that JSON background digest content itis and I have this PNG file so now if I reload the Chrome extension again we can see look at that all the way up there there's my button now anyway I could design it a lot better it probably has all this that PNG has all this extra but now if I press this button I'm triggering a browser action so I need to listen for that browser action where does the content script listen for the browser action no the content script is sandbox it's Walden it only knows what's happening here so I need the Baraat the background script to listen for when I click the button so let's add a bit of code for that I go to the background script what I add to that is it's I think it's chrome dot browser action dot not clicked on clicked I haven't written up there ah listen her button like you know button I'll just call this button clicked and then I can I can write a function the callback function so let me give you some more room so you can see this they make this little smaller okay and then I can write this function oops can write this I can write this function called button click this is me making up a function now this is my madeup callback it could be an anonymous call back loop there's a camera up here that I just hit it could be an anonymous function written in there but I'm gonna do this in a simple way and I believe and then I could just say console dot log button clicked so let's do that so let's do that and so there is actually a thing that I'm forgetting here which is that well let me just add this first so if I go reload the extension and then I go inspect views and put this over here and I'm gonna click the button now button clicked so you can see above my head here that message is coming out when I click the button so I now have a function that's listening no matter where I am but what if I want to know like oh when I click the button what's the current tab that's open and actually this callback gets an argument which has information about the tap so I'm going to actually just console.log the tab object so we can see I'm going to reload and I'm going to click the button and now we can see look at this so there's all sorts of information that I can now get about the particular tab that I'm on so you really have in the Chrome extension in the background script which is making use by the way this is part of the chrome API right chrome browsers that's not just like available JavaScript code wherever you are but by default at some point need to come back and look at the chrome API reference but this is where I can do things that listen to events okay now what I need to do is tell the content script about it but the content script is stuck inside of its wall it can't reach out and know about this except for the fact that there is a and this doesn't really go in this list I guess if I just other like sort of concepts or api's chrome API so there is we saw there's like a Chrome browser action that's one thing we just saw there's another thing which is some I thought this would be very like I never never done this before good that what is it okay the other thing that I want to look at here is messaging so there's a messaging API there's a way that I can send a message from the background scripted really should go here there's a way I can send a message from the background script to the content script and vice versa so that's where I need to do let's look at how we can do that so oops so what I'm gonna do inside button clicked I'm going to say chrome tabs a send message so this is the this is the jet this is from the Chrome extension API the chrome object there's an object called tabs so I could send a message I think to all tabs actually but what I want to do is just send a message to the particular tab that I'm on so I'm gonna say something like this tab ID right and we can see that where I debug that here ID 95 each tab has an unidentified been for mation going on that you could sent here so let me show you this so I am going to now send this message so once I have this code that's sending a message I need to receive that message and where I receive the message is in the content script so I now need chrome message receiver what is it I have no idea I have it somewhere on the wall where I taped up a lot of it's good ah runtime so there's an event there's a chrome runtime on message this is a particular kind of event when I need to have a listener add listener and and then I need a callback so I can say like got message so I can now write a function called got message and it receives what it receives a lot of things there's it's kind of like it's similar to a get or post request there's three arguments that go here there's a request there's the sender and then there's the send response this is kind of boilerplate e and then ah so where do I get that message so the in the background script this JavaScript object let message write this message going this this stuff going in there is in this request variable now I employ this from an example so I might actually call this like the message so I could say console dot console dot log message dot txt so let's just see if the message comes through let's see if the message comes through so I'm gonna reload I'm gonna reload the Chrome extension I'm gonna go to this page Chrome extension go I'm gonna click the button hello hello hello hello I got a message from the background script to the content script which means I could say something like if message text equals hello then only do this stuff then if message ah if I get a certain message now run this code that alters the page so here we go I am going to have to reload the extension I'm gonna refresh the page now notice the content script has not executed all of the paragraphs are as they were now I'm gonna press this button and now they're all purple so I could immediately make it that every time I press the button it picks a new random color it just replaces all the text with something it reaches out to an API and goes and gets the definition of every word on the page onward neck and then makes those like popups all over the page there's so many things I can do this is the basic idea there's too many videos about Chrome extensions I want to make is we've barely scratched the surface here but at least now we've seen manifest.json is the overall configuration of the Chrome extension what is it allowed to do and when is it allows to do it the content script is JavaScript code that lives within the actual content of any given web page that you happen to be on and the background script is code that runs as soon as chrome is launched that can listen for various events and do a variety of other things to affect how the browser as a whole behaves so what we've seen in this example which is really again just scratching the surface is through a there's different actions what we see now is a browser action oh the door is opening hello nope yep wrong room yes that's okay wrong room the lost my train of thought Oh what time is it oh I really got to get going the browser action there's also something called a page action I'm gonna get to all this stuff later but the background script can listen for a browser action like pressing a new button and then send a message to the content script to do stuff to the content so basic idea I'm gonna come back and in the next flu I did not trigger that sound effect yeah but apparently everyone's really excited so with just these two videos I think you could probably make something kind of interested quirky and creative that subverts and alters the way one traditionally browses the web so if you make something share with me on Twitter at Schiffman share it in the comments I forgot I'm always supposed to say like and subscribe everybody tells me I'm supposed to say that whatever if you feel like it like it subscribe and I'm going to also next do a coding challenge where for any given web page through a browser extension I can press the button and replace all the images with images of kittens so that's what I'll be doing I'm gonna turn these into like a little bit of a coding challenge and then I'm gonna come back and do more stuff I'm gonna add p5 to a Content script lots of other things so there'll be a whole bunch more videos in this Chrome extension but Berkeley playlist thanks for watching okay alright everybody local storage would be good to cover all right all right so I'm apologizing I have to run now I will thanks for watching the cottage fame this has been the coding train with me who tried to be serious today and not too crazy because I got a lot of comments but you're too crazy I can't take it the two manic but hopefully you'll learn something interesting today about Chrome extensions and I I would like to come back and do this coding challenge I have a very busy day and afternoon this is my peak time of the year but I'm definitely gonna do pop ups Thank You Simon I forgot to mention pop ups so we'll see if I can manage to do a couple more things later today if I could sneak up I'm saying this now and it's quite likely that it won't happen but I will be back let me soon enough I can try to answer a couple questions I know you're all saying you like the crazy that that's good that's nice to hear I appreciate that when we look at the schedule let me look at what I've said just to give us get a sense so this was today yeah this is what I put for next week I should add I term to that so so I'm gonna see I did that barely I don't even think I got through a third of the Chrome extension tutorial stuff that I wanted to do so we'll see if I can come back and but anyway looks like next Friday I'm gonna have a later time based on what my schedule is so next Friday it'll be more like 3 or 4 p.m. Eastern Time stay tuned to this schedule if you live somewhere where 5 p.m. Eastern time is really late at night for you please do not wait up I I would say there's like you know at best a 25% chance and make it back to just do that coding challenge later today but you'll what everything I do will be available in an archive later this weekend so thanks for watching oh thanks for tweeting the channel icon to me yes yeah the full stream will be available later why don't I use the blub tax anymore I don't know I feel like I'm supposed to use Microsoft Visual Studio now that's what everybody tells me Thank You echo 34 for doing that ok blockchain is not something on my list to get to at any point anytime soon I really don't know anything about it although I would be open to having a guest come do something about that ok thanks everybody this has been the coding trade to me Daniel Shipman and this will be available soon later good bye I have to press the button to stop streaming and stop recording