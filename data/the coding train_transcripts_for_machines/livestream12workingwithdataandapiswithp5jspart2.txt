hitting another live stream today hello um my lips feel a little bit chapped that's not a good sign I do have some water though I don't know if anyone is here so okay so what's happening in this particular live stream I did something crazy which types gonna tweet about it and I promoted that tweet see if that like does anything like if random people join just to see if I can get a little more audience audience in here uh so um why I could see the stream actually just started it takes a while to get going and just started with me drinking my water ah somebody is here excellent hello okay so I have got this YouTube channel and I've been making a lot of videos about processing this thing called processing is JavaScript programming with a framework of library called pjs and I started a series a playlist about working with data and in the last example I got to let me because I I couldn't actually prepare anything so this is my be doing my preparation Oh a newer I want to get the new editor but I'm not going to worry about that the second in the last example that I worked on in the last video I looked at how you could query open weather map the API and look for data from that API pull out pieces of data and draw something on the screen so i have my list of videos that i intend to make and I'm here getting json from an API with a query so what I want to do in this particular video the green screens a little bit fuzzy today but what I want to do in the first video so hey I'm live streaming right now but a while I'm the live stream it would hit record a few times and record these video chunks that will upload later as a standalone tutorials and so in the first one when I think that I would I think what it will make sense to do is to take this particular example and look at how I could have a user type in a city and then have that then have the API queried with that particular city or perhaps have a user pick a city from you know like a drop down menu or that sort of thing so that is my plan so first I would like to know actually before I put does anybody have can you hear me okay can you see this okay and if I come over here is this infocus enough that you can make out what I drew here I'm gonna go look over here and see mmhmm it's a little bit light but cut let me know can you read this I think it's this pen yeah you look at this that looks pretty good so let me know if the sound the picture all of that is ok so that I don't start going on and on and on with you can't hear or see all good thank you hi Jerome is here p5 art hello welcome nice to see you on the livestream nice to have a bunch of people here I'm excited okay I'm like a low energy today I got it got to do something about that ah how to get a higher energy but I'm seeing people say stuff in the chat is always good okay um so does anybody have any questions anything you want to ask uh anything you're not sure about let me know before i get started i think i'm actually ready to go with this particular example okay i'm going to drink some more water here my video settings got a little bit messed up but i only have i have about an hour or a little bit less i have about an hour so rather than if I sure trying to fix these green screen settings i'll be here for like a half an hour so let me just um fix this wire make sure my hair looks okay oh yes my hair looks excellent that's really the thing it spent a lot of time this morning making you know trimming and laughing and all that kind of stuff to get ready to talk about because you know you have to look good when you're talking about api's right okay I gotta get started I'm stalling eight people here that's nice I've got so I'm going to put this down and I'm going to delete these and let me get this in a good place here let me minimize this its stop and move this over so I'm here and then when i run this this shows up over here let me give a little more space just organizing my desktop here I see why I moved it over I'm going to I'm going to change something about this example real quick to make it a little bit so for is this font size okay if you're watching the live stream is this font size okay should I make it bigger smaller and I'm just fixing this example a little bit to make it a little bit better to start from and I'm going to take this whole thing and put it in a variable and say this okay about to get ready i'm going to check the chat sponsor may be a tad bigger okay i'm going to make that a tad bigger make it how to try 36point think this probably is good let me know if you think it needs to be even bigger still okay sort of a tradeoff of getting more code on the screen but getting also having it be more legible okay here we go oh the jackhammering is started outside that's not good I can have to close the window I like to have the window open sunlight coming in to breeze through my hair cuz you got to talk about cole I can feel like nature outside with you but sadly I don't want you to have to listen to life on jackhammering let's see good like that excellent okay here we go I'm going to start with the first video let me cycle the camera because these cameras have a thing where they turn off after 30 minutes I move this backpack so I don't trip over it cycle this camera and ready got an a pen and an eraser some water it's 10 a.m. it's the morning I'm full of energy all I wanted to do all I didn't want to do it welcome to this morning I said how I wouldn't do is make videos attack the thing is that's actually true that's how I feel I enjoy us okay here we go one two three in this video I start over let me just check the chat everything nobody's saying anything okay I think one thing I need to do a better job of i think is at the beginning just saying what the video is going to be because I kind of do this like wandering rambling thing which you know i think you know doesn't really work if you're kind of just quickly coming in to try to figure out what you're watching so okay all right here we go in this video what I want to look at is how you can take user input from a user and pass that user input to an API query get some data have that data come back into your program and visualize something on the screen so this is a that I built in the previous video which I'll link to below and what this example is doing is it's querying an API called open weather map it's sending a city the city that it's sending you can see right there is London and then it gets back some data about London what's the current temperature what's the current humidity and in this example I'm pulling that data out into two variables and drawing two circles on the screen so first I gotta admit something which is that this is like a perhaps the least visually interesting you know data visualization I you know anybody ever has ever done so I'm making I don't have I don't have a visual bone so I'm but I'm demonstrating the technique so what you would do hopefully with my with this technique is thinking of a new way of presenting information by weather or doing some type of animation there's lots of possibilities but what i want to show you here is no matter how many times i run this it's always just going to query the API boom as soon as the program starts and then it's going to get that weather from London and it's never to query the API again so how do we make something that when the user enters a city that we get that well that then week where the API show the information the user can then enter another city we get that information Corey the API again so how could we have query the API over time while the program is running how do we think about as a sequence of events and how do we tie that to drawing we beating me right now and then you I got this thing about pronouns it's really like a problem as in my head all the time I could only think about what program i use what's that but i'll link to something in the description below about why i think about that all the time okay so let's make that happen so first of all I need somewhere to get user input so right now what this actually is a web page just with this canvas on it so what I would like to do is add to the webpage something where the user could type in some type in the city so guess what i'm going to add there's an HTML page associated with this javascript code it's the it's the page that's loading this code so i'm going to go there first so in this p 5 j s editor i'm going to hit the Settings button and say show sidebar and there's a bunch of extra stuff in here that are not using because this was built and I'm going to go to this index.html file and now in the HTML body what I want to do is add paragraph and then I'm going to add an input can you see this i'm going to add an input field and i'm going to give it an ID will call it city and i'll put london in there and i'll say city colon so now what i've added is just some HTML that on the page I want to see a field that a user could type something into and we run this you can see there it is oops and by the way so i did that incorrectly look at this so what I wanted to do if we look back at that window this is this was going so well until I got confused like look what's here what I wanted to do is I wanted to have the word London populate that sit that that text input field automatically and I thought I don't know how to do this but it must it's sometimes it works this way I could just create this HTML input element and put London in the middle but I forgot that the text that is in the text input element is actually its value value being an attribute of this HTML element so if I want to do that I just need to say value equals London so now if I fix that and let me make this a little bit wider so you can kind of see it and I run this again you can see there we go so I now have this text input box at the top with the word London in it ok we're getting somewhere now maybe I should also add very briefly i'll put like a line break and then I'm going to add a button with an ID called submit and I'll say submit so now I've also added an HTML element a button so i have a text input element pre populated with London and I have a button so when I press that button I'm going to ask the API to give me the weather for whatever city is in that field excellent okay so let's look at this run this you can see there we go now I could do a better job like styling this and putting line breaks in and that sort of thing but the point here is that I could do this and then I could type New York and I want to see what what's in the canvas what's in the drawing change based on that current weather so how do we do that I'm excited you excited if I don't know you shouldn't be as excited to be I'm a little bit excitable it's a bit of a problem because me a lot of anxiety in life but I'm but but I'm doing well today and I'm happy to talk about this with you okay so let's look first to answer this question we have to look at something we have to look at this URL look at this URL it's a long thing I figured it out in the last video that i got i have a path to the API I have some whether i have a question mark u equals london that's the city app ID that's my API key units equal metric that's giving me the information in Celsius right so how do we what what do we need to do and to figure this out i'm going to come over here to my trusty friend the whiteboard I trust you friend looking forward and um let's think about this URL so most api's and you're making a AP i query it's very similar to type in a URL into the browser in fact if i pasted that URL into the browser we're going to see the data associated with it I kind of I kind of wish i was doing that right now let's do that for a second I come back to the whiteboard right so let me go over here and i'm going to copy this whole thing i'm going to go into chrome and i'm going to paste it in up here and i'm going to look and see you look here's the data coming in and you can see that up here is the city so even if I just in the brow up here if I just change that to New York for example you can see aha now I have the weather associated with New York which the temperature about you know 18 degrees Celsius that's of all right it's actually quite a beautiful day sun shining eyes wide inside talking to a camera all by myself this I think the same stupid joke in all my videos about I'm talking to we're by myself but it is true okay so that's what I'm doing ok so now you can see the way that you could get a different city you know I could now I could overhear I could type Tokyo and I'm gonna get the weather for Tokyo the way that I get the data from a different city is to change the url so somehow I'm able to do that manually in the browser somehow I need to figure out a way of doing that in code and the reason why I was coming over here is oops what was I not know I was here was I in the right place the whole time missing London aren't ya I'm sorry tell me him the chat hopefully I record i'll have to fix this video if i know huh this is like Charlie Chaplin me I could have someone platelike down with this edit this and add some like music to it um yeah I'm not like Charlie cha wish i was like Charlie Chaplin that'd be good um ok so all right so how do we do this huh I don't know this video's I kind of want to rerecord this video but um so in my code there is a URL and it's one long string it starts with like HTTP it has like open weather map blah blah blah blah blah blah so somehow we have to figure out the way that to do this is to piece together the URL from its components one of which happens to be dynamic that's that's happening with input from the user so for example one way that I could think about doing this is I could say var API equals HTTP colon slash slash open weather map org slash weather ? so like this is the beginning of the API query then I might have another variable called like city which I say these are strings which I say is London then I might have another variable where I say something like API key equals you know my crazy API key and then when I want to make the actual URL which is the actual URL that i will send to the API then all you do is say I want to have the API plus the city plus the API key right remember the plus symbol with text right two plus two equals four but the string 2 plus the string to what this is actually a valid use of air quotes by the way you usually everybody's just kind of an obnoxious thing in general but I feel like if you're trying to indicate a string like this is like a time in my life where I'm allowed to use air now I feel ridiculous but um this to the two in quotes plus 2 in quotes is 22 right two plus two is 22 not 22 but 22 so what this is 22 like like I think that you wear when you're doing ballet um so this I'm trying trying much too hard to be interesting i'm talking about this it's not going well it feels forced today so this so this is the way that you can put together the pieces of an api call in as a as in your hell by having them in components the whole reason I'm talking about this is because now this one can be dynamic so if city is not a hard coded value it's coming from the user and every time I want to query the API this always stays the same this always stays the same this is the thing that changes so let's go see if we can add that to the code and make this work I'm over here now okay so coming back to the program let me minimize this coming back to the program we can look now at the components of this URL so let's say what I want is all the way up to here is going to be kind of like the first part so I'm just going to call this the API and maybe i'll call like api path so it's sort of like the path or the API let's just call it API then I'm going to make a variable called city and I'm going to make that London then I'm going to make a variable called like API key and it's going to be this whole thing and then I'm going to make a variable ups and then I'm going to make a variable called units and add this so you can see now and I I think if I think if I make this a little bit wide unfortunately like it's sort of hard to fit everything ha but now I've got it I've got it you can see nann what do I have some I have some like weird warnings here missing a semicolon somewhere I see my semi oh you know what i did is i used a double quote and a single quote that'll fix things up okay so you can see now that I broke the API call into its parts so all of these things all of these things are are not going to the api api key and units are not going to change i always want to query open weather map I always wanted in metric and I always have this API key now of course your scenario might be different but for this particular scenario the only thing that changes is the city and so now when I want to load the data i would say VAR URL equals API + city plus API key + units and now we can see let's see let's just make sure this still works as before it still works as before so instead of having the full API call is one long string I now have it in pieces and we could see if I change this to do New York now I'm seeing the New York whether you're just gonna have to trust that that's kind of the right values again because this is my pathetic little I'm just drawing the temperature and the humidity as circles on the screen okay so we're getting somewhere though because now I can move this right I can I don't this this API call is happening in set up only in set up where do I want it to happen now if we look at this web page that I've made I want that API call to happen when I click the submit button so how do I make that happen I need two steps one I need access to that Dom element I need to select that Dom element then I also need to attach a mousepressed event to that Dom element so let's add those two things to this program i'm going to say oops whoopsie a bar button equals select submit so if you remember in the HTML page the button an ID submit so the ID is a way that I can select that element in my code and do things to it so now in my coat as long as I select by the buttons ID submit I can now say button dot mousepressed ask for but I don't like ask you know whether whether ask I don't know think of a better I'm so bad at functioning do you think of a better functioning me but the event that i want is whether ask so now i can take this and i can write a function called weather ask and i can paste that in there and whoops i need two parentheses and by the way I'm kind of standing in front of my code which is the thing that always happens so if I move this over that'll help you so now right I selected the button when i press the button call whether asked when i call whether ask ask for the weather based on this URL that i've made of all these components from the API call now run this and every time I hit I hit submit I get that weather now notice every time I hit submit it's the same thing why because city is still hard coded as New York but now we could do something really exciting that's just a variable right why not get the value of what this text input field why not get what's in that text input field and store that in that particular variable this is going to make things really really great ok so here we go so first of all I need a I need a variable called input and I need to also select that input input equals select now I don't remember what id I gave it I gave it an ID city so now i need to say select city and then what am I doing here I'm instead of this instead of city being hard coded as New York I can overwrite you know actually don't even need this variable anymore honestly because we don't want a hard code the city so i can take that out and actually instead of i could make it a separate variable but all i need to do now is put in put not value here oops so right because I've gotten that text input element there I can get the value and add that to my API call so again the path to the API doesn't change my API key doesn't change I always wanted in metric units but I want the city that piece of it to be from that text input field and here we go it's running like to see it submit and I've got London and let's try some other cities like Tokyo Los Angeles you can see oh it's not very humid in los angeles new york toronto right okay so you get it it works oh it's great that it works so this is a this is a nice thing to practice with api's I mean this is kind of one so obvious way of doing things you take some from the you take some information from the user you send that to the API you get some data back you display the data back to the user so I might suggest you know what else could you imagine here could you could you create a checkbox and whether the checkbox is checked you would when it's checked you would get Celsius when it's unchecked you would get Fahrenheit so could you that would be one thing to try to add to this as an exercise I think if you're looking for like a technical exercise to do you know mostly I would say get what true data is in there what kind of more interesting way can you just play the data if it's raining can you make it rain in the canvas you know live again these are kind of like obvious literal visual representations of the data but I think you might be also be able to think more creatively and what I would like to do now I think that kind of covers the whole basis there's actually a there's a missing piece here i just realized which is that so we've done two things one week where the api the moment the program runs and then we're done now we've done the second thing any time the user performs an action like pressing a button we query the api and we get data back a third thing would be have the program automatically query the api every so often and this is something you want to do if you have data that's changing a lot and there's anything there's an example of an API that gives you the latitude longitude of the International Space Station where it is sort of above the earth and so that's an API that the space station is moving think continuously that you get different data all the time so I would also like to do it maybe I'll do that in the next videos look at how you query an API you know over how do you set like to do it every 100 milliseconds or every one second or every 30 seconds just have that happen in the background while an animation is continuing so I'll take a look at that in the next video and the other things i want to do in some these future visions just look at other api's New York Times is on my list word nick is on my list that sort of thing so let's see this isn't being like a very long video it was like so short for a while but I had this like section in the middle where I just like I wasn't sure if I was in the right place and I started like rambling about wearing a tutu if you're still watching this video right now you know hashtag shipment 22 or something to let me know you weren't watching because no one's going to be at 18 minutes in this video I swear okay I think that's a thing that maybe I'll do at the end of a hashtag Schiffman air quotes i think i need to put shipment in there oh then maybe air just stop watching all right ago it's a butyl hopefully you live somewhere where it's a beautiful day and even it's not a beautiful day being outside is nice okay like the mouse even my mouse went to sleep even that's how long i've been recording this video okay okay let me check the live stream okay um all right okay there's 13 people here now um so hopefully that did that make any sense I think that I sort of k i'm gonna open the window for a second to get some air it so i don't if you can't hear that jackhammer is that showing up on the audio so i think actually i think i will go on in the next video it's only 10 20 no so I have another 40 minutes i think i think i will do an example where I query that space station API over over somebody suggested to me on Twitter which was super nice of them I can't remember who it was but let's see so ISS latitude longitude open notify so this is an API let's look at this oh you know this brings up another thing which is okay this is an API where I'm getting continuously the latitude and longitude now I just realized there's a component that so I wouldn't want to draw something on this Green based on this latitude and longitude if I hit refresh you know it's changing pretty often it's not by a lot but it's changing what I want to do is make something move on the screen according to this latitude and longitude and the know Joe you don't hear the jackhammer that's good so you know this brings up a whole question like how do you convert latitude longitude to XY coordinates which is a tricky problem because the earth is a sphere and spherical man and if you flatten it to like a pixel space there's some math involved so but I'm going to ignore that problem I think for the purpose of this video and just do like a simple map map map not like Mac but as in the math function like map to it's an x and y so what's a range what's the range what is the range for latitude I should look this up in advance latitudes measure from zero to negative plus mining 90 longitude members the Prime Meridian which runs through Greenwich I was just recently standing there in Greenwich and longitude measures from 0 to plus or minus 180 so latitude 0 to plus or minus 90 longitude does that make that George eyes with this latitude 0 ok so I can use that to do the mapping to map the negative 182 plus 182 0 2 with or its 02 height and latitude right latitude would be X longitude would be why you're by making any sense oh you can hear the jackhammer some of you can hear at some of you can't i'm going to close the window before i start the sort of more official i guess i should just close it now um it just gets a little hot in here ok so anybody have any questions or concerns or i have this desire to just pour this on my head the live streaming about data plain water that's not very cold challenge is what I'm thinking of doing here not going to do that if it would raise money for a good cause maybe I would ok so i think i'm ready to do this I'm just going to actually start it from scratch let me get a p5 sketch set up save as a ISS animation save and actually let me clear this let me I'm just going to add some code in advance before I start recording I mean I am work this is being recorded but and I'm going to make a canvas which is a 600 x 400 to make it a little bit bigger a background 51 and I'm just going to put an animation on let's have a variable line x equals 0 just so we see that it's continuously animating line x + 1 that's fine plus 5 and if line x is greater than with line x equals 0 ominous and then i'm going to draw a line from line x 0 line x height I just want to have something continuously i guess i need to give that a stroke that so you can see it I want to have something continuously animating because i want to emphasize oh it still has all that stuff in the HTML which i'm going to take out now and let's just get rid of this i want to have something that's animating because i want to emphasize that even while you're making the API query and waiting for the data to come back that's happening asynchronously meeting the draw loop can still continue and it's interesting i think to note that this is sort of native to the way javascript works previous videos where I might have demonstrated something similar using processing your native to the way processing in Java works is everything is synchronous like if you ask for the data the next line of code is not happening until that data comes back but here we're going to be all say just start that process of asking for the data doing this when the data comes back update this other thing you're drawing so that's what I'm going to do here and I you know I haven't made this example before I really should probably make it and then make the video but I'm just going to go for it and I think there's two ways of doing this one is I could in draw every once in a while query for the data or this might be a nice opportunity to talk about set timeout or set interval why not right why not talk about that in this video I think it's sort of worth it I mentioned what I'm talking about in the video ok anybody have any comments or questions before I get started let me cycle the cameras and recycle this one and I'm going to erase the whiteboard over here ok edited it at this it did it I like to the song it's always in my head is where is thumbkin my son plays it on the piano every morning to wake us all up it's very actually really sweet e 7 ok ah Jack over here you guys aren't saying anything in the chat which I find to be disconcerting is this still happening is anybody I have let's see yet all right come watch Schiffman live people are tweeting about this that's exciting even though there's only 10 people here ok here we go let's talk about the International Space Station ok let's start over here oh and this is call this is s and close this and here we are and this can be now sorry everybody I'm just getting myself set up here and here we go and three the lights are still on yeah you can still hear me I me old ice change the battery in one mic I just want to make sure i change this one's okay this guy I've got two bars okay good here we go hello in this video I'm going to look at how you query an API continuously while a program is running a program that's perhaps animating something and that animation doesn't stop it continues smoothly but updates whenever new data comes in boys meant exciting topic you woke up this morning and thought I want to watch a video about how you query an API continuously while an animation is happening right okay so um that's what I woke up thinking I was gonna do is make a video about that actually I just thought of this a few minutes ago so I didn't really wake up thinking about it but let's just get started so this by the way is a program that I've set up in advance just to have like a simple animation on the screen nothing too exciting this line is moving across there's a single variable for the line the line is incrementing by five pixels when it gets the end it starts back at zero so we can see there's any animation now what I need to demonstrate this idea is I needed API that's going to give me data and it's going to give me different data every time I query it so a lot of eight guys don't really do this for example if you ask for the weather you're going to get the temperature outside temperature outside obviously is changing but the weather api probably is only going to update every few minutes you know if you ask for the New York Times do an article search you know there's not going to be a lot of new articles every with a certain word every like few seconds however there is this API called it's under open notified org and it gives you the International Space Station current location and by the way in case you were wondering that's changing it's moving are the earth is spinning I don't know somehow it all works physics ask Stephen Hawking I don't know about this stuff although i did find it fast so what we can look for here is like look here is how here's the URL for getting json data with the latitude and longitude of the International Space Station so I all I need is this particular URL I'm going to copy it I'm going to put it in the web browser to look at that data and we can see there it is the International Space Station position is currently at this particular latitude and this particular longitude hit refresh oh come on change it changed right you can see it's changing each time I hit refresh a little bit but changing what's moving by a fast latitude this is like a this is called the Refresh dance by the way it's good at physical exercises important why I'm standing making these videos I feel like I need to move around more okay so so when you practice api's you know move around where was I um so this is some stuff that I want to get I want to get into my into the program so first let's just let's just get started with that so the first thing I want to do is grab this URL now and inside the program I may be just in set up right now i'm going to say lo JSON and i'm going to say the URL is let's for this particular API and let's just make this a global variable I'm trying to make things that fit in my code nicely VAR URL equals ah bad copy paste job paste that in there so that's the URL for the API query let's make this a little bit wider so now I want to load Jason I'm using the p5 low JSON function which says give me a URL which doesn't say anything actually but the thing you can give to it is a URL where you'd get some JSON and then a call back so I'm going to call the callback got data so this function will be executed when the data has come back so i'm going to say function i'm going to write that function got data the argument the parameter of that function which i happen to be calling data you can call it anything you want like a manatee the the the parameter data is what's going to get filled with the json that's coming from that URL so you know just quickly if I just said print line data we'd be able to see very easily that whoops okay ah so remember this thing I talked about this in a previous video boy I hope this works sometimes it doesn't work sometimes it doesn't work because of security issues with how information is passed between different servers and open notified at org is a different server and if you just add some padding so this thing called JSON p this if you add a third argument JSON pipe maybe I something I'll make a video just what is this JSON p thing it's telling p5 behind the scenes to use this other way of getting the data that kind of passes security so hopefully now when I run this sketch we can see in there it is now you can see the data showed up down here in the console I've got that data so looking at this remember the next thing that we need to do is figure out how do i get the latitude how do i get the longitude well javascript object notation is the way that I do this this whole thing is an object and I want to get the first property is s position and then I want to get the first property of ISS position latitude I want to get the second property bias position longitude and by the way I said first and second in objects the order doesn't actually matter it's not like an array where you would be referencing from the index you may rub your you you be i'll be i am no no it's I've it anymore present past future perfect something like that but I'm going to in a moment on the computer type in data dot ISS position dot latitude that's how I Traverse into this JSON data okay so back here I'm now going to say print line just to make sure this is working print line data is s position dot latitude what rhymes with latitude fortitude I don't know okay and you can see there it is beautiful so let's think about what I might do now hmm with that data what's what might I do ok well let that want to draw the space station on the screen in my space station again from the person with no visual talent will be a circle so let's let's do a let's make a variable called is SX is sy because I want to make variables that are impossible to pronounce and in got data I'm just going to say is sx equals the latitude and ISS y equals the say it with me now be like I'm mister mister rogers longitude can you say longitude it would be an that's a good thing to aspire to to be mr. Rogers um so I can put those in those variables and let's give those variables some default values just to start and then let's in our program it's art I feel like this belongs to you and me this programs so i could say our program i'm going to draw the International Space Station and now i'm going to say Phil 2 55 here we go and where is it hmm I don't see that international space station why don't I see that International Space Station what data am I getting fifty 95 well if I draw something at the pixel x equals 50 and the pixel x equals y equals negative 95 that's where 50 / that's way off the screen so this brings up an interesting question I have a latitude and longitude I have that's real world measurement data of where the ISS actually is above the earth in the unit's latitude and longitude but this thing that I'm drawing in a window is pixels it's twodimensional it's got an xaxis got a yaxis 00 at the top left corner so I somehow need to translate latitude and longitude to x and y now a topic for another video might be how to do that using you know quote unquote correct i won't use air quotes here but quote unquote correct math right if you take a spear and you flatten it out you need to do some sort of like spherical transformation of those spherical coordinates to where they are in a 2d plane but you know sometimes in life that's too complicated I don't want to worry about that right now it hurts I have like a pain that's like it's in my lower back right now and I just want to like live and easy and friendly life and you know I the way that we could do that is just with the nap function because latitude has a range between negative 90 and 90 and longitude has a range between 180 and 180 which one is it well its got it one of these was negative 95 I was right about that so I could just take those ranges and map them from zero to pixel width from zero to pixel height so let's do that so what I really want to do is I'm going to say var lat equals the latitude VAR long equals the longitude and then ISS x equals a map the latitude which goes from negative 92 92 between zero and whiff so if you recall I definitely have a video somewhere all just about this math function what the map function does is it takes a value that has a given range and maps that value to another range by the way you could do that math yourself if you wanted to I know you guys I believe in you it's not that complicated but it's nice to have the map function to handle that for you and I think perhaps in my other video I talked about what the math behind the map function is ok so now if we run this dunk denta look there it is the international space station in about hit refresh come on move you can see it's like moving a little bit very ever so slowly and slightly so you know I probably could do a better job of making this here more intimately interesting but we've got something working here but I I spent all this time I've been talking for nine and a half minutes and I haven't even gotten to just this is just all set up all set up for the real tofu I don't say least mexican sounds weird the real like essence of this video which is now I all I did was query that URL at the beginning and set up and I got the data once I want to just keep getting that data over and over again how do I do that okay so there's a couple possibilities here of how you could do that one thing is i have this draw loop draw remember is looping over and over again for the purpose of the animation so i could figure out a way to just put the low json function and draw like that would be querying the API 60 times per second now that's probably way too often so another way I could do is you some kind of counter and say like every 10 times through draw or every 30 times or every 100 times query the API all of those are possible and I encourage you to try doing that on your own as an exercise or put something the comments to say hey can you link to some code that does that I'll be glad to do that but what I want to demonstrate to you in this video is another way of doing it and I will shuffle off shuffle off to Buffalo over here Buffalo and I'm going to do this with a function called set time out and even better yet I think maybe I'll actually do it with a function called set interval these are functions that are part of JavaScript itself in the browser these are not p5 functions and what these functions do set timeout says trigger an event once you know at blank time so set timeout says I want you to do this event and I want you to do it three seconds from now set interval is very similar trigger an event over and over every blank time every blank milliseconds time should really save milliseconds at blank milliseconds at blank milliseconds so right the difference is the event is clap right I'm going to say the event is clap so if I say set timeout 3,000 what's going to happen is on onethousand two onethousand three onethousand if I say set interval 3,000 what's going to happen is one onethousand two onethousand three onethousand what one dozen 2003 so it doesn't one onethousand two onethousand three onethousand rate right it's going to do that at the same interval over and over again so you can ask yourself which one is the one you want for this program I want to ask for the data every so often so i can use set interval now there's some nuance to this there's some reasons why other scenarios you I'd want to use set timeout and once I get the data back just ask her it again that actually could be a good way of doing this but set interval is going to be kind of easiest for us right now so the way that these functions work is you know if I'm using set interval for example set interval and then I'm going to pass in of call back this is the function name of the thing that I want to happen every blank milliseconds so all I need to do is say set interval do this thing every so often let's look at that over here now so in setup I want this to start in setup I want to say set interval ask ISS every what should we do let's just do every second so 1000 so this now looks this line of code says execute some function called ask ISS every 1000 milliseconds and the magic of JavaScript and asynchronous events is I can set that thing up going and it's going to happen on its own but draw down here will also continue so this animation will continue the API calls will be happening when the data is reading that got data functional happen everything that hole how the order of everything will happen will be managed by the magic of JavaScript eventbased handling so all I need to do is set up the events I need to say set up this interval and then also do draw at the same time which is what I'm doing in this program so now what goes in this function called ask ISS this low JSON call so I just want to do exactly this load JSON call every 1000 seconds for the rest of time at least while the program is running and we can run this now and you can see there it is come on move dot move I assess to get some speed going so one thing that I might do actually here is change my mapping right this mapping is kind of I was kind of mapping the full latitude longitude of the entire world but we can see here that it's currently at latitude 47 and currently at longitude negative 54 so let's go between 45 and 50 and like negative 55 and 50 so if I change this to be between 45 and 50 and what I say negative 55 and negative 50 I think if I do that we're going to get some oh look there it is it's moving can you see the space station it's that the space station is flying every second now I'm you can see it as a rhythm to it because I'm wearing it every second what I would love to do with this but I've been kind of this video's approaching 15 minutes because I would love to like add a little easing ocean into it so it doesn't just jump to next spot when i get to new spot and sore smoothly moves you can make it sort of feel like it's moving you know i'd also love to put an actual map there to love to do the correct spherical math I said max again without thinking about it usually I do that just because I like saying mats but oh it's leaving goodbye International Space Station so anyway so but i'll leave that review exercise for you guys so what i would say is like give this a try but build exactly the same thing what happens if you do it every 10 milliseconds versus every 3 33 thousand milliseconds you know could you make it move move interpolate between those two locations I can't I'm trying to think of other exercises that you could do but play around I'm sure you could be creative and come up with some ideas and hopefully this video helped you learn something today I don't have I don't have anything like to say like Schiffman 22 although I think I just a ship with 22 at the end of every video yeah okay goodbye ah broken mouth now sleeping mouse hashtag sleeping mouse you could say that you can if you watch this video tweet me hashtag sleeping mouth shipments sleeping I I don't know how am I going to keep trying I'm not gonna be able to search for these things never mind okay goodbye okay that was pretty good 1040 now alright Ken here okay how did that make sense to anybody I'm trying to think of oh I didn't I okay so now let me go back to my notes here recorded that one we go back to my notes here what did I do I got so I did open whether soap so the first video number six was getting json from api with a query open weather map number seven was configuring query with user input open weather map number eight was get data continuously with ISS so now here we go this is my list and i'd be curious for what you guys anybody's watching live now thinks i want to do a video with the word nick API the one of the New York Times API I'd love to do a video with some image Bay api and then I want to do a video about word counting and like term frequency a video about working with Google sheets and a video about saving data with parts so I'm here at eight and I have one two three four five six more to do in terms of this data and API so you can't even see what I'm typing you and it's terrible um so aid you guys have any thoughts you have any questions well how's this list sound in terms of images just instagram vs flickr vs google image search have any appeal to you let me know and it's 1045 i think actually unfortunately this is probably gonna be it for me today i have to move on and get ready for class that happens in life with real people yeah and I mean and so I think that's i'm going to do these tomorrow so i did seven and eighty two more which i think is good and tomorrow I'm going to do i'll probably get do word nick in the new york times but I'm but I'm curious if guys any feedback or any questions anything it's anybody actually still watching I don't know if you are let me know any feedback and questions like should i do like a can like twirl but I'm waiting that's like my load I this is my loading animation like personally like I'm loading or waiting animation that's actually that would be a good topic which is like how data takes a long time to get how do you have a program but they're so this is this list could go on and on and on because actually to be honest with you something I need to add to this is a multiple callbacks and closures this is a bit beyond the scope of what we're doing in the course this sort of like intro to programming course here at ITP but this really is a necessary topic and related to that is like and that really you know part of that is loading animation I have a whole I actually have a URL page of notes where I wrote up about this that you could look at I see maybe a question I know this might be covered in the map function video says malomi and you should make a sketch on how many people are watching this video well I could do that pretty easily you just create the word 10 it says 10 for me uh thank you I'm glad that you guys have enjoyed this so I don't know actually in some ways I think it might make more sense for me to do these more often and just do them for an hour I've been doing them a once a week for like two or three hours because that's kind of what my schedule eyes I'm gonna have yeah but can you talk about how changing the map parameters to 45 made it appear on screen okay sure yeah so that I guess maybe that wasn't particularly clear what I did what I did is let's let me come over here to the whiteboard a second so oops so what i did when i change the map parameters is as follows so if this is the canvas and I say you know this is like pixel 0 this is pixel like 600 but I'm basically mapping from negative the measurements I'm map and go from negative ninety to ninety and if the current measurement is like well I don't know let's say that's not drawn in the right place is like 45 and then the next measurement i get is 45.2 it's just going to move like a tiny bit but what i did was essentially Zoop by by changing what the minimum and maximum latitude of latitudes are it's as if I'm like zooming in on this section if I say this is 45 and this is 50 a change of point2 in that range will map to many more pixels whereas change of point2 with this range maps to very few pixels so that's what needed appear visually it was moving in both of those but when it moves like point 3 pixels versus when it moves 30 pixels it just is visually it's a much stronger effect does that make sense we'll check the chat ah how giphy api oh that's a great suggestion Antonius hi Antonius what time is it in China Antonius so gifty let me add that as the parolee the sort of issue with giphy is that rendering the gifts is sort of a tricky issue because their animations but that I could definitely do how about storing data to a database so I'm not going to work at present with like a whole database setup which would involve like serverside programming but i'm going to what i'm going to do is show you a web service called parse which is one that I use a lot you can use it for free although if you use it a lot you need a paid account but when parses is essentially a database on somebody else's server that you have an account with that you can just send data and retrieve it and actually i have an example that i'll build which is you have the user make a drawing and it's a if they're drawing to the database and the user can load their drawing again later so i will that's the sort of example that I hope to demonstrate at some point in a particular video any last questions before I go now's your chance and I gained a couple viewers just what I'm leaving but you can watch this you can watch this back it'll get archived as soon as I hit stop on the stream I just found out ah so someone's asking is this live stream happening on a regular basis so my goal is to ultimately have a regularly scheduled live stream possibly even several times a week I'll probably start that honestly favorite 2016 because right now but currently sorry what you don't care about that but what's happening right now is I'm doing these every week on thursday either in the morning or the afternoon eastern standard time and i'm posting when i'm doing it usually on twitter i should probably have like a URL like when is my next live stream not that i have that many people who are like interested but just so people could check that I know when I can't figure out YouTube the YouTube live page it sometimes it says the next stream is at I can't find anywhere where I put that in like a look I've asked YouTube support no one's given me an answer so if somebody help me figure that out on the live page I'll always put like when the next dream is happening to do it today Wednesday just so they had some extra time but this is a really why yes sir um but so and I just like put it up on Twitter this morning but I I'm going to do this again tomorrow Thursday and have it'll happen around I'll start sometime between twelvethirty and 1 p.m. eastern time so i have a meeting that goes until a little after twelve as soon as i get the system set up I'll just start i'll be doing this for an hour to tomorrow and I'm gonna continue this discussion now that said all of these videos get archived on YouTube and I even like chop them up into chunks that are a little bit more digestible than this longer one so you can see it that way yeah parse is great I I like using lots of nice solution okay so i think i'm going to go it is a 10 of 11 and i thank you all for watching I didn't play I just press the play at but this time and I'm going to come back tomorrow I'm going to try to upload these videos at some point when I have a chance today and see you guys soon send me your eye the bat by the way the best way if you want to ask a question is to just ask it in the YouTube comments because I'm kind of obsessively tracking those to try to just make it feel like it has an activity you can also but email i have just an impossible to tell so we're getting some emails recently from people if you want to ask a question asking YouTube comments okay i'm going to click a button over here which is going to sign me off a wave I will blow some kisses just may be a weird thing to do it's dreaming but it felt like a friendly thing to do at the moment and I'm going to turn this mouse back on and i'm going to click this button goodbye and see some of you hopefully tomorrow or some of you with the hallway if you happen to be here at ITP goodbye ticking the chat here we go clicking goodbye