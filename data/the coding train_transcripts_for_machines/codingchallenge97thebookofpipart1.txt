hello welcome to another Pi Day 2018 themed coding challenge and in this coding challenge I'm gonna try to make something which I am calling the book of Pi now I really like kind of a strange person that you you've already well aware of this I really like books that are just full of numbers I'd like to read them quietly to my children at night time for bedtime 69 thousand one hundred and three fifty six thousand five hundred sixty these are some random numbers from the book of a million random digits now I would love to say more about this book I'll include a link to more information about this book in this video's description but what I would love to have in my hands is a book with a million digits of pi maybe ten million digits maybe a hundred million I don't know and many digits I could fit into a book so then from there perhaps even it would be you might think about making a giant poster that has every digit and then visualizing each digit as something like a color or a shape or creating your own piece of art from the digits of pi so I want this video to be a place a video that you could watch to get you started on this so what I'm gonna do to figure this out is I'm gonna first of all I'm in use processing which is a Java based programming environment from the processing foundation much more information about that below in the video description as well and I already have in the in this the data folder a text file with 1 million digits of pi I will include when I publish the code for this I will also include a link to ten million digits and 1 billion digits and you can find more as well so but I'm actually going to comment this out because what I want to do first is I just want to have a system by which I can render a grid because ultimately I'm going to have a grid of all the digits on each page and I want to render each digit individually right one thing I could do is just take that text file and do print so depite export to PDF but I want to be able to render all this stuff in an artistic way so I mean I'm not going to in an artistic way I want to show you how to do an artistic way so you the person watching with artistic talent can make something or just if you had some creative experimental idea don't feel any pressure to make anything quote unquote artistic artistic with a lowercase a alright so let's start by I'm gonna create a nested loop with Y on the outside and this is I'm gonna do this in a sort of weird way I'm gonna say W equals I'm gonna just arbitrarily pick some numbers and I'm gonna have a width and a height and have it both be 12 through the matter as I tried to do this earlier today and I kind of mucked it up so I'm sort of thought about it a bit more which doesn't mean that I'll anything will be close to correct but I now have a nested loop and what I want to do in this nested loop is I want to draw a rectangle at every x and y that is the size of width and height and I want to give it a random color so let's just start like this the reason why I want to do this I want to see okay I can draw a grid of random colors now what I want to do just to get started is let me represent each digit of pi with a grayscale value so zero only black be black nine will be white and every other digit will be some color in between so how can I do that now what I can do is I can load my digits of pi file I this this is actually in there because the the file doesn't have it just starts with one four one five nine actually don't want to include the three point but maybe if I make it a text version of it I will want that later so let me take that out so what I'm gonna do is I'm gonna create a variable called index and all the way through the loop I'm gonna separately increment that index and I am going to get a string digit equals PI car at index and maybe I want to turn that into a number right now so why is this oh it would want to be a character mmhmm let's will that know oh boy oh boy ah let's convert that to a string this is the awkward who's awkward I don't know what I'm doing then there's somebody in the chat that still could tell me a better way but let's call this s and then I say int digit equals and I'll just convert that quickly from a string to a digit so I could have made it anyway so let's let's start with that and then what I'm going to do is I'm going to create a color I'll call it bright for brightness which I'm going to map that digit which goes from 0 to 10 to between 0 and 255 um so 9 should really be so I think what I'm gonna do just I'm gonna make this 256 and make this 9 no no 255 sorry 0 through 9 will that work I'm so confused already and this should be a float and actually yeah alright so let's let's do this ok here we go let's see what happens these are I think the digits of pi mapped to a grayscale value so the 9 are we seeing 9s are we seeing white the color white this could be a 9 so what I would actually like to do now is write the digit in there so I could kind of debug this and see if it's working correctly so what I also then want to do is say text the digit oh I have a random in there oh the random thank you thank you to the chat this random should not be in there I thought that looked a little weird there we go so this looks better now 3.1415926 this seems right so so maybe I won't write the numbers right let's write the numbers in there just to be sure because I want to be able to write the numbers eventually so I'm also gonna say text the digit I mean I could use the digit at that X&Y and I'm gonna say fill 255 minus bright I'm just gonna invert the color and let's just see what happens there you can sort of see there are some numbers but they don't match up right so one issue is that when I draw a digit at this location right that top left it's actually appearing above so this is the wrong digit I want the digit to appear at the bottom so it should be y + H and I also want to say textaligncenter which should give me okay that didn't work right because o because so I'm going to say this I could probably I'm gonna say X plus W divided by two let's do that let's run this again does that I missed it okay see you again now now this looks right right one four one five nine two six five so we can see that it is mapping to the correct colors wonderful okay we're getting somewhere now these don't really look like squares to me weirdly did I say width and height width height height width 12 twelve I don't know maybe that's an optical illusion and I'm being told in the chat that I should try Center Center can ivory aline Center as well yep and then I could say height y plus height divided by two and now the digits are perfectly in theory perfectly aligned in the center of these what I believe to be squares you know what it is it's an optical illusion the fact that the characters are kind of elongated I think is tricking me into thinking those are taller than they are Y okay so now we see that so here's the thing I want to turn this into a book or I at the very least want to render a huge version of it so the way that I want to do this is with the PDF renderer in processing so I'm gonna go to the web and I'm gonna go to processing website reference actually libraries PDF export so one of the things processing has this size function where you typically will set the width and height of the window you can also set the renderer a renderer might be P 3d for 3d graphics but a renderer can also be PDF and when it renders to PDF it's not rendering the pixels of what you seeing it's actually drawing the vector based lines and shapes of what you're drawing so that this is now something you could blow up to be super high resolution or important to some other kind of program that works natively with vector so so but actually instead I want to be able to still see what I'm doing on the screen so I'm going to go and get the look at this example with a screen display and I can actually just use size as normal but call begin record so I'm gonna say oops ah actually I don't okay I don't need to copy/paste this I'm gonna say right here begin record book of Pi dot PDF I think that's all I have to say no oh PDF write PDF yes because begin record could also I think render out like a 3d model I'm thinking it's another version of and then I at the end I want to say and record so let's run this again oops oh I forgot I have to import the library so for to do it I have to import processing dot PDF dot star this is Java syntax for importing a separate Java library so we see this here and now if I go to the sketch folder there's a PDF called book of Pi and I can blow that up and run around look at that so you can see here so even though it's zooming in I want to zoom in this way so you can really see right no matter how far i zoom in I don't lose any quality because this is actually drawing the vector path to this PDF now one thing we should look at is the size of the PDF this isn't so bad 163 kilobytes we're in good shape here one thing that I think that I want to do is let's change the well actually let me take out drawing the text I'm gonna cook I'll come back to that now I just want to see how big can I make this so if I make this so what would be now let's say I want to fit all million digits into one page so let me keep it at 400 400 mmm let me think about this let me actually make this 800 by 800 just to start with something larger a million the square root of 1 million is what 1 thousands so if I want to have a thousand columns and a thousand rows let's start with something smaller let's start with a hundred columns and a hundred rose then the width should be the width divided by the number of columns the height should be the height divided by the number of rows right so this should be a thought and then if I do print line I'm just curious index this should have gotten to 10,000 right this should show 10,000 rectangles there you go so that's 10,000 rectangles and that is now also in this PDF which is still right there so I can zoom all the way in and we can see I can zoom all the way out can I do view I just wanted to zoom to fit I guess it's already done that okay so we can see there it is all right now let's see if we can get all 1 million digits of pi so let's change this to one thousand one thousand in theory I shouldn't worry about the size of the window it's sort of irrelevant at this point although there's an issue with the numbers getting so so small that that might make the PDF rendering kind of wonky let's see what happens so this is gonna take a long time hold on take a break go get a cup of tea I'll be back I'm back I didn't work actually got an error straight index out of range 1 million so the index should never have gone to 1 million but I think I probably have a little bit of a rounding error so I'm just gonna write now I'm just gonna like not worry too much about that and say if index index is greater than s dot length then greater than or equal to X dot length index should equal s dot length minus 1 so this will at least get rid of that error but I just realized something if this is 800 by 800 and I'm playing to have a thousand by a thousand that's definitely not going to work I don't even have that many pixels so I possibly draw that many rectangles this is why I might not want to bother to render the preview the preview is going to be irrelevant but I'm sort of wondering if it kind of will make do once it goes to the PDF because this the actual pixel dimensions are irrelevant so I'm just curious I'm gonna let it go again and see what it does it shouldn't look like anything in the window but maybe we'll see something so so this is the PDF I got that didn't seem to work it's all in there though because it is 13 megabytes oh well maybe it's just really slow to appear let's try let's try creating a larger window size even if it's larger than what I can see on the screen so what I want to do is actually I'm gonna say no stroke ooh this was for the text I'm gonna say no stroke to get rid of the outline of the rectangle and then also I am going to make this the size of 4,000 by 4,000 which should at least give me a 4 by 4 or 2 by 2 rectangle let's see if that what that does so it's much bigger than what I can display on my screen hmm that doesn't look right either this is the penis something in that PDF for sure let me go back and look here did I make some weird mistake oh yeah I have a new idea one is I'm gonna get rid of the PDF rendering and what I'm actually going to do is I am going to use create graphics so I'm going to create an offscreen graphics context that's much bigger than the window and I'm gonna say P graphics and I'm gonna call this a canvas and I'm gonna say canvas equals create graphics that's I'm gonna make this quite big 16,000 by 16,000 gonna make a huge graphics window I think processing should be able to do that and then I'm just gonna have the actual size of the window be 800 by 800 and I still wanna have columns and rows and now I want to say everything should be done as part of the canvas so instead of rendering to the window and though so now I want to say canvas taught Phil Camus taught stroke lamda stat rectangle and then I am going to oh oh I just noticed something I just noticed something that I forgot about this is integer arithmetic so that's gonna really mess stuff up especially when I had only 800 pixels that's why I didn't see anything so let me make these just to let me make these floats because an integer divided by an integer will always be an integer oh no these were floats though nevermind since column and rows were floats I'm wrong about that that actually doesn't matter here okay but there's weird that it's printing out the index still a zero oh because because when it gets to the end it shouldn't be zero but let's keep going with this canvas fill no stroke rectangle so now I need to say instead of begin record I must say canvas stopped again draw and at the end so this offscreen canvas I could say end draw you can draw to it just like the window and then I can actually just draw the window right there draw the canvas right into the window so let's not go crazy let's make the offscreen canvas 800 by 800 and let's just have 40 rows and 40 columns okay there's some other weird mistake in my code s dot length two pi dot length oh look at this what a disaster I wasn't looking at pi anymore this whole time this whole time this whole time well there we go it's working now so let me just keep going with this method and I'll come back to the PDF this was good to look at anyway so now let me make the size actually 8000 by 8000 let me just do 200 by 200 what whoops no the size should be 800 and let me have this be 8,000 by 8,000 and let's see what happens here whoa something went wrong canvas dot with canvas dot height rows columns canvas dot oh I need to say I need to shrink it down now if they're not the same size so this is the giant thing now but if I were to say canvas dot save you know PI Post this is the poster of Pi and I say PNG poster of Pi dot PNG that's not right oh semicolon I'm gonna run this come on you can do it you can save it there we go all right so now rendered it I see my preview here and if I go here we have PI poster which is a two megabyte file I can take a look at that and we can see this is what it actually is zoomed in so now can I fit all 1 million digits let's make that happen so now I'm gonna have a thousand by a thousand I'm gonna make it sixteen thousand by sixteen thousand so each each rectangle will be sixteen pixels by 16 pixels I think that's about right who knows who knows my math is off this is gonna take a while to render let's hit save go go make yourself a cup of tea and I'll be back when it renders or what it says right here out of memory okay wait and we've already got the out of memory error so one thing is I could go back to my nice PDF world which I wouldn't have this issue necessarily and but I can actually do better than that let's take a look at the processing preferences and go to here oh I've already given it four gigabytes of memory so I've already done this all right let's try making this smaller let's do let's do let's try 4000 by 4000 that should be fine alright see you in a bit oh there it is so 4,000 by 4,000 you can see here this is all that it's all one million digits of pi all in one window and if I go now to here post or PI a 1.2 megabyte file I open it up and look at this this is it this is it everybody this is now a a 4,000 by 4,000 RGB image with all the digits of pi okay we're getting somewhere we definitely should use HSB mode that'll be much more fun let's push it let's push it a little let's make it 8,000 by 8,000 to see if we can make that happen and let's change this to let's say I think I have to say canvas color mode canvas color mode HSB and let's just say 1.0 let's have everything beef between 0 and 1 and so now I should be able to say map this would be now be the hue and I should be able say hue 1 1 and this should go between 0 and 1 and actually be much easier just to say digit divided by 10 by 900 right because I want to get to one point oh I think yeah all right so let's see what happens here that's what I got that doesn't look right okay this was the problem spent a lot of time debugging that you could check the live stream if you want to see it a little 10 minutes of me searching for this but I called color mode before I said big begin draw which is really a problem that's a very bad thing that's not gonna work so I need color mode to happen after and in this case now I can I can set the hue I could set the hue I could I could I mean I should be able to now put it back to 11 if I want to use color mode HSV with a range of 1 from 0 to 1 and I should see there we go so now I see these are some digits of pi with a different hue saturation and brightness and maybe just for our eyes let's make the this seems kind of maybe do I want the brightness higher but they give the saturation I don't know what I'm doing oh I think I just want it not as bright but I want it like I want it fully saturated yeah whatever you can this is the problem I'm this is the problem I have a problem what my kids you just say so the problem is I'm terrible at design so but we're good it's where it's functional and you are better at making something beautiful than I am okay so let me go back now and say 1000 columns 1000 rows eight thousand pixels eight thousand pixels and here we go I'm going I'm running it again with full brightness and saturation just to like leave it in this or a default state here we go oh and I want this to be nine all right here we go ready oh you back in a minute once it renders tada there it is 1 million digits of pi all mapped to a to a different hue and let's actually open up the let's take a look at the PDF I'm it's not a PDF sorry the PNG which is just a 2.6 megabyte file and I can zoom in on it and we can sort of scroll around and see these are all the digits of pi mapped to a given hue so now we're getting somewhere now here's the thing I wouldn't go back to PDF land let me see if I could render this to a PDF okay because I think the issues I was having before didn't have to do with the PDF rendering they had to do with my own other kinds of mistakes so what do I need to do I'm gonna change this from I'm gonna say let me think about let me think okay everybody stay calm I think what I would like to do is do the PDF rendering without seeing a preview because I think I could sort of double up the code and draw everything to canvas and the PDF but I think what I want to do is actually if I go back to the processing reference I want to do this single frame no no display okay because I'm just gonna trust in my code so I'm gonna get rid of I'm gonna what I'm actually gonna do is I'm going I'm gonna save a new version of this so that's like a version that renders a PNG file I'm going to say PI day five I got to rename all these and so I I can muck around with this a little bit more I'm gonna take out the canvas I'm gonna take out the canvas I am going to again I'm gonna put this back to a hundred and a hundred I'm gonna say I'm gonna say a PDF book of Pi up dot PDF I am going to say columns and rows that's good load the you load the data up here then I don't need to begin record anymore if I'm so this is gone and now all of my canvas dots should be gone again because I should be saying just color mode with height height with all this bla bla bla bla bla bla bla bla bla bla bla bla bla this is some ridiculousness there that I don't need I don't need to draw it anymore I don't need to save it anymore what I just need to do is say exit so when I use the PDF renderer here it will automatically render everything to this PDF and then exit the program so this shouldn't take very long to run let me just run it and I don't see anything because now I have to go and look at this PDF which nicely there's only 114 kilobytes I can open it up and there it is why is it not a square it is a square I just I just don't know how to use the computer I wanted to zoom to fit I don't know why it's not doing that let me just do this yeah okay so there you go there it is it's a PDF then we just can see that this is a vector drawing because no matter how far i zoom in as much as it'll let me I still have sort of a nice quality there alright now let's get a little more ambitious let's have it be 500 by 500 and let's make the size a thousand by a thousand and really the size is sort of irrelevant at this point so we'd finished there it is this is now a poster PDF and I can zoom all the way into with all the digits of pi and now is it gonna be okay I think it'll be okay why not why not 9 and 0 or both red that is a good point because I'm using hue saturation brightness hue is an ant is think of it as an angle on the color wheel 0 to 360 and 1.0 and zero would be the same so this should be divided by 10 thank you for that excellent point me I am swimming in the chat let's run this again it hasn't stopped yet I should put something like print line finished it finished though because I can see that the play button became disabled so let's look at this one more time it's an 11.5 megabyte file now and I'm going to open it up and there it is 1 million digits of pi all with a different hue arbitrarily on a grid do you see the secret encoded magical messages there these are such small no it's it's just it's just having a lot of trouble rendering it but you can see it's slowly coming into focus all right now I want to do something really exciting because guess what I want to do this oh I already did all 1 million so what I want to do now I could do 10 million I'm gonna open up no no no let me not be so ambitious let me make it a hundred by a hundred so if it is one oh that's a thousand pages so let's say I want to have it one thousand a hundred thousand per page to have it what's the square root of a hundred thousand I can get ten thousand per page that's what I'm doing here ten thousand per page that won't be that many pages let's do it yeah let me just easy math I don't care if it's a lot of pages 100 by 100 let's see what this looks like so we can see this is now 100 by 100 so that's one thousand ten thousand ten thousand that's ten thousand digits of pi represented as a hue okay now who okay this is very exciting what I'm gonna do now is I'm gonna say for int I equals zero I is less than ten so this is total pages I'm gonna say page equals zero no no let's just use I I is less than total pages I plus plus so pages equals PI dot length divided by columns times rows print line total pages right this is if I only have it 100 by 100 but I have 1 million digits than I need and 110 thousand this is how many pages I need now I can say this many total pages in debt and then I can I'm gonna say print line page I complete has one page I complete and put another bracket here and then I'm going to say ah so now if I go back to here what I for multiple pages I need access to the PDF renderer itself which I can grab right here after setup and then I can say PDF dot next page so I'm now going to make a multipage PDF with ten thousand digits on each page ready for this I'll be back when when it finishes or has an error I'm not sure which one oh that was kind of anticlimactic I could actually already see that I have an error here the variable total pages does not exist so I forgot to say int I want this to be an int okay let's try this again should never use the drum float does not match with int because these are columns and rows are floats that's insane what's wrong with you and then this needs to be a float okay this is a flood I'm gonna just just just take your time these could probably be into boy Java you are fun okay wait all right I'll be back it's gonna render oh wait it finished 98 99 according to this it finished I now have a it's still a 10 megabyte PDF if I go to view thumbnails look at this page 1 page 2 page 3 page 4 page 5 page 6 page 7 all the digits of pi alright let's just see if processing can do ten million digits okay so I'm basically done what I would love to see is like I'm gonna obviously this code will be on github I want to make a version that just like actually has the raw digits in it what's the most kind of interesting or strange way we can represent it can you fit it all into a big poster can you make a book let's make a coding train book of Pi together as a community won't that would be fun but before I go let's just push let's push it a little thank you Andres Calibri creator of the OpenGL processing library we always like to say that ok so now what I want to do is I'm gonna change this I have a 10 but I don't have the 10 million file so let me go get that 10 million file here it is thank you to this CS course or something at Princeton that I mean Pi Day whoops where am i processing pi day 5 PI 10 million save this file there I also by the way I have a link to a file with 1 billion digits so what I'm gonna do now let's see so I want to load the 10 million should we make it a 10 page book with 1 million in each page now let's keep it with 10,000 on each page it's not too many pages 10 million oh let me just say book of Pi 10 million so I don't overwrite my other file when this inevitably dies alright let's put let's put like some more ease gonna be a round number ten million divided by four forty thousand probably not anyway let's just keep it to 10,000 per page that's just gonna be a thousand pages right yeah or something like that who cares it'll compute it for me ready let's watch the console here we go we just need to get to a thousand pages I'll be back when that happens page 999 complete completed so in theory okay okay fell down train whistle in theory this file here woo whoops this is kind of a large file it is 104 megabytes it is a PDF that has a thousand pages in it with a rectangle with a hue map to the digit of pi it has ten digits what has gone on so I have no I've sort of suspect that my computer might have a little trouble opening this file but let's take a deep breath and open it anyway let's close this one and let's open this Oh actually amazingly it did it instantly and there we go all ten all thousand pages all ten thousand digits now I wonder if you might just double check this for me I'm on page 80 and if you could just check if this sequence is correct I didn't make any mistakes with my code that would be really nice thank you very much I really want to see it with the digits ah okay but I gotta end this video um I hope that you make something with this make a poster that vid and by the way one I'm limited in my thinking here right because I am thinking only in terms of this works like linear order of columns and rows but it's so arbitrary right the digits of pi are one dimension or perhaps they're in some multidimensional space that we can't even understand but the fact that I'm arranging them in this sequence you should remember is completely arbitrary so mutt might be another way that you sequence these or visualize these in a giant PDF whether it's a poster or a book or something else share with me I'm gonna work on my own on making maybe I'll make maybe I know maybe I'll just make another video real quick all right make the text version of this so I'll see you at perhaps if I make that video in that video otherwise have a wonderful pi day I'll see you in 2019 you