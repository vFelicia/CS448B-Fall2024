I forgot to do a sound check before I started streaming so I assume you all can hear me test one two I hear myself in the monitor let me know in the chat if that sounds good hello and good morning and welcome to the coding train two days in a row if you complete that which is kind of an odd thing considering the hats this is kind of the busiest time of the year for me but I missed a week there's a lot of stuff that I would like to get done before the end of the year one of these days maybe I can do a kind of year in review or some kind of Happy New Year show but not this year because there's not many days left in December so I have a very specific thing that I want to do today and unlike yesterday where I don't think I got started with the actual coding tutorial portion for well over an hour I think it might actually even put an hour and a half my intention is to get started with that within the first ten minutes ideally but let me just make a couple quick announcements which are similar things that I that to what I mentioned yesterday one is the ITP show if you are local to the New York City area I highly recommend you come visit the new ITP ima location here in Brooklyn 370 J Street downtown Brooklyn this Sunday December 15th and Monday December 16th I will be doing a live stream from the show most likely Monday I'm pretty certain about this now actually I've scheduled it for Monday December 16th at 300 p.m. Eastern is when I'm hoping to get started so take a look at that and if you're in the New York area come say hello I'll have my stickers with me hopefully I got to order some new stickers and I actually been giving a lot away and they don't have very many left so that's important note number one important note number two is just to remind you about mmm I guess I'll go to twitter.com processing org the well the processing fellowship applications are due December 19th which is just a mere five or so days from now because today's ooh today is oh it's for an excuse for this ID 213 boutique late so I have a story to tell actually I'll play this music Rebecca when I was just a wee lad be around 10 years old oh this is this is terrible I got a music it's really freaking me out it was Friday the 13th I was walking home from school and a Black Cat crossed my path maybe I've been telling but I actually this is not a funny of a story I had I had an injury that day where I was playing underneath the porch of my house I don't know why I was under there where I grew up in Baltimore Maryland go Oh's next year is gonna be the year and I bashed my head I stood up and bashed my head and got like a big cut there and I had to go get stitches and they had like like shave a little portion so I think you know you can see that I'm kind of going bald up here I know I look just so youthful like I just graduated from high school just last week now but but when I go fully bald which I assume will happen at some point there should be a scar up there I've never actually seen it but well we'll take a look I've got a nice scar under here also I've got a very large scar here I don't know if you can see and a lot of metal in my arm but that that okay what was I talking about ah and then also nice segue here thank you today is a sponsor of the Kodi train brilliant dotorg it's a holiday mystic so thank you to brilliant org I will come back and talk a little more about brilliant and look at one of their daily challenges I was actually looking at it on the subway this morning it's one of the things I like to do to exercise my brain I really need to do some physical exercise as well but if you want to learn more about brilliant or go to ProLiant dot org slash coding train and if you're interested in a premium subscription which will unlock all the features you will get a discount by going through that link okay I think that's everything with all of my announcements so I could just get started oh no no no fellowships fundraiser fundraiser all right then I sort of talked about Friday the 13th fundraiser so please if you can consider supporting p5 this giving season I talked quite extensively about the processing fundraiser and our goals for 2020 to be able to sustain these open source projects and the community behind them I won't talk through all of those details again today I will just point you to this page you can see we have a quite an ambitious goal of reaching fundraising $150,000 some of that a large portion that will be applied to leadership and stewardship of the p5.js libraries so you know I benefit enormous Lea from these open source free open source tools I use them to make tutorials I've written books that use them I teach with them so a lot of the things that I have in my life are because of the volunteer hours and a paid work that people have put in and the more that we can fund and pay people to do this work that's a really important thing for an inclusive open source project so consider that and you know you could be the proud owner of these fruit of what you really should want are these beautiful artworks artworks by these wonderful artists but psy coding trained community manager they have designed a coding train zine which features a whole bunch of recent challenges with images and source code and if you want one of these I will sign it I don't know if that means anything I don't know why it should but I will and you can get one thank you very much all right now I'm gonna close out these windows and where am I saying no here okay now what am I going to do today what am I going to do today just look at what like weird music did I put onto this sound board Oh fry this is Good Friday 13th all right and a little random number ASMR to warm up my voice I'm still kind of getting over this cool twentyfive thousand three hundred thirty two twenty six thousand seven hundred eighty thirty four thousand three hundred seventyone 8050 for six thousand five hundred and seventy one seventy three thousand four hundred and seventy eight sixteen thousand two hundred and eighty four 2587 we eat of the comments dan says technically our table is given two random numbers seventythree thousand four hundred and seventy eight twenty six thousand seven hundred eighty this is a log thought okay let's move on all right um so yesterday on yesterday's live stream I created this example it's something very exciting is about to happen number one is I'm just turned on my webcam and I've got my computer facing me you can see it here there's my webcam oh but you don't see me why because I have an external webcam today so if I come over here I can walk over here look at that it's very glarey I can even I guess I can switch this here but that you don't see oh I should create it oh I could create a layout where I show both oh interesting let me try something bear with me for a second just curious I'm gonna create a new I'm gonna I'm gonna I'm gonna put on this waiting music I'm gonna switch this I have I'm gonna create a new scene scene dual split we call this a split screen and I'm gonna add you can't see what I'm doing here but you'll see soon enough video capture video capture device whiteboard then now if I stand over here this side of the way oh this is perfect then what I'm gonna do how do you crop oh [ __ ] anybody know that's squishing copy transform rotate flip fit to screen stretch the screen Center to screen ruff how do i crop how to crop open broadcast studio click the source you want to crop hold down the Alt key and drag the bounding box alt oh I'm cropping the wrong one right this is gonna be so fancy you guys are gonna be amazed the music is gone hold on let me add the music music is there now all right I could talk to you here and it's doing my post at here awesome look at me I am such a fancy streamer now I can even add a button to my stream deck these are the kind of things that a normal person would do before they start live strictly we're gonna split screen and we're gonna call it split so when I come over here to use demonstrate why is the weird focus alright thanks for bearing with me so I think this is gonna be important today because what I'm going to attempt to do is classify poses by training a neural network to recognize what pose I'm making so let me clean this example up a little bit because I don't think I could I don't really need the skeleton I'll leave that in there because visually it's kind of nice I don't need to draw this stuff I just want to draw all the key points and the skeleton let's make the key points also try this let's draw the key points after I think this will I guess if I make it the same color doesn't really matter just want to get something very visually simple that will do I wonder if I should use a different color but I think it's fine what if I did this yr weird phone okay I don't know somebody booze a designer should I keep the lines in here it's so weird how they appear and disappear could I get a maybe I want to put this webcam further away also where could I put it it's showing the table now that's no good all right I'm gonna it's gonna be fine I would love to get like a full body shot but this will have to do how far back can I put it without showing the table further well I see the table so up a little bit there we go that will just have to do a little bit that'll do okay Oh Here I am alright what's what's the happ's people's I forgot what I was doing my glasses were very dirty please let me clean them and then I will talk about what I'm going to do all right I have a fan the fan on this computer is going crazy can you hear that you hear that so I want our novice asking that task is classification and but I want to do classification and regression and this is ten twenty someone's giving me a suggestion in the chat here okay and we will begin come on focus camera ooh all right let's try this this is gonna be interesting I really should mirror myself but I'm just not gonna worry about that hmm let me add the flip image thing so let's do let me also add to this let me do something here I am going to show you how to flip the video I am going to say a scale negative 1 1 and then draw the image reversed which means 0 video dot with comma 0 is that correct No I've done this so many times an answer to this question so many times for people and yet I can never get it when I need to do it myself so what I'm trying to do is let's let's take a look here is the idea is that if this is my canvas and I drew and I call scale negative one comma one that is flipping the horizontal axis so that positive pixels go that way oh shoot ah I guess this is camera is in a different position than it was before again if I if this is my canvas and I call scale negative one comma one then that means the xaxis has a positive pixels in this direction zero zero is still here so what I think that I could do what I thought I could do is just draw the image with the X location here and then it'll sort of unfold backwards but in Reverse so I don't want to use ml5 flip image because I don't want to use ml5 flip image because though I think that's gonna cause an issue because the the points will still come back unforgettable adding though the because I also want to flip the where the points are being drawn so what am I doing here so let's look on let's look at I'll show you where this is done source utils oh that interesting just translating I wonder if the width and height is different all right so this is here it is it's just just doing this so then I can go back to here and say translates negative with commas zero I'm sorry video with commas here oh this should do it oh but then this goes at zero zero I'm doing it exactly the same way translate scale oh oh oh I need to translate first of course there we go okay so now this is the reason why I wanted to do this cuz I just don't want to have to it's just gonna add a whole layer of extra complications to flip I can just slip the whole scene right there which is the easiest way of doing this okay so that is good so now I can go back to split okay focus focus focus there we go and now just funny to put things in front of the camera no I can't okay well sorry I'm just entertaining myself here waiting for people to show up welcome to part one let's see what am I saying oh hello welcome to another video using MLS remember I said I wasn't gonna do all sorts of ridiculous starting and stopping did I ever say that I am saying that hello and welcome to another video using pose net and ml 5gs but in this video what I'm going to do is take the output of the pose net pretrained model and feed that into an ml 5 neural network to train a pose classifier to recognize when I'm making certain motions like a Y and M a C and a alright so I talked about this at the end of the last video where I covered how to make this particular I talked about this at the alright so the two videos the two videos that I'm assuming our prerequisites here are the previous one where I covered all of the code for this particular pose in that example that you're seeing running right here in the web editor as well as this train your own neural network set of videos that covered the basics about how the ml5 neural network class works that covered the basics for how the ml5 neural network function works that covered the basics of how the ml5 neural network function works to train a model to play musical notes based on where the user clicks their mouse in a canvas well this is not running sweet it's running okay all right so to get started I could really begin with either one of these sketches like I could bring pose net into this one or I could bring the neural network stuff where I'm looking to get started I could really begin with either one of these sketches for example I could go and get my pose netcode and bring it into this particular sketch or I could take the neural network code from this sketch and bring it into the pose net1 I think I want to continue working from the pose in that sketch itself and the first thing that I want to do is create an object to store the neural network so I'm going to call that brain and then after I initialize the pose net model I'll say brain is a new ml5 neural network and you might recall that any time you create a neural network sorry and you might recall that any time you create a neural network you can specify a set of options for how you configure that neural network okay nathan is asking is there a way to disable the webcam autofocus I have no idea someone can look this up for me it is a logitech HD 1080p web camera and if there's a way to do that I would gladly do so but I don't think so the full range of all the options you can specify when creating a neural network can be found in the documentation but I'm going to begin with just these four options how many inputs how many outputs what's the task and do I want to debug do I want let's get rid of the debug thing I'll bring that back in later the full range of all the options you can specify would create in the neural network it can be found in ml v website documentation but I'm gonna just begin with just three things I just want to do the basics how many inputs how many outputs and what is the task I want to mention the canvas thing where should I have done that probably should have mentioned that right from the beginning I'll come back to that I just kind of have the diagram I'll just diagram it again okay maybe we could just maybe I'll just do this out of order and Matt chick and figure out when it should go in how do I emphasize okay one thing I want to briefly mention before I begin the actual project here is they added something to the code where I mirrored the image so the image it's a little hard for you to see but is mirrored you can see this is my left hand but it appears to be my right hand in the actual image on my left it's mirrored this is a very important thing for interactivity because you want to see oh wait I should never leave so wait for it to like pick me up again right what explain what before I begin coding let me quickly mention something I added between the last video and now I'm mirroring the image so that when I let raise my left hand it's mirrored to me what I'm seeing on the screen in front of me over there and this is important for interactivity it makes it feel much more intuitive and natural to see yourself mirrored you might recall that that ml5 has a specific function called flip image that will do it for you but I actually found because I'm drawing all this other stuff that it's easier for me to just write the code for that itself which involves a translate and a scale in other words typically when I draw an image I'm drawing it from 0 0 and and right in other words typically if I'm drawing an image at 0 0 I'm drawing it right here and the image gets painted across the canvas but if I call scale negative 1 comma 1 it sets the xaxis going in the other direction so positive pixels go this way and if I translate over to here and put 0 0 here and draw the image this way it will appear reverse inverted flipped to the viewer okay so that's what's happening in these three steps right here right now so Matt's yeah I think that'll probably go earlier and then or something we'll figure it out so now let me oh boy you couldn't see me writing any of this stuff ah it's fine who did that did that's a good idea clip iasts doing a good idea is suggesting a good idea of putting something on the wall so it will focus it let me try that in a second just did the fact that I you can't see that I drew 00 up here is that gonna be like a huge problem do I need to redo that I mean I had a minimum I could do this right now like that was fine right so I need to redo that explanation maybe I want to redo that excavation drawing the diagram anyway don't redo it okay let's see here if I can oh there's the eraser let's see if I could do that suggestion of putting something on the wall too bad the wall it's not magnetic so I would just do this it's not magnetic do I have any tape in here be nice if I had just like some gaffers tape I think this is an excellent idea that's worth pursuing all sorts of stuff nothing to tape anything to the wall I am a smart surface no tape in this room I know where I can find tape but I'd have to leave here that seems like a sad thing I guess I could maybe I'll go get a piece of tape can you all tolerate that I'm so here we go I'm gonna put this on I will be back in just a couple minutes I'm gonna get some tape I am back tape let's see if it works with just where's that onair sign ah seriously look put a plant in the corner of the room I love that idea I don't have a plant get up I think I know where a plant is love the idea of having a plan cher is getting ridiculous print my face okay I think I should just move on and let it autofocus was it was it because the sign was under the camera I doubt it oh hey look at that tada I think the sign under the camera was messing it up oh no I just got lucky a printed face I could print a face that's gonna take a little while I have like prints up pig's head to the printer go get it that seems ridiculous I think maybe I'll just move on and let it focus on me it's not that big of a deal okay so here I go here I come to save the day so warm in here remember me the full set of options for the full set of option for configuring an ml5 neural network you could find by reading the chat Oh interesting the problem is the camera trying to focus on me oh yeah hold on hold on I believe you not that I just have to test this theory okay it's focused on me people help me let this go you know I have a problem with this kind of thing and I'll spend like hours wasting time on this I don't think it's a good use of anybody's time you can find out more about what kinds of options you can use to configure an ml5 neural network but I'm just going to start with the basics all of these guys make you be crazy cuz I'm looking this way I'm seeing it a chat move on people let's move on let's move on let's move on all the options for how to configure an ml 5 neural network are on the documentation page on the reference but I'm just gonna work with these ah all of the up all the options for how to configure at ml 5 neural network you could find on the documentation page on the reference but I'm just gonna work with these 4 basic ones inputs output what tasks is it and whether I want to debug the training process or not so let's diagram out what's going on to know how to fill out these 4 items items whatever yeah dude I'm so distracted whoa we're really moving on now people moving on all the options for how to configure an ml5 neural network are on the documentation page on the reference all of the options for how to configure an ml5 all of the options for how to configure an m5 neural network you can find on the documentation page for the reference I'm just you starting with these four basic properties input outputs tasks and debug so let's come over here to the white board and let's diagram out what's going on now remember we're starting with the pose that machine learning model we're sending an image into that model as the input the pose that model then takes that image and does pose estimation making a guess as to where all the key points are on the human body that it sees and all those points come in the form of XY pairs coordinates here's my elbow here's my shoulder here's my ear it doesn't have any or whatever nose there's 17 of them 17 pairs you can't see that there's 17 of them are 17 XY pairs so spoiled by the editing now just not I should not allow myself to have editing anymore it's ruining me their SEP and that's 17 XY pairs all of this data is what I want to send in as the input to my ml5 neural network and I want my ml 5 neural network to take all this data and give it a label this is pose a B or YMCA whatever those labels might be dab no Deb that's a terrible idea [Laughter] all these XY pairs what I ml5 neural network will take all these XY pairs and classify them into a given pose that has a label it's a dab pose or a Saturday Night Fever pose I don't know what kind of pose like me to make I'll do YMCA why not this now tells me how I want to configure my neural network I want to send it 17 pairs of numbers that's 34 inputs and I wanted to classify those 34 numbers into one of four labels that is four outputs thirty four inputs four outputs the task is classification and I do want to see debugging as I'm training the model and I have to give those options whoops and I have to give those options to the mo5 neural network itself are we on time I'm gonna take a break in a few minutes now here is where things get kind of complicated right I have to tell the sketch that I want to give it a pose through some interactivity like maybe I type the key Y and then I need to run over here oh oh why did it get so slow is there a memory leak they stopped and started again what just happened there oh my god is this sketch running I think I need to give my computer a break geez Louise yeah all right why don't we do this I wonder if I just prop this up to let the bottom breathe of the laptop a little bit that might help let's give this let's give this a little break and will I will do its it is 11 so it's a good time for me to take my break and the room is hot yeah yeah let's I can air out there period all right this week this week let me take a minute to thank today's sponsor brilliant dot org so I've been a user of brilliant for quite a while now I you know one of the things I love to do at crossword puzzles write great and brilliant at org has actually taken the place of a lot of the time that I used to spend doing crossword puzzles in a wonderful way because there's all sorts of other brain teasers and puzzles and learning things but let me tell you something that is exciting about brilliant org which I didn't know about till very recently when they let me know about this imma knock something off your holiday list potentially if you're looking for a gift because what you can do for the holidays especially if you don't want to buy like a physical thing is you can get somebody something you can get somebody a premium subscription to brilliant so they have a special let me go to the website here and you will see all these different buttons there we go I'm going to I'm gonna close these oh the fans stop Fanning that's good I'm gonna go to brilliant org I'm logged in here on my account which is a premium account and you can see right up here this holiday season spark a lifelong love learning so you know for your niece your friend your nephew your cousin your mother I don't know who I've suspect that they might not have brilliant org on their list but they might be somebody who would really enjoy it so it's it's I'm off my game here for so many different reasons but um so here's some new footage of their website that you can see how these fun interactive puzzles are in action it's a really nice way to nurture curiosity build confidence and develop problemsolving skills crucial at school job interviews or career so um what I like to do so you can you can go to brilliant org slash coding train and grab a gift subscription there if you can also you can also through the the the link you can get a discount on the premium subscription and what I like to do on the coding train when I take this little break here is to look at the day's daily challenge and it's today's daily challenge there's a bunch of them actually one of them I was scrolling through I think oh yeah this one I already looked at this one don't be left with the lemon let me click on that this particular challenge I was thinking you might be able to do this with the minimax algorithm which is my most recent coding challenge it's a rainy boring day so you and a friend decide to play a game after finding 30 tasty cherries on one very sour lemon you'll take turns eating either one or two fruits so the last person to take a turn is gonna get stuck with the lemon so is there a strategy to a few so if your friend knows the strategy always makes the best possible move if you get the first move while eating one or two cherries give you a better chance of winning this is basically exactly like talking about the minimax algorithm I love that which is what I did in a Kurt code easily so if anybody bothers to try to code this game and use the minimax algorithm I would love to hear about that let me know one of the things that I that I especially enjoy with brilliant is when I the answer is you will eat the limit by the way whoops spoiler sorry about that but I love seeing people's explanations or so usually even if I know the answer what inevitably are configured out myself but it never happens as I find somebody who's come up with a more clever way of figuring it out let's look at the today's challenge this cut up however you like okay a dissection cuts a figure and rearranges the pieces into a new figure for example this deleted octagon below can be dissected into a square and for ISIL Isis aussolas right triangles okay yes yes yes comparing areas oh look at that oh that is wild first of all I just love the beauty of these patterns I mean it's definitely like inspiration for different kind of coding challenges to make of that create these kind of symmetrical patterns one side of the triangle is half the side of a regular hexagon what fraction of the hexagon is shaded all right so let's see these are your four options maybe people will want to tell me in the chat I'm gonna go over the whiteboard so let's say I think that I have a hexagon here I draw a hexagon yes one two three four five six and then there's like dissection here and then there's this triangle where we know that this triangle this is one half we'll call this art maybe call this are the side I don't what a good name for that is but the side of the hexagon so what is the problem all right so one thing is this would be the same triangle flipped on this on the axis of this side and so I could also put two of them here so it simply not onefourth it's more than onefourth is it one just visually speaking I don't think it's onefifth right because look at these two I mean first of all I'm not drawing it really well here but you could imagine if I was so I could write a program to do it more to scale but you can see here right if I were to draw bot to draw that line there I have one section two sections three sections four sections I mean [ __ ] it's probably one six right just intuitively looking at it my guess is the way the math works out is that this section up here is the same as this one same as this one or maybe it's one is there a 1/8 option so I conceive ibly it could be 1/8 kind of looks like maybe there's more area over here I suspect if we start to do some calculations we'll find out that it's the same so so coming back to let's see so we could figure out the area of this right because if this is one half of the side that's the hypotenuse we know this angle oh yeah this is definitely calculate able hello it's right this angle right the this angle is 120 degrees right because one of the things about a hexagon oh you don't see me sorry about that everybody sorry about that one of the things about a hexagon is that you can divide it into how many equilateral triangles 1 2 3 4 5 6 and so this is 60 degrees so this is 120 degrees so so right I don't know why this this angle is the one I care about this angle is 60 degrees so if this is what I'm looking at here if this is R divided by 2 then the height of this triangle is sine of 60 degrees equals the height of that triangle divided by 2 times the height divided by R so we could do like an inverse sine I'm sure there's some like girls will do x squared a squared plus B squared equals C squared vagary and theorem so we could do square this I suspect then so then this is this is our Oh isn't it just the area of this triangle is our then oh no but we need this this length oh yeah I don't know our times this / right H that's weird am I getting this right let's look at one of the answers okay I gotta move the move on to finishing my tutorial so let's let's see what everybody everyone's saying is 1/6 1/8 is too much if it goes right everyone's saying people are saying 1/6 in the chat my intuition and I think through the Pythagorean theorem and trigonometry I could calculate it exactly my intuition is 1/6 I made it okay I make it overly complicated let's pick 1/6 hit the net I got it right uhoh look at this Oh oh I love that so this is a way of cutting it up oh look at that fascinating and you can see that that's 1/6 right because it's the equivalent oh yeah look at that oh that's such a brilliant idea because you can write write write so that you can see how this is the same as this so then if we have that triangle we take this part and just flip it over and put it on the top then you have that over there and then that's 1/6 of the whole thing that is such an excellent way of looking at it all right thank you thank you to brilliant for supporting the coding train it's really helpful to me and makes a lot of what I'm doing I'm sustainable if you're interested in more please go to brilliant org slash coding train you can check out all the do the daily puzzles for free and a lot of the content and then to unlock all of the courses and all the archive you can consider getting a premium subscription and the first 200 people who use this link will get a 20% discount on that premium subscription ok now I am going to take a short break to air out the room a little bit and get back to my coding to the tutorial that I'm doing today so maybe if you have a different idea but at it and you want to sign up for brilliant you can even just access this for free right now you could write your explanation or comments on one of these other ones or maybe make a p5 sketch that shows all the pieces animating around that would be cool so I will see you in just a few minutes I still have my mic on it's not my mic on it's still talking to you I'm opening the door till I get some cool air all right so this is definitely the problem I see I have a super chat here which I will answer this question thank you so much for the supports on extremes but I don't know why this is certain that it's fully charged for before I started today then I just like drained the battery while it was plugged in what OCR in ml five days do you recommend for Europe and for text so this is an interesting question there is no library doesn't have a I would unfortunately that's nothing that ml five dance try to train him footage in ml five but you're really gonna sorry is the music too loud I will all right so I'm not sure what to do I got it up back up to 7% 8% it's moving on up now without the everything closed one thing that I don't know if makes a difference is my power cord was actually going through a dongle that also has HDMI out it really shouldn't matter so I removed it from that and just plugged it directly into the laptop I am also a propping my laptop up a little bit whoops which is giving it like this has some some space between the laptop and the desk which I'm wondering if that just lets it cool a little bit more easily keep cool so I don't know if any of that's gonna make a difference I really would like to continue with this but it will be a problem if it's going to grind to a halt or drain the battery so I'm not sure what how best to proceed I would like to see that get to 10% and nathan is saying your laptop was definitely fully charged 15 minutes ago from the live stream history and then suddenly jumped from a hundred percent to 0% that's interesting isn't there like a battery health this is a new laptop isn't there like a battery health thing that it like will tell you open energy saver whoo I haven't turned I'd never go to sleep just while I'm livestreaming because I don't want it to disappear if I'm just talking but alright I I don't I guess I'm gonna wait till that fence 10% can I answer any there's some noise to the audio somebody's saying hmm Ashwin is asking any special video on a million subs I'm in search of an idea for one frankly my idea of course that you are all are probably familiar with is to make a live stream where I read this entire book entitled a million random digits with 100,000 normal DVF's I would skip the hundred thousand deviates and just read the digits but I just some calculations and that would take it would be a very long live stream and I wouldn't be able to do Simon is about to post his answer to the cut up problem so I could take a look at that and um I have to 10% yet I'm waiting for that to hit 10% and see then the other thing I could do is the other thing that I could consider doing is page 731 that's a great one is I could switch to using Visual Studio code would that sort of is the web editor contributing to like sort of probably not significantly I'm at 10% now let's give this a whirl whoops what happened to my password there we go there we go 10% let's see if we're back alright the camera would just focus we're back and smooth again alright I'm just gonna keep this stopped as much as possible so I think one of the things that will help here I'm already up to eleven percent is that if I while I'm doing the coding and talking if I don't have this just running which is just doing a ton of you know just like sending the video into pose that over route Ken is just using up a ton of resources so I think this will keep me going is eleven twenty let's see how far I can get anybody remember where I left off here alright how I remember now comes the tricky part somehow I have to figure out some kind of interaction where maybe I press a key to indicate a label for a pose then I walk over here I strike the pose and I have wait for it to like this camera has to focus and I walk over here strike the pose ah boy this is super frustrating so many things that I don't think of coz it's one more time I'm gonna just allow a bill that will edit out the wait for it to focus this is where things get kind of complicated because I need to call brain dot add data that's the way I add training data to my neural network so some I have to have some kind of interaction maybe I press a key I'll press the key Y and then it'll wait a little bit and it will know after five seconds four when I come over here to start collecting pose data for a certain amount of time then it will stop and then I'll come back over here and press a button and do something else so this requires a lot of thoughtfulness in terms of how I might build the interaction around that's I'm just gonna try to do it in a simple way that I can get it to work right here right now in this room for a better example of how you might really do this take a look at teachable machine I made a whole set of videos about classifying images and sounds with this teachable machine project from Google Creative Lab but they actually also have a pose model in there so what I'm what I'm actually doing nailed it [Laughter] for a much nicer example around interaction and collecting pose data you can take a look at google creative labs teachable machines so i've made video tutorials about training image models and sound models that can actually be imported into ml5 at this moment you cannot import the pose model into ml5 well that's something that we're working on and I'm hoping that this video tutorial will lead the way to that but essentially what I'm building is a pose teachable machine I just won't do as thoughtful of an interaction as here in the actual teacher machine project you can see here in teachable machine for example there's a button that I can press and it's going to give me a 10second countdown and then when I come over here after 10 seconds it's going to start collecting my poses for 15 seconds so this is a much nicer example I encourage you to look at it for inspiration of course that was terrible trading data but now I'm gonna go back to my code and try to implement my own version of this okay so let's use a variable to keep track of the program state and I will start the program with it in a state of waiting then I'm going to add a key pressed function and I'll set the label and I'll set the label to the key that was pressed but I don't want to start collecting the data immediately I want to wait a little bit so I'm gonna use set timeout and I'll pass in a function that I want to happen let's keep Mikey myself ten seconds I'm gonna need a lot of time which is ten thousand milliseconds and I will set the state equal to collecting then I'm thinking about this because I want to do another set timeout that's gonna it's gonna start to look really awkward what's a more elegant I mean I kind of want to use promises and stuff but what's gonna be simplest here I'm gonna i'm entering callback hell oh oh oh Friday that that's definitely Friday the 13th City hey once the state is collecting I want to look at where I'm getting pose information getting pose information right here in got poses so that's where I want to add data to the model so I added an if statement here to see if I'm collecting in theory I would add data to the model but I'm not ready to do that just yet let's just console.log the word collecting the scene that this works I'm gonna run the sketch I'm gonna press Y and ten seconds from now would be nice if I built the timer into this how about for debugging I came just a one second and let's also console.log the label I'm gonna press Y okay I have to click over here maybe I'm gonna press Y is there already Kyoto and there we go okay got the why oh it's not seeing any poses collecting all right it wasn't collecting until it actually saw a pose so that's fine I think you go be go back and do this again let's stop I think by the way having the power plugged in through this passthrough device was what was causing the problem okay I think I understand what I'm doing now so let me do it again okay right else statement for not collecting yes yes I see I see okay see you later check the college I love that making okay to keep track of what's going on in the sketch I'm gonna use a variable to keep track of this to keep track of the flow of the sketch let me add a variable called state and I'll just initialize it to waiting and then I will add the key pressed function and when I press the key I want to say state equals collecting only I don't want to start collecting immediately I want to wait a little bit because it's gonna take me some time to walk over there and get into my pose so I'll use set timeout for a delay set timeout is a builtin function in JavaScript it's not part of p5 that will execute a function after a certain amount of time and maybe I want to execute this function after a certain amount of milliseconds so I can put a little function inside here I could use the arrow syntax and there's a variety of ways I could approach this let's just say 10 seconds later right so when I press the key 10 seconds later set the state equal to collecting let's also have a variable called target label and I'll set the target label equal to the key that was pressed all right so I have this function going when I press the key that whatever key I press is a target label I want to see that in the console and then ten seconds later I want to see it say that it's starting to collect let me make that one second later so I don't have to wait as long all right and I'm gonna press the Y key Y collecting perfect so this is the right idea once that state switches to collecting I want to call the ml five neural network add data function and the place to do that is in the pose detection itself so if there is a pose the data from the pose is what I want to add hold on let me erase I want to I want to use the whiteboard again and I realize I have all this hexagon stuff this eraser is the worst 1130 I was hoping you'd be done by 1200 but I'll probably go a little past 1200 okay where I want to call the add data function is right here when I have a pose so when I have a pose I want to say brain add data and then the inputs and the targets what are the inputs and target the inputs are all of the XY locations of the the inputs are all of the XY locations of the pose itself there's 34 of them I mean I have kind of an issue where the camera can't see my legs so I probably should ignore some of them but I'm just not gonna worry about that I could also consider using the confidence scores like maybe the confidence score the neural network could learn when it's a low confidence score to kind of ignore that point but I'll I'll ask you to try all that stuff you're making your own version of this I'm just gonna use these seventeen XY pairs so I need them to be in a plain old array and if you recall they're not in a plain old array they're in this post at key points which each has an object which is position X so I need to flatten the data whatever format the data is in I want to just put it into a plain array so I'm gonna grab this loop I'm going to create an empty array called inputs and I'll just say input stop push X inputs dot push Y so this is me going through the entire pose getting all the X wise putting them in an array which is the input to the neural network and what's the target it also wants an array but in this case it's one thing just the label so I can take the target label put it in an array and that's what I'm giving an ADD data function is that correct well let me look at the other example whoops where is that one neural network I'll just go to this one and I call add data oh I made it an object in this one oh well I think it'll work the way I'm doing it I forget that you can do it as an object or an array we'll find out you might recall in my previous neural network examples I was making objects that I passed in with named inputs and outputs so this is just showing you that you could do it either way if I want to have names for all the inputs and outputs I can build an object with properties if I just want a big array of numbers I can just make it a plain array okay but there's a new problem the new problem is but there's a new problem the new problem is once I start collecting the data I'm gonna strike the pose and maybe I'll collect like the pose for a little while I got to stop collecting the pose so let's go back up to where I started collecting the potent pose I'm gonna do something awful I was so painful I don't want to do it let's just do it animate out we'll revisit it later we will I'm gonna call set tile mat I'm gonna call set timeout again right inside here because a second later or 10 seconds later I wanted to stop collecting this might be some of the worst code I've ever written it's really awful to look at it's what's informally known as callback hell and there's a variety of ways I could approach this differently by using promises and a sink and a weight but in this case really all I want to do is set the state to collecting in ten seconds then 10 seconds later set it back to waiting and I think this will work for me let's give it a try okay so I need to first press y one one thousand two one thousand three one thousand four one thousand five one thousand six one thousand seven one thousand eight one thousand collecting 10 seconds later should say not collecting all right so this is actually surprising works surprisingly well okay that worked it waited 10 seconds it been it set the state to collecting I can only presume that it saved all the data to the model no sorry okay that worked I think it waited 10 seconds set the state no it's set yeah yeah Thank You Nathan for that session I will I will let's have this discussion after the stream today cuz I would love some suggestions about how to do this Nathan is saying that I should properly I could do a challenge to properly implement a state machine which is what I'm doing okay that worked what I'm doing here quite poorly I might add is implementing a state machine so it might be nice for me to in a separate video which if I can ever get around to making it talk about a more sort proper way of implementing a state machine but this works I set this state variable to collecting 10 seconds later set it back to not collecting and during that time I am adding data to the ml 5 neural network immediately what I want to do right now is add a function to save the data because I do not want to do this many many many times so in keep rest I'm going to say if the key is s ml5 no sorry brain save data let me quickly try collecting that one pose again and make sure it can save to a JSON file that I can reload later press y got ten seconds now collecting not collecting so I can come back over here I can press s and I now have a JSON file that was saved let's take a look at that file whoops just stop the scheduler running why did I make it like okay and this is what that file looks like for every single pose it's got exes those are the inputs there should be 34 of them zero through 33 and then it's got the Y's which is one label of Y so these are all of my poses saved here in this big JSON file great I can now train them I can now collect the data for all four of those poses let's see if I can manage to do that first why superstar collecting so now I'm collecting my why pose gonna move around up and down a little bit not collecting okay now I'm gonna do em collecting not okay did I really do all of these see I am see like this right really noisy data see and see hey hey one more a this is a good exercise okay alright now we save the data save you okay stop stop the sketch I've got the data two megabytes so that was a lot it's a large file but not ridiculous I'm gonna rename it to YMCA I'm gonna now upload it to my sketch and then I'm gonna comment out all the data collection stuff because I'm just gonna consider myself done with data collection and I'll to placate the sketch and let me call this one data collection I'll duplicate it and call this one now model training now I can call brain load data so as soon as I create as soon as the sketch run the next step is when the sketch runs to load the existing data now I don't need to collect the data I could load the data collect more data there's no so many ways you could do this but I just want to load what I collected previously and then when the data is ready train the model 4/10 so when the data is ready when it's loaded then I could call the train function I'm there's a lot of options I could configure train with but I just wanted to go for 10 bucks that's running through all the data ten times I might need a lot more when it is finished I want to just console.log that it's been trained and save the model to my downloads folder so that I have it saved let's see if this works hmm okay so I see the training debug happening but I don't so I see the graph pop up that would show me the loss while it's training but it never went down at all let's try giving it a hundred epochs this is not a good sign why have I done wrong I wonder if the way that I collected the label is wrong look back at the training data like does this need to say be called label can I not do it as an array let's test something here stop this let me go to I'm using that version of the library that I built yesterday let me make sure there's no like bug in the library oh I have the whole thing there okay who oh now I got something worse should've does it require me to do the following like this is this is how I did it before I'm gonna have to collect data again but this is fine yeah I don't think it's because of the way that I don't think it's because the pose data itself is focused kind of blurry I don't think it's because of the way the pose data is too similar that would certainly be a problem but I think something else is going on all right I'm just going to collect two poses wait hold on and then I'm doing the collection should be this I'm gonna change it to this so I'm just gonna do pose a and B I'm gonna do a little test here pose a this was posed a let's do pose be I'll just stand straight suppose be okay now I'm gonna press T for train ooh oh whoa that failed I didn't normalize the data I don't think I need to do that it should just kind of I guess I data I really should normalize it oh I should just save that data could that be it where what time is it definitely not going to be doing the regression brain and normalize data we were to save the data next time let me go back to this version of the library sorry let me do this again so this is pose a okay this is pose be I'll just stand here for pose be meditation okay that's pose beat let me save the data save that's the data then we try trading the model oh there we go I think I was just missing normalizing the data or I need to also like call it label so that's a good sign okay I did get it to work let me go back and see if I go back to loading let me put this back to for brain let me call normalize ah okay great so it just doesn't work without normalizing the data that totally makes sense because those numbers are huge so I'm I'm a dumdum as we all know and I can take this out comment all this out I'll leave that in there so let me go back to this well guess what I forgot to do something very important if I am creating a dataset that I'm going to feed in and train my own neural network model I better normalize that data right these numbers are pixel values my canvas is 640 by 480 so these numbers are really large values which aren't going to work well with the way that that I've got a I got a stall anyway because I need the laptop to start calming down what is the data that I'm collecting these XY values are on my p5 canvas which has a rillette resolution of 640 by 480 so they're large values they need to be normalized down to a standard between 0 & 1 so I'm gonna let the ml v library take care of that for me by just adding the normalized data function oh wait a second let me just change this back because I want to leave it as it was so right here in trade so right here in data ready before I train the model I can call normalized data let's run it one more time let's just go down to 50 epochs and there we go now I see a loss going down the way I had hoped it would and the model is trained and presumably saved to my downloads folder let's go take a look because I was trying this multiple times I have a mess of files here in the Downloads folder so what I want it because I was doing this multiple because I was doing this multiple times I have a mess of files down here in the in the Downloads folder but the one that was most recent is number five I'm going to get rid of everything and just rename these back to the default names and now I can upload the model that I train back to the p5 web editor let's duplicate the sketch one more time I'm gonna call this pose net deploy let's create a folder called oops let's create a folder called model mode let's create a folder call it model add the model files what it complained at me but I think it actually worked I can see the files over here and now instead of loading the data I can load the trained model but if you recall from the previous videos there are three files for the model so I need to create an object to store all three file names here we go there we go before Matt for how that has to be I can find on the reference page for ml5 neural network copy this to clipboard bring it over here and put in my path which is just called model let's run the sketch and see if I could just get mod already here in the console oh oh I'm just missing a quote thank goodness and I'm in consistently using single double quotes let's fix that oh it's not neural network I called it brain so close pose that ready pose net ready huh oh I have a callback for pose net for when it's ready called model loaded so this needs to be I'll call this brain loaded so remember we're using two machine learning models here pose net which is doing the pose estimation then the outputs of that model are going into my own neural network that I've trained called brain let's try this one more time post ossification ready pose net ready wonderful incidentally the classification model was loaded first because pose that actually has to reach out to the cloud and download the model from Google servers all right everyone we're so close to being done with this we are so close to being done with this just a couple more steps once my brain is loaded I can actually ask it to classify so I can say brain doc classify inputs and when you've got a result call got results the question is what are those inputs these are those inputs the same thing I did when I was collecting the training data grabbing the XY pairs flattening them into an array I need to do that for the inputs that I'm sending in when I'm deploying the model asking it to guess asking it to do that classification oops so I can grab this exact same code Oh weird why is that if collecting gone I guess I took that out at some point that's weird didn't I have like an if state I guess I took that out at some point that's weird hopefully I had it in there when I was actually collecting the data oh I wasn't just collecting all the time was I weird uh does anyone remember I must have taken that out all right here's the loop before here's the loop from the data here's the loop from the data collection where I flattened it into a single array I can grab that this shouldn't even be in there anymore and I can bring that in here but I'm gonna once I get the result want to do this again so really I should take all of this write a new function called classify pose make sure there is a pose in the first place I hate how by the way when I do the autoformat it like sets me back up to the top there's got to be a way to tell it not to do that how to file that as a issue driving me crazy then once the brain is loaded just call classify pose I need the got result callback which has two arguments error results and I'm just gonna say console.log results index 0 dot label that's console.log the whole results as well so in theory the first pose I get should be if there's a pose when the brain is loaded oh there won't be so I'm gonna have to I'm gonna put the recursive loop call in here and call classify pose again so the idea is when the brain is loaded classify opposed if they're suppose call brain classify what if there's no pose I'll never go get a result otherwise hmm what hey this is a really silly but I'm anticipating an issue that I'm gonna have so what I'm gonna do is if it doesn't detect a pose let's just say hey in a little bit why don't you wait like a hundred milliseconds and call classify pose again so that way it'll continue to check so at some point eventually there will be a PLO's pose it'll call brain dot classify when that's done it'll call it again if there ever ever loses detecting a pose it won't stop it will actually continue in just every 100 milliseconds to keep trying again all right I think this is no way this is gonna work right let's give it a try all right who's ready ready I'm seeing a why I froze come on focus camera why Hey why si si hey why M what this actually worked sort of worked well let's just throw caution to the wind and draw the label into big letters on the canvas I'm going to set it equal to Y so that I see it right there at the beginning and at the end of draw I'm going to say fill to 255 0 255 no stroke was it called pose label okay there's the why I can make it bigger okay there's the why it's gonna be reversed it's gonna be flipped because of the so I'm gonna also put push here it doesn't matter why is symmetrical why and the see won't work and then pop here so that the Y's always in the center okay now when I get a result set it equal to that label I kind of want to see the confidence so I'll log the confidence to the console because I want to see how well it's sure it is about that particular label here we go it's fun to stay at the ymca it's my ymca denton and dinner dinner dinner 10 10 10 10 today we need needs to be capital letters did dis headed go slower dammit dammit huh I mean I think basically where's the slam so this is really done in terms of like a demon so Armour is asking a good question don't you need to normalize the inputs also the ml5 neural network remembers how you normalize during the trip when you train the model and when you load the model it keeps all that range in and re normalizes it for you so maybe that's not super clear that's a good question but yeah I so it would be really fun if I could actually use the YMCA song but I think what happens when you use a song on YouTube is it immediately copyrights it detects it as a copyrighted song and then puts ads and sends the ad revenue to the what you know the Village People which I'd be glad to support I'm glad for my ad revenue to go to which people maybe it's worth it actually it's definitely worth it but actually I don't monetize these ml5 j/s videos because this project is funded and part of the work that I'm doing at NYU it's everything's a very blurry gray area but I assign these videos in my courses and so when I assign videos in my courses in NYU I take the ads but I do have ads on a lot of the videos it helps with and I obviously have sponsors for the live stream which helps things move along Content ID or something something something Content ID alright um yeah let me just wrap this up I mean Matt Jie can do his own fancy split screening thing but so thanks for watching this I'm kind of shocked it works there's so much more that could be done with this first of all a question came up which is you forgot to normalize the data after your doing during this classification process and ml5 one of the nice things that does is it saves the normalization minimums and maximums from the training process and then reapplies then later so I don't have to read I don't have to call normalized and again that's happening behind the scenes um otherwise you know what other kinds of labels what kinds of other outputs you know could I play different drum beats based on opposed what other kinds of things could you classify if I collected a much larger data set if I was more thoughtful about how I was collecting the data could I get this to be much more accurate give this a try make something what I definitely also want to do which I'll need to make another video about is turn this into a regression so once again could I play a musical instrument could I actually somebody made a community darshan sorry is do a regression is to a regression so could I take that example where I play a frequency and alter that frequency by changing my motion my movements and in fact I could actually have the output of that regression be color that might be something to explore I got this idea from a viewer named darshan who submitted a community contribution where instead of painting with sound you're painting with color with a regression and that's really interesting because it requires you to have three different outputs and our a G and a B so take a look at that project and maybe I'll think about doing something with poses and color output in the next video tutorial I just never do this a little bit more because it's too fun to do did it what if I do this who I have an idea what if I only change it well did anybody see what the confidence levels are what if I only update it where is that happening how come I can't find anything oh you're not even seeing me I really have to go 1220 I got 10 minutes here reasonably typos got results where Scott here it is ah I have an idea what if I only update the label if the confidence is above a given threshold let's take 75% maybe this will eliminate some of the noise 10 10 10 dad didn't attend did it totally helps right because I'm not it's not flickering as much because it's only altering it if it's really confident about what the poses and I could maybe make that threshold even higher the M in the a her so similar you're all right about that it is able to get it though and there's something slightly different okay everybody all right I think I'm done for today thank you for watching let me save this the interesting thing is this sketch I think it'll still work even with you right okay I mean let me in the Navy okay okay darshan thank you a little out of breath but one more thing I want to say again unlike with my previous examples where I've trained models that do something similar based off of images and pixels in this case the pose data is more generic than I think if you go to the URL for this sketch which is in this video's description you could make those poses and hopefully it will recognize them so give that a try and I can't wait to see you in a future coding video all right everybody I'm so pleased that that worked all right any last questions before I go so off to come back and do the regression other time hopefully the focus wasn't so bad in this but if it is it is what it is thank you everybody thank you all goodbye goodbye it was great I appreciate it I appreciate you thanks for watching I will be back on Monday to livestream the ITP show somehow have to figure that out what will be the next challenge well I did spin though this is a good question I did spin the wheel work good and and you can check you can look for a David Schneider a viewer of the coding train has been creating this started this repository for a wheel spinner to pick coding topics and the last time I did it it came on something which were turned into I'm gonna do the Hilbert curve so but I'm hoping to do that as a coding in the Cabana video over the holiday break so maybe I'm really waiting for a nice day where there's a big snowstorm like snook snowy Cody go back it's gonna be very cold in there there's no heat but that's my plan connecting the dots game using p5 that would be fun hi haha lol I'm glad you're starting to learn to code also do things that aren't coding also it will help you with your coding nathan is asking great question Nathan says I saw you had a word to vex series in which you never did the actual machine learning part yeah I ran into an issue which is that the ml5 were Tyvek in limitation which I was a part of working on we never kind of got it anywhere that was viable and so I kind of like just lost track of that I would love to come back to that it also is like when I don't have a course that I'm teaching that uses the stuff I tend to not focus on it like this pose classifications up and everything is something I was working on all semester so that's why I really wanted to get this stuff done I assure asks thank you are you interested in webassembly yes I am interested in web assembly do I know anything about it I'm interested alright goodbye everybody I'm gonna switch you off to my looping train this will oh I think Nathan did I really touch on this did the the the loop is off like there's a glitch in it so that'll be fixed next time and then I also want to put things on the top like show starting soon or on a break with like a countdown timer or some things what to figure out that would ml5 accept contributions using web assembly dependencies let's have like an offline conversation about that I don't know enough to answer that question I yeah but but oh if you're interested in that we're related to word Tyvek it might just make sense to make a separate word to vac project that has nothing to do with ml5 as a idea and then we could play with it make some examples do a tutorial with it and then that could get folded into ml5 it seemed like it made sense okay goodbye everybody