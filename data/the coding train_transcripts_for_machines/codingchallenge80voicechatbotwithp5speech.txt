hi I'm gonna do one more a chatbot I'm kind of gonna do the exact same chatbot I just did maybe I'll change it from a number guessing thing to a knockknock joke thing just to change it but instead of me typing guess the number between 1 and 10 ok let's try 7 pick a higher number let's try 9 look a lower number let's try hate I got it instead of typing I want to interact with this chat bot through voice so it just recorded 2 tutorials about the p5 speech library 1 tutorial looks at texttospeech so having the browser speak with a voice and another tutorial looks at speech to text listening to what I'm saying and and turning that into text so let's first so let me first cup two things let me deal with this chat bond a little bit let me first say one thing that I got wrong in the previous coding challenge video that I that I should as I as I created this like elaborate system if you recall to say to the chat bot set a number and then set the variable to whatever so I had to like secretly talk to the chat bot there's actually a set var method that's part of the rive script JavaScript library so I didn't have to use that convoluted methodology if you don't know I'm talking about you didn't watch the previous coding challenge you can go back and watch it this will make sense but this was an unnecessary step thank you for internet for correcting me and helping me with that but I'm actually going to just kind of get rid of this brain and I'm gonna start over I'm gonna do a sub I'm gonna I want to make sure cuz uh with a knockknock joke you might say who is there or who's there knockknock no but that's the bot saying that anyway so I don't need this sub what I'm gonna do is definite to have a catchall which is anything the user says I'm going to say try saying knockknock and then optionally if the user says anything with the phrase knockknock in it so this is like a a wild card I wonder if I need that optional around there then I'm gonna then the bot is going to say who who's there okay so let's just try this and this is one of the examples from the rive script website so I can say anything I want and it's gonna say try saying knock knock and then I could just add knock knock and it's gonna say who's there I could say knock knock and it could say who's there now here's the thing now what I want to do is say well whatever they say in response to who's there the bot should say star one who and then at the end the bot should say haha so this is the sequence knock knock who's there Frank Frank who Frank Lance ha ha ha Franklin's making a weird nonsensical appearance in this video tutorial for no good reason but that's besides the point so here's the thing though VI can't have all these stars what I need is something to help me sequence and I'm kind of forgetting what the what the command is for sequencing but I'm gonna remember in a second because there's gonna be about to be an edit point we're gonna look it up now I'll just look it up with with you and watching me do this so I have an example that already does this I was trying to do it from scratch and here it is so ah the percent the percent means if the last thing was who is there then I say whatever who if the previous thing was whatever who then I can say haha that is so funny so I need to add this in to here right think about this this is saying this is a catchall but only if the previous thing that the bot said was who is there ah but the bot says who's there this is why I want to have this substitution I knew there was a reason this substitution who's and who is our equivalent so whatever kind of mechanics is working have them be equivalent and then I also won by the way I don't usually do this in a coding challenge just like a copypaste from an example but that's what I'm doing the point of this was to add the speech thing so I guess I could cut me some slack here so then at the end if the last thing was star who now let's see the order might matter let's see if the or let's see if this works I put these in a different order than in the example but let's see if this works so let's go back to the bot and I'm gonna just type in some nonsense to say try saying knockknock so I'm gonna say knock knock say who's there coding coding who coding train okay so we have a working knockknock joke chat bot thing because by the way if I were to say now coding train it's good as they try saying knockknock right because it only laughed because it was part of the sequence but the whole point of this video however long I am in is now to 10,000 steps I walk back and forth lot it's really good to do a like live YouTube channel with a Fitbit on okay I wanted to speak so how do we do that so I need the p5.js speech library the v5 speech library how do I get that so I have that open here this github repository if I just go into here Lib and I see this particular file p5 speech Jas this is the file I need to download and include it as part of my project so I'm not gonna go through the steps to download it right now it's already there it's not already there but I'm gonna have an edit point I'm back and you can see that I've now added P five dots BJ yes to my folder with libraries in it and actually with the thing that I didn't do is I need to go into o index dot HTML and also add a reference to that p v dot speech jeaious library ok now I have this beef v speech library now what I want to do is I'm going to say let speech equals new p v dot speech and do I need an argument there I can't remember but I think no if I wanted to set a voice you know I'm just gonna use the default voice voice speech dot speak hello so let's just see if this works so unfortunately my sound system isn't working so great so you're hearing it out of the computer speakers and in through my mic hopefully you can hear it okay but you can see this is as simple as just creating a speech object and saying it's speak hello my other video I go through how to pick a different voice how to change the rate and pitch but I just want to use the default voice and now instead of wherever it says sticks the output in an HTML thing I'm gonna say speech dot speak reply okay here we go so I'm gonna type in some nonsense all right now I'm gonna say knockknock coding coding rainbow okay so we get the idea we get the idea this works now I kind of want to remove the text there the point was this but now what I need I need four instead of me typing in the stuff I want to now be able to say it so okay so at the top what I can do is add a speech recognition object which is going to new P v dot speech recognition this is going to listen to me and I'm going to just give it a default language of us English you can change that and I'm gonna give it a call back got speech you could set it to a different language there's other ways to set this stuff you could see my full speech recognition tutorial for it but I'm Matt Goss but what I need to add now is a callback I'm gonna add it down here near the chat callback because ultimately whoop Scott's speech ultimately what I want to do is instead of when I press the button to submit something I want to submit something for when I heard from the user me so the first thing that to do is here I just want to check if speech recognition object result value that's the thing where it'll give you true or false whether it worked so long as it worked then let the input equal speech recognition result strength this gives me this is the value of what it actually heard so when it's got speech I check to see if it got it and then I if it worked I get the string the actual text now here's the thing this won't do anything I could say console dot log input right now but this won't do anything because I forgot something really important which is I need to say speech recognition start okay speech recognition to start now here's the thing if you watched my previous video about the speech recognition API by default it's only to listen to you once and in this case I want to listen continuously because I want the knockknock joke to go all the way through so I'm going to say speech recognition start true for continuous mode and false and let me write this in a more clear way I'm going to say let continuous which is impossible to spell equal to true let interim equal false and that and so an interim is also apparently very hard for me to spell so interim would be if I wanted to listen continuously but I'm ok a what not that sorry not continuously I wanted to start giving me results as I'm speaking but here I'm okay with just getting the result after I've kind of paused so now that it's going to start I should start getting some stuff in this callback let's just see if that works hello are you listening to me great so I'm getting that text here so I'm basically done all I need to do this is very exciting all I need to do oh look there's some extra stuff in here that I don't need I don't need all this number stuff that I had from the previous number guessing chat bot all I need to do is everything I did in this chat where I got the input from the text input box now I have been put from the speech thing so all I need to do is say grab this stuff and put it right here and I'd like to something a little bit silly which is just just so we can sort of debug and see what's going on I'm going to sorry I'm going to add into the text box what I said so it's as if I'm like automatically speaking to type into the text box okay let's try this now oops num is not defined sketch I'd removed something which now apparently it needs somewhere else oh oh I don't need this reply or anything either there was some extra code for what was a number guessing chat bot hello try saying knock knock who's there oh it's just kept going I actually realized so I did write something wrong here where this text input box what's in the box is not it's HTML but actually its value so let me change that hello bot try saying knock knock knock knock who's there Dan dad who dad joke thank you very much thank you thank you where's my sound board with the applause I do have that I don't have it right now wait so this works I could come up with lots of goofy really bad knockknock jokes to try to tell it I will spare you from that I don't think you need to watch that but I hope that you get the idea here try saying knockknock right it was listening to everything I was saying and think about how you might make your own conversational interface let me actually let's just demonstrate the fact that I don't actually the point of this oh one more thing let me come here and I'm gonna go to index.html I'm gonna be saying knockknock listening to me tell another knockknock joke I'm gonna comment out all the HTML I'm gonna go into the code I don't need any of the interface get rid of all the interface get rid of the interface I'm going to this is interface this is interface and that's it oh and this is no longer necessary so now try saying knock knock good morning try saying knock knock knock knock whose hair the interrupting cow the interview so unfortunately I think I couldn't deal with the fact that I interrupted it but I do have another one knock knock who's there the interrupting coefficient of friction the interrupting coefficient of friction mu mu without the without the interrupting part that which is what supposedly makes a joke funny anyway so I hope you enjoyed this I'm in Korea I'm excited to see what you might make with this rive script p5.js p5 speech library a bunch of different pieces together basically how can you build your own voice interface without having to purchase a very expensive thing that lights up when you talk to it Expo this this doesn't work actually it's just a marker but you get the idea so please share with me what you make make your own chatbot your own conversational interface and I look forward to seeing you in a future coding challenge video thanks again to the ability project and Luke to BA and NYU for the p5 speech library