welcome to a coding challenge where I will make a cheese bot that thinks of a random number and then the user has to guess that random that random number will be thank you very much okay so I already forgot what I said three 7155 so I'm gonna do this in JavaScript I'm gonna say let let dot let dot no there's no let that let number equal 37 Oh 555 okay I guess the bots gonna think of a number between 0 and 999 thousand and the chat bot framework that I'm gonna use to create this bot is something called rive script and I made a really terrible video about rive script that you could go and watch if you haven't but I would probably recommend just go and look at the right script tutorial which will be linked on the right script website which will be linked in this video's description and so what I need to I need to do two things I need to program in JavaScript I need to configure my chat bot the brain of the chat bot right this is a diagram from my previous video where I have something a JavaScript program is going to feed input into the brain and the brain is going to give me a reply so I'm gonna do all of this input and output in JavaScript but the brain is actually gonna be controlled by rive scripts so in order for that to happen I need to create a rive script file so I'm gonna say new file and I'm gonna call it a brain drive there's I don't have to call it that I'm actually I have an atom package the atom drive script package which is doing syntax highlighting so I can do things like and I said in my previous video that a pound was a comment it's not so this is the chat bots brain so the first thing I'm gonna do is I'm gonna give the chat bot a specific number I have an idea for the number to be picked randomly each time but let's just start with a specific random number in the chat bot so this is rive script syntax it looks like JavaScript but it's write script syntax and I'm gonna do something that just says so I'm gonna do a catchall so I'm this is a trigger so this is so rife script if you didn't watch the previous video or don't know anything about it is a pattern matching system for chatbots so this is match anything the user says that I don't match otherwise I'm going to say the reply is going to be guess a number between zero and nine nine nine nine nine right so that's what the chat bot is going to say so actually let's leave this let's try to get the whole system working and then we'll come back and finish configuring the chat bot so how do I want to make this work well I want to have let's start putting some stuff in the HTML like chat bot and then I'm going to create a input user we call this user input and I'm going to say say I'm gonna and then I'm going to create I'm going to create so this I'm just trying to put some stuff on the HTML page and I'm going to say reply I mean I'm not being thoughtful about the design here output and then I probably need like some sort of button that's like submit I mean like button ID equals submit button so again I'm being absolutely not very thoughtful about this interface but I'm just putting it let's see if what I wrote here in HTML will appear on the page there we go and the button should say submit great so this is the idea is that I'm gonna be able to say things like hello and hit submit and the chat BOTS gonna say something to me here in the reply obviously it's my hope that those of you watching this video will make something more creative and thoughtful about the design and eventually what I want to do is use a library called p5 speech to actually have all this happen with voice so but let's first make it work with text and I'll do another video to make it work with voice ok so how do I then so now I have my framework and well let's actually look we need to write some JavaScript I forgot about that part so let's go back to JavaScript and I don't need to draw a function and I'm gonna say let button equal select I called it some with an idea of submit I'm gonna say let user input equals select user input does the idea I gave it and what else do I need I need let output equals select output so now I have access to all of those Dom elements like I need the bunny to know when the user hits the button I need to know in the user what the user is said when they hit the button and I need to build to put the reply somewhere so now I need a callback an event for whenever I click the button button dot mousepressed and I'm gonna call a function called chat so I'm now going to write a function called chat and all I'm gonna do here I'm gonna say input equals user input value so this is me getting the value what the user said and I'm gonna say output dot HTML input so I now have a parrot chat bot I have made a parrot chat bot all it ever will do is put back what the user says I haven't put the right script brain into this program yet so now let's see if this is correct if I run this hello hello goodbye goodbye what's up question mark what's up so we can see here this is my very basic parrot chat bot I can read what the user says and I can give it a reply now it's time for us to add that brain so I'm gonna go to the rive script github page and this is actually in this particular repository called drive script j/s so write script is a generic syntax for configuring a chat bot that you can then use in a variety of different programming languages environments I want to use it in JavaScript so all I need to do i one thing i've done already that i should have mentioned is i've imported the rive script library so here i've imported the rice script library just from a URL i could download it but i must have a reference to that rice script javascript library so i've done that it's and it's covered in that github page and then i'm really just gonna say load file so first i'm going to create a bot so i'm gonna go here and i'm gonna say let bot equal new rai script then I'm gonna say load file and my file is just called brain drive and I'm gonna I need to call backs ready a brain ready and brain error being very inconsistent of my naming of stuff so I'm now gonna write those callbacks brain ready console dot log chat bot ready and then I'm going to say brain error console dot log chat bot error and I'm sure I could there's probably an argument I could get some information about the error but let's just add this right now and let's just see if I now run this uncaught dollar sign is not defined apparently I named my chat bot Brian without realizing it the name is brain not Brian the life of brain okay here we go let's try this now ah oh I know what the problem is I know what the problem is what could possibly dollar sign is not defined mean what javascript library uses dollar sign as a key term jQuery I think that rive script depent the rive script JavaScript library depends on jQuery and I have it imported jQuery that must be the problem right so it's not even loading the file it hasn't even gotten to the air and error in the file yet so if I want to load jQuery let's find a way to do that okay so now I've imported jQuery as well here's the thing so JavaScript files that a web page uses can be loaded just like this is the code that I'm writing it's it's get Dutch yes these are some p5 libraries that I'm using but they're actually locally stored on the computer now there's some other libraries but I'm getting them from a URL all these things are possible I don't know there's probably some nice good best practices here that's somebody who knows something about programming will tell you but I'm just gonna make it work okay so now let's go back hit refresh chatbot ready okay so the chat bot is ready so now what do I do next what I want all I need to do is here in this chat and I probably should make you know if I were being really careful about this I would write some code to make sure the brain had been loaded before the bot tries to reply but I think it's very unlikely that a user is gonna be able to submit something before the bots actually loaded so but I'm gonna show you there's something I'm gonna have to add to this later that I think it's gonna be a little bit of an issue okay so what I'm going to do is I am going to I have come to all right so I need to ask the bot for a reply and I'm pretty sure this is gonna this is gonna be here just in this page and oh interesting so I think that I might actually need this the replies have to be sorted to be honest I have no idea what that does but I imagine this is some sort of like processing element so let's add this in and so let's add this in under brain ready I'm gonna sort the replies and then what I want to do is I want to say let reply equal bot reply input now I think this actually isn't gonna work I think I need to say I think if I look at the code example here local user I forget what this does but I need to give the first argument as local user so I want to say let input equals user input value and bot reply lip so let's see what happens now I think I did everything hello guess a number between so no matter what I do it's just going to say guess the number between 0 and 99 99 so now aha so what do i what what else do I need in this chat bot so for example what if the user says any number great guess I like the number star 1 so this isn't a star but this is a wild card just like this is a wild card but this is a wild card that only will match a number so now if I reload this again if I say anything I'm gonna say guess a number but I say 100 great guests I like the number 100 let me make this a little bit bigger so we can see I'm starting you can figure the bots to do certain things now what I really want to do is use a conditional so I want to say something like if star 1 is greater than is greater than bot num then I'm going to I need an equals here I don't even remember then I'm going to say pick a higher a lower number and if it's less than I don't know if I've got the syntax right here pick a higher number and again you could go and read the rice Script tutorial heart watch my previous video that wasn't very good now that this one's any good and then I could say oh I'm sorry what am i doing here I'm in the wrong I'm totally in the wrong place oh no no I'm in the right place I just don't know if I have the syntax right and then if it's equal you got it you got it so let's go to the rice script tutorial which is here and let's look for conditional condition condition additional so this is a way I can have the bot set something and what I'm looking for is like this here we go ah what I get age is greater than 25 this is what you can do so this is what I want I have I want this conditional and I need the equals like almost like the arrow syntax the equals greater than so I want to say equals like this so I think this should work let's see if this is right and let's let's take a look here oh these are stars so I guess I need stars if I'm going to do a conditional and syntax highlighting is doing something weird which and the equal should be double equals I guess there we go so I think maybe this is right now okay let's see and I don't know need to say star one cuz there's only star so let's see what's the chance I've gotten this right so things are still working is telling me to guess a number I'm gonna guess the number 10 pick a higher number I'm gonna guess the number nine nine nine nine nine nine nine pick a lower number I'm gonna guess the number 37 five five five you got it okay we should probably more with this bot like it should have a name and it should be able to respond to other things but one thing I want to do is so why am I doing this I don't know I've really lost track of that but one reason why I'm doing this is if I combine rye script and JavaScript I can make use of the powerful pieces of Drive script and JavaScript together so what I could do is I could actually have JavaScript I don't think there's a way for rye script easily to pick a random number it probably is but just for the sake of argument what if I oh it's funny how I had this here so what if I actually say let num equal floor random nine nine nine nine nine so and then I'm going to and actually what I'm saying is 100,000 uh I know you know the parentheses now I'm going to just console.log that number let's just what I want is for JavaScript to pick the random number there so it's picking a random number each time and maybe I need to make this a little bigger so you can see it right so how can I pass something that javascript picked to the bot well I'm asking I'm sending things to the bot from the user but I don't actually have to I could send stuff from the bot from my program as well so there's no reason why I couldn't actually just do this when the chat bot is ready and then what if what I send to the bot is let reply equal bot dot wouldn't it what is what is the function bot reply user Lok Lok 'l is it something like that i don't know i can't remember the local user set plus the number so what I'm doing is I'm sending to the bot I'm telling the bot like a secret message the code is sending a message to the bot not me the actual user typing saying set number so what I now want to do is if and of course this is very easily hackable don't get me wrong set number is a message where now I the bot will set and we don't need this a hardcoded variable anymore set num equal star so this will actually and I don't did I get this syntax right looks like something might be weird but I think I got it right so set Nam equals star and then now I can change this from bot num to get numb so let's see and I don't know let's make this pick a number between but between 1 and 10 just to like make things a little simpler here and now the number will be here plus 1 because this is gonna give me a number between 0 & 9 and so and let's actually let's look at that number so we can cheat so to speak to make sure this is working and let's run this now okay so we'd pick the number 4 I can see that in the in the in the console so if I say 1 no reply found so what happened here brain so this is wrong this is clearly the wrong syntax let's go back to the Rive script tutorial and we can see here a set name oh you know what it is you probably doesn't want any white space their set name equal formal forma by the way this is a way to keep the the case sensitivity of what the users typed there's all sorts of things and and so I can say set num let's see where was that set name equals formal let's just paste this in here to make sure I'm using the right syntax set num equal star so let's try this pick a higher number nine pick a lower number eight pick a lower number seven you got it too so you know I'm hacking it basically but pick a higher number pick a lower number so probably I don't know if this is the best solution there might be a different way to pass that value to the brain but certainly if I wanted to do it this way I could come up with like a really strange thing that the user would probably never type that's almost like a secret code to set a particular value that I'm getting from JavaScript so so anyway um if there's more that could be done with this I've missed so many pieces one thing that I actually missed that's important about chat bots are sequencing so one thing you can do is what if I have an example that's a knockknock joke bot and so and that's actually from rive script I encourage you to check that out on the tutorial let's actually look for it but you can see something that's important here is about is the previous command so in other words the wildcard you want to you basically the user in a knockknock joke the user can say anything I could just paste this in the user can say anything but do be the chat BOTS gonna say something different based on where you are in the sequence of the knockknock joke so this is saying this is what the user this is what the chat bot should reply with after who is there has already happened and this is what should the chatbox your pilot after whoo so that's important okay I went offtrack there so here is my number guessing chat bot with rice script and p5 I would love to see what kind of different chat pots you make with this same framework you know what happens if you like start querying api's and get there like the weather and have the bots talk about stuff and different topics or it's a programming questions or I don't know what you can make this bot do I look forward to seeing what you create from this video and in the next video I'm going to take exactly this I don't know if I'm gonna do this in the next video but in the next video or two I'm gonna do exactly this but with speech recognition so this conversation this guessing game could happen just purely in an auditory if that's the right word audio way okay things are clicking all over the place see you soon good bye you