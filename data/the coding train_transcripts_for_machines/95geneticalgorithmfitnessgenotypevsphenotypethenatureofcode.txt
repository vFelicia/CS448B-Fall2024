okay you're back that's nice of you to come back I'm now in the fifth video here and in this video what I want to talk about is okay so we have this idea of a genetic algorithm right I have the algorithm itself we talked about that at Great length I talked about how you can Implement that algorithm in code I looked at the sort of DNA object and population object but the example was still just this kind of trivial example that just sort of demonstrates that the algorithm works by having a known result starting with Randomness and arriving at that known result what you to do is have something more interesting where you might want to evolve a particular design or a particular animation Behavior or something else that I a piece of music something that I can't even think of right now that's creatively in your head so what I want to do in this particular video is talk about what are the pieces of that genetic algorithm that you can just copy from my code exactly every single time you use it and what are the places where you need to sort of interject and come up with your own creative solution to the particular aspect of the code so so let's look at a few examples of different uh scenarios I showed you this box car 2D example this is in a way like evaluating the design of a physics element in a system through an evolutionary process and you can see here this is perhaps not the car that you would design manually but it seems to be driving itself quite quickly um through the genetic algorithm so what are the pieces of this what's the fitness function here and how do you take this car and encode its design in DNA those are the two essential questions by the way another example that I that I uh found here is by Roger Johanson I don't know if I'm pronouncing that correctly but somebody correct me on the internet if I'm not um this is very similar the to the to be or not to be uh example but instead of starting with kind of like random polygons instead of arriving at a Target phrase this is starting to arrive at a Target image through polygons and you can see after a whole bunch of generations what is that Target image but the mo the painting of the Mona Lisa so you might think about okay well this actually is almost identical to my U to be or not to be example but instead there's like pieces of the DNA or colors and polygons and positions Vector information what is that how do you make that work and then I'll show you um oh there's an uh FAQ there's some other links here you can look at yourself and then I'll show you one of my examples which I have running here in the background this is actually a pathf finding example so what you can see here is there are something like a thousand little agents moving around the screen if you've watched my videos on steering behaviors these agents are actually following a flow field I believe if I press this button I can sort of make that flow field visible this is the sort of this is the DNA of each object this is what it's in its brain a grid of vectors around the screen and ultimately they're evolving what is the fastest path um from the left hand side of the screen to the right hand side of the screen but this example is a bit more sophisticated I can actually draw some obstacles here and these elements will actually start to evolve a path around the obstacle and so I'll come back to this later and uh and see where it's gotten to how far it's gotten how good the evolution sort of is but what I want to do is kind of stop I've shown you these three examples maybe you have an idea in your head what are the things you really really need to think about so looking back at the actual genetic algorithm here I want to talk about two key places two key places where you really need to interject your own creative spin on this algorithm everything else can largely remain exactly the same in any example in any project that you're doing with the genetic algorithm so let me come over here and kind of write these out so number one is the fitness function the fitness function that I had in the uh to be or not to be example was counting the number of correct characters that's not going to work for the the Box Car 2D example that's not going to work for that Mona Lisa example it's not going to work for my evolving a path with a flow field example right you need to think about your particular project what is the fitness function uh is the music in tune or Out Of Tune does the uh steering agent make it to the Target quickly or slowly does the thing run into an obstacle yes or no does the image look like the Mona Lisa yes or no so you need to come up with your own way of scoring each element of the population you need to write your own Fitness function that's really key the other key thing is I'm going to say how do you encode your DNA this is really really key and what this brings up is this idea of genotype versus phenotype right this is a key concept from genetics that we could kind of have a very sort of simplistic view of here in the genetic algorithm that we're working with so the genotype being the data itself or the encoding the phenotype being the expression of that data the manifestation of it the visualization the actual animation of it and we we were sort of spoiled by our example the to be or not to be example right here is the encoding of my random phrase you know Unicorn oh really it is an array of characters u n i o r n that's the encoding here's the expression of it unicorn right that's the expression it's the same thing but in any of these other examples if I go back to this Mona Lisa example you know the encoding might be a series of an array of polygon objects each polygon object having an array of vertices it could be a giant array of of RGB a values for Pixel colors and then the expression is drawing it or animating it on the screen same thing here with box with the Box Car 2D like how do you design that car oh my goodness you have to have some type of nodebased map to talk about how the different pieces of the car like fit together that's the encoding the expression is the thing actually moving and in this particular example oh you can see by the way how far it's come the objects have kind of evolved this flow field around those around these obstacles I can make it harder for them by adding some more obstacles but the encoding the the the man the phenotype is the expression the movement of these objects through the flow field but what's the actual encoding it's an array of vectors so the first example that I want to actually look at and see how this applied applies an actual code is an example called smart Rockets um this is actually based on an example made by J Thorp many years ago a flash example on the web I'll I don't know if I can dig it up right now but I'll include a link to it in the this video's description but um and it's simpler this one is running in processing I'm going to I'll leave this open actually let's make it really hard let's draw some like more obstacles see if it can see if it can solve it anyway that's going to be hard um I'm going to go back to the browser close this you can see this is a a version of this example working it's quite a bit uh simpler you can see that these objects boy they're not doing very well are trying to find a path to make it from the bottom of the window to the top and you know it hasn't been running for very long so they haven't done a very good job of it yet so this is the same sort of problem as to be or not to be of the question think of the number of possible paths there are from the bottom of the window to the top an unfathomable amount there's a lot of pixels a lot of ways they could move um um it's so we're trying to search for the optimized fastest path and not running into that obstacle so what's interesting about looking at the code for this right so let's think about this let me come back to my uh let me come back to the Whiteboard for a second so the fitness function let's first think about the fitness function my fitness function this is the target this is where they start the fitness of each one of these Rockets is the inverse distance so the to the Target that it as that it gets to at the end of its life so the closer it gets to the Target the higher the fitness so we calculate the distance between the Target and the object and then I say one ided by that distance that's a way of calculating a fitness function so that's a specific thing I had to invent for this again there's lots of ways I could improve that Fitness function which I'd like to discuss but that's a basic idea so that's one thing then this idea of genotype versus phenotype so if I come back over here one thing that's really interesting to see if I go to the code right look at this here's a DNA object it is exactly the same look at this crossover function it's exactly the same as the Shakespeare example look at this mutate function it's basically exactly the same as the um as the Shakespeare example there's this idea of a genes array which is exactly the same everything is the same here's the one thing that's different what goes in the genes array instead of picking a random character I I'm picking a random Vector so what each one of those Rockets has is an array of vectors that's like an array of forces that cause it to move around the screen you can essentially think of it as like if the driver of the rocket has like this control panel where they can like press thrusters with a certain amount of force in a certain direction that's what they're doing over and over again and they're the encoding of that rocket is the sequence of those thrusters those forces to drive it around the screen so what's interesting about this is this DNA object if you look at the code between this it's entirely the same the difference is the genotype itself is no longer characters it's vectors so it might be floating Point numbers it might be characters it might be vectors it might be pixels it might be polygons it's up to you to think of what is that encoding of the thing you're trying to express and in this case it simply is vectors now the expression of that happens in population because the population actually sorry it happens in the rocket object so this is what was missing right in the in the in the um in my shakespare monkey example there was simply a DNA object that DNA object had both the genotype the encoding of unicorn and the phenotype the expression of unicorn in it I didn't need a separate object but in this example the encoding the DNA is vectors and the expression is the rocket object and the rocket object if I come over here is a physics object it's an object that has acceleration velocity and position and guess what it has the DNA built into it and when I when I run it look at this this is the expression there's a lot going on in this example but the expression is go and look at its DNA and apply something from its DNA the next sequence Gene as a force so that's the expression take the vector and turn it into a force in the physics engine so I would encourage you to go back and review my forces and vectors tutorial as well as my steering behaviors tutorials cuz this example this is essentially a vehicle object that has a physics engine built into it but it's how it moves is according to its genetic information and then you'll also notice that Fitness function is right here in the rocket itself so instead of and I want to just make this wider so we can sort of see this for full fitness function for a second now I did say that distance the the function the fitness function is one divided by distance but I'm doing a bunch of things in this um in the fitness function I'm also checking to see if it hit an obstacle I'm going to do a separate video about improving Fitness functions but I'm adding some extra math to the fitness function to make it a little bit stronger and I'm going I'm going to cover that actually I think just separately in the next video I'm going to make a note of that to do that so you can come back and I'll talk to that but you can see here there's lots of stuff there is a fitness value that's being calculated okay and we could go back and see it running I don't know if they've reached the target yet I'm going to have to look at like refining and optimizing this example by the time you click on the link in this description hopefully it'll work a little better I don't know if I just got kind of unlucky I think this one thing might be is the sort of like maximum speed is very low they seem to be going kind of slowly so they're not this one's obviously has the highest Fitness of that generation but that's this is basically the idea so you what you want to do is think about use that core genetic algorithm again if I look at the code last thing I'll just sort of point out here is that um um you can see here in in the draw Loop there are the same sort of set of functions calculate the fitness perform selection perform reproduction there's a little bit of a different thing going on here where there's also time like in the Shakespeare monkey example just like every frame it did a new generation now it's sort of counting down letting these objects live for a little while then calculate their Fitness and then um and then um my brain is like shutting down at the end of this video here and then um and then like go and then reproduce for the Next Generation let's check on our uh the flow field which is O it's running very slow probably because it's got the browser thing kind of going as well oh because I have the debug on oh I left that on it's probably been running let's see how well are they doing here have they made it around all these no they're getting stuck at this obstacle I'm going to let this run for a little longer and maybe uh uh I'll later I'll update you somehow through another video of how these obstacles are doing so I've given you a lot of stuff here so what I think what what you should really do is think about what again try to build your own scenario try to think about what is this idea how do you're going to encode the stuff that's the parameters of your system how do you express those parameters visually through through design or animation and then how do you calculate a fitness to evolve those parameters over time and I'm going to do a few more videos to show you a couple more scenarios a scenario known as interactive selection as well as a scenario known that I'm that I'm calling Loosely ecosystem simulation which I'll get to too okay um thanks for watching and I will see you guys soon in another video I hope thanks very much