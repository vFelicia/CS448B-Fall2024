hello and welcome to a video tutorial about programming something called the super shape oh look at that formula in I'm going to do this in JavaScript going to use the p5 GS formula this is a topic which is a continuation of a previous video that I made about the super ellipse I'm essentially going to use the exact same code I had in my previous Super ellipse video and turn it into this other more elaborate formula called the super shape the super shape is in a this is Paul Bork's website I'll include a link to in the description this is a page documenting how to do this from 2002 and the equation is something based on Johan G Elise Elise I'm not sure if I pronounced that correctly and you know this is these are formulas that are designed to try to simulate and create different kinds of natural forms and eventually if I am strong enough if I'm courageous enough if I can manage it I'm going to in the next video finally look at the super shape in 3d which allow us to start creating forms that look like this sort of stuff but at first we just want to see if we can make these 2d like forms with different parameters for this particular formula so let me come back and here is the formula okay so what's the core idea here let me come back to the whiteboard here for a second the core idea if you've forgotten is that I have this idea of a polar coordinate system so I have some are and some angle and actually what I'm going to do is I'm going to iterate over every possible angle from zero all the way to 2pi and actually you can generate interesting super shapes by doing this multiple times so going like from 0 to 2pi like six times and what I'm going to do is with this angle I need some way of calculating R so that for example if one of the super shapes might look something like a flower that R is changing based on the angle in a way like it's oscillate almost like you can just sort of do this with a sine wave like you could say you know R equals sine of the angle which is actually giving me of like a backwards headache because there's so much to brafton but anyway you get the idea I need to calculate R from theta and in fact that's what this formula is doing it's saying 1 over R equals all of this stuff and Phi being the angle or I'm saying data that's I think that's the Greek letter Phi or fee or I don't know everything's going wrong today and you know I can flip this one of our articles that so articles that so I need to figure out a way of getting this formula in my code it's going to be a bit awkward I'm sure going to make some mistakes but the other thing that's really important here is that looking deeper into this formula there are four constants Oh a and B by the way ah okay so they're actually more than four constants there's like six I think there's a B and that's not six yeah it is a BM n1 n2 and n3 so based on those values you are going to get a variety of different of different results and you can see here if I look at this page you can see with different values of M we've got these different results so hopefully I'm going to do this correctly and we'll see the results that are in that that are on this page so let's go to the let's go to the code and this is actually just the code now that I picked up from the super ellipse and you can see I'm running this here this is the super lips which is just changing a one particular parameter to create these different kinds of ellipsoid patterns and I am now going to I actually don't need this particular function and I'm good the thing that I'm going to leave in here which is the most important thing is this so ultimately what I need is begin shape and shape every single angle and I need to get an X and a y and I need to draw that vertex so this I need and then I'm not going to worry about the slider thing right now we'll come back to that later what I also need is I need to have a bunch of constants so I'm going to say I have n1 I'm going to have n2 I'm going to have n 3 I'm going to have em and I'm gonna have a and I'm going to have B now for simplicity right now let's make everything one and obviously you know you can declare and initialize variables all in one line and all sorts of fancy ways but I'm just going to be very explicit about it those are all of my constants so I need to go back and forth I need two screens really because I really need to refer to this formula quite a bit but I think what might make things nice and actually you know Paul Bork has code for doing this here and I guess I could check it if I get confused or wrong something wrong but what I think would be useful to do is to create a function I'm going to do that up here and I'm going to create a function called a super shape and it gets an angle so this function receives an angle maybe I should call it theta a for angle doesn't matter so it receives an angle and it needs to return back R because that's what I'm trying to calculate so at the end I want to return R so let's see somehow and I want to save our R equals one so let's just say right now let's say this is my function and then what I want to do here in this code is I want to say I want to say VAR r equals super shape of that angle and then I need to say x equals what R times cosine of that angle y equals R times sine of that angle and if I wanted to I could also like scale these up by some arbitrary value and I'm going to make that a separate variable like radius just to scale them up and I could probably build that I know I'm doing something like ridiculous right now but I'll fix this later because it's returning one so the idea is I should just see a circle okay great so this is working the idea here is that I have a function that takes the angle and sends back a value and then what sends back that value I do it for every I do it for every angle and I get this circle now of course I'm getting a perfect circle because no matter what the angle comes in I'm just returning one and now what I need to do is I need to get that super shape formula in here so let's try to do that together and hopefully we get something that looks about right so I'm going to go back to Paul Bork's site one more time and so the bunch of things I need to calculate one is one divided by a times cosine of M divided by four times theta Who am I really gonna be able to remember this ah I'm going to call this I needed some like I'll call this part one one oh I did something terrible so there's a constant called a so this I don't want this I want I want this to be calling all this theta so one divided by theta times cosine of n divided by four times that angle that's not theta that's one divided by a times cosine of theta which is the angle times M divided by four okay so that's this thing in here so then I need to take the absolute value of that and then I need to raise it to an exponent which is n 2 which is 2 the N tooth power that's part one now I need to do part two which will probably be somewhat similar part two is 1 divided by B times sine of the same thing to the N 3 power ok so what did I say 1 divided by B and sign those are the only things that change and then this obviously needs to be part 2 part 2 this is n 3 part 2 part 2 ok so now I've got that formula there in two different parts by the way this I think is a useful thing to do you guys this big elaborate formula rather than to try to write it all out one line of code so divide it into parts ok so we got that now let's see ok now I need to add them together so I'll say part 3 equals part 1 plus part 2 then I need to take the square root of it so I can probably do that just in this line of code square root right and then I need to multiply it by n1 so I just need to say and 1 times that so that's that so though in this year to the part 3 with no space so this is mostly like me just like getting that formula in here ok I think we're pretty good shape I think I'm doing this right please please now what else oh 1 divided by R equals all this so with 1 divided by R equals all this R should equal 1 divided by all of this right I can just flip that so I should be able to say and actually I don't need this VAR r equals I should just be able to say return oh there's a dangerous thing that could happen here return 1 divided by part 3 now I'm a little bit afraid of a / of a divided by 0 problem so I think I better put something in here like if part three equals 0 then return 0 I don't know if that's correct look it I'm oh end wait this is not n times wasn't there something no that is what yeah maybe this is right okay so I think I got this right and maybe there's something else that I did slightly wrong but but let's see if this is good enough I have a working version of this I can always check it if this doesn't seem to work right okay here we go so let's just see what happens now if I actually let this be and let this go oh and by the way I had this like radius thing equal to 100 I don't need I don't need a separate variable okay so let's now run this hmm oh look at that that's promising so I got something that looks right but it's a slightly different slightly different shape so let's actually go in let's go to Paul Bork's page and how do I get over here let's look at okay let's look at an example with N 1 equals n 2 equals n 300 if M is 0 I should get a circle let's at least test that so let me make M equals 0 ah perfect I got a circle so I think I did the code correctly so now if I go back here and I look at with all these equal to 1 but if I have M equal to 5 I should get that shape so let me change M equal to 5 and run it again close do I have something wrong it looks a little bit different that's a little distressing pause back now I figured out the error so I had a major error actually I completely read the formula incorrectly this is not the square root of all of this times N 1 this is simple this this the way that this is written means it's the N 1 root of all of that added together in other words if N 1 is equal to 2 then it's the square root so I really need to fix that in my code so let me do that briefly really quickly so instead of N 1 times the square root I want to use the power function power takes something and if this is like to the N once power part one plus part two to the n ones power if I say 1 divided by n 1 here this is part 1 plus this is the N 1 root of part 1 plus part 2 so I can do that and then if I do it again we can see aha now I have the correct shape but you'll notice something look at this there's like a weird like mistake here and you can see it doesn't look exactly right here so one thing I've done very not carefully and let me fix that here is that I just decided in my loop down here to just say let me look at every single angle start at 0 go to 2pi go up by 0.1 well that's not very thoughtful because 2pi isn't necessarily perfectly divisible by 0.1 and it's not that many points I could say 0.01 and I'm going to increase the resolution of what I'm drawing much more you can see now it looks much more like that super shape but I probably would make sense for me to be a bit more thoughtful of it thoughtful and say something like I want to have a total of 500 points and then I want to have the increment the angle increment to be 2pi divided by that total and then I'm going to always go up by that increment so if I just do it that way then I could say this is 500 points that's what I get with 500 points and I could say something like oh whoops I only want 10 points and if you see that you're going to see it still looks right but there's only actually 10 points in there and it's you there's much less curvature because it's drawing big straight lines between some of those points but this is I think a better way of being able to control this you know with a hundred points looks like this so like what how many points do I really need to get kind of like a good resolution on that shape and when I do this in 3d we'll need some sort of mesh I hope I can do it 3d ok so let's look at this now now I have this slider down here let's at least do something like tie that slider to a particular value so for example what if I were to say so one thing I want to do here is one thing that's interesting is that I want my I want actually the increment values of m to be incrementing by 1 so I want to start with an M of 5 and I want to go between 0 and 10 and then what I want to do here in the draw loop is just say M equals slider value so we can just sort of make sure things are value make sure things are kind of working you can see now you can see as I move the slider that shape is changing and we're seeing we're getting exactly what is written are depicted on this Paul Bork website so you can see and this for I should get that ms5 is that now we can see okay what are these shapes here what if I have n 1 equals n 2 equals n 3 equals point 3 now I could change all of these and obviously it could be much smarter about not having three separate variables that if they're all the same value and now we can see what does this look like you can see now I have this particular kind of shape and you can see what it's doing as I change that value of M so I'm going to stop here because I could continue doing this forever I could say well let's make sliders for all the different variables let's try all of these different possibilities let's see can we get all of these different shapes so this is what I would encourage you to do and by the way you don't so tie them to sliders try tying those variables to like a sine function you know I could do that really really quickly right now like for example if I have I'm going to have a variable called like oscillate oscillate equals zero and I'm going to say M equals a you know map sine of oscillate which goes between negative 1 and 1 to some value between 0 and 10 and then I'm going to say oscillate goes up by 0.1 and I'm going to refresh this you can see now this is happening it's happening very quickly but automatically so let's let's make it go up much more slowly and you can see here what's happening is it's kind of like changing that value on the fly and the shape is kind of like wrapping around itself unfurling and furling so there's a lot of possibilities here I could add HSV and make it a rainbow but I encourage you to explore this play around let's see what types of forms you can get and eventually at some point I will get to that next video and try to do this in 3d to get a lot more elaborate forms okay thanks for watching this particular video and I look forward to seeing you in another one in the future bye bye