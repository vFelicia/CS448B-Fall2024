well welcome to a second video about using matter KS so in the previous video I kind of ended with this which is just a simple demonstration of falling rectangles landing on a ground I want to do two things in this video to expand on our sort of knowledge and sense of what matter dot J's can do I want to change these falling rectangles into circles and I want to change the way that the boundary works in that I want to make the this bottom boundary I want to be able to put it at an angle and maybe put a bunch of them so there's one of the matter J as examples is essentially this let's just go to the website because I'm going to need I'm gonna need the documents open the documentation open so at some point here one will come let's wait for it hey no that's not it maybe that was it I think it's not there look at all these demonstrations I there it is this one I want to kind of make this that one you see that one so let's so what do I need to do so first of all I did this sort of terrible thing where this bottom thing which I'm calling a boundary or the floor was kind of hard coded so let's fix that and there's going to be some redundancy here but I'm going to live with the redundancy I'm going to make another JavaScript file called boundary is that's the right place and then I'm not going to forget this time in index.html I'm going to add another reference to boundary Jas now what I want to do is this ground variable instead of creating the body right here I want to say new boundary which is my own thing and I'm going to use those same arguments 200 height amendment get rid of options and then what I'm going to add under options is in the boundary object whoops where's that boundary object oh it says box here wait wait wait Ayya box this needs to save it hungry and I'm going to add is static true so by definition this idea of a boundary I mean boundary probably wrong word but is going to be something that doesn't move that's inflexible that in one place in the code okay so now I should then be able to say and let's make it a different color the boxes are kind of like a white outline and a gray interior just so we see that it's something different let's give it a white outline and a I don't look afraid to use color Oh a black dark a black interior okay so everything should be the same right now I'm going to change things about boxes versus boundaries but now if I make the ground the boundary then I should be able to just say I don't need any of this down here I can just say ground dot show so if I ever changed the way the boundary works then I don't have to worry about that so let's see so this still works exactly the same way and you know I'm like annoyed with the fact that the outline is bleeding off the edge here so I'm going to kind of for no good reason change this to like you know what I'm actually going to do is I'm going to go into boundary and not have it have a stroke so I'm going to say I'm not going to have any outline to that color I'm gonna say no stroke okay there we go this is more like rolling okay so we're in good shape now here's the thing I want to demonstrate a problem that happened in the previous video so I'm going to change right now having engine I'm not going to say engine update in a in draw I'm going to go back to having engine run in setup so this will up with engine not update I'm manually telling the physics system to move ahead a moment of time every time through draw which is kind of good like move ahead draw move ahead draw with engine run it's going to run on its own behind the scenes separate from how I'm drawing you'll actually see stuff appear to be moving faster because there's going to it's going to the engine is going to be running at 60 frames per second where my actual draw would might be less so let me just do that still works fine but you know I don't know what's Benny way I feel like I have more control but what I want to show you the issue is if I now change the that boundary at the bottom to something like it's only like three pixels you can see that sub stuff is working but let me go up here look sometimes the the rectangles like fall through the bottom do you see that one oh I always had to find it it fell through and we wanted to get another one ah come on happen bug there you go you think some of them are falling through so the reason why this is happening is because there aren't enough time steps the mo it's checking where the object is then it moves it and checks again and it's actually jumped over the obstacle so there are there's a number of ways we could fix this number ones the way I fix is just like okay just make the ground thicker and now this problem can't happen and so that's one way of fixing it but there's actually a there's I'm going to put ng update back into the draw loop if you look in the documentation which I showed yesterday there are a variables here there are arguments you can pass through about time steps and Leah Peru on Twitter the creator of the matter dot J's library wrote to me and said the issue of skipping is best solved like you did by using thicker floor or a smaller time step or multiple updates per step so that's something you could do but the AB rewrites there is a feature called continuous collisions that I am working on that solves the issue for any time step so that's coming forward so that was great to hear that it's so wonderful to like to consider all about the physics engine and have the creator of the open source a library way in and provide feedback so thank you for that Leah brew on Twitter okay so now let's keep going with this the next thing I want to demonstrate is I want to see if I can turn that obstacle at an angle so let's look at the boundary objects so this is where I'm creating the rectangle object and it's the variables in this body so what I'm just going to do is I'm going to say console.log this dot body let's look at what some of the properties are and here's a property angle so this leads me to believe that I could most likely just set the angle to a value and it would change it so let's try that let's try saying something like this dot angle equals pi divided by four which is about 45 degrees in radians right pi divided by 2 is 90 degrees so let's do that hmm no what am I missing Oh oh I'm just being silly it's this dot body angle so when I say this dot angle this dot this dot this dot leg line adding a property called angle to my boundaries but remember my boundary object is simply a wrapper really for the matter a s body object so I need to say this dot body angle and that should success for me there we go so now we can see whoa weird stuff happening crazy weird stuff happening is there an initial angle can I do this is this better if I just set it as an option at the beginning let's try that ah there we go okay so it looks like this is so these are the classic things that happens with physics engine I violated the laws of physics by just setting its angle directly the only reason it's angle would change is if a force something was probably added to it that instigated though I'm not looking at the chat so so I have a feeling that you just can't set the angle directly unless you kind of work with the mechanics of how the physics engine is behind the scene so if I want to change its angle while it's running I need to maybe apply an angular velocity or angular force to have a turn so that's nice to see that that's fixed so let's let's add a bunch of these let's go to sketch KS and let's save our because call it boundaries is an array and what I'm going to do is I'm going to create a I'm going to create a bunch of them let's let's say boundaries boundaries dot push so let me just push this boundary now here's the thing I want to give it an angle so let me give it an angle like the new boundary also has an angle of PI / 4 so I can go into the bow three object and change add another argument like a for angle and put that in here and so what I want now is to let's make it like PI divided by let's just you know PI divided let's just let's just put some values in like 0.3 so it's at a slight angle let's not make it so tall 50 let's so let's see here and let's and then what I want to do is here say for VAR i equals 0 i want to render all of the boundaries to do i for some reason today is the day where my codes lines of code are so long and going off the edge boundary Sasha so let's see what I've got going on you're have some errors sketch j/s line 20 what did I not do correctly here up so I got these semicolon in the wrong place a matter Dutch as new type of undefined sketch 22000 I don't need to add it here I wonder if that also caused the problem because I added it twice but because it gets added the thing that I did is added here so I don't need that other that's been a mistake that's been in the code and let's see here ok so we can see here this is working I've got a boundary there and so now let's add some other one let's add another one at a height divided by 2 and let's have it go the other angle the other direction so now and let's make these shorter with times 0.6 over I cannot get hard code values in and so now oh and let's move this one over whoops let's like move this to 250 150 so you get the idea oh no that's not really let's turn let's make this one you know what what's the size let's make this one 300 let's make this one 200 let's make this negative point sorry let's make this I'm sure I could make a clever loop there we go this is kind of what looking to do but I want this one now to be much higher up which this bottom one this is the higher up one let's make that even higher up and let's make this than just like 20 here okay so you can see what I'm trying to do here I'm trying to create a system like now the friction is quite high look how much the friction is causing these things to stop so let's at least fix that in the boundary the friction is 0.3 I can't remember is it zero is no friction or a lot of friction that looks like they're sliding more or less I can't tell let's go to the box and you also give it no friction there we go so now that's no friction but maybe I want a little bit of friction and maybe I want a little bit of friction on each and then also what I said I want to do is I wanted to change the rectangles that's really a lot of friction you can play around opposed values what if it's 0 on the boundary right look at all that friction look I really wasn't really no friction with zero yeah what I'm going to do is I am going to now also I want to change those rectangles into circles because why not so I'm going to go into the box and I could change the name of it from box but really what I want to do is change this to circle and I have a guess that what Circle wants is maybe XY lips XY radius so XY radius I'm going to change that in sketch to just make when I click the mouse to add one with a single radius and then I am going to change the way that I draw it to be an ellipse with an R instead of a wh so let's do that and here we go what am I missing sketch they asked line 30 and I boxes dot push push new box now sex amounts why this closes randomest I need another parentheses there and here we go now it looks like my size is on so let's go look at the documentation it's kind of working we can see the circles are like hitting the there they're kind of like above the actual they're actually above the actual boundary so let's go to the matter J s documentation let's go to bodies let's look for circle X Y radius I know what the problem is I was right all along but P 5 doesn't expect a radius it expects a diameter so all I need to do to fix this is actually where I'm drawing and let me call this circle just to be consistent and in sketch AF I'm going to now call this a circle and I'm going to change this to new circle and I've got to go through a circle stop length and change this to circles and now what I need to do I'm going to leave this as box just for right now I need to say this dot R times 2 and now look sketch a line 30 I missed one reference up circles dot push so we can see there we go now these are kind of large so I know it let me just change this between 5 and 10 and I'm also going to do a mouse dragged so now I can do is just we add a lot of circles and we can see I mostly have that demo we had before and actually I'm kind of along the way of almost creating a kind of liquid simulation because you can imagine if you were to change the way the behaviors of these kind of work make these really really tiny you would almost have something that has a kind of like liquidy like quality to it okay so now I have done is I did a second video where I showed you a bit more about how I can have two different kinds of objects of static ones we looked at circled it kind of played around with friction a little bit so hopefully this helps you be a bit more about using is and in the next video we're going to show you is how to actually have the mouth interact with this so I can kind of drag these objects around and toss them and I'm going to look at a concept called a constraint for that okay see you soon you