good evening happy Friday night it is actually a Friday night I think it's sunny and beautiful out in New York City I have been in a dark room all day all week in fact watching ITP thesis presentations let me just say that my mind was blown many many many times over and I just want to mention this before I do anything else that if you go to ITP NYU edu slash thesis you will come to this website and I think somewhere from here you'll be able to find videos of all the thesis presentations so you should check those out all right so my brain has melted a little bit out of this ear I think I'm about a hundred presentations probably I don't know the exact number that I watched this week Tuesday Wednesday Thursday Friday all day they finished up about an hour and about an hour ago and then I ran up here I'm gonna do a live stream this week somehow someway you might notice I have this weird microphone here because I couldn't find the other microphone and this was being used and then I got this one so I don't know hopefully this works and isn't too weird looking I feel like I should be putting my finger in this ear and singing so that's one thing the other thing I want that's it that's it morning I think I think things work better for me in the morning when I livestream so oh I is the quality looking okay for everybody I'm getting on my dashboard here stream status bad all right so here we are I don't think this camera is on is it wait hold on there we go I want to read for I want to do a dramatic reading of an email I received earlier this week I don't know if anyone has asked you about this yet but do you use the Canon 5d Mark 3 s for livestreaming and have you figured out a way to disable auto power off we've tried installing magic lantern but we still can't figure out how to keep it from sleeping on live feud stand by yeah I don't know so just just just I'm gonna I'm gonna tackle this problem someday we're gonna we're gonna figure it out but for now for today still these cameras are going to shut off at Ramez other issue I'm having is that I I need new lenses these lenses if you could believe this in my glasses were purchased in the year travel back in time to when you remember I don't know what was it the Macarena was big No 2015 I think the Macarena was in the 90s okay remember 2015 these these lenses are really all my prescription actually hasn't changed the frames changed we kept buying the same frames you know what I had my bicycle accident last year my the frames broke but the lens remain intact but recently I didn't notice thing they're like these like scratches and they're they're they're older I got to get new lenses but right now I can my vision in this left eye isn't optimal let's just say so if I I've got this microphone here and if I look out of this part of the lens I can see you so this is this is the way I'm gonna be standing so I'm in a bit of a crazy time of year I'm hoping as things settle down and I move into the months of June and July that I will establish sort of a weekly schedule diving into some exciting coding challenges that I have on the horizon some tutorials that I'd like to do around machine learning and tensorflow Jas and this new library called ml5 and all sorts of things but I'm just I don't know maybe maybe this I don't even know why I'm bothering to say this because I'm probably just always going to be in this state of complete and total disrepair oh the Macarena yes me I am sue me says now that you've referenced it you have to do the Macarena it's a good boy I can't play the song the Macarena because then I will get a copyright notification although sometimes it's worth it and these live streams I might as well just play all them you all the music I want to play and then get those copyright notifications because sometimes it's worth it for no no no no shoot there must be some like a visual guide to doing the Macarena I know that I know the hand jive this one no this one really well okay was that is this a coding channel I think it might be it may or may not be have SB 129 asks in the chat have you ever thought of live streaming on Twitch I have I have thought about it many a time in fact I have live streamed on Twitch but I've live stream on YouTube somebody would just if somebody could come maybe some like corporate Overlord could buy the coding court that's a bad idea I like being in sort of independent entity although I am of course the Google all my stuff is all over the Google there's not really a way around that right now what was this thing I just want somebody to tell me what's but no I'm left I actually I do have something to talk about today you know I'm gonna save this till the end I don't want to I don't want to bore or I don't want to I don't want to emphasize this too much but I I did get something unlocked in my account today which is YouTube sponsorships which is like a patreon thing built into YouTube and so I'm gonna talk about I'll talk about that at the end somebody remind me I could sing it myself Bush was a beat me I am so he is writing you could sing it yourself twitch is doing a super low latency beta right now no interesting twitch is only good for people in the US that's I'm also being told so this is all very useful information so what is happening today I would like to talk more about tensorflow jazz now let's see where we are it would be so nice it would be so nice so many whiteboard markers because they go bad so quickly I have six of them I'm almost certain I could juggle two of these okay so we've got two I'm pretty sure I could do a third one yeah that's pretty good it's not so bad I don't think I can do four not with these I think if you gave me four beanbags I might be able to get it okay that didn't work all right so I have just so many of these but these are not the good ones the good one is over here how's this sound by the way it's the sound okay no no let's see this one is a good one alright so now I need a eraser otherwise known as a paper towel so um I'm working through a set of tutorials about tensorflow j/s I'm learning machine learning that's learning machine learning and and where I got to so far in the playlist was up through this topic of memory mentoring now let me just be clear again these are not they're not comprehensive kind of scratching the surface glossing over things I am NOT the creator of tensorflow jeaious an expert on it none of that's I'm trying to figure it out and one of the things that I'm really excited to talk about today is the layers API because the layers API is what will allow us to do actually start to build some machine learning projects and my goal is ultimately to do a couple of things what are some of Michael's go home take a nap watch some baseball kind of a baseball fan I'm kind of getting excited about doing some machine learning project with baseball data but if you have some ideas about that let me know but anyway that's that's a I just don't know if that's really gonna appeal me not I don't know if it's gonna okay I didn't mean to talk about that right now this is roll back in time and erase that all right there's a library being developed at ITP called ml 5 ml 5 is a high level library for machine learning and it's built on top of tensorflow GS so my goal is to really do a set of lessons with ml 5 in a sort of high level way to inspire and facilitate creative applications with machine learning part of my reason for wanting to do this it's a 11 aspect of that is hey look there's this machine learning model you can use it and you can get the results in your code but another thing is to really think about education and machine learning what does it mean that our lives are more and more governed by software software with algorithms who's writing these algorithms what data were these algorithms trained with how can we be critical what kind of questions do we need to ask and so one of the reasons for doing this beyond just here's a machine learning model where you give it an image and it tells you a classification is to look at the whole picture how do we go from data training prediction what's that whole picture even in a sort of toy small way so that as you as you work with machine learning in projects or as your machine burning works on you in your daily life you can have some agency and be able to ask questions and that is important all right so this huh I'm over explaining this because I really want to get to is seeing if I can make a version of a machine learning model to learn the XOR operation with tension flow yes and that's right you are a person right now I know where you're in the East GMT minus four I guess or five I don't know where we are right now I'm getting over a cold everything about today doing a live stream right now is a bad idea but this is really what's happening right now it is Friday night in New York City I could be out where the people are out at the restaurants and the clubs or whatever and I don't know what people do Friday night and places like New York State I could be there no I'm here I'm here to talk about JavaScript interflow and X or exclusive or a boolean operation yes that's that's what I'm here to do hopefully it's gonna mean something somewhere actually the thing is I actively enjoy this why I'm complaining this is what I choose to do I actually like these toy little weird scientific problems I just worry about them because I would really like to show examples and create projects that have more will unlock more creative possibilities and I'm not sure the sort of like lowlevel technical nature of the X or problem is the best for that I'm really very conflicted but I think we're gonna move on with this I'm gonna do it all right so let me take a look I have some other bad news so in these presentations going on today the microphones some microphones went up and down different floors so that's why I have this other this weird microphone I can't seem to see my batteries and battery charger that probably also gotten moved downstairs and so we're living on borrowed time I should really get to the content here I see two bars on this microphone two out of three I think I think with two it's probably gonna last but as soon as the battery's dying these microphone I'm done so by the time it's eight o'clock I really got to get home it's Friday the weekend is here I've had a very long week I mean eat some of my space melon hmm I'm telling you this novel idea Cody Train used to be brought to you by water which was good soothing on the throat I have talked a lot I tend to talk a bit too loud to get overly excited the melon it has a high pH by the way I can't believe I got this wrong I kept saying it had a low pH because I was thinking it's low acid but low acid is a high pH so it's very soothing on the throat I've learned this heart really each citrus I like citrus but how my throat a lot okay oh I wanted to mention a couple other things about tensorflow js2 things that are new that are really relevant to what i'm talking about here are tensorflow models this this that's not anything you can see not even close I don't need to write that down the two things that are new is similarly to some of the things that we're trying to do with ml5 tensorflow Jas released something called tensorflow models which means some code that you can import into your JavaScript project with that just has the pretrained model and allows you to call like a single function to pass in some data and get the prediction or prediction back so for example one of I believe one of the first models released with this way of releasing stuff from Tesla Hejaz is the pose net model and so the pose net model takes a 2d image and gives you a swimming it has a person in that image it will give you back a set of points which map to the skeleton the of that person so this is something that also once we get down to ml five we'll be looking at so this whole picture is pre trained models training from scratch and also what's that place in the middle Oh am i excited to do some transfer learning or it's something like you know I was respecting a lot of time today reading about variational autoencoders because it's a thing that I don't totally understand I think I got it a little better I think we should make some variational autoencoders because that's the kind of thing where you can generate some fun interesting stuff so that's all and I don't know if there's any way around this I've got to make some video tutorials about this stuff actually guess I should I should get started with some content here all right let me check the chat alright alright everybody so where do I want to begin today ah you know what I have this crazy idea it's not my idea thank you to me I am so me actually somebody else had this idea both two people had this idea at once so let me go to rainbow topics and let me go to here alright so I'm looking at this and then what I want to do is go to the coding training comm coding challenges here a live example this computer is totally on its last legs oh did this maybe this didn't oh this doesn't have a live example it should oh no because I made it processing I didn't upload the port yet that's fine let's open it up in processing oh it's a file open recent what's the chance that I've got this somewhere that's tough no I probably water ripples let's actually go to I I made some fixes to the code so I want to get the fixed code let's go to water ripples water ripples basis in here the water ripples there they are all right so that's good okay and here we go now I need let me get Adam editor open here you're perfect [Laughter] what am I doing here let's see terminal all right don't worry something's going to happen soon enough oops oops okay all right so well I liked it better when it's purple shoes I have to eat it over here okay so let me cycle these cameras and we're gonna get started I'm gonna do the first video today so this I don't think this is this could be considered a coding challenge we'll see what I want to call it I kind of feel like though it should just sit here as like a bonus tutorial right here in between step 4 and 5 that's what I sort of think one thing I want to do actually just really quickly if you can bear with me I'm just going to change this to just so I don't have to operate it whoops oops this needs a floor also and where's the dampening hmm if I make this terse of curiosity sorry I just want a nice visual just curious what happen so I do this there we go let's do that all right code browser processing Java all right here we go so this is gonna be crazy hello what I'm about to do do not try this at home people this is another video as part of my videos videos on tensorflow das let's just start this one over why is this why is the white board missing oh there it is here we go hello everybody now I have something very important thing I need to say do not try this at home what I'm about to do is incredibly dangerous sparks will be flying bugs will be rampant and it's just not a good idea but it's an interesting problem that I'm going to attempt in this video which is part of my video about tensorflow yes in this video I'm not gonna do any quoteunquote machine learning but I am going to use tensorflow das so I recently did a coding challenge where I created a water ripple simulation water ripples 2d water ripples based on an algorithm by Hugo Elias that's been on the internet for a while you could watch that video if you want to see me build that water ripple simulation which is running and processing right here now interestingly enough right after I did that a message came through boop boop that's what it sounds like my notification sound came through on my train topics repository where you can file an issue to make a suggestion and from github user niku dice cowrote during the live session I noticed this pseudocode said rec center can be rewritten in terms of matrices look at this calm 2d but for one kernel interesting interesting a kernel is this perhaps it would be easier to explain what convolution is on this example and look at this then github user me I am so me right yes I thought about that too and decided to implement here for kicks now I have looked at this code and I have had a discussion about this code so then I'm not doing this with no preparation whatsoever but this is an interesting idea could I the matrix math all the mathematics required to generate this simulation could I do it with tensor flow Jas tensors and operations no is there any value in doing that entirely sure but for me and for hopefully for you watching this this will give you another clue into new features that are part of Tantra flow das that will be important for certain machine learning algorithms in particular I would like to do an image classification example that's going to involve something called a convolutional neural network and so this idea of a kernel this idea of a 2d convolution and then also if I'm working with images there are some functions like two pixels and from pixels don't quote me on this I might not have the tensorflow J s API exactly right but this is stuff that's going to be necessary foundational knowledge to build some of these examples so why not explore it in a place where I could see where this context so this what this video is I think a really long time to explain that thank you if you're still here watching I am going to try to recreate this water ripples simulation using tensorflow J's tensors and operations shall we just get started let's get started oh yeah look at that we've Alka and the chat has pointed out a bug here the the points on the edges don't get cleaned up so I should really deal with that so it's a bit of pull request or I'll do a whole other video fixing that but it's kind of a nice it's a feature as as one might say all right so I'm gonna close this I'm gonna close this and what I'm gonna do entry I think what I'm gonna do weirdly is let's grab just some bits of code here so let's grab this are you seeing what I'm doing yes so I've got a sketch here that's already set up with tensorflow J s in imported I wonder actually they time out for a second I'm sorry that I just coughed so loud without muting my microphone I'm getting over a cold and it's very unpleasant although I feel so much better than I did earlier this week let me walk over here and mute my microphone blow my nose I'll be back can I mention that I found my undergraduate linear algebra textbook recently and that look I like look there's like highlighted stuff in here and I wrote like notes in the book there's all these like page number it's like a secret code like what's on all these page to us or maybe just you and I approached to temperature like what that's definitely my handwriting page 247 look who I'm like trying to do all this stuff I did all its like I did all this was it a dream was it real did I learn this stuff and then completely forget it all have to relearn it in my forty's I think so alright um what I wanted to check really quickly and I'm gonna just check it on this computer no new version yet okay thank you me I mean there I was about to start talking about how there was a there's a bug that me I am swimmy discovered filed an issue that's related to the two pixels or the front pixels function which is a memory leak which has recently been fixed but anyway we're just gonna move on alright yeah if I ever create a JavaScript library I'm definitely calling it melon Jas or would that be weird there's something weird about that that I'm not aware of I'm not thinking of maybe that would be weird but like I know people don't like melon but eat the fruit I said this already the berries and leave the melon melon I know it's but nobody puts a good fresh melon in a fruit salad anyway what are we gonna do alright okay so alright so let's go back into the code now what do i what do I need here no wait now all of this is Java code so first let me convert this into JavaScript and let me say function set up and create canvas and we're in good shape here now couple things I want to do I want to use tensor flow Jas so I don't want to create just a actual twodimensional array called current our previous I want to create a tensor so how do we remember I did make these videos a couple weeks ago I don't totally remember how to do this so I'm gonna something like TF Ted sir 2d and then I give it the shape like its columns by rows or something like this is basically what I want to do alright I want to have a tensor and then also the dampening value which is a scalar number and it's by the way damping just calling it damping is fine I don't know what damping equals T f dot scalar 0.99 so I want to start creating the data in my program that's storing all the information as tensors now here's the thing I'm missing something I've got to give these values right so I think there is a function we can go to the tensor flow API and I'm looking for there is a function called zeroes I think so zeroes is a function that will create a tensor with all elements set to zero that's good that I want to do so actually what I want to do is do TF zeroes columns and rows and I just noticed in there there's also this function zeros like look at that so if I've made another tensor with a particular shape I can actually just recreate it by saying zeros like current so this is good okay so now I have my current in previous as tensors let's just just for I'm gonna make a 100 by 100 canvas and I'm gonna say current print and previous dot print just to see that everything's working hmmm what's going on here I'm not running my code in the right directory something get reset am i editing the wrong file did I not hit save oh there's another set up down here thank you alright that Matt's here you can edit that out alright let me go and run this code what oops hold on whoop go run let me go run this code oops zero likes zeros like great so we can see there the to know there are the tensors here they are they're great alright now so I've now I've done my setup now what do I need to do in draw if we look at what I did in my processing sketch I did an operation where I loop through every single pixel and add it up Oh can't we think about this let's let's go over to the whiteboard this is exciting so I have current and I have previous I have two two tensors current and previous now individually I might look at any given pixel here in current and what any given pixel in current is is it's a function of this set of neighbors the pixels the neighborhood of pixels around the corresponding pixel in the previous and it was it's basically this pixel divided by 2 plus this pixel and I don't know why I'm calling them pixels because even though I'm gonna map them to pixels it's really just data it's just numbers representing the height of the water of the water at any given part I just really want to start this whole thing over again I feel like my mind is wandering people are going to bed which is what you should do right now and actually actually in the if you look at the original link where the algorithm is described I think these are also called like buffer 1 and buffer 2 which might actually make more sense I don't know whatever makes sense to your brain game your variables that way so current of a given pixel index equals the sum of the one to the right the ones at the top the one to the left one to the bottom each of those divided by two altogether so what am I trying to get at this is actually what we're performing here is a convolution timeout for a second do I want to what's the chance that I have like a working version of Photoshop on this computer no okay never mind I was going to show sort of convolution in Photoshop but I'll skip that so how could I represent that numerically so one way I could represent that numerically is with a matrix describing so this is a three by three matrix of weights so to speak a weight for each pixel the corners being 0 I'm gonna ignore the center for a second and make that zero as well and then all of these being 0.5 so applying this kernel to any given pixel mean take all the pixel values multiply it by the weight sum them all together get the results and put it in the new spot this is what's known as a convolution to dimension and this is a convolution in two dimensions it's at this could be three by three five by five but I'm gonna use a three by three matrix to describe all the weights take half of all these neighbors multiply it by the pixel values add them all up together and put them in the new value so what's so what we need is to create this kernel as a tensor in tensor flow j s and then we need to apply the convolution to D function which says hey take this kernel and apply this convolution to every value in the tensor and make a new tensor out of that alright so let's go see if we can write the code to do that alright so if I'm coming back here what I want to do now is I'm gonna say I'm going to add another variable called kernel and I'm going to say kernel kernel equals zero zeros zero let's let's it's going to be like a twodimensional array I'm gonna write it like this and let's see let's see how this I can make this look nice and satisfy all of my urge to have everything aligned and indented okay now these have to be 0.0 0.0 0.0 okay oh and this one should be a zero point zero okay so now you can see this kernel this is the colonel but this is just the data expressed as a plain JavaScript array so I want to make this into a tensor so I should be able to do this and let's think about this so hold on time out for a second this computer went off I also only have one power only one power plug today so I can't see oh come to live my computer with the slack channel where everybody's telling me how I'm doing everything wrong there we go it's it's waking up folks I'm gonna have a piece of melon which one have seed I'm alive computer okay so far in the chat I don't see anything and I've done that's horribly wrong okay refresh do I have internet here No right now okay got the internet back this has crashed oh my do not have the internet back sorry everybody there we go okay all right there we go I'm back all right so let's review for a second I've got the damping value as a scaler I've got the current and previous matrices of numbers as tensors filled with zeros and I now have a kernel which I can apply as a convolution and this is the stuff that I need to do in draw so in theory this entire big loop here right like if this could be now be done as right the idea here what I had to do previously is like loop through every pixel individually add them all up dividing by two boy I'm missing some dividing by twos in is my code just totally wrong hold on I think I found a bug in my processing code hold on a sec let's go reference that original algorithm let's go here to D water here's though Oh No oh the whole thing is divided by two okay yes yes yes I did this right but this is no the / okay everything was right here never mind rewind I'm sorry I keep coughing into the microphone oh that isn't too horrible all right this is not going so well today this is not my finest work losing all my confidence to any confidence all right Mathieu thank you again for all of your editing work looking at this I have to iterate over every single pixel add everything up individually multiplied by dampening put it store it in the new in back into the array and then write the pixel so this whole loop should be something that I can do just a single operation to for example there must be some way for me to say like next equals TF convolution 2d like apply I'm just making up the API for expensive largesse then we're gonna go look it up like apply this kernel to this tensor and give me and give me the results of that in a tensor right so this is like a single operation to say take this kernel and slide it over every pixel update all the values and give me a new tensor back hopefully this is so let's look let's actually look at the tension flower jsapi and let's look for the convolution 2d function so I'm think it must be under operations convolution actually there's just a convolution section so I'm gonna click this here and now we're gonna look at the function okay it takes a set of values and with the filter now there's all sorts of other stuff that involves that are involved in a convolution Strides paddle but I'm gonna ignore all that for right now I don't so actually I didn't didn't do this so terribly so but here's the thing ah X has to be a 3d or a 4d tensor rank for a rank 3 that's weird why is that because mine was certainly just I just have a twodimensional tensor right columns and rows well if you think about it convolutions are designed to work over a matrix and what it's if I were working with an RGB image there actually could be inside each one of these pixels three values so this shape for that would be with height three so even though I'm working with this sort of grayscale image that just has a single value for every spot in the tensor I need to explicitly set the shape as with height comma one so let's change it to a rank three tensor and it could be of rank four tensor if I had many and if I'm batching a set of data probably so I'm gonna do this comma one okay so that's good that's fixed then the filter ah tensor for D the filter rank four of shape filter height filter with indepth out depth okay so here's the thing I've got to explicitly say this filter right this is a three by three filter so I have the shape just as 3 comma 3 but really what I also need to specify is what is this applying to how many values is this applying to an RGB 3 3 values and then when it applies to all those values is it something everything into one value or is it something doing each one of those individually and we should get three values out so this actually has to be a for a rank four tensor so one way I could do that would probably be like just keep adding brackets but there also is a nice function I believe is so this function as 4d allows me to convert a tensor to a tensor 4d and I just need to give it the rows/columns depth steps to so I think what I need to do here is say as 4d 3 comma 3 comma 1 comma 1 right so I just want to I want to like write my tensor you know maybe I even just want to do this cuz I just want to see it as like a list of numbers and then I want to use the ass 4d function to reshape it okay how am i doing so now I should be able to say next equals and then look at this so the convolution function takes the values and the filter the filter another word for Colonel seconds oh I'm going to I need to say previous and then Colonel okay so that's next so I'm not using current because if we look at the actual original code what I did just now is I took care of this right I took care of adding the neighbor to the left the right the top of the bottom dividing by two with that colonel but then I have to subtract out currents actual value as well so what I would need to do now is say I need to make another tensor so I need to say next okay I need just subtract I need to say minus the current value so I should be a subtract operation subtract where are my operations there's an add multiply by negative a sickness an operations let's hey Matt yeah let's go back a second and let's let's not have me searching for operations for an hour in there we go alright so I want to look for operations and here we go TF sub which means subtract so what TF sub does is I can subtract two tensors a sub B so I need to say next sub current and then I need to apply what else so look at this well this is like then I need to multiply by the dampening so I could then say also next equals next multiply damping but one thing that at tensorflow das allows it's chaining so each one of these returns a totally new tensor remember there's these tensors are immutable I'm not made them variables here so what I actually could do probably say sub current multiply damping but I just can't bring myself to do that maybe what I could maybe I could bring myself to do this I'll do it in two lines so I think that I've got this right on alka is giving me a great tip for searching in the reference search search for TF dotsub instead of just searching for some thank you for that alright so next equals so I applied the convolution I subtract the current I multiplied the dampening and I'm done thank you very much now how do we see how do I see the results of this well there's a couple different ways I could do this one is I could ask for the values so I could say all right give me the pixels are you know next data sink which would whoops I know the camera went off everybody don't worry it didn't even make a noise that time that was weird all right so what do I want to do next I would like to draw the pixels I would like to see you the water ripples I mean I've done the steps I know that I need to at the end say something like previous equals next I need to do the swapping let's not worry about that so I still need to do the swapping algorithm at some point at the end but really what I want to do now is I need to display the water ripples so one way I could think about doing this is actually just ask for the values so I could say something like let pixels equal next dot data sink which is a very bad idea for many different reasons but this wouldn't Siri give me a big array of all the values then I could run a loop and I could set all the pixels there because working with images and pixels is such a common thing in machine learning algorithms there are some helper functions for this so there's two pixels so draw a TF tensor of pixel values to a byte array or optionally a canvas so this is what I want to do returns a promise mmm interesting interesting okay let's see how this is gonna work image canvas question mark so what do I want to do exactly thinking about this how does this work so how do I say this do I say next two pixels or do I say TF how does this work hold on let's read this draw a TF tensor of pixel values to a byte array or optionally a canvas when the data type of is input is float32 we assume values otherwise terms a promise that resolves on the canvas been drawn to Oh a boy you'll be nice to read this a little further okay hey Matt's gonna do that part of the worst so let's look for let's look for two pixels here it is okay two pixels takes two arguments image and canvas question mark draws a TF tensor of pixel values to a byte array or optionally a canvas so I want optionally a canvas no I want to choose that option so what are the parameters image is that TF tensor which actually it looks like it can be it can have different depths like but I have a rank I have a rank 3 which is gonna work perfectly so image is my next and canvas is the canvas elements so I want to say TF so I don't I don't I don't need I just want to say tf2 pixels next comma and then I need a reference to the canvas so I need to create a variable store the canvas in that variable and then probably just say a canvas alt and it's gonna do this a synchronously let's just see what happens here let's just see if I given get any errors cannot read property 0 of undefined so where's my object end about oh boy Oh first of all I have not thought about my memory management yet I've got to come back to that but what's wrong here canvas TLT is probably not the right thing so let's look at let's look at the p5 object no the ELT is the canvas object but then I need to actually get the so let's let's whoops it's melted Oh oh really yeah me I am Sania is writing in the chat turns out that p5 exposes a global canvass var I know I don't want to use that though let me see here canvas mmm that's the same thing that's weird it's nothing now canvas that canvas is right canvas TLT is right well actually what's the so all right so let's do a little debugging here let me comment this out what's triggering that error yeah that error is actually not even happening here is my subtract triggering the air nope is my convolution function triggering the air yes it is it most certainly is and let's take out these prints so what's wrong with this TF convolution 2d previous kernel let's look again at the API TF dot convolution 2d let's go here X filter filter so let's look at oh no this is right it has four okay so convolution 2d as for oh I def to give the strides in the pad okay I didn't want to have to explain I thought there'd just be some defaults for strides and pad so that's definitely the issue yeah I'm just checking something here the pad is like how much padding along the edges right and the strides is like how many how how far I go into each one so I think that's just one in one is what I want is that right yeah a valid same or a number it's number number or just a number stride heights try it with okay okay okay there's more intro here alright so the error is definitely here in convolution tooten the convolution 2d function and actually I just didn't read the documentation very carefully the the way this documentation is written is that the optional arguments are written with a question mark and strides and pad are required so these these are important pieces of how a convolution works let me just briefly mention what I think they are so I believe a stride has to do with how many pixels should i do I do as I move along like I don't actually I could apply a convolution but skip pixels and so my stride could be greater than 1 and it could actually be different in height in width and height and a pad I believe has to do with like what sort of padding to apply to the edges cuz you'll notice if this is a 3 by 3 matrix if I go to the edge I don't want it to like fall off the edge so maybe a padding so I think what I want is I just actually want to do every single pixel so I want a 1 and then I want to padding also of 1 well look can I have a padding of 0 because I actually don't want to lose any information hmm let's try this but actually it also has a valid same oh yeah same and stride one ah this is what I want it's actually written right here except you can't see it because I'm standing in front of it so I want a stride of one I want out pit will be of same output will be of the same size as the input regardless of filter size this is what I want so I want to say 1 and so I want to say one and same so I think those are the arguments I need to add oops where am I here hey no more errors whoops and there we go look it's actually you can't see you can't really tell but this has displayed that right because if I comment this out you don't see that black square this is actually working right and if people were asking in the chat what this dot ELT is so canvas is a p5 element because I'm using the p5 just library the p5 element stores a reference to the native html5 element in the ELT property tensorflow Jas doesn't know anything about p5 but it knows about HTML so I can I can pass the to the two pixels function that canvas TLT okay so let's think about the so let's think about the swapping now so what do I need I need previous to now be basically current which is next and then current let me think about this I did the swapping I did let's just look at this swapping here all right okay so I what I need to do is store previous actually set previous equal to next and set current equal to previous so this should be the swapping and I I suppose I could have just continue to use current here right I don't need that next no I don't want to do that I need to subtract I know I need to subtract out that's a bad idea so I think that I need to keep this separate yeah I'm not let's let's do that okay all right Oh Thank You current equals temp there we go I just do all of this many times over again let's just go back alright alright I'm gonna add the swapping algorithm now the swapping algorithm takes what is now this the new current pixels saves them in previous so that the current becomes the previous for the next time around and so we can look at what was here in the original code now all I need to do is say let temp equal previous previous equals not current though next I created a new variable called next in order to do the calculations with tensorflow j s and then a current equals temp so this should be the correct swapping and now let's run this hey it's running look at my water ripples let's I'm just curious like what's the frame rate it's running at 30 frames per second totally reasonable it's doing all these calculations let's make it 600 by 400 so it's a little bit bigger whoops oh that's not it I ran the processing sketch by accident and here we go all right all right now we need to add the ripples could I possibly possibly I could like how do I add the ripples all right now this is tricky this is really tricky here now you might recall let's let's just say for the sake of argument that in mousepressed I want to add a ripple at Mouse X comma Mouse Y and if we look at what I did in the processing sketch I added those values to previous so somehow I need to take this previous tensor and I need to change its values hmm how am I gonna do this well I could go down this rabbit hole of making it a variable but I don't really think a variable is really how do I want to explain this did I get something wrong in the ten people's previous previews of the next current equals temp do I have it wrong people I can't tell them the chat if you're just discussing it or yeah yeah she generate a random tensor would be good to just start this what do I have wrong here previous equals current Oh I don't see this oh I should just set current equal to next here wouldn't this be right if I did this yeah I don't need all right let's think about this this applies the kernel to previous then I subtract out current so next is now what I want to be in current I'm not seeing this for some reason oh this is wrong that's for sure this definitely needs to be next and then she's in previous be next oh I see previously a guy got you can I just do this I can just do that right people tell if you have dick it right previous Eagles current it's equals next Oh oh no no no I don't think you were all right this isn't does not make any sense because previous setting previous equal to current I don't believe this is correct all right people are telling me I I really I don't I don't believe you this was sight they told you this was a bad idea all right let me find some empty space here this are the values of current these are the values of previous in my processing sketch I rewrite all the values of current based on previous and current then I point previous here and I point current back to here now instead what I do is I have this variable called next which I write all of the values that are a function of previous and current into here that's next you with me so far am I correct so far now what I want is for previous well what I want next and current are supposed to be the same instead of reg overwriting current I've just written everything to next so shooting previous point to next why should previous point to current in processing or updating previous to have the next values than swapping it here you're not swapping you're discarding previous in processing no I'm updating current and then I'm updating previous to have the next values Oh but but the next vet the the equivalent here would be let me let me let me write the equivalent here next equals new float columns rows then what I would say here is next equals all of this and then next equals next times dampening and then current equals next right wouldn't this be the same thing this is exactly the same thing so I don't see why right look look how this works so why here can't I just say this exact same thing I know there's a little bit of a redundancy here why is this invalid I don't need I want the title say Friday it's Saturday I believe I am correct here I don't the reason why I have in next I should look at me I am Sammy's code here let's look at how they did it boy I really I see temp.1 is current colonel one same I did previous colonel I'm just doing it my own weird way that I'm using previous as the starting point I should have just named them buffer one buffer two I kind of like the idea of this though oh I see barren jello is explained ability and processing you use current var directly here you start with zeros and add current to it ah yeah but this should still this should still if we look here this is okay this is exactly the same now adding a convolution subtracting out current multiplying the dampening and then doing the swap I know that that this I see I see that me I am so me is doing this a different way that just not the way my brain works right we could apply the kernel to curb current subtract it's just like reversed then dispose I have to deal with the memory management stuff Oh interesting clipping is happening here too there's lots of interesting stuff here tidying things all right all right I'm gonna move on this this is one of those ones where I should just move last piece of melon there's one of those ones where I I'm just gonna have to redo the whole thing edited together yeah yeah yes exactly I'm right all right let's just just for the so let's go back interestingly here preview okay all right all right current never actually means current I know I know I know but it would if I did this the problem with me doing this is if I lose the reference to current I can't dispose it but I could run tidy on all this probably I think I should just change this to buffer one and buffer all right yeah yeah hey everybody I'm back with a weird edit point because I went down a horrible rabbit hole because the words current and previous can make things very confusing and so I actually want to just go back to this algorithm and I'm gonna change the things to buffer 2 and buffer 1 just bear with me for a second I'm gonna change and you know what's gonna be so nice about this buffer to buffer 1 because if I name them that then they have the same number of characters and everything aligns really nicely so I'm gonna say that buffer 1 and I don't know why I wrote this in the other order I'm gonna say this is buffer 1 this is buffer this is buffer 2 so now I'm gonna do these operations I am actually gonna say I'm gonna make this a temp I'm gonna call this not next but temporary and the reason why and so this is buffer 1 which was my previous basically and this year is buffer right which is what gets subtracted out and buffer 2 is equal to that so I could say here just I could just do this buffer 2 is the result of that convolution and then buffer 2 is resolved but there's two problems with this number one is I need to subtract out the values of buffer two so I don't want to overwrite that so I need a temporary one here but plus I also might once I'm gonna have to deal with memory management at some point because I'm making all these extra tensors so now I should be good I have this temporary temporary and but which is the thing that I now want to draw but what is temporary really temporary really is buffer to write buff all along temporary was standing in for buffer all along temporary was standing in for buffer and so now pre a buffer 1 now I need to I need to do the swapping hold on hold on I have some air I've got a mistake here this should be this should be temp yeah so right okay so uh temp so temp apply the convolution subtract out buffer to buffer is actually temp and now let me do the swap the swap is temp and now I think I have some redundancy here so I'm gonna clean this up in a second because I have an extra temporary variable already so temp temp equals equals buffer one buffer 1 equals buffer 2 and then buffer 2 equals buffer 1 so this is the swap this is your traditional swapping algorithm do I need this extra temp temp because do I have buffer 1 stored somewhere if I overwrite it not really so I'm gonna call this I'm gonna call this temp 1 and I'm going to call this temp 2 but be I have this but for one yeah so equals temp all right so this eye my brain is hurting a little bit but basically and so I probably have something extra but I think this is right okay so here's the thing whew i I've done a horrible job at MIT I got to deal with the managing memory but I think we're good now let's run this code and let's see uh current is not defined sketch let us line 24 oh yeah zeroes like buffer 1 there we go temp is not defined sketch digest line 37 oh because I call this temp 1 temp is not defined 41 yes temp.1 tempest not defined 43 temp 1 all right where you get there ok good now I need to add I just need to add a ripple now so what I'm gonna do here all right we need to figure out how to do this so if you recall in my previous videos about tensors these are immutable what I want to do is change a single value inside of buffer 1 sorry this I need to change like I need to change a single value inside of buffer 1 so buffer if if I could do something like this buffer 1 set you know Mouse X Mouse Y 1 if this were just some like sort of magic thing that I could do or I could just set a value because I could change it then every time I click the mouse it's interesting it's not giving me an error it's like an actual function well hold on is there a mouse press somewhere else other is yeah once again I felt seriously how many mouse press do I have Oh Mikey doesn't work let's go back wouldn't it be nice if I could just do something like write function mousepressed buffer one set set the value at Mouse X and mouse y2 one just set that value let's see what happens right so that's not a function these tensors are immutable I can't set a value in them so I could turn it into a variable which is supposedly a way that a tensor can be changed but variables are really reserved for tensors that you want tensorflow J s to optimize with its own kind of internal algorithms the optimized function the training function so really what I want to do I unfortunately I'm going to need to basically pull out all the information change a value and put it back in I think that's gonna be the way that I want to do this here and so the way that I'm gonna do that is by saying TF dot buffer so TF dot buffer it creates an empty tensor buffer with a specific shape so this is the way this is basically taking those values and putting them in a typed array off of off of the CP into a place where I can start like messing with them so what I want to do let's just look at this so I want to say let buffer equals TF no no buffer 1 dot buffer oh I shouldn't have called my things buffers this is bad very bad variable naming let's look at this oh this is actually not what I want this is not what I want this is a function to create a buffer and what I actually want is not the creation of a buffer but I want to look at the the tensor class and I want to look for the buffer function here this is what I want returns a TF buffer that holds the underlying data so I this is what I want I want to get that buffer so let's take a look at that what it looks like so we can think there that buffer came in and it's got all those values now look at the shape 600 by 400 by 1 that's good now I should be able to use this set function let's go look at tension flow yes and what I want to look for it now under tensorflow buffer set value at a location this is the location index so I should be able to say buffer dot set the value 1 I want to set that value to 1 at Mouse X Mouse y 0 now remember the 0 is because I have a I'm thinking this is a grayscale image if it were RGB I might be setting this at 0 1 or 2 but there's only one value there so I think this is right then what I want to do is say buffer 1 equals buffer dot 2 tensor like I just want to turn it back into a tensor so this is me actually manually I've talked about how somewhere in tensorflow dot j s that the idea is that all the mathematical operations happen on the GPU but for me to do anything manually I need to pull it off of the GPU that's me making it into a tensor buffer then I can play with the values and then I can make a new tensor back now again I haven't done anything with memory management but let's see here if this actually works ok the number of the provided coordinates one must mank the much match the rank three value locations the location indices what did I not get right here hmmm let's look at this again ah wait a second hear me IM soo b is writing in the chat isn't in array you just put the coordinates in as arguments so this is probably a github issue that's worth filing on the tensorflow tas documentation because i think this is pretty confusing that this is actually like an optional number of arguments that are all the different index values it seems so for example instead of putting them as an array I just you know it's a rank 3 tensor so I give it the location values 3 more values I think let's see I've clicking let's see here let's let's do a little experiment here let's change the canvas to 10 by 10 or just yeah 10 by 10 let's comment out everything in draw let's let's say buffer dot buffer 1 dot print and buffer 1 dot print so let's look and see let's see if this actually worked oh wait a second do you not see my 3x3 canvas hold on a sec let's let's say background 0 there's my 3x3 canvas that's clear this so it doesn't look like why is this printing it out so insanely I kind of get rid of this processing thing oh it's time made a tenbyten I meant to make it just 3x3 and okay hold on I think this debugging is worth having and all right so let me print these out and let me change this to go back to where I was changing the canvas size so let's debug this let me make this just like a 5x5 canvas let's comment out draw and let me let's actually just do all this and setup and let's say let's just set 3 comma 3 so let me do buffer 1 dot print and then buffer 1 dot print so let me look at this whoops this thing is still running let me go here whoops sketch 33 I need a close out setup yeah so that worked something got set to 1 so that definitely worked it is being set to 1 so that's working okay so let me go back yeah now I do have a sneaking suspicion that whoa would I mess up oh you know what I must not have saved I think I didn't save ah I must not have saved all right it shouldn't be too so people are the chatter asking should be 255 and yeah I know I know what the problem is thank you people are saying it should be 255 if you look at the at the docks if you're using float tension flow digest and this two pixels function will assume the range between zero and one so hold on a sec all right let's give this a try and I'm going to click alright so what's going on here first we're getting some crazy errors tenser values for a float32 tensor must be in the range 0 to 1 so actually this particular algorithm is subtracting values and adding values together I'm not doing anything to constrain the values between 0 and 1 there must be a tensor flow J s operation that does that constraint but it really can't figure out when I'm turning things into pixels right this is all because of this this line of code right it doesn't care as long as I don't turn it to pixels I can have any values in there but if I'm turning it to pixels I have to have it between 0 and 1 so in this case I need to do some kind of constraint like thing so let's look under operations arithmetic maximum minimum no basic math square difference I'm looking for something that will constrain the tensor reverse slice split stacked I'll cast expand pad range creates a new tenser with the numbers in the range provided it includes start putting so this should work right I should be able to use range I think so I can also say temp 1 equals temp 1 dot range something like this I could probably add it in here is that what I want to use are truncated now no no no no this is creating a tensor with numbers in that range what am I doing here clone fill tensor cast clip by value look I just didn't see that range it's not range it's not this is like this is like a actually a way of creating a tensor with numbers in the range provided with a certain step I don't that's not what I want to do all right clip by ah thank you to the chat I just learned that there's a function called clip by value which basically takes a tensor and Clips it with within a particular range I'm construed the equivalent of the p5 constrained function so I want to say dot clip I can add this here as another chained operation by value and just between zero and one so this should do the trick it should be another operation so I've applied the convolution subtract multiply and clip now let's try running this I'm not getting any errors wait oh oh I saw a water ripple they saw water ripple it was there it was fleeting it's not even in the place that I clicked ok so what's going on here dampening let's put the dampening out one just for a second here is there some kind of like pixel density thing going on something is wrong where I'm setting the values maybe it's this I have the axes reversed rows by columns oh this was such about it this is just not one Mouse why mouse X comma zero this is this is what it should be what no oh no no rows by columns right cuz it's a matrix if nothing else the coding trains livestream is a really good representation of what it's like to really as you can see I just I just like hick and everything wrong it's really frustrating I don't even know why I'm doing this tonight did that did I learn anything did you learn anything I don't know but there we go this is not even a faster version no not necessary I'm not even doing this I'm just trying to learn how tensorflow j/s works and I by the way I got a deal with like the memory management is like a massive problem here let's turn this off I don't think Matt yeah I don't think we should put this together as a video I think first of all it's 8 o'clock you should not try this at home I was right oh I'm sorry everybody let's finish this off let's not even let's I mean I just think I think I should come back and do this again I could run a hundred steps at once on the GPU yeah it'll be really fast this I'm not doing anything efficiently here I'm just trying to learn stuff about convolutions let me let's first do some stuff important let me let me put all this in TF tidy because I'm creating all these tensors and oh but I don't want to tidy this is confusing now because I need these I need buffer 1 and buffer 2 there's a way with TF tidy to like explicitly on the powers of 35% okay alright let's just assume for the sake of argument that much you can make this into something I don't know that you should but I'm gonna go back and explain I'm gonna go from clip from value okay I think look there's water ripples in there but they're like off something is wrong so what's going on guess what I have figured it out it took me like an hour and a half but you get to watch this edited version so I forgot something really important in the world of matrix operations and machine learning and linear algebra we always say rows by columns this 3x3 matrix or 3x3 tensor has three rows and three columns in the world of computer graphics I always say X comma Y so X being like the columns the horizontal Y being the rows and so I must change the way that I think about everything and this should actually be rows by columns and then here I need to say mouse Y mouse X all the operations are fine and now this by the way changed during my debugging session from mousepressed to Mouse dragged now let's see if this works and yes look there are water ripples happening there actually happened I turned that I don't know they're so dark I wish I could figure out a way I I set the dampening the damping to one let's put it back to 0.99 and you can see that they're really so hard to see so I got to think about a nice way to brighten them up there maybe there's some other tensor operation I could do to like increase the values but the years are really the main issue TF dot memory what do I look at this TF dot memory dot number number of tensors whoops number of tensors five thousand eighty nine there should not be five thousand eighty nine tensors I need to be cleaning this stuff up so a really nice way I can clean stuff up is by using the TF tidy function which just says hey everything inside of this function I just make this I just make this anonymous function with all of my code and I put it inside TF tidy and DF dieting they busily says like run all this code but tidied up now I'm gonna have a problem here all of a sudden now the tensor is disposed so I really want to keep these so what's the what's the best way for me to approach this another way I could approach this is by manually so I could use TF keep to make an exception to certain things as I'm tidying but let me try to manually dispose stuff so as soon as I do this I don't need a neat buffer one still but for one doesn't go away but buffer to I don't need anymore so I'm gonna dispose buffer two then but for two equals temp one I've right temp 2 equals buffer one buffer 1 equals buffer two so I think actually it's just this buffer two that I need to dispose no no this couldn't be all right let's see here let me think about this getting like text messages right okay unless thing about this okay you got to turn my watch notifications off hold on all right yeah okay let's try to dispose them manually this is gonna be a little bit insane so I'm gonna change this now to temp two and then I is done I don't need temp one anymore and do I need buffer 1 or buffer to still let's buffer one let's let's let's think about that or buffer two so now buffer ah so buffer two should be disposed because I'm gonna retake it and set it to temp 1 anyway now this is bad this is 10 3 now by the way temp 3 equals buffer 1 but for one equals buffer 2 which is really temp 1 whoa so I don't want to oh boy hold on buffer 2 equals temp 2 boy this is terrible this is to keep track of all these ok dispose temp 1 dispose buffer 2 and then this is now also temp to right this is the end result these are the pixels oh but it's making different ones with this chaining so without tidy let me use tidy let me use tidy so hard right I mean it I'm worried about with the chaining without alright well let me not worry about the chaining for a second let's go with my dispose them individually so temp 1 and buffer two can be disposed buffer 2 is set to temp 2 which I still have then temp 3 equals buffer 1 which I have it disposed but for one equals buffer 2 which is this and buffer 2 equals so this is fine this in theory disposed everything except for the fact that I think this chaining is gonna cause a problem so let's see what happens here I still have the water ripples uhoh so I'm still making too many tensors way too many tensors so what if I just what if I do this the only thing I need to keep here is temp 2 so what if I say TF tidy and I'm gonna use the arrow syntax just yeah this there's no way this is going to be a video and then how do I keep I keep okay so then I want to just say TF keep the result of this so tidy everything but keep temptu now set those pixel wise and then temp buffer to is temp to I've kept that I'm not sure let me just say buffer to dot disposed here there's also a memory leak bug which could have been the problem let me dispose buffer to and then ten three is buffer one which has not been disposed and that goes into buffer to and buffer one so this could really just be be this temp to and I probably need to buffer one I don't want to dispose yes I do well that's weird why is oh I know oh yeah this is gonna be a problem what I I guess what I need to say is oh so maybe I don't need keep if I do this I just return the result of that right this is what I could do I'm so close to simplifying this more all right let's see here iiiiii I'm sorry everybody yeah seems to be less still going up now there is this memory leak here let me comment this out so now I have succeeded in not creating extra tensors is this was this necessary I think it was yep is this what this went off the rails more than anything I've ever done I think I have to go home I'm sorry everybody there's no way this was useful for me I think this is just gonna be a live stream that just lives as it lives clearly I'm not staying hydrated maybe this nice thing of water let's see if I actually still get water ripples yeah I'm getting water ripples oh that that I have that memory leak so this is a memory leak which we can we can go to TF where am I going to github.com tensorflow well actually let's go to here and let's click the github issues closed memory leak there we go so this memory leak due to this issue all right alright alright okay everybody I really know I really want to understand this could be two lines yes I think this could be you know what it is it's this microphone I can't program or think well with this weird microphone apparently temp 3 is buffer one buffer one is temp 2 oh I see I don't need that oops there I did it now right because I don't buffer to is buffer 1 I don't need that temp 3 and buffer one is temp to it's just like temp 3 could not have been disposed temp 3 with it it wasn't creating a new tensors there's another pointer to that same one this this if I'm ever going to do it this this uh I mean this I think was useful for me in like learning tensorflow Jass a bit more have you heard of how Adam Savage wears his mic he has a hole cut in his glasses rim that's interesting note m3 wasn't the memory leak it just was an extra variable I was using it to store buffer 1 I don't even remember what I had before now just copied this yeah I was using it to store a reference to buffer 1 because I need to set buffer to to that but in this case because because I could just do that first right I don't need but there I don't need like I'm not actually swapping two values what I'm doing is I'm just saying buffer 2 is equal to buffer 1 but for to buffer to now becomes buffer 1 and buffer 1 is the result of all this math that was done up here ok look at this this is so little code you would think that I would be able to do I think I could start I could do this again if this is a useful so about that 24 hour livestream so what's a quick way for me to make this brighter I mean what's in operation I could apply to the tenser I could multiply it by or I could square it like right I could multiply it by five right I mean this is sort of silly like what if I multiply it by oh no but you have to clip it afterwards well no but the damping let's just add to it let's do something crazy way like that this is like additive blending now all right everybody I'm so sorry I went down I should have known better should have had better judgment and I shouldn't have started with this and I should have done the layers API in the XOR coding challenge but that's just gonna that's just gonna come next I have to be done now it's 820 this I will publish I'm looking at my phone right now oh when the wrong screen all right change the kernel values to one that's an interesting idea let's change them to 1.5 for fun like 0.9 point six whoo interesting yeah the point five is really a magical value all right try to pixels inside a tidy no I don't think I think that's just yeah that's an interesting idea I should try that I don't think that will fix it but ya know it's it's still it's it's a bug yeah just do the normal I posted I beg you what's that thing anyway so let me talk about this other thing I want to talk about I'm gonna actually unlock a feature right now on YouTube I can't pass the location of a literal to a function alright so first of all what's happening with the calendar mmhmm this was a but I wasn't even going to look I wasn't planning on livestreaming this week because I had pieces all week and I usually have Friday evening it's not available but I was able to make it work for this evening but unfortunately I like I didn't waste the time but I could I do a quick just do like a quick coding challenge before I go hold on hold on yeah to May it's clamped to one is the issue I think is one of the issues like what I should do is actually I know what I have an idea pixal pixels equals temp clip by value was that what it was and then do this and then dispose it so I can let the tensors actually have larger numbers right check this out but what did I do wrong Oh whoops no no watch this let me not dispose this for a second okay now what I can do there we go so this this I need to dispose this one I could just I could just I could do tidy there we go yeah no let's dispose so this is like asynchronous this two pixels thing is asynchronous so so I have to dispose after all right so I would have to do this then pixels dot dispose I think this is what I would have to do there we go oh there was a super chat Thank You Nuka Charlie there we go now I've made it brighter so I can see it so much advanced crazy stuff in here you know what I need to do I need to slow down I need to come back fresh energy fresh thoughts and try all this again all right this is good I'm learning tensorflow jeaious becoming more of an expert in it one day I'll be able to say I am an expert in tensor flow Jas alright so there we go so here's the thing I'm just curious for those of you watching right now I'm gonna make this a so I got a couple things to talk about here youtube.com slash the coding train alright 731 I can't believe there's still 730 foreign people watching that would be insane so what am i logged in as myself that's dangerous okay going to community okay so let's dear diary tonight I had very special plans I my dream I the the livestream the topic to continue my tutorials on tensor flow Jas I planned to cover the layers API and show how to train a model to solve X or this would have beautiful instead I just I decided to recreate the water ripples API the water ripples coding challenge with tensorflow j/s it involved so much debugging and me being confused over and over that it took it took hours what should I do Sincerely Yours choo choo Pole okay what should I do now I should leave it be it was a moment to live only in the moment leave it be and move on it was useful but insane do it again as a tutorial now that you now that you know and the other one is just edit edit it together somehow no this is a bad idea don't vote for this one okay yeah the coding trainwreck all right DiNozzo tutorial yeah all right so let's so look at this by the way look at this I now have this thing everyone can see this post sponsors only so let's talk this is what I wanted to talk about for a second this is really really a bad idea I'm gonna go to slash sponsors I'm in my dashboard now so check it out look I'm in the same place so YouTube has this new feature called sponsorships which is oh did I leave you wondering if the last tidy fixed the memory leak yeah sorry about that let me let me check that out so it didn't but it did I think because the memory leak is actually unfortunately there's no way to know because this inherently has a memory leak that I can't fix but this disposing of it should work so there's no way for me to know all right so here's the thing I'm not going to go through YouTube has this new feature called sponsorships I'm kind of curious about it I have a patreon that that people can subscribe to you with some benefits there's a slack channel there I even will mail you stickers or books sign books and different levels which I'm reasonably okay at making happen eventually I don't have any interest in doing exclusive content so that's not something that I'm planning to do but it does help sort of motivate me and also provide you know it just helps to have the financial support so what I'm thinking of doing yeah I could check the amount across one draw loop that's a good point what I'm thinking of doing is turning this on as an experiment and basically considering it exactly the same as this this level so if you want this $5 per month level you can subscribe via patreon if that's convenient to you or you can subscribe via the sponsorships and it's exactly the same if you want some of this other stuff then you would have to use patreon the one disadvantage to this idea that I have one is it's sort of like this probably should just use one platform for the crowdfunding thing but and the other disadvantage is YouTube the YouTube is really I think Pope is is making this a feature in particular for people who do live streaming because what the sponsorship allows you is when you're in the live chat you get a little icon next to your name and you also yeah you get an icon next to your name oh you could use special emojis that I can unlock so so oh yeah 30% is quite a bit but you know I don't know I I like to experiment with these things that could probably turn it off if I turn it on so I'm think I'm gonna turn it on and then I could turn it off let's see if people like the features of it and want to subscribe that way there's no no need to nothing's gonna change in terms of how I make the content that is remaining the same but I can't resist every time I log into YouTube they keep saying indeed while that's enabled let's enable this and I'm tempted to just go ahead and enable it right now let's slowly go through this why not what's the worst thing that could happen alright get started right so what I did here is I made the the the the the benefits our invitation decoding train slack channel coding train stickers continue these are the loyalty badges but if someone wants to make some custom ones for coating train I could do that I added some emojis so if you're supportive you'd be able to use these emojis in the chat custom emoji and then I'm supposed to create a sponsorships announcement video that's what's happening now continue post the sponsors on your community tab yeah continue I'm gonna do this I'm going to turn on well they're finalizing my sponsorship shut up setup this could take up to my channel is now accepting sponsors didn't take 20 minutes did it alright so I need to go and work on the loyalty badges and the custom emojis and the custom perks if anyone is currently a patreon subscriber you are welcome to any prefer giving YouTube your money also you could unsubscribe from pay and you want these emojis nothing will change the only differences between patreon and YouTube sponsorship are and I should really publish something to explain this or make a video are you get the emoji is on YouTube ooh and I got a sponsor Jake Crowley welcome Jake Crowley and look Jake Riley irresistible this stuff is irresistible so I don't do you think is I to be honest with you patreon is not a service that I love it works really well I use it they are they seem like great people trying to really make something that works there's a lot of artists who are supported by patreon which is a wonderful thing there are some issues that I have with how it works that don't aren't perfect for me and it's actually a ton of effort to mail those books and incredible expose thing that I didn't anticipate I still send them because I want to send them but it actually costs about every time I mail one of those books that somebody's international that's signed it cost about 40 to 50 dollars so in the end like this you know it all it all works out anyway I'm going off the rails here was there another sponsor still Jake Jake Crowley is my sponsor oh look at this so I don't know it's sort of irresistible for I'm gonna I'm gonna see so I'm not canceling my patreon I'm not canceling I'm not I'm not using YouTube sponsorships now instead of it I'm trying them both and the YouTube sponsorships let me let me make a little video Oh new sponsors see look at this I think one of the reasons to do this is it kind of encourages people in a way that patrons so let me let me um let me make a quick video to release that Matt you can edit if which I think I can explain this now effectively okay whoops so I think I need to sign in as somebody else in order to see the by the way secret channel if you could find this channel wow I have all these new sponsors cannabis plays Zod Gaming is a secret channel that might be launching soon I'm gonna switch to oh my goodness John Henry I'm gonna switch to that account for a second um so now if i refresh this page it should show the sponsor button how come I don't see that oh no I'm still no well I might as well subscribe how come I don't see the sponsor button does it know what if I go to new incognito window no Wow look at all these sponsors this is nuts welcome zags thank well my goodness Cody garden by the way you should all subscribe to the coating garden with CJ but how come where does the sponsor button show up and where are you finding it if I just go to here oh here I'll go to here oh I see alright alright alright okay here we go Alka it's very nice of you to thank everybody for sponsoring all right no let me get this not now so if I if I go to this logged in as me I'm just curious oh yeah so I could sponsor myself that's fine Kelly Murphy thank you oh my god this is incredible this is employment food wow this is like my worst livestream ever and all of these sponsors are joining this is like crazy I'm so so touched alright hello welcome to an announcement video that YouTube told me I should make so I turned on a feature on YouTube called YouTube sponsorships I actually did this during a livestream that's happening right now you can see the chat going on here I have J Crowley if is the official first sponsor the Kotick trade I mean in terms of YouTube sponsorship so this is confusing because you might be aware that I have this like patreon that I don't really keep up with in terms of managing the website but it is a place that people can crowd fund the coding train so let me say a couple things what do I use the funds for I use the funds to help with expenses of the channel and then I also earn a little income from doing this and you know that's best that's what's going on here and to be honest it actually really motivates me to do this every week because I feel more of an obligation to the patrons and the sponsors now what so this is confusing why do I have these two different things I don't know what I'm going to use for it thank you to all these people who keep sponsoring while I'm doing this right now which is kind of insane but really humbling and nice and I feel I feel sorry you feel really guilty and confused but this is a new feature from YouTube it's very similar to something like patreon right now I'm keeping both of them and I'm not planning to do any exclusive content so all of my content will always be available sometimes a recording session I will livestream to patrons only but then that always gets uploaded later but just you know if I'm trying to figure something out and I need people to watch and give me feedback but in terms of my regular life streams and videos I'm not planning any exclusive content there is however however a separate slack channel so if you are a sponsor I have to figure out how I then can invite you to the slack channel so I'm gonna figure that out and I also will mail you stickers this is the exact so being a youtube sponsor is exactly the same thing as a patreon passenger so if you are a patreon subscriber and want to switch to a YouTube sponsorship you're welcome to cancel you can do boats I don't know why you would want to I do still have these other rewards for like tshirts and books and things on patreon I will leave those up there so they're both things so that's a thing now welcome new sponsor Barney do you get these like emojis if somebody wants to design me some custom emojis and some custom like sponsorship iconi thingies you could do that the sponsorship button is next to the emoji button so anyway so that's a thing now I don't know is this a bad idea a good idea write in the comments if you're so confused about how to all this appropriately and fairly but it really uh you know please don't feel obligated to be a sponsor only if you really like you're able to and it feels good for you to do that it definitely feels good for me when you do it I appreciate it and so I don't know is there a way I can thank all of the sponsors right now pop out chat welcome okay so let me see welcome Barney welcome Kelly Murphy welcome Azumi ku Shiro welcome coding garden with CJ hey you should check out the coding guarding with CJ that's a YouTube channel that I watch hiccups alright by the way I can't believe people are sponsoring me right now cuz I just did I'm gonna link to this livestream that either which was a total disaster I attempted to recreate this water ripples coding challenge using the tensorflow TSS like math engine for it and I really it was it was a disaster so thank you so much to the sponsors who are sponsoring me anyway I'm learning tensorflow TAS in front of you which is I guess a good idea and that's that okay goodbye everybody thank you oh this was the sponsorship video good bye alright um people are asking about the fees stuff so so this is very clear to me YouTube takes 30% patreon is very confusing this is one of the the issues that I have with it in theory the fee is just 5% but it's it's very confusing it's different based on its some formula and I can never figure it out I just basically I just decided like I don't look at it just it's just I'm glad that patreon exists and that I can use it it's really kept me going with this you know I should I should have mentioned like I have a fulltime job like I'm gonna be ok you don't need to subscribe to me sub answer but it is what it is alright so alright let me just okay hold on let me some text messages for my family which I got a deal with having some type to see if I need it at home okay okay if you go to participants in the chat you'll see that it is more than just for sponsors so where do I do that participant well participants ah there we go I see so we can see all the sponsors here all right that's cool close that back I could need to look at all the tools here welcome Bruno all you people are sponsoring I just I feel like I got to do a coding challenge to thank all these sponsors and also to have something to release next week so what I was thinking I'm gonna close that right now so I let's go to close this go to here and let's try this one we just look at this real quick okay this sprinkling a few pixels smooth the image cooling uhoh is this gonna get complicated cooling map uhoh cooling map where's the cooling map I just want to look over this and see like how what is the cooling map oh I see cover it with some smooth pattern sprinkle a few thousand pixels on it oh look at that oh you just have this cooling map that's fascinating oh wow I think I can do this yeah this is no big deal read the pixel from the cooling map P equals add all those together divided by four P equals P minus C and then if P is less than zero cap it and then write the pixels all right all right we're gonna do this I can't believe how many sponsors there are it's an O so sponsor isn't automatic out of Matt automated every month thing I should have said that oh well I should have said that all right I haven't gotten any message back one way or the other all right we're gonna do this we're gonna make this happen yeah that's a good question if I could make people who are patreon subscribers mods or something not sick I guess people are so used to twitch okay saying it's like patreon is I'm alright I think I'm gonna start from my water ripples one right okay here we go everybody welcome to sponsor Ernest G Wilson okay we're gonna attempt a coding challenge here alright drink some water all right I'm gonna cycle the camera okay all right everybody I'm excited I'm gonna do something that's gonna be some coding it's gonna be cool it's gonna be great I should write the water stuff as a shader obviously so I need to do some tutorials on shaders somebody makes somebody file that as a rainbow topics it's probably there already shaders and these should be what I start with okay hello I am very excited for this coding challenge this code challenge is dedicated to all the know the new YouTube sponsors I don't know in the future when someone's watching this video YouTube won't even exist or sponsors but it just happened today and all these people are sponsoring like wow wow Tomica thank you okay what am I gonna do in this coding challenge so this was my previous coding challenge the water ripples coding challenge I made some fixes to it by the way has some errors in the code you can you can find it on github and this is just showing you the water ripples where I'm placing them randomly instead of moving the mouse around and I didn't realize this you can see this is called fire ripples cuz I've already set myself up I was not aware of this but Hugo Elias there was another algorithm a fire algorithm and this is explained in great detail here and so I'm not going to read the whole thing over I encourage you to read over I'm just gonna try to implement it but what's really cool about this just look at it really quickly is it works if you create this thing called a cooling map so I'm gonna create a cooling map I guess like this that's just kind of noisy and Grace Kelly and smooth but you can make shapes and patterns you use an image I think this is gonna spawn a lot of creative ideas so let's get started making this so I'm actually going to just start with my code base from before because that's most of the same things that I need and so if we start here the flames can be made to start anywhere on the screen by simply sprinkling a few pixels most implementations had the flame source at the bar of the screen by the way where does this algorithm come from originally I don't know Oh beeps have to read this page River I got to do this coding Thanks okay so let's go here so first thing I want to do is I'm just gonna kind of get rid of the swapping algorithm and I think let's let's I'm gonna I'm gonna just get rid of this and I'm gonna call I'm gonna just have one array which is actually here's the thing I think I can just use the pixels itself it doesn't look like oh this is the smoothing yeah so I'm looking at this yeah but I need I need to do that I need a current and next I need a buffer so but I think this might actually make more sense for me to do with image buffers so rather than have these twodimensional arrays let's try something I'm just getting rid of everything this is a nice idea let's do this so much we're starting with that code all right what I'm gonna do is I'm going to create a P image I'm gonna just call it buffer one and I'm gonna say buffer two and buffer one is gonna be an image that's the same size as the window and it's an RGB image but for two is the same thing and then just what I just want to do I just want to put a row a bunch of pixels at the bottom that are white so I want to say int x equals zero X is less than buffer one dot with X plus plus I'm gonna say buffer 1 dot pixels and so one thing that I really need I have a bunch of image processing videos that about this is I always if I have an X and a ycoordinate I need to look up I need to find the location in this array and the formula for that is int index equals x plus y times width in this case the Y is the last row so y equals buffer 1 dot height minus 1 you know what I'm just gonna the width and height are gonna be the same for everything so I can just use the global variable whoops so this is the Y and so now buffer 1 not pixels Y index equals color 255 okay so let's look now and I'm gonna say buffer 1 update pixels this is just how I'm getting things started in in setup but for one load pixels and then I'm gonna say buffer 1 oh no I'm going to draw that image image buffer 1 0 0 so and let's actually do I kind of want to do this well let me just let me just run this so yeah you should see it's hard to see if I made it red that would make it easier like let's make it red you can see that there's a red line at the bottom so that last row of pixels is full so this is my starting point so now what I want to do is I need to apply this smoothing step there are a few ways to do this depending on exactly how you want to smooth the image so I could probably do all sorts of fancy smoothing algorithms and Gaussian blur and all that but this is a nice way of just adding up applying a convolution write a little matrix adding up the pixels and its neighbors and dividing by 4 so I'm gonna say and I'm gonna use buffer 2 for that so buffer 2 equals oh no no no I need to loop through all the pixels let me give myself some space down here so I'm gonna now have an algorithm that goes through all the x's and it goes through all the whys and I'm going to skip the edges which I might need us to think of being more thoughtful about this later and now what I'm going to say is I'm gonna say is okay so hold sorry I got distracted for a second but time out I'm gonna have Matt yet edit that distraction out for a second okay so now what I need to do is let me get the color it I'm gonna get the color from buffer one pixels at an index and that index is the same as this formula so that is now cut the color so then I actually don't need I need to get sorry I need to get all the neighbors so this is going to be a very awkward way of doing it but I'm gonna do it this way anyway I could do another loop inside here but I'm gonna do this really manually and then so y plus 1 y 1 and let me put the print just to be consistent this is totally just my own like wanting to be consistent so look these are all of the neighbors X plus 1 X minus 1 y plus 1 not all of the neighbors all the neighbors only the two neighbors to the right and left and the two neighbors to the top and bottom I'm not doing the corners so this is really simple and so now I need to get all of the colors and again I could do this with like apply a convolution and a more thoughtful and creative way but I'm just gonna do it this way and now what I need to do is I want to get a new color which is equal to the brightness of C I'm doing everything in grayscale right now so I'm going to add up all of these whoops plus C 3 plus C 4 I'm gonna add them all up together then I am going to let me see if I'm gonna say buffer 2 pixels and I do want that index the regular index will call that index 0 will just be X plus y times width that index zero is a new is a color with the new value divided by four or I think but I might like to say multiplied by point 25 so I've now implemented this part of the algorithm right that I think I need to put it in a separate buffer because I don't want to overwrite the image that I'm using now right and and then continue to use those pixels so everything will get all messed up so after that's done I should be able to say buffer to update pixels and I don't need to draw this here I need to load the pixels of both of them because I'm working with both buffers and then I need to swap them swap swap swap so I need to say a pea image temp equals buffer one buffer one can become buffer two and buffer two can now be buffer what was buffer one which is stored in temp so now if I run this we should see it's gonna like we should see like it slowly blur away what if I what if I continue to always add a line so let's let's let's write this a function like let's write a function called fire which what it does is it in buffer 1 it adds a row of red oh and the let me actually just make it white because I'm not dealing with a color yet and let's actually call that at the beginning of draw so let's do that over and let's always reset the bottom one down to red all right what am I doing wrong here oh no that should be fine what did I get wrong here I expected to least see something happening like the color spreading up oh convection I'm not doing convection uhoh any programmer where I am not worth my salt oh I forgot to draw B oh I'm back I forgot to draw the image I forgot this whole time I forgot to draw image so we draw a buffer too yeah this is what I expected we're seeing this sort of like blurring of the pixels moving up okay there we go so we can see that that's actually happening I really would like to do this with the RGB values but um that's gonna add too much to this right now so I'm not gonna worry about that okay so now so this is the heat spread cooling is simple and involves subtracting a small amount from every pixel the exact amount depends on how quickly you want the fire to cool well let's say I don't want it to cool at all let's skip the cooling for a second let's go to convection scrolls the image up by a pixel or so where is copy buffer to the screen copy buffer to buffer one scroll cooling map up one pixel all right so let's see smoothing and convection into one you are indeed correct any programmer worth their salt should see that I am NOT worth my salt I did not see it so that is where I'm going to leave it what what very helpful what I want to explain is how to make the fire look really good and incidentally in this next method that okay uneven cool alright so I'm gonna I'm gonna let's let's let's create the cooling map you don't swap you cover copy buffer one to two buffer well yeah I don't I think swapping is fine because I'm really overwriting buffer two completely so this way I'm this way I'm saving memory so I have to take a break here for a second I don't need to swap but but I might as well because oh wait a sec let me think about this yeah buffer one gets but for two yeah yeah I'm just overriding so yeah yeah I don't know K rather than recreate rather than copy everything I can just swap them hold on I'm thinking here what I want to do just looking at this oh right it's just y 1 oh of course ok ok yeah yep yep yep yep ok all right all right ok so let's look down here and aha so this is actually where that convection is happening right it could actually just right the pixel to one row higher and that's what's gonna move it up now I'm not adding the cooling yet so I've got this here and but really I just need to like write it so I just scroll it up I just need to like change this index 0 to this one should actually be Y minus 1 so in this case it's really the same as index 4 right that's the same as index 4 but yeah you know why not have it as a different variable so now if we run this you can see there we go look the fire is burning now interestingly I expected it to overwhelm everything right because I don't have the cooling in there what am I doing wrong here brightness 1 2 3 4 let's just check this 1 2 3 4 1 minus 1 1 this is actually no point in doing this in draw because I'm never actually iterating the bottom pixels oh you know what the problem is no actually I do need to do because I'm swapping no buffer buffer to never gets so actually if I want to be sort of thoughtful about this I should just always have in both of them right because I'm swapping the memory back and forth and so like the bottom should always just be a row of white pixels and then whoops I and then I need to make sure I set that up at the beginning same thing same thing so what I guess maybe I should do two rows two rows of white pixels so let's do this twice just to sort of test this idea out there we go this is what it more like what I was expecting okay so there we go so this looks more I just didn't like really give myself enough white pixels at the bottom so now this is just filling this up I'm not seeing any fire so let me be a bit more thoughtful about this so I'm gonna actually give this a set of rows and I'm gonna say I'm gonna have another I'm gonna use I and J here actually I'm just gonna use J it's the second one J equals zero J is less than rows J plus plus and then Y is equal to height minus J and I think I should be able to get away with just putting it in buffer one so I'm always gonna add some white pixels to buffer one so I'm going to say fire two let's look at this y equals hi oh this should be height minus J plus one all right there we go okay so that's the fire growing up from the bottom with setting two rows and now if I want to set like five rows to white to like have more fire you can see it's sort of mostly the same effect 50 but you can see you know that's just how much white I'm putting her all right so this is the fire burning now the exciting part is coming now what I need to actually do is this cooling I need to create a cooling map now does this look like anything to you familiar to you I mean I could make something in Photoshop I could design a shape I could have RGB it there's so much I could do but this looks like a Perlin noise field to me so let's quickly make a Perlin noise field and in fact I mean I could write the code for this but I've done this before Perlin noise 2d Schiffman processing like if I just go okay wait wait wait wait wait noise 2d this code makes this kind of pattern and I have videos about why this works and how this works you can go to my Perlin noise tutorial but what I'm actually going to do is I'm just gonna grab this code right here I'll close that page I'm gonna close this we go back to processing and I'm going to make another P image called cooling and I'm gonna write a function called cool and I'm gonna say I'm gonna call cool and setup I'm gonna paste this code whoops shoot actually I don't know why I went to the website when I could just go under processing examples and I can go find it in topics maybe it's under math how come I don't know where this is Oh basics maybe it's under basics math noise 2d there we go so I'm gonna grab this code we're all this code right here let's do this again Mattia thank you for editing for me okay let's just go back forget about all right let me find in examples let me just find this in examples here we go it's actually under basic so let me do this one more time a better place I'm just going to grab the code from processing examples I'm gonna go to file examples under basics under math I'll look at this noise 2d and now I'm going to grab all of this and I'm gonna put this into the cool function but I want this to all be operating under Cooling's so cooling cooling is another image look at this has the same number oh isn't that a beautiful thing it is the same number of characters as buffer buffer too so it's another one of these images then the cool function I'm gonna say cooling dot load pixels I'm gonna forget about noise detail and just let it be the default settings I do need an increment variable I don't know how I lost that let's make that point what was it in the example oh I already closed it open recent maybe yeah there we go Oh 0.02 let's use that 0.02 and there we go now I'm just gonna say cooling dot pixels cooling update pixels let's comment out drawing the actual buffer and just draw cooling now so let's look at our cooling map there we go so that's the cooling map there it is over there and I could play around with this by changing the increment value or blurring it or changing noise detail I'm just sort of curious let's make this point one but so good enough right so I'm gonna leave that as my cooling map then I'm gonna switch to showing buffer two and now I just have one more thing I need to add in here what I need to do is subtract the pixel from the cooling map so all I have to do here is now go and say all right color C 5 equals cooling dot pixels ah here we go so actually I really do want index 0 because I wanna write when I subtracting it from the cooling map is actually at X Y write this X y 1 is just for moving sliding everything up so index 0 should actually be this and then secretly I'm gonna use index 4 here and then here I'm gonna use index index 0 and then I can say and and we could we could call this P right why not and then P equals P oh no no P equals sorry new see is that this is C 5 now new C equals P minus C so that is new C minus the brightness that's in C 5 now my naming here is horrible I think I should refine maybe when I post this code I might rename a bunch of these variables to make it more clear but now we should hopefully see some fiery looking stuff all right hold on let's just do 5 it's kind of the sliding seems to not be happening the way I had imagined yeah let's see here so this would be interesting to randomize the bottom as was being suggested let's yeah but what's going on I think something with my swapping is off your cooling is too high yeah okay hold on let me go back that's probably it so it looked like it did something there but I someone in the chat just said that your cooling is too high which is probably the case so let me look at how I'm making this and let me just make these much less bright yeah but why oh you know what I think it's fixed so it's like fiery but it's not it's fixed because I'm only ever adding the exact same amount of the exact same amount of kind of like white to the bottom every time and it might actually I probably want to add fire more in a more kind of random way it's fixed also because I'm swapping I shouldn't be swapping okay hold on the swapping is it's always the swapping always gets me yeah yeah it's not moving in time oh right ah oh of course I do don't want to swap I don't want to swap I want to copy but for to to the screen and copy buffer to to buffer one so what I actually want to say here is just say this is me copying it to the screen and then say buffer 1 equals buffer to get that's the same thing I could regenerate the cooling you want the clouds to have black gaps so I see probably using Perlin noise was bad yeah so we the swapping is fine it's unnecessary but it's fine whew whoops what did I just comment out oops oh whoops okay Pearlie noise was a nice idea you know what the problem is the problem is so Perlin noise Perla noise was a nice idea the problem is Perla noise even with me ramping it down to 100 is you need to have some black gaps like any just much much less white in the picture so I think what I'm gonna do is I'm gonna do something like this and then I'm going to say if I'm if n is less than like point 4 just set N equal to zero so and then yeah maybe I should make my cooling map this I thought would work much better like this is now the cooling map whoops actually you know it would be useful is for me to what would be useful is for me to say 1200 by 400 and have with equals 600 and just keep keep track of these in separate variables because then then if I do that I can look at them both whoops something went wrong there we go so I can look at the cooling map next to the fire I need to scroll the cooling map I need to look at the chat it's cooling map by a pixel oh oh look what the Train just brought in more instructions about the algorithm that I didn't bother to read scroll the cooling map up one pixel guess what I could do you even better because it's Perlin noise oh boy this is exciting because it's Perlin noise I can actually have why off I'm gonna call this like why start equals zero point zero the Y offset is going to start at Y start and then cool and then Y start is always going to also go up by increment and so now if I call cooling cool in draw we should see this scroll that looks sort of what is this kind of crazy what I'm doing okay so a couple things now let's let's see if setting the Perlin noise back to something much brighter makes sense and maybe I don't need to set so many rows this looks much more like fire in an interesting way and also maybe I don't need to worry about this capping thing so much I was too worried about that it's still much too white much too bright right it looks a little bit more like fire now down there and I could now I could try let's making this let's make this less bright there we go look at my fire effect I also feel like it's kind of kind of slow let me where's my cooling image let's make this even less there what do we think kind of firing now so this looks kind of fiery whoof so I made this now I think you could do so much more with this first of all like my fire algorithm what if I just picked lots of random points so for example what if I just said x equals a floor random with y equals floor random with and then I did this whoops Oh height and this should be double UNH so what if my fire algorithm just sets an individual pixel well the thing about that that's just one pixel so what if I were to do this what if I were to set a thousand random pixels whoops mmm that's not good you could see like wherever I at the bottom it's sort of well this is crazy it's interesting what this is doing yeah I think the random pixels all around here so what if I instead did what if I also all right so hold on I have an idea whoops this was supposed to be in here yeah the outer pixels are never up to he'd have a buy of an edge problem definitely have an edge from I don't like the random pixel idea let's go back let's comment that out so I think it really needs to be a collection of pixels so you I could probably draw a small oval of pixels one one thing that could be a good way of doing this is actually to make these P graphics objects is it gonna like just let me do this what if I make these all graphics objects I don't need RGB anymore we make these graphics objects why does load pixels fail on a graphics objects oh because these are now P graphics I'm going to make these all P graphics objects and make this P graphics you'll see why in a second no it still didn't work yeah draw an elephant yeah P graphics I guess is not gonna work I thought I could call load pixels on P graphics so I need to say begin draw yes okay hold on alright matsya we're gonna edit out that hold it that whole part about like setting random pixels cuz that's not super interesting but I do think that so let me just get it back to what it was alright so do I want to do anything more here what I wanted to do was like drag the mouse around and add areas of pixels or click the mouse and so let me let me try to do that ok I think I only need to do that to one of them ok there's a lot of things you could do here now with this you can add color you could be more clever about how you make the cooling map with shapes and things in it let me show you one avenue that you might not be thinking about I think so that could be effective here is if so what let's just think about this fire thing I have to set pixels to white in order to start the fire I didn't I did start the fire we didn't start anyways so what if they'll buffer one we're not a P image but a P graphics object let's just bear with me for a second I would say create oh these are all gonna have to be graphics objects if I'm doing this at least buffer 1 and buffer 2 so let me make buffer 1 and buffer 2 P graphics objects because these and then I don't need to specify RGB but I do need to however I believe say buffer 1 begin draw some about to work with the pixels and buffer with the graphics I have to specifically say begin draw and and draw in addition to load and update pixels and so here I think I'm gonna have to say that for buffer to begin draw because I'm operating on the buffer 2 pixels but for to end draw let's just see if this is exactly the same oh and this has to say P graphics so this should be the same ok it's the same but I've done some really exciting here because what I could do is I could now also say I could add Mouse dragged and in Mouse drags I could say buffer won begin draw buffer one end draw and I could say buffer one I could say buffer one dot now I can do anything that's in the processing API I could say fill 255 buffer one ellipse Mouse X Mouse Y 100 100 and actually let me make this mouse pressed and let's see what happens here so now when I click the mouse yeah oh wait there we go look what happens I so oh that is wild so hold on let me swap where these are being drawn so now right anywhere I click it kind of makes it starts to fire there so let me let me make this mouse dragged oh and let me get rid of the stroke but for one no stroke so you can see I can kind of like seed the fire however I want now again I'm just adding circles so now the whole world is open to you you can create your cooling map in an entirely different way just to remind you I this is what my cooling map looks like but you don't have to use Perlin noise you could actually have shapes in here and that you could make this a p graphics thing and draw into it and blur somebody suggested an elephant so you could make up sort of flaming elephants elephants like fire anybody please be nice be kind be kind to the elephants but you should see you can start the fire on the bottom you could add fire by through by drawing with the there are so many possibilities here so I'm done with this I want to see your creative variations I want to see your versions that use full color RGB and I want to see your versions that cleverly like incorporate shapes and text and other types of imagery so make them into gifts tweet them hash tag coding flames I don't know dare dare I look twitter.com slash hash tag coding flames all right I think we're good no results for coding flames so code your flames and enjoy alright I'll see you in a future video thanks for watching alright so where do I want to leave this off let me put this back to this actually I think what it would've been more interesting by the way I just want to put this in draw itself if mousepressed oppressed so now you can see if it's there permanently it's kind of more on fire all right this is the end of today and I it's 940 p.m. what am i doing oh my goodness what happened I don't even know what to say I think that this can be made into a coding challenge let me let me do a nice screenshot thumbnail like so the thing about the thumbnails is let me make no not enough after a while it kind of starts to look like fire though just I'm gonna make a thumbnail and I think it works best when this stuff is at the bottom because then and I probably should make it have color now whatever it's got a I don't I didn't do it in the video it's fine alright so I think this will work as a thumbnail because then the coding challenge text can go up here okay something there will work all right sort of more smokey than fiery so I'm encouraging you so thank you to everybody who like sponsored the channel during this live stream that's wonderful that was really exciting and nice and um yeah I should do the damping thing instead of just reducing the whole value like the current code does what's that oh you mean I should this what does that do all right I don't understand you also been a community contribution pull request oh I see do this and then scale it by 2255 oh my goodness that is way better I see okay okay oh look at that all right let's make some new thumbnails oops well I gotta get my thumbnail going it was better for a second ago well no let's dampen it more I could use the power function I see so there's so much this is this is interesting okay let's say power and you know I should really do a 3d noise to wipe n to the third palace to do this probably not gonna make that much of difference with the thumbnail okay but if I the other thing would be interesting would be to do this is this gonna just be weird or it'll be interesting no that's just weird yes it doesn't make it doesn't make that much of a difference cuz it's just yeah okay I think the skills were fine I'm like upset okay I gotta go I gotta go thank you everybody for watching make it faster I you know it you know it's actually um that's actually I am sort of curious it does appear to be running quite slow oh yeah I think it's just because yeah I'm computing the noise every frame there's lots of ways this could get optimized but I'm not gonna worry about that now alright so decrease P by constant T all right thank you everybody oh yeah the scroll could go faster that's for sure I will see you all I'm gonna be livestreaming the ITP show which is my Student Center semester show on Tuesday and I don't know if there'll be another livestream next week I will be coming back to all I feel like I need a break from all this stuff because how much I kind of messed it up so I'm gonna go I would like to I didn't even eat dinner totally lost my mind here I do want to erase all this sometimes when I leave the stuff up here it's very hard to erase and I'm gonna erase this also and I will I wonder what happened with that pole by the way let's just look at it for a second I'm in the wrong screen no hold on switch account o yo D gaming now has 34 subscribers oh look I see now I see the buttons here what happens if I click that interesting community oh alright I kind of like this feedback that's nice feedback yeah by the way there's not very many people watching right now but I did you are people aware of video grep video grep is a project by Sam Levine who's a researcher here at ITP and it allows you to make like Supercuts and do all sorts of crazy stuff I picture this if anybody wants to try video grep on my entire youtube catalogue and make some weird Supercuts that i would be curious about that my voice is gone alright so I don't know I can't believe the batteries lasted on this microphone it's still got two bars I thought that was gonna go away for sure oh okay so I'm sorry I didn't realize that there are 500 people watching I know most of those people are not actually watching it's just been left it on their computer they've walked away it's almost 10 p.m. it's dark outside I have to get home though if the subways even still running it's like way past my bedtime I didn't eat any dinner I basically just send it into madness trying to make water ripples in tensorflow jas thank you all thank you coding garden you're welcome for the shoutout and I'm gonna go I'm gonna go I'm gonna go I'm gonna go I'll see you yes I'm gonna go I have a cough everything's going wrong all right I'm gonna go I am gonna play the trailer and be gone no I'm not gonna play the trailer no one wants to watch the trailer make the fire red all right this microphone we wanna make some crazy idea we'll figure out what it takes to make that dream appear will understand Oh