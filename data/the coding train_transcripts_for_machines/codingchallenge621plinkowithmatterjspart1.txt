oh all aboard it's right anything here on the Coty train and I am here ready to create a coding challenge and today's coding challenge is going to be AI never mind never mind all this nonsense Plinko so I'm going to attempt to make Plinko I'm using a physics engine known as matter AF what is Plinko you may ask good question I don't really entirely sure but I think clinco is a thing where you have a bunch of all that that fall from the top of to dimensional it's a physical thing you drop the balls at the top there's all these little things that they bounce into and they end up somewhere in the bottom husband's parable explanation should redo this whole video I'm going to make it and then you guys can pull if you don't know what slinko is pause go try to look it up and then come back okay I have a sort of vague idea in my head okay so yes and I'm being reminded by out getting the chance to stay hydrated now that I've lost half of the people who maybe we're going to watch this video the rest of you let's go okay so the first thing that I want to do here is boy let's hmm try to think about this here there's a lot of pieces to this boy this it's gonna be hard let's think about this over on the whiteboard for a second okay so how does Plinko work I can use the whiteboard to explain it let go is the same where there is a grid of stationery I call them like not really I think each row would be offset from books offset from the one below it so it'd be something like this all the way come on and then the idea is that you would drop things from the top and it would fall right down and bounce here and you know ideally the ideas would be a 50% chance of it going this way and a 50% chance of going that way then it would hit here and there would be a 50% chance of going this way versus a 50% question and interestingly enough if we do this correctly which I'm sure we won't forget we've is me I'm so Jeff I'm gonna do it correctly we would see a nice normal Gaussian distribution of they'll and like they would mostly land in the center with a few outliers boys there's some like TV show now called the wall I should just put like I kept like a crate some sort of like clickbait titles video but I'm not going to do that so any idea so then they'll fill up in the bottom we could use this so like you know you wouldn't certain amount of money or whatever so this is a simulation so what I need is I need some mechanism for catching everything in different slots so these would be kind of stationary in the physics engine I can probably make these stationary rectangle if that's the thing then these would be ecstatic as the word I'm looking for static circle objects that are around and then I'm going to have dynamic circle objects falling from the top so I need really three kinds of things I'm going to call these particles because that's a good name for them I'm going to call these Legos because we're making slinko and then this is going to be a bucket we'll call these buckets to catch the thing so I need to make three kinds of objects and some kind of planning this out I guess I know I'm going to need a raise for all of these things so let's sort of see how that goes let's try making just the particles first okay so what I'm going to do is oh the cup is in front again sorry everybody I have a you don't want to know what's going on here with my multiple camera system craziness okay so what I'm going to do is I'm going to add a JavaScript file and I'm going to call it a particle J s and i'ma say function particle and I'm going to when I create a particle the things falling from the top I want to create it an X Y location now here's the thing I'm using a physics engine called matter yet and I already have in index.html a reference to the matter Jas library now I also have a reference to the p5.js library that's the library of using for drawing and that's the library that I use with just about in many of my videos almost all of them but matter dot you have to do and if you want to learn more about matter dot yes I will link to a set of tutorial videos about mat or separately I'm just going to kind of rapidly go through adding stuff from mat or without maybe explaining everything but I do tutorial videos okay now I do need to go to the matter touches website and I want to Google matter getting started maybe wiki because I know that this is going to have some of the code that I want on it like this for example so one thing is matter is a library where all of the objects and functions that you might call a call from our name spaced they all start with matter dot something and I'm going to definitely eat an engine in the rent I don't need a render actually because I'm using p5 an engine a world bodies so this is a way of just sort a Lea Singh them sort of the same matter dot all the time and so what I need is I want to have an engine I want to have a world I want to have a bunch of particles that's what I'm starting with engine world and a bunch of particles okay so engine equals matter dot no no engine create I don't know world equals engine dot world what's the chance that that's right so I need to create an engine and then I want to reference to the world at that engine create it sort of seems unlikely that that's correct oh it is correct engine equals engine that create and the world is you can see later engine that world ok great now what I want to do is I want to start creating some bodies so the way I'm going to do that is I'm going to say VAR p equals a new particles and I just want to put it it at the top in the middle 300 comma 50 so I want to make a single new particle now I'm calling the new particle constructor function so over here now what I need to do is I actually need to make a something called a body and body comes from body stuff so bodies is a thing that matters a chest will make matter as the physics engine it's going to handle moving everything and doing all of that so my particle object is just a wrapper for a matter jf circle thing so I want to make a matter a a circle thing at X&Y it needs to have a radius this dot R so open up this on our art so I think I think that's right so I should look in the documentation I know have managed is memorized so I'm going to have to pull up the documentation here go under documentation go under bodies and now I'm looking for circle XY radius now there's options and all sorts of other things which I might get into but this looks like I'm doing well so far here X Y R okay now the other thing I need to do is I need to say world dot add world this body what's this doing I have to not only do I have to make a body that's a matter body that can exist and have physics I need to tell the world that it actually want that body could be in the world seems a little bit redundant but you know you might want to make objects that you don't actually present will participate into physics yet so those two things are separated and then I want to write a function where I can display it and I should I should use that let's use the prototype thing I have some videos that explain prototypes to lips throw caution to the wind prototype dot show equals function so if you're wondering about this prototype that way of attaching methods to objects I'll link to a video about prototypes but this is a way of saying particles all particles are going to have a show function and in the show function I'm going to say what am I going to say I'm going to say fill 255 Stroke 255 ellipse and where is the body here's the thing normally when I make an object I give it an X and a Y or a position vector but not here right now I am relying on matters a chance to do all the physics for me so it's up to me to say hey you know that body that's a matter judge as body could you please tell me what its position is currently and then I can say and you know what I'm going to do I know that eventually I'm going to want rotation so I'm going to say translate this posix pause dot Y instead of setting the ellipse to that location and then I'm going to draw the ellipse at 0 0 and I want to give it a diameter which is its own radius times two now this guitar doesn't actually exist so I don't think that some unhooks and I have got an error there I seem to remember looking at the matter digest occupation as a circle body doesn't actually track of its radius in a property so I'm just going to make an extra property myself to keep track of it and that way I can draw it that way so now I've made a body I've added it to the world and I showed I have a my own particle object that is a wrapper for a matter de s body essentially so now let's if I go to sketch data and I just say particles dot push P and then I say a peep show let's see if it shows up I hope so I hope so hope so I hope so I would do my drumroll thing now but that doesn't never seems to work okay particle is not defined I always forget a few add the reference to the new JavaScript file yeah and the sound was laggy the new javascript file to the index.html smooth so I need to add that here what did I call it particle gif so I'm going to add that here okay now I'm hit refresh okay what did I miss cannot read property body of undefined at objects I must have done something wrong oh I forgot to add the are I added it are and so it needs to have a radius otherwise what's it going to do well let's see if that fixes it I'm guessing that big stick and now we're going to see the particle there we go so there's the particle that single particle now it has no physics why does it have no physics well here's the thing a physics engine requires me to say hey go to the next moment in time move ahead in time and time can mean a lot of different things but it could mean realworld time it can mean frame spot of animation in this case I want to tie each frame each time through the draw loop to a new moment in time and the easiest way to do that there's there's a lot of options that you can configure this is I'm just going to say engine update I think that's all I say engine update oh maybe I have to say engine update well let's try engine dot update does that do it no engine an update is not a function engine update engine it might be that the function update is namespaced in and then you pass in the thing you want to update that's it okay so you can see there's my Plinko particle falling down so we're in good shape we've got the Plinko particle now maybe what I want to do also is just to kind of is to do something like let's have if frame account modulus 60 equals zero so modulus is the remainder of division so this will equal zero when frame count is zero 60 120 180 240 300 et cetera so I'm going to say add a new particle every 60 frames which is approximately two seconds let's do this a show of undefined Oh right and then silly me I should someday use a for each loop but right now I'm just going to loop through all the particles and show them and here we go so now we should see two seconds in about two seconds later oh boy something must be wrong here I'm kidding where are those Winco particles if frame count module is 60 equals zero add a new one that looks good to me what have I done wrong let's console.log frame count just to make sure that's the thing yeah looks like oh it started with one by the way so I'm not sure why what did I miss oh I know the problem is you guys see it now look right here it's right here right there translate pause that X pause that Y so I knew I was going to add this earlier when I was doing it I saw that ever so translations are cumulative so when I translate to the position of one particle the next particle I draw will be relative to that one and so these are all getting translated way off the screen I need to not have them be relative to each other rather I need to say push anding to say pop and now so what push and pop does is it's like stays translate restored so it undoes the trans and now if I go back to my code there we go look at all my slinko things every ten frames my little Plinko particles falling down so we can go back to sketch and I can take out this console.log nonsense and I can put it back to 60 and we can kind of there's still another console.log happening where's that other console oh particle set length and so we can see here and still it's upsetting me that there's not one at the beginning so I'm also going to what I'm going to do is I'm going to write a function new particle that just does that those two lines of code and look and I'm going to say a new particle here and I'm also going to have a new particle instantaneously in set up at the very beginning so now we get a particle and two seconds later we get particle the two things later we get particle I'm a little bit behind okay now the nice thing is the chart the physics is already working as you might have noticed when I made this look if I make this every five frames you can see they're kind of like hitting each other it's a little bit funny that's a little bit like I'm a weird but but let's we're going to get to more physics later okay now I'm going to do I think I'm going to do this as a twopart challenge so so let me go a little bit further let me at least add the stationary cling coats so I want to now try to add these stationary pingas and the truth of the matter is I could probably reuse this particle object and just make particle objects here and give them like an argument that systems is static but I'm going to make some seriously redundant code just for like sort of ease right now they could think I could use inheritance in a nice way to have them relate I just want to make a separate object that just keeps track of these stationary plane goes because I just want to treat that differently so that's how I feel today okay you can you can you can refactor my code later to make it better okay so let's come back here and let's go to particle jet and I'm going to do save as this is really I'm a little bit uncomfortable what I'm doing here I'm going to say Plinko Jas and I'm going to say function Plinko and please go I really should use inherited 0 come back and use inherit another time Plinko dot prototype dot show and something I'm going to do here is I'm going to add another variable called options so when you create a physics object in matter gif in addition to giving it that circle body and XY and a radius I can give it some options and the option I want right now is static I want an editing know I'm adding the right file is static truth so and then I want to pass this fourth argument as options there might be a way that I could just make all these options actually could I make the XY I don't know if that's your but anyway that for targeting options and there's other options I'm going to be I'll add later like friction and other physics settings but let's leave that up for now okay so now in and here's the thing I could prop of matter J s also has these iconic concept as a composite so I could tell it to make a stack of things with rows and columns so I could probably use that let's look at that for a second now I just have to kind of I think that's great but I feel like I just need to like set them in my own location right now without using the composite thing so I'm going to say Bar plink goes and what I'm going to do is I'm going to say for VAR x equals let's do the I and J actually I equals 0 I is less than let's make the Plinko thing 10 by 10 maybe or 10 by 5 I don't know 5 by I don't know what should be I should have some variables for maybe column let's do that and a rows and so we're going to this many columns and then I need a spacing so I'm going to make a sort of a double loop here a nested loop to go through all the rows and probably rows should be on them outside actually whatever I'm not so sure just yet because I I is the X so I say I think the way I'm going to think about this is to put I on the inner part of the loop so I'm doing a nested loop right because I want to say set all of these then go down here and set all of these so for every road you all the columns next row do all the columns or for every Y do all the exits ok so now what I want to do is I want to say var P equals new link go at I times spacing comma J time spacing I haven't figured out what spacing should be but I just want to know I don't want to be at every column in row location with however far apart they're supposed to be and let's just say right now spacing equals the width of the window divided by the number of columns but really need five across them so that's about the spacing I'm sure I'm going to have to massage this a little bit and then I'm going to say here Plinko dot push P so now I'm adding the PUD ghost I like the word Plinko it's just a great word pick Cokely Cokely go let's make a slot about glucose and now I want another loop here to go through all of the plink O's and show them and just to be 100% certain that they're different I would like to give it like a different color or something so let's make them like a green color color not being my strength here but let's just do that so what's going on now what's plink plink is not defined so a lot of things I probably personal I don't know where that happened whereas I say clink clink is not as good of words point go so much for further word plink plink plink go and now I'm going to go to index.html and I now I need to remember this I remembered it this time I need to add a reference to Plinko and now I'm going to refresh it and what am I missing cannot read got some sort of like thing that I forgot already again I probably forgot the are again right I probably forgot to pass in a radius I certainly did so let's give each one of these things that's separated by spacing a radius of four pixels and now I don't see anything I see these things falling I wonder if I have an I and J issue I'm seeing they're called pegs I've been told in the chat by C community that they're not called windows they're called peg that would be a good name for them okay fine the whole thing is Plinko I times spacing J times spacing I put J IJ is less and rows columns rows looks reasonable let's just look here do I act let's look at the array let's make sure it's built full of stuff and we has one thing in it that's a little bit weird oh and look at it it's all the way up there which makes no sense what so so plus equals spacing in the forloop i/o column no no no yeah this is wrong the whole point of doing this is I want to be able to think of the rows and columns as individual numbers I and J 0 1 2 3 4 and I when I'm drawing to the screen I want to add the spacing aspect so now we can see how they're now it's not in any place that's logical so one thing that I need is for the center column right I need it I need an odd number of columns well I don't need an odd number I need a column to line up with where the thing is falling I need to have one of these columns in the center so let me think about how to do that and also I want the particles to start at the top yes so particles starting at the top and I want I need to make the whole thing much taller so let's go down to 800 pixels great so that we can see it's going on to 800 pixels I want to shift everything down right everything should start at and I'm actually going to do this bar x equals I plus 1 times spacing because no no no no no X is fine at I time spacing and Y should be spacing plus I times spacing just to kind of offset everything by and then I'm going to put x and y here this will make it a little easier to work out well what did I do wrong there spacing plus a J thank you very much ok so that's a little bit better but I also want to shift everything over by 1/2 of spacing I think so I want to shift everything over by spacing divided by 2 there we go ah look at that so ok so first of all couple things it's pretty great actually look at it just like get stuck and kind of roll over so one thing is ah it was going to be a simple gonna be a puzzle here of having working out the spacing but one thing is let's give these things some balance so the way that we think gives things bounce in matters is is by working with the friction and rest so restitution is a term for elasticity a high restitution will make it very bouncy and so what I want to do and this is why I should be using is I want to add this options thing both to particle and Plinko which really should be a peg and this is these are not static I'm going to just work only in the particle for a second restitution and I want that to be one which is as bouncy as possible so let's just add that options that didn't really seem to change anything right so let's also let's get rid of any friction so now the particles should have a high restitution and no friction that's a little bit better right you can see it's kind of bouncing but I probably need to work on the peg so I really saw those police codes the peg so let's actually take these same variables I'm not sure what it would do here to have four different amounts but let's uh let's add a high restitution and a low friction also to the the peg it really would expect this to be more bouncy with those numbers what Medicus hasn't gathered I spelled restitution wrong I said one of the things about JavaScript it's not going to tell you this is a really unfortunate thing if I was working in another environment I'll be like I don't know what that is rest is to shun restitution what's the chance I got that right now restitution falling there we go Boing Boing Boing Boing Boing oh it's gonna be fun sound effects of this so you know we could see now we've got something we've got these things kind of bouncing along here now they're all taking exactly the same path how are we going to get it to have like a 50% chance of going why is it going to the left so interesting this is super inner lips okay well first of all what I want to do is I want to shift every other row um so let's let's uh let's maybe reduce the restitution a little bit yeah that's a little bit better and then let me alternate where the rows are so what I want to do is in sketch jf I want to say every other row right which is if J is the row right if J modulus 2 equals 0 then so so then let's or equals 1 it's got to be a nicer way to do this so I'm setting X then what I want to do is X minus equal just sort of like take that I let's do it this way X equals I plus spacing and then if it's an even row then I'm going to add in offset it by spacing / let's see if that works there we go so this looks a bit more now here's the thing I probably need to really calibrate this in some way that they kind of you know balanced but let's just let's not worry about that too much and let's actually just make this let's just give ourselves a lot more columns and rows and see what happens and why is the top one now oh good it's not even I want to have 11 columns yeah there we go so and I think I want so there's going to be some majors that's probably like a specific layout that is going to work pretty optimally well but this is a good start so this completes part 1 of this coding challenge and what I'm going to do in part 2 is I'm going to do a couple things I don't know what I mean what am I going to do in part 2 I'm going to add buckets to the bottom to catch them and maybe think about the layout and spacing a little bit more okay so that's what I'm going to do in part 2 you