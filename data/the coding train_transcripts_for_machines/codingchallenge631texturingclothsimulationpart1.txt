memories like the corner of my mind is that that is that those lyrics I'm not sure you might you might remember me from my name is Dan schiffman you may remember me from coding Challenge number 20 I think it was number 20 a 3D cloth simulation so this is a coding challenge I did a while back and I would like to update this coding Challenge and one of the things I want to do is put an image onto that cloth and I want to make it more of a flag simulation so I want to to sort so think about you could get the your the flag of your country and you could texture it onto this cloth thing and have a waving flag simulation so that's what I'm goingon to do but really underneath the hood here here's what this T this this coding challenge is about it's kind of a tutorial about how to texture geometry so how you can create arbitrary geometry arbitrary polygons in processing and then texture them and so that's with an image and what I mean by texture I mean take the pixels of an image and fill the geometry with those pixels as opposed to just fill with a color so that's what I'm going to start with and I'm also going to introduce you to a new friend of mine named Unikitty but I'll get back to that later go over to the Whiteboard for a second okay here I am and uh uh okay so what am I talking about here so you can load an image in processing by saying load image and that image could be a file like file. jpeg or file.png if you call load image and put the results in a variable like IMG you can draw draw that image to your canvas by saying image and then passing in a reference to that variable and give it an X and A Y and then you're processing window canvas you will see the wonderful kitty cat I cannot draw at all but that actually wasn't the worst in the world if that's a kitty cat right you're just G to have to bear with me I'm just going to draw it again right there you go load the image into a variable draw it there that's just drawing the actual rectangular pixels of the image exactly as it is in the file something else you can do in processing however is you can use functions like begin shape and end shape these are functions for I want to draw my own arbitrary polygon or path there's a lot of things you can do with begin shape and end shape it's vast sort of possibilities but in the simplest level what I can do in this function is say vertex X comma y and then I can say vertex again X comma y boy this pen is terrible I'm back and I don't have another pen but I will in a future video so I can set a bunch of vertices this can be a long long long long list so what does this do well if these are all XY points like XY here XY here XY here XY here XY here XY here what I've now done is I've created a polygon that is a connected series of vertices and I could do that algorithmically to make a kind of flower pattern I've probably done this in a lot of other videos but what's new here is what if I want the kitty the image to be so I could say fill right and this whole thing would turn green but what if I want to say uh IM what if I want to texture the image into this shape so I can do that by calling the function texture and passing it that image the problem is it's not really a problem but the the thing that you might not realize is it in some level it's as simple as that but it's not because you can say texture this shape but it doesn't know where which pixels to put where so what you need to do for every single vertex is not just give the XY the XY location of that vertex you need to say this XY location also corresponds to some XY location in the image so for example if I wanted this section of the image to appear here I would have to then say this XY on the screen look up that XY in the image and that's referred to typically as UV so UV coordinates are lookup coordinates in an image that Define the textured pixels and this by the way could be XYZ and I think when I do the thing that I'm going to do I'm going to need XYZ we'll see okay X Y blah okay so let's just make a quick example that does that so uh where are we so I am am going to um come here to a texturing example I'm going to write a quick little bit of code uh okay um and I am going to I've lost my train of thought here I'm going to say size 600 400 I'm going to set a background and then I want to say begin shape begin shape end shape and I'm going to say vertex um uh uh 200 200 let's just make a bunch of vertices that are kind of arbitrary I'm going to say vertex uh 300 200 I'll just make it a square right now and say 300 300 and I'm going to say uh uh 200 300 so if I do this and I say stroke 255 Phil 127 let's see what we get right I get this shape right because that's exactly I really just Define the vertices of a of a square now uh one thing that's missing here is you notice it doesn't actually you can't it's hard for you to see this but that the outline does not on this part so one little uh thing that you can see is I can say close and close there will um will actually close the shape without me having to to add the first vertex to the end again so I could do some things like move these around um you know but let's actually leave them like this so I think I have an idea for making this a somewhat interesting example so now I need an image to texture and here's the image that I'm going to use this is uni Kitty it is a drawing drawn by um an 8yearold it is beautiful it is one of my favorite characters in the world right now and let's use uni Kitty to texture now one thing I want to double check is uni Kitty is kind of like a massively high resolution image right now which is quite unnecessary so I'm going to sample sample Unikitty down and I'm going to do oh how can I do this in I'm going to say tools should have done this before I started this video adjust size let's just make it so we can kind of think about it 600 by 600 and know um so now what I want to do is I want to say texture oh first I need to load the image P image unitty and then Unikitty equals load image uh Unikitty JPEG and then now I'm going to say texture Unikitty and I'm going to run this now we don't see so first of all ah we have an issue texture is not available with this renderer so processing has different renderers that draw the scene for you your code stays the same but the behind the scenes renderer does the drawing and the default renderer is a softwarebased renderer built on top of Java's default renderer um but the hardware accelerated renderer for 2D or 3D Graphics um that's built up on top of open gel and something called jle which is like Java open Graphics is called p2d so I'm going to use p2d here I could use p3d but um I'm not doing anything 3D here so now what happened where's my uni Kitty oops okay so we can see uh U we can see it's not there it's because even though now I don't have any errors I haven't defined those UV coordinates so what I can do in the simplest sense is I could just assign the full image right cuz top left of the image uh right of the image bottom corner of the image bottom left corner of the image so if I do that and now run it boy it takes a long time to start or it's like on behind okay that didn't work now maybe what I'm missing is does texture have to go after begin shape I didn't think so there we go I it does so now you can see there's Unikitty how wonderful but this is no different than just drawing the image but what's interesting about this is I could um trying to think I could start to move these vertices around so like for example if I just make you know x uh equal the just the top left corner x = 200 y = 200 and I do this x y and then I say you know x uh uh X Plus equals some random amount this is like the least creative thing I could probably do with this um but just to show you that it's working you can see now the image itself is going to skew to whatever the uh geometry is based on the pixels that I've picked so you you sort of get the idea this doesn't have to be a square I could make a polygon with 10 sides I could assign them weird parts of the image that are different than than sort of corresponding parts and things will get stretched and skewed there's a ton of possibilities here but this is the basic idea now um in the chat by the way I see somebody asking does processing not do UV coordinates in 01 this is a great question so a lot of programming environments will not take the raw pixel values but just use what's called like a sort of normalized range so the image width always goes between zero and one no matter what the size of the image is and I believe if I go to processing reference and I look up texture mode and go to that page I can change image normal so this is a I think normal is what changes the range yeah between zero and one so I'm just thinking in terms of the raw pixels but I can use a different texture mode to do that so that was a great question thank you for that in the chat okay um now um so that's basic now here's the thing this is definitely in two parts so I don't know um what I'm going to do what I want to show you is one more thing what what's very common in a scenario like um where is this like this flag simulation is that I don't actually want a texture now look at this are these oh these look like they're quads I'm going to have to change quite a bit what did how did I actually do this oh yeah so I've actually drawn this as uh looking at this as lines so I'm going to have to redo the geometry of that and here's a common kind there's there's a lot begin shape in m shape right I said begin shape and end shape sets and vertices you get a polygon but there's a lot of kinds of things you can actually put in here that will generate shapes in a certain way so I could say begin shape end shape and give it three points and it'll give me a triangle but I can also say begin shape end shape and pass it something called triangle triangle underscore strip What triangle strip is is if I give it two rows of points it'll actually make a whole set of tiled triangles and this is a very common way of tiling geometry of of uh I don't know what the actual right word is there's a word for this specifically you know and there's different triangulation algorithms that you can use to take any arbitrary geometry and get it to be a mesh of of triangle strips but I'm not going down that full Road what so what I want to do is just show show you though because my cloth simulation is a full big space with all these interconnected particles I want to tile it with a triangle strip and then texture the image the uni Kitty image onto it so let's just do a couple things here to explain this a bit further number one is uh just to go to um begin shape on the processing reference um just to see there are a bunch of things like this is what I just did begin shape end Shape close but I could do the same thing but give it points and it's just going to render those as points or as lines and it's going to give lines uh I can use triangles it's going to do triangles this is a triangle strip um this is a triangle fan these are quads quad strip and then you can see another arbitrary shape so there's a lot of possibilities here and this is what I'm going to focus on triangle strip so let's take a quick look at that uh where am I here I need to go sketch uh texturing so let me come back to here so what I want to do now is I want to show you how a triangle strip works so I'm going to comment out the I'm going to uh I'm going to comment out the texturing let's I I guess I'm going to leave this in the code because when I publish this code maybe I'll just I'm make this one example but ah but I'm want to comment this whole part out leave it at the bottom so I'm going to start over so now what I want to do is I want to say let me g a row of of let me just have a row across so I'm going to start with X I'm going to use float x equals I'm going start at 10 x is going to go all the way to you know 400 I'm just doing this arbitrarily let's do 100 to 500 I don't know what I'm doing x uh plus equals 10 and then I'm going to say let me also do have a y actually no me not have a y so what I'm going to do now is I want to say so one thing I could do I'm going to say begin shape end shape and what I want to do is I want to say vert XEX X comma some Y which is going to be 200 sorry I'm trying to figure out what I'm doing here so I'm showing you that I could write a for Loop and let me so you can see it change the color to be white uh stroke and just make it a little bit thicker so you can see it as well so this just gives me a line because what I've done is I've said begin shape end shape and I've set all these points across in a line but notice if I were to say begin shape points it's going to render it like this all of those points those are quite close together so let me make them further apart and we can see it like this okay now what I want to do is I want to make a triangle strip so I need to also have a set of points below so I'm going to say x comma 200 and I'm going to say y I'm sorry X comma 250 so now you can see these are all these points um and so I can like point to it better uh first one second one third one fourth one fifth one sixth one and that order is quite important okay the order is quite important because I want to connect I want to create a triangle and then another triangle so it's going to do so if I were to now just say get rid of the points what you're going to see it's making is this and it's weird because it's like connecting the end to the back um and with a fill so I'm also going to say no fill and you can see here is now what I've actually done I've got this zigzag pattern and now the magic is oh I'm sorry you can't see my code I'm doing a terrible job of the the magic is I am going to uh add triangle strip here and now once I do that you can see there we go now I have a triangle strip so if I want to texture this triangle strip all I'm going to do is and let's use texture mode normal just sort of be interesting here I'm going to say uh texture mode normal texture unikitty and then let's just say um I am going to so the uh the top is going to be zero and the bottom is going to be one for that strip I'm going to do the full height of the image in that strip and then I need to say something like um X well I could I could say what's the um so actually so I should use some math here U is Map X which has a range between 0 and 500 between 0o and one and then uh v um V I don't really need to calculate it's just going to be so I'm going to say this is U and this is V so let's do that and see what we get and what did I what did I what did I do oh I didn't zero and one sorry okay I lost my Now textt text mode what did I say text mode texture mode there is actually something called text mode which changes the way text is rendered and this should really be texture mode so I I made a mistake there okay so then we can see look at this that whole image is kind of squished into this triangle strip and it looks like it's just kind of behind this thing but it's actually textured and what's interesting if I start moving all these vertices around or think of them as polygons that separate I could keep the same image geometry but move the other geometry around and create all sorts of interesting effects so this is where I want to stop this is kind of a just a a texturing tutorial that I'm doing as part of taking this into a coding challenge um and so I'm going to in in another video that will be linked from this one I'm going to do a coding challenge where I just apply the uni Kitty texture to a flag the uni Kitty flag I'll see you in that video Maybe