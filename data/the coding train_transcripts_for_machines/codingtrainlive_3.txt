do so do do do do do do check one two audio check uh let me know how i sound especially in relation to the music behind me and um i will see you all with my face and my voice in about two minutes so me do oh one more minute please everybody okay i'll be here in one minute do hello everyone and welcome to a saturday afternoon episode of the coding train live coming to you live here from brooklyn sorry for that little glitch i've had to take an extra round of this oneminute song that's having a little difficulty getting some things set up here so i am thrilled to be here with you today if this is your first time watching welcome um one of the things that i like to do is offer a little prompt to hear from folks in the chat nothing too extraordinary today is my prompt i would like to know what did you have for breakfast today so i know it might be it's 1 p.m um where i am in the eastern time zone but it could be any time of day for you wherever you're watching from so maybe you had breakfast earlier today maybe you're about to have breakfast what are you having for breakfast today let me know it's fun to see the flurry of activity in the chat gives me a sense of who's watching where everybody's from and what kinds of things i should think about eating for breakfast in the future all right so um before i forget i have i guess i you know i'm not once uh you know in case you think that i'm organized and have any sort of plan not really but before i start rambling too much and forget and i'm not sure what is going on i have like a little i just had a cookie that's a little snack and there's a little piece caught in my mouth i see eggs and bacon and a bagel corn flakes a cup of coffee cake and coffee bread toast i saw something what i'm always curious about is uh aki and salt fish with fried dumpling dumplings says shaquille where are you from where you had that i am fascinated and by savory breakfasts and places and cultures around the world where you eat what is commonly thought of in my world as a lunch or a dinner kind of food but for breakfast a dosa with tea last night pizza microwaved pancakes by the way i am not the best cook chef baker maker of food items in the world but i do have a speciality pancakes my children can attest that my pancakes are excellent i like to make them with a whoa already welcome to mike you have just joined the coding train what have you won with your membership of the coding train well my everlasting undying gratitude the fact that your name pops up in green on my screen over here and i can see it mike are you even watching right now what did you have for breakfast but we must find you a random number now there is an interesting question here which is last time i live stream i had a lot of plans for this discord bot that was going to help assign random numbers and uh create random walk patterns and all sorts of things i have no idea if i have any of that i certainly didn't do any work on it lots of other things are going on so i will just return to my book and boy you know i had a lifechanging moment last week on the live stream where i learned something about this book which says a million random digits now i might say that this book was misleading me but it was not it in fact it was quite clear it's written right here a million random digit what is a digit after all then one single number a character a single character that represents a digit zero one two three four five six seven eight or nine so i foolishly read this in my mind always as a million random numbers now you could also say that there are there are a million random numbers in this book but i always thought of each random number and let me see if you can see this i don't know uh it's divided if you look at any given page as in groups of five digits meaning a five digit number or a number between zero and ninety nine thousand nine hundred and ninety nine but there are only two hundred thousand of those because there are 1 million digits 1 million divided by 5 is 200 000. so i have something new in my thinking you know as my uh desire is to give out in this world one million a random number for everybody that's my dream in life it's for everybody in the world to have a random number i don't know that's that's kind of like i think there's a problem with that because really people should have names and they should have names that feel meaningful to them that you feel a certain sense of when you're called by that name there's an intimacy a friendship there and i don't know i think maybe the whole idea of everybody having a number is problematic so take that out take that aside i love random numbers and that's a fun little thing we do here when somebody joins i give them a random number it's a gap a little friendly gift it's like a random number with a heart from me to you um and i sort of flip through the pages and ultimately though i'm giving you an index into this book because then you will have your own pseudorandom number sequence of all the other numbers that follow which you could generate an algorithmic pattern that is the same every time with that pseudorandom number sequence so mike welcome to passengers your random number is uh on page 141 it is row 7020 and it is column zero one two three and the number here and i no longer i'm gonna think of these as numbers but as sequences of digits your five digit number is nine two three eight zero ultimately i i spent a lot of time doing a lot of math trying to figure out how long it would take me to read this entire book and i'm starting to think that that might be a bit more realistic than i thought like could i do a live stream right if there's just a million digits and i can read them like this eight zero zero four three how many can i read in one minute ready somebody set it up hold on i'm gonna set a timer here i'm gonna set a timer this is what this is by the way the thing that i was trying not to forget was to thank the sponsor of this live stream curiosity stream i'll do that in a minute but i'm on a little tangent here i can't get off can't get off this random number reading calculus train uh where is my stopwatch uh timer all right we're gonna start at one minute i'm gonna start at the very beginning i'm gonna try to read it should i try to read it faster i'm gonna read it at a regular pace because i think if i'm going to do this whole book as a full live stream you know when i hit 1 million subscribers oops what about if i hit when i hit one point i already hit that also oh well uh um uh here we go ready and one minute timer go one zero zero nine seven three two five three three seven six five two zero one three five eight six three four six seven three five four eight seven six eight zero nine five nine zero nine one one seven three nine two nine two seven four nine four five three seven five four two zero four eight zero five six four eight nine four seven four two nine six two eight two sorry two four eight zero five two four zero three seven two zero six three six one zero four zero two zero zero eight two two nine one six six five zero eight four two two six eight nine five three one nine six four five zero nine three zero three two three two zero nine zero two five six zero one five nine five three three four seven six four three five zero eight zero three three six zero six nine nine zero one nine zero two zero two five two nine zero nine three seven six seven zero seven one five three eight three one one three one one six five eight eight six seven six seven four three stein seven zero four four three six two seven how long does this go on for it's called by the seaside i didn't repeat so that's amazing okay all right everybody stop i've completely forgotten where i got to could anybody please in the chat um tell me what numb what was the last sequence of numbers i read i have no idea like i have literally zero idea while i'm waiting for you to tell me i'm gonna take a moment a spoiler alert for today is a topic to thank today's sponsor curiosity stream launched by media visionary john hendricks who founded the discovery channel curiosity stream is the awardwinning destination for documentary films and tv shows covering every topic from space exploration space exploration to adventure to the secret lives of wild animals and actually abe thank you to cody drain viewer abe who recommended two things for me to watch i've been making my way through hannah fry dr hannah fry's series about maths and data um man's first friend i have a dog gloria pickle whom i love very much and there's a whole documentary film about dogs all around the world in different cultures and the history of dogs and humans together um so if you're interested you can sign up in the link that's in the chat and in the description and on the screen and you'll get a 26 discount on the annual hd plan by the way guess what that's 14.79 for the entire year um and also get access oh this is kind of like i'm burying the lead here you get access to the video streaming service nebula which is a streaming service that i'm a part of along with many other youtube creators there's originals on there there's nebula plus content find a lot of other youtube channels not to be aware existed and watch them on nebula when you sign up for curiosity stream using the link on the screen in the chat so um again the nebula itself i think is i forgot what the price is but it's some amount of money per month and you just get that for free along with the along with your actual stream all right did somebody tell me what number i was on uh zero four four three six two seven okay let me find that they find that anybody have a magnifying glass for me oh my vision these by the way are progressive lenses and i was so thrown off by the way the world looked when i first got them now i'm totally used to them but i think i need them to be dialed up a little bit because i'm trouble reading again all right uh zero four four three six two seven where could that be zero four four oh this is the worst please hold oh i found it zero four four three six two three six two seven okay i found it that didn't seem like i made it so i read one two three four one two three four five six seven eight nine ten fifty digits a hundred digits let's just round it up a hundred hundred fifty let's just say i read 200 digits in one minute does that seem reasonable uh 10 10 20 30 40 of these uh groups of five times five is 200. so one minute if it takes me to read 200 digits one million digits divided by 200 is 5 000 minutes which is about 83 hours all right i still don't think it's very much more realistic than when i thought it was a million five digit numbers but 83 hours is still like three and a half days i don't know i don't know um maybe somebody can just check fact check my math there let me i got to move some things around uh oh boy i've got a thing going on over here a thing going on over here i'm not in the right place um okay uh clear local chat all right so what have we got in store for you today so first i'd like to do some kind of like updates i mean it's not really breaking news but i'll play my breaking news so um coding train what's happening on the coding train um first of all if uh i'm live right now uh yesterday i released a guest conductor video with uh lily james from the twirling tech goddess uh it's a really wonderful youtube channel let me just see if i can just go over and look at the full channel for a moment um and you'll see that lily does a lot of work with 3d printing and fashion hardware like i'm always looking for guests to feature videos um on topics that i don't really touch on lily has a really fun unique personality she has a twirl test for her technology um has a lot of energy and enthusiasm uh a a nice set of subscribers here on youtube but could um could use a little coding train boost so if you have a chance to check out lily's channel and subscribe i'm a big fan and i think it would be great to show her a little bit of love so um and john is suggesting in the chat record yourself saying zero to nine and build code that plays your audio yes so that would definitely be a great project for a live stream someday i'm having a bit of an issue which leads me to kind of the topic for today which is that i need to move this out of my way oh my goodness i have so many things in weird places sorry i'm kind of i hate to say this because i probably shouldn't alert you to this fact but i'm trying to sign up for something related to something i want to get for my kids i'm in like an online queue kind of thing and so i might have to take just like a one minute to like get something real quick over here uh when it's my turn so if i'm a little bit distracted today please uh bear with me um and boy whose name is very aptly named who's youtube username boy which maybe is your real name i'm not sure loves the boyd's coding challenge and that's what i'm doing prothomesh says i am here what did i miss where's my absolutely nothing sound drop absolutely nothing sing it again now um just me talking trying to count up to a million with random numbers and doing some useless stuff um but um one of the things that is you know i have i suffer from having trying to do too many things at once with the coding train uh have sort of a fun coding live show which is what i'm doing now which is really just me rambling because i don't have time to prepare and do segments or have lots of things organized for it i use the videos for actual curriculum that i am teaching in courses at nyu that's really where all almost all of my focus is right now in teaching the course the nature of code at nyu for a group of 31 students and so i am refreshing and redoing all of the videos probably a better place for me to look at it is here and you'll notice that it stops with chapter three and you might be wondering how are you possibly getting through a semester only having the content up until chapter three well good news for you cody trade viewers i have already finished the videos for chapter four and my students are watching them now in fact if you are a coding trained member i might have shared with you some sneak peeks of them but i'm still working on the descriptions and the code and the thumbnails so those will appear uh hopefully they'll come out like boom boom one per day um this week i'm hoping because i should be able to finish those up with all the folks that are helping me uh with that thank you to matia and violet and psy and kobe i don't like naming random people who are helping with coding trade things now realizing i'm gonna forget somebody um so stay tuned and i have begun the process of recording the videos for chapter six autonomous agents and i have already recorded but they have not been edited and put together the first two videos for this chapter so i'm getting a little bit ahead um i do another news item here and i'm totally remiss in remembering to think about this since last week but i really i really it's important to me to do at le a video for pi day which um what's today's date i can't figure out what today's date is the 6th of march it's soon it's 8 days away is that next thursday next friday i'm not really sure no next saturday is the 20th no that's the third no i've got more time than i think it's a sunday right sunday would be pi day oh maybe i could just no i can't do a live stream next weekend i uh maybe i could i don't know what i'm going to do but i would like to record a video about pi day and i've got a couple suggestions here oh oh wait a sec what happened here oh hold on hold on please hold please hold intermission for just two minutes okay everybody i'll be right back oh but but uh put your ideas for pi day in the chat or what you ate for breakfast because i kind of missed a lot of those i'll be right back i swear this is going to be less than less than a minute so that was i'm back see how fast that was you didn't miss anything i lose all my viewers um all right so i'm looking over here so um i'm not going to spend any time on this i'm kind of into this cofactors random number idea oh i can't remember whether i thought of this but simon gave me some or whether simon's on a bit or who thought of it simon definitely gave me some good advice about this ah the pendulum yes i'm really into the idea of creating a pendulum and then using computer vision to track the amount of time it takes let's just look at the suggestion directly measure out a physical 2.45 meter long pendulum then use computer vision to calculate where it is it should take around pi seconds to complete one cycle all right i have to admit something i am kind of um very well how should i put this um kindly i'm a klutz i'm very inept when it comes to mechanical things whether it's mechanic hardware uh tools crafts i'm just terrible at all of that stuff so it might seem ridiculous but the prospect of actually making this pendulum is quite daunting for me i don't even know where to start like do i just need string how do i tie the string to the thing the bob at the bottom what should i get for the bob so i welcome your suggestions for what kinds of materials i need a youtube video that has a nice tutorial for how to make the pendulum i don't know any suggestions please put them in this github issue that was started by simon all right i don't want to spend too long on this i hope that you know sometime early next week monday or tuesday maybe i can record a video and then have it out on pi day we'll see we'll see i've got a lot to do i've gotta gotta keep up with the videos for this course so one of the things that i the the primary thing that i want to use today's live stream for is to work out some steering force example code that i have not yet included in the nature of code book whether i would use that as an exercise solution or another additional video tutorial i'm not sure but this is a nice opportunity for me to expand the material that i have so if i were to go to i think the nature of code examples p5js and go into chapter six i would see that i have these steering behaviors uh crowd path following let me leave that one aside for a second because that's an exercise there's no tutorial or uh part of the book on that seek arrive stay within walls which is one that i've made up it's not on the craig reynolds uh in the original steering force's paper which i will um uh bring up in a second flow field path following separation separation and seek and then the ultimate example of everything put together the flocking system and i have covered a lot of this in coding challenges and in older processing java video video tutorials i'm rebooting all of that right now very excited about it i am householding i wonder who this guy i'm just like i probably i know i'm not gonna look it's just funny like householding i think is maybe uh what what's meant here with maybe i put that in there is housekeeping um uh uh but thank you to alan wolves for your wonderful um pull request that was accepted here um maybe there's a nice translation from the perhaps french where that makes more sense all right um ah so uh let me not spend any more time and uh chris is pointing out would be tricky to hang a two uh 0.45 meter pendulum so i could probably do a shorter one in this and then do time multiple right if it's half of it wouldn't i want would i time like two uh period two cycles um anyway i will i will work that out somebody will suggest for me yeah shorter would be great um and what am i doing here ah steering behaviors yeah okay so this if you have uh where to start here we are this is where i want to start if you are not familiar with this work and you like the kinds of things that i explore on the coding train you're missing out you know maybe not everybody in the world is missing out on this but you're a viewer here of the coding train you know if you are a beginner to code if you've found this channel and are watching because you're just starting on your coding journey some of the elements described some of the code required for the implementation of this is pretty sophisticated and so you might hold off to return to it later but the concepts here i think are quite accessible and understandable um and it's sort of like a core the principles described in this uh paper which is from the game developers conference 1999 i would like to know right now this is where i really need to finish that stupid live poll thing because i could just throw it up right now how many of my viewers or the viewers right now of this live stream were born in 1999. i was definitely alive then in fact i probably i hadn't started to learn to code really in 1999 um i started actually i started to learn to code about 2001 but i learned quite late i i can't do the math but um i was born in 1973 so you do the math i graduate this is this paper came out after i graduated from college and i'm assuming a lot of you were not yet born um it's an incredible paper um and um it forms the basis for so much that you see today in um in computer graphics in animation in games in hollywood cinema if that's the right way to say it um um it's just it's so foundational and probably and it's also a big source of information for many creative coding artists um casey reese one of the creators of processing to name one i don't know i got a piece of hair somewhere on me oh this beard i did not have a beard in 1999 i was a freshfaced youth back then oh it was a different time all right 1991 2000 1990 1990 1988. all right we've got somebody who started coding in 1988 mwah what were you coding on in 1988 and um i can't read your name because it doesn't use my my knowledge of other nonuh english language character sets is very small ah sad sanko is older than me um danielle was 17. um i'm lovely i love reading the chat this is fun really fun for me to see i always like to um to try to understand the viewership and i'm always surprised and really pleasantly surprised at how young and again i hear from everybody i hear from people who are um older and retired and learning to code or had a long career of coding who are enjoying some of the stuff that i'm doing and provide helpful feedback i hear from people who are very young and they're you know teens who are learning to code but the bulk of the viewership is of that sort of high school college early 20s age at least according to youtube analytics which i always find fascinating because i feel more and more like an old i was trying to put this in a gracious way but just like an old i guess all right somebody mentioned something to me yesterday which was some kind of social media online thing and i had no idea what it was none whatsoever i can't even pull it up i was in a twitter space with scott hanselman who you should check out scott hanselman's youtube channel i kind of been a little bit obsessed with the clubhouse app uh if anybody wants to connect on there you can follow me on clubhouse ah okay this is this is cool to uh really read uh started coding on a zx spectrum um i'm gonna have to go back and read all these chat messages um this is amazing this is amazing apple 2 euro plus of my dad's in the late 70s so the first computer that i ever wrote any code on was an apple 2 plus uh you know if anybody's a fan of the tv show stranger things i think the kids in that show are like 10 years old in 1983 approximately that's that's exactly that that show speaks to me so like i get all the feelings watching that show i'm you know i probably had a different i'm not saying i was like those kids or certainly i didn't experience the supernatural in their way but dungeons and dragons ghostbusters all of that stuff um walkietalkies bicycle riding all that stuff is uh really speaks to me but um i i i think i've talked about this before but i did a science project in elementary school where i tried to like do something about perception i think i wrote some code in basic to blink a light on the screen and then or like blink characters really fast and then ask the viewer if they could write them down and remember them i have to go back and find that so i think that two plus is still in the attic uh where my parents live in baltimore i'm gonna have to let's find that someday oh i'm so into computer history and computer graphics history it's a little bit i'm off i'm off i gotta do this i gotta work on these examples keep me on track people keep me on track keep me on track okay um ashika saying please bring back cabana and our coding challenges i hear you i really hear you i this is basically the most common feedback i get i miss the coding challenges i miss the i don't know people actually say they miss the cabana but just those like coding challenge videos um i i will try to get back into more project oriented things like that um so stay tuned but i'm unfortunately or fortunately or unfortunately um this is not this this is my like hobby in many ways the coding train i'm going off i'm talking to and uh i do have a lot of like responsibilities to my students and the tutorial videos end up taking precedence um because of that okay um so back to this paper um all right so voila this is what i was looking for this particular list so if anybody wants to take notes here and share this with me afterwards super would appreciate it i'm sure simon is already on it but this is the list of all of the behaviors divided into individual behaviors and combined behaviors so i would like to my personal goal is to have a p5.js and processing example for every one of these and i have seek and i have flee and i have wander and i have arrival i have path following i have flow field following i have crowd path following i have flocking so i don't have pursue and evade that would be an easy one for me to do today but i think i might like to try for something a little bit more ambitious i do not have obstacle avoidance and containment which have some similarities to them um i do not have wall following i do not have leader following i do not have unaligned collision avoidance and i don't have what is my favorite steering behavior of all time queuing at a doorway it's like the greatest favor you guys see it and here's the thing that brings me immense sadness right now ordinarily i would be able to just click on any of these like queuing and i would see the animation happening right here in fact i think if you go to uh and and i apologize but this is this is this is who i am i can't help it i'm going to go all the way to the old videos that are from i actually don't know when i recorded these i uploaded them to youtube in 2015 but i kind of think that a lot of these were recorded in 2012 but if i go through into this video here at some point i bring up the webpage and it's coming there it is so this by the way look look it's young look at young me there with like weird bad white balancing and very red face but like compare the amount of gray hair the bald spot to there glasses are pretty much the same but i think this might be from almost 10 years ago i i don't know if anybody could i wonder if you could somebody could watch through these videos and if like the time pops up somewhere or the date because i'm pretty sure this is just when i happened i definitely recorded these before the year 2015. i was not even yeah anyway that's this i would love somebody to investigate that for me but um here you can see the queuing behavior playing out and i can make this full screen um and so i love this steering behavior and um these are these were all created by craig reynolds as um java applets the code i believe is closed source don't quote me on this i could be wrong but if i understand it correctly craig reynolds was working on these behaviors while working at sony entertainment so all of the algorithms and the descriptions of those algorithms are all very well defined in the paper that i'm about to click on here explained in great detail but the code was closed source but many there's many implementations of them i'm not certainly not the first to implement them i might be sort of more visible now in terms of having this youtube presence but there's an open steer library from c plus lots of other examples of people implementing these behaviors um so i'm really saddened by the fact that the so a year ago because the year goes the last time i looked at this i was able to get these to run as java applets on the page first i would see an error and then i would go through and change i think i ended up using firefox or a different browser to make sure java was running and the plugin and change the uh settings but i think i don't know if this is related to flash being completely disabled but i don't know whether it's that the the actual applet files have been removed from the server or that the browser won't even bother to try anymore but i it's very important to me that this work is preserved so one of the things that i would really like to do and i would love help with this is to at a minimum download all the jar files maybe i could just investigate this really quickly let me and i will get i've been in touch with craig reynolds before uh doorway.class so this is really the question if this is the compiled java code so you know there's all sorts of decompilers we could use i'm not so interested in that i don't need the code to be decompiled and published if it's not meant to be published i would just like the this applet to have a place to be run and people could watch it and look at it so let me see if this will download did it no so like it would be right here in the same directory right so i think it's been removed torway.class that's not going to get anything so if somebody could help me try to find these and you know i i can try to get in touch with craig reynolds uh i believe he's on some social media platforms and maybe he'd be willing to share them i would like to build a website maybe just capture them as screen recordings and then build a website where people could watch them um you know i i think that early work that no longer runs in current systems it's really important to preserve that work um in that history um so um so yeah if anybody wants to help with that um hit me up on the coding train discord on twitter at shiffman you could say it in the chat now but i might miss i most likely will um uh miss your message oh you know it's because i'm in the view source okay great who's who just said that remove view source thank you i would uh remove view source yes have you ever seen anybody so excited to download an old java class file from over 20 years ago okay so i have this oh boy i shouldn't go down this rabbit hole i have this class file how could i run it i'm trying to think it's meant to be run as an applet within a browser i mean there's no way that just like um it's not going to create a window instance for it if i like part of me wants to like do this oh you can't see what i'm doing apologies uh am i in downloads okay wait i have a java runtime installed but this won't work it has to be a jar file that will open a window um java applet doorway.class all right hold on hold on i have a jdk installed what's going on is it because i'm on a user account it must be because i the my this is my like work laptop that i do everything on but i log into a completely different user while i'm live streaming so that i don't you know i do this anyway i'm not that well set up but i'm constantly um sharing um you know api keys and things like that uh what was it java dash applet wait what was it eclipse i could try using eclipse java dash applet that didn't work for me all right i i think maybe this is going to send me down too much of a tangent right now um i will investigate this further on my own and take suggestions um and like make sure i have the right jdk and all of that installed um but i don't want to um take up all of your time as interesting as it might be for all 405 of you watching i think probably it's more useful for me to go now to the different to the code stuff that i want to do and just so you know i'm going to be here till about 3 p.m eastern which is an hour and 15 more minutes i'm gonna take a break in about 15 minutes i'm trying to be much more uh strict about my live streaming time usually my kids are doing an online baking class but there is no baking class today and usually that would mean they're just downstairs playing minecraft or roblox but they're actually outside taking a walk not on their own they're with another adult who happens to be my spouse um but i would like to go and join them hopefully they'll still be out in an hour um and so uh to be honest i would have not live streamed if i knew that was the plan so i could go and do that with them but i'm very glad to be here with you right now and i'm thankful to the curiosity stream for sponsoring this because it really helps me um have all of be able to do do so much to be able to be here and live stream okay please answer chat questions i try i really try [Laughter] uh profit mesh says um let's see if this still works i went and took a shower since i last messaged what did i admit you just want me to do once again absolutely nothing huh sing it again now okay thank you thank you thank you thank you that's been my live stream for today see you all next time on the coding train um all right let's let's close a bunch of this stuff okay i don't need all this open all right so i think that i would okay let me bear with me uh log in here coding train so the most recent video tutorial that i have recorded that is not it is still a week or two away from coming out um is just a video that goes through the foundational example of a steering behavior and that behavior is the seek behavior so you can see this little triangle thingy is trying to seek this target as i move it around and there are some parameters i can play with like a maximum speed and a maximum force to change its ability to steer so this is where i want to start with the idea of having a vehicle that calculates a steering force based on a principle of determining a desired velocity taking the difference between its desired velocity and its actual velocity and applying that as a force i would love to talk through all of that right now but i'm that is the that that is what i did in what will be a 10 to 15 minute video that will come out later and i have also talked through all of this i believe in two uh previous videos if this topic interests you steering uh steering coding challenge coding train so um coding challenge number 59 uh steering behaviors i kind of went all through all this in a coding challenge this was done quite a while ago and then also i have done flocking and i've done evolving steering behaviors i've done a lot of stuff with steering behaviors but i'm redoing the sort of like core foundational videos um and there we go coding challenge 124 uh the flocking simulation so those would be ones if you know you want to do uh okay and i meant i have a coding trade answers your questions for 15 minutes um yes um that is a good suggestion i try to do that sometimes like at the end of every live stream but i do a terrible job of doing that because i'm usually like trying to rush to finish something and i only leave like two minutes and i don't do a good job so um that that note is taken and actually that's what i was sort of thinking that maybe i could use discord or clubhouse for do a little bit more q a stuff okay um yeah and prathamesh is asking about a frictionlike force that slows the boy down it's funny you should ask that's the next video after seek i look at an arrived behavior and it's not about a friction force that slows it down it's about rethinking what is the desired velocity in the case of pure seeking the desired velocity is always to go as fast as possible toward the target regardless of how far away from the target you are but an arrival steering behavior would take account that distance and map the magnitude of the desired velocity to that distance so the desire you want you still want to go towards the target but slower and slower and slower the closer you are with a z you know a velocity of zero if you are actually exactly on the target okay um so i think what i would like to do by my uh white whale so to speak in steering behaviors it's really queuing at the doorway but i don't that's too much um i have never um implemented obstacle avoidance and simon has been trying to talk me into doing containment instead um but um i kind of you know i'm i'm a little bit obsessive and um i don't know why i can't seem to manage to keep all of these pages open and obstacle avoidance comes first so in my mind i need to do it first um and so let's let's just if y'all uh if you'll allow me for a moment i would like to just read this paragraph to see if i can understand it and i will put some quiet soothing music behind me while i read it not that music in this demonstration the green vehicle i don't see the demonstration avoids the gray obstacles the vehicle tries to remain outside of the gray circles while keeping close to its speed limit the vehicle wraps around the window boundaries this steering behavior anticipates the vehicle's future path as indicated by the white box the length of the box is a constant time multiplied by the current velocity of the vehicle any obstacle that intersects this box is a potential collision thread the nearest such threat is chosen for avoidance and is marked with a green boundary to avoid an obstacle a lateral steering force is applied opposite to the obstacle center in addition a breaking deceleration force is applied these forces vary with urgency the distance from the tip of the white box to the potential collision steering varies linearly breaking varies quadratically if avoidance fails and the vehicle overlaps an obstacle the color of the obstacle changes to red with these parameters and this crowded environment collisions occur about once every 800 simulation steps and then different colors are assigned to the unfortunately this might be enough for me to start coding this if i had this java applet running but i think i want to go over to the paper instead and that didn't take me there and um look for obstacle and hopefully there's going to be a diagram there we go this is what i'm looking for i don't know i'm so like terrified that i'm starting with this okay now i'm hearing some dingdings in my ear from being tagged on discord so uh i'm checking the keeping eye on the chat please try to reserve tagging me on discord for emergency level uh notifications okay um obstacle avoidance obstacle avoidance behavior gives the character um gives the okay okay so let's look at this the ability to maneuver in a cluttered environment by dodging around obstacles there is an important distinction between obstacle avoidance and flea behavior got it got it i started reading this to myself i got flea will always cause the character to steer away from a given location whereas obstacle avoidance takes action only when a nearby obstacle lies directly in front of the character so this is good for example if a car was driving parallel to a wall obstacle voice would take no corrective steering action but flee would attempt to run away from the ball so um just so i don't spend forever just reading through this let's take some basic steps here let's add the idea of an obstacle class to the world so i'm going to duplicate this code this is going to be five point x obstacle avoidance and one of the things i like to do while i'm streaming and let me just click over here for a second um is in the discord itself um i will uh paste a link under this live category a schedule is where i in theory post updates about my live streaming schedule uh links is where if i want to share something with you while i'm streaming i'll put it in there so i will paste a link now to this base code in case anyone wants to follow along this will continually update unless i duplicate and make a new version so we'll also be the same link when i finish but if you wanted to get that right now that's what i'm starting with all right back to here so i would like to add another file call it obstacle.js um and uh what does an obstacle class have well it has a position and a size it doesn't move it doesn't need any physics so i'm going to give it an x y and a radius because it'll be a circular obstacle i mean we could consider what does it mean to use nonround obstacles but that seems too hard but i am going to keep that in a vector so i'm going to say this dot pause equals create vector x y and this dot r equals r and then let's just have a function called show which i draw it as a circle how's this font size by the way i think it's a little bit smaller than what i usually have no i don't know let me know if it's hard for anybody to see it uh this dot x this dot y and simon is telling me that obstacles are always circles in this particular algorithm that's good to know this dot r times two um and let's give it a kind of grayish color with a white outline um that's a little bit thicker and i think what i'd like to do to be honest is hard code a couple obstacles into the world um because i obviously i want to run this many many times and always have random obstacles but it might be useful for me to very intentionally position obstacles to be able to test and debug what it is i'm doing so let's make right now i'm just going to make one obstacle to be perfectly honest i'm going to put it at um my window is 400 by 400 let's put it at 300 comma 200 and let's make the radius uh 50 and then i will have four let obstacle of obstacles obstacle dot show so hopefully now obstacle of obstacles by the way obstacle is one of those words that when you start to stare at it it totally looks like it's spelled wrong that can't possibly be how obstacle is spelled look at obstacles put the s on there it's like what is that word okay let's try obstacle is not defined so i forgot an essential step here which is to add it to the index.html file oh it's because i did spell it wrong [Laughter] no wonder it looks completely insane because i did spell it wrong uh how come i don't see that obstacle oh this dot pause dot x it's a vector you know there's a new thing that i really liked doing and i um that is in the particle system videos i really like just extending a p5.vector and i know uh you know i really have trouble figuring out what the right balance between showing uh next steps and further additions to the sort of foundational ways that i build the examples and i hesitate to do this because it's going to throw people off but um if you're following along with the nature of code good good news i'm going to go through why i do this in quite a bit of detail in an entire video but i can actually have my obstacle extend p5 vector meaning i don't need to create a separate p5 vector that's a property of the obstacle because it is a vector already itself then this is this is the principle of inheritance whoops then i can actually say super x y which means just super is a word that like a parent class is a super class so i'm saying create a new vector because my parents is p5 vector with that x y add this concept of r and then i can just have this dot x and this dot y here um you know maybe i should do that also you know if i'm doing it there i should do it with the vehicle but anyway i just wanted to point that out for a second all right great we've got an obstacle i want to get rid of the seek behavior so i don't need this target anymore for this example um and i don't need to call seek let's run this let's put the particles initial the vehicle's initial location at 50 comma 200 amazing let's give it an initial velocity um and i'm just gonna do that manually here velocity set one comma zero there we go so now i've got a set up here where if i do everything correctly and i think i might like the obstacles to be drawn first what did i do wrong here come on auto format did i mess something up here i don't know i don't know what's going on um oh whoops what the tidy code okay i don't know what i was doing the wrong key command for tidying i guess um very important stuff so now i've got this setup you know i'm doing the i'm doing the easy part first right uh the hard part is obviously going to be i need to write some code that's like vehicle dot avoid obstacles and maybe right now let me just write the function as if there's only ever one obstacle this i think could be an easier way to kind of um work this out all right and simon has given me some nice tips in the discord with the steps of the algorithm but i'm going to pull them from the paper um so i need to define this rectangular area in front of the vehicle well i know how i would do this just from a drawing standpoint that's an easy thing for me to do and i suppose i might as well layer that in as sort of like a debug draw kind of thing for example if i were to say a rectangle uh 0 0 this dot r times 8 for this dot r on which is the size of the triangle um i'm going to write a function called avoid it takes an obstacle but it's empty right there's that uh and i want to say um no stroke no no fill and then where is that rectangle exactly it's at negative this dot r and negative this dot r divided by two there we go so sort of problem solved in that i'm able to visualize that rectangle and even if the particle weren't moving straight you know that rectangle is going to be rotated but i don't think that's really the work here because the work is defining the boundaries of that rectangle and whether it intersects the circle i feel like that's going to be very hard is it time for my break yet almost yeah it is actually let's see if i get a little bit oh further um okay uh just keep in mind obstacle avoidance not necessarily collision detection um the gmacle construction i've been also pursuing opinions concern uh cylinder lies along the character's forward axis so they're talking about 3d which i don't care about oh this is very hard to read to myself i should just read it out loud the implementation of obstacle avoidance behavior described here will make a simplifying assumption that both character and obstacle can be reasonably approximated as spheres okay so this is actually i guess craig reynolds is describing all these behaviors in a 3d space and then we're looking at a slice of it so when he in writes that this is a cylinder we're actually just seeing the sort of top view of it but i'm thinking of it as a rectangle so i think i have to just reply i'm going to do this in 2d don't get me wrong um but i think i have that's why i was being that's why i was confused i'm reading this convenient to consider the geometrical situation from the character's local coordinate system the goal of the behavior is to keep an imaginary cylinder of free space in front of the character ah the cylinder lies along the character's forward axis and has a diameter equal to the character's bounding sphere and extends from the character's center for a distance based on the character's speed and agility okay so i'm gonna consider those the agility fixed but i could adjust that for speed right now because like ultimately if there is some distance like seeing distance i might call it which is the magnitude the magnitude of the velocity times you know a factor of 20 and i use that as the seeing distance and i suppose this width could be related to its agility but i'm not going to worry about that right now what is going on with my auto format shift tab is not working for me and it's making me crazy oh it changed command shift f it used to be shift tab i'm gonna have to relearn another no command command shift f there we go by the way something that bothers me and i i can't remember if i already filed this as an issue or not but um the web editor will change the scroll of your code when you auto format and it drives me crazy if anyone's to check if there is an issue um already um um um filed for the p5 web editor related to that okay maybe nobody else cares so let's just see this all right so let's make seeing distance times 100 okay actually i'm gonna make it it's moving kind of slowly right now so let's do that and then actually i should really put that seek back in because if i were to just put that seek back in then i could see it change as it does different things so a vehicle just is temporarily vehicle seek create vector mouse x that's why so you can see as it slows down that amount that it looks out in front changes again i'm just visualizing the elements of the algorithm right now without actually worrying about implementing them and i really need to take a break but uh where was i okay by localizing the center of each spherical obstacle the test for nonintersection with the cylinder is very fast the local obstacle center is projected onto the side up plane by setting its forward coordinate to zero if the 2d distance from that point to the local origin is greater than the sum of the radii oh so i can do one of those like a normal things oh i really need a diagramming so i'm going to take a break and during my break i'm going to set up this um document character because i feel like character document camera because i feel like i need to draw a diagram so um give me a second here oh before i take a break though i would like to take a moment to thank today's sponsor curiosity stream and coming up over here ah so let me start um by and uh this is the fun thing that i like to do which is that i have a wonderful 30 second spot from curiosity stream that i will play um but i like to read the narration for it myself oh sometimes youtube copyright strikes it and so um and people seem to enjoy this more anyway so i'm gonna go to that uh right now from the founder of the discovery channel comes a new independent streaming service curiosity stream home of groundbreaking documentaries and awardwinning original series follow your curiosity this is curiosity stream all right how'd i do this time i feel like i did better last time but um so you i mentioned this at the top of today's live stream and you've heard me talk about this before i am part of an educational group of creators who have teamed up to build a platform where creators don't have to worry about demonetization or the youtube algorithm it's called nebula and we're partnering with curiosity stream so nebula has adfree content and experiments with different kinds of formats so let me go over to watchnebula.com and you so you could start your free trial or you could pay five dollars per month or guess what don't definitely don't pay the five dollars a month i mean maybe you could if you want but the whole point of this is that you're gonna get nebula for free if you buy the annual uh bundle with curiosity stream which by the way much less than five dollars per month in fact it's 14.79 after the 26 discount that you'll get from curiositystream.comcodingtrain um and so um you you if you scroll through kind of like the kinds of things that are on nebula you're probably going to find all of your favorite creators that you already watch on youtube and um i'm just scrolling through to show you a few here shout them out in the chat i've been like really uh interested in following renee richie's work recently um there's a lot of video essays um on sort of movie making and filmmaking illegal eagle uh to sort of learn about the law amazing stuff you're here real science engineering is amazing uh or this is the real science channel lots of amazing stuff here um definitely check out nebula there's never originals um as well like tom scott's money so what does this have to do with curiosity stream so curiosity stream loves educational creators like those that participate in nebula um and they uh they want to support more educational content so nebulous worked out a deal if you sign up with that coding train link not only do you get access to curiosity stream but you also get nebula for free and by the way this is not a trial you will have nebula for free as long as you're a curiosity stream member so for a limited time curiosity stream is offering 26 off their annual plan that's less than 15 per year for both curiosity stream and nebula so i'm going to go here just to show you how to do this curiositystream.com codingtrain and it should pop up here that you can use oh you can't see that right now i'll remove the banner use the code coding train for 26 off um you can also go i wanted to go to um i'm not logged into my account um but i can go to the click here to get a sneak peek of the library so this is the one that i was um just telling you about that um abe turned me on to which is called man's first friend a wonderful um documentary about um the history of dogs within uh different cultures around the world um and i i didn't abby recommended for you recently so i only watched a little bit of it but i'm like oh as soon as i have some time to just settle back and get on my couch and relax i'm definitely checking that out i had not don't know what this one is secrets of the solar system but so many science uh music math um history documentaries here i've been talking about um i think if i go look for the search it'll pop up let me try to find that um or maybe if i let's let's click on um uh history and let me go to search and let me go to hannah fry uh yeah so this is the one that i've been like super obsessed with magic numbers the joy of data and the joy of winning i don't know what this one popped up but maybe hannah fry is a guest in this one as well but dr hannah fry is amazing i'm a huge fan shout out to uh dr hannah fry and i i would definitely recommend these uh particular you know if you're in if you like the coding grade stuff you'll like those as well all right so um you know you're sign up you'll be soothed by dayton david attenborough's voice you can watch chris hadfield in the space station tom scott on nebula torture your favorite youtubers uh click the link to get both curiosity stream and nebula for 26 off it's a great way to support educational content my content and again that's the entire year 14.79 um i'll put it up right here one more time oops that's the wrong thing um and then i gotta press this button that's also the wrong thing i can never press the right buttons uh there it is um and i'm gonna take a short two or three minute break i'm gonna set up this document camera so i can diagram figuring out this uh the math for the obstacle avoidance and i will be right back do do do do do do i'm here i swear i'm here i'm trying to set up this camera i guess i can uh let's say i plugged it in i've got it in position but i don't know if it's working yet let me turn off studio mode go to me here and uh let's see what happens i can close this boy i thought i could do this in five minutes with no problem i connected a microphone no i don't it's still this microphone though right yeah okay um let's see um don't know what's going to happen i probably should preview this before i turn it on uh hello there's me in my green screen nope nope not that one this one there we go oh look there's my hand oh it's crunchy bass okay um okay uh let's see here uh that's probably better um and then let's crop this off and crop this off a little bit over here and let's move it below a few things um and we don't need the banner here right now so that'll do um if i use i have a pencil will you be able to see that oh let me turn the light on how come that light doesn't go on if it's not getting enough power well that's not the light that's the oh that's not the light there we go is that better whoa oh no it's doing the thing again why does it do that that's why i forgot why i wasn't using this this i think why did i unplug this thing and don't have it set up anymore because it like doesn't work hold on everyone let's see if i can get it to uh let's see if i can get it to work okay there we go why it's not focusing should like auto focus better than that yeah austin is saying that i need a drawing tablet i don't know why i'm so opposed to the idea of using a drawing tablet i think i've just had too many bad experiences with weird latency and i think all that stuff has been sort of worked out probably with you know newer tablets and apple pencil and all that stuff um i'm not in the space where i have the whiteboard which is why um i just don't understand why oh i forgot that as soon as i move it around all right this is so sad this is pathetic welcome to the coding train where you watch a person who's really ill prepared to live stream i'm gonna try this one more time all right am i back by the way restarting the computer seems to have um seems to have um kind of resolved this issue like look how beautifully clear this is right now so maybe i just needed to restart uh so thanks for your patience i do not have the chat open right now so i cannot see your chat messages let me take a minute to do that if you will bear with me restore pages what's the chance oh that's beautiful okay i am back my pages are restored and we're back as if nothing happened all right back to this uh diagram which i will now move over to here so that you can kind of see it let me hold on move this over give myself a little bit more room to do that okay um all right so now the idea is that i have a circle it has some radius r i have a vehicle which has some velocity and i've projected out some sort of area in front of it so i think what i need to do is consider this a line and i need to get the normal from the center of the circle here and if this point is closer than whatever this distance is and um within in this distance is minus um and this distance is less than the radius then i'm in danger of running into the obstacle sorry so in other words i need to use this concept of look at my lots of other pages are full of stuff i need to use the concept of scalar projection which is that if i have a vector and then i have a point how do i find from that point the normal to that vector and i have done this um oh and you can't really see that i have done this in um i do exactly this in the pathfinding example and what i'm getting okay um now let me do i have a button to open and close the overhead camera i'm just gonna do it manually okay uh about a sec here okay all right let's work on this idea of um the scalar projection idea okay sorry i'm i'm i'm a little flummoxed here okay i don't know if all that work was worth it just for me to draw that little diagram but if i go to the nature of code i work this idea out here for path following so if my vehicle is here and like um i oh but oh i'm doing this is slightly different um yeah this is the path of the okay so i'm doing this in a slightly different way but it's the sort of same idea uh okay so i'm thinking through this so let me try to actually um let me try to do this without the without the um vehicle moving for a second okay there we go so i don't want the vehicle to move so let me take out this seek and let me have the vehicle not call update there we go and let me set its velocity to something like this and something like this that's a little bit extreme okay so this looks good like i feel like and actually i kind of want to just all right so basically what i want to do is i want to find this you know this point but if this is the take the bottom of this rectangle consider it a line i want to find where the center of the circle connects to that line and i've done this before but i'm having kind of trouble thinking of how to do this and and simon is reminding me that i have get normal point as in the path following get normal point so this is that function let me just grab it it's written within processing code way um but let's put that into uh i need to be in the vehicle class in avoid obstacle so let me just paste this generic function here and it is a function to get a normal point to have a a position what's this and then oh and then the what's a and b oh the line between two points okay a and b and just translating this to p5 sorry i will get back to explaining what i'm doing in a moment uh i i just want to get this code in here uh and this is uh there all right so does this is now my get normal point function and let's bring the avoid obstacle function all the way up to here just so i can kind of see it closer to this so what are the the point is the center of the circle so get normal point is um so the position is the obstacle is the obstacle and i'm going to be writing extra code right now that i don't necessarily need so i need so just to be clear if i go back to my diagram i'll explain what i'm doing here which is that um this is now that position that i'm talking about in the code that's this like imagine that's the center of this obstacle then the vehicle i have point a and i have point b this is point a i realize you can't see it because i'm doing like the worst job ever and then over here you can't see that is a point b and my function that i've written previously if i give two points i get this vector and then if i give it a position i get this normal point now i don't actually need to do these two points because ultimately i already have the vector in the velocity but i think just to like get it working let me um let me do it this way first so i have to move that away and so now a is this dot position and then b is this uh a uh p5 vector dot add a and then i need to add the velocity to it so like seeing distance should be um maybe i need to make that um so i should call this seeing factor uh and that's 50 because ultimately and again this is totally silly that i'm doing this but i'm going to do it anyway add a plus um i'm gonna copy the velocity and multiply it multiply it by uh the seeing factor i think again i think i'm doing way too much extra stuff here but i just want to understand all the pieces so i want once again this is a then i want to get b and then i have pause and i want to see that it just gives me a point here so add that and then the normal should be get normal point pause a b is that the way that i define this function pause a b and then um and then let's draw fill 0 255 0 ellipse normal dot x normal dot y 16. we'll make that a circle okay so let's see what this gets me p is not defined where line two ah called this pause all right that's promising seeing distance is not defined line 66 uh so seeing factor yeah so um i'm gonna put that back in i mean i'm doing a lot of redundancies here um come on why am i not seeing this rectangle oh multiply what ah oh my goodness i've lost my mind here i've forgotten what it is i'm even doing there we go okay so that's the point and i think it would be useful for me first of all i meant for that to be red i don't know why i meant for that to be read um make it a little smaller and then draw i would like to draw a line from normal.x normal.y to pause that x pause that y okay and no stroke stroke 255. and that line this is so silly but i can't stop there we go so this is the idea now i've made this look kind of weird because this uh dot is like i positioned this perfectly but let me actually go now and have the the circle the the vehicle move around uh like i'm gonna add back in the seeking oh and the update right like no matter where i am i'm always getting a normal and when that normal is inside that circle i'm going to hit the obstacle the normal is even is even behind right because it's just taking that line so i can check all right all right this is good now let me see if i can reduce what i'm doing here in the vehicle like i actually don't need a and b because i could just start with a vector and that's this and then why do i even need to normalize it do i um oh yeah i do okay and then i can normalize it so this could be then get normal point position in this dot velocity copy and i don't need the velocity or a and b like that should work as well a is not defined oh oh i need this vector though um oh i do need a which is which was what the um the vehicle's position right um i don't have a lot of space for my code here i don't like the way that i'm doing this but um these are the three things i need all right get the normal point um with the position oh no no oh yeah the obstacle yeah so i don't need a separate variable here i might not need to copy all these vectors so the idea is that get the normal point i have the vehicle's position the obstacle's position and the vehicle's velocity a b is not defined because that's oh i'm so confused now that's v oh was it this and i wasn't paying attention i'm so confused i'm so confused um i gotta get my normal point function back uh i have i have really screwed this up i had it working and i uh i tried to simplify it and i lost my thread and using somebody i think is is noting that using the um uh using a and b as variable names is making things worse okay hold on everybody relax i've got this i've got this uh agents path following let's go to this one uh yeah vehicle do i have get normal point let me grab this one so basically i had position a i don't need b anymore instead of b i just i have that vector so a p is still p minus a and then v is now this a b so v dot normalize v dot multiply ap dot v okay yeah point a add v okay where is pause is not defined line 36 there we go okay so i've got that back i mean it's sort of the same and do i need copies of all these vectors because the velocity gets normalized p just gets used here so that doesn't need to be copied but i'm going to leave it as is okay okay okay so now i want to know if it's going to hit the obstacle or not so there's a few different ways i could do that one is if it's going to hit the obstacle if that point the distance between that point and the circle right so if i take the distance uh p5 dot vector distance between the normal and the obstacle if d is less than the obstacle's radius and i i know i need some kind of like agility buffer but i'm just going to leave that right now then then let's make this much larger and let's fill it red otherwise make it green so let's see if now it should turn red where do i have obstacle um should turn red yeah anytime it's within the circle it's going to be red now also beyond just being and i really feel like i need a much larger space to work with than 400 by 400 pixels so let me make this um and uh okay all right okay great now uh that's good okay so if i want to consider the sort of buffer the size um thank you for simon who's giving me the suggestion in the chat i can fix that as uh the if that's less than the radius of the obstacle minus the extra buffer of the um of the actual size of the um triangle itself and i guess that's half of that radius but i don't know that i need to worry about that right now i can i can figure that out later okay let me give myself a little bit more room here there we go um okay now the other issue is let me get my diagramming back this is so not the way i like to do things but actually let me just raise this up a little bit and hopefully it's not gonna uh it did the thing it did the thing don't touch the camera shift men hopefully this whole stream doesn't crash apologies in advance if it does uh switching camera switching back come on oh boy oh boy oh this overhead camera is the worst i'm just gonna get rid of it i'm just going to get rid of it there it is all frozen and not in focus and ass is saying shouldn't you fix it so it doesn't detect a potential collision when it's moving away exactly that's what i want to do right now um so but uh i was going to try to explain how it's going to do that with the diagram but that's just a fail i'm going to give up on the diagram everybody so i need to use the diagram for myself i can show it to you this way so basically let me create the scenario where if it's moving in the other direction yeah basically why it might be useful for me to have those two points is i need to check to make sure that other point is actually in that line segment i do this in the past following as well right it needs to be that point it also it shouldn't be like it shouldn't be read even here like hold on let me um turn off the seeking and go to the particle and have its initial velocity be once again one comma zero it should not be red right now it should not be red until that rectangle reaches so also that point should be within the rectangle so how do i do that the normal point oh i know it's just got to be less than the seeing distance ah okay but also to be in the right direction all right okay a couple things so uh particle um in a void so if it is there and um the okay so what is d1 oh i'm doing a terrible see this is why i have to work stuff out i mean maybe there's a way for me to be thoughtful about my variable naming while i'm working it out but d1 is the distance between the obstacle and that point d2 is the distance between the normal and this and this position so i i'm just for simplifying i'm going to take that out again and d2 is less than seeing distance this is driving me crazy that seeing distance is just the velocity's magnitude i'm gonna have this be a fixed variable for right now okay i'm going to make it not scale it's going to be much simpler for everybody so i'm not going to worry about scaling it according to the magnitude i can worry about that later just to simplify things um basically it needs to both be within the circle that normal point needs to be within the circle and not too close to the vehicle oh having a whiteboard would be so great seeing distance does not define line 79. so as soon as that rectangle touches the circle it should turn red oh weird uh it did but it seemed to be like late i wonder if this is a function of it being like perfectly aligned with the center um like let me just for a second here go to obstacle um no sketch make this obstacle much bigger and a bit further down why why i'm getting the wrong distance clearly i'm getting the wrong distance normal and this dot pause that's the right distance and i'm drawing oh i am offsetting it back by negative this dot r so the seeing distance is actually um offset to the back not the center it's because of the triangle oh that's kind of silly let me not offset it back just for a second is that enough to like get it off that much yeah no it should actually be earlier then oh oh no no i'm not thinking about the edge what am i doing i need to project that out to the edge oh this is weird i'm reading the chat right now okay so actually what i want to do is just check that i think i'm going to check something completely different for example i want to check the distance between the uh the position plus okay so if i have an endpoint which is uh this dot pause dot copy uh dot add ah this vector math stuff is kind of crazy um do i have a copy of the velocity no no never mind this is silly what i'm doing uh p5 dot vector dot add this dot pause this dot velocity dot copy set mag seeing distance uh is that actually right add i want to add the position and the velocity with its magnitude set to the seeing distance and then the d2 is the distance between the end and the obstacle and as long as that is also less than obstacle.r right is this this would let me know where the end seeing distance is not defined this dot seeing distance right this will let me know if the end is within the circle yeah okay so if it's along the path to the circle and the end is sitting there all right so that's kind of right i think um let's turn its velocity a little bit just to see like what if i set it to 3 common negative 1. it's never going to do that and then if i do it negative 0.5 yeah okay i think i'm in pretty good shape here oh but what if it's going in the other direction so the question is if it's going in the other direction it can't be negative how will i account for that here i could use a suggestion hold on i have to check my messages oh okay um ah i see somebody running the applet that's exciting okay uh okay so now there's like one little piece to this which is that if it is going in the opposite direction so let me determine let me alt create a scenario where it's doing that um so it's initial position what if i make its initial position um like over to the side and then have it going the other way okay hold on a sec uh how do i test for this um let me have the obstacle and have a vehicle further up is it i guess it's just gonna work because that distance is too far okay it knows it knows it's a little uh i don't need to add anything it's a little messed up that when the edge goes out but hopefully it's never going inside the thing in the first place okay so there's some some massaging that needs to happen here but i think i mostly have the right idea and i should be able to if i steer it around right we should see and let me give it a much bigger seeing distance just to uh and make the obstacle a little bit smaller um which should help me oh no why what happened i mean oh because what if the seeing distance is on the other side of it so it's not actually it's anywhere within that but that seems like a finetuning thing uh how do there's gotta be an easy way to resolve that though right because otherwise otherwise it's mostly the right idea okay i'm going to move on yeah that's a good correction that i am getting uh in the chat here okay um why not check intersection of the circle with the current velocity vector yes that's what i want to do oh like cast array oh that's what i should do and then just check if wherever it intersects is less than oh yeah that's that's much better so let me just put a to do in here because i want to kind of move on i didn't necessarily expect to finish this i did expect to get a little bit further so to do uh look at casting ray for vector plus circle intersection uh i mean wouldn't that just save me a lot of trouble in the first place do i even need that normal thing i'm so confused um okay um okay rectangle circle collision detection right i could also use a collision detection library as fun planet is suggesting but i am trying to avoid that let's just go back to the uh description and i want to at least introduce the steering behavior okay by localizing the center of each spherical obstacle the test for nonintersection of the cylinder is very fast i'm by the way i should have kept reading because i think it's giving me some better way of doing this if the 2d distance from the point is the greater than sum of the radii but on the character then there's no potential collision yeah i i think i could have definitely done this a different way i realized i went down a a a kind of strange path similar obstacles which are fully behind the character or fully ahead of the cylinder can be rejected or can be quickly rejected for any remaining obstacles a line sphere intersection calculator oh yeah line circle intersection calculation so that's what i should be doing like yeah like this is enough so uh this actually right i'm gonna leave this in here but i should do this and this should this should be a line circle intersection um and now okay steering to avoid this obstacle is computed by negating the lateral side up projection of the obstacle center what the hell does that mean negating the lateral side up projection in figure 7 obstacle a does that mean like have a steering force that points in this direction obstacle okay you don't know where i i lost where that is i'm like lost that spot there it is i couldn't find the tech this like big wide block of text is very hard for me to read this intersects the forward axis near the character steering to avoid this is obstacles b and c do but b is selected for avoidance and it's correct of steering us to the characters left the value returned from the obstacle void the steering value to avoid the most threatening obstacle or if no a special value null of the zero vector so is it literally as simple as just doing a uh a vector that is perpendicular to its velocity in the like just steer away and is it that simple because then it would be a matter of um like so this is like if it's red then this is like apply the steering force and so that force would be copy of the velocity and then velocity like i could rotate it by 90 degrees but how do i know which way to rotate it well i want its direction to be the same direction as okay so actually this is simpler p5 vector subtract the uh that end point from the um the endpoint minus the obstacle that's a vector pointing out yes force dot set mag do i have a maximum force yes max force and then this dot apply force force so let me get rid of the seek let me also add an edges and i will or i could seek so simon is saying it's a flea behavior so i could flee the nearest intersecting circle yeah i think that's not it's not actually what i want to do though because i don't want to turn around a flea behavior would cause me to turn around and run in the opposite direction from the circle and what i just want to do is just steer away until i'm not going to hit it anymore um so i am going to say vehicle edges i also want to i need to wrap the edges so to add an edges function if this dot pause dot x is greater than width this dot pause dot x equals zero uh else pause dot x is less than zero and i should be taking r into account but i'm not bothering to let me do that with the y and this by the way i've got to finish it wrap up here so i'm hoping this kind of works for just avoiding the one obstacle and then i'm gonna clean up this code work on it some more try to write up an explanation think about making a video on it uh but um and all that jazz okay so ah max force is not defined well that was good where did i line 50 all right so not a lot to see here because it's like super overpowered in terms of its steering and i'm not taking into account the uh the size of that rectangle so let me do that so i i kind of want to have an agility so if it's less if d1 is less than no d1 is the distance between the normal and the obstacle um and so if d1 uh plus the or minus if d1 uh my brain is hurting i need to use my paper sorry everybody um so this distance is less than this distance and if i take off that obstacle yeah if i take off that as well um that'll give me a more it should steer further oh no didn't i rerun this alright hold on let me let me put things back like hold on i just want to see something what if i make this really big why okay um so i'm confused why i'm not getting the oh oh it's plus plus plus right no no it's definitely minus it's just such a tiny amount that i'm not noticing it oh is this am i suffering from the thing being too far out past it then i think i am it stops steering when so i'm gonna have to make some improvements to this but i've got the basic idea of my one obstacle so yeah so let's uh it's not very exciting to look at because it's just kind of avoiding the one but i want to do a couple things one is just to like have this demo a little bit in a little nicer shape here um and i want to go to sketch.js and i want the vehicle to do this and i want it to start at 0 comma 150 200 i want the seeing distance to be much smaller it should actually be scaled according to its velocity um let's make it 100 okay okay so let's see what happens here that's good that's what i wanted to see i definitely need it to move faster if i'm gonna like be able to sort of see how this works because i would love to introduce obstacle avoidance into the flocking system it'll be really cool to see that okay so this is doing what i wanted to do um farooq is saying check the diagram on the page you will see two blue tangents steer until the direction of the motion has tangents on one side so i'm gonna be setting this aside now i'm gonna be saving i'm gonna save this and uh i am going to accept all new versions of this that correct my errors and clean things up i'm gonna have to i definitely need to work on this more on my own like this is not super interesting to watch without multiple obstacles uh without multiple vehicles but i think this is um kind of as far as i'm gonna be able to get with this project today um um i'm gonna i think my kids are still out on a walk in the park and i want to go meet them so i'm going to play my goodbye song where i will uh so stay tuned don't worry this is just oh i don't have my music hooked up what is going on here uh hold on a sec i'm gonna fix this because i forgot that i restarted my computer oh you are hearing the sound i'm just not hearing the sound is it super loud okay great um thanks for everybody for um tuning in today it's very loud in my ear maybe that means it's too loud in your ear um i um uh simon thank you for all your feedback i'm gonna work on correcting this later so this is part this is going to be incorporated into uh chapter six of the nature of code if you're kind of joined late wondering what i was doing chapter six of the nature of code goes through all of these different steering behaviors as implemented in p5.js and i never have attempted to implement the obstacle avoidance one really ultimately the reason why i'm doing this is um i really want to implement obstacle avoidance along with uh i just don't know how to get this to run immediately but i guess i'll just stick with this um hopefully this example is gonna pop up and run in a second yeah so i would like to introduce obstacle avoidance into this flocking system because i think it would be really cool to see them like flock around the obstacles but i'm far far far away from that right now so i've got about a minute left to answer any questions i can't remember who it was to suggest that i do more q a stuff and i do a very poor job of just trying to catch a few questions at the end um and thank you to everyone who's been helping i see that joseph um in the coding train discord has gotten me craig reynolds applets running working i'd love to know how you did that maybe we can collaborate on a little web page that just has like that captures each one of those demos running for like 30 seconds and puts it in a little like gif animation um because i would like to go to refer to those often when so i should mention let me pause here so it's actually going to be a little while until i'm back in live streaming many many videos are going to be continuously coming out on the coding train i've actually also been redoing the beginner learn to code p5 videos so if you happen to be here you probably aren't here right now if you're like a totally new coder new new viewer to the channel might be a new viewer to the channel but if you're a new viewer and you've never programmed before please come back it'll it'll stay but also come back because um the code playlist which is this one i have now new versions of all of these two point x videos which are about variables in the random function in p5 these are all from many several years ago so i have new updated versions of those those will be coming out i have all of chapter four coming out i have all i have to make and have all of chapter six to come out so all this is gonna be coming out in the next month but i won't be having any live streams from now until after april 10th with one exception on march 19th i am having a guest who does um live coding performances come and talk about that practice of um live coding um um so stay tuned sign up for the discord follow me on twitter shiffman subscribe to the channel and click the bell stuff if you want to like get notifications of when that next live stream about live coding performance is coming um but um yeah and and stay tuned for all the new stuff what else do i have to say um yeah dabbing bear writes i just tried to play the video at 2x speed like i usually do and didn't realize it was a stream i love it please watch my videos at 2x i don't know how they're tolerable unless they're at 2x [Laughter] um and so i'm going to go i've got to run thank you i'm sorry that these streams like don't wrap up in like a sort of thoughtful like end of the show kind of way just kind of like jump off but that's unfortunately what i have to do today i'm going to be working on this particular example more and seeing you all in future videos on the coding train i would love to hear any feedback from you just a little another last little plug if you've worked on anything related to any videos in the coding train like for example i noticed somebody on twitter shared with me a spring um please a spring project they made based on this please add them to the website i'm really trying to fill out the website with lots of community contributions i've got new ideas for how those are all going to be organized and featured coming soon thank you austin for posting the link to curiositystream it's very appreciated you can sign up again at curiositystream.com codingtrain for 26 discount off the entire year it's 14.79 cents for the entire year and you get nebula for free okay um see you all and on the next time on the coding train as always i always forget that this stop this stop it stop this stop i'm gonna do this stop this stop i'm gonna do this this stop this stop this stop i'm gonna do this stop stop i just stopped this dot stop this dot this dot song never forget this dot i'm gonna say once again here song autotune and the internet will fix that for me see it with me it's the polaroid song it's unicorns and rainbows and cupcakes what else is there yes kittens thank you very much kittens and rainbows and cupcakes notice that look what i get i'm really losing my mind okay let's do it the kids i feel just sort of like a nice feeling of relaxation everything's gonna be okay today dream is not broken it has not frozen this is a this is a wonderful thing okay we're gonna do it i'm really getting to something i need my sound effect what else is there unicorn that was invalid syntax i forgot uh there was one other thing here that i think is important that i will use continuously over and over again all sorts of text generation analysis things that i will use continuously over and over again first thing i need to do is yes i usually often turn my camera back on at the end here a little dance but i've already unplugged it so see you all next time uh have a wonderful day um i'm gonna go spend some time outside if you're able to i highly suggest you do as well uh stay in touch and until next time you