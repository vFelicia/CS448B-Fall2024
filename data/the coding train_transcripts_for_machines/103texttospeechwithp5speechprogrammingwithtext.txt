hi you're about to watch a video about a library I'm really excited about P 5 speech I'm gonna introduce what P 5 speech is and who made it in a second but before I do that I just want to mention I have a small error in the code in this video if you look at this video's description I explain what that error is it's a it's a minor thing but if you're typing along you might run into an issue so take a look at that description and you'll see what it is now enjoy the video hello I am here again in my chat pot series I'm gonna do two tutorials and then some other stuff about something called p5.js speech so I'm gonna get to what that is in a second but the reason why I'm doing this is as part of the chatbot series I want to investigate chatbots that a human can interact with by typing and chatbots that a human can interact with by speaking and so in order to do the speaking part without purchasing some kind of proprietary device from some company that's supposed to be your assistant or something like that alright which I will look at later eventually I want to see if we can do this in a bit of more of an opensource way we looked at rive script can we just can we converse can we talk to the browser the web browser have it listen to what we're saying and talk back to us and the answer is yes and so there's a library for p5.js which is which was created by Luke Du Bois from the integrated digital media program at New York University standard school for engineering the ability project is part of the ability projects research which is an interdisciplinary research space then it came to the intersection between disability and technologies so it's a great program it's great research group you can you can imagine why speech to text and text to speech could be useful in this area for for for accessibility of different tools that exist on the Internet okay so there which is a really important topic so but I mean this video just want to kind of learn how the library works and kind of do a few playful things with it so this is the webpage for the library I recently made some changes to the API the naming convention of some of these functions and so who what's what's here right now might actually be different than what you see when you go to this page but so I'm going to use this new naming oh and this is a demonstration but I'll come back to that all right so let's just let's for look at how easy this is to use which I think it is it is it's easy it's gonna be easy so the first thing that you want going to want to do is actually download the Java library from github itself and I will provide in this video's description a link to where you can download that javascript file you can see that I've downloaded is here already and it's part of my project now how you end up incorporating this library into your example it can be different depending on what text editor or development environment you're using and hopefully I can help you with that but for the way that I'm working right here is I just have all the people I've just libraries and I'm adding p5 speech KS and I've got to make sure all so then I go to my sorry I go to my index.html file associated with that this sketch and go right here copy paste this and I'm just gonna add a reference to p5 speech task so let's even see if that does anything we go back to the browser hit refresh okay nothing but at least I'm not I don't get I'm not having an error so let me look at the most basic thing that you could do with the speech library which is just have the browser speak so if I go to the github page and I look down here this is kind of just a little bit of code so I'm gonna grab this I'm gonna go to my sketch KS in setup I'm going to add and I'm gonna change this to let and I'm gonna say have it's a coding train so what I need to do and I think this is gonna be okay but there's the there's a bunch of there's a variety of issues that I'm going to show you and things that you could do but just just for the basic idea I need to create a p5 speech object voice equals new p v dot speech and i just need to call voice dot speak let's just see if this works this is something I'm gonna show you in a minute coding train did you hear that coding train it speaks to me okay so that's basically it so one of the nice things is I'm done like if I have some text you know I could have a whole interactive system when I click the mouse or I do this button or whatever and it then it speaks it doesn't speak you could say anything the text could be generative it could use any of my you know weird crazy like generate poetry examples but they're the reason why I is not gonna just end this video right now is the library actually provides a bunch of other features now these features are dependent on the web speech API and if I understand it correctly you're kind of limited to what the browser supports so which voices are available does it actually work so I'm doing this all in Chrome on a Mac and I imagine some of you might try this in different browsers a different operating systems so let me know what works and what doesn't work maybe we can contribute to the library if it doesn't work in a certain browser to help it work but again the browser has to support the web speech feature and okay but one of the things you can do is actually change the voice so let's let's look at how I might do that so I think I can say something like console.log voice dot voices so in this voice object I probably maybe I'll call this speech just to be less confusing there is a property which is a list of all of the different voices that are supportive so let's hit refresh and look at this of poises not defined alright speech coding trainer but look it's empty so here's the thing you don't have to wait for it to be ready if all you want to do is use the default voice but if you want to try a different voice you need a callback a vend callback that says like hey i've loaded all the other possible voices and the way that you do that is by passing in an argument to the new p5 speech constructor I can say something like voice ready then I can write a function called voice ready and in that function I can console.log speech type voices I think this is gonna work coding train so now we can see this whole list of voices and witty what there's a lot of them like there's 82 of them and what's one that I might want to be interested in look they all have names so we can look here and and the name is actually important it's the key word you can use to assign a different voice I happen to know there's one called cellos I think so one thing I want to just add here I'm just gonna add the mousepressed function and in the mouse press function I'm going to say speech dot speak coding tree so let's just make sure this works whoops ah so I need to make speech a global variable let speech hit refresh coding train coding train coding trains but every time I click the mouse it speaks but in theory now I should be able to say let's just try assigning a voice speech dot voice that's what was the one I just looked at was called Moira let's let's look at in a different random one at Alice let's try Alice now I don't know if this is right let's see if this is right I don't remember their speech that voice is not a function so it's not voice I should remember this it's set voice I could say set voice Alice clothing today clothing today so there's Alice one of my favorites I think it's called cellos I'm sorry beings are weird I can barely hear that voice but it makes me want to do something when I hear it the cellos um so let's just do something one thing I could emphasize here is if these are the voices I could say let voices equal speech dot voices then I could say let voice equal random voices so the random function in p5 will pick a random element from the array and I could do set voice I could probably actually just say set voice the voice or set voiced/unvoiced name let's see if it works with just that voice object so I'm gonna say console.log voice name so now we'll get a random on each time coding train coding train coding train no coding train it's the same voice so I think we might actually have to say set voice voice name calling train good in plane loading things so now you can hear all the different speech though all the different voices I'm not going through all them but I'm just picking a random one each time alright what are some other things you might want to do well let me add a canvas here this is something that's really useful create canvas let's say 400 comma 100 and what I want to do is I want to display some information like I want to animate something when this when the browser is speaking and not animate when it's not speaking so there are some callbacks if I could just remember what they are speech dot start did maybe start speaking and speech dot ended and ended and speaking I think these are so this is just like with the Dom library if we've used the p5 Dom library where you have like a slider or a button and if you have a callback that you assigned if you press on the button or if you move the slider I'm now assigning a callback and I might have gotten these names wrong I'm going to fix them if I got them wrong but I'm assigning a callback to when when the browser starts speaking and when it ends speaking and so this means I need to write these functions so I could say start speaking background green and then function and speaking that and this is I'm not doing anything sophisticated in terms of the draw loop or any animation but you could imagine doing something background 0 and let's say background zero when it starts so now if I load the page building frame oh yeah it's working I have this whatever so that canvas turns green whenever the voice is speaking so that's a useful thing you can do and the other thing you can do which is kind of nice is you can change three things the rate the pitch and the volume and I believe so I believe it's like set volume so if I made it like point one it should be very quiet set rate so let's let's actually let's just so volume you can imagine I believe the range is between zero and one it might be something else but we could look that up or experiment with it but let's forget about the volume for a second because I want you to be able to hear it let's try it set rate and what I'm gonna do now is not give it a random voice anymore because I want it to be able to recognize what it's doing so let's take out the set voice so it's gonna be the default voice now whoops set rate is not a function set rate is not sorry I'm my naming is a bit confusing set rate is something that you assign to the speech object itself the voice is the you know each voice doesn't have its own great it's the rate that it's currently gonna speak with that voice so I'm just doing this wrong because I this should be speech dot set rate Tony crane Tony crane so you hear that twice as fast right and if I were to say 0.5 coding train coding train it's much slower and then I could also I can also say speech dot set pitch I don't know what the range is for this I should I'm gonna just say five just to see anyway so you get the idea let's put this the rate back to one and put the pitch to like zero point two coding training coding training Oh coding training so I think what's happening here is this particular voice it's sort of hard to pick up the lower pitch so one thing I could do is just try let's assign a specific voice let's try that voice Alice and let's listen to that what's on the wrong and let's listen to that today coding and now let me set the pitch to lower good evening yeah this voice you can hear it a bit it's a bit more obvious just with this voice that's higher I have another example that I will link to as well which just has a bit more so this is an example I'm not gonna go through coding all this but as an sighs this might be something you try this is an example that takes all of those voice names and puts them in a dropdown menu so I could pick bells I can you know I can change the rate I can change the pitch this one is a weird one it's catching up I press the button to anytime so the queue of it speaking I kind of so anyway so I encourage you to check out the code that drives this particular demo there's some other examples that are part of the p5.js github repository I mean p5.js speech get a repository as well so see what you can make make something that talks to you in the browser and let me know how it is in the next video I'm going to do is have the browser listen to what I'm saying and print out in the browser itself what I'm saying okay so this was texttospeech right and I want to do speech to text in the next video thanks for watching