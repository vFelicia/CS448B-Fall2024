hi so uh I've been working with this same exact example in a bunch of videos now the previous one all I did was take the code for the bubble Constructor function and move it to a separate tab so we can now look at it on its own and so what I want to do in this video is figure out how do I like essentially uh uh uh uh uh handle what to do if I click on each one of those circles now you have this concept right of events in programming and in particular in JavaScript programming event is this like fundamental idea and boy am I going to make a several more videos about events in particular when I start looking at uh other elements to the page that you might add besides the canvas a button a piece of text uh so this is kind of like foreshadowing stuff but right now all you really have on your page is a canvas like your can I'm you're drawing circles in the canvas but the only thing registering an event is that canvas and really the entire page the event that it's registering is a mous pressed event so if you write the function mous pressed whatever code you put in here will automatically be executed when you click the mouse and what you want so this event is something that fires for the whole page what you would like to do I think or what I would like to do in this particular video is attach this event essentially to each one of these circles so this circle does something only to itself when you click on it this circle does something only to itself when you click on it how do you do that so uh so first of all I should say this isn't just like magic or some automatic thing like in JavaScript whenever you say mouse press things just happen when you click the mouse no this is a part of P5 so in the same way that P5 looks for setup and looks for draw knowing where to start the code and knowing where to Loop the code P5 is always looking for Mouse pressed behind the scenes to know what code to execute when you click the mouse so you might have this instinct which is like oh in your object right I have this object over here I know I'll add another function to the object called this. Mouse pressed equals function and this is like a lovely idea I love that thinking of yours that I'm sure you had in your head uh it makes sort of sense like this is the function that gets triggered when you click the mouse on this object the issue is there's nobody knows what this object is or how big it is or what you want to do when you click on it or how you check if you click on it that's on you you made this object so this nothing inside the object can happen automatically it's up to you to trigger this function in the object yourself when you want to do so and the only way to do that is by triggering a function in the object in Mouse pressed itself so I'm going to write some code in here to kind of illustrate this a bit more so down here in draw you can see this is the code for doing something to every object I want to move every object and display every object for every bubble move and display it so in Mouse pressed what I want to do is something similar I also want to say do something to every single bubble when I click the mouse in the canvas do something to every single bubble what is it that I want to do check to see if the mouse is inside the bubble if the mouse is inside the bubble do something to the bubble that type of thing so the question is what do I type there well in this case I started with this idea of oh I'll call the function Mouse pressed in the object and while that does make a certain amount of sense I think it's a little bit tricky and dangerous to do that because Mouse pressed is this special P5 word right P5 setup is special draw is special Mouse pressed is special so while of course you could name it Mouse press inside the object I want to emphasize that this is now no longer part of P5 this is something that I'm adding to the object itself so I'm going to call this function uh clicked you know whatever you come up with a better name but so I'm writing a new again this is my name that I made up I could call that function porcupine if I like it just doesn't matter that doesn't really make any sense although I do you know porcupines are I think they're a nice animal they're very spiky and you might get hurt but you why should we be against porcupines I am for porcupines let that statement be known the point is though uh clicked sounds like oh I'm supposed to call it clicked it you're not supposed to but it makes sense for right now so this do clicked is a function so that function is a new function in the object so in the sketch code what do I want to do when I click the mouse on the page when I click the mouse on the page I want to call the click function for every bubble so I'm passing that event to the bubbles Mouse press is the event that the that P5 gets automatically that happens for you so this is now what I'm going to do is take that event and Trigger something in all the objects so here I go bubbles indexi doclick now let's think about what should I do in that object so one thing that I could do kind of quickly like I need to add some code here one thing I could do kind of quickly is just change the color of the object so uh so here's a question for you if the color changes what do I need to change the color well as you see here in Phil um the the the color is hardcoded it's always white with a little bit of alpha so if that color should change I need a variable and that color has to be variable it has to change so I'm going to add to the object another variable I'm going to call it C for color and it can start as that white color and I'll say fill color call instead of color color is again another key word part of P5 oh oh oh I made the classic error right I cannot help but make this error constantly over and over again this do color this. call is the variable part of this object this bubble object so what do I need to say there this. so if you get that error a variable is not defined inside an object it's probably because you forgot the this dot so I'm going to say this Dot and now I can see look there we go I have my white circles when they're clicked then the color should change what should it change to I don't know I like purple purple's my favorite color I think this is going to be purple uh so I'm going to make them purple so now right what happens what happened the sketch is running all the circles are being drawn with this particular white color when I click the mouse this code is triggered call that click function on all of the bubbles and all the bubbles their color will now be set to purple there we go ah it's more pink whatever it looks kind of purple on this screen I got lots of screens all over the place and like surrounded by screens it's a little weird but okay so uh I'm get I'm getting off the topic here so uh I kind of got somewhere right I did pass an event like anywhere I you know I could run this again and again anywhere I click you know all of those all of them are going to turn purple that's not what I want I want only the one that I click on to change color how do I do that well first of all why is this happening I've done no checking to see where the mouse is relative to those objects right all I did was call the function clicked on all of them and immediately set all of them to that color so what I need to do is do some sort of checking so how do I know if you've clicked on something so let's come I think we need a diagram for this I think I've probably drawn this diagram in another video uh but might as well do it again since it's relevant right here this is a circle this is the center of the circle you can consider its location XY this is the radius of a circle that's the half of the diameter and let's say this is where I clicked the mouse right here so one the piece of information that I need is I need to know how far away from the center of the circle did I click the mouse this is mouse X Mouse Y how far from XY to Mouse X Mouse y what's that value what's that distance for D and um I really need a new marker which I'll get for the next video but um how do I compute that well I'll tell you you could use this thing called the Pythagorean theorem and you could subtract the X's from the Y and square some things and do the square root love to talk about that I love Pagan theorem is it's one of my my my top 10 I don't know five I'm not sure where it is in the top but um the uh I forgot what I was saying so the point of this here is that you could do all that but P5 has a nice function for you built in I just got to get that new pen now I I have never leave home without an entire box of whiteboard markers if you're me and you like to WR write on white okay oh so much better okay VAR D equals the distance between X comma y Mouse X Mouse y so you can use this function built into five P5 called distance which will give you the distance between those two points and guess what if that distance is greater than the radius you're outside the circle if that distance is less than the radius you're inside the circle so you've clicked on the circle if D is less than R so only if that distance is less than the radius is do I want to change the color so we can come back here and add that to this program right first I want to get that distance between Mouse X Mouse Y and what am I about to forget I'm about to say this.x thisy uh this dox this doy and I will give myself a little more space here uh and I want to say if the distance is less than the radius so what's the radius for these circles well you can see that I've drawing them at 48 48 being its diameter its width its height so half of that would be 24 if distance is less than 24 then change the color so here we go and now I can click here look I'm clicking around here nothing's changing come over here click on this circle pink purple pink purple right there we go I'm moving the mouse very slowly and clicking I could do all these so each one of these is changing color now there's a couple improvements that I would suggest making to this but I will leave that for you if you're kind of following along and trying to do some exercises with this um one is that I would not leave this as 24 and 48 I mean it makes sense at this point that you have a variable to describe the size of your circles so this do diameter this. radius whatever you want to call it or think about it I would add that to your code and use use the variable here and use the variable here other thing you might think about as a little bit of a tricky problem is right now they're all the exactly the same color so every time you click on it you could get a random color or each one could be a specific color or how about it changes its shape from a circle to a square you know what else it grows it shrinks what else could you do for when you click on it they don't move they stop moving when you click on it try to think of some other feature besides just changing the color and and try to add that so hopefully this gives you a sense of if you know all that P5 is giving you is the moment you click on the canvas and all that you know is that you clicked on the canvas and you know where you clicked on the canvas but those objects are your own so if you want to figure out if the objects were clicked on it's up to you to write your own code inside the object to make that determination now later when we use some other elements on the page like buttons or sliders or other kind of Dom elements what's Dom I don't know you know Dom is that a person my friend named Dom we're really not friends I mean I don't want to be mean or anything but the Dom no no Dom is he he she I don't know it whatever okay I'm I'm I'm losing my mind here so the point is there's going to be other ways you're going to see that we can attach events to specific items on the page which is a little bit different to how we're kind of in our code attaching events to these things in the canvas okay I was really forcing the jokes in this video I got to just let them flow more naturally not that these videos are supposed to have jokes that's like okay um goodbye I'm going to see you in the next this was 12 minutes long which is two minutes too long because I rambled about somebody named Dom which really doesn't make any sense okay talk to you later