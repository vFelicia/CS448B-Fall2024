hello welcome to one more video but this is not the last one about sound in the browser using p5.js sound library so in this video what i want to demonstrate to you is how to listen to the audio that's playing back and draw something according to how loud that sound is so we can have a responsive shape on the screen responding to a particular audio now before i do that i'm going to add a little bonus tip in this video which is that right this play button right plays my sound so the sound is playing it has a little and i start to dance or whatever it is that i always do this is playing but notice what happens if I run this sketch and I hit play really quickly now I get this error message not ready to play filed I the play button appeared before the sound is actually loaded now we know the sound is loaded when I see loaded in the JavaScript console in the browser this is not something that a user would see I have the console open for debugging asked us or a developer of this sketch but what I can do in the code here come back code come to me code here it is is this right remember the song is loaded and the loaded function is the callback and in the callback function I am logging the loaded logging loaded to the console but button is created and setup there's no reason why I couldn't just take these two lines of code and actually put them in the callback so the idea here is that I don't want the play button to appear on screen until the sound is actually loaded and ready to be played but draw can start looping so we can see that you know if I were to put just some sort of you know animation in here can you see that you can't see that the play button doesn't actually appear until the sound is actually loaded I apologize for the flickering let me just take that out so you can see no play button play button and now the guarantee is that the sound can play so little extra bonus tip here at the beginning of my jazzy tune tutorial not p5.js and then okay but now moving on oh I forgot what I was doing this tutorial is listening to the audio we pause the music so there's a lot of different things you can do in terms of sound analysis the simplest thing is just listening to the volume of the sound is the sound loud or not so loud at this particular moment another word for volume is amplitude and this has to do with sound being a waveform right if sound exists is some sort of waveform the amplitude being the kind of height of that wave the distance between the top and the bottom of that wave so what I can do in p5 is actually create and I'm going to create a variable called a mp4 amplitude and I could say a and P equals new p v dot amplitude now this is actually an now an amplitude object this kind of in a way global and amplitude object is just gonna listen to the volume of kind of all the sound stuff that's happening with this sketch there is a way I think with the p5 sound connect function not connect like Microsoft Connect connect like the word connect like my fingers are connected that particular function allows you to connect different analysis objects to different audio inputs and outputs so there's a more than you can do that's a bit more sophisticated but by default I'm just gonna say make an amplitude object and now if I run this sketch and I play the sound I can look at that in the console you can see I have this amplitude object it has a lot of information associated with it and I can call the function get level and we can see I've got this number right now so the current volume is 0.05 so the volume is going to give you some a range of 0 and 1 but for the purposes of this video tutorial I set the maximum volume essentially at K 3 to lower the volume of the song so that I the mix is a little bit better than talking in the sound volume so in that sense the maximum value I'm actually going to get in this video tutorial is 0.3 although you might get one so you know the first thing I can obviously do here is perhaps do something like let me draw a background and then I want to draw an ellipse in the center of the window let me just make it 100 by a hundred and I'll set the fill to something so we can see I have this nice ellipse in the center of the screen and what I want is for that ellipse to grow and shrink based on the volume so I could say something like volume equals amplitude get level and now I could just put that volume here inside the ellipse function do you see that ellipse there it is there's my tiny little ellipse responded to the volume it's thankfully with me the problem is of course is such a tiny number so this is the perfect opportunity for us to use the map function the math function takes a number with a particular range and maps it to another way and we know the range of volume is between zero and point three so I'm gonna go here and I'm gonna make a variable called I am for diameter is math the volume which has a range between zero and point three and I want to map that diameter between ten and let's say a 200 oh the camera just went off I don't like dance with no camera okay so here we go right oh and then I want to put diameter in here so now there's my circle oh that's just the green I was like what am i drawing some sort of sound graph over here that's just the flow in my green screen okay now I'm gonna hit play and you can see it being responsible so you know you might start to think to yourself oh I need some sort of elaborate beat detection thing but in a way vol so you can imagine you know multiple sounds multiple volumes you know having when the volume reaches a certain threshold having some burst of particles happen missus just sort of like hello world moving to the void and by the way I can also do this with mic input so I could get my voice controlling the size of the circle and I will definitely do that in a future video now there is more that you can do with analyzing a particular sound and that's something called a frequency analysis essentially and something called FFT which is a means for taking a particular sound and looking at the amplitudes across different frequencies so are the highpitched part of the sound or the low parts of the sounds very high so you can get a sense of kind of more about the sound through that and I could have different circles representing different pitches and those pictures and I'll also do that in a future video as well okay thanks for watching this one and then we'll do more people just sound videos to come someday they might already be there cuz he would be watching this in the future goodbye