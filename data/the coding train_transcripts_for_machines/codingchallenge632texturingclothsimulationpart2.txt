Alright, Welcome to a coding challenge! erm You might remember me from a previous coding challenge, already in the other video that was the code against our code exists to get into parts it's a code challenging parts this is the second part so what I'm going to do in the second part is take the knowledge from the first part where I'm look at how to texture geometry with an image and apply that to this idea of a cloth simulation to try to make a waving flag with an image on it with our new friends the unikitty so you can see this is kind of happening here there's this crazy images being textures of this of to this geometry and if you didn't watch that video don't know about how the texture function works encourage you to go back to look at first but we're just gonna get started right here so this I I'm for this is kind of a rare thing that I'm doing here where I'm not starting from scratch but i'm actually also building off Cody built from scratch in a previous code Josh you can also go back to lock that one with code challenge number 23 d cloth but here's what I'm going to do so let's say that enough time ready ok so let's look at this the first thing that I want to do is I want to make this more like looking like a flag even before I add a texture let's make it look like a flag so a couple things are going to do number one is this is where i lock the particles so I locked the particle two on the top so if i remember right i could say lock one of the top and one on the bottom and you can see oh that is weird that is weird so another thing i want to do is get rid of this rotating right now it's making it confusing for me to see what's going on let's run it again and see oh ok we will wait oh but there's all this ok let's do something else let's get rid of the gravity for a second let's take out this gravity behavior because that's kind of confusing me what's going on ok so that ought to the orientation is also completely different I forgot about that I oriented the cloth as this thing up so what I actually do what I probably could do it just changed the way the scene is rotated let's see how did i do that so if i if i rotate the whole scene it up here on the xaxis it will be rotate around the xaxis right by 90 degrees that work there we go okay the Heritage I i could have to change the way it created but let's just keep it under rotate the whole scene that way and then what I want to do is I let's not confuse myself so where is the gravity pointing is the grabbing what which accesses pointing down and maybe I should reorient the way i do the part that's reorient the way to the particles because it's gonna be way too hard to figure out if i rotate the scene right so this is a better idea look at it I set all the particles with a fixed y & x and v are changing which is YX moves across this way or actually across this way and he moves across this way now I want me to be fixed and x and y to move to all i need to do I think it's just change this to Y and set all the particle locations to Y and have vb some i don't know let's make it 02 I have a feeling that there's going to be a bit of a problem here was going to be in the wrong place it's at the bottom that's no big deal i could say why should start at rose road times w / 2 so that it starts higher up and you can see there we go now and I want to I want to give myself the more space here because I'm gonna have the nice flagwaving simulation so i think i'm gonna just give myself 800 and I think X should actually start at a i know i'm just gonna sort of hard coat and stuff in here to like shifted over a little bit and that's too much shifted over like this ok so now there we go the other thing I'm gonna do this is kind of silly but i might as well as i'm going to at the end i'm just going to draw a line stroke 255 stroke wait for and i'm going to draw a line from where's the first particle the first particle starts at this location come to this location no boy line from here is you know I should do a better job of thinking about how to organize these variable but i just want to quickly put something to make it look like the flags attached and i'm going to go from that point all the way to the same X and then down to the bottom of the screen there we go so this is the flag but it's not waving or doing anything I'd like to set it back on the z axis or something depending on how things go but now i could put that gravity back into gravity points down let's look at it again oh I need to add the gravity behavior not just look at it and run it again there we go all my goodness look at that flag it's just falling down there's nothing going on to one thing that I want to do is push active with so i want to add the wind and you could try to take out the gravity just in terms of like nothing in here but I want to push it in that other direction so the particle the particle all in an array the particles are in a 2d array and I'm doing all this stuff with them here and then the Sun there's a lot of things i gotta change but one thing that I can do this is all just setting it up sorry perfect this is this is where I want this is a loop that draws all the particles probably as dots or something so let's take out s dot display so what I want to see it's just the particle oh you can't see them so what is the particle display functional to take it out so let's don't know why that was counted out so let's put that back in so these are just the particle and boy they're like they felt quite far away why you should be a 200 right if I transcendental had that coded for before was in the state so if I translated xyb the particle should be drawn at 200 ok there we go there we go ok so this looks like what I expected it to now I can see and I was going to do I think it'll be easier to look at what's going on also if I really really increase the resolution of this so I'm going to make the number of columns and rows that should have to calculate based on each other but i'm just going to make it much so you can see now this message is a left left highresolution so we can sort of see there too so now what I want to do what I wanted to do here and I don't need to display them if i want to apply force to them so i'm using the toxic with physics engine and it has a function called apply look o it's sad for ya there to add force so this is a function that allows me to arbitrarily add a force to it and I'm going to add a force like and that for should be a vector so I'm cold wind and i'm going to say back to d win equals a new back 2d and at point five comma 0 and we need to be 3d I forget that I've been 3d world so 5 comma 0 comma 0 so now we can see the wind is sort of keeping it up more like a fly here's the thing it's working it kinda looks like a flag it would be much nicer if that wind we're kind of inconsistent and also maybe there is the wind along the zaxis as well and no I always did Perlin noise in these types of situations so whatever bye i'm not even close to the texturing yet apply enclose the texture so let's try to make the wind a bit more interesting one thing that I can do I've got this twodimensional space which is really perfect here so i can consider an ex offset for Perlin noise and a why off set for Perlin noise and i can say the noise value is annoying x off that y offset and for every column x off should increment by something and for every row y off should increment by something and then actually this should probably be at the bottom that really matter and then what I could do is I could say this is n times 5 and this is n minus 0.5 so I manager should probably be different introduce different values for ok let's let's be let's be let's be better about this let's say because I want to make this look night let's say Windex is noise of X off why off and wind i'm just gonna win z is noise of X off why off and what I'm going to do is I'm just going to like offset these by then it just like look at a different part of the noise space that's like arbitrarily some other number so that i get different values for Windex and wind index for wind X and wind Z and then what I need to do it masks those you know this is a little silly to use a map because the range of going between 0 and 1 and maybe I want to always have some window between one and five always pointing in that direction and then I want to map the though which has a range between 0 and 12 between like negative 11 because II the wind could push in and out and so now if i do that let's see what we get we're getting kind of more like the wind is kind of changing over time here's the thing its kind of settling in i can do even better because it's even though the wind is different in a sort of smooth way through across all the point it's not every frame so i can add a third boy this is like a lot of Perlin noise up for all the texture stuff but it wasn't that i can add a third dimension which is really the frames of animation the time Perlin noise movie is really the x and y is the noise in the 2d space of the flag and these every cycle of animation so what I'm going to do now is I'm actually going to look at the office i can just use the same the offer each alkyl matter and then globally every frame the off will change by some amount so now i believe that i'm going to have something that feels a bit more like wind is changing over time it's not really going to settle in as much i'm sure i could play with the parameters in the amount but you can see we've got our flag and I think I kind of want i think the gravity should maybe not so strong so I'm gonna just make the gravity a little bit weaker and i'm going to go back now to having it the many many more points to also think will be more interesting to look at whoa ok so i hadn't i think i think the wind a bit too strongly really stretching it out this is the kind of thing that really sucks finesse and some playing around i'm not gonna I'm gonna let you if you download this code like play with the parameters a bit more but I could make you cringe a little bit less strong I you know also the strength of the spring is probably a big factor here so if i go into the springs they all get made where do I make the springs they all get made with a strength of point eight so if I made it like a point one I think it's going to make it really crazy flimsy look at that not look at that insanity and I could probably strengthen up a bit by making the strength one which might give it a little bit more so whatever this is better or worse but now we're ready right now we're ready to do the texturing this was the point of this video in the first place so how what's with the geometry that I can texture so what's actually being drawn here if I look inside draw you can see this is actually where the flag is being drawn every spring is a connection between two points and desktop display what does that do it draws a line between those two point so now what I need to do is I don't want to do this anymore that's not going to work for me what I need to do and I think I i think i want to do this in another loop because this is rich because crazy but I need a loop of columns and rows I need to render this with the particle so i need to go back to a particle dot display particle index I index J dot display so let's just make sure this works so now I'm rendering it a lot of points and I just want to make that easier to see that they can just point smaller and you can see that out so this is really what it is it's a whole lot of point remember that triangle strip thing all i need to do is fill it with tribal trips now from top to bottom ok could you add one or two more locked point I definitely could so I maybe that's a good suggestion be able to do that I'm kind of event of us will add that little bit later but that's not a bad idea to lock a few more points to the to the to the pole and it would be too hard to do that would just be a matter of picking some other points to add right here ok so what I need to do now though is I need the ex and I need the white and what I'm going to do is I'm going to turn off the physics just for a second so how do with the easiest way for me to do that just comment about physics dot updates so if I comment on physics that update when I don't like it there should be no physics but i forgot to say anything so we want to make sure that still work so there it is but no physics there's the flag ok so now i wonder if I rest length is off to that something to think about but um so now what I'm going to do is I'm going to say begin shape and end shape and once they begin shake point and i'm going to say vertex and oh my goodness I cannot believe that after i really need to be here is a vertex X Y Z let's see what we get so now we should get there's my geometry it's just a set of point okay we're good shape ok so now I don't want I don't want a point when I want our triangle strips so triangle strip so this is going to be wildly off but let's let's run this week what happened oh my goodness I can't even make any sense of this whatsoever let's make sure there's no Phil let's make sure the stroke weight is just one and let's lower the resolution get boy I I just drives me crazy i want to have a variable something called variable resolution and i'm going to call it a day if one and then i'm going to say 4240 / resolution 40 / resolution can make us afloat i guess and then I'm gonna stay with is w x resolution so this way so no this just needs to be in it ok I'm this way that should be exactly what I had before and then it's hard to see and then if i change this 22 I should go see the better if i change this to for you could be okay so this is not right obviously it's drawing some crazy mutant triangle stripping that's not right so what's the issue here the main thing if it that I that I think will make this a lot easier to deal with is that I right now that loop that the columns is on the outer loop so it actually actually think for every column go through all the road could have the triangle service code count could be for everyone mentally think you've been going across so I actually want to have the columns in the interviews but I think for every row go do all the columns but do the column and it's really for every why do all the exits and do the x 22 x and y & x and y plus the next one so in other words what I'm saying is I don't know if that was clear but I want this to be in here just the way I'm thinking about it and then what i want to say is give me two different wide like give me why one actually need all of them the x11 why I need x1 y1 and z1 and then I need the one that's right below it right because the triangle strip is going to connect to the chiro that's below so i need to say then x2 y2 z2 and what is the one below k plus 1 j plus 1 j plus 12 joke then I can have another vertex 2 22 ok so i have two vertices and now let's take a look at what this does books already indexed out about of course so what's the problem i can't do the last grow anymore because I ever every Rod looking at two so i have to say Jay listen Rose minus 1 i'll get rid of that error and you'll be okay so this kind of looks right but there's all this stuff like connecting back to the beginning so the thing is the triangles trips each row has to be a distinct unit so even though i begin shakin and shit for the whole thing and when i get to the end when i get to the edge over here and have to connect all the way back to the beginning I could try to do something clever words kind of wraps around what's going to make it much simpler if I could just say let's actually begin the triangle strip for every row and end the triangle strip for every row and now you can see that i now have this whole flag is trying trip but we're really close now and I can go back and i can change the resolution 22 and we can see still the same thing this whole flag as triangle strips so now what do I do here's the good part now what I do is I need to load the image so it's time to say pms unikitty then i'm going to say no one looking at the bottom unikitty equals loadimage unikitty jpg in that file detective in the data folder for the processing sketch which you can see that it is right there and now I can say right here texture unikitty and all I need now are the UV coordinates so what are the UV coordinate well you is a value X what did I jay i goes between 0 and columns and the image pixels go between 0 & unikitty dot with I could use normalized texture coordinates so that they just goes between 0 and 1 probably makes things easier to kind nice to do that we actually do that but if you think I'll do that and that's a texture mode is it normal this way i can just do this i don't really need map even I could just take I and / so this actually makes things simpler because I can take I and / column whatever i'm gonna keep map which I which has a range between 0 and column now can have that between 0 and 1 and V which has j your range between 0 and rose to have a also between 0 & 1 so now you v and then the next vertex all i need to do is redo j and ask for j plus 1 right they need the meat you can be the same right it's the same X values but I'm looking for the pixel in the row below so if he has to be run up j plus 1 and and be here all my goodness i'm in front of my code so uh so so I think this should work Rose minus 1 this is a good point it really should be called minus 1 and rose 1i think that's right Rose minus 1 because the range is actually there's ten columns the range 30 tonight I think that's right so I'm going to say v1 the v2 v1 and v2 so now if we run this we should see you indicating the flag there we go this is so exciting so a unikitty is on the flag now we can do is put the physics backline I need a unit kitty song to play and now we have the University flag there is the unity flagyl all of a sudden it's not stretching out so much what I do that I think things left crazier than it was before up and by the way now i really want to just take off this is this would be a little bit nicer if I had a nonsquare image that could make a little bit wider also invented the College of Rosewood after the equal to the square flag is a little bit strange but i'm going to say no stroke I would really like to maybe increase its wind or whatever but I've got done so here we go you can make your own creative version of this if the unikitty flag i took a beautiful drawing oven unikitty i have textured it all just geometry in processing i have added specifics with the tacticals library and it is the unity flag thank you very much and I was meeting tonight at my last college after I feel like what else could you possibly ever want to make after this i'm sure i'll be back very tired right now you're watching this in the future words it's like one video but i think the time under live streaming today I mean my our number five so later in the next video sometimes have a good day evening morning whatever time it is for you go get somebody a hug drawn unikitty calculator