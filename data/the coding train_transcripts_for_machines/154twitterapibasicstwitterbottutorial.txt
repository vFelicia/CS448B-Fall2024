now is the moment finally after all this time installing node setting up node running NPM getting an API key signing up for Twitter all that nonsense it's time to playfully write some code that connects to the Twitter API search for tweets get an event every time somebody @ mentions you download images from Twitter all sorts of things post tweets to Twitter we're finally I'm finally going to I think in this video get to show you all that stuff so this is where we are so far we just have a simple node program says that it's starting Ascenta kate's using a separate config dot yes file that I showed you the previous video uses the twit package and now the before I start to get writing code let's talk about what the kinds of commands you can issue to the Twitter API so there I would put these in under three categories you can call with with twit and with the API you can make a get request so with a get request some things you might do is search and you could search you know by like hash tag you could search by location you could search by user there's lots of ways you could search and just say give me all the tweets that's have JavaScript give me all the tweets about rainbows I don't have any guy I feel like I need some hashtags associated with this rainbow with this ring with this this videos I'll think of something big assigning yourself and then another the other kind of command you might issue to the API is a post and this is where you're actually tweeting twittering tor Twix twitting tape stirring tweeting okay I'm post post is where you're actually like posting to these so you have some generative poetry machine you made it has a beat pit of text and boom it automatically posted Twitter through making a post so we need to look at those two and the third one which is going to be I might not do in this particular video but is super important is this idea of a stream so the difference between these first two ways of creating the API get is just like give me 100 tweets we're done we're never talking to each other again unless I ask her 100 more tweets I don't know if you can actually get a hundred of time but a post is like please post this for me okay we're done I might ask you to post again later but right now we're done stream is like let's fit bconnected twitter api like let's just be one we are one and whenever something happens I want you to tell me about it we've got like this continuous connection like a socket connection which is the kind of network connection so you can assign certain kinds of events to the stream so if you want to have and we're I'm using this in one of my examples is anytime somebody act mentions me on Twitter this stream triggers an event and I could have some code that replies back one of my favorite current BOTS I think is called apology Trump which I believe is a Twitter bot that just like anytime Trump tweets boy sometimes when you're watching this video and like thank you okay nobody should be watching this video 100 cheers but likely somebody's watching this video in a hundred years which are clearly not going to be or buddy in just like two years from now is anybody gonna care about Trump no but the apology Trump bought hopefully will live on into the future and what it does is anytime Trump tweets it tweets an apology for Trump which is very thoughtful and nice of it I wish somebody would just apologize for me all the time as I walk around bumping into things but you can imagine how that's a streaming event so there's an event anytime Trump tweets the program that's running that's connected to the stream it gets an event it says I read that tweet make up some apology and post that apology so you know your your wheels are hopefully spinning with a ton of ideas of what you could do so these are the three methodologies so let's look let's look first at you know in a way this is all you need I'm tempted to just like only show you post because that's all you need but let's just look at let's actually look at each one of these kind of in a vacuum in this particular video and the next video will set up the structure for how a bot might work whether it's tweeting every five minutes or one hour or tweeting based on the stream so let's look at each one of these first okay so coming back over here hello I'm gonna go what I think the most useful place for us to look would be back to the github the twit API that started the twit package github page which I'll try to include a link to it but you can see is up here and so now you can see okay there's some stuff here like post and search so you can see a post is making a status update but so each one of these kinds of I think there's like this term like end point or whatever but let's not worry about the terminology the action the verb I'm doing is a post or a get and I'm modifying that get or post with some text like I might want to post a status update or I might want to post some media you'll see when uploading an image but let's look at this get one first so I'm just going to grab this code and I'm going to paste it into my program now I'm going to you close your overt your eyes for a second and I'm actually going to change something about it I'm going to grab this well I don't have a lot of but this big font I don't have a lot of space here and I'm going to I'm going to rewrite this for a second just to give you some more room so this is a little bit tricky here because I made this kind of awkward actually okay I'm gonna I got I got an idea sorry I was daydreaming again I'm gonna do this I'm rewriting this code in a way that I feel like might be a little bit more digestible for us to look at and ah I should done this in advance it's okay just just check it you meditate for a minute or something while I'm like anal anally retentive lilike aligning all of the I'm gonna stop I it's okay I can I can live with this okay so what I did just just if you were wondering is in the in the sorry I just have to fix my I really like I've been thinking about making this video called the anal retentive coder which is like based on the satellite guys silent live sketch the anal retentive chef but I'm going to get into that now but if you're if you're into that just remind me I'll make that video for you I kind of have a problem but what I the reason why I did all that it just took me a minute or two to like reformat this is often a JavaScript code is written in this very like I'm going to write this all this code in this like one line of code and it's going to have a function call with a couple objects in it and then an anonymous function to another function with a callback and I think for teaching and for learning and for practicing it's often easier to like break the stuff out into pieces so I don't have any problem this this is actually you know not that much intro simple but what I did is I took this example which had a function call an object as an argument to that and then another function isn't as an argument to that function call and I broke it into three pieces so this here is the get request I am asking Twitter to search for tweets and then I need to give it some more information about what to search for and so I could give it a query term like rainbow I was good and then a coding rainbow that's it hashtag coding raivo that's the hashtag for this for this video whatever uh count 100 so I want and let's just let's just ask for like two tweets back to be like a little bit simpler about this so I can modify the search with a bunch of things and if you go look in the Twitter API documentation you'll see there's lots of other kind of parameters for the search that you might put there and then I need a callback function I need a function that will be triggered when the I need a function that will be triggered when the data has been returned from the API this is just like you know jQuery AJAX call or a p5.js lo json call so you set up this API query you give it a callback you play with the data when the callback comes back so you make an object that has some parameters in it you trigger the get I want to search Twitter and you give it the parameters you have the callback and so let's see what happens here now if we run this particular thing I'm like afraid if this is going to work or not please work heylook so we got all this stuff how am I supposed to make sense of this so this is this is like a little bit of a problem now which is that like okay I there's all this JSON like I could like paces into the another file and I could look at it so in the end think maybe it might be one of the things that I often do is actually have no write out the results to a text file and then I can like look at it later and I could show you a technique for doing that at some point but here we can actually you know I could even probably pretty easily kind of like figure out that I'm I think what what I'm looking for scrolling scrolling scrolling this is actually really hard to find is I'm looking for status text source there it is text so this is what I'm looking for like the text of the tweet you can see has some like emojis in it and you can see this statuses right so the beginning of the object is statuses then there is a then there is an array and the thing that I want in the array is text so for example something I could do here is I could say alright far tweets equals data statuses and I could say for VAR I equals 0 I is less than tweets length I plus plus and I could say now console dot log console dot log tweets index I dot txt now I'm pretty sure I got that right just because I've used the Twitter API before and I have a sense of how the JSON is structured there's a lot more information like who is the tweet from was it retweet you know it doesn't have any hashtags there's all sorts of things you can find out in there but at least now we could try running it again and you can see I got program your own rainbow dash vote its man you Ella Alex cuz a double rainbow is hard to find so you can see I got the raw text from those tweets there so again this is it there's not a lot of code here like this that's what all we said all this time like figure out how to install that package because the package does it all for you so we now are able to search Twitter and go through it now you know it might be worth actually let's go look at the Twitter API documentation because I kind of did that because I kind of half already know how to do that that was ok it was a little bit like cheating you a little bit so let's go and see like what if you really wanted to figure this out you could go to the to dev twitter.com and you know I'm just going to I'm actually just going to do a Google search for like Twitter API get and then one thing I might do is paste this search search / tweets if I do that you can see look at this I found a reference page dabbed at Twitter come rest reference get search tweets so you can see this would hopefully now be the page that's the most useful to you because you can see here like a bunch of things like the query that is looking for a rainbow I can add a geo code a language all sorts of things that count you think these are the other types of parameters that could go inside this object right here to modify that search and then down here you can see an example result so this is where I want to look and see like okay what I need is the object statuses and then looking for and kind of go through and see that text is here excuse me I just burped on a live stream that's Barry and a recorded this is going to be recorded okay so we gonna like edit that sound flip out and make some song out of it maybe you couldn't hear that at all so aggressive Pony anyway I don't want to get you far into this if you're interested in how you like search through JSON or how JSON is formatted I have some other videos that I'll try to remember to link to that you could look at that'll get you up to speed there so that's how you can see how you can kind of like figure out exactly like what goes in here and what goes in here but the structure is here now for you require the TWiT package make a authenticate set up some parameters make a get request handle that grant request okay so now that we've done that that twelve minutes um in the let's let me do the post because the post is kind of easy we're going to get to that into in really fast so I'm gonna let's go for I'm able do streaming in the next video or a little bit later so post is the next thing that you might want to do so yet which is searching on Twitter post is tweeting so what I should be able to do now is add a I'm going to leave this stuff up I'm going to leave this stuff at the bottom actually let me just do I'm going to do save as bot to Jas I probably should make a whole new node thing but just so I can get rid of this code for a second and what I'm going to do is now go back to the github page for the twit I never thought at any point in my life I'd be saying things like I'm gonna go back to the github page for the twit like what does that even mean and I'm going to look under post here and I'm going to grab this example T dot post and I'm going to do the same thing to it so what do I need for t dot post I need I need to post I need the path I want a status update I need an object that's going to have the information for that status update like the I'll call it the tweet and then I'll call the callback tweeted how many variations of the word twit tweet tweet ur Twitter can come and possibly have a lot apparently so what I need to do here is first make that tweet object and actually the only thing that needs to go in that tweet object is a hashtag coding rainbow and so that's my tweet hashtag coding rainbow from nodejs and then I need to have again a callback function tweeted with it with these arguments now I didn't really talk about this there's like a whole bunch of arguments so I'm just kind of fixing this up and you can see I'm doing the same exact thing here I have my tweet object which is one parameter obviously there could be more things as you can see if I'm going to like tweet with an image I might have like a property of this tweet object that has a media element to it I'm going to post to the Twitter API status update I'm going to post this status update and this is the callback when it's finished so a couple things number one is you don't really need the callback here because there's no information you need back you're just sending to Twitter but it's often useful have a callback because what if it doesn't work what if you have the wrong API key or what if there's like you have more than 140 characters or there's an invalid character or something else goes wrong so you can see here there's like three different arguments error data response and so I that was probably in the other one as well error you can imagine if you're going to that error argue our parameter is filled with information should there be an error so something you can often do is say something like if error console dot log you know something went wrong otherwise I could say console dot log data and somewhere in here I could pull out you know something from there but what I might just do is just say like it works right now so here I just want my bot that I'm making to when when after it posts a tweet to either say something went wrong or it worked now this isn't great practice because ultimately if something goes wrong I need to figure out what that error is and really log it so you you know that's something you could certainly do but I'm not going to worry about it too much right now so this is it right all that you need to do to post to Twitter from node is this set up the tweet T dot post have a call back now of course we make the bot we have to figure out how do you schedule that and all of that but for now let's just see if this works so I'm excited to see what happens I'm going to go back here and I made this by the way a file called bot 2 so I'm going to run bot right now I'm gonna run it the bot is starting I say that it worked I'm gonna go to Twitter oh my god this is like uh where am I going I don't know I'm like way too excited here I'm gonna go to my a to Z account and I'm gonna see that there it is there's my tweet that I tweeted from node hashtag oh it looks like it says code in grain bow but it's a little bit weight with a Maconie horn boat from nodejs so this is great so now you've really got a lot of stuff to work with because you know first of all I could have searched Twitter for the term rainbow and then I could have like put all those things into like an array and then I could have taken one word from each tweet and I could have mash them up you know the possibilities are endless of what you can do in terms of querying and reposting or you know you could make a Twitter bio just picks a random number and tweets the random number every time you run it so what I would do is come up with some really sort of drop dead simple idea of how you might generate a tweet just from a little bit of code a random number or something or pick something from an array or even just like hard code the tweet in there get your node program tweeting to the account once you have that you're absolutely ready for the next step the next step is scheduling it like a bot and then and then ultimately I want also want to touch on how to use this stream thing and Oh as if I forgotten we I need to show you how to use processing to make images that you could tweet oh it's already 1210 what good is I don't know how I'm gonna get to all this today but I'm gonna try to keep going ok um oh I have to stop this video