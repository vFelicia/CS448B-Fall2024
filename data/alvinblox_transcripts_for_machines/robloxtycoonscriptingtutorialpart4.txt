so in this video we're going to learn how to create a dropper so that you can actually start earning money from your Tycoon so first thing we need to do is we need to get a model for our dropper now I'm not too bothered about how this is going to look so I'm going to go to the toolbox and I'm just going to search for a dropper uh now again it's got be got to be careful when you are going through the toolbox because you might find uh a dodgy um model but I'm going to show you how to make sure your model is is safe um so I'm just going to find a dropper and I'm going to drag it into the game now here's the first thing you've got to be careful of so it says neon dropper can uh includes one script now we don't want any scripts so I'm just going to click on okay I'm going to close down the tool box for now um but then in the Explorer what we can do to make sure this is a good model is we're just going to open up all of the um nested tabs here so just make sure you can see everything and then if you see any Scripts we're just going to remove them and you should just only see Parts if you see some parts contain like a fire object or Sparkles or script just remove them okay so once you've figured out that your dropper is safe um or of course you could just build your own right like it's not that hard uh I'm just doing this for the sake of the tutorial so when you've done that uh just drag it onto your plot somewhere I mean let's put it over here okay and um then what we want to do is we want to have some kind of conveyor right cuz that's typically what happens in a tycoon you have a dropper it drops some kind of uh part onto a conveyor the conveyor then you know brings it all the way over over to here and what have you um so let's go ahead and create a simple little conveyor so I'm going to insert a part and we're just going to scale it over here and we'll just make it so that it is wide enough that it covers the width of the dropper and then we're going to just increase the size slightly I'm going to make it gray uh and I'm just going to actually reduce the size a little bit so here's our conveyor right and then I'm then going to just add uh some parts to the side of it I'm going to control D to duplicate this part and then I'm just going to move it to the edge and this is going to act as like a little wall okay to prevent a little dropper parts from from falling out and to do the same thing I'm going to duplicate with contrl d and we're just going to drag it to this side okay okay so there we go very simple conveyor uh and then I'm just going to select all three parts and make sure that um it's still within the boundary of our plot like that and then if you want you can just uh make sure that the dropper is centered and there you go we've created a simple conveyor uh only problem is it doesn't work yet so we need to firstly select all three parts of our conveyor okay by holding down control or command if you're on a Mac when they're all selected go to the properties window make sure anchored is checked and then you can um group these parts together so I'm just going to rightclick on them all and select group as a model and I'm going to call this model conveyor Okay so we've created a model for our conveyor and we now have a model for our dropper so I'm going to just uh close down the um nests on the dropper here and I'm going to name my dropper dropper so by this point you should have a model that's called dro and a model that is called conveyor okay last thing we need is a little part over here which will collect our um our drops and we'll convert them into money so let's just create um let's select this part which is our conveyor part we're going to duplicate this specific part and we're just going to move it along here and then I'm going to scale it down this is just going to be like a little collection area okay and I'm going to extend our walls as well you can select one part that's in a model by holding holding alt right or I think it's option on a Mac if you um if you just want to select one part like that there you go uh and finally we will just duplicate this part to create a barrier at the end okay so we now have got our conveyor all set up and totally working it's just good at this stage to make sure Again by selecting all of your parts they're all anchored this means that they won't fall to pieces when we start the game up and it all looks good to me so we've got our little conveyor there's a little Clash issue here I'm just going to select our white part and move it here there we go okay we're totally good to go so now last thing we've got to do before we can start coding is we need to make this conveyor part work so when a drop lands on this part we want it to move all the way down to the white part and to do this we just need to set the velocity property so if we go down to the properties window we've got assembly uh linear velocity and there should be a velocity property okay so we actually are going to have to do this in code um but that's all good uh what I'm going to do is I'm going to um I'm just thinking about this I'm just thinking yeah what we'll do is we'll take our little conveyor part here I'm pressing alt and clicking it so this specific part that we want to be the conveyor I'm just going to name it uh belt yeah I should have just called it the belt shouldn't I um so I'm going to select the Belt part and then I'm going to click on the plus and I'm going to insert a script and then inside of this script I mean if you want you can name it um belt script so we know what it is then what I'm going to do is I'm just going to Simply say uh script. parent. velocity uh we probably shouldn't be using velocity to be honest um because it is deprecated um so I'll look into a better solution soon but for now it should be okay uh script. parent. velocity equals Vector 3. new and then we need to find the direction of travel so I believe it's going to be the uh Z axis so we want it to be going left on The Zed axis um so I'm just going to put 0 comma 0 comma 10 and hope that that works and then um what we'll do is we'll test it by going to the top left selecting home clicking on the little arrow that's underneath the play button and choose run and uh and what we can do is we can just drop a part onto the conveyor and look at that it's moving uh perfect so that is exactly what we wanted to happen all right okay next thing we need to do is we need to set up our drop dropper so I'm going to select this part of our dropper in fact you know what I'm just going to insert a script into our dropper here and this script uh I'm going to call it dropper script and what we want this script to do is we just want it to spawn a part every few seconds from The Dropper okay so very simple we're just going to say while uh task. wait to do and that will repeat every two seconds we're just going to say um let's firstly create the part that it's going to drop first okay so we're going to go back we're going to click on the part button up here and we're just going to design the part that is going to be produced by this dropper so it's for me I just want a small square part okay um I'm going to make it neon blue because seems to be what this dropper looks like you can customize it however you like and I'm just going to call it um dropper template okay and I'm going to then take this dropper template and I'm going to put it into server storage all right now we can go back to our dropper script and I'm going to create a variable for our dropper template which is still stored in uh server storage so local drop a template equals game. server storage colon wait for child Dro a template like this so this will wait until it finds the dro a template just because sometimes the script can start running before the uh Dro a template has been loaded in um completely so this will just make sure it's waiting until it finds it and then every 2 seconds we're going to say local new Dropper part equals dropper template colon clone new dropper part. cframe equals and This Is Us telling the script where we want to spawn the part now in our case we want to spawn it at this drop part now if you've built your own conveyor you should have one of these parts right where it sort of it's semitransparent and it shows off where the um where the drops will come from okay so I just recommend you have one of those I mean for me I've set it up so that this part is called drop and it's inside the model so yours may vary but as long as you um in our script we set the cframe to that Parts position we'll be all good so new drop apart. cframe equals script. parent. drop. cframe okay like I say this can vary of course because your part might be a different name might be in a different place whatever but just make sure you set this to a reference right from your script to this part or you could even set it to be um its own position in the world like it doesn't really matter and of course you can play around as well with adding or subtracting Vector 3 values so if you wanted to position it um slightly below that part then you could say minus five studs here or add five studs or whatever but for me this should work perfectly fine fine and then we're going to say new drop apart do parent equals um where should we put this let me think I'm I'm also going to create a folder okay I'm going to create a folder in my dropper so I'm going to click on the plus for the model going to search for a folder going to select it and then I'm going to set this to be called dropper parts and then I'm going to set the parent of these new parts to scrip scripts. parent. dropper Parts this is just so that everything is organized and finally just above the um uh in fact yeah what we'll do is we'll say new drop apart set attribute um drop drop apart true okay and this is just so that we have tagged it so that when something touches our white part over here we can make sure it's actually something that came from a dropper because we don't want everything that touches this part to give us cash only things that came from a dropper so if we tag our individual dropper Parts with this here then we'll know that it is allowed to give us some cash um in fact what we can what we can do is we can War up ourselves here and we can say um cash to give and we can set this to a number right we could set this to five for example but what I'm going to do is I'm going to select our dropper right in the in the in the in the Explorer I'm going to scroll down to the properties window and I'm going to set an attribute of this dropper and this is going to be an attribute that tells the game how much cash each drop part from this droper is going to give so it's going to be a number and I'm going to call it cach per drop and click on Save and I'm going to just set this to two so every drop apart will give two cach all right and I've set that in the dropper so now in our script we can set the cash to give value of our specific Dro a part to script. parent get attribute cash per drop there we go so the cash to give will be the same as the cash per drop which is two and then when this drop apart touches our white part we can just read its uh cash to give value and increment the player's cache so what we'll do is we'll just apply the edits from this script we'll go back to our Tycoon and I'm just going to head over to the dropper area we're going to test this we're going to see if Parts start dropping out so let's open up the output window let's clear it just in case um and we'll zoom out as well we'll click on run and we'll see what happens so our drop a parts are spawning but they're getting stuck in the dropper I did think that this would happen so what we can do is we can click on the stop button go to our dropper script and where it says new drop apart. cframe we do just what I said which was to add on uh or subtract sorry Vector 3. new we'll subtract about two studs okay so this this will position it two studs lower than it than the than the drop part C frame so again we'll click on run and we'll see if this changes things okay there we go so our drops are now falling out of the dropper they heading towards the white part and all that's left to do is when these parts hit the white part we just need to remove them and increment the player's currency so click on the stop button and finally all that's left to do is we'll go over here to our white part hold down alt or option on a Mac so we can individually select it and then in the properties panel I'm going to call this um collector and then I'm going to go up to the Explorer panel and to click on the plus insert a script I'm going to name this script collector script and then we're going to create a simple touched event for when this part is touched connect function hit so when something touches this part we firstly want to check to see if it has a cach to give attribute because that's what our dropper Parts have that's how we can tell them apart from other things which might touch our collector so if hit col on get attribute um cach to give then we firstly need to find the player who owns this plot so how are we going to do that well we know that our items such as our conveyor and dropper are going to be stored inside an items folder in a plot and in our previous video we set an attribute of the player's plot um didn't we we set the uh taken and owner user ID so we set the user ID to the owner attribute for their plot so when this script is running we know that it will be in someone's plot it's not at the moment but what we'll do for now is we will just uh take our three scripts here our belt script collect a script and our Dro a script um and we will just make them disabled for now so going to select these three scripts we've been working in and to set the enabled to unchecked okay so it's now disabled and then what we'll do is we'll go back to our plot Handler and for all of the items that are in the template items whenever they get unlocked what we'll do is we'll just cycle through everything inside the item and if it's a script we will make it enabled so for underscore comma script uh script object in if you call it script it won't work because script is a is a globally globally used term so it has to be something other than script so underscore script object in item clone get descendants do if script object is a script I think we can say base script uh then script object do enabled equals true Okay so now that that's done this script will this script this script and this script will only start running once it's in a proper player's plot so we can get the plot uh by saying because the uh dropper sorry the conveyor will be inside the items folder so we should just be able to say script. parent given that we're in The Collector script right now so this would be the collector do parent would be the conveyor parent would be the items folder and parent should be the plot so I'm going to create a variable for the plot okay what we'll do in the future is because we'll probably get on to having you know other things and and this might get a little bit messy but we'll probably write a function in the future that gets the plot from a specific item uh so now we've got the players plot we can get their user ID and we can just create a variable for that okay and then we can make sure it exists so if not plot owner user ID then return end and we can also check to see if the plot doesn't exist so if not plot then return end might not exist for some reason you can do an error error message here if you want um so warn no plot no plot owner user ID and by this point we know that we have found the plot owner because otherwise it will have returned earned by now so we can say um local player object equals game. players get player by user ID plot owner user ID and this gives us their player object so that thing that's stored in game. players and this allows us to get access to their leader stats so we can say player object do leer stats doh do Value Plus equals and then we're going to say um hit get attribute cach to give because hit in this case is going to be that Dropper part which we just created um and spawned from our dropper finally we are going to uh delete that object so before we increment the cache we're going to say hit colon destroy okay so it destroys it and then it increments the cache so let's test this out what I'm going to do is I'm going to take our conveyor and our dropper and I'm going to drag them into the items folder of our template plot now we've added two new items to the game which means we need to give them their own specific ID of course our first model over there the painting had the ID of one I'm going to change the name of this to painting as well because um it was just called model for ages but if we go to our dropper and our conveyor we just select them both okay make make sure they're both selected going to add an attribute we're going to call it ID this is going to be a number we'll click on Save and so their ID was number one for the first one we can just make the dropper id2 and the conveyor ID3 doesn't really matter which order as long as they're all different so we've got one two and three so now we've done that let's just take our button over here and duplicate it and I'm going to put it over here for the conveyor and I'm going to duplicate another one and put it over here for the dropper now obviously we need to just link these up so the button I'm just going to call this dropper button and I'm going to call this one conveyor button just so that we don't get confused I'll call this one painting button whilst I'm at it and then we just need to set the ID of item to unlock to their specific IDs so the con so the dropper has an ID of two so I'm going to select the button and I'm going to set the ID of that to two and I'm going to select the conveyor and the ID of item will be three for this one okay so that's all set up we can change the titles of the buttons later on it's not really important right now um but that should be everything let's just go and uh test it out and see if it works we might get a couple of issues here because we've um we've been working on quite a bit of stuff okay so I need to just walk over to the plot all right so we firstly need to give ourselves some cash so I'm going to go to the current server to the Explorer and set my cache value really important that you do that on the server not on the client a lot of people will set that value on the client and and not realize why it's not working so I've bought my painting I'm going to then buy my conveyor and let's just make sure that the conveyor script has um been enabled because don't forget we set all of our scripts to be disabled um that was in our belt so our belt script is running our collector script is running so this is a good sign okay and I'm stepping on my uh white part here and I'm not gaining cash which is a good sign so it's only set to give that cash to those dropper items and now I've unlocked my dropper The Dropper script has also started running and look at that the little dropper parts are hitting the white part and then if you look closely you can see my cache is increasing by two every single time um now there is one other issue in that there are multiple droppers here there's one dropper here there there's two droppers that seem to have been created um and there's also three paintings here okay so um let's have a look and see if we can solve this problem so if we have a look at our plot Handler script this is likely because this touched event is going to be firing multiple times when we step on the button because I have many body parts in my character that's many potential parts that could be colliding with this button at the same time forcing this touched event to fire more than once very simple way to fix this is you just say uh around around about here we can just say button set attribute debounce true and then underneath it we'll say task dot delay um two function button set attributes we can say if button then button set attribute debounce false and um let me just think here I'm just thinking uh oh yeah if button get attribute debounce then return end okay now this should work what we're doing is we're basically setting a value which prevents the button from being um from running this code again until 2 seconds have passed until the d bounce value is false again so this this if statement will return if the debounce attribute is true so we're setting it to true for 2 seconds and then after those two seconds we set it to false again of course the button could have been destroyed by then so we're just checking to see if it still exists but this will prevent the code from running uh past this point more than once every two seconds so it will only spawn the item once so let's go and test this out all right so I just sped things up gave myself some cash um let's just click on the buttons again and doesn't seem to be any errors in the output let's go into our plot and items and this time you can see that there are only three items that exist so we have fixed that issue but the good news is we now are able to earn money from our Tycoon we essentially now have a tycoon game um set up and working it's still very basic but it works we have the ability to earn money um so we now just need to add more items really uh and we also need to add uh data saving which we'll probably look at next time so you can watch that video uh if it's released by the time you're watching by clicking on the thumbnail hope to see you there