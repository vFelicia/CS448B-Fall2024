okay in this video I'm going to show you how to create a fireball magic script so that when you press a key it's going to fire these fireballs at other players in the game or even zombies and it will kill them when they get hit so let's get straight into the video okay so firstly you need to create your fireball so I've done this I'm gonna insert a sphere into the game I'm gonna give it a color and I'm going to call it fireball I'm going to set the material to neon and then I'm going to put in a fire object inside of this part so it catches fire I can then change the heat property to increase the amount of heat that comes out and this entire size of the fire objects when you've got your fireball then you just need to drag it into server storage and then you will leave it in there next we need to do the coding on the client which is where we will script the detection of when a key is pushed down and then we can fire a remote event to tell the server that we want to create a fireball so click on the started GUI and insert a local script now inside of this local script firstly we're getting the user input service and this is used to detect when keys are pressed so we've called a variable user input service and we've got that service then we've got two variables which will get the player and then it will get their character so if the character isn't already there it will wait for it and when it has been added the character variable will be set to their character object we've then got a variable to get the player's mouse this is so that we can set some we can get the position of their mouse we actually won't be using that though so I'm going to get rid of all this because I converted it to using the player's character position so we don't need this currently so you don't need to write out what you do need though is this debounce variable and we're going to set this debounce variable to false and this will just prevent us from firing lots of fireballs at once so then we're going to use an input began event so we're going to say user input service dot input began kernel Connect func and we've got two arguments here input and is typing so when you press a key on your keyboard or click or press a gamepad button it's going to fire this function whenever there's input so input on the keyboard or mouse or whatever when that begins it's gonna kick off this function and this code is going to fire and it gives us an argument which tells us the of input and that tells us the key that you pressed down and this second argument is true or false value and it tells us whether you're typing in the chat window because sometimes you don't want to fire your code if you're just pressing down keys in the chat window because you're typing to someone you're not pressing down to activate your power so simple if statement here if not is typing and that just basically means if you're not typing in the chat window then we're going to carry on with the rest of the script then this second if statement is the debounce so it checks to see if the debounce is false so not debounce it's the same as if debounce is false so if the debounce is false we're gonna set that debounce variable to be true and so that way when we press down the key again we're currently debounce is set to true so the not debounce condition is going to be false so this if statement will not run which means the code isn't going to be repeated over and over again it will only be repeated when the debounce is set to false so whilst we're now the debounce is true we're going to check if the input key code so when you say input key code you're checking the key that was pressed down I'm gonna say if the key code is equal to and then an enum so an enum is just like a list of of keys that you can choose so enum key code if we were to write that again an enum is kind of like a check check this way you can select a you can select whatever key you want to be pressed here it's but it's just a better way of putting it in and speech marks so we can put down Q because that's the less left the key that I want people to press down if you wanted a different key such as a or s or D whatever you would just write that key in there and there's also support for keys like control I think let's have a look okay well they've got caps lock remember control isn't available on Mac so that's probably why but there's lots of different keys that you can choose I'm gonna choose cue okay so if the key that's being pressed is cue then we're gonna fire this remote event called fireball so we need to insert a remote events into replicated storage I'm going to call it fireball and we're going to fire off that remote event I'm going to pick it up on the server and create the fireball we're then doing a wait a very quick wait just for the debounce and we can set it back to false now I had the debounce because originally I set it to two so you could only fire one fireball every two seconds but just to test it I'm gonna set it to naught point naught one so basically we can fire them as many times as we like now once we've got the code down for that local script we can move onto a server script so insert a server script into the service script service by clicking on the plus and clicking on scripts and this is where the magic happens so firstly we've created a variable for our fireball and this is the one that we just made and stored in server storage once you've got that and I'm using wait for child by the way just to make sure that it's fully loaded before the rest of the script runs then we've got an event for our remote events so when the remote event called fireball has been fired by the client which we do here when we fire off to the server we're going to pick up that events and we've got two arguments we've got we haven't got the C frame argument because we deleted that remember with all the mouse stuff because we don't you don't need it we've just got one argument for the player and that's automatically passed so we can create a variable for the player's character so we can just easily access it and we're going to create a clone of that fireball object so we're going to clone it out of the server storage and we're setting it as a variable called new firewall so that we can just easily access it so we've cloned out the new fireball and now we're going to set it C frame so C frame is kind of like its position but it also takes into account rotation as well so new fireball dot C frame and we're setting the C frame to be at the character's humanoid root part the humanoid root part is kind of like the torso each player has it is just a square block in the middle of their character so it's great for just positioning objects wherever the characters so we've set the new fireball C frame was position to the middle of their humanoid root part the middle of their character that's where it's going to start off wrong that's where it's going to fire from but we need to push it forward so we need to push it forwards at our enemy so to do that we insert a body velocity and what a body velocity does is if you set its force and then set its velocity velocity is the direction that's going to go in where you want it to end up basically so we told it what we want to end up and we've given it a force so it's going to push and the fireball at a certain force maximum force will be 5,000 so a number between zero and five thousand and however close it gets if it's far away it will speed up because it will be using more force and the closer it gets it will start slowing down to our target and I'll target the velocity is the character's humanoid root Part C frame which is where we started off from but we need the forward direction so look vector is the forward direction of that C frame position so if you think about our character if you think about it imagine that the blue arrow this this little dot here in fact I'm going to draw it for you this green dot is the humanoid report C frame that's the origin C frame when we say look vector we're getting the direction so direction in a certain direction okay that makes no sense but when we say look back it's getting the four direction so it's when we times it by a number then it's going to be that C frame say like 100 studs in front in the same direction so the fireball is going to move 100 studs in this direction because look vector is the four direction of the C frame of the humanoid rear part so when we say humanoid report or C frame that's the middle of their character and then dot look vector is just the forward direction and then we're timesing that by a so this piece of code will get us a position a hundred studs in front of where the humanoid is humanoid root part current ears so basically a hundred studs in front of the player which is the which is where we want the fireball to go we want it to end up a hundred studs in front of the player and we want it to travel that distance we want to fire it along at a distance so that's what the velocity does it tells us the end point then the max force is a vector3 made up of three values how much force you want to be applied on the x axis y axis and z axis so we want 5,000 force now play around with these values the more force you give the faster it will go and the bigger the direction the bigger the gap or the further along the point you can increase the point distance by increasing this number that your x by the the longer it is the longer the distance between the player and the end point the quicker is going to go to get to the the end so I'm going to keep it 250 and then we're going to parent it we're going to put the body velocity inside the new fireball so the body velocity will act on whatever it's inside so when it's inside the new fireball is going to start working and of course then we put the new fireball into the work space so everyone can see it then we're going to set up a connection so when so the firewall would work now but it just wouldn't kill anyone and that's what this part of the code does so we've set up a variable and we've done this because we want to attach our new fireball to a touched connection okay so and we do this because we want to disconnect at the end because we didn't disconnect it we'd have lots and lots and lots of events running at the same time and it would cause something called a memory leak because when with when we touched someone we've touched a a character and then we delete the fireball the connection is still with that it's still running it's still checking to see if it's been touched and let's say you run this 3,000 times that's 3,000 connections that are using your computer's resources so we need to clear up so we can disconnect a connection and when we disconnect a connection it's no longer checking to see if it's been touched so that's the great thing about connections we can we can tie them to a variable and then we can just and that will save memory and prevent a memory leak and a memory leak is when you have so many connections that it's using that we computers resources in his ass to lag so that's why we're using the variable touch con okay so we set the local touch con here and the reason why we have to do that local variable above it was because when you define something with local here it becomes an unknown for the things inside of the of the event because you've only just defined it so we need to define it beforehand but then it's but its contents are going to be updated to be this connection because then when when the firewall has been touched we've got the hit argument so whatever touched it we can then check to see if it's a player or an NPC by saying if hit parent which should be the character objects if it contains a humanoid so we say find first child in case there isn't one we don't break the script so if there is then we're going to quickly check to see if the thing that it touched isn't our character because we don't want to immediately fire it and then accidentally touches us when it first gets set to touch our character we don't want it to kill us so we check to see if the brick that touched it if it's parents name so it's character's name isn't equal to the same name as our player so if it's not us then we're gonna break the joint of that player and when you call break joints on the player's character it kills the player because it separates all of their body parts so they're getting killed and then we're just checking to see if the touch con is still equal to something if it hasn't already been disconnected or it hasn't been deleted then we can disconnect it we're gonna disconnect that touched event because we've touched somebody we've killed them the fireball is going to be destroyed so we're gonna clear up that connection I'm going to disconnect it because we don't know we don't let's keep on checking even though there's no more viable so we're going to disconnect that connection how long we've done that we can destroy the new fireball and then after the fireball has been moving for two seconds we're gonna disconnect that connection because we want to clear it up now and we're going to delete the fireball we don't want to keep it we want to keep it traveling all the way into space if it's not touched anybody after two seconds so we're gonna clear up that connection and we're going to destroy it so there we go that should be our fireball all done so let's go and test it out I'm gonna click play now play here so I don't spawn into the zombies zombies are gonna come and get me now you can see there's a little bit of curve I'm not too sure why this is to be honest I'm not too sure but I think it's quite cool because you can turn your character and sometimes it's on the left side sometimes it's on the right side so if anyone wants to let me know why that happens in the comments then I'll be glad to know but I still think it's a cool little fireball and if I do find out how to do a straight one which I will then I'll do another video but I thought this is a really cool introduction to things like body velocity and other things just to make a quick little magic fireball because you can rotate your character to move it but if you tinker around with those max force values and the velocity positions then you can make it faster stronger you know really awesome so quick introduction there into fireballs and you can also make it go to wherever you click the mouse and that was what I was doing earlier so in this fire server you could send mouse dot hit dot P if you got the mouse like we did earlier so local mouse equals player Curran get mouse and then when you send mouse hit dot P that's the position of the mouse I'm gonna send mouse dot hit because it's originally a C frame the dot P is what converts it into a position difference between C frame and position is that position sorry C frame is position with rotation so when you say dot P you getting rid of that rotation so we're just going to take the mouse C frame as an extra argument and then you can set the velocity I think to be the C frame dot P because velocity is a position and let's see what happens now I'd be surprised if this works first time so we're going to position the mouse and press Q okay it doesn't work it does work it just goes backwards so oh there we go it does work okay it kind of works so there we go but yeah experiment with it see what you can do with it and there we go thank you for watching I hope this video was useful teaching you how to make a magic fireball if you have any other videos magicrelated a lot of people want some magic videos let me know what type of magic you want to make and I'll try and do them so watching be sure to subscribe click the like button if you're enjoying the videos and you can check out the next video it should be on your screen now I'm having blocks signing off Cheers bye