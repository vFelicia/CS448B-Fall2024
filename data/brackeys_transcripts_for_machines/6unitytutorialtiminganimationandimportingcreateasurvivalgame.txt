hello everyone and welcome to the sixth tutorial in our Survival game series done by brais I am the CEO of brais and today we are going to take a look at importing assets including materials and um and UV data texturing and um models um primarily game weapons um I'm going to be using Maya and import from that um I won't show the process in Maya um but um the Unity part I will show you so um let's open up Unity I've opened up Unity as always and the scene is just like before except for one thing I've made a new folder called Imports so if we go ahead and double click on this you can see that I have imported quite a few things now um primarily we're going to take a look look at this maze what I did was I went into Maya and I created a model and this was just a simple uh sphere from where I extracted some faces and then collapsed the outer point so that they created these spikes and then from the bottom I just extracted out a cylinder and what I later did um is that I UV mapped it meaning that I I told told Meer how it should um put on the texture that I later created um Myer can do this automatically there are also pro programs for it um this UV map in particular is really really bad um but I am not a uh 3D designer so bear with me here and um after that I I did the uh Textures in Photoshop and then I just saved it as a Maya file justrl s just saved it in uh my Unity project you could also save it as an fbx file and uh this is important to remember um my uh sorry Unity loves fbx everything Autodesk related it just works um with Maya you can just save as a Maya file I am pretty sure that you can do this with 3ds Max to too but um don't hang me out on that um and if you're using other programs that doesn't know how to extract these kind of data um obj will work but it will only work for the modeling so only the model will be imported um with Maya and stuff you can import everything so um just think about this um when when when you go through this I want talk about all the programs then I could continue on okay anyway um so what I did I just saved the maze um and when you save uh something it'll just look like this this is a sort that I made um it won't have any texture Dam uh any texture at all or anything like that all right so um let's take a look at how we apply the uh texture so what I did is simply if we take the sword for example that's unapplied um first of all I click on it and then I go to the import settings and just make sure that everything is as I want it to be um I want to import the materials you can uncheck this if you want to apply some in unity um but I made some in in my so I want to use those um you can you can do something with the normals the tangents um I won't explain that if you're going to make a light map that means later bake the lighting then you could click the generate light map uis don't worry we'll talk about this later but generally for stuff like that moves like a sword you won't um you you won't check that uh generate colliders this is not necessary unless you want it to collide like extremely beautiful um but this is heavy so normally uncheck that optimize mesh that's a good thing and the scale factor you can change this when you import it this is going to be a different number than what you see here um um because it depends on what kind of scale your um program uses that we have imported from and stuff like that so and Rick and animations you can just leave this we could go in and just say uh none under the rig and um apply and on the animation just hit don't import animation if you don't have any animation and hit apply okay so uh when we go ahead and drag this into Unity the uh the scale factor is actually pretty fine with uh this sword um so if I go ahead and select it and hit F you can see that that's not too bad um should it been be completely don't you see it or is it huge then you can go into the sword here click on it in the um Imports and then you can just change the scale factor to um to change the way that it's imported um so if we click on the sort again um we can go ahead and disable stuff like the uh animator you can right click and remove that component because we won't use any of the animation from Maya and uh we could also go ahead and rename stuff like the the uh materials so um every time you import a model um it will either import a material or create one on its own so if we go under to the folder here that it will automatically create wherever you import it um you can see the materials that it automatically imported so we could go ahead and just rename this to sort texture I already I have done this already so I'll just call this 02 but that this is how you would do it and uh then you would go back and click on the sword because right now it doesn't have the texture applied and all you have to do is simply take the Photoshop file that you used in Maya or whatever um and my look like this and just drag it in and now you can see that we have some beautiful um texturing or something like that and um yeah that's basic it for importing assets so um then then what you can do is you can simply drag it down here to make a preset uh I won't do this because I've already done this and um I'll just drag in the Maze that I made so I'll drag this in to the scene and we can see that it's on the ground so we can just drag it up and rotate it 180Â° I'm sorry and uh we want this to be exactly where our other Maes so we can go under the player main camera m and then the mace and just drag this in and zero out the transform just to get it positioned Oh wrong object selected so select the Mace new Maze and then Z out the transform and you can see it disappears inside of this um and then we can just drag it onto the melee again and if you want you could delete the maze um you could um you can do whatever you want here um but basically I'm going to remove some of the animation and all of this I'm going to redo this um I might do this off camera now that I've shown you how to do it but um I'll just go ahead and delete the original Maze and now you can see the new Maze and we'll just try to position this um and also before I noticed that the mace was really too big it was just too far away to be able to see it so I'll drag closer to the camera now um like this this looks a lot better um so I think that this will do for now so if we go ahead and hit play um it is stuck to the uh the screen as always and um we could go ahead and just delete the animator component from that also okay great um so I have an error um The Maze of the Mele system is not defined okay so um what we're going to do now is we are going to uh play around with the way that our Mele system works um because this will be fine as long as you do it in all in unity and it's not that complex and but once it starts to get more serious um you should really do this in uh another way and that is by creating a me system script for every every weapon so let's go ahead and remove this component and then drag then go under script and then drag the Mele system onto the mace instead so the mace itself and then we go ahead and double click on the Mele system script and open up it up in mod develop and um you can go ahead and just keep some of this animation stuff um what you can do is you can uh select it right click and um let me just check for this uh this is weird uh normally oh that it was okay so you can select something and you can right click it and click chuckle line comments uh comments and this will just comment it out so that you can later um you can you can later on come in this so you still have it but uh it won't get used in the script so this is really useful if just want to temporarily get rid of something without having to create multiple scripts okay um this video might be long it might be cut up into two parts uh we'll see all right so let's go ahead and delete the uh maze transform because now the um script is applied to the mace itself so we won't have to um say which game object it has to go under and stuff like that um we can just use this so um we can go ahead and delete all the parts where it says the maze do something um and I'll just go ahead and comment out the animation. playay attack also um so if physics blah blah blah blah blah that looks fine distance and this then the max distance hit. transform the damage send message okay so this all looks pretty fine we can go back into unity and then clear all these erors out and see if it's still working so go to our enemy and hit it hit the mouse a couple of times and it is not so um let's see what we have done wrong um it might be something with the centering yeah um so right now it's calculating the the hits um from our mace so we we are going to want this to calculate from our M so um under the um transform. position this is going to be um a new variable so we're going to create a new variable and we are going to call this uh for um the system so this way we can reference um the the parented system this mely um so we can get the exact point instead of get uh instead of getting the point that we have um applied the maze to this might sound confusing um but you'll get it in a sec so we'll use this transform instead of the maze uh transform okay so the system uh and then transform and semicolon uh and then we can just go ahead and use the system. transform.position and the system. transform. direction um and hit. transform send message so this should be fine save this and go back to Unity let's see if we get any errors we don't and let's try oh we have to assign the variable so stop playing and then just track the melee on this trans for and then hit play again and hopefully this time this will work so click and there you go so um now we actually have a much better system set up because what this allows us to do is it allows us to uh create functions that uh are called on some on certain times depending on animation and what I mean by this is um one of you um probably some of you but one of you um texted me and said that um he wanted to apply the damage only when the character actually stun SW swinging the sword or weapon uh and not immediately um so a little delay um and I think that the best way to do this is the following so um okay so go under animation and um for this I'm just going to create uh quickly a uh attack animation so I'm going to create click this red button add component and then I'm going to call this animation for attack with a capital letter as before um and I'm going to add keys to the transform the rotation so the position and the rotation I'm going to drag the cursor um out to about two seconds and then do it again so we are sure that we are storing all this data and uh we can get back to the point we came from and um first of all I want him to pull back the maze as he's ready to swing it so this would be something like this maybe oh I'm not good at at this so he whoa whoa um well that was unexpected um let's let's try this out again so we have all the key frames here at Key and um about at this point he should drag the mace back just a little bit and something like this so just like like that um and what we can now do is we can um tell it that it needs to hit so we can make the hitting animation so this would look something like um this and then I'm going to toggle between the local and the global transform as we talked about in earlier videos um it's really really nice to know how to use that um something like this maybe so he hits and then it goes back and we probably need to like make this quicker yeah so you can just drag the top ones here um to make it look a hell of a lot better so um I'm sorry if this is tracking out um I'll show you some cool stuff in just a minute we just need to so that looks fine uh it's it's all right so we'll just continue on with this just hit uh hitting the the flat button and change this to um we could do one just leave it at default and then hit the stop recording okay so clear out the variable because I get tired of looking at all the arrows and um hit the Maze and you can see play automatically is set so we'll just turn this off and um all right so if we go back into the animation uh what we can do now is we can simply say tell the computer that at this time we need to call a function and this is something built into Unity into the animation system so if I say that this is the point maybe a little earlier maybe there um because he might hit before I don't know won't matter that much but um if I say that this is the point where um I would like uh to apply the damage then uh I can create a new event so uh click this button here add event and we can uh select the event and we can then um in our script select which function it needs to call so let's go back to our script and add a function so uh double click on the mly system script um I'm sorry go just go back to mod develop um and yes now we can create a new function so instead of um doing all of this we can say that if input get button down fire then call a function so um uh or I'm sorry then start the animation and then the animation will call the function so um all the way in the button we'll make um a new function and we could call this hm um we could call this attack maybe uh apply damage I know attack damage yes this will do for now and we'll just make these two parentheses and then the curly brackets and some space and now we can just go ahead and copy all of this of this uh so hit crl X to delete it and then contrl V down here to paste it back um and so this will take care of the actual damaging and we'll just need to um tell the computer to play an animation whenever we hit fire so uh animation play attack and uh if we go back into Unity now and select this key uh we can select the attack damage and it will now call this so um if you hover over it you can see the attack damage so um if we um go ahead oh we were in play mode um I think nothing I I don't think it mattered okay so hit play and we'll test this out so boom boom and then the object disappears so um maybe I should draw this out to make you understand it a little easier so um we have the we have the script oh um this is the script um a red box apparently this is the script and inside of the script we just say that button is pressed then we want something to happen what do we want to happen we want the um computer to Simply play an animation so play attack um and then um over here in uh the other I just pointed at the screen I'm my WR um over here this is um the actual animation part itself we just tell it that um we just in unity tell it that when um so so when uh we reach a certain point in the animation so add event so when we reach an event then we want to call a function and this function is called um what did we call it I think we called it um attack damage so then call the attack damage and then we head back into the script so um we can make some arrows for this so This goes there and then we call the attack damage so it goes back and in the script we then T we then do all of the damaging so we then do the ray cast and uh if the is met and is correct we then send the message to our enemy so um over here we have our enemy so this is our enemy so we go ahead and say oh enemy we don't like you and you need to lose damage so um on the enemy itself we have put a script that just said says um apply damage this is the the function and this is called when we get sent the message apply damage and then here health is uh is equal to one less than before or 20 less or 50 less this value is defined over here in the original script and this way we can do everything very easily so um that's how it works okay so don't save this um and now we have a much better Mele system so if you would want to make um different weapons um several weapons we could go ahead and um just apply the same M system script and then we could just change the damage so they will have individual damage we can change the distance if some weapons are longer than others and we can change the animations and we can even make different functions if we want different stuff to happen happen um let's say say that it's a magical wand and you want big explosions to appear so um this is all for now and um this has been how to create a survival game by braies done by braies and um I've been working hard on our website is um it is up but it's not pretty yet um we we have implemented a lot of fun uh functionality into it um um also um you will be able to download the scripts as I have written them so far um soon there so um I'll give a link as soon as it's up but until then you can support us by going to our Facebook or Twitter um or just subscribing and liking on YouTube um I hope I I just really want to help you guys out and then if you want you can um help me out by just liking and sharing because we're just trying to get out on the internet what with um what we do so um thank you thank you um thank you for watching and uh I'll see you in the next video baby