this video is brought to you by our own Metta thank you so much for donating if you want to support breakage yourself you can go to patreon.com/scishow jeez thanks for tuning in at brac ease hello everyone and welcome to this video in creating a tower defense game in unity today we'll be working on the UI I have some really exciting stuff that I want to show and also some stuff that I really want to try out so we'll begin by editing the hover color for our nodes to reflect whether or not we have enough money to actually buy the turret we'll also be adding a arm money calendar which shows the current amount of money that we have along with the price for each turret and we'll also show the countdown timer in a bit different way that will look a lot cooler and finally we'll be adding some built turret particle effects so whenever we build a turret we want to have some kind of cool effect in there to show that something awesome has just happened so that is the plan for today and without further ado let's jump right into it so as you can see I've created a list or with the different things I want to do today and I want to begin by editing the hobby color for our notes so let's find our node script under scripts and then node and double click that to open it up in visual studio then scroll down to where we say on Mouse enter and you can see here that we edit the material color by going rent material color and setting it equal to hobby color all we really want to do here is create an if statement that checks whether or not our current amount of money is greater than or equal to the cost of the turret that we have selected and in case it's not we don't want to set it equal to hobby color we want to set it equal to some alarming color say just a red color indicating that we need to get more money before we can build there so um what I really want to do is I want to add this functionality into our build manager because our build manager is the one who takes care of what we want to build next and therefore knows the cost of that turret so let's find our build manager again under scripts and open that up as well and you can see here that we've already created a property called can build let's just create another property called has money and it's simply a boolean check here so let's just duplicate that and let's rename this to has money and instead of returning whether or not we have something to build let's return whether or not player stats dot money is greater than or equal to deterred to builds cost there we go so if we don't have enough money this is going to return false and if we do have enough money or more money it's going to return true so what we can do is simply use this inside of our node so we can go if and then we can say build manager dot um has money then we want to set rent material dark color equal to have a color and in case it has not so let's create an else statement here then we can say R in material dark color equals to say colored red or we can create another variable for this so not enough on money color for example I can name it whatever you want let's go up here and actually create this variable so public color and we'll just call this the not enough money color then what we can do is we can hit inside of unity we can find a node prefab here and we can edit this color so let's make sure to set the alpha all the way up and set it to some kind of red color now you should see them if we hit play and place a few turrets you can see it's normal now until we don't have any more money and then it turns red indicating that we can't build there anymore so on that is all I wanted to do with the hover over color and you can definitely do more with that if you want to so we can scratch that off the list next up is our countdown plus money counter so the countdown is up here but I don't think it looks very good and also we don't have any way to display our current among amount of money so what I really wanted to do is first off go ahead and find a new fund on the web so let's go here open up our browser and let's go Google Fonts and what I'm going to be using here is the one called Roboto it's a very used fund I believe it's developed by Google actually and if we select this fund you can see it says family selected and then you could go here and press the download button which is going to die unload and zip file containing all of the different things that we want you can see there is a black black italic bold and so forth so on and so far and so on and then we simply extract all of this so we use extracted into a folder and then you can select all of the fonts you don't need to include the license and then we can go into unity here and create a new folder called fonts and then we can just click and drag all of these funds in there you can of course find your own fonts if you don't want to use these you can also jump on the asset story there are three ones and some paid ones as always yeah it's really as easy as that but unity should definitely accept most TTF files so if you find a font with that format you can just include it of course make sure that it's not copyrighted in some way so what we can then do is we can simply use this inside of the editor now and the idea that I had is instead of just overlaying the UI like this when it comes to displaying text let's have the text be part of the scene so let's have the numbers be shown down here at the bottom of our map and we can also have things on the side and on the top if we want to and then we can um as we pan the camera around and zoom in and stuff this zoom the text will follow those are transforms so I think that would look pretty cool with this kind of minimalistic square setup so let's find our canvas here and just disable our wave countdown timer for now so that it won't get in the way let's then create a new canvas by going UI and then canvas and let's change the render mode here from screen space overlay to world space what we can then do is we can um play around with this a bit because if you are going to t2d mode and focus on this it's freaking huge so we need to definitely scale this down so let's do a scale of point zero five point zero five and point zero five and that's definitely better let's then on center the X&Y so zero zero zero there we go and we can go out of 2d mode now let's then rotate it 90 degrees on the X find the rotation can go 90 on the X and we can then move it down here so that we will have it right at the bottom of our map and move it over and then we can switch to use the 2d tools here of the rectangle tool and we can then scale it out here so it fits the entire bottom of our map something like that looks pretty nice and we can maybe scale it up here so that um we don't go too far off the screen and then we can add some text elements to it so we can right click here go UI and then text and you can see that there is definitely some text here but it's very small and very grey so let's just um first off make the area here larger actually let's just make it fit the entirety of our canvas by descending when to stretch there hold down alt and press in the bottom right corner there and then we can bump up the font size and you can see now that our text appears let's make the color completely white and let's also go to fine font and that opens up the fun window and I want to go Roboto thin I think that looks super cool and then we can change this to say a dollar sign that's the Euro so a dollar sign and then some amount of money here so we'll have let's say 356 dollars here and I think that looks pretty neat already I want the font size to be around these 125 say um you can definitely make it bigger actually let's say 150 I actually like that better so I think that looks pretty nice and you can of course play around with that more than I do here and you can also maybe make it blend in with the environment a bit better here also maybe choose a color that isn't quite as wide but I actually think I like it completely white and then what we can do is we can add a shadow to this so just go add component search for shadow and we can add this with an effect distance of 5 and negative 5 and then we can maybe bump down the opacity on this just a bit so that will just make it blend a bit nicer and what you will notice now because our canvas is a world canvass is if we go in here and hit play now and zoom in you can see that it follows to transform of our camera and that makes it look super cool and very organic and part of the map so I really like that effect hmm scuse me cool so we can now rename this to our money and we can duplicate it and what I'll do is I'll snap this to the right corner here and we can have this be our time so you could definitely write time here or wave if you want to do that I'm just going to put in some number here which is just going to be nineteen point two five for example to indicate our current amount of seconds until the next wave but you can really style this in any way that you want to cool so um we can now rename this as well and call this our timer or our wave countdown timer if you want to be very specific so what we can do now is we can hook these two up to a script so first off if we find our canvas here wave countdown timer and delete that and then select our game master and go to wave spawner you can see that we have a wave countdown text and all we want to do is just drag our new timer object into that and that should actually update that for us but I don't think it's formatted very very well and by the way just ignore the warnings down here it's just a unity annoying bug it's it's nothing to worry about at all so let's double click on the wave spawner now and it's format this um text a bit better also let's set the time between waves to something more say 20 so let's find our update method here and you can see this is where we set wave countdown text and what I want to do is first off I want to do something that I should have done earlier which is clamping this value so I want to set countdown equal to math dot clamp between and I want to clamp countdown between 0 and math dot infinity just to make sure that no matter what countdown will not be less than zero and therefore a negative number and therefore show in some weird way and then when it comes to formatting this I actually want some tests decimal places so we're going to go string dot format and we're going to create a string here with the format and we do this by going 0 indicating that the first variable that we put right after this one which is going to be comma our countdown so zero here represents our countdown we want to display that with the format of zero point zero zero actually I want to do see rows zero point zero zero so you will see what that does in a second and we can close that off with the curly brackets and remember to put a what is this a parenthesis closing parenthesis in there as well so let's save the wave spawning now and let's hit play and you should see that this is formatted in a very cool way where it get gets this very hectic dramatic effect where it counts down super quickly I really like that so that is now part of our map and I'm pretty satisfied with that so let's make sure to do the same with our money and we could of course add some kind of update method inside of our players stats or we could do it on the money itself and I'm just going to do it on the money itself so let's just do money UI add a new component here which is going to be csharp and all we need to do here is go in to the update method and we then want a reference to our D text object here and we can just either use get component or just reference it which we are going to do so let's make sure to import Unity engine that UI whenever we do anything with the UI let's make them let's make a public text variable with our money text and then all we need to do is set money text text equal to player stats dot money and we can do a two string on that and also make sure to put a dollar sign in front of that to make it look cool and make it very clear that this is our money so let's now hit play on this and you might say do we really need to update this every frame no we definitely do not but I think really doesn't matter because we're only changing one text variable and also it's canonized that the money updates are immediately after we change or after we kill an enemy or whatever or say spawning and turret so now we have the money text of course we need to reference that as well so let's just drag it in there notice I dragged in the game object you can also drag in the text component directly and now hit play and we should be error free except for those two annoying ones we can say it says 400 here and if we now spend some money it's going to subtract from that so that's perfect and totally working cool so let's see what we have on the program on next so that was the countdown and money counter then we have a turret cost and this is actually going to be a fairly long video I hadn't expected that but I guess that's fine now some things that I also want to add is some kind of notification or toaster or toast or whatever is some way of displaying messages are for the user say when you are unable to build or win a new wave of has spawned so will definitely do something with that and yeah cool so let's continue with to the next thing which is turret cost so let's delete this from the list and add that and that is as easy as just adding a little bit of UI inside of our shop here so let's find our standard turret item and let's just delete the text here and instead let's go in and go UI and then let's go um panel there we go focusing on this switch to 2d mode let's now scale this panel down quite a bit something like that looks fine and let's drag this up just a bit position it where we want it I think that looks pretty good right there let's change the color of this on the to maybe use somewhat full opacity I want it to be kind of transparent actually and some blue color I think light blue something like that looks pretty nice and this is going to be the backdrop for our money amount so this is going to be our cut or our cost amount so this is going to be our cost gee and then we can rightclick go UI text and this is going to be our cost or price or whatever you want to call it and here we want to change our font to Roboto I'm going to go with light I then want to coarse scale this to fit our cost BG so let's go send you here or click on the anchor presets here and go again bottomright corner while holding down alt there we go and then let's set the font size to say 21 that might be too too much and let's make this wide so we can see let's try 18 there and that's changing the text here and that's also input of course our dollar sign there we go so this is a cost of 300 and right now we'll just hard code the same you can of course add some functionality on the shop that references the object and sets and this text variable to whatever the cost is but I really think that that unnecessary for now we can just change this manually so that is what we're going to do so let's actually take these oh wait this element let's delete the other one here and recreate that in a second let's take this element and scale it up to something like 130 by 130 and let's also of course take our sharp here and scale that up as well so that the object won't be squished and that definitely did something weird to our panel here so let's just reformat that let's also make sure that our text snaps to the Centers on x and y that makes it a bit easier to see how this will turn out and I definitely want this text size to be larger so let's try 21 there and I think that is definitely better and let's try and make this panel just a bit bigger and position it some rare around there and I actually really like the look of that so I think we're going to go with that and actually I want to position it maybe a tiny bit higher yeah I am starting to be pretty satisfied with that and then what we can do is we can duplicate this and change it to fit actually let's hit apply on this first so we can duplicate this and change it to fit our auditory as well so we'll change the icon huge to missile launcher we'll change the function here to shop select missile launcher will change the preferred width and height and this is actually where we might have forgotten to do something in that is the panel here we don't want that to stretch we want that to be centered let's just edit that and apply that and I think that should apply there as well yes that is now centered and now we can select our standard turret and change the preferred width and height to 110 because the icon is a bit larger here but that should be fine to do there we go that looks great and then of course change the cost amount to what we set it to which I believe was 250 definitely was there we go and we're going to rename this to our missile launcher item again so now we have two nicelooking buttons here where we can easily add more where we have a price variable as well and you can see that these should definitely work inside of the game cool so we run out of money for these turrets we only have 50 left awesome so the next thing that we are going to look at and that was a fast one definitely is the filtered particles and we are going to make those very quickly as well but I definitely think that it will just add a little cool effect to the game so whenever it comes to doing UI I definitely recommend that you spend a lot of time making it as clear as possible what is happening so whenever you place a turret let's add some visual feedback other than the chart just appearing that you just build that but you just did something that was good also what I recommend you do is add some kind of animation whenever we spend money that shows um let's say it you can just add a text that subtract that amount of money on the screen and then floats away or fades away that could be one thing to do you could also add a sound effect that's definitely a way but having visual cues in there is good as well we might add something they do and definitely when are killing enemies it's great to have some visual feedback that that is giving you some money back which it currently isn't in our game budget that is to come so yeah so where were we a build chart particle effect so let's actually just use down here the prefabs bullet impact effect as kind of a template and let's rename this to mmm build effect and I think we'll just have a global one for all kinds of turrets you can definitely create different ones for the different turrets and let's drag that into the prefabs folder and what I want to do here is I want to copy the particle system remove it and then I want to reset the transform on this build effect let's go out of 2d mode and let's just drag it up a bit here so we can see it better let's then create a new empty game object on that with a reset transform and this is going to be our particle system so let go particle or particles and then we can paste the component backing as new and this will just allow us when we change the shape here to hemisphere instead of sphere and bump up the radius to then rotate this Hemisphere without rotating on the route our on the anchor of a transform so let's now rotate this by negative 90 on the X and this will make sure that it will shoot upwards when we hit simulate cold and what we can then do and the radius here just need that to be one I think it set this to loop so we can definitely see what is going on a bit better let's also actually change I think the emission is fine and the shape is fine now but let's definitely change the gravity modifier to negative one so that it starts floating instead which is pretty cool in general whenever something really positive happens creating some kind of floating upwards effect it's um it's often used for level ups it's used for when you successfully build stuff positive spells stuff like that it creates some feeling of a nice floaty magical yeah it's rewarding it's what I'm trying to say so um we can then disable the collision arm I actually don't even know what these are called the coalition controls the coalition sub particle thing I don't know so we'll just just disable collision and what we can then do is create a new material here and we'll just use the bullet impact again as a template so this one is going to be our build effect and I basically just want to take the albedo here and make it some kind of brighter blue I think that will look pretty good and then inside of our particles we can go to the renderer and we can substitute that ah effect there or that material and I really like the look of that that is definitely nice and it's very visible in the scene then what we can do is we can maybe bump up the size on these so let's change the size to something like point 5 to 0.75 so we want them to start really large but I definitely want a much quicker fall on Fallout on the arm size here so let's just change the size curve to begin reducing right away here so let's just use that curve right there I think that looks really cool and we can maybe just bump down the lifetime a tiny bit here to say 1.5 I think that looks a bit better yeah I really like the look of that and we can also maybe increase the speed a tiny bit so let's do between 2 and 8 cone so something is really happening here so I actually really like the look of this effect so let's disable looping let's hit apply on the prefab here let's remove that prefab let's very quickly add this in code so we simply go to our game master we find our build manager and wherever we build a turret on a node we want to just add in a prefab that we will specify here so this is going to be a public game object and it's going to be our build effect oops my cat is stepping on the keyboard as always so a build effect here and we'll go down here and we'll instantiate that so let's go instantiate and we want to instantiate the build effect and we want to instantiate it add note dot get build position and you could get that only once and then store it in a vector e or we could just get it twice with just what we're going to do and then we can use quaternion whoops not quality level we can use catonian dot identity not rotate it at all basically and we can of course store it in a temporary variable so we can get rid of it again so let's do that game object effect and set that equal to the instantiated object and we want to cast it into a game object and then we can go destroy that not debug we want to destroy that effect after say five seconds just to be on the safe side and to clean up the hierarchy afterwards so now if we close that down and remember to actually reference our build effect under our prefabs here so we have the build effect and now everything should work so if we hit play we should see a coollooking effect here so let's try and build something and I definitely like the look of that you could definitely also add more celebratory colors have the particles be different colors might be cool and one thing that is really exciting is that on the next version of unity unity 5.5 comes with a lot more controls when it comes to doing random colors and all that kind of stuff it really has a lot of new particle effect to play around with so that is really exciting if you're really excited about that you can grab the 5.5 beta which is public so just wanted to mention that as well and without further ado I think that was pretty much all that I wanted to show for this video so I hope you enjoyed it and yeah thanks for watching and I'll see you in the next video I also forgot to mention that I will be livestreaming on Thursday the 29th so if that is something you're interested in definitely check it out this is going to be the second brackets live stream and this last one was just so much fun so I definitely hope to see you there and I will make sure to update on Facebook and Twitter and maybe also upload a video right on before we start to let you know but I just wanted to mention it so you can set time aside in your Cal so follow me on those kind of things if you're interested and I hope to see you there bye thank you so much to all of the awesome patreon supporters who donated in August and a special thanks to our own Metta Robert Rose James Calhoun Vixen P and Andrew K