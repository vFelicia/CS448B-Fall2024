thanks for tuning in at brakus hello everyone and welcome to video number nine and make a game a cool series on making a video game in unit c today we are going to be taking a look at particles they are so much fun to play around with we're gonna be adjusting settings and making our coin emit awesome shiny particles and we're gonna make everything look much more awesome so as always I've opened up unity and we are back and I'll make a game scene and what we can see is we have the coin ready with this coin pick up scripts and basically how you would do this is we won't want the coin when we pick it up so when we roll into the coin we wanted to emit a bunch of particles and you do this by first making a particle system and then telling this coin to create this particle system right before it destroys itself so first off let's take care of the awesome part which is making the particles and after that we will make the code but it's really simple it's only like two lines of code so go to a game object create other and then particle system and this is called the shuriken particle system that is much debate on how to pronounce that I'll say shuriken I'm sorry if I'm offending anyone but this is the new awesome particle system in unit C so what we are gonna do first is we're gonna take a look at the general settings so we can just move this up a bit so we can see what's going on and first off let's adjust the duration and the duration is basically how long it's going to emit particles before it stops emitting and you won't notice any change whenever I change this right now because it's set to loop and that basically means that once the duration is has run out it will just lube and so there's no difference but if I set this to let's say 1 and then turn off looping and hit stop down here with the part to the effect so we can it simulate again we can see it emitting for one second and then it stops so basically we want to set this to something like 0.2 let's just see how that looks so we just get this single burst of particles and that's basically the effect we are going for so but just to play around with things we're gonna set it to loop while we while we set this up so just said loop and hit similar simulate now prewarm we don't want that that's if we wanted not to start emitting particles whenever it spawns but just want it to spawn with particles that's not something we're going after the start delay we'll just leave that at zero they start lifetime this is how long when the particles are going to live after they are emitted so basically if we set this to 1 we can see that they live for one second if we set it higher we can see them going much higher and basically let's just try this off at one and we'll see how it goes we might do something like no actually let's try it off with with one I think that's gonna be pretty great and they start speed I want this to be maybe even more so we can just adjust this to how everyone and I want them to be shooting out right in the beginning and and that looks pretty fine this that size also looks ok we can just leave that for now the rotation also leave that the color that's something we're gonna change down here because we want the color to actually animate and not just be one single color color the gravity multiply this is if you want the particles to start falling so we can bump this up but but that's not really something I'm going for they inherit velocity that's just something we're gonna leave for now simulation space needs to be local and it could be in world that doesn't matter for us right now and the play on awake we're just gonna leave that on that's important because that we want our particles to play as soon as they spawn too if we set the simulation space here to world maybe I can demonstrate this in the editor I don't know if I can because I would like to yeah ok so if we just set the lifetime of these to something pretty long right now the simulation space is set to local so whenever you remove this you can see we move all of the particles but if we set this to world it will only move the emitter so the particles that are up here won't get affected so that's basically the difference there but we don't need it to be anything other than local for this great so let's just delve into some cool animation actually right before that let's take care of these two so can just uncollapse these and all of these are awesome components inside the particle system where you can do different things first off the emission we're gonna bump up the rate to make it more to make it emit even more particles so here you can see we got a lot of particles going and the shape we're gonna change this to a sphere so that they will emit out from a sphere we could also actually we could make this the same shape as the coin but then we would need a mesh so we're not gonna play around with that but basically let's just bump down the ratio or the radius a bit and that looks just fine and random direction now we're just gonna going to leave it as is and then we can go down to the velocity over lifetime and if we just play around with this and bump it up on the xaxis for example we can see that the particles start floating in the xaxis and if we bump it down even more they get affected so basically that makes them this is great for simulating wind but it's not really something we want right now what we're going to do instead is we're going to use the limit velocity over lifetime and what we can do here is we can get that really awesome dampening effects and we can change the speed of this just to how we wanted and the dampening effect so if that's at zero they won't get affected at all I'm gonna do something like 0.3 there and the speed of to something like this and the color of a lifetime and this is really cool this we can go in here and now instead of just choosing one single color we can click this and we get the gradient editor and this will allow us to completely customize its color over lifetime so what we can do is we can say the start color should be pretty much the same as the coin so we can use the color picker to make it this yellowish color something a little more orange maybe like this and now we can see that it all the particles start out completely yellow and then I want them to turn into something more not red exactly but another yellow color and not that saturated so they get that white anglo II feel and this looks pretty great actually but you can go ahead and play around with it until you get something you're satisfied with there so this looks pretty awesome and what we can also do is instead of just changing the color we can also change the transparency so that the particles will actually fade out so that's up here these are the Alpha channels so we're just gonna select this the one all the way to the right and bump down the Alpha to something like zero so now we can see them slowly fading away and actually I want them to start fading away a little later so what we can do is we can double click here to make a new Alpha note and then we can make this to a maximum amount which is 255 and then we can just drag this over so that they will first start fading away right before they they die great so what we can also do is we can also adjust the size over lifetime so if we hit this we get this awesome curve so we click this and go down in the righthand corner we can now adjust the size parameter so if we want them to like slowly get smaller I want just a bit of a curve there so they don't stay exactly the same size we could also make an inverse effect so they get bigger that's something pretty cool for light or something like steam machines but we are just gonna make it like this to make to give it the the glowy effect and decides by speed we're gonna leave that external forces all of this we're gonna leave what we could do is we could make what's called a salt emitter and these are really cool because basically we can make our particles whenever they die we can make them emit another particle system so you can imagine this goes pretty crazy sometimes but basically what we could do just to try it out is we could add something under the death here we could hit the plus sign to create a new particle system and now you can see it looks completely crazy and it's it looks a little bit like fireworks but that's something you can play around with if you want to so you can see over here in the hierarchy it has created a sub emitter under the particle system which we can then change so we could set the duration of this to one the emission and the shape we could change these for example the size this may be a little bit crazy so we could bump that down the duration is still too much because it's looping so we can just make it go like this like just 0.1 and looping and the particle amount here in the first section we can change that to something like 5 instead and then set the lifetime to something like 1 and now it's much more manageable and then we can maybe make them red and now we got this crazy effect going but that was just to demonstrate this sublimator so I'll just go ahead and delete that again and go back because that's that's too much simply so let's disable this up immediately again and now if we go down the renderer this is where we can make it look really great because right now these particles don't have this shiny feel they are simply a matte color but what we can do is we can change the default particle to something that looks much more glowy so if we make simply a new material we can have it we can give it this additive blend mode so if we go down to the project pane and hit and rightclick then go under creates and material we can make this glow particle and we can change the shader of this oh actually that's just assign it to the particle system first so we can go down here under the renderer and drag it in there and now we can see it looks really done because this is not set up correctly so we're gonna go and change it from diffuse to the effect no the particles and then the additive I think this is a really great effect and then we can select the texture you should see this default particle texture and now we can see it looks like it's actually grown or glowing and this can change the color just a bit you can adjust the tint if you think it's a bit too crazy there I'm gonna tint it just a bit to the red side to give it some cool ending there and that looks pretty great so a gray is red color and I'm pretty satisfied with this result let's try and hit stop simulating and turn off looping to see if we have enough particles and that's just a nice simple particle effect and I'm really really glad with that maybe we can pump up the rate just a bit to get some more particles to something like 7d yeah that looks really awesome and that feels really great so let's just rename this to coin effect and drag it down to the project pane to make a peep prefab and now we can delete it in the inspector or the hierarchy I mean and now we can select our coin go to the coin pick up script double click it to open it up in monodevelop and we can see it opening up and you might notice that i'm using the new version of unity which is unity 4.3 it has some awesome 2d features we just I just published a tutorial on those so checking it out definitely and monodevelop here also looks much more polished which is great but basically what we're gonna do now is we're gonna instantiate that means spawn or create a the particle system and to do this we need a variable we need to know or we need to tell unity what it needs to spawn and so we make a new variable var and we're gonna call this coin effect and it's gonna be of type transform and this is just something you need to remember and not understand whenever we need to spawn something we use the transform type and now here where it says debug deadlock add a coin counter here right beneath that we are gonna type instantiate and it's really important that you do this before destroying this object or it won't get instantiated so instantiate and then open up a parenthesis and now you can see it needs a lot of input and this looks confusing but it's really simple actually the first thing it's need it needs is just to know what object it needs to spine spawn and that's our coin effect and then we need to tell it where so that's our transform dot position just the position of this game object and we've brought what rotation and that's just the transform that rotation we can just have it give it the same as this object and that's basically it's so close it up and parenthesis and semicolon and now when we play the game oh yeah actually we have to assign it first so now you can see under the script that it has the coin effect so we can just drag in our prefab there and now hit play and when we roll into the coin we should see particles emitting and it feels much more natural now one thing you could also do is you might notice the light just disappears so you could attach a light under the coin light or I mean under the cone effects so that the light also fades slowly but but that's another thing one thing we want to do though is if we have a lot of coins in our scene they will just keep in stan changing these coin effects and as you might notice in our hierarchy when we roll over the coin we can see the coin affect clone here and so the hierarchy will just get cluttered with these coin effects which are not doing anything because they have already played so what we can do is we can simply tell it to destroy destroy this app object after a certain amount of seconds and to do this we are just going to give it a name so before the instantiate function will just call this effect and we'll say equals instantiate and we need to type variable also so VAR effect equals substantiate and what we can do now is we can say that not only shall I destroy the game object but before that it should also destroy the effects like this but we need to make it make it we need to tell it that it has to wait a few seconds so we just do comma and then maybe three seconds and close it up so let's see if this is working and hit play and now we can see we roll in the coin of fact plays we can see it here and it should disappear in to one it should disappear oh we get an error can't destroy transform if you want to destroy game object please cut the stranger you know okay so what we can do is we can instead use destroy effects dot game objects like this hopefully this will work I'll have to figure something out let's see if it gets destroyed and there it was so it gets destroyed after three seconds just to clean everything up so that was basically it for this tutorial we can just round it up by making our coin into a prefab I think we have to serve this now we can distribute it all over our scene and we can have it appear all kinds of places the next thing we are going to be doing is maybe adding a coin counter or I have plenty of ideas so there are more coming up and thank you for watching I'll see you in the next video