thanks for tuning in at brakus hello everyone and welcome to video number 24 in the how to make a 2d platformer course in this video we are going to be making a main menu for our game so if we look around you can see a lot of stuff has changed here and my face is also in this now so I just quickly want to talk a bit about what's going on with this before we get started with the video so it's almost a new year now a 2016 is coming up and at some point during the year I plan on going fulltime with brackets that also means that I want to start doing some live streams and therefore I have set up this kind of live streaming set up where that which I thought would also be pretty cool to have in the video so if you don't like this or if you have something that I want to change about this please be vocal about it I mean if there's something you absolutely hate well then it's gone and that's why I've created a survey which is in the description that I suggest you answer some questions in there and that will help me improve the format of these videos such as whether or not we should have a face cam while I'm coding of course keep in mind that I can't keep all of you satisfied maybe because you don't always know what you want guys but I'll try and do my best so let's jump into today's video here cool so you can see I've left the project exactly as we did in the last video and one thing that I noticed and you guys also pointed it out was that our lives don't reset whenever we hit the restart button so if we go ahead and die a few times here now just recreate the back so just jump down a few times they correctly decrement as we die but when we die the last time there and it says came over and we hit retry it still says zero and the reason why is well if I remember correctly and we go under our GM objects I believe we had our lives on the decay master here let's just double click that we're probably gonna to open it anyways in visual studio here so we can just boot that up and I'll just find my player also okay this is frozen so I don't hope the video will be lagging but I'm currently running with fewer course than normally because I've had some computer issues okay so in here yeah there the remaining lives but this is a static variable and static variables are not reset when we reload the scene they carry they are carried on from scene to scene and that means that we have to kind of manually reset this and we could do that in the restart method or something like that I mean we have this respawn player that of course we don't want we have this end game here but we set the UI and all that and then through the UI we call a method to restart the game which basically loads a new scene and that means that we could easily just have it let's say in the start method here that we want our remaining lives to be equal to some kind of stand amount and let's just make that a public variable and that we then set through here I think that would work just fine and that would also allow us to customize it through the inspectors so instead of making it public we'll just make it a serialize field and then make it a private integer and and then of course a nonstatic and we'll just call this I don't know lives or max lives equals 3 and then we don't set this here and instead in the start method here we set remaining lives equals max lives there we go so we simply reset it like that and that will allow us to jump into an inspector find our game master object oops it's already defined ok so we have it somewhere else yeah it was it was down here so let's just take that code and put it down here so this is one of those videos where I haven't planned exactly everything that we are going to do at least I haven't done it before I have a good idea of what I want to do because I want to show you sort of the process of figuring these things out as we go I don't want to just show you what it looks like to develop a game when you know exactly everything that's going to be happening that that would be kind of boring actually so that was my great excuse for not being prepared okay so you can see that now we can set our max lives here and if we just set those to three lives are going to be three and when we then jump down a few times this is not the best way of doing debugging but it will suffice so it's this one and the last time here our UI is going to pop up and we hit retry and now it says three calls so that will correct the reset awesome so now we can jump on to the actual theme of this tutorial which is the main menu of course so let's take the game over UI life's counter UI and drag those two scripts under the scripts folder let's take the game over and game over fade in and make animation and animation controller and drag under animation and that will basically be it and now we can find our scene here the main level scene save it and then duplicate it by hitting ctrl D and let's rename this to menu or main menu and then double click on that to open it up and nothing will change of course because it's duplicate but just make sure that you are now in the main menu scene and now we can go ahead and delete the things that we don't need we don't need a GM object we don't need any UI overlay we're gonna be creating our own in a second we don't need the player I just want to have some maybe the camera in here but without the 2d follow script I would like we don't need any of the spawn points but I would like the vignette in here and all of the camera settings so we're just going to those in here we also have some platforms maybe I would like to keep one of the platforms we are going to have to kind of figure out how we want our main menu to look so maybe it would be fun if we had something like an enemy and here s our theme so that's just a disable some of these for now and we can enable them later if we need them we have the mountains here and the foreground I want to disable those so we just have this blue back drop to begin with and a star can of course be deleted let's find our sprites here and find our alien spaceship drag it in here and let's scale that up hitting alt and shift while scaling to scale uniformly and from the center and we can maybe position it like here so at position X at 0 and then a bit up in the Y and that looks pretty fun I think here and then we can have some buttons down here or something we don't exactly have a name for this game yet so if you have any cool ideas definitely leave them in the comments and I'll think about including it we could maybe also do a poll for that later but we'll see leave your name suggestions and if I'm torn I might create a poll for that so I think this looks pretty good and we can just overlay some UI on top of this so let's have a for now just a play button and a quit button and then later we can maybe have a Settings button if that's something that you want to see and that takes us to a separate scene where we can adjust our settings in game instead of using unity spree launcher of sorts so that's kind of a handy thing to have just some something like maybe a quality second setting you can dive into all of the different quality stuff and allows the user to change that but our game is not going to be taxing so just like one quality setting with files then a resolution setting maybe some audio stuff just the most basic things would be pretty nice to have in here at some point but for now that's right click and go UI and then button and I actually would like to kind of use the same style of button as we did in the last video so we could just save this and go under the main menu or a main level scene find the UI overlay and then I did the game over screen simply copy the quit button from there and go back into the main menu scene and paste it into the canvas here I remember to drag it under there in order for it to be visible and I actually think that fits the menu very well with the colors and everything and it definitely really pops so let's just drag this down and to the left a bit yeah I actually really like that that design here so this is going to be the quit button so we want this to be to the right and then we also want a play button but we also need to figure out kind of where we want to anchor these so I want this to be anchored at the bottom center so let's just click there and maybe there will be good maybe a bit more to the left something like that and let's duplicate that and let's rename this to the play button and let's also rename the text to say play and we'll simply take the play button and then put a negative minus in front of the exposition and that looks pretty cool I think we could animate this little guy if we wanted to just having like bounce up and down like a sinus curve or something because also maybe a play a bit more around with the styling here so it's maybe just a it's hard to read right now this might look a bit better we can also make it Tiger something like that is better I think the other red really took over the picture and was kind of unnecessarily distracting and we can also maybe change this to at three and negative three yeah like that better it's not as exaggerated maybe on the why we should do a a four yeah I think that's super cool and why not animate this space guy a little bit too so whenever you are making a menu it's very creative process so that's really no one solution to this we could definitely try bringing in our platform here so let's take platform two and find him here and he needs to be scaled up I don't really know if I like this platform better than the others let me just find the first one I like the first one better definitely so let's just try that one scale him up oops like that and then spaced apart the buttons maybe maybe I don't know something like that well this really puts my artwork on the spot so yeah I think that actually looks kind of nice it puts a little more into the scene I definitely want him to be bouncing up and down so we can just make that now and then think about how we want the buttons to be so we'll just delete all of these because I don't imagine I want any mountains to be in here yeah no they're just distracting for the eye I don't think we need them we can maybe take these blue mountains here and what am i doing and move those down just so they're barely visible that actually might not be too bad yeah I don't know I actually like it better without so let's just select all that and delete it we can also delete the other platforms there's no reason for theirs to be there unless we want them to be put under the buttons of course we have to be careful when we do stuff like that that the follow the buttons correctly but we can just use them as a UI element instead nothing restricts us from doing so but I think this is going to be fine so let's find our alien here and I'll just remove the dash over there and let's make a small animation for him and that's going to be a very easy one so let's just find the animations I hit create here and this is going to be the enemy hover animation yeah and it's simply going to take his position here and then just wiggle it a bit up and down so we're gonna keyframe him to begin right here so to simply just wake of this value in order to keyframe it so that was six point five five it's gonna be our starting point then it's going to go up not too much and then down again to the same position here so he's going to go like this and then I would like to select all of this go into curves right click and choose a flat that will give this sign look there so and it's of course way too fast right now so that's just spaced this apart we could also just change its going to dope sheep see it in order to do this changing this through the curve sorry not exactly a it's not exactly ideal so b4 time to slow something like that let's see how that looks in game I actually think that's kind of nice it gives a pretty fun look to the game you can see the pixels wiggle a bit here and that's because we are using if we find the sprite we are using the point no filter filter mode that's also very necessary for the pixel odd look so that's that's not really much we can do about this happening I mean if we change this to bilinear you can see how bad that gets and I don't think that changing this to true color will affect it at all in fact might only make it worse so there's really not much we can do about this we'll just have to accept that's how I did so just revert then and it's not extremely noticeable so I think this looks really cool let's just have another look at the buttons here so we'll make sure that the enemy hover is looping and that the alien spaceship controller here animation controller that it plays as soon as the as soon as the scene starts which I think it definitely does so now in here now has this controller and if we hit play you can see that working cool so our play and quit buttons I want to configure them a bit here so let's find the canvas and I think we should move them a bit apart now so something like that that's a pretty good position let's take that and do the same over here except reversed let's also maybe play around with the color a bit here I don't know if I like this very black color on top of the blue one in this scene we could try something of a magenta color here and then of course we want to disable the shadow this might be more fun I don't know can try a whitish color with some black text maybe mm don't know if I will like that I think we can stick to the blank but we need to kind of make it a darker gray instead of the complete black because that's just too harsh on the eye and maybe instead of a red here we'll make a white so I think that will kind of tie it better into the scene we can also try making a nono purple not in this scene so let's just make that white and I think that actually looks a lot better here also if we take both buttons and just move them down a bit wouldn't hurt and maybe the last thing that we should do is make the hover animation on these buttons a bit more awesome and we can do this really easily I mean if we go into the button here it's currently set to color tint well instead we can make an animation a hover animation for each of these buttons so let's just try doing this because we have some time in this tutorial since it's not very long or it's not very complicated to do this so we can have an animation in here and that can have a now that I'm looking at this No okay so this can have some different triggers here a normal trigger highlighted pressed and disabled so we can go in and make those or we can simply auto generate it so let's just hit Auto generate animation and this is going to be the play button controller but I think the play and quit button controllers can be shared but I'm not completely sure about it so for now we'll just make this the menu button controller there we go so then all we have to do is inside of our menu button control if we select this you can see that we now have have four states we have the normal highlighted and pressed and disabled States and we don't need to do much in these except select one of them and then you can see that we have the different animations in here so let's select the normal animation we need to select this by selecting the play button and then finding it inside of the animation here so select normal and the probability that we want to configure is inside of the rect transform and it's the scale property you can go ahead and change kind of Desai's here by changing the width and height but that won't look very fluent because we're gonna have some of the same pixel errors as we have up here except voice because canvas is currently set to pixel perfect it is now which which we want it to be but when we do that and the pixels my tailor a bit so a play button here is going to be normal and an add property rect transform scale there and we can just move forward a bit inside of here and then change the scale or this is just going to be one of course then under highlighted we're going to add the same property rect transform scale and this one is going to be something like one point one and we can exaggerate this a bit and you can make the animation kind of like very quickly jump to the larger size and then slowly go inwards but I would like it to just stay large so I'm gonna change these down here as well cool something like that and then for the pressed I wanted to go back to the normal state or maybe even smaller so we can simply add the same property here scale and we can maybe to 0.95 2.95 that's a six there we go cover that over here and there simply copy those keyframes down here and for the disabled I don't need to configure that right now because we're not going to be disabling these buttons right here so now that we have that available we can go ahead and hit play and see if it works so you can see when I hover hover over here it automatically smooth out the transitions because that's how it's configured inside of the controller here so we really only need to create these button States you can see how cool that looks and when we hit play you can see it makes that really cool awesome animation that you just love to see in games so that's perfect and I actually really like the way that that is working so let's just copy that over to the quit anim quit button as well so you can see here that how we have a set up is we have an animator and that's the menu button so we simply need to do the same thing over here so we have the quit here we need to change this to animation and we can then copy from the play button the animator copy component and over here we can paste the component as new and I believe that it will just be working now so let's try that now you can see indeed it does so you will also notice that once we press a button it stays highlighted until we do something else and that's because unity has this idea of navigation because when you are using the keyboard to change between keys like the Eric or buttons like you use the arrow keys to change between buttons or you have a joystick when you need to go between the buttons by pressing up and down and to the left and all that well then you kind of need to tie the buttons together so that each button knows where you need to press in order to get there however we don't really need this in our game because it just makes it look weird when we're using the mouse and something stays i alighted and therefore what we want to do is we want to disable navigation so we can select both buttons and go under navigation and select none and that means that unity won't do any thing to try and create this functionality it means that you won't be able to use the arrow keys to change keys change buttons but it also means that when we now hover over them with the mouse and click they go back to their previous state like they should so that's basically all you need to do then it's much better good so that's kind of the look that I wanted to have for menu and basically everything that I can think of that we need to do too right now so let's delete the other platforms here and I think it's safe now to create a script that will handle our main menu so we can take our menu button our enemy hover and our alien spaceship I kind of want to rename this controller to aliens I don't know to alien spaceship menu yeah so we don't confuse that if we want to add animation in the game so all of that goes under animation and we can now add a script here so let's just create a new empty game object and let's rename this to menu master menu manager we'll do that and reset that and drag it up here add a component called menu manager which is just gonna have some very simple public functions reload all of this so we can remove systems or collections and we don't even need to have any UI references all we need to do is to have a public void which is going to be starred gain and this is simply going to say application that load level and oh yeah this is where we now need to use the new scene manager so we can see how we did that I think it was inside of the gamemaster nope it wasn't inside of the gamemaster or was it destroyed play of remaining lives GM that endgame so when it ends the game it says sets our UI active so let's just find our UI here so that's going to our main level find our UI overlay here we probably had something over here a came over UI screen here that's what I was looking for so you can see here that it says scene manager that learned scene and the scene it loads is the current active scene and then it just gets the build index because that's what load scene uses and of course just as we did with the game over UI we need to use unity engine hope using unity engine dot scene management and now that will work so that will assembly load the next scene if we go like this so it will take the index of the current scene and simply add one answer there meaning that it will load the next scene so that will be just fine you can also of course get a reference to the scene that we need to load actually we should maybe do that I'm pretty sure that you can just drag in a scene as and as a variable now let's try and do that actually I think it's just seen like this and then we'll do main level scene or seem to load or something we can just do scene to load here and of course make this a serialize field or a public serialize field and then in here we'll put this scene to load and then dot build index does this work this would be awesome if it worked so it's obsolete yeah okay what that so let's bang into our main menu and find the canvas here and the I know the main menu and nothing is there okay so you might be able to do this but not this easily it looks like what if we made this public just wondering if it would work we could of course cast an object into this but that would kind of complicate things it says something here so it had a warning no that's a star there okay nothing is for this all right what do the other way that had just been really neat if you have a cool way to do that definitely show me other than casting an object into this stuff that would be yeah they interest to do I will have a public void quit game which is simply going to say application dot quits easypeasy I will Deepak Turlock game yeah we quit leaking something like that and they are starting good so now inside of our UI elements we can find a quit button we can add an event on to here find the button there on click we have a reference to our menu manager in a special function called create game and under play again reference the many menu manager function menu manager and then start game and I believe that's all we need to do especially if we just go under file build settings and then add open scenes so that's the main menu and we also need to drag in the main level of course we need to make sure that main menu is at the top here with a index of zero so that's the first scene that loads and now when we hit play let's just maximize this in all of its glory and hope that it works we can see this guy hovering up and down and we have two buttons with awesome hover animations we can acquit and it says we quit the game and we can hit play and it loads the new scene so that's really awesome if you wanted to have a cool transition from the main menu over to the game I suggest you check out my tutorial on fading in unity we can create this cruelty of failing between scenes by changing the opacity of an image object and just have one central script that takes care of that so you can simply just tell it to fade and it will do so so I definitely suggest you check that out it's also to be found on the unity website so that was basically all for this video I hope you enjoyed it and I'll see you in the next one