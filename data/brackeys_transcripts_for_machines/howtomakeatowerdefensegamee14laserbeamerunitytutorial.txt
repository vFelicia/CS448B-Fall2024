this video is brought to you by Aron meta thank you so much for donating if you want to support Brees yourself you can go to patreon.com/crashcourse it was a bit too much to squeeze into just one video will also be slowing down enemies whenever they're hit so that will allow for more interesting gameplay mechanics and give the user more abilities to create interesting uh kind of defensive setups so that is what we're going to be doing today and without further Ado let's just jump right into it so as you can see I'm here in unity and I really want to begin with just importing the model so let's U minimize Unity here and head on over and open the Tower Defense ass itss pack and you can of course download this for free free and there's a link for that in the description so let's just um let's jump right into our models folder under our laser Beamer and you can see that's both a blend file here in case you have blend installed and if you do not we'll just use the fbx as we have done the other times so let's just use that one and drag it into Unity but before we do that let's create a folder here under our Imports and let's call that laser Beamer just to stay nicely organized we can drag the fpx in there instead and you will of course see that it creates a laser Beamer object which we will put a scale factor of 0. five on and hit apply and then we have a a materials folder uh with all of the different materials that will just be modifying a tiny bit here in a second so now let's take our laser Beamer and drag it into the scene and let's reset the transform if it isn't already and hit F to focus in on that I'll Just sh shift it back to perspective view there and let's have a look in the scam view here how it looks in game and I think it looks just fine however there are some things here that we need to tweak so the first thing is that uh we want this to be in one word uh that's just a preference of mine whenever uh dealing with our stuff inside of unity and then I want to rename these things here so this one here is the base that is what we called the other ones and this is going to be the head awesome then we can change the materials for uh to make this look a bit better so let's find our bolts here I actually want them to be black you can of course choose whatever you want here and I'm going to bump up the metallic on those and bump down the smoothness a bit uh there we go actually make them a bit darker a bit more metallic I guess that will actually dark in them and then we can take the base here because I think um and that is the stand here let's rename that to base as well so we don't get confused and I think this is a bit to Blue so let's actually make it more over in the gray area here a bit more metallic uh take down the smoothness just a tad and maybe even lighten it up a bit here so something like that is a lot better because I wanted to kind of get be in line with the other um turret stance so that's fine I I do want it to be a tiny bit more blue then we can take our main turret which is this part up here and I actually really like this the feel of this I just want it to be more metallic which means that it will be darkened and therefore we have to brighten it up in our color and then I think we can maybe take our smoothness and just dial that down just a tad and I really like the feel of this and then we can find our um third accent here which is this yellow color and we can definitely go with yellow but I think we just need to dial it down just a tiny bit um for this to look a bit better something like that and it's just small tweaks here and if finally we have the pipe I think we can make that pop even more so let's just give that even more of a purple color a tiny bit of metallic and then definitely bump down the smoothness here and I think that looks pretty cool definitely looks laery maybe even toxic so that's fine and um what we can do now is just uh actually apply our turret script so that's apply our turret here and uh we'll give this a range of say 20 and won't miss with the fire rate that's not going to matter because we're going to be creating our own little system for dealing with um lasers because they are kind of an ongoing thing um and uh we have the enemy tag we'll just leave that and then we need to add a part to rotate so that's just right click create a new M2 object and reset that and call this one our part to rotate and let's drag this under our head and then reset the transform to that drag it out again and that will just Center it kind of where it needs to be which is here and now of course we need to have our blue Z Arrow uh point in the direction of our head so we've done this multiple times and we're just making sure that when we rotate this uh it will actually align with the zaxis being forward uh so that we don't have to do any messing around with any rotations inside of the script we just do that in here which is much more visual so make sure it says pivot pivot and local up here and then we can maybe ser the X on the X and um zero the coordinate on the X and then uh um put a 90 that will have to be ative 90 on the Y and let's also put a 1 one one scale I think that's going to be better and then we can take our head here and drag that under the pot to rotate and we can just hit continue here and now we should be see that our part to rotate points in the correct direction and we can just easily move this part around awesome so now we can reference that in here as well so let's drag our pot to rotate into the PO to rotate field and finally we need a bullet prefab except we're not going to be using bullets so we'll ignore that as well however we do want a fire Point um so we'll have some place where our laser will origin so uh and we are just going to create that as we've always done on the part to rotate rotate so let's create an empty there again reset it and we'll name this our fire point and we will um make sure again to uh position this correctly so let's view it from this side switch to isometric View and we can just drag that up there and I wanted it to be pretty close now because we're not actually instantiating anything here we're just um kind of putting a point for the line renderer so we can get really close and um it's actually centered from the front here I believe already that's awesome yeah great cool so now we can drag this in select the line uh the laser Beamer and drag the fireo onto the correct slot and there we go so I believe that was all we needed to set up on on this object so far uh so let's actually go ahead and turn this into a prefab now so let's go into prefabs and drag that in there the entire laser Beamer and we'll just have it sit here for a moment so that we can easily change things if we want to so the next thing is kind of adding this to our build menu so that we can actually put it in the game as the game is running so uh to do this again we find our overlay canvas under shop and then we see that we have a stand a turret and a missile launcher item and apple really wants me to spend money these days so I'll just dismiss that the only thing that's running out is my patience there there we go um so I'll um duplicate our missile launcher item here here and I will call this one um laser Beamer and we'll actually do laser Beamer item and we need to change the icon and we'll do that in just a second but let's also change the cost text down here and I'll change that to say $350 to make it very expensive uh which means we'll have to make it powerful as well and uh we need to go into the shop and change this function here and I believe we can just go ahead and do that right now now so let's double click on the shop to be taken over here and let's double click that to open it up in visual studio and all we need to do here is First add a new turret blueprint so we'll go public turret blueprint and this is going to be our uh laser Beamer and we'll add a new function for this as well so we'll uh call this one the select laser Beamer and it's going to say laser Beamer selected there we go and we are going to select the tur to build and we're going to pass in our laser Beamer of course awesome and one thing that I actually noticed is that under our build manager um if we go to our game master and find our build manager here you can see that we still have a standard turret and a missile launcher prefab referenced but we're not using those in any way so let's just double click on that and go in here and remove those two Fields there's really no reason for those to sit there because we are passing them along um inside of the turd blueprint so we can just remove those and you can see that we should still be error free down here awesome um so now that we've added those we can find our shop and we can find our laser Beamer and we can set this up so let's set the cost to 350 and let's also find our prefab and drag that in there cool so I believe that was kind of all we needed to set up in terms of the shop here except of course we need to add an icon so uh let's have a look at importing one of those and again I inside of the um inside of the Tower Defense assets pack I have a Sprites folder and I've included a laser Beamer icon.png there's also Photoshop file if you use Photoshop again I'm just going to import the PNG here and let's find our um icons folder and let's drag that right in there I believe the other ones we imported were uh PNG as well let me just check for that because I like to use the same actually the first one was a Photoshop we'll just do a PNG here it really doesn't matter on my system uh so you can see here uh that the texture type is currently set to texture we need to change that to 2D and UI and uh the Sorting here or the uh Alpha channel should be sorted out and I believe that's all we need to change except we can maybe uh change this to 512 if we have OCD and then we can uh make this true color um there we go just to make it display really beautifully and then we can change that inside of the missile laundry icon here change that to the laser Beamer so you can see that set up inside of the unity scene and I actually think that looks fairly decent good okay things are moving along I actually want to maybe make it a tiny bit bigger um I actually want to make it maybe one 20 down here I think that's better uh and that looks really really cool so now we should be able to just hit play and select the laser Beamer and it should say um whoops there's something here we haven't assigned oh that's on our laser Beamer we haven't assigned a bullet preab for now just while testing we'll go in here and just assign a normal bullet one we'll just do a um bullet there we go just so we won't get any errors so we can select here our missile or it says missile launcher so selected that's because we have to find our laser Beamer uh item that we go into the shop and we have to change the on click event so we've actually added the function but we haven't changed this event so it still points to the select missile launcher function so we just need to go on shop and change that to select laser Beamer and we should be all right so let's try and H and play now clicking there laser Beamer selected and clicking somewhere in the scene and you can see it appears and we can only purchase one because we actually don't have that much money when starting out cool uh so now I think it's time to add in a line render to do some actual lasering laser ring laser thing so let's do that so let's uh create a we could either actually put it just in here or we could put it as a separate object I think we're just going to put it on the road but you can do any anything you want so let's just put it here and um we're not going to be casting Shadows we're not going to be receiving Shadows um motion vectors will just leave on we'll have one material which we'll specify in a moment and let's just set up some temporary positions here that will allow us to view what this looks like so let's put a y value of three and a y value of three down here and then a z value of maybe five just so we can see kind of what is going on actually we could put it out here but I think this is going to be fine good so this is what our line currently looks like not too awesome so let's go to excuse me I think I'll have to take a sip of water here that's better all right so let's go under our parameters and let's uh put our start width to3 and our end width to3 as well cool that is definitely better and then we can uh go inside of our know our positions are fine we can go and find an actual material for this so let's create a new one inside the materials folder let's create a new material and let's call this one laser and let's then go back to our laser Beamer and drag the laser in there and we can go down here change the Shader to something like unlit color maybe or you could go particles uh Alpha Blended actually I think I'm going to go Alpha Blended and um you can see that we can mess around with the color in here so that's what we're going to be doing so let's take our start color here and change that to some kind of orangey thing and let's take our end color actually I want to switch that around um this one needs to be a bit actually let's do the first one red and the other one yeah let's do that so this one will be kind of bright almost yellow and this one is going to be kind of red to give that cool looking effect there and um we can maybe make the first one here a bit transparent as well and this is where I want to go in on to our material and bump this up a bit and also bump this up a bit something like that looks a bit better and there we go actually think that looks kind of nice I'm looking inside of the game view here uh just to get an idea of of how that looks and you can definitely go ahead and add more effects around this one thing that I do recommend is that uh you at the tip of the laser add some kind of particle system that you toggle on and off um in order to uh give a cool uh impression that uh the lace is actually hitting the object and there's Sparks bouncing off and stuff like that is that if that's something you really want to see me do leave that in the comment and I'll include it in the next video for slowing down the enemies and stuff like that then we'll just go particle crazy which you know I love it's not really not that I don't want to do it so please leave a comment okay so we'll continue the video here um so we've set up these parameters and U we're actually ready to go ahead and make this interactive through the script so let's apply this and don't worry about this being uh looking weird like this we can just delete our laser Beamer should be totally fine and then we can um find the scripts called turret there we go so let's double click our tet script and we'll move things around a bit here uh to organize them for what we want to do so currently we have these attributes I want to call this General and I pretty much only want our range to be in here because the next thing that I want to do is have one called um use bullets and this is going to be the default and in here we have stuff for bullets we have the fire rate the fire countdown we also have the bullet prefab awesome so we'll just put all of those in there and then we'll create a new header down here which is going to be um use of course laser and we'll remove the default there and to include the laser what we'll do is we'll have a Boolean that on the um that we can check inside of the editor if we want the attor to use a laser instead so we'll just do a public bll use laser and we'll set that equal to false by default awesome and then in here we can also have other stuff like a reference to a line renderer so let's do a public line renderer and we'll just do line renderer by the way in case you missed on the recent brei live stream it's currently um on the YouTube channel as a reupload so you can check that out we recreated uh the curve Fever The Snake like game and um in there we do a lot of stuff up with the line renderer and we do that in unity 5.5 which is currently in public beta but will probably soon be released uh for real um and uh there's so much new stuff done to the line render it looks so much better so if you think this is looking kind of not that great uh go check that out and um play around with the features there there's so much stuff to make it look a lot better uh and especially with particles as well so that's a lot of fun and you can check that out just wanted to mention that so uh we have the public line renderer here and uh let's actually put this to use and just to give you an idea of what we just did uh let me just find our prefabs and then find our laser Beamer here and you can see that this is now much more nicely grouped and we'll just for the laser Beamer here we'll have to check you use laser and we'll drag our line renderer right in there so if it's sitting on another object you can just drag in that object and it will uh uh select the line renderer for you so so that should take care of all of that and we can just remove the bullet prefab here not that it matters uh it's just not the one that we're using cool by the way I will just throw in one more point before continuing if you want to set this up even more nicely so that you have a variable called uh use bullets or maybe even an enumerator to select either bullets or laser and then it will show felds depending on what you've selected then I really suggest um creating an script and unity is so easily extendable with those um it's just too much for this video uh that simply switches between displaying those um that's super easy to do and you can just look up Unity custom editor good so that was all um so now we can continue so let's find the place here where uh we update stuff so in here we check if our Target is equal to null and if it isn't meaning that we have a Target we log on to it and then we handle some shooting so let's take all of this log on code and move into a separate function we should have done this a long time ago so let's uh call this one lock on Target uh and we'll move that down here so void log On Target and we'll just paste that entire code Block in there and um then we can put an if statement here saying if used laser then we want to laser stuff whoops not use laser we want to create a new function called lace that's really annoying let's just create the function here instead of getting around uh visual Studios autocomplete so we'll have a void laser down here and now we should be able to Tye it type it up here so laser and um if not so if we're using bullets we can go ahead and do all of this fire countdown shooting stuff stuff awesome and you can of course put that into a separate function as well but since we already have a shoed function I don't really think that's necessary um cool so um and I can see that I've pressed insert there just needed to get rid of that so inside of our laser what we can now do is say line renderer Dot and then we can set the positions of the different points that we want a line renderer to go through so again if you haven't seen the live stream and I cover this in there there's a positions array here meaning um each of these elements here in the array is uh a point that our line renderer will go through so we can actually create more if you want kind of a bending laser if you want one that's six saacks or whatever you can definitely do that uh but for now we'll just create a symbol line and um we'll uh do that by simply setting the first element and the second element in the array so U we'll just do line render do set position and we do that using an index so in our case the first element is index. Z and giving it a position and that's going to be our own position but we want not to use that we want to use our fire point firepoint do uh transform dot actually it's it's a transform so we can just do firepoint doos and we want to set the second one so line renderer do set position one to our Target's position so target. position there we go so that actually does it for us and we should see this working already so if we uh we go in here if we hit play and place down our turret we can see that that works however you will also notice that when our enemy here gets out of range the line renderer does not disappear so what we have to do in order to get that working is just using the fact that up here we're checking whether or not we have a Target so let's just make this a bit bigger here so let's say uh if Target is equal to null we definitely want to return but we want to do some stuff before that and that is just checking um if line renderer actually let's first check if uh use laser is true so we only want to do this kind of stuff if we actually using a laser and in that case we can say if line renderer actually we don't even need to do that if statement we could could do that if statement uh we'll do it if line renderer do um enabled uh then we want to disable it so we can just do line renderer do enabled equals false there we go and you can of course put that inside the other if statement as well but I think this is easier read uh to read and then uh down here we can simply say that if line renderer do enabled and then put an exclamation mark so if it's not enabled we'll do line renderer do enabled equals true there we go so this way we easily switch it on and off and we only do it once even though U we are uh doing all of this stuff inside the update Loop so if we now hit play we should see that when we spawn this in we no longer have a line up here and that uh there's no line until we actually get a Target and as soon as he's out of range our line renderer just again disappears so um that is working just the way we want it to and um yeah again for the next video we'll be slowing down the opponents if you want me to add some damage over time let me know if you want me to add more particles or more effects let me know I would love to do that and um yeah so that's pretty much all I wanted to show for this video I hope you enjoyed it and I will see you in the next one thank you so much to all of the awesome people who donated in September and a special thanks to Aon meta Robert R James Kell Hound Kim Goos B andang and vixi and P thank you so much for donating you guys are awesome if you want to support breus yourself you can go to patreon.com breis