thanks for tuning in at braies hello everyone and welcome to video number 16 in make a game a cool series on making a video game in unity So today we're going to be taking a look at uh making our menu actually do something so we're going to be expanding on the subject of last week's video and uh this process is actually both very easy and also very fun so you will notice that I am on a Mac today and that's because I'm currently traveling so I hope the quality and audio quality is uh just as fine as it normally is let's just get started as you can see I've already opened up unity and I'm just going to quickly go ahead and drag the music object up here because I like it at the top um what we're going to go ahead and do is uh maybe move these buttons here just a tiny bit closer together I think they're just a tad too far apart so I'm just going to set this to 135 and the same with the other one 135 there that looks a a a bit better and uh what we can also do is we can rename this from audio to music because I think that we are only going to be changing the Music Volume today I would like this slider to do that awesome so now we can actually go ahead and and select the canvas here and today we can make this Pixel Perfect so if you click this you will notice that everything looks much better and much sharper than it did before the reason why I couldn't do that in the last video was because uh Unity 4.6 beta um was having some problems with my windows configuration but on this computer it works just fine so try it out awesome so select the main camera and we're going to add a new script so hit add component new script and this is of course going to be a type JavaScript and let's just call this main menu and this script let's open it up in monod develop is simply going to be a bunch of functions that we can call whenever we press our buttons and change something with our slider uh that does some simple things let's just delete the two default functions and let's create a new one let's call this quit game because that's the easiest one to do and uh let's just open up some brackets and inside of this we're simply going to say application. quid and we're done that was basically it um this application. quid function will not actually do anything at all inside of the unity editor but once you build it to let's say a Windows Mac or Linux stand alone this will actually close down the uh the application so now let's save this hit into unity and hit play and uh I'm just going to turn down the volume here a bit you can see that when I press the button nothing happens but that's not because application. quit doesn't work inside the editor that's because we have to assign it to this button so let's just make a debug.log statement in here so we can test whether or not something is actually happening let's just say uh game is exiting just like this to let us know that the button has been pressed now let's save this hit play and this should still not be working indeed it is not what we're going to do is we're going to go into our scene view we're going to select the quit game button then we can scroll down and you can see that there's a list here called onclick excuse me so what we can do with this on click list is we can add items or functions that we want to be called whenever we press the button so simply hit the plus sign we are then going to select the object that the function is on so so that's the main camera then we're going to go ahead and and find our script which is main menu and now you can see that there is a quit game function down here so now this should indeed be called let's go into the console so we can see what is going on let's hit play and now when we press the quit game button it will say game is exiting so now we know it's working awesome uh now let's go ahead and make another function and this is going to be for our start game and inside of this we're going to say application. load level whoops not loaded level but load level and in here we're going to pass it a name and we're just going to do level one now save head back into unity and remember whenever we do uh we load a level in unity we have to also added to the build settings let's go under file build settings and you can see that our level one is indeed added to the build I'm also going to add the main menu and drag it up so it's right above cool now we can go ahead and and uh find our play game button so simply select it and we can go ahead and add is a a item an item to the list let's again select the main camera now we're going to go on the main menu and you should see a start game function indeed we have one right here so now when we hit play and then hit play game the game will change scene what we are also going to do with this is we are going to go in here and instead of just hardcoding in the name of the level that we want to load we can use what is called an argument because wouldn't it be cool if we could load or start the game with different levels uh with different buttons all using the same function that's actually relatively easy to do all we have to do is create a an argument or a parameter and we do this inside of these two parentheses in here we are first going to type what we will refer to the level name as so we'll just refer to it as level it's basically the name of the variable that we're making then we are going to make a type and this is going to be of type string because a name is usually usually of tripe string so now instead of hard coding level one in here we'll simply type in level because that's what we've called our variable what this says is that whenever we call the function start game and wanted to do things in here we'll make a we'll require that we send over a name with it uh that we will call level and that we can then pass in here so now what this actually means in practice it's okay if you don't qu understand it yet U but it's you will see the effect of it is that we can select our play game button we can scroll down again select the function the start game and you can see that it takes in a string now and this allows us in uh in this box right here to Simply type in the name of the level that we want to load so for different buttons we can type in different levels here and it's also just much easier to change because we don't have to find it in code you can just do it inside of the editor so now when we hit play it's again going to work just fine but but it's now a lot more flexible and we don't have to add a function for every single level that we want to load we could also go ahead and change the name of this to load level because we are then we can use it for much more but since this is under the main menu script I'm just going to call it start game the last function that we're going to be making is also slightly different but still uh just bear with me here and and you will get it in a sec so we're going to make a function and we're going to call this set game volume of course you can call it whatever you want then inside of the parentheses you're going to type Vol that's what we're going to call our volume of type float and then we're going to open it up here so again we are taking in a parameter we are calling it V and it's going to store the volume as a number so that's all we're doing we're just saying that when we call we're going to call this from the slider the slider value is going to be passed in here and we'll just call it Vol for volume now we can go ahead and use this V to set the volume of our music so let's first create a reference to our music so up here do a VAR and let's call this music of type audio source and we can just put that in in the inspector now inside of the set game volume function all we need to do is do music. volume equals W because remember the V here is the value of a slider so that's all we need to do in code we've now finished our script let's head back into Unity first off select our main camera and drag in the music object into our music audio Source that's very important or you're going to get a null reference exception if you get one just remember to drag it in there now we can select our slider scroll down and you can see that we have again on value changed this will be called every time the value changes we're going to hit play or plus find our main camera object find the function on the main menu and you can see that it's up here under Dynamic float which means that we will put in whatever value of the uh slider as an argument which is just what we want so we're going to hit set game volume and that's all we need to do I'm also just going to default this to 0.45 maybe I think that's a pretty good starting point for the volume and now I'm just going to bump up the volume on my computer so you can hear how this affects the music let me hit play here and I'll just try it out you can see hear the music playing and now I can adjust it using the slider so that was basically all for today's video I hope you enjoyed it and I'll see you in the next one