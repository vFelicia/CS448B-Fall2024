thanks for tuning in at braies hello everyone and welcome to video number 10 in make a game a cool series on making a video game in unity so today we are going to be U making the score system uh for our players so every time we pick up a coin we are going to see some DUI on the screen it's not going to be fancy but it's going to be there that will display the score so let's just go ahead and dig right into it so as always I've opened up unity and uh what we're going to do now is we're going to first off select our coin and uh now you know what let's uh there because there are two parts to this process the first is uh of course the coin we have to uh to actually change a variable um but it's a good idea to stall this variable not on the coin itself because we will have multiple coins spread out the entire scene and so instead we could just make an uh Master game object that will have this variable and that will also take care of the dii uh and then we can just access that variable and change that so that's what we're going to do so first off let's make this master object so let's go under game object and hit create empty or press control shift and that's of course command shift n if you're on a Mac and let's go ahead and call this underscore GM and again the reason why I put an underscore is so that it will stay on top of the hierarchy let's just position all of this uh by 0000 Z that's just general good practice and let's go ahead and add a new component new script of type JavaScript and let's call this game uh Master hit create an ad and let's double click it to open it up in mono develop there we go oops this is just some of our previous script so if I zoom in on this we can go ahead and get started so first off we of course want a variable and this variable is going to be VAR uh and then we're going to call it uh current score um it's I'm just going to call it this because we might also want like a high score a master score okay let's call this a current score like this and let's going make this equal to first off it's an integer and let's make it equal to zero by default and uh what we can go ahead and do is we can make this into a variable we can access from other scripts and we do this by typing static in front of VAR so it's a static variable meaning that we can access it from all scripts uh cool so that's basically all we're going to do in here uh what we would do next is we are going to change this function to on GUI because every uh guy element is made in the on GUI function but I'm going to go ahead and talk about the uh guy system in a sec first off let's just make this variable actually change so uh you will notice that we can't see see this in the inspector so what we can just simply do is um go ahead and make a function uh that will uh allow us to see it in the inspector because static variables are invisible and we would like to just know if it's changing so to easily display it let's just make a normal variable that will that will be shown in the inspector and make it equal to the current Spore uh variable so let's just call this uh test and make it default to zero and then in the function update we'll just say test equals current score and round it off and now we should see a variable here that is zero by default try again uh wait for it to pop up we should see it in just a sec it's having trouble showing H and I can't select other objects it looks like I might need to quickly restart Unity because something has gone horribly wrong with the inspector here let's just yeah I'm just quickly going to reopen up Unity so give this a reboot I'm sorry but if this is enough I it's I don't want to cut it out so let's see if it's working now and select our GM and there it was so so we have the variable now uh I don't know why it acted so weird uh and I don't know why I can't dock it over here as I wanted to we can go under the layout and just uh select default great so now that everything is back to normal let's just go ahead and see uh what this variable does right now it simply stays zero no matter what we do because we need to find our coin and double click the coin pickup script and in here we need to change the score so uh we can see that we first off add this effect then we tell the effect to destroy after 3 seconds and then we destroy the game object and we've even added a add coin counter here debug.log so we know that this is where we need to do it in our code so let's just delete that and now we can go ahead and make the coin counting so it's very simple uh first off you give the name of the script that the variable is is stored in and remember we can only do this because we've made it a static variable so that's called game master then we say dot and then we can just uh type in the variable name which is current score and then we can set it to something uh but we won't just set it to a fixed value we want it to be one more than before so therefore we do plus equals say plus equals oops uh which will add on the number right after it onto its current value and then we do one because we only want to add one you can you could make coins that are worth let's say uh 10 scores if it's a huge coin that's hard to get or if it has another color or something uh and then what you simply want to do is you want to make a variable called um let's say coin value and make this default to one and then you can change the it in the uh inspector and instead of one here we'll just do coin value actually that's just leave that in that's handy to know if we want to make cool powerups or something great so let's see if it's working so what we can do is we can select our GM and now observe our test variable to see if it changes and it certainly does it changes to one so now that we know that this is working we can go ahead and delete our test we can delete the function update and we can make our first GUI now uh GUI is a pretty serious discussion in uh in unity uh basically Unity have been promising a new uh guy uh layout system something for so long as I can remember um but it should hopefully be done in the near future uh but the specifics we really don't know and the reason why everyone are so longing for this is that the current system is well to say it out clearly really bad uh so basically there are several ways to do uh DUI as this you can do it completely through scripting which is what we are going to do because this is the uh quickest and easiest way you can also do it using uh an ingame thing that unitive made called uh it's the if I see if I can even find it it's thei dii texture that's not really a viable option either and uh gu is just hard on the computer uh though if you are willing to pay for uh good DUI there is a plugin called n GUI that's just nggi like this on the unity asset store and it is a little expensive but it's in insanely uh well done and most professionals use it around the world uh and it's the same guy who made this plugin who is currently working on the solution for uh for Unity but until all of this gets cleared out let's just use the good old uh GUI system so in the function on uh GUI where all the guy code gets called let's type uh DUI dot let's do a label and uh we can see that a label first off wants a position then it wants some text so what we can do is we can first off get it uh give it the position so let's do uh new rect like this and open this up so new rectangle and in here we want to do uh screen do height and uh let's do times 0.5 comma screen. width uh you could also just do divided by two that's up to you and let's close this off and then comma and then the string name and this is just going to be uh score and uh then close it off and end it up with the parentheses or a semicolon of course so now when we try to hit play we get some errors uh first off we can see that I've spelled height wrong that's annoying uh height like that and let's see if this works right so uh it says that it doesn't match the argument list and uh this is because uh we need to use ai. box of course uh so we make a new rectangle and uh in here we also need to declare the sizes so we need to do let's try 200 by 200 at first uh so now it should be working and yes it is and before uh let me just show you what it looks like and then explain the code so now we can see the score is down here and it's in a very weird position and let me explain what's going on so basically first off we uh say to uh make a new rectangle first the position on the X so this actually needs to be with wi then the position on the Y so this needs to be height and then the uh size on the X and then the size on the Y and using screen do width we can make it in the center by simply saying that we uh we start in the left hand corner then we go all the way to the right with uh our screen width and then we just take half of that so that's in the center so I'm just going to do divide it by two here because I get distracted and uh it does the same with the height and this way it should now be in the complete Center so if we hit play it's not really and why is this well Unity orients itself using the top left corner so what's currently in in in the uh in the centry is the top left corner of our GUI element but we want the middle of the GUI element to be in um in the middle uh and this is this is logical so what we can simply do is we can subtract half the width and half the height and so uh the middle of our DU element will be in the actual middle um but before we do this it's easy to just make these into variables so we can change them inside of unity and don't have to go back into the script all the time so let's just make these into some variables so uh we want them to be in the center of the screen uh on the width but I want the score to be just a bit from the top of the uh the screen so we don't want this screen. height instead uh let's make a variable for that so let's call this um y offset let's call it offset Y and let's just make this a float equal to let's try 40 by default now we can go in here and just type offset y then uh on the X we are going to do another variable and we're going to call this VAR size X of type float and this is going to be equal to about 800 then we're going to do V size y also of type float and this is going to be equal to let's say 40 now if we save this of course we need to copy in our actual variables so size X and size y we can go into unity and we can see all of these properties appear and we can change them in here but you will notice it's still not centered we'll take care of this in just a sec this is just to get a general idea remember that whenever you tweak something it while in play mode the changes will disappear as soon as you stop playing so either you have to note them there is a handy pluging on the Ence store to uh or just remember them so I'll try to make the Y something like 20 uh 25 25 is pretty good and the Y is probably fine because we want to add in some uh some numbers too we could do something like 90 instead actually we can go all the way to 80 I I think that's fine so 80 or 90 and uh the offset y I'm pretty satisfied with that so 80 and 25 so stop playing and change this to 80 and this to 25 uh now we can go in here and we can just use these variable to subtract from so on the screen. width we can simply say minus and then we can do size X and then divide it by two and now when we save this and hit play the score is in the exact Century because we have subtracted half of our x value now let's make uh this actually show our score because right now it just said says score so let's make uh it score colon and then a space and then outside of these parentheses you need to say plus current score and if you don't want it to say anything but only display the number you have to have these two parentheses but without anything in between so you still have to leave them there but I wanted to say the score so now we hit play and it says score zero when we roll into our ball it says score one and we have a beautiful label there to display the score so that's basically it for this video I hope you enjoyed it and I'll see you the next one