hello everyone and welcome to the 13th video in our Survival game series done by brais I am the CEO of brais and today we are going to take a look at creating audio more specifically audio SS and how you're going to switch between them so um let's open up Unity I've already done this and uh I'm a little freaked out because I already recorded this video once though um I don't know if I forgot to press record or if my recorder just up but um yeah it deleted the recording so um we're going to try this one more time all right so um I've changed up the unity project a little bit since we left off um I have imported these two pieces music and the first one is called enemy territory and it's kind of a frightening or exciting piece the other one is called friendly music and it's Moody and nice the one we are going to be using when you're near the town so um we won't doing be doing the easy fading and nice switching in this tutorial though we'll be creating the most fundamental game logic for audio changes and I'll show you some pretty cool tips for when when using audio so these two files are pretty damn huge this one is 7.2 mbes and this one is 6.1 and that's way too hu uh too large for making games um so I would definitely rem recommend that you compress your files before importing them to Unity and I'll definitely also be compressing these um before I include them in the scripts and assets pack um which you can get from our web website so um I'm just in a little hurry so I won't be doing this now all right so uh if you take a look at these um and click them and view them in the inspector we can see that I have checked off the boxing 3D sound and this is because I want this to play in 2D meaning that no matter where our player exist in the scene um it's going to be equally loud uh so it won't have any pitch or volume change es okay so let's actually go ahead and get started now so select the two audio files and drag them into a new folder which we're going to create now so call this audio select them and drag them in there and we can also go ahead and clean up from our last tutorial track the AI symbol inside the scripts folder we ain't going to be messing with that right now okay so uh let's create a new script right click create JavaScript and we're going to call this um audio zound Zone I don't know Zone and uh you're going to double click to open it up in mono develop as always and yes that was mon develop and we are going to go ahead and delete the two functions and we are going to create a new function which we have never used before it's called on trigger enter and then start parentheses other collider with capital and then open up the brackets so let me go ahead and quickly explain what this function is and when it's called the ont trigger fun enter function is called whenever a game object for example the player is um entering this collider we're going to attach to the game object in a second so simply whenever something enters this game object it's going to call this function and the other um and the things in the parentheses simply means that we're going to want to collect some data from this entering so we want to know uh quite a few things and here we we are going to call this data other and it's going to be a type collider it's going to be the collider that we want something to that we want to know something about so here we collect some that data so that we can later check if it was the player that entered the zone so uh let's go ahead and create a private variable and private just means that it won't be visible inside of unity because we are not going to change it outside of the script so that's just cleaning up the hierarchy a bit so the collider it's going to be called and it's going to be a type string with a capital this is important and then end it up with a semicolon all right so um inside our on trigger in we're going to type the cider meaning the variable we just created equals all do tag so the collider here this is just text this is just a name or in this case attack and uh it's going to be equal the collider or the Collide the one we collided with stack so um if we go ahead and type if the collider is equal to player end up the parenthesis and create the brackets then we are going to check if the game object that collided with these this audio zone is the player has a tag called player and this way we can know that it was the player that entered the zone and thereby play some audio so that's what we are going to do now we're going to play the audio so inside the if statement type audio. playay end it up with a parenthesis and under that we are going to type audio. Loop equals true so here we are saying that we want to play the audio attached to the audio Zone and we want it to Loop when it's done playing and this is going to Loop to Infinity see this is never going to stop unless we do do it forid so uh let's do that by creating a new function and this is going to be called ont trigger exit this is exactly the same as the ont trigger inro except this is whenever something leaves the trigger and we can go ahead and copy everything from the parenthesis of the collider down to the ending of the function because we are going to be using a lot of the same code so actually the only thing we want to change here is this we're going to delete that so now whenever the player exits the collider audio do Loop is going to be false and thereby the audio is going to play out until it's done and then it's just not going to start playing again though uh the audio files that I'm going to be using here uh are not quite optimized for gaming P purposes normally in games you create very small Loops um they could be around 20 seconds long and then you just when you want to Crossfade something um you just set it to stop looping and thereby you can set another audio file to start looping about 15 seconds after but my files are about 3 minutes long so uh I just want for now to make it stop immediately else we are going to have two audio files running uh playing simultaneously and that does not sound well so audio. stop parenthesis and theni colon um maybe in a uh a later video we're going to take a look at how to actually fade between the two using coding um simply adjusting the volume though this is a little more difficult that would be done in a for Loop simply uh uh simply adjusting the volume a little bit every frame but for now let's start with uh that we'll just use this logic so you can go ahead and click back into unity and uh see if we get any errors I think we are good for now and uh let's go ahead and create the game objects which we are going to be using so game object create other no game object create empty rename it to audio Zone 01 hit add component physics and the spere collider now let's position it 0 0 0 drag it into the center of our scene into the center of our village and scale it up up a little further than our village yeah that looks about right so inside of here let's drag the script the audio Zone script and let's also apply the audio by double clicking the audio folder and dragging in the friendly music we want this to be be set to play on awake and maybe drag down the volume a little bit so when we play the game let's go ahead and do that now you can hear the music playing and when we leave the collider and nothing's happening I wonder why so if we take a look at our code again you can see that it's looking for a game object with a certain tag this tag is not currently at attached to our player so the function is simply not being called so we have to actually select our player focus on him go up to the right hand corner of the inspector hit the tag and change it to player you could also make your own tag by going to add tag expanding the tag section and then just creating elements but I'm good with the default player tag for now now we should see that when we start the game and run out of the audio Zone it will immediately stop playing not really though um let's take a look if we select our audio Zone yet another trap that is easy to fall into under this spider we need to track the is trigger else we can collide with the Box let me show you this the only reason why we didn't collide with it is because we started inside of it if I don't check this s trigger and try to run into the collider I'll simply run into an invisible wall and so let's check the is trigger put it back and now it will hopefully be working indeed the audio stops playing now let's create a second audio Zone which we can run into so everything won't be completely silent so duplicate the audio Zone call this 02 drag in the enemy territory and uncheck the play on awake now we can drag this over to our enemy so that it gets a little exciting when we near him you can select both audio zones if you want to see how they're intersecting I'm going to take this and drag it a little closer to our village now hit play we can hear the first piece go piece going on we should be hearing it stopping about now and the new piece starts playing that's basic audio audio Zounds and audio switching thanks for watching the video guys and I'll see you in the next one