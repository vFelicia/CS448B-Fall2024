thanks for tuning in at brakus hello and welcome to this video and creating a multiplayer FPS in unity today we are going to be creating a user account system with a login menu that means when our player opens up the game you will be able to register an account or use an already existing account to log in and each account will then have some kind of data associated to it so will be able to store stuff like kill count how many deaths the player has on a level maybe even some weapon unlocks but depending on what you want to do with your game now when it comes to doing these kind of databases especially when they are hosted there are a bunch of different ways of doing it some very complicated and some fairly easy and we're going to be focusing on the fairly easy today so we this is by no means a tutorial on how to set up a huge database with lots of control that is super secure but I will get into your options in just a second I also want to mention that if you haven't seen the last video we set up a super cool looking arena so if you want to have that part of your game you should click the screen now to check that out in case you had in case you missed it so without further ado let's dive right into today's video so you can see that I'm in fact not here in unity I'm here in chrome and I'm looking at the web version of the asset store on an asset called database control and this is the free version so the free version of this has been out for quite a while and let me first explain the very classic way of doing this sort of stuff and that is creating your own database using some software such as MySQL or my sequel depending on how you want to pronounce that and then hooking that up to some kind of web programming language such as PHP is very commonly used and on that has some programming aspects that does require some knowledge there and that's not the thing that we are going to be going with here and then you need to then host that database on your own or using some kind of hosting service that you you simply buy some server space you can of course build your own server that is also a hold on the field and when it comes to these databases it's a lot about managing them how large they are do we need server space how quick is this and also a lot of worries about security and um it's really a whole world and you can of course get into that stuff and if you want to build the next World of Warcraft you definitely have to but I find that this asset for what we are going to be doing actually is really really cool so what this basically does if you import this into unity is that they create a database for you they hosted on their own servers and they allow you to create a bunch of users actually they are they state that you can create an unlimited amount of users but that is of course only a theoretical limit and you can for each user you can associate a username a password and then you have a text variable and which is basically just more a stream and that then you might think well I want to have all kinds of stuff register to user I want to have kill count deaths pounds I want a weapon unlocks all that and you might be able you might limit yourself a little bit but you are actually able to save quite a few things in the text variable because when you think about it a lot of this data can be converted to text and you can have a bunch of different things in this a string that you then on pull out of it are using your own syntax you can separate different pieces of them of data with your own symbols and then simply find them in the string so there are ways of using this to store it on more data now I will put a disclaimer here this is by no means a safe way of doing it and they even stayed this in the readme it has absolutely no security so if security and stability is very pardon and if you want to get your game out to a lot of usage and not just use this as a fun project well then actually you're in luck because uh the same guy just released data based control Pro and I mean really just released it it's like an hour ago when recording this video and that means I haven't used this but I followed him on the forum and basically this delivers some more security some more edit ability in the database you can have more data fields in there you can see it says here secure and reliable again I don't I haven't tested this myself because it's so new but I wanted to mention this as an option so that is what we're going to be going with the data base control free here explore your options or just get into the to the fun part with me right away so let's get started with that so you can see in unity here we have our scene and we will just be leaving this now we're not going to be using it right away let's go into a lobby instead and shift into 2d mode here and focus in on our canvas and Cole I think we are ready for import here so let's go back on the browser that's it opening unity launch application and of course I will have a download link available to you in the description and then we can hit a download and I've already done that so I'm just going to hit import here and it will store everything in one single folder so you don't need to click off anything and hit import and basically it will import super quickly because it's pretty much only a few text files and a DLL or something so it's a very small file and we can clear the console here and you can see that we now have a new folder called database control and this comes with a readme that is very useful and actually quite easy to read so I definitely are recommend that you scroll through this if you have any questions there's also a way to contact the guy and yeah there's also a setup guide here so if anything changes from my video consult the readme cool so basically what he recommends you to do is to begin by going to window and then selecting database control free and you can see here that mine is currently loading and you can see that I've already set up my database if it says you haven't created the database yet simply hit create database and it should do that on its own I'm going to select that I want to use database 1 you get the possibility to have two databases using the free version one for each project so you can only have one in one project so I'm just going to be using database 1 here and you can see it says database set up and ready to go and now we can continue and you get a database ID which I will blur out and you have the possibility to empty the database so you can click this button at any point and it will remove all current users from that database and all that data it will completely empty it out so be careful with this option so I'll just empty mine right now in case I have something on that and you might get a an argument exception but it did empty it out I've gotten those don't know why it's happening but it is working so let's just close this down here so I don't have to play it for the entire video and what we can do now is we can go and find the demo scene under this csharp demo and this is frankly not a pretty scene if we double click to open it up but it does have some really cool things in here mainly under the menu control object it has this a DC demo menu control csharp script and this is basically just an example of how to use the API provided by the asset provided by the dll's that allows you to register users login get and send data to the database and it actually does work right off the bat so if we were to use this UI right here right now and see you hit play here and it tells you that you need to do the window thing first which we have done then we are able to try and log in so if I do something like test 1 2 3 and do the same for the password here and hit login it should say that there is no user at the moment username not found then we can register it all register again test one two three I'll do the same down here with the password and the confirm password and I'll register it'll take a moment to register the user and you can see that I'm now logged in and I'm able to send some data and get some data and the sending and getting data will not be looking at today we'll be focusing on the login menu itself so I'm now able to log out and then I'm able to log back in here so test one two three login and I'm now a registered user so I get back in here cool so what we'll be doing is we'll start by just using this demo script and we'll maybe edit it and we'll definitely edit it at a later point maybe even create our own if you want to create your own again the readme it's awesome everything is in there but I thought that we would just spider spice up this interface to make it fit our game a bit bedroom so what we'll do is we'll use this as a base so let's just duplicate this to keep the original and we'll call this one r1 actually let's just call this one log in there and we'll put this down with our other scenes and close database control folder here collapse that and then double click on that to make sure that you have that open you can see that up here and now we need to do a bunch of UI editing good so let's take a look at what we have under your canvas the first thing is our background and I thought we were just for consistency sake find the same background color as on our lobby here so let's find the background go to image copy the hex color go to login again go into canvas background and then copy the hex color in there so we'll get the same thing and the first thing that we are looking at here is the login menu and I just want to delete the important object here just the notice up here it's not important for us and then let's open up the login here and see what we have in here so we have a title we have some input fields with a few description are texts as well we have this text error which is basically just space for an error message if it if there are any errors that could be user not found or blank fields or stuff like that and then we have two buttons a locking and a register so let's just go ahead and actually disable this entire object for now and let's create our own so let's go right click create empty and let's scale this empty up so let's click and drag in one of the corners and hit down all or hold down alt to scale in both axes at once and we'll have it sit somewhere like there and let's make this a arm and it's going to be a vertical layout group as that will position things for us and we'll also call this log in here that's the new log in and we don't want to a force expand on the height and then we want to add a new element here which is going to be an input field and we want to drag that out and back in to have it snap correctly let's add component and then we are going to go layout element and let's select a preferred height of let's say 30 that works and everything else looks pretty good let's just rename this to user name and you can go input field or something I'm just going to call it user name and have the placeholder be user name and then a dot dot dot because that looks super cool and then what we will do is we will go to login and have this are aligned by the middle Center and I actually already like that a lot we'll also have the spacing be something like ten pixels so that when we make another element now there's a bit of distance between them so just duplicate that by hitting ctrl G or command D if you're on a Mac and this is going to be the password and we're going to change the placeholder text as well to password dot dot dot then we need two buttons we need one for register and one for login so let's right click on here go and let's actually make another empty object for this and I'll show you why this is cool in a second and let's make this a horizontal layout group so we can have the 2 buttons side by side down here and let's create another UI button undo that and let's drag it out and drag it back in something like that and let's add a component to this which is also going to be a layout element with a preferred height of 35 and let's go here and disabled child force expand on the height and you can see now that this is 35 tall and we can make this the let's make this the login button so login actually let's just add a button here so we are very clear about what's going on and this is going to say login cool and then we can duplicate that and call this the register register button and we'll edit the text on this as well so register like that and we can add a bit of spacing between them something like 5 pixels should be fine and you can see that see that we now have two input fields and two buttons and the last thing that we need to create is on the text object that will display any error messages if there is some so let's just rename this one two buttons and let's go right click on our login go UI text and let's find this text object it's up here again move it out move it back in it's kind of knowing you have to do that but you do and let's change the color here to some kind of red and I want don't want this to be too crazy but I do want it to be visible and clear that this is an error and let's make this italic just to make that super clear and let's just fill this in as error text and let's name it the same so texts and I think that is pretty much all we need to do for the login screen so now we need to we can just delete the previous login screen again you can go not by deleting everything as long as we have a copy here to use as reference and then we can select our menu control and I want to drag this to the very top and you can see we now have some missing fields so the first one is our login object itself that is the parent object there we go then we have a login input login username that is our input field username and our input field password and then we have the login error there which is just going to be the error text actually let me just rename that to login error text that's fine and that should be it and now we are actually already able to play that and we won't get any errors however our buttons won't work so we need to go in to our buttons find our login button I had an on click event drag in our menu control and then if you go on the function and find this script here and the naming on that script is a bit crazy but you will be able to find it we can go under login and you want this to be prefixed with login because it's under the locking menu and then login again so under the login we want to find the login button and that will make sure to call the appropriate function for when we want to login and then we'll do the same with the register button so add an onclick event drag in the game object and then go to login register button and that should actually be it so now we are able to use this UI here if we hit play and you won't get any errors and if I just hit login we'll get a field blank notice here and if I use test one two three and then on test one two three and hit login ah it should actually work and you can see transitions on to the next C so that is completely armed that is actually perfect so the next thing that we want to create is the loading screen as we just saw it so the loading screen here is currently very yellow and we don't want it to Yello at all so that's going and find the different elements here first off we have a text object I just want to bump down the size on this I think it's way too much let's go 24 and let's Center this on the vertical axis and let's also change the image here I definitely want to have them in the image here but I want to change it and make sure the scale is 1 1 1 so we only scale using the pixels and let's actually drag it out from the circle object and you can see this has a demo loading rotate script which basically just rotates on the image over time let's take that's actually copy this component remove the circle object and then I'll paste it onto the image instead here so let's paste component as new and that's going to be fine let's change this to positive 360 so we'll do a full rotation in one second I believe and let's change the source image on to use and if we just ctrl ctrl scroll you'll be able to see all of it the button reset that we get from our standard assets cross form cross platform input I think this works great as a loading icon so we'll just use that and sit native size and then we can just resize it here so I will also set the loading text to use a white color something like that and we can position it here in the center of the screen I think we're getting there actually I want that to be a lot smaller and of course you should play around with this more than I do however that looks fine to me for now at least that is totally usable so we'll just have those be in there and the references should still be set up just fine so that should now be a loading screen and we can just hit play here and it doesn't matter which one of these that you have enabled at the beginning it will go ahead and our configured properly and hit login here and you can see that the login our loading screen is not working properly so that's perfect I just noticed under our login here that we want to find our password input field and we want to go down here and change the content content type to password so that whatever we type in is invisible so that it will just be showing these stars there instead so that's perfect and we can disable the login screen and work on the register screen so you can see that this is all also kind of a UI mess but that's fine it's very easy for us to edit so let's use our current login screen as a base to work off so let's duplicate that that's called this one register as well let's enable it and basically we just need to add another field so let's duplicate the password field here and let's rename this to the confirm password and we'll change the placeholder here as well to confirm password dot dot dot cool and the buttons now should be register and back to note navigate back to the our login screen so we'll have a register element over here and then we'll have this be the back button so back button and we'll change the text on this to back and that should actually bid we also need a register arrow text and that is pretty much all we need to change however of course we need to set up the correct references so let's now delete the register pre our object that comes with the scene and let's set up our own here so first we need to set up the button on click events here so whit now on this shouldn't call login login button now this should call register back button and the register button should call register register button cool and that should be it and then we can choose our menu control we need to drag in the register parent object we need to drag in the register user name we need to drag in the register password and the register confirm password and then finally the register error so here the register error text and that should all be working out so if we hit play it will go to the login screen we can hit register we can go back so that's working hit register again and let's make a new user here that's called this on the odd test user and let's just do test user actually test user and test user and let's hit register it's going to load a little bit and it's going to log us in as test users so that is indeed working as well so the last thing that we need to change here is the actual locked in screen what gets displayed when we are logged in and of course we don't want the locked in screen we want to transition onto a lobby where we can join games and all that stuff but for now because we are just are kind of looking at our login system and our user system as an isolated entity and then we'll plug it into the game later let's just have the locking system in here and just have it display the most unnecessary information such as our username and a logout button so we'll just keep those two things so that's actually for this one just go in and edit it directly and what I want to do is I want to delete these two panels there are not needed for what we are doing so just delete those two lets on and let's delete the sent data button let's delete the umm let's see here so let's go through let's delete the title let's delete the info let's keep that locked in s and the username so text info 1 and 2 let's keep those let's delete text info 3 and text info 5 however we do want to keep text info for or else it will throw an error because this is referenced in menu control you can see it says text info for here so let's just go ahead and go ahead and disable this for the moment to avoid errors but to not have it clutter up the screen let's also find our input data here we can know that is also used let's just disable that as well the text error that's the same thing that's the lead or disable it and then we can remove the get data button so now we only have locked in s and then the username and a logout button and we'll delete the logout button and create that on our own so let's go UI button and let's I call this the I log out button and we just change the text on this to actually I'll write sign out here that is the new black and we can change the height of this button to select the button 235 to be consistent with our height and just drag it down a bit something like there that looks fine and then let's change of course the color of a lock in s let's also make this a lot smaller let's do something like maybe on 20 Center that on the vertical axis let's make it snap to the right here and let's just move that over scale that over so it snaps to the about the center of a button there and then let's find our user name here which is text info too and let's make that completely wide as well actually let's make this a bit more of a gray to really make our user name stand out and we can maybe even make this bold so it's very clear that this is an important piece of information and we can move this over just a tad as well and actually take both both of these and move them over just a tiny bit something like that so it's kind of centered and on that is all we need to do so now we can just rename this to locked in as text and this is the username text and that is pretty much all so now we can go to menu control and everything should still set up right there so let's now hit save and let's hit play and see if our system works so we know that we can register and all of that but now we can login as either test 1 2 3 or test users which are the two different users that we have registered and I'm just going to log in as test 1 2 3 so I'm going to write that both in the username and the password you can of course have a password that is different from the username which is definitely preferred then we can hit login here it's going to use our cool loading screen and it's going to say logged in as test 1 2 3 and then in some of the next videos what I will show what we will do there is we will create some data that will be able to persist between game sessions so between the scenes when you can log off you can sign back in at a later time and you will still have your progress in the game saved on the database guy's servers so that is super cool I think this plugins in is awesome for people who just want to get that game working and try some of this stuff out but maybe aren't PHP or my sequel expert so yeah that's pretty much all I wanted to show in this video I hope you thought that this was exciting I definitely did and without further ado thanks for watching and I'll see you in the next video thank you so much to all of the awesome patreon supporters who donated in July and a special thanks to vixen famous own Andrew K and locks game TV these videos wouldn't be possible without you