in this video we'll have a look at how you can create weapon switching in unity this system will allow you to switch between any number of weapons that you want using both the scroll wheel and the number keys and it can easily be combined with the weapon script that we created in my previous video in order to make a really nice weapon system so check that out if you haven't already all right so let's jump into it by the way the weapons I'm using here are from the SciFi weapons pack if you want to get it for yourself you can go to Dev assets.com click on the SciFi weapons as with everything else on the side it's pay what you want this pack actually features a total of 32 different weapons so I hope you will enjoy them and if you making a more realistic shooter we actually also have the modern weapons pack which features some pretty popular realistic weapons so as you can see I have this example scene set up under the player we have the main camera and under the main camera we have our three different weapons you can see in the scene view here that I'm just using the standard rigit body firstperson controller you can always get this by right clicking going import package then choosing characters then going on standard assets characters first person character and choosing the rigid body FPS controller prefab now under our main camera we currently have the heavy weapon active but as you can see we also have a rifle and a pistol each one of these guns have a gun script on them which is responsible for shooting this is the one that we created in the previous video note how the different weapons have different gun settings now in order to switch between these when in game we need a script and we could just go ahead and put this on our main camera itself however I think it makes sense to have an object dedicated for this purpose so let's go ahead and right click on the main camera hit create Mt let's rename this one to weapon holder and I'll just have it sit in the center of our camera then let's take our three three weapons and drag them under the weapon holder we then select the weapon holder hit add component and we want to create a new script called something like weapon switching let's hit new script select C and hit create an ad let's double click it to open it up in visous studio now of course there's a bunch of way you can go about creating weapon switching you could create an array of all your weapons and then spawn them in and out as you need them or can even create some kind of scriptable object that is going to store all the information about your weapons but I think a much easier and still very customizable way is by simply enabling and disabling all of the child objects of a weapon holder this way we don't have to update any kind of list we don't have to go and create custom data objects and figure all that stuff out and we can still swap weapons in and out as we want so let's begin by delete the two using tags up here and we'll actually keep both the start and the update method for the script we only need one variable and let's go ahead and create that now this variable is going to determine what weapon we currently have selected you could use the name of the weapon but I think a lot easier is using some kind of index so we'll create a public integer and we'll call it something like selected weapon and we can just default this to zero now in unity whenever we talk about indexes of child objects we start from the top so a rifle here would have an index of zero and so this will be selected by default the heavy weapon will have one and the pistol will have two luckily we can very easily rearrange all the objects here so if we want our pistol to be selected first we simply drag that to the top but I'm just going to keep the rifle there so right when we start the game we want our rifle to be selected let's go ahead and call some kind of method that will do this for us let's call it select weapon so now we're calling the method we also need to create it let's do that right underneath our update method let's write void select weapon and basically what we want to do here is Loop through all of the weapons if the weapons index does not match the selected weapon we want to disable it and if it does match we want to enable it so in order to Loop through our weapons we use a four each statement and we say that for each transform and we'll go ahead and call this transform the weapon under transform this basically means that we will take all of the transforms that are child to our current transform which is the weapon holder and we'll do through each one referring to the current one we're inspecting as weapon let's open and close some curly brackets and of course now we need to reference by index and a for each statement doesn't have one so let's just go ahead and create one ourself up here we'll write in I equals z then each time we go through a weapon we write I ++ so the first time we Loop through I is going to be zero we then add one onto it the second time it's going to be equal to one and then add one onto it and so 2 3 4 and you get the point what this allows us to do is now go in here and check if I is equal to the selected weapon well then we want to enable the weapon and so we go weapon. game object do set active and we want to set it to true if not meaning that the indexes do not match we say weapon. game object. setactive false so what we're doing here is at the start of the game we want to select the currently selected weapon which defaults to zero so that's the first one and we do this by first creating a variable called i setting it equal to Zer we then Loop over all of the weapons and in the the beginning here I is going to be zero so if our selected weapon is zero and it is we're going to go ahead and make that active and we're then going to increase I and then for our second weapon we're going to check if 1 is equal to Zer which it is not and so we'll go ahead and disable that weapon and then we add one again and this time I is going to be equal to two and selected weapon is still going to be zero so it's again false and that is two going to be disabled this way only one of our weapons will be enabled at a time so if we save this we should actually already see that when we run the game it's going to select our rifle cool but we still can't switch weapons during the game to do that we need to get some input from our player and we do that in the update method we can both change weapons using the scroll wheel or the number Keys let's begin with the scroll wheel so let's check if our player Scrolls up to do that we write if input. getet access and the access that we want to check for here is the one called Mouse scroll wheel and you need to write this the exact same way that I did capital M capital S and capital W if not it's not going to work this here is a float that represents the current movement of a scroll wheel if it's greater than zero we've scrolled up and if it's less than zero we've scrolled down so here we can check if this value is greater than zero and if it is we can go ahead and select the next weapon in the chain so we want to increase selected Weapon by one to do that we go plus plus however right now we can do this infinitely and since we only have three weapons we are quickly going to get to a point where we simply disable all the weapons so instead let's have this number WRA around so that when we get to index 2 meaning that we've selected our third weapon and then scroll up it's going to go back to the first weapon meaning index zero to do that we want to check if selected weapon is greater than or equal to the current amount of weapons we have which we get by using transform. child count minus one so if we have three children we're going to check if selected weapon is greater than or equal to two and if it is we don't want to increase our selected weapon instead we want to set our selected weapon equal to zero and if not well then we can go ahead and increment it and we want this to happen in the opposite direction as well so we'll say here that if it is less than zero we want to see if selected weapon is less than or equal to zero and if it is we want to set selected weapon equal to transform. child count minus one and if it is not we want to go ahead and subtract from it this way we can go in both directions this can be a bit confusing to wrap your head around but try and go through it line by line to understand it and don't worry these things become much easier to understand over time so now if we save this and go into Unity our weapons won't change but we should be able to see our selected weapon variable change let's hit play and now when I scroll up you can see the selected weapon increase until it gets to two in which case it's going to go back to zero the same way if I scroll down you can see the decreasing and when I get to zero it's going to jump back to two awesome now all we need to do is also call our select weapon function but we only want to do this if we've actually selected a new weapon we could go in here and call Select weapon here and here but but since we're going to be lots of different stuff that requires us to select a new weapon let's not do that instead let's go up here and create a temporary variable it's going to be of type end and it's going to be called previous selected weapon and let's set it equal to our selected weapon then at the very bottom after we've done all of our calculations we can check if the previous selected weapon is not equal to the selected weapon in which case we want to go ahead and call our select weapon method so that we will enable and disable the corresponding objects this way when we hit play and again scroll using our Mouse wheel we can see that we can now switch between the weapons in both directions so now we actually already have a nice weapon switching script up and running and you can easily add on to this by creating weapon switching animation and maybe some UI to display what weapon we're currently on and which one is next in the chain I think most importantly we can go ahead and map the different weapons onto the number keys to do that we just use a bunch of ifif statements we go in here and we write if input. getet key down and the key that we want to check for is key code. alpha1 meaning that we've pressed the one key on the keyboard and if we have we can go ahead and set selected weapon equal to Z let's go ahead and copy this if statement and we'll just go ahead and change the one to a two and the Z to A 1 however we of course also need to check if we have two weapons if not we don't want to set selected weapon to one so in here we need to add another requirement and we use the double and signs here and what we want to ensure is that transform. child count is greater than or equal to two and now we can copy this entire if statement once more and let's just do it once more this way we can use the first four numbers we'll change this one to a three this one to a three and this one to a two this one to a four this one to a four and this one to a three if we now save this and H into unity and I begin by pressing two you can see it switches to the second weapon three to the third one to the rifle and four nothing happens so now we can use a combination of the scroll wheel and the number keys in order to change weapons you can very easily go ahead and add new weapons to the hierarchy here and everything should automatically update you can also go ahead and reorganize elements on the Fly and our script should just update to take care of it so that's pretty much it for this video I hope you enjoyed it if you liked it make sure to subscribe so you don't miss a future video thanks for watching and I will see you in the next video thanks to all the awesome patreon supporters who donated in March and a special thanks to Derek hkir fael marifi James Kell hound and Jason the Tito if you want to support the channel and become a patreon yourself you can do so at