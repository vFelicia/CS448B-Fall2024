this video is brought to you by our own Metta thank you so much for donating if you want to support breakage yourself you can go to patreon.com/scishow geez thanks for tuning in at brake ease hello and welcome to this video on creating a tower defense game in unity today we are going to be creating some cool effects for our laser so in the last video I suggested that you could leave a comment if you wanted to see some more particle effects glowing lighting kind of stuff and you guys left so many comments so I thought that I would go ahead and dedicate this video to exactly that topic that also means that we will push the topic of slowing down enemies to the next video I try to squeeze everything into this one but thought it was just too much and I wasn't able to explain things properly so we'll do it this way and yeah it's going to be really really cool so without further ado let's just jump right into it so as you can see I'm here unity and really what I want to do is just bring our turd into the scene so that we can work on it so let's find our prefabs folder and let's find our laser beam er and just drag it into the scene and focus on it here and what I realized kind of since the last video is that this yellow color here looks really bad so what we're going to do is change it to more of a green on lazora field so if we just select our laser beam here and then change the start color to some kind of almost bluish green and I actually want to bring the Alpha down quite a bit on that one and then take the end color and just do a full on whole green there and ah let's bring down the Alpha just a tiny bit on that as well just to make it a little bit more transparent and coollooking and we can maybe just change the gradient a tiny bit I actually think that looks much cooler already and what will then do is just hit apply on that and when we combine these with the other effects that we're going to be creating this is going to look awesome we're going to create this cool glowing effect using some additive particles and then a light a point light yeah so on what I wanted to do is kind of make the first effect and that's going to be based around kind of the bullet in Act effect here in the same style so let's just again use this as a template or as a starting point and let's rename this to UM laser impact effect something like that and we can then drag actually we don't need to turn this into a separate prefab I'm debating on whether or not to do this actually I think I'm going to do it just for now and what I want to do is change put back on looping here because um currently you can see this is emitting in these bursts and we actually just want to get rid of that and then bump the emission rate up to something like ten because this is going to be a continuous stream of particles flowing off of the impact on the arm on the enemy and let's also change the shape here because currently it's emitting in the sphere of a radius of 0.2 and let's instead make this emit in a cone so that it looks like it's coming from this point that we've hit on the enemy so something like that is actually pretty good we can actually expand this a tiny bit and I don't think we need to do much tweaking on this one thing that I do want to change is definitely the material so let's go and create a new material for this let's go right click and then our material and we'll call this one our laser impact and we can find our laser impact effect find our renderer tab and just drag it right in there there we go and then we can change this around so let's find our laser impact and let's make this a very bright green something like this with a bit of metallic nough stew it and bump down the smoothness and then we can do a tiny bit of the mission and what this will do is just kind of boost the entire on color here a tiny bit so just make everything a bit brighter and I really like that effect because it almost makes it look like it's glowing um and we can just disable global illumination that's not why we're using the emission there and so I think this looks fairly good and um let's find our laser impact effect and let's actually make these a bit bigger so let's do between 0.25 and point 4 because I want these to be really clear and also change the lifetime down to 1 so actually really like this effect already and I think it's going to look cool as soon as we put it on there so let's just do that except for one thing and that is if we go under collision and my phone is actually going off here so I'm just going to disable that watch there there we go so if we go into collision you can see on that we could just go ahead and bump up our radius scale to make them not go through the ground but just land on top of it and we'll also go in here and change this collides with everything because I think at this point we have so many particles in oil level I mean we have these particles we have whenever we create turrets we have when our enemies die we have whenever they're hit by bullets and missiles and all of that and a lot of them are colliding with the environment so what I thought we'll do is just narrow down what they're actually able to collide with because I don't think that we need to have them collide with players or all the turrets or anything like that and in fact our tarts don't even have colliders so what we'll do is we'll just create a layer for all of the notes and all of the ground elements here that um these um that these particles will actually collide with so let's just go ahead and find our notes and just select our entire uh nodes empty object here and the environment as well with all of the ground planes here just select those to go to layer add a new layer and we'll just call this one something very broad like environment and we'll select those two and just change the layer here to environment and this hit yes change children and all of the individual objects will now have that layer and that means that if we go to a laser impact effect we can go and change collides with from everything to only the environment here yet that just does a bit of optimization behind the scenes and it's a nice thing to do if you're especially if you have troubles with performance cool so I like the effect of these now and I we're actually ready to try and implement them so let's go ahead and do that and what we'll do is we'll add a glow and we'll add a light as well but we'll just begin with these just to show you how we're going to do it so I'm going to remove the laser in front of the name and I'm actually going to go ahead and remove the prefab here now we've lost the prefab connection but that's perfect because I want these to go inside of the laser beam or object itself so I want these to just be a part of the laser beam object and Bob will then is will have them snap onto the position of the enemy that we're currently targeting so we'll just have them follow that enemy and then we can enable and disable or stop and play this particle system on whenever we're actually shooting and not shooting cool so we'll in order to do this we'll have to modify our turret a bit so let's just double click that to open it up in visual studio and we'll just have to throw in a bit of code it's really not much um first of all we of course need a reference which will create down here to our particle system so let's do a public particle system and this is going to be our impact effect and we can go down here where we say laser and then down under our laser here you can see that we say if line renderer is not enabled then we want to go ahead and enable it and we'll just add a bit more code to this so let's you now wrap it in some curly brackets and we just want to go if um we need to enable the line renderer well then we also need to enable the particle system and we do that by simply going impact effect play and you might think that you want to go dot enabled here just like we do with the line renderer enable emission or whatever um or just enable and disable the entire component but that is not something that the particle system allows for using play and stop actually means that the particle system is going to keep the particles and that they have spawned and just stop from and stop it from emitting more particles so that's why we're using these functions here because you don't want the particles to suddenly disappear as soon as it stops it stops firing awesome so that's going to play and then of course we needed to stop as well and we do that up here we say if line renderer enabled in case we don't have a target well then we want to disable it again we'll just add oops a tiny bit of code to this that simply stops the particle system so let's put that in there and then let's say impact effect dot stop cool and then finally we need the particle system to follow the position of our target as he moves around so in order to do this we'll use target dot position just like we do here and we can simply go impact effect dot transform dot position equals target dot position however there are a few issues with this and let's have a look at what they are so let's reference our impact effect here hit apply let's try and see what happens now if we hit play and we wait for an enemy to spawn in and you can see here that the particles are actually there but it's not looking too great and the reason why here is you can see the particle system has snapped to this center of our enemy when in fact we want it to snap to the point that we hit something right about there so how do we do this and as well we need the particle system to point back towards our target because if we hit it right on here the particles would bounce back so we need this to be rotated so that our blue arrow here actually points in the direction of our turret so that what we're going to do so in order to achieve this what the first thing is it's actually fairly easy we could just um offset the particle system and we can even do this inside of unity but I think and we'll do it through code and the second thing is just rotating the entire prefab so let's have a look at this so the first thing that we want to do is get a vector that points from the position of our enemy to what's on the position of our turret so it points backwards from what we are the way that we are shooting and the way that we do this whenever we want to get the direction from one point to another say we want to go from A to B we just go the position of B minus the position of a so in our case we want to have a vector3 which we called deer for direction and we want to set that equal to so we want to go from the enemy to our to deterrent position so we go to our position minus enemy so we just go transform doubles and actually it's the fire points position not our transforms the fire point up position target depth position so now we have a direction that points back towards our target and what can we use this for well first off we could use it to rotate our impact effect so we could go impact effect that transform dot rotation and then we want that rotation to be equal to quantonium look rotation and that is a function that takes a direction some vector with some direction and points in that direction so we want to point in this direction and the deer here so we want to point towards the turret so that's going to set that up just fine and then of course with the position here we now can just set this directly equal to target dub position we want to move a tiny bit in the direction so if we have a look at this so imagine that our enemy is here and that our turret is over here well we don't want to be inside of the enemy in fact we want to move point five units towards our turret because the radius of our enemy is exactly one that means that if we start inside the enemy will have to move point five half of one in order to get to the edge of our enemy so now what we want to do is we want to add our direction onto this and we want to make sure that our term Direction is exactly one unit long and then we want to multiply that with 0.5 so if this doesn't make too much sense to you and that's because I'm Vic this is some vector mathematics specific stuff normalizing a vector means reducing the length to one and then multiplying with the scale means that all of the different axes will then be multiplied with that it's a bit technical if you want to learn more about mathematics and vectors and how they apply to games I suggest you check out my recent video in game art theory on vectors it's the first one in the series and yeah you can just find it on the channel game my theory on vectors so now that we have this this should actually move it a bit back for us so if we go and hit and wait for unity they're all awesome so let's hit apply here and if we try and hit play now we should actually see this working so you can see that it totally works however one thing we forgot to do was set on the arm impact effect here to simulation space world so we need to do that in order for the particles to stay in place whenever the particle system moves and now you can see we have this coollooking effect right here so I actually really like that effect and everything seems to be going just fine cool so if we just hit pause here you can see now if we inspect this impact effect that it is in fact pointing towards a turret and that it is in fact well this is in fact not placed totally accurately so why is this happening let's just have a look if we just go forward a few frames so for some reason it doesn't move it all the way out from the center and there might be a few reasons for this let's try actually removing the 0.5 here um so let's try that again that looks better much better okay the reason for this is I actually thought that the radius of these polls um were you can see it scaled two by two by two that's the reason why I thought the radio radius was 0.5 meaning that the entire length from one side to another would be one but that is in fact 2 so we don't have to multiply down here alright so that fixed that issue cool so now let's actually add some a bit more exciting stuff to this so let's find our impact effect and let's go in here and create this cool looking glow and in order to do this what I want to do is just bring an enemy inside the scene so we can easily preview what's going on so let's just bring in an enemy here let's take our impact effect and it's copy the transform of our enemy and paste the position we can actually do that so we'll just paste all of the values and then we'll put the scale here back to 1 1 1 and then move it out here just so we can see what this looks like on top of our enemy there we go awesome so on what I want to do is actually create a child our prefab or a child object to this impact effect that is also going to be a particle system and the cool thing about this is that unity whenever you have nested particle systems like this and you control the state of the first one we'll go ahead and control the state of the arm of the child objects as well so that means that when we play and pause our impact effect the sub particle systems this one is going to be a play played and stopped as well so on let's go ahead and rename this to UM globe and we of course want to change this quite a bit so the first thing that I want to do is just change the speed down to zero we don't want it to move at all actually and I want to just disable the shape and what that does mean or what that means is it will no longer emit in some kind of shape it will just emit from the single point that is right here and then we can go to our mission here and actually I think I'm going to leave it at 10 for now and we'll change the light time to something like point 3 so you can see what that does um and um now what I want to do is I want to create a material for these arm for these particles so let's go material and let's call this one um laser glow and let's find the glow object that's going to render on and let's put in or laser glow and I actually still want to use the default particle here so we still want to go into particles but we want this to be additive and when we then choose the texture default particles you can see this nice glowing effect that that creates so I really like the feel of that and let's bump up the soft particles factor let's bump up the alpha channel here maybe even make it a bit brighter just to really make it pop and then we can find our glow here and we can definitely increase the start size so increase it to something like three even and then let's create a color for this and this is going to be totally green so something like this looks really really cool so it really looks radiating almost it's definitely not something that you want to be near and I really like the effect now we're getting here so um all of the other attributes I believe we can leave just fine and one thing that I want to go and do is just go under color over lifetime enable that and just have it fade out over its lifetime and this it will introduce some jitter here you can see that this is flashing on and off that's actually an effect I really really like whenever it's hitting here I don't want the glow to be constant I want it to feel alive and weirdlooking so I really think that accomplishes that and it also makes it look much nicer when we then stop the particles okay when we stop the emission of the particles and it will just fade out really quickly so I like the effect we are getting here and on the last thing that I wanted to do is just have a light in here as well so let's do a light point light and we'll leave all of the settings I like the range at 10 but we want to increase the intensity to something like 3 and take the color of course and make it super green as well something like that looks super cool and we can just call this one our light and we'll have the glow there everything looks cool let's hit play or app hit apply on the prefab and one thing you will notice now if we just go out and this delete our laser beam in here actually let's just keep it but let's delete our enemy one thing that you will notice is that we don't have a way of enabling and disabling our light so we'll have to create that in just a second but if we hit play now we should see this working and I actually really really like the feel of this so you can see what that does might want to turn down or tone down the glow a tiny bit I think it's a bit too much so let's just find our impact effect here and what we could do in order to turn this down is actually just move it in a tiny bit so it doesn't sit so on fire outside of on so upside off on the enemy and we can also maybe just take the start size and randomize it a tiny bit so random between two constants and we can make it go between between two and three I think that gives it have much more organic feel to the glow there so let's try and hit apply to that and let's hit play and again let's see how this looks yeah so I think that made it a lot better and I really like the look and feel of that cool so the last thing that I kind of wanted to do was just of course enable and disable this light so if we now double click our torch script we need a reference to the light we are going to make this a public light and this is going to be our impact light and one thing that you could do if you want to nest a lot of different objects in here and have different animations it you could is you could just create on one super object just like we have the impact effect here that has an animated component and you can do a bunch of different animations and then instead of enabling and disabling the particle system you could just switch between animations so you could have lights that did different things you could have different particle systems and animate them over time that's something you could do but I don't think we need to get that crazy with it so let's find our laser here and where we are play our impact effect we also want to go light dot enabled actually not turn enable we want to go impact light dot enabled equals true and up here where we were is it there where we stop our impact effect we also want to go impact light that enabled equals false there we go and the last thing that we could do is have the glow effect here be prewarmed but i actually don't think this is necessary i don't think that's a problem with this being just a tiny bit off but you could check the prewarm here if you want it to be really apparent just from the very beginning so let's hit apply on that and let's hit play and I'm just going to whoops of course we need to reference the impact light so let's go a light here and drag it under the impact light field and I'll now maximize the game view hit play and you can see that it instantly disappears and there we go we have this really nice looking laser effect so that is basically all that I wanted to show in this video I'm sorry that I couldn't squeeze in all of this slowly slowing down of enemies and the damaging over time but if that's something you want to experiment are playing with on your own you are free to do that there's plenty of help to find on the firm's and if not we will definitely and this time I promise have a look at that in the next video so I hope you enjoyed this video and thought that playing around with lasers is just as fun as I do and without further ado I will see you in the next video thank you so much to all of the awesome people who donated in September and especially thanks to our own Metta Robert Roche James Calhoun Kim Rose koukos Bao I'm damned Wong and Dickson P thank you so much for donating you guys are awesome if you want to support brackets yourself you could go to patreon.com/scishow