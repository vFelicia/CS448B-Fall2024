hello everyone and welcome to the 20th video in our survival game series done by practice I'm the CEO of Rocky's and in this video we're going to take a look at improving on the controls of the player so on you're going to take a look at how to implement more advanced control functionality stuff like fall damage and I'll show the different things you can do with this in just an amount in just a moment and also just the general feel of the controls so let me just quickly show you what we are going to be making so on in this video we are not going to be doing the actual scripting I have used a script that I found online from the Wikipedia unity side called FPS Walker enhanced and then I have improved on that a bit to take care of stuff like crouching and just customizing it to fit our game a little better so this is what we are going to use and what this will allow us to do is it will allow us to do stuff like full damage so if our player falls from a certain height we can then subtract health or if he is standing on a plane at a harsh angle he can then slide off the plane so that we cannot run up mountains and stuff like that and you can also attack certain objects as sliders so that whenever he is on those objects the player will again slide so that's really good for making runner type games and then of course we can handle the sprint and crouching internally in the script also that's really awesome I had though make made some of it separate but but we'll talk about that in a second so that's what we are going to be making now I would really recommend that you go ahead and note the assets because we're going to be using scripts from them so I go to Brad keys comm and download and extract them and you should be left with a folder called survival assets and then the the newest version number and if you don't know how to do this you can always go ahead and look up the survival game bonus video in which we talked about how to do just that all right so let's go ahead and get started so doubleclick the survival assets folder and go under scripts here we should see the FPS Walker enhanced which I've edited it a little bit and you should also see the Crouch height which is going to allow our character to scale up and down I wanted to do that separately just to keep it a little bit more organized and also so that the FPS Walker enhanced didn't get too complicated alright so let's go ahead and select these two scripts and then just drag them into unity so here we have them and now we can go ahead and implement them you can see I've made a small change to the scene and this is just to demonstrate how the player can slide off a surface I just took the wall three here dope duplicated it moved it over rotated it and renamed it to test played now let's take a look at our player here so at the moment we have a lot of different scripts going on we have the mouse look the character motor the FPS input controller the sprinting crouch player stats and the respawn menu I've gone ahead and edit edited the respawn menu a little bit so let's first of all go into that and just take a look at the changes I've made so doubleclick it to open it up in monodevelop and inside of here I have some and simply gone ahead and commented out which means that when you make these two signs in front of line it's a comment so it won't be active so I've commented out the sprint script code because we are not going to be using this prints crypt variable I'm sorry we're not going to be using the sprint script on/off functionality since we are not going to be using the spin script at all so this is just this doesn't have to be there so I just went ahead and comment it out so you can still have it if you're using the old method also I have documented everything up here so you can read about it if you are in doubt at any point I've also gone ahead and changed the charm motor to charge controller and made it store a character controller instead this is because then it will work with both this solution we are going to be making and the one we had before so that's all for the respawn menu script you can go ahead and close that down and go back into unity so we can just collapse that and the player stats we're going to keep that the sprinting crunch we're just going to go ahead and disable that for now along with the FPS input controller and the character motor so now that we have that in place let's just go ahead and drag the player stats under the scripts folder because we are not going to be using that in this tutorial now we can go ahead and drag on the FPS Walker enhance and the Crouch height onto our player so now we can see that these two scripts have been applied the Crouch height has not no variables that needs to be set it will just make sure that whenever you press the C key to Crouch the player will the players Collider will scale down if you want to know more about how this script works you can go ahead and watch the sprint and Crouch tutorials are in two parts so let me just go ahead and open this up so you can have a look at what I've done here the script is exactly the same ants as the sprinting crowd script though I have excluded the parts where we edit the speed so I've just gone ahead and removed everything that was in the crowd script but the scaling functionality so that should be it so we can just go ahead and collapse that and now let's take a look at the actual FPS Walker enhanced the one we are really excited about this script is really awesome for making everything a lot smoother and more snappy so first of all we can set the walk speed I'm just going to set that to seven then we can change the run speed I'm going to leave that in eleven and the Crouch speed is final three the limit diagonal diagonal speed is not really something I want to worry about at the moment then you can choose vary whether you not you want to enable the run and the Crouch functions by just pressing these buttons then we have the jump speed which is fine at eight gravity is default at twenty and we're just going to leave it there then we have the falling damage threshold which means how high our player needs to fall before he takes damage more accurately it would be to say how much velocity he needs to hit the ground with so if he got gets shot at the ground then from from just a centimetres distance we should still those damage so that's very realistic in that way this is because the script uses the Unity physics engine the slide went over slope limit allows for this sliding went on a a rotated object so if I go ahead and hit play as this you can see that I can stand here and I can walk up and down this object just go ahead and drag the game view over you so we can see both the game and the scene view at the same time I can make you can see what happens when I press this and hit play the players lights down and he cannot climb the object awesome the slide on tact objects will allow the player to slide slide when you attack the game objects as so you can go in here in the FPS Walker enhanced to read more everything is commented and it should be pretty selfexplanatory though I figured it was a little too hard to uncomplicated to show you how to actually script this functionality so we're just going to be using it which you're going to be doing in most games you're going to be creating in the future the slide speed that explains itself it's how fast you're going to slide down if you're sliding the air control is not something we're going to be well actually you might want to check that if you're doing something like a platformer and this allows you to move back and forth while you're in the air so older games had this a lot but in new it's a little more rare the ng bump anti bump factor you're going to use that for making it so that when we try to climb objects it's not going to jittery too much but I would just leave that if I were you and the same with the anti bunnyhop factory okay cool so we know that this slider is working correctly let's go ahead and see how things are going if we just drag the player up and make him fall ouch down here in the console view click that to open it in the console we can see a message appears a diverter lock saying ouch we fell twenty point three units this can be used for applying damage to our player which we are going to be taking a look at in a soon video you would then go ahead and just send a message to our player start script to actually subtract damage based on this information I hope you enjoyed the videos guys this was pretty much it it's not the longest but I wanted to really sit down and explain this to you because it can really improve the feel of your game so I hope you enjoyed the video and I'll see you in the next one