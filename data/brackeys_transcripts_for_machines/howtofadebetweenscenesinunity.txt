thanks for tuning in at braies hello everyone and welcome to fading between scenes in unity today we're going to be taking a look at making a script that will allow us to fade out change level and then fade back in with just a couple of lines of code that we can place anywhere in our game so first off I'm going to select uh an object this could be any object I'm just going to use the GM object and then I'm going to create a new script here let's call this fading it's going to be of type c so double click it to open it up in mono develop and let's start out by adding some variables I excuse the quality of the recording it's not as good as it as it normally is uh but we're going to change that uh in the next video don't worry so the first variable is a texture 2D we're going to call it Fade Out texture and this is just the image that will overlay the screen in our case it's just going to be black the next variable is a public float with the fade speed this is of course the speed we will fade in and out at then we're going to make a private integer called Draw depth and we're going to set this to minus a th000 this is the textures um draw order in the hierarchy meaning that it will be drawn last and therefore it will render on top so we're just making sure that the black image we are going to fade in and out is going to be on top of everything else then we make a private float with the alpha and we just set this uh as with a default to one so it's going to start out by being completely visible then we make a private in called fade Direction and we equal uh or we default this to minus one this is the direction to fade if it's equal to minus one it will fade in and if it's equal to 1 it will fade out let's just go ahead and uh delete the two functions here and make a new one called on GUI and this is going to be uh good for rendering different kinds of Graphics um so this is unity's function for rendering guy and uh then first we're going to fade in and out the alpha value using a direction a speed and time. Delta time which will convert the operation to seconds so we do this by setting saying Alpha plus equals fate Direction time fade speed times time. Delta time next up we force uh or what is called clamp the uh value to be between zero and one this is because that the guy. color uses a alpha value between zero and 1 so Alpha equals math. clamp one because that will clamp it between zero and one and then we input the alpha next up let's set the color of a DUI in this case our texture or the black image and uh we really want the color values to just stay the same the only value we want to change just the alpha and this is included in the dui. color so do dui. color equals new color and inside of this we're going to pass it the GUI color. R for red gu color G uhg for green andb for blue and then we're going to type in the the alpha at last so here we are setting the alpha next up we're going to dui. depth and we're going to equal this to our draw depth so here we are making sure that the black texture will render on top then we're saying GUI draw. draw texture and inside of this we are going to type new rect which is four values and inside of this rectangle we going to do 0 comma 0 screen do width comma screen do height so that means it will fill the whole screen it will take the 0 comma 0 point which is the top left corner and it will extend to the width and the height using the fade out texture meaning that we will overlay the Fade Out texture on the entire screen so now we've actually written all the logic we need in order for the image to fade smoothly in and out now we just need some functions that will set the direction to fade in and we're going to make these available from other scripts also so here we're going to set the fade direction to the the direction parameter making the scene fade in if it's minus one and out if it's one so do public float begin Fade with the parameter direction of type int the reason why it's called a public float and not a public V is because we wanted to return something the thing we wanted to return the thing I've just written is the fade speed this will allow us in another script to to have a variable variable be equal to the Fate speed and therefore we can easily uh calculate the time that it will takes to take to fade out and therefore time the application. load level so we don't load a new level before it's faded out or way too long after all you need to know that that is that it returns this value whenever the function is called and we're going to see an example of how we can use this in a sec next up we're going to do an onlevel was loaded function in order to uh call the begin fade whenever a level loads so this way we're just going to automate The Fading whenever uh a level is loaded and therefore we're going to fade in every time we uh play a new scene and of course we're going to call the function with the faded direction of minus one meaning that we will fade in you could also set the alpha to one right before should your Alpha not be equal to one by default or if you uh change it in other ways that's may be a good idea um depending on your game so if it's behaving really try that out now we can save the script and we're actually ready to head over to Unity so if we select the GM object you can see that we have two new variables the first one the Fade Out texture we're simply going to set to a black image this image you can find on the internet or you can create for yourself it's really simple and you can see here the import settings for my image it's just a 2X two texture meaning that it's only two pixels wide the fade speed I'm just going to leave at 0.8 and then now let's take a look at the SEL the SEL in my game is a pickup that will change scenes whenever the player collides with it so let's open up the script for this in here there's a bunch of logic all we need to worry about is the function called change level and inside of this function there's only three lines of code that handles the fading out and the level changing so this Fades out the game and loads a new level let's have a look at the first line this statement uses game object. find to find the object that the script is sitting on it just finds the object with called underscore GM if your object is called something else of course change this to your object's name it's generally a bad idea to use Game object. find a lot because it's taxing on the computer so if you need to do this a whole bunch I recommend you do it at this in the start of the game also we then use get component to find the fading script on that game object we're going to change the fade to fading in just a sec that was just a mistake then we dot begin Fade to call the function we can do this because we've made the function public and therefore it's accessible from the script then we pass it the parameter one because we want it to fade out we also create a new variable a float variable that stores the fade time which was called fade speed in the other script we can use this to time when uh the um when the application will actually load a new level so we can use this uh simply to time the yield statement that you see here so this is a yield statement and it will wait for amount uh a certain amount of seconds and here we wait for fade time keep in mind that whenever you're using a yield statement you can't do it inside of the update function and you need to create a separate function to store it in next up we have the application. load level this just loads the new level this is where you pass it an index of your level which we're going to take a look in a sec when we're going to add our level to the build settings so that was all we needed to do now let's change Fade to fading to correct the mistake and let's H back into Unity now this is important go to file build settings and here you can see all of the scenes that will be included in your build whenever changing scenes through code they need to be in the build settings so you can see we have the fading main level one and two and over here on the right is the index if your scene is not on the list hit add current and it will add the selected scene so that was basically all for now if you're interested in more tutorials like this one go to bra.com or visit me on my YouTube channel youtube.com/ brais you can also follow me on Twitter at brais treat thanks for watching and I'll see you in the next video