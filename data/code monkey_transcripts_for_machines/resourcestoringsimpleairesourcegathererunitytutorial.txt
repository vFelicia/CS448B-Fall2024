hello and welcome I'm your code monkey and in this video we're going to take a resource gatherer ai and keep track of resource amounts let's get started so here's the resource gatherer from the previous video he starts off and all goes to a resource node mines that node and takes it to storage right now the resources don't really exist it's just a number going up being reset and lost forever let's make a class to handle those resource amounts so make a new csharp script and name it game resources this class is going to be responsible for holding all the player resources essentially a resource bank this is what were later going to use to check if we have enough resources to construct a building inside this is going to be a very simple class so let's get rid of all this it will also be static since we only have one resource Bank in our game and to start with let's make a private static int for our goal amount let's make some functions to add gold so public static void add gold amount and we're going to receive an end for the amount and inside we're simply going to increase our internals on the mount by that amount and let's make a public static int function to get our goal amount and inside we are simply going to return our goal amount now let's go up here and make an event to fire when the resource amount changes so a public static event event handler called on gold amount change if an handler is part of the system namespace so in here when we change our gold amount if we have subscribers let's notify them send them know an event RMP alright this class is now setup we can add a resource amount get the current amount and it fires an event whenever that amount changes the class is static so it can be used from anywhere in our game now all we need to do is our gatherer a I called the add function in this class to add the resources so let's go into our gather AI and down here when we finally arrive at the storage position before we reset our mount let's go into game resources and add the gold amount based on the amount that are caring then we reset it go back to idle and so on now here just for testing let's do a debug dialog of the game resources get the gold amount so now when he reaches the storage area he should increase our game called amount so first it should display one then on the second time it should display two let's see there he is mines that when he gets there he should see in the console yep one gold amount he goes mines the second one and now boom there you go it says to you alright so we now have a column on counter keeping track of our resources so let's make a very simple UI to display the resources so we don't have to look in the console let's go into our UI canvas in here let's make a new game object and name it window game resources let's expand it inside and let's make a text object and we're going to name it gold amount add the text component all right we have our window set up now let's make this script make a new C sharp script and let's name it window game resources inside let's make a function to update the tag so Freud update resource text object and here I'm let's go into the transform find the gold amount which is the text object get the text component and set the text to go and then go into game resources dot to get the goal amount now on our private void awake let's go into game resources and subscribe to the ongoing amount changed event and when it does change let's update our text alright so we have a function to update our text object based on the game resources that catcon the mount and when it changes the game resources fires this event which again updates the text object so let's test and we should be able to see it displayed in our UI add the component and let's try ok says goal zero he goes in he drops it and boom there you go world one he grabs another one goes there and going to okay great so there you have it we create a static class to handle our game resources and made our AI interface with it in the next video we're going to create a resource node object to handle resource node depletion if you have any questions post them in the comments and I'll do my best to answer them subscribe for more videos and I'll see you next time