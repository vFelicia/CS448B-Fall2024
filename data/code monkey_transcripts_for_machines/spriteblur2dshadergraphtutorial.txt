in this video we're going to make a shader to blur sprite in shadow bruh this is a simple shader that is customizable and easily animated let's begin hello and welcome I'm your code monkey and this channel is all about helping you learn how to make your own games with nf2 torrents made by a professional indie game developer so if you find the video helpful consider subscribing okay so this is what we want to make over here is my character looking normal now using a very nice simple script I can press a button and there you go there Daisy sprite is nicely animated and becomes more so press it again and there you go it goes back to normal here I can use the inspector to manually change it as well so as you can see we have our nice slider for the Marmont and with the power amount of zero the sprite looks perfectly normal and now I can increase it and as I do there you go the sprite becomes more and more blurred the whole shader is extremely simple especially if you've seen my previous outline chatter alright so this is our goal let's get to it okay so here I am in my starring scene let's begin by making our shader so we make a new shader go up here to the renderer and a sprite lit graph let's call this our boarder and open it up okay here we are in our shadow graph there are simple sprite master node now the first thing we need is obviously a texture so go into our properties and create a new texture 2d call this the main text and set the reference to underscore main text this is the default name for the primary texture it needs to be set exactly like this in order for the sprite renderer to apply to the sprite so here for deform let's unlike the character sprite so now we drag the texture onto our board and now in here this node is of type texture and our Messer node requires a color so we need to simple this texture so make a sample texture 2d node and we just drag the texture and drag out the RGB a so there it is just like that our character just right click and it's unlike the preview guys are quiet okay there it is okay so far so good let's test this out on our character so first we save the asset back in project files let's create a new material and now we go into our shader drop down go into graphs and select our color shader and there it is already selected with default spreadsheet over here I have my player character inside there is the body with the mesh renderer and just drag it there okay let's test and if there is there's a character and looking normal just sitting around okay so far so good now back in our shadow graph our goal is to make a polar shader so the way we're going to do that is very similar to how we did in the outline chatter so if you've seen that video you'll be able to easily understand how this effect works we have our texture and now we need to offset it by a little bit so we make a tiling and offset node we drag the output of this onto our UV and now here we can modify the xvalue so as you can see it shifts the texture and left or right so let's put this on point zero one just shift it slightly to the left so this is how our effect is going to work now you can duplicate this and drag it down here and on this one let's shift it on point zero one so this one is shifted to the left and listen to the right then we both these two shifts we can create a nice add node now we have this texture onto this texture and there you can already see kind of the effect and now we take this output and just drag it into our sprite master okay there it is let's test and if there it is and the character is indeed shifted to the left and to the right however you can obviously see that it is a bit way too bright so let's go back to the shader and in here the reason why it's too bright is because we're simply adding two textures one on to another so after we combine both textures we need to add a divide node in order to make sure that we divide this input by how many texture samples we have so in this case now we take this output put it in there now test and if there's our character already looking a bit blurred with the correct course awesome now let's make our blur amount customizable so back in our shader graph we have our nice graph very simple okay now let's add another property this will be a vector one so essentially a float and we're going to call this the blur amount and let's set the reference to underscore blur amount and now let's drag it in here before our tiling and offsets okay so we have this vector which is exposed okay however in here we need to use this float as part of a vector so we need to construct that for active and the way we do that is with a combined node now here it's a bit confusing because the labels are set for colors but it works the same way for a position vector so the R equals the X and the G equals the Y and the B would equal to Z so in this case let's drag the polar amount onto the R so the X and you grab the RG output which is going to be the XY output and we drag it in there and there you go if we set the same amount which was at point zero one there you go it looks exactly the same all right great now we need for this one and this one is going to be exactly the same amount except its offset on the opposite direction so we can simply take this node add a nice negate node and we negate this output and we use this one as our offset and there it is everything looks exactly the same so we have this one and if I shift it there you go as you can see there shifted a bit more or bit less right great okay so here's our effect so far we have our blur amount we combine it to construct our nice vector two to use on the offset one of them is normal and one is negated then we have our two texture samples we add both of them together then we divide them by two in order to match up the colors then we pass them all into the sprite master okay let's test okay here we are with our children and as you can see we have our poor amount and now we can modify this we can increase it and decrease it and there you go as you can see it's working correctly all right so we have exposed this nice property now it's had a nice little quality of life improvement so right now over here on the employment we are working with a very tiny value we are using 0.01 we have to use such a tiny amount because the values are normalized for the texture so the entire texture from this side it's zero and from here it's one however we can use some simpler numbers by adding a simple constant so in here we add a vector one node and let's set it to point zero one and now before we do all of our math let's simply multiply our nice point amount by the vector one and then we take this output and we connect it into the are so by doing this we can now use some more normal values on the employer amount for example one that's what we had previously now we can use two three four and so on and we are working with most important numbers so in here let's also switches into a slider put it from zero to let's say ten so again this is not a necessary step it's just a nice quality of life improvement so let's see this in game ok so here we are and we have our nice blur amount slider and it's currently at zero so this problem looks perfectly normal and drag it and there you go we can see our effect start to happen so there you go just like that we have our nice slider right awesome so right now you can all really see how the effect works all we need to do is add two more directions going up and going down so back in the shadow graph here is our shader so far we have our two texture samples now all we need to do is actually duplicate this so let's duplicate both the samples as well as the telling offset then also duplicate the ad and let's also duplicate the construction of the vector and the negate so hit control D in order to duplicate and drag them all down here now the only difference for this sector is that instead of applying the molar amount on the X field which over here we're setting on the R we're going to apply it to the Y field which is going to be G so let's say this value in here and we're going to apply it into our gene and everything else is pretty much the same so over here we can already see if we put a large apparently there it is this one is shifted down this one is shifted up and there it is the ad okay so now we can take this output in here and we need to add it together with the horizontal so when you add note let's add this one on to this one and there it is now we have four directions and now we simply do it divided after this one except again in here we are using four sample textures so instead of dividing everything by two we divide everything by 4 and there it is our colors are now correct all right so that's pretty much it we have our blur on the xaxis and the employer on the yaxis let's test okay here's the sprite with the polar amount at zero so it looks perfectly normal all right now let's drag it up and there you can already see a very nice boring effect so if we increase it massively we can see how they diverge we see one above one down one right and one left all right awesome so just like this the effect already looks great and if you have performance limits this is probably good enough for most cases however let's try to push it one step further and blur on the diagonals as well so for that over here I'm going to do pretty much the same thing in simple form or textures except in this case on the diagonals any up here it is I have had it for more samples down here so on this one we are constructing a vector on the RN on the G so on the x and y so it's going to be 1 1 and then when we negate it we have minus 1 minus 1 so you can see the output this one goes left down this one up right and here it is both of them combined and then down here we are combining a vector with 1 on the X and minus 1 on the Y so for this one in here we have up and to the left and this one down in to the right and here it is them add it then we add both diagonals together then we have the diagonals on top of the horizontals so here it is and as you can see the cones are all massive so then we have to divide and in this case we have 8 samples so we divide everything by 8 so as you can see very simple it's just copying the exact same logic every single time all right so now let's check it out in game so here we have our completely unplug and now if I increase the ball mount and there yo you can see our very nice effect so increase it massively and there you go we can't see anything there it is just like that very nice blur effect now in here I have a very simple script that we can use to modify the employer through code so it's extremely simple we just have a field for our material then we have a float or amount any boolean if the bar is active then our update we simply listen to a key input to test it out and if the bowler is active we increase the amount and if the bowler is not active then we decrease it then after modifying it we simply clamp it so in here instead of being between 0 & 1 we're going to clamp it between 0 and 10 F and then finally simply go into the material in order to set the float of underscore for amount again remember that name is the one that we use here on the reference so underscore polar mount this is the field we're going to modify so we set that one to this wire month there it is extremely simple let's see okay so here we are and there's the sprite Foley visible now I can press a button and there you go the sprite becomes WordPress again and comes back to normal so press GO press normal alright so here it is very simple to control our shader through our interactive code so again here is the shadowgraph it's extremely simple we just really need to sample the same texture multiple times every time we do we offset it in a different direction then we add all of them together and once we do the colors are almost white since their own being added together so we need to divide them and then we simply pass it into our sprite light master so as you can see the logic is extremely simple and here is the effect again and it looks quite great as always you can download the project files in utilities from in Tacoma com subscribe to the channel for more unity tutorials post any questions you have in the comments and I'll see you next time