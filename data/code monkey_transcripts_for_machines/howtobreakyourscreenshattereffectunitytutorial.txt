hello and welcome i'm your code monkey so a while ago i made a really interesting video on how to handle destruction in unity it's a great video and a pretty simple method so definitely go watch it if you haven't seen it in the comments someone asked for an interesting application of this system how to use it to make a screen shatter effect that's a really interesting effect and it's pretty easy to do so let's do it it really just involves using that simple destruction combined with some basic logic so it makes a really nice effect that is perfect for making a game over screen or maybe hide a scene transition or just an interesting player skill do you want to learn how to make games from a veteran in the games industry then check out this video's sponsor jason wyman who makes some great game development courses they are all extremely detailed and very well planned with expert life support from jason himself whenever you need help and right now as part of a black friday sale you can get each course at 50 off or you can get the black friday bundle including all of them for 75 off the bundle includes all three courses so you start off by learning csharp with the programmer course then build several games with the mastery course and finally learn how to structure your project plan and design your game with the game architecture course jason is a veteran in the industry with many years of experience working on large teams and very complex triple a projects the bundle also includes several other bonuses like two months of unity pause high definition art assets and even a really nice hoodie check it out with a link in the description before the lens okay so let's learn how to shatter our screen now this is actually quite simple over here i've got my demo scene this is from the polygon cinti asset pack there's a link in the description if you want to get it so in order to make this effect the first thing we need is some destruction and since we want to destroy a rectangular screen then we could just make a 3d make it a quant so we could just break up this mesh however i think the effect actually looks a bit better with some thickness so instead of making a completely flat quad let's go with a simple cube so that's a cube and pretty much just flatten it out on the set there you go just a bit of thickness i think the final effect looks a bit better like this now the next thing that is very important is the aspect ratio we're going to want to place this mesh directly from the camera so it needs to have the same shape now for the aspect ratio i'm assuming the final game will be in the common 16x9 so 1080p 720p 4k all of those so you can just easily put this one with a scale on 1.6 by 0.9 there you go we've got our nice cube and 16 by 9. now before we start slicing this object first let's just apply the final material so the slicing works correctly so for that just make a material and assign it and now just for fun instead of looking at this completely black box let's use a nice random texture so over here i'm just going to duplicate the main camera make sure it's not tagged as the main camera and down here on the output texture over here i've got a render texture all i did was set the size to be 1920x1080 and just set this camera to render onto that texture and finally make sure that the material is rendering using this texture i covered random textures in another video if you want to learn more and just like this we have a nice view of our camera in our virtual screen and the aspect ratio matches perfectly all right so far so good now the next thing we need is to slice this mesh so for that you can do it using the pro bundle tool exam like i covered in the destruction video so the first thing is just convert this one into a pro builder so open up the pro builder window and propellerize this object then you need another object for the slice so let's make another cube object also programmatize this one and again let's go into experimental open the bowling tool and select both them again go watch that other video to see this process in more detail then all you need to do is make sure that the cube occupies the whole area then for the slices really just position it and here's some tips for how you can do this pretty quickly you can put the scene in 2d mode so appear you've got the button for 2d so just click on it and everything is in 2d and right now you can actually see anything but you can just hide all of the environment objects so either disable the game object or over here click on this button to hide them either way it works okay so in this 2d view you can now just go and go into pro bundler onto the vertex mode and just make sure select hidden is on so that it selects both of the vertices this is in 2d but there's still two vertices there and just click and drag to select them and position them anywhere there you go something like this then just go ahead hit on reply there you go we've got our new object and now like i mentioned in that video you might have a pivot error so just go back into object mode and over here you've got a button for center pivot and for some reason you need to click twice so you click once and it doesn't work yet the pivot is still somewhere else but you click it again there you go now it's in there alright so it's really just repeating this process you can just hide the original object doesn't have to be enabled for it to work so then just once again select the cube select the vertices and just position them a bit differently so this way you can see where the last slice was so you can just go position them as close as you want there you go maybe something like this hit on apply go into the object center center and back into that one back into vertices and move them again there you go it's a manual process but it's pretty easy to do so just keep doing that and keep making all the slices so over here i've got an object that i sliced previously so i just did example that to cut up all these slices then on all the children objects i just selected all of them and then i added a rigid body and a magical letter so just like that all these objects have physics so if just with this if i hit on play and if there you go all the object parts fall down all right so far so good now we want to apply some force we don't want it to just fall straight down for that let's make a simple script and now let's place it on the parent of all of the slices so these slices are a child of this object and then over here let's simply apply a force to all those parts so that's pretty easy let's make a simple awake and then awake we just cycle through all the children so just do a for each on the transform then you try to get the rigid body so you get the rigid body and then with that one you can just call the function at explosion force this one takes a certain force then it takes an explosion position now this is a global position so we need to find that so here in the editor just position a game object somewhere around here let's say we want to hit it more on the lower side so that it explodes up and back okay so let's use sort of this position and yep that's pretty much it now just play around these values and now as soon as we hit on play and if there it is we've got our nice screen explosion all right awesome so far so good so we have our virtual screen all sliced up and flying away but of course we don't want to run this in the middle of our world we want it to be exactly in front of the screen and we also want to manually trigger the explosion by the way if you find the video helpful please hit the like button it's a tiny thing but it really does help thanks so for that let's first position this object all the way off screen the size of the unity world is pretty much infinite so let's put it on a thousand a thousand a thousand so it's way far away from anything else then let's make another camera just render the slice quand so if you're just going to create create a new camera then just position it looking straight at the quad by the way here's a quick tip for quickly positioning a camera just select the object then position the scene view then you click on control shift and f and it positions the camera exactly where the screen view is so just like that it's looking and then you can just go ahead and make this perfect so put all of these on zero like that now in order to make sure that this camera renders on top of the other one make sure this one has a higher priority so usually the main camera starts off on 1 so putting this one on zero does work then next thing is over here on the background type instead of skybox let's go with a solid color and for example make the background all in black and i'll really just position everything so in this case let's move the camera slightly forward there you go just make sure that it fits perfectly now this effect will happen really quickly so it doesn't have to be mathematically perfect just like this is perfectly good so just do all that let's make the camera also a child of the object and start off with this disable there you go that's the normal view then we're going to press a button enable this one and everything blows up okay so let's handle another script to make that simple action then just make a game object to run this and then over here pretty simple let's first add the reference so let's make it a serialized field of a transform so here in the editorial let's just drag the reference okay and then just on private void update let's listen to a key down and if that's it we just enable the game object okay so just like that it should already be working last thing we just need is to reposition over here the explosion position so here it is the scene is looking perfectly normal now let's say that i finally win or i get a game over or transition into something and boom and there you go everything turns into an image and everything gets shattered all right awesome okay so with this we have most of it working let me just mention one last thing in my reply to that original comment i said you could achieve this result with a rendered texture and that's true that's one approach it's exactly what we have working here however unlike this we're getting a view of the world that is updating now this scene is pretty static there's pretty much just only some smoke there so when it turns into an image in shatters you don't actually see it updating but if there were moving cars in people then it would be very noticeable now maybe that's the effect you're going for if so then this works perfectly but for this effect i think it makes more sense to have the game look frozen while the effect plays this is meant as a game over or a scene transition effect so i think being static makes a bit more sense so if what we want is instead a static image then what that really means is that we just need to take a screenshot of the whole view and then use it on the exploding object so instead of the render texture method let's use the screenshot method which i also covered in another video in that video i covered multiple methods depending on what you want to do here i've got one of the methods shown in that video so in this case i'm using the coroutine method so i use the code routine to wait for the end of the frame then i grab the screen width and height i take it onto the screenshot so using read pixels and apply and then i simply got a reference to the shadow material and then just calls that texture and now for the name here for some materials especially older materials the main map is actually called the underscore main text however here i'm using the universal render pipeline lit material and for this one it's called the base map and the reference name is underscore base map so just in case you use underscore main text and doesn't work then go ahead and make this change and the other thing is if you want to take a screenshot naturally we want to take that screenshot before we actually enable the explode transform otherwise we would just see the slices and not the actual screenshot we want okay so that's pretty much it we're capturing a screenshot rendering it onto a texture and then using that texture onto our materials so just like this our entire effect should be working so here is the scene now let's say i get a game over or i beat this level and then suddenly boom and yep there it is so a really nice screenshot effect so i'm playing the game then triggers the whole thing turns into an image and it explodes and the whole thing falls off so we have a really nice screenshot effect awesome so you can see how this would be perfect for making an interesting transition or a game over screen there's also one more interesting thing you could do with this you could take the exploding screen camera the one that sees the parts and lower the alpha down to zero and then for the render type make this an overlay camera and then on the main camera over here on the camera stack just go ahead add that one on top of this one and now if you point like this here it is the game is playing and i trigger it and boom there you go the whole thing blows up but the game is still playing so this would be yet another variation of this effect so maybe this could be a special ability on the player where it would deal tons of damage in order to show that much damage it would shatter the screen but then the game would keep going so as you can see this effect is quite easy to do and looks pretty nice thanks again for that comment suggestion this was a fun effect to make also don't forget to check out jason's black friday course bundle in the link in the description get a deep discount and learn how to make games from a veteran in the games industry alright hope that's useful check out these videos to learn some more thanks to these awesome patreon supporters for making these videos possible thank you for watching and i'll see you next time you