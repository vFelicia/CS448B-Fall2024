hello and welcome I am your code McKean in this video we're continuing to create a graph in unity we're going to add tooltips to display the exact value of each data point let's begin so I have my graphing here it is showing some values and I have various buttons to modify the display I can change the visual type between a bar chart or a line graph I can modify how many entries are visible and I can convert the values that are shown so as you can see in there it is converting between dollars and euros so now we're going to add a tool tip that will appear when we pass the mouse over a dot or a bar and display the value of that data point so if I place the mouse in here I want to see a tooltip around here saying about 41 okay so let's first go into the editor and create our tooltip game object so let's go to our graph container and in here create an empty game object and let's call it tilted inside let's create another empty game object we can meet background and give it the image component okay then another game object and let's name this one text add the text component set some text the font size and let's say about twelve and now let's position everything anchors to the unloader left position so in here use shift so we modify both the anchor and the pivot so click in there and let's put them on four four set the width and height to zero and overflow on both of these and set it to a line on the left side and down there okay so this one will represent our tooltip text and for the background let's also anchor it down in there okay and now for the width and height that won't be dynamically modified based on the size of our text so this is our tooltip game object setup now let's go into the code so in here the first thing we need is to grab a reference to our tooltip game object so let's go in here and make a private game object for our total game object and we're going to grab it in here on our away equals the graph container dot find our total game object okay now let's make two functions so when we go down here and let's make a private void show tanta and then we're going to have a private void hide taunted on our home let's simply set the tooltip game object that set active to bounce and so it hides the game object and now in our show the first thing we're going to do is enable the game object and as a parameter we're going to receive a string for the tooltip text and we're also going to receive a vector3 for the anchor position this is the position that we want to place our toe tip in so now let's set the object text so first go into the Haunted game object dot transform that find we're going to find the text sub game object and get a text component inside it and set the text to our tooltip text so this way we are assigning our tooltip text to the text game object now that we have that we need to calculate the size of our background so let's calculate a vector3 for the background size and now for this we're going to have a new vector2 and for the width of our background we're going to go into the text component and grab the preferred width and for the height we're going to have the preferred height so this is the exact perfect size that would occupy our text now we have a bit of padding when we set up our game object as you can see in the editor our text game object is on four four in order to give a little bit of space on the on left side and under so using that let's make a float for the attacks padding size and set it to four F which is what we set up in there and we're going to increase the background size on both the width and the height by the padding x to F so this way our background will have the text padding size of four F on the on left side right up and down now let's just clean up this coding here by making a text so we don't have to do all these fines so the tooltip UI text which is this and replace all of this all right so our code is nice and clean now after calculating the background size let's go into the tool tip game object the transform dot fine we need to find our background and then grab the get component of right transform and set the size Delta to be the background size okay so our show tone tip function should now be working so let's go up here and just for testing let's show a tilted so you show total let's give it some text this is a total tab and for the anchored position just for testing let's put it on a hundred AHA okay so again here first we set the main game object to true so that it is visible we grab a reference to the child text game object we set the text to our tooltip tags that we receive up here we define a padding size which is the same that we set up when we create the game object we calculate the background size based on the width and height of our text and then we simply apply that background size into our background rect transform so let's see all of that in action yep there it is as you can see the tooltip is currently saying this is a tooltip and the background is correctly sized now just for testing let's make it's a very saying so we can make sure that the background is always being correctly calculated so in here very quickly make a function periodic which is part of the code monkey utilities that you can grab for free from unity code monkey comm and in here I'm going to create an action and that action will be triggered every 100 milliseconds and let's say something else yep as you can see regardless of what text we give the tooltip the background size always fits whatever text is on there okay now there is actually a slight issue in here which you can see if I reduce the number of values so there you go and as you can see the tooltip is behind the bars obviously this is not what we want now the reason it's behind is because the UI sorting order is based on the hierarchy and since the bars were created after they show up on top you can see in here on the edit area the tooltip is in here and if I were to drag it all the way down there you can see that it now shows up on top so whenever we show the tooltip we have to make sure we set it as the last sibling so let's go back into our code and on the shuttle tip function after we do all of this then let's simply set the tooltip game object transform dot set as last sibling this sort sit on the last position on the hierarchy so now let's test and if I reduce yep as you can see it shows up on top of the bars alright so now that we have the basic concept working let's apply it to show up whenever we set the mouse over a certain bar now in here there are several ways that we can show our tooltip when we mouse over the bar the simplest way we're going to do it is first of all we need to go down here and modify our graph visual to also send in the tooltip text then once we do that in here when we receive the attentive text we have to capture a mouse over on top of this game object and make it display that text on the tooltip which also means that we need to go up here and make a static reference to show our Taunton so let's want that one by one so the first thing is to go in here onto the ad where our visual and we're also going to pass a string for the tooltip text now obviously we need to rework all of these whenever you got the a graph visual need to add that down here the same thing at where a visual and up here we need to call this function using the e2 until the text so first let's go here make a tooltip text and now we're going to grab the tooltip text you in the get axis label y which won't give us a visual representation of this value and then let's pass in our taunted text okay so now all the way down here on the bar chart and here we are creating a bar so using this bar game object let us simply add a component and I'm going to use the button UI which again is also part of the code monkey utilities and this simply and lets me easily access various pointer events so I have a mouse over once func which triggers only once when the mouse passes over and I'm going to add an action to that and now in the action it's in here that I need to do a shota in order to show my tooltip text but now I need a way to call this function again there are many ways we can do that but a simple one won't be by making a public static void show tooltip static and it won't simply call the same thing so receive the same parameters and then we have to go up here and make a static instance so a private static window graph for our instance and set the instance on our away so now using that instance we can go into this static and call the shell tooltip function and give it these parameters okay so essentially we just created a static function so we don't need an instance reference inside of our graph visuals so in here instead of using show tooltip I'm going to use show Tom type static since that no longer requires a reference to our window graph and with that we now should have to type text being shown on graph position whenever we pass the mouse over this bar and up here the one thing we didn't set was the anchored position so for that we simply take the tooltip game object and get the rect transform component and set the anchored position to this anchor position all right let's test ok Here I am if I pass the mouse over if there you go there's that on tape saying that this bar represents a value of 98 and if I mouse over this one yep 56 and move over various and as you can see we now have tooltips displaying the exact value that each bar represents now let's just make sure our tongue tip disappears when we move the mouse away so for now we simply go up here and use another function inside the button UI we also have to make a static for the height on tip so let's do that alright so we have a height on tip static function which calls this one on the instance and down here we add a button UI to our bar game object then on mouseover we show the toe tip and onmouseout we hide the total and here if I mouse over yep says 98 and if I Mouse out it no longer says anything okay great now let's just apply this to our online graph so on our line graph we're going to do very much the same thing that we did in here so let's go down into our line graph visual onto the ad where a visual and here we have our tag game object being created so we're going to do the same thing but for our talcum object so in here let's call it dot button UI and we're going to add it to deed that game object and everything else should be the same here's the graph switch into a line graph and now if I mouse over any of you can see the tooltip that shows the value which is represented in this data point so in there and here we have a 30 and as you can see it is 30 in there you got a 5 and it is a fun so there you have it we added some tooltips to our graph to be able to view the exact value of each data point in the next video we're going to create a graph visual object interface so we can later update our graph in real time as always you can download the project files in utilities from Unity code monkey comm if you have any questions post them in the comments and I'll do my best to answer them subscribe for more videos and I'll see you next time