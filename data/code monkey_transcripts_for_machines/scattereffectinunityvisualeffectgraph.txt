in this video we're going to make a nice simple scanner effect using the visual effect graph we're going to take an image and convert it into a million particles and then scatter them let's begin hello and welcome i'm your code monkey and this channel is all about helping you learn how to make your own games with indepth tutorials made by a professional indie game developer so if you find the video helpful consider subscribing okay so what we're going to make here is a very simple but very interesting effect using the visual effect graph now if you're not familiar with it then first go check out the getting started video right now here i have my simple logo so just a normal image and now i press a key and yep there it goes the logo gets converted into a milling particles and the particles all scatter away now this effect works with any texture so here it is with a different texture and i press space and if there you go it works exactly the same so the image gets converted into a million particles and they all scatter away in a very nice satisfying way so this is a very good looking effect that you can easily apply to your own games when you show your studio's logo this video's patreon sponsor is bad adventure bad adventure is a game development duo currently working on their first game wayfarers edge it's a rpg focused on exploring and settling unknown frontierlands in a low fantasy and wild west theme check them out at badadventure.com thank you to the patreon sponsor and thank you to these awesome supporters for making this video possible go to patreon.com unitycodemonkey to get some perks and help keep the videos free for everyone all right so this is our goal let's get to it okay so here we are in an empty scene so let's begin by going to our project files and create a new visual effect and a new visual effect graph let's call this our scatter effect and just drag it onto our scene yep there's the default effect now let's double click to open up the visual effect graph and just drag it in there alright here it is now in order to make this effect there's pretty much just one thing that we're going to need we're going to need to create a point cache from one of our textures so first of all what is exactly a point cache now a point cache is a simple way of storing a bunch of data for each point so in this case we're going to store the position and the color of each pixel now to create our point cache we already have a tool that's included that we can use so go into window and then down here onto visual effects onto utilities and we have the point cache bait tool so here this works also with meshes but in this case we're going to use a texture and let me drag the code monkey head texture and now also make sure to take this one to export the colors and that's pretty much it so just save and now here you might see this error message so it's saying that the texture is not readable so if that happens just select the texture go into the inspector to visualize the import settings and in here make sure you take the read write enabled so just tick this hit save and now we can indeed save our point cache and yep there it is here in our project files we can see our point cache storing the point data for our logo texture so this is what we're going to use for our particles so back in our vfx graph in here let's first grab our point cache so on an empty space and here let's just press space and now let's search for point cache and yep there you go and in here just drag our point cache right in there and yep there you go it automatically loads with the data that we saved so we have the point count which is the total number of points in the point cache we have the position which is the position of each point and the color which is the color of each point so let's begin by setting our position so here on the initialize let's get rid of the velocity and let's set a static lifetime so in here press space first of all for the set lifetime so it's set to a fixed value and now we're going to add a block and now let's search for position from map and if there is set position from map then we also have a color from map set column for map yep and now we just need to connect these so connect the position onto that attribute map and the color width down so in there we can see our particles spawning at different positions in our position we can modify the scale in order to get the object to be bigger so just like this now they're spawning more all over the place now for the color we need to apply the color onto a normal white texture so let's go down here and we're going to replace the default particle instead let's select the default particle system particle then let's modify the set size over life instead of the particles increasing in size let's make them decrease so they start at a certain size and then go down okay and finally on the set color over life instead of changing the color and the alpha let's only modify the alpha and here in the gradient let's start off at full alpha and then after a while it goes down to zero all right now if we go up here and we massively increase our capacity and our spawn rate just like that yep we can already see the logo being created so you can see how each particle takes on a position and a color from the point cache now we can actually visualize how the point cache is working so in here instead of random constant per particle let's choose sequential and do the same thing in here for the color and if there you go now you can see how the logo is being pretty much printed line by line so that's how all the data is stored inside of the point cache so if we increase this then we have a very interesting effect if there it is look at that interesting effect all right but this is not exactly what we want we want all of our particles to be spawned only once so instead of a constant spawn rate let's disable this one and we're going to press space and we're going to add a burst let's go with a single burst so this will spawn this many particles as soon as it only is over so if it's zero it's red as soon as the effect starts and now in here for the count which is the amount of particles we can use exactly the same number as the number of points that we have in our point cache so just like that yep you saw that they all spawned exactly at the start so as soon as the effect activates it will spawn off the particles at once and after their lifetime then they simply vanish so that's exactly what we want but in here if we put just a single burst then we constantly have to go back into the scene in order to select it and do play again in order to reset the effect so just for testing we can also add a periodic burst and here we do the same thing so connect the same point count and set a delay for two seconds so every two seconds this will refresh this way we can easily continue working on our effect and in the end we just need to disable it and leave this single burst alright so now that the particles are all being spawned in the correct position with the right color now we just need to make them vanish so right now they are simply reducing in size and lowering the alpha so this is not really a very interesting effect it looks exactly the same as the normal texture so on our update down here we're going to add a simple block so let's press space another block let's write force and in here we have two main options we can add some turbulence or a vector field force let's start off with the turbulence and if just like that you can already see the effect in action so everything moves around very randomly now let's play around these values all right so just like this it already looks quite interesting so the particles spawn in a scatter way so it looks good but it's a bit too random now let's try out applying the second method so let's disable this one and let's apply let's search for force and select the vector field force now the vfx ref already has a vector field with a bunch of randomness now a vector field is essentially just a 3d cube made up of voxels and each of them has a certain vector i covered vector films in more detail in the video where we did a deep dive on the effect covering the unity logo so if you want to learn more then look at that one but essentially it's just a 3d field with a vector on each position so using that we can get a bit more of an interesting look alright so here i played around with it with the fields now for the vector field i actually use the one included in the efficient samples so i find that this one has a bit less randomness it looks a bit better than just playing around with the size the position the intensity drag and so on and yup here is the final effect so it's a bit less random and a bit more flowy which i think looks better and if you want you can use both effects at once so just click this and yet there you go how the particles all scatter in different directions with a bit of flow and a bit of randomness so since this is based on a vector field you could also create your own to get the exact flow shape you like so this one is going pretty random since we're using a random vector field but we can make something with a specific wave like moving upwards moving down and so on all right so just like this pretty much we have our effect working now all we need to do is just link this up with an image so for that let's just drag the texture onto our scene and now to make sure that the size is exactly correct let's disable these updates all right so here just playing around the scale in order to make sure that they both have the exact same size so here we can see the image slightly transparent with the particle spawn right on top now to get the effect that we want all we need is for the image to hide itself just as soon as the particles get spawned so for handling that animation we can use a simple timeline so let's create the game object for our timeline so let's go into window then into sequencing and here we open the timeline window so now here just hit on create now let's drag the sprite to animate it so let's start recording then select the sprite and set the alpha to phone alpha then let's go after a bit and set the alpha down to zero so just like that the alpha starts off high and becomes low just like that and then we drag our scatter effect and let's make it a visual effect activation track and in here let's add a visual effect activation clip so the clip activates as soon as we enter this one and now we can go back into our scatter effect and down here disable the periodic so we only leave the single burst now in here we just have to match up these two all right so just like that so we'll lower the alpha on our image and we activate our actual effect so that's pretty much it over here in the project files i have this simple script all it does is it listens to the space bar and when so then we start playing our timeline so just add the script onto it alright so here it is start off with the normal image now press space and yep there goes our nice logo so the logo gets converted into a million particles and they all scatter away so here is the complete effect and as you saw this is all based on creating a simple point cache so you can make this work with any texture all right so here it is with a different logo again just press space and yep there you go everything gets converted into particles and they all flow away it all works based on a simple point cache so you can create that from any texture or any mesh and the scatter is also based on a vector field which again you can also make a custom one to get the exact flow that you want so for example this is a great very simple effect that you can add when your game starts and your logo shows up this video is made possible thanks to these awesome supporters go to patreon.com unitycodemonkey to get some perks and help keep the videos free for everyone as always you can download the project found in utilities from unitycodemuck.com subscribe to the channel for more ent tutorials post any questions in the comments and i'll see you next time you