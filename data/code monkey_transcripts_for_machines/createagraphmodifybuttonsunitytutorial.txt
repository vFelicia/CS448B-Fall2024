hello and welcome I am your code monkey and in this video we're continuing to create a graph in unity we're going to add some buttons to manually modify our graph let's begin so I have my graph here and it is showing some values and changing the visual types now let's add some buttons to be able to manually select what visual type we want so let's go into the editor onto the UI on to the window graph let's start off by creating a new button so create an empty game object and let's name this bar chart but let's add an image for the background so UI image this will be our background and let's add another one for our icon so the background make it in black and like that for the icon I have an icon here for the bar chart icon let's make the size a bit smaller and like that okay this is our button now let's add the button you are a script the script is part of the code monkey Tonys that you can grab for free from unity code monkey calm this script helps me count your mouse events on this particular game object so for example I have the hover behavior type I'm going to set it to change color I want to change the icon color when it's normal let's leave it on pure white and when the mouse is over let's make it tinted in green alright let's position our button in this corner in here now let's duplicate it and this won't be the line graph button and let's change the icon for the in line graph icon and keep everything else the same we still got B button UI changing the color on mouseover okay so that our buttons are setup and let's go to the code so here on D code let's go and find the reference for our buttons so that's on the transform fine and we call the first 1 bar chart button and get the components of type button UI and on the click func which is a function triggered when clicked on the button it will execute this action and this action won't do something so now we need to make a function that only takes a visual type and keeps the exact same values so in order to do that we need to first cache all the values that were used on last time this function was called so let's set up some member variables to store all this okay so we now have member variables to cache the values that were used on the last time the function was cone so now let's store them in here so let's store this top value list equals our felon list and do the same for all the others now for the max visible mount we're going to store it after validating it which will make it easier to change afterwards so we are now storing the values whenever the function is called that means we can now go here and make another function that will only receive the graph visual so a private void sat graph visual and inside we're going to receive a parameter of type I graphed visual graphic visual okay and we're going to call the show where a function using our cached values so the value list then we're going to use this graph visual so now to keep things clean let's use this stuff the only stuff that and this starts max visible and so on okay so we can now use this function to only modify the graph visual so that's what we're going to call up here when you got the bar chart button then we're going to call set the graph visual using our bar chart visual and then we have the button for the line graph button which won't set it to the line graph visual all right so let's test all right so here's our graph being displayed as a bar chart our buttons as you can see the column changes on mouseover so that's very nice hey now if I click on the line graph yep there you go we change to use the in line graphical and again click back and I can swap back and forth great so we can now manually change the visual representation of our graph now let's set up some buttons to change the visible amount so back in the editor in here let's duplicate this and add another button on the side for this one let's call it decrease the visible amount button and on the right side we're going to have a increase visible amount button so let's set the icons a minus icon and a plus icon okay now let's have to the code and in here let's also capture those buttons so first of all the decrease visible amount button which will do something different from this and then we have the increase visible amount button so now we need functions to increase and decrease the visible amount so it's going here and make a private boy first of all let's see the increase the visible amount and inside we're just going to call the main function so again show brown I'm going to show it using this dot val enlist this not graph visual and then for the max visible mount use this dot max visible mount and since we are increasing then increase it by one then again this target axis label X and the y alright now let's copy this and make the decrease the visible amount instead of increasing by one we decrease it by one okay now up here let's call these functions so on the increase call the increase on decrease called the decrease alright let's test the code okay there we go it is currently showing all of the values in our graph so if I hit yup there you go it starts off at day two goes until day 15 and I can do it do it and again it is only showing the last six days on our graph and I can also increase and it goes until it shows the entire thing so we cannot modify the max visible amount so now let's finish it by adding functions to modify the M labels so in here let's make a function to set the label for the X into y so first of all a private void set get axis label X and in here we're going to receive or we're using for the label X so it's exactly same thing in here and we're going to call very much the same as in here call using the cash the values instead of using this not get access and label X use the one called in this function then do another function to modify the y okay so we now have two functions to modify the axis labels so now let's go into the editor in here we're going to make two buttons for swapping let's say between dollars and euros so let's duplicate it here let's say the dollar button and on the right side we have the euro button set the icons ok our buttons are set up now in our code let's go up here we have the references so first we have the dollar button and then we have the euro button we're going to use the set gap X's and label Y we're going to leave the X as is and someone is showing the day so leave that one we're going to modify the Y and for the dollar we're essentially going to send the same function that we're using so this one which takes a float and returns the dollar sign and then it rounds off the value in that white position and then for the Euro let's show as euros and we're going to take the value and divide it by an exchange rate so let's say 1.18 app and then round out the whole thing alright so let's test okay here's the graph here you can see all the values on our yaxis and if I click on dollar nothing changes son says the exact same thing and on euro and yep there you go everything was converted into euros so in here you see dollars and euros so we can easily swap our labels and we could if we want to do the same thing on the xaxis all the other buttons don't work so we can show one less values or show them all so and we can still swap between the line graph and bar charts so there you have it we took our graph and added some buttons to manually modify how our data is displayed in the graph in the next video we're going to add some tooltips to display the exact value of each data point as always you can download the project files in utilities from unity code monkey comm if you have any questions post them in the comments and I'll do my best answer them subscribe for more videos and I'll see you next time