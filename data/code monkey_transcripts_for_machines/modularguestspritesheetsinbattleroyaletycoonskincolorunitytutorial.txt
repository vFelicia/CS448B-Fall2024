hello and welcome I'm your code monkey in this video we're continuing to create modular spreadsheets as used in battle round tycoon we're going to further increase the randomization of our characters by adding skin color let's begin so here is our dynamically created spreadsheet we first have a base then we add a body on top of it and on top of that we have our head the head itself is composed of a base head plus a random hairstyle any random beard the hair and beard are tinted in various colors so we can have any of our air sounds in any color we want now we're going to do something similar to apply a skin color the game is up now on Steam so check it out to see what I'm teaching here apply to a real game so here in my textures this is the head we've been using which already had a skin color but now we're going to be using this one which again just like the hair it is simply in white and we're going to tint it using a skin color and again always remember that you need to set your textures to in a won't read and write so we can use them through code ok so let's go into the code in here let's go to our texture code and here we are grabbing the head pixels so here let's try doing the same thing that we did for the hair so first define a color for the skin color and then we do the same thing using our tint color array function and we're going to tint our head pixels using our skin color okay so let's set and see what happens and you blurred is the skin color is correctly being applied to our base texture however one issue you can see is the color of the eyes we want to tint the skin but not the eyes so let's go into the code and here we're going to solve this by creating a skin color mask essentially we're only going to tint on where the mask is and we're going to leave intented on the places where there are no masks here is the texture for the skin mask as you can see it has everything except for the eyes and that's what we're going to apply on top of our head so we need a function to tint but only inside a mask so let's go down here and make another function a private void and let's call this tint color arrays inside mask we're going to receive a color ray for our base array then a color for our tent and finally an array of colors for our masks so in here again we're going to cycle through every pixel in our base array and if the mask on that index dot alpha if the alpha is bigger than zero then we're going to apply the tent if the alpha is zero then we are not going to apply the tent around and we're going to leave the base array exactly as it is so in order to apply the tint we want to interpolate it between the base array and the ten color based on the mask alpha so let's get a color for our base color which is our base array on this index then we have a color for our fully tinted color which is our ten multiplied by the base color then we have a float for our interpolate amount which will be the mask alpha happy so in here we're going to the same thing that we were doing in here when we merge the color arrays so we take the base array on this index let's grab the red pixel and we increase it by the difference between the fully tinted color minus our base color and we multiply it by our interpolate amount okay so that's it apply everything to the other colors so the red the green and the blue okay so we now have a function that applies a tint but only on a certain area so now we can use this mass here which again doesn't have anything on the eyes so that one has an alpha of zero so that one won't leave the original head exactly with the same color so let's make AC release field in order to grab that texture so this is the base had mask texture and in here when we grab our head pixels we get the skin color and now we do tint color inside mask we grab the head pixels tinted with skin color inside the head skin mask pixels which we're going to grab them from our base head mask texture okay so let's see if our head is correctly being applied with a skin color but leaving the eyes and white and yep there it is as you can see the skin color has been applied but the eyes remain in white so now that we have that working let's apply various skin colors so just like with the hair we have defined an array of skin colors and we are picking a random one from that array which again then is applied to the head pixels inside the head skin mask now here we have random hair and random beard okay so let's see and yep there it is as you can see the final face being constructed from a base face tinted with a skin color then applied a hair and a beard so there's various skin colors and the eyes look perfectly fine so now one last thing we can do is add skin to the hands so far we've been using these gloves but now that we can tint the skin we can do the exact same thing for the hands so here is the hand sprite we're going to do the exact same thing first grab the hand texture we grab the hand pixels from our hands texture then we don't need to use a mask since the hand won't be completely tinted so we can use the same one we've used for the hair color we're going to tent our hand pixels using the same skin color as previously and then finally we add the hand into our main texture and yep Learner's we now have our final sprite sheet with a random skin color that is applied both to the face and to the hand so that with random bodies random hair and random beer nor with collars for everything and you can see that we now have a nearly infinite number of possibilities the game is up now on Steam so check it out to see what I'm teaching here apply to a real game so there you have it we took our previous sprite sheet and apply the skin colors to the face and the hands in the next video we're going to create body sprites with primary and secondary colors as long as you can download the project files in utilities from unity code monkey comm if you have any questions post them in the comments and I'll do my best answer them subscribe for more videos and I'll see you next time