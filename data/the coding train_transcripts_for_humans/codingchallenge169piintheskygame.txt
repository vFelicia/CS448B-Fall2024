With timestamps:

00:00 - happy pi day coding train passengers
00:03 - welcome aboard i've heard you in the
00:05 - comments i've heard you say oh i miss
00:07 - those old simple coding challenges like
00:10 - the snake game and purple rain when will
00:12 - you do another one of those and i'm here
00:14 - to tell you that today pi day i want to
00:16 - make a game a game with the digits of pi
00:19 - it's gonna be a basic beginner friendly
00:21 - tutorial you can make your own version
00:23 - of it i hope you will make your own
00:24 - version and the world will be filled of
00:26 - beautiful delicious pies
00:31 - [Music]
00:37 - my favorite treat circumference divided
00:40 - by diameter day
00:45 - let me tell you a story oh it was many
00:47 - years ago in the 2000s when i was first
00:51 - writing up some tutorials about
00:53 - processing oh in html and uploading them
00:56 - through
00:57 - ftp to the internet when someone came to
01:00 - me and said why don't you put these
01:01 - tutorials into a book and i said no oh
01:04 - no oh no oh no i couldn't possibly no oh
01:07 - me no i couldn't okay if you insist
01:10 - that book was called learning processing
01:13 - and you could buy it today but i don't
01:15 - suggest you do because i don't know
01:16 - maybe it's a little too out of date but
01:18 - that book at the end of chapter i don't
01:20 - know six
01:21 - after all the fundamental basics of
01:24 - programming are covered variables
01:25 - conditionals loops functions object
01:27 - arrays and all those things were put
01:28 - together in a game known as the rain
01:30 - catcher game well i am here today to
01:32 - present to you the game
01:35 - pie in the sky
01:37 - [Music]
01:39 - the idea here is
01:41 - [Music]
01:43 - that's a plate and there are pies
01:45 - falling from the sky
01:47 - the player must move the plate to catch
01:50 - the pies aha but there's a catch
01:53 - the pies have a certain number of slices
01:59 - and you as the player must catch pies in
02:02 - the correct order you must catch a pie
02:04 - with three slices then one and four then
02:06 - one then five and nine and if you don't
02:08 - i don't know you lose points if you do
02:11 - you gain points this is the basic idea
02:13 - let's go make this game
02:15 - so here we are in my happy place when i
02:17 - like to spend pi day in the p5.js web
02:20 - editor and the first thing i need to add
02:22 - is the plate and the plate i'm just
02:24 - going to place it where the mouse is
02:27 - at the bottom of the canvas
02:30 - so i would like the plate to be centered
02:33 - on the mouse
02:35 - and there's my beautiful beautiful plate
02:39 - change the background to zero and we're
02:41 - starting the game next up i want to add
02:44 - the falling pies i think to do that i'm
02:46 - going to want to make a pie class and an
02:49 - array of pi objects
02:57 - so the idea of a class is a template for
03:00 - making an object a thing that's going to
03:03 - exist in the world of my program it has
03:06 - a constructor function that initializes
03:08 - a set of variables or properties that
03:10 - belong to that particular object so i
03:12 - could create a variable called pi
03:17 - once i've created the pi object maybe i
03:19 - want to draw it on the canvas
03:22 - i can go to the pi class and add a
03:24 - function that draws it
03:28 - then all i need to do is call show on
03:31 - the pi variable
03:33 - now i have both my plate and my pi
03:37 - next i would like the pi to fall from
03:39 - the sky to do that i'm going to increase
03:42 - its y value every time through draw
03:44 - adding another function to the pi class
03:47 - called update
03:49 - and increasing the value of y by one
03:52 - every time update is called
03:55 - and there falls the pi
03:57 - so clearly i need some mechanism by
03:59 - which i compare the pi's location to the
04:02 - plates location when it reaches the
04:04 - bottom of the window
04:06 - i'm kind of feeling like i want to make
04:08 - a plate object
04:17 - so the plate needs an x position which
04:20 - is variable a width which is how big is
04:22 - it and then its height and its y
04:24 - position are locked to the bottom of the
04:26 - canvas although that is something that
04:28 - potentially you could also experiment
04:29 - with
04:33 - now i can create my plate object
04:42 - oh oh no
04:44 - it's happened i can't believe it you
04:46 - know what i've forgotten right
04:49 - if the variable is a property of the
04:51 - object in the class we must refer to it
04:54 - with this dot
04:56 - there we go oh but i can't move the
04:57 - plate
05:00 - so now how do i know if the plate has
05:04 - caught the pie
05:08 - if the plate catches the pie console log
05:12 - yum
05:13 - this is one of the things i love about
05:15 - object-oriented programming and i should
05:16 - just take a minute here if you happen to
05:18 - actually be watching this video and you
05:20 - have no idea what's going on i'm trying
05:22 - to step through it slowly but ultimately
05:25 - what i'm making use of is the
05:27 - fundamentals of programming i've got
05:29 - variables i've now got a conditional i
05:31 - have objects soon i'm going to add an
05:33 - array then i'm going to need a loop i'm
05:35 - going to talk you through these things
05:37 - maybe you're a beginner and this is your
05:38 - first time coding if so
05:40 - hello and welcome but i also want to
05:42 - mention that what i'm doing here is
05:44 - synthesizing everything that i have in
05:46 - my intro to coding with p5.js playlist
05:49 - and if you want to go back and kind of
05:50 - learn all these pieces more slowly and
05:53 - step by step you could take a look at
05:54 - that playlist which i'll link to in the
05:56 - video's description but what this means
05:58 - here is that i need a new function
06:01 - inside of the plate class called catches
06:04 - to receive a pie and do something with
06:07 - it what does it need to do well if it's
06:09 - in a conditional statement if it's if
06:11 - the plate catches the pie it needs to
06:13 - return true or false i could just say
06:16 - right now return true
06:18 - so now look at this i'm catching pies
06:20 - i'm always catching pies the pies are
06:22 - falling i've got them all i'm eating
06:24 - them all it's too much pie help so it
06:26 - would make more sense for me to first
06:28 - test if the pie's location is down at
06:31 - the bottom of the canvas where the plate
06:33 - is
06:34 - i'm going to do this in the simplest way
06:35 - possible first i'm just going to say if
06:37 - pi dot y is greater than or equal to the
06:40 - plates which is this
06:42 - dot y
06:45 - then i'm going to return true
06:47 - otherwise i'm going to return false
06:50 - and now i just write the code this way
06:52 - because i love seeing the flood of
06:54 - comments on my youtube video about how i
06:56 - could have written this
06:59 - i mean yes it's one line it's kind of
07:01 - elegant but let me just have my piece
07:04 - all right that pie is falling really
07:06 - really slow
07:10 - i caught the pie let's try it again
07:15 - i caught the pie
07:17 - so clearly i also need to check if the
07:19 - pie is between the boundaries of the
07:21 - plate if the pie is at the bottom and
07:26 - pie dot x is greater than the left edge
07:29 - of the plate
07:31 - that's the plate's position minus half
07:33 - its width
07:37 - and its right edge
07:39 - which is its x position plus the width
07:42 - run it okay i'm gonna catch the pie
07:44 - oh
07:45 - what
07:47 - oh no
07:49 - [Music]
07:53 - i have caught the pie try it again
07:58 - i have not caught the pie
08:00 - what's next we have variables
08:02 - we have conditionals
08:04 - we have functions
08:05 - we have objects
08:07 - but we don't have arrays or loops
08:10 - instead of one pie let's make a variable
08:13 - called pies and set it equal to an empty
08:16 - array
08:18 - i could say the first element of the
08:21 - array index zero is a new pi
08:27 - and my code doesn't have to change other
08:29 - than just referencing the index 0 of the
08:32 - pi's array but what if i want to have
08:34 - more than one pi in the array
08:38 - pi's index one the second element of the
08:41 - array is another pi
08:44 - well but i only see one
08:46 - this is where a loop comes in
08:51 - now i can write a loop this is called a
08:53 - for loop where i have a counter i which
08:55 - goes from zero up until the length of
08:58 - the array
08:59 - counting through every single pi then
09:01 - instead of referencing index zero i can
09:04 - reference index
09:06 - i now i have two pies and i can test
09:11 - both of them all of the pies against the
09:13 - plate now this is a little bit silly
09:15 - what i've done by just individually
09:17 - assigning each pie into that list into
09:20 - that array what if i want to have 100 of
09:22 - them well i can actually use a loop as
09:24 - well in setup to put a whole bunch of
09:26 - pies in the array
09:30 - let's put 314 pies in there
09:34 - and in fact
09:35 - even though i can do this by referencing
09:37 - the index i i can use a function called
09:40 - push to just push pi's into that array
09:44 - without having to worry about the index
09:46 - this allows me to also use a slightly
09:49 - fancier loop called a four of loop
09:55 - now instead of counting through the pies
09:56 - i'm saying for every pie
09:59 - i want to say the word in
10:01 - it's a long story why i can't say the
10:03 - word in even though i could say the word
10:04 - in but that's something else in
10:05 - javascript for every pie of the array
10:09 - pies show it update it check if the
10:11 - plate catches it and if so console log
10:14 - yum
10:15 - but i still only see one pie
10:19 - all the pies are being created at the
10:21 - same exact location so let me give a
10:23 - random location
10:26 - anywhere in the width of the canvas and
10:27 - actually let me set it up so that it
10:29 - starts above the canvas itself so it's
10:32 - raining pies
10:35 - so anywhere between negative 100 and
10:38 - negative 20 those are pixels off the
10:40 - canvas
10:44 - oh look at all the delicious pie
10:46 - let's go back to 31 pies
10:49 - and actually i have a different idea why
10:52 - don't i just add a new pie every frame
10:56 - so i'm actually going to start with zero
10:58 - pies
11:01 - but just in draw
11:02 - i'm gonna push one random new pie every
11:05 - time through draw
11:07 - it's raining pies
11:10 - now we have a problem i'm adding pies
11:13 - i'm trying to catch them but i haven't
11:14 - eaten any my animation is starting to
11:17 - slow down so maybe every time a pie gets
11:19 - to the bottom
11:21 - i should get rid of it so i want to say
11:23 - something like if pi dot y is greater
11:25 - than the height of the canvas
11:27 - eat the pie
11:30 - to remove an element from the array
11:32 - there's a javascript array function
11:33 - called splice but splice requires me to
11:36 - reference which element the index to the
11:38 - element so i need a kind of loop where
11:40 - i'm counting the index values
11:46 - so i'm back to referencing index i if
11:49 - the pi at that index is greater than
11:51 - height eat the pie or
11:55 - remove index i and only that element now
11:58 - i believe
12:00 - that the elements of the array are being
12:02 - removed as they get to the bottom i
12:04 - can't be sure what if i use a console
12:07 - log and look at the length of the pie's
12:09 - array
12:14 - lots of pie lots of pie lots of pie lots
12:16 - of pie oh yeah stabilizing we are not
12:19 - getting more than 100 pies
12:21 - i have done something in a way that's
12:23 - slightly problematic however and i've
12:25 - covered this extensively in my videos
12:28 - around objects and arrays and removing
12:29 - objects from arrays but in this case if
12:32 - i'm going to be taking elements out of
12:34 - the array it's important that i go
12:36 - through the array backwards from the end
12:39 - to the start due to the way the array
12:41 - recalibrates itself when things come out
12:43 - of it
12:47 - now i'm realizing something here
12:49 - when the plate catches the pie i also
12:52 - want to take it out of the array it's
12:53 - done it's not eaten it's caught so i'm
12:56 - eating some pies catching others it's
12:57 - confusing what's going on here but
12:59 - regardless any pies that make it to the
13:01 - bottom whether they're caught or go past
13:03 - the plate they need to be removed from
13:05 - the array so i'm going to take the if
13:06 - statement from the loop up top and bring
13:08 - it down here to this one
13:15 - you're probably thinking oh what about
13:18 - consolidating these two boolean tests
13:21 - this if the plate catches the pie or if
13:23 - the plate goes off the bottom and yes i
13:26 - could do that but right now i think i
13:28 - want to do something different in each
13:29 - case whereas this is just saying goodbye
13:32 - to a pie and here i need to remember the
13:35 - whole goal of the game is to catch the
13:36 - digits
13:38 - check what digit was caught
13:41 - and deal with score
13:43 - but let's also clean up a couple things
13:45 - one thing you might notice is as the
13:47 - pies get to the bottom
13:49 - they kind of disappear before they're
13:51 - really gone so i think in this case it
13:53 - would make sense for me to say if pi's
13:56 - index i dot y is greater than height
13:59 - plus and let me look at the pi object
14:02 - oh i have hard coded 32
14:05 - so i have this i'm going to use d for
14:07 - diameter or let me say actually r for
14:09 - radius and make it 16 and this is going
14:12 - to be this dot r i remembered that this
14:13 - dot times two and then in the sketch i
14:17 - can see if the pi's y position is below
14:20 - the height plus
14:22 - the pi's
14:24 - r
14:25 - and now it just looks a little bit more
14:26 - elegant as we don't see the pi's
14:28 - disappear until they're off the bottom
14:31 - but what about the pies that are caught
14:33 - how about if pi dot y plus
14:36 - pi dot r
14:37 - now you can see how those pies disappear
14:40 - right at the plate whereas the other
14:41 - ones move past below the canvas itself i
14:45 - don't need this console log anymore and
14:47 - also it's a lot of pie so let me reduce
14:49 - the number of pies by adding some
14:51 - randomness i'm only going to add pies
14:53 - randomly maybe one out of every 10 times
14:56 - through draw
14:59 - so now by picking a random number
15:01 - between 0 and 1 and only if it's less
15:03 - than 0.1 that will be 10 of the time do
15:06 - i add a new pi to the game
15:08 - eventually i want these falling pies to
15:11 - represent the digits of pie and the
15:13 - player has to catch the right digits so
15:15 - i want to design them with slices and
15:16 - all that but for now let's just put a
15:18 - number in the center of each pie
15:23 - so every time i make a pie it'll pick a
15:25 - random digit between 0 and 9
15:31 - and i can use the text function to draw
15:34 - the digit right there over the circle
15:36 - itself
15:37 - i don't see the number
15:41 - oh my goodness
15:44 - order of operations is an important
15:46 - thing i'm drawing the circle after i'm
15:48 - drawing the text so i drew the text but
15:50 - then i covered up with the circle drew
15:52 - the text but then i covered up with the
15:53 - circle let's fix that
15:56 - there we go now they're all the number
15:58 - one
16:00 - now we have digits falling from the sky
16:03 - up what happened to my plate i wasn't
16:05 - very thoughtful about making sure i set
16:07 - the color of everything i'm drawing
16:09 - so now i have my plate back
16:11 - it's still too many digits because it's
16:14 - going to be very hard to like catch one
16:16 - and then move out of the way let's make
16:18 - the plate
16:20 - a little bit smaller
16:23 - a little less frequent with the
16:26 - digits
16:27 - i guess a little bit more
16:30 - also i would like these digits to feel
16:31 - like they're falling more right now
16:33 - they're moving at a constant speed down
16:35 - so if i add an acceleration so that that
16:38 - speed changes over time that's as if
16:40 - gravity is pulling them down and they're
16:42 - accelerating as they're falling
16:45 - so if i were to start with a y speed of
16:47 - zero
16:51 - if y speed increases over time
16:53 - well it probably should increase a
16:55 - little bit faster
16:58 - now they feel much more like they're
17:00 - falling now i have an idea
17:02 - i think what i want to be able to do is
17:04 - display
17:06 - the string of digits that i'm catching
17:08 - below the canvas even though i'm using
17:11 - dark mode for the web editor i can
17:13 - change the background color of the
17:15 - canvas area to be white by altering the
17:19 - css
17:21 - then i can add a paragraph element to go
17:23 - below the canvas
17:26 - so you can see it there as the word
17:28 - hello let's make that a little bit
17:30 - bigger
17:34 - i'm going to call this digits div
17:38 - start it as empty
17:40 - and then have a variable called digits
17:42 - be a string itself
17:44 - every time i catch a pie
17:47 - i want to add
17:50 - its digit
17:51 - to that string
17:52 - but i also need to make sure the div is
17:54 - updated with the current value of that
17:56 - digits variable
17:59 - here we go i'm gonna catch one oh
18:03 - oh
18:04 - well that's a problem i better do that
18:06 - before i delete the pie from the array
18:12 - okay here we go no
18:14 - html digits
18:17 - oh it's not digits p it's digit div
18:23 - six
18:25 - six
18:26 - eight nine four nine
18:30 - that's not pi
18:32 - so first of all let's start it with
18:34 - three dot so we will make the the idea
18:36 - of the game is i need to find a one
18:38 - first
18:39 - and i need to avoid everything that's
18:41 - not a one
18:42 - there it is there it is there one oh no
18:44 - wait what just happened oh i can't put
18:46 - that there needs to go here
18:51 - after all that okay here we go
18:54 - three point
18:56 - there it is there it is one and i need a
18:58 - four
19:01 - give me a four no this is hard there we
19:03 - go one four
19:05 - one
19:06 - all right so there's some playability
19:07 - issues here
19:09 - i mean one thing would be to make a
19:10 - bigger space and then have more digits
19:13 - falling
19:14 - is there really no is it never going to
19:16 - pick a 5.
19:20 - i'm not going anywhere until a 5 shows
19:22 - up
19:24 - oh there we go yes
19:27 - okay
19:28 - pie in the sky
19:30 - i'm trying to think of what to do next
19:33 - certainly i want to test whether it's
19:34 - the correct digit or not so thank you to
19:37 - eve anderson i'm going to download this
19:39 - file with 1 million digits of pi upload
19:42 - this file
19:48 - and in the preload function i'm going to
19:51 - load all of the data from that text file
19:53 - into a variable called pi
19:56 - now what the load strings function does
19:59 - is it takes that text file and brings it
20:01 - into an array so each chunk of digits
20:04 - that is on a separate line is a separate
20:06 - element of the array so very quick thing
20:08 - that i can do is just set pi equal to
20:11 - itself with the join function
20:14 - and now i have in this variable pi one
20:17 - million digits of pi now i want to
20:19 - create a variable called pi counter
20:24 - and the correct digit is the one at the
20:26 - pi counter index in the one million
20:29 - digits
20:32 - i'm going to put the actual digit that
20:34 - i'm getting from that pi in a separate
20:35 - variable
20:37 - this way i can say if the correct digit
20:39 - is equal to that digit
20:43 - then console log of pi
20:45 - otherwise if it's
20:46 - wrong a train
20:49 - and also if it is correct move on to the
20:51 - next digit
20:54 - and maybe only add it to the string on
20:56 - the bottom if it was correct
20:58 - so now i'm catching all of these oops
21:01 - oh i misspelled correct
21:05 - so we're seeing train emojis while i'm
21:07 - catching the incorrect digits but if i
21:09 - could ever find a one
21:11 - there it is oh
21:13 - it's not called pie counter oh pie
21:17 - counter without the e of course
21:21 - let's catch these okay train emojis now
21:23 - let's look for a one
21:27 - okay good and i got a pie
21:29 - i need more pies
21:36 - okay
21:37 - we're getting somewhere there are a lot
21:39 - of directions i could take this but i
21:40 - would like to add a few more features
21:42 - before i go and just leave it to you to
21:44 - make the most amazing pie in the sky
21:46 - game that ever was created i'm going to
21:48 - first increase the level of difficulty
21:50 - by instead of drawing the digit drawing
21:52 - a certain number of slices of pie
21:57 - so the most slices there could be would
21:59 - be nine
22:02 - and i'm going to use the arc function to
22:05 - draw each slice
22:08 - let me start by just drawing one slice
22:11 - the arc function is just like the circle
22:14 - function the difference is instead of
22:17 - drawing a full circle i'm drawing a
22:19 - portion of the circle from a starting
22:21 - angle to an ending angle
22:24 - and because i'm using the arc function i
22:26 - don't think i can get away with just the
22:27 - radius like with circle i've got to
22:29 - consider the horizontal and vertical
22:31 - diameter of what would be a full ellipse
22:34 - so i made another variable called d to
22:36 - store the diameter
22:39 - now i can give the start angle and the
22:40 - end angle so let's try zero and pi
22:42 - divided by two
22:44 - let's make it a blueberry pie
22:47 - and you can see there each pie has a
22:49 - quarter of it blue it's like falling
22:51 - pacman so now if the pie were divided
22:53 - into nine slices
22:56 - a full pie is two pie
22:59 - divided by nine
23:02 - so that's one slice
23:06 - so if i wanted to draw all nine slices i
23:10 - would need to start from i times a
23:14 - and go to i plus one times a
23:18 - right i want to go from
23:19 - zero to the angle or the angle to two
23:22 - times the angle or two times the angle
23:24 - to three times the angle so that's a
23:26 - full blueberry pie
23:28 - let's add a stroke
23:31 - i forget the arc function can actually
23:33 - draw the outline of the slice itself
23:37 - and we can see that on the reference as
23:39 - i can draw it as open cord or
23:43 - pie of course i want a pie
23:46 - so these are my pies with nine slices
23:50 - can you see that
23:51 - then i can change this nine to
23:54 - this dot digit
23:56 - so now oh this is really easy to play
23:59 - i'm now filling in the correct number of
24:01 - slices based off of the digit
24:05 - let me change the look of the pie a
24:07 - little bit
24:08 - and maybe it'll be more like a
24:09 - strawberry pie
24:12 - i'm going to make the stroke weight
24:14 - a little thicker
24:16 - and i think these pies need to be bigger
24:20 - there we go
24:22 - oh my god it's totally gonna be
24:24 - impossible what have i done where's one
24:26 - slice i need one slice give me one slice
24:28 - there's one slice one
24:31 - is that four no that's three ah no wait
24:33 - ah that's four
24:35 - let's change this to no fill
24:38 - it bugs me that the pies always have the
24:40 - slices in the same position so i think
24:42 - i'm going to just add a little rotation
24:43 - random rotation to them
24:46 - now rotating a shape in theory you might
24:49 - think it's as simple as me saying call
24:51 - the rotate function with the angle
24:53 - but this is going to set everything out
24:55 - of whack oh my god craziness kind of
24:58 - interesting because everything is
24:59 - rotating around the point of origin of
25:01 - the canvas so i have a full set of
25:03 - tutorials around how transformations
25:05 - work but essentially i need to make sure
25:07 - i move the origin of each rotation to
25:10 - the center of the pi itself
25:13 - that's done with the translate function
25:16 - then the pi is drawn at 0 0
25:21 - so that each pi is self-contained with
25:23 - its own rotation i can add the functions
25:26 - push before i translate rotate and pop
25:29 - after i translate and rotate
25:33 - okay so we have falling pies each with a
25:37 - number of slices in them and we need to
25:39 - catch them in the order of the digits of
25:41 - pi let's make this game a bit more
25:43 - possible to play by actually displaying
25:47 - the correct digits that you're looking
25:48 - for
25:52 - we'll call this pie show
25:57 - in pi show i'll use the substring
25:59 - function just to get out an initial set
26:01 - of digits
26:06 - and then after i've
26:08 - caught a digit i should slide it over
26:15 - so every time i catch a digit the digits
26:18 - shift i wonder what this would look like
26:20 - if i didn't draw this circle at all
26:27 - oh yeah i like the falling
26:29 - it's like this much better that's more
26:32 - fun this is kind of ridiculous showing
26:34 - so many digits i'm sure those of you who
26:36 - are designers can think of a better way
26:37 - to display this but for me i'm just
26:39 - going to move them over and just show a
26:40 - few
26:43 - the live chat is making a very good
26:45 - point which is that you don't see the
26:47 - zero anymore so i've got to put the
26:49 - circle back in there
26:52 - but i could make the circle more subtle
26:55 - than have the slices have a thicker
26:58 - stroke weight
26:59 - this i kind of like
27:01 - you know i should just only display the
27:03 - one you're looking for and the next one
27:05 - so let's make this two digits
27:09 - and when i draw them this is a little
27:11 - silly but let me draw it twice
27:17 - with the second time i draw it just draw
27:19 - the first character so the first one is
27:21 - green and so i know what i'm looking for
27:23 - and what's coming up next so now i need
27:25 - to get a one
27:26 - that's a one ah and you get a four
27:30 - i've been at this for a while i need to
27:32 - wrap this up
27:33 - let's make the game very simple if you
27:36 - get the correct digit you keep going if
27:38 - you get the wrong digit the game is over
27:42 - a boolean variable game over is false
27:45 - instead of console logging a train if
27:47 - it's the wrong digit
27:50 - game over is true
27:52 - and i can say now at the beginning of
27:54 - draw if game over
27:57 - background
27:59 - red
28:01 - fill 255 text align
28:04 - center center
28:06 - text
28:07 - game over go and enjoy
28:11 - some
28:12 - pie
28:12 - and then
28:14 - return get out of draw don't do the rest
28:17 - of it
28:18 - so now as soon as i catch the wrong
28:19 - digit
28:20 - oh i need to say where the text should
28:22 - be
28:24 - game over
28:25 - and enjoy some bye breaking news
28:29 - i'm being told that silver would be a
28:30 - nice color for the plate let's try that
28:34 - there we go so now we see that there's a
28:36 - plate
28:37 - design aside i think we have a somewhat
28:40 - finished version of this game that i
28:42 - could actually play first let me give
28:44 - myself quite a bit of a wider space to
28:47 - play the game
28:49 - and
28:51 - here we go ready everyone i'm about to
28:53 - play pie in the sky
28:56 - [Music]
28:58 - okay i need a one
28:59 - i need one it's gonna be really sad if i
29:01 - don't even get past one oh there's a one
29:03 - okay one now i need a four
29:06 - i probably should lose if a four goes by
29:08 - and i don't catch it but you know who's
29:10 - the real loser here
29:12 - i think
29:14 - it's definitely me ah
29:16 - i only got one digit that was so sad
29:19 - there it is okay one okay i need a four
29:22 - four it's like hard to find the four
29:25 - there's a four four i need a one again
29:27 - three point one four one yes that's so
29:29 - confusing a one then a five
29:33 - one okay now i need a five is that a
29:36 - five ah no shoot
29:38 - hey come on i got to at least include in
29:40 - this video a version of it where i make
29:42 - it
29:43 - past the third digit i can even remember
29:46 - past the third digit one more time
29:50 - there's a one can i get it
29:51 - one no now i need a five i haven't been
29:54 - able to get past the four
29:56 - that's a three that's a five
29:58 - five now i need a nine okay
30:00 - there's a nine
30:01 - nine no i missed it
30:03 - i'll find a nine there's a nine oh i'm
30:04 - gonna get this one all right okay now i
30:06 - need a two
30:07 - there's a two there's two oh two six oh
30:10 - god six that's a six oh i missed it
30:13 - i just like have to it's so much work to
30:16 - avoid everything this is a six right six
30:18 - yes that's a five
30:20 - five what do i need now three need a
30:22 - three that's a three three i need a five
30:24 - again oh my god that's a five that's
30:26 - five no i missed it oh
30:28 - it's a five that's five five eight eight
30:30 - eight eight is that one ah nine near
30:32 - nine there's a nine no ah this here's
30:35 - one nine okay seven what's seven seven
30:37 - is missing two slices so that's a seven
30:40 - nine three i need a three three
30:44 - well once you get the hang of it oh no
30:46 - no no i'm in deep trouble here an eight
30:48 - and eight is one missing
30:51 - that's me i get it four that's a four
30:54 - six
30:56 - ah
30:57 - okay
30:59 - i did pretty well there can you beat my
31:01 - high score well that's all i've got for
31:03 - you today so happy pi day to you i hope
31:06 - you enjoyed this coding challenge i hope
31:07 - that you are inspired to make your own
31:09 - pie themed game whatever that might be i
31:12 - will make a version of this with coding
31:14 - trained character illustrations that you
31:15 - can play and you can base your code on
31:17 - please share it with me to celebrate the
31:19 - day
31:20 - there's a link in the video's
31:21 - description to the coding train website
31:23 - where you can submit your version of
31:25 - your own pie game
31:26 - have a wonderful pie day everybody
31:31 - [Music]

Cleaned transcript:

happy pi day coding train passengers welcome aboard i've heard you in the comments i've heard you say oh i miss those old simple coding challenges like the snake game and purple rain when will you do another one of those and i'm here to tell you that today pi day i want to make a game a game with the digits of pi it's gonna be a basic beginner friendly tutorial you can make your own version of it i hope you will make your own version and the world will be filled of beautiful delicious pies my favorite treat circumference divided by diameter day let me tell you a story oh it was many years ago in the 2000s when i was first writing up some tutorials about processing oh in html and uploading them through ftp to the internet when someone came to me and said why don't you put these tutorials into a book and i said no oh no oh no oh no i couldn't possibly no oh me no i couldn't okay if you insist that book was called learning processing and you could buy it today but i don't suggest you do because i don't know maybe it's a little too out of date but that book at the end of chapter i don't know six after all the fundamental basics of programming are covered variables conditionals loops functions object arrays and all those things were put together in a game known as the rain catcher game well i am here today to present to you the game pie in the sky the idea here is that's a plate and there are pies falling from the sky the player must move the plate to catch the pies aha but there's a catch the pies have a certain number of slices and you as the player must catch pies in the correct order you must catch a pie with three slices then one and four then one then five and nine and if you don't i don't know you lose points if you do you gain points this is the basic idea let's go make this game so here we are in my happy place when i like to spend pi day in the p5.js web editor and the first thing i need to add is the plate and the plate i'm just going to place it where the mouse is at the bottom of the canvas so i would like the plate to be centered on the mouse and there's my beautiful beautiful plate change the background to zero and we're starting the game next up i want to add the falling pies i think to do that i'm going to want to make a pie class and an array of pi objects so the idea of a class is a template for making an object a thing that's going to exist in the world of my program it has a constructor function that initializes a set of variables or properties that belong to that particular object so i could create a variable called pi once i've created the pi object maybe i want to draw it on the canvas i can go to the pi class and add a function that draws it then all i need to do is call show on the pi variable now i have both my plate and my pi next i would like the pi to fall from the sky to do that i'm going to increase its y value every time through draw adding another function to the pi class called update and increasing the value of y by one every time update is called and there falls the pi so clearly i need some mechanism by which i compare the pi's location to the plates location when it reaches the bottom of the window i'm kind of feeling like i want to make a plate object so the plate needs an x position which is variable a width which is how big is it and then its height and its y position are locked to the bottom of the canvas although that is something that potentially you could also experiment with now i can create my plate object oh oh no it's happened i can't believe it you know what i've forgotten right if the variable is a property of the object in the class we must refer to it with this dot there we go oh but i can't move the plate so now how do i know if the plate has caught the pie if the plate catches the pie console log yum this is one of the things i love about objectoriented programming and i should just take a minute here if you happen to actually be watching this video and you have no idea what's going on i'm trying to step through it slowly but ultimately what i'm making use of is the fundamentals of programming i've got variables i've now got a conditional i have objects soon i'm going to add an array then i'm going to need a loop i'm going to talk you through these things maybe you're a beginner and this is your first time coding if so hello and welcome but i also want to mention that what i'm doing here is synthesizing everything that i have in my intro to coding with p5.js playlist and if you want to go back and kind of learn all these pieces more slowly and step by step you could take a look at that playlist which i'll link to in the video's description but what this means here is that i need a new function inside of the plate class called catches to receive a pie and do something with it what does it need to do well if it's in a conditional statement if it's if the plate catches the pie it needs to return true or false i could just say right now return true so now look at this i'm catching pies i'm always catching pies the pies are falling i've got them all i'm eating them all it's too much pie help so it would make more sense for me to first test if the pie's location is down at the bottom of the canvas where the plate is i'm going to do this in the simplest way possible first i'm just going to say if pi dot y is greater than or equal to the plates which is this dot y then i'm going to return true otherwise i'm going to return false and now i just write the code this way because i love seeing the flood of comments on my youtube video about how i could have written this i mean yes it's one line it's kind of elegant but let me just have my piece all right that pie is falling really really slow i caught the pie let's try it again i caught the pie so clearly i also need to check if the pie is between the boundaries of the plate if the pie is at the bottom and pie dot x is greater than the left edge of the plate that's the plate's position minus half its width and its right edge which is its x position plus the width run it okay i'm gonna catch the pie oh what oh no i have caught the pie try it again i have not caught the pie what's next we have variables we have conditionals we have functions we have objects but we don't have arrays or loops instead of one pie let's make a variable called pies and set it equal to an empty array i could say the first element of the array index zero is a new pi and my code doesn't have to change other than just referencing the index 0 of the pi's array but what if i want to have more than one pi in the array pi's index one the second element of the array is another pi well but i only see one this is where a loop comes in now i can write a loop this is called a for loop where i have a counter i which goes from zero up until the length of the array counting through every single pi then instead of referencing index zero i can reference index i now i have two pies and i can test both of them all of the pies against the plate now this is a little bit silly what i've done by just individually assigning each pie into that list into that array what if i want to have 100 of them well i can actually use a loop as well in setup to put a whole bunch of pies in the array let's put 314 pies in there and in fact even though i can do this by referencing the index i i can use a function called push to just push pi's into that array without having to worry about the index this allows me to also use a slightly fancier loop called a four of loop now instead of counting through the pies i'm saying for every pie i want to say the word in it's a long story why i can't say the word in even though i could say the word in but that's something else in javascript for every pie of the array pies show it update it check if the plate catches it and if so console log yum but i still only see one pie all the pies are being created at the same exact location so let me give a random location anywhere in the width of the canvas and actually let me set it up so that it starts above the canvas itself so it's raining pies so anywhere between negative 100 and negative 20 those are pixels off the canvas oh look at all the delicious pie let's go back to 31 pies and actually i have a different idea why don't i just add a new pie every frame so i'm actually going to start with zero pies but just in draw i'm gonna push one random new pie every time through draw it's raining pies now we have a problem i'm adding pies i'm trying to catch them but i haven't eaten any my animation is starting to slow down so maybe every time a pie gets to the bottom i should get rid of it so i want to say something like if pi dot y is greater than the height of the canvas eat the pie to remove an element from the array there's a javascript array function called splice but splice requires me to reference which element the index to the element so i need a kind of loop where i'm counting the index values so i'm back to referencing index i if the pi at that index is greater than height eat the pie or remove index i and only that element now i believe that the elements of the array are being removed as they get to the bottom i can't be sure what if i use a console log and look at the length of the pie's array lots of pie lots of pie lots of pie lots of pie oh yeah stabilizing we are not getting more than 100 pies i have done something in a way that's slightly problematic however and i've covered this extensively in my videos around objects and arrays and removing objects from arrays but in this case if i'm going to be taking elements out of the array it's important that i go through the array backwards from the end to the start due to the way the array recalibrates itself when things come out of it now i'm realizing something here when the plate catches the pie i also want to take it out of the array it's done it's not eaten it's caught so i'm eating some pies catching others it's confusing what's going on here but regardless any pies that make it to the bottom whether they're caught or go past the plate they need to be removed from the array so i'm going to take the if statement from the loop up top and bring it down here to this one you're probably thinking oh what about consolidating these two boolean tests this if the plate catches the pie or if the plate goes off the bottom and yes i could do that but right now i think i want to do something different in each case whereas this is just saying goodbye to a pie and here i need to remember the whole goal of the game is to catch the digits check what digit was caught and deal with score but let's also clean up a couple things one thing you might notice is as the pies get to the bottom they kind of disappear before they're really gone so i think in this case it would make sense for me to say if pi's index i dot y is greater than height plus and let me look at the pi object oh i have hard coded 32 so i have this i'm going to use d for diameter or let me say actually r for radius and make it 16 and this is going to be this dot r i remembered that this dot times two and then in the sketch i can see if the pi's y position is below the height plus the pi's r and now it just looks a little bit more elegant as we don't see the pi's disappear until they're off the bottom but what about the pies that are caught how about if pi dot y plus pi dot r now you can see how those pies disappear right at the plate whereas the other ones move past below the canvas itself i don't need this console log anymore and also it's a lot of pie so let me reduce the number of pies by adding some randomness i'm only going to add pies randomly maybe one out of every 10 times through draw so now by picking a random number between 0 and 1 and only if it's less than 0.1 that will be 10 of the time do i add a new pi to the game eventually i want these falling pies to represent the digits of pie and the player has to catch the right digits so i want to design them with slices and all that but for now let's just put a number in the center of each pie so every time i make a pie it'll pick a random digit between 0 and 9 and i can use the text function to draw the digit right there over the circle itself i don't see the number oh my goodness order of operations is an important thing i'm drawing the circle after i'm drawing the text so i drew the text but then i covered up with the circle drew the text but then i covered up with the circle let's fix that there we go now they're all the number one now we have digits falling from the sky up what happened to my plate i wasn't very thoughtful about making sure i set the color of everything i'm drawing so now i have my plate back it's still too many digits because it's going to be very hard to like catch one and then move out of the way let's make the plate a little bit smaller a little less frequent with the digits i guess a little bit more also i would like these digits to feel like they're falling more right now they're moving at a constant speed down so if i add an acceleration so that that speed changes over time that's as if gravity is pulling them down and they're accelerating as they're falling so if i were to start with a y speed of zero if y speed increases over time well it probably should increase a little bit faster now they feel much more like they're falling now i have an idea i think what i want to be able to do is display the string of digits that i'm catching below the canvas even though i'm using dark mode for the web editor i can change the background color of the canvas area to be white by altering the css then i can add a paragraph element to go below the canvas so you can see it there as the word hello let's make that a little bit bigger i'm going to call this digits div start it as empty and then have a variable called digits be a string itself every time i catch a pie i want to add its digit to that string but i also need to make sure the div is updated with the current value of that digits variable here we go i'm gonna catch one oh oh well that's a problem i better do that before i delete the pie from the array okay here we go no html digits oh it's not digits p it's digit div six six eight nine four nine that's not pi so first of all let's start it with three dot so we will make the the idea of the game is i need to find a one first and i need to avoid everything that's not a one there it is there it is there one oh no wait what just happened oh i can't put that there needs to go here after all that okay here we go three point there it is there it is one and i need a four give me a four no this is hard there we go one four one all right so there's some playability issues here i mean one thing would be to make a bigger space and then have more digits falling is there really no is it never going to pick a 5. i'm not going anywhere until a 5 shows up oh there we go yes okay pie in the sky i'm trying to think of what to do next certainly i want to test whether it's the correct digit or not so thank you to eve anderson i'm going to download this file with 1 million digits of pi upload this file and in the preload function i'm going to load all of the data from that text file into a variable called pi now what the load strings function does is it takes that text file and brings it into an array so each chunk of digits that is on a separate line is a separate element of the array so very quick thing that i can do is just set pi equal to itself with the join function and now i have in this variable pi one million digits of pi now i want to create a variable called pi counter and the correct digit is the one at the pi counter index in the one million digits i'm going to put the actual digit that i'm getting from that pi in a separate variable this way i can say if the correct digit is equal to that digit then console log of pi otherwise if it's wrong a train and also if it is correct move on to the next digit and maybe only add it to the string on the bottom if it was correct so now i'm catching all of these oops oh i misspelled correct so we're seeing train emojis while i'm catching the incorrect digits but if i could ever find a one there it is oh it's not called pie counter oh pie counter without the e of course let's catch these okay train emojis now let's look for a one okay good and i got a pie i need more pies okay we're getting somewhere there are a lot of directions i could take this but i would like to add a few more features before i go and just leave it to you to make the most amazing pie in the sky game that ever was created i'm going to first increase the level of difficulty by instead of drawing the digit drawing a certain number of slices of pie so the most slices there could be would be nine and i'm going to use the arc function to draw each slice let me start by just drawing one slice the arc function is just like the circle function the difference is instead of drawing a full circle i'm drawing a portion of the circle from a starting angle to an ending angle and because i'm using the arc function i don't think i can get away with just the radius like with circle i've got to consider the horizontal and vertical diameter of what would be a full ellipse so i made another variable called d to store the diameter now i can give the start angle and the end angle so let's try zero and pi divided by two let's make it a blueberry pie and you can see there each pie has a quarter of it blue it's like falling pacman so now if the pie were divided into nine slices a full pie is two pie divided by nine so that's one slice so if i wanted to draw all nine slices i would need to start from i times a and go to i plus one times a right i want to go from zero to the angle or the angle to two times the angle or two times the angle to three times the angle so that's a full blueberry pie let's add a stroke i forget the arc function can actually draw the outline of the slice itself and we can see that on the reference as i can draw it as open cord or pie of course i want a pie so these are my pies with nine slices can you see that then i can change this nine to this dot digit so now oh this is really easy to play i'm now filling in the correct number of slices based off of the digit let me change the look of the pie a little bit and maybe it'll be more like a strawberry pie i'm going to make the stroke weight a little thicker and i think these pies need to be bigger there we go oh my god it's totally gonna be impossible what have i done where's one slice i need one slice give me one slice there's one slice one is that four no that's three ah no wait ah that's four let's change this to no fill it bugs me that the pies always have the slices in the same position so i think i'm going to just add a little rotation random rotation to them now rotating a shape in theory you might think it's as simple as me saying call the rotate function with the angle but this is going to set everything out of whack oh my god craziness kind of interesting because everything is rotating around the point of origin of the canvas so i have a full set of tutorials around how transformations work but essentially i need to make sure i move the origin of each rotation to the center of the pi itself that's done with the translate function then the pi is drawn at 0 0 so that each pi is selfcontained with its own rotation i can add the functions push before i translate rotate and pop after i translate and rotate okay so we have falling pies each with a number of slices in them and we need to catch them in the order of the digits of pi let's make this game a bit more possible to play by actually displaying the correct digits that you're looking for we'll call this pie show in pi show i'll use the substring function just to get out an initial set of digits and then after i've caught a digit i should slide it over so every time i catch a digit the digits shift i wonder what this would look like if i didn't draw this circle at all oh yeah i like the falling it's like this much better that's more fun this is kind of ridiculous showing so many digits i'm sure those of you who are designers can think of a better way to display this but for me i'm just going to move them over and just show a few the live chat is making a very good point which is that you don't see the zero anymore so i've got to put the circle back in there but i could make the circle more subtle than have the slices have a thicker stroke weight this i kind of like you know i should just only display the one you're looking for and the next one so let's make this two digits and when i draw them this is a little silly but let me draw it twice with the second time i draw it just draw the first character so the first one is green and so i know what i'm looking for and what's coming up next so now i need to get a one that's a one ah and you get a four i've been at this for a while i need to wrap this up let's make the game very simple if you get the correct digit you keep going if you get the wrong digit the game is over a boolean variable game over is false instead of console logging a train if it's the wrong digit game over is true and i can say now at the beginning of draw if game over background red fill 255 text align center center text game over go and enjoy some pie and then return get out of draw don't do the rest of it so now as soon as i catch the wrong digit oh i need to say where the text should be game over and enjoy some bye breaking news i'm being told that silver would be a nice color for the plate let's try that there we go so now we see that there's a plate design aside i think we have a somewhat finished version of this game that i could actually play first let me give myself quite a bit of a wider space to play the game and here we go ready everyone i'm about to play pie in the sky okay i need a one i need one it's gonna be really sad if i don't even get past one oh there's a one okay one now i need a four i probably should lose if a four goes by and i don't catch it but you know who's the real loser here i think it's definitely me ah i only got one digit that was so sad there it is okay one okay i need a four four it's like hard to find the four there's a four four i need a one again three point one four one yes that's so confusing a one then a five one okay now i need a five is that a five ah no shoot hey come on i got to at least include in this video a version of it where i make it past the third digit i can even remember past the third digit one more time there's a one can i get it one no now i need a five i haven't been able to get past the four that's a three that's a five five now i need a nine okay there's a nine nine no i missed it i'll find a nine there's a nine oh i'm gonna get this one all right okay now i need a two there's a two there's two oh two six oh god six that's a six oh i missed it i just like have to it's so much work to avoid everything this is a six right six yes that's a five five what do i need now three need a three that's a three three i need a five again oh my god that's a five that's five no i missed it oh it's a five that's five five eight eight eight eight is that one ah nine near nine there's a nine no ah this here's one nine okay seven what's seven seven is missing two slices so that's a seven nine three i need a three three well once you get the hang of it oh no no no i'm in deep trouble here an eight and eight is one missing that's me i get it four that's a four six ah okay i did pretty well there can you beat my high score well that's all i've got for you today so happy pi day to you i hope you enjoyed this coding challenge i hope that you are inspired to make your own pie themed game whatever that might be i will make a version of this with coding trained character illustrations that you can play and you can base your code on please share it with me to celebrate the day there's a link in the video's description to the coding train website where you can submit your version of your own pie game have a wonderful pie day everybody
