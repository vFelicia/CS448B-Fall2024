With timestamps:

00:00 - [Music]
00:06 - good evening it's very late I'm very
00:09 - sleepy I know that I have some viewers
00:12 - from all around the world and I wonder
00:15 - maybe I have some new viewers places
00:18 - like Australia might be like the middle
00:23 - of the day now I've got this music
00:26 - playing hello I'm back this is a
00:29 - surprise extra live stream I did not use
00:34 - my train whistle even once this morning
00:39 - because I feel like I was overusing it
00:42 - but I need it I need to wake up that did
00:46 - not help I'm back so I don't know if
00:49 - anybody tuned in this morning I had kind
00:51 - of a bit of a disaster in a good way
00:54 - as I mentioned fit successes failure
01:00 - going going from one failure to another
01:01 - with great enthusiasm as maybe Winston
01:04 - Churchill said probably way more
01:05 - eloquently and I couldn't even remember
01:07 - who's is not good I'm very tired and all
01:09 - I have is water Kotick train brought to
01:12 - you by h2o it's hydrogen it's oxygen its
01:16 - water my it's great that I make so much
01:20 - money from this water sponsorship that I
01:22 - got just terrific ok now so I'm here to
01:26 - try to I have no idea what Opie and nerf
01:31 - means in the chat there
01:33 - Melvyn 2001 that's supposed to be some
01:37 - lingo that I'm not familiar with hello
01:39 - to everybody in the chat we are going to
01:41 - code coffee would be good you know I
01:42 - can't first of all I really should never
01:44 - be allowed to drink coffee ever as as
01:48 - many of you were probably quite aware I
01:50 - do drink coffee from time to time
01:51 - usually I try to have some light herbal
01:54 - tea while enjoying my live streams now
01:57 - today I had some this morning you know
02:00 - I'm I could go downstairs to the fourth
02:02 - floor I'm on the ninth floor this
02:03 - building oh I got this all I got left
02:05 - this has got to keep me hydrated for
02:08 - this Kotick challenge
02:10 - with a green wall fluorescent lights
02:13 - it's 75 degrees I cannot figure out how
02:15 - to get that thermostat to work however
02:16 - it will not earlier some of you might
02:18 - have seen earlier today somebody came in
02:20 - knocked on the door and said I was
02:20 - making way too much noise the fact that
02:23 - this building is pretty empty right now
02:24 - I feel somewhat confident that that
02:25 - won't happen but it still could happen
02:27 - all on point over whatever okay so what
02:33 - am I here to do I am here to do one
02:35 - coding challenge and one coding
02:38 - challenge only I probably spent a good
02:40 - hour and a half on this this morning and
02:42 - I actually had everything correct but
02:45 - there I was trying to sort out some web
02:48 - Mercator stuff with this API called map
02:50 - box and it just was not working and I
02:54 - had some very helpful messages from
02:56 - people on the Internet
02:58 - I should I should figure out how to
03:03 - thank them oh I got a alright let's see
03:06 - here I'm gonna have to just log into my
03:07 - Twitter account I think because I'm not
03:09 - prepared for this actually you know what
03:10 - I'm gonna I'm gonna come over here I
03:12 - mean I have them I'm logged in on this
03:14 - other computer and I'm gonna go to my
03:15 - notifications notifications you could
03:18 - tweet me I'm gonna get it right here
03:21 - it's 2017 I'm I'm with it I know what
03:29 - I'm doing on the Internet I'm a like
03:31 - youtuber this is me 43 on a Friday
03:37 - evening broadcasting web Mercator math
03:40 - projections my family is very very kind
03:43 - to not complain that I was like I
03:44 - couldn't it didn't work I'm not I'm
03:46 - gonna be home after dinner but I'm
03:50 - making home by kids bedtime but I've got
03:52 - to make this a web Mercator thing
03:54 - happens so thank you to my wonderful
03:57 - family for um not disowning me for being
04:00 - here but and thank you for you watching
04:02 - when it Freddie what are you doing here
04:04 - that's what I want to know really I mean
04:07 - okay anyway um so let's see here what
04:11 - was I looking for alright I was gonna
04:12 - thank some people so let me go to
04:14 - mentions mentions apparently is when
04:16 - somebody mentions me on the social media
04:18 - it's very exciting it makes it gives me
04:20 - like a little chemical reaction goes off
04:22 - in my brain
04:24 - okay Jasper Abril zat Jasper breo's on
04:26 - twitter twitter Jasper brillz
04:33 - sent me many helpful messages you can
04:38 - see you can see them all here and we had
04:41 - a little bit of an exchange which ended
04:43 - with me saying I came to a similar
04:46 - conclusion as your comment I decided I'm
04:48 - just going to redo this rhetorical and
04:49 - live at the size of 1024 so I'm getting
04:53 - way off topic here because I really
04:55 - should just start the tutorial but map
04:56 - box depending on the resolution of the
04:58 - map that you request and the way that
05:01 - the Italian algorithm works it seems
05:03 - that certain things can go a little
05:05 - wonky past past with certain resolutions
05:09 - and aspect ratios so Thank You Jasper
05:12 - Brielle's
05:12 - where who else do I need to thank ah
05:16 - I have no idea how to say this I had a
05:19 - lot of really helpful messages from
05:22 - let's see if I can twitter.com slash and
05:29 - you might progressives the screen so
05:32 - small over here here we go hy o ji x IP
05:41 - itu g yo g i didn't get it right
05:45 - hyo JJ no i JJ JJ there we go thank you
05:53 - now I'm gonna go to tweets and replies
05:55 - we can see here a lot of very helpful
05:58 - links this one in particular and also
06:04 - being puzzled uh-huh first of all GOG
06:08 - writes don't be mad : ' parenthesis
06:13 - parenthesis what kind of expression is
06:15 - that oh and the camera went off I've got
06:18 - to press that button I'm like Jack in or
06:20 - John Locke every 30 minutes I gotta type
06:24 - in the code to get that camera going
06:25 - okay please don't be mad it's like a
06:30 - winky that's the emoji but at first I
06:35 - would never be mad
06:36 - anybody who's tweeting me about code and
06:38 - ideas and removing something do it well
06:41 - I did I cheated I did it the wrong way I
06:43 - faked it I didn't use the right
06:44 - algorithm it's all fun and games and
06:48 - enjoyable and nice and lovely we're
06:50 - sharing and caring and enjoying
06:51 - ourselves and typing code so that's I
06:54 - just II moved what does he move me and I
06:56 - think that prime means removed remove
06:58 - the zoom so you can read through this
06:59 - thread there's a lot of healthy
07:01 - information the documentation is handled
07:04 - differently in the zoom is handled
07:06 - differently so object so I never really
07:08 - got pinpointing an exact solution to the
07:13 - correct way to use map box for web
07:17 - Mercator projection if you're drawing on
07:19 - top of it
07:21 - in all cases of resolutions and shapes
07:24 - and sizes but you know what I realized
07:25 - the point of the tutorial that I was
07:27 - attempting to make was really not I mean
07:29 - map box there's a great wonderful
07:30 - JavaScript framework so I encourage you
07:32 - to use it and explore it well the point
07:33 - of what I was trying to show you is hey
07:34 - you can make projects that involve a map
07:36 - that involved data that involve your own
07:39 - creativity drawing a design and here's
07:41 - one way of putting those things together
07:42 - so I'm gonna do the challenge again and
07:43 - I'm going to just sort of limit myself
07:45 - to a simpler set of resolutions so that
07:49 - the the visualization comes out
07:51 - correctly and I will then act towards
07:52 - the end reference other kinds of
07:55 - projections or approaches that you might
07:56 - consider and things that you might look
07:58 - into in terms of map so that's my plan
08:00 - I'm gonna look at the yes so I will in
08:05 - the discus is our this live stream will
08:07 - be archived and yes I will link to I
08:14 - will link to those Twitter accounts in
08:16 - the channel but now somebody the chat is
08:18 - saying go to Luca go to Luca I will go
08:21 - see you later I am off to Luca I'm back
08:28 - from Luca I think Luca is something on
08:30 - Twitter really note of water I'm gonna
08:36 - get very dehydrated you know how
08:38 - hydrated mmm okay we're doing well we're
08:44 - fine we're fine
08:45 - okay who's Luca do I have so maybe I
08:47 - have more notifications I'm gonna look
08:49 - over here I
08:50 - I gotta get off my Twitter it's not it's
08:52 - no it's no fun to watch someone
08:53 - livestream shout out please look at this
08:55 - this is great I will definitely give you
08:57 - a shout out on Twitter Lucca mentioned
09:00 - me Schiffman Lucca and Harpreet dura
09:03 - roar watching I should just go to my own
09:05 - mentions I don't know how to do this
09:08 - I should log into my you if you want to
09:10 - shout out tweet the coding train because
09:12 - that's the account that I'm logged into
09:13 - here I got some already notification so
09:15 - Luca and well there's some nice French
09:19 - going on I'm gonna try to read this and
09:21 - translate it okay this is gonna be fun
09:24 - Saku major I say collegiate a boob
09:27 -  weed ball nuit I think this
09:29 - means it's cool but I have corrected the
09:32 - bugs enough bugs for today goodnight did
09:35 - I get that right this is Mike
09:36 - there's only other language that I speak
09:37 - besides English unfortunately Paul
09:40 - Sookie song called de boo boo Dajjal de
09:43 - boo laughter boo
09:44 - look the coding tram lap Hassan leaved
09:47 - on Kalka and stone I assume QQ means
09:50 - Kalka maybe I can't I can't I can't
09:53 - translate this one oh I'm gonna have to
09:55 - use the translate for French again
09:59 - streaming already stream briefly
10:02 - streamed I don't know I don't know okay
10:05 - anyway back yes there we go so now I'm
10:08 - sure we'd have a lot of people tweeting
10:09 - me their shoutouts here
10:11 - Thank You Leo and Lou why I'm waiting
10:16 - for Luca and harp eat or Preet
10:19 - anyway okay I gotta do the coding
10:21 - challenge I gotta what time is it
10:23 - 742 no Portuguese sorry I should learn I
10:26 - would love to learn more languages a
10:28 - little bit of Greek I can do a little
10:29 - bit of Greek tiniest tiniest bit
10:32 - Yasu everybody from Greece nobody's
10:35 - watching this from Greece right now it's
10:36 - the middle of the night but if you RF
10:38 - got east oh I appreciate it very much
10:40 - - Kanye is I say that right trying to
10:43 - say how are you anyway okay okay I'm
10:47 - gonna move off of this and I am now
10:50 - going to so getting both sets getting
10:55 - very warm in here
10:57 - about the leaf Mathias is watching from
11:00 - Greece that's amazing
11:01 - okay or at least fussy Lisa's someone
11:04 - from Greece watching okay so I got to
11:07 - get myself going here I'm gonna put on a
11:09 - little music this is the kitten song by
11:12 - lost oh wait oh oh but kitten song yes
11:25 - kids thank you very much rainbows and
11:28 - cupcakes
11:29 - notice that look what I get
11:31 - [Music]
11:45 - [Music]
11:58 - [Music]
12:08 - is the music very loud by the way
12:13 - [Music]
12:21 - like open by after that I'm doing the
12:25 - ridiculous
12:29 - [Music]
12:35 - see what is why my letter have caught
12:36 - but you know what's good about this I
12:38 - have this like Fitbit thing did you poop
12:40 - like dancing stuff I'm gonna get to
12:41 - 10,000 steps no problem today
12:43 - [Music]
12:57 - somebody tell me if this is a song or
12:59 - not
12:59 - delete delete I'm so in love with you
13:02 - delete delete I'm so in love with you
13:06 - delete delete cuz I say that in my head
13:07 - when I delete stuff but I don't know if
13:09 - it's something that came from my own
13:10 - head or if it's something that came from
13:11 - somewhere else
13:12 - does anybody know I have no idea I
13:15 - assume there will be infinite remixes of
13:17 - that song on the internet soon I'm not
13:19 - that popular
13:20 - unfortunately okay
13:24 - so let's see here I am going to put in
13:27 - function setup and I'm gonna put in
13:29 - function draw I am going to get some
13:33 - webpages open code is there I'm looking
13:35 - I got to move this up a little bit
13:37 - hopefully the oh I'm not I lost the
13:40 - slack chat here I wasn't onto Twitter oh
13:42 - my god way to so live chat is off topic
13:46 - music is a bit loud okay you know what I
13:48 - turned it down my monitors it's very
13:51 - quiet for me and apparently it's very
13:53 - loud okay alright Hillary made the
14:00 - delete song who made the oh never mind
14:02 - Oh Denise Denise oh that's a song Denise
14:05 - Denise I'm so in love with you and I
14:08 - just changed it in my head to delete
14:10 - delete ah okay I don't want to play it
14:13 - right now because I'm afraid less talk
14:15 - more code you come to the wrong place my
14:17 - friend I'm very sorry I don't want to I
14:21 - don't want to play it because I don't
14:22 - know weird that copyright or whatever so
14:24 - okay um here we go
14:26 - let's talk more code not really
14:29 - something I'm very good at to be
14:31 - perfectly honest with you
14:33 - oops let's see ctrl ctrl C and then
14:40 - close new terminal window CD desktop
14:44 - earthquake biz part 2
14:49 - and server there we go and code and I
14:59 - don't I'm gonna I'm gonna do I dare I'm
15:02 - gonna be bold and take this out of here
15:04 - because I don't think I need it and this
15:08 - is good what do I have here yep okay and
15:12 - now I'm gonna go hit refresh whoops
15:15 - open up the console hit refresh
15:18 - I see nothing that's a good sign I've
15:20 - got a good font size here and so map
15:24 - projection spreadsheet format web
15:26 - Mercator map box API documentation okay
15:30 - so one thing I need to get is to the
15:33 - right place how did I do this before
15:37 - what I want to do is get to static map
15:43 - documentation okay this is where I want
15:45 - to be and then I'm gonna need to copy
15:50 - this and I need my access token also
15:55 - access token I'll be ready to do this
16:00 - challenge in one second create a new
16:03 - access token access tokens page create
16:09 - now I want to refresh this yes okay
16:15 - what's my password
16:17 - what's the chip that I remember what
16:19 - random pastor I typed in earlier today
16:21 - all right okay great we got a new token
16:23 - okay here we go
16:28 - so we are ready to do the coding
16:30 - challenge so I am going to welcome it's
16:32 - Friday evening and you are watching a
16:34 - person on the internet make a data
16:37 - visualization good luck to you I have a
16:40 - person on the Internet
16:41 - so I'm going to do a coding challenge
16:43 - where I take data from the usgs which
16:48 - stands for United States geographical
16:50 - service was it stands for by science is
16:55 - a wonderful thing isn't it
16:56 - US Geological Survey boy I got that
16:58 - Thole wrong and they provide a lot of
17:02 - data feeds about
17:03 - a lot of things but in particular
17:04 - earthquake data and I'm doing this to
17:07 - just show a sample project that you get
17:09 - a data feed with latitude and longitude
17:11 - width of an earth which is a sphere of
17:13 - an Earth of the Earth which is a sphere
17:15 - mapping that to two dimensions drawing
17:17 - your own stuff and also putting a world
17:19 - map behind it if you're so interested
17:20 - and I'm gonna I probably should just pre
17:23 - look at our image of a world map
17:24 - preloaded and not go through the
17:26 - rigmarole of map box but I'm determined
17:27 - so it's gonna happen okay I'm out of
17:36 - water I can probably go refill it I
17:41 - probably should I'm going to okay all
17:45 - right
17:45 - I am totally ek 89 asks is he redoing I
17:49 - am totally redoing it I am starting over
17:52 - from nothing okay here we go
18:00 - the earth is false
18:04 - says the architects 21 okay here we go
18:08 - let me press the button on the camera
18:09 - and so what I'm gonna do is I'm gonna do
18:12 - an introduction afterwards so I sort of
18:18 - explain the tutorial and so the first
18:22 - thing you know what I almost want to do
18:23 - is now let me do the map first okay I
18:26 - don't know what to put this on to start
18:29 - with but let's put this on here okay
18:32 - okay here we go all right I'm doing this
18:41 - coding challenge now so what I'm gonna
18:43 - do in this coding challenge is I'm going
18:45 - to grab a map of the world a
18:46 - figuratively grab I guess is
18:48 - figuratively that's underway let me
18:51 - start over
18:54 - hello welcome to this coding challenge
18:57 - I'm doing it I'm doing this coding
18:58 - challenge that sounded very forced it's
19:00 - fake oh boy I had to limit my son
19:02 - limiting myself to the amount of times I
19:04 - can stop or redo I'm already hung - here
19:08 - we go
19:10 - hello welcome I'm doing this coding
19:13 - challenge I have to tell you something I
19:15 - did it before earlier didn't work out
19:16 - well but I think this is gonna go I'm
19:18 - starting fresh and I'm feeling confident
19:20 - and excited about it here we go so what
19:22 - am I gonna do in this coding challenge
19:23 - I'm gonna look at a lot of things number
19:24 - one is I'm gonna look at how you can get
19:26 - an image of a world map or are zoomed in
19:29 - map or zoomed out map of this world the
19:31 - planet Earth that we live in on
19:33 - something like that and display that in
19:35 - a Java Script canvas so look at that I'm
19:38 - gonna look at how you can read latitude
19:40 - and longitude values and translate those
19:42 - latitude longitude values to XY
19:44 - locations in that canvas and I'm and as
19:47 - a way of doing this I'm going to I just
19:52 - realize I'm like totally doing the
19:53 - introduction then I plan to do
19:54 - afterwards
19:55 - so I scratch off that use leaflet maybe
19:59 - that's what I should be doing ah great
20:01 - suggestion okay okay Luca I'm such a
20:07 - mess sucker I'm a sucker Luca I got to
20:09 - go to my mentions I hope this is I'm not
20:13 - gonna regret this I don't see I don't
20:17 - see a Luca there we go Luca there's Luca
20:20 - thank you there's your little shadow
20:22 - okay okay now here we go
20:25 - I'm sorry I was doing the introduction
20:26 - and I really just want to get into the
20:28 - coding challenge and I'm gonna mention
20:29 - all the pieces when I record the
20:30 - introduction later all right so let's
20:35 - start with this okay I'm starting this
20:39 - coding challenge now here we go so the
20:43 - first thing I'm gonna do there's a lot
20:44 - of pieces to this but the first thing I
20:45 - want to do is just see the map of the
20:47 - world on the screen on the canvas I
20:49 - wanna draw it and you know there's a lot
20:51 - of different ways you could do this you
20:53 - could find some JPEG to draw your own
20:56 - map you could scan them HAP so the
20:58 - question you have to answer for yourself
21:00 - by the way though one thing you have to
21:02 - remember is right the earth is a sphere
21:03 - so and I'm gonna do this visualization
21:06 - in a 2d space a flat two-dimensional
21:08 - space so when you take the information
21:11 - that's wrapped around the sphere and
21:13 - peel it off into a two dimensional space
21:16 - you have to you apply some math and what
21:19 - that is typically referred to as a
21:20 - projection so map projections this is
21:23 - the Wikipedia page there are a lot of
21:24 - different map projections that have been
21:26 - used historically throughout the ages
21:28 - this is a
21:30 - people depiction of the I've no idea no
21:32 - see that's a cue many from 1482 there's
21:34 - one of a projection down here that looks
21:36 - a lot like what you would get I'm trying
21:38 - to find it here if you were to this is
21:41 - like a cylindrical projection that's
21:42 - kind of nice there's what I'm thinking
21:44 - of that looks kind of like if you were
21:46 - to unpeel an orange I can't find it
21:49 - hold on timeout
21:53 - we're gonna edit sorry Jonathan quorum
21:56 - who is works for the New York Times I
21:59 - feel like he once tweeted out something
22:02 - boy this is really gonna let's see
22:06 - designer Jonathan coram did something
22:11 - really great about map projections I'm
22:12 - never gonna be able to find it but you
22:13 - should look at all this wonderful
22:14 - material here on the Internet okay
22:18 - I never mind I'm just gonna use the
22:19 - Wikipedia page this is where I'm
22:20 - thinking next time I got to I got to
22:25 - [Music]
22:26 - this is what I'm looking for
22:28 - yeah this is what I was looking for so
22:30 - hold on I'm gonna I'm gonna come back to
22:32 - this okay okay there are a lot of
22:41 - different map projections this is one
22:44 - from 1482 this is not something related
22:47 - just to coding and computer graphics the
22:50 - idea of how do you represents fear
22:51 - achill information spherical imagery on
22:53 - a two-dimensional service a surface
22:55 - there there are lots of route history
22:57 - I'm gonna scroll all the way down here
22:59 - there's one that's kind of I think a
23:00 - nice kit find it now illustration of
23:04 - what I'm talking about you could imagine
23:05 - if you had an orange and you peeled the
23:07 - orange and you flattened out the peel
23:09 - what would it look like it might look
23:10 - like this one over here Mercator
23:13 - Mercator projection is one of the kind
23:15 - of standard ones and you know this I
23:20 - this looks kind of like a little bit oh
23:22 - this is like the Mercator projection now
23:23 - you can see though that what happens is
23:26 - things that are close to the top or
23:28 - close to the bottom when you sort of
23:29 - stretch out the poles of the earth
23:31 - become really really large so Greenland
23:34 - over here is incredibly massive as
23:36 - compared to say Africa which is kind of
23:38 - close to the which is there right with
23:39 - the equator which is not at all accurate
23:41 - so I think there are a lot of comp
23:43 - questions about the sort of you know
23:45 - Western view essentially of a lot of
23:48 - these map projections and I think that's
23:51 - a really interesting topic today I'm
23:53 - getting way off track here but it's
23:55 - important to mention and really think
23:56 - about how you're presenting information
23:59 - and what you're highlighting and what's
24:00 - you know what's up versus down what's
24:02 - center versus and so there's a lot of
24:03 - design considerations there that I think
24:04 - are very important to mention but what
24:06 - I'm gonna use is something of a standard
24:08 - these days called web Mercator and web
24:11 - Mercator is used from what I understand
24:14 - by most of the online mapping tutorials
24:17 - are fine like Google Maps Open Street
24:19 - Map MapQuest does that even exist
24:21 - probably does don't obey all of you who
24:24 - love MapQuest out there I apologize I'm
24:25 - sorry it's a wonderful I'm gonna
24:27 - MapQuest that do you say that does
24:29 - anybody said anyway so this is going on
24:32 - way too long okay so what I got to do
24:35 - what I'm gonna do is I'm gonna grab a
24:37 - map image from map box and then I need
24:41 - to understand what projection it's using
24:43 - so that I can apply the math to convert
24:45 - my latitude longitude to an XY location
24:47 - in that pixel canvas okay so the map map
24:51 - box you could you can find out
24:52 - information at matte box comm you'll
24:54 - have to sign up for an account and get
24:56 - an API key and all that sort of stuff
24:58 - I'll include links in this video's
24:59 - description to where you can do that and
25:00 - I'm gonna use something called a static
25:02 - map so mat box has a lot of features
25:05 - that you can embed a map that's zoomable
25:06 - and you could put those little pins in
25:08 - it and do all sorts of stuff with it I
25:09 - just want to use it to get an image so
25:11 - the way that I can get an image for
25:13 - example is through a call an HTTP
25:17 - request to a particular URL so I'm gonna
25:19 - grab this URL and what I'm gonna do is
25:23 - I'm gonna go to my code and I'm gonna
25:26 - say I'm going to add a function preload
25:28 - and I'm going to say I'm gonna have a
25:32 - variable called map image and I'm gonna
25:35 - say map image equals load image and
25:39 - notice here that there's this piece of
25:41 - the code that says your access token so
25:43 - this won't work right now if I were to
25:44 - run it I need to get my API token which
25:47 - I'm gonna do right over here I already
25:49 - am on the page and it's right here I'm
25:51 - going to click copy so if you just go to
25:54 - this particular URL that's where you can
25:56 - your own access token if you can
25:59 - painstakingly copy behind if you want
26:01 - I'll probably regenerate it later and
26:03 - then it won't work but okay so I put
26:05 - that in and then what I want to do is
26:07 - I'm going to say create canvas now
26:11 - you'll notice there are a bunch of
26:11 - arguments in here this is in this path
26:15 - this is the latitude longitude of the
26:16 - centre that's the zoom level and then
26:19 - somewhere in here at 600 by 600 that's
26:21 - the pixel resolution that I'm getting so
26:24 - I'm going to now go and say create
26:26 - canvas 600 600 and then I'm just going
26:31 - to say image map image at 0 0 so if all
26:35 - goes according to plan when I go and run
26:37 - this code in the browser we see there it
26:40 - is whoa
26:40 - what kind of crazy angled that thing did
26:44 - I get oh my goodness so I wanted a flat
26:46 - map
26:47 - I might have to adjust the API call that
26:53 - I just made interesting to see that it
26:55 - does that what I wanted is oh I'm in the
26:59 - class I'm no Oh dark I think dark Veet
27:04 - so there's a lot of things like dark v 9
27:06 - here isn't it so why is it angled oh you
27:11 - know what it is it's because there's a
27:13 - lot of arguments here there's latitude
27:15 - longitude we can look at the
27:16 - documentation zoom level and then this
27:19 - is like an angle I think so if I change
27:21 - this to 0 there we go I flattened it so
27:26 - I don't know what the default is is this
27:27 - somewhere I'm guessing like in like San
27:29 - Francisco or something could possibly be
27:31 - but what I want to do now is I want to
27:33 - see a world map so I'm gonna change the
27:36 - latitude and longitude I'm just going to
27:37 - change it to zero zero which is going to
27:39 - be at latitude right there and then it's
27:40 - not really the center of the world is
27:42 - it's a sphere like what's the center huh
27:44 - but or latitude longitude Center I'm
27:46 - gonna change the zoom level to like 4
27:49 - and then I'm gonna hit refresh and we
27:52 - see ooh let me zoom out some more I'm
27:54 - actually to change the zoom level to 1
27:56 - and we can see there we go so I've got
27:58 - the world map now I want to see a wider
28:02 - picture of the world map so I'm gonna
28:03 - change let's change this to 1024 by 512
28:09 - I think the
28:10 - behave nicely for us up but if I do that
28:13 - I want to change create canvas to 1024
28:16 - 512 so let's refresh that whoops oh it's
28:20 - just super big now
28:22 - whoops nope sorry I got a zoom out here
28:25 - a little bit so there you go so now you
28:27 - can see I've got the world map with this
28:29 - dark theme and there it is in my p5.js
28:31 - canvas we're getting somewhere
28:33 - now if I were to do more of this and I
28:35 - would suggest if you're watching and you
28:37 - actually pull this code I would probably
28:38 - do something where I make sets of
28:41 - variables for width and height and zoom
28:43 - level and all that sort of thing but I'm
28:45 - just gonna leave this stuff kind of
28:46 - constant for right now I am going to
28:49 - though I am yeah so I'm gonna leave that
28:51 - stuff constant for right now so now that
28:53 - I have that what I need to do is figure
28:55 - out let's say I have a latitude
28:57 - longitude so let's say I have a latitude
28:59 - longitude that is the latitude of zero
29:02 - longitude is zero now it might be worth
29:05 - me refreshing your memory if latitude
29:07 - and longitude are familiar concepts to
29:09 - you but you've sort of forgotten what
29:10 - exactly they are and how they work so
29:12 - we're gonna need a little edit point
29:14 - here because this camera is off oh I
29:16 - forgot to turn these other lights on no
29:18 - no they're on nevermind have a little
29:22 - edit point here and while I'm taking a
29:24 - pause for an edit point I am going to
29:28 - [Music]
29:30 - press this button here just to keep
29:32 - everything rolling okay so peeled Orange
29:37 - projection yes okay so okay
29:42 - live slack chat please stay on topic it
29:46 - actually doesn't really matter but I
29:47 - like to look at it to see if there's if
29:49 - you have like other general programming
29:51 - stuff you're talking about actually no
29:52 - don't worry about it stay go off topic
29:54 - ignore me I'm annoying I've got all
29:56 - these rules all of a sudden okay here we
30:00 - go
30:01 - so let's say I were to try to draw as
30:05 - best as I could spear and I can kind of
30:09 - represent it with these lines and by the
30:10 - way what are these lines these lines are
30:12 - longitude so longitude are the lines I
30:15 - can think of them as like long because
30:17 - they go long up and down but there are
30:18 - the vertical lines and they're real
30:20 - going to map to our X location because
30:21 - we're gonna take this and kind of unfurl
30:24 - it so to speak on two into a flat
30:27 - rectangle so we want those longitude
30:29 - lines to end up like this so these are
30:32 - these the X values are longitude and
30:35 - then the Y values are latitude and you
30:39 - know this being perhaps like zero zero
30:41 - the Y values then being a latitude okay
30:45 - now there's another sort of key aspect
30:47 - of this what is the range of these
30:48 - values so they are described as angles
30:52 - essentially if you think of the angles
30:53 - of rotation in a way around the center
30:55 - of the earth and so if there's a full
30:57 - rotation of 360 degrees we can kind of
31:00 - go all the way this way to 180 degrees
31:03 - and then go all the way this way to
31:04 - negative hundred eighty degrees the
31:06 - thing is I'm gonna need to use radians
31:08 - as a measurement in my code and so
31:10 - that's the thing we're gonna have to
31:11 - sort of think about this is PI and this
31:13 - is negative PI and I have other videos
31:15 - that kind of go over the basics of
31:16 - radians and units of measurement that
31:18 - you could maybe watch and try to find if
31:20 - that's a new top concept for you now
31:23 - latitude on the other hand gone all the
31:26 - way around is just going halfway up and
31:28 - halfway down in a way so the range is
31:30 - between 90 and negative 90 and I
31:31 - probably got that wrong I think 90 is
31:33 - north and negative 90 is that by the way
31:35 - if you look up the lat lunch your
31:37 - latitude if you if you google like
31:39 - latitude longitude latitude of New York
31:42 - City you'll find the number will be
31:43 - something like 74 degrees west
31:46 - so 74 degrees this is actually 180
31:49 - degrees west this is 180 degrees east
31:52 - this is 90 degrees north this is 90
31:55 - degrees south so the negative numbers
31:56 - are what we need to use in the math but
31:58 - you'll often see them listed as north
32:00 - south west east which is something you
32:01 - might need to convert depending on what
32:03 - how your data is formatted okay so
32:04 - hopefully that clarifies that a little
32:06 - bit so I'm actually going to whoops I'm
32:09 - going to come back over here and I'm
32:11 - gonna do a couple things I'm gonna do
32:12 - I'm not absolutely called center
32:13 - latitude center longitude and then I'm
32:16 - just gonna have a variable called
32:17 - latitude a variable longitude I would
32:19 - like to pick a city somewhere in the
32:21 - world that's not the United States that
32:23 - maybe I know approximately where it is
32:26 - even though I've got the sort of bad
32:28 - American sense of geography so let's
32:31 - look for
32:32 - a city where where there a lot of trains
32:36 - oh it's not trains in Europe and in Asia
32:40 - and there's ever where there's trains
32:41 - that's a bad bad but let me let me look
32:43 - for let's look for Shanghai
32:46 - latitude/longitude so you're seeing here
32:50 - we've got thirty one point two three
32:52 - zero for North 124 seven three East so
32:56 - let's take this into our code and let's
32:59 - put that here I'm going to just comment
33:01 - it put this in comments here so the
33:03 - latitude is the north number and the
33:07 - longitude is the East number and it's
33:09 - not negative if it were West it would be
33:11 - negative and what I want to do now is
33:14 - draw is draw the location and convert it
33:19 - to its X&Y
33:19 - so what I need to do here and I don't
33:21 - need the draw function I need to figure
33:24 - out how do I convert those things ah
33:26 - guess what we're gonna just look up the
33:27 - formula it's gonna look kind of
33:29 - terrifying but I think I'm gonna write
33:31 - it for you in code and it will hopefully
33:33 - be uh simple so here we are in web
33:35 - Mercator and web Mercator is based on
33:38 - what the what we need to do is to
33:40 - calculate this X&Y we need to apply this
33:43 - formula so the reason why this number is
33:46 - 128 is web the standard of web Mercator
33:49 - is that it's it's giving you the XY for
33:52 - a Square where the top left is 0 0 and
33:55 - the bottom right is 256 256 so the
33:58 - centre is 128 128 I think actually nap
34:01 - box does tiles that are 512 so I think I
34:04 - actually need to change that number to
34:05 - 256 so that really depends on the kind
34:08 - of again the system you're using the
34:10 - zoom level is this value of how far
34:12 - zoomed in or zoomed out this lambda here
34:15 - is longitude and the letter of the Greek
34:18 - letter fee is a latitude so if I write
34:22 - this code and I'm just going to kind of
34:24 - do this a little bit I'm gonna write a
34:25 - function called I'm gonna write a
34:28 - separate function for X&Y I could wrap
34:30 - this into one function I'm gonna write a
34:31 - function called web Merc I'm just gonna
34:35 - call it Merc Merc X and it takes Merc X
34:38 - takes in a longitude value and now what
34:41 - I like to do sometimes with formulas
34:43 - like this is I'd like to break them into
34:44 - parts
34:45 - rather unnecessary but I think it'll
34:47 - make us less likely to make a mistake so
34:50 - I'm going to just do the first part I'm
34:52 - going to call it a and that is 128
34:54 - divided by PI times 2 to the zoom level
34:58 - right so 180 divided by PI times 2 to
35:02 - the zoom level so what is the zoom level
35:05 - is right now is something that I've
35:07 - defined here as 1 so this is something
35:10 - that I could make into a variable I
35:12 - really should make it into a variable
35:13 - and I'm gonna say zoom equals 1 so again
35:17 - I should put that in here but I'm gonna
35:20 - leave that out right now ok so so now
35:23 - the zoom is taken care of great you know
35:27 - what I could do actually is well never I
35:28 - could give this Merc X an argument
35:31 - longitude and zoom level but I'll just
35:33 - use it as a global variable okay that's
35:34 - VAR a now I'm going to say var be the
35:37 - second part if I go back to the formula
35:39 - is just the longitude plus pi okay so
35:43 - longitude plus PI but guess what one
35:47 - thing I need to make sure I'm gonna have
35:48 - an issue although we'll get to it later
35:50 - whether its degrees or radians is
35:52 - important
35:52 - the formula is assuming longitudes going
35:54 - to come in in Radian so I have to make
35:55 - sure I remember that now I can just say
35:56 - return a times B right because it's this
36:01 - 128 divided by PI times 2 to the zoom
36:03 - level times the longitude plus PI ok
36:07 - great now let's write 1 for y Merc Y
36:12 - latitude and we can see here that the
36:15 - parts a little bit more complex one the
36:17 - part a is exactly the same
36:19 - let's make Part B just this tangent part
36:22 - of the equation so I'm gonna say Part B
36:25 - is a tangent of PI / 4 + fee which is
36:34 - the latitude divided by 2 latitude / -
36:36 - okay that's B and C is law PI minus log
36:42 - of B so PI minus log of B now you might
36:46 - notice right here that this says Ln Ln
36:50 - means natural log so logs have a you
36:54 - know log what a logarithm is that
36:55 - Meritor of a separate video but if you
36:57 - see LM
36:57 - natural log base E which is a special
37:00 - wonderful number but in in most
37:04 - programming frameworks if you have the
37:06 - log function it's doing by default a
37:08 - natural log and you can obviously adjust
37:09 - that to a different base but so this
37:11 - this this map to it perfectly here log
37:13 - of B ok so now I need to say a times a
37:21 - times C right a times C because B is
37:25 - just for the purpose of this so a times
37:27 - C this is now giving me the Y location
37:29 - okay I think we're doing well here now
37:32 - what we could do is say um so one thing
37:35 - I'm gonna do which is kind of
37:37 - unnecessary but it helps a lot of people
37:40 - I know I'm gonna get messages about how
37:42 - I don't need to do this but this helps
37:44 - me think about it I actually would like
37:46 - to work from the center so I'm gonna
37:49 - translate with / - height / - if I do
37:53 - that whoops that moves the origin point
37:56 - from the top left to the center and I'm
37:59 - gonna go to my code I'm gonna refresh it
38:01 - and you're gonna see now the image is
38:03 - the origin is in the center so I'm going
38:05 - to change image mode to center so that
38:08 - now the image is drawn from the center
38:10 - so now I'm back the reason why I'm doing
38:12 - that it's a little bit weird but what I
38:14 - want to do is I want to draw everything
38:19 - the value that I'm gonna get from this
38:22 - math is relative to a center point so
38:24 - it's going to be a little easier for me
38:25 - to kind of figure that out this way so
38:27 - what I want to do first is I want to say
38:30 - var Center x equals Merc X of launch of
38:39 - longitude center longitude and center y
38:45 - equals Merc Y of of center latitude then
38:52 - I want to say x equals Merc X Merc X of
38:57 - that of the longitude this is the
38:59 - Beijing I mean sorry Shanghai longitude
39:03 - and then the Shanghai latitude and then
39:07 - what I want to do is where I'm going to
39:09 - position them
39:09 - on the screen is the difference between
39:12 - those two points
39:13 - so if CX CY is the center wherever that
39:16 - is relative to the center of the window
39:18 - is its location - that center location
39:20 - so now I should be able to say let's
39:23 - make a nice little circle with some
39:26 - alpha and let's draw an ellipse at that
39:30 - X&Y
39:30 - twenty by twenty pixels let's not be
39:33 - afraid let's hit refresh okay okay so
39:36 - it's not there what's the problem I
39:37 - forgot about my units of measurement so
39:40 - this is definitely a problem here which
39:42 - is that these measurements are in
39:43 - degrees and the fact is the calculations
39:47 - are assuming radians so what I need to
39:50 - do is convert these things into Radian
39:52 - so I'm just gonna add a line of code
39:54 - here that says longitude equals radians
39:57 - longitude and I'm gonna say latitude
40:00 - equals radians latitude and and the
40:03 - reason why I'm gonna do this is I know
40:04 - that when I go get that earthquake data
40:06 - I'm gonna get values and degrees because
40:09 - I've looked at that data before okay so
40:10 - now I'm gonna hit refresh it's there but
40:12 - it's not in the right spot the reason
40:14 - it's not in the right spot is remember I
40:15 - said map batbox actually uses tiles 512
40:18 - by 512 and so I'm gonna change these to
40:21 - 256 256 and I'm gonna hit refresh and
40:25 - there we go that looks right to me
40:27 - somebody tell me that's not where
40:29 - Shanghai is let's go to the other side
40:31 - and let's look at Vancouver Vancouver
40:34 - latitude and longitude and let's try
40:38 - that out I'm gonna grab this here and
40:40 - put this into my code and so now I need
40:45 - a latitude of forty nine point two eight
40:49 - to seven and they need a longitude not
40:52 - of one twenty three point one two oh
40:54 - seven positive because it's west I need
40:57 - to add the negative number there okay
40:59 - and here we go
41:00 - let's go back to our code hit refresh
41:02 - there somebody tell me that's not where
41:04 - Vancouver is I'm pretty sure I
41:05 - pinpointed it now that circle is kind of
41:07 - large really shouldn't I shouldn't do
41:09 - anything that might cause me to discover
41:11 - a mistake but I'm just gonna make that
41:13 - circle a little bit smaller hit refresh
41:15 - and I think that looks right dead-on
41:18 - where Vancouver is right somebody from
41:20 - Canada tell me if I've got that wrong
41:21 - okay so
41:23 - we're doing well here so now I've
41:26 - actually done almost everything because
41:28 - what I have now is a framework for re
41:31 - for taking the latitude/longitude and
41:32 - converting it to an XY that I can draw
41:34 - so let's go get some data that has lots
41:36 - of latitude and longitude in it so the
41:38 - data that I'm going to use is from the
41:40 - US Geological Survey here is the page
41:45 - USGS science for a changing world let me
41:48 - tell you something science very
41:49 - important wonderful thing I'm all about
41:52 - the science I wish I knew more about
41:53 - science and what they have what USGS
41:56 - website has in addition to lots of
41:58 - things I'm on a page which I'll link to
41:59 - in this video's description is it'll
42:01 - give me a data feeds of earthquakes so I
42:03 - could get just significant earthquakes
42:04 - in the past hour I think just to get
42:07 - some data but not too much data let's
42:09 - get all earthquakes in the past day so
42:11 - I'm gonna copy paste this link address
42:14 - and I'm gonna go to my code and in
42:16 - preload I'm gonna say earthquakes I'm
42:23 - gonna make a variable called earthquakes
42:24 - and in the preload function let me move
42:28 - this whole I need more space to look at
42:29 - this code I'm gonna go here and I'm
42:31 - gonna say earthquakes equals load
42:35 - strings there and I'm now notice what
42:40 - it's actually loading is a CSV file so
42:42 - that file is actually a comma separated
42:45 - value file it's essentially a
42:46 - spreadsheet and I can look at it this is
42:49 - a different one but if I go to the I
42:51 - downloaded one already which is right
42:53 - here this is actually everything from
42:55 - the last month and you can see here it's
42:57 - a it's a grits it's a table it's a table
43:00 - which dark with time latitude longitude
43:02 - here's the time here's the latitude
43:05 - here's the longitude and here is then
43:09 - there's some other things magnitude is
43:10 - something that I definitely want to look
43:11 - at because we can use magnitude to
43:13 - decide how large to maybe draw something
43:15 - and what color to draw something but I'm
43:16 - going to leave most of those kind of
43:17 - interesting design decisions to you to
43:20 - do something more creative with or maybe
43:21 - you're gonna do map different kind of
43:23 - data but what I really want to focus on
43:24 - is just first getting those latitude and
43:26 - longitude so the way I can do this now
43:29 - is so there is a function in p5 called
43:32 - load table this is such a simple bit of
43:34 - data that actually think using load
43:35 - strings a little bit
43:36 - blur I'm gonna redo this challenge
43:37 - making a 3ds version of it in processing
43:40 - and use load table there just to show
43:41 - the difference that'll come sometime
43:43 - eventually so now what I'm gonna do here
43:46 - in setup is once I have the data I'm
43:49 - going to say for VAR I equals 0 I is
43:51 - less than earth quakes dot length so
43:55 - load strings will give you an array of
43:57 - strings each string being a line in that
44:00 - data file so all I need to do with each
44:02 - one of those is use call a function
44:04 - called split so I'm gonna save our data
44:08 - equals earth quakes index I dot split
44:13 - then I'm gonna write something kind of
44:15 - weird here so what I want to do is say
44:19 - what is the delimiter that I want to
44:20 - split everything up by well I want to
44:22 - split everything up by a comma but why
44:24 - didn't I just put a comma in quotes
44:26 - because normally in JavaScript you'd put
44:27 - a yellow string in quotes I use these
44:29 - forward slashes this is something known
44:31 - as a regular expression which is a
44:33 - sophisticated way to match a particular
44:34 - pattern of text and I'll link in this
44:37 - video's description to a whole set of
44:38 - tutorials on regular expressions but
44:40 - here we get simply the only pattern I
44:41 - want to match is a single comma so
44:43 - that's going to be easy so now if I do
44:45 - that I'm just gonna say console dot log
44:47 - data and let's take a look at what we
44:50 - get in the console I'm gonna kind of
44:52 - move this over here we can see I'm
44:54 - getting a whole bunch of a arrays so I
44:57 - get an array and I can see here the
44:59 - first element is the timestamp the
45:00 - second element is the I believe it's
45:02 - latitude first then longitude yeah it
45:04 - has to because that's negative 166 some
45:06 - other data about the earthquake the 2.2
45:08 - is the magnitude on the Richter scale
45:09 - and the chap you'll pointing out split
45:12 - with the comma with with quotes as a
45:13 - string does work also but in case you
45:16 - end up wanting to do more elaborate
45:17 - splitting it's kind of useful to have
45:18 - the option of a regular expression okay
45:21 - so I am going to now I am going to what
45:28 - am I doing here so what do I want to do
45:31 - the latitude is the first is not the
45:35 - first it's if I go back to this it's
45:36 - this is element 0 element 1 element 2 so
45:39 - latitude is index 1 of that array
45:42 - latitude is data index 1 longitude is
45:47 - data index 2
45:48 - and then guess what all I need to do is
45:51 - take this this exact same code once I
45:54 - get that latitude longitude convert it
45:56 - to X&Y draw a little circle and now we
45:59 - will see and I'm gonna take out this
46:00 - console.log don't think I need that and
46:03 - move over here and I'm hit refresh and
46:05 - there we go these are all the
46:07 - earthquakes that have happened in the
46:10 - last what was it's the last hour I think
46:13 - did I do
46:14 - let's go get the last now that we see
46:16 - this is working let's go grab let's go
46:19 - wrap all earthquakes from the past 30
46:22 - days that's going to be a lot is that
46:26 - too ambitious of me so I'm going to I'm
46:29 - going to just paste this here and I'm
46:32 - gonna do this and I'm gonna comment out
46:34 - this line of code so I can now which is
46:39 - awkward to do here I'm gonna paste this
46:41 - end up saying I must have gotten rid of
46:43 - a quote or something yep got rid of the
46:45 - end there okay so so many ways I could
46:49 - make this code a little bit nicer but
46:50 - that should do
46:51 - now I'm gonna refresh there we go it's
46:53 - gonna take a little while there's a lot
46:54 - of data actually didn't take that long
46:55 - look at that now you can see all the
46:57 - earthquakes from the last month and you
47:00 - know things that I could do to this I
47:02 - could first of all I could think about
47:07 - zooming in on a certain part by changing
47:09 - the zoom level and the width and the
47:10 - height of the map and that sort of thing
47:12 - you want to be careful you know again
47:14 - the way that the way that Matt box works
47:16 - if you start playing around with the
47:17 - zoom I would if you want I would I would
47:19 - not make the width or height greater
47:20 - than 1024 and it actually seems to work
47:22 - really nicely if you keep that as a
47:24 - multiple of like 256 or but I don't
47:26 - think that should be required but you
47:28 - know play around with it I could you
47:30 - could change but also you could just
47:32 - think about animating it you could and
47:35 - one thing that I would like to do that I
47:36 - think is worth doing is just drawing
47:38 - these with the size based on magnitude
47:40 - so let's figure out let's look at how we
47:42 - would do that so right now where I'm
47:46 - drawing the size is just here 8 comma 8
47:49 - so what is the actual size in the data
47:52 - it is latitude longitude depth magnitude
47:56 - so I'm just going to use the magnitude
47:57 - which is 1 2 3 index 4 so let's go back
48:01 - to the code
48:02 - and I'm going to say var M for magnitude
48:09 - or magnitude equals data index three and
48:13 - I'm gonna do something wildly not
48:15 - accurate but I'm just gonna get started
48:16 - with this just so we can see something
48:18 - I'm gonna say var diameter equals map
48:22 - the magnitude from a range from zero to
48:25 - ten
48:25 - to arrange from zero to two to sixty so
48:30 - I'm just gonna take that Richter scale
48:32 - magnitude and map it again lots of
48:34 - mathematical problems what I'm doing but
48:35 - just to get something on the screen
48:36 - that's got some difference I'm gonna put
48:38 - this D now into here and we can run this
48:41 - oh boy look at that we've got some what
48:45 - did I do wrong did I get the wrong oh I
48:47 - said three should be four I was using
48:49 - the wrong value okay so we can see we've
48:51 - got something but look at this there
48:52 - aren't really lots of earthquakes of
48:55 - such like large magnitudes happening all
48:57 - the time all over the place and the
48:59 - reason why this is there's a couple
49:01 - reasons why this is terribly inaccurate
49:02 - and we find my eraser two fundamental
49:07 - reasons number one is magnitude on the
49:12 - Richter scale for earthquakes is
49:13 - measured if I'm correct in a logarithmic
49:16 - scale meaning if I have a earthquake of
49:21 - magnitude five and I have a earthquake
49:24 - of magnitude six this earthquake is
49:27 - actually ten times as powerful as the
49:30 - earthquake of magnitude five tell me if
49:32 - I got that wrong I can come back and
49:34 - correct it so that's one thing so I need
49:37 - to think about drawing the other thing
49:39 - that's really quite important is here is
49:40 - when I take a circle and I give it a
49:43 - diet in it let's say it has a diameter
49:44 - of four which means it has a radius of
49:47 - two and then I have another circle that
49:49 - has a diameter twice the size of eight
49:52 - which means a radius of four the thing
49:56 - that I'm seeing visually is the area of
49:58 - it and the area is PI R squared so the
50:02 - area of this is four pi and the area of
50:04 - this is 16 PI so I'm actually drawing
50:07 - this is something that is four times as
50:10 - large as this but the radius is only
50:11 - twice so I need to account for that
50:13 - in visualizing stuff using circles
50:15 - that's kind of an important you know if
50:17 - I were just doing population for example
50:19 - I wouldn't Dramat population directly to
50:21 - diameter
50:22 - I would map it to the square odhh map it
50:25 - to the square root the square root of
50:26 - population to diameter something like
50:28 - that we're gonna get that right as we
50:29 - come over here okay so yeah great
50:35 - suggestion in the chat by the way from
50:36 - alka is an exercise that somebody could
50:38 - do is could think about like animating
50:41 - doing a time lapse so since I have since
50:43 - you have 30 days worth of this or
50:44 - actually having this update every five
50:46 - minutes with recent earthquakes and
50:48 - showing them in real time so lots of
50:49 - possibilities the things you could do
50:50 - here okay
50:51 - so let's go back and try to make this a
50:53 - bit more accurate number one is let's
50:56 - take the magnitude so let's try to think
51:00 - about this I need to unlock it wait hold
51:05 - on I just need to take a pause for a
51:06 - second I didn't switch the camera thank
51:09 - goodness cuz I need a pause anyway I
51:11 - forgot to switch the camera okay no
51:13 - worries everybody what did I I'm gonna
51:15 - have to I'm gonna have to pretend that I
51:17 - get that great suggestion again from
51:18 - Alka I want to think about before I do
51:24 - this yeah yeah before I do this let me
51:26 - think about how I need to do this
51:28 - actually for a second because I'm it's
51:31 - it's open guys 8:30 at night oh my god
51:34 - I'm seeing really good mole was done
51:37 - which is thanks good thankfully what I
51:40 - need to do is take the magnitude and it
51:47 - should be I should set it to the power
51:50 - of 10 which is such it makes it such a
51:54 - huge number right so if I want to get if
51:56 - like right I would say magnitude equals
51:59 - power magnitude to the tenth power so
52:04 - it's it's that much it's 10 times larger
52:07 - and then I would also then take a square
52:13 - root of it if I'm going and then this
52:18 - would become 0 and this would be like
52:20 - the square root of 10 times 10 and then
52:24 - do that between 0 and 60 is that right
52:33 - that doesn't seem right
52:38 - oh-ho I didn't say I didn't say 10th no
52:41 - no sorry square root of power 10 to the
52:45 - 10 of course
52:46 - cuz that's sort of like the maximum okay
52:48 - now I don't see anything because there's
52:50 - no probably no so let me let's pretend
52:54 - what's the Matt let's in that data I
52:56 - probably have just like I probably have
53:00 - like a maximum of like a you know of oh
53:04 - woops this makes no that I didn't do
53:07 - this correctly let me do this again
53:08 - power 10 to the 10 wait wait wait square
53:10 - root of power 10 to the 10 let's see if
53:12 - that's right no but yeah I did yeah okay
53:15 - so oh yeah so this looks right so this
53:18 - was a recent really big earthquake right
53:20 - didn't someone I saw in the news that
53:22 - there was a recent large earthquake over
53:24 - there so we can see that this is more
53:26 - accurate so one thing I can do I think
53:27 - I'm doing this correctly but okay so
53:29 - I'll fiddle with this anybody in the
53:31 - chat want to tell me that I did this
53:34 - wrong before I go so I'm gonna come back
53:37 - and we undo all this we make sure there
53:42 - are no emergency text messages on my
53:43 - phone I see none I see that Suraj
53:49 - uploaded a some sort of deep learning
53:50 - video you should all just go watch that
53:52 - right now let me go back to here so
54:00 - where where am i coming back into this
54:03 - tutorial I think this is where I left it
54:04 - right I left it here then I was over
54:07 - here then I came Alka I think I want to
54:10 - refer to that suggestion when I get to
54:12 - the end of the video so I hopefully I
54:14 - and talk about ideas that people could
54:15 - have and it's a great suggestion when I
54:18 - want to give so I will try to remember
54:19 - to do that so I'm gonna fake the walking
54:21 - back pressing a button and continuing
54:25 - the tutorial okay so if we come back
54:29 - over here now I can start to implement
54:31 - some of this math into the actual code
54:33 - itself so looking at the code the
54:37 - magnitude what I want to do with the
54:38 - magnitude really if if the matter
54:40 - five and the the Richter magnitude of
54:43 - six is ten times that what I can say is
54:45 - magnitude equals itself to the tenth
54:49 - power so this is kind of uh none reverse
54:52 - inverse logarithm logarithm yet inverse
54:56 - logarithm I'm going to actually set it
54:58 - to the power of ten now the other thing
54:59 - I want to do is pick the square root of
55:01 - it because ultimately I'm going to map
55:03 - that to the diameter of a particular
55:06 - ellipse so I also want to say magnitude
55:08 - equals the square root of itself so now
55:11 - this mapping instead of going from zero
55:13 - to ten meaning the met the sort of
55:16 - maximum on the Richter scale of ten I
55:17 - don't know if that's an actual maximum I
55:19 - should look up the Richter scale but
55:21 - what I want to do is get a new maximum
55:25 - so I'm going to say var mag max equals
55:30 - power the square root of ten to the
55:33 - tenth power
55:34 - so if ten is my maximum magnitude then I
55:38 - want to make that the maximum and then
55:40 - so the mapping now goes from here to
55:42 - here and let's take a look at that and
55:44 - we can see now almost everything has
55:47 - disappeared because most of the
55:48 - earthquakes but there was I believe
55:51 - recently I saw in the news a very large
55:53 - earthquake I don't know I should look
55:55 - this up where this was but I'm pretty
55:57 - sure I've got things accurate here we
55:58 - could we could look into the data and
56:00 - see what this is
56:00 - I could also try to make this a bit more
56:02 - everything a bit more visible one thing
56:04 - is I could say give me a stroke of color
56:07 - to put around the circles and I could
56:10 - also you know make this 180 for example
56:12 - to really sort of like emphasize so now
56:13 - we can see you can see lots and lots of
56:15 - tiny earthquakes up along here
56:17 - lots and lots of tiny earthquakes here
56:19 - and really some larger ones over and
56:22 - around here so I think we've done it
56:23 - this is now mapping earthquakes I did it
56:32 - wrong I totally did it wrong stop
56:34 - everything it's not thank you this is
56:39 - not correct it should actually reverse
56:41 - the logarithm it has to be 10 to the
56:47 - magnitudes power right I'm sorry about
56:49 - that y'all everybody screaming about
56:50 - having me watching this video I wonder
56:51 - if I should just go all the way back and
56:52 - redo this because
56:54 - watch it get him but maybe it's fine to
56:55 - have this wrong I just come back so in
56:59 - other words 10 to the 4 is 10 times 10
57:03 - times 10 times 10 10 to the 5 is is 10
57:09 - to the 4 times 10 so this is really how
57:11 - it works so I actually had it quite
57:13 - wrong there so let's take a look at that
57:15 - and that should you know it's really the
57:17 - same idea but it's gonna you know make
57:19 - it a bit more right this would actually
57:20 - was fine because both of these were 10
57:22 - so I think the earthquakes are gonna get
57:24 - quite a bit smaller actually the small
57:25 - ones and you can see there we go
57:26 - so I got the similar effect apologies
57:28 - for that mathematical error and now I
57:32 - think you know those of you endure you
57:34 - can enjoy see the process about how I
57:35 - constantly make mistakes but I think I
57:37 - have it right here now and I could
57:39 - change the mapping I could change the
57:40 - color alka in the chat made a great
57:43 - suggestion of if you want an exercise
57:44 - here see if you can create a time-lapse
57:46 - version of this so I actually use the
57:47 - timestamps and have a see the
57:49 - earthquakes all pop up over time over 30
57:51 - days but how that all happened in 30
57:52 - seconds you could also write it so that
57:54 - your refresh the the data query so if
57:57 - you look here on the webpage here on the
58:01 - on the webpage here know them on the
58:03 - wrong web page if you look here on what
58:05 - am I looking for uh the USGS website you
58:07 - can see that you can get every five
58:09 - minutes
58:09 - earthquakes updated from the past hour
58:11 - so this would be interesting to think
58:12 - about how you might animate them and
58:14 - refresh the data every five minutes so I
58:16 - hope that you code here will be linked I
58:19 - hope that you make something with this I
58:21 - uh or even if you just use this to
58:24 - create some other type of mapping
58:26 - project please share it with me share in
58:28 - the comments or share it at shipment on
58:29 - Twitter thanks for watching and another
58:32 - coding challenge
58:35 - okay so now I need to throw away the
58:39 - first line of data all right good point
58:41 - so big deal it works anyway cuz it just
58:45 - ignores it but let me let me fix that
58:48 - just to make I'll fix it in the code so
58:49 - I remember later yeah that's a very good
58:52 - point
58:53 - okay so what I want to do now is let me
58:57 - see if I can get this do this what's the
59:05 - need of Oh 1024 let me just do this so
59:12 - I'm gonna leave this I'm gonna do an
59:14 - intro with it on the screen like this
59:16 - although now we're missing the I guess
59:19 - the aspect ratio is off so let me do
59:22 - this okay
59:24 - so I'm going to do an intro like this
59:27 - okay because the world does not revolve
59:32 - around the United States of America
59:34 - contrary to what some people probably
59:37 - think okay so is this a good opening
59:41 - image I think it will be okay so I need
59:46 - to get a tissue and I need to think
59:50 - about some ridiculous stick to do here
60:04 - now I'm a I'm a person on the internet
60:06 - on a Friday evening
60:08 - almost like 8:30 at night playing with
60:10 - toy trains
60:11 - Rosie reneus I think that's I think I'm
60:15 - gonna leave that out okay I've got to do
60:19 - a quick intro then I'm gonna say goodbye
60:23 - and do I dare try to put the sound in
60:27 - I'm gonna do it
60:29 - it's the sound was loud somebody said
60:32 - let me turn it down freight train
60:36 - [Music]
60:39 - oh it's not playing sorry okay
60:58 - oh hello welcome no no I'm not gonna do
61:02 - the stupid hello thing failure I should
61:09 - just do a regular coding job no I got to
61:11 - do my my ridiculous thing okay one more
61:13 - time see I really need my sound system
61:15 - where I can just like do this in a much
61:23 - hello this is a train welcome it's
61:26 - pulling into the station and it brought
61:27 - with us a map of the world and what this
61:29 - map of the world is showing you is
61:30 - little dots everywhere an earthquake has
61:33 - occurred in the last 30 days and the
61:35 - dots are actually sized according to the
61:37 - magnitude that earthquake and that's
61:38 - exactly what I'm gonna build
61:39 - in this particular coding challenge so a
61:42 - little while ago I built this from
61:43 - scratch and it involves a lot of pieces
61:46 - so the point of this coding challenge is
61:48 - really to learn about the idea of
61:50 - mapping data in a world like the earth
61:54 - that's a sphere in a two-dimensional
61:55 - space so you need to learn about
61:57 - projections latitude longitude how to
62:00 - convert latitude longitude to pixel XY
62:02 - space and how to do that based on what
62:04 - you're how to get a data source in how
62:06 - to then draw it and so that's what I'm
62:07 - doing the pieces here is I'm getting
62:08 - this image of the world map from an API
62:11 - called matte box Jes but certainly you
62:13 - could you know you have your own image
62:15 - you drew an image you designing them as
62:16 - you got it from somewhere else as long
62:17 - as you know how that image was made you
62:19 - can you can do the same kind of project
62:21 - that I'm doing in this particular video
62:22 - I'm also getting earthquake data from
62:25 - the USGS the United States the US
62:27 - Geological Survey they have lots of
62:28 - wonderful scientific data that you can
62:30 - experiment with and then I'm using p5.js
62:34 - to draw the image of the world and then
62:36 - draw all these circles now one thing I
62:38 - want to mention is towards the end of
62:40 - this video I work on something to try to
62:42 - scale the size of the circles according
62:45 - to the magnitude of the earthquake and I
62:47 - have a little bit of math backwards for
62:49 - probably about five minutes of the video
62:51 - someone in the chat points it out and
62:52 - then I correct it so if you're watching
62:54 - and you realize like oh those five words
62:56 - there that's what happens with buddy and
62:57 - I'm pretty sure I have the math right
62:59 - but if I have it wrong boy do I know
63:00 - that I'm gonna hear about it in the
63:02 - comments so I look forward to hearing
63:03 - your feedback your suggestions I hope
63:05 - you make something with this you share
63:06 - it with me at Schiffman on twitter and
63:08 - that
63:09 - you enjoy this ride on the Kotick train
63:13 - see you soon okay alright how did i do
63:21 - today everybody I came back this was a
63:24 - livestream about one hour I did a coding
63:26 - challenge it made sense it worked I
63:28 - don't think I had too many horrible
63:30 - errors in it I feel redeemed I feel like
63:33 - it's time for a lullaby
63:38 - awkward silence Oh
63:43 - for a second I thought I forgot to hit
63:45 - record to disk I was like oh my god I
63:47 - didn't record this whole thing to disk
63:49 - and now this by the way is the only
63:53 - lullaby we might do when I googled
63:55 - lullaby public domain I got this from
63:59 - freemusicarchive.org so while this plays
64:03 - I am going to see if there's any
64:07 - comments in the chat 10 out of 10 all
64:14 - right thank you everybody for the nice
64:15 - view how many people are watching right
64:16 - now I can't see that in my I guess if I
64:18 - go over here I can see it 494 I guess
64:21 - Friday night is not as popular of a time
64:25 - who is the guy who always writes in caps
64:28 - lock I have no idea but I know somebody
64:30 - who writes a lot in caps lock right now
64:31 - and I find it incredibly irritating
64:34 - maybe you know who I'm talking about any
64:39 - tips for being so enthusiastic and
64:41 - upbeat no I should give you some tips
64:46 - that was a rude answer I don't know just
64:49 - don't worry about things so much that's
64:51 - a terrible answer too you know
64:53 - I don't know that I walk through life
64:55 - like this but I do try to bring some
64:57 - energy and enthusiasm to the channel
64:59 - because people seem to respond to it and
65:00 - enjoy it oh right so a lot of people
65:05 - just left when I finish it okay that's
65:07 - nice to hear okay there should be a
65:10 - little a poll say from France who by the
65:15 - way has a wonderful YouTube channel I
65:17 - believe with a lot of stuff in French
65:19 - thank you for staying up so late to
65:20 - watch this that's crazy I can't believe
65:22 - you did that
65:23 - I'm so impressed requested a little
65:25 - dance which is I think I think maybe
65:27 - that I just need to have a softer dance
65:31 - I don't like that the soundboard thing
65:38 - is there so this will be good watch this
65:54 - [Music]
66:01 - that's what really work cuz I get cut
66:03 - off it again
66:05 - you should also turn this off right now
66:11 - okay I've got to go and how many viewers
66:21 - did I lose
66:23 - yes I'm sure someone will turn that into
66:25 - a gif I look forward to seeing that and
66:29 - I'll play all these videos and oh by the
66:31 - way I'm very excited to announce that
66:34 - next week I will be premiering a video
66:37 - with special guest
66:38 - Emily Jie and she made a matrix rain
66:40 - simulation it's fantastic so it's gonna
66:42 - be about a 45 minute coding challenge
66:44 - which is going to come and walk from
66:45 - beginning to end to make matrix rain and
66:47 - P 5 so I'm really excited for that to
66:48 - come out okay so thank you everyone
66:53 - thank you for this wonderful evening
66:56 - little surprise extra a coding challenge
66:58 - I haven't had any dinner
66:59 - I've barely checked my email all day
67:02 - I've actually just mostly been in this
67:03 - room I'm just like fear also that I'm
67:06 - gonna leave and like those whole
67:08 - buildings gonna be shut down
67:09 - McDuck I feel to get outside or alarms
67:11 - you to go set off but because I but I've
67:14 - never been on this floor
67:16 - so late so thanks everybody for watching
67:18 - I'm gonna turn this off and I look
67:22 - forward to hearing from you and seeing
67:23 - you at this point next Friday 10:30 a.m.
67:26 - that's my plane yeah I got to figure out
67:28 - there was a little bit of an issue with
67:29 - sound and me being too loud so I've got
67:31 - to check in with some people to make
67:32 - sure that Friday morning time slot isn't
67:34 - gonna be a big problem but I will send
67:36 - out a tweet or something to my email
67:38 - list or whatever if I change the time
67:40 - for next week okay thanks everybody and
67:42 - see you soon bye bye
67:44 - [Music]

Cleaned transcript:

good evening it's very late I'm very sleepy I know that I have some viewers from all around the world and I wonder maybe I have some new viewers places like Australia might be like the middle of the day now I've got this music playing hello I'm back this is a surprise extra live stream I did not use my train whistle even once this morning because I feel like I was overusing it but I need it I need to wake up that did not help I'm back so I don't know if anybody tuned in this morning I had kind of a bit of a disaster in a good way as I mentioned fit successes failure going going from one failure to another with great enthusiasm as maybe Winston Churchill said probably way more eloquently and I couldn't even remember who's is not good I'm very tired and all I have is water Kotick train brought to you by h2o it's hydrogen it's oxygen its water my it's great that I make so much money from this water sponsorship that I got just terrific ok now so I'm here to try to I have no idea what Opie and nerf means in the chat there Melvyn 2001 that's supposed to be some lingo that I'm not familiar with hello to everybody in the chat we are going to code coffee would be good you know I can't first of all I really should never be allowed to drink coffee ever as as many of you were probably quite aware I do drink coffee from time to time usually I try to have some light herbal tea while enjoying my live streams now today I had some this morning you know I'm I could go downstairs to the fourth floor I'm on the ninth floor this building oh I got this all I got left this has got to keep me hydrated for this Kotick challenge with a green wall fluorescent lights it's 75 degrees I cannot figure out how to get that thermostat to work however it will not earlier some of you might have seen earlier today somebody came in knocked on the door and said I was making way too much noise the fact that this building is pretty empty right now I feel somewhat confident that that won't happen but it still could happen all on point over whatever okay so what am I here to do I am here to do one coding challenge and one coding challenge only I probably spent a good hour and a half on this this morning and I actually had everything correct but there I was trying to sort out some web Mercator stuff with this API called map box and it just was not working and I had some very helpful messages from people on the Internet I should I should figure out how to thank them oh I got a alright let's see here I'm gonna have to just log into my Twitter account I think because I'm not prepared for this actually you know what I'm gonna I'm gonna come over here I mean I have them I'm logged in on this other computer and I'm gonna go to my notifications notifications you could tweet me I'm gonna get it right here it's 2017 I'm I'm with it I know what I'm doing on the Internet I'm a like youtuber this is me 43 on a Friday evening broadcasting web Mercator math projections my family is very very kind to not complain that I was like I couldn't it didn't work I'm not I'm gonna be home after dinner but I'm making home by kids bedtime but I've got to make this a web Mercator thing happens so thank you to my wonderful family for um not disowning me for being here but and thank you for you watching when it Freddie what are you doing here that's what I want to know really I mean okay anyway um so let's see here what was I looking for alright I was gonna thank some people so let me go to mentions mentions apparently is when somebody mentions me on the social media it's very exciting it makes it gives me like a little chemical reaction goes off in my brain okay Jasper Abril zat Jasper breo's on twitter twitter Jasper brillz sent me many helpful messages you can see you can see them all here and we had a little bit of an exchange which ended with me saying I came to a similar conclusion as your comment I decided I'm just going to redo this rhetorical and live at the size of 1024 so I'm getting way off topic here because I really should just start the tutorial but map box depending on the resolution of the map that you request and the way that the Italian algorithm works it seems that certain things can go a little wonky past past with certain resolutions and aspect ratios so Thank You Jasper Brielle's where who else do I need to thank ah I have no idea how to say this I had a lot of really helpful messages from let's see if I can twitter.com slash and you might progressives the screen so small over here here we go hy o ji x IP itu g yo g i didn't get it right hyo JJ no i JJ JJ there we go thank you now I'm gonna go to tweets and replies we can see here a lot of very helpful links this one in particular and also being puzzled uhhuh first of all GOG writes don't be mad ' parenthesis parenthesis what kind of expression is that oh and the camera went off I've got to press that button I'm like Jack in or John Locke every 30 minutes I gotta type in the code to get that camera going okay please don't be mad it's like a winky that's the emoji but at first I would never be mad anybody who's tweeting me about code and ideas and removing something do it well I did I cheated I did it the wrong way I faked it I didn't use the right algorithm it's all fun and games and enjoyable and nice and lovely we're sharing and caring and enjoying ourselves and typing code so that's I just II moved what does he move me and I think that prime means removed remove the zoom so you can read through this thread there's a lot of healthy information the documentation is handled differently in the zoom is handled differently so object so I never really got pinpointing an exact solution to the correct way to use map box for web Mercator projection if you're drawing on top of it in all cases of resolutions and shapes and sizes but you know what I realized the point of the tutorial that I was attempting to make was really not I mean map box there's a great wonderful JavaScript framework so I encourage you to use it and explore it well the point of what I was trying to show you is hey you can make projects that involve a map that involved data that involve your own creativity drawing a design and here's one way of putting those things together so I'm gonna do the challenge again and I'm going to just sort of limit myself to a simpler set of resolutions so that the the visualization comes out correctly and I will then act towards the end reference other kinds of projections or approaches that you might consider and things that you might look into in terms of map so that's my plan I'm gonna look at the yes so I will in the discus is our this live stream will be archived and yes I will link to I will link to those Twitter accounts in the channel but now somebody the chat is saying go to Luca go to Luca I will go see you later I am off to Luca I'm back from Luca I think Luca is something on Twitter really note of water I'm gonna get very dehydrated you know how hydrated mmm okay we're doing well we're fine we're fine okay who's Luca do I have so maybe I have more notifications I'm gonna look over here I I gotta get off my Twitter it's not it's no it's no fun to watch someone livestream shout out please look at this this is great I will definitely give you a shout out on Twitter Lucca mentioned me Schiffman Lucca and Harpreet dura roar watching I should just go to my own mentions I don't know how to do this I should log into my you if you want to shout out tweet the coding train because that's the account that I'm logged into here I got some already notification so Luca and well there's some nice French going on I'm gonna try to read this and translate it okay this is gonna be fun Saku major I say collegiate a boob weed ball nuit I think this means it's cool but I have corrected the bugs enough bugs for today goodnight did I get that right this is Mike there's only other language that I speak besides English unfortunately Paul Sookie song called de boo boo Dajjal de boo laughter boo look the coding tram lap Hassan leaved on Kalka and stone I assume QQ means Kalka maybe I can't I can't I can't translate this one oh I'm gonna have to use the translate for French again streaming already stream briefly streamed I don't know I don't know okay anyway back yes there we go so now I'm sure we'd have a lot of people tweeting me their shoutouts here Thank You Leo and Lou why I'm waiting for Luca and harp eat or Preet anyway okay I gotta do the coding challenge I gotta what time is it 742 no Portuguese sorry I should learn I would love to learn more languages a little bit of Greek I can do a little bit of Greek tiniest tiniest bit Yasu everybody from Greece nobody's watching this from Greece right now it's the middle of the night but if you RF got east oh I appreciate it very much Kanye is I say that right trying to say how are you anyway okay okay I'm gonna move off of this and I am now going to so getting both sets getting very warm in here about the leaf Mathias is watching from Greece that's amazing okay or at least fussy Lisa's someone from Greece watching okay so I got to get myself going here I'm gonna put on a little music this is the kitten song by lost oh wait oh oh but kitten song yes kids thank you very much rainbows and cupcakes notice that look what I get is the music very loud by the way like open by after that I'm doing the ridiculous see what is why my letter have caught but you know what's good about this I have this like Fitbit thing did you poop like dancing stuff I'm gonna get to 10,000 steps no problem today somebody tell me if this is a song or not delete delete I'm so in love with you delete delete I'm so in love with you delete delete cuz I say that in my head when I delete stuff but I don't know if it's something that came from my own head or if it's something that came from somewhere else does anybody know I have no idea I assume there will be infinite remixes of that song on the internet soon I'm not that popular unfortunately okay so let's see here I am going to put in function setup and I'm gonna put in function draw I am going to get some webpages open code is there I'm looking I got to move this up a little bit hopefully the oh I'm not I lost the slack chat here I wasn't onto Twitter oh my god way to so live chat is off topic music is a bit loud okay you know what I turned it down my monitors it's very quiet for me and apparently it's very loud okay alright Hillary made the delete song who made the oh never mind Oh Denise Denise oh that's a song Denise Denise I'm so in love with you and I just changed it in my head to delete delete ah okay I don't want to play it right now because I'm afraid less talk more code you come to the wrong place my friend I'm very sorry I don't want to I don't want to play it because I don't know weird that copyright or whatever so okay um here we go let's talk more code not really something I'm very good at to be perfectly honest with you oops let's see ctrl ctrl C and then close new terminal window CD desktop earthquake biz part 2 and server there we go and code and I don't I'm gonna I'm gonna do I dare I'm gonna be bold and take this out of here because I don't think I need it and this is good what do I have here yep okay and now I'm gonna go hit refresh whoops open up the console hit refresh I see nothing that's a good sign I've got a good font size here and so map projection spreadsheet format web Mercator map box API documentation okay so one thing I need to get is to the right place how did I do this before what I want to do is get to static map documentation okay this is where I want to be and then I'm gonna need to copy this and I need my access token also access token I'll be ready to do this challenge in one second create a new access token access tokens page create now I want to refresh this yes okay what's my password what's the chip that I remember what random pastor I typed in earlier today all right okay great we got a new token okay here we go so we are ready to do the coding challenge so I am going to welcome it's Friday evening and you are watching a person on the internet make a data visualization good luck to you I have a person on the Internet so I'm going to do a coding challenge where I take data from the usgs which stands for United States geographical service was it stands for by science is a wonderful thing isn't it US Geological Survey boy I got that Thole wrong and they provide a lot of data feeds about a lot of things but in particular earthquake data and I'm doing this to just show a sample project that you get a data feed with latitude and longitude width of an earth which is a sphere of an Earth of the Earth which is a sphere mapping that to two dimensions drawing your own stuff and also putting a world map behind it if you're so interested and I'm gonna I probably should just pre look at our image of a world map preloaded and not go through the rigmarole of map box but I'm determined so it's gonna happen okay I'm out of water I can probably go refill it I probably should I'm going to okay all right I am totally ek 89 asks is he redoing I am totally redoing it I am starting over from nothing okay here we go the earth is false says the architects 21 okay here we go let me press the button on the camera and so what I'm gonna do is I'm gonna do an introduction afterwards so I sort of explain the tutorial and so the first thing you know what I almost want to do is now let me do the map first okay I don't know what to put this on to start with but let's put this on here okay okay here we go all right I'm doing this coding challenge now so what I'm gonna do in this coding challenge is I'm going to grab a map of the world a figuratively grab I guess is figuratively that's underway let me start over hello welcome to this coding challenge I'm doing it I'm doing this coding challenge that sounded very forced it's fake oh boy I had to limit my son limiting myself to the amount of times I can stop or redo I'm already hung here we go hello welcome I'm doing this coding challenge I have to tell you something I did it before earlier didn't work out well but I think this is gonna go I'm starting fresh and I'm feeling confident and excited about it here we go so what am I gonna do in this coding challenge I'm gonna look at a lot of things number one is I'm gonna look at how you can get an image of a world map or are zoomed in map or zoomed out map of this world the planet Earth that we live in on something like that and display that in a Java Script canvas so look at that I'm gonna look at how you can read latitude and longitude values and translate those latitude longitude values to XY locations in that canvas and I'm and as a way of doing this I'm going to I just realize I'm like totally doing the introduction then I plan to do afterwards so I scratch off that use leaflet maybe that's what I should be doing ah great suggestion okay okay Luca I'm such a mess sucker I'm a sucker Luca I got to go to my mentions I hope this is I'm not gonna regret this I don't see I don't see a Luca there we go Luca there's Luca thank you there's your little shadow okay okay now here we go I'm sorry I was doing the introduction and I really just want to get into the coding challenge and I'm gonna mention all the pieces when I record the introduction later all right so let's start with this okay I'm starting this coding challenge now here we go so the first thing I'm gonna do there's a lot of pieces to this but the first thing I want to do is just see the map of the world on the screen on the canvas I wanna draw it and you know there's a lot of different ways you could do this you could find some JPEG to draw your own map you could scan them HAP so the question you have to answer for yourself by the way though one thing you have to remember is right the earth is a sphere so and I'm gonna do this visualization in a 2d space a flat twodimensional space so when you take the information that's wrapped around the sphere and peel it off into a two dimensional space you have to you apply some math and what that is typically referred to as a projection so map projections this is the Wikipedia page there are a lot of different map projections that have been used historically throughout the ages this is a people depiction of the I've no idea no see that's a cue many from 1482 there's one of a projection down here that looks a lot like what you would get I'm trying to find it here if you were to this is like a cylindrical projection that's kind of nice there's what I'm thinking of that looks kind of like if you were to unpeel an orange I can't find it hold on timeout we're gonna edit sorry Jonathan quorum who is works for the New York Times I feel like he once tweeted out something boy this is really gonna let's see designer Jonathan coram did something really great about map projections I'm never gonna be able to find it but you should look at all this wonderful material here on the Internet okay I never mind I'm just gonna use the Wikipedia page this is where I'm thinking next time I got to I got to this is what I'm looking for yeah this is what I was looking for so hold on I'm gonna I'm gonna come back to this okay okay there are a lot of different map projections this is one from 1482 this is not something related just to coding and computer graphics the idea of how do you represents fear achill information spherical imagery on a twodimensional service a surface there there are lots of route history I'm gonna scroll all the way down here there's one that's kind of I think a nice kit find it now illustration of what I'm talking about you could imagine if you had an orange and you peeled the orange and you flattened out the peel what would it look like it might look like this one over here Mercator Mercator projection is one of the kind of standard ones and you know this I this looks kind of like a little bit oh this is like the Mercator projection now you can see though that what happens is things that are close to the top or close to the bottom when you sort of stretch out the poles of the earth become really really large so Greenland over here is incredibly massive as compared to say Africa which is kind of close to the which is there right with the equator which is not at all accurate so I think there are a lot of comp questions about the sort of you know Western view essentially of a lot of these map projections and I think that's a really interesting topic today I'm getting way off track here but it's important to mention and really think about how you're presenting information and what you're highlighting and what's you know what's up versus down what's center versus and so there's a lot of design considerations there that I think are very important to mention but what I'm gonna use is something of a standard these days called web Mercator and web Mercator is used from what I understand by most of the online mapping tutorials are fine like Google Maps Open Street Map MapQuest does that even exist probably does don't obey all of you who love MapQuest out there I apologize I'm sorry it's a wonderful I'm gonna MapQuest that do you say that does anybody said anyway so this is going on way too long okay so what I got to do what I'm gonna do is I'm gonna grab a map image from map box and then I need to understand what projection it's using so that I can apply the math to convert my latitude longitude to an XY location in that pixel canvas okay so the map map box you could you can find out information at matte box comm you'll have to sign up for an account and get an API key and all that sort of stuff I'll include links in this video's description to where you can do that and I'm gonna use something called a static map so mat box has a lot of features that you can embed a map that's zoomable and you could put those little pins in it and do all sorts of stuff with it I just want to use it to get an image so the way that I can get an image for example is through a call an HTTP request to a particular URL so I'm gonna grab this URL and what I'm gonna do is I'm gonna go to my code and I'm gonna say I'm going to add a function preload and I'm going to say I'm gonna have a variable called map image and I'm gonna say map image equals load image and notice here that there's this piece of the code that says your access token so this won't work right now if I were to run it I need to get my API token which I'm gonna do right over here I already am on the page and it's right here I'm going to click copy so if you just go to this particular URL that's where you can your own access token if you can painstakingly copy behind if you want I'll probably regenerate it later and then it won't work but okay so I put that in and then what I want to do is I'm going to say create canvas now you'll notice there are a bunch of arguments in here this is in this path this is the latitude longitude of the centre that's the zoom level and then somewhere in here at 600 by 600 that's the pixel resolution that I'm getting so I'm going to now go and say create canvas 600 600 and then I'm just going to say image map image at 0 0 so if all goes according to plan when I go and run this code in the browser we see there it is whoa what kind of crazy angled that thing did I get oh my goodness so I wanted a flat map I might have to adjust the API call that I just made interesting to see that it does that what I wanted is oh I'm in the class I'm no Oh dark I think dark Veet so there's a lot of things like dark v 9 here isn't it so why is it angled oh you know what it is it's because there's a lot of arguments here there's latitude longitude we can look at the documentation zoom level and then this is like an angle I think so if I change this to 0 there we go I flattened it so I don't know what the default is is this somewhere I'm guessing like in like San Francisco or something could possibly be but what I want to do now is I want to see a world map so I'm gonna change the latitude and longitude I'm just going to change it to zero zero which is going to be at latitude right there and then it's not really the center of the world is it's a sphere like what's the center huh but or latitude longitude Center I'm gonna change the zoom level to like 4 and then I'm gonna hit refresh and we see ooh let me zoom out some more I'm actually to change the zoom level to 1 and we can see there we go so I've got the world map now I want to see a wider picture of the world map so I'm gonna change let's change this to 1024 by 512 I think the behave nicely for us up but if I do that I want to change create canvas to 1024 512 so let's refresh that whoops oh it's just super big now whoops nope sorry I got a zoom out here a little bit so there you go so now you can see I've got the world map with this dark theme and there it is in my p5.js canvas we're getting somewhere now if I were to do more of this and I would suggest if you're watching and you actually pull this code I would probably do something where I make sets of variables for width and height and zoom level and all that sort of thing but I'm just gonna leave this stuff kind of constant for right now I am going to though I am yeah so I'm gonna leave that stuff constant for right now so now that I have that what I need to do is figure out let's say I have a latitude longitude so let's say I have a latitude longitude that is the latitude of zero longitude is zero now it might be worth me refreshing your memory if latitude and longitude are familiar concepts to you but you've sort of forgotten what exactly they are and how they work so we're gonna need a little edit point here because this camera is off oh I forgot to turn these other lights on no no they're on nevermind have a little edit point here and while I'm taking a pause for an edit point I am going to press this button here just to keep everything rolling okay so peeled Orange projection yes okay so okay live slack chat please stay on topic it actually doesn't really matter but I like to look at it to see if there's if you have like other general programming stuff you're talking about actually no don't worry about it stay go off topic ignore me I'm annoying I've got all these rules all of a sudden okay here we go so let's say I were to try to draw as best as I could spear and I can kind of represent it with these lines and by the way what are these lines these lines are longitude so longitude are the lines I can think of them as like long because they go long up and down but there are the vertical lines and they're real going to map to our X location because we're gonna take this and kind of unfurl it so to speak on two into a flat rectangle so we want those longitude lines to end up like this so these are these the X values are longitude and then the Y values are latitude and you know this being perhaps like zero zero the Y values then being a latitude okay now there's another sort of key aspect of this what is the range of these values so they are described as angles essentially if you think of the angles of rotation in a way around the center of the earth and so if there's a full rotation of 360 degrees we can kind of go all the way this way to 180 degrees and then go all the way this way to negative hundred eighty degrees the thing is I'm gonna need to use radians as a measurement in my code and so that's the thing we're gonna have to sort of think about this is PI and this is negative PI and I have other videos that kind of go over the basics of radians and units of measurement that you could maybe watch and try to find if that's a new top concept for you now latitude on the other hand gone all the way around is just going halfway up and halfway down in a way so the range is between 90 and negative 90 and I probably got that wrong I think 90 is north and negative 90 is that by the way if you look up the lat lunch your latitude if you if you google like latitude longitude latitude of New York City you'll find the number will be something like 74 degrees west so 74 degrees this is actually 180 degrees west this is 180 degrees east this is 90 degrees north this is 90 degrees south so the negative numbers are what we need to use in the math but you'll often see them listed as north south west east which is something you might need to convert depending on what how your data is formatted okay so hopefully that clarifies that a little bit so I'm actually going to whoops I'm going to come back over here and I'm gonna do a couple things I'm gonna do I'm not absolutely called center latitude center longitude and then I'm just gonna have a variable called latitude a variable longitude I would like to pick a city somewhere in the world that's not the United States that maybe I know approximately where it is even though I've got the sort of bad American sense of geography so let's look for a city where where there a lot of trains oh it's not trains in Europe and in Asia and there's ever where there's trains that's a bad bad but let me let me look for let's look for Shanghai latitude/longitude so you're seeing here we've got thirty one point two three zero for North 124 seven three East so let's take this into our code and let's put that here I'm going to just comment it put this in comments here so the latitude is the north number and the longitude is the East number and it's not negative if it were West it would be negative and what I want to do now is draw is draw the location and convert it to its X&Y so what I need to do here and I don't need the draw function I need to figure out how do I convert those things ah guess what we're gonna just look up the formula it's gonna look kind of terrifying but I think I'm gonna write it for you in code and it will hopefully be uh simple so here we are in web Mercator and web Mercator is based on what the what we need to do is to calculate this X&Y we need to apply this formula so the reason why this number is 128 is web the standard of web Mercator is that it's it's giving you the XY for a Square where the top left is 0 0 and the bottom right is 256 256 so the centre is 128 128 I think actually nap box does tiles that are 512 so I think I actually need to change that number to 256 so that really depends on the kind of again the system you're using the zoom level is this value of how far zoomed in or zoomed out this lambda here is longitude and the letter of the Greek letter fee is a latitude so if I write this code and I'm just going to kind of do this a little bit I'm gonna write a function called I'm gonna write a separate function for X&Y I could wrap this into one function I'm gonna write a function called web Merc I'm just gonna call it Merc Merc X and it takes Merc X takes in a longitude value and now what I like to do sometimes with formulas like this is I'd like to break them into parts rather unnecessary but I think it'll make us less likely to make a mistake so I'm going to just do the first part I'm going to call it a and that is 128 divided by PI times 2 to the zoom level right so 180 divided by PI times 2 to the zoom level so what is the zoom level is right now is something that I've defined here as 1 so this is something that I could make into a variable I really should make it into a variable and I'm gonna say zoom equals 1 so again I should put that in here but I'm gonna leave that out right now ok so so now the zoom is taken care of great you know what I could do actually is well never I could give this Merc X an argument longitude and zoom level but I'll just use it as a global variable okay that's VAR a now I'm going to say var be the second part if I go back to the formula is just the longitude plus pi okay so longitude plus PI but guess what one thing I need to make sure I'm gonna have an issue although we'll get to it later whether its degrees or radians is important the formula is assuming longitudes going to come in in Radian so I have to make sure I remember that now I can just say return a times B right because it's this 128 divided by PI times 2 to the zoom level times the longitude plus PI ok great now let's write 1 for y Merc Y latitude and we can see here that the parts a little bit more complex one the part a is exactly the same let's make Part B just this tangent part of the equation so I'm gonna say Part B is a tangent of PI / 4 + fee which is the latitude divided by 2 latitude / okay that's B and C is law PI minus log of B so PI minus log of B now you might notice right here that this says Ln Ln means natural log so logs have a you know log what a logarithm is that Meritor of a separate video but if you see LM natural log base E which is a special wonderful number but in in most programming frameworks if you have the log function it's doing by default a natural log and you can obviously adjust that to a different base but so this this this map to it perfectly here log of B ok so now I need to say a times a times C right a times C because B is just for the purpose of this so a times C this is now giving me the Y location okay I think we're doing well here now what we could do is say um so one thing I'm gonna do which is kind of unnecessary but it helps a lot of people I know I'm gonna get messages about how I don't need to do this but this helps me think about it I actually would like to work from the center so I'm gonna translate with / height / if I do that whoops that moves the origin point from the top left to the center and I'm gonna go to my code I'm gonna refresh it and you're gonna see now the image is the origin is in the center so I'm going to change image mode to center so that now the image is drawn from the center so now I'm back the reason why I'm doing that it's a little bit weird but what I want to do is I want to draw everything the value that I'm gonna get from this math is relative to a center point so it's going to be a little easier for me to kind of figure that out this way so what I want to do first is I want to say var Center x equals Merc X of launch of longitude center longitude and center y equals Merc Y of of center latitude then I want to say x equals Merc X Merc X of that of the longitude this is the Beijing I mean sorry Shanghai longitude and then the Shanghai latitude and then what I want to do is where I'm going to position them on the screen is the difference between those two points so if CX CY is the center wherever that is relative to the center of the window is its location that center location so now I should be able to say let's make a nice little circle with some alpha and let's draw an ellipse at that X&Y twenty by twenty pixels let's not be afraid let's hit refresh okay okay so it's not there what's the problem I forgot about my units of measurement so this is definitely a problem here which is that these measurements are in degrees and the fact is the calculations are assuming radians so what I need to do is convert these things into Radian so I'm just gonna add a line of code here that says longitude equals radians longitude and I'm gonna say latitude equals radians latitude and and the reason why I'm gonna do this is I know that when I go get that earthquake data I'm gonna get values and degrees because I've looked at that data before okay so now I'm gonna hit refresh it's there but it's not in the right spot the reason it's not in the right spot is remember I said map batbox actually uses tiles 512 by 512 and so I'm gonna change these to 256 256 and I'm gonna hit refresh and there we go that looks right to me somebody tell me that's not where Shanghai is let's go to the other side and let's look at Vancouver Vancouver latitude and longitude and let's try that out I'm gonna grab this here and put this into my code and so now I need a latitude of forty nine point two eight to seven and they need a longitude not of one twenty three point one two oh seven positive because it's west I need to add the negative number there okay and here we go let's go back to our code hit refresh there somebody tell me that's not where Vancouver is I'm pretty sure I pinpointed it now that circle is kind of large really shouldn't I shouldn't do anything that might cause me to discover a mistake but I'm just gonna make that circle a little bit smaller hit refresh and I think that looks right deadon where Vancouver is right somebody from Canada tell me if I've got that wrong okay so we're doing well here so now I've actually done almost everything because what I have now is a framework for re for taking the latitude/longitude and converting it to an XY that I can draw so let's go get some data that has lots of latitude and longitude in it so the data that I'm going to use is from the US Geological Survey here is the page USGS science for a changing world let me tell you something science very important wonderful thing I'm all about the science I wish I knew more about science and what they have what USGS website has in addition to lots of things I'm on a page which I'll link to in this video's description is it'll give me a data feeds of earthquakes so I could get just significant earthquakes in the past hour I think just to get some data but not too much data let's get all earthquakes in the past day so I'm gonna copy paste this link address and I'm gonna go to my code and in preload I'm gonna say earthquakes I'm gonna make a variable called earthquakes and in the preload function let me move this whole I need more space to look at this code I'm gonna go here and I'm gonna say earthquakes equals load strings there and I'm now notice what it's actually loading is a CSV file so that file is actually a comma separated value file it's essentially a spreadsheet and I can look at it this is a different one but if I go to the I downloaded one already which is right here this is actually everything from the last month and you can see here it's a it's a grits it's a table it's a table which dark with time latitude longitude here's the time here's the latitude here's the longitude and here is then there's some other things magnitude is something that I definitely want to look at because we can use magnitude to decide how large to maybe draw something and what color to draw something but I'm going to leave most of those kind of interesting design decisions to you to do something more creative with or maybe you're gonna do map different kind of data but what I really want to focus on is just first getting those latitude and longitude so the way I can do this now is so there is a function in p5 called load table this is such a simple bit of data that actually think using load strings a little bit blur I'm gonna redo this challenge making a 3ds version of it in processing and use load table there just to show the difference that'll come sometime eventually so now what I'm gonna do here in setup is once I have the data I'm going to say for VAR I equals 0 I is less than earth quakes dot length so load strings will give you an array of strings each string being a line in that data file so all I need to do with each one of those is use call a function called split so I'm gonna save our data equals earth quakes index I dot split then I'm gonna write something kind of weird here so what I want to do is say what is the delimiter that I want to split everything up by well I want to split everything up by a comma but why didn't I just put a comma in quotes because normally in JavaScript you'd put a yellow string in quotes I use these forward slashes this is something known as a regular expression which is a sophisticated way to match a particular pattern of text and I'll link in this video's description to a whole set of tutorials on regular expressions but here we get simply the only pattern I want to match is a single comma so that's going to be easy so now if I do that I'm just gonna say console dot log data and let's take a look at what we get in the console I'm gonna kind of move this over here we can see I'm getting a whole bunch of a arrays so I get an array and I can see here the first element is the timestamp the second element is the I believe it's latitude first then longitude yeah it has to because that's negative 166 some other data about the earthquake the 2.2 is the magnitude on the Richter scale and the chap you'll pointing out split with the comma with with quotes as a string does work also but in case you end up wanting to do more elaborate splitting it's kind of useful to have the option of a regular expression okay so I am going to now I am going to what am I doing here so what do I want to do the latitude is the first is not the first it's if I go back to this it's this is element 0 element 1 element 2 so latitude is index 1 of that array latitude is data index 1 longitude is data index 2 and then guess what all I need to do is take this this exact same code once I get that latitude longitude convert it to X&Y draw a little circle and now we will see and I'm gonna take out this console.log don't think I need that and move over here and I'm hit refresh and there we go these are all the earthquakes that have happened in the last what was it's the last hour I think did I do let's go get the last now that we see this is working let's go grab let's go wrap all earthquakes from the past 30 days that's going to be a lot is that too ambitious of me so I'm going to I'm going to just paste this here and I'm gonna do this and I'm gonna comment out this line of code so I can now which is awkward to do here I'm gonna paste this end up saying I must have gotten rid of a quote or something yep got rid of the end there okay so so many ways I could make this code a little bit nicer but that should do now I'm gonna refresh there we go it's gonna take a little while there's a lot of data actually didn't take that long look at that now you can see all the earthquakes from the last month and you know things that I could do to this I could first of all I could think about zooming in on a certain part by changing the zoom level and the width and the height of the map and that sort of thing you want to be careful you know again the way that the way that Matt box works if you start playing around with the zoom I would if you want I would I would not make the width or height greater than 1024 and it actually seems to work really nicely if you keep that as a multiple of like 256 or but I don't think that should be required but you know play around with it I could you could change but also you could just think about animating it you could and one thing that I would like to do that I think is worth doing is just drawing these with the size based on magnitude so let's figure out let's look at how we would do that so right now where I'm drawing the size is just here 8 comma 8 so what is the actual size in the data it is latitude longitude depth magnitude so I'm just going to use the magnitude which is 1 2 3 index 4 so let's go back to the code and I'm going to say var M for magnitude or magnitude equals data index three and I'm gonna do something wildly not accurate but I'm just gonna get started with this just so we can see something I'm gonna say var diameter equals map the magnitude from a range from zero to ten to arrange from zero to two to sixty so I'm just gonna take that Richter scale magnitude and map it again lots of mathematical problems what I'm doing but just to get something on the screen that's got some difference I'm gonna put this D now into here and we can run this oh boy look at that we've got some what did I do wrong did I get the wrong oh I said three should be four I was using the wrong value okay so we can see we've got something but look at this there aren't really lots of earthquakes of such like large magnitudes happening all the time all over the place and the reason why this is there's a couple reasons why this is terribly inaccurate and we find my eraser two fundamental reasons number one is magnitude on the Richter scale for earthquakes is measured if I'm correct in a logarithmic scale meaning if I have a earthquake of magnitude five and I have a earthquake of magnitude six this earthquake is actually ten times as powerful as the earthquake of magnitude five tell me if I got that wrong I can come back and correct it so that's one thing so I need to think about drawing the other thing that's really quite important is here is when I take a circle and I give it a diet in it let's say it has a diameter of four which means it has a radius of two and then I have another circle that has a diameter twice the size of eight which means a radius of four the thing that I'm seeing visually is the area of it and the area is PI R squared so the area of this is four pi and the area of this is 16 PI so I'm actually drawing this is something that is four times as large as this but the radius is only twice so I need to account for that in visualizing stuff using circles that's kind of an important you know if I were just doing population for example I wouldn't Dramat population directly to diameter I would map it to the square odhh map it to the square root the square root of population to diameter something like that we're gonna get that right as we come over here okay so yeah great suggestion in the chat by the way from alka is an exercise that somebody could do is could think about like animating doing a time lapse so since I have since you have 30 days worth of this or actually having this update every five minutes with recent earthquakes and showing them in real time so lots of possibilities the things you could do here okay so let's go back and try to make this a bit more accurate number one is let's take the magnitude so let's try to think about this I need to unlock it wait hold on I just need to take a pause for a second I didn't switch the camera thank goodness cuz I need a pause anyway I forgot to switch the camera okay no worries everybody what did I I'm gonna have to I'm gonna have to pretend that I get that great suggestion again from Alka I want to think about before I do this yeah yeah before I do this let me think about how I need to do this actually for a second because I'm it's it's open guys 830 at night oh my god I'm seeing really good mole was done which is thanks good thankfully what I need to do is take the magnitude and it should be I should set it to the power of 10 which is such it makes it such a huge number right so if I want to get if like right I would say magnitude equals power magnitude to the tenth power so it's it's that much it's 10 times larger and then I would also then take a square root of it if I'm going and then this would become 0 and this would be like the square root of 10 times 10 and then do that between 0 and 60 is that right that doesn't seem right ohho I didn't say I didn't say 10th no no sorry square root of power 10 to the 10 of course cuz that's sort of like the maximum okay now I don't see anything because there's no probably no so let me let's pretend what's the Matt let's in that data I probably have just like I probably have like a maximum of like a you know of oh woops this makes no that I didn't do this correctly let me do this again power 10 to the 10 wait wait wait square root of power 10 to the 10 let's see if that's right no but yeah I did yeah okay so oh yeah so this looks right so this was a recent really big earthquake right didn't someone I saw in the news that there was a recent large earthquake over there so we can see that this is more accurate so one thing I can do I think I'm doing this correctly but okay so I'll fiddle with this anybody in the chat want to tell me that I did this wrong before I go so I'm gonna come back and we undo all this we make sure there are no emergency text messages on my phone I see none I see that Suraj uploaded a some sort of deep learning video you should all just go watch that right now let me go back to here so where where am i coming back into this tutorial I think this is where I left it right I left it here then I was over here then I came Alka I think I want to refer to that suggestion when I get to the end of the video so I hopefully I and talk about ideas that people could have and it's a great suggestion when I want to give so I will try to remember to do that so I'm gonna fake the walking back pressing a button and continuing the tutorial okay so if we come back over here now I can start to implement some of this math into the actual code itself so looking at the code the magnitude what I want to do with the magnitude really if if the matter five and the the Richter magnitude of six is ten times that what I can say is magnitude equals itself to the tenth power so this is kind of uh none reverse inverse logarithm logarithm yet inverse logarithm I'm going to actually set it to the power of ten now the other thing I want to do is pick the square root of it because ultimately I'm going to map that to the diameter of a particular ellipse so I also want to say magnitude equals the square root of itself so now this mapping instead of going from zero to ten meaning the met the sort of maximum on the Richter scale of ten I don't know if that's an actual maximum I should look up the Richter scale but what I want to do is get a new maximum so I'm going to say var mag max equals power the square root of ten to the tenth power so if ten is my maximum magnitude then I want to make that the maximum and then so the mapping now goes from here to here and let's take a look at that and we can see now almost everything has disappeared because most of the earthquakes but there was I believe recently I saw in the news a very large earthquake I don't know I should look this up where this was but I'm pretty sure I've got things accurate here we could we could look into the data and see what this is I could also try to make this a bit more everything a bit more visible one thing is I could say give me a stroke of color to put around the circles and I could also you know make this 180 for example to really sort of like emphasize so now we can see you can see lots and lots of tiny earthquakes up along here lots and lots of tiny earthquakes here and really some larger ones over and around here so I think we've done it this is now mapping earthquakes I did it wrong I totally did it wrong stop everything it's not thank you this is not correct it should actually reverse the logarithm it has to be 10 to the magnitudes power right I'm sorry about that y'all everybody screaming about having me watching this video I wonder if I should just go all the way back and redo this because watch it get him but maybe it's fine to have this wrong I just come back so in other words 10 to the 4 is 10 times 10 times 10 times 10 10 to the 5 is is 10 to the 4 times 10 so this is really how it works so I actually had it quite wrong there so let's take a look at that and that should you know it's really the same idea but it's gonna you know make it a bit more right this would actually was fine because both of these were 10 so I think the earthquakes are gonna get quite a bit smaller actually the small ones and you can see there we go so I got the similar effect apologies for that mathematical error and now I think you know those of you endure you can enjoy see the process about how I constantly make mistakes but I think I have it right here now and I could change the mapping I could change the color alka in the chat made a great suggestion of if you want an exercise here see if you can create a timelapse version of this so I actually use the timestamps and have a see the earthquakes all pop up over time over 30 days but how that all happened in 30 seconds you could also write it so that your refresh the the data query so if you look here on the webpage here on the on the webpage here know them on the wrong web page if you look here on what am I looking for uh the USGS website you can see that you can get every five minutes earthquakes updated from the past hour so this would be interesting to think about how you might animate them and refresh the data every five minutes so I hope that you code here will be linked I hope that you make something with this I uh or even if you just use this to create some other type of mapping project please share it with me share in the comments or share it at shipment on Twitter thanks for watching and another coding challenge okay so now I need to throw away the first line of data all right good point so big deal it works anyway cuz it just ignores it but let me let me fix that just to make I'll fix it in the code so I remember later yeah that's a very good point okay so what I want to do now is let me see if I can get this do this what's the need of Oh 1024 let me just do this so I'm gonna leave this I'm gonna do an intro with it on the screen like this although now we're missing the I guess the aspect ratio is off so let me do this okay so I'm going to do an intro like this okay because the world does not revolve around the United States of America contrary to what some people probably think okay so is this a good opening image I think it will be okay so I need to get a tissue and I need to think about some ridiculous stick to do here now I'm a I'm a person on the internet on a Friday evening almost like 830 at night playing with toy trains Rosie reneus I think that's I think I'm gonna leave that out okay I've got to do a quick intro then I'm gonna say goodbye and do I dare try to put the sound in I'm gonna do it it's the sound was loud somebody said let me turn it down freight train oh it's not playing sorry okay oh hello welcome no no I'm not gonna do the stupid hello thing failure I should just do a regular coding job no I got to do my my ridiculous thing okay one more time see I really need my sound system where I can just like do this in a much hello this is a train welcome it's pulling into the station and it brought with us a map of the world and what this map of the world is showing you is little dots everywhere an earthquake has occurred in the last 30 days and the dots are actually sized according to the magnitude that earthquake and that's exactly what I'm gonna build in this particular coding challenge so a little while ago I built this from scratch and it involves a lot of pieces so the point of this coding challenge is really to learn about the idea of mapping data in a world like the earth that's a sphere in a twodimensional space so you need to learn about projections latitude longitude how to convert latitude longitude to pixel XY space and how to do that based on what you're how to get a data source in how to then draw it and so that's what I'm doing the pieces here is I'm getting this image of the world map from an API called matte box Jes but certainly you could you know you have your own image you drew an image you designing them as you got it from somewhere else as long as you know how that image was made you can you can do the same kind of project that I'm doing in this particular video I'm also getting earthquake data from the USGS the United States the US Geological Survey they have lots of wonderful scientific data that you can experiment with and then I'm using p5.js to draw the image of the world and then draw all these circles now one thing I want to mention is towards the end of this video I work on something to try to scale the size of the circles according to the magnitude of the earthquake and I have a little bit of math backwards for probably about five minutes of the video someone in the chat points it out and then I correct it so if you're watching and you realize like oh those five words there that's what happens with buddy and I'm pretty sure I have the math right but if I have it wrong boy do I know that I'm gonna hear about it in the comments so I look forward to hearing your feedback your suggestions I hope you make something with this you share it with me at Schiffman on twitter and that you enjoy this ride on the Kotick train see you soon okay alright how did i do today everybody I came back this was a livestream about one hour I did a coding challenge it made sense it worked I don't think I had too many horrible errors in it I feel redeemed I feel like it's time for a lullaby awkward silence Oh for a second I thought I forgot to hit record to disk I was like oh my god I didn't record this whole thing to disk and now this by the way is the only lullaby we might do when I googled lullaby public domain I got this from freemusicarchive.org so while this plays I am going to see if there's any comments in the chat 10 out of 10 all right thank you everybody for the nice view how many people are watching right now I can't see that in my I guess if I go over here I can see it 494 I guess Friday night is not as popular of a time who is the guy who always writes in caps lock I have no idea but I know somebody who writes a lot in caps lock right now and I find it incredibly irritating maybe you know who I'm talking about any tips for being so enthusiastic and upbeat no I should give you some tips that was a rude answer I don't know just don't worry about things so much that's a terrible answer too you know I don't know that I walk through life like this but I do try to bring some energy and enthusiasm to the channel because people seem to respond to it and enjoy it oh right so a lot of people just left when I finish it okay that's nice to hear okay there should be a little a poll say from France who by the way has a wonderful YouTube channel I believe with a lot of stuff in French thank you for staying up so late to watch this that's crazy I can't believe you did that I'm so impressed requested a little dance which is I think I think maybe that I just need to have a softer dance I don't like that the soundboard thing is there so this will be good watch this that's what really work cuz I get cut off it again you should also turn this off right now okay I've got to go and how many viewers did I lose yes I'm sure someone will turn that into a gif I look forward to seeing that and I'll play all these videos and oh by the way I'm very excited to announce that next week I will be premiering a video with special guest Emily Jie and she made a matrix rain simulation it's fantastic so it's gonna be about a 45 minute coding challenge which is going to come and walk from beginning to end to make matrix rain and P 5 so I'm really excited for that to come out okay so thank you everyone thank you for this wonderful evening little surprise extra a coding challenge I haven't had any dinner I've barely checked my email all day I've actually just mostly been in this room I'm just like fear also that I'm gonna leave and like those whole buildings gonna be shut down McDuck I feel to get outside or alarms you to go set off but because I but I've never been on this floor so late so thanks everybody for watching I'm gonna turn this off and I look forward to hearing from you and seeing you at this point next Friday 1030 a.m. that's my plane yeah I got to figure out there was a little bit of an issue with sound and me being too loud so I've got to check in with some people to make sure that Friday morning time slot isn't gonna be a big problem but I will send out a tweet or something to my email list or whatever if I change the time for next week okay thanks everybody and see you soon bye bye
