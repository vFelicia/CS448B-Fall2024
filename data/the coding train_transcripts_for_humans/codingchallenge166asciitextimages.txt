With timestamps:

00:01 - hello
00:03 - choo-choo
00:04 - welcome to another coding challenge
00:06 - video i am i want to let you know
00:07 - something before i get started thinking
00:09 - about changing the name of the coding
00:10 - challenges to me the idea of a challenge
00:12 - is something you have to beat
00:14 - or like defeat i want something more
00:16 - exploratory and collaborative and train
00:18 - themed like a maybe a journey but i
00:20 - don't know if that works if you got any
00:21 - ideas let me know in the comments we'd
00:24 - love to hear what should these be called
00:26 - going forward but today boy do i have an
00:29 - exciting one for you it is one
00:31 - that i made during a live stream uh
00:34 - about a year ago translating an image's
00:36 - pixels to ascii characters like you're
00:39 - seeing right here so i want to do this
00:41 - again i bear i have no memory of doing
00:43 - this a year ago so i'm kind of starting
00:44 - fresh we'll see if the result i get is
00:46 - the same as what i have here and then
00:48 - hopefully you will make your own
00:50 - creative version of this and share it
00:52 - with me
00:54 - on the coding train website or in the
00:55 - comments or on social media or all the
00:57 - ways people share things with each other
00:58 - let's get started first i would like to
01:01 - thank
01:02 - ert
01:08 - this is a wonderful example i believe of
01:11 - some shader code to render
01:13 - some beautiful ascii art and it all
01:16 - relies entirely on this
01:19 - array of characters this array of
01:22 - characters is ordered from
01:25 - either brightest to darkest or darkest
01:28 - to brightest depending on what color
01:30 - you're sort of rendering the background
01:32 - or the character so i believe that what
01:35 - i can do oh let's use the whiteboard so
01:38 - the idea is that i have an image and
01:39 - maybe i'll start like i did a year ago
01:41 - with an image of a kitten
01:48 - now every pixel of an image has an rgb
01:52 - value
01:54 - typically the rgb values are stored as
01:56 - numbers between 0 and 255.
02:00 - if i want to get a brightness value for
02:03 - a given pixel the higher the number the
02:05 - more the color there is the more red the
02:07 - more green the more blue if all of those
02:10 - values are all the way up to 255 we've
02:12 - got white so the higher the numbers the
02:15 - brighter the pixel if i wanted to have
02:17 - one number to represent the brightness
02:19 - of a given pixel the sort of grayscale
02:21 - value of that pixel one way i could do
02:23 - that is by averaging these three values
02:28 - now there are more sophisticated
02:30 - algorithms for taking an rgb value and
02:32 - translating it into a black and white
02:34 - image a brightness value
02:37 - maybe i'll investigate that as i get
02:39 - further along with this project but i
02:40 - think i'm going to get a good enough
02:42 - effect just with the average so let's
02:45 - say that any one of these pixels let's
02:47 - pick this one
02:49 - let's say that its brightness value
02:50 - happens to be
02:52 - 137
02:55 - now if you'll come with me back over to
02:57 - my computer screen
02:59 - let me remind you again of this string
03:02 - of characters called density do you
03:04 - think is there any chance i could write
03:06 - out all of those in the same order on my
03:09 - whiteboard over there almost none but
03:11 - i'm gonna try to do it anyway
03:18 - mark estimation abc oh no i ran out of
03:22 - room i did not plan this well
03:24 - close enough that keeps going maybe i'll
03:26 - maybe it'll be fixed who knows i don't
03:28 - know what you're seeing because it's
03:29 - like a magic thing happens after i do
03:30 - this it's amazing if we're looking at
03:33 - this like first of all there are so many
03:35 - possible one beautiful abstract
03:38 - generative kinds of images we could make
03:40 - just using these ascii characters so i
03:43 - would encourage you to go in that
03:44 - direction but i'm going to go in a
03:46 - different direction which is to say the
03:48 - denser the character the more pixels it
03:51 - uses i'm going to match that to a bright
03:54 - pixel
03:55 - so essentially i could create some sort
03:57 - of mapping
03:58 - where if the color is 255 the brightness
04:01 - value then i would render this
04:04 - particular character if the brightness
04:06 - value were zero i would render whatever
04:08 - character i didn't get to down here and
04:11 - then 137 would be appropriately
04:14 - somewhere here so like 127 would be
04:16 - exactly in the middle so maybe 137 this
04:19 - is like highly approximate might be this
04:22 - character would get drawn over here to
04:25 - represent you know the uh ear of this
04:28 - particular cat who is now sadly in jail
04:31 - oh that poor cousin let's play we got to
04:33 - let the cat out cat go free
04:35 - run
04:36 - like the wind
04:38 - go so the first thing i'm going to do is
04:41 - take this string of characters and bring
04:43 - it into my own p5.js sketch
04:47 - now in case for some reason this is the
04:48 - first time you're ever watching the
04:49 - coding train this is p5.js a javascript
04:52 - library for
04:53 - creative coding images animations and
04:55 - all sorts of wonderful beautiful stuff
04:57 - find out more at p5js.org
04:59 - i also want to point out that i'm trying
05:00 - to get in the habit a little bit more
05:02 - about when i declare a variable that i
05:04 - know isn't going to ever change i'm
05:06 - going to use const instead of let oh i
05:09 - forgot to talk about the timer
05:12 - has there been a timer going this whole
05:13 - time i hope so good it's usually now
05:16 - over here that's where it is it should
05:18 - be there how long i've been doing this
05:19 - for like seven and a half hours even
05:21 - though you've only been watching this
05:22 - for 10 minutes or whatever it is right
05:24 - now before i start trying to load a
05:26 - video into my p5 just sketch i have got
05:29 - this nice little photo of gloria pickle
05:33 - dog and i quickly just removed the
05:35 - background from the image in photoshop
05:37 - which i think will make the ascii
05:39 - version of this image pop a bit more
05:41 - in terms of what i'm about to try to do
05:43 - so um i uploaded a very small 48 by 48
05:46 - pixel size image to this p5 uh project
05:50 - i've got a separate video about how to
05:52 - upload files to the editor if that's
05:53 - something that you haven't done before
05:55 - and then all i need to do is add a
05:57 - preload function to load the image
06:04 - and we can see that gloria has been
06:06 - loaded it's kind of fuzzy it's blurry
06:08 - because i'm using this very low
06:10 - resolution version that's going to make
06:11 - translating it over to ascii easier of
06:14 - course i could work with altering the
06:16 - scale within the code itself but i think
06:18 - the demonstrations could be much easier
06:20 - if it is a one-to-one napping each pixel
06:24 - gets one character
06:26 - the next step that i need to do is write
06:29 - an algorithm to walk through and look at
06:31 - the brightness of every single pixel
06:34 - within this image
06:45 - now this is probably a block of code
06:48 - that i have typed in countless numbers
06:51 - of videos and explained it over and over
06:53 - again i do have an entire video all
06:55 - about how the pixel array works in p5.js
06:59 - so i would look at that if you want all
07:00 - of the details but just to give you the
07:02 - quick high level points every single
07:04 - pixel has an rgb value as well as an
07:09 - alpha value the alpha dealing with
07:12 - transparency so i am not worrying about
07:14 - transparency for this particular
07:16 - application but i do have to account for
07:18 - that within the pixel array every single
07:21 - pixel we can think of as having a number
07:25 - zero through the end of the image
07:32 - so in this case with this five by five
07:35 - image there's 25 pixels but since every
07:39 - single pixel
07:40 - has four numbers associated with it the
07:43 - actual array
07:45 - storing all the information is rgba
07:49 - for pixel 0
07:50 - then rgba
07:52 - for pixel 1 then rgba for pixel 2 etc
07:57 - etc so that translates back to
08:00 - this really nice formula where i can say
08:02 - the column plus the row times the width
08:06 - times 4 gives me the red value for any
08:09 - given column and row pixel and then i
08:12 - could get the green value by going one
08:14 - spot later and the red the blue value
08:16 - sorry by going two spots later so i kind
08:19 - of just explained the whole thing uh it
08:21 - might not have total made sense to you
08:23 - what i would suggest if this is
08:24 - confusing to you go find a piece of
08:26 - graph paper or any regular paper make
08:28 - your own little five by five image and
08:30 - just try numbering everything and trying
08:32 - things manually that's really the way i
08:34 - learned this stuff and kind of was able
08:36 - to wrap my head around it and you can
08:37 - also check out that other video where i
08:39 - explain it in more detail just to make
08:40 - sure this worked let me now try to draw
08:42 - every pixel as a square so first thing i
08:44 - need to do is figure out how what is the
08:46 - size of the squares
08:49 - for the moment i'm still working on this
08:51 - for canvas i'm going to try to switch
08:52 - over to making these dom elements at
08:54 - some point but i could just take the
08:55 - width of the canvas divided by the width
08:57 - of the actual image to know what that
08:59 - ratio is
09:04 - what did i do wrong
09:05 - what did i do wrong here i messed
09:07 - something up
09:08 - i guess i need to call load pixels
09:12 - ah i need to call load pixels so if i'm
09:15 - going to use the pixel array of that
09:17 - image i've gotta alert p5 to it and call
09:19 - load pixels so there you can see
09:21 - pixelated gloria i think for changing
09:24 - this into ascii having an even lower
09:26 - resolution image of gloria is going to
09:28 - improve things so i quickly made one
09:30 - that's just 20 by 20 and uploaded that
09:33 - and i'm using that instead now now again
09:34 - there's so many visualization
09:36 - possibilities we could do here with rgb
09:38 - color with multiple images with varying
09:40 - degrees of resolution
09:42 - i'm not gonna go down all of those roads
09:44 - it's a train it's a train it's not a car
09:46 - we're not driving on a road it's a train
09:48 - the track the train track i'm gonna
09:50 - follow is towards ascii so let's now
09:53 - look at the brightness value of each of
09:55 - these just by doing the average of rgb
09:57 - now there is a p5.js function called
09:59 - brightness we could try that and see if
10:01 - we get a different result um this is
10:03 - actually taking the color value and
10:04 - converting it to hue saturation
10:06 - brightness but just to keep things
10:08 - simple for me just going to do the
10:09 - average
10:12 - now we can see a grayscale version of
10:15 - gloria now to add text so what if i were
10:18 - instead of drawing a square we're just
10:21 - to draw an individual character just the
10:23 - character g for gloria
10:27 - let's not draw the image anymore
10:30 - let's make the font the size of the
10:32 - square
10:34 - and then i will need to shift everything
10:36 - down because i want the letter to appear
10:38 - in the center of the square
10:43 - i think this would probably more be much
10:45 - more clear if i use the black background
10:47 - and we could kind of see gloria peeking
10:49 - out there from all of those g's but
10:52 - again this is not what i want to do this
10:54 - is something i could do and there's
10:55 - plenty of possible outcomes maybe i
10:57 - could start writing some poetry or
10:59 - having the text change or pulling from a
11:01 - live data feed so many things but
11:03 - instead i want to take the brightness
11:06 - value and map it to one of these
11:08 - characters in my density string
11:12 - so i can get the length of the string
11:14 - so now i need the mapping to go from
11:16 - zero to that length or length minus one
11:20 - so that character index is
11:25 - take the brightness value which has a
11:27 - range between 0 and 255 and map that to
11:30 - some number between 0 and the length of
11:32 - the string ah but this is going to give
11:35 - me interim values like character
11:38 - 3.1759 it's like kind of like pi but not
11:41 - i don't know why i picked that out of my
11:42 - head so i need to add the floor function
11:45 - to take the decimal off so i'm only
11:47 - getting the index to a particular value
11:49 - 0 1 2 3.
11:52 - now instead of drawing g i can just draw
11:55 - that particular character
11:59 - and the point of this is for the
12:01 - brightness to come not from me setting
12:05 - the color of that character i'm drawing
12:06 - but from the contours the amount of
12:08 - pixels that shape of that character
12:10 - itself so now the fill shouldn't be tied
12:13 - to brightness it should just be 255 for
12:16 - all of them now do you see
12:19 - do we see gloria in there not so much
12:22 - just yet let's see if we can fiddle with
12:24 - this a bit one thing is this is inverted
12:26 - right so remember the brightest
12:29 - characters are at the front the
12:31 - beginning of the string and the darker
12:33 - ones are at the end so i want to reverse
12:35 - this to from length down to zero
12:38 - there now that looks quite a bit more
12:41 - like gloria i think there's an issue
12:43 - here with the spacing between the
12:45 - characters maybe i want to have the the
12:48 - spacing between the characters to be
12:50 - less
12:51 - i want to arrange them in a different
12:52 - way i want to use a different font a
12:53 - different scale
12:55 - but i think that this is going to be
12:57 - more effective to play with by changing
13:00 - this over from canvas to actual dom
13:03 - elements meaning i'm going to render the
13:06 - text on the web page itself rather than
13:08 - draw the pixels for text into a image a
13:12 - canvas image both have value depending
13:14 - on what application you might want to
13:15 - use this for but i'm just curious to see
13:18 - since i'm in the browser i could
13:20 - actually just copy paste my ascii art
13:23 - and put it into somewhere else that
13:24 - would be kind of fun to do i'm going to
13:26 - take a big leap of faith now and get rid
13:28 - of create canvas and type in no canvas
13:33 - i'm also going to remove the draw loop
13:36 - because i'm just rendering a static
13:38 - image now of course once i add video in
13:40 - a moment you know at about 17 hours into
13:42 - this video
13:44 - then i'll need to put the draw loop or
13:46 - some type of uh animation back in but
13:49 - right now i'm going to remove that one
13:50 - thing i'm curious about actually is can
13:53 - i get gloria to show up just in the
13:55 - console
13:56 - right because ultimately what i'm doing
13:59 - is for every row now i need to do the
14:01 - rows and i just realized that my
14:04 - algorithm is in reverse because i'm
14:07 - taking for every
14:09 - column no i need i need to do all of the
14:11 - columns in other words
14:13 - currently the way i've written those
14:14 - nested loops i'm going to this pixel
14:17 - then this pixel and this pixel and this
14:18 - pixel and this pixel then back up to
14:20 - here and what i want to do instead is go
14:23 - through all of the columns then down to
14:25 - the next row so i think i could just
14:27 - flip those two lines of
14:28 - code and then i can accumulate all of
14:31 - the characters into a string for each
14:34 - row
14:35 - there's no concept of drawing now
14:41 - just that row of characters and i
14:44 - believe then i should be able to just
14:46 - say
14:47 - console log row
14:49 - run the sketch
14:53 - that's kind of a squashed gloria right
14:55 - stretch it out can we like stretch out
14:57 - in post somehow just to like see it for
14:59 - a moment so the reason it's squashed is
15:02 - because each pixel takes up the same
15:05 - amount of space horizontally and
15:07 - vertically but
15:09 - these particular pixels are spread out
15:12 - there's more spacing between each line
15:14 - than there is between each character so
15:15 - i could have more control over
15:17 - manipulating that by rendering my own
15:19 - text into the browser page
15:22 - now i can't see it because i've got a
15:25 - dark gray background
15:26 - and very small characters that are black
15:28 - text so i can add some code into the css
15:30 - file to change the background color set
15:33 - the font and make the font larger
15:38 - now if you don't know css good we're in
15:41 - the same boat neither do i but i know
15:43 - enough to kind of make things work when
15:45 - i need to and i do have a video tutorial
15:47 - a bit about the basics of css that you
15:49 - could refer to one thing that's kind of
15:51 - critical here that i haven't addressed
15:53 - is that i'm using the font courier on
15:55 - purpose for me it's a little bit easier
15:57 - right now to just use a fixed width font
15:59 - meaning every character no matter what
16:01 - it is takes up the same amount of
16:03 - horizontal space um this makes just sort
16:06 - of the math of arranging the pixels much
16:08 - easier although it is an interesting
16:09 - problem to think about how we would do
16:11 - this without a fixed swift font that's
16:13 - something that you could take on as your
16:14 - own challenge perhaps i'm also noticing
16:17 - something a bit odd here which is that
16:19 - the contours of gloria are lost every
16:22 - single row starts all the way over at
16:24 - the left why is this well if we go back
16:27 - to here you might notice that this
16:29 - character at the very end of the density
16:31 - string is a space and if i put a space
16:35 - into a web page it's not actually going
16:37 - to necessarily render it unless it's in
16:39 - between characters in a particular way
16:42 - so what i need to do here is instead of
16:45 - rendering a space actually use the
16:48 - non-breaking space character thingymabob
16:51 - what is that
16:54 - ah it is an html entity which is a piece
16:57 - of text that begins with an ampersand it
16:59 - ends with a semicolon and there's
17:01 - different reserved ones like ampersand
17:04 - greater than less than there's one for
17:06 - non-breaking space character i forget
17:08 - what that is though what does it stand
17:10 - for non-breaking space i think it's just
17:12 - sp for space
17:20 - i think what i'll try to do is add the
17:22 - line height property to spring the lines
17:24 - a bit closer to each other
17:28 - if i make that 12 point okay that's much
17:31 - too overlapping
17:34 - that's a little bit better
17:36 - let me go back to the higher resolution
17:38 - image
17:39 - the one that was 48 by 48 pixels
17:42 - make a smaller font size
17:45 - and there we go you can see glory in
17:47 - there can't you
17:49 - don't you see gloria what i love about
17:51 - this now is i can take this hit copy
17:54 - make a just a plain text file and paste
17:56 - it in this is definitely looking much
17:58 - better kind of white on black let me try
18:01 - to recreate that in my version here
18:06 - ta-da
18:07 - gloria pickle as ascii art
18:10 - now i want to show you how easy i think
18:13 - this will be to take this from a static
18:16 - image to a video i have no idea where
18:18 - the timer is at right now but i expect
18:21 - that i'm gonna have it in the next
18:23 - minute or two instead of gloria let me
18:25 - make a variable called video
18:28 - no more preload
18:30 - there's my video image right now
18:34 - let me resize it to 48 by 48
18:37 - i'm going to add draw back in
18:39 - to use the draw loop even though there's
18:41 - no canvas i don't need these width and
18:43 - heights anymore i forgot about that
18:44 - because i'm not drawing
18:47 - this should be video
18:51 - hey i'm getting somewhere really fast
18:53 - and oh i've i've done a horrible thing
18:56 - so because i'm using creative i hit stop
18:59 - i just created image after image after
19:01 - image on the page so instead of using
19:03 - creative i need to update the text of
19:05 - each div
19:06 - i think this will also be easier if i
19:08 - just make one div that has line breaks
19:10 - in it rather than each row is a
19:12 - particular div you might be asking what
19:15 - is the div
19:16 - i'll include a link in the video's
19:18 - description with more info
19:23 - so now just one div that i'm going to
19:25 - display on the page so instead of each
19:28 - row being a separate string
19:31 - i'm just going to write
19:34 - a string called ascii image
19:38 - and accumulate all the text into ascii
19:40 - image and then
19:41 - after each row
19:45 - add the html tag for a line break i
19:48 - believe
19:50 - this should work
19:53 - okay well i need to update the div to
19:55 - include that text
19:59 - and we've done it
20:01 - we can stop the timer i mean we have
20:03 - some more things to say i want to clean
20:04 - this up a little bit but we can stop the
20:06 - timer this is pretty close to whatever i
20:08 - did a year ago looking at this i'd like
20:10 - to sort of see if i can fix this up a
20:12 - bit one of the things that i can
20:14 - immediately do is work with that string
20:17 - of characters that i have in my density
20:20 - string for example what i since i have
20:22 - this kind of locked in green background
20:25 - i think i can use many more blank
20:28 - characters blank spaces for uh darker
20:31 - characters
20:32 - so for example just adding a lot of
20:34 - spaces here
20:37 - we can start to see that i am kind of
20:40 - reducing i'm essentially thresholding
20:42 - the image in a way so that only the
20:45 - brightest pixels
20:46 - get uh kind of going with a particular
20:49 - character i can also just use different
20:51 - character strings
20:54 - for example here's another one although
20:55 - i have it inverted so if i have the
20:57 - darker characters at the beginning of
20:59 - the string and the brighter characters
21:01 - at the end
21:02 - i will want to change update my mapping
21:05 - to go from zero
21:07 - to length
21:08 - we can also play around with the
21:10 - resolution of the image i don't need to
21:12 - squash it into a square i don't
21:14 - think so now if it's 64 by 48 and i've
21:18 - adjusted the spacing of the characters
21:20 - and the line height i've done a pretty
21:22 - good job of having the image retain its
21:25 - original aspect ratio and dimensions i'm
21:28 - recording this during a live twitch
21:29 - stream so by the way you can go
21:31 - subscribe on twitch i don't know how
21:32 - much i'll be streaming on twitch versus
21:34 - youtube but i might as well put this in
21:35 - the video right now and in the chat i
21:37 - just got a suggestion why don't you
21:39 - filter out green since that's what a
21:40 - green screen is for so yes if i want to
21:43 - make use of the color values of the
21:45 - pixels there's a lot more that i could
21:47 - try i just i could keep going i don't
21:49 - want to keep going i want to stop here i
21:51 - want you to explore this and i want to
21:54 - create i want to see what kind of ascii
21:56 - art you create from this video please
21:58 - share it with me on the coding train
21:59 - website on social media all the links
22:02 - and various things are in the
22:03 - description thanks for tuning in i hope
22:05 - you enjoyed this coding challenge ah the
22:08 - boiler just came on there's a loud
22:10 - buzzing sound i'm leaving it in we're
22:12 - leaving it in this is in i'm in a
22:15 - freezing cold garage right now i had the
22:18 - heat off during this whole time just so
22:20 - i've been recording this coating
22:21 - challenge with you the heat just came
22:23 - back on i'm gonna go warm up inside with
22:25 - a toasty mug of something and i'll see
22:27 - you next time on the coding train
22:30 - [Music]
22:41 - you

Cleaned transcript:

hello choochoo welcome to another coding challenge video i am i want to let you know something before i get started thinking about changing the name of the coding challenges to me the idea of a challenge is something you have to beat or like defeat i want something more exploratory and collaborative and train themed like a maybe a journey but i don't know if that works if you got any ideas let me know in the comments we'd love to hear what should these be called going forward but today boy do i have an exciting one for you it is one that i made during a live stream uh about a year ago translating an image's pixels to ascii characters like you're seeing right here so i want to do this again i bear i have no memory of doing this a year ago so i'm kind of starting fresh we'll see if the result i get is the same as what i have here and then hopefully you will make your own creative version of this and share it with me on the coding train website or in the comments or on social media or all the ways people share things with each other let's get started first i would like to thank ert this is a wonderful example i believe of some shader code to render some beautiful ascii art and it all relies entirely on this array of characters this array of characters is ordered from either brightest to darkest or darkest to brightest depending on what color you're sort of rendering the background or the character so i believe that what i can do oh let's use the whiteboard so the idea is that i have an image and maybe i'll start like i did a year ago with an image of a kitten now every pixel of an image has an rgb value typically the rgb values are stored as numbers between 0 and 255. if i want to get a brightness value for a given pixel the higher the number the more the color there is the more red the more green the more blue if all of those values are all the way up to 255 we've got white so the higher the numbers the brighter the pixel if i wanted to have one number to represent the brightness of a given pixel the sort of grayscale value of that pixel one way i could do that is by averaging these three values now there are more sophisticated algorithms for taking an rgb value and translating it into a black and white image a brightness value maybe i'll investigate that as i get further along with this project but i think i'm going to get a good enough effect just with the average so let's say that any one of these pixels let's pick this one let's say that its brightness value happens to be 137 now if you'll come with me back over to my computer screen let me remind you again of this string of characters called density do you think is there any chance i could write out all of those in the same order on my whiteboard over there almost none but i'm gonna try to do it anyway mark estimation abc oh no i ran out of room i did not plan this well close enough that keeps going maybe i'll maybe it'll be fixed who knows i don't know what you're seeing because it's like a magic thing happens after i do this it's amazing if we're looking at this like first of all there are so many possible one beautiful abstract generative kinds of images we could make just using these ascii characters so i would encourage you to go in that direction but i'm going to go in a different direction which is to say the denser the character the more pixels it uses i'm going to match that to a bright pixel so essentially i could create some sort of mapping where if the color is 255 the brightness value then i would render this particular character if the brightness value were zero i would render whatever character i didn't get to down here and then 137 would be appropriately somewhere here so like 127 would be exactly in the middle so maybe 137 this is like highly approximate might be this character would get drawn over here to represent you know the uh ear of this particular cat who is now sadly in jail oh that poor cousin let's play we got to let the cat out cat go free run like the wind go so the first thing i'm going to do is take this string of characters and bring it into my own p5.js sketch now in case for some reason this is the first time you're ever watching the coding train this is p5.js a javascript library for creative coding images animations and all sorts of wonderful beautiful stuff find out more at p5js.org i also want to point out that i'm trying to get in the habit a little bit more about when i declare a variable that i know isn't going to ever change i'm going to use const instead of let oh i forgot to talk about the timer has there been a timer going this whole time i hope so good it's usually now over here that's where it is it should be there how long i've been doing this for like seven and a half hours even though you've only been watching this for 10 minutes or whatever it is right now before i start trying to load a video into my p5 just sketch i have got this nice little photo of gloria pickle dog and i quickly just removed the background from the image in photoshop which i think will make the ascii version of this image pop a bit more in terms of what i'm about to try to do so um i uploaded a very small 48 by 48 pixel size image to this p5 uh project i've got a separate video about how to upload files to the editor if that's something that you haven't done before and then all i need to do is add a preload function to load the image and we can see that gloria has been loaded it's kind of fuzzy it's blurry because i'm using this very low resolution version that's going to make translating it over to ascii easier of course i could work with altering the scale within the code itself but i think the demonstrations could be much easier if it is a onetoone napping each pixel gets one character the next step that i need to do is write an algorithm to walk through and look at the brightness of every single pixel within this image now this is probably a block of code that i have typed in countless numbers of videos and explained it over and over again i do have an entire video all about how the pixel array works in p5.js so i would look at that if you want all of the details but just to give you the quick high level points every single pixel has an rgb value as well as an alpha value the alpha dealing with transparency so i am not worrying about transparency for this particular application but i do have to account for that within the pixel array every single pixel we can think of as having a number zero through the end of the image so in this case with this five by five image there's 25 pixels but since every single pixel has four numbers associated with it the actual array storing all the information is rgba for pixel 0 then rgba for pixel 1 then rgba for pixel 2 etc etc so that translates back to this really nice formula where i can say the column plus the row times the width times 4 gives me the red value for any given column and row pixel and then i could get the green value by going one spot later and the red the blue value sorry by going two spots later so i kind of just explained the whole thing uh it might not have total made sense to you what i would suggest if this is confusing to you go find a piece of graph paper or any regular paper make your own little five by five image and just try numbering everything and trying things manually that's really the way i learned this stuff and kind of was able to wrap my head around it and you can also check out that other video where i explain it in more detail just to make sure this worked let me now try to draw every pixel as a square so first thing i need to do is figure out how what is the size of the squares for the moment i'm still working on this for canvas i'm going to try to switch over to making these dom elements at some point but i could just take the width of the canvas divided by the width of the actual image to know what that ratio is what did i do wrong what did i do wrong here i messed something up i guess i need to call load pixels ah i need to call load pixels so if i'm going to use the pixel array of that image i've gotta alert p5 to it and call load pixels so there you can see pixelated gloria i think for changing this into ascii having an even lower resolution image of gloria is going to improve things so i quickly made one that's just 20 by 20 and uploaded that and i'm using that instead now now again there's so many visualization possibilities we could do here with rgb color with multiple images with varying degrees of resolution i'm not gonna go down all of those roads it's a train it's a train it's not a car we're not driving on a road it's a train the track the train track i'm gonna follow is towards ascii so let's now look at the brightness value of each of these just by doing the average of rgb now there is a p5.js function called brightness we could try that and see if we get a different result um this is actually taking the color value and converting it to hue saturation brightness but just to keep things simple for me just going to do the average now we can see a grayscale version of gloria now to add text so what if i were instead of drawing a square we're just to draw an individual character just the character g for gloria let's not draw the image anymore let's make the font the size of the square and then i will need to shift everything down because i want the letter to appear in the center of the square i think this would probably more be much more clear if i use the black background and we could kind of see gloria peeking out there from all of those g's but again this is not what i want to do this is something i could do and there's plenty of possible outcomes maybe i could start writing some poetry or having the text change or pulling from a live data feed so many things but instead i want to take the brightness value and map it to one of these characters in my density string so i can get the length of the string so now i need the mapping to go from zero to that length or length minus one so that character index is take the brightness value which has a range between 0 and 255 and map that to some number between 0 and the length of the string ah but this is going to give me interim values like character 3.1759 it's like kind of like pi but not i don't know why i picked that out of my head so i need to add the floor function to take the decimal off so i'm only getting the index to a particular value 0 1 2 3. now instead of drawing g i can just draw that particular character and the point of this is for the brightness to come not from me setting the color of that character i'm drawing but from the contours the amount of pixels that shape of that character itself so now the fill shouldn't be tied to brightness it should just be 255 for all of them now do you see do we see gloria in there not so much just yet let's see if we can fiddle with this a bit one thing is this is inverted right so remember the brightest characters are at the front the beginning of the string and the darker ones are at the end so i want to reverse this to from length down to zero there now that looks quite a bit more like gloria i think there's an issue here with the spacing between the characters maybe i want to have the the spacing between the characters to be less i want to arrange them in a different way i want to use a different font a different scale but i think that this is going to be more effective to play with by changing this over from canvas to actual dom elements meaning i'm going to render the text on the web page itself rather than draw the pixels for text into a image a canvas image both have value depending on what application you might want to use this for but i'm just curious to see since i'm in the browser i could actually just copy paste my ascii art and put it into somewhere else that would be kind of fun to do i'm going to take a big leap of faith now and get rid of create canvas and type in no canvas i'm also going to remove the draw loop because i'm just rendering a static image now of course once i add video in a moment you know at about 17 hours into this video then i'll need to put the draw loop or some type of uh animation back in but right now i'm going to remove that one thing i'm curious about actually is can i get gloria to show up just in the console right because ultimately what i'm doing is for every row now i need to do the rows and i just realized that my algorithm is in reverse because i'm taking for every column no i need i need to do all of the columns in other words currently the way i've written those nested loops i'm going to this pixel then this pixel and this pixel and this pixel and this pixel then back up to here and what i want to do instead is go through all of the columns then down to the next row so i think i could just flip those two lines of code and then i can accumulate all of the characters into a string for each row there's no concept of drawing now just that row of characters and i believe then i should be able to just say console log row run the sketch that's kind of a squashed gloria right stretch it out can we like stretch out in post somehow just to like see it for a moment so the reason it's squashed is because each pixel takes up the same amount of space horizontally and vertically but these particular pixels are spread out there's more spacing between each line than there is between each character so i could have more control over manipulating that by rendering my own text into the browser page now i can't see it because i've got a dark gray background and very small characters that are black text so i can add some code into the css file to change the background color set the font and make the font larger now if you don't know css good we're in the same boat neither do i but i know enough to kind of make things work when i need to and i do have a video tutorial a bit about the basics of css that you could refer to one thing that's kind of critical here that i haven't addressed is that i'm using the font courier on purpose for me it's a little bit easier right now to just use a fixed width font meaning every character no matter what it is takes up the same amount of horizontal space um this makes just sort of the math of arranging the pixels much easier although it is an interesting problem to think about how we would do this without a fixed swift font that's something that you could take on as your own challenge perhaps i'm also noticing something a bit odd here which is that the contours of gloria are lost every single row starts all the way over at the left why is this well if we go back to here you might notice that this character at the very end of the density string is a space and if i put a space into a web page it's not actually going to necessarily render it unless it's in between characters in a particular way so what i need to do here is instead of rendering a space actually use the nonbreaking space character thingymabob what is that ah it is an html entity which is a piece of text that begins with an ampersand it ends with a semicolon and there's different reserved ones like ampersand greater than less than there's one for nonbreaking space character i forget what that is though what does it stand for nonbreaking space i think it's just sp for space i think what i'll try to do is add the line height property to spring the lines a bit closer to each other if i make that 12 point okay that's much too overlapping that's a little bit better let me go back to the higher resolution image the one that was 48 by 48 pixels make a smaller font size and there we go you can see glory in there can't you don't you see gloria what i love about this now is i can take this hit copy make a just a plain text file and paste it in this is definitely looking much better kind of white on black let me try to recreate that in my version here tada gloria pickle as ascii art now i want to show you how easy i think this will be to take this from a static image to a video i have no idea where the timer is at right now but i expect that i'm gonna have it in the next minute or two instead of gloria let me make a variable called video no more preload there's my video image right now let me resize it to 48 by 48 i'm going to add draw back in to use the draw loop even though there's no canvas i don't need these width and heights anymore i forgot about that because i'm not drawing this should be video hey i'm getting somewhere really fast and oh i've i've done a horrible thing so because i'm using creative i hit stop i just created image after image after image on the page so instead of using creative i need to update the text of each div i think this will also be easier if i just make one div that has line breaks in it rather than each row is a particular div you might be asking what is the div i'll include a link in the video's description with more info so now just one div that i'm going to display on the page so instead of each row being a separate string i'm just going to write a string called ascii image and accumulate all the text into ascii image and then after each row add the html tag for a line break i believe this should work okay well i need to update the div to include that text and we've done it we can stop the timer i mean we have some more things to say i want to clean this up a little bit but we can stop the timer this is pretty close to whatever i did a year ago looking at this i'd like to sort of see if i can fix this up a bit one of the things that i can immediately do is work with that string of characters that i have in my density string for example what i since i have this kind of locked in green background i think i can use many more blank characters blank spaces for uh darker characters so for example just adding a lot of spaces here we can start to see that i am kind of reducing i'm essentially thresholding the image in a way so that only the brightest pixels get uh kind of going with a particular character i can also just use different character strings for example here's another one although i have it inverted so if i have the darker characters at the beginning of the string and the brighter characters at the end i will want to change update my mapping to go from zero to length we can also play around with the resolution of the image i don't need to squash it into a square i don't think so now if it's 64 by 48 and i've adjusted the spacing of the characters and the line height i've done a pretty good job of having the image retain its original aspect ratio and dimensions i'm recording this during a live twitch stream so by the way you can go subscribe on twitch i don't know how much i'll be streaming on twitch versus youtube but i might as well put this in the video right now and in the chat i just got a suggestion why don't you filter out green since that's what a green screen is for so yes if i want to make use of the color values of the pixels there's a lot more that i could try i just i could keep going i don't want to keep going i want to stop here i want you to explore this and i want to create i want to see what kind of ascii art you create from this video please share it with me on the coding train website on social media all the links and various things are in the description thanks for tuning in i hope you enjoyed this coding challenge ah the boiler just came on there's a loud buzzing sound i'm leaving it in we're leaving it in this is in i'm in a freezing cold garage right now i had the heat off during this whole time just so i've been recording this coating challenge with you the heat just came back on i'm gonna go warm up inside with a toasty mug of something and i'll see you next time on the coding train you
