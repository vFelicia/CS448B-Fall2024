With timestamps:

00:02 - [Music]
00:05 - good evening
00:08 - happy Friday night it is actually a
00:10 - Friday night I think it's sunny and
00:12 - beautiful out in New York City I have
00:14 - been in a dark room all day all week in
00:17 - fact watching ITP thesis presentations
00:20 - let me just say that my mind was blown
00:23 - many many many times over and I just
00:26 - want to mention this before I do
00:28 - anything else that if you go to ITP NYU
00:32 - edu slash thesis you will come to this
00:39 - website and I think somewhere from here
00:46 - you'll be able to find videos of all the
00:49 - thesis presentations so you should check
00:53 - those out all right so my brain has
00:56 - melted a little bit out of this ear I
00:59 - think I'm about a hundred presentations
01:01 - probably I don't know the exact number
01:03 - that I watched this week Tuesday
01:05 - Wednesday Thursday Friday all day they
01:07 - finished up about an hour and about an
01:09 - hour ago and then I ran up here I'm
01:12 - gonna do a live stream this week somehow
01:14 - someway you might notice I have this
01:17 - weird microphone here because I couldn't
01:20 - find the other microphone and this was
01:22 - being used and then I got this one so I
01:23 - don't know hopefully this works and
01:26 - isn't too weird looking I feel like I
01:31 - should be putting my finger in this ear
01:33 - and singing so that's one thing the
01:36 - other thing I want that's it that's it
01:40 - morning I think I think things work
01:42 - better for me in the morning when I
01:43 - livestream so oh I is the quality
01:47 - looking okay for everybody I'm getting
01:48 - on my dashboard here stream status bad
01:55 - all right
02:01 - so here we are I don't think this camera
02:04 - is on is it wait hold on there we go I
02:16 - want to read for I want to do a dramatic
02:18 - reading of an email I received earlier
02:20 - this week I don't know if anyone has
02:30 - asked you about this yet but do you use
02:33 - the Canon 5d Mark 3 s for live-streaming
02:35 - and have you figured out a way to
02:37 - disable auto power off
02:39 - we've tried installing magic lantern but
02:41 - we still can't figure out how to keep it
02:43 - from sleeping on live feud stand by yeah
02:46 - I don't know so just just just I'm gonna
02:49 - I'm gonna tackle this problem someday
02:51 - we're gonna we're gonna figure it out
02:53 - but for now for today still these
02:55 - cameras are going to shut off at Ramez
02:57 - other issue I'm having is that I I need
03:00 - new lenses these lenses if you could
03:04 - believe this in my glasses were
03:06 - purchased in the year travel back in
03:11 - time to when you remember I don't know
03:13 - what was it the Macarena was big No 2015
03:18 - I think the Macarena was in the 90s okay
03:20 - remember 2015 these these lenses are
03:22 - really all my prescription actually
03:23 - hasn't changed the frames changed we
03:25 - kept buying the same frames you know
03:26 - what I had my bicycle accident last year
03:28 - my the frames broke but the lens remain
03:29 - intact but recently I didn't notice
03:32 - thing they're like these like scratches
03:34 - and they're they're they're older I got
03:37 - to get new lenses but right now I can my
03:40 - vision in this left eye isn't optimal
03:43 - let's just say so if I I've got this
03:45 - microphone here and if I look out of
03:47 - this part of the lens I can see you so
03:49 - this is this is the way I'm gonna be
03:50 - standing so I'm in a bit of a crazy time
03:57 - of year I'm hoping as things settle down
04:00 - and I move into the months of June and
04:03 - July that I will establish sort of a
04:05 - weekly schedule diving into some
04:07 - exciting coding challenges that I have
04:09 - on the horizon some tutorials that I'd
04:12 - like to do around machine learning and
04:13 - tensorflow Jas and
04:15 - this new library called ml5 and all
04:17 - sorts of things but I'm just I don't
04:18 - know maybe maybe this I don't even know
04:21 - why I'm bothering to say this because
04:22 - I'm probably just always going to be in
04:24 - this state of complete and total
04:27 - disrepair oh the Macarena yes me I am
04:32 - sue me says now that you've referenced
04:33 - it you have to do the Macarena it's a
04:35 - good boy I can't play the song the
04:37 - Macarena because then I will get a
04:39 - copyright notification although
04:41 - sometimes it's worth it and these live
04:42 - streams I might as well just play all
04:44 - them you all the music I want to play
04:46 - and then get those copyright
04:49 - notifications because sometimes it's
04:50 - worth it for no no no no shoot there
05:04 - must be some like a visual guide to
05:06 - doing the Macarena I know that I know
05:13 - the hand jive this one no this one
05:21 - really well
05:22 - okay was that is this a coding channel I
05:26 - think it might be it may or may not be
05:29 - [Music]
05:32 - have SB 129 asks in the chat have you
05:38 - ever thought of live streaming on Twitch
05:40 - I have I have thought about it many a
05:43 - time in fact I have live streamed on
05:44 - Twitch but I've live stream on YouTube
05:51 - somebody would just if somebody could
05:53 - come maybe some like corporate Overlord
05:56 - could buy the coding court that's a bad
05:57 - idea
05:58 - I like being in sort of independent
05:59 - entity although I am of course the
06:03 - Google all my stuff is all over the
06:07 - Google there's not really a way around
06:09 - that right now what was this thing I
06:10 - just want somebody to tell me what's -
06:13 - but no I'm left I actually I do have
06:17 - something to talk about today you know
06:19 - I'm gonna save this till the end I don't
06:20 - want to I don't want to bore or I don't
06:23 - want to I don't want to emphasize this
06:24 - too much but I I did get something
06:26 - unlocked in
06:26 - my account today which is YouTube
06:28 - sponsorships which is like a patreon
06:30 - thing built into YouTube and so I'm
06:32 - gonna talk about I'll talk about that at
06:33 - the end somebody remind me I could sing
06:37 - it myself Bush was a beat me I am so he
06:39 - is writing you could sing it yourself
06:41 - twitch is doing a super low latency beta
06:44 - right now no interesting twitch is only
06:47 - good for people in the US that's I'm
06:50 - also being told so this is all very
06:52 - useful information so what is happening
06:55 - today I would like to talk more about
06:59 - tensorflow jazz now let's see where we
07:01 - are it would be so nice it would be so
07:05 - nice so many whiteboard markers because
07:13 - they go bad so quickly I have six of
07:16 - them I'm almost certain I could juggle
07:18 - two of these okay so we've got two I'm
07:23 - pretty sure I could do a third one yeah
07:27 - that's pretty good
07:28 - it's not so bad I don't think I can do
07:31 - four not with these I think if you gave
07:36 - me four beanbags I might be able to get
07:38 - it okay that didn't work all right so I
07:43 - have just so many of these but these are
07:45 - not the good ones the good one is over
07:48 - here how's this sound by the way it's
07:49 - the sound okay no no let's see this one
07:58 - is a good one alright so now I need a
08:00 - eraser otherwise known as a paper towel
08:04 - so um I'm working through a set of
08:12 - tutorials about tensorflow j/s I'm
08:14 - learning machine learning that's
08:15 - learning machine learning and and where
08:22 - I got to so far in the playlist was up
08:25 - through this topic of memory mentoring
08:27 - now let me just be clear again these are
08:28 - not they're not comprehensive kind of
08:31 - scratching the surface glossing over
08:33 - things I am NOT the creator of
08:36 - tensorflow jeaious an expert on it none
08:38 - of that's
08:39 - I'm trying to figure it out and one of
08:42 - the things that I'm really excited to
08:43 - talk about today is the layers API
08:46 - because the layers API is what will
08:49 - allow us to do actually start to build
08:55 - some machine learning projects and my
08:58 - goal is ultimately to do a couple of
09:00 - things what are some of Michael's go
09:05 - home take a nap watch some baseball kind
09:08 - of a baseball fan I'm kind of getting
09:10 - excited about doing some machine
09:13 - learning project with baseball data but
09:15 - if you have some ideas about that let me
09:17 - know but anyway that's that's a - I just
09:20 - don't know if that's really gonna appeal
09:21 - me not I don't know if it's gonna okay I
09:26 - didn't mean to talk about that right now
09:27 - this is roll back in time and erase that
09:29 - all right there's a library being
09:36 - developed at ITP called ml 5 ml 5 is a
09:40 - high level library for machine learning
09:43 - and it's built on top of tensorflow GS
09:46 - so my goal is to really do a set of
09:48 - lessons with ml 5 in a sort of high
09:51 - level way to inspire and facilitate
09:55 - creative applications with machine
09:57 - learning part of my reason for wanting
10:00 - to do this
10:01 - it's a 1:1 aspect of that is hey look
10:04 - there's this machine learning model you
10:06 - can use it and you can get the results
10:07 - in your code but another thing is to
10:09 - really think about education and machine
10:13 - learning what does it mean that our
10:16 - lives are more and more governed by
10:19 - software software with algorithms who's
10:23 - writing these algorithms what data were
10:24 - these algorithms trained with how can we
10:27 - be critical what kind of questions do we
10:29 - need to ask and so one of the reasons
10:32 - for doing this beyond just here's a
10:36 - machine learning model where you give it
10:38 - an image and it tells you a
10:39 - classification is to look at the whole
10:41 - picture how do we go from data training
10:45 - prediction what's that whole picture
10:47 - even in a sort of toy small way so that
10:51 - as you
10:52 - as you work with machine learning in
10:54 - projects or as your machine burning
10:58 - works on you in your daily life you can
11:01 - have some agency and be able to ask
11:05 - questions and that is important all
11:10 - right so this huh I'm over explaining
11:13 - this because I really want to get to is
11:15 - seeing if I can make a version of a
11:18 - machine learning model to learn the XOR
11:21 - operation with tension flow yes and
11:24 - that's right
11:25 - you are a person right now I know where
11:28 - you're in the East GMT minus four I
11:32 - guess or five I don't know where we are
11:33 - right now I'm getting over a cold
11:38 - everything about today doing a live
11:40 - stream right now is a bad idea but this
11:43 - is really what's happening right now it
11:45 - is Friday night in New York City I could
11:51 - be out where the people are out at the
11:54 - restaurants and the clubs or whatever
11:57 - and I don't know what people do Friday
11:59 - night and places like New York State I
12:01 - could be there no I'm here I'm here to
12:05 - talk about JavaScript interflow and X or
12:08 - exclusive or a boolean operation yes
12:12 - that's that's what I'm here to do
12:15 - hopefully it's gonna mean something
12:17 - somewhere actually the thing is I
12:20 - actively enjoy this why I'm complaining
12:23 - this is what I choose to do I actually
12:24 - like these toy little weird scientific
12:27 - problems I just worry about them because
12:29 - I would really like to show examples and
12:34 - create projects that have more will
12:39 - unlock more creative possibilities and
12:42 - I'm not sure the sort of like low-level
12:44 - technical nature of the X or problem is
12:46 - the best for that
12:47 - I'm really very conflicted but I think
12:49 - we're gonna move on with this I'm gonna
12:50 - do it all right so let me take a look I
12:52 - have some other bad news so in these
12:56 - presentations going on today the
12:58 - microphones some microphones went up and
13:00 - down different floors so that's why I
13:02 - have this other this weird microphone I
13:03 - can't seem to see my
13:06 - batteries and battery charger that
13:08 - probably also gotten moved downstairs
13:10 - and so we're living on borrowed time I
13:13 - should really get to the content here I
13:16 - see two bars on this microphone two out
13:19 - of three I think I think with two it's
13:21 - probably gonna last but as soon as the
13:23 - battery's dying these microphone I'm
13:25 - done so by the time it's eight o'clock I
13:27 - really got to get home it's Friday the
13:29 - weekend is here I've had a very long
13:31 - week
13:32 - I mean eat some of my space melon hmm
13:37 - I'm telling you this novel idea
13:41 - Cody Train used to be brought to you by
13:43 - water which was good soothing on the
13:45 - throat I have talked a lot I tend to
13:47 - talk a bit too loud to get overly
13:48 - excited the melon it has a high pH by
13:53 - the way I can't believe I got this wrong
13:55 - I kept saying it had a low pH because I
13:58 - was thinking it's low acid but low acid
14:00 - is a high pH so it's very soothing on
14:03 - the throat I've learned this heart
14:08 - really each citrus I like citrus but how
14:11 - my throat a lot okay
14:16 - oh I wanted to mention a couple other
14:19 - things about tensorflow js2 things that
14:24 - are new that are really relevant to what
14:26 - i'm talking about here are tensorflow
14:34 - models this this that's not anything you
14:38 - can see not even close
14:41 - I don't need to write that down the two
14:42 - things that are new is similarly to some
14:46 - of the things that we're trying to do
14:47 - with ml5 tensorflow Jas released
14:50 - something called tensorflow models which
14:51 - means some code that you can import into
14:55 - your JavaScript project with that just
14:58 - has the pre-trained model and allows you
15:00 - to call like a single function to pass
15:02 - in some data and get the prediction or
15:04 - prediction back so for example one of I
15:07 - believe one of the first models released
15:08 - with this way of releasing stuff from
15:14 - Tesla Hejaz is the pose net model and so
15:17 - the pose net model
15:18 - takes a 2d image and gives you a
15:21 - swimming it has a person in that image
15:23 - it will give you back a set of points
15:26 - which map to the skeleton the of that
15:29 - person so this is something that also
15:32 - once we get down to ml five we'll be
15:33 - looking at so this whole picture is pre
15:35 - trained models training from scratch and
15:39 - also what's that place in the middle Oh
15:40 - am i excited to do some transfer
15:42 - learning or it's something like you know
15:44 - I was respecting a lot of time today
15:45 - reading about variational autoencoders
15:47 - because it's a thing that I don't
15:48 - totally understand I think I got it a
15:51 - little better I think we should make
15:52 - some variational autoencoders because
15:54 - that's the kind of thing where you can
15:56 - generate some fun interesting stuff so
15:58 - that's all and I don't know if there's
16:01 - any way around this I've got to make
16:02 - some video tutorials about this stuff
16:03 - actually guess I should I should get
16:06 - started with some content here all right
16:08 - let me check the chat
16:18 - alright alright everybody so where do I
16:22 - want to begin today ah you know what I
16:23 - have this crazy idea it's not my idea
16:26 - thank you to me I am so me actually
16:29 - somebody else had this idea both two
16:31 - people had this idea at once so let me
16:33 - go to rainbow topics and let me go to
16:39 - here alright so I'm looking at this and
16:45 - then what I want to do is go to the
16:48 - coding training comm coding challenges
16:56 - here a live example this computer is
17:05 - totally on its last legs
17:07 - oh did this maybe this didn't oh this
17:09 - doesn't have a live example it should oh
17:11 - no because I made it processing I didn't
17:14 - upload the port yet that's fine let's
17:16 - open it up in processing oh it's a file
17:26 - open recent what's the chance that I've
17:30 - got this somewhere that's tough no I
17:36 - probably water ripples let's actually go
17:40 - to I I made some fixes to the code so I
17:48 - want to get the fixed code let's go to
17:54 - water ripples water ripples basis in
18:03 - here
18:11 - the water ripples there they are all
18:15 - right so that's good
18:28 - okay and here we go
18:35 - now I need let me get Adam editor open
18:43 - here you're perfect
18:47 - [Laughter]
18:52 - [Music]
18:54 - what am I doing here
18:58 - let's see terminal
19:21 - all right don't worry something's going
19:24 - to happen soon enough oops
19:46 - oops okay all right so
20:05 - well I liked it better when it's purple
20:06 - shoes I have to eat it over here okay so
20:15 - let me cycle these cameras and we're
20:25 - gonna get started I'm gonna do the first
20:32 - video today so this I don't think this
20:35 - is this could be considered a coding
20:37 - challenge we'll see what I want to call
20:40 - it I kind of feel like though it should
20:43 - just sit here as like a bonus tutorial
20:46 - right here in between step 4 and 5
20:48 - that's what I sort of think one thing I
20:56 - want to do actually just really quickly
20:58 - if you can bear with me I'm just going
21:02 - to change this to just so I don't have
21:06 - to operate it whoops
21:14 - oops this needs a floor also
21:25 - and where's the dampening hmm if I make
21:31 - this terse of curiosity sorry I just
21:33 - want a nice visual just curious what
21:35 - happen so I do this there we go let's do
21:37 - that all right code browser processing
21:53 - Java all right here we go
22:01 - so this is gonna be crazy
22:08 - hello what I'm about to do do not try
22:12 - this at home people this is another
22:14 - video as part of my videos videos on
22:17 - tensorflow das let's just start this one
22:20 - over why is this why is the white board
22:27 - missing oh there it is here we go
22:39 - hello everybody now I have something
22:42 - very important thing I need to say do
22:43 - not try this at home
22:44 - what I'm about to do is incredibly
22:47 - dangerous sparks will be flying bugs
22:50 - will be rampant and it's just not a good
22:54 - idea but it's an interesting problem
22:55 - that I'm going to attempt in this video
22:57 - which is part of my video about
22:59 - tensorflow yes in this video I'm not
23:00 - gonna do any quote-unquote machine
23:03 - learning but I am going to use
23:05 - tensorflow das so I recently did a
23:08 - coding challenge where I created a water
23:10 - ripple simulation water ripples 2d water
23:13 - ripples based on an algorithm by Hugo
23:15 - Elias that's been on the internet for a
23:16 - while you could watch that video if you
23:19 - want to see me build that water ripple
23:21 - simulation which is running and
23:22 - processing right here now interestingly
23:24 - enough right after I did that a message
23:28 - came through boop boop that's what it
23:31 - sounds like my notification sound came
23:34 - through on my
23:37 - train topics repository where you can
23:40 - file an issue to make a suggestion and
23:42 - from github user niku dice co-wrote
23:47 - during the live session I noticed this
23:49 - pseudocode said rec center can be
23:50 - rewritten in terms of matrices look at
23:53 - this calm 2d but for one kernel
23:55 - interesting interesting a kernel is this
23:58 - perhaps it would be easier to explain
24:00 - what convolution is on this example and
24:02 - look at this
24:03 - then github user me I am so me right yes
24:06 - I thought about that too and decided to
24:07 - implement here for kicks now I have
24:10 - looked at this code and I have had a
24:12 - discussion about this code so then I'm
24:14 - not doing this with no preparation
24:16 - whatsoever but this is an interesting
24:18 - idea could I
24:20 - the matrix math all the mathematics
24:23 - required to generate this simulation
24:26 - could I do it with tensor flow Jas
24:31 - tensors and operations no is there any
24:35 - value in doing that entirely sure but
24:38 - for me and for hopefully for you
24:40 - watching this this will give you another
24:42 - clue into new features that are part of
24:46 - Tantra flow das that will be important
24:49 - for certain machine learning algorithms
24:51 - in particular I would like to do an
24:54 - image classification example that's
24:56 - going to involve something called a
24:58 - convolutional neural network and so this
25:01 - idea of a kernel this idea of a 2d
25:05 - convolution and then also if I'm working
25:09 - with images there are some functions
25:12 - like two pixels and from pixels don't
25:16 - quote me on this I might not have the
25:18 - tensorflow J s API exactly right but
25:21 - this is stuff that's going to be
25:23 - necessary foundational knowledge to
25:25 - build some of these examples so why not
25:27 - explore it in a place where I could see
25:29 - where this context so this what this
25:31 - video is I think a really long time to
25:33 - explain that thank you
25:34 - if you're still here watching I am going
25:38 - to try to recreate this water ripples
25:42 - simulation using tensorflow J's
25:45 - tensors and operations shall we just get
25:47 - started let's get started
25:50 - oh yeah look at that we've Alka and the
25:52 - chat has pointed out a bug here the the
25:56 - points on the edges don't get cleaned up
25:58 - so I should really deal with that so
26:00 - it's a bit of pull request or I'll do a
26:02 - whole other video fixing that but it's
26:04 - kind of a nice it's a feature as as one
26:07 - might say all right so I'm gonna close
26:08 - this
26:09 - I'm gonna close this and what I'm gonna
26:11 - do entry I think what I'm gonna do
26:13 - weirdly is let's grab just some bits of
26:17 - code here so let's grab this are you
26:22 - seeing what I'm doing yes so I've got a
26:23 - sketch here that's already set up with
26:26 - tensorflow J s in imported I wonder
26:31 - actually they time out for a second I'm
26:38 - sorry that I just coughed so loud
26:40 - without muting my microphone
26:51 - I'm getting over a cold and it's very
27:00 - unpleasant although I feel so much
27:02 - better than I did earlier this week let
27:05 - me walk over here and mute my microphone
27:09 - blow my nose I'll be back
27:32 - can I mention that I found my
27:34 - undergraduate linear algebra textbook
27:36 - recently and that look I like look
27:39 - there's like highlighted stuff in here
27:41 - and I wrote like notes in the book
27:43 - there's all these like page number it's
27:44 - like a secret code like what's on all
27:46 - these page to us or maybe just you and I
27:47 - approached to temperature like what
27:49 - that's definitely my handwriting page
27:51 - 247 look who I'm like trying to do all
27:53 - this stuff I did all its like I did all
27:56 - this was it a dream was it real
27:59 - did I learn this stuff and then
28:00 - completely forget it all have to relearn
28:02 - it in my forty's I think so alright um
28:10 - what I wanted to check really quickly
28:12 - and I'm gonna just check it on this
28:13 - computer no new version yet okay thank
28:16 - you me I mean there I was about to start
28:18 - talking about how there was a there's a
28:19 - bug that me I am swimmy discovered filed
28:22 - an issue that's related to the two
28:24 - pixels or the front pixels function
28:26 - which is a memory leak which has
28:28 - recently been fixed but anyway we're
28:29 - just gonna move on alright yeah if I
28:36 - ever create a JavaScript library I'm
28:38 - definitely calling it melon Jas or would
28:41 - that be weird there's something weird
28:42 - about that that I'm not aware of I'm not
28:44 - thinking of maybe that would be weird
28:46 - but like I know people don't like melon
28:48 - but eat the fruit I said this already
28:50 - the berries and leave the melon melon
28:52 - I know it's but nobody puts a good fresh
28:54 - melon in a fruit salad anyway what are
28:59 - we gonna do alright okay so alright so
29:13 - let's go back into the code now what do
29:15 - i what do I need here no wait now all of
29:20 - this is Java code so first let me
29:23 - convert this into JavaScript and let me
29:29 - say function set up and create canvas
29:33 - and we're in good shape here now couple
29:37 - things I want to do I want to use tensor
29:40 - flow Jas so I don't
29:42 - want to create just a actual
29:45 - two-dimensional array called current our
29:48 - previous I want to create a tensor so
29:50 - how do we remember I did make these
29:52 - videos a couple weeks ago I don't
29:53 - totally remember how to do this so I'm
29:54 - gonna something like TF Ted sir 2d and
29:59 - then I give it the shape like its
30:01 - columns by rows or something like this
30:04 - is basically what I want to do alright I
30:07 - want to have a tensor and then also the
30:12 - dampening value which is a scalar number
30:15 - and it's by the way damping just calling
30:18 - it damping is fine I don't know what
30:20 - damping equals T f dot scalar 0.99 so I
30:24 - want to start creating the data in my
30:27 - program that's storing all the
30:29 - information as tensors now here's the
30:31 - thing I'm missing something I've got to
30:34 - give these values right so I think there
30:36 - is a function we can go to the tensor
30:38 - flow API and I'm looking for there is a
30:44 - function called zeroes I think so zeroes
30:49 - is a function that will create a tensor
30:53 - with all elements set to zero that's
30:55 - good that I want to do so actually what
30:57 - I want to do is do TF zeroes columns and
31:02 - rows and I just noticed in there there's
31:05 - also this function zeros like look at
31:09 - that so if I've made another tensor with
31:12 - a particular shape I can actually just
31:14 - recreate it by saying zeros like current
31:19 - so this is good okay so now I have my
31:24 - current in previous as tensors let's
31:28 - just just for I'm gonna make a 100 by
31:31 - 100 canvas and I'm gonna say current
31:34 - print and previous dot print just to see
31:38 - that everything's working
31:45 - [Music]
31:47 - hmmm what's going on here
31:57 - I'm not running my code
32:09 - in the right directory something get
32:14 - reset am i editing the wrong file did I
32:17 - not hit save oh there's another set up
32:22 - down here thank you
32:24 - alright that Matt's here you can edit
32:27 - that out
32:31 - alright let me go and run this code what
32:36 - oops hold on whoop
32:41 - go run let me go run this code oops zero
32:47 - likes zeros like great so we can see
32:52 - there the to know there are the tensors
32:54 - here they are they're great
32:56 - alright now so I've now I've done my
32:59 - setup now what do I need to do in draw
33:05 - if we look at what I did in my
33:08 - processing sketch I did an operation
33:11 - where I loop through every single pixel
33:15 - and add it up
33:17 - Oh can't we think about this let's let's
33:21 - go over to the whiteboard this is
33:23 - exciting so I have current and I have
33:36 - previous I have two two tensors current
33:41 - and previous now individually I might
33:44 - look at any given pixel here in current
33:47 - and what any given pixel in current is
33:50 - is it's a function of this set of
33:55 - neighbors the pixels the neighborhood of
33:58 - pixels around the corresponding pixel in
34:01 - the previous and it was it's basically
34:04 - this pixel divided by 2 plus this pixel
34:07 - and I don't know why I'm calling them
34:08 - pixels because even though I'm gonna map
34:10 - them to pixels it's really just data
34:11 - it's just numbers representing the
34:13 - height of the water of the water at any
34:16 - given part
34:19 - I just really want to start this whole
34:21 - thing over again I feel like my mind is
34:24 - wandering people are going to bed which
34:27 - is what you should do right now and
34:37 - actually actually in the if you look at
34:41 - the original link where the algorithm is
34:42 - described I think these are also called
34:44 - like buffer 1 and buffer 2 which might
34:48 - actually make more sense I don't know
34:50 - whatever makes sense to your brain game
34:51 - your variables that way so current of a
34:57 - given pixel index equals the sum of the
35:01 - one to the right the ones at the top the
35:03 - one to the left one to the bottom each
35:04 - of those divided by two altogether so
35:07 - what am I trying to get at this is
35:09 - actually what we're performing here is a
35:11 - convolution timeout for a second
35:20 - do I want to what's the chance that I
35:22 - have like a working version of Photoshop
35:24 - on this computer no okay never mind I
35:34 - was going to show sort of convolution in
35:37 - Photoshop but I'll skip that
35:43 - so how could I represent that
35:45 - numerically so one way I could represent
35:48 - that numerically is with a matrix
35:51 - describing so this is a three by three
35:54 - matrix of weights so to speak a weight
35:57 - for each pixel the corners being 0 I'm
36:01 - gonna ignore the center for a second and
36:03 - make that zero as well and then all of
36:05 - these being 0.5 so applying this kernel
36:11 - to any given pixel mean take all the
36:14 - pixel values multiply it by the weight
36:16 - sum them all together get the results
36:19 - and put it in the new spot this is
36:22 - what's known as a convolution to
36:25 - dimension and this is a convolution in
36:27 - two dimensions it's at this could be
36:29 - three by three five by five but I'm
36:32 - gonna use a three by three matrix to
36:33 - describe all the weights take half of
36:36 - all these neighbors multiply it by the
36:38 - pixel values add them all up together
36:39 - and put them in the new value so what's
36:42 - so what we need is to create this kernel
36:44 - as a tensor in tensor flow j s and then
36:50 - we need to apply the convolution to D
36:53 - function which says hey take this kernel
36:55 - and apply this convolution to every
36:58 - value in the tensor and make a new
37:00 - tensor out of that alright so let's go
37:02 - see if we can write the code to do that
37:06 - alright so if I'm coming back here what
37:09 - I want to do now is I'm gonna say I'm
37:13 - going to add another variable called
37:14 - kernel and I'm going to say kernel
37:20 - kernel equals zero zeros zero
37:27 - let's let's it's going to be like a
37:29 - two-dimensional array I'm gonna write it
37:32 - like this and let's see let's see how
37:39 - this I can make this look nice and
37:42 - satisfy all of my urge to have
37:44 - everything aligned and indented okay now
37:47 - these have to be 0.0 0.0 0.0 okay oh and
37:53 - this one should be a zero point zero
37:54 - okay so now you can see this kernel this
37:56 - is the colonel but this is just the data
37:59 - expressed as a plain JavaScript array so
38:03 - I want to make this into a tensor so I
38:08 - should be able to do this and let's
38:15 - think about this so hold on time out for
38:17 - a second this computer went off I also
38:20 - only have one power only one power plug
38:23 - today so I can't see oh come to live my
38:32 - computer with the slack channel where
38:35 - everybody's telling me how I'm doing
38:36 - everything wrong
38:38 - there we go it's it's waking up folks
38:41 - I'm gonna have a piece of melon which
38:51 - one have seed I'm alive computer
39:08 - okay so far in the chat I don't see
39:11 - anything and I've done that's horribly
39:16 - wrong okay refresh
39:23 - do I have internet here No
39:34 - right now okay got the internet back
39:48 - this has crashed oh my do not have the
39:53 - internet back sorry everybody
39:59 - there we go
40:17 - okay
40:37 - all right there we go I'm back all right
40:46 - so let's review for a second I've got
40:48 - the damping value as a scaler I've got
40:51 - the current and previous matrices of
40:53 - numbers as tensors filled with zeros and
40:57 - I now have a kernel which I can apply as
40:59 - a convolution and this is the stuff that
41:02 - I need to do in draw so in theory this
41:06 - entire big loop here right like if this
41:09 - could be now be done as right the idea
41:12 - here what I had to do previously is like
41:14 - loop through every pixel individually
41:16 - add them all up dividing by two boy I'm
41:20 - missing some dividing by twos in is my
41:23 - code just totally wrong hold on I think
41:27 - I found a bug in my processing code hold
41:29 - on a sec let's go reference that
41:32 - original algorithm let's go here to D
41:43 - water here's though Oh No oh the whole
41:49 - thing is divided by two okay yes yes yes
41:51 - I did this right but this is no the / -
41:55 - okay everything was right here never
41:56 - mind
41:57 - rewind I'm sorry I keep coughing into
42:02 - the microphone oh that isn't too
42:03 - horrible all right this is not going so
42:15 - well today this is not my finest work
42:17 - losing all my confidence to any
42:22 - confidence all right
42:29 - Mathieu thank you again for all of your
42:31 - editing work
42:40 - looking at this I have to iterate over
42:43 - every single pixel add everything up
42:45 - individually multiplied by dampening put
42:48 - it store it in the new in back into the
42:50 - array and then write the pixel so this
42:52 - whole loop should be something that I
42:55 - can do just a single operation to for
42:59 - example there must be some way for me to
43:01 - say like next equals TF convolution 2d
43:07 - like apply I'm just making up the API
43:10 - for expensive largesse then we're gonna
43:12 - go look it up like apply this kernel to
43:17 - this tensor and give me and give me the
43:23 - results of that in a tensor right so
43:25 - this is like a single operation to say
43:26 - take this kernel and slide it over every
43:29 - pixel update all the values and give me
43:31 - a new tensor back hopefully this is so
43:32 - let's look let's actually look at the
43:34 - tension flower jsapi and let's look for
43:37 - the convolution 2d function so I'm think
43:44 - it must be under operations convolution
43:53 - actually there's just a convolution
43:55 - section so I'm gonna click this here and
43:58 - now we're gonna look at the function
43:59 - okay it takes a set of values and with
44:03 - the filter now there's all sorts of
44:05 - other stuff that involves that are
44:07 - involved in a convolution Strides paddle
44:10 - but I'm gonna ignore all that for right
44:11 - now
44:12 - I don't so actually I didn't didn't do
44:14 - this so terribly so but here's the thing
44:17 - ah X has to be a 3-d or a 4d tensor rank
44:21 - for a rank 3 that's weird why is that
44:25 - because mine was certainly just I just
44:28 - have a two-dimensional tensor right
44:30 - columns and rows well if you think about
44:32 - it convolutions are designed to work
44:35 - over a matrix and what it's if I were
44:40 - working with an RGB image there actually
44:43 - could be inside each one of these pixels
44:45 - three values so this shape for that
44:48 - would be with height three so even
44:53 - though I'm
44:54 - working with this sort of grayscale
44:55 - image that just has a single value for
44:58 - every spot in the tensor I need to
45:00 - explicitly set the shape as with height
45:03 - comma one so let's change it to a rank
45:07 - three tensor and it could be of rank
45:12 - four tensor if I had many and if I'm
45:14 - batching a set of data probably so I'm
45:18 - gonna do this comma one okay so that's
45:20 - good that's fixed then the filter ah
45:24 - tensor for D the filter rank four of
45:28 - shape filter height filter with in-depth
45:31 - out depth okay so here's the thing I've
45:35 - got to explicitly say this filter right
45:40 - this is a three by three filter so I
45:42 - have the shape just as 3 comma 3 but
45:46 - really what I also need to specify is
45:49 - what is this applying to how many values
45:52 - is this applying to an RGB 3 3 values
45:55 - and then when it applies to all those
45:57 - values is it something everything into
46:00 - one value or is it something doing each
46:03 - one of those individually and we should
46:04 - get three values out so this actually
46:08 - has to be a for a rank four tensor so
46:12 - one way I could do that would probably
46:14 - be like just keep adding brackets but
46:17 - there also is a nice function I believe
46:22 - is so this function as 4d allows me to
46:28 - convert a tensor to a tensor 4d and I
46:31 - just need to give it the rows/columns
46:34 - depth steps to so I think what I need to
46:36 - do here is say as 4d 3 comma 3 comma 1
46:43 - comma 1 right so I just want to I want
46:46 - to like write my tensor you know maybe I
46:49 - even just want to do this cuz I just
46:53 - want to see it as like a list of numbers
46:56 - and then I want to use the ass 4d
47:00 - function to reshape it okay how am i
47:04 - doing so now I should be able to say
47:07 - next equals and then look at this
47:11 - so the convolution function takes the
47:15 - values and the filter the filter another
47:18 - word for Colonel seconds oh I'm going to
47:21 - I need to say previous and then Colonel
47:26 - okay so that's next so I'm not using
47:29 - current because if we look at the actual
47:33 - original code what I did just now is I
47:37 - took care of this right I took care of
47:40 - adding the neighbor to the left the
47:42 - right the top of the bottom dividing by
47:44 - two with that colonel
47:45 - but then I have to subtract out currents
47:48 - actual value as well so what I would
47:50 - need to do now is say I need to make
47:53 - another tensor so I need to say next
47:58 - okay I need just subtract I need to say
48:01 - minus the current value so I should be a
48:06 - subtract operation subtract
48:10 - where are my operations there's an add
48:17 - multiply by negative a sickness
48:20 - an operations let's hey Matt yeah let's
48:36 - go back a second and let's let's not
48:39 - have me searching for operations for an
48:41 - hour in there we go alright so I want to
48:49 - look for operations and here we go
48:53 - TF sub which means subtract so what TF
48:56 - sub does is I can subtract two tensors a
49:01 - sub B so I need to say next sub current
49:06 - and then I need to apply what else so
49:09 - look at this well this is like then I
49:11 - need to multiply by the dampening so I
49:13 - could then say also next equals next
49:16 - multiply damping but one thing that
49:20 - at tensorflow das allows it's chaining
49:24 - so each one of these returns a totally
49:27 - new tensor remember there's these
49:29 - tensors are immutable I'm not made them
49:30 - variables here so what I actually could
49:35 - do probably say sub current multiply
49:39 - damping but I just can't bring myself to
49:41 - do that
49:42 - maybe what I could maybe I could bring
49:44 - myself to do this I'll do it in two
49:47 - lines so I think that I've got this
49:50 - right on alka is giving me a great tip
49:53 - for searching in the reference search
49:54 - search for TF dotsub instead of just
49:57 - searching for some thank you for that
49:58 - alright so next equals so I applied the
50:03 - convolution I subtract the current I
50:05 - multiplied the dampening and I'm done
50:09 - thank you very much now how do we see
50:12 - how do I see the results of this well
50:16 - there's a couple different ways I could
50:18 - do this one is I could ask for the
50:22 - values so I could say all right give me
50:25 - the pixels are you know next data sink
50:30 - which would whoops I know the camera
50:35 - went off everybody don't worry
50:51 - it didn't even make a noise that time
50:53 - that was weird all right so what do I
51:00 - want to do next I would like to draw the
51:04 - pixels I would like to see you the water
51:06 - ripples I mean I've done the steps I
51:08 - know that I need to at the end say
51:10 - something like previous equals next I
51:15 - need to do the swapping let's not worry
51:17 - about that so I still need to do the
51:18 - swapping algorithm at some point at the
51:21 - end but really what I want to do now is
51:22 - I need to display the water ripples so
51:27 - one way I could think about doing this
51:29 - is actually just ask for the values so I
51:31 - could say something like let pixels
51:33 - equal next dot data sink which is a very
51:39 - bad idea for many different reasons but
51:41 - this wouldn't Siri give me a big array
51:43 - of all the values then I could run a
51:45 - loop and I could set all the pixels
51:46 - there because working with images and
51:50 - pixels is such a common thing in machine
51:52 - learning algorithms there are some
51:54 - helper functions for this so there's two
51:56 - pixels so draw a TF tensor of pixel
52:00 - values to a byte array or optionally a
52:03 - canvas so this is what I want to do
52:06 - returns a promise mmm interesting
52:09 - interesting okay let's see how this is
52:11 - gonna work image canvas question mark so
52:16 - what do I want to do exactly thinking
52:22 - about this how does this work so how do
52:29 - I say this do I say next two pixels or
52:33 - do I say TF how does this work hold on
52:43 - let's read this draw a TF tensor of
52:48 - pixel values to a byte array or
52:49 - optionally a canvas when the data type
52:52 - of is input is float32 we assume values
52:55 - otherwise terms a promise that resolves
52:58 - on the canvas
52:59 - been drawn to Oh a boy you'll be nice to
53:03 - read this a little further okay
53:06 - hey Matt's gonna do that part of the
53:11 - worst so let's look for let's look for
53:22 - two pixels here it is okay two pixels
53:26 - takes two arguments image and canvas
53:29 - question mark draws a TF tensor of pixel
53:32 - values to a byte array or optionally a
53:34 - canvas so I want optionally a canvas no
53:37 - I want to choose that option so what are
53:39 - the parameters image is that TF tensor
53:43 - which actually it looks like it can be
53:45 - it can have different depths like but I
53:48 - have a rank I have a rank 3 which is
53:51 - gonna work perfectly so image is my next
53:53 - and canvas is the canvas elements so I
53:56 - want to say TF so I don't I don't I
53:59 - don't need I just want to say tf2 pixels
54:04 - next comma and then I need a reference
54:08 - to the canvas so I need to create a
54:12 - variable store the canvas in that
54:15 - variable and then probably just say a
54:17 - canvas alt and it's gonna do this a
54:23 - synchronously let's just see what
54:25 - happens here let's just see if I given
54:26 - get any errors cannot read property 0 of
54:31 - undefined so where's my object end about
54:35 - oh boy Oh first of all I have not
54:41 - thought about my memory management yet
54:42 - I've got to come back to that but what's
54:44 - wrong here canvas TLT is probably not
54:56 - the right thing so let's look at let's
55:01 - look at the p5 object no the ELT is the
55:05 - canvas object but then I need to
55:07 - actually get the
55:12 - so let's let's whoops it's melted Oh
55:37 - oh really yeah me I am Sania is writing
55:49 - in the chat turns out that p5 exposes a
55:51 - global canvass var I know I don't want
55:53 - to use that though let me see here
55:55 - canvas mmm that's the same thing that's
56:03 - weird it's nothing now canvas that
56:10 - canvas is right
56:11 - canvas TLT is right
56:20 - well actually what's the so all right so
56:23 - let's do a little debugging here let me
56:25 - comment this out what's triggering that
56:26 - error yeah that error is actually not
56:29 - even happening here is my subtract
56:31 - triggering the air nope is my
56:34 - convolution function triggering the air
56:36 - yes it is it most certainly is and let's
56:40 - take out these prints so what's wrong
56:42 - with this TF convolution 2d previous
56:47 - kernel let's look again at the API TF
56:54 - dot convolution 2d let's go here X
57:02 - filter filter so let's look at oh no
57:10 - this is right it has four okay so
57:22 - convolution 2d as for oh I def to give
57:26 - the strides in the pad okay I didn't
57:34 - want to have to explain I thought
57:35 - there'd just be some defaults for
57:37 - strides and pad so that's definitely the
57:39 - issue
57:43 - yeah I'm just checking something here
57:59 - the pad is like how much padding along
58:03 - the edges right and the strides is like
58:05 - how many how how far I go into each one
58:09 - so I think that's just one in one is
58:11 - what I want is that right yeah a valid
58:26 - same or a number it's number number or
58:31 - just a number
58:32 - stride heights try it with okay okay
58:34 - okay there's more intro here alright so
58:39 - the error is definitely here in
58:41 - convolution tooten the convolution 2d
58:44 - function and actually I just didn't read
58:46 - the documentation very carefully the the
58:48 - way this documentation is written is
58:50 - that the optional arguments are written
58:52 - with a question mark and strides and pad
58:54 - are required so these these are
58:57 - important pieces of how a convolution
58:59 - works let me just briefly mention what I
59:02 - think they are so I believe a stride has
59:12 - to do with how many pixels should i do I
59:17 - do as I move along like I don't actually
59:19 - I could apply a convolution but skip
59:21 - pixels and so my stride could be greater
59:23 - than 1 and it could actually be
59:24 - different in height in width and height
59:26 - and a pad I believe has to do with like
59:29 - what sort of padding to apply to the
59:31 - edges cuz you'll notice if this is a 3
59:33 - by 3 matrix if I go to the edge I don't
59:36 - want it to like fall off the edge so
59:37 - maybe a padding so I think what I want
59:39 - is I just actually want to do every
59:40 - single pixel so I want a 1 and then I
59:43 - want to padding also of 1 well look can
59:46 - I have a padding of 0 because I actually
59:47 - don't want to lose any information hmm
59:49 - let's try this but actually it also has
59:55 - a valid same oh yeah
59:57 - same and stride one ah this is what I
59:59 - want it's actually written right here
60:01 - except you can't see it because I'm
60:03 - standing in front of it so I want a
60:06 - stride of one I want out pit will be of
60:08 - same output will be of the same size as
60:10 - the input regardless of filter size this
60:12 - is what I want so I want to say 1 and so
60:21 - I want to say one and same so I think
60:25 - those are the arguments I need to add
60:28 - oops where am I here hey no more errors
60:35 - whoops and there we go look it's
60:43 - actually you can't see you can't really
60:45 - tell but this has displayed that right
60:47 - because if I comment this out you don't
60:52 - see that black square this is actually
60:55 - working right and if people were asking
60:58 - in the chat what this dot ELT is
61:00 - so canvas is a p5 element because I'm
61:04 - using the p5 just library the p5 element
61:07 - stores a reference to the native html5
61:09 - element in the ELT property tensorflow
61:13 - Jas doesn't know anything about p5 but
61:15 - it knows about HTML so I can I can pass
61:18 - the to the two pixels function that
61:19 - canvas TLT okay so let's think about the
61:22 - so let's think about the swapping now so
61:25 - what do I need I need previous to now be
61:30 - basically current which is next and then
61:34 - current let me think about this I did
61:38 - the swapping I did let's just look at
61:39 - this swapping here all right okay so I
61:43 - what I need to do is store previous
61:47 - actually set previous equal to next and
61:50 - set current equal to previous so this
61:53 - should be the swapping and I I suppose I
61:58 - could have just continue to use current
62:01 - here right I don't need that next no I
62:09 - don't want to do that
62:10 - I need to subtract I know I need to
62:12 - subtract out that's a bad idea
62:15 - so I think that I need to keep this
62:19 - separate yeah I'm not let's let's do
62:26 - that okay all right
62:43 - Oh Thank You current equals temp there
62:46 - we go I just do all of this many times
62:51 - over again let's just go back alright
63:01 - alright I'm gonna add the swapping
63:04 - algorithm now the swapping algorithm
63:06 - takes what is now this the new current
63:10 - pixels saves them in previous so that
63:12 - the current becomes the previous for the
63:14 - next time around and so we can look at
63:16 - what was here in the original code now
63:18 - all I need to do is say let temp equal
63:20 - previous previous equals not current
63:23 - though next I created a new variable
63:25 - called next in order to do the
63:27 - calculations with tensorflow j s and
63:28 - then a current equals temp so this
63:32 - should be the correct swapping and now
63:36 - let's run this hey it's running look at
63:41 - my water ripples
63:42 - let's I'm just curious like what's the
63:45 - frame rate it's running at 30 frames per
63:48 - second totally reasonable it's doing all
63:51 - these calculations let's make it 600 by
63:54 - 400 so it's a little bit bigger whoops
63:57 - oh that's not it I ran the processing
64:00 - sketch by accident and here we go all
64:03 - right all right now we need to add the
64:07 - ripples could I possibly possibly I
64:13 - could like how do I add the ripples all
64:16 - right now this is tricky this is really
64:18 - tricky here now
64:20 - you might recall let's let's just say
64:22 - for the sake of argument that in
64:24 - mousepressed I want to add a ripple at
64:28 - Mouse X comma Mouse Y and if we look at
64:38 - what I did in the processing sketch I
64:43 - added those values to previous so
64:47 - somehow I need to take this previous
64:49 - tensor and I need to change its values
64:54 - hmm how am I gonna do this
64:57 - well I could go down this rabbit hole of
65:00 - making it a variable but I don't really
65:04 - think a variable is really how do I want
65:07 - to explain this did I get something
65:11 - wrong in the ten people's previous
65:17 - previews of the next current equals temp
65:22 - do I have it wrong
65:24 - people I can't tell them the chat if
65:25 - you're just discussing it or yeah yeah
65:30 - she generate a random tensor would be
65:32 - good to just start this what do I have
65:39 - wrong here
65:48 - previous equals current Oh
65:58 - I don't see this
66:06 - oh I should just set current equal to
66:08 - next here wouldn't this be right if I
66:13 - did this
66:30 - yeah I don't need
66:37 - all right let's think about this this
66:39 - applies the kernel to previous then I
66:46 - subtract out current so next is now what
66:49 - I want to be in current I'm not seeing
66:56 - this for some reason oh this is wrong
67:11 - that's for sure this definitely needs to
67:15 - be next
67:23 - and then she's in previous
67:34 - be next
67:42 - oh I see previously a guy got you can I
67:53 - just do this I can just do that right
68:15 - people tell if you have dick it right
68:18 - previous Eagles current it's equals next
68:47 - Oh oh no no no I don't think you were
68:55 - all right this isn't does not make any
68:57 - sense because previous setting previous
69:02 - equal to current I don't believe this is
69:10 - correct
69:12 - all right people are telling me I I
69:14 - really I don't I don't believe you
69:18 - this was sight they told you this was a
69:20 - bad idea all right let me find some
69:22 - empty space here this are the values of
69:33 - current these are the values of previous
69:40 - in my processing sketch I rewrite all
69:44 - the values of current based on previous
69:46 - and current then I point previous here
69:50 - and I point current back to here now
69:53 - instead what I do is I have this
69:55 - variable called next which I write all
70:01 - of the values that are a function of
70:06 - previous and current into here that's
70:11 - next
70:12 - you with me so far am I correct so far
70:15 - now what I want is for previous
70:30 - well what I want next and current are
70:35 - supposed to be the same instead of reg
70:37 - overwriting current I've just written
70:39 - everything to next so shooting previous
70:41 - point to next
70:47 - why should previous point to current
71:00 - in processing or updating previous to
71:03 - have the next values than swapping it
71:05 - here you're not swapping you're
71:06 - discarding previous in processing no I'm
71:13 - updating current and then I'm updating
71:19 - previous to have the next values Oh
71:31 - but but the next vet the the equivalent
71:34 - here would be let me let me let me write
71:44 - the equivalent here next equals new
71:52 - float columns rows then what I would say
71:58 - here is next equals all of this and then
72:03 - next equals next times dampening and
72:07 - then current equals next right wouldn't
72:14 - this be the same thing this is exactly
72:16 - the same thing so I don't see why right
72:32 - look look how this works so why here
72:38 - can't I just say
72:47 - this exact same thing I know there's a
72:50 - little bit of a redundancy here why is
73:00 - this invalid
73:11 - I don't need I want the title say Friday
73:23 - it's Saturday I believe I am correct
73:29 - here I don't the reason why I have in
73:37 - next I should look at me I am Sammy's
73:38 - code here let's look at how they did it
73:49 - boy I really
73:58 - I see temp.1 is current colonel one same
74:09 - I did previous colonel
74:36 - I'm just doing it my own weird way that
74:39 - I'm using previous as the starting point
74:42 - I should have just named them buffer one
74:48 - buffer two I kind of like the idea of
74:52 - this though
75:02 - oh I see barren jello is explained
75:06 - ability and processing you use current
75:08 - var directly here you start with zeros
75:10 - and add current to it ah yeah but this
75:18 - should still this should still if we
75:26 - look here this is okay this is exactly
75:35 - the same now adding a convolution
75:39 - subtracting out current multiplying the
75:41 - dampening and then doing the swap I know
75:54 - that that this I see I see that me I am
75:56 - so me is doing this a different way that
75:58 - just not the way my brain works right we
76:00 - could apply the kernel to curb current
76:02 - subtract it's just like reversed then
76:09 - dispose I have to deal with the memory
76:12 - management stuff Oh interesting clipping
76:15 - is happening here too there's lots of
76:17 - interesting stuff here tidying things
76:22 - all right all right I'm gonna move on
76:32 - this this is one of those ones where I
76:35 - should just move last piece of melon
76:44 - there's one of those ones where I I'm
76:49 - just gonna have to redo the whole thing
76:52 - edited together yeah
77:05 - yeah
77:22 - yes exactly I'm right all right let's
77:39 - just just for the so let's go back
77:50 - interestingly here preview okay
77:54 - all right all right
77:58 - current never actually means current I
78:00 - know I know I know
78:02 - but it would if I did this the problem
78:10 - with me doing this is if I lose the
78:14 - reference to current I can't dispose it
78:16 - but I could run tidy on all this
78:17 - probably I think I should just change
78:23 - this to buffer one and buffer - all
78:27 - right yeah yeah hey everybody I'm back
78:39 - with a weird edit point because I went
78:42 - down a horrible rabbit hole because the
78:44 - words current and previous can make
78:46 - things very confusing and so I actually
78:47 - want to just go back to this algorithm
78:49 - and I'm gonna change the things to
78:51 - buffer 2 and buffer 1 just bear with me
78:55 - for a second I'm gonna change and you
78:58 - know what's gonna be so nice about this
79:00 - buffer to buffer 1 because if I name
79:05 - them that then they have the same number
79:07 - of characters and everything aligns
79:09 - really nicely so I'm gonna say that
79:12 - buffer 1 and I don't know why I wrote
79:15 - this in the other order I'm gonna say
79:16 - this is buffer 1 this is buffer - this
79:21 - is buffer 2 so now I'm gonna do these
79:24 - operations I am actually gonna say I'm
79:28 - gonna make this a temp I'm gonna call
79:30 - this not next but temporary and the
79:32 - reason why and so this is buffer 1 which
79:40 - was my previous basically and this year
79:44 - is buffer - right which is what gets
79:48 - subtracted out and buffer 2 is equal to
79:51 - that so I could say here just I could
79:54 - just do this buffer 2 is the result of
79:58 - that convolution and then buffer 2 is
80:00 - resolved but there's two problems with
80:02 - this
80:03 - number one is I need to subtract out the
80:06 - values of buffer two so I don't want to
80:08 - overwrite that so I need a temporary one
80:11 - here but plus I also might once I'm
80:16 - gonna have to deal with memory
80:17 - management at some point because I'm
80:18 - making all these extra tensors so now I
80:21 - should be good I have this temporary
80:24 - temporary and but which is the thing
80:29 - that I now want to draw but what is
80:31 - temporary really temporary really is
80:34 - buffer to write buff all along
80:38 - temporary was standing in for buffer -
80:51 - all along
80:53 - temporary was standing in for buffer -
80:55 - and so now pre a buffer 1 now I need to
81:05 - I need to do the swapping hold on hold
81:06 - on I have some air I've got a mistake
81:07 - here this should be this should be temp
81:11 - yeah so right okay so uh temp so temp
81:15 - apply the convolution subtract out
81:17 - buffer to buffer - is actually temp and
81:20 - now let me do the swap the swap is temp
81:25 - and now I think I have some redundancy
81:27 - here so I'm gonna clean this up in a
81:28 - second because I have an extra temporary
81:30 - variable already so temp temp equals
81:34 - equals buffer one buffer 1 equals buffer
81:42 - 2 and then buffer 2 equals buffer 1 so
81:49 - this is the swap this is your
81:51 - traditional swapping algorithm do I need
81:53 - this extra temp temp because do I have
81:58 - buffer 1 stored somewhere if I overwrite
82:02 - it not really so I'm gonna call this I'm
82:05 - gonna call this temp 1 and I'm going to
82:08 - call this temp 2 but be
82:13 - I have this but for one yeah so equals
82:18 - temp - all right
82:19 - so this eye my brain is hurting a little
82:22 - bit but basically and so I probably have
82:27 - something extra but I think this is
82:29 - right okay so here's the thing whew
82:32 - i I've done a horrible job at MIT I got
82:35 - to deal with the managing memory but I
82:37 - think we're good now let's run this code
82:39 - and let's see uh current is not defined
82:44 - sketch let us line 24 oh yeah zeroes
82:48 - like buffer 1 there we go
82:51 - temp is not defined sketch digest line
82:55 - 37 oh because I call this temp 1 temp is
83:00 - not defined 41 yes temp.1 tempest not
83:05 - defined 43 temp 1 all right where you
83:08 - get there ok good now I need to add I
83:13 - just need to add a ripple now so what
83:17 - I'm gonna do here all right we need to
83:18 - figure out how to do this so if you
83:23 - recall in my previous videos about
83:25 - tensors
83:26 - these are immutable what I want to do is
83:28 - change a single value inside of buffer 1
83:35 - sorry this I need to change like I need
83:38 - to change a single value inside of
83:41 - buffer 1 so buffer if if I could do
83:47 - something like this buffer 1 set
83:50 - you know Mouse X Mouse Y 1 if this were
83:58 - just some like sort of magic thing that
84:00 - I could do or I could just set a value
84:02 - because I could change it then every
84:07 - time I click the mouse it's interesting
84:08 - it's not giving me an error it's like an
84:10 - actual function
84:17 - well hold on is there a mouse press
84:20 - somewhere else other is yeah once again
84:24 - I felt
84:33 - seriously how many mouse press do I have
84:35 - Oh Mikey doesn't work let's go back
84:47 - wouldn't it be nice if I could just do
84:50 - something like write function
84:51 - mousepressed buffer one set set the
84:56 - value at Mouse X and mouse y2 one just
84:58 - set that value let's see what happens
85:01 - right so that's not a function these
85:04 - tensors are immutable I can't set a
85:07 - value in them so I could turn it into a
85:10 - variable which is supposedly a way that
85:13 - a tensor can be changed but variables
85:17 - are really reserved for tensors that you
85:20 - want tensorflow J s to optimize with its
85:24 - own kind of internal algorithms the
85:26 - optimized function the training function
85:28 - so really what I want to do I
85:29 - unfortunately I'm going to need to
85:31 - basically pull out all the information
85:33 - change a value and put it back in I
85:35 - think that's gonna be the way that I
85:36 - want to do this here and so the way that
85:38 - I'm gonna do that is by saying TF dot
85:41 - buffer so TF dot buffer it creates an
85:45 - empty tensor buffer with a specific
85:48 - shape so this is the way this is
85:50 - basically taking those values and
85:52 - putting them in a typed array off of off
85:56 - of the CP into a place where I can start
85:59 - like messing with them so what I want to
86:00 - do let's just look at this so I want to
86:02 - say let buffer equals TF no no buffer 1
86:09 - dot buffer oh I shouldn't have called my
86:11 - things buffers this is bad very bad
86:15 - variable naming let's look at this oh
86:22 - this is actually not what I want this is
86:25 - not what I want this is a function to
86:27 - create a buffer and what I actually want
86:30 - is not the creation of a buffer but I
86:32 - want to look at the the tensor class and
86:39 - I want to look for the buffer function
86:42 - here this is what I want returns a TF
86:44 - buffer that holds the underlying data so
86:46 - I
86:46 - this is what I want I want to get that
86:48 - buffer so let's take a look at that
86:52 - what it looks like so we can think there
86:55 - that buffer came in and it's got all
86:57 - those values now look at the shape 600
87:02 - by 400 by 1 that's good now I should be
87:05 - able to use this set function let's go
87:09 - look at tension flow yes and what I want
87:12 - to look for it now under tensorflow
87:14 - buffer set value at a location this is
87:17 - the location index so I should be able
87:21 - to say buffer dot set the value 1 I want
87:25 - to set that value to 1 at Mouse X Mouse
87:30 - y 0 now remember the 0 is because I have
87:35 - a I'm thinking this is a grayscale image
87:37 - if it were RGB I might be setting this
87:40 - at 0 1 or 2 but there's only one value
87:43 - there so I think this is right then what
87:46 - I want to do is say buffer 1 equals
87:48 - buffer dot 2 tensor like I just want to
87:51 - turn it back into a tensor so this is me
87:53 - actually manually I've talked about how
87:57 - somewhere in tensorflow dot j s that the
88:00 - idea is that all the mathematical
88:02 - operations happen on the GPU but for me
88:05 - to do anything manually I need to pull
88:08 - it off of the GPU that's me making it
88:11 - into a tensor buffer then I can play
88:13 - with the values and then I can make a
88:15 - new tensor back now again I haven't done
88:17 - anything with memory management but
88:19 - let's see here if this actually works ok
88:24 - the number of the provided coordinates
88:26 - one must mank the much match the rank
88:29 - three
88:41 - value locations the location indices
88:47 - what did I not get right here
89:00 - hmmm let's look at this again ah wait a
89:05 - second hear me IM soo b is writing in
89:10 - the chat isn't in array you just put the
89:12 - coordinates in as arguments so this is
89:14 - probably a github issue that's worth
89:16 - filing on the tensorflow tas
89:17 - documentation because i think this is
89:19 - pretty confusing that this is actually
89:22 - like an optional number of arguments
89:24 - that are all the different index values
89:26 - it seems so for example instead of
89:27 - putting them as an array I just you know
89:30 - it's a rank 3 tensor so I give it the
89:32 - location values 3 more values I think
89:35 - let's see
89:42 - I've clicking let's see here let's let's
89:49 - do a little experiment here let's change
89:53 - the canvas to 10 by 10 or just yeah 10
89:56 - by 10 let's comment out everything in
90:00 - draw let's let's say buffer dot buffer 1
90:10 - dot print and buffer 1 dot print so
90:16 - let's look and see let's see if this
90:19 - actually worked oh wait a second do you
90:24 - not see my 3x3 canvas hold on a sec
90:28 - let's let's say background 0
90:36 - there's my 3x3 canvas that's clear this
90:43 - so it doesn't look like why is this
90:46 - printing it out so insanely
90:55 - I kind of get rid of this processing
91:04 - thing
91:16 - oh it's time made a ten-by-ten I meant
91:18 - to make it just 3x3 and okay hold on I
91:25 - think this debugging is worth having and
91:27 - all right so let me print these out and
91:30 - let me change this to go back to where I
91:36 - was changing the canvas size so let's
91:45 - debug this let me make this just like a
91:48 - 5x5 canvas let's comment out draw and
91:54 - let me let's actually just do all this
91:57 - and setup and let's say let's just set 3
92:06 - comma 3 so let me do buffer 1 dot print
92:12 - and then buffer 1 dot print so let me
92:15 - look at this whoops
92:16 - this thing is still running let me go
92:20 - here whoops sketch 33 I need a close out
92:26 - setup yeah so that worked something got
92:32 - set to 1 so that definitely worked it is
92:36 - being set to 1 so that's working okay so
92:47 - let me go back
92:55 - yeah now I do have a sneaking suspicion
92:58 - that
93:16 - whoa would I mess up oh you know what I
93:24 - must not have saved I think I didn't
93:26 - save ah I must not have saved all right
93:36 - it shouldn't be too so people are the
93:38 - chatter asking should be 255 and yeah I
93:43 - know I know what the problem is thank
93:45 - you
93:46 - people are saying it should be 255 if
93:48 - you look at the at the docks
93:51 - if you're using float tension flow
93:55 - digest and this two pixels function will
93:57 - assume the range between zero and one so
93:59 - hold on a sec all right let's give this
94:12 - a try and I'm going to click alright so
94:16 - what's going on here first we're getting
94:19 - some crazy errors tenser values for a
94:21 - float32 tensor must be in the range 0 to
94:25 - 1 so actually this particular algorithm
94:28 - is subtracting values and adding values
94:31 - together I'm not doing anything to
94:33 - constrain the values between 0 and 1
94:35 - there must be a tensor flow J s
94:38 - operation that does that constraint but
94:40 - it really can't figure out when I'm
94:41 - turning things into pixels right this is
94:45 - all because of this this line of code
94:49 - right it doesn't care as long as I don't
94:51 - turn it to pixels I can have any values
94:53 - in there but if I'm turning it to pixels
94:54 - I have to have it between 0 and 1 so in
94:57 - this case I need to do some kind of
94:59 - constraint like thing so let's look
95:03 - under operations arithmetic maximum
95:11 - minimum no basic math square difference
95:15 - I'm looking for something that will
95:17 - constrain the tensor reverse slice split
95:21 - stacked I'll cast expand pad range
95:29 - creates a new tenser with the numbers in
95:32 - the range provided it includes start
95:35 - putting so this should work right I
95:39 - should be able to use range I think so I
95:48 - can also say temp 1 equals temp 1 dot
95:56 - range something like this I could
96:01 - probably add it in here is that what I
96:09 - want to use are truncated now
96:23 - no no no no this is creating a tensor
96:28 - with numbers in that range what am I
96:30 - doing here
96:31 - clone fill tensor cast clip by value
96:41 - look I just didn't see that range it's
96:46 - not range it's not this is like this is
96:49 - like a actually a way of creating a
96:51 - tensor with numbers in the range
96:52 - provided with a certain step I don't
96:54 - that's not what I want to do all right
96:59 - clip by ah thank you to the chat I just
97:06 - learned that there's a function called
97:07 - clip by value which basically takes a
97:11 - tensor and Clips it with within a
97:13 - particular range
97:14 - I'm construed the equivalent of the p5
97:16 - constrained function so I want to say
97:20 - dot clip I can add this here as another
97:23 - chained operation by value and just
97:28 - between zero and one so this should do
97:31 - the trick
97:32 - it should be another operation so I've
97:34 - applied the convolution subtract
97:37 - multiply and clip now let's try running
97:42 - this I'm not getting any errors wait oh
97:48 - oh I saw a water ripple they saw water
97:53 - ripple it was there it was fleeting it's
97:56 - not even in the place that I clicked ok
98:00 - so what's going on here dampening let's
98:04 - put the dampening out one just for a
98:06 - second here
98:14 - is there some kind of like pixel density
98:17 - thing going on something is wrong where
98:28 - I'm setting the values maybe it's this
98:45 - I have the axes reversed rows by columns
99:10 - oh this was such about it this is just
99:13 - not
99:21 - one Mouse why mouse X comma zero this is
99:32 - this is what it should be what
99:54 - no oh no no rows by columns right cuz
100:04 - it's a matrix
100:26 - if nothing else the coding trains
100:31 - livestream is a really good
100:33 - representation of what it's like to
100:37 - really as you can see I just I just like
100:43 - hick and everything wrong it's really
100:45 - frustrating I don't even know why I'm
100:47 - doing this tonight did that did I learn
100:50 - anything did you learn anything I don't
100:52 - know but there we go this is not even a
100:59 - faster version no not necessary I'm not
101:01 - even doing this I'm just trying to learn
101:03 - how tensorflow j/s works and I by the
101:07 - way I got a deal with like the memory
101:09 - management is like a massive problem
101:11 - here let's turn this off
101:14 - I don't think Matt yeah I don't think we
101:17 - should put this together as a video I
101:20 - think first of all it's 8 o'clock you
101:28 - should not try this at home I was right
101:31 - oh I'm sorry everybody let's finish this
101:36 - off let's not even let's I mean I just
101:40 - think I think I should come back and do
101:42 - this again I could run a hundred steps
101:47 - at once on the GPU yeah it'll be really
101:49 - fast this I'm not doing anything
101:51 - efficiently here I'm just trying to
101:52 - learn stuff about convolutions let me
101:56 - let's first do some stuff important let
101:59 - me let me put all this in TF tidy
102:02 - because I'm creating all these tensors
102:05 - and oh but I don't want to tidy this is
102:13 - confusing now because I need these
102:18 - I need buffer 1 and buffer 2
102:25 - there's a way with TF tidy to like
102:28 - explicitly on the powers of 35% okay
102:33 - [Music]
102:39 - alright let's just assume for the sake
102:42 - of argument that much you can make this
102:47 - into something I don't know that you
102:49 - should but I'm gonna go back and explain
102:54 - I'm gonna go from clip from value okay I
103:03 - think look there's water ripples in
103:06 - there but they're like off something is
103:09 - wrong so what's going on guess what I
103:13 - have figured it out it took me like an
103:16 - hour and a half but you get to watch
103:19 - this edited version so I forgot
103:21 - something really important in the world
103:24 - of matrix operations and machine
103:28 - learning and linear algebra we always
103:30 - say rows by columns this 3x3 matrix or
103:38 - 3x3 tensor has three rows and three
103:40 - columns in the world of computer
103:43 - graphics I always say X comma Y so X
103:46 - being like the columns the horizontal Y
103:49 - being the rows and so I must change the
103:52 - way that I think about everything and
103:54 - this should actually be rows by columns
103:59 - and then here I need to say mouse Y
104:03 - mouse X all the operations are fine and
104:07 - now this by the way changed during my
104:09 - debugging session from mousepressed to
104:12 - Mouse dragged now let's see if this
104:15 - works
104:16 - and yes look there are water ripples
104:21 - happening there actually happened I
104:27 - turned that I don't know they're so dark
104:29 - I wish I could figure out a way I
104:30 - I set the dampening the damping to one
104:33 - let's put it back to 0.99 and you can
104:38 - see that they're really so hard to see
104:40 - so I got to think about a nice way to
104:41 - brighten them up there maybe there's
104:44 - some other tensor operation I could do
104:46 - to like
104:47 - increase the values but the years are
104:54 - really the main issue TF dot memory what
105:01 - do I look at this TF dot memory dot
105:04 - number number of tensors whoops number
105:10 - of tensors five thousand eighty nine
105:12 - there should not be five thousand eighty
105:14 - nine tensors I need to be cleaning this
105:16 - stuff up so a really nice way I can
105:18 - clean stuff up is by using the TF tidy
105:21 - function which just says hey everything
105:25 - inside of this function I just make this
105:32 - I just make this anonymous function with
105:34 - all of my code and I put it inside TF
105:37 - tidy and DF dieting they busily says
105:39 - like run all this code but tidied up now
105:41 - I'm gonna have a problem here all of a
105:45 - sudden now the tensor is disposed so I
105:49 - really want to keep these so what's the
105:54 - what's the best way for me to approach
105:55 - this another way I could approach this
105:59 - is by manually so I could use TF keep to
106:02 - make an exception to certain things as
106:04 - I'm tidying but let me try to manually
106:05 - dispose stuff so as soon as I do this I
106:09 - don't need a neat buffer one still but
106:16 - for one doesn't go away but buffer to I
106:23 - don't need anymore
106:25 - so I'm gonna dispose buffer two then but
106:33 - for two equals temp one I've right temp
106:37 - 2 equals buffer one buffer 1 equals
106:42 - buffer two so I think actually it's just
106:47 - this buffer two that I need to dispose
106:50 - no no this couldn't be all right let's
106:57 - see here
107:03 - let me think about this getting like
107:08 - text messages right okay unless thing
107:16 - about this okay you got to turn my watch
107:20 - notifications off hold on all right
107:32 - yeah okay let's try to dispose them
107:40 - manually this is gonna be a little bit
107:42 - insane so I'm gonna change this now to
107:46 - temp two and then I is done
107:55 - I don't need temp one anymore and do I
108:02 - need buffer 1 or buffer to still let's
108:06 - buffer one let's let's let's think about
108:09 - that or buffer two so now buffer - ah so
108:15 - buffer two should be disposed because
108:19 - I'm gonna retake it and set it to temp 1
108:22 - anyway
108:23 - now this is bad this is 10 3 now by the
108:25 - way temp 3 equals buffer 1 but for one
108:31 - equals buffer 2 which is really temp 1
108:35 - whoa so I don't want to oh boy hold on
108:39 - buffer 2 equals temp 2 boy this is
108:44 - terrible this is to keep track of all
108:47 - these ok dispose temp 1 dispose buffer 2
108:51 - and then this is now also temp to right
108:55 - this is the end result these are the
108:57 - pixels oh but it's making different ones
109:00 - with this chaining so without tidy let
109:03 - me use tidy let me use tidy so hard
109:14 - right I mean it I'm worried about with
109:17 - the chaining without alright well let me
109:22 - not worry about the chaining for a
109:24 - second let's go with my dispose them
109:26 - individually so temp 1 and buffer two
109:29 - can be disposed buffer 2 is set to temp
109:32 - 2 which I still have then temp 3 equals
109:38 - buffer 1 which I have it disposed
109:46 - but for one equals buffer 2 which is
109:49 - this and buffer 2 equals so this is fine
109:52 - this in theory disposed everything
109:55 - except for the fact that I think this
109:58 - chaining is gonna cause a problem so
110:00 - let's see what happens here I still have
110:07 - the water ripples uh-oh
110:11 - so I'm still making too many tensors way
110:14 - too many tensors so what if I just what
110:21 - if I do this the only thing I need to
110:22 - keep here is temp 2 so what if I say TF
110:26 - tidy and I'm gonna use the arrow syntax
110:37 - just yeah this there's no way this is
110:42 - going to be a video
110:54 - and then how do I keep I keep okay so
111:07 - then I want to just say TF keep the
111:10 - result of this so tidy everything but
111:15 - keep temptu now set those pixel wise and
111:22 - then temp buffer to is temp to I've kept
111:29 - that I'm not sure let me just say buffer
111:37 - to dot disposed here there's also a
111:50 - memory leak bug which could have been
111:52 - the problem
111:52 - let me dispose buffer to and then ten
111:57 - three is buffer one which has not been
111:58 - disposed and that goes into buffer to
112:03 - and buffer one so this could really just
112:07 - be be this temp to and I probably need
112:14 - to buffer one I don't want to dispose
112:21 - yes I do well that's weird
112:28 - why is
112:35 - oh I know
112:48 - oh yeah this is gonna be a problem what
112:55 - I I guess what I need to say is oh so
113:00 - maybe I don't need keep if I do this I
113:03 - just return the result of that right
113:10 - this is what I could do I'm so close to
113:21 - simplifying this more all right let's
113:24 - see here
113:24 - iiiiii I'm sorry everybody
113:31 - yeah seems to be less still going up now
113:35 - there is this memory leak here let me
113:37 - comment this out so now I have succeeded
113:49 - in not creating extra tensors is this
113:54 - was this necessary I think it was yep
114:12 - is this what this went off the rails
114:15 - more than anything I've ever done I
114:19 - think I have to go home I'm sorry
114:22 - everybody there's no way this was useful
114:27 - for me I think this is just gonna be a
114:30 - live stream that just lives as it lives
114:37 - clearly I'm not staying hydrated maybe
114:40 - this nice thing of water let's see if I
114:52 - actually still get water ripples yeah
114:59 - I'm getting water ripples oh that that I
115:05 - have that memory leak so this is a
115:07 - memory leak which we can we can go to TF
115:24 - where am I going to github.com
115:27 - tensorflow
115:28 - well actually let's go to here and let's
115:32 - click the github issues closed
115:43 - memory leak there we go so this memory
115:51 - leak due to this issue all right
116:15 - alright alright okay everybody I really
116:26 - know I really want to understand this
116:28 - could be two lines yes I think this
116:30 - could be you know what it is it's this
116:32 - microphone
116:33 - I can't program or think well with this
116:34 - weird microphone apparently
116:39 - [Music]
116:46 - temp 3 is buffer one buffer one is temp
116:52 - 2
116:59 - oh I see I don't need that
117:14 - oops
117:18 - there I did it now right because I don't
117:26 - buffer to is buffer 1 I don't need that
117:28 - temp 3 and buffer one is temp to it's
117:32 - just like temp 3 could not have been
117:36 - disposed temp 3 with it
117:37 - it wasn't creating a new tensors there's
117:39 - another pointer to that same one this
117:42 - this if I'm ever going to do it this
117:43 - this uh I mean this I think was useful
117:46 - for me in like learning tensorflow Jass
117:49 - a bit more have you heard of how Adam
118:01 - Savage wears his mic he has a hole cut
118:03 - in his glasses rim that's interesting
118:11 - note m3 wasn't the memory leak it just
118:14 - was an extra variable I was using it to
118:17 - store buffer 1 I don't even remember
118:20 - what I had before now just copied this
118:25 - yeah I was using it to store a reference
118:31 - to buffer 1 because I need to set buffer
118:35 - to to that but in this case because
118:41 - because I could just do that first right
118:45 - I don't need but there I don't need like
118:48 - I'm not actually swapping two values
118:50 - what I'm doing is I'm just saying buffer
118:53 - 2 is equal to buffer 1 but for to buffer
118:59 - to now becomes buffer 1 and buffer 1 is
119:02 - the result of all this math that was
119:03 - done up here ok look at this this is so
119:11 - little code you would think that I would
119:13 - be able to do I think I could start I
119:16 - could do this again if this is a useful
119:25 - so about that 24 hour livestream so
119:29 - what's a quick way for me to make this
119:31 - brighter
119:32 - I mean what's in operation I could apply
119:37 - to the tenser I could multiply it by or
119:47 - I could square it like right I could
119:49 - multiply it by five right I mean this is
119:51 - sort of silly like what if I multiply it
119:57 - by oh no but you have to clip it
120:05 - afterwards well no but the damping let's
120:10 - just add to it let's do something crazy
120:18 - way like that this is like additive
120:22 - blending now all right everybody
120:36 - I'm so sorry I went down I should have
120:41 - known better should have had better
120:42 - judgment and I shouldn't have started
120:44 - with this and I should have done the
120:47 - layers API in the XOR coding challenge
120:49 - but that's just gonna that's just gonna
120:50 - come next I have to be done now it's
120:52 - 8:20 this I will publish
121:18 - I'm looking at my phone right now oh
121:22 - when the wrong screen all right change
121:26 - the kernel values to one that's an
121:29 - interesting idea
121:36 - let's change them to 1.5 for fun like
121:46 - 0.9
121:58 - point six
122:06 - whoo interesting yeah the point five is
122:10 - really a magical value all right try to
122:22 - pixels inside a tidy no I don't think I
122:24 - think that's just yeah that's an
122:28 - interesting idea
122:29 - I should try that I don't think that
122:32 - will fix it
122:41 - but
122:51 - ya know it's it's still it's it's a bug
123:03 - yeah just do the normal I posted I beg
123:09 - you
123:10 - what's that thing
123:20 - anyway so let me talk about this other
123:26 - thing I want to talk about I'm gonna
123:28 - actually unlock a feature right now on
123:30 - YouTube I can't pass the location of a
123:34 - literal to a function alright so first
123:39 - of all what's happening with the
123:41 - calendar mm-hmm this was a but I wasn't
123:44 - even going to look I wasn't planning on
123:46 - live-streaming this week because I had
123:48 - pieces all week and I usually have
123:51 - Friday evening it's not available but I
123:52 - was able to make it work for this
123:55 - evening but unfortunately I like I
123:59 - didn't waste the time but I could I do a
124:05 - quick just do like a quick coding
124:07 - challenge before I go hold on hold on
124:14 - yeah to May it's clamped to one is the
124:17 - issue I think is one of the issues like
124:24 - what I should do is actually I know what
124:28 - I have an idea
124:42 - pixal pixels equals temp - clip by value
124:51 - was that what it was and then do this
124:56 - and then dispose it so I can let the
125:01 - tensors actually have larger numbers
125:07 - right check this out but what did I do
125:11 - wrong
125:32 - Oh whoops no no watch this
125:50 - let me not dispose this for a second
125:57 - okay now what I can do there we go so
126:09 - this this I need to dispose this one I
126:18 - could just I could just I could do tidy
126:30 - there we go
126:43 - yeah no let's dispose so this is like
126:45 - asynchronous this two pixels thing is
126:48 - asynchronous so so I have to dispose
126:53 - after all right so I would have to do
126:58 - this then pixels dot dispose I think
127:09 - this is what I would have to do
127:16 - there we go oh there was a super chat
127:22 - Thank You Nuka Charlie there we go
127:25 - now I've made it brighter so I can see
127:29 - it so much advanced crazy stuff in here
127:32 - you know what I need to do I need to
127:34 - slow down I need to come back fresh
127:38 - energy fresh thoughts and try all this
127:42 - again all right this is good I'm
127:43 - learning tensorflow jeaious becoming
127:46 - more of an expert in it one day I'll be
127:50 - able to say I am an expert in tensor
127:52 - flow Jas alright so there we go so
128:01 - here's the thing I'm just curious for
128:04 - those of you watching right now
128:07 - I'm gonna make this a so I got a couple
128:10 - things to talk about here youtube.com
128:15 - slash the coding train alright 731 I
128:24 - can't believe there's still 730 foreign
128:26 - people watching that would be insane so
128:30 - what am i logged in as myself that's
128:32 - dangerous
128:33 - okay going to community okay so let's
128:37 - dear diary tonight I had very special
128:43 - plans I my dream I the the livestream
128:56 - the topic to continue my tutorials on
129:02 - tensor flow Jas I planned to cover the
129:10 - layers API and show how to train a model
129:23 - to solve X or this would have
129:29 - beautiful instead I just I decided to
129:37 - recreate the water ripples API the water
129:44 - ripples coding challenge with tensorflow
129:48 - j/s it involved so much debugging and me
129:55 - being confused over and over that it
130:00 - took it took hours what should I do
130:17 - Sincerely Yours choo choo Pole okay what
130:25 - should I do now I should leave it be it
130:33 - was a moment to live only in the moment
130:41 - leave it be and move on it was useful
130:50 - but insane do it again as a tutorial now
130:54 - that you now that you know and the other
130:58 - one is just edit edit it together
131:10 - somehow no this is a bad idea don't vote
131:15 - for this one okay yeah the coding
131:21 - trainwreck all right
131:25 - DiNozzo tutorial yeah all right so let's
131:28 - so look at this by the way look at this
131:30 - I now have this thing everyone can see
131:35 - this post sponsors only so let's talk
131:39 - this is what I wanted to talk about for
131:40 - a second this is really
131:42 - really a bad idea I'm gonna go to slash
131:53 - sponsors I'm in my dashboard now so
132:01 - check it out look I'm in the same place
132:07 - so YouTube has this new feature called
132:11 - sponsorships which is oh did I leave you
132:18 - wondering if the last tidy fixed the
132:20 - memory leak yeah sorry about that let me
132:25 - let me check that out so it didn't but
132:31 - it did I think because the memory leak
132:34 - is actually unfortunately there's no way
132:38 - to know because this inherently has a
132:40 - memory leak that I can't fix
132:42 - but this disposing of it should work so
132:45 - there's no way for me to know all right
132:48 - so here's the thing I'm not going to go
132:50 - through YouTube has this new feature
132:52 - called sponsorships I'm kind of curious
132:54 - about it I have a patreon that that
133:00 - people can subscribe to you with some
133:02 - benefits there's a slack channel there I
133:06 - even will mail you stickers or books
133:07 - sign books and different levels which
133:10 - I'm reasonably okay at making happen
133:13 - eventually I don't have any interest in
133:17 - doing exclusive content so that's not
133:21 - something that I'm planning to do but it
133:24 - does help sort of motivate me and also
133:26 - provide you know it just helps to have
133:28 - the financial support so what I'm
133:31 - thinking of doing yeah I could check the
133:36 - amount across one draw loop that's a
133:38 - good point what I'm thinking of doing is
133:46 - turning this on as an experiment and
133:48 - basically considering it exactly the
133:54 - same
133:56 - as this this level so if you want this
134:07 - $5 per month level you can subscribe via
134:11 - patreon if that's convenient to you or
134:14 - you can subscribe via the sponsorships
134:17 - and it's exactly the same if you want
134:22 - some of this other stuff then you would
134:25 - have to use patreon the one disadvantage
134:29 - to this idea that I have one is it's
134:32 - sort of like this probably should just
134:34 - use one platform for the crowdfunding
134:35 - thing but and the other disadvantage is
134:38 - YouTube the YouTube is really I think
134:40 - Pope is is making this a feature in
134:43 - particular for people who do live
134:44 - streaming because what the sponsorship
134:47 - allows you is when you're in the live
134:48 - chat you get a little icon next to your
134:51 - name and you also yeah you get an icon
134:59 - next to your name oh you could use
135:01 - special emojis that I can unlock so so
135:08 - oh yeah 30% is quite a bit but you know
135:17 - I don't know I I like to experiment with
135:20 - these things that could probably turn it
135:22 - off if I turn it on so I'm think I'm
135:23 - gonna turn it on and then I could turn
135:25 - it off let's see if people like the
135:27 - features of it and want to subscribe
135:29 - that way there's no no need to nothing's
135:31 - gonna change in terms of how I make the
135:33 - content that is remaining the same but I
135:36 - can't resist every time I log into
135:38 - YouTube they keep saying indeed while
135:40 - that's enabled let's enable this and I'm
135:42 - tempted to just go ahead and enable it
135:44 - right now let's slowly go through this
135:46 - why not what's the worst thing that
135:47 - could happen alright get started right
135:52 - so what I did here is I made the the the
135:55 - the the benefits our invitation decoding
135:58 - train slack channel coding train
136:00 - stickers continue these are the loyalty
136:06 - badges but if someone wants to make
136:09 - some custom ones for coating train I
136:11 - could do that
136:12 - I added some emojis so if you're
136:16 - supportive you'd be able to use these
136:17 - emojis in the chat custom emoji and then
136:23 - I'm supposed to create a sponsorships
136:25 - announcement video that's what's
136:27 - happening now continue post the sponsors
136:31 - on your community tab yeah continue I'm
136:37 - gonna do this I'm going to turn on well
136:42 - they're finalizing my sponsorship shut
136:44 - up setup this could take up to my
136:46 - channel is now accepting sponsors didn't
136:48 - take 20 minutes did it alright so I need
136:50 - to go and work on the loyalty badges and
136:53 - the custom emojis and the custom perks
136:55 - if anyone is currently a patreon
136:58 - subscriber you are welcome to any prefer
137:02 - giving YouTube your money also you could
137:07 - unsubscribe from pay and you want these
137:08 - emojis nothing will change the only
137:10 - differences between patreon and YouTube
137:14 - sponsorship are and I should really
137:16 - publish something to explain this or
137:18 - make a video are you get the emoji is on
137:22 - YouTube ooh and I got a sponsor
137:26 - Jake Crowley welcome Jake Crowley and
137:28 - look Jake Riley irresistible this stuff
137:34 - is irresistible so I don't do you think
137:39 - is I to be honest with you
137:40 - patreon is not a service that I love it
137:44 - works really well I use it they are they
137:48 - seem like great people trying to really
137:50 - make something that works there's a lot
137:52 - of artists who are supported by patreon
137:55 - which is a wonderful thing there are
137:57 - some issues that I have with how it
137:59 - works that don't aren't perfect for me
138:01 - and it's actually a ton of effort to
138:04 - mail those books and incredible expose
138:06 - thing that I didn't anticipate I still
138:08 - send them because I want to send them
138:10 - but it actually costs about every time I
138:13 - mail one of those books that somebody's
138:15 - international that's signed it cost
138:16 - about 40 to 50 dollars
138:18 - so in the end like this you know it all
138:21 - it all works out
138:23 - anyway I'm going off the rails here was
138:25 - there another sponsor still Jake Jake
138:30 - Crowley is my sponsor oh look at this so
138:34 - I don't know it's sort of irresistible
138:36 - for I'm gonna I'm gonna see so I'm not
138:38 - canceling my patreon I'm not canceling
138:40 - I'm not I'm not using YouTube
138:43 - sponsorships now instead of it I'm
138:45 - trying them both and the YouTube
138:47 - sponsorships let me let me make a little
138:49 - video Oh new sponsors see look at this I
138:52 - think one of the reasons to do this is
138:55 - it kind of encourages people in a way
138:56 - that patrons so let me let me um let me
139:01 - make a quick video to release that Matt
139:05 - you can edit if which I think I can
139:09 - explain this now effectively okay whoops
139:19 - so I think I need to sign in as somebody
139:22 - else in order to see the by the way
139:27 - secret channel if you could find this
139:29 - channel wow I have all these new
139:32 - sponsors cannabis plays Zod Gaming is a
139:38 - secret channel that might be launching
139:40 - soon I'm gonna switch to oh my goodness
139:45 - John Henry I'm gonna switch to that
139:49 - account for a second um so now if i
139:57 - refresh this page it should show the
139:59 - sponsor button how come I don't see that
140:02 - oh no I'm still no well I might as well
140:05 - subscribe how come I don't see the
140:08 - sponsor button does it know what if I go
140:12 - to new incognito window no
140:24 - Wow look at all these sponsors this is
140:27 - nuts
140:30 - welcome zags thank well my goodness
140:36 - Cody garden by the way you should all
140:38 - subscribe to the coating garden with CJ
140:44 - but how come where does the sponsor
140:46 - button show up and where are you finding
140:49 - it if I just go to here oh here I'll go
140:52 - to here oh I see alright alright alright
141:11 - okay here we go
141:14 - Alka it's very nice of you to thank
141:16 - everybody for sponsoring all right no
141:24 - let me get this not now so if I if I go
141:35 - to this logged in as me I'm just curious
141:37 - oh yeah so I could sponsor myself that's
141:44 - fine Kelly Murphy thank you oh my god
141:46 - this is incredible
141:47 - this is employment food wow this is like
141:49 - my worst livestream ever and all of
141:51 - these sponsors are joining this is like
141:53 - crazy I'm so so touched
141:58 - alright hello welcome to an announcement
142:04 - video that YouTube told me I should make
142:06 - so I turned on a feature on YouTube
142:08 - called YouTube sponsorships I actually
142:11 - did this during a livestream that's
142:15 - happening right now you can see the chat
142:17 - going on here I have J Crowley if is the
142:19 - official first sponsor the Kotick trade
142:22 - I mean in terms of YouTube sponsorship
142:25 - so this is confusing because you might
142:27 - be aware that I have this like patreon
142:29 - that I don't really keep up with in
142:31 - terms of managing the website but it is
142:33 - a place that people can crowd fund the
142:34 - coding train
142:35 - so let me say a couple things what do I
142:37 - use the funds for I use the funds to
142:41 - help with expenses of the channel and
142:45 - then I also earn a little income from
142:48 - doing this and you know that's best
142:52 - that's what's going on here and to be
142:53 - honest it actually really motivates me
142:56 - to do this every week because I feel
142:59 - more of an obligation to the patrons and
143:01 - the sponsors now what so this is
143:04 - confusing why do I have these two
143:05 - different things I don't know what I'm
143:07 - going to use for it
143:08 - thank you to all these people who keep
143:09 - sponsoring while I'm doing this right
143:11 - now which is kind of insane but really
143:13 - humbling and nice and I feel I feel
143:16 - sorry you feel really guilty and
143:18 - confused but this is a new feature from
143:20 - YouTube it's very similar to something
143:23 - like patreon right now I'm keeping both
143:24 - of them and I'm not planning to do any
143:27 - exclusive content so all of my content
143:30 - will always be available sometimes a
143:32 - recording session I will livestream to
143:35 - patrons only
143:36 - but then that always gets uploaded later
143:38 - but just you know if I'm trying to
143:40 - figure something out and I need people
143:41 - to watch and give me feedback but in
143:43 - terms of my regular life streams and
143:44 - videos I'm not planning any exclusive
143:47 - content there is however however a
143:50 - separate slack channel so if you are a
143:53 - sponsor I have to figure out how I then
143:55 - can invite you to the slack channel so
143:57 - I'm gonna figure that out and I also
143:58 - will mail you stickers this is the exact
144:02 - so being a youtube sponsor is exactly
144:05 - the same thing as a patreon passenger so
144:09 - if you are a patreon subscriber and want
144:11 - to switch to a YouTube sponsorship
144:12 - you're welcome to cancel you can do
144:14 - boats I don't know why you would want to
144:15 - I do still have these other rewards for
144:17 - like t-shirts and books and things on
144:19 - patreon
144:20 - I will leave those up there so they're
144:22 - both things so that's a thing now
144:24 - welcome new sponsor Barney do you get
144:26 - these like emojis if somebody wants to
144:28 - design me some custom emojis and some
144:30 - custom like sponsorship iconi thingies
144:34 - you could do that the sponsorship button
144:39 - is next to the emoji button so anyway so
144:41 - that's a thing now I don't know is this
144:43 - a bad idea a good idea write in the
144:45 - comments if you're so confused about how
144:48 - to
144:48 - all this appropriately and fairly but it
144:51 - really uh you know - please don't feel
144:54 - obligated to be a sponsor only if you
144:57 - really like you're able to and it feels
145:00 - good for you to do that it definitely
145:01 - feels good for me when you do it I
145:03 - appreciate it and so I don't know is
145:05 - there a way I can thank all of the
145:06 - sponsors right now pop out chat welcome
145:14 - okay so let me see welcome Barney
145:18 - welcome Kelly Murphy welcome Azumi ku
145:20 - Shiro welcome coding garden with CJ hey
145:23 - you should check out the coding guarding
145:24 - with CJ that's a YouTube channel that I
145:26 - watch hiccups alright
145:29 - by the way I can't believe people are
145:30 - sponsoring me right now cuz I just did
145:31 - I'm gonna link to this livestream that
145:33 - either which was a total disaster I
145:35 - attempted to recreate this water ripples
145:40 - coding challenge using the tensorflow
145:42 - TSS - like math engine for it and I
145:44 - really it was it was a disaster so thank
145:50 - you so much to the sponsors who are
145:52 - sponsoring me anyway I'm learning
145:54 - tensorflow TAS in front of you which is
145:57 - I guess a good idea and that's that okay
146:04 - goodbye everybody thank you oh this was
146:06 - the sponsorship video good bye alright
146:12 - um people are asking about the fees
146:14 - stuff so so this is very clear to me
146:19 - YouTube takes 30% patreon is very
146:22 - confusing this is one of the the issues
146:24 - that I have with it in theory the fee is
146:26 - just 5% but it's it's very confusing
146:30 - it's different based on its some formula
146:32 - and I can never figure it out I just
146:33 - basically I just decided like I don't
146:36 - look at it just it's just I'm glad that
146:39 - patreon exists and that I can use it
146:41 - it's really kept me going with this you
146:44 - know I should I should have mentioned
146:45 - like I have a full-time job like I'm
146:47 - gonna be ok you don't need to subscribe
146:49 - to me sub answer but it is what it is
146:53 - alright so alright let me just okay hold
147:01 - on let me
147:02 - some text messages for my family which I
147:04 - got a deal with
147:22 - having some type to see if I need it at
147:24 - home okay
147:30 - okay if you go to participants in the
147:33 - chat you'll see that it is more than
147:34 - just for sponsors so where do I do that
147:38 - participant
147:42 - well participants ah there we go
147:45 - I see so we can see all the sponsors
147:49 - here all right that's cool close that
147:53 - back I could need to look at all the
147:57 - tools here welcome Bruno all you people
148:05 - are sponsoring I just I feel like I got
148:07 - to do a coding challenge to thank all
148:10 - these sponsors and also to have
148:12 - something to release next week so what I
148:17 - was thinking I'm gonna close that right
148:19 - now
148:23 - so I let's go to close this go to here
148:35 - and let's try this one
148:38 - we just look at this real quick
148:46 - okay this sprinkling a few pixels smooth
148:54 - the image cooling uh-oh is this gonna
148:57 - get complicated cooling map uh-oh
149:07 - cooling map where's the cooling map I
149:12 - just want to look over this and see like
149:15 - how what is the cooling map oh I see
149:28 - cover it with some smooth pattern
149:31 - sprinkle a few thousand pixels on it oh
149:33 - look at that
149:34 - oh you just have this cooling map that's
149:42 - fascinating oh wow I think I can do this
149:48 - yeah this is no big deal
149:50 - read the pixel from the cooling map P
149:53 - equals add all those together divided by
149:55 - four P equals P minus C and then if P is
150:01 - less than zero cap it and then write the
150:03 - pixels all right all right we're gonna
150:07 - do this I can't believe how many
150:09 - sponsors there are it's an O so sponsor
150:13 - isn't automatic out of Matt automated
150:15 - every month thing I should have said
150:17 - that oh well I should have said that all
150:28 - right I haven't gotten any message back
150:31 - one way or the other all right we're
150:32 - gonna do this we're gonna make this
150:33 - happen
150:44 - yeah that's a good question if I could
150:47 - make people who are patreon subscribers
150:49 - mods or something not sick
151:09 - I guess people are so used to twitch
151:11 - okay saying it's like patreon is I'm
151:13 - alright
151:24 - I think I'm gonna start from my water
151:27 - ripples one right
151:50 - okay here we go everybody welcome to
151:52 - sponsor Ernest G Wilson okay
151:55 - we're gonna attempt a coding challenge
151:58 - here alright drink some water
152:17 - all right I'm gonna cycle the camera
152:32 - okay
152:34 - all right everybody I'm excited I'm
152:38 - gonna do something that's gonna be some
152:40 - coding it's gonna be cool it's gonna be
152:42 - great
152:43 - I should write the water stuff as a
152:44 - shader obviously so I need to do some
152:46 - tutorials on shaders somebody makes
152:48 - somebody file that as a rainbow topics
152:50 - it's probably there already shaders and
152:52 - these should be what I start with okay
153:00 - hello I am very excited for this coding
153:02 - challenge this code challenge is
153:03 - dedicated to all the know the new
153:05 - YouTube sponsors I don't know in the
153:06 - future when someone's watching this
153:08 - video YouTube won't even exist or
153:09 - sponsors but it just happened today and
153:11 - all these people are sponsoring like wow
153:12 - wow Tomica thank you okay what am I
153:14 - gonna do in this coding challenge so
153:16 - this was my previous coding challenge
153:17 - the water ripples coding challenge I
153:19 - made some fixes to it by the way has
153:21 - some errors in the code you can you can
153:22 - find it on github and this is just
153:25 - showing you the water ripples where I'm
153:26 - placing them randomly instead of moving
153:27 - the mouse around and I didn't realize
153:29 - this you can see this is called fire
153:30 - ripples cuz I've already set myself up I
153:33 - was not aware of this but Hugo Elias
153:36 - there was another algorithm a fire
153:38 - algorithm and this is explained in great
153:42 - detail here and so I'm not going to read
153:45 - the whole thing over I encourage you to
153:47 - read over I'm just gonna try to
153:47 - implement it but what's really cool
153:49 - about this just look at it really
153:51 - quickly is it works if you create this
153:53 - thing called a cooling map so I'm gonna
153:56 - create a cooling map I guess like this
153:58 - that's just kind of noisy and Grace
154:02 - Kelly and smooth but you can make shapes
154:06 - and patterns you use an image I think
154:07 - this is gonna spawn a lot of creative
154:09 - ideas so let's get started making this
154:12 - so I'm actually going to just start with
154:14 - my code base from before because that's
154:16 - most of the same things that I need and
154:18 - so if we start here the flames can be
154:23 - made to start anywhere on the screen by
154:24 - simply sprinkling a few pixels most
154:27 - implementations had the flame source at
154:29 - the bar
154:30 - of the screen by the way where does this
154:32 - algorithm come from originally I don't
154:36 - know Oh beeps have to read this page
154:39 - River I got to do this coding Thanks
154:40 - okay so let's go here so first thing I
154:45 - want to do is I'm just gonna kind of get
154:48 - rid of the swapping algorithm and I
154:54 - think let's let's I'm gonna I'm gonna
154:58 - just get rid of this and I'm gonna call
155:05 - I'm gonna just have one array which is
155:10 - actually here's the thing I think I can
155:13 - just use the pixels itself it doesn't
155:15 - look like oh this is the smoothing yeah
155:21 - so I'm looking at this yeah but I need I
155:26 - need to do that I need a current and
155:28 - next I need a buffer
155:29 - so but I think this might actually make
155:31 - more sense for me to do with image
155:33 - buffers so rather than have these
155:36 - two-dimensional arrays let's try
155:38 - something I'm just getting rid of
155:40 - everything this is a nice idea let's do
155:44 - this so much we're starting with that
155:46 - code all right what I'm gonna do is I'm
155:48 - going to create a P image I'm gonna just
155:52 - call it buffer one and I'm gonna say
155:56 - buffer two and buffer one is gonna be an
156:00 - image that's the same size as the window
156:03 - and it's an RGB image but for two is the
156:09 - same thing and then just what I just
156:12 - want to do I just want to put a row a
156:13 - bunch of pixels at the bottom that are
156:15 - white so I want to say int x equals zero
156:21 - X is less than buffer one dot with X
156:25 - plus plus I'm gonna say buffer 1 dot
156:29 - pixels and so one thing that I really
156:32 - need I have a bunch of image processing
156:33 - videos that about this is I always if I
156:36 - have an X and a y-coordinate I need to
156:39 - look up I need to find the location in
156:41 - this array and the formula for that
156:43 - is int index equals x plus y times width
156:48 - in this case the Y is the last row so y
156:55 - equals buffer 1 dot height minus 1 you
156:59 - know what I'm just gonna the width and
157:03 - height are gonna be the same for
157:04 - everything so I can just use the global
157:06 - variable whoops so this is the Y and so
157:11 - now buffer 1 not pixels Y index equals
157:16 - color 255 okay so let's look now and I'm
157:22 - gonna say buffer 1 update pixels this is
157:26 - just how I'm getting things started in
157:28 - in setup but for one load pixels and
157:35 - then I'm gonna say buffer 1 oh no I'm
157:38 - going to draw that image image buffer 1
157:41 - 0 0 so and let's actually do I kind of
157:49 - want to do this well let me just let me
157:50 - just run this so yeah you should see
157:53 - it's hard to see if I made it red that
157:56 - would make it easier like let's make it
157:57 - red you can see that there's a red line
158:00 - at the bottom so that last row of pixels
158:02 - is full so this is my starting point so
158:06 - now what I want to do is I need to apply
158:14 - this smoothing step there are a few ways
158:17 - to do this depending on exactly how you
158:18 - want to smooth the image so I could
158:22 - probably do all sorts of fancy smoothing
158:25 - algorithms and Gaussian blur and all
158:27 - that but this is a nice way of just
158:29 - adding up applying a convolution write a
158:33 - little matrix adding up the pixels and
158:35 - its neighbors and dividing by 4 so I'm
158:37 - gonna say and I'm gonna use buffer 2 for
158:40 - that so buffer 2 equals oh no no no I
158:45 - need to loop through all the pixels let
158:48 - me give myself some space down here so
158:50 - I'm gonna now have an algorithm that
158:52 - goes through all the x's
158:57 - and it goes through all the whys and I'm
159:02 - going to skip the edges which I might
159:09 - need us to think of being more
159:11 - thoughtful about this later and now what
159:14 - I'm going to say is I'm gonna say is
159:22 - okay so hold sorry I got distracted for
159:24 - a second
159:25 - but time out I'm gonna have Matt yet
159:28 - edit that distraction out for a second
159:45 - okay so now what I need to do is let me
159:48 - get the color it I'm gonna get the color
159:51 - from buffer one pixels at an index and
159:54 - that index is the same as this formula
160:00 - so that is now cut the color so then I
160:06 - actually don't need I need to get sorry
160:09 - I need to get all the neighbors so this
160:12 - is going to be a very awkward way of
160:13 - doing it but I'm gonna do it this way
160:15 - anyway I could do another loop inside
160:18 - here but I'm gonna do this really
160:20 - manually and then so y plus 1 y -1 and
160:33 - let me put the print just to be
160:36 - consistent this is totally just my own
160:39 - like wanting to be consistent so look
160:41 - these are all of the neighbors X plus 1
160:45 - X minus 1 y plus 1 not all of the
160:47 - neighbors all the neighbors only the two
160:49 - neighbors to the right and left and the
160:50 - two neighbors to the top and bottom I'm
160:51 - not doing the corners so this is really
160:54 - simple and so now I need to get all of
160:59 - the colors and again I could do this
161:02 - with like apply a convolution and a more
161:05 - thoughtful and creative way but I'm just
161:08 - gonna do it this way and now what I need
161:11 - to do is I want to get a new color which
161:15 - is equal to the brightness of C I'm
161:21 - doing everything in grayscale right now
161:23 - so I'm going to add up all of these
161:28 - whoops plus C 3 plus C 4 I'm gonna add
161:36 - them all up together then I am going to
161:41 - let me see if I'm gonna say buffer 2
161:46 - pixels and I do want that index the
161:50 - regular index will call that index 0
161:53 - will just be X plus y times width
162:00 - that index zero is a new is a color with
162:06 - the new value divided by four or I think
162:10 - but I might like to say multiplied by
162:11 - point 25 so I've now implemented this
162:16 - part of the algorithm right that I think
162:19 - I need to put it in a separate buffer
162:21 - because I don't want to overwrite the
162:23 - image that I'm using now right and and
162:29 - then continue to use those pixels so
162:30 - everything will get all messed up so
162:32 - after that's done I should be able to
162:34 - say buffer to update pixels and I don't
162:42 - need to draw this here I need to load
162:44 - the pixels of both of them because I'm
162:46 - working with both buffers and then I
162:53 - need to swap them swap swap swap so I
162:57 - need to say a pea image temp equals
163:01 - buffer one buffer one can become buffer
163:05 - two and buffer two can now be buffer
163:08 - what was buffer one which is stored in
163:11 - temp so now if I run this we should see
163:16 - it's gonna like we should see like it
163:22 - slowly blur away what if I what if I
163:28 - continue to always add a line so let's
163:34 - let's let's write this a function like
163:36 - let's write a function called fire which
163:41 - what it does is it in buffer 1 it adds a
163:44 - row of red oh and the let me actually
163:47 - just make it white because I'm not
163:48 - dealing with a color yet and let's
163:51 - actually call that at the beginning of
163:52 - draw so let's do that over and let's
163:54 - always reset the bottom one down to red
163:59 - all right what am I doing wrong here
164:22 - oh no that should be fine what did I get
164:27 - wrong here I expected to least see
164:30 - something happening like the color
164:32 - spreading up oh convection I'm not doing
164:39 - convection uh-oh any programmer where I
164:47 - am not worth my salt oh I forgot to draw
164:53 - B oh I'm back I forgot to draw the image
164:58 - I forgot this whole time I forgot to
165:01 - draw image so we draw a buffer too yeah
165:07 - this is what I expected
165:08 - we're seeing this sort of like blurring
165:10 - of the pixels moving up okay there we go
165:14 - so we can see that that's actually
165:16 - happening I really would like to do this
165:18 - with the RGB values but um that's gonna
165:20 - add too much to this right now so I'm
165:22 - not gonna worry about that okay so now
165:28 - so this is the heat spread cooling is
165:32 - simple and involves subtracting a small
165:35 - amount from every pixel the exact amount
165:38 - depends on how quickly you want the fire
165:39 - to cool well let's say I don't want it
165:42 - to cool at all let's skip the cooling
165:45 - for a second let's go to convection
165:47 - scrolls the image up by a pixel or - so
165:51 - where is copy buffer - to the screen
165:55 - copy buffer to buffer one scroll cooling
165:57 - map up one pixel all right so let's see
166:09 - smoothing and convection into one you
166:12 - are indeed correct any programmer worth
166:15 - their salt should see that I am NOT
166:17 - worth my salt I did not see it so that
166:19 - is where I'm going to leave it what what
166:21 - very helpful what I want to explain is
166:25 - how to make the fire look really good
166:26 - and incidentally in this next method
166:29 - that okay uneven cool alright so I'm
166:31 - gonna I'm gonna let's let's let's create
166:38 - the cooling map you don't swap you cover
166:42 - copy buffer one to two buffer well yeah
166:44 - I don't I think swapping is fine because
166:47 - I'm really overwriting buffer two
166:49 - completely so this way I'm this way I'm
166:52 - saving memory so I have to take a break
167:02 - here for a second
167:13 - I don't need to swap but but I might as
167:19 - well because oh wait a sec let me think
167:23 - about this yeah buffer one gets but for
167:25 - two yeah yeah I'm just overriding so
167:27 - yeah yeah I don't know K rather than
167:31 - recreate rather than copy everything I
167:34 - can just swap them hold on I'm thinking
167:47 - here what I want to do
168:08 - just looking at this
168:13 - oh right it's just y -1 oh of course
168:19 - ok ok yeah yep yep yep yep ok all right
168:39 - all right ok so let's look down here and
168:42 - aha so this is actually where that
168:46 - convection is happening right it could
168:48 - actually just right the pixel to one row
168:50 - higher and that's what's gonna move it
168:52 - up now I'm not adding the cooling yet so
168:54 - I've got this here and but really I just
168:56 - need to like write it so I just scroll
168:58 - it up I just need to like change this
169:00 - index 0 to this one should actually be Y
169:03 - minus 1 so in this case it's really the
169:06 - same as index 4 right that's the same as
169:09 - index 4 but yeah you know why not have
169:14 - it as a different variable so now if we
169:16 - run this you can see there we go look
169:18 - the fire is burning now interestingly I
169:24 - expected it to overwhelm everything
169:33 - right because I don't have the cooling
169:37 - in there what am I doing wrong here
169:39 - brightness 1 2 3 4 let's just check this
169:44 - 1 2 3 4 1 minus 1 1 this is actually no
169:55 - point in doing this in draw because I'm
169:59 - never actually iterating the bottom
170:02 - pixels oh you know what the problem is
170:06 - no actually I do need to do because I'm
170:09 - swapping no buffer buffer to never gets
170:14 - so actually if I want to be sort of
170:16 - thoughtful about this I should just
170:19 - always have in both of them
170:25 - right because I'm swapping the memory
170:28 - back and forth and so like the bottom
170:30 - should always just be a row of white
170:32 - pixels and then whoops I and then I need
170:37 - to make sure I set that up at the
170:39 - beginning same thing same thing so what
170:48 - I guess maybe I should do two rows two
170:52 - rows of white pixels so let's do this
170:57 - twice
170:58 - just to sort of test this idea out there
171:03 - we go this is what it more like what I
171:04 - was expecting
171:05 - okay so there we go so this looks more I
171:07 - just didn't like really give myself
171:09 - enough white pixels at the bottom so now
171:12 - this is just filling this up I'm not
171:14 - seeing any fire so let me be a bit more
171:16 - thoughtful about this so I'm gonna
171:21 - actually give this a set of rows and I'm
171:24 - gonna say I'm gonna have another I'm
171:28 - gonna use I and J here actually I'm just
171:32 - gonna use J it's the second one J equals
171:34 - zero J is less than rows J plus plus and
171:40 - then Y is equal to height minus J and I
171:47 - think I should be able to get away with
171:48 - just putting it in buffer one so I'm
171:56 - always gonna add some white pixels to
171:58 - buffer one so I'm going to say fire two
172:02 - let's look at this y equals hi oh this
172:11 - should be height minus J plus one all
172:18 - right there we go okay so that's the
172:20 - fire growing up from the bottom with
172:23 - setting two rows and now if I want to
172:26 - set like five rows to white to like have
172:29 - more fire you can see it's sort of
172:31 - mostly the same effect 50 but you can
172:35 - see you know that's just how much white
172:37 - I'm putting her
172:38 - all right so this is the fire burning
172:41 - now the exciting part is coming now what
172:44 - I need to actually do is this cooling I
172:48 - need to create a cooling map now does
172:50 - this look like anything to you familiar
172:52 - to you I mean I could make something in
172:54 - Photoshop I could design a shape I could
172:56 - have RGB it there's so much I could do
172:58 - but this looks like a Perlin noise field
173:00 - to me so let's quickly make a Perlin
173:02 - noise field and in fact I mean I could
173:07 - write the code for this but I've done
173:08 - this before Perlin noise 2d Schiffman
173:11 - processing like if I just go okay wait
173:15 - wait wait wait wait noise 2d this code
173:19 - makes this kind of pattern and I have
173:21 - videos about why this works and how this
173:24 - works you can go to my Perlin noise
173:25 - tutorial but what I'm actually going to
173:27 - do is I'm just gonna grab this code
173:32 - right here I'll close that page I'm
173:40 - gonna close this we go back to
173:42 - processing and I'm going to make another
173:44 - P image called cooling and I'm gonna
173:50 - write a function called cool and I'm
173:54 - gonna say I'm gonna call cool and setup
173:57 - I'm gonna paste this code whoops
173:59 - shoot actually I don't know why I went
174:03 - to the website when I could just go
174:04 - under processing examples and I can go
174:07 - find it in topics
174:11 - maybe it's under math
174:23 - how come I don't know where this is
174:26 - Oh basics
174:30 - maybe it's under basics math noise 2d
174:35 - there we go so I'm gonna grab this code
174:39 - we're all this code right here let's do
174:49 - this again
174:50 - Mattia thank you for editing for me okay
174:53 - let's just go back forget about all
174:56 - right let me find in examples let me
175:01 - just find this in examples here we go
175:03 - it's actually under basic so let me do
175:06 - this one more time a better place I'm
175:10 - just going to grab the code from
175:11 - processing examples I'm gonna go to file
175:13 - examples under basics under math I'll
175:20 - look at this noise 2d and now I'm going
175:23 - to grab all of this and I'm gonna put
175:28 - this into the cool function but I want
175:31 - this to all be operating under Cooling's
175:33 - so cooling cooling is another image look
175:39 - at this has the same number oh isn't
175:43 - that a beautiful thing it is the same
175:45 - number of characters as buffer buffer
175:47 - too so it's another one of these images
175:50 - then the cool function I'm gonna say
175:53 - cooling dot load pixels I'm gonna forget
175:57 - about noise detail and just let it be
175:58 - the default settings I do need an
176:02 - increment variable I don't know how I
176:05 - lost that let's make that point what was
176:07 - it in the example oh I already closed it
176:10 - open recent maybe yeah there we go
176:13 - Oh 0.02 let's use that 0.02 and there we
176:25 - go now I'm just gonna say cooling dot
176:27 - pixels cooling update pixels let's
176:32 - comment out drawing the actual buffer
176:35 - and
176:36 - just draw cooling now so let's look at
176:38 - our cooling map there we go so that's
176:42 - the cooling map there it is over there
176:44 - and I could play around with this by
176:46 - changing the increment value or blurring
176:50 - it or changing noise detail I'm just
176:52 - sort of curious let's make this point
176:54 - one but so good enough right so I'm
176:59 - gonna leave that as my cooling map then
177:04 - I'm gonna switch to showing buffer two
177:06 - and now I just have one more thing I
177:09 - need to add in here what I need to do is
177:12 - subtract the pixel from the cooling map
177:16 - so all I have to do here is now go and
177:19 - say all right color C 5 equals cooling
177:26 - dot pixels ah here we go
177:29 - so actually I really do want index 0
177:34 - because I wanna write when I subtracting
177:37 - it from the cooling map is actually at X
177:39 - Y write this X y -1 is just for moving
177:43 - sliding everything up so index 0 should
177:45 - actually be this and then secretly I'm
177:48 - gonna use index 4 here and then here I'm
177:52 - gonna use index index 0 and then I can
178:01 - say and and we could we could call this
178:04 - P right why not and then P equals P - oh
178:11 - no no P equals sorry new see is that
178:14 - this is C 5 now new C equals P minus C
178:22 - so that is new C minus the brightness
178:25 - that's in C 5 now my naming here is
178:28 - horrible I think I should refine maybe
178:30 - when I post this code I might rename a
178:31 - bunch of these variables to make it more
178:33 - clear but now we should hopefully see
178:35 - some fiery looking stuff all right hold
178:41 - on let's just do 5 it's kind of the
178:46 - sliding seems to not be happening the
178:48 - way I had imagined
178:54 - yeah let's see here so this would be
179:00 - interesting to randomize the bottom as
179:03 - was being suggested let's yeah but
179:12 - what's going on I think something with
179:14 - my swapping is off your cooling is too
179:29 - high yeah okay hold on let me go back
179:38 - that's probably it
179:45 - so it looked like it did something there
179:49 - but I someone in the chat just said that
179:51 - your cooling is too high which is
179:53 - probably the case so let me look at how
179:56 - I'm making this and let me just make
179:58 - these much less bright yeah but why oh
180:04 - you know what I think it's fixed so it's
180:06 - like fiery but it's not it's fixed
180:10 - because I'm only ever adding the exact
180:11 - same amount of the exact same amount of
180:17 - kind of like white to the bottom every
180:18 - time and it might actually I probably
180:22 - want to add fire more in a more kind of
180:24 - random way it's fixed also because I'm
180:35 - swapping I shouldn't be swapping okay
180:39 - hold on the swapping is it's always the
180:42 - swapping always gets me yeah yeah it's
180:44 - not moving in time oh right
180:48 - ah oh of course I do don't want to swap
180:53 - I don't want to swap I want to copy but
180:56 - for to to the screen and copy buffer to
181:00 - to buffer one so what I actually want to
181:02 - say here is just say this is me copying
181:06 - it to the screen and then say buffer 1
181:08 - equals buffer to get that's the same
181:14 - thing
181:19 - I could regenerate the cooling you want
181:27 - the clouds to have black gaps so I see
181:32 - probably using Perlin noise was bad yeah
181:38 - so we the swapping is fine it's
181:43 - unnecessary but it's fine whew whoops
181:48 - what did I just comment out
182:02 - oops
182:11 - oh whoops okay Pearlie noise was a nice
182:21 - idea you know what the problem is the
182:26 - problem is so Perlin noise Perla noise
182:38 - was a nice idea
182:39 - the problem is Perla noise even with me
182:42 - ramping it down to 100 is you need to
182:45 - have some black gaps like any just much
182:49 - much less white in the picture so I
182:52 - think what I'm gonna do is I'm gonna do
182:55 - something like this and then I'm going
183:00 - to say if I'm if n is less than like
183:08 - point 4 just set N equal to zero so and
183:15 - then yeah maybe I should make my cooling
183:26 - map this I thought would work much
183:31 - better like this is now the cooling map
183:44 - whoops actually you know it would be
183:48 - useful is for me to what would be useful
183:52 - is for me to say 1200 by 400 and have
183:57 - with equals 600 and just keep keep track
184:04 - of these in separate variables because
184:09 - then then if I do that I can look at
184:24 - them both whoops
184:29 - something went wrong
184:38 - there we go so I can look at the cooling
184:40 - map next to the fire I need to scroll
184:47 - the cooling map I need to look at the
184:49 - chat it's cooling map by a pixel oh oh
185:05 - look what the Train just brought in more
185:08 - instructions about the algorithm that I
185:10 - didn't bother to read scroll the cooling
185:14 - map up one pixel guess what I could do
185:17 - you even better because it's Perlin
185:20 - noise oh boy this is exciting because
185:26 - it's Perlin noise I can actually have
185:31 - why off I'm gonna call this like why
185:37 - start equals zero point zero the Y
185:40 - offset is going to start at Y start and
185:44 - then cool and then Y start is always
185:48 - going to also go up by increment and so
185:53 - now if I call cooling cool in draw we
186:04 - should see this scroll that looks sort
186:10 - of what is this kind of crazy what I'm
186:12 - doing okay so a couple things now let's
186:16 - let's see if setting the Perlin noise
186:19 - back to something much brighter makes
186:22 - sense
186:25 - and maybe I don't need to set so many
186:31 - rows this looks much more like fire in
186:38 - an interesting way and also maybe I
186:41 - don't need to worry about this capping
186:44 - thing so much I was too worried about
186:48 - that it's still much too white
186:52 - much too bright right it looks a little
186:54 - bit more like fire now down there and I
186:58 - could now I could try let's making this
187:00 - let's make this less bright there we go
187:04 - look at my fire effect I also feel like
187:09 - it's kind of kind of slow
187:13 - let me where's my cooling image let's
187:20 - make this even less there what do we
187:27 - think kind of firing now so this looks
187:41 - kind of fiery whoof
187:45 - so I made this now I think you could do
187:48 - so much more with this first of all like
187:53 - my fire algorithm what if I just picked
187:57 - lots of random points so for example
188:01 - what if I just said x equals a floor
188:04 - random with y equals floor random with
188:11 - and then I did this whoops Oh height and
188:20 - this should be double UNH so what if my
188:23 - fire algorithm just sets an individual
188:25 - pixel well the thing about that that's
188:27 - just one pixel so what if I were to do
188:29 - this what if I were to set a thousand
188:34 - random pixels whoops
188:44 - mmm that's not good you could see like
188:49 - wherever I at the bottom it's sort of
188:52 - well this is crazy
188:57 - it's interesting what this is doing yeah
189:05 - I think the random pixels all around
189:07 - here so what if I instead did what if I
189:16 - also all right so hold on I have an idea
189:19 - whoops this was supposed to be in here
189:31 - yeah the outer pixels are never up to
189:33 - he'd have a buy of an edge problem
189:35 - definitely have an edge from I don't
189:36 - like the random pixel idea let's go back
189:38 - let's comment that out so I think it
189:43 - really needs to be a collection of
189:45 - pixels so you I could probably draw a
189:47 - small oval of pixels one one thing that
189:51 - could be a good way of doing this is
189:53 - actually to make these P graphics
189:58 - objects is it gonna like just let me do
190:02 - this what if I make these all graphics
190:03 - objects
190:05 - I don't need RGB anymore we make these
190:11 - graphics objects
190:14 - [Music]
190:17 - why does load pixels fail on a graphics
190:21 - objects oh because these are now P
190:27 - graphics I'm going to make these all P
190:31 - graphics objects and make this P
190:34 - graphics you'll see why in a second
190:38 - no it still didn't work
190:47 - yeah
190:59 - draw an elephant yeah P graphics I guess
191:09 - is not gonna work I thought I could call
191:13 - load pixels on P graphics so I need to
191:18 - say begin draw
191:31 - yes okay hold on
191:51 - alright matsya we're gonna edit out that
191:53 - hold it-- that whole part about like
191:56 - setting random pixels cuz that's not
191:58 - super interesting but I do think that so
192:08 - let me just get it back to what it was
192:27 - alright so do I want to do anything more
192:37 - here what I wanted to do was like drag
192:41 - the mouse around and add areas of pixels
192:46 - or click the mouse and so let me let me
192:49 - try to do that ok I think I only need to
192:54 - do that to one of them ok
192:58 - there's a lot of things you could do
193:00 - here now with this you can add color you
193:04 - could be more clever about how you make
193:06 - the cooling map with shapes and things
193:08 - in it let me show you one avenue that
193:11 - you might not be thinking about I think
193:13 - so that could be effective here is if so
193:16 - what let's just think about this fire
193:18 - thing I have to set pixels to white in
193:23 - order to start the fire I didn't I did
193:27 - start the fire we didn't start anyways
193:30 - so what if they'll buffer one we're not
193:34 - a P image but a P graphics object let's
193:39 - just bear with me for a second I would
193:41 - say create oh these are all gonna have
193:43 - to be graphics objects if I'm doing this
193:48 - at least buffer 1 and buffer 2 so let me
193:51 - make buffer 1 and buffer 2 P graphics
193:55 - objects because these and then I don't
193:57 - need to specify RGB but I do need to
194:01 - however I believe say buffer 1 begin
194:05 - draw some about to work with the pixels
194:08 - and buffer with the graphics I have to
194:10 - specifically say begin draw and and draw
194:13 - in addition to load and update pixels
194:14 - and so here I think I'm gonna have to
194:21 - say that for buffer to begin draw
194:23 - because I'm operating on the buffer 2
194:26 - pixels but for to end draw let's just
194:31 - see if this is exactly the same oh and
194:33 - this has to say P graphics so this
194:37 - should be the same ok it's the same but
194:39 - I've done some
194:40 - really exciting here because what I
194:43 - could do is I could now also say I could
194:46 - add Mouse dragged and in Mouse drags I
194:51 - could say buffer won begin draw buffer
194:57 - one end draw and I could say buffer one
195:01 - I could say buffer one dot now I can do
195:03 - anything that's in the processing API I
195:07 - could say fill 255 buffer one ellipse
195:12 - Mouse X Mouse Y 100 100 and actually let
195:18 - me make this mouse pressed and let's see
195:23 - what happens here so now when I click
195:25 - the mouse yeah oh wait there we go
195:29 - look what happens I so oh that is wild
195:33 - so hold on let me swap where these are
195:36 - being drawn so now right anywhere I
195:42 - click it kind of makes it starts to fire
195:45 - there so let me let me make this mouse
195:49 - dragged oh and let me get rid of the
195:58 - stroke but for one no stroke so you can
196:07 - see I can kind of like seed the fire
196:09 - however I want now again I'm just adding
196:15 - circles so now the whole world is open
196:19 - to you you can create your cooling map
196:22 - in an entirely different way just to
196:24 - remind you I this is what my cooling map
196:27 - looks like but you don't have to use
196:29 - Perlin noise you could actually have
196:31 - shapes in here and that you could make
196:33 - this a p graphics thing and draw into it
196:35 - and blur somebody suggested an elephant
196:38 - so you could make up sort of flaming
196:40 - elephants elephants like fire anybody
196:43 - please be nice be kind be kind to the
196:45 - elephants but you should see you can
196:48 - start the fire on the bottom you could
196:51 - add fire by through by drawing with the
196:54 - there are so many possibilities here so
196:57 - I'm done with this I want to see your
197:01 - creative variations I want to see your
197:02 - versions that use full color RGB and I
197:06 - want to see your versions that cleverly
197:08 - like incorporate shapes and text and
197:10 - other types of imagery so make them into
197:13 - gifts tweet them hash tag coding flames
197:18 - I don't know dare dare I look
197:25 - twitter.com slash hash tag coding flames
197:32 - all right I think we're good
197:35 - no results for coding flames so code
197:38 - your flames and enjoy alright I'll see
197:48 - you in a future video thanks for
197:49 - watching
197:52 - alright so where do I want to leave this
198:02 - off let me put this back to this
198:18 - actually I think what it would've been
198:19 - more interesting by the way
198:36 - I just want to put this in draw itself
198:40 - if mousepressed
198:43 - oppressed so now you can see if it's
198:50 - there permanently it's kind of more on
198:54 - fire
198:59 - all right this is the end of today and I
199:08 - it's 9:40 p.m. what am i doing oh my
199:13 - goodness what happened I don't even know
199:17 - what to say I think that this can be
199:20 - made into a coding challenge let me let
199:21 - me do a nice screenshot thumbnail like
199:28 - so the thing about the thumbnails is let
199:31 - me make
199:45 - no not enough after a while it kind of
199:49 - starts to look like fire though just I'm
199:53 - gonna make a thumbnail and I think it
199:59 - works best when this stuff is at the
200:03 - bottom because then and I probably
200:10 - should make it have color now whatever
200:16 - it's got a I don't I didn't do it in the
200:18 - video it's fine alright so I think this
200:25 - will work as a thumbnail because then
200:28 - the coding challenge text can go up here
200:55 - okay something there will work all right
201:00 - sort of more smokey than fiery so I'm
201:03 - encouraging you so thank you to
201:09 - everybody who like sponsored the channel
201:12 - during this live stream that's wonderful
201:15 - that was really exciting and nice and um
201:20 - yeah I should do the damping thing
201:23 - instead of just reducing the whole value
201:25 - like the current code does what's that
201:27 - oh you mean I should this
201:42 - what does that do all right I don't
201:46 - understand you also been a community
201:49 - contribution pull request oh I see do
201:57 - this and then scale it by 2255 oh my
202:03 - goodness that is way better I see okay
202:09 - okay oh look at that all right let's
202:17 - make some new thumbnails
202:33 - oops
202:38 - well I gotta get my thumbnail going
202:50 - it was better for a second ago well no
202:57 - let's dampen it more I could use the
203:02 - power function
203:03 - I see so there's so much this is this is
203:09 - interesting okay let's say power and you
203:14 - know I should really do a 3d noise to
203:16 - wipe n to the third palace to do this
203:27 - probably not gonna make that much of
203:29 - difference with the thumbnail okay
203:51 - but if I the other thing would be
203:53 - interesting would be to do this is this
204:03 - gonna just be weird or it'll be
204:05 - interesting no that's just weird
204:18 - yes it doesn't make it doesn't make that
204:20 - much of a difference cuz it's just yeah
204:28 - okay I think the skills were fine I'm
204:33 - like upset okay I gotta go I gotta go
204:37 - thank you everybody for watching make it
204:39 - faster I you know it you know it's
204:41 - actually um that's actually I am sort of
204:44 - curious it does appear to be running
204:47 - quite slow oh yeah I think it's just
204:53 - because yeah I'm computing the noise
204:55 - every frame there's lots of ways this
204:58 - could get optimized but I'm not gonna
204:59 - worry about that now
205:00 - alright so decrease P by constant T all
205:06 - right thank you everybody
205:09 - oh yeah the scroll could go faster
205:11 - that's for sure I will see you all I'm
205:14 - gonna be live-streaming the ITP show
205:16 - which is my Student Center semester show
205:17 - on Tuesday and I don't know if there'll
205:21 - be another livestream next week I will
205:23 - be coming back to all I feel like I need
205:25 - a break from all this stuff because how
205:27 - much I kind of messed it up so I'm gonna
205:31 - go I would like to I didn't even eat
205:36 - dinner totally lost my mind here I do
205:39 - want to erase all this sometimes when I
205:42 - leave the stuff up here it's very hard
205:44 - to erase and I'm gonna erase this also
206:01 - and I will I wonder what happened with
206:10 - that pole by the way let's just look at
206:14 - it for a second I'm in the wrong screen
206:27 - no hold on switch account o yo D gaming
206:33 - now has 34 subscribers oh look I see now
206:45 - I see the buttons here what happens if I
206:48 - click that interesting community
207:00 - oh alright I kind of like this feedback
207:05 - that's nice feedback yeah by the way
207:13 - there's not very many people watching
207:15 - right now but I did you are people aware
207:17 - of video grep video grep is a project by
207:23 - Sam Levine who's a researcher here at
207:26 - ITP
207:27 - and it allows you to make like Supercuts
207:30 - and do all sorts of crazy stuff I
207:32 - picture this if anybody wants to try
207:33 - video grep on my entire youtube
207:35 - catalogue and make some weird Supercuts
207:38 - that i would be curious about that my
207:40 - voice is gone alright so I don't know I
207:49 - can't believe the batteries lasted on
207:51 - this microphone it's still got two bars
207:54 - I thought that was gonna go away for
207:56 - sure oh okay so I'm sorry I didn't
208:03 - realize that there are 500 people
208:04 - watching I know most of those people are
208:06 - not actually watching it's just been
208:08 - left it on their computer they've walked
208:09 - away it's almost 10 p.m. it's dark
208:13 - outside I have to get home though if the
208:15 - subways even still running it's like way
208:17 - past my bedtime I didn't eat any dinner
208:19 - I basically just send it into madness
208:21 - trying to make water ripples in
208:23 - tensorflow jas thank you all thank you
208:28 - coding garden you're welcome for the
208:30 - shoutout and I'm gonna go I'm gonna go
208:37 - I'm gonna go I'm gonna go I'll see you
208:42 - yes I'm gonna go I have a cough
208:46 - everything's going wrong all right I'm
208:50 - gonna go I am gonna play the trailer and
208:53 - be gone no I'm not gonna play the
208:56 - trailer no one wants to watch the
208:58 - trailer make the fire red
209:03 - all right this microphone we wanna make
210:29 - some crazy idea we'll figure out what it
210:32 - takes to make that dream appear will
210:35 - understand
210:36 - Oh
210:38 - [Music]
210:43 - [Music]
210:49 - [Music]
211:03 - [Music]
211:16 - [Music]
211:23 - [Music]

Cleaned transcript:

good evening happy Friday night it is actually a Friday night I think it's sunny and beautiful out in New York City I have been in a dark room all day all week in fact watching ITP thesis presentations let me just say that my mind was blown many many many times over and I just want to mention this before I do anything else that if you go to ITP NYU edu slash thesis you will come to this website and I think somewhere from here you'll be able to find videos of all the thesis presentations so you should check those out all right so my brain has melted a little bit out of this ear I think I'm about a hundred presentations probably I don't know the exact number that I watched this week Tuesday Wednesday Thursday Friday all day they finished up about an hour and about an hour ago and then I ran up here I'm gonna do a live stream this week somehow someway you might notice I have this weird microphone here because I couldn't find the other microphone and this was being used and then I got this one so I don't know hopefully this works and isn't too weird looking I feel like I should be putting my finger in this ear and singing so that's one thing the other thing I want that's it that's it morning I think I think things work better for me in the morning when I livestream so oh I is the quality looking okay for everybody I'm getting on my dashboard here stream status bad all right so here we are I don't think this camera is on is it wait hold on there we go I want to read for I want to do a dramatic reading of an email I received earlier this week I don't know if anyone has asked you about this yet but do you use the Canon 5d Mark 3 s for livestreaming and have you figured out a way to disable auto power off we've tried installing magic lantern but we still can't figure out how to keep it from sleeping on live feud stand by yeah I don't know so just just just I'm gonna I'm gonna tackle this problem someday we're gonna we're gonna figure it out but for now for today still these cameras are going to shut off at Ramez other issue I'm having is that I I need new lenses these lenses if you could believe this in my glasses were purchased in the year travel back in time to when you remember I don't know what was it the Macarena was big No 2015 I think the Macarena was in the 90s okay remember 2015 these these lenses are really all my prescription actually hasn't changed the frames changed we kept buying the same frames you know what I had my bicycle accident last year my the frames broke but the lens remain intact but recently I didn't notice thing they're like these like scratches and they're they're they're older I got to get new lenses but right now I can my vision in this left eye isn't optimal let's just say so if I I've got this microphone here and if I look out of this part of the lens I can see you so this is this is the way I'm gonna be standing so I'm in a bit of a crazy time of year I'm hoping as things settle down and I move into the months of June and July that I will establish sort of a weekly schedule diving into some exciting coding challenges that I have on the horizon some tutorials that I'd like to do around machine learning and tensorflow Jas and this new library called ml5 and all sorts of things but I'm just I don't know maybe maybe this I don't even know why I'm bothering to say this because I'm probably just always going to be in this state of complete and total disrepair oh the Macarena yes me I am sue me says now that you've referenced it you have to do the Macarena it's a good boy I can't play the song the Macarena because then I will get a copyright notification although sometimes it's worth it and these live streams I might as well just play all them you all the music I want to play and then get those copyright notifications because sometimes it's worth it for no no no no shoot there must be some like a visual guide to doing the Macarena I know that I know the hand jive this one no this one really well okay was that is this a coding channel I think it might be it may or may not be have SB 129 asks in the chat have you ever thought of live streaming on Twitch I have I have thought about it many a time in fact I have live streamed on Twitch but I've live stream on YouTube somebody would just if somebody could come maybe some like corporate Overlord could buy the coding court that's a bad idea I like being in sort of independent entity although I am of course the Google all my stuff is all over the Google there's not really a way around that right now what was this thing I just want somebody to tell me what's but no I'm left I actually I do have something to talk about today you know I'm gonna save this till the end I don't want to I don't want to bore or I don't want to I don't want to emphasize this too much but I I did get something unlocked in my account today which is YouTube sponsorships which is like a patreon thing built into YouTube and so I'm gonna talk about I'll talk about that at the end somebody remind me I could sing it myself Bush was a beat me I am so he is writing you could sing it yourself twitch is doing a super low latency beta right now no interesting twitch is only good for people in the US that's I'm also being told so this is all very useful information so what is happening today I would like to talk more about tensorflow jazz now let's see where we are it would be so nice it would be so nice so many whiteboard markers because they go bad so quickly I have six of them I'm almost certain I could juggle two of these okay so we've got two I'm pretty sure I could do a third one yeah that's pretty good it's not so bad I don't think I can do four not with these I think if you gave me four beanbags I might be able to get it okay that didn't work all right so I have just so many of these but these are not the good ones the good one is over here how's this sound by the way it's the sound okay no no let's see this one is a good one alright so now I need a eraser otherwise known as a paper towel so um I'm working through a set of tutorials about tensorflow j/s I'm learning machine learning that's learning machine learning and and where I got to so far in the playlist was up through this topic of memory mentoring now let me just be clear again these are not they're not comprehensive kind of scratching the surface glossing over things I am NOT the creator of tensorflow jeaious an expert on it none of that's I'm trying to figure it out and one of the things that I'm really excited to talk about today is the layers API because the layers API is what will allow us to do actually start to build some machine learning projects and my goal is ultimately to do a couple of things what are some of Michael's go home take a nap watch some baseball kind of a baseball fan I'm kind of getting excited about doing some machine learning project with baseball data but if you have some ideas about that let me know but anyway that's that's a I just don't know if that's really gonna appeal me not I don't know if it's gonna okay I didn't mean to talk about that right now this is roll back in time and erase that all right there's a library being developed at ITP called ml 5 ml 5 is a high level library for machine learning and it's built on top of tensorflow GS so my goal is to really do a set of lessons with ml 5 in a sort of high level way to inspire and facilitate creative applications with machine learning part of my reason for wanting to do this it's a 11 aspect of that is hey look there's this machine learning model you can use it and you can get the results in your code but another thing is to really think about education and machine learning what does it mean that our lives are more and more governed by software software with algorithms who's writing these algorithms what data were these algorithms trained with how can we be critical what kind of questions do we need to ask and so one of the reasons for doing this beyond just here's a machine learning model where you give it an image and it tells you a classification is to look at the whole picture how do we go from data training prediction what's that whole picture even in a sort of toy small way so that as you as you work with machine learning in projects or as your machine burning works on you in your daily life you can have some agency and be able to ask questions and that is important all right so this huh I'm over explaining this because I really want to get to is seeing if I can make a version of a machine learning model to learn the XOR operation with tension flow yes and that's right you are a person right now I know where you're in the East GMT minus four I guess or five I don't know where we are right now I'm getting over a cold everything about today doing a live stream right now is a bad idea but this is really what's happening right now it is Friday night in New York City I could be out where the people are out at the restaurants and the clubs or whatever and I don't know what people do Friday night and places like New York State I could be there no I'm here I'm here to talk about JavaScript interflow and X or exclusive or a boolean operation yes that's that's what I'm here to do hopefully it's gonna mean something somewhere actually the thing is I actively enjoy this why I'm complaining this is what I choose to do I actually like these toy little weird scientific problems I just worry about them because I would really like to show examples and create projects that have more will unlock more creative possibilities and I'm not sure the sort of like lowlevel technical nature of the X or problem is the best for that I'm really very conflicted but I think we're gonna move on with this I'm gonna do it all right so let me take a look I have some other bad news so in these presentations going on today the microphones some microphones went up and down different floors so that's why I have this other this weird microphone I can't seem to see my batteries and battery charger that probably also gotten moved downstairs and so we're living on borrowed time I should really get to the content here I see two bars on this microphone two out of three I think I think with two it's probably gonna last but as soon as the battery's dying these microphone I'm done so by the time it's eight o'clock I really got to get home it's Friday the weekend is here I've had a very long week I mean eat some of my space melon hmm I'm telling you this novel idea Cody Train used to be brought to you by water which was good soothing on the throat I have talked a lot I tend to talk a bit too loud to get overly excited the melon it has a high pH by the way I can't believe I got this wrong I kept saying it had a low pH because I was thinking it's low acid but low acid is a high pH so it's very soothing on the throat I've learned this heart really each citrus I like citrus but how my throat a lot okay oh I wanted to mention a couple other things about tensorflow js2 things that are new that are really relevant to what i'm talking about here are tensorflow models this this that's not anything you can see not even close I don't need to write that down the two things that are new is similarly to some of the things that we're trying to do with ml5 tensorflow Jas released something called tensorflow models which means some code that you can import into your JavaScript project with that just has the pretrained model and allows you to call like a single function to pass in some data and get the prediction or prediction back so for example one of I believe one of the first models released with this way of releasing stuff from Tesla Hejaz is the pose net model and so the pose net model takes a 2d image and gives you a swimming it has a person in that image it will give you back a set of points which map to the skeleton the of that person so this is something that also once we get down to ml five we'll be looking at so this whole picture is pre trained models training from scratch and also what's that place in the middle Oh am i excited to do some transfer learning or it's something like you know I was respecting a lot of time today reading about variational autoencoders because it's a thing that I don't totally understand I think I got it a little better I think we should make some variational autoencoders because that's the kind of thing where you can generate some fun interesting stuff so that's all and I don't know if there's any way around this I've got to make some video tutorials about this stuff actually guess I should I should get started with some content here all right let me check the chat alright alright everybody so where do I want to begin today ah you know what I have this crazy idea it's not my idea thank you to me I am so me actually somebody else had this idea both two people had this idea at once so let me go to rainbow topics and let me go to here alright so I'm looking at this and then what I want to do is go to the coding training comm coding challenges here a live example this computer is totally on its last legs oh did this maybe this didn't oh this doesn't have a live example it should oh no because I made it processing I didn't upload the port yet that's fine let's open it up in processing oh it's a file open recent what's the chance that I've got this somewhere that's tough no I probably water ripples let's actually go to I I made some fixes to the code so I want to get the fixed code let's go to water ripples water ripples basis in here the water ripples there they are all right so that's good okay and here we go now I need let me get Adam editor open here you're perfect [Laughter] what am I doing here let's see terminal all right don't worry something's going to happen soon enough oops oops okay all right so well I liked it better when it's purple shoes I have to eat it over here okay so let me cycle these cameras and we're gonna get started I'm gonna do the first video today so this I don't think this is this could be considered a coding challenge we'll see what I want to call it I kind of feel like though it should just sit here as like a bonus tutorial right here in between step 4 and 5 that's what I sort of think one thing I want to do actually just really quickly if you can bear with me I'm just going to change this to just so I don't have to operate it whoops oops this needs a floor also and where's the dampening hmm if I make this terse of curiosity sorry I just want a nice visual just curious what happen so I do this there we go let's do that all right code browser processing Java all right here we go so this is gonna be crazy hello what I'm about to do do not try this at home people this is another video as part of my videos videos on tensorflow das let's just start this one over why is this why is the white board missing oh there it is here we go hello everybody now I have something very important thing I need to say do not try this at home what I'm about to do is incredibly dangerous sparks will be flying bugs will be rampant and it's just not a good idea but it's an interesting problem that I'm going to attempt in this video which is part of my video about tensorflow yes in this video I'm not gonna do any quoteunquote machine learning but I am going to use tensorflow das so I recently did a coding challenge where I created a water ripple simulation water ripples 2d water ripples based on an algorithm by Hugo Elias that's been on the internet for a while you could watch that video if you want to see me build that water ripple simulation which is running and processing right here now interestingly enough right after I did that a message came through boop boop that's what it sounds like my notification sound came through on my train topics repository where you can file an issue to make a suggestion and from github user niku dice cowrote during the live session I noticed this pseudocode said rec center can be rewritten in terms of matrices look at this calm 2d but for one kernel interesting interesting a kernel is this perhaps it would be easier to explain what convolution is on this example and look at this then github user me I am so me right yes I thought about that too and decided to implement here for kicks now I have looked at this code and I have had a discussion about this code so then I'm not doing this with no preparation whatsoever but this is an interesting idea could I the matrix math all the mathematics required to generate this simulation could I do it with tensor flow Jas tensors and operations no is there any value in doing that entirely sure but for me and for hopefully for you watching this this will give you another clue into new features that are part of Tantra flow das that will be important for certain machine learning algorithms in particular I would like to do an image classification example that's going to involve something called a convolutional neural network and so this idea of a kernel this idea of a 2d convolution and then also if I'm working with images there are some functions like two pixels and from pixels don't quote me on this I might not have the tensorflow J s API exactly right but this is stuff that's going to be necessary foundational knowledge to build some of these examples so why not explore it in a place where I could see where this context so this what this video is I think a really long time to explain that thank you if you're still here watching I am going to try to recreate this water ripples simulation using tensorflow J's tensors and operations shall we just get started let's get started oh yeah look at that we've Alka and the chat has pointed out a bug here the the points on the edges don't get cleaned up so I should really deal with that so it's a bit of pull request or I'll do a whole other video fixing that but it's kind of a nice it's a feature as as one might say all right so I'm gonna close this I'm gonna close this and what I'm gonna do entry I think what I'm gonna do weirdly is let's grab just some bits of code here so let's grab this are you seeing what I'm doing yes so I've got a sketch here that's already set up with tensorflow J s in imported I wonder actually they time out for a second I'm sorry that I just coughed so loud without muting my microphone I'm getting over a cold and it's very unpleasant although I feel so much better than I did earlier this week let me walk over here and mute my microphone blow my nose I'll be back can I mention that I found my undergraduate linear algebra textbook recently and that look I like look there's like highlighted stuff in here and I wrote like notes in the book there's all these like page number it's like a secret code like what's on all these page to us or maybe just you and I approached to temperature like what that's definitely my handwriting page 247 look who I'm like trying to do all this stuff I did all its like I did all this was it a dream was it real did I learn this stuff and then completely forget it all have to relearn it in my forty's I think so alright um what I wanted to check really quickly and I'm gonna just check it on this computer no new version yet okay thank you me I mean there I was about to start talking about how there was a there's a bug that me I am swimmy discovered filed an issue that's related to the two pixels or the front pixels function which is a memory leak which has recently been fixed but anyway we're just gonna move on alright yeah if I ever create a JavaScript library I'm definitely calling it melon Jas or would that be weird there's something weird about that that I'm not aware of I'm not thinking of maybe that would be weird but like I know people don't like melon but eat the fruit I said this already the berries and leave the melon melon I know it's but nobody puts a good fresh melon in a fruit salad anyway what are we gonna do alright okay so alright so let's go back into the code now what do i what do I need here no wait now all of this is Java code so first let me convert this into JavaScript and let me say function set up and create canvas and we're in good shape here now couple things I want to do I want to use tensor flow Jas so I don't want to create just a actual twodimensional array called current our previous I want to create a tensor so how do we remember I did make these videos a couple weeks ago I don't totally remember how to do this so I'm gonna something like TF Ted sir 2d and then I give it the shape like its columns by rows or something like this is basically what I want to do alright I want to have a tensor and then also the dampening value which is a scalar number and it's by the way damping just calling it damping is fine I don't know what damping equals T f dot scalar 0.99 so I want to start creating the data in my program that's storing all the information as tensors now here's the thing I'm missing something I've got to give these values right so I think there is a function we can go to the tensor flow API and I'm looking for there is a function called zeroes I think so zeroes is a function that will create a tensor with all elements set to zero that's good that I want to do so actually what I want to do is do TF zeroes columns and rows and I just noticed in there there's also this function zeros like look at that so if I've made another tensor with a particular shape I can actually just recreate it by saying zeros like current so this is good okay so now I have my current in previous as tensors let's just just for I'm gonna make a 100 by 100 canvas and I'm gonna say current print and previous dot print just to see that everything's working hmmm what's going on here I'm not running my code in the right directory something get reset am i editing the wrong file did I not hit save oh there's another set up down here thank you alright that Matt's here you can edit that out alright let me go and run this code what oops hold on whoop go run let me go run this code oops zero likes zeros like great so we can see there the to know there are the tensors here they are they're great alright now so I've now I've done my setup now what do I need to do in draw if we look at what I did in my processing sketch I did an operation where I loop through every single pixel and add it up Oh can't we think about this let's let's go over to the whiteboard this is exciting so I have current and I have previous I have two two tensors current and previous now individually I might look at any given pixel here in current and what any given pixel in current is is it's a function of this set of neighbors the pixels the neighborhood of pixels around the corresponding pixel in the previous and it was it's basically this pixel divided by 2 plus this pixel and I don't know why I'm calling them pixels because even though I'm gonna map them to pixels it's really just data it's just numbers representing the height of the water of the water at any given part I just really want to start this whole thing over again I feel like my mind is wandering people are going to bed which is what you should do right now and actually actually in the if you look at the original link where the algorithm is described I think these are also called like buffer 1 and buffer 2 which might actually make more sense I don't know whatever makes sense to your brain game your variables that way so current of a given pixel index equals the sum of the one to the right the ones at the top the one to the left one to the bottom each of those divided by two altogether so what am I trying to get at this is actually what we're performing here is a convolution timeout for a second do I want to what's the chance that I have like a working version of Photoshop on this computer no okay never mind I was going to show sort of convolution in Photoshop but I'll skip that so how could I represent that numerically so one way I could represent that numerically is with a matrix describing so this is a three by three matrix of weights so to speak a weight for each pixel the corners being 0 I'm gonna ignore the center for a second and make that zero as well and then all of these being 0.5 so applying this kernel to any given pixel mean take all the pixel values multiply it by the weight sum them all together get the results and put it in the new spot this is what's known as a convolution to dimension and this is a convolution in two dimensions it's at this could be three by three five by five but I'm gonna use a three by three matrix to describe all the weights take half of all these neighbors multiply it by the pixel values add them all up together and put them in the new value so what's so what we need is to create this kernel as a tensor in tensor flow j s and then we need to apply the convolution to D function which says hey take this kernel and apply this convolution to every value in the tensor and make a new tensor out of that alright so let's go see if we can write the code to do that alright so if I'm coming back here what I want to do now is I'm gonna say I'm going to add another variable called kernel and I'm going to say kernel kernel equals zero zeros zero let's let's it's going to be like a twodimensional array I'm gonna write it like this and let's see let's see how this I can make this look nice and satisfy all of my urge to have everything aligned and indented okay now these have to be 0.0 0.0 0.0 okay oh and this one should be a zero point zero okay so now you can see this kernel this is the colonel but this is just the data expressed as a plain JavaScript array so I want to make this into a tensor so I should be able to do this and let's think about this so hold on time out for a second this computer went off I also only have one power only one power plug today so I can't see oh come to live my computer with the slack channel where everybody's telling me how I'm doing everything wrong there we go it's it's waking up folks I'm gonna have a piece of melon which one have seed I'm alive computer okay so far in the chat I don't see anything and I've done that's horribly wrong okay refresh do I have internet here No right now okay got the internet back this has crashed oh my do not have the internet back sorry everybody there we go okay all right there we go I'm back all right so let's review for a second I've got the damping value as a scaler I've got the current and previous matrices of numbers as tensors filled with zeros and I now have a kernel which I can apply as a convolution and this is the stuff that I need to do in draw so in theory this entire big loop here right like if this could be now be done as right the idea here what I had to do previously is like loop through every pixel individually add them all up dividing by two boy I'm missing some dividing by twos in is my code just totally wrong hold on I think I found a bug in my processing code hold on a sec let's go reference that original algorithm let's go here to D water here's though Oh No oh the whole thing is divided by two okay yes yes yes I did this right but this is no the / okay everything was right here never mind rewind I'm sorry I keep coughing into the microphone oh that isn't too horrible all right this is not going so well today this is not my finest work losing all my confidence to any confidence all right Mathieu thank you again for all of your editing work looking at this I have to iterate over every single pixel add everything up individually multiplied by dampening put it store it in the new in back into the array and then write the pixel so this whole loop should be something that I can do just a single operation to for example there must be some way for me to say like next equals TF convolution 2d like apply I'm just making up the API for expensive largesse then we're gonna go look it up like apply this kernel to this tensor and give me and give me the results of that in a tensor right so this is like a single operation to say take this kernel and slide it over every pixel update all the values and give me a new tensor back hopefully this is so let's look let's actually look at the tension flower jsapi and let's look for the convolution 2d function so I'm think it must be under operations convolution actually there's just a convolution section so I'm gonna click this here and now we're gonna look at the function okay it takes a set of values and with the filter now there's all sorts of other stuff that involves that are involved in a convolution Strides paddle but I'm gonna ignore all that for right now I don't so actually I didn't didn't do this so terribly so but here's the thing ah X has to be a 3d or a 4d tensor rank for a rank 3 that's weird why is that because mine was certainly just I just have a twodimensional tensor right columns and rows well if you think about it convolutions are designed to work over a matrix and what it's if I were working with an RGB image there actually could be inside each one of these pixels three values so this shape for that would be with height three so even though I'm working with this sort of grayscale image that just has a single value for every spot in the tensor I need to explicitly set the shape as with height comma one so let's change it to a rank three tensor and it could be of rank four tensor if I had many and if I'm batching a set of data probably so I'm gonna do this comma one okay so that's good that's fixed then the filter ah tensor for D the filter rank four of shape filter height filter with indepth out depth okay so here's the thing I've got to explicitly say this filter right this is a three by three filter so I have the shape just as 3 comma 3 but really what I also need to specify is what is this applying to how many values is this applying to an RGB 3 3 values and then when it applies to all those values is it something everything into one value or is it something doing each one of those individually and we should get three values out so this actually has to be a for a rank four tensor so one way I could do that would probably be like just keep adding brackets but there also is a nice function I believe is so this function as 4d allows me to convert a tensor to a tensor 4d and I just need to give it the rows/columns depth steps to so I think what I need to do here is say as 4d 3 comma 3 comma 1 comma 1 right so I just want to I want to like write my tensor you know maybe I even just want to do this cuz I just want to see it as like a list of numbers and then I want to use the ass 4d function to reshape it okay how am i doing so now I should be able to say next equals and then look at this so the convolution function takes the values and the filter the filter another word for Colonel seconds oh I'm going to I need to say previous and then Colonel okay so that's next so I'm not using current because if we look at the actual original code what I did just now is I took care of this right I took care of adding the neighbor to the left the right the top of the bottom dividing by two with that colonel but then I have to subtract out currents actual value as well so what I would need to do now is say I need to make another tensor so I need to say next okay I need just subtract I need to say minus the current value so I should be a subtract operation subtract where are my operations there's an add multiply by negative a sickness an operations let's hey Matt yeah let's go back a second and let's let's not have me searching for operations for an hour in there we go alright so I want to look for operations and here we go TF sub which means subtract so what TF sub does is I can subtract two tensors a sub B so I need to say next sub current and then I need to apply what else so look at this well this is like then I need to multiply by the dampening so I could then say also next equals next multiply damping but one thing that at tensorflow das allows it's chaining so each one of these returns a totally new tensor remember there's these tensors are immutable I'm not made them variables here so what I actually could do probably say sub current multiply damping but I just can't bring myself to do that maybe what I could maybe I could bring myself to do this I'll do it in two lines so I think that I've got this right on alka is giving me a great tip for searching in the reference search search for TF dotsub instead of just searching for some thank you for that alright so next equals so I applied the convolution I subtract the current I multiplied the dampening and I'm done thank you very much now how do we see how do I see the results of this well there's a couple different ways I could do this one is I could ask for the values so I could say all right give me the pixels are you know next data sink which would whoops I know the camera went off everybody don't worry it didn't even make a noise that time that was weird all right so what do I want to do next I would like to draw the pixels I would like to see you the water ripples I mean I've done the steps I know that I need to at the end say something like previous equals next I need to do the swapping let's not worry about that so I still need to do the swapping algorithm at some point at the end but really what I want to do now is I need to display the water ripples so one way I could think about doing this is actually just ask for the values so I could say something like let pixels equal next dot data sink which is a very bad idea for many different reasons but this wouldn't Siri give me a big array of all the values then I could run a loop and I could set all the pixels there because working with images and pixels is such a common thing in machine learning algorithms there are some helper functions for this so there's two pixels so draw a TF tensor of pixel values to a byte array or optionally a canvas so this is what I want to do returns a promise mmm interesting interesting okay let's see how this is gonna work image canvas question mark so what do I want to do exactly thinking about this how does this work so how do I say this do I say next two pixels or do I say TF how does this work hold on let's read this draw a TF tensor of pixel values to a byte array or optionally a canvas when the data type of is input is float32 we assume values otherwise terms a promise that resolves on the canvas been drawn to Oh a boy you'll be nice to read this a little further okay hey Matt's gonna do that part of the worst so let's look for let's look for two pixels here it is okay two pixels takes two arguments image and canvas question mark draws a TF tensor of pixel values to a byte array or optionally a canvas so I want optionally a canvas no I want to choose that option so what are the parameters image is that TF tensor which actually it looks like it can be it can have different depths like but I have a rank I have a rank 3 which is gonna work perfectly so image is my next and canvas is the canvas elements so I want to say TF so I don't I don't I don't need I just want to say tf2 pixels next comma and then I need a reference to the canvas so I need to create a variable store the canvas in that variable and then probably just say a canvas alt and it's gonna do this a synchronously let's just see what happens here let's just see if I given get any errors cannot read property 0 of undefined so where's my object end about oh boy Oh first of all I have not thought about my memory management yet I've got to come back to that but what's wrong here canvas TLT is probably not the right thing so let's look at let's look at the p5 object no the ELT is the canvas object but then I need to actually get the so let's let's whoops it's melted Oh oh really yeah me I am Sania is writing in the chat turns out that p5 exposes a global canvass var I know I don't want to use that though let me see here canvas mmm that's the same thing that's weird it's nothing now canvas that canvas is right canvas TLT is right well actually what's the so all right so let's do a little debugging here let me comment this out what's triggering that error yeah that error is actually not even happening here is my subtract triggering the air nope is my convolution function triggering the air yes it is it most certainly is and let's take out these prints so what's wrong with this TF convolution 2d previous kernel let's look again at the API TF dot convolution 2d let's go here X filter filter so let's look at oh no this is right it has four okay so convolution 2d as for oh I def to give the strides in the pad okay I didn't want to have to explain I thought there'd just be some defaults for strides and pad so that's definitely the issue yeah I'm just checking something here the pad is like how much padding along the edges right and the strides is like how many how how far I go into each one so I think that's just one in one is what I want is that right yeah a valid same or a number it's number number or just a number stride heights try it with okay okay okay there's more intro here alright so the error is definitely here in convolution tooten the convolution 2d function and actually I just didn't read the documentation very carefully the the way this documentation is written is that the optional arguments are written with a question mark and strides and pad are required so these these are important pieces of how a convolution works let me just briefly mention what I think they are so I believe a stride has to do with how many pixels should i do I do as I move along like I don't actually I could apply a convolution but skip pixels and so my stride could be greater than 1 and it could actually be different in height in width and height and a pad I believe has to do with like what sort of padding to apply to the edges cuz you'll notice if this is a 3 by 3 matrix if I go to the edge I don't want it to like fall off the edge so maybe a padding so I think what I want is I just actually want to do every single pixel so I want a 1 and then I want to padding also of 1 well look can I have a padding of 0 because I actually don't want to lose any information hmm let's try this but actually it also has a valid same oh yeah same and stride one ah this is what I want it's actually written right here except you can't see it because I'm standing in front of it so I want a stride of one I want out pit will be of same output will be of the same size as the input regardless of filter size this is what I want so I want to say 1 and so I want to say one and same so I think those are the arguments I need to add oops where am I here hey no more errors whoops and there we go look it's actually you can't see you can't really tell but this has displayed that right because if I comment this out you don't see that black square this is actually working right and if people were asking in the chat what this dot ELT is so canvas is a p5 element because I'm using the p5 just library the p5 element stores a reference to the native html5 element in the ELT property tensorflow Jas doesn't know anything about p5 but it knows about HTML so I can I can pass the to the two pixels function that canvas TLT okay so let's think about the so let's think about the swapping now so what do I need I need previous to now be basically current which is next and then current let me think about this I did the swapping I did let's just look at this swapping here all right okay so I what I need to do is store previous actually set previous equal to next and set current equal to previous so this should be the swapping and I I suppose I could have just continue to use current here right I don't need that next no I don't want to do that I need to subtract I know I need to subtract out that's a bad idea so I think that I need to keep this separate yeah I'm not let's let's do that okay all right Oh Thank You current equals temp there we go I just do all of this many times over again let's just go back alright alright I'm gonna add the swapping algorithm now the swapping algorithm takes what is now this the new current pixels saves them in previous so that the current becomes the previous for the next time around and so we can look at what was here in the original code now all I need to do is say let temp equal previous previous equals not current though next I created a new variable called next in order to do the calculations with tensorflow j s and then a current equals temp so this should be the correct swapping and now let's run this hey it's running look at my water ripples let's I'm just curious like what's the frame rate it's running at 30 frames per second totally reasonable it's doing all these calculations let's make it 600 by 400 so it's a little bit bigger whoops oh that's not it I ran the processing sketch by accident and here we go all right all right now we need to add the ripples could I possibly possibly I could like how do I add the ripples all right now this is tricky this is really tricky here now you might recall let's let's just say for the sake of argument that in mousepressed I want to add a ripple at Mouse X comma Mouse Y and if we look at what I did in the processing sketch I added those values to previous so somehow I need to take this previous tensor and I need to change its values hmm how am I gonna do this well I could go down this rabbit hole of making it a variable but I don't really think a variable is really how do I want to explain this did I get something wrong in the ten people's previous previews of the next current equals temp do I have it wrong people I can't tell them the chat if you're just discussing it or yeah yeah she generate a random tensor would be good to just start this what do I have wrong here previous equals current Oh I don't see this oh I should just set current equal to next here wouldn't this be right if I did this yeah I don't need all right let's think about this this applies the kernel to previous then I subtract out current so next is now what I want to be in current I'm not seeing this for some reason oh this is wrong that's for sure this definitely needs to be next and then she's in previous be next oh I see previously a guy got you can I just do this I can just do that right people tell if you have dick it right previous Eagles current it's equals next Oh oh no no no I don't think you were all right this isn't does not make any sense because previous setting previous equal to current I don't believe this is correct all right people are telling me I I really I don't I don't believe you this was sight they told you this was a bad idea all right let me find some empty space here this are the values of current these are the values of previous in my processing sketch I rewrite all the values of current based on previous and current then I point previous here and I point current back to here now instead what I do is I have this variable called next which I write all of the values that are a function of previous and current into here that's next you with me so far am I correct so far now what I want is for previous well what I want next and current are supposed to be the same instead of reg overwriting current I've just written everything to next so shooting previous point to next why should previous point to current in processing or updating previous to have the next values than swapping it here you're not swapping you're discarding previous in processing no I'm updating current and then I'm updating previous to have the next values Oh but but the next vet the the equivalent here would be let me let me let me write the equivalent here next equals new float columns rows then what I would say here is next equals all of this and then next equals next times dampening and then current equals next right wouldn't this be the same thing this is exactly the same thing so I don't see why right look look how this works so why here can't I just say this exact same thing I know there's a little bit of a redundancy here why is this invalid I don't need I want the title say Friday it's Saturday I believe I am correct here I don't the reason why I have in next I should look at me I am Sammy's code here let's look at how they did it boy I really I see temp.1 is current colonel one same I did previous colonel I'm just doing it my own weird way that I'm using previous as the starting point I should have just named them buffer one buffer two I kind of like the idea of this though oh I see barren jello is explained ability and processing you use current var directly here you start with zeros and add current to it ah yeah but this should still this should still if we look here this is okay this is exactly the same now adding a convolution subtracting out current multiplying the dampening and then doing the swap I know that that this I see I see that me I am so me is doing this a different way that just not the way my brain works right we could apply the kernel to curb current subtract it's just like reversed then dispose I have to deal with the memory management stuff Oh interesting clipping is happening here too there's lots of interesting stuff here tidying things all right all right I'm gonna move on this this is one of those ones where I should just move last piece of melon there's one of those ones where I I'm just gonna have to redo the whole thing edited together yeah yeah yes exactly I'm right all right let's just just for the so let's go back interestingly here preview okay all right all right current never actually means current I know I know I know but it would if I did this the problem with me doing this is if I lose the reference to current I can't dispose it but I could run tidy on all this probably I think I should just change this to buffer one and buffer all right yeah yeah hey everybody I'm back with a weird edit point because I went down a horrible rabbit hole because the words current and previous can make things very confusing and so I actually want to just go back to this algorithm and I'm gonna change the things to buffer 2 and buffer 1 just bear with me for a second I'm gonna change and you know what's gonna be so nice about this buffer to buffer 1 because if I name them that then they have the same number of characters and everything aligns really nicely so I'm gonna say that buffer 1 and I don't know why I wrote this in the other order I'm gonna say this is buffer 1 this is buffer this is buffer 2 so now I'm gonna do these operations I am actually gonna say I'm gonna make this a temp I'm gonna call this not next but temporary and the reason why and so this is buffer 1 which was my previous basically and this year is buffer right which is what gets subtracted out and buffer 2 is equal to that so I could say here just I could just do this buffer 2 is the result of that convolution and then buffer 2 is resolved but there's two problems with this number one is I need to subtract out the values of buffer two so I don't want to overwrite that so I need a temporary one here but plus I also might once I'm gonna have to deal with memory management at some point because I'm making all these extra tensors so now I should be good I have this temporary temporary and but which is the thing that I now want to draw but what is temporary really temporary really is buffer to write buff all along temporary was standing in for buffer all along temporary was standing in for buffer and so now pre a buffer 1 now I need to I need to do the swapping hold on hold on I have some air I've got a mistake here this should be this should be temp yeah so right okay so uh temp so temp apply the convolution subtract out buffer to buffer is actually temp and now let me do the swap the swap is temp and now I think I have some redundancy here so I'm gonna clean this up in a second because I have an extra temporary variable already so temp temp equals equals buffer one buffer 1 equals buffer 2 and then buffer 2 equals buffer 1 so this is the swap this is your traditional swapping algorithm do I need this extra temp temp because do I have buffer 1 stored somewhere if I overwrite it not really so I'm gonna call this I'm gonna call this temp 1 and I'm going to call this temp 2 but be I have this but for one yeah so equals temp all right so this eye my brain is hurting a little bit but basically and so I probably have something extra but I think this is right okay so here's the thing whew i I've done a horrible job at MIT I got to deal with the managing memory but I think we're good now let's run this code and let's see uh current is not defined sketch let us line 24 oh yeah zeroes like buffer 1 there we go temp is not defined sketch digest line 37 oh because I call this temp 1 temp is not defined 41 yes temp.1 tempest not defined 43 temp 1 all right where you get there ok good now I need to add I just need to add a ripple now so what I'm gonna do here all right we need to figure out how to do this so if you recall in my previous videos about tensors these are immutable what I want to do is change a single value inside of buffer 1 sorry this I need to change like I need to change a single value inside of buffer 1 so buffer if if I could do something like this buffer 1 set you know Mouse X Mouse Y 1 if this were just some like sort of magic thing that I could do or I could just set a value because I could change it then every time I click the mouse it's interesting it's not giving me an error it's like an actual function well hold on is there a mouse press somewhere else other is yeah once again I felt seriously how many mouse press do I have Oh Mikey doesn't work let's go back wouldn't it be nice if I could just do something like write function mousepressed buffer one set set the value at Mouse X and mouse y2 one just set that value let's see what happens right so that's not a function these tensors are immutable I can't set a value in them so I could turn it into a variable which is supposedly a way that a tensor can be changed but variables are really reserved for tensors that you want tensorflow J s to optimize with its own kind of internal algorithms the optimized function the training function so really what I want to do I unfortunately I'm going to need to basically pull out all the information change a value and put it back in I think that's gonna be the way that I want to do this here and so the way that I'm gonna do that is by saying TF dot buffer so TF dot buffer it creates an empty tensor buffer with a specific shape so this is the way this is basically taking those values and putting them in a typed array off of off of the CP into a place where I can start like messing with them so what I want to do let's just look at this so I want to say let buffer equals TF no no buffer 1 dot buffer oh I shouldn't have called my things buffers this is bad very bad variable naming let's look at this oh this is actually not what I want this is not what I want this is a function to create a buffer and what I actually want is not the creation of a buffer but I want to look at the the tensor class and I want to look for the buffer function here this is what I want returns a TF buffer that holds the underlying data so I this is what I want I want to get that buffer so let's take a look at that what it looks like so we can think there that buffer came in and it's got all those values now look at the shape 600 by 400 by 1 that's good now I should be able to use this set function let's go look at tension flow yes and what I want to look for it now under tensorflow buffer set value at a location this is the location index so I should be able to say buffer dot set the value 1 I want to set that value to 1 at Mouse X Mouse y 0 now remember the 0 is because I have a I'm thinking this is a grayscale image if it were RGB I might be setting this at 0 1 or 2 but there's only one value there so I think this is right then what I want to do is say buffer 1 equals buffer dot 2 tensor like I just want to turn it back into a tensor so this is me actually manually I've talked about how somewhere in tensorflow dot j s that the idea is that all the mathematical operations happen on the GPU but for me to do anything manually I need to pull it off of the GPU that's me making it into a tensor buffer then I can play with the values and then I can make a new tensor back now again I haven't done anything with memory management but let's see here if this actually works ok the number of the provided coordinates one must mank the much match the rank three value locations the location indices what did I not get right here hmmm let's look at this again ah wait a second hear me IM soo b is writing in the chat isn't in array you just put the coordinates in as arguments so this is probably a github issue that's worth filing on the tensorflow tas documentation because i think this is pretty confusing that this is actually like an optional number of arguments that are all the different index values it seems so for example instead of putting them as an array I just you know it's a rank 3 tensor so I give it the location values 3 more values I think let's see I've clicking let's see here let's let's do a little experiment here let's change the canvas to 10 by 10 or just yeah 10 by 10 let's comment out everything in draw let's let's say buffer dot buffer 1 dot print and buffer 1 dot print so let's look and see let's see if this actually worked oh wait a second do you not see my 3x3 canvas hold on a sec let's let's say background 0 there's my 3x3 canvas that's clear this so it doesn't look like why is this printing it out so insanely I kind of get rid of this processing thing oh it's time made a tenbyten I meant to make it just 3x3 and okay hold on I think this debugging is worth having and all right so let me print these out and let me change this to go back to where I was changing the canvas size so let's debug this let me make this just like a 5x5 canvas let's comment out draw and let me let's actually just do all this and setup and let's say let's just set 3 comma 3 so let me do buffer 1 dot print and then buffer 1 dot print so let me look at this whoops this thing is still running let me go here whoops sketch 33 I need a close out setup yeah so that worked something got set to 1 so that definitely worked it is being set to 1 so that's working okay so let me go back yeah now I do have a sneaking suspicion that whoa would I mess up oh you know what I must not have saved I think I didn't save ah I must not have saved all right it shouldn't be too so people are the chatter asking should be 255 and yeah I know I know what the problem is thank you people are saying it should be 255 if you look at the at the docks if you're using float tension flow digest and this two pixels function will assume the range between zero and one so hold on a sec all right let's give this a try and I'm going to click alright so what's going on here first we're getting some crazy errors tenser values for a float32 tensor must be in the range 0 to 1 so actually this particular algorithm is subtracting values and adding values together I'm not doing anything to constrain the values between 0 and 1 there must be a tensor flow J s operation that does that constraint but it really can't figure out when I'm turning things into pixels right this is all because of this this line of code right it doesn't care as long as I don't turn it to pixels I can have any values in there but if I'm turning it to pixels I have to have it between 0 and 1 so in this case I need to do some kind of constraint like thing so let's look under operations arithmetic maximum minimum no basic math square difference I'm looking for something that will constrain the tensor reverse slice split stacked I'll cast expand pad range creates a new tenser with the numbers in the range provided it includes start putting so this should work right I should be able to use range I think so I can also say temp 1 equals temp 1 dot range something like this I could probably add it in here is that what I want to use are truncated now no no no no this is creating a tensor with numbers in that range what am I doing here clone fill tensor cast clip by value look I just didn't see that range it's not range it's not this is like this is like a actually a way of creating a tensor with numbers in the range provided with a certain step I don't that's not what I want to do all right clip by ah thank you to the chat I just learned that there's a function called clip by value which basically takes a tensor and Clips it with within a particular range I'm construed the equivalent of the p5 constrained function so I want to say dot clip I can add this here as another chained operation by value and just between zero and one so this should do the trick it should be another operation so I've applied the convolution subtract multiply and clip now let's try running this I'm not getting any errors wait oh oh I saw a water ripple they saw water ripple it was there it was fleeting it's not even in the place that I clicked ok so what's going on here dampening let's put the dampening out one just for a second here is there some kind of like pixel density thing going on something is wrong where I'm setting the values maybe it's this I have the axes reversed rows by columns oh this was such about it this is just not one Mouse why mouse X comma zero this is this is what it should be what no oh no no rows by columns right cuz it's a matrix if nothing else the coding trains livestream is a really good representation of what it's like to really as you can see I just I just like hick and everything wrong it's really frustrating I don't even know why I'm doing this tonight did that did I learn anything did you learn anything I don't know but there we go this is not even a faster version no not necessary I'm not even doing this I'm just trying to learn how tensorflow j/s works and I by the way I got a deal with like the memory management is like a massive problem here let's turn this off I don't think Matt yeah I don't think we should put this together as a video I think first of all it's 8 o'clock you should not try this at home I was right oh I'm sorry everybody let's finish this off let's not even let's I mean I just think I think I should come back and do this again I could run a hundred steps at once on the GPU yeah it'll be really fast this I'm not doing anything efficiently here I'm just trying to learn stuff about convolutions let me let's first do some stuff important let me let me put all this in TF tidy because I'm creating all these tensors and oh but I don't want to tidy this is confusing now because I need these I need buffer 1 and buffer 2 there's a way with TF tidy to like explicitly on the powers of 35% okay alright let's just assume for the sake of argument that much you can make this into something I don't know that you should but I'm gonna go back and explain I'm gonna go from clip from value okay I think look there's water ripples in there but they're like off something is wrong so what's going on guess what I have figured it out it took me like an hour and a half but you get to watch this edited version so I forgot something really important in the world of matrix operations and machine learning and linear algebra we always say rows by columns this 3x3 matrix or 3x3 tensor has three rows and three columns in the world of computer graphics I always say X comma Y so X being like the columns the horizontal Y being the rows and so I must change the way that I think about everything and this should actually be rows by columns and then here I need to say mouse Y mouse X all the operations are fine and now this by the way changed during my debugging session from mousepressed to Mouse dragged now let's see if this works and yes look there are water ripples happening there actually happened I turned that I don't know they're so dark I wish I could figure out a way I I set the dampening the damping to one let's put it back to 0.99 and you can see that they're really so hard to see so I got to think about a nice way to brighten them up there maybe there's some other tensor operation I could do to like increase the values but the years are really the main issue TF dot memory what do I look at this TF dot memory dot number number of tensors whoops number of tensors five thousand eighty nine there should not be five thousand eighty nine tensors I need to be cleaning this stuff up so a really nice way I can clean stuff up is by using the TF tidy function which just says hey everything inside of this function I just make this I just make this anonymous function with all of my code and I put it inside TF tidy and DF dieting they busily says like run all this code but tidied up now I'm gonna have a problem here all of a sudden now the tensor is disposed so I really want to keep these so what's the what's the best way for me to approach this another way I could approach this is by manually so I could use TF keep to make an exception to certain things as I'm tidying but let me try to manually dispose stuff so as soon as I do this I don't need a neat buffer one still but for one doesn't go away but buffer to I don't need anymore so I'm gonna dispose buffer two then but for two equals temp one I've right temp 2 equals buffer one buffer 1 equals buffer two so I think actually it's just this buffer two that I need to dispose no no this couldn't be all right let's see here let me think about this getting like text messages right okay unless thing about this okay you got to turn my watch notifications off hold on all right yeah okay let's try to dispose them manually this is gonna be a little bit insane so I'm gonna change this now to temp two and then I is done I don't need temp one anymore and do I need buffer 1 or buffer to still let's buffer one let's let's let's think about that or buffer two so now buffer ah so buffer two should be disposed because I'm gonna retake it and set it to temp 1 anyway now this is bad this is 10 3 now by the way temp 3 equals buffer 1 but for one equals buffer 2 which is really temp 1 whoa so I don't want to oh boy hold on buffer 2 equals temp 2 boy this is terrible this is to keep track of all these ok dispose temp 1 dispose buffer 2 and then this is now also temp to right this is the end result these are the pixels oh but it's making different ones with this chaining so without tidy let me use tidy let me use tidy so hard right I mean it I'm worried about with the chaining without alright well let me not worry about the chaining for a second let's go with my dispose them individually so temp 1 and buffer two can be disposed buffer 2 is set to temp 2 which I still have then temp 3 equals buffer 1 which I have it disposed but for one equals buffer 2 which is this and buffer 2 equals so this is fine this in theory disposed everything except for the fact that I think this chaining is gonna cause a problem so let's see what happens here I still have the water ripples uhoh so I'm still making too many tensors way too many tensors so what if I just what if I do this the only thing I need to keep here is temp 2 so what if I say TF tidy and I'm gonna use the arrow syntax just yeah this there's no way this is going to be a video and then how do I keep I keep okay so then I want to just say TF keep the result of this so tidy everything but keep temptu now set those pixel wise and then temp buffer to is temp to I've kept that I'm not sure let me just say buffer to dot disposed here there's also a memory leak bug which could have been the problem let me dispose buffer to and then ten three is buffer one which has not been disposed and that goes into buffer to and buffer one so this could really just be be this temp to and I probably need to buffer one I don't want to dispose yes I do well that's weird why is oh I know oh yeah this is gonna be a problem what I I guess what I need to say is oh so maybe I don't need keep if I do this I just return the result of that right this is what I could do I'm so close to simplifying this more all right let's see here iiiiii I'm sorry everybody yeah seems to be less still going up now there is this memory leak here let me comment this out so now I have succeeded in not creating extra tensors is this was this necessary I think it was yep is this what this went off the rails more than anything I've ever done I think I have to go home I'm sorry everybody there's no way this was useful for me I think this is just gonna be a live stream that just lives as it lives clearly I'm not staying hydrated maybe this nice thing of water let's see if I actually still get water ripples yeah I'm getting water ripples oh that that I have that memory leak so this is a memory leak which we can we can go to TF where am I going to github.com tensorflow well actually let's go to here and let's click the github issues closed memory leak there we go so this memory leak due to this issue all right alright alright okay everybody I really know I really want to understand this could be two lines yes I think this could be you know what it is it's this microphone I can't program or think well with this weird microphone apparently temp 3 is buffer one buffer one is temp 2 oh I see I don't need that oops there I did it now right because I don't buffer to is buffer 1 I don't need that temp 3 and buffer one is temp to it's just like temp 3 could not have been disposed temp 3 with it it wasn't creating a new tensors there's another pointer to that same one this this if I'm ever going to do it this this uh I mean this I think was useful for me in like learning tensorflow Jass a bit more have you heard of how Adam Savage wears his mic he has a hole cut in his glasses rim that's interesting note m3 wasn't the memory leak it just was an extra variable I was using it to store buffer 1 I don't even remember what I had before now just copied this yeah I was using it to store a reference to buffer 1 because I need to set buffer to to that but in this case because because I could just do that first right I don't need but there I don't need like I'm not actually swapping two values what I'm doing is I'm just saying buffer 2 is equal to buffer 1 but for to buffer to now becomes buffer 1 and buffer 1 is the result of all this math that was done up here ok look at this this is so little code you would think that I would be able to do I think I could start I could do this again if this is a useful so about that 24 hour livestream so what's a quick way for me to make this brighter I mean what's in operation I could apply to the tenser I could multiply it by or I could square it like right I could multiply it by five right I mean this is sort of silly like what if I multiply it by oh no but you have to clip it afterwards well no but the damping let's just add to it let's do something crazy way like that this is like additive blending now all right everybody I'm so sorry I went down I should have known better should have had better judgment and I shouldn't have started with this and I should have done the layers API in the XOR coding challenge but that's just gonna that's just gonna come next I have to be done now it's 820 this I will publish I'm looking at my phone right now oh when the wrong screen all right change the kernel values to one that's an interesting idea let's change them to 1.5 for fun like 0.9 point six whoo interesting yeah the point five is really a magical value all right try to pixels inside a tidy no I don't think I think that's just yeah that's an interesting idea I should try that I don't think that will fix it but ya know it's it's still it's it's a bug yeah just do the normal I posted I beg you what's that thing anyway so let me talk about this other thing I want to talk about I'm gonna actually unlock a feature right now on YouTube I can't pass the location of a literal to a function alright so first of all what's happening with the calendar mmhmm this was a but I wasn't even going to look I wasn't planning on livestreaming this week because I had pieces all week and I usually have Friday evening it's not available but I was able to make it work for this evening but unfortunately I like I didn't waste the time but I could I do a quick just do like a quick coding challenge before I go hold on hold on yeah to May it's clamped to one is the issue I think is one of the issues like what I should do is actually I know what I have an idea pixal pixels equals temp clip by value was that what it was and then do this and then dispose it so I can let the tensors actually have larger numbers right check this out but what did I do wrong Oh whoops no no watch this let me not dispose this for a second okay now what I can do there we go so this this I need to dispose this one I could just I could just I could do tidy there we go yeah no let's dispose so this is like asynchronous this two pixels thing is asynchronous so so I have to dispose after all right so I would have to do this then pixels dot dispose I think this is what I would have to do there we go oh there was a super chat Thank You Nuka Charlie there we go now I've made it brighter so I can see it so much advanced crazy stuff in here you know what I need to do I need to slow down I need to come back fresh energy fresh thoughts and try all this again all right this is good I'm learning tensorflow jeaious becoming more of an expert in it one day I'll be able to say I am an expert in tensor flow Jas alright so there we go so here's the thing I'm just curious for those of you watching right now I'm gonna make this a so I got a couple things to talk about here youtube.com slash the coding train alright 731 I can't believe there's still 730 foreign people watching that would be insane so what am i logged in as myself that's dangerous okay going to community okay so let's dear diary tonight I had very special plans I my dream I the the livestream the topic to continue my tutorials on tensor flow Jas I planned to cover the layers API and show how to train a model to solve X or this would have beautiful instead I just I decided to recreate the water ripples API the water ripples coding challenge with tensorflow j/s it involved so much debugging and me being confused over and over that it took it took hours what should I do Sincerely Yours choo choo Pole okay what should I do now I should leave it be it was a moment to live only in the moment leave it be and move on it was useful but insane do it again as a tutorial now that you now that you know and the other one is just edit edit it together somehow no this is a bad idea don't vote for this one okay yeah the coding trainwreck all right DiNozzo tutorial yeah all right so let's so look at this by the way look at this I now have this thing everyone can see this post sponsors only so let's talk this is what I wanted to talk about for a second this is really really a bad idea I'm gonna go to slash sponsors I'm in my dashboard now so check it out look I'm in the same place so YouTube has this new feature called sponsorships which is oh did I leave you wondering if the last tidy fixed the memory leak yeah sorry about that let me let me check that out so it didn't but it did I think because the memory leak is actually unfortunately there's no way to know because this inherently has a memory leak that I can't fix but this disposing of it should work so there's no way for me to know all right so here's the thing I'm not going to go through YouTube has this new feature called sponsorships I'm kind of curious about it I have a patreon that that people can subscribe to you with some benefits there's a slack channel there I even will mail you stickers or books sign books and different levels which I'm reasonably okay at making happen eventually I don't have any interest in doing exclusive content so that's not something that I'm planning to do but it does help sort of motivate me and also provide you know it just helps to have the financial support so what I'm thinking of doing yeah I could check the amount across one draw loop that's a good point what I'm thinking of doing is turning this on as an experiment and basically considering it exactly the same as this this level so if you want this $5 per month level you can subscribe via patreon if that's convenient to you or you can subscribe via the sponsorships and it's exactly the same if you want some of this other stuff then you would have to use patreon the one disadvantage to this idea that I have one is it's sort of like this probably should just use one platform for the crowdfunding thing but and the other disadvantage is YouTube the YouTube is really I think Pope is is making this a feature in particular for people who do live streaming because what the sponsorship allows you is when you're in the live chat you get a little icon next to your name and you also yeah you get an icon next to your name oh you could use special emojis that I can unlock so so oh yeah 30% is quite a bit but you know I don't know I I like to experiment with these things that could probably turn it off if I turn it on so I'm think I'm gonna turn it on and then I could turn it off let's see if people like the features of it and want to subscribe that way there's no no need to nothing's gonna change in terms of how I make the content that is remaining the same but I can't resist every time I log into YouTube they keep saying indeed while that's enabled let's enable this and I'm tempted to just go ahead and enable it right now let's slowly go through this why not what's the worst thing that could happen alright get started right so what I did here is I made the the the the the benefits our invitation decoding train slack channel coding train stickers continue these are the loyalty badges but if someone wants to make some custom ones for coating train I could do that I added some emojis so if you're supportive you'd be able to use these emojis in the chat custom emoji and then I'm supposed to create a sponsorships announcement video that's what's happening now continue post the sponsors on your community tab yeah continue I'm gonna do this I'm going to turn on well they're finalizing my sponsorship shut up setup this could take up to my channel is now accepting sponsors didn't take 20 minutes did it alright so I need to go and work on the loyalty badges and the custom emojis and the custom perks if anyone is currently a patreon subscriber you are welcome to any prefer giving YouTube your money also you could unsubscribe from pay and you want these emojis nothing will change the only differences between patreon and YouTube sponsorship are and I should really publish something to explain this or make a video are you get the emoji is on YouTube ooh and I got a sponsor Jake Crowley welcome Jake Crowley and look Jake Riley irresistible this stuff is irresistible so I don't do you think is I to be honest with you patreon is not a service that I love it works really well I use it they are they seem like great people trying to really make something that works there's a lot of artists who are supported by patreon which is a wonderful thing there are some issues that I have with how it works that don't aren't perfect for me and it's actually a ton of effort to mail those books and incredible expose thing that I didn't anticipate I still send them because I want to send them but it actually costs about every time I mail one of those books that somebody's international that's signed it cost about 40 to 50 dollars so in the end like this you know it all it all works out anyway I'm going off the rails here was there another sponsor still Jake Jake Crowley is my sponsor oh look at this so I don't know it's sort of irresistible for I'm gonna I'm gonna see so I'm not canceling my patreon I'm not canceling I'm not I'm not using YouTube sponsorships now instead of it I'm trying them both and the YouTube sponsorships let me let me make a little video Oh new sponsors see look at this I think one of the reasons to do this is it kind of encourages people in a way that patrons so let me let me um let me make a quick video to release that Matt you can edit if which I think I can explain this now effectively okay whoops so I think I need to sign in as somebody else in order to see the by the way secret channel if you could find this channel wow I have all these new sponsors cannabis plays Zod Gaming is a secret channel that might be launching soon I'm gonna switch to oh my goodness John Henry I'm gonna switch to that account for a second um so now if i refresh this page it should show the sponsor button how come I don't see that oh no I'm still no well I might as well subscribe how come I don't see the sponsor button does it know what if I go to new incognito window no Wow look at all these sponsors this is nuts welcome zags thank well my goodness Cody garden by the way you should all subscribe to the coating garden with CJ but how come where does the sponsor button show up and where are you finding it if I just go to here oh here I'll go to here oh I see alright alright alright okay here we go Alka it's very nice of you to thank everybody for sponsoring all right no let me get this not now so if I if I go to this logged in as me I'm just curious oh yeah so I could sponsor myself that's fine Kelly Murphy thank you oh my god this is incredible this is employment food wow this is like my worst livestream ever and all of these sponsors are joining this is like crazy I'm so so touched alright hello welcome to an announcement video that YouTube told me I should make so I turned on a feature on YouTube called YouTube sponsorships I actually did this during a livestream that's happening right now you can see the chat going on here I have J Crowley if is the official first sponsor the Kotick trade I mean in terms of YouTube sponsorship so this is confusing because you might be aware that I have this like patreon that I don't really keep up with in terms of managing the website but it is a place that people can crowd fund the coding train so let me say a couple things what do I use the funds for I use the funds to help with expenses of the channel and then I also earn a little income from doing this and you know that's best that's what's going on here and to be honest it actually really motivates me to do this every week because I feel more of an obligation to the patrons and the sponsors now what so this is confusing why do I have these two different things I don't know what I'm going to use for it thank you to all these people who keep sponsoring while I'm doing this right now which is kind of insane but really humbling and nice and I feel I feel sorry you feel really guilty and confused but this is a new feature from YouTube it's very similar to something like patreon right now I'm keeping both of them and I'm not planning to do any exclusive content so all of my content will always be available sometimes a recording session I will livestream to patrons only but then that always gets uploaded later but just you know if I'm trying to figure something out and I need people to watch and give me feedback but in terms of my regular life streams and videos I'm not planning any exclusive content there is however however a separate slack channel so if you are a sponsor I have to figure out how I then can invite you to the slack channel so I'm gonna figure that out and I also will mail you stickers this is the exact so being a youtube sponsor is exactly the same thing as a patreon passenger so if you are a patreon subscriber and want to switch to a YouTube sponsorship you're welcome to cancel you can do boats I don't know why you would want to I do still have these other rewards for like tshirts and books and things on patreon I will leave those up there so they're both things so that's a thing now welcome new sponsor Barney do you get these like emojis if somebody wants to design me some custom emojis and some custom like sponsorship iconi thingies you could do that the sponsorship button is next to the emoji button so anyway so that's a thing now I don't know is this a bad idea a good idea write in the comments if you're so confused about how to all this appropriately and fairly but it really uh you know please don't feel obligated to be a sponsor only if you really like you're able to and it feels good for you to do that it definitely feels good for me when you do it I appreciate it and so I don't know is there a way I can thank all of the sponsors right now pop out chat welcome okay so let me see welcome Barney welcome Kelly Murphy welcome Azumi ku Shiro welcome coding garden with CJ hey you should check out the coding guarding with CJ that's a YouTube channel that I watch hiccups alright by the way I can't believe people are sponsoring me right now cuz I just did I'm gonna link to this livestream that either which was a total disaster I attempted to recreate this water ripples coding challenge using the tensorflow TSS like math engine for it and I really it was it was a disaster so thank you so much to the sponsors who are sponsoring me anyway I'm learning tensorflow TAS in front of you which is I guess a good idea and that's that okay goodbye everybody thank you oh this was the sponsorship video good bye alright um people are asking about the fees stuff so so this is very clear to me YouTube takes 30% patreon is very confusing this is one of the the issues that I have with it in theory the fee is just 5% but it's it's very confusing it's different based on its some formula and I can never figure it out I just basically I just decided like I don't look at it just it's just I'm glad that patreon exists and that I can use it it's really kept me going with this you know I should I should have mentioned like I have a fulltime job like I'm gonna be ok you don't need to subscribe to me sub answer but it is what it is alright so alright let me just okay hold on let me some text messages for my family which I got a deal with having some type to see if I need it at home okay okay if you go to participants in the chat you'll see that it is more than just for sponsors so where do I do that participant well participants ah there we go I see so we can see all the sponsors here all right that's cool close that back I could need to look at all the tools here welcome Bruno all you people are sponsoring I just I feel like I got to do a coding challenge to thank all these sponsors and also to have something to release next week so what I was thinking I'm gonna close that right now so I let's go to close this go to here and let's try this one we just look at this real quick okay this sprinkling a few pixels smooth the image cooling uhoh is this gonna get complicated cooling map uhoh cooling map where's the cooling map I just want to look over this and see like how what is the cooling map oh I see cover it with some smooth pattern sprinkle a few thousand pixels on it oh look at that oh you just have this cooling map that's fascinating oh wow I think I can do this yeah this is no big deal read the pixel from the cooling map P equals add all those together divided by four P equals P minus C and then if P is less than zero cap it and then write the pixels all right all right we're gonna do this I can't believe how many sponsors there are it's an O so sponsor isn't automatic out of Matt automated every month thing I should have said that oh well I should have said that all right I haven't gotten any message back one way or the other all right we're gonna do this we're gonna make this happen yeah that's a good question if I could make people who are patreon subscribers mods or something not sick I guess people are so used to twitch okay saying it's like patreon is I'm alright I think I'm gonna start from my water ripples one right okay here we go everybody welcome to sponsor Ernest G Wilson okay we're gonna attempt a coding challenge here alright drink some water all right I'm gonna cycle the camera okay all right everybody I'm excited I'm gonna do something that's gonna be some coding it's gonna be cool it's gonna be great I should write the water stuff as a shader obviously so I need to do some tutorials on shaders somebody makes somebody file that as a rainbow topics it's probably there already shaders and these should be what I start with okay hello I am very excited for this coding challenge this code challenge is dedicated to all the know the new YouTube sponsors I don't know in the future when someone's watching this video YouTube won't even exist or sponsors but it just happened today and all these people are sponsoring like wow wow Tomica thank you okay what am I gonna do in this coding challenge so this was my previous coding challenge the water ripples coding challenge I made some fixes to it by the way has some errors in the code you can you can find it on github and this is just showing you the water ripples where I'm placing them randomly instead of moving the mouse around and I didn't realize this you can see this is called fire ripples cuz I've already set myself up I was not aware of this but Hugo Elias there was another algorithm a fire algorithm and this is explained in great detail here and so I'm not going to read the whole thing over I encourage you to read over I'm just gonna try to implement it but what's really cool about this just look at it really quickly is it works if you create this thing called a cooling map so I'm gonna create a cooling map I guess like this that's just kind of noisy and Grace Kelly and smooth but you can make shapes and patterns you use an image I think this is gonna spawn a lot of creative ideas so let's get started making this so I'm actually going to just start with my code base from before because that's most of the same things that I need and so if we start here the flames can be made to start anywhere on the screen by simply sprinkling a few pixels most implementations had the flame source at the bar of the screen by the way where does this algorithm come from originally I don't know Oh beeps have to read this page River I got to do this coding Thanks okay so let's go here so first thing I want to do is I'm just gonna kind of get rid of the swapping algorithm and I think let's let's I'm gonna I'm gonna just get rid of this and I'm gonna call I'm gonna just have one array which is actually here's the thing I think I can just use the pixels itself it doesn't look like oh this is the smoothing yeah so I'm looking at this yeah but I need I need to do that I need a current and next I need a buffer so but I think this might actually make more sense for me to do with image buffers so rather than have these twodimensional arrays let's try something I'm just getting rid of everything this is a nice idea let's do this so much we're starting with that code all right what I'm gonna do is I'm going to create a P image I'm gonna just call it buffer one and I'm gonna say buffer two and buffer one is gonna be an image that's the same size as the window and it's an RGB image but for two is the same thing and then just what I just want to do I just want to put a row a bunch of pixels at the bottom that are white so I want to say int x equals zero X is less than buffer one dot with X plus plus I'm gonna say buffer 1 dot pixels and so one thing that I really need I have a bunch of image processing videos that about this is I always if I have an X and a ycoordinate I need to look up I need to find the location in this array and the formula for that is int index equals x plus y times width in this case the Y is the last row so y equals buffer 1 dot height minus 1 you know what I'm just gonna the width and height are gonna be the same for everything so I can just use the global variable whoops so this is the Y and so now buffer 1 not pixels Y index equals color 255 okay so let's look now and I'm gonna say buffer 1 update pixels this is just how I'm getting things started in in setup but for one load pixels and then I'm gonna say buffer 1 oh no I'm going to draw that image image buffer 1 0 0 so and let's actually do I kind of want to do this well let me just let me just run this so yeah you should see it's hard to see if I made it red that would make it easier like let's make it red you can see that there's a red line at the bottom so that last row of pixels is full so this is my starting point so now what I want to do is I need to apply this smoothing step there are a few ways to do this depending on exactly how you want to smooth the image so I could probably do all sorts of fancy smoothing algorithms and Gaussian blur and all that but this is a nice way of just adding up applying a convolution write a little matrix adding up the pixels and its neighbors and dividing by 4 so I'm gonna say and I'm gonna use buffer 2 for that so buffer 2 equals oh no no no I need to loop through all the pixels let me give myself some space down here so I'm gonna now have an algorithm that goes through all the x's and it goes through all the whys and I'm going to skip the edges which I might need us to think of being more thoughtful about this later and now what I'm going to say is I'm gonna say is okay so hold sorry I got distracted for a second but time out I'm gonna have Matt yet edit that distraction out for a second okay so now what I need to do is let me get the color it I'm gonna get the color from buffer one pixels at an index and that index is the same as this formula so that is now cut the color so then I actually don't need I need to get sorry I need to get all the neighbors so this is going to be a very awkward way of doing it but I'm gonna do it this way anyway I could do another loop inside here but I'm gonna do this really manually and then so y plus 1 y 1 and let me put the print just to be consistent this is totally just my own like wanting to be consistent so look these are all of the neighbors X plus 1 X minus 1 y plus 1 not all of the neighbors all the neighbors only the two neighbors to the right and left and the two neighbors to the top and bottom I'm not doing the corners so this is really simple and so now I need to get all of the colors and again I could do this with like apply a convolution and a more thoughtful and creative way but I'm just gonna do it this way and now what I need to do is I want to get a new color which is equal to the brightness of C I'm doing everything in grayscale right now so I'm going to add up all of these whoops plus C 3 plus C 4 I'm gonna add them all up together then I am going to let me see if I'm gonna say buffer 2 pixels and I do want that index the regular index will call that index 0 will just be X plus y times width that index zero is a new is a color with the new value divided by four or I think but I might like to say multiplied by point 25 so I've now implemented this part of the algorithm right that I think I need to put it in a separate buffer because I don't want to overwrite the image that I'm using now right and and then continue to use those pixels so everything will get all messed up so after that's done I should be able to say buffer to update pixels and I don't need to draw this here I need to load the pixels of both of them because I'm working with both buffers and then I need to swap them swap swap swap so I need to say a pea image temp equals buffer one buffer one can become buffer two and buffer two can now be buffer what was buffer one which is stored in temp so now if I run this we should see it's gonna like we should see like it slowly blur away what if I what if I continue to always add a line so let's let's let's write this a function like let's write a function called fire which what it does is it in buffer 1 it adds a row of red oh and the let me actually just make it white because I'm not dealing with a color yet and let's actually call that at the beginning of draw so let's do that over and let's always reset the bottom one down to red all right what am I doing wrong here oh no that should be fine what did I get wrong here I expected to least see something happening like the color spreading up oh convection I'm not doing convection uhoh any programmer where I am not worth my salt oh I forgot to draw B oh I'm back I forgot to draw the image I forgot this whole time I forgot to draw image so we draw a buffer too yeah this is what I expected we're seeing this sort of like blurring of the pixels moving up okay there we go so we can see that that's actually happening I really would like to do this with the RGB values but um that's gonna add too much to this right now so I'm not gonna worry about that okay so now so this is the heat spread cooling is simple and involves subtracting a small amount from every pixel the exact amount depends on how quickly you want the fire to cool well let's say I don't want it to cool at all let's skip the cooling for a second let's go to convection scrolls the image up by a pixel or so where is copy buffer to the screen copy buffer to buffer one scroll cooling map up one pixel all right so let's see smoothing and convection into one you are indeed correct any programmer worth their salt should see that I am NOT worth my salt I did not see it so that is where I'm going to leave it what what very helpful what I want to explain is how to make the fire look really good and incidentally in this next method that okay uneven cool alright so I'm gonna I'm gonna let's let's let's create the cooling map you don't swap you cover copy buffer one to two buffer well yeah I don't I think swapping is fine because I'm really overwriting buffer two completely so this way I'm this way I'm saving memory so I have to take a break here for a second I don't need to swap but but I might as well because oh wait a sec let me think about this yeah buffer one gets but for two yeah yeah I'm just overriding so yeah yeah I don't know K rather than recreate rather than copy everything I can just swap them hold on I'm thinking here what I want to do just looking at this oh right it's just y 1 oh of course ok ok yeah yep yep yep yep ok all right all right ok so let's look down here and aha so this is actually where that convection is happening right it could actually just right the pixel to one row higher and that's what's gonna move it up now I'm not adding the cooling yet so I've got this here and but really I just need to like write it so I just scroll it up I just need to like change this index 0 to this one should actually be Y minus 1 so in this case it's really the same as index 4 right that's the same as index 4 but yeah you know why not have it as a different variable so now if we run this you can see there we go look the fire is burning now interestingly I expected it to overwhelm everything right because I don't have the cooling in there what am I doing wrong here brightness 1 2 3 4 let's just check this 1 2 3 4 1 minus 1 1 this is actually no point in doing this in draw because I'm never actually iterating the bottom pixels oh you know what the problem is no actually I do need to do because I'm swapping no buffer buffer to never gets so actually if I want to be sort of thoughtful about this I should just always have in both of them right because I'm swapping the memory back and forth and so like the bottom should always just be a row of white pixels and then whoops I and then I need to make sure I set that up at the beginning same thing same thing so what I guess maybe I should do two rows two rows of white pixels so let's do this twice just to sort of test this idea out there we go this is what it more like what I was expecting okay so there we go so this looks more I just didn't like really give myself enough white pixels at the bottom so now this is just filling this up I'm not seeing any fire so let me be a bit more thoughtful about this so I'm gonna actually give this a set of rows and I'm gonna say I'm gonna have another I'm gonna use I and J here actually I'm just gonna use J it's the second one J equals zero J is less than rows J plus plus and then Y is equal to height minus J and I think I should be able to get away with just putting it in buffer one so I'm always gonna add some white pixels to buffer one so I'm going to say fire two let's look at this y equals hi oh this should be height minus J plus one all right there we go okay so that's the fire growing up from the bottom with setting two rows and now if I want to set like five rows to white to like have more fire you can see it's sort of mostly the same effect 50 but you can see you know that's just how much white I'm putting her all right so this is the fire burning now the exciting part is coming now what I need to actually do is this cooling I need to create a cooling map now does this look like anything to you familiar to you I mean I could make something in Photoshop I could design a shape I could have RGB it there's so much I could do but this looks like a Perlin noise field to me so let's quickly make a Perlin noise field and in fact I mean I could write the code for this but I've done this before Perlin noise 2d Schiffman processing like if I just go okay wait wait wait wait wait noise 2d this code makes this kind of pattern and I have videos about why this works and how this works you can go to my Perlin noise tutorial but what I'm actually going to do is I'm just gonna grab this code right here I'll close that page I'm gonna close this we go back to processing and I'm going to make another P image called cooling and I'm gonna write a function called cool and I'm gonna say I'm gonna call cool and setup I'm gonna paste this code whoops shoot actually I don't know why I went to the website when I could just go under processing examples and I can go find it in topics maybe it's under math how come I don't know where this is Oh basics maybe it's under basics math noise 2d there we go so I'm gonna grab this code we're all this code right here let's do this again Mattia thank you for editing for me okay let's just go back forget about all right let me find in examples let me just find this in examples here we go it's actually under basic so let me do this one more time a better place I'm just going to grab the code from processing examples I'm gonna go to file examples under basics under math I'll look at this noise 2d and now I'm going to grab all of this and I'm gonna put this into the cool function but I want this to all be operating under Cooling's so cooling cooling is another image look at this has the same number oh isn't that a beautiful thing it is the same number of characters as buffer buffer too so it's another one of these images then the cool function I'm gonna say cooling dot load pixels I'm gonna forget about noise detail and just let it be the default settings I do need an increment variable I don't know how I lost that let's make that point what was it in the example oh I already closed it open recent maybe yeah there we go Oh 0.02 let's use that 0.02 and there we go now I'm just gonna say cooling dot pixels cooling update pixels let's comment out drawing the actual buffer and just draw cooling now so let's look at our cooling map there we go so that's the cooling map there it is over there and I could play around with this by changing the increment value or blurring it or changing noise detail I'm just sort of curious let's make this point one but so good enough right so I'm gonna leave that as my cooling map then I'm gonna switch to showing buffer two and now I just have one more thing I need to add in here what I need to do is subtract the pixel from the cooling map so all I have to do here is now go and say all right color C 5 equals cooling dot pixels ah here we go so actually I really do want index 0 because I wanna write when I subtracting it from the cooling map is actually at X Y write this X y 1 is just for moving sliding everything up so index 0 should actually be this and then secretly I'm gonna use index 4 here and then here I'm gonna use index index 0 and then I can say and and we could we could call this P right why not and then P equals P oh no no P equals sorry new see is that this is C 5 now new C equals P minus C so that is new C minus the brightness that's in C 5 now my naming here is horrible I think I should refine maybe when I post this code I might rename a bunch of these variables to make it more clear but now we should hopefully see some fiery looking stuff all right hold on let's just do 5 it's kind of the sliding seems to not be happening the way I had imagined yeah let's see here so this would be interesting to randomize the bottom as was being suggested let's yeah but what's going on I think something with my swapping is off your cooling is too high yeah okay hold on let me go back that's probably it so it looked like it did something there but I someone in the chat just said that your cooling is too high which is probably the case so let me look at how I'm making this and let me just make these much less bright yeah but why oh you know what I think it's fixed so it's like fiery but it's not it's fixed because I'm only ever adding the exact same amount of the exact same amount of kind of like white to the bottom every time and it might actually I probably want to add fire more in a more kind of random way it's fixed also because I'm swapping I shouldn't be swapping okay hold on the swapping is it's always the swapping always gets me yeah yeah it's not moving in time oh right ah oh of course I do don't want to swap I don't want to swap I want to copy but for to to the screen and copy buffer to to buffer one so what I actually want to say here is just say this is me copying it to the screen and then say buffer 1 equals buffer to get that's the same thing I could regenerate the cooling you want the clouds to have black gaps so I see probably using Perlin noise was bad yeah so we the swapping is fine it's unnecessary but it's fine whew whoops what did I just comment out oops oh whoops okay Pearlie noise was a nice idea you know what the problem is the problem is so Perlin noise Perla noise was a nice idea the problem is Perla noise even with me ramping it down to 100 is you need to have some black gaps like any just much much less white in the picture so I think what I'm gonna do is I'm gonna do something like this and then I'm going to say if I'm if n is less than like point 4 just set N equal to zero so and then yeah maybe I should make my cooling map this I thought would work much better like this is now the cooling map whoops actually you know it would be useful is for me to what would be useful is for me to say 1200 by 400 and have with equals 600 and just keep keep track of these in separate variables because then then if I do that I can look at them both whoops something went wrong there we go so I can look at the cooling map next to the fire I need to scroll the cooling map I need to look at the chat it's cooling map by a pixel oh oh look what the Train just brought in more instructions about the algorithm that I didn't bother to read scroll the cooling map up one pixel guess what I could do you even better because it's Perlin noise oh boy this is exciting because it's Perlin noise I can actually have why off I'm gonna call this like why start equals zero point zero the Y offset is going to start at Y start and then cool and then Y start is always going to also go up by increment and so now if I call cooling cool in draw we should see this scroll that looks sort of what is this kind of crazy what I'm doing okay so a couple things now let's let's see if setting the Perlin noise back to something much brighter makes sense and maybe I don't need to set so many rows this looks much more like fire in an interesting way and also maybe I don't need to worry about this capping thing so much I was too worried about that it's still much too white much too bright right it looks a little bit more like fire now down there and I could now I could try let's making this let's make this less bright there we go look at my fire effect I also feel like it's kind of kind of slow let me where's my cooling image let's make this even less there what do we think kind of firing now so this looks kind of fiery whoof so I made this now I think you could do so much more with this first of all like my fire algorithm what if I just picked lots of random points so for example what if I just said x equals a floor random with y equals floor random with and then I did this whoops Oh height and this should be double UNH so what if my fire algorithm just sets an individual pixel well the thing about that that's just one pixel so what if I were to do this what if I were to set a thousand random pixels whoops mmm that's not good you could see like wherever I at the bottom it's sort of well this is crazy it's interesting what this is doing yeah I think the random pixels all around here so what if I instead did what if I also all right so hold on I have an idea whoops this was supposed to be in here yeah the outer pixels are never up to he'd have a buy of an edge problem definitely have an edge from I don't like the random pixel idea let's go back let's comment that out so I think it really needs to be a collection of pixels so you I could probably draw a small oval of pixels one one thing that could be a good way of doing this is actually to make these P graphics objects is it gonna like just let me do this what if I make these all graphics objects I don't need RGB anymore we make these graphics objects why does load pixels fail on a graphics objects oh because these are now P graphics I'm going to make these all P graphics objects and make this P graphics you'll see why in a second no it still didn't work yeah draw an elephant yeah P graphics I guess is not gonna work I thought I could call load pixels on P graphics so I need to say begin draw yes okay hold on alright matsya we're gonna edit out that hold it that whole part about like setting random pixels cuz that's not super interesting but I do think that so let me just get it back to what it was alright so do I want to do anything more here what I wanted to do was like drag the mouse around and add areas of pixels or click the mouse and so let me let me try to do that ok I think I only need to do that to one of them ok there's a lot of things you could do here now with this you can add color you could be more clever about how you make the cooling map with shapes and things in it let me show you one avenue that you might not be thinking about I think so that could be effective here is if so what let's just think about this fire thing I have to set pixels to white in order to start the fire I didn't I did start the fire we didn't start anyways so what if they'll buffer one we're not a P image but a P graphics object let's just bear with me for a second I would say create oh these are all gonna have to be graphics objects if I'm doing this at least buffer 1 and buffer 2 so let me make buffer 1 and buffer 2 P graphics objects because these and then I don't need to specify RGB but I do need to however I believe say buffer 1 begin draw some about to work with the pixels and buffer with the graphics I have to specifically say begin draw and and draw in addition to load and update pixels and so here I think I'm gonna have to say that for buffer to begin draw because I'm operating on the buffer 2 pixels but for to end draw let's just see if this is exactly the same oh and this has to say P graphics so this should be the same ok it's the same but I've done some really exciting here because what I could do is I could now also say I could add Mouse dragged and in Mouse drags I could say buffer won begin draw buffer one end draw and I could say buffer one I could say buffer one dot now I can do anything that's in the processing API I could say fill 255 buffer one ellipse Mouse X Mouse Y 100 100 and actually let me make this mouse pressed and let's see what happens here so now when I click the mouse yeah oh wait there we go look what happens I so oh that is wild so hold on let me swap where these are being drawn so now right anywhere I click it kind of makes it starts to fire there so let me let me make this mouse dragged oh and let me get rid of the stroke but for one no stroke so you can see I can kind of like seed the fire however I want now again I'm just adding circles so now the whole world is open to you you can create your cooling map in an entirely different way just to remind you I this is what my cooling map looks like but you don't have to use Perlin noise you could actually have shapes in here and that you could make this a p graphics thing and draw into it and blur somebody suggested an elephant so you could make up sort of flaming elephants elephants like fire anybody please be nice be kind be kind to the elephants but you should see you can start the fire on the bottom you could add fire by through by drawing with the there are so many possibilities here so I'm done with this I want to see your creative variations I want to see your versions that use full color RGB and I want to see your versions that cleverly like incorporate shapes and text and other types of imagery so make them into gifts tweet them hash tag coding flames I don't know dare dare I look twitter.com slash hash tag coding flames all right I think we're good no results for coding flames so code your flames and enjoy alright I'll see you in a future video thanks for watching alright so where do I want to leave this off let me put this back to this actually I think what it would've been more interesting by the way I just want to put this in draw itself if mousepressed oppressed so now you can see if it's there permanently it's kind of more on fire all right this is the end of today and I it's 940 p.m. what am i doing oh my goodness what happened I don't even know what to say I think that this can be made into a coding challenge let me let me do a nice screenshot thumbnail like so the thing about the thumbnails is let me make no not enough after a while it kind of starts to look like fire though just I'm gonna make a thumbnail and I think it works best when this stuff is at the bottom because then and I probably should make it have color now whatever it's got a I don't I didn't do it in the video it's fine alright so I think this will work as a thumbnail because then the coding challenge text can go up here okay something there will work all right sort of more smokey than fiery so I'm encouraging you so thank you to everybody who like sponsored the channel during this live stream that's wonderful that was really exciting and nice and um yeah I should do the damping thing instead of just reducing the whole value like the current code does what's that oh you mean I should this what does that do all right I don't understand you also been a community contribution pull request oh I see do this and then scale it by 2255 oh my goodness that is way better I see okay okay oh look at that all right let's make some new thumbnails oops well I gotta get my thumbnail going it was better for a second ago well no let's dampen it more I could use the power function I see so there's so much this is this is interesting okay let's say power and you know I should really do a 3d noise to wipe n to the third palace to do this probably not gonna make that much of difference with the thumbnail okay but if I the other thing would be interesting would be to do this is this gonna just be weird or it'll be interesting no that's just weird yes it doesn't make it doesn't make that much of a difference cuz it's just yeah okay I think the skills were fine I'm like upset okay I gotta go I gotta go thank you everybody for watching make it faster I you know it you know it's actually um that's actually I am sort of curious it does appear to be running quite slow oh yeah I think it's just because yeah I'm computing the noise every frame there's lots of ways this could get optimized but I'm not gonna worry about that now alright so decrease P by constant T all right thank you everybody oh yeah the scroll could go faster that's for sure I will see you all I'm gonna be livestreaming the ITP show which is my Student Center semester show on Tuesday and I don't know if there'll be another livestream next week I will be coming back to all I feel like I need a break from all this stuff because how much I kind of messed it up so I'm gonna go I would like to I didn't even eat dinner totally lost my mind here I do want to erase all this sometimes when I leave the stuff up here it's very hard to erase and I'm gonna erase this also and I will I wonder what happened with that pole by the way let's just look at it for a second I'm in the wrong screen no hold on switch account o yo D gaming now has 34 subscribers oh look I see now I see the buttons here what happens if I click that interesting community oh alright I kind of like this feedback that's nice feedback yeah by the way there's not very many people watching right now but I did you are people aware of video grep video grep is a project by Sam Levine who's a researcher here at ITP and it allows you to make like Supercuts and do all sorts of crazy stuff I picture this if anybody wants to try video grep on my entire youtube catalogue and make some weird Supercuts that i would be curious about that my voice is gone alright so I don't know I can't believe the batteries lasted on this microphone it's still got two bars I thought that was gonna go away for sure oh okay so I'm sorry I didn't realize that there are 500 people watching I know most of those people are not actually watching it's just been left it on their computer they've walked away it's almost 10 p.m. it's dark outside I have to get home though if the subways even still running it's like way past my bedtime I didn't eat any dinner I basically just send it into madness trying to make water ripples in tensorflow jas thank you all thank you coding garden you're welcome for the shoutout and I'm gonna go I'm gonna go I'm gonna go I'm gonna go I'll see you yes I'm gonna go I have a cough everything's going wrong all right I'm gonna go I am gonna play the trailer and be gone no I'm not gonna play the trailer no one wants to watch the trailer make the fire red all right this microphone we wanna make some crazy idea we'll figure out what it takes to make that dream appear will understand Oh
