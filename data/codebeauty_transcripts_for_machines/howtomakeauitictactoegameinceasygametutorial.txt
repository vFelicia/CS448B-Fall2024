hi everyone and welcome to my channel in this video i will teach you how to build this tictactoe game using c plus and i will explain everything step by step so it will be very easy to understand so here is the game that we will build and the rules are following we have nine buttons and two players so each player puts his symbol his sign where he wants so let's say first player puts his symbol here and then the second one and the first again and second and so they play until one of them has three symbols in a row either horizontally or vertically or diagonally and that user is the winner so we are going to build this game using c plus builder and rad studio because it is the best ide for building user interface applications with c plus plus and i'm going to leave a link that you can use to download it in the description and if you are not familiar with building user interface applications in c plus i will link a playlist here and i will also put it in the description so you can check it out it has a lot more videos about building user interface applications with c plus so in order to build our game i created a new multidevice application with c plus builder and it is a blank application as you can see and i'm going to divide this process into two steps the first step is going to be building user interface and then the second step is building the logic of our game so let's focus on the first step let's build user interface i will use this palette here in order to drag and drop all of the elements that we will need for our user interface so the first thing that we need is nine buttons so i will find them here okay and i will just drag and drop like this and i need to copy this button nine times so so after adding nine buttons there are a couple more things that we will need i will also need a label okay and i will put it here and now i want to change the text of this label so i will click on it and find its text property here inside this object inspector and i will change its text so that it says it is your turn player and that will be all for this label and i will add another label and put it here right next to the first one and i will change the name of this label so i will find its name property it is here and i will call it current player symbol like this so that this message says it is your turn player x or it is your turn player o and this part here we will change in code and then there is another thing that we need and that is one more label okay i will put it here and i will also change the name of this label and its name is going to be winner label like this oh i made a mistake so here we will write the message when one of our players wins now there is one very important thing that i want you to keep in mind and that is that you really need to give logical names to these buttons so if you added them in the same order that i did so this one was first and then second third fourth fifth and so on your id already gave them the names according to that order so this is button one as you can see here or here find name property okay as you can see here and then this is button two you can see that here you can also see it inside your object inspector so this name property and then this is button three four five six and so on and the reason why you need to give them logical names is because we will later have to access these buttons from our code so please don't give them some random names that you will not be able to remember and another important thing is that in the game these buttons are empty they don't have any text on them but something that i want to do is i want to change the text so that this first says one and then two three four five and so on and there are two reasons for that the first one is that it is going to make it easier for us to build the app so in that process of building and then the second reason is because i want to show you at the end of the video a very important bug or situation that can happen and that is quite unexpected and maybe hard for many beginners to understand what is happening so for now i'm just going to change the text of these buttons so the first buttons text is going to be 1 and then the second will be two and then three and four and so on i will change these and then i'll be back so with this we have build user interface of our game and the second step is to build the logic so what should happen when one of our players clicks on one of these nine buttons well there are three things that should happen the first thing is that when he clicks on a specific button we put a symbol on that button so either x or o it is going to be the symbol of that player now the second thing that should happen is we should check if that player has won by playing that move and if he has so if he has three of his symbols in a row either horizontally or vertically or diagonally that means that he has one and that is game over for the other player but if he has not then we do the third step and the third step is that we need to update this message so now we need to say it is your turn to the other player and here we put his symbol and then when he clicks on one of these buttons we put the other symbol so let's say that the first player is playing with x and then the second will play with o so let's build that step by step so let's define what will happen when our player clicks on this first button so what i want to do is i want to create event handler for click event and in order to do that i just double click on the button and as you can see it created the function called button one click which is called event handler because it handles the event of clicking on our button 1 as the name itself says so what is going to happen when our user clicks on this button well let's implement the first step so when he clicks on this button one what we want to do is we want to say button one its text property is equal to current player symbol like this now we still don't have this variable so i'm going to create it and i will put it here so it is going to be of type char so just one character and i will say that initially it is equal to x so our first user plays with x okay so what is going to happen if i run the program let's see okay and the only button that we have handled so far is this first button so if i click on it as you can see we get this x symbol whereas if i click on any of these other buttons nothing will happen because we still have not handled click event for them so i'm going to close the program and that is going to be my next step so now i want to handle click event for this button number two so i will double click on it and as you can see it also created button to click event handler so it is the same function except that this one is called button two click and then this one is called button one click and it will also have very similar behavior so i'm going to copy this line of code paste it here but instead of changing the text of button 1 i want to change the text of button 2 like this and again if i run the program now button 2 should work as well so if i click on 2 we get x and if i click on one we get x as well and these other buttons still don't work now one way in order to build this game is to create nine button click events for all nine buttons but there is a better solution so what we can do is we can create one generic handler which is going to be called button click like this and i will remove other button clicks in this situation we have only two but one potential solution is to have nine but we are going to refactor that so that we have only one which is called button click so we are going to use this handler for every button and what should happen inside this handler is we should take this sender because this sender represents the button that has been clicked so either button 1 or button 2 button 3 4 9 doesn't really matter and we are going to cast this sender which is of type t object into button and then we are going to change the text of whichever button is inside this sender so how can we do that it's actually very easy so i will remove this code here and i will create a variable of type t button pointer which is going to be clicked button so i will call it clicked button so whichever button we clicked and then i will dynamically cast this sender into t button pointer so i will say dynamic cast so please to tr please try to cast dynamically into t button pointer and what are you going to cast well you are going to cast this sender which is one of the nine buttons that we have on our user interface so that is the first thing and then the second thing is that now that we have casted this sender into t button pointer what we can do is now we can say clicked button its text property capital letter t will be equal to current player symbol like this and the last thing that we need to do is now we need to connect this button click handler with these nine buttons so i will go to my button one i will click on events and here as you can see we have on click event which is called button one click which is the previous event that we had so i will change that to button click so now i will do the same for this second button it already has handler called button2 click so i will remove that and paste this generic button click handler and then i will do the same for these remaining six buttons so button four and then five and i will do that for the remaining buttons and then i will be back so after adding this button click handler to all line buttons let's try to test our program let's see what is going to happen if i run this application okay we have two errors and the errors are here it says button to click t form is unresolved external so that means that inside this unit 1.h we have a handler called button2 click which is the one that we created previously and now it is deleted so we need to delete it from here as well so that should fix the problem that we have and if i try to run the program now everything should work as expected and if i click on any one of these nine buttons we should get x symbol okay and we have achieved that by using button click handler that we connected with every single one of these nine buttons now something that i don't like is that here it says it is your turn player and then current player symbol label so this is just the name of the label and here we need to put the symbol of our current player so it should say it is your turn player x or player o so let's do that i will close the program and i will go to my unit 1.cpp and what we need to do is we need to update this current player symbol label when we run our program so i'm going to copy its name let's find it so the name is current player symbol label and i will go here and inside the constructor so when i start the program what i want to happen first is i want to update this current player symbol label and inside its text property i will put this current player symbol like this so let's run the program and as you can see now it says it is your turn player x and if i click on any one of these buttons as you can see this here is not changing so that is going to be our next step in order to achieve that i will say here inside this button click handler after i handle the click of my first player i want to change the symbol and let the second user play so i will say here if this current player symbol is equal to x what i want to do is i want to change it so that it is equal to o like this and then else so if it was equal to o what i want to do is now i want to change it to x like this okay and then something else that i want to do as well is this part here so after i have changed the symbol i want to update the message inside our current player symbol label so the one that says it is your turn player x or player o so let's run the program and let's see what has changed okay so it says it is your turn player x so i press this field and it says x here and then the message has been updated so it says it is your turn player oh so now if i click on this second field here we get oh and so on okay so this logic works as it should and then the third and the final step is to check when one of our two players has one so i'm going to create a function which will be invoked here and i will call it check is winner like this and the reason why i'm invoking this function here so before this part of the code is because immediately after i handle the click of a player i want to check if that click has made him a winner because there is no sense in continuing the game and changing the symbol and updating the message because if this part here results as true then it is game over so let's create this function called check is winner i will add it here so it is going to be of return type bull and i will say t form 1 and then let's copy this name like this and here i will implement all of the necessary checks that will tell me if the user has one now what are those checks well let's go to our unit 1.fmx and let's look at these buttons so there are eight potential situations in which a user can win the first one is that if the text inside this button here button one is the same as the text inside button two and also is the same as the text inside button three that is first scenario the second one is if this four and five and six are equal the third is if seven and eight and nine are equal and then we also have vertical combinations so one four seven two five eight three six nine and then two diagonal combinations so one five nine and three five seven so let's go back to unit one dot cpp and here i will write those conditions so i will say if button one its text property is equal to button two its text property and at the same time let's copy this so at the same time if button one its text property is equal to button three its text property so in case that this here results as true i will say here return true which means that our player has one and now we have seven more conditions so i'm going to copy this seven more times let's do that and then i will be back so here i have written all the winning combinations there is eight of them and these three are three horizontal rows these three are three vertical rows and then these two are two diagonal rows so now you can pause the video and check out the code that i have written okay and after you have done that there is one more thing that we need to add to this function here and that is one final return which will say return false so if none of these here results as true that means that our user is not winner so we are returning false from this function here now i will return back to this button click handler and here instead of invoking my check is winner function like this what i want to do is i want to put it inside if condition so i will say if check is winner returns true that means that current player is winner so what i want to do is i want to do two things first thing is i want to update this winner label so let's go back and let's say winner label and its text property will be something like you one yay like this okay and then another thing that should happen is actually nothing so we should say here return which means that if the user has one there is no reason for the game and application to continue so we are putting return statement here so let's run the program and let's see what's going to happen and we get an error which says definition of check is winner does not match any declaration in t form 1. now the reason why this is happening is because we don't have the declaration of this function inside are unit 1 dot h so here inside this private area i will say hey you are going to have a function of return type bull that is inside this t form 1 which is called check is winner so let's go back to our unit 1.cpp and if i try to run the program again now everything should work as expected which it does so let's now test the behavior of this program so let's click on one and then here and here and let's click x here and as you can see this label here has been updated and it says you won now there is something that i promised at the beginning of this video and that is that we will remove these numbers from our buttons so they should be empty so let's do that now and then we are going to run the program and see how the behavior is going to change just because we removed the text from these buttons so i will click on the first button and i will remove its text property and then i will do the same for the second button and third and i i'll do the same for all nine buttons okay so now our application is going to look better but let's see if it is going to behave the same so if i run this program here as you can see all the buttons are empty so let's click on this first button and as you can see immediately we get this u1 message so why is this happening let's debug this program in order to discover why this error is happening because we obviously have a bug so i'll go to myunit1.cpp and i will put breakpoint here on this line if check is winner so you just click on this bar this vertical bar and then you click on run and here you select run or press f9 okay and let's reproduce this bug so if i click on this first button let's see what's going to happen so the execution of our program has been paused here so i will press f7 in order to enter into this function and it takes me inside this function and then if i press f8 and f8 you can see that we have passed this first condition so it has not said return true so let's press f8 again and here is our problem so this second condition returns true and this second condition says that we have a winner in this middle horizontal row which is not true definitely so let's check what is happening here if i hover over this button for text it says that its value is null so it is empty and then button five text is also empty and then button 6 text is also empty so that is the reason why this expression here is being evaluated as true because this is empty and this is empty and this is empty so they are all equal they are all empty and it returns true here so we get our message which says you won as you can see here so how can we fix this bug well it's pretty easy to fix it so let's go to this second row the one that created problems for us and here i will check before i check if they are equal i want to check if they are empty and it is enough for me to check if this button four is empty because then i compare button four with button five and then i also compare it with button six so what i will say is please check if this button for if it's text property is empty like this this is a function i will add end condition here and i also need to put not symbol before it so now this condition here reads as please check if this button 4 is not empty and then if it is equal to button 5 and button 6. so if i run the program in debug again let's see what's going to happen okay so if i press the same button as previously and then i press f7 and then f8 this first row is skipped and then the second row is kept as well so we don't have the bug here anymore but if i press f8 again we have the same problem in this row as well so now it is going to return true from here and we will get the same message as you can see again it says u1 which means that we need to create appropriate check like this one for all of these if conditions so i'm going to do that and then i will be back to show you the final result okay so here are all the conditions that i added and hopefully i didn't make a typo because there is a lot of numbers here so let's run the program in order to see what is going to happen now so x o x o x and we now get the message which says you won which means that now our program works as it should now there are a few tips that i want to give you related to how you can improve this program even more and practice on your own because i don't want to make this video too long so there are three tips i believe the first one is that once your user wins you can disable all of these buttons so that they cannot be clicked anymore because now they can that is the first thing the second thing is that we also have a bug in this program and that is that one user can change the input of the other user and that should not happen so make sure to fix that if you want to practice on your own and then third thing is you can make this game even more fun so you can create counter for player x and player o so that you count how many times each player has won and also so that you don't have to stop this program every time that a player wins and then start it again in order to play again so those are some tips on how you can improve this game even more so thank you very much for watching if you enjoyed this video please give it a big thumbs up for the youtube algorithm because that means a lot to me and then also share it with a friend who would like to learn programming or share it with someone with whom you would like to play this game so again thank you very much for watching and i will see you in some other video bye