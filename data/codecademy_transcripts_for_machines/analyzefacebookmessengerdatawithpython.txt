hey everyone we're just getting started here live from the codecademy studio sorry for a little bit of the delay my name is Ian freed a curriculum developer here click add me we're just going to make sure that everything is looking good here in the studio with the live stream and yeah if you guys are able to hear well able to see me or run into any issues feel free to use the chat that we have going on the live stream awesome so we'll just give a little more time to make sure that everything is looking good and we're gonna go ahead and get started thank you all for joining us today we're really excited here to walk you through how to use a lot of the data that Facebook is collecting on all of us to get some interesting insight so I think it'll be a great session I've learned a lot about my past facebook Messenger history my relations with my friends it's been a journey and exciting and I hope all of you guys will get to do the same okay I think everything is sounding good everything is working well so let's go ahead and get started and for anyone who's just joining us once again my name is Ian freed I'm a curriculum developer here at code Academy and I work on our data science path team and we created a lot of the content that you'll see on code Academy related to data analysis and machine learning and I've been interest in this area for a little while and I wanted to see what I could do with the data that Facebook is collecting on US news a label it to all the data that it has and I knew it was collecting all this data so I wanted to go ahead and see what I could get from doubling that data I'm doing an analysis and so today well will show you how to download that Facebook data for yourself and then go ahead and do an analysis on your chat history in Jupiter notebooks which is a great data science tool for evaluating Culloden and displaying graphics and you'll learn some stuff about your Facebook friends so to go ahead and get started I'm gonna move over to Facebook and talk to you a little bit about how we can go ahead and download your data at any time throughout the chat feel free to comment you know any issues you're running into any questions that you have I want to try and make this conversation between me and you all here not just making kind of me talking at you so definitely let me know any questions that arise so I'm here on my facebook settings which you can access by going to your Facebook I'm just clicking the little arrow on the top right and then going down to the settings option I'm gonna bring you here and we see this banner right here along the top really alerting you to how to download your Facebook information Facebook wants you to know that it has it and that you can access it so you can get a look for yourself so hopefully you might have done this beforehand I did we send out some instructions and some of you others might be joining for the first time so feel free to follow me right now and you can go ahead and get that download started on your data so we'll click your Facebook information right here and then we can go down to this other section right here that says download your information and well click download a copy let it load for a second and Facebook will take you to this page right here and what this page is showing you is all the information that Facebook is collecting so as you can see it's a lot of information it might be shocking to you it might not be shocking to you it was a little bit shocking to me though they have everything from your posts your photos and videos comments all your friends the messages this is what we'll be looking at today information about advertisers and how they're looking at your profile and information they're getting your location history calls it's pretty pretty crazy so once I saw this I was like okay I need to do something with this myself rather than just having Facebook using it for there may be machine learning models or for advertisers and to go ahead and get this data what we're going to do is we're going to adjust some of the options I'm gonna start what we were to do it on my page right now since I've already had a request I got sent me but on your page what you'll want to do is go ahead and leave this date range to all of my data that is going to go ahead and just get all your data going back into your past we'll change this format right here it's highlight as an HTML but if you were to click on that little box right there you'll see the option for JSON and JSON is another format data that is more easy for us to analyze and so just change that up into JSON and then lastly you can go over to the media quality and change the media quality to low this will make sure that when you're downloading that information any sort of photos that have been in your chat history they'll get downloaded at the lowest resolution otherwise that file that you're requesting could be really really really big I mean for our analysis we're not going to be needing I need the photos or anything like that once you've made those selections you'll want to go ahead and click this deselect all button right here on the top this will make sure that we're not downloading every single piece of information Facebook has of us that's gonna be a huge huge huge file it'll take a long time to download and maybe maybe you want that so you can do that for yourself but I would recommend at least for this analysis to just deselect all by clicking right over there on the top right and then scrolling down to messages and you'll just click that messages checkbox and that will make sure that we're just getting the message that has three data once all the settings are configured you'll click create file right here on the top right and then you'll get an email and do notification from Facebook when that file is ready for you to access and it'll be available here in the available final section it might take a day or two for you it might be really quick I think it depends on how many requests Facebook is getting how busy their servers are it's a little bit of a mystery so you can go ahead and get that downloaded download started right now and if you don't have it already it's totally fine we have some sample data that you can use to follow along with us today and you can access that sample data by going to the bottom of the stream and the description area we have a link to that sample data it's gonna be in a zipped JSON file so you can just go ahead right now and click on that link download the zip file and unzip so just tracking quickly to see if anyone has any any questions seems like everyone's doing well I guess Facebook can be scary I agree but but you know it's a necessary evil maybe in our lives well I think a lot of us use it so cool okay so what you've gone ahead and submitted that request for your data let me show you what that might look like on your computer so I'm going to show you right here when you download your Facebook data you're going to get this folder that will save messages and so I'm going to zoom in maybe a little right here so everyone can see potentially okay not able to do but you'll see right here we have this messages folder and that's the contain every single conversation that you have ever had on Facebook so it doesn't matter if it's your best friend who you're talking to last week or it was that person you spoke to one time back in middle school you will have every single conversation that you've ever had in this messages folder so I say beware which messages you go into you might find things that you don't want to remember I would stick to maybe some friends who you've known for a really long time you have a lot of messages with each other and you'll be able to find out some interesting information there and inside that messages folder there will be a different folder for every single conversation that you had all those different friends conversations and inside that folder we have this message JSON file that message file is going to actually contain all the information for those messages that we've downloaded so that's the key file that we're going to be using to for our analysis and so once again don't worry if you don't have your own data downloaded you can use that sample data that we have provided in the description of the luxury okay so we have this data that we've downloaded from Facebook let's go ahead start taking a peek at what we have inside and figuring out what we can find about for this analysis we're going to be using a tool called Jupiter and notebook a new red notebook is a really useful tool that is used by data sciences a lot of people in the data analysis industry to look at data do a lot of exploration with it to see what's there and then also do their analysis and so to access Jupiter hopefully on your computer you have downloaded Conda anaconda is this great toolkit for data scientist that has Python included for you a lot of the great packages that are used for data analysis and it should also download Jupiter notebooks for you I mean so if you just open up your terminal on your computer you can just go ahead and type in Jupiter notebook just like this and it's going to go ahead and open up on your computer the Jupiter notebook interface and it's basically going to show through your web browser or just all the files that you have on your computer and you can navigate through these different folders to wherever you want to create this file for analysis so I'd recommend creating this notebook in the same location where you download that messages JSON file from Facebook and then once you're in the right location all you need to do to create a new file is go up to new here on the top right and click Python 3 and that's going to open up a new Python 3 notebook for you in Jupiter and so I'm just going to navigate back to my notebook over here just as I created this one in the right folder for where I'm going to be doing my analysis so we're here in Juvenal books and let's get started with looking at this data so what I'm going to do first is go back to my finder and I'm going to find that file that is the message to JSON file because we need that location of where the file is on your computer and order for us to open it up so I'm just going to right click doubleclick whatever it is on your computer and if any of your Mac or Windows and click get info on the message dot JSON file and I'm going to go to the location which is listed over here in this information page right click on that location and click copy and what that's going to do is just get that copy for me and that location for me and I'm just going to go back to my Jupiter notebook and I'm going to create a variable called path to file and I'm gonna put in a string that is this location that I've copied at at the end this is just the file location where that file is but I want to point directly to the specific message our JSON file so I'm going to add and right at the end a slash and then message dot JSON and when your integrator notebooks to run a certain cell you can just click shift and return or shift and enter and that will execute that single line of code and this is one of the great things about Jupiter I'm going to let you run blocks of code or lines of code on one at a time and so just looking here at the chat if you're having some issues finding finding the file I would say try downloading once again that message JSON file from the YouTube description and you should be able to in your I believe in Windows it's like Explorer and maggots finder find where that file is and then copy the location from there okay now that we have our location from the file let's go ahead and open it up so I'm going to say with open and then I'm going to put inside people bin the path to file and I'm going to call this as file right here I'm do a colon and then I'm going to store the contents of this JSON file in a variable called chat history and to load this file in I'm going to write JSON load my file and right here when you run this you might run into an error when typing in JSON download if you are seeing that I'm going to say that you should also import JSON right here on top this is just importing a Python package for working with JSON data so what import that will open up the file with this syntax outside shiftenter and this has now opened that file and pulled all the contents out into chat history and we can take a look at China's three right here and integrate notebooks to just look at a variable you don't need to print it out you can just run it that individual variable just run that self and you can see here we have China's three which is this Python dictionary and all trying a little here so you guys can see more and hopefully that will help okay great we got some zoom a little bit of lag but now you guys should be able to see the information and display a little more clearly so in order for us to get a better idea of all of this data that's in here I'm gonna go ahead and look at the keys of the dictionary so I'm going to say chant history donkeys and I can see that we have a few different keys here one of participants another is messages so the participants are going to be the people who are involved in this chat and so we can look here up on the top for participants we have Lewis Carroll and we have Jane Austen originally I had done a lot of analysis on my own facebook messenger data and I was horrified by some of the things that I saw and so I thought best to to use some other information for for this live chat so we grabbed some text from Project Gutenberg which is an open source natural language processing or novel novel database and grab text from two famous authors Lewis Carroll and Jane Austen and we replaced my actual message history with information or texts from their dolls so we're just mixing up a little bit here but if everything is exactly in the same format as it should be downloaded from Facebook so don't need to worry there so let's go ahead and take a look at a little bit more what we have here so we have these two participants Lewis Carroll and Jane Austen but then we also have we see messages and then we see these blocks and messages so we see the sender is Jane then we have a timestamp which is at time set of milliseconds and when that message was sent we also see we have content here which is the actual message content that was sent by that individual and and we also have other information here and like photos which will have oh like oh there are two things if you send a picture if you made a phone call that will also be listed there so that that will all be listed and I'm just taking a look at the chat here can you scroll back up and show with the open command of course sorry about that so I'll scroll back up here and we can see right here import JSON to make sure that we have that JSON package and then with open path to file as file and we're gonna load that up JSON file into Chinese 3 with JSON download of file I apologize for missing on that Sam and Chris hopefully you guys are able to now see how do you get that bottle loaded okay so we can see that we have a lot of good information here everything that we want is really stored inside the messages key of this dictionary so I'm gonna just go to Chinese 3 once again and then type in the key messages well let it run for a second and this is the information that we really want so how do we go ahead and take this list of basically messages that we out here and convert it into something that is useful for us how can we visualize this data in a useful way in order to do this we're going to use the Python package pandas and pandas is really good for data visualization helping us organize our data to data cleaning and ultimately managing our data with named Python so I'm going to import the pandas package right here and then I'm going to create what's called a data frame in Peppa's and a data frame is the main way that we store large amounts of data in so I'm going to name this data frame messages and I'm going to set it equal to a value that's going to be the data frame of our data and now when we're using pandas we usually have this shorthand notation for PD so I'm sort of just right away reporting pandas I'm going to import it as D and now I'm going to set messages to PD dot data frame of those that entire list of messages so I'll say chat history of messages and I'll run that and now we can take a look at messages right here I think we see that we get this data frame and on the top we have these different columns these columns represent the different aspects of an individual message so we have the content column which is showing the actual content of that specific message we have the sender name which is the name of the person you send that message we have some other interesting things like gifts that were posted if there was like a call associated with that message how long it lasted we have importantly the timestamp in milliseconds and this is the actual time that that message was sent and so those columns represent those different attributes of a message and then each row here is representing a different message that we have so 0 is representing one message from Jane Austen the started the family of Dashwood had long been settled the second message one was by Lewis Carroll and it starts down the rabbit hole so we can see we have all this information here and okay I'm seeing some questions so someone asks about line one so line one at the top is just going to be the path true that specific file on your computer and this is the message that JSON file that has all your message information we also have a question about what is a NAND mean so any any sense for not a number and whenever there's missing information for a specific column for a certain message a wool list and an automatically so for message zero right here there was no call duration so it was just a text message there are no gifts there were no reactions use those are those little you know reactions you can set to individual Facebook messages and so first if something's missing we'll say on an if we have data there we will be able to see the actual piece of content there okay awesome so we have this big data frame of all of our data now it's a good question your time to ask the question what are we going to do with this data what sort of insights can be find and so when I was looking at this I saw that we have all these this message content what what can I do with that message content and one thing that's really popular to do with text data is to do what's called a sentiment analysis and a sentiment analysis is essentially looking at different text data and assigning a positive or negative score to a piece of text to see if it is positive or negative was this something that was a happy or joyful or positive or is this something that was maybe a sad or or a negative or you know unhappy and by looking at the sentiment of let's say these messages over time we're able to see how the nature of your facebook chat has changed with your friend so maybe you guys started off you know in the beginning of your friendship having positive messages I maybe you guys hit some rough spots and the sentiment of those messages start to go down maybe got into a fight those the sentiment went really down or we can also even look at sentiment between each she's a big person in the conversation so maybe in your conversations with your friend your messages are gonna be positive your that upbeat person you're always trying to you know help your friend out and I'm in a good mood and or maybe maybe you're the kind of person who you know you're you've been down on your luck things have been tough and maybe the sentiment of your we'll indicate that so what I wanted to do was look at the sentiment of these messages these Facebook messages over time and see what I'm able to to find so that's kind of where this analysis is going to go you can see that we have a lot of other data you could go so many different ways with this but for today we're gonna stick with the sentiment analysis and since I wanted to do an analysis over time I wanted to take advantage of this time data that we have and so we can see that we have the timestamp in milliseconds this doesn't mean a lot to us this is the amount of time since some specific time when Facebook starts recording you know dates I believe for lots of the computer systems they track from like January 1st 1970 when they count up from their different systems use different time stamps so what we're going to do is go ahead and using pandas which is great once again for data manipulation convert this time stamp from milliseconds into something useful and so to go ahead and do that I'm going to create some helper functions so I'm gonna create a function call to convert time and it's going to take in a timestamp and what we're going to do is we're going to return that timestamp converted into what is called a pandas date/time and it's a specific got pandas data type that will give us the month the Jade year and our of a specific message and so to do that we're going to call cadiz and use it to date/time that's it and I'm just going to feed it that timestamp and I can go ahead and just you know save this function or define it right now but one thing that you would run into you just normally see is this function would not work properly I'm gonna think eyes we need to make a note of the time stamp which is specifically in milliseconds so we need to add that unit in to our daytime function so there is a keyword argument that we can add call it unit and I'm just going to have the unit's in milliseconds so I've created this function let's try it out I'm just going to copy this time stamp right here from this one message if my computer will let me copy it and I'm gonna call convert time on this time stamp and awesome now we can see here that this message was from October 5th 2018 at the 22nd power at 1030 so really useful tool to able to make those time stamps into something that's useful to us so what I'm going to do is I'm going to go ahead and apply this convert time function that we just make here to every single message in our messages data frame so it's going to burn all these time stamps from milliseconds into date/time and then we can do this by saying that messages and we want to operate on the whoa so we're gonna operate on this time stamp milliseconds help but I'm going to create a new column so I'm gonna make a new column called date and I'm gonna set it equal to applying this function convert time to every single time stamp that we have so I'm gonna say messages of time stamp and milliseconds and we're going to use pandas apply and what apply will do is apply this convert time function that I have to every single message or at every single time stamp for every single message so I'm gonna run that and I'll show my data frame again and if I scroll over to the right on my data frame when I'll see that we have this new column called date which has that converted timestamp so our most recent message is going to be from October 6 2008 teen and if we scroll down all the way to the bottom and I didn't show this before but I believe we have 60 how many 6600 almost 6700 messages between Jane and Luis so they're pretty good friends you might find that for some of your friendships you have fewer messages if it's maybe your best friend you might find that you have 100,000 messages that might depend you know how the side of the file will change depending on that so you think might run slower I filled a lot of messages just things to look out for but you'll see here our earliest message is from August 29th 2017 so they've been friends for a little over a year at this point a year and three or four months great so we were able to pull out this date and I just want to make sure I don't have any questions yet I see some of my colleagues are being really helpful thank you guys for answering some questions too and great ok so we have this day time but we also want to pull out a specific month and year of that day time because when I'm doing the sentiment analysis I want to see on a monthbymonth basis how sentiment is changing we can look at individual messages and you know compare the sentiments but we're gonna have 60 you know 860 700 message at that point if we shrink our space down to the let's say 13 or started 15 months that Jane and Luis have been talking we can do like an aggregate analysis and see how that sentiment is changing over time so now I want to do go ahead and pull out that month in here and thankfully this is really easy with pendous daytime objects so I'm going to create two more helper functions right now one called yeah month and to take in a pandas date/time and we're just gonna return the date with a period and then the month that's it so if you have that pandas date/time object you just add a period after and then month I mean you'll get the month I'm going to add another function called get here which will also take a day time object and we can return date dot here and just like I did before I'm going to create two new columns in my data frame one will be called month and the other will be call here and I'm going to operate this time on the date column of messages so if I just put date in the brackets and messages were able to access that date column and we're going to use the apply method once again and we'll apply our get month function that we just defined and I'm gonna do the same thing for a year so I'll say messages of year creating this new messages call them and we're gonna operate it on a date column and we will apply our get year and you know if you're following along and you're familiar with Python then using pandas that's great if you're newer to Python or you haven't used it before you know don't don't worry this video is being accordion you it'll be saved you'll be able to access it later on and if there's any sort of syntax that you're not getting you'll be able to review and hopefully learn learn some of the syntax um during that review time so yeah don't get stressed just feel free to follow along for now and see what insights are able to find great let's go ahead and just inspect our messages data frame one more time and we'll be able to see those two new columns that we added right here on the right that have month and year so we've gone ahead and done a little bit of cleaning on the data that we downloaded from Facebook now I want to go ahead and get started on doing that actual sentiment analysis how do we see the content that we have and see the score or the sentiment of it I meant to do our sentiment analysis we're going to be using a package called penalty K which is the natural language toolkit this was a really useful Python package for natural language processing so if you're interested in text data what it says we can find with it I highly recommend looking into a penalty kick and with LT k we're going to use a specific tool called Vader and Vader is a sentiment analysis tool which is going to do the sentiment analysis for us so I'm going to say from NLT k dot sentiment dog Vader so this is specific part of adult DK we're going to import sentiment intensity analyzer and so we'll go ahead and import that if on your computer you don't have n LT k installed or let's say you run this cell and you see you know an error popup you can just go back to your terminal and I would open up a new window that's not Jupiter and if you have anaconda installed you can just do Conda install and LG k if you don't have content you're using pip you can do pip install l TK and that you download that package for you one last thing that we want to do with ml TK is we need to download the lexicon for mater and this is essentially a giant dictionary of words that are scored with positive or negative scores and this is what Vader will use in order to look at our text data and assign these scores to our messages so I'm going to say NLT Kay got download and in a string I'm going to say Vader underscore lexicon and when you run the cell it might take some time for me I've already downloaded it to my computer so it runs really quickly but for you and might take some time to download once that's downloaded let's go ahead and create a sentiment analyzer object so I'm going to say sentiment analyzer is equal to and I'm going to say sentiment intense with rocket at the end don't forget the parentheses that those creates that sentiment analysis object for us I let's go ahead and test this out on some data so I'm just gonna ask if someone can type in maybe a sentence that you want me to run a quick sentiment analysis on I'll just enter it into the chat and I will try out our sentiment and sudsy analyzer on your sentence and no one puts anything in I'll use one of your comments maybe I might we can give it a shot so in order to do this I'm gonna say sentiment analyzer dot polarity scores and polarity scores is this method that will score a sentence for us and I see someone saying that's sweet so I'm gonna say that meat and so I put that sentence into my analyzer and we can see we get to this dictionary of scores back and so the first is a negative score a neutral score and then a positive score and a compound score and so I think when whoever you are when you said that sweet you meant I had a great way you seems pretty positive and dander seems to agree it's giving a positive score point seven five and a compound or overall a score of 0.5 which is pretty positive and so those three scores negative neutral positive those will range from zero to one and the compounds will range from negative one meaning most negative to one meaning most positive so what I'm going to do is I'm going to try this one more time on a a few more sentences really quickly so we run with polarity scores on the machines will take over we can see what bigger studs okay Vader is saying the machines will take over is a neutral statement I don't know if I would agree with that but you know I'm a little worried about machines taking over it's not not the best thing to me that again Vader is you know part of the computer I guess so maybe it's you know not not the best to ask for this this kind of sentence so it's not perfect at everything you know there's clear positive or negative words in your sentence Vader will work pretty well other times it you know it doesn't and I saw that someone's asking about not to language processing in foreign languages so yeah I believe Vader it only works in English at this time however there are some natural language processing tools out there that are being trained on different languages so people are doing it I think there's a lot of unexplored territory there I think that hopefully will be a lot more research done there right this time looks like Vader is just just an English great okay so now that we have this let's create a helper function that will score each of our messages for us so I'm gonna say define a function called get polarity that's going to take in a piece of text and it's going to return our sentiment analyzer and we're going to use its polarity squares function and we're going to pass it our text data and what we're going to do is we're just going to excuse me access our compound score so I'm just going to access the compound key cheri compound great so now I'm going to go ahead and create a new column and messages called sentiment and I'm going to set it equal to applying this get polarity function to our message content column so I'm the same messages and I'm going to go back just to make sure what the name of that column is my school I can see what content so content is name of our column that has that actual text data so I'm gonna say messages of content and we're going to apply our get polarity function and I will run this this might take a little bit of time depending on how many messages you have it's just a little bit more intensive analysis than the big conversion reading before and then we look at messages once again and I scroll over to the right we're able to see these different sentiment scores so for these first two sentences banner saying you know zero sentiment meaning basically neutral but this one point eight four one nine a really positive message from from Jane so let's see Jamis saying their state was large and their residence was probably something grand or great so really really hyping about this residence or this estate so very positive so now we have all these sentiment score to see a negative 0.15 here negative 0.5 nine pretty negative let's take a look at this one really quickly Alice was beginning to get very tired of sitting so yes Alice was getting bored she was tired she wanted to do something she was getting antsy so more and more negative so hopefully everyone was able to follow along with the sample data to get to this point where you have sentiment we're getting to the really cool part soon or right really where we get to see some results see some insights from our data so to get these insights first really quickly let's get a idea of who is the more positive and more negative person in this conversation is it Jane or is it Lewis and so in order to do this we're going to use our messages data frame and I'm going to use the group by method and what this will do is it will group all the rows in our data frame that are in the same rows where sender is Jane Austen or all of the rows where the sender is Lewis Carroll and squish them together and then we can go ahead and apply some sort of aggregate function to all of that content so let me let me write it out and I think it'll be a little easier in to explain so I'm gonna say group by sender name and I'm gonna take the mean I'm just gonna run this really quickly and so what I was doing was taking all the messages that Jane sent and finding the mean or the average of each of these different columns here so we can see if we look at the average sentiment we see point one six so all the messages that Jane sent her average overall sentiment was point one six we go down to Lewis we can see the average overall sentiment was point zero five so what this is showing to us is that Jane is almost three times as positive and her messages as Lewis overall so it's some pretty interesting interesting finding there I'm not a you know how to read a lot of James works so I'm not as familiar you know but very surprising to me and we from from my understanding of these two authors so hopefully you're getting some interesting insights on your data if you're following along with your own not hopefully in the future when you're able to do on your data you will automatically get some really interesting insights right from here now that we have this though let's go ahead and see if we can make our visualization over time and see see how that sentiment is changing so once again I'm going to take messages and I'm going to group by and this time instead of just agree by sender name I'm going to group by three different columns I'm gonna group by month I'm going to group by year and I'm going to group by sender name and what this will allow me to do is it will allow me to grab each combined unit a month year and sender so let's say for August 2018 Jane Austen it's going to gather all her messages from that month you know August 2018 and then we could do that averaging of sentiment on all of those messages so once again I'm grouping by those three columns month year and sender name and then I'm going to take the mean and this time I'm gonna save this to a variable and I'm gonna call this year month since I'm grouping by year and month and then one less thing I'm going to do and tag out to the end is one more pandas method reset index and what this will do is it will reformat this information into a data frame once again so we're able to do some further analysis on it so I'm going to go ahead and run this and I'm gonna now display Year month and we can take a look at this and so what we can now see in this data frame is we have for January 2018 we have Jane Austen and we have her average sentiment as point one seven for the same month January 2018 we have Lewis Carroll and then we have her average at point zero five and this continues for every single month of the year grouping in pandas is a really really powerful tool it helps us do a lot of interesting things it can be a little complicated at first when you haven't done it before but once again you'll have access to this recording later on will also provide the code to you and you can look at it a little bit deeper but ultimately we're just saying let's look at each month over the course of their friendship and get that average sentiment for each of the different people in that chat so now that I have this new data frame I want to go ahead and grab all of those average sentiments over time for each Center for each person in this chat because once I grab all that data I can go ahead and then plot that over time so what I'm going to do is I'm going to create a new variable gene and this is going to store all of the sentiment values for Jane and when I've used that year month data frame that I created earlier or just before and what I'm going to do is I'm going to just get all the rows or all the messages that belong to Jane and the way we're gonna do this is with what's called boolean indexing and basically it just lets us select all those roles all those rows in this data frame where Jane is the sender so I'll type out how you this here and then I can explain to you so we're gonna say Year month of sender mean and we want it to be equal to so what this is doing is it's saying go to every single row look at the sender name and the second name is Jane Austen give me give me that whole row give me that information but specifically I'm really just interested in the sentiment I don't care about the timestamp I don't care about the call duration I just want that sentiment so I'm gonna then just access that sentiment by using the the bracket notation and then sign two minute and one last thing I'm just going to tack on to the end just because I want the raw data I don't want it in in some you know pandas objects I just want the raw values I'm just going to say dot values right here let me just zoom out a little bit just so you're able to see this whole line of code altogether I think that'll be really useful for you we'll take a second and resize great and now I will run this line of code and if I look at Jane we now see that Jane is just this array of sentiments and so this first value zero point one seven is James first sentiment from the first month that we have in record point one five three as for sentiment on average for the second month and then point one four here at the end is her sentiment for the last month so I'm going to go ahead and do the same thing now for Lois I'm going to say Lewis is equal to and I'm gonna just grab only the rows from our data frame where the sender name is equal to and once again we're just gonna grab those sentiment scores from there and we're just gonna grab the values and let's see I'm running into an error series object has no attribute value so let's see so I just value instead of values so we'll go ahead and update that and now we have none and I can run this cell below and now we have all the sentiment scores for Luis over time from the beginning of their Facebook friendship to the act now that we have the values we can finally get to our graphic and this will allow us to visualize how these sentiments between the two have changed over time so to do this we're going to import map map on Lib matplotlib is the plotting package from Python so in order to import that we'll say import matplotlib PI plot as P LT peel T is just that shorthand notation we'll be using to access my public and to go ahead and do a plot all we have to do is type in p LT not plot then I can just put in Jane and then below that I can just say PLT dot plot and just put in the bluest and before I run this I want to make sure that this plot is big that we can all see it so I'm gonna say PLT dot figure and this just lets me access the figure size that we're going to be making these plots on and I'll say big size is equal to and I just give it a width by I'd I'm gonna take 20 my time I want it to be longer so go ahead and run this and there we go now we have our graph of sentiment over time really cool but you're asking okay who is who which one is Jane which one is Lewis which one it's me which one is my friend so we can quickly go back to our previous cell then we could just add in a label which is going to be gene for a gene and then for Lewis the label is going to be Lewis and then just below this I'm going to use map ellipse legend tool which one I had a legend to our plot and show us which line belongs to which Center so here we go we have our final product we have this plot over time for sentiment of Jane and Lewis we can see that their friendship starts out at kind of a a mid level of sentiment you know they're just getting to know each other perhaps we then see a few months into the friendship there's a divergence Jane gets really positive in her sentiment Lewis goes down in her sentiment we can guess about why this happens maybe maybe Lewis was going through some rough things in life and Jane was trying to cheer up her friend this is the part of the analysis where things that interesting on your end when you're looking at your Facebook message history you get to add that context to the data and this is one of those things that's important in data science overall is having kind of a domain knowledge or like an understanding of the data that you're working with and you're able to provide that for your Facebook message data so even the Facebook has it they don't know what's going on your light outside besides it's hopping on Facebook but you have all that other knowledge to put that game in context so if you're looking at your sentiment over time and you're seeing things happen you're able to infer oh yeah like this was when I was going to break up or this was a really great time in life I just got this great promotion and having that context really adds another dimension to to your analysis so I urge you to have that mindset when you go into analyzing your sentiment but you should be able to get a graph like this showing how how that sentiment changes over time and I think you'll find a lot of interesting insights I really enjoy doing this with my data and I think you guys will have a lot of fun too so I hope you're able to follow along with us as we went through this process I know some of you might run two issues here and there but once again this video will be up for you to review and as well the code we're really eager to see what you guys are able to do with your data and plugging out your sentiment or finding even other things hidden in the data if you do any of this analysis on your own we'd love to see it so feel free to tweet at us we're at Coke add me on Twitter send us the septum analysis that you do a lesson on the insights that you find I think it will be a lot of fun that you guys will enjoy I know I enjoy going to mind it even at times we did get scary I will warn you there your past can be scary but anyway so thank you guys all for joining I hope you enjoyed get out there take advantage of all the data that you can find learn some new things and once again if you're interested in kind of digging into data science a little bit further we have a lot of options here at code Academy happy to help you learn some more okay well thank you all for joining us joining us today we really appreciate you all and enjoy the rest day