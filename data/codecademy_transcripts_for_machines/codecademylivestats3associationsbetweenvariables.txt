hello everyone if you can see us say hello in the chat on youtube um we are gonna get started in just a minute but uh we we like to wait a little bit because we don't know how quickly we actually go live so say hello let us know that you can see us is that oops oh people are saying hi in the chat hey jamie do you have the youtube video open on your computer uh i don't but i can check i can hear myself which is um i don't have it open on my computer sorry guys technical difficulties where am i hearing this from can you hear it jamie um i cannot i like sort of hear it in the background of your um in the chat can anybody let me know if you can like hear me in double basically oh i think i got it now it stopped whoo all right sorry for the technical difficulties everyone um i i hope everyone is having a nice tuesday it just started snowing here i was telling jamie uh so hopefully we stay online the whole time and no more technical difficulties um this is the third week of the stats live stream series oh everyone is saying everything was fine um i think it was something wrong with my audio my audio and these things are i've had a few issues so i'm glad that everything is fine for everyone else um so this is our third our third week of the stats livestream series um i'm sophie if you haven't attended yet and i'm here this week with my colleague jamie um so jamie do you want to say hello to everyone and introduce yourself quickly hi everyone i'm jamie um i'm also a curriculum developer at code county with sophie um this is the first live stream i'm doing for the stats live streams that sophie set up i'm really excited to be here uh you may have seen me on a couple past live streams with some uh things we did before um yeah and i'll be answering some questions in the chat um and monitoring it as sophie leads us through associations with variables awesome um so yeah with that in mind i think we're streaming on a few different platforms but we are keeping an eye primarily on the youtube chat um so if you're on facebook or twitch or any of the other platforms we're on um come on over to youtube if you'd like to chat along with us and just as a reminder these are always posted after the fact so you can always um watch them afterwards and you can post questions in the comments on the youtube video we're happy to answer more questions uh if you're not able to come to the live sessions so with that said i am going to get us started um if you've been following along um we have been working off of some code that is available on github for download um i know jamie if you uh if you're able could you maybe post the link to that github um in the chat and i think uh it it should be in the youtube link as well um and in the meantime i am going to share my screen share hopefully you guys can all see that um jamie can you see my screen okay see uh yes i see it awesome okay so uh if you downloaded the code from github we are currently in the week three folder so that that will be codecademy live stats number three um and i'm going to start with this starting code file uh but you can also take a look at the ending the final code it might not be exactly identical to what we get to in this live stream but it should give you an idea of the kinds of things that are covered here so with that said i'm just going to get started because we always uh we always run out of time in these live streams somehow we uh we have lots to say so uh with that said um today's focus like jamie said is really about looking at associations between variables and really what that means is we're looking at in a data set again um this is the same data set that we used last week but i'll just show everyone this data set again um so this is a data set from street easy that has some information about apartments in new york city and if we're asking about associations between variables we're asking about the relationships between these different columns so things like rent the number of bedrooms the number of bathrooms the size and square feet and a whole bunch of other um things that we know about each of the apartments in this data so jamie can you like think of a question that might focus on an association between two variables like what question might might be asked that has something to do with whether or not two variables are associated well i actually feel like this is very relevant to me because i will soon hopefully be looking for apartments in new york um and i will care about more most is price of those apartments um so i might think about you know how does the amount of bedrooms or how does the square footage or the minutes of subway associate with the price of said apartment in new york so that might be something i personally might look at but there are a lot of different associations you can look at between these variables yeah i think that's a perfect point so um i think probably what many of us are drawn to about this data set i know it was the thing that drew me to this data set is trying to figure out based off of this information that we have about apartments in new york city can we kind of predict or guess what a fair rent would be for a particular apartment that has certain qualities so that's a particular size that has a particular number of bedrooms and bathrooms that has certain amenities or does not have those amenities and all of the questions that we might ask about how rent is related to other things that could be true about an apartment um those are all questions about associations between variables um one thing that i would like to kind of point out is that um an association is different from a causal relationship and i think uh a lot of us have kind of heard this before like a lot of people have heard the saying correlation is not causation um and i think i have also seen i i don't know if you've seen this jamie like the spurious correlations blog or we can if you're interested you should definitely take a look at spurious correlations um of things that are clear that seem to be clearly related to each other but there's no way that one thing could cause the other um and so like for example um if we find that there's a relationship between the square footage of an apartment and the rent so like you might guess right bigger apartments can go for more money that doesn't necessarily mean that if we added more square footage to an existing apartment that then people would pay more we might think that that's true but this data is not going to tell us anything about that because in this data we only have each row is an apartment and we don't have any data about what happens to apartments if we change them so we don't have a bunch of data for the same apartment at different time points when it was made bigger like it had an addition another wall was put up to add another bedroom nothing like that so we can't really say anything about what happens with changes but oh thank you for sending this furious correlations length that's great um but with that said it's still really important for example um for janie if he wants to go out and find an apartment in new york city and he's looking at different apartments and he's you know i want two bedrooms but i really want to have a roof deck or some outdoor space and so like maybe i'm willing to go down to one bedroom and so one of my roommates will sleep on the sofa just to have that outdoor space especially in the time of coven so um so if jamie wants to answer kind of the question what is a fair rental price or what departments like this go for um or what can i afford given these things that i want to definitely have then he's really gonna be interested in trying to understand some of these relationships okay enough rambling from me um i did see some questions in the chat about uh people wanting to learn how to code and like set up a python project and i would really encourage you if you're one of those people to uh take a look at the first live stream series in this um in this see or the first live stream in this series because we kind of go through the full step all the steps of setting up your local environment and there's information on the blog on how to download anaconda to make things really easy and i think that will really help and now we'll get into the coding um the other thing is i put this kind of data cleaning step in from before there's this is not something that i would normally do to a data set jamie made a good point about this um i wouldn't normally just like change all ones and zeros to yeses and no's um but it it does make uh it a lot easier to make some of these visualizations and do some of the analyses that we'd like to do so with that said um okay so let's get started uh i think i like to break down thinking about associations between variables into the types of variable into sets based on the types of variables that you're trying to look at an association between so in this data set we have some quantitative variables um so the quantitative variables here are kind of the things that can be numerically represented like rent the number of bedrooms the number of bathrooms the square feet minutes to subway and floor i would also i would say that all of those are quantitative variables um oh and building asian years all of these uh the like all the ones that start with has and then the no fee column as well as as um neighborhood sub market and borough those ones are all categorical so you could represent them with numbers like these are ones and zeros but it's really about a category right like either there's a gym or there's no gym um and so we're going to break this down into the types of variables that you're looking at an association between so we'll start it doesn't matter which one we start with but we'll start with um one quantitative variable and one categorical variable just for fun so um we're gonna stick with rent i guess for the quantitative variable to start because i think that's an interesting one and then we can look at a couple of different categorical variables to that end um okay so last week we started talking about the uh central tendency of a quantitative variable and we talked about mean and median and mode um so i'm going to start with a summary statistic that's a lot like that but now we're going to kind of combine two variables at once so in our data set we've got i've named our data rentals and then the rent variable is run and one thing we can do is we can calculate let's say let's say we're interested in an association between rent and and burrow we then could calculate that at least some sort of central tendency statistic for the rent in each borough and that would give us a sense whether there are differences by borough so is the average rent for example higher in manhattan's manhattan than it is in brooklyn um so one thing i like to do is uh you can calculate this kind of separately you could pull out one column at a time filter and then calculate the mean um and that's how we teach it i think in the codecademy lessons just because it's a little bit simpler to see the full process but in this live stream we're going to go one step further and try something new because it's fun um and we're going to try a group by um basically all that does is it says i want to calculate some statistic or yeah some statistic for particular groups within my data and so i'm going to group by borrow here and actually um and then i'm going to calculate the mean of and eventually i want to calculate the mean of rent but i just want to show you what this does right off the bat so if i just say group by boro and calculate the mean it's going to pull out all the quantitative variables by separate them by burrow and it's going to calculate the mean for each one so this is kind of a nice way to quickly kind of pull out these summary statistics by burrow really really easily and then we can also specify so if we want to then pull out just the rent variable uh we can add that to the end here and then now we've just got mean rental prices for each of the boroughs um another thing we could do is calculate median rental prices for each of the boroughs so i'll do that as well and then we'll take a look at these so jamie what can we take away do you think from or what can we learn from these summaries or do you have any thoughts about them so one thing i'm noticing well first of all manhattan is expensive um another thing i'm noticing is that if we look at the mean rent prices versus the median rent prices there is something i know i'm noticing across each borough and that is that the mean i think in every bro yeah every row the mean in every borough is greater than the median um and i believe that would show us that the like the rent prices is skewed right yeah yeah exactly we actually looked i think last week at a histogram of the rental prices and we'll do that again in a minute but it that's exactly true so um i think there's a couple different visualizations we can use to take a look at this um in more context so jamie made a really good point that taking a look at these can give us some hints uh but sometimes it's really hard to look at numbers visually compare like i know as jamie was saying that that's true in all of them right he was kind of going through like checking them one by one um and that is a lot faster to do when you have a visualization so um let's make a visualization there's a couple that i think are good for this kind of an association um i'm going to start with a box plot because that's maybe the the simplest of all um and then i'm going to plot uh so i'm gonna plot rent by burrow um and let me just make sure okay so on my xaxis i want to have the burrow that an apartment is in on my yaxis i want to have the rent of that apartment and my data is called rentals i think that is all i need let's see there we go that looks interesting okay so this tells us a little bit um we see just like jamie said right that these are pretty skewed so these outliers i sent these so these diamond shapes are outliers um in the box plot and we can see that in manhattan and brooklyn especially we've got part apartments that are renting for up to 20 000 a month which is crazy um and so uh when we calculate the mean all of those really large numbers are getting added into the numerator that we use to calculate the mean when we calculate the median it doesn't matter whether this is 20 000 or 10 000 or 7500 it counts just as much because it's as long as it's on the high end um it's not gonna be the median um or it's gonna contribute to i like to think of it as like crossing off the large and small values it's going to get crossed off no matter what and so a lot of times you see exactly this that the median is smaller than the mean if there are a lot of large outliers um so we so we do get a sense of this this picture is basically telling me that the median and and the boxes again they ca they cover the middle 50 percent of the data so um the middle 50 of manhattan apartments seem to be roughly between like 3 000 a month and 6 000 ish um and then we're looking at queens queens is much more squashed this middle 50 is kind of squished around 2500 it looks like and then brooklyn is also much more squished than manhattan it looks like and a little higher than queens but not considerably higher but with a long tale of um of outliers over here so we've learned some things from this i think that this personally this this graph is a little hard to look at for me because these outliers are kind of squishing the boxes where i can't really see the boxes themselves super well so this is not so much a focus of today but i think it's useful to see how like you might alter some of these the visualizations to get a better sense of things um and so what i'm gonna do right now is i'm actually gonna just filter my rentals data for um rentals that have a rent that's let's say less than what do you think jamie um i guess we can do like less than like 12 000 or 10 000 or so yeah i was thinking 12 yeah then it basically cuts off most of the outliers for uh manhattan let's try that i'm just curious whoop i think you did 1200 oh i did oh my god that's what i would like to pay um yes 12 000. that's a lot easier for me to see and generally when i'm looking at this i'm looking to see how much these boxes overlap um and the fact that these boxes don't overlap very much at all is kind of an indication to me that these are pretty highly associated variables there seems to be a clear indication that or it's clear to me that if i know what boro an apartment is in it gives me some information about what the rent is more or less likely to be so that's useful um i think maybe it's fun to try a couple more of these uh with different different categorical variables what do you think jamie is there any that you're interested in like what would you like in your apartment like in my apartment oh so many things all these things where it's like has i just like want them to have them but you know um i know i feel like for me the washer dryer is i mean it's hard to find in new york city but does that mean like it has like a washer dryer built in to like it's like in your apartment like like it's in the apartment building you know i mean like i don't know i don't know actually that's a good question at least one or the other is pretty important to me yeah as i don't like going to a laundromat but you know let's try it sometimes you have to okay let's see someone is asking us also uh so if someone asked me in the chat what's the thing you googled last time i don't know if it was from like a previous live stream i think uh we definitely did some googling of um of functions we looked at some function documentation i think we looked at the function documentation for um for a trimmed mean like the the trim mean function um yeah we can definitely demo some documentation like function documentation again so i think it's really useful to take a look at um as you're trying to navigate python um or any coding language for that matter but especially if you're interested in data analysis you're using python and you know that requires loading a lot of different libraries um then it can be really useful to know how to like look at the different libraries look up the functions that exist and um and read that documentation um interesting so these are closer than i would have guessed jamie but they are um it definitely seems like if it has a washer dryer the rent is gonna be higher unfortunately i'm sorry sad um but not by too much you can definitely there's some overlap here these are all expensive apartments but it doesn't look like the median is that different that's the thing that's surprising me like this the scale is so hard though yes like the scale goes all the way up to twenty thousand so like this much difference could be like five hundred thousand i don't know here we can do um we can trim it you can do like median and do with has washer dryer and see what it actually is okay it's makeup 600 yeah 600 difference um that's too bad we have another interesting question um is it possible to take a look at the rent for apartments with all those features washer dryer uh gym etc yeah so i think there's two there's actually like two good questions on that um one is so you could create like a new dummy variable um so you could say okay i want to create a new variable that is equal to one or yes if all of these things are equal to one or yes um and then zero otherwise um there's a a few different ways to do that maybe this is a good uh i'm trying to think of like this is a good use of our time to look up some function documentation um or if it's gonna take us a while but but essentially right like you could create a new variable based off of some combination of existing variables to say like if all of these things are ones this new variable is going to be a one if any of these variables are not a one then this is going to be a zero and then you could split based on something based on a new variable that says like whether all of those things are true or at least one of them is false you could certainly do that if you're interested in kind of the relationships between all of these different variables at once so like for example just among apartments that have a elevator is there a difference between apartments that do and don't have a washer dryer or just among apartments that have an elevator and a dishwasher and a doorman because those are like maybe those are nonnegotiables for you if you want to like subset your your search even further um those would be hard a hard set of nonnegotiables to have i'm just saying but if if they were then you could subset your data to just include um apartments that met that criteria and then you could look at this um at this breakdown again and kind of see uh whether the relationships still exist after you've kind of controlled for these other things and that's actually what um linear regression will do for you as well cool and then i don't know if it's impossible this data set but someone's asking is the price less for a high floor with no elevator sure let's see um what do we i mean we could definitely look at that so we could say like rentals high floor or actually we'll just do like this um i also see somebody asking about a case when situation or if then logic yeah that sounds that sounds right to me um i again like i come from an r world where i would do like i would do like a mutate function and d ply or if anyone's coming from r um where i would say like i want to create a new variable based on these other variables and then um and then do that but you could definitely use like a loop or i'm sure there's a pandas function you could yep you could technically use the all function with maybe some preprocessing yeah yep i would agree yeah i bet if we have some extra time at the end i think it would be a cool thing for us to like try to do that live but i want to make sure we get through some more stuff so i'm gonna leave that towards the end but i think like these are really great questions and i think that um i think that this is the kind of thing that like is great practice if you have some extra time on your own if you want to try to like figure them out yourself just takes a little bit of googling and and i feel like that's how i learn best is i just um try to answer questions for myself that i'm interested in and then as you google more you pick up more and more syntax um okay so we were going to do like rentals dot floor greater than it's a high floor like 30. yeah i don't know still seems to be a difference oh and actually they were asking about elevator i could try that too there's lots of lots of things that you could look at oh those look uh similar i guess um i guess if you're on a high floor then you probably live in an apartment that has an elevator like it surprises me that there's so much of a box here like how many apartments are there where the floor is greater than 30 and there's no elevator that seems uh well that seems like another potential data issue that i'm not quite sure how to oh hi alex this is exciting um okay so anyway i think this is a good place to stop with with all these visualizations but um i did want to show one more so we've been looking at sidebyside box plots another great visualization for a quantitative and a categorical variable is an overlaid histogram for the sake of time i'm going to just grab some code from my answer key but i do want to talk about one thing so um the p the histogram function from matplotlib um pi plot is just a function that creates a histogram and all i'm doing here is i'm splitting up uh by burrow so first i'm plotting a histogram of all the apartments in manhattan then in brooklyn then in queens and then i'm labeling them um giving them a number of bins and then the alpha thing is just making them see through so we can see all of them together um one thing i want to demo though before we do this is this density equals true piece here the other thing i'll say is this looks really ugly um there's a new in the newest version of seaborne there's a like um seaborne.histplot function that's gonna or that exists in the newest version um for some reason my computer like freaked out when i tried to update it this morning so um i did not get it updated in time but uh that will make this much easier it'll make it as simple as this where you say like what you want to divide by um but you'll see that if i print this without the density equals true um this like queen's histogram is super super tiny and this manhattan histogram is super super large um jamie do you have any like thoughts i'm putting you on the spot here would you have any thoughts about why that's happening um okay so let's see we're showing rental prices and then it's number oh is it just because there's many more apartments in manhattan than there are in queens and brooklyn yeah that's exactly right so by default the histogram is plotting um like a frequency so we talked a little bit about this last time where like each of these bars represents the number of apartments that have a rent in that range so like this first bar or i don't know it's hard to read this uh scale but like this first bar let's say it's between um 2000 and 250 and there's like just under 100 apartments that are in that range according to this um because in our data set there's just so many more apartments in manhattan um this histogram is just going to be bigger no matter what and there's so many fewer apartments in queens this histogram is going to be smaller no matter what so a way to fix that is to say i want the density um or if you've seen like a kde plot basically this what this does is it normalizes this so that the area of each of these things has to be the same um so that technically the area of all of these histograms the green one the orange one and the blue one now has to be equal to one um and that just means that now all of these histograms are on the same scale now we can kind of look at them and we see um this distribution of histogram or of apartments and queens the apartment prices are like squished down at the lower end and then you see in brooklyn it's like a little more elongated with a longer tail kind of there's more of these midrange apartments and then the manhattan ones um like this peak of the blue is happening the furthest to the right with the longest kind of tail out to the right as well cool all right so we finished one set of variables great um okay i think now is a good time to move on to a different set so what do you want to do next jamie do you want to do two quantitative variables or do you think we should do two categorical variables so we've been doing categorical variables with quantitative variables so well with the quantitative variable hmm i think i don't know maybe we could do two uh quantity variables this time okay that i'm on board i feel like this is maybe the other one that's the most intuitive at least so like square footage with um rental price yeah or something totally yeah so let's figure out like what yeah let's figure out what um what square footage you can afford jamie that the tail on manhattan is interesting lots of super expensive apartments in manhattan uh yes i noticed that too alex yeah lots of expensive ones so many uh let's see what do we want on the xaxis i think it's the highest square feet and then rentals wrench and there we go okay so um i guess last time we started with a summary statistic this time i'm starting with the visualization in real life i will say i almost always start with visualizations before ever calculating summary statistics because it's just so much easier to tell to just like feel like you understand what's going on if you can just look at a picture um and so this looks you know pretty much like i would expect so we see i don't know you could kind of draw a line through this where the apartments that are and i guess we should add some labels i forget that i think it's like plt dot x label x i remember if it's underscore or not let's just try it x label x oh maybe it's without the underscore we're gonna try oh yeah and then we'll try my label so we can see what's going on and yeah so we see like the the super small apartments um are the least expensive ones and in general apartments that tend to be bigger tend to cost more although there are some kind of outliers here like there's this one where this looks like it's a pretty big apartment but it's um a little less expensive this one looks like it's a more is that the apartment you'd like to rent jamie that's the apartment i have lots of questions about that it's oh yeah i guess so expensive yeah it's very very expensive but pretty small um must be a very nice small apartment i don't know probably has a gym and a doorman and an elevator and a patio and whatever other kind of everything yeah washer dryer yeah exactly um so so this is a really helpful picture i think in terms of summary statistics that can be used to kind of describe this all at once the most common one is the pearson correlation or the correlation there are different kinds of correlations that you can calculate um but i think so depending on what your data looks like you might choose different ones but i think the most common that i've seen is the pearson correlation which essentially it's it gives you a number between negative one and one that tells you how strong of a linear relationship there is between two variables and by linear i mean whether you could draw a line through those two variables or not so um so two variables could be related in some other way like they could you could imagine a plot where maybe like as the square feet increases the rent goes up and then as it increases even more it goes down that obviously isn't the case here but like if you saw the dots doing some sort of ushape that would be a nonlinear relationship i would still say that there's a clear association between those two variables there's a clear pattern there but something like a correlation wouldn't pick up that pattern or as a statistic the correlation wouldn't pick up that pattern but it's still a really useful statistic for understanding at least the linear relationships between two variables so anyone any set of variables where as one increases or i don't like to use that word i should stop the where larger values of one variable are associated with larger variables or smaller variables of the other in kind of this like where you could imagine drawing a line through it so i think it's useful to calculate the correlation there's a few different ways you can do it um there's a there's a function from scipy stats um import pearson r and you can calculate um like the the pearson correlation of these two and it should be yeah it's pretty high so one would be a perfect correlation negative or a perfect positive correlation negative one would be a perfect negative correlation so you could draw a line with like a a negative slope going down instead of this which is going up um and uh 0.8 would be considered like a very strong positive correlation this number is a pvalue and we're going to get to that later so you don't have to worry about it the other way to calculate a correlation and i think this is kind of fun to explore for a minute is that you can do the dot core function on the entire or method on the entire data frame and what that will do is it'll calculate what's called a correlation matrix between in this case it knows um that this is kind of part of the reason why i made all of the categorical variables yes or no because um now it knows that those are categorical variables not numerical variables and so it's got all of the all of my numerical variables in this kind of matrix where it says okay the correlation between rent and bedrooms is 0.53 the correlation between rent and bathrooms is 0.73 and so i can see all of my different pairs of variables um and another like useful thing to do because again i think numbers are really hard to see and spot like relationships really fast so i'm gonna pull this over and i'll just describe what this code does um so this is a way that we can kind of visualize this matrix of values um this diverging palette thing basically each of these numbers corresponds to a color and all i'm doing is i'm creating like a color palette that starts at one color and gradually turns into another color and then what this is gonna do is it's gonna create a heat map um with those colors it's gonna center it at zero so exactly in between in the two colors is gonna be a correlation of 0 which means there's no relationship or no linear relationship at least between those two variables um and i'm just making the this is just making the font size a little bit bigger and what this is going to do is translate these numbers into colored squares that match the correlations so now we've got like dark purple is a correlation of one obviously each uh each variable these super dark purple squares down the diagonal jamie do you want to explain why like the correlations are one all along this diagonal oh yeah so if you like look along the diagonal it's basically saying like the top left one is basically saying rent correlates perfectly with rent which makes sense because they're like the same like variable um so like whenever you make one of these like heat matrix matrices like you'll just see the diagonal is just like all perfectly correlated variables because it's just showing the correlation of one variable with itself exactly yeah if we i think it's like it's helpful sometimes to look at the picture like if we were to um just like plot rent against itself yeah rent first rent which is obviously not something we would want to do in real life but why not we have this perfect line and that's what a correlation of one means like a perfect line um is a correlation of one and a correlation of negative one would look like this um yeah okay uh that's on the side so now looking at this i don't know what are it doesn't look like we have very many things that are highly negatively correlated because we've got like the largest negative correlation that seems to be on here is like negative point three maybe um but we could take a look yeah we'll take a look yeah it looks like so let's take a look at that one um floor and building age years and floor what did i do today oh building age years okay okay so i guess we kind of see what this looks like like it's kind of a mess of points and you'd almost draw like a straight line through it but it does seem like on the lower floors there's a bigger range um i'm sorry are these floors no i'm uh yaxis is floors x label yeah age yeah i feel like this makes sense because it's basically saying the older buildings are less likely to have more floors right oops i meant to say water label there so yeah seeing the older the building like the older buildings have on in general like less than 20 floors except for this one building over here if it's if the building is 175 years old there's no way that it has more than a few floors but if the building is brand new it seems like there's a much bigger range there's up to like 80 something floors um so that makes sense yeah so you would you could imagine that if you're going to draw a line through these points you probably wouldn't but if you were going to it would probably be like a slightly negatively sloped line like you cut kind of go like this um so that gives you a sense of what these what these colors kind of represent cool um are there any other ones you want to take a look at should we take a look at one that has like a correlation of zero maybe yeah so that would be like minutes to subway and square feet or like floor and minutes to subway yeah let's try square feet and minutes to subway maybe and then we'll move on size feet and what was it min 2 subway i don't know you could do this forever there's also um something called like pear plot i think in the uh seabourn library that's right oh yeah so now we see almost it looks like maybe there's a slight negative correlation but not really um so yeah the less of a pattern you can discern in this graph the less i would say that there's an association between those variables yeah i think we can just try this i don't think it's going to work but there's something called pear plot in the seabourn library that just like oh is it gonna do it it might just be going slow oh yeah here it is wow so this like simultaneously did all of them uh so you can kind of see like quickly visualize all of these this one seems to be the clearest and then something like floor and rent maybe a slight negative correlation yeah some of these it looks like there's really nothing going on here so yeah super interesting um okay i guess we've got 10 minutes to do the last uh the last one which is talking about um two categorical variables at once i think we actually can get through this this is very exciting might be the first time ever um okay so let's pick uh now that we can't really think about rent anymore and we want to pick two categorical variables look at the same time um i think in the final let's see in the final code i did has elevator and has gym to start so maybe we'll start there but we can um do any other ones that other people are interested in um so the first thing that i like to do in order to look at an association between two categorical variables is i like to look at a um either like it's called either a twoway table or a crosstabulation or a contingency table all words for the exact same thing all that basically means is basically a grid showing the all possible combinations of categories for a categorical variable and in that grid you can either have frequencies or proportions so i'm going to pull the crosstab function from pandas and i'm going to look at uh rentals has elevator and rentals.hats gym um and print that out and we can take a look at it so all this did was on this column i have yes and no to has an elevator and then um and then sorry the rows are no elevator yes elevator the columns are no gem yes jim and we can kind of look at this and think about what we would expect if there was no association between these variables what i'm noticing right off the bat is that if we look among let's say the apartments that haven't uh have no elevator so just in this top row um we'll notice that if the elevator or if the apartment does not have an elevator it's like pretty likely to not have a gym as well like if you look at this out of the you know close to 4 000 apartments or 3 800 apartments exactly in this row 3748 of them like a huge proportion of them don't have a gym um whereas here if you look at apartments that do have an elevator it's a lot more evenly split like half just under half don't have a gym just under half do have a gym and so then that would suggest that there is some relationship here um again this is all well and good we can look at this picture but maybe we want either a visualization or a summary statistic to help us understand this a little bit better um let's do let's do a visualization first so um i think the easiest visualization for this is kind of a um a slightly altered version of a a bar plot so i'm going to i'll pull over or we'll use seaborne count block amy has some thoughts about all the different bar plot functions uh jamie just wrote if you're interested jamie just wrote a new lesson on using bar plots and pie charts and we spent some time thinking about which uh which functions to use here or on codecademy and uh we both just decided that seabourn is just so much nicer uh or just makes things so much easier so i'm gonna make a a bar plot with has elevator as the x um so i want i want to split based on whether or not an apartment has that has an elevator on the xaxis which is that horizontal axis and then on the yaxis i want to know um the actually it's automatically going to do count on the yaxis so i don't actually have to say anything because it's count plot but it's really a bar plot and then i'm going to say hue equals has jim so what that's going to do is it's going to divide each bar into a different a separate bar depending on whether or not the apartment has a gym and it's gonna hue is just another word for color right so it's gonna like color it color the bar based on whether or not it has a gym and then my data is rentals and then plt and i think this this kind of illuminates what we saw in here a little bit more clearly where we now see among the apartments that do have an elevator these bars are pretty close to equal right but over here if the apartment doesn't have an elevator we see this like huge discrepancy like if it doesn't have an elevator it almost certainly uh oh this is interesting so it only almost certainly does have a gym if it doesn't have an elevator so if it that surprises me so if it has an oh if it doesn't have an elevator no i think it's still saying that it's oh it almost certainly does not have a gym sorry oh my god my brain on a tuesday afternoon you guys it has been a long day yes if it doesn't have an elevator then it almost certainly does not have a gym so you can kind of visualize these numbers a little bit more clearly um in the next module or the next couple of live streams i think it's a few live streams away we're going to talk about hypothesis testing um and we'll talk about some ways of like testing a theory about whether or not two variables are related um at a population level but there's a function from there that i think is also useful in this context so i'm gonna pull that out as well um so it's from scipy stats again um this kai to contingency function and if we create so here we have this cross tab i'm gonna say i'm gonna save it as something and then i'm gonna run chi to contingency on the cross tabulation one of the things that does so you'll see there's a bunch of outputs and you can kind of ignore the first three outputs for right now but i think the last output is interesting and this is the last thing i'll go over today um but this matrix is kind of of it's basically like a version of this matrix except that in this one it's the expected values that would exist here if there was no relationship between these two variables so it seems a little confusing like you might think um you might think that like if there's no relationship between whether or not an apartment has a gym and whether or not an apartment has an elevator that there would be like a quarter of the observations in each of these boxes like at least that was my first intuition whenever when i first learned about contingency tables and that actually is not true because you can see if you just ignore the that i'm putting my hand over it but i'm not realizing no one can see that um if you just ignore the whole has elevator thing you just look at whether or not an apartment has a gym you'll see right that like there are a lot more apartments that don't have a gym than that do have a gym and that's perfectly reasonable so like by random chance we would expect more like more observations in this first column than we would expect in that second column and we could give that like the probability i guess of a of whether or not an apartment has a gym as as a value right and we could also say we could also give it a pro give a probability for whether or not an apartment has an elevator and then we could use those two probabilities to get values of these numbers if there was no association and it's not going to be just like 25 25 25 25 this function does it for you in um our content we actually go through the process of calculating it for yourself so you can think about it um a little bit more deeply but i think it's useful to take a look at this and be able to compare it to the observation and of course like the further away these numbers are from the observed numbers the stronger the association there and here we see like in this top right corner if there was no association we'd expect 546 apartments in the has no elevator and has gym combination but instead we see only 52 that's pretty far off so it's suggesting a pretty strong association awesome okay we are like right at five i feel super good about that that is very exciting um i'm really glad that all of you joined us today and i hope that more of you will watch this later on um we'll be back next week starting our discussion of the central limit theorem and i am like beyond excited for it this is this is gonna be my favorite live stream maybe of the whole series after well maybe my favorite will be going over the simulation of the binomial test but like this is my second favorite um and i feel like this is where we we're going to get more into programming and more into like conceptual ideas um and it's going gonna be really really fun so it's one of those things can be tricky and it's gonna be like thought provoking but i really would love to have lots of people there to like ask questions and slow me down and um and and also get excited about it like we are uh that is it for today um definitely join us next week post comments uh feedback anything you want to ask as well in the youtube video content comments or even on the codecademy forums we'd love to hear from you see you guys next time