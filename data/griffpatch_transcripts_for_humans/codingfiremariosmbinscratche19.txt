With timestamps:

00:02 - hello fellow scratchers it's fire flower
00:05 - time yes i'm griff patch and welcome to
00:08 - another episode of our tile scrolling
00:10 - series i know a lot of you have been
00:12 - very excited for this one as we
00:13 - introduce yet another awesome mario
00:15 - power-up adding fireball projectiles
00:18 - adds yet another dimension to the game i
00:20 - know you guys will be creating amazing
00:22 - things with this though we'll start with
00:24 - adding the fire mario costume set and
00:26 - then the collectible power adding it to
00:28 - the level designer then we'll script the
00:30 - new projectile itself before finally
00:32 - battling with the collision detection
00:34 - code to make sure it all works perfectly
00:37 - wow there's quite a lot to cover don't
00:39 - forget that i shared the completed
00:41 - episode 16 project it's linked under the
00:43 - video if you need a hand catching up but
00:45 - otherwise hold on tight and let's get
00:48 - scratching
00:50 - so we'll start by picking up those shiny
00:52 - new costumes and sounds head over to the
00:55 - updated tile scrolling asset project and
00:57 - there's a link under the video or find
00:59 - it on my grip patch tutor account as
01:01 - normal jumping into the mario sprite
01:04 - costume 20 onwards contains the fun new
01:07 - fire mario costumes since there's quite
01:10 - a number of these i'd advise you simply
01:12 - drag the entire mario sprite into your
01:14 - backpack like me
01:16 - next up check out the enemy sprite
01:19 - there's just a single new costume in
01:21 - here costume 34 it's the fire flower
01:24 - powerup itself so we might as well just
01:26 - backpack this single costume
01:28 - and lastly the sound sprite we have four
01:32 - new sounds it took me a while to find
01:34 - these but they are going to make a lot
01:36 - of difference if you're making a mario
01:37 - game i'll play them back to you in a
01:39 - second but for now you can either
01:41 - backpack the four sounds individually or
01:43 - drop the entire sprite like me into your
01:45 - backpack
01:47 - might be a little slow as there's a
01:49 - large soundtrack in here to be copied
01:53 - great so
01:54 - open up your tile scrolling episode 18
01:57 - projects and as we begin do make sure to
02:00 - save your projects as a copy we don't
02:02 - want to lose our hard work if things
02:04 - went wrong
02:06 - and name this episode 19.
02:09 - so fire mario has a new whole set of
02:13 - costumes so we'll begin there
02:15 - just drag out the backpacked mario
02:18 - sprite
02:19 - and one by one drag the new costumes to
02:22 - the original mario sprite starting at
02:25 - costume 20 i'd like to count them off as
02:27 - we go so 20
02:29 - 21 22 23 24 25 scroll of it and 26 27 28
02:36 - 29 and 30.
02:39 - then we are good to delete the mario 2
02:41 - sprite since we are all up to date
02:44 - while we're copying resources let's also
02:46 - bring in the fire flower costume i can't
02:49 - wait to collect this we want to copy
02:51 - this into the enemy sprite carefully
02:54 - done these things are explosive and hey
02:57 - why not also drop one to the tile sprite
03:00 - that is required to let us place them
03:02 - into the level editor
03:04 - lastly we should bring in the new sounds
03:08 - we want to copy just the last four
03:11 - across into the existing sound sprite to
03:13 - bring that up to date too
03:18 - and remove the sound to sprite
03:21 - oh i promised i'd let you hear these so
03:23 - listen to these babies
03:25 - let's go
03:28 - oh
03:29 - mamma
03:30 - mia just what i needed
03:34 - oh no
03:36 - these will really help to complete the
03:38 - mario feel right many scratches noted
03:40 - their absence and well they were dead
03:42 - right so thanks for the
03:44 - nudge so the game begins with mini mario
03:48 - recapping on episode 18 you'll remember
03:50 - that we set up mario's costume names in
03:52 - such a way that each costume name begins
03:55 - with the costume set name and then is
03:57 - followed by an action like walk or
03:59 - crouch etcetera we already had the
04:01 - costume sets for mario and mini mario
04:04 - and now you'll find we have the costumes
04:07 - for fire mario using the same naming
04:10 - convention of fire
04:12 - this is excellent news as to switch into
04:15 - fire mario mode all we need to do is add
04:17 - a when f key pressed block
04:20 - at some point we can just delete this
04:22 - but it's just super useful for testing
04:24 - and then set the mario variable to the
04:27 - word fire with a capital f
04:30 - and hurrah i hope you enjoyed this video
04:33 - if you did then smash the like button
04:34 - and don't forget to subscribe
04:36 - okay okay i'm teasing we have so much
04:39 - more to cover but man i wish everything
04:41 - was as easy as changing costume sets
04:44 - it's a good lesson that making good use
04:46 - of variables can save you a lot of
04:48 - scripting like this mario variable to
04:50 - change costumes
04:51 - okay next up we will be adding the new
04:54 - collectible fire flower powerup
04:56 - it will work just like the mushroom
04:58 - power-up of course so let's begin by
05:00 - adding it to the level editor click into
05:03 - the tile sprite
05:04 - the new fire flower costume is costume
05:07 - number 70 so let's remember that and
05:10 - click into the editor sprite
05:12 - we need to assign a level editor key to
05:14 - this new costume so make the tile keymap
05:18 - list visible
05:19 - scroll down to the bottom and make sure
05:21 - we have a new row for that's right item
05:25 - 70 the fire flower we always map enemy
05:28 - sprites to the number nine key so do the
05:31 - same here just remember to click out of
05:34 - the row once you've typed that in
05:36 - but before the power up will appear we
05:38 - need to ensure the enemy sprite knows
05:40 - about it too so in the enemy sprite find
05:43 - the define spawn type custom block
05:48 - here is where we spawn the life powerup
05:50 - that is the mushroom we can duplicate
05:53 - this i did that using the new scratch
05:56 - add-ons control alt drag trick just
05:58 - loving that guys
06:00 - yeah and we'll check for that fire
06:02 - flower costume number 70.
06:04 - for starters just switch the costume of
06:06 - the spawn sprite by entering the word
06:08 - fire flower
06:09 - that's a capital f on fire and flower
06:12 - without a space as costumes are case
06:14 - sensitive
06:15 - pop that back into the main script and
06:17 - we are good to go
06:22 - so hit the zero key to enter the level
06:24 - editor and then cycle through the
06:26 - enemies with the nine key
06:30 - great here's the fire flower now where
06:33 - to put it
06:34 - just pop it in this mystery block under
06:36 - the goomba
06:38 - right press zero again to save it and
06:40 - i'm dead excited to see this work
06:42 - boing
06:44 - yes we are really crushing this now we
06:47 - have two power-ups to enjoy the only
06:50 - problem is they both act the same at the
06:53 - moment just like mushrooms we need the
06:55 - fire flower to turn us into fire mario
06:59 - we can do something about that right
07:01 - away click into the enemy's sprite and
07:03 - find the define tick life script
07:07 - this is the main processing script for
07:09 - the mushroom collectibles
07:11 - and here is where we check for its
07:13 - collection when touching mario
07:15 - ah right firstly the sound we're playing
07:18 - here is the wrong one click into the
07:20 - sound sprite and find the new just what
07:23 - i needed sound mine is sound number 27.
07:26 - just what i needed drag this into the
07:29 - enemy sprite
07:31 - now back in the enemy sprite we can
07:33 - switch it to play the sound when we
07:35 - collect a power up nice
07:39 - so we have two different power-ups to
07:42 - consider now we'll need an if else block
07:46 - and put in an and operator
07:51 - so when the root costume of the
07:53 - collected sprite is fire flower
08:01 - we want to switch it to fire mario
08:04 - but
08:05 - we also have to check whether mario
08:07 - variable equals mario
08:10 - because mini mario is not allowed to
08:14 - upgrade directly to fire mario
08:17 - then if both of these are true we set
08:19 - mario to fire with a capital f
08:23 - otherwise we want to upgrade to super
08:25 - mario after all so broadcast the collect
08:28 - one up
08:30 - lastly the delete this clone sits under
08:32 - the if else block as we want to delete
08:34 - the power up after it is collected
08:37 - and with that it's testing time smash
08:39 - the green flag and let's get ourselves a
08:42 - fire flower
08:43 - [Music]
08:48 - okay did you see that we changed from
08:51 - mini mario to super mario like i said we
08:54 - must upgrade to super mario first to get
08:57 - to become fire mario
08:59 - super mario
09:01 - and then fire mario yeah
09:03 - i do wish though that there was a bit
09:04 - more of a transition but this will do
09:06 - for now because we've got bigger fish to
09:08 - fry
09:09 - like
09:10 - what's the point of being fire mario if
09:13 - you can't fire fireball projectiles okay
09:16 - so this is the fun bit
09:18 - first off we need to detect a new
09:20 - controller key press we handle these in
09:22 - the control sprite wow it's been a while
09:25 - since we've been in here
09:27 - we have available for each type of
09:29 - control
09:30 - now on the snares and other consoles the
09:33 - fireball button is linked to the b
09:35 - button therefore make a new variable
09:37 - naming it button b for this sprite only
09:41 - now to save us extra work we'll process
09:44 - the key right here with an if else block
09:47 - check for the x key being pressed here
09:51 - the x key is often used to map to the
09:54 - snez's b key don't question it
09:56 - we want to be sure that we can
09:58 - distinguish the initial key press from
10:00 - the key just being held down so when the
10:02 - key is pressed use a change button b
10:05 - variable by one that will make the value
10:07 - increase as we hold the key down
10:10 - and then to counter this in the else we
10:12 - set button b to the empty value yes
10:15 - that's a set not a change
10:17 - that way when we release the key the
10:19 - value will be reset
10:21 - if i run the project you can see that
10:23 - working the button b value stays blank
10:26 - until that is we hold down the x key and
10:28 - then the value shoots up great this will
10:31 - be useful
10:33 - so fireballs click into the mario sprite
10:37 - mario can only fire two at a time
10:40 - find the define reset player script
10:44 - we'll make a new variable named
10:46 - fireballs for all sprites this will keep
10:49 - track of how many we have fired
10:51 - in the reset player script therefore set
10:54 - fireballs to zero
10:57 - now where are the other presses
10:59 - processed
11:00 - find the when i receive move player
11:03 - script
11:04 - handle keys left right
11:07 - jump and crouch there we go
11:10 - we need a new custom block
11:13 - handle keys fire
11:17 - run without screen refresh
11:19 - we'll make use of the block right away
11:21 - but do it at the end after the check
11:24 - around player
11:26 - great i'll just move the new define
11:28 - block into some free space before we get
11:30 - to work
11:32 - let's check for the b button
11:34 - if with an equals block
11:37 - and we compare using a button b of
11:39 - controls block from the sensing category
11:41 - that is
11:47 - comparing it to the value one
11:50 - remember this number counts up as it's
11:52 - held down so it will only be one for the
11:55 - moment it is first pressed
11:57 - we can only fire as fire mario
12:01 - if mario equals fire then
12:05 - and we can only fire if we are not
12:07 - already using our two fireballs if
12:10 - fireballs is less than two
12:12 - then
12:13 - yes we could use lots of and blocks here
12:16 - but i try to avoid using long lines of
12:18 - blocks in scratch i prefer nice neat
12:21 - narrow scripts
12:22 - so we're firing a new fireball we change
12:25 - fireball by one to record the new
12:27 - fireball
12:30 - we need the sound click into the sound
12:32 - sprite and find the tenth sound it's
12:35 - called
12:36 - fireball and drag it into the mario
12:39 - sprite
12:40 - then back in the mario sprite
12:46 - start sound fireball cool
12:49 - lastly i'm going to broadcast to trigger
12:52 - the launching of the fireball
12:54 - a new event then named
12:57 - mario fireball that'll do us
13:01 - okay so not a lot to test here yet but
13:05 - we can try it out pressing the x key
13:07 - should sound the fireball sound effect
13:12 - and we can only do it twice and then
13:14 - we've run out excellent
13:17 - so
13:18 - it's time to actually clone a new
13:20 - fireball sprite the question is how best
13:22 - to do it i'm in two minds and i don't
13:25 - know which idea is best
13:28 - option one is to reuse the enemy sprite
13:31 - now that may not sound like a good plan
13:33 - as mario's fireballs are not enemies and
13:35 - in fact only want to hurt other enemies
13:38 - not mario but if you think about the
13:40 - work we did with koopa shells only a
13:42 - couple of episodes ago then you'll
13:44 - remember how these are already primed
13:47 - for killing other enemies by using the
13:49 - enemy sprite again we could save
13:51 - ourselves a lot of other boilerplate
13:53 - coding that is all the sprite movement
13:55 - collision checks etcetera
13:57 - but option two is the more conventional
14:00 - route and that would be to create a new
14:02 - sprite for these projectiles that would
14:04 - be my preferred route if scratch was
14:07 - able to easily reuse our custom blocks
14:09 - between sprites but sadly this is not
14:12 - the case so a lot of script repetition
14:15 - would be needed i really don't like that
14:17 - so i'm going to plumb for option one
14:20 - we'll reuse the enemy sprite
14:22 - if you click into that now you'll find
14:24 - the flame costume already sitting at
14:26 - costume 15. so that's good start
14:30 - so in a clean space we can make use of
14:32 - the when i receive mario fireball that
14:36 - we just broadcast
14:37 - of course we must be careful not to run
14:40 - this event on all the enemy clones so
14:42 - check if type equals empty value all
14:46 - clones have the type variable set so
14:48 - this must be the original sprite then
14:51 - good we can spawn the fireball by
14:53 - setting type to fiber and then create a
14:56 - clone of myself
15:00 - do be careful to remember to set type
15:02 - back to the empty value afterwards
15:03 - otherwise the main sprite will be
15:05 - mistaken for a clone too and that would
15:07 - be really bad trust me
15:10 - okay we are on we've spawned a new clone
15:13 - but it's far from set up we handle this
15:16 - in the when i start as clone hat block
15:19 - can you find it
15:20 - firstly we want to be sure we are a
15:23 - fireball
15:24 - if type equals fireball
15:26 - then
15:28 - right we have lots of work to set this
15:30 - clone up but it will follow the same
15:32 - structure that we have used in the past
15:34 - try to keep up
15:36 - set root costume to flame capital f
15:39 - that's the name of our fireball costume
15:42 - then we can set costume to the same so
15:45 - we might as well use the root costume to
15:47 - simplify that
15:48 - next set the width and height to 8. the
15:50 - fireball is quite small so you may like
15:53 - to make this even smaller it doesn't
15:55 - affect the size of the sprite on the
15:56 - screen only how close it can get to the
15:58 - walls before it collides
16:00 - next up we position the sprite to appear
16:03 - from mario so setting x to the x value
16:06 - of mario make sure to use the x variable
16:09 - not the x position
16:11 - we do the same for y
16:12 - but hold on we should offset the
16:14 - fireball up a small amount so it appears
16:16 - from our hand so add 14.
16:20 - to allow the fireball to spin
16:22 - set rotation style to all around
16:25 - now what direction do we want the
16:27 - fireball to be thrown in
16:29 - if else
16:31 - and we can check for the direction of
16:33 - mario
16:38 - if greater than zero then we are facing
16:40 - right so set speed x to
16:42 - ten
16:44 - else we're facing left
16:46 - so set speed x to
16:48 - minus ten
16:50 - in mario fireballs always fire downwards
16:53 - we can replicate this by setting speed y
16:56 - to say -6
17:01 - okay nearly there
17:03 - paint sprite will ensure the costume is
17:05 - set and the sprite positioned as soon as
17:08 - it's cloned
17:09 - ah
17:10 - set visible to
17:12 - two now this is interesting remember
17:14 - what this does a visible zero value
17:17 - means that the sprite is hidden one that
17:19 - it is currently showing but two
17:22 - that means it's always visible because
17:24 - it's a deadly enemy sprite one that
17:27 - kills other enemy sprites perfect we
17:29 - want that
17:31 - then lastly set frame to zero anything
17:33 - less is used for inactive enemies that
17:35 - have yet to come on screen
17:38 - right the clone is all set up we can
17:41 - test this i can switch to the fire mario
17:43 - with the f key and click b to fire a
17:45 - projectile
17:47 - there it is and yay it was super
17:50 - effective against the gumball right but
17:52 - well it's not really moving very fast is
17:55 - it i'm going to try one on the piranha
17:57 - plot
17:58 - oh yeah you are out of there
18:00 - so they feel more like landmines than
18:02 - fireballs and also it's a little
18:04 - off-putting that there's no sound when
18:06 - the enemy flips did you notice that we
18:09 - can quickly address that find the define
18:12 - flip custom block this is where an enemy
18:14 - is flipped by something
18:16 - the sound we want should be in the sound
18:18 - sprite it's called kick shell and is
18:21 - sound number 16.
18:25 - drag that into the enemy's sprite
18:28 - and we'll follow it back to the scripts
18:36 - start sound kick shell right at the top
18:38 - of that define block
18:41 - a quick test
18:42 - [Music]
18:48 - and that is sounding much better
18:52 - okay let's put this fireball into motion
18:55 - what we need is the define move enemy
18:57 - custom block
19:01 - and scroll right down to the end
19:06 - i'm going to duplicate the check for
19:08 - moving a cooper shell
19:10 - but we'll check now for a type of
19:13 - fireball
19:15 - now remove the tick cooper block we need
19:18 - new scripts for the fireball
19:21 - make a new custom block named tick
19:24 - fireball run without screen refresh
19:28 - now we'll use the block right away and
19:30 - don't forget to stop this script
19:33 - now in some free space we'll code up the
19:35 - fireball movement script we'll start
19:37 - with the fireball's spinning animation
19:39 - for this we want the sprite to rotate by
19:42 - 90 degrees
19:43 - but not every frame perhaps every third
19:45 - frame so change frame by 1 and check for
19:48 - frame being greater than 2.
19:52 - and then turn the sprite by 90 degrees
19:55 - before setting frame back to 0 ready to
19:58 - loop around again
20:00 - good
20:00 - next up we want to move the sprite in
20:02 - the x direction using our move
20:04 - movespritex block
20:06 - this takes care of the collision
20:08 - detection the movement and the
20:09 - resolution for us in fact we can give
20:11 - that test now and see it in action are
20:14 - you ready for this and press x
20:16 - oh yeah that is amazing it's like a
20:20 - fireball cannon that would make it far
20:22 - too easy though mario with a cannon
20:24 - but look we can still see the rotating
20:27 - fireballs have stopped dead as they
20:29 - impacted the level that was because the
20:31 - moving spritex block sets the speed x to
20:34 - zero when it touches a wall
20:36 - now that's no problem we in fact can use
20:37 - that check if speed x equals zero and if
20:41 - it does then we'll delete this clone
20:44 - but we need to be careful if we play the
20:46 - game you can see that the fireball does
20:48 - indeed now get deleted when we hit the
20:50 - wall
20:51 - but our fireballs variable has not gone
20:54 - down
20:55 - so once we fired both our fireballs we
20:58 - still can't fire anymore disaster well
21:02 - not really we just need to keep track of
21:04 - whether we delete a fireball clone
21:07 - take out the delete clone block and
21:09 - we'll make a new custom block
21:11 - name it delete clone
21:16 - and we'll use it in place of the
21:17 - original delete this clone block here
21:22 - now stuff in an if block before
21:24 - performing the actual delete this clone
21:26 - and all we need to do is check if type
21:28 - equals fireball
21:32 - then if it is we change fireballs by -1
21:36 - super
21:40 - we can test this again
21:42 - watch to see the fireballs count go back
21:45 - down
21:46 - wonderful these hot flaming projectiles
21:49 - are really coming together
21:54 - our next step will be to get the
21:56 - fireballs bouncing around then to ensure
21:58 - they despawn when going off screen fix
22:00 - the tricky issue of them passing through
22:02 - enemies as they get hit and finally
22:04 - concluding with correcting mario's power
22:06 - down from fire mario back to super mario
22:09 - still quite a lot to do then but oh i'm
22:12 - afraid you'll have to come back in a few
22:14 - days when i post the second part of this
22:16 - longer two-part episode but don't worry
22:19 - you don't have to wait a whole week
22:21 - so if you have enjoyed this video or if
22:24 - you need part two sooner then smash that
22:26 - like button all the more for it and make
22:28 - sure to subscribe to the channel to be
22:29 - alerted as soon as it arrives if you are
22:32 - a huge fan or an educator then do
22:34 - consider joining the channel membership
22:36 - as your support helps to fund this
22:37 - channel and well just make it even
22:39 - better than ever so thank you for
22:42 - watching have a great week ahead and
22:44 - i'll be seeing you very soon scratch on
22:46 - guys

Cleaned transcript:

hello fellow scratchers it's fire flower time yes i'm griff patch and welcome to another episode of our tile scrolling series i know a lot of you have been very excited for this one as we introduce yet another awesome mario powerup adding fireball projectiles adds yet another dimension to the game i know you guys will be creating amazing things with this though we'll start with adding the fire mario costume set and then the collectible power adding it to the level designer then we'll script the new projectile itself before finally battling with the collision detection code to make sure it all works perfectly wow there's quite a lot to cover don't forget that i shared the completed episode 16 project it's linked under the video if you need a hand catching up but otherwise hold on tight and let's get scratching so we'll start by picking up those shiny new costumes and sounds head over to the updated tile scrolling asset project and there's a link under the video or find it on my grip patch tutor account as normal jumping into the mario sprite costume 20 onwards contains the fun new fire mario costumes since there's quite a number of these i'd advise you simply drag the entire mario sprite into your backpack like me next up check out the enemy sprite there's just a single new costume in here costume 34 it's the fire flower powerup itself so we might as well just backpack this single costume and lastly the sound sprite we have four new sounds it took me a while to find these but they are going to make a lot of difference if you're making a mario game i'll play them back to you in a second but for now you can either backpack the four sounds individually or drop the entire sprite like me into your backpack might be a little slow as there's a large soundtrack in here to be copied great so open up your tile scrolling episode 18 projects and as we begin do make sure to save your projects as a copy we don't want to lose our hard work if things went wrong and name this episode 19. so fire mario has a new whole set of costumes so we'll begin there just drag out the backpacked mario sprite and one by one drag the new costumes to the original mario sprite starting at costume 20 i'd like to count them off as we go so 20 21 22 23 24 25 scroll of it and 26 27 28 29 and 30. then we are good to delete the mario 2 sprite since we are all up to date while we're copying resources let's also bring in the fire flower costume i can't wait to collect this we want to copy this into the enemy sprite carefully done these things are explosive and hey why not also drop one to the tile sprite that is required to let us place them into the level editor lastly we should bring in the new sounds we want to copy just the last four across into the existing sound sprite to bring that up to date too and remove the sound to sprite oh i promised i'd let you hear these so listen to these babies let's go oh mamma mia just what i needed oh no these will really help to complete the mario feel right many scratches noted their absence and well they were dead right so thanks for the nudge so the game begins with mini mario recapping on episode 18 you'll remember that we set up mario's costume names in such a way that each costume name begins with the costume set name and then is followed by an action like walk or crouch etcetera we already had the costume sets for mario and mini mario and now you'll find we have the costumes for fire mario using the same naming convention of fire this is excellent news as to switch into fire mario mode all we need to do is add a when f key pressed block at some point we can just delete this but it's just super useful for testing and then set the mario variable to the word fire with a capital f and hurrah i hope you enjoyed this video if you did then smash the like button and don't forget to subscribe okay okay i'm teasing we have so much more to cover but man i wish everything was as easy as changing costume sets it's a good lesson that making good use of variables can save you a lot of scripting like this mario variable to change costumes okay next up we will be adding the new collectible fire flower powerup it will work just like the mushroom powerup of course so let's begin by adding it to the level editor click into the tile sprite the new fire flower costume is costume number 70 so let's remember that and click into the editor sprite we need to assign a level editor key to this new costume so make the tile keymap list visible scroll down to the bottom and make sure we have a new row for that's right item 70 the fire flower we always map enemy sprites to the number nine key so do the same here just remember to click out of the row once you've typed that in but before the power up will appear we need to ensure the enemy sprite knows about it too so in the enemy sprite find the define spawn type custom block here is where we spawn the life powerup that is the mushroom we can duplicate this i did that using the new scratch addons control alt drag trick just loving that guys yeah and we'll check for that fire flower costume number 70. for starters just switch the costume of the spawn sprite by entering the word fire flower that's a capital f on fire and flower without a space as costumes are case sensitive pop that back into the main script and we are good to go so hit the zero key to enter the level editor and then cycle through the enemies with the nine key great here's the fire flower now where to put it just pop it in this mystery block under the goomba right press zero again to save it and i'm dead excited to see this work boing yes we are really crushing this now we have two powerups to enjoy the only problem is they both act the same at the moment just like mushrooms we need the fire flower to turn us into fire mario we can do something about that right away click into the enemy's sprite and find the define tick life script this is the main processing script for the mushroom collectibles and here is where we check for its collection when touching mario ah right firstly the sound we're playing here is the wrong one click into the sound sprite and find the new just what i needed sound mine is sound number 27. just what i needed drag this into the enemy sprite now back in the enemy sprite we can switch it to play the sound when we collect a power up nice so we have two different powerups to consider now we'll need an if else block and put in an and operator so when the root costume of the collected sprite is fire flower we want to switch it to fire mario but we also have to check whether mario variable equals mario because mini mario is not allowed to upgrade directly to fire mario then if both of these are true we set mario to fire with a capital f otherwise we want to upgrade to super mario after all so broadcast the collect one up lastly the delete this clone sits under the if else block as we want to delete the power up after it is collected and with that it's testing time smash the green flag and let's get ourselves a fire flower okay did you see that we changed from mini mario to super mario like i said we must upgrade to super mario first to get to become fire mario super mario and then fire mario yeah i do wish though that there was a bit more of a transition but this will do for now because we've got bigger fish to fry like what's the point of being fire mario if you can't fire fireball projectiles okay so this is the fun bit first off we need to detect a new controller key press we handle these in the control sprite wow it's been a while since we've been in here we have available for each type of control now on the snares and other consoles the fireball button is linked to the b button therefore make a new variable naming it button b for this sprite only now to save us extra work we'll process the key right here with an if else block check for the x key being pressed here the x key is often used to map to the snez's b key don't question it we want to be sure that we can distinguish the initial key press from the key just being held down so when the key is pressed use a change button b variable by one that will make the value increase as we hold the key down and then to counter this in the else we set button b to the empty value yes that's a set not a change that way when we release the key the value will be reset if i run the project you can see that working the button b value stays blank until that is we hold down the x key and then the value shoots up great this will be useful so fireballs click into the mario sprite mario can only fire two at a time find the define reset player script we'll make a new variable named fireballs for all sprites this will keep track of how many we have fired in the reset player script therefore set fireballs to zero now where are the other presses processed find the when i receive move player script handle keys left right jump and crouch there we go we need a new custom block handle keys fire run without screen refresh we'll make use of the block right away but do it at the end after the check around player great i'll just move the new define block into some free space before we get to work let's check for the b button if with an equals block and we compare using a button b of controls block from the sensing category that is comparing it to the value one remember this number counts up as it's held down so it will only be one for the moment it is first pressed we can only fire as fire mario if mario equals fire then and we can only fire if we are not already using our two fireballs if fireballs is less than two then yes we could use lots of and blocks here but i try to avoid using long lines of blocks in scratch i prefer nice neat narrow scripts so we're firing a new fireball we change fireball by one to record the new fireball we need the sound click into the sound sprite and find the tenth sound it's called fireball and drag it into the mario sprite then back in the mario sprite start sound fireball cool lastly i'm going to broadcast to trigger the launching of the fireball a new event then named mario fireball that'll do us okay so not a lot to test here yet but we can try it out pressing the x key should sound the fireball sound effect and we can only do it twice and then we've run out excellent so it's time to actually clone a new fireball sprite the question is how best to do it i'm in two minds and i don't know which idea is best option one is to reuse the enemy sprite now that may not sound like a good plan as mario's fireballs are not enemies and in fact only want to hurt other enemies not mario but if you think about the work we did with koopa shells only a couple of episodes ago then you'll remember how these are already primed for killing other enemies by using the enemy sprite again we could save ourselves a lot of other boilerplate coding that is all the sprite movement collision checks etcetera but option two is the more conventional route and that would be to create a new sprite for these projectiles that would be my preferred route if scratch was able to easily reuse our custom blocks between sprites but sadly this is not the case so a lot of script repetition would be needed i really don't like that so i'm going to plumb for option one we'll reuse the enemy sprite if you click into that now you'll find the flame costume already sitting at costume 15. so that's good start so in a clean space we can make use of the when i receive mario fireball that we just broadcast of course we must be careful not to run this event on all the enemy clones so check if type equals empty value all clones have the type variable set so this must be the original sprite then good we can spawn the fireball by setting type to fiber and then create a clone of myself do be careful to remember to set type back to the empty value afterwards otherwise the main sprite will be mistaken for a clone too and that would be really bad trust me okay we are on we've spawned a new clone but it's far from set up we handle this in the when i start as clone hat block can you find it firstly we want to be sure we are a fireball if type equals fireball then right we have lots of work to set this clone up but it will follow the same structure that we have used in the past try to keep up set root costume to flame capital f that's the name of our fireball costume then we can set costume to the same so we might as well use the root costume to simplify that next set the width and height to 8. the fireball is quite small so you may like to make this even smaller it doesn't affect the size of the sprite on the screen only how close it can get to the walls before it collides next up we position the sprite to appear from mario so setting x to the x value of mario make sure to use the x variable not the x position we do the same for y but hold on we should offset the fireball up a small amount so it appears from our hand so add 14. to allow the fireball to spin set rotation style to all around now what direction do we want the fireball to be thrown in if else and we can check for the direction of mario if greater than zero then we are facing right so set speed x to ten else we're facing left so set speed x to minus ten in mario fireballs always fire downwards we can replicate this by setting speed y to say 6 okay nearly there paint sprite will ensure the costume is set and the sprite positioned as soon as it's cloned ah set visible to two now this is interesting remember what this does a visible zero value means that the sprite is hidden one that it is currently showing but two that means it's always visible because it's a deadly enemy sprite one that kills other enemy sprites perfect we want that then lastly set frame to zero anything less is used for inactive enemies that have yet to come on screen right the clone is all set up we can test this i can switch to the fire mario with the f key and click b to fire a projectile there it is and yay it was super effective against the gumball right but well it's not really moving very fast is it i'm going to try one on the piranha plot oh yeah you are out of there so they feel more like landmines than fireballs and also it's a little offputting that there's no sound when the enemy flips did you notice that we can quickly address that find the define flip custom block this is where an enemy is flipped by something the sound we want should be in the sound sprite it's called kick shell and is sound number 16. drag that into the enemy's sprite and we'll follow it back to the scripts start sound kick shell right at the top of that define block a quick test and that is sounding much better okay let's put this fireball into motion what we need is the define move enemy custom block and scroll right down to the end i'm going to duplicate the check for moving a cooper shell but we'll check now for a type of fireball now remove the tick cooper block we need new scripts for the fireball make a new custom block named tick fireball run without screen refresh now we'll use the block right away and don't forget to stop this script now in some free space we'll code up the fireball movement script we'll start with the fireball's spinning animation for this we want the sprite to rotate by 90 degrees but not every frame perhaps every third frame so change frame by 1 and check for frame being greater than 2. and then turn the sprite by 90 degrees before setting frame back to 0 ready to loop around again good next up we want to move the sprite in the x direction using our move movespritex block this takes care of the collision detection the movement and the resolution for us in fact we can give that test now and see it in action are you ready for this and press x oh yeah that is amazing it's like a fireball cannon that would make it far too easy though mario with a cannon but look we can still see the rotating fireballs have stopped dead as they impacted the level that was because the moving spritex block sets the speed x to zero when it touches a wall now that's no problem we in fact can use that check if speed x equals zero and if it does then we'll delete this clone but we need to be careful if we play the game you can see that the fireball does indeed now get deleted when we hit the wall but our fireballs variable has not gone down so once we fired both our fireballs we still can't fire anymore disaster well not really we just need to keep track of whether we delete a fireball clone take out the delete clone block and we'll make a new custom block name it delete clone and we'll use it in place of the original delete this clone block here now stuff in an if block before performing the actual delete this clone and all we need to do is check if type equals fireball then if it is we change fireballs by 1 super we can test this again watch to see the fireballs count go back down wonderful these hot flaming projectiles are really coming together our next step will be to get the fireballs bouncing around then to ensure they despawn when going off screen fix the tricky issue of them passing through enemies as they get hit and finally concluding with correcting mario's power down from fire mario back to super mario still quite a lot to do then but oh i'm afraid you'll have to come back in a few days when i post the second part of this longer twopart episode but don't worry you don't have to wait a whole week so if you have enjoyed this video or if you need part two sooner then smash that like button all the more for it and make sure to subscribe to the channel to be alerted as soon as it arrives if you are a huge fan or an educator then do consider joining the channel membership as your support helps to fund this channel and well just make it even better than ever so thank you for watching have a great week ahead and i'll be seeing you very soon scratch on guys
