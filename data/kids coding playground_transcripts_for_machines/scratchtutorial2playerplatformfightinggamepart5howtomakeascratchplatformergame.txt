so welcome back guys to another video on kids coding playground this is the fifth part for the two player fighting game so before i continue i'm just going to drag through the code to let you guys see if you've missed anything so i'm just gonna drag through this is the restarting this is for the jumping this is the running the run control we're running this is also for jumping this is for starting um and player 2 is pretty much the same thing also running jumping restart um and ulcer jumping simulating gravity and for the magic gem um this is from the um platformer easy platformer platform doesn't have any code begin button that's what we had from last time um the buttons they're pretty much the same thing and this button and the last video we did the hp bars it's pretty simple this is a health copy that down if you haven't done it thus player 2 hp bar and the player 2 health okay so now we've gone through all the code that we did from last time let's start with the begin button so we're actually going to add one more thing let's get an ore so what this does is if the player one character or the player two character is equal to nothing then it will um say players please select your characters so be we adding this because before we didn't have two players now we have two players so we have to add this extra statement so let's take out that and we have to reset we also have to set um player two character to also blank in the beginning you have to reset it and next we want to go to player one we're gonna do the attack today so for the for the uh attack we're just gonna when i received the start game so when the game starts i'll zoom in a little let's get a forever loop forever get an if then statement so if the f or i'm just going to do f f and g as the keys to attack you can do anything you want i'm just going to do f and g so if the f arrow key is pressed then we can broadcast a message and wait called p1 attack one player one attack one so p1 attack one okay and we can just duplicate this right click duplicate instead of f we do g here i'm just doing g you can do any key one you can do p2 p2 attack a p1 sorry p1 p1 attack two so each character has two different attacks a throwing attack and a melee attack and then we're gonna add less if then statement this is to check if the hp is less than or equal to zero so if when they or if the hp is less than or equal to zero the player one hp of course player one hp is less than or equal to zero then we can broadcast a message called p1 is dead p1 dead so next we'll want to um swish make it switch costumes to the corresponding buttons press so now we're going to just get another one uh broadcast so when it receives p1 attack one which is from this when the f arrow key is pressed then we set the player attack costume to zero in the beginning so player attack costume player attack costume is the um zero so we have attack attack costume right here we set it to zero in the beginning and we repeat 10 times we repeat 10 times only because we have 10 costumes for attack as you can see one two three four five six seven eight nine ten ten different costumes for attack so if you have a different amount of um costumes you'll have to switch it to the corresponding number of costumes you have so next we're gonna get a switch costume switch costume get to joins join join so join the player one character which in the beginning you select player one character with the drawing attack underscore um i'm doing attack underscore because in the costumes i named it attack underscore if yours is like something else like melee underscore or something you gotta make it that but since it's attack i'll do that and then we drag the player attack costume which is the costume number so we can also change the player attack costume by one so it'll actually look like it's attacking so we can just rightclick duplicate duplicate this instead when we receive p1 attack two it's pretty much the same thing except um yeah i think it's actually just changed the p1 attack two that's all you have to do it's pretty much the same thing and next we're gonna work on the player 2. the player 2 has um the same thing just drag and drop it into the sprite like that so we have them too so i'm just gonna move it over here and we're gonna also have to drag and drop this we're just gonna have to change some broadcast messages let me move this up here zoom in so instead of f and g we're going to do zero and nine so for the melee we can do nine and we can do zero for this one um instead of broadcasting p1 attack one we have to do p2 attack one and for this one we do p2 attack two p2 attack attack two p2 attack two instead of p1 dead and we change some variables here so player 1 hp we do player 2 hp and we have also changes to player 2 hp instead of p1 dead we do p2d p2 dead so when i receive p2 attack 1 p2 attack this is the second one p2 attack 2. so for this one i have instead of um uh um i mean throw we have to shoot so instead of so instead of attack we do shoot shoot so this is shoot and for this one i think i only have eight costumes for shooting so let me go to the shoot costumes zero okay one one two three four five six seven eight i only have eight so instead of repeating ten times you repeat only eight and i think that's good to go except we have to change this yeah player two character instead okay and this one instead of attack for the melee i said me and i did nearly so see really so i do kneeling underscore instead player attack cost we have to change this to player 2 character change this to p2 attack 2 and this should be eight so that's it for all the attacking but we still haven't made it lose any health so when i play it and select these i guess it will attack but it's not fully functional yet so it's not done yet and i almost forgot we have to change this to attack one p to attack one so now you press nine i will do melee and shoot okay and i forgot to do this to throw sorry about that so this should be throw so now as you can see he'll do chop and it'll do the throwing motion yeah i duplicated it and i forgot to change it so remember to change that so that should be thrown so this is really thrown and for this one i have to kneel and shoot okay so now we have all of that done we can work on the um damage see if damage is being taken so for player one we're gonna just get if okay so when i receive we're gonna get a message and i receive p2 attack one p to attack one if it's touching player two player two then we can broadcast a message called p1 got hit just to notify that player 1 has been hit so next we are going to work on the um like the bullet hitting the player one so let me explain a little bit more about this so from player two as i said right here um p to attack one it will broadcast from this sprite to this sprite and this will receive it and if it's touching the player two while it's doing the attack one then we can broadcast another message notifying that it got hit so now let's work on this part so we already had this part from the last episode i think or the previous one but last last one but we have to add an ifthen statement to the end you can do this anywhere you want but it just has to be in a forever loop so i'm just going to put it right here if it's touching oh yeah and we have to load all the um range um the shooting and throw weapon their own weapons so i forgot to load those we'll need those so i just got this bullet from online you can just google um cartoon bullet or something and this comes with the um ninja ninja girl i think just download it in the description below we have we'll give you a link so next okay so let's go back to player one now as i said earlier we have to do touching bullet if it's touching the bullet then we can broadcast p1 got hit player one got hit okay now we have to add some more code so so when i receive p1 got hit we can do an if then so this is just a like a check so like um this player two cannot like rapid hit and it'll do very it'll do a lot of damage to it so this is just like stop it from attacking way too fast so we can get an equal sign i think we'll need to make a new variable so we'll need to make a variable called is player getting damage i think i already have it actually so if you haven't made it then make it so if player getting damage is equal to no or n then we can set the player getting damage to yes so it's getting that notifies it it's taking damage so is planet getting damaged so yes why and we can change the player one hp by negative five each attack does five damage so player one hp by negative five negative five and next we can do like so like when it's getting hit we can tell the player that you're getting hit by changing the color effect so we can do it repeat 10 times just change the color effect by 25 put clear graphic effects down here and set back set the um is if is player getting damaged back to no reset it back to n so now you can just give this to the player two let's give it to the player too but instead we'll just change like some broadcasts so instead p1 got hit we can make a new variable so we can add if then statement right here sorry forgot about that if then statement right under here if it's touching the kunai which is the um sword thing the um ninja throws can i and we broadcast the message called p2 got hit new message p2 dot okay now we can receive the message p2 got hit right here we change this to p2 got hit uh p2 got hit right here okay and then we can set it to no yeah that's similar instead player one hp we do player two hp um and this should be right that's it so for the bullets um the the magic and the bullet is the same sprite but just different costumes so when you select the character it'll it'll just switch to the costume to the corresponding um character you pick same with this there's the fire and the kunai so next we can add some variables to the players so in the beginning you know how it's reset right here so we can set some variables back up look at the variable set the is player getting damage to n in the beginning to know also set is player one dead we can do that later because we have not coded the dead yet but we can make a new variable is player as player one dead i don't think we have time to move on to the um player one dead yet but we can still make the variable i'm just gonna make is is player one dead we can we'll save this for part six so make it for all sprites and don't forget for is player getting damaged this is supposed to be for this sprite only so check it you can see player one this is supposed to be for only player one so we can just set another variable the um dead is player again is player one dead to no in the beginning so we can also do this for the other character so for player two we will just do that in two and for the start again we'll get the set set is player getting damaged is player getting damaged to n and set is player we make a new variable called is player 2 dead then we set a new variable is player two dead it's player two dead okay i'm going to run the game once for you guys and set this to n i'll set i'll run the game once for you guys so you guys can see what we have so far so you can select your characters if you don't select it you'll see players please select characters i'm just gonna select these we have we haven't got to the shooting out projectiles yet we'll get that tomorrow right now we cannot shoot out projectiles yet i'll get to that tomorrow attacked we haven't done like taking damage yet so today we got through the attacking attacking we got through the attacking we're not doing any damage yet but for this one it is so as you can see when the um thing the adventure girl was attacking i mean the ninja was attacking wasn't dealing any damage because i forgot to add this last bit of code so just duplicate you can just drag and drop it from here forgot about this just take it right here i'll zoom in a little when i receive p one attack one then if touching player one then we can broadcast p2 got hit new vari p2 got hit so now it should work as you can see she's taking damage we haven't got to the throwing yet we'll get to that tomorrow as i said so for this one it's also dealing damage we haven't done the dead thing yet so it hits zero hp we don't it won't do anything yet because we haven't done anything to it so yeah thank you guys for watching please like share and subscribe and join us in the next video part six two player fighting key you