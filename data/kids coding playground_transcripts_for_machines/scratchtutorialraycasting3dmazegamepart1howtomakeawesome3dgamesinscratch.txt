so welcome back guys to another tutorial on kids coding playground today we'll be working on a maze game so it's my friend teaching it this time he was also the person that taught the chin reaction game so if you if you have not uh watched that tutorial you should definitely watch that as well all right so today we'll be making something that is a 3d maze and our player will be able to interact with this maze um and move around so it'll be able to show kind of a depth and we'll be using pen lists we'll be learning the raycasting method and we'll be able to use to um control the movement with keys so now for a demo of the game all right so let's click the green flag and i can currently move around this maze with the arrow keys and if i press the space key there will be a map that it will be showing all right and as you can see there's kind of like this brightness effect that makes you think that it's more 3d so let's get started all right so let's make a new project and let's name it three d maze all right and let's name our first sprite person so before we start working on a 3d maze we need to have a 2d maze so let's get rid of this scratch cat and convert it to a bitmap editor and let's get the square tool and it doesn't matter what it color it is we're gonna be hiding this anyway so let's hold the space bar i mean the shift key and it'll make a perfect square so like this and let's just make it a little bit smaller all right perfect and let's make it centered so match up the crosshairs all right this is perfect and now we're going to be needing a maze so let's choose a paint and right here in my backpack i have already a maze prepared um you guys can look at this if you want to copy it so now let's switch back to the person and go to the code so let's code the controls first so let's get a when green flag clicked um we want the person to spawn at a certain point so i'll have it spawn right here and go to motion and i'll have it go to this place and i want it to be pointing this way so around negative 90. all right and then we'll be uh setting the ghost effect to 100 because um we don't actually want the person to show so 100 and let's make a new variable we can delete this one and let's name it speed so then let's set our speed to two and basically this is just gonna be how fast the player is going to be able to walk around the maze and then let's get a forever loop so go to control and drag this but below this this is where we're going to put all our controls so let's get in if then and let's add some arrow controls so go to sensing and see if key blank is pressed and right arrow then we're going to have the player turn 4 degrees and now let's duplicate this so and then put this down here let's switch this now to left arrow okay so now let's go and make a new custom block and let's name it move and then let's get an input and name it speed okay so now let's define this custom block um so let's go to motion and we're going to have to move speed steps and let's go to control and get an if touching so if touching sprite 1 i'll rename this to map so it's easier to reference so if it's touching map then we want it to go back out of the map so then we'll get a move and then let's go to operators and get the times negative one speed now what this custom block is going to do is that when we use it down here there's going to be this input that we can put something in and let's say we put a one now this speed thing is going to be replaced with one so then it'll be moving forward one step so if we click this you can see right here it is moving all right so now we can use this move block in our code so now we can check if the up arrow is pressed up arrow is pressed then let's have it move speed and if the down arrow is pressed then let's have it move negative speed minus one all right so so far this is what we've got and let me just clear the graphics graphic effects for a moment so that you can see the player and you can see that we can actually navigate the maze for but it's not 3d yet so that's a problem and we're going to uh make that later but first um we need to learn about the raycasting method and basically what this is is that we're going to see um the distances from this person to the map and then we're going to draw lines based on how far those distances are so let's make a new broadcast and then let's call it sense and let's set it right here all right now let's make a new sprite and let's call it distance distance and let's convert to bitmap again and we're going to use this tool let's make it one so it should be just a tiny pixel let me just zoom in all right what this is going to do is that it's going to go to the person and it's just going to um see the angle um so that it will go right here and it will slowly go into 360 degrees and it will add a value to distances so we can use that in our raycaster so first we need this to um set the um ghost effect to 100. so let's do that right now 100 and let's go to events and when i receive cents let's make a new custom block and name it sense and take the run without screen refresh check box so now that we have our sense custom block let's make a new list and let's name it distances oh all right i just renamed the list because i spelled it wrong so distances and let's add let's delete all of distances when we um use the sense block and let's make a new variable and name it distance and let's set the distance to zero this is going to be our counter and um the value that we're going to add to the list distances and let's also make a new variable let's name it angle offset and let's set the angle offset to negative 48. now let's get a repeat loop this is why we're going to make the sense block um run without screen refresh because we're going to need to do this extra fast so let's have it repeat 96 and then we're going to set the distance to zero and then we're gonna have it go to the person so go to person all right and then we'll get point in direction direction of person so it should be right here and then click on this one click on this one and then select direction now go to operators and get the plus sign and drag this one in there all right now get the angle offset variable inside of the variable section angle offset and drag that in here now let's get a repeat until lock so repeat until let's get it touching so right here until touching map okay and now let's get a or operator and drag this one into the left slot and let's get an equals and put 200 so this one is basically render distance so how far is this going to render right and let's get distance and then we're gonna get motion let's drag this in there and put this inside the repeat until two steps and then we'll change distance by two um now this is kind of the part where if your maps walls are too thin then this won't work so make sure that your maps walls are thick enough all right so now let's ah after the loop let's add distance to distances and then we'll change angle offset by one now under when i receive cents go to my blocks and let's drag sense in so i'll just hide these variables and and now let me just show the person again so click graphic effects and now if we move around the list distances should be updating um so we have to add something one more thing right here into the person sprite my mistake let's go back to events and get a broadcast sense and under each of these controls we need it to broadcast sense so that this list should update whenever we move all right let's show it again and now you can see that the distances list is updating based on where the player is moving so let me just do this and this distances list is going to be very helpful when we're um making this all right oh sorry we also have to change this to a move to the left four so this is uh where we're going to end part one and like and subscribe if you want more of this type of content we'll be finishing up our 3d maze in part two so also we have a um scratch studio that you can join and we'll be um we'll be featuring some projects on that scratch studio and all right thank you thanks for watching and make sure to subscribe see you next time you