welcome back guys to kids coding playground and today we'll be making a two player pawn game with the ai so maybe like about a year ago we made a uh pond game for two players but this time we're going to improve the game and add an ai to it as well and some new improved features like making the ball move quicker when you go um when you play for a longer time stuff like that and so yeah so we're gonna make a more advanced version today so let me show you guys the demonstration of this so you can either do player versus player or player versus ai let's turn on the volume a little all right so player versus player it's just like as usual like this first the seven wins first seven points all right so clear versus ai so as you can see i'm the right side of yours okay so you see the ai so the ai is like it tries to follow like the position of the ball and once you play for like over 20 seconds or something like that then they will increase the speed of the ball as you can see the ball speed is increased as if you can see that yeah also you can open the timer right here as you can see you plan like when the timer reaches a certain amount it resets the timer every single time uh the point is over but as you can see when the timer gets to 20 the ball will speed up let me just get there all right so now it's 20 seconds as you can see the ball moves a little bit quicker so yeah um we will be creating new project let's create a new project okay so first let's delete the scratch cat and upload our backdrop so this will be in the link in the description so i actually have a uh something from my backpack this backdrop so we're gonna be using this one it looks like a real like ping pong table i guess and then we have the two uh paddles this one's for player one or the ai and this is the player two all right so that's it for the thing so i'll show you guys how to use it how to like draw it so if you want to draw your own i'm going to show you how to like draw it i guess so they actually already have a paddle in the sprite library if you want to use that you can use that one or you can use our own so what we did was just draw a paddle like it was just oops let me center it again so it's just like a green uh square but then we have some like brown outline around it so that's pretty much it it's pretty simple to draw you can make it any color you want it doesn't have to be green i guess but yeah it's pretty simple to draw i don't think you'll have any problem with that and then we have uh the buttons so let's get the buttons so let me find it all right button one let me just duplicate this and then we can get two buttons so this button one i'll name it player versus player so this button one is pvp player versus player we're going to like let's put like a text right here so maybe make it red so it's easier to see pvp so we have the pvp let's make it bigger center alright so now we have the pvp button and then we can do a player versus ai so we can name it like p v a ai maybe like pvs maybe yes that looks better that looks better i'm gonna change the other one too this makes it look a little better let me shrink it a little bit you can hold down alt so it won't move everywhere change this to player yes player and make it a little bit smaller there you go so now i have the two buttons player versus player and player versus ai all right so we're gonna first start on the buttons with the coding so we're gonna start on the player versus player so let's go to the code and in the beginning we're going to make it go to this position i already have the position down so i'm going to go to negative 75 zoom in negative 75 y90 that's the position i had from the game and i'm going to show the uh sprite in the beginning and then when this sprite is clicked we are going to uh when the sprite is clicked we're going to broadcast a message called v s p so player versus player and we're going to hide so once you click the button we're going to hide it and then we're going to go to the second button the button too i'm going to rename it to p pb pvs ai let me change the other name as well to ebs so player versus player and player versus ai so let's go to the other button so in the other button we are going to get a one green flag clicked we're going to go to where the 75 and then we're going to 90 and then we're going to show and when the sprite is clicked we're going to broadcast another message called p vsai pvs ai and then we're going to hide so when the player clicks on player versus player we want to hide this sprite as well so when i receive player versus player we're going to hide here and vice versa from the other one player vs player we are going to unreceive player versus ai we are going to hide all right now we can go to the paddles also i forgot to add the ball sorry about that we need to add the ball obviously so we can just get that from here ball uh how big should it be honestly maybe like 20 no it's too small maybe like 50 yeah that's probably better 50 50 is probably the right size for the ball so now we have the ball sprite and then so now we're going to go to our paddle player 1 or ai paddle so in the beginning actually let's code for the ball first because in the ball we have uh we have some code that we we're going to broadcast something into the player the paddles so oops sorry about that let's go to the ball now start coding in here okay so now we're in the ball start coding in here so as you can see i click the play button so i can make both the buttons like go to their position so this is the position where they are all right so let's start coding in here so when i receive the message let's see when i receive the message player versus player we're going to broadcast a message called start game start game and then we're going to when i receive player versus ai we're going to broadcast our game and then we are going to broadcast a message another message so we'll need this for later not for now but it's going to be called ball position ball position and we're going to make some more variables we're going to make two variables player one score for all sprites and we're also going to make another variable called player two score so player one score player two score and then so we're going to get a one green flag clicked we're going to set the player one score to zero and we're gonna set the player two score to zero and we're gonna set the size to fifty percent like i have so set the size of fifty percent and then right here we're going to when i receive the start game so when i receive start game we are going to wait one second so usually we want to wait one second so both players are ready in the beginning so we're gonna wait one second before starting the game and go again forever loop so we're going to make it remember the variable we make a new variable called ball speed ball speed so basically the ball speed is basically how fast the ball will move so now we have to make a new custom block before we move on to this part so we need the ball speed to make those change the speed of the ball so we'll need the ball speed because like remember i said when the timer increases we will increase the speed of the ball so that's why we'll need that so we're going to make a new block we're going to name it set up uh ball so setup ball okay so we're gonna have to define it so instead of ball we are going to go to zero zero which is the center of the screen the origin of the coordinate plane so zero zero and then we're going to if else so basically this is a pick random of which side the ball is going to go to so if we're going to pick random so we're going to need equal so we're going to pick random right here so pick a random 1 to 2 and if it's equal to 1 then we're going to point direction of 60 which is this right side so as you can see see the direction right here 60 so it's gonna point this way so we're going to point direction of 60. yeah on else we're going to point direction of negative 60 so point the opposite direction negative 60 and then we're going to reset the timer so remember i said that we're going to need the timer later so we're gonna have to reset the timer and then we're gonna set the ball speed to 10 so in the beginning ball speed will be 10 and we're gonna obviously need to use this block to use this so we're gonna run it right here okay and then next let's go back to our start game script right here so we're going to move the amount of balls speed steps so whatever this is whatever the value of this variables and then we're going to get an if on edge bounce so if it's on if it's touching the edge it'll bounce and if the ball is touching it is touching player 1 or ai the sprite touching player 1 or ai the sprite then it's going to start some pop just like the basic pop sound and uh and then it's going to turn we're going to make it turn so if it's touching this paddle it's going to turn this way so it's going to always move this way so we're going to make it turn 170 to 270 degrees to 270 degrees and then i'm going to get another if then statement and put it inside this one so if if uh the direction is greater than negative 179 so if it's like past this part or the direction is less than negative ones which is like right here so if it's less than negative one like on this side so it's like somewhere between here and here the direction is greater than negative or negative one so negative one's about right here then it's going to we're going to get this or we're gonna do greater than so the direction is greater than negative 179 or it's less than negative one direction less than negative one then we are going to point direction of 60 to 145 so be pointing this way so the ball will be traveling to the side so one direction of 60 to 145 so basically 60 to 145 would be like somewhere right here to somewhere right here so it'd be like here to here so like basically pointing from this side going either this way or this way so let me set it back to 90. okay so and then next after this we want to broadcast the message ball position remember ball position so basically ball position is just going to position the ball like keep track of where the ball is and then we're going to get an ifthen segment so another one so if the xposition is greater than 288 288 like right here if it's greater than it so it's like towards this point if x position is greater than 288 to 28 sorry 220 not 288 um we're gonna have to change the player one score by one because the ball is past this area so that means it's touching this side so that means player one will get a point so player one gonna have to change the player one score by one and we're going to have to call the variable setup ball again after the point is over and then we're going to wait one second before starting up again and then we're going to do ball position basically we can just duplicate this put it under if ball position if x position we're going to change this around i'm going to do this so it's easier to see so if x position is less than negative 228 which is the left side and that means we're going to change the player two scored by one because they scored on player one and this is just the same all right so that's what we have so far for this and this all right so next we want to work on the ball position we're going to receive the message so when this sprite receives the message ball position we're going to repeat until touching the player one so the ball is going to repeat until it's touching the player one or ai so this is to keep track of where the ball is so uh we're going to get a repeat until and then we're going to get a touching clear one for the ai and we're going to make a new variable going to name it ball y so ball wide is the y position of the ball so we're going to set the we're going to set the ball wide to the floor of y position so basically we don't want any decimal numbers so we're going to round down which is the floor so we just have to get the absolute value one select the floor which is rounding down oh it's right here it's in alphabetical order so we're gonna get the y position right here so the floor of the y position whatever the y position is and we're gonna keep track of this every 0.1 seconds so yeah oops all right uh so basically so that is it for the ball code that's basically it so i'm going to zoom out so you guys can take a look at it gonna go down a little bit so yeah okay that's and that's pretty much it for the ball we might come back and add some other stuff like maybe increasing the speed when the um timer increases all right i'm gonna uncheck these variables real quick and you can do this to represent the score for each side all right double click on them remember you can double click on them to do that let me make this back to zero all right there you go so that's how you make it like that you have to have to double click or you can just right click on it okay and then next let's go back to the uh paddles let's go to the paddles so inside the paddle for the player one or ai i'm going to go when green fly clicked zoom in a little when gray flat clicks we are going to go to the exposure negative 200 and y position of zero so it's like right here and then when i receive uh player versus ai then we are going to get a forever loop forever if on edge bounce so basically the the paddle won't like go off screen it would just like bounce on the sides so we're going to get a if on edge bounce and repeat until the y position is equal to the ball y all right so right now we want to make the y position of the paddle is equal to the ball y because we want the ai to like be like to the relative position of the ball to try to like hit it back so we are going to do when if the y position repeats of the y position is equal to the ball y the y this is the y position of the paddle by the way and we're going to fl streaming so if else put in here if y position is greater than the ball y y position so the y position is greater than the ball y so that means the paddle is like up here and the ball is like down here so it's like below it then we're going to move the paddle down so we're going to have to do change the y by negative eight because the paddle is above the ball so you want to move it down else you want to change it by positive eight because then the ball y would be over on like up here and the paddle will be down here so you want to move the ai panel up and then we're going to get an unstatement so if the score player one score oops player one score is equal to seven so we're gonna do first to seven player one score is equal to seven then we will broadcast a message called player one wins player player 1 and then we are going to duplicate this right click duplicate when i receive player versus player if on edge bounce we can remove this part and remove this part we can keep this bottom part don't delete it we'll get two if not statements so if we're going to do w and s for the movement so if key w is pressed w is pressed then we're gonna move change the y by eight let's duplicate this and if the key s is pressed oops s is pressed then we're going to change the y by negative eight and we're going to put this in in the bottom okay so now we have the movement for the ai and player one let's move on to player two let's go to our player two sprite so for the position for player two since this one is negative two hundred zero we're going to make this one positive two hundred so we're going to get a one green flag clicked and we're going to do go to x two hundred and y 0. and what i'm going to do is just go in here and drag and drop this into player 2 so then i can just instantly duplicate it here so instead right here we're going to do when i receive start game because there's no ai for player 2 it's just the player and forever if on edge bounce this code should all be the same except for this so we're going to do up arrows and down arrow instead and this one should be player two score is equal to seven then we're gonna broadcast another message and we're gonna name it player two wins okay so player two wins and we can make a you win uh sprite so basically we can just make a new sprint okay so now we're going to make the you win and you lose part for this thing so we just made a new sprite painted and then we're going to use red because it's easy to see and then for the first one we're going to do player 1 or ai wins if you want to add like player 1 wins and ai wins separately then you have to broadcast another message within the paddle so i'm gonna go into here code and basically instead right here you just do player the ai wins right here and then player one wins right here so basically that's pretty much it and then we're going to increase the size of this maybe a little bit bigger and then we're going to duplicate this this one is player 1 player 1 or ai and this one we will do called player 2 and we're going to delete this and for player 2 wins move this right here make it a bit bigger that's great all right so that's pretty much what we want let's go to the code for this thing when green flag clicked we go to zero zero so with the center in the beginning and then we're gonna hide and then we're going to when i receive player two wins that we're going to switch costume to the player 2 and then we're going to show and then we're going to stop all so basically it's going to switch costume to player 2 wins if we player 2 wins and then we're going to stop all we're going to duplicate this and when player 1 wins we're gonna switch costumes to player one or ai and that's pretty much it okay so now we can add some last minute like touches on the game so we can just add different colors for the button maybe we can make this one the normal one but this one we can make it a different color because we can uh just make it look better in general so we're gonna make it like maybe yellow yeah we can make it yellow or you can use the this thing so you can mix different colors uh let's mix like some like this color i guess this color is pretty good yeah see that yeah and maybe on the outside we can do like blue maybe like swap it there you go maybe you can use this one yeah this one likes it like that so yeah that's pretty much it for the buttons and then next we can go to the was it the i think it's the ball yeah inside the ball we can do the the um timer thing let's zoom in when i receive the start game so whenever you start game we're going to forever uh we're going to if timer is greater than 20. so if the timer is greater than 20 seconds maybe you can do 10 just for testing purposes uh we're going to set the ball speed to 12 so we're going to increase the speed by a little bit and we can just duplicate this and if the time is greater than 20 i guess we can do 15. and you can add even more and more you can just keep on doing it forever if you wanted but yeah we're just gonna put two for now i actually forgot to put the player two in because we're working on everything else i forgot to use this one so we're gonna have to do the detection for player two as well so we are going to actually duplicate all of this and delete this and we just take this out and put this under right here and then we'll put this in after so first we are going to do if touching player two we're going to do the pop sound as well but instead of turning to the right we're gonna have to turn to the left because it's player two you hit to the left side so we're going to turn to the left and put this in and then if if the direction is like that greater than 179 instead because this is the other side so we're going to have to do 179 and the direction is less than one then we are going to point direction of negative 60 because you have to face the left side not the right because we're on the right side already so we're going to do that and then broadcast bulb position then just put this on the bottom you can also take this out this is not very necessary because we already have it down here it's not very necessary for the ai we already have it down here so you can take that out as well so let's go play the game so since we forgot to do the player two code i'm gonna like show you all the code so then you can take down any code you did not do earlier so that's pretty much it okay so now i think we demonstrate the game all right so let's do player versus ai first so you can see the ai is going towards the ball everything's working out fine you can see i think the ball is moving faster because the timer forgot to turn yeah i see the ball is going way quicker now see that yeah so yeah uh now let's try out the players player i think should be the same oh i forgot to hide that thing as well let me how did that not connect okay i don't know why okay whatever i already it should have been like that i don't know how it disconnected but okay player versus player yeah so basically just like that yeah okay now let me score on one person first so we can finish this so i can show you what happens if you win or lose you need seven to win all right that's it so when you win it's just as player two wins so yeah that's pretty much it for this tutorial thank you guys for watching don't forget to like share and subscribe and i'll see you guys in the next video