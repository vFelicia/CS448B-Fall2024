so welcome back guys to kids coding playground today we'll be continuing with part two of the 3d maze so here is what we have so far we have our distances list that we'll be using for our raycaster and we can navigate our player hold on let me show it we can navigate our player using the arrow keys and today we'll be working on our raycaster so it'll make it 3d okay let's get into it so uh right now go to the distance sprite and we're going to make a new block and name it draw and have the run without screen refresh uh on and then press ok okay so uh let's import the pen extension so now we have our pen blocks and let's have our uh distance dot go to x negative 237.5 and 180 we're going to go right here because our pen size is going to be slightly larger so it'll cover up the whole screen uh so let's put this under the define draw and then go down to pen and then let's set the pen size to five okay and then we need to set our pen color to something so um we're going to use this brightness effect uh to uh simulate that the distance so it'll look like uh parts of the wall are further than others so um right now all that matters is the saturation and the color so i'll just make this a light bluish color like that and then let's erase everything and set the pen up okay now let's make a new variable and name it column and right here let's set the column to one okay now let's get a repeat blank so right here and then go down to your variables and get length of distances and put that in there all right so instead inside of our repeat loop let's get set pen brightness so go down to pen and set pen brightness um and then let's get a plus block and put five right here and then item and get this and put this in here item column of distances so this will have uh us draw the um distance so it looks like parts of the wall are further than others so now let's set y to negative 1200 divided by item column of distances okay now let's put this below set pin brightness and then let's get a pen down block pen down and then um let's get set change this duplicate this to two hundred then we'll change the x by five since our pen size is five x by five okay so i zoomed in a little bit so you guys can see it better okay so now let's get a change x by five uh change the x by five oh and also put a pen up block between these so that it doesn't drag the pen over and then let's change the column by one and then now we can use our draw block and let's put it under cents and now we have a 3d maze so now you can see that um we can in fact move around this maze but it's not quite finished yet because um our map isn't hidden and we still kind of have our uh variables showing so i'll hide those and um i'd like to make a function where if you hold down space then you'll be able to see the player in the map so in the player sprite okay so let's get a one green flag clicked and get a forever loop and get an if else block and go down to sensing and get a key space pressed um now go back up to looks and in this spot we're gonna put um clear graphic effects sit right here and then in this spot we'll set the ghost effect to a hundred okay so now if we hold down our space button we can see where the player is on the map but then we also want to uh hide the map so i'll also go to the map and put that same code when green flag is clicked forever um if else key space is pressed then we'll clear our graphic effects and then set the ghost effect to 100 uh all right and let's have our maze go to the center so go to x zero y zero all right okay so we also need to adjust where our person spawns okay and it'll be around right there okay all right so it should work now and we have our uh maze so we can move around and interact with it so if we try and move against the wall it won't let us go through and if i hold space it shows us where our player is okay so now uh we want to make it so that when we clear the maze when we get out of the maze right here we have to make sure that there's like a you win message so that the player knows that they won and then we'll stop the gang so right now there's no you win as you can see if i walk out there's no you no you in message so let's make that right now and i'll draw that so let's make a news right and paint one and i'll just name this win and let's select the text tool and i'll make this green you win make this a little bit larger and put this in the center so um okay so now we have our you win message and i'll just have it go to the center okay so now we can code it okay so uh what we're going to do for making this work is that we're going to check that if the player's x position is past this wall because that the um only way that you can get out on this side is more than 172 then we'll show this and then we'll stop the game all right so in the player sprite let's go down and get get into the control and get an if um then go get an x position go to operators and get a more than and right now uh my player is outside the maze at x 172 that's about where the exit is so 1 172. and then if it's this then we will broadcast win and then in the wind sprite when the green flag is clicked we want to hide it so that it doesn't show and then when i receive win then we'll make it show and we'll stop all okay so now i think we should try it and let me just go full screen i'll just go through this maze all right so our player does is able to move around and just to speed things up a little bit i'm gonna drag our player down here okay so now we're near our exit and as you can see it says you win after we've exited our maze so that works please like share and subscribe and ring the notification bill and i will see you guys in the next video bye