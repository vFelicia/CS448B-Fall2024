hello everybody and welcome back to the golang tutorial so in this video we're going to talk about range now range is a key word in the language that allows us to actually iterate over different items and elements inside of things like slices arrays and strings now don't worry i'll show a bunch of examples in this video so you'll really understand what i mean but what i want to show here is just a few common problems that can be solved with range and then hopefully tie together some of the syntax we've learned previously into a few problems here so you can see how we would use these different things together all right so let's go ahead and get started now the first thing i want to do is actually just make an array that we're going to iterate over when i say iterate over that simply means loop through so we've seen for loops before and i'm going to show you how this range kind of thing i don't even know the way to describe it range keyword i guess can substitute a longer version of the for loop which i'll write here so i'm just going to say var a we'll do into ray actually let's just do int slice like that and then we'll make that equal to a slice of int with the following random values inside okay so there we go we have a slice of ins what i'm going to do now is make a for loop and i'm going to show you how i can print out all of the values of this slice from a for loop so traditionally without actually knowing the this range that you see is popping up here what we would have to do is something like this so we'd have to say i colon equals zero i is less than the len of a and then i plus plus now you may not have seen this before but what this is saying is okay let's set i z i had 0 let's say let's keep going until we're at the length of a and let's increment by 1. now what that's going to mean is that this i variable here is going to keep counting up and we can use that variable on every iteration to access a different index from this array so when i zero will access one when it's one will access three when it's two will access four and the way we'll do that is just simply by going ai so this means every time i gets incremented we'll look at a new element inside of the list or the slice here and since we're going up to the len of a but not including the len of a we'll hit the maximum index and not go over so we won't have an error in our code so let's just fmt dot print ln here and oops if i can put the n what is it asterix okay so fmd.println uh let's go go run um do tutorial.go and see what we get okay so there you go you can see we successfully printed out all of the values now that's one way to do it but there's an easier way with the range keyword which is what this video is about so range the way this works is you put actually an iterator and then you put an element and then yeah okay so that's a bad explanation what you put here is a variable that will represent the index you're currently looking at and a variable that would represent the element you're currently looking at so i'm going to say i element and then i'm going to say range colon equals the range of a now what this is saying is we're going to have i represent the index of the element we're currently looking at in the list or in the slicer in the array i'm going to keep calling it list accidentally because i'm used to python but when you hear lists just think of slice okay so we're going to access all the elements in this slice so i is going to count up just like the i would in this for loop so it's going to start at 0 and it's going to go to whatever the index 6 is at here so whatever that maximum index is which would be len a minus 1. now what element is going to do though this is actually going to stand for the element at that index so element will be equal to a i from up here that's what element will be equal to so when we say i comma element colon equals range a that's what allows us to do that so range a returns to us the index and the element for all of the elements inside of the slice or the array whatever we put here so you can see that if i go fmt.printline and what i'll do is i'll print i actually i don't know if i can plus it like that let's do fmt.printf and let's go percent d plus um actually we don't need colon let's present t colon uh and then percent percent d and let's go i comma element so we'll print those both out all right so i got through that code that was a little bit painful to watch but let's just go ahead and run this and see what we get now so you can see that what we get is ah well i forgot to print a backslash n so one second here guys let's just do cls okay so what this is saying is there we go so we print out i which is the index and then we print out the element at that index so this is how range works it lets us set up this structure so we get the index and then we get the element and that means that we can avoid having to do what we did before where we actually have to access a i and that's useful there's a lot of cases where we'd want to do something like this this is just like a short form for being able to loop through all the elements in the array now let's say that we didn't care about the element or we didn't care about the index and we weren't going to use them we know in golang that it's actually an error to define a variable that we don't use so if i have i here and i have elements here and i don't use them we run into a problem and in fact let me show you what i mean so if i do this and i save now we should see that we're getting a red squiggly line saying i declared and not used so how can i do this how can i still use the range keyword without using i or element because maybe i just don't want to use it well what i can do is simply replace this variable with an underscore now an underscore kind of stands for an anonymous variable you cannot access the value of this underscore like i can't just throw underscore here and it prints out the value no that's not how it works this pretty much says that hey you know this thing is giving us two elements i only want the last one but since i can't just put element here i need to put something before it i'm going to put underscore comma element where we're just going to say we don't care about whatever that variable is so i can swap these around i could say i comma underscore like that no problem but underscore can be used pretty well anywhere and it just stands for an anonymous variable so if we do that and we have the underscore we just print out the elements let's have a look at what we get now and we get just all the elements printing out so that is how we use range to loop through a slice or loop through an array now this wouldn't make a difference if this was an array we could do the same thing we could loop through it but now what i'm going to do is show you how we can actually let's do an example of a problem here okay so the problem i've come up with here is to essentially print out any duplicates inside of a slice so given a slice a we want to look through the slice and we want to see if there's any duplicate elements so inside of this slice we know that the only duplicate elements are 4 and we only want to print out those duplicates once so i don't want to print out 4 twice like you can see that's happening down here and i was just testing this previously what i want to do is i want to print out 4 one time because it was only duplicated once now if 4 was duplicated twice and what i mean by that is there's a set of 3 fours inside of here it's okay to print that twice but i just don't want to print four two times because that's only one pair of duplicates if that makes any sense what i'm kind of going with but that's the idea that's the problem so let's see if we can solve it so essentially to be able to solve this problem the way we start is just by thinking about how we would do this as humans right i mean to determine if there's any duplicates for us all we have to do is kind of just look at this array and it's quite easy to see that 4 appears twice but for computers what they need to do is they need to look through sequentially right they need to look through every single element and check if there's any duplicates so the process would be start with element one look through the rest of the slice here and see if there's any more ones okay move on look at three look through the arrest rest of the slice here and see if there's any more threes right that's the process that we need to do so to accomplish that inside of this for loop that we have right here i'm actually going to put another for loop i'm going to put 4j element 2 colon equals range a so what this is saying is for every element in this slice let's look at every element in this slice so 4 1 let's look at every other element in this slice and see if anything else equals 1. so kind of the naive approach to do this if you haven't seen something like this would just to be what i'm about to do here say if element equals equals element 2 and we don't need a colon we need fmt dot print ln if i can uh get my capitals working here okay so fmt.println and we print element so what this is saying is okay so you know we have we're looking through every element we're looking through every element again if element equals element two then fmt.print element you know you would think that that should return to us any duplicates so let's actually have a look at this code and i'll give you a chance to kind of analyze it and tell me if you think this is gonna work or not i mean obviously you're not going to tell me but just have a look at it think does this make sense is this logical what i've done with your understanding of for loops and if statements okay so i'm going to go ahead and run this now i'm assuming you would have paused and thought about that if you want so let's go ahead and run and we get four four so that's interesting uh so element element oops i don't think i actually saved this one second that shouldn't have given me four four let me run this one more time okay so go run tutorial to go oh i and j declared and not used so let's change those to underscores my apologies guys um ignore any of the runs i've done those were just mistakes so those need to be under squares but let's run this so go run tutorial dot go and would you look at that we actually get every single element printed out now that's quite strange why is that happening and we get four printed out twice whenever it occurs well the reason that we're getting this output is because if we think about what i've actually just done here uh when i'm looking so let's say we're looking for all the elements and we're looking for all the elements again on the very first loop here what's going to happen is well elements going to be equal to 1 because that's the first element we look at element 2 is going to be equal to 1 as well because we didn't start any further in the slice we started right at element right or right at the very beginning so 1 equals 1 and immediately we printed out 1. now that's a problem that means we're printing out elements when they're actually not duplicated so how can i fix this well there's a way to do this if i go ahead and add my i and j back what i can say is okay well let's check if the elements are the same and they're not in the same position so we say and i does not equal j so if we do that now what this is saying is okay well we'll go ahead and we'll do this loop again but if i and j are the same we're not going to print that out because that means that they are the same position or the same element in the slice right so let's run this again go run tutorial dot go and there we go this time we actually got the correct output of 4 so it printed out 4 was duplicated but it printed 4 twice now can we think of why that happened well when we get to four here we're going to look through all the elements in the array again starting right from the beginning and we find this other four so we print it out but then what happens is well we move further on and we get to this 4. so the first loop in a here is looking at this 4 and then we loop through all the way again and then we look at this 4 and we find that 4. and now these equal each other and we print that out so the problem with this is that as soon as we found the duplicate so we found 4 and 4 well when we got to this 4 that we had already printed out we found this one so what we actually need to do here to solve this problem is well there's a few different things we could try but what i'm going to do is say okay only print out the duplicates if the duplicate we find is uh greater in the array so what i'm going to do is say i is actually greater than j yes i is greater than j so what this is saying is that essentially we're not going to print out the fact that we found any duplicates unless the position here is greater than the position oh sorry this should be the other way around unless j is greater than i so what that means is okay we're only going to print out that we found a duplicate if whatever position we're looking at here is further along then what one is here so in this case when we find 4 we won't print this 4 behind because well it's not greater than the position we're currently at so that's what this problem is trying to say apologize that i i butchered this a little bit but you know i do make mistakes as well okay so let's go ahead and run this go run tutorial.go and see what we get now and i would be helpful if i saved my code so let's actually save it and we get the value 4. so notice this is only printing 4 one time so that fixed it when we did j greater than i because that's making sure that we're only looking further in the array okay so there's actually a way that we can simplify this even further and avoid having to do all these element checks i j all of that and the way to do that is to actually rewrite this entire section in here entirely so what i'm going to say here is i'm going to change the for loop to do this i'm going to say 4 j oops j colon equals i plus 1 and then i'm going to say semicolon j is less than the land of a colon j plus plus if i can type properly here okay so j plus plus now what this is saying is let's start j at i plus 1 which means start it at the position greater than whatever position we're currently looking at so that means automatically that now we'll never have a situation where j is less than i which means any match we find will automatically be valid so what i'm going to say here is element 2 like this colon equals a j because i don't have access to the element here and i'm not using range i need to access it like i did before so i'll say aha and then what i'm going to do is go ahead and say if actually we don't even need brackets if element 2 equals equals element then we'll fmt dot print ln and we will print the element which i guess we can just do like that so now i've avoided having to do these ij checks because it just automatically happens at the top of the for loop and in fact we're actually able to avoid a ton of unnecessary comparisons because we start right at i plus 1 which means when we start at element 1 then down here this j starts here so i up at 1 j at 3 which means we won't ever look at the same element and we won't ever look back now you will reach a situation when you get to the very end where j will actually be greater than the length of a and when that happens or sorry it'll be equal to the length of a when that happens this for loop just won't run and we just won't find any duplicates because if there was any duplicate for 6 we would have found it previously in the array or in the slice so let me run this now and show you that this does indeed work the same way so we do that and we get the value four and let me show you now if i add say six here so we have two sixes they will print out that duplicate as well so let's have a look here and we get four six okay so that was the example i wanted to do i just wanted to put something kind of complicated maybe for some of you in here just to show you how we would go about solving something like this and how we can use a for loop inside of a for loop because the range function itself is useful but i wanted to do some examples so anyways i hope this was helpful if you guys enjoyed make sure you leave a like subscribe and i will see you in the next golang tutorial