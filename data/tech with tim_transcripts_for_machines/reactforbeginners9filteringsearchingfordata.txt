hello everybody and welcome to another react tutorial for beginners in this video i'm going to be showing you how we can actually filter our data so in previous videos we've set all this stuff up we've done the styling but our search bar doesn't work right when we actually search for something it doesn't do anything so in this video i'm going to show you how we can make that work so filter the different items that we have in our data this will be a shorter video but that's all we need to do all right so let's go ahead and get started we can see here that we already have our filters right we've set this up already such that when you press the search button it passes the filters back to app.js so kind of the hard part there is actually done all we need to do here is use these filters to actually filter our data so we have two options here we could and ignore this i was working on this previously ignore that function call pretend you didn't see that so we have two options here is where i was saying we could filter the data inside of items display so we could pass the items to items display we could also pass the filters and then inside of here we could do the filter that makes sense we could do that that's fine nothing wrong with that but i would prefer to not have to pass the filters to this component and to instead filter the data inside of this app component and only pass the data that i want to be displayed to the items display component so two different options here again you can use whatever you want but i kind of prefer to not have a ton of props being passed around because it gets kind of confusing and instead use the prompt where i have it right so in this case i have filters sorry which is a state and so what i can do is just use it to filter the data and then i can pass my filter data as items so rather than passing all of the items then filtering it i'm just passing the items i actually want to display again you can make arguments for which one is better or worse but for now we're going to do this so i'm going to make a function here i'm going to say const and you already guessed what this is it's going to be filter data like that this will be equal to an arrow function this will take in some data and what this is going to return will be an array with all of my filtered data so all the items that i actually want to display so i'm going to start by saying const and i'll say filtered data like that is equal to and this will just be an array so it will actually return here will be our filtered data but now we need to fill this array with that data so what i'll do here is i'll loop through all of the items in my data and then i will check if these items match the criteria in my filters so let's look at filters if we go to search bar we can see we have name price type and brand that's what our filters are going to be but some of these filters could be their default value they could be an empty string it could be 0 for example and so before i actually apply this filter i want to make sure it's not its default value because i don't want to filter based on say an empty string because that was just the default value the user didn't actually type something in there so let's go ahead and do that so if we go here filter data i'm going to start by looping through all my items so i'm going to say 4 and i'll say const and this will be item of data now just so we're clear on what data will be data will just be a list so what we'll actually do here is we'll call filter data as you saw i did previously and we will pass a list of the items we want to filter so we'll pass data and the key items because we're holding a uh what is it an actual object here it has the key items and the key items has an array okay so we pass the array to filter data and then we're going to loop through it so go through all of the items now we're going to check if the field in our filter is actually not the default value and if it's not we'll kind of apply that filter so we're going to say if and this will be filters dot name does not equal an empty string so filters.name does not equal an empty string we want to apply that filter so then inside of here we'll have another if statement and we'll say if item dot name does not equal and this will be filters dot name then what we can do is we can simply continue we don't actually need all these curly braces but i'll just leave them in here for now because i think it makes sense i'm trying to see if there's a way that we can actually combine these together i think i can do something like this so i'm going to say if filters.name does not equal empty string and item.name does not equal filters.name continue okay so that's good that's the expression that we want here so the reason for this is we need to first check to make sure it's not an empty string if it's not an empty string and the name of our item does not equal the filter that we have then we're going to continue which means we're not going to add this item into our filtered data and so we're kind of skipping it in that sense okay so let's copy this and now we're going to do the same thing except this time we're going to check price so it'll be a little bit different we'll say filters.price does not equal equal zero and item.price and remember this is the maximum price if item.price is we'll say greater than and then this will be filters.price then same thing we want to continue because we're above the maximum price we don't want to add this item in okay so same thing now except instead of name we're going to have type okay so now we'll just change these to be type and this will all work because type is just going to be a string okay and then lastly we had name price type and brand so let's make this brand okay brand and brand and by the way continue will just automatically move us back to the next item so we'll just skip this item essentially when we hit continue so we'll go to the next iteration of the for loop and then at the very bottom here we will say filter data dot push and we'll push on this item if of course it made it to this stage alright so let's quickly recap what we're doing here we're just going to check all of the filters the first thing we're checking for all these filters is to make sure they're not equal to their default value if they're not equal to their default value then we'll actually check if this filter applies to the object that we are on and if it does not then that means we'll continue we'll skip this item because only if we get down here to the very bottom do we actually push this item into the filtered data so it has to pass all four of these checks before it gets in if any one of these checks does not come up true or i guess in this case does come up true because we're doing it in kind of the opposite that means we won't add this item into the filtered data okay so that should theoretically work and that's really all we actually need to do to get this to work so let me just see if my website is running i believe it is okay let me refresh here let's add an item and let's see if we can filter it so we'll say name tim price 499 type person brand great okay so add it in add item and for some reason it didn't show up okay so i think we're gonna have we're having a problem sorry here uh with our filter data function because that's the only thing that could make this not work so let me have a quick look here and see what's going wrong and then i'll be right back all right so we will continue in one second we need to quickly thank the sponsor of this video and the series which is algo expert algo expert is the best platform to use from preparing for your software engineering interviews they have algo expert the product that i've been talking about this whole time they also have systems expert to help you prepare for your systems design interviews and now they have machine learning expert check them out from the link in the description and use the discount code tech with tim for a discount on the platform all right so i was just doing some debugging here you can see i'm just printing out what the filters are and i have found the errors let me refresh and show you actually how i came about finding this error because i think this is useful so if you can look here in the console when i press let's say add item here you can see that we're calling this filters function right and so we're going to console.log the filters now that's what's being printed right here this is the filters notice how this is an empty object now the reason this is an empty object is because i haven't pressed search yet when i press search notice this changes now it says name brand and then it shows this kind of empty object right that i have so the reason why we were getting this error where it wasn't showing us that item is because by default the state here is holding just an empty object that has no keys and so when i go inside of here filters.name is not equal to an empty string it's undefined an undefined is not equal to an empty string and so we immediately skipped our item hopefully that's clear but since we didn't have any filters this just broke it didn't work the way that we wanted to and so what we'll do inside of here for filter data is we'll just have one line here we'll say if filters is equal to an object like that then what we can do is we can just return our data again because if we don't have any filters there's nothing that we need to filter so now if i go here and again sorry so you can see that i don't want to go too quickly for you guys and i just refresh this let's add an item so let's say name 299 person test okay add item and of course it's not showing up okay that's interesting okay so it turns out that this line actually doesn't work i'm assuming that you simply cannot compare an empty object to another empty object and get true in javascript maybe i'm wrong on that but i'm pretty sure that this comparison is just invalid this just doesn't work we can't do that and so instead what i'm going to do here is i'm going to check if we have the name property in our filters so if we do not have the name property in our filters that means that we haven't yet filtered anything because we will always get a name that's going to be one of our filters we'll always have one of those and so in that case we can just return data so let's do that and let's see if this works now i'm going to go here okay and now this is working it's actually showing the correct items so let me just refresh this and let's restart so let's add a new an item tim 299 type person brand test okay so let's add item and now this is working it's showing up and now let's try to filter it so let's make the name tim and let's search and okay that works but if we change the type to say not a person and now we search notice it goes away right but if i remove this and now i press search it shows up again because now this reaches the filter but if i change this to 399 uh this is still working okay oh it's because max price is above what it should be uh okay let's make this lower so let's make this 2 90 and search and then it goes away okay that makes sense all right so the filtering is now working now let's add another item in here we'll just make this one tim again price will be 5.99 type person brand test add item okay now we'll press this to filter okay so max price 290 of course is not showing up now if we go three dollars and search we get this item but what if we go to 5.99 search okay it is showing up now let's filter by the brand test okay still showing up and there you go everything is indeed working all right so the filters are working again let's just have a look at this function this is really the meat of what we've done here we said filter data we're taking in some data we're defining our empty list this is what we'll return with our filtered data we're checking if we've called this or if we set our filters already if we've not set our filters and it's equal to an empty object like this so we do not have this name key that means we can just return the same data there's no filtering that we need to do otherwise we get a loop through all of our data here and then we're going to check all of the following things right and i've already walked through this so i won't walk through it again okay so that is really all we need to do to get the filtering working hopefully that was helpful there is a way to do this using the dot filter command or i guess syntax method function whatever you want to call it but i think it's always helpful to write out manually just so you understand exactly how you would do this if you weren't allowed to use something like dot filter all right so hopefully you guys enjoyed this video if you did make sure to leave a like subscribe to the channel and i will see you in the next one