hello everybody and welcome to another youtube video so in today's video i'm going to be showing you an awesome platform called choreo now choreo is made by ws02 which is actually the sponsor of this video i do have to disclose that they have paid me to create this video but this is an awesome platform and i think you guys are going to be really interested to see what this can actually do so to give you a really quick summary of what this platform is essentially it's a low code cloud native engineering platform for developers now i know here it says professional developers but even if you're just trying to create a simple api microservice something like that and you want to easily be able to deploy it test it and view all of the statistics and kind of analytics related to it choreo is definitely something to check out so as it says here low code cloud native engineering for professional developers and really what that's saying is that you can actually use the choreo online editor to create and design all of your different services and apis and the code will automatically be generated for you now of course you can go in and manually modify the code but it's really cool how this works and i was able to actually get my first apis and services running on choreo in like two or three minutes and when i say running i mean fully deployed you know credentials authentication everything it would just it just worked it was just done and so it's super impressive and that's why i'm going to show it to you today anyways what are the core benefits of coria well you can create an integration build micro services manage an api run professional devops and build an api marketplace of course you can do a lot more than that as well and then here this is kind of the main feature for me at least that's really interesting which is the simultaneous low code and code so low code is kind of this diagram you see on the left hand side i'm going to show it to you in one second and this is synchronized with the actual code on the right hand side of the screen and so when you make a change to the code it changes the diagram when you make a change to the diagram it changes the code and you can really just go and do everything on the diagram you don't even need to write any code at least if you're doing something that's kind of simple all right and then all the tools you need for cloud native engineering in one platform so obviously it has a bunch of different integrations it has stuff like twilio it has email and sms authentication github everything you would really need honestly so moving on here it says idea to production in hours not minutes now i can vouch for this really the best part of this platform is that it deploys everything for you so that is really what i appreciate it because i'm not a big devops guy i'm not big into kubernetes and what this actually does is run your api and services to a devops pipeline and then it deploys it in a kubernetes cluster on the cloud with proper authentication and everything all right so that's kind of the summary on choreo now if you guys want to check this out for yourself you can click the link in the description and create your first choreo app but what i'm going to do now is head over to the choreo portal this is where you're actually going to do all of the api and micro service creation i'm just going to walk you through some services that i've created so clearly here we have services apis and integrations kind of the main things to be looking at i'll just quickly show you this integrations tab because it's pretty interesting what you can do here now i'm not going to walk through any of this in depth but you can see that you can actually use choreo to integrate with github with salesforce with google sheets with google drive with twilio with slack with a bunch of other things and so if you're interested in doing that then obviously head over to choreo and check it out and you can see how that works okay so what i'm going to do now is just go to my services so i'm going to press explore here notice i have two services now to create a new one you would press create you can create the name of your service then you can just start building it out what you also can do though is you can click on the try out samples and you can try out some of the samples that they have one of the services i have running is actually this sample right here so if you just want to mess around with this just click the world bank data to cover 19 statistics and then you can kind of mess around with the the platform and see how it works all right so what i'm going to do is go to my world bank development service here and i'm just going to press on develop now what this is going to do is bring me into this view that i was talking about right where we have kind of the editor on the left hand side the no code view and then we have the other view over here so these things are synchronized as i was saying so any change to something on the left is going to affect the right and vice versa so i'll just quickly show you what i mean by this but you can see that we have you know a resource this is saying okay we're going to get and then some endpoint this endpoint is development slash indicators okay and if i go here and i just modify this so notice my path says development slash indicators then it's saying okay we're going to take a parameter this is string country let's just change this to just say indicators so if i do that and i press save api notice on the right hand side of my screen here this changes right this used to say development slash indicators now it just says indicators in the same way if i go here and i say okay let's change this back to development and now let's save let's see what happens on the right hand side notice when i go back to edit development is back so that's a really cool thing here is that you have a single source of truth which is this code and this code is modified when you modify the diagram or obviously when you modify the code itself and then it reflects that change in the diagram so that's kind of the basic idea of how this works so let me just walk through this service for you and just discuss kind of what it actually is doing and then i'll show you this in deployment i have a python client again that's implementing this so it says resource this is a get resource so that's what we've defined we're going to accept a get request here and then what we're starting off by doing is creating a new world bank endpoint now this is built into choreo this is just some integration that they have but the whole point of this endpoint right here is to get indicators related to the development of different countries so it's going to give the population and the gdp of whatever country you pass to this endpoint and so if we look here we can see we're creating a new world bank endpoint that's where we're getting the data from then we are sending a request to that endpoint that is getting the population by country so here on the get request we're accepting a country typing in a country we're then creating the endpoint we're then sending that country to the get population by country method that's going to return to us the population of the country and then we're getting the gdp by the country so in the same way sending it to this end point and then getting a response that gives us the gdp then what we are doing is having a response and this response is going to have both the population and the gdp in json format and we're going to return so if you look here we can see we are returning status success indicators population get population response dot value and then gdp get gdp country response dot value so that's all we're doing pretty straight forward so that's what this does now what i'm going to do is just run this for you although you can see it's already running down here and just show you how we can actually mess with this endpoint there's a few different ways to do this so let's bring this up here and notice how we have this run and test tab now right now this is running but if i wanted to stop it i would simply press this stop button so i can press stop application once that's done then we obviously can rerun so i'm just going to run the application again now this takes a second okay let's run this and there we go it says your integration is successfully started all right so there we go it's now started you can see it has the test invoke url so this is the url we're going to use to actually test this application and then you can see kind of some output here from the actual app now once you do this once you press run you should see that it pops up this window here that says try and shows you curl so here what you can do is choose between your test or your deployment servers now in this case i'm just going to use my test server or my test domain url whatever you want to call it and notice it's giving you kind of the documentation of this endpoint so i have development slash indicators and then i need to pass a parameter which is country now if i click on this i can actually just go ahead and test out this endpoint so i can press try it out i can now fill in a country i'm going to put in ca for canada and then i'm going to press execute now once i do this notice that we're going to get a response here we get status success indicators we get our population 34 million and our gdp i guess that's like 1.6 trillion or something like that regardless that's what we're getting right so this is all working we can see that we have 200 as our status code and that is literally from me creating this little diagram we have a fully functioning api now to prove to you that i'm not cheating that this actually does work outside of this platform i'm going to show you this running in my kind of little test client that i've created but i'm also just going to show you what happens if i copy this url and just put it right into my address bar so if i go here this is the base url now where i want to go to is development slash indicators convenient that's right there but we'll just type it out so development slash indicators like that and then in this time we'll do slash us so when i do slash us notice we get our population i guess that's 309 million and then our gdp here to the exponent 13. nice there we go we got what we need so this does work outside of here now i could change the country if i go ind for india we can see the population and udp here and obviously you can try this out with any other country that you want now i did notice that for this specific api it takes like the initials of the country so if you type canada like that it's not going to work you need to actually give like ca or us or whatever the kind of initials of the country would be nice though okay so that is how that works now that is the test server so on the test server you don't need any credentials you don't need any headers with your request but when you actually have this fully deployed you need to have some authentication headers so right here i'm just in test mode so we're just testing it out but what i'm going to do now is go to go live but actually before i do that i'll just quickly show you that as well as using this kind of little tri form that pops up here you can also use postman so i've not linked my postman account to this but you can link postman and you can set up tests through postman or you can actually set up tests right here through the programming language which is ballerina now i'm not going to show that to you just showing you that you can indeed do that you can make automated tests and then it will run those tests for you on the api obviously something that's pretty useful so what i'm going to do now is press on go live so this is actually going to bring me to the page related to kind of the deployment server right so the actual final product now notice we have our production invoke url so i'm going to copy that url and notice now that if i go here and i use this production url and i try to go development slash indicators it's saying that i don't have the right security credentials this is because we need an api key and we have to send that api key through in a header as a part of the request here to be able to actually get a response that's different than the task server the test server you obviously don't need that and you can see i have some logs here i had some errors previously obviously when i was messing around with this so here it says security header right so what i can do is view the security header or i can copy it to clipboard so it says i've copied it to the clipboard i'll just go here to sublime text which is where i have my clients then i can paste this and obviously you can see the api key now you should not show people the api key but this is just a tutorial so i'm just kind of showing it to you right here but regardless this is an api key and to be able to access the production server or endpoint you need to pass through as a header the api key and so here i'm in a little python client i've created so what i'm going to do is just run this python client so i'm going to open up my command prompt here which is where i'm going to run it from i'm just going to go actually i think i have the command already python choreodemo.pi and what it's going to do is ask me to enter a country so you can kind of read through the code if you want it's quite straightforward i'm going to enter the country ca and then notice it's showing me the population and the gdp now let's try us nice let's try india nice there we go so you can see the different populations and gdps perfect so all i've done here is i've just sent a request using the python request module request.get i'm sending it to this base url which is the deployment url i then have my endpoint so development indicators and then i'm passing through as a header right here the api key and then if there's not an error from the response i'm simply printing out the population and the data and i'm getting that obviously from the response.json nice so that is how this works sweet so now i'll just show you a few more things related to actually kind of observing your api and your deployment so here let me just close this and let's move this over a bit just so we can see it alright so this is the execution history pretty straight forward showing you all the executions of the api or service or resource whatever that you've created notice it shows you which ones were successful which ones had errors and there you go now it also shows you the success rate of all of the individual calls you have inside of this api service so i have a 69 success rate for get population by country 100 success rate by get gdp by country and then showing me the average latency or response time story of each of these resources so i can see what's taking longer and maybe what i would want to cut out or move to different places in my application so really useful information it's pretty hard to get this information unless you have some type of platform like this or you're actually doing you know real monitoring of your api so definitely super useful so another interesting thing to note here is that choreo actually uses ai to forecast and try to predict what the average latency and throughput of your deployed resource api whatever it is is going to be so in this case you can see the throughput is five requests per minute and the latency is 11.16 seconds at least that's what the ai is forecasting so pretty interesting that's in the bottom right hand corner now what i'm going to do though is i'm actually going to show you how we can modify this api and how easy it is so the modification i'm going to make is that i actually want to send an email to myself every single time this api runs so i'll show you how to do this but i'm going to add something here and let me actually just kind of make this full screen so it's easier to see so let's go over here i'm going to press a little plus and right after i get the population and the gdp but before i send the response i want to send an email so i'm going to go to api calls and then notice there's mail by korya now there's a bunch of other ones as well you have sms you have world bank you have a weather api a bunch of other apis and integrations you can do right but in this case we're just going to use mail so let's press on mail and then i can choose here the operation that i want to perform and notice that the default operation is send email that is what i want to do and then it actually gives you the documentation for this operation on the right hand side of the screen so this documentation obviously will be for the code we don't actually need to write the code though because you can see i can just put in all of the different values that we actually need and i'm getting auto completion here of all of the different variables i have in my code so if i open up my code here you can see that the reason it's giving me get population response is because well that's one of the variables that i have get population response so in this case what i'm going to do is i'm just going to hard code in a recipient for the email and then i'll put a subject and message body and i'll show you that this actually works every single time you call this api so for the recipient i have this kind of dummy email that i use for some youtube videos so i'm going to call this code racer live stream app at gmail.com for the subject i will go choreo api and for the message body oops sorry this needs to be in a string here you got to put this actually in a string like double quotation marks and then for the message body i'm not sure exactly what i'm going to put here but i might just put what the gdp and the population actually is assuming that we actually do have a gdp in population so what i'm going to do is i'm going to get population response dot sorry it's going to be 0 question mark dot value now i won't explain exactly what this is but this is just going to get the value from the population response so it's saying this needs to be a string notice actually giving me the error message which is quite nice so what i'm going to do is just convert this to a string and now what this should do is actually email me the population of whatever the country is that i typed in in fact what i'm going to do here is i'm actually going to change i'm going to say choreo api results 4 and then i'm going to say plus and then country which will be a string so the subject will actually show what country i got the results for and then what we'll do is we'll say population colon plus this all needs to be a string and oops and then we'll go plus we'll do the pipe and then we'll say gdp and then in the same way i'll do the gdp so go plus and this is going to be get gdp by country response this will be at index zero question mark dot value like that and then dot to string nice so that should actually be good that should work now when it sends the email but let's see what's happening here so it says undefined symbol and then says click here to convert the expression to a string nice so let's do that add some quotation marks for me really nice and now what i can do is simply press save all right so now that i've pressed save we should see that it adds in this diagram here the send email so let's zoom out a little bit and you can see that we now have this kind of resource here that we're using we're sending a request over to send email and it will then send that email after we hit this api and if we go here to the code we can see that we've now implemented that so let's just make this a bit bigger and we have send email we're making an email client we have the email we actually want to send the email to and then the string that we would like to send nice so let's test this out now i will just do this actually i can do this from production but i need to redeploy my application so let's do that and i can show you how that works so what i'm going to do is go to go live all right and i'm just going to stop this and redeploy it because whenever you make a change obviously you need to redeploy yeah css redeploy the service for the latest changes to go live so stopping stopping stopping once this is done i will restart it and then i'll show you how this works alright so that is now finished now notice there is a deploy button so i will press deploy alright so it is now deploying as it says is going to take a few minutes to finish so once it is done i will be back and then i will show you how this now works with the email and how it's actually sending the email to me all right so the deployment was successful all is working so what i'm going to do now is go back to my implementation here and i'm just going to rerun this program so python choreo demo dot pi enter country let's enter ca and give it a second here gives us the population and the gdp and now what i'm going to do is go to my email and show you that i did actually get the email right it just sent me an email from choreo.demo gmail.com i got my population and i got my gdp and it says choreo api results for ca for canada right and i can show you that this will work again so let's go here and let's go india okay that was pretty fast we get our population and gdp go to email and instantly i have gotten the email that has the gdp and the population so that is how easy it is to integrate email and to actually change all of the code obviously you just have to wait for it to deploy but that's natural it's going to take a few minutes for it to happen all right so then the last thing i will show you here is how you can actually monitor and observe your services apis whatever that are deployed so when you press on the observe tab what this is going to do is bring you to a similar view that we saw before and it's going to show you the latency for every single one of the services that you have now obviously sending the email is going to take the longest that makes sense and then you can actually go and look at some graphs of the throughput and the latency so let's make this full screen so we can see everything so let's just change this so rather than past hour we have past 10 minutes and we can see all of the requests that we've sent how long on average it takes for them to be finished so in this case we had about i guess that's 1.3 seconds this one was much faster it was only about four seconds or sorry not four seconds point four seconds then we can look at the diagnostics view and we can see any errors that have occurred so it shows us memory cpu and then any errors so if i go here you can see this is an error that occurred when we sent some type of request nice now there's a lot more that you can do obviously you can change the time zone here you can change the refresh time you can look at more statistics you can look at the logs so if i go to logs we could have actually been logging stuff if we wanted to we're not doing that but we could and then system and alerts i guess are blurred out for this one right here nice so that is pretty much all i need to show you now i guess the last thing i will do is quickly hop back to services and just show you another service that i actually have running so world bank data to covet 19 statistics so let's click on this we are in the develop view and notice in the same way that the other one worked we have just the diagram of what we've created and then we have all of the code on the right hand side here and well i just want to show you that this is diverse you can obviously do multiple things and this is something else that you could do as well right so this is actually giving you covet 19 related data so it's giving you i guess the number of cases per 1000 people or per 100 000 people or something along those lines and anyways you can just kind of have a look at this and see how this one differs a bit from the other one that we just looked at so yeah with that said i think i'm going to end the video here so a massive thank you to wso2 for sponsoring this video and having me talk to you about choreo yes of course this is sponsored i am disclosing that to you guys but this is actually a really really cool platform and i was genuinely surprised when i started using it at just how fast it was to actually get this stuff up and running i mean you saw me in this video i made a change i deployed it and that maybe took two or three minutes for it to actually deploy to the kubernetes cluster i was then able to use it it actually sent an email just a super cool thing and obviously a great platform to check out if you want to do something like this so anyways i hope you guys enjoyed if you did make sure to leave a like subscribe to the channel i will see you in another youtube video