hi this is Alex from PHP academy' door creating this video for the new Boston we've already looked in file uploading at how to actually upload the file then what we did is we went on to look at the security so we made sure that this file could only be jpg or with the jpg and we did that in two ways to ensure that we have the maximum security possible however what happens if we want to check the file size now file size is actually processed through in bytes so we can uncomment this now because we want to use this so let's just echo that out and then we'll comment how the rest of this code so we can preview the result of this so let's just go and choose a file we'll choose this image file again and click Submit now you'll see that this file has been returned at one hundred forty five thousand eight hundred and one bytes so we can automatically tell by looking at it with simple maths that this is one hundred and forty five kilobyte file nearly one hundred and forty six kilobytes so we can use this to allow ourselves to process files let's say we don't want to file over two megabytes we don't an image file over two megabytes so let's say we are going to stick without two megabyte maximum allowed file size now the way we do this is we can easily work this out using Google so if I just pull up this page here you can see I've already typed two megabytes two bytes Google's automatically use the calculator to work this out for me it's two million and then blah blah blah so if we just copy and paste this we can copy and paste this into a variable in our code so we can get rid of these comments now so I want as well as let's just get rid of this echo as well as well as extension up here I now want to create a variable undersized saying max size so I'm going to make this equal to this number obviously we want to pull in the spaces so we've got it as an integer so the max size is this so we need to now perform a simple check to see if the max size is less than or equal to sighs so what we're going to do is we are going to modify this here and we're going to create another answer using another logical operator here and and we're saying and size smaller than max size so now we need to modify our error message accordingly accordingly and must be two megabytes for or less okay so now what we're doing is well it's checking for the file extension we're also and then checking that the size is less than oh I forgot the equals two so less than or equals two Mac size so this is a this is basically going to work now so let's just double check I don't actually have a file available that's more than two megabytes at the moment so what I'm going to do is I'm going to slightly decrease this value and I'm going to say a hundred hundred kilobytes so the maximum is a hundred kilobytes which is ten thousand well it's not exactly because of the you know just how it works out but we could more accurately calculate that there so now I'm just going to say a hundred thousand bytes okay so let's open up our choose file now let's get rid of everything in our uploaded folder just so we like this we've got one file in there let's just get rid of that let's pop a star in there and we'll delete that one there okay so now what we're going to do is we're going to upload two files and because I've now set my limit to roughly 100 kilobytes because as far as more than 100 kilobytes it won't be uploaded it's 142 kilobytes so if I click on that and click Submit you can see that we're now getting the error message far must be jpg and must be 2 megabytes or less so you can modify your error message accordingly or you could do two different if statements and one to check the extension and give the appropriate message or you can do one and and you could do one to check and give the appropriate message there as well so now let's choose this let's choose this file dot PHP now this one at this point just to point out if I was to change this to file jpg and I was to try and upload this you can see at the moment it's being uploaded and the reason for this is we need to change our if statement slightly I've just realized from the last video that we need to make em an adjustment so we also need to say and type equals equals and we need to say image and we need to say jpg okay so now let's try and choose this fake JPEG file which is actually a PHP file and we'll click Submit and it's giving us the appropriate error message however let's just say I was too and if we have an image here that's under a hundred I'll there we go we've got one here that's fifty four point three kilobytes so let's try and upload that we click we click Submit and it hasn't worked so let's go back again and this is just my logic and we need to let's just first of all and close this in brackets so we can see what we're doing properly we need to say if type equals image JPEG or type equals image jpg so let's try again so as long as you can get your head around the logic of it which I'm obviously having a problem doing at the moment you'll be absolutely fine so let's try not blow this 54 kilobyte file and that says uploaded let's just try and upload the fake file and click Submit and that says uploaded okay so little part let's go back and just revise our code and first of all so image extension is jpg or jpg we also need to say and type equals and this should always be correct if the file type is a jpg file so let's just and then we check for the size so let's just go through this again so let's try and upload first of all just a normal file okay so the size is bigger than two megabyte so now let's try not flowed one that's under the size which is this one here click Submit okay so that's been uploaded now let's try and upload this file jpg this PHP file we've renamed and that still being uploaded okay so I think probably at this point if a user were to rename a PHP file to jpg there's nothing that they can actually do with it in terms of on the server it will still be uploaded as an image file unless they have access to the server to rename it I don't think it actually matters at this stage however as it stands we are securing our form as much as possible with regards to only allowing JPEG files to be uploaded we using the extension and the type obviously by changing this we've changed the type so we have a bit of a problem but nevertheless we'll just test this out quickly and type in an echo next to the type just to see what happens when we upload this let's click Submit yeah you can see it's imaged 4/2 trip that's just simply because we've renamed the file so I think for now we've we've secured it quite nicely our files have been uploaded and we've checked for the size