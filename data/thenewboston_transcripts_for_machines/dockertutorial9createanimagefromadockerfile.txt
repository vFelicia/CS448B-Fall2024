all right yeah welcome back to another tutorial and in this lesson we are going to be taking a look at how to create images from a docker file now in the last video we already covered how to create images so why do we need to know this new process well admittedly the last technique it wasn't the best it was a bit manual not very scalable it was error prone and to be honest it's just easy to forget the steps like if someone asked me tomorrow how did you create that image i'm gonna have to remember everything and count on my memory is never a good idea so instead what we can use is something called a docker file and this is all it is is really just the configuration file to tell docker how it should create our image and in very basic terms it allows us to replace everything that we did in the last video with one file all right sounds pretty cool so let's get to it now the first thing we're actually going to need is a new empty folder a new empty directory so i'm just going to cd to my desktop and all right so let me just make a directory called temp and cd into temp all right so ls nothing in here i'm in a brand new directory called temp what i want to do now is i just want to create the actual text file called dockerfile so i'm going to use nano since you know everyone uh watching can follow along and the name of this file is docker file it doesn't have any extension you need to make sure that the case is proper uppercase d not txt not docker not anything just create a file called docker file that's it now before we get into the meat of what is going to go into this file i want to kind of talk about how i visualize it in my head whenever i'm creating a docker file i imagine it like i'm turning on a computer for the very first time i just installed everything hooked up the power supply plugged it into the wall hit the on button and there you go so we have a blank computer it doesn't have operating system installed it doesn't have any software it doesn't have anything just a plain blank computer so kind of like the last video the first thing that we need to do is install our base image or in other words our base operating system so very first line we're going to use the keyword from to do this this means what is your base image or your starting point that you want to start from so we can just go ahead and stick with alpine just to keep things uh completely the same as last video we can do latest just like that so what we have to do after we have alpine installed or think of it like we now have linux running on our computer is we can install redis now we are going to use the run command for this so what the run command does is it executes the following command which we're going to be typing right after this and executes it on top of the current image which in our case is alpine right now so remember got a fire truck going on outside why are there always like emergencies whenever i'm recording a video i'm not even gonna pause it i'm just going to let it roll whatever all right so pretty much installed alpine and then on top of that we're going to install redis again went over this part in the last tutorial so don't need to walk through apk or anything now the last command is ironically cmd which stands for command and this is basically our startup command so even though redis is installed right here this basically is just going to install the software but it's not actually going to turn on the program so in order to do that for our startup command use square brackets then you know just quotes like you're writing out a string we're going to have the startup command of redis server now another thing that i want to point out super quick is you can also have any comments in there and typically in the dockerfile you're going to see lots of comments but um yeah not really necessary want to keep this one bare bones also i'm talking through everything so no really need for that all right so now we have our darker file with three commands there are actually more commands in addition to from run and command but we'll get into those later on for right now let's just go ahead and save it using depending on what system you're on control command x and then just do enter all right so now we have a docker file cat docker file there we go what do we do with it now well with this docker file we can actually build an image from it right away and it's actually very easy to do that once you have your docker file all you write is docker build and the last thing is a path to the directory where your docker file is but since it's in the same directory that we're at we can just use the dot which is basically a current directory and hit enter all right it looked like something happened and okay row image this looks promising so let me just clear this and see what happened if i go to docker image ls all right so we got our alpine in bucky's image and these were the ones from the last tutorial so this one must be the new one and let me just check all right writing image 52c852c8 okay so this top one is the new one however repository none tag none it's just a little bit hard to identify right now so what i want to do is actually remove this and i'm going to rebuild it and show you guys an easier way that you can identify it later on so let me just copy this image id right now and i'm going to do docker image remove i'm going to force removal of 523c so there you go deleted it and now if i do docker image ls okay so we verify that it's gone now let's go ahead and rebuild it so i'll show you guys the old command all right so before we did this docker build period let's just build it with the default settings but now since whenever we build it this way the repository and the tag are it makes it difficult to identify that image what we can do instead is pass in the dash t flag what this does is it gives you the ability to tag your image with a more human readable friendly name now the naming convention is typically your docker id and mine is the new boston and then forward slash your project name and mine is just let's name it buckys redis and we'll say that this is the latest right there so again all that change from the last build from this one is we included this dash t and you can really tag it anything you want but this is just kind of convention and again don't forget this period at the end we're building it from the same file just tagging it something different hit enter and all right so now if we go to docker image ls let me just expand this bad boy a little bit all right so now instead of none none we now have the new boston bucky's redis and latest tag now of course just to make sure that everything is good to go and we can actually run a container out of this image just clear out of this and we can do docker container run and then we're going to paste in the new boston slash bucky's redis and hopefully once i hit enter nothing explodes and boom look at that so there you go ladies and gentlemen that is how you create an image with a docker file again there's more to it lots of different keywords settings to learn so on and so forth but that is the basics so for now thank you guys for watching don't forget to subscribe and as always i will see you guys later