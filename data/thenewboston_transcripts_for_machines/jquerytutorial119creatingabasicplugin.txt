so we need to make this equal to a function and then we just pull down our brackets there as we usually would write a function however obviously we don't give a name to our function here we just leave it as function okay so down here is our or function or plugin contents so in this case the plugin is just literally going to replace or create a target based on what it already is so what I'm going to go ahead and do is just say alert I'm going to I'm just going to alert working out so what we're going to do is we're going to test our plugin that we've just defined here and we're going to alert out if it's working so inside ext JSI I want to go ahead and test this and I'm going to test this using all a tags so the first thing we want to do in jQuery is obviously wait for the document to be ready and inside here we create our function so I want to apply this to all a tags so I want to go ahead and use the selector to select all a now what I can do is as opposed to using a someone else's function or something part of the jQuery library we can actually go ahead and call our own function and that is target blank and don't forget the parentheses as well okay so now that we've done this what should happen is is inside here obviously we've included plugin where we've defined our plugin and here we're actually calling our plugin this should just simply alert out working so let's go ahead and refresh and you can see that it just instantly alerts outworking obviously there's no you know functionality to this it's not you know what we want it to do but now that we know that we've called it through EXT is here we know that it actually works because we alerted something out so if you do complete this process every time you go ahead and create a function or anything in jQuery really you'll know that something's working based on an event in this case it was just to alert something out so with regards to the actual plugin structure now we've completed it so we've essentially gone and created a jQuery plugin however will obviously go through and we'll a bit more about how this particular plugin works and you might learn something along the way as opposed to actually creating a plugin yourself so the first thing we want to go ahead and do is actually get the target of the current element so in this case it's all a tags so we want to go ahead and say var target so we're creating a new variable called target and inside of our plugin we can use this as we would normally in jQuery to reference the current element that this plugin has been appended to or the element that's using this plugin so we can use this and what I'm going to do is I'm just going to go ahead and get the attribute target so in this case what we can now do is alert out target and we can start to see inside of our browser what kind of output we get based on what we've supplied as the target now at the moment the target is undefined we haven't actually created a target to this so when i refresh you can see we get this undefined message he'll this undefined result here now if I go ahead and actually add a target but leave it blank you'll see that we get nothing so we've got something blank so now we're starting to think what we actually need to check for in order to modify this target attribute and in here now I'm going to go ahead and use underscore blank and that will just output underscore blank and then obviously I can do the same for something like self and when i refresh we get self so we now know that what we want to do is we're checking for three things first of all we're checking if we're checking if the target actually is undefined or if the target is defined but equals nothing but we also need a list of targets that we can supply in HTML and then actually check these and we're going to be creating them as an array so the targets that we have were we're allowed to use we're going to be putting these into an array and checking whether they equal it and if they don't equal it so for example if we'd supplied self here we don't want to then go ahead and change this to blank if the users defined it as self which we will put into our array so for now let's go ahead and just get rid of all of this inside plug in J s I'm going to get rid of this alert once again and I'm going to go up here and I'm just going to define a target array so we're going to create an array with potential targets that could be inside of here now there's four in total and this doesn't include using a target to open something in an iframe and we're not going to be taking that into account in this example but if you are loading content into an iframe using a link and you are using this plugin you might come across problems so that's something to go ahead and look at yourself so the four options we can have is first of all blank remember we don't want to replace this with blank if the target already equals blank so you know we don't want to go ahead and use any more processing power to change this if it already equals blank you also don't want to change it if it equals self and then again the same with parent and top as well so these are the other potential values that target could be so now that we have this we can use the jQuery in array function to actually check whether the target is inside of this target array and if it's not inside the target array we you know we don't want to do anything okay so now that we've done this we'll go ahead and create an if statement and we'll take into account the three issues that we came across the first one being if this is undefined so at the moment in this current state the target is undefined so the first part of our condition is if target is equal to undefined and obviously what we want to do here is apply target blank so if the target is equal is is undefined we want to etat we want to apply the target underscore blank because that's what the plugin however we're going to use the or operator to check two more things the first one being that target is equal to nothing so the first one target undefined is in this state as it is now the second is if target is equal to nothing so at the moment this is equal to nothing and in this case if target equals nothing now we could be clever and we could say we want to trim this target value so we'll go ahead and do that now I hadn't planned to do it but we can use jQuery trim to trim the left hand and the right hand whitespace of the target