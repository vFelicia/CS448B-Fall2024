hi this is Alex from PHP academy' org and this is another tutorial for the new Boston now in this tutorial we're going to be creating a nonunique hit counter and by a nonunique hit counter I mean that every time the page is refreshed or rather every time we call the count function because we're going to be dealing with a lot of functions in here we're going to update an a text file with a value and that value is an increment on to the value that was previously in the text file so we're going to start off by creating a text file with a value of 0 inside it so I'm going to save this and I'm going to call it count txt so we've got count dot txt with 0 in it eventually this will increment depending on how many times the page is refreshed but that's that obviously the basics of it now what we need to do in PHP is work out how we're going to do this now it's always a good idea to use include files in your website and the reason for this is you don't have to copy and paste the code over for every page that you want to count on so we're going to create another new file this is going to have PHP tags in it and this is going to be called count PHP now count dot PHP is going to contain the function we need to increment account so what we're going to do is we're going to start by creating a function and that's going to be called and we'll say hit underscore count so what do we need inside this function well first of all we need to access count.txt so I'm going to create a handle and this is going to be F open and that's going to be a count txt and we're opening to read in so we use an R to specify that we're reading in from this file now what we're going to do is we're going to incorporate the F read function into this so I'm going to say current equals F read so it sorts about freed so F read and that's handle now we need to specify the data that we're reading in the length of the data we're reading in so this could be for example to my have a two digit number so basically if I had say the word Alex or the name Alex inside a file we need to read four from the for the length of four so how are we going to go about reading what's that you know we'd only read too much and we don't read too little if you've already seen the file handling tutorials you'll know that we can use the file size function which we can put in here to read in a specific file size of a file so I'm going to create a new variable up here called file name and this is going to make it a lot easier to update everything dynamically so I'm going to change this and replace it with the variable I've just created so this is this lines now going to do exactly the same thing however with file name we need to specify something like count.txt inside it we don't specify the handle that we've actually opened so we can then specify file name now what we can do is echo out current and see what happens so we need to call this function so let's go into index dot PHP let's require in fact let's include because it's not really a required file we don't really want to kill the rest of the page if we can't count people's views for pages views so includes count.php okay so now we can call this function because we've included this file so I'm going to say hit count now at the moment obviously this isn't going to update the count ext file but hopefully we should now read right to the screen the value of zero let's double check that okay yes so we've got a value of zero now let's just double check that everything's actually working and we'll update this to a thousand so the function here a file size would have taken the size of this so it will include that all four characters that we have inside here so let's refresh yeah so it's working correctly so we've successfully read it and let's just change this back to zero we've successfully read in the current file size now what we need to do is every time this functions cold we need to increment it so current underscore Inc equals current plus one okay so what we're doing is we're creating a new variable current underscore Inc and this is basically stamp increment and that's equal to current plus one so now let's echo well we can do that up here just to save space echo current Inc to see what it says it says one even though at the moment count is equal to zero so we're incrementing the value so we can store that hit and we don't need to echo that out but now what we need to do is reopen the file we can actually close the file here so F close that so we need to specify the handle so what we've done here is we've closed the file down here we're going to reopen the file and we're going to write the new value and the new value is this so let's just double check that we've got no errors now I've added that F close in there let's refresh echo this out just to make sure it's working ok so we've still got the value of one so everything is working now now like I said before what we want to do is we want to open up the file again so we can more or less use the exact same code here and in a minute I'm going to show you how we can change this and we're going to create another function that allows us to read or open up the file name again so we're going to create less code and we're going to create a more sort of flowing application that uses less less sort of repetitive code if you like so we'll do that in a minute so I'm going to say handle equals F open and again we're opening file name now already you can see we're duplicating code so we don't really want to do this that's why in a minute we're going to create another function up here and I'm going to choose w4 right we could append but we don't want to be want to rewrite the file so we're reopening this count txt file then what we want to do is we want to F right we're writing to handle and the data we're writing is the current but incremented so now after this we want to close the file again and this should have updated our file so it's updated with the original value plus one we've reopened the file but this time we're writing to it rather than reading to it writing to the file using this F write function and we write into this handle which is the open file here and we're inputting the current value but incremented by one which was obtained from here and then we've closed the file again so let's close count up txt and we'll return here we're recalling this function so now what should happen is it should automatically update one paramount column for F close oh yeah of course so we haven't closed current file so let's refresh okay so now let's try and open our count up txt and see what it says so it's got two because I've refreshed the page twice so now let's close it again and let's refresh again come back to context open up this file count.txt and it says three so now that we've couldn't successfully created our hit counter and then we know that it works obviously now you'll probably understand why it's not unique because every time we're refreshing the page we're not checking that it's the same user so okay like I've said before we've reused this code here which is handle a review we'll set a handle with the F open function and the same with the F right in actually fact looking at this code because we're doing two different things I mean we've got the file name here and then what we're doing is we're opening the handle we're actually retrieving data then we're closing we're performing this operation and then we're reopening another file and because we're doing different things inside each one probably not a good idea to put this as a function so I guess for now this would be acceptable to to write this like this we're not going to need to put another function in however because we've created this function this is a good idea because we've included this count file and we can specify this wherever we want so let's say we wanted to include this file but not count we can we can do that but if we include the file then we have the option to call this function which will hit count so if we don't call if we don't call the function and we refresh the page you can see that when we open the count txt file again it still remains at 3 so this is a non unique hit counter in PHP