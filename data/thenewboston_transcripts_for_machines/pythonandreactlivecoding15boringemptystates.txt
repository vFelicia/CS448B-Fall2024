all right everybody welcome back to another video and in this video honestly I have no idea what I'm going to be doing yet I have to go through the backlog and pick out some tickets it's probably going to be super super boring video not exciting at all would not recommend watching it's gonna be super dumb and on that note let's just go ahead and get started all right now that we got everyone out of the way let's actually build something cool and awesome okay so I'm probably just going to start at the very bottom and take care of some of this Tech that I know last time I said I wanted to start on the social feature but what I want to do is kind of Polish things up get them where I want before we build anything new now the first thing is empty States right here so yeah let's just tackle this one okay so what this means is that and let me actually get some empty States actually let me just check out this ticket and we can get started officially so pull this down am I recording I'm always confused if I'm recording or not even though I made like 5 000 videos so far okay 28 empty States all right now what this means is basically when you don't have any elements and we already did it for the shop app actually let me delete my products here so we can see one of our empty States okay so this was one of the empty States uh basically just some element rather than having an empty screen whenever we don't have any elements but I like this one right here so let's just pull this up off the bat since we can use that as a reference okay so this was using an empty page component so that is going to be handy minimize YouTube and we'll kind of just go through the existing features and see what needs an empty state so first of all this Wallace page I'll show you I already have wallets in there now but am I on localhost yes all right so let me just delete all of these and I'll show you the empty state for this and let me make sure I'm getting the true empty state by logging out logging back in well first we're going to do for Cores but we'll do it for wallets right now so that um this UI as you just saw you can create a new wallet and then when you do it's going to appear on the left and then once you create all the wallets possible then that button disappears so we don't really need an empty state for this part of it but I'm just going to go ahead and delete those wallets again just so uh we're working from a true empty State and also on the right you see where we have deposit and withdraw first of all this doesn't even make sense to have any of these selected outside the context of a wallet because first you need to have a wallet selected and then you basically are depositing or withdrawing from your wallet but either way a lot of work to do here um first and foremost what we can do is we can say if no wallet on the left is selected then just go ahead and show an empty State instead of these tabs so basically at this point if we don't have anything selected then just do that so let's get to this right now so on my wallets page in actually another thing that we could do is instead of just I mean it wouldn't be an improvement let me take that back I'm stumbling over my words here it would be an improvement to have a Graphic here to say like nothing here no wallets to display however what's even better than that is to give them a prompt to say something like nothing here select a wallet on the left I don't know some guidance at least but we'll kind of do that later for right now just uh taking baby steps here okay so back to my wallets page and that is in Pages wallets and how is this structured so I've rebuttoned the creative wallets or tabs at the top okay so on the right hand side what we were saying is render Tab and render tab content and instead what I believe I want something like this where we say render page content or even just render content maybe render right content that's going to be good oh yeah the render right content content and then what we'll do is first of all we'll just go ahead and return this so we are getting back to where we started and then we'll add some conditional logic so on the right hand side we're going to call the render right content function and right now it just renders what it did before however what we want to say is if you don't have anything selected and how do we pull that logic is it manager active wallet so we can say this tab content is manager active volat tab okay so in Redux our manager has an active wallet ID an active wallet tab so the ID is going to be something like equivalent to tnb or VTX and the tab is the deposit and withdraw so what I'm going to say is if there's no active wallet manager active ballot ID yeah I might want to change this to Hmm this is interesting okay let's okay let's take it just a little bit at a time okay so first I'll just keep it simple and I'll say if there is no manager active wallet ID and let's just go ahead and return null off the bat all right if they don't have any active wallet selected then returning null instead of tabs and this is going to give us our tabs okay so lots of work to do here but now your refresh this actually log back out log back in okay so I don't have anything so I'm just going to render that null however in this case what we want to do is we want to render an empty page and maybe this is easier yeah I kind of like this pattern so if you do have an active wallet and just go ahead and return that otherwise return that empty page and I'm going to copy empty page from this component and also do you need a graphic leaves empty state buys render this and let's see how you do that all right so this is good nothing here no products to display hmm so the thing about this is in this case when I have a wallet on the left what I would like this to say oh you know what we're going to change this is he as well because what I was thinking is this um if there is a wallet on the left then what I could do is update this prompt to say select the wallet on the left to see content however if there is no wallet on the left then we probably want the prompt to say something like create a wallet to see content now the reason that I don't think we need that complex logic and instead we can just say create a wallet is because once a wallet is created then the default logic I'm going to add later is that um basically like whenever users log out and come in if they have a wallet it's just going to automat automatically select everything for them um so in that case with all that said well I can say in here is nothing here select or create a wallet to uh I don't know create a wallet what can I say nothing here the bottom fix is a great a wallet to deposit or withdraw coins create a wallet to deposit or withdraw coins and also another thing that I believe I can add to this element this empty page element is on action text so action text could be something like uh great wallets say on action text click and this can be my click Handler and I'll show you what this is doing right now so this action text is yeah so you see that this is just static text and I don't know if you can tell on YouTube but this is actually clickable uh this should be a different color actually let me change this to make this a little bit more so on my empty State component what I can do is we can say on action text spam blue and right now spam blue is 500 let's bring that back a shade to 400. okay so now it's uh clear that this is a little bit more clickable but anyways I'll say create a wallet all right now let's go back here all right so the bottom text is going to say to deposit or withdraw coins in the action text we'll say create a wallet so deposit withdraw coins click on this to create a wallet and this is going to do the same logic as this button right here so in that case our render button container okay so on click toggle wallet modal and then where are you at render content when you click it you're also going to pop up this modal so check it out uh here it's going to say depository coins create a wallet you create it and this mode pops up boom boom boom okay now another thing that I want to do is this let's delete our wallets and keep coming back here from the perspective of an end user oops until we get all the logic that we want so I'm logging out I'm logging in wallets okay this is good so far great wallet button on the left empty State on the right now I want to say create a wallet I'm going to create this wallet and boom right there now at this point in time what I'm gonna do is I actually want this state to happen right after they create the wallet and what that entails if we can just take this break it down even more is it's going to require two actions one is you're going to update your manager set the active wallet ID and another is you're going to update the manager to set the active wallet tab so where is that logic going to go and I'm thinking this left section can just house that on this note we probably want to start splitting up this component so the left menu has bun container and the menu items menu items in the button container what are you doing so you have a toggle in there for the modal okay so maybe I just stick it in this entire page okay now let me think how this is going to work what I'm thinking first is even though um so basically the logic I'm going for is going to say something like this log out I know you guys are probably getting sick of me logging out and logging back in but basically if you go to this page and there is an available wallet then just go ahead and set this to your active wallet and set the default tab to deposit and this is only going to happen if the user doesn't have a wallet selected yet because basically if there are options but they have no nothing visible then that's what we want now what I can do is I can check for this in the manager however we also get into a weird situation this is very rare but they can indeed have an active wallet ID but no active wallet and that is if they created a wallet but then the core gets deleted and in that case what happens that is interesting that is interesting you know I think let's still have this actually what does happen whenever a core gets deleted I believe that the wallets would still exist yeah just with a null reference okay so let's say this um if okay okay so we're going to create an effect that says first of all check if you have wallets and how we can do that so we can just do the keys of these because we'll just set it equal to the first one by default how are these wallets ordered okay I'm going to name this wallet list order by ticker okay and those are wallets ordered wallets to me just look for wallet list so I'm going to name ordered wallets to wallet list and let me move this here and then what I'm also going to do is put a use effect here and then I'm going to say if there are no wallets just return don't do anything else now if there are and I'm just thinking and or or so manager Dot activewalletid and manager Dot activewallet tab so if they already have a wallet selected in a tab selected and just go ahead and return we don't need to do anything otherwise I would say we are going to get the first wallet and we are going to update the manager to set the active wallet ID to the first wallet dot ID and then we are also actually this update manager we can pass in multiple things right yeah partial okay update manager to set the wallet ID first wallet ID and also the active wallet tab is equal to wallet tab deposit okay and this should take care of all this logic okay now okay perfect that was good so log out log back in my wallets okay great so I already had one so automatically selected it in Redux and it led me to the deposit page now just to kind of check my empty State still working let me delete that log out log back in so now what should happen is I should see nothing here to deposit or retract coins create a wallet and now whenever I create one it should automatically pop that so I don't have to select it just like this go to withdraw comes back doesn't change it okay and now the last thing I want to test is if I have multiple wallets and let's say I'm on vitaxia withdraw now when I navigate away and come back I just want to make sure that it didn't override that and I'm still on vitaxia withdraw okay so that is great this is looking great beautiful okay so now let me just um okay fact is effect all right seeing if there's anything I could uh organize or improve even more but looks good for now so now let me run them into this and uh actually I can push it up but still got more work to do before we can merge it in this would just serve as like a checkpoint and this is uh what was this 28. actually what was my Styles changes my Styles what did I change oh yeah just that uh shade of blue okay so now another uh empty state for the course page so let's do that let's just this is going to delete a bunch of stuff do I want to do this already yeah why not all right so log back out log in and now gotta tackle this page Okay so hmm so I think what we can do this is interesting too since right now I have it set up where only I can add a core however that's kind of just to uh prevent spam eventually I want to have it where other people can add a chord to and I do have this button even though it's not going to work for anyone else but with all of that now I have to think what do we want the empty state to be um Oh either way we're going to have a Graphic here if there are no cores we know that so let's just do that already okay so this is the cores page so Source Pages course and then in the core cards all right so oh this is interesting too so we have a toolbar at the top and that is where the button is however we can replace this with our section heading component inquiry just a little out of date all right so first let's just uh get everything standardized uh this was one of the first components I made so that's probably why we never did this but either way we're going to replace that toolbar with a section heading and it's going to say course and then we also going to have a render button component gonna render return this return okay and now that we move the button to a section heading this toolbar which is the course one right yep all right the toolbar no longer needed see how we're looking chorus course now let's add some padding to this that's interesting as well that is interesting as well all right so for this oh this is what we can do actually just uh use that empty text beautiful okay but first of all actually let's go to my address pages and uh steal this yeah so on my container first of all I have this padding beautiful beautiful and then just like on shop my dresses we can just say no dresses to display and we're actually just use the same pattern address select model okay yeah we can just do this cores list yeah let's let's copy a lot of this logic okay so we are using memo and we're gonna say Coors list and this is going to be we'll just have it return this okay now we don't need this because that's replaced with that and then for rendering Court cards you can say well first of all Let's uh uhhuh yeah this is right your content right under Section heading okay so we're going to be rendering content instead of rendering course cards now if we do how did we do it here render addresses and then that one and your addresses what we can do is say something like uh render course and then here we can do core cards equals this and they're going to be rendered in the core cards container and then we can say if you have any cores then we are going to render those otherwise we're just going to say no course to display and all of that is happening right here under the section heading this is addresses address we can even rename that to cores if we want but well big steps um NLP all right so let's see what we got going on here all right we don't cut any cores it says no cores display beautiful beautiful beautiful okay so now let's actually add a core and see how our styling still looks so the Doom boston.net uh where's my logo where's my tnb logo logo 512 uh I'm the owner Bucky and ticker tnb now if I have a core all right that looks pretty good styling is it off a bit but and that is because in my container I have padding left and right and I don't think I need any of that just a grid of 12. yeah well I actually do want padding top and bottom so do padding maybe 16 zero actually what was it on my addresses let's look okay by addresses what was the padding on this go to dresses uh oh I actually just had a margin top of 12. that's even better oh yeah oh yeah oh this is nice and consistent cards container and IT addresses I don't like this name cards container maybe Coors container it's not bad though okay so this looks good and then this is going to be a grid with 12 so my cards will be laid out like that all right this is looking good this is looking good cool so empty state for those taken care of yeah I got into this situation too where if I don't have any cores then on this section right here you can't create a wallet because you don't have any cores however that's going to be uh I don't even think we need an empty state for that since that's a very rare situation first of all when there are no cores at all um because usually you're at least going to create one even if you spin up this exchange yourself then you're gonna create one before like inviting friends or anything so not really worried about any of that so now let me create another core actually before I do that let's uh hmm so this is another thing too empty state if you don't have any asset pairs okay actually let's work this one from uh kind of the backwards kind of working in reverse because I want to do this all right I'm first going to create the empty state which most people are gonna see and for this to happen we actually need two cores to create an asset pair since it's pretty much what coins do you want to trade for other coins so I'm going to save this and add another odd vitaxia uh let's do where's the v logo this one looks good I'll say I'm the owner of this and it's VTX okay now for the asset pairs basically what coins are tradable with each other say VTX can be traded for tnb and now the user has an option of selecting the S pair and then this happens first thing that I want to do is kind of do what we did with the exchange if they have a wallet which is whenever they log in as long as they have something then go ahead and select that to the active thing and also select the default tab for them also this deposits is empty right now which we may want to change but otherwise so right now what we do is the app has an asset pair however it's just not selected just because we didn't write any logic to select it when you don't have anything selected however in this situation what I want to do let me see what's going on with the Redux so what I want to do is say if you have an asset pair just go ahead and set that now all this does is it updates the manager the active asset pair ID and this tab must be in state okay just trying to get a lay of the land so order book okay so let's do that so for the exchange looking in the main area and we are looking at the trade section all right so we are where we want to be now this is the asset pair selector now here is the thing okay let's just set the defaults first and then we'll worry about everything else so what I'm gonna say off the bats is in our store we have asset pairs and given that and we don't have an active asset pair selected this should never be the case if you do have a asset pairing Redux and no active one just set that equal to the active one similar to how we did it for wallets so let's just get that logic first and to do that we can just borrow the logic that we just wrote from rows it right in here right but first let's get the asset pair list even need to do the active asset pair use active as a pair okay so we can indeed do it here so let's select those first and we can actually borrow from here so asset pairs first we need to import these and then just import everything that we're going to need and then I might as well say asset paired list using use memo I'm not going to need order by because this is just going to return asset pair list asset pairs all right so my asset pair list is all of basically my asset pairs and now what I can do is pretty much just copy this actually do even have dispatch in here not yet so we're going to need to be dispatching some things so let me get that ready and okay we're just going to borrow you to use as a template so we're going to have a use effect statement in here maybe potentially calling this function which comes from store manager and we're basically going to say if you don't have any asset pairs then don't even worry about this just you know forget it um now also need the import manager since we're going to be inspecting this part of our store all right so our store manager we can use this yeah let's just do this if you don't have any asset pairs and all right so if you don't have any acid pairs then just return and then we can say if you don't have inactive or if you already have an active asset pair then return this as well because you already have selected and then we can ensure in this to say or if you already have one selected then don't worry about it otherwise what we are trying to do is we are just going to get your first asset pair that you have and we are going to set that first as a pair ID this can be prettiered up I believe in a y oh yeah all right so check this out now what we are doing I wonder if I can clean this up too this is pretty good I'm just tying this up all right either way just want to make my coating consistent but here we are saying that what's going on here am I missing a yes one of these little thingies what am I missing here this goes to this dispatch oh it's on the next line embarrassing okay so if you don't have any acid pairs or if you already have an active acid pair basically I already have one selected then just you know don't even do anything just return otherwise we're going to get the first acid pair from your list and we're just going to set that to the active one so here that's good that's a good sign okay and now let me log out log back in and in this exchange boom boom it's already selected all right looking good and then the tabs for these they aren't in Redux they're actually in uh state so that all works now let me actually just go ahead and test something out by creating another asset pair um let me actually create another core so just say baycoin.com and this bacon can be the uh logo and all right so let me create another asset pair I just want to make sure that when I do create another one then it doesn't change some light QA all right so I'm logging out I'm logging in I don't have any active as a pair right now so when I go to uh exchange it should pop VTX tnb since that's just my first one now if I switch the bacon tnb then when I come back it should still be bacon tmb that's good just want to make sure it didn't switch to a taxi now that we got all that logic working what I want to do is kind of go back and just leave all my acid pairs and see what is the use then so exchange I don't have any asset pairs and in this case what we can do is just display an empty yeah we can just display an empty page since this select it doesn't even make sense so in this case what we can do is say this is going to be considered content mmhmm okay so let's do this uh we'll say render Elemental p render page content today and I will say if all right so if you have asset pairs then what do we know we know that one is going to be selected even if you didn't do it manually so if you have asset pairs then just go ahead and return this as your content otherwise we just are going to return null for now and then this can just be render page content should be good at least to get us started okay and why is this wait do I have acid pairs no I don't have any so what's going on here all right I'm rendering page content and I'll say if you have what's this oh is this because an empty list is truthy I think so so this is true and that is because an empty list is truthy so I can say dot length and that is false and in that case let me just say a corset to a Boolean even though you can have it without these double ampersands I don't know yeah it's corset to a Boolean okay so now if I don't have any asset pair which I don't should see an empty list now whenever I create one and then actually that's not going to work because I only fetch them at this point however that's interesting why do I oh did I not save it log out sign in change why do I not have my asset pairs oh I must be fetching it you know what probably fetching it somewhere weird in my asset pair selector yep yep here we go so I'm fetching it in the component that doesn't get you rendered however what I can do is I confess this on app initialization as well so where would I do that you asked well in my layouts my authenticated layout what I can do is I can say get asset pairs just like this we are going to be dispatching you now that should take care of that log log in asset pairs are fetched asset pairs are in Redux now under my exchange since I do have one even though I didn't select it it is the default option looking good looking good okay now that that's working correctly let's go back to this case scenario where we don't have any asset Pairs and in this case what we can just do is uh render an empty page okay and while it's uh you have an empty page right here let me just steal this component's empty page and we'll go with the leaves empty States and this won't have any action text Okay so render page content if you have any asset pairs then you're going to render that otherwise you're just returning this no action text no action text it says nothing here say no pairs display asset pairs to this another thing that I just want to look at real quick okay if I put a period so no products to display I did not put a period at the end of there so when I say no acid pairs of display I won't put a period either just things super consistent okay so now we get the empty page element however the reason this looks weird is because what we're doing is we are okay in this container has a padding of 16 let's see where the height is shrinking okay so this this is my empty State this must be yeah my empty State component has a height of 100 however the parent doesn't so Ken I mean I believe we can just put a height 100 here and that'll take care of that and I don't think it would mess up the active either I actually think that's what we want all right so go to exchange looks good nothing here no asset pairs to display hmm does this even make sense because I mean hopefully there is an asset pair all the time but I'm just thinking in the rare case scenario maybe I don't know someone's setting up this exchange for the first time they're gonna go exchange see trade but then it says nothing here no asset pairs to display and it's just kind of weird because it's like are there supposed to be asset pairs here uh but what could a better text be say maybe like create an asset pair to enable trading yeah let's go with that create an asset pair to enable Trading I'm a part of this up nice and parody okay nothing here create an S pair to enable trading orders with you in a second and now for asset pairs just want to make sure that when you do have one this thing as well so I believe actually if you log in log back in this should work even with the height now 100 however in that one situation um so can we just move this hook a little bit since instead of having this Fetch and asset pair selector it doesn't seem the greatest because the asset pair selector is conditionally rendered depending on if you have asset pairs however you don't want to run into a situation where we just ran into that you don't have any because you aren't fetching them so instead what I'm gonna do is just move this and why is this renamed oh yeah you don't need to name that actually it may need that's funny so it didn't need renamed in this component but whenever we move it over here it is going to need to be renamed okay so dispatch get asset pairs renamed to underscore gas pairs uh it already has a dispatch and over here just gonna cut you and let's where are we going to fetch you how about here and display air toast you can display air toast to cut you clean you up foreign prettier prettier prettier prettier look file are you not pretty aspect selector index so that's for selector index and that is because deleted a semicolon okay so I have an asset pair there you go now the one very rare situation that we ran into that we can test right now is if they are on this page they don't have an asset pair okay that's fine refresh still don't have one but then one gets created on the back end I know this is a super Edge case but uh you know why not allow for it and then they refresh this page there should be asset pair at that point in time and then the logic of the effect should set it which it does beautiful okay now for the orders what we can do in this case is when we don't have any orders we'll display it the same as when we don't have any cores and then we can standardize our styling as well so first of all this is 2432 my addresses this is 2432 okay so first of all on the orders page this is going to have updated padding the container is going to have 24 pixels 32 okay okay now we'll get somewhere now we're getting somewhere number one okay now the orders has a correct padding now let's convert that to a section heading instead of this old school H1 oh I remember the days we were using H1s but not anymore section heading we'll just steal it from Coors all right so now we got a fancy schmances section heading component and instead of this boring dumbled H1 that says orders we are going to use U okay now that takes care of that standardizes it puts a line underneath and now what we can do here first of all give that a margin top of 12. since that is our standard and that would be for the table table has a margin top of 12. and then you can stick that and render content so let's minimize these first all right so when are we rendering so we'll say if we do have filtered orders yeah since that's what gets mapped over and do we want to name this orders list yeah I think so oops what's going on here all right now I think I want to name this orders list just want to make sure I don't have any other naming conflicts so I'm going to rename filtered orders to orders list and then just reorganize these okay now in here what I can say is if basically if you have orders to display and we can display those and how do we do that we display the table so if you have orders to display then just return this beautiful table which will take care of all of that and this is in a function called render content now let me pretty this up okay so for render content if you have orders then just go ahead and display those otherwise turn null for now and in this case we should be returning null beautiful beautiful now thing is we don't actually want you to return null what we want you to do is the same thing with cores of course and that is empty text all right so empty text empty text return null empty text no orders to display beautiful okay so trade empty state actually let's look at all of our empty States right now so I'm logging out I'm going to my exchange I don't have any asset pairs yet I'm going to my orders no orders to display looking good all right so now what else do we need to do we already did it for course for wallets that's thinking care of Exchange Trade orders shop all of these should have empty States already yes yes and for sell products and orders great for profile those make sense to have an empty state because uh well if you're logged in looking at the profile you got to be looking at something unless you're a ghost and okay uh for invitations I'm just oh I got Bob's invitation but since we're on empty State let me delete all these invitations be no more invitations no invitations to display beautiful okay I think that actually takes care of all of our empty State logic that's pretty cool unless I was missing something but if so just let me know and also our apps is looking a little bit better because we like standardize some stuff like this orders header uh the course header I think they're all section headers now which is I don't know it's feeling like it's looking a little bit better at least so uh yeah let me go ahead and lint this bad boy and then I'll do a quick code review I also want to keep an eye out for this if I just check uh if the Boolean of any list because I need to remember that an empty list is uh truthy in JavaScript let's review this is good we're fetching asset pairs whenever the app is initialized and also whenever we navigate to the page as well and that is fine our components this is for the course page course list which is our new standard content cool cool margin top of 12 from that line standardized padding 2432 XX component this is for our orders page orders let's split this out get ordered from the user ordered orders it sounds kind of funny okay render content I'm wondering if I should split this out to a render table function and that's probably good yeah give you a little unnecessary although we are doing it in some other places but table has a padding top okay and then this is all clean up because we move this get asset pairs fetch statement to its parent component since that one's conditionally rendered and then this one is for the trade section kind of where we moved a bunch of functionality to and refreshing asset pairs there just in case anything updated after we logged in and then this is pretty much setting your default one if you have one yeah this is all good okay uh we added a height to that trade container just to make sure that our empty state was displaying in the middle of the screen vertically this is just cleaning up some logic although I think I want to change that it's for readability okay so uh empty States I already have this branch front end as he States pushed about an hour ago okay so I'll say empty States completed and yeah good to go another ticket done compare this and my name a convention is this 28 Minus this and this closes 28 pull request and then quickly even though we just reviewed this just want to make sure I don't have any to Do's or any comments from any previous commits and all that looks good all right time to squash and merge this bad boy in yeah that was a good uh a good Improvement there okay so now as usual as usual okay make sure I don't have any lingering changes and then let's shut this down and then we will just put down master and clean up our local environment so all the changes for master pull down we're going to delete this local branch and then we can run this bad boy and as long as nothing broke that should be good all right this is yeah this actually helps with onboarding a lot too since when users come in then they aren't going to have to this is another thing I'm keeping an eye on so we don't have any deposits or withdrawals now since we kind of just reset everything um maybe a question for you so when we do have deposits they're going to go in this section obviously the deposit section now would we got a couple options here whenever we don't have deposits we can one just not render this entire panel at all um but that may be a little bit confusing to the user because then they're like wait when I do have deposits where they're going to go now another thing that we can do is we can just leave it as is that's always an option it's kind of clear to me at least but I also developed it so I may be biased but what we can do is leave as is because it's clear that whenever you do have deposits they're going to go in here another thing that we can do is add like an empty State prompt to say like you don't have any deposits in here but once you do they'll appear here something a little bit more you know uh nice sounding than that but uh yeah same with the withdrawals right here but anyways I'll kind of uh leave that is the question for the community uh and on that note I think we're good for this video in the next one what we'll do actually this is uh well we kind of uh two birds with one stone I said defaults for UI using use effect yeah we do that as part of empty States so this is closed too dang two Banger two for one sweet okay so in the next video what am I going to do maybe this one right here but either way we'll uh decide that in the next video for now thanks for watching and I'll see y'all next time