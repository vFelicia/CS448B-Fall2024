all right y'all welcome back and in this video i'm gonna be showing you guys how to create custom images in docker now i just wanna preface this by saying that there are actually a couple different techniques we can use to create images in docker this one is the more manual process it's not the one that you're typically going to be using but the reason i want to teach this first is to give you guys a nittygritty detailed breakdown of exactly what's going on it's just going to make the future concepts easier to understand now this technique specifically is going to involve taking an existing image applying some changes on top of that and in this case it's just going to be installing some new software we're going to be installing redis and then once we have all the changes made we're more or less going to take a snapshot of those changes and say this is our new image so the first thing that we're going to need is a base image and for this we can just use alpine which is a very stripped down basic version of linux and we also want to run it in interactive mode so we can provide input so dash i t another thing i want to do is i want to give this container a name so bucky's container let's just call it something really easy and again this is just so later on we can refer to the container without using those you know random strings those hash values so all right we want to run a container and we want it to be called bucky's container and what do we want to use we can just use alpine let me minimize my screen here so we're going to use alpine the latest version and then we're just going to say is a default command just give us shell so all right it's not finding it locally so it just downloaded this from docker hub and all right so with this base alpine image we now have a container running on our system that we can make some changes to so what do we want to do like i said the only package or software that we're going to be installing is redis just to get something real simple up there so apk this is the builtin package manager that came with alpine and what we want to do to install redis is just say add update make sure we're getting all the latest version redis right there all right so nice and quick what it did is basically installed redis on our alpine base image so now what we're looking at is a container with redis installed pretty simple so what i want to do now is actually exit out of here and we can review our containers by going docker container lsa all right now let me expand this in okay so what we are looking at here is our one container it's called bucky's container and it has redis installed on it so now what we would like to do is basically use this container and take a snapshot of it and create an image from that so what we'll end up with is a brand new image with redis installed on it so to do that again it's docker container commit now this commit keyword is the one that actually creates the new image from this bucky's container container now another thing that i want to point out is if you read the definition of this command online or in docker's documentation they technically don't say create a new image from a container what they say is we're going to be creating a new image from a container's changes so technically what this is doing is it's not just creating something brand new it's taking that base image and applying those changes to it and in our case that just involves installing redis and it creates a new image from that again this isn't really important for where we are now in our learning and our knowledge it's essentially how docker makes the image creation process more efficient among other things but again we just want to look at the different methods of creating containers right now so you know just some nice little background info for you so anyways back to the meat and potatoes of this whenever you run docker container commit the first argument we're going to pass in is what is the container that you want to use as a source and well we only have one container that we have retis installed on so not too many options there the next one is what do you want your new image to be named and i'm just going to name mine creatively bucky's image so all we're doing is we're saying hey docker can you create a new image called bucky's image from bucky's container and once we hit enter it says yes and it gives us back the id so now we can actually verify that we have the image created by doing docker image ls and look at that 3781e37ad1e new image called bucky's image looking good now if we want to use this image to create and run a new container then we already know how to do that just clear some of this out so i'm gonna do docker container run bucky's image now remember this image is a blueprint for you know basically a stripped down version of linux with redis installed on it but the redis server is actually running on it the software is installed but no process is running so the default command for this or the startup command if i could type is redis server so now when i hit enter it's going to take bucky's image start up a container from it and then run the redis server and there you go so just to verify that this is indeed working as expected if you pop over to a new tab we can just test it out by running the redis cli on this container or in this container interesting how would you say that any hoots so first let's just check out our containers using docker container lsa and what do we got all right so we have this first one that was created from the alpine image and remember we did that at the very beginning of this video and then we had this new container that was created from bucky's image and this is running the redis server so this is the one we're just gonna tap into real quick and make sure everything's working correctly so what we can do and let me see the name of that one all right probably should have gave our new one a custom name but apparently docker decided to name it laughing matsumoto i don't know what that means probably whoever doesn't know how to pronounce that is laughing at me right now but any hoot moving on so docker container and we just want to run a command in that and of course we're going to need our interactive prompt and the container name laughing matsumoto it's actually a pretty cool name and what is our default command we want to run here well let's just run redis cli all right so it looks like we are now running reddit cli in this container and what command can i run just help all right so run the help command make sure everything is working correctly and there you go so again that is one technique that you can use to create custom images again it's not the technique that you're going to be typically using this is more of a manual technique but lucky for us in the next tutorial we're going to be looking at an easier way to create images using docker and that is through a docker file it's going to be awesome make our life a whole lot easier but for now thank you guys for watching don't forget to subscribe and i will see you in the next video