so we say if MySQL num rows of query that we've run so query run equals zero then we need to return true remember we're taking a return value of true so we can use this function later in an if statement else if MySQL num rows query run equals one return in fact I've got this the wrong way around so if it does equal zero return false if it equals one return true so if if the if we get a value back then we're returning true so the IP address already exists now this is slightly flawed what if the same ip address exists in the database now we could say is e greater than or equal to one which would be better we don't need to do this because our processing later on in the program is going to allow us to only add the IP address if it already exists or if it doesn't exist so if MySQL num rows query run equals zero return false the IP address does not exist else if MySQL num rows of query run a greater than or equal to one then we return true because the IP address does exist now there's a faster way to do this because what we need to do is we're running the MySQL num rows function twice so we're slowing down the speed of our program very slightly but you know significantly in terms of if you had a lots of lots of SQL you'd be overloading a server so I'm going to say query and num rows equals I'm just going to take this here and put it into a variable itself so we're only running this once and then what we can do is delete this as well and say query nun Rose query nun rose that's just a little tip when you're using lots of lots and lots of things like this don't include these in if statements or anywhere else or in any loops create them in a in a separate variable first so now let's check if this works so down here we can say if IP exists and then we specify a user IP in here do something otherwise do something else so if IP exists remember we're supplying user ID this will be equal to one to seven dot dot dot one if it exists echo exists otherwise echo doesn't exist I've used my escaping character because I've used a a single quotation mark inside a single quotation mark let's refresh the page and see what happens exists now this is telling me that my current IP exists in the database which it does now let's delete that from there manually come back to the page and refresh and it says doesn't exist so our program is working this if statement here we've used the use of a function so we haven't had to program anything before other than functions and this is creating our code to look a lot tidier a lot neater and it's going to work a lot efficiently a lot more efficiently when we're looking at it and producing the final code so now we've got everything we need all we need to do is we need to perform this if statement and we need to just say if the IP doesn't exist then increase the counter so we can just use the exclamation mark before this function if IP doesn't exist we can just echo out and this will now add count last one so now what we can say is refresh this will now add count plus one because our IP address is not in the table so obviously we're not going to be occurring this Alice just to represent what's going to happen so our IP address doesn't exist what do we need to do we need to add the IP address and update the count so all we simply do is update Cal and add IP or is it IP add yep IP add user IP and that's it this line has incorporated our three front or this block of or this piece of code what other has incorporated our three functions and it's put them it's it's first of all made a check using a function then it's updated the count using a function and then it's added our IP address so now let's check if this works I'm going to add just a header down here just to make everything look pretty well not pretty but just so we know that there's content on our page so let's look at the database hits count currently is equal to zero and hits IP currently doesn't have any rows in you can see that I've got this like red little white arrow with a red circle around it so now let's refresh the page we've got my page up now because my IP doesn't already exist in the database we should have updated the count and added my IP in ready for the next check when I come on to the page again so hits IP we can see that we've got my IP address being inserted into the database and hits count will it be updated by one now let's refresh the page again that's done let's return here hits count is still equal to one and my IP address is already in the database so what we've done is we've used three different functions so we kept our code nice and tidy and what we've then done is we've checked if an IP exists we've added we've created some code or some SQL to insert and I and we've also created some code to update the count value now like I said before this isn't the quickest and easiest way to do this but the amount of time we've spent developing certain parts of it means that you know exactly how to do things a long way around therefore when it comes to working the short way around you'll be absolutely fine handling it