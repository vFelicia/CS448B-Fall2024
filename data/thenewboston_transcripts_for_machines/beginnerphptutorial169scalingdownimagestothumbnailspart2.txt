so we know that this is working testing this at each stage is probably a really important step if you're just learning because you can see the outcome of each command that you're processing so in fact let's get rid of this for now okay so now what we've done is we've read in the image we've all we haven't read in the image itself but what we've done is got the image size from the image a file name that we've specified so we've got the width and the height of this image now what we need to do is we need to specify a new size for the image because obviously the point of this tutorial is we're scaling this image down to thumbnail size now we have a few issues we can't scale it down by a percentage because the file that we read in could be say 2,000 by 2,000 pixels or it could just on its own be let's say a hundred by a hundred pixels or it could be 50 by 50 pixels etc so our file size that we read in could be any size so what we want to do is create the thumbnail to an exacting size or a more or less exacting size we don't want to scale it down a percentage because if we were scaling down a percentage of an image that was 500 by 500 and let's say by by a very small percentage you'd end up with a very small image however if you were scaling down five a 2,000 by 2,000 by a very small percentage you're going to end up with a bigger image than the first example I've already talked about so hopefully this makes sense to you and we need to understand this before we start writing out our new size of our image because we can't just say divide it by a certain amount okay so we're going to create a new variable called new underscore size and what we're going to do in here is a few calculations that I've played around with myself to get this working so because I'm not amazing at math I can't explain to you why this works or why it doesn't know what works because it does what heck but you know follow along with this try and understand it for anyone that's more logical minded than means in terms of mathematics you'll probably understand this a lot better so we've got new size and I have chosen whilst playing around with this for a good hour I think well half an hour so I'm basically going to say image width and then I added this to image height so let's just space this out so you can see what we're doing so we've added the image width which we've got here to the image height then what we've done is we've divided that all by the image width multiplied by the image height divided by 45 so let's create some brackets so we're processing this properly so I did image width and then I multiplied it and then another bracket in here so we're multiplying this by the image height times @ ÿâ times by 45 so we've got image width it add image height divided by the image width times the image height times 45 so this operation will complete and then multiply it by the image width and these two operations in brackets will sub and complete individually and then divide by each other so just out of curiosity let's go ahead and echo out this new size ok so we've got the individual values here now let's refresh that okay so we've got a massively long decimal number so there's a still a few things we need to do to create the new height of the image and the new width of the image so let's go ahead and do that now let's go over to context let's get rid of that so that's just interesting to see what that's produced but it does work so now we've got new width and new height I'm going to create two new variables and I'm going to multiply the current width by this new size so in actual fact I was meant to put a divide there so later on this is going to make sense why when we create our new width and our new height so let's just echo this out to see what we got okay so now we've got a small value below zero so we've got no point one seven one three blah blah blah so this is a small value what we're going to now do is we're going to multiply the original image height by and the height and the width by this new size which will then create a small integer value or Mike you know might not but we're going to create a small value at least to resize our image too so let's create our two variables first we want new width and we're going to do the same with new height and this is basically going to be the image width so the original image width times by the new image size and this is just in general we don't have a width and a height for the new size this is how we maintain our aspect ratio we're creating the width and the height with the original height and the width so original width and then the original height times by this new size so what we're not what we're doing is we're using this variable here to just scale down the width and the height but by so what we're doing is with multiplying it by M I mean a negative number oh no sorry naught point one seven one I think it was but therefore we're keeping the aspect ratio of the width and the height so hopefully that makes sense to you that's just echo this out and echo this out let's append a break just on the end of here so you can see what's going on and we'll come back in a refresh so you can see now our image has been scaled down so we're going to forget about the decimal points here these aren't important these will be removed later on when the image is created so we've now got an image one two five by 70 so one two five by 70 is obviously a maintain aspect ratio value for the original width and the height so our new image is going to be a hundred twentyfive by 70 which sounds about right for thumbnail image so now what we can test doing if you'd like is test well I'm not going to do it in the tutorial but test loading in up with this code a really large image and see if you get around the same size back because with this new size variable here with the calculations that happen here you will always end up with more s the same size so let's get rid of these echo here and let's get rid of this break that's important we get rid of that