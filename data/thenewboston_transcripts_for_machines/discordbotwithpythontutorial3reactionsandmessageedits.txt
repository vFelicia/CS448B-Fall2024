welcome back y'all to another tutorial and in this video we are going to be talking about how to listen for edited messages and also reactions because who doesn't love reactions all right now the first thing i want to mention is i did create the new file for this tutorial number two reactions and edits and i basically just copied the first file and removed some of the stuff so anyways we just have the on ready function because i like to have a little status to print out to say when the spot is ready and then just that little check to make sure that our bot isn't responding to its own messages and yeah just want to give you guys that starting point so now what we want to do is go ahead and talk about how to listen for edited messages so due to laziness i'm going to be copying that little snippet and all right so instead of on message this event is called on message edit now instead of taking in a single message what this passes in is actually the before message and the after message so for this what i'm going to do is just to show you guys the you know basically just how it works i am going to be sending back the message that they originally sent and then the new version of the message so it's the same concept as before however remember whenever we are sending a message from the bot we have to specify what channel it's being sent on and since this has two messages we actually just need to pick one so we can just say the before channel or in other words the original message channel so before.channel.send what we're going to be doing and we can use the fstring for this is we can say do a little pepe clean up here is that the author and we can say edited a message and then on the next line we can just say what it was before or in other words the original message so before dot content and on the last line we can just say after after dot content and actually before i run this this should be content not content and all right that looks good go so let me go ahead and run this and once it pops online there we go so now i can write something like i love beefcake hit enter and omg what a terrible mistake what i meant to write was i love cheesecake and all right our bot recognizes that i edited that message and it prints out bucky in my full username edited a message or edit a message there's a little typo there before i love beefcake after i love cheesecake and this is a cool way where you can make sure that no user on your discord server can ever live down any of their mistakes whenever they have a typo it just really uh embarrasses them in the biggest way possible kidding of course but this is actually useful because whenever you are writing a discord bot you usually want to make this of course event based in other words whenever a user writes something you want your bot to respond in a certain kind of way however the tricky part about this is that users can actually change their messages in other words edit their messages so whenever this happens you want your bot to typically be behave in a very specific way and that's the usefulness of this why i decided to set aside some time making a tutorial on this but now that we understand the basics of handling edited messages of course with the before and after messages let's go ahead and move on to something a bit more interesante i think that means interesting in some kind of language but who knows all right so the first thing that i'm going to want to do is let's say whenever the user types the word cool that we are going to add a reaction for the sunglasses so this one right here so whenever we want to be adding a reaction what i typically do is just see if i can pop open chrome right here i just type in emojis to unicode and click on one of the first you know links that pops up so what i'm going to search for is sun glasses and i'm just going to copy this unicode and i'll show you guys how to convert this so you can use it in your function later on but make sure you copy some kind of reaction that you want now on this on message what we can do is we saw this before whenever the user said hello and we responded with welcome to the new boston we're going to follow the same pattern if message.content equals cool so whenever a user types cool what we want to do is just add a reaction to that message so we're going to await message dot add reaction and remember we're just going to paste in that unicode that we saw on the website right here so it was u plus 1f60e now whenever you actually use this in python you have to convert this plus to a triple zero and you also have to escape this u kind of annoying but you know python unicode not the uh best of friends as i'm sure a lot of you guys know so anyways uh the meat and potatoes of this is that whenever a user writes cool we are just gonna have our bot respond with our sunglasses reaction so now let me go ahead and rerun this wait for it to come online and all right so just to make sure we can say uh apples okay bacon okay now let's go ahead and write cool and our bot is gonna respond with this we see tutorials bot reacted with sunglasses very cool pun intended of course all right so now we saw okay this is how your bot can add a reaction people's messages but what if we want our bot to listen for when other people add reactions and maybe we can inspect them and do something later but for right now we'll just say let's listen for when a user added a reaction to any message and just print something out in the uh in the channel so of course due to epic laziness i'm just going to go ahead and copy that little snippet in the client event for this is on reaction ad now what discord passes in whenever this event is triggered is the reaction and the user who left the reaction so the reaction itself is just think of it like the emoji it has some other information as well but you can just think of it as the emoji and the user is of course the author of it so what we can do is we can just say like bucky reacted with sunglasses or bucky reacted with thumbs up whatever we want to say so in order to find the channel to send the message we can actually pull this from the reaction object so what i'm going to be doing is saying for the reaction we want to get the message that they left the reaction on and we want to get the channel from that since we always need to specify a channel of where we are sending the message so of course on the message object it comes with the channel object and we're just calling the send function from that and we can use f strings again and we can just say something simple like the user in other words it was the person who um left the reaction reacted with and then for the reaction the emoji is just the property emoji so if bucky is gonna leave sunglasses it's gonna say user reacted with sunglasses emoji but it's probably just easier if we take a look at this so let me just make one of my own messages i'll say hello just so we have a message to react to and i'm gonna thumbs up this and it says bucky reacted with thumbs up and let me go ahead and um what's another one uh what about this mustache dude okay bucky reacted with mustache dude and there you go so again not that interesting right here but there are actually some pretty cool stuff that you can do with these reactions if you guys ever saw like voting system or polls or you click your reaction and then you get a specific type of role it isn't just printing out who left what reaction because of course you can just see that above but there you go these are some of the core building blocks for a lot of discord bots so editing messages looking how we work with the a bunch of cool stuff going on here but for now and that is all we get for this tutorial so thank you guys for watching don't forget to subscribe and i will see you guys later