hey welcome back everyone this is Ian and in this video we're going to add on to the chatbot that we started writing in the previous video so if you haven't seen that video go ahead and check it out now but just to catch you up to speed essentially in that video what we did is we first wrote a system prompt and then we wrote a chat interface and then we asked our chat bot a question then we realized well we want to be able to ask it multiple questions in a continued conversation and have it remember information about our previous questions so we added some shortterm memory by keeping track of all of our messages and using a for Loop to do that and ultimately what we ended up with was a chatbot that had logging enabled because we had piped the logs through to the prompt layer dashboard where we could go back and evaluate our prompts and kind of see what works and what doesn't so that's kind of where we are now however we want to make it even better and one area where our chatbot kind of falters a little bit is that it doesn't have any information about today's date and it doesn't have any information about our location so for example if we were to run this right now and we say Python app.py and then we say something like what's the current season it's going to come back and it's going to say I don't have real time information blah blah blah okay so we want to fix that and the way that we're going to do that is we're going to update our prompt over in prompt layer the one that we're bringing into our code here and utilizing for our chatbot and then we're going to up update our code with that information to be able to inject it into the prompt via input variables so let me show you how to do that we'll go ahead and clear out that head over to prompt layer and I'm already inside of my registry but if you go to prompt layer.com and you're logged in go up to the top and click on registry and then you'll see the prompt that you want to select in this case my chat gbt and here you can see your system prompt any versions that you created and you can see we have one single user prompt now let's go ahead and edit with the edit button in the top right corner and over here with our system prompt maybe right underneath the uh please be as helpful as possible part let's say something like today's date is and then inside of curly brackets we'll just put an input variable date and then we'll say something like the user is in and then again inside curly brackets we'll say location so now we have two additional input variables the other one is over here it's our question and we have our date and we have our location if you look at the bottom here you can see that it automatically identified them as input variables because they're inside of that FST string curly bracket syntax now of course we do have to update our template so in the bottom right corner here let's click on update template it's going to ask us if we want a commit message you're welcome to put one here I'm just going to click next and let it use the default and then confirm without checking that option about running evaluations so now we have our latest this version version three in my case and it's going to show us information that we just added so today's date is date the user is in location let's head back over to our code and get our code updated so that it can actually inject some Dynamic values into our template that we're going to use for our chatbot cool here we are back in our code and up here at the top where we're doing all of our Imports let's go ahead and bring in the datetime library from python so that we can use that to create our today date variable so we're just going to import date time you don't have to install anything this comes with python and then we'll go ahead and create a variable called today date and set that equal to date time and then we'll use date time from within date time I know that's kind of confusing but uh can explain that in a separate video and then now so this is going to give us the time stamp for right now or whenever this code gets run now we do want to format that so it doesn't look all crazy so we're going to use string F time on here and inside of parentheses we'll use double quotes and we will use percent capital y hyphen percent lowercase M hyphen percent D that'll give us our year month day in the typical format that you see okay great so then on the next line let's go ahead and create another variable for location now this is much easier we're just going to use a string here and you just set it to whatever your location is so my case it'll be Texas uh you could put it to whatever your city state country doesn't matter all right cool so we have our today date and our location variable and now if we go down to where we bring in my chat gbt our template from our promp later client we're going to add those variables to the input variables dictionary here so I'll put a comma after the user input for that question input variable which is our original input variable that we had for our user role and then now we're going to add the date and we're going to set that equal to today unor date and then underneath that we're going to have our location and that one is actually just going to be our location variable put a comma here and save and that's it for the coding portion of this video now what we're going to do is we're actually going to test this out and see how well it works so here we are in our terminal we're going to run python app.py of course make sure that you have your virtual environment activated and it says Hey welcome to my chat gbt how can I help so we want to test a couple of things we want to test the previous functionality which was the ability to have shortterm memory and remember who we were and things about our conversation and then we're going to ask it some information about our location which we just added in and today's date so let's go ahead and get to it so the first thing I'm going to do here is say hi my name is Ian and it's going to come back say hello Ian how can I assist you today great I'm going to say what season am I currently in says I'm currently in the summer season so that's two two things that are happening at once it knows the date and it's able to determine the season based on not just the date but also my location because I'm in the northern hemisphere so let's say where am I located you're located in Texas awesome so the last thing we're going to check here is just to see if it remembers who I am you mentioned earlier that your name is Yan great so we have our shortterm memory we can have our continued conversation it remembers information about who we are and now it has additional information about today's date and our location so you can play around with this ask it all kinds of questions that are relevant to the information that you've provided it and see if it can give you accurate answers back but what I would encourage you to do is think of different input variables that you can add to your prompt then go edit your prompt over in prompt layer add those variables come back and just do what we did here and dynamically inject that information into your chatbot and see how powerful you can make it if you come up with anything cool let us know in the comments below and in the next video what we're going to do is we're going to add some additional functionality we're going to give our chatbot some uh math superpowers we're going to give it a calculator so we can ask it all kinds of crazy math questions and it's going to give us accurate math answers back so until next time thanks a lot for watching this video and we'll catch you in the next one peace