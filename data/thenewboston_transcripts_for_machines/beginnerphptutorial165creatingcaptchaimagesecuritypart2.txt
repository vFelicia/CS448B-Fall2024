okay so we do need to bring in if statement here not just yet but soon and this will ensure that we maintain the same value after we've submitted our form but once we've included our form then we won't need to worry about it so we've got our text what do we need to do next well we need to create a variable with our font size so and their mind this is experimental so the font size depends on obviously what font you're using so for now I'm going to set this to a 30 and but we might want to change it later on what we also want to do is set the the width of the height and the image so we'll pull out here and we'll come down a couple more say let's call the variable image height and image width we'll start with width image width let's say we'll give it a width of 200 and image height oops sorry let's say 40 for now but obviously we're going to change this around depending on how our text is output and just so we can get a feel of everything the way it works and how it looks so the next thing is to create the image itself so let's create a variable called image and we're going to be using the image create function as part of the GD library and the image create function takes two parameters this is going to be the width and the height so obviously we've already defined this up here so we just put image width and image height in okay so now we've generated the image and the the width and the height of that we need to allocate a background color and a foreground color now my background color is going to be white even though we even though we are working the white background anyway we still need to define this just so it we ensure that it stays white so we use the image color allocate function here and we use this on our own we don't set it to any variable and this ensures it just applies it to the background backdrop of our document or our image rather so let's go ahead and say image color allocate and we're allocating this to the image so we've already opened this image here we've already created this image so we're applying it to image and we specify this in an RGB value so we've got three integers and this is for white this is obviously going to be 255 255 and 255 if you already know how to work with RGB values that's great you'll know that white is 255 255 255 and black is zero zero zero which is what we're going to be doing for our foreground color or our text color but if you not sure about these look them up try convertor if you're used to hexadecimal color values etc etc okay so now with regards to the text color we need to look at setting this into a variable because what we want to do is when we use this image TTFN text function we need to supply a text color whereas we don't need to supply the background color that's why we've done it without a variable declaration so let's create a new variable called text underscore color and we're going to use the image color allocate function once again and we're applying this to image but this time we're using zero zero zero so our text color is going to be zero zero zero which is black okay so the next thing to do is we want to use our image TTFN text function to ensure that we are outputting the the secure session properly and we're going to preview this from index dot PHP we're not going to preview it from generator PHP so let's start with the image TTFN text function now it takes a number of parameters so as we go along I'll explain each one more or less each one the ones that are relevant to us the first one's easy it's just the image that we're working with at the moment as we've specified here here and that's it so we're just supplying the image that we're working with now we want the font size which we predefined up there so we can just pop that straight in this is the reason we've predefined our variables so they can change dynamically as well next is the angle which we don't need to worry about in this case and now is the positioning so I'm going to say 15 from the from X sorry and v and 30 from Y we can play around with these values we're going to play around with the font size the width and the height of the document and these as well just so we can get in the middle of the of the little area that we've created okay so the next is the text color so we've already supplied that in a variable just a moment ago so we can say text underscore color there okay and now what we want to do is the the font file itself now I've already created the font file or rather copied it over from my windows fonts folder and I've just I've just called it font TTFN so make sure you do this copy over the font that you want to use and this one's Cali hand so when copy this over from your fonts folder and just put it in the same directory or in another directory and you're going to specify it in this next parameter so I'm just going to type in font TTFN simple okay the next is the text itself because you can probably see we haven't actually defined what text so we've got the text in a variable up here called text so we simply just put that in there and that's done we've only got one more thing to do and that is use the image JPEG function and what this is going to do is going to finalize everything and it's going to write out our image onto this page so it can be displayed as an image so image JPEG image this function can also be used to save the file but in this case we're just outputting it to the page so let's go to index dot PHP and let's come under here and create an image an image property or element if you like and we're going to reference this to generate PHP and the reason we can do this is remember generate PHP is now even though it has its PHP extension it's now an image file so hopefully what's going to happen now considering everything in here works or if it does work we're going to view something out on our page because we're setting the session here and in the generator PHP file we're reading it in here so let's start open up our browser and see if this works let's go over to index.php okay so it hasn't worked so we need to work out exactly why it hasn't worked so let's have a look inside I'll generate a PHP file I know what we haven't done is even though we're declaring our session up here we're starting our session rather if you like in our generator PHP file we still need to start our session and the reason for this is that were accessing the session data here as well and although we're including it in here as an image is still regarded as its own file so remember to include sessions start at the end of it at the start of this let's go back and refresh