okay so over in settings.php we need to pick up this name variable so we can go ahead and check if this is set first of all now I'm not going to be creating a lot of validation in this tutorial for the purpose of time uh I want to explain other things that are more relevant it's up to you really how you validate this name fi uh this name value here um obviously you want to check if it it if something's been typed in or not and uh by all means go ahead and apply other validation methods or apply the validation within settings.php entirely up to you uh but in this tutorial we're not going to be covering it so I'm going to create a new variable called name and I'm going to assign this value that we've taken from um this post data remember we posting to this settings.php file now I'm going to apply some relevant uh Sani ization the first one is HTML entities and this will remove any HTML um literal HTML uh code from here and and create it and turn it into entities uh this means that the HTML will be displayed rather than actually um interpreted by the browser and I also want to uh include the MySQL real Escape string function because we're posting to our database we need need to ensure that we first of all protect from SQL injection and with HTML entities we're uh preventing uh cross site scripting so xss attacks okay so the only validation here I'm going to do is if uh no we won we'll stick not won't do validation we'll just uh go ahead and update the database so I'm going to create a new variable called update and this is going to hold the query uh that we're going to use to update this value here to um the value that we've uh submitted here name so the query would be update users remember our table is called users and I'm going to set name equal to name where user ID is equal to and just outside here append on our session user ID so let me just go and explain this for those of you that are unfamiliar with how uh a query in this case would work however I'm sure you are because jQuery is a language that's most often um used alongside PHP so we're updating the users table and we're setting the name field to name but the condition with our wear Clause is where the user ID is equal to this particular session now this would usually be something that you uh that you has been defined as the user has logged in so you know depending on their user ID however in init.php remember we Define this ourselves just for the sake of not going through uh a login and a registration process or a login process so we're just updating this name here next to this ID so where it matches it's a unique ID I should have probably mentioned beforehand that this user ID field is an autoincrement field so it's Unique every time a new row a new record is added and um it's also a primary key so if I was to go ahead and insert a new value for example Billy uh you can see that when we browse to the data the user ID is now two and the name is now Billy so we can test this out a bit later once we've updated this name we can go ahead and update this one as well okay so now what we want to do is check if this update query has completed properly so if update is equal to true this means that the uh query has uh succeeded so we can Echo out settings have being updated otherwise we want to say if we'll just do a uh an if else if statement um if update is equal to false Echo could uh or there was an error updating your settings okay so now what's happening is um we are just well we've we've performed the query which is uh we've already explained and we're just checking if update is equal to true or false and giving the uh message uh appropriately so this message here or this message here depending on whether the query is run successfully or not will now be uh put into this data here which we then add into uh our SA save status or we override the current text which is the loading sign or text and we put that into save status so now that we've done that we should uh retrieve well we should receive this me message unless I've created the query wrong and then we should receive this error message or have this error message display um just here so let's go ahead and first of all uh refresh this so we know that the data is here so we've got the current value is Alex Garrett if I then put in for example my name is Alex G rather than Garrett and click save it says settings have been updated now you didn't see the loading symbol because this query is extremely simple and performed or was executed or run extremely quickly so we didn't see the loading um thing here the loading text here that we placed in between clicking the button and actually retrieving the results so in a minute we'll create um a sleep well we'll call the Sleep function in PHP so this will become a bit clearer now when I go go ahead and browse you can see that that value is now been changed to Alex G so we know this is working so let's say that the user has logged in as Billy as AO instead of Alex