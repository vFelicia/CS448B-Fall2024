hi this is Alex from PHP academy' dog and this is another video tutorial created for the new Boston now in this tutorial we're going to be creating a unique hit counter by uniq hit counter I mean exactly the same as a nonunique hit counter however we're going to be recording the user's IP address and by you recording the user's IP address we're going to get a lot more accurate figure it won't be entirely accurate because IP addresses obviously do change but we're going to get a lot more accurate figure as to how many unique visitors we have taken on our website so how many people are visited uniquely so as per the last tutorial the non unique hit counter if you've already watched it we've got index dot PHP file account not PHP file and account txt file now we're also going to have to include a new file and that is going to be called and let's just save this file out that's going to be called our IP IP dot txt so we're going to have IP addresses in here of users that have visited the website they're going to be stored every time they visit so the first thing we're going to do is we're going to counter hit but then we're going to take their IP address and we're going to store it in this file and a line by line basis so I have say one two seven or not dot one and then we'll have another IP address on the next line and we'll have so on and so on so for now I'm going to leave this blank the first thing we need to do though before we do any of anything is we need to check that the IP address doesn't already exist now we can use the file function in PHP to check or to read in a file on a line by line basis which is then stored in an array and what this does is it allows us to take each IP address on each line and carefully well check each one on each line so it's a lot it's a really really easy way of doing things so the first thing we're going to do inside count PHP is create a function called hit underscore count and this is going to be called from index dot PHP every time so we have the freedom we're including this count file at yet we're going to include count PHP and then we're going to have the choice if we want to hit count or not so we can include it but then we can use it we could use it saying an if statement or say if a particular user is using the Chrome web browser then we can count so there's a variety of ways the variety of benefits of using a function so let's just call this function for now so later on we can test it correctly so a cat in count at the moment there's a value of zero in IP we don't have any IP addresses so the first thing I want to do is establish the user's IP address now I'm going to be using a simple way to grab the user's IP address and that is using the dollar underscore server predefined variable and we're using remote address so this is some viral environmental information about the user so let's just echo this out and we can see that that's going to produce my IP address and there's another tutorial on this if you haven't already watched here and there's also another tutorial about how to properly detect the user's IP address so I'm using this now for the purpose of this tutorial but I recommend you look up the other tutorial that I've I've done and and reading the user's IP address or find the user's IP address a lot more accurately so this is my IP address for now I'm using a local server so it's 127.0.0.1 as refresh and just blank now so we've grabbed the IP address that's something we determined at the start that we did need to do we just swap these files around ok so we would determine the IP address now inside hit count the first thing we need to do is check if this IP address doesn't exist in IP txt there's nothing in there at the moment so obviously for now it doesn't so the first thing we want to do is we want to open up this file so I'm going to create a variable called handle and I'm going to say F or I'm going to say file in fact we can call this an IP underscore file so file and it is IP dot txt now let's just refresh to make sure we don't have any errors okay we're ever free so what we've done now is we've created this variable called IP file which is now an array because the function file opens IP txt and let's say we have line 1 2 3 it'll open each line as an array as a value of an array so we've opened this as an array now what we need to do is use the for each construct to UM to grab each um I P address in there so we've got each element of the array so we're going to say for each IP file as by P and what we can do to test this is we can echo out I P and we'll put a line break there as well so in fact we use a comma just to show that we've we've taken this as each element so there's nothing in there at the moment so if we refresh we're not going to have anything on the screen however if we add say test data new line just Pablo rubbish in there each of these should now correspond for each loop of let's go back to the counter PHP file for each loop of this this IP will be each line so let's refresh and test that so you can see that we're grabbing the data on each line and we we can use this separately so we can check each IP address these will eventually correspond to IP addresses so you'll notice that there's a lines there's a space after each bit of data and let's just change these two IP addresses so we've got more realistic representation okay so let's refresh okay so we've got a space after here now you've noticed that we've not actually specified in here that we want a space after it we've concatenated on this straightaway and that's because when we're reading it in on a line by line basis there's always a space after each element in this array so what we need to do is we need to use the trig function here to remove the white space from the left hand side and the right hand side just in case there are there is new white space now let's refresh and you can see that that white space has in fact gone