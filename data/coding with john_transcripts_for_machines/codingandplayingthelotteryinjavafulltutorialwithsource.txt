in this video we are going to write a complete program from scratch to play the lottery in java we're going to randomly generate six winning lottery numbers and then allow the user to input their six lottery number picks and then print out which of the users numbers match the winning lottery numbers and tell the user whether they've won or not we're also going to go over your odds of winning this lottery if you're new to this channel my name is john and i make a java tutorial video every single week either a video of a java concept or a full tutorial where we walk through creating a complete java program from scratch like this one so be sure to leave a like and hit the subscribe button so you don't miss the video every week and as always the full source for this video is available in a link down in the description so go get it okay so in order to make a program like this where you can play the lottery first of course we need to randomly create the winning lottery numbers for this particular lottery we are going to use six numbers and each of those numbers can range from 1 to 49 and we'll also have a rule that those numbers can't repeat the winning lottery numbers have to all be different from each other first we just need a list of integers so we can hold the winning lottery numbers that we randomly create so list integer winning numbers equals new arraylist we're in eclipse so we can do ctrl shift o to organize our imports we want to import java.util.list and java.util.array to generate random numbers in java it's probably easiest to use the random class not just any class the random class not some random class the random class we'll say random random equals new random again we'll organize imports and we import java.util.random so now we want to create six random numbers between 1 and 49 but they also have to be different because we want to generate six random lottery numbers we can start with a for loop that begins with into i equals zero i less than six because we want six lottery numbers i plus plus so we'll go through this loop exactly six times so in here we want to create a random number between 1 and 49 six times first let's just create an int variable uh called winning number so that we can put our winning number into it now to generate a new random number we'll use random dot next int and we'll pass in the number of 49 and then we're going to add one to it so how this next int method works is it takes the number that you passed in and then it generates for you a random integer between zero and one less than the number that you've entered so when we give it random.nextint random.nextint49 it's going to give us a random end between 0 and 48. and since what we want is a random int between 1 and 49 all we have to do is add 1 to it and then poof a random number between 1 and 49. but now that we have our new random winning number we have to check whether this winning number is already in this winding numbers list and if it is we have to try again so we get a different one and to do that is simple we can just say if not winning numbers dot contains and then pass in the winning number that we just generated this contains method is a really useful helper method on all of the java collections classes and list is the java collection that we're using here and you can just pass in a value and it will tell you whether that value is in the list so here we just want to say if this value is not in the list then great it's not a duplicate and we can add it to the list of winning numbers and to add to the list of winning numbers is also easy we can just say winning numbers dot add winning number but the thing is if that winning number is already on the list of winning numbers we don't want to add it to the list and we want to make sure to try again so to implement that logic we're actually going to put all of this code right here inside a wild true loop just say while true will do all of this so right now this is going to just loop infinitely so we have to have a way to break out of this loop when we do successfully add a new winning number and to do that all we have to do is literally write a break statement after we add our number so let's talk about exactly how this is working we're going to go through this for loop six times right and each of those six times we're going to go through this while true loop where we generate a new number and then make sure it's not already in the list and if it isn't we add it but if it is already in the list it's going to skip this break statement and restart at the top of this while loop and try to make a new winning number again so when we finally get completely out of this and passed our for loop we should have exactly six random numbers between 1 and 49 that are different from each other let's actually go ahead and give that a test so we can see if we're generating the winning numbers correctly so all we need to do is actually pass in winning numbers to system.out.printline okay let's go ahead and run that all right so we got 18 5 29 23 33 and 30. so that's good that's six numbers they're between 1 and 49 and they are all different let's run a few more times to make sure we get that every time that all looks good all right perfect we have generated our winning lottery numbers now that we have the winning lottery numbers we need to work on the code to allow the user to add in their six lottery number picks let's just start with a quick print statement to the user please enter your six numbers between 1 and 49 inclusive to get the user input as you may have guessed we're going to use the scanner class so we'll create a new scanner scanner scanner equals new scanner system in to get keyboard input from the user again we'll organize imports and when java.util.scanner since we want to get exactly six number picks from the user we can use this exact same uh for loop structure here as we did above so we can just copy and paste that this for loop will again go through exactly six times so that's what we need for each iteration through the for loop we want to collect a number from the user what you can use is the scanner classes next int method but what i actually like to do is create a string let's call it number string and instead of using next int i like to use scanner dot next line of course that gets just any string from the user it doesn't have to just be a number but i tend to like to use next line instead of next in to next float and those other methods on scanner just because those other methods tend to act really weird because they don't take the entire line that you input they stop when it finds one number and then it could act really strangely trying to interpret the rest of the line later whereas if you use next line it takes the entire thing that the user input before they hit enter and then we can just take what they input as a string and parse it into a number and here's how we do that we create a new int we'll just call it number why not equals integer dot parse int and then we pass in our number string this integer.parseint method takes a string that you pass in and converts it to an int so now that we have the user's lottery pick we actually need to add it to a list of guesses that the user has input which we do need to create we haven't created that yet let's go ahead and create a new list of integers again we'll call it guest numbers equals new array list so then down here all we have to do is take guest numbers and then add the number so pretty easy right and it seems like that should work however there's a couple of things that we need to account for here one is that we want the lottery numbers to be between 1 and 49 and here the user could input whatever the heck number that they want they could input 10 thousand they could input negative six and neither of those makes sense so we'd actually want them to retry if they put in some number that isn't between one and forty nine and also what else could happen is they could enter something that isn't even a number at all if they enter in potato here as their number string and we try to parse an int from a potato we're going to run into an exception that we have to account for or the program will blow up so what we want to do if that happens is catch the exception and allow the user to retry and enter another number we'll do one thing at a time so first we're just going to validate that if it's a number as long as there's no exceptions that that number is indeed between 1 and 49. but if it's not in order to allow the user to retry we are going to have to do this again inside a while true loop so while true indent all of this stuff and end our loop after that so all of this stuff in here is now in a while true loop so what we can do right after we get this int number we can just check to make sure that if that number is greater than or equal to 1 and that number is less than or equal to 49 then we know we are fine to add that number to our list of guest numbers otherwise we'll go back to the start of this while true loop and the user will have to input another number so if that's the case and the user entered a valid number we can break out of our while true loop and go back to the next iteration of our for loop until they go through six times and guess six numbers but we also want to add an else so that if the number that they enter is not between 1 and 49 if it's an invalid number then we want to print out something to let the user know a number the number that they entered is not between 1 and 49. please try again so now what this will do is if the number that the user entered is between 1 and 49 it adds that number to the list and breaks out of this loop and gets the next number until it gets all 6 that we need otherwise if it's not between 1 and 49 we print out a helpful message to the user and we'll restart our while true loop which allows the user to enter that number again they can try again so since we've written a bit of code there let's go ahead and run it and test that our logic is working so it does say please enter your six numbers between 1 and 49 inclusive so let's go ahead and enter like the number one okay one is valid so that works let's try um 50. 50 is not between 1 and 49. okay so it does say 50 is not between 1 and 49 please try again and then let's also try 0 and we get the same message perfect now just to test our edge cases let's try 49 and that should be allowed and it is so it looks like that logic is working one thing i would like to do is each time we successfully collect a number from the user is perhaps like return the current list of numbers that they have input and we can do that right here at the beginning of our for loop we can do another system out statement your current numbers are and then we can just print out guest numbers and then prompt them to enter another number please enter a number and then just a reminder that it has to be between 1 and 49. okay let's run a quick test and make sure that works so we're still printing out our winning lottery numbers here for debugging purposes but it allows us to cheat so before we're done we're going to have to take that out anyway so our current numbers are empty we don't have any current numbers so we can add let's say 15 to our list okay and it does say your current numbers are 15. we can add another number let's say we make a mistake and we say 50 well that's out of the range between 149 and it does say that then we should get the same thing if we try to enter zero and we do and then let's go ahead and try the number one all right that works and it shows that our current numbers are 15 and one and then last but not least let's try 49 and that works as well however what doesn't work is we can still go in and enter a potato and our program explodes with a number format exception and it happens right here on this line when it tries to parse an int from a potato that's because this parse int method needs some kind of string input that actually makes sense as a number to create an int and if you give it potato or some other garbage it doesn't know what the heck to do and ends up throwing a number format exception so we have to do here is catch that exception and allow the user to try again to do that right inside this while true loop we can create our try block and we'll put everything that's currently in here inside the try and then after that try we'll create our catch block where we'll catch a number format exception call it nfe in this cash box there's not a whole lot that we actually have to do except for just print out a message to the user that hey you gave me garbage and you have to try again so we can just say sis out dude that's not even a number please try again so let's give that a quick test as well let's enter some garbage like potato dude that's not even a number please try again and then make sure it recovers from that nicely and we can enter five and it adds it to the list so our exception handling is working exceptionally and if you'd like a full video going through exception handling in java with try catch finally catching multiple types of exceptions check out this video here i did on exception handling anyway now we have this big giant for loop and after that for loop completes we should have all six lottery number picks from the user and we have already gotten the six winning lottery numbers that we generated above now all we have to do is compare those lists of numbers and see if the user won so first let's just print out what the winning lottery numbers were the winning numbers were let me just put in winning numbers and then we'll print out the numbers that the user input so that just be your numbers are guest numbers now what we'd like to do is to get a list of all the numbers that the user guessed that were winning numbers so really what we want to get is all the elements of the guest numbers list that are also present in the winning numbers list and you might think we're about to have to do something really complicated with like a loop to get that to work but the list class actually offers a really cool helper method for us to be able to do that so what we can do is say guest numbers dot retain all and then pass in the winning numbers so what this will do is take our guest numbers list and remove all the elements of this list that are not in the winning numbers list and so what you'll be left with is everything in the guest numbers list that was a winning number so that'll leave essentially the matched numbers the numbers that the user guessed that we're winning numbers so we can print that out too your matched numbers are and it's still in this guest numbers variable and then we can finally do the big check did the user guess all of the winning lottery numbers and we could do something really complicated for that too but let's just keep it simple we can do that really easily here with another method that is offered by java lists so we just say if our guest numbers list contains all of the elements of the winning numbers list so we're going to be using this contains all method this will return true if this guess numbers list contains all of the elements that are in the winning numbers list and that'll only be true here if the user guessed all the numbers exactly correctly and if they did that is amazing so we can print out holy crap you actually won how did you do that and then otherwise if the user didn't guess all the numbers correctly which they probably didn't you just print out sorry you lost not surprising all right let's go ahead and run this and give it a test okay so let's enter some numbers so we got 5 13 45 49 16 and 3. so we printed out the winning numbers printed out my numbers and then i printed out the match numbers which this is the result of that retain all it took the list that i guessed and took out every element that wasn't a winning number so all that was left was five so five was the only number that i guessed correctly and then of course it printed out sorry you lost so now let's run it again and make sure that if we win it actually tells us that so for now we're cheating and we have all the winning lottery numbers so let's just start typing them in 28 15 19 48 42 and 18. and holy crap we actually won how did you do that we cheated and since the numbers that we guessed exactly match the winning lottery numbers the result of that retain all call didn't remove anything all the numbers existed in the list because we guessed the right lottery numbers exactly now we're not done quite yet as always for all the programs that we use the scanner for we need to remember to close our scanner that's what this yellow squiggly line is here in eclipse it's telling us hey you might have a resource leak here because you aren't closing your scanner so to fix that we will just call scanner dot close closing your scanner just makes you feel all warm and cozy right so in order to make this uh not stupid we are going to have to take out where we print the winning numbers before the player puts in their guesses so to do that we can just comment it out that way we can just come back in later and uncommented if we have to do some kind of enhancement or something we have an easy way to debug so now let's run it and make sure it still works 5 13 49 18 8 and 6. and this time i matched zero of the winning lottery numbers but everything is still working so you might be wondering what exactly are the odds of guessing all six of these numbers exactly right what are the odds of winning the lottery here so it turns out the odds are 1 in 49 times 48 times 47 times 46 times 45 times 44. and that turns out to be 10 billion 68 million 347 thousand 520. so now technically this would give you the odds of getting all the numbers exactly right and in the right order but we don't need our number picks to be in the right order we can match the numbers however we want the order doesn't matter but the number of ways that these six numbers can be ordered is actually six factorial which of course is just six times five times four times three times two times one which turns out to be seven hundred and twenty so to get our true odds here with the order not mattering we can take our number here and divide it by seven hundred and twenty so ten billion sixty eight million three hundred forty seven thousand five hundred and twenty divided by 720 turns out to be this 13 million 983 8116 so your odds of getting all of these numbers exactly right in this program are one in 13983 800 8116 so not great i looked up the odds of some other stuff in comparison and it turns out your odds of getting hit by falling airplane parts are about 1 in 10 million so your odds of getting all of these lottery numbers exactly right are about 30 percent worse than your odds of getting hit by falling airplane parts and even these odds are way better than the odds of like the real lottery in the u.s those odds are something like 1 in 300 million where you probably have better odds of getting struck by lightning a hundred times in a row when you're a thousand miles under the ground wearing a rubber suit if one of you ends up writing this program and guessing all of the numbers exactly correctly i would love to know in the comments if you enjoyed this video or learned something please let me know by giving the video a like and hit the subscribe button if you'd like to see more java videos and tutorials like this in the future and sincere thanks for taking the time to like and subscribe it's the only way these videos get out to help more people see you next time