hello welcome to lesson 8 of how to make iphone apps with no programming experience in this lesson we're going to use what we learned about stack views and we're going to build our or card game user interface now what I have here is the Xcode project that we started in lesson 6 and all that we really did was add all the image assets into our asset library and in the main dot storyboard we added an image view the background here and we set it to be the background image and plus we added four constraints to anchor it to the four edges of the screen now in the previous lesson I showed you guys how to put a couple of elements into a stack view by highlighting them and then clicking this stack button here but we can also do it a different way so let me show you that in the object library down here I'm going to filter for stack view and you're going to get two results horizontal stack view and vertical stack view they're both actually the same thing just preconfigured differently for horizontal alignment or vertical alignment so if you remember what we talked about in the previous lesson about how we're going to arrange our elements onto our war card game UI all of the elements are in a vertical stack view so I'm going to choose vertical stack view and I'm just going to drag it into my view here and furthermore I'm going to make sure it's highlighted you can either click on the stack view it's invisible so it might be a little hard but in the document outline you can always click on stack view here and then I'm going to anchor it to all four sides of the view so I'm going to click pin and I'm going to highlight all of these four edges and I'm just going to change all of these to zero and constrain to margins is fine because there's going to be a top layout guide and a bottom layout guide that it's going to anchor to and down here it's going to say add four constraints so there it is it's anchored to the four edges and right now these orange lines mean that the rules means that what I'm seeing right now actually isn't what the auto layout constraints are specifying so in order to fix that I can make sure my stack view is highlighted then go down to here and update frames for all views and then you can see my stack view resizes itself to conform to the auto layout constraints I added so so far I've added eight auto layout constraints for is to anchor the background image to the four edges and the other four are anchoring the stack view to the four edges as well and then next I'm going to start adding things into this vertical stack view so let's go ahead and filter for image view this is going to be the logo I'm just going to pop it in right there and automatically the image view is going to resize to take up all of the space because if I highlight my stack view and go over to my right pane right here the alignment is fill and this alignment option specifies how my elements are aligned horizontally since this is a vertical stacking stack view all of the elements in this stack view are going to be stacked on top of another from top to bottom but the alignment will specify should they be a left aligned or centerline or aligned to the right and Phil actually stretches them so that they take up the whole space horizontally we're going to want to Center things and maybe later I'll show you what Phil looks like but you'll see that it looks quite wrong so we're going to want to Center all of the elements in our vertical stack view okay so this image view down here let's highlight that and this is going to be our logo so make sure this is highlighted and then go over to the right hand side change that to logo and you can see now that it's stretched this the odd shape now we're going to want to specify a height and width for this guy so let's go over to the asset library let's look at the logo here and I'm going to click the 1 X 1 and if you scroll down on the right hand side there's a couple of tabs so make sure you're looking at this one it is 122 by 67 now what we could do is set the width and the height for this logo as to auto layout constraints but we don't want to do that because by doing that that logo is going to be that height and width no matter what screen size the users devices so instead of specifying the height and width for a logo we want to specify an aspect ratio and we're going to let the auto layout system decide what the height and the width should be for the logo as long as it follows that aspect ratio ok so I'm going to highlight the logo here I'm going to go down to this pin menu and I'm going to select aspect ratio I'm going to add that one constraint now if you look at the logo it expands and it shows you the constraints that you added for that logo image and here we can see the aspect ratio is 61 to 358 now that's wrong because all it did was it took the current height and width and threw that into an aspect ratio we're going to want to change that so highlight that constraint and then go over to this tab right here in the aspect in the attribute inspector sorry and in the multiplier we want to change it to 122 by 67 and that's a colon in between the first number is the width and the second number is the height because if you look at the constraint it's relating its saying that width equals the height so that's why this first number is the width and the second number is height that's the ratio okay I'm going to press Enter and immediately all of these red lines appear because it's telling us that this logo that we're seeing here isn't conforming to the rule that we just added now let's update all frames again so let's highlight logo and let's go Update frames let me try that again highlight the logo and update frames okay so I can't update frames and the reason for that is because it's already updated now you may be the asking hey Chris that's not right because we specified an aspect ratio of 122 by 67 but that clearly isn't the case in fact look at the height it's greater than the width so why is that well the reason is because this stack view we anchored it to the top and the bottom and then we put in one logo so it's trying to stretch that logo to accommodate all of the space from the top to the bottom because this logo is the only element inside that stack view so we actually have conflicting auto layout constraints it can't satisfy both the stack view being it being the only element it's trying to stretch the whole thing at the same time as having this aspect ratio constraint right here can't satisfy both things now the next thing you might ask me is that Chris why is this logo why is it trying to stretch that logo to fill up the whole stack view well let's highlight the stack view and jump over to the righthand side and take a look so for alignment its centered that means all of the elements inside this stack view they're going to be centered horizontally distribution is set to fill now this is the key here distribution means that for all of the elements stacked on top of each other in this vertical stack view how are they to be distributed and fill means that it's going to fill up the whole space now there are a couple other options here now we can fill equally fill proportionally equal spacing and equal centering now I'm going to show you what those mean in a future lesson but for now I just want to bring to your attention why is trying to stretch this logo for the entire stack view because it's set to fill for distribution now this problem is going to solve itself once we add a couple more elements into our stack view so let's leave it like this for now I'm just going to collapse that in our document outline right there and what I'm going to do is the next element below the logo is the stack view containing the two cards remember so let's filter for stack view and now I'm going to add a horizontal stack view right underneath the logo so make sure in your document outline here that you can see the stack view underneath the logo now you can see the local automatically fixed itself why is that because we added a second element into our stack view and we didn't really specify any rules for the stack view it's now stretching that stack view to fill up the rest of the space and then for the logo it is following that constraint we added here for the aspect ratio to be 122 by 67 and you can see here 122 by 67 and the second element that stack view because we haven't specified any rules for it it's just assuming that it can stretch it could take up the whole space vertically like that what do we want to add into this horizontal stack view well we want to add two cards and we have image views to represent the cards so I'm going to search for image view here and I'm going to click and I'm going to drag this into our horizontal stack view you can see here now that we have an image view here and I'm going to change this image into back this is the card back image here again it's going to stretch it all the way from the top to the bottom to fill up the rest of the space in that stack view we're going to want to add an aspect ratio constraint for this card back as well so let's go into the assets and let me check on the back click on the 1x and these cards are 120 by 170 that's the aspect ratio that we want to maintain let me show you a quick way to add an aspect ratio if you hold down control and you click on your card and then just drag down a little bit this blue line follows your mouse and then you can let go of your mouse on the card and you can choose aspect ratio and what it does is it adds a constraint to that element for the aspect ratio there now if you don't want to do that way you can do it the way we last time which is highlighting the card here and then going down to the pin menu and selecting aspect ratio and adding it through this menu so this is just a shortcut when I showed you now let's go ahead and change the aspect ratio the width is equal to the height according to the ratio 120 by 170 now changes that card to take up the entire height but it also changes a couple of other things now let's not worry about that for now because we still have a couple elements to add into the mix and it's only showing this way temporarily I'm going to add another uiimageview there and you can see it is horizontally stacked but it is so thin you can't really see it now let's change this image to back again now they're both back and this one I need also need to add and constraint to specify the aspect ratio that's so thin it's hard for me to highlight and do what I need to do so I'm actually going to do it here I'm going to select back I'm going to hold ctrl I'm going to click this back and drag a blue line here into itself let go and again select aspect ratio and that's another way you can add an aspect ratio so this guy is width equals height the multiplier is 120 170 like that and now I see red lines all over the place because it can't satisfy both constraints now before we go and try and fix that what we're going to do is we're going to add a button to our stack view so we have the logo we have the horizontal stack view that contains the two cards side by side right now they're not looking like the way they're supposed to be because it's trying to stretch out both all of these elements to take up the entire height of the stack view and it's just not able to satisfy all of these aspect ratio constraints and what we need to do a search for button because the element underneath the two cards is going to be a button and this time I'm going to actually drag it right here into the stack view from the document outline you want to be careful look at what I just did which is wrong I tried to drag the button into this stack view but I accidentally put it into this stack view with the two cards so I'm just going to move it out I'm going to drag it move it out like that now you can see that I have the logo I have the horizontal stack view with the two cards and I have the button and now everything looks good because what it's doing is the local is conforming to the aspect ratio constraint the two cards are able to conform to that constraint 120 by 170 and furthermore the two of them are sidebyside and then this button the third element in our vertical stack view is taking up the rest of the space so that's fine let's fix something real quick here in our card container stack view I'm going to highlight that and go over on the righthand side here under the space singer I'm just going to put 40 so it spreads out the two cards like that now for the button I'm going to highlight it here in the attribute inspector I'm going to go down to image and I'm going to change that to deal button and the button text is right beside that so I want to get rid of this button text here by deleting that now we just have to deal button and it's taking up the rest of the space finally we have the horizontal stack view that contains the score labels so I'm going to search for stack view again and this time we're going to add an horizontal stack view to the bottom like that and then what I'm going to do is I'm going to add two vertical stack views into this one okay so drag a vertical one in there and another vertical one I'm going to do it here actually just make sure you have this stack view this is the horizontal stack view let's label it it's a good practice to if it's starting to get really complicated start labeling your stack views and your elements so you know what choose which so this stack view is a score label let's just color the score label stack views stack view and this lefthand one is going to be let's call it left score labels right score labels and for their cards so let's call this one left card and let's call this one right card and this one let's call it card stack view all right so now everything's labeled properly and we can see now each of these stack views this is a little inconsistent actually let's label this left score label stack view let's call this one right score label stack for you and I'm going to add a couple labels into them so let's search for label I'm going to drag it directly into the stack view see make sure you're dragging it make sure you're dragging it into the stack view like that I want it to be inside this left score label stack view just going to drag another one there inside alright so there we have a total of four labels you can see the four down here like that okay so let's configure the labels so for this label I want it to say player I want the color to be white and let's change the font size to be a little bigger here let's change it to let's say 20 for this one on the right I'm going to change that to CPU I'm going to change the color to white I'm going to change the size to 20 now for the player score label like the one for the actual score I'm going to just put zero to start I'm going to change that to be white and this one I want to be a bigger font size I'm going to put let's say 40 okay so for the CPU one I'm going to do the same start off at zero change it to white and set the font size to 40 like that now it looks a little weird because we haven't finished configuring it for this left score label stack view the one that contains the player and the zero I want to align it like that Center it and do the same for the right score label I'm going to Center it and then for the score label stack view I'm going to add some space in between it I'm going to say that it is let's say 100 okay in between the two and it's not it's not really aligned properly here so the stack view let me see if I can change it so that this button is not taking up so much space here I am going to highlight the score label stack view and change the alignment from fill to top so it's going to try to top align the two stack views here and now you can see the buttons all squished up there but that's fine because I do want this stack view with the labels to take up the meaning space so I'm going to highlight the the main stack via the one that is vertically stacking everything and we're going to add some spacing in between all of the elements let's say 30 okay so we have a UI that looks pretty much like what we want now I do see a red little indicator here which indicates an auto layout constraint error so let me click that red note and see what it says so it's telling me that the Left score label stack view need constraints for X position or width and same thing for the right score label stack view it doesn't know how to position them horizontally because it doesn't have the x position or the width now we can easily fix that if we highlight the stack view containing both of them and instead of distribution instead of saying that fill because fill will just put the elements into the stack view and each of them will take up as much space as it needs it doesn't have enough information to do that because it doesn't have a width for these guys right here so instead I'm going to tell it to fill equally so it's going to give equal space to each of the elements inside of it so when I say fill equally it's just going to divide what space it has inside that's tacular and give half of it to this element and half of it to this element and you can see here that the red note is gone let's take a look at this interface on different devices so right here I'm looking at the 6s plus that's the iPhone 6 that's the iPhone S II and this is the iPhone 4s so for all of them I can still see all of the elements which is good one thing that I know is not working is the landscape orientation so you can see here that we're kind of running out of space it doesn't have the deal button or the score labels in order to fix this we're going to have to add specific rules for this specific orientation in other words these rules would only take effect under this orientation so you can see the same problem occurs across all the devices this one is even missing the deal button on the success however for this app I'm going to leave it only in the portrait orientation because we're going to learn step by step and this is your first semi complicated UI in the future apps we're going to take a look at both orientations and you're going to be ready for it so in order to confine this app to just this portrait orientation we can actually go into the Xcode project properties here and under the general tab here under the device orientation we're going to uncheck the landscape ones okay so in our main storyboard let's go back here if I try to run this now I have iPhone se let's run the project you're going to see that even if we flip it to landscape orientation it's still going to maintain a portrait orientation so here we go we have our interface here which looks good nothing happens when we click the button and if you hold down command and press left or you press right you're going to be rotating it to landscape just like I'm doing here and you can see that the interface doesn't change because we've locked it to be portrait only now if you can't hold down command and left or right for any reason you can also go down to hardware and you can use these commands here rotate left or rotate right okay so congratulations you've built the war card game UI in the following lessons you're going to start learning about Swift code and how we're going to hook up these elements to make the app function thanks for watching and I hope to see you guys in the next lesson talk to you guys later bye you