Haeckel crew today I'm going to show you how your app can show notifications to the user even if the user isn't using your app now this is perfect for apps like timers or alarms and to top it off it's actually really easy to do but before we dive in for all of you new viewers welcome to code with Chris the place to be if you want to learn how to make an app I'm Chris and today I'm going to show you how to do local notifications and five easy steps now there's one thing I need to tell you that there are two types of notifications the first one is local notifications which are ones that your app schedules for things like to remind the user hey your event is in 15 minutes or hey your alarm is ringing you should really wake up and this is what you're going to learn to do today now the second type of notifications are called push notifications also known as remote notifications and that's because it requires a remote computer to determine when and what to send and it's going to push these notifications to all of the devices that are registered to receive it so for example if you get a like on your Instagram photo or apply on your tweet these sort of events aren't easily predictable and so your app won't be able to schedule a notification to show instead it takes a remote computer to figure out that that event has happened and then to push those notifications to the appropriate devices and oh yeah if you're interested to learn how to do push notifications just drop me a quick comment below now back to the local user notifications we're going to do it in five easy steps the first step is to ask the user for permission we're going to do this using the UN user notification center class and think of this as the brains or the coordinators of this whole shindig now I've got a brand new Xcode project right here and we're going to write all of this code in the viewdidload function which is going to get fired when the app launches this isn't where you necessarily want to write this code in your own app but it's convenient for us for this demo because this function gets called as soon as the app is loaded so we're going to be writing our code here now the first thing you want to do is to import user notifications and that's going to give us access to all of the classes that we need we're going to first get a reference to the Notification Center so we're gonna say let's enter equals UN user Notification Center dot current and then we are going to call the request authorization method right here and there are a couple of different options you can ask for so we can ask for for example alert we can ask to play a sound as well and this completion handler is called after the user replies that basically a dialog is going to pop up and they're going to say deny or allow and the result is going to come back here so this first a parameter is going to let you know whether they granted access to it or not so let's call this granted and this second parameter is for any errors that might have occurred we're going to write error so in here you might want to just say you might want to write some code where if they granted permission then you might not do anything but if they deny permission then you might want to just tell them that if they want to enable it in the future they can go into the settings screen and they can enable it from there so that's something that you can do before this demo I'm going to assume that the user has allowed permission in step two we're going to create the contents of the notification and we're going to do this using the UN mutable notification content class let's create a UN mutable notification content object now we're going to assign it to content UN mutable notification content and then we're going to set two properties of this new object one is title oops I'm going to say hey I'm a notification and then we also have a body I can't type all right and step three we're going to specify when this user notification should show there are different types of triggers but today we're going to be showing a date and time based one so we're going to be using the UN calendar notification trigger class we're going to make the notification trigger five seconds from now so we're going to get the current date and time and then we're going to call a ding time interval and pass in five seconds let's assign this to a constant called date and we're going to need to break this date up into its components because when we create the UN calendar notification trigger that's the type of parameter it accepts so let's create a new constant called date components and we're going to use calendar dot current date components and we're going to be able to wait this one and we're going to be able to pass in a date specify which components we want and we're going to get those date components back so let's specify a set of date components I'm going to basically want everything so I want the year the month a day the hour the minute and the second and then we're going to pass in our future date as the date so now that we have the components we're going to create the UN calendar notification trigger object and it has an initializer where we can pass in the date components and whether or not it repeats so we're just going to pass in those date components that we broke up and we're going to say false for repeats and finally let's assign this object into a constant called trigger and it's that for we're going to create a request which encapsulate sort contains the notification contents and trigger and kind of packages up into one object now we're going to create the request and we're gonna be using the UN notification request class and it's got this sort of initialization method here where we can pass in an identifier for the request the content which we have and the trigger which we also have so we're going to need to create some sort of ID so we're just going to do this right above it and we're going to say let you UID string equals u u ID dot u u ID string and this is going to give us a unique identifier which we can pass in right there content is going to be content from right up here and trigger is going to be this guy right here so finally let's assign this into just call this request and finally step five where we register that request with Notification Center and remember because this request contains the trigger and the contents of the notification the Notification Center will know exactly what to show and want to show it now we're going to register the request with Notification Center so up here in step one we already had a reference to Notification Center with this constant right here so we are all set to use that down here so we're going to say Center dot ad and you can see here we can pass in the request and we have a completion handler just in case there is an error so we're gonna pass in the request we're going to double click this closure to open it up we're gonna sign the air parameter in there and inside here we would basically check the error parameter for or n handle and errors so let's go ahead and run this and try it out so you can see here it asks me for permission I'm gonna say it Lao and then I'm going to get out of here and we actually might have passed the five seconds already so let me run that again should I set it to ten seconds so you can see that and now a question for you would you like to see a tutorial on push notifications let me know by leaving a quick yes or no in the comments below and for more awesome iOS tutorials don't forget to join the code crew family by hitting that red subscribe button below and if you're new to iOS development and you want to learn stepbystep check out my beginner playlist right there