hi this is game development with pygame and in this video we're going to wrap up our shmoop game by adding a game over screen and giving us the ability to play again in this video we're going to add a simple game over or title screen to our game so that when you start it up you know it doesn't start immediately like this immediately start playing and then also so that when we die and here I'll show you what happens so that you can be clear what I'm talking about one more life left okay and the game just exits right we'd like to be able to say game over press the key to play again something like that so that's what we're going to do this time around so if we go down here we have our game loop right this while running as long as running is true the game loop runs and when our lives run out we set running to false and the game is over so what we can do is basically we want the game to have two states either while this game loop is running it's either showing the game over screen or or it's playing the game one or the other okay so what I'm gonna do is make another variable for that called game over and that's going to determine whether we should show the game over screen or not okay and in this while running loop I'm just going to say if game over so what should we do if the game is over well we should show the game over screen and it should sit there and wait for the player to press a key to start the game so what I'm going to do is I'm just gonna say show game over screen and we'll define that in a second that's going to do the the waiting right so when they do Sakhi and the game over screen ends and we come back to right here we're gonna say the game game over is false that way we won't be showing it the next time through the loop but we have one other problem and that is that when the game ends say I'm playing the game and I run out of live so my score is something and my lives are zero well if I go to the game over screen that's fine but if I press the start again and I just switch game over to false then it's gonna try to run the loop but my lives are still going to be zero and my score is still going to be whatever it was I have to reset everything that's basically all of this stuff from here to there so setting up the empty groups for for all our different types of sprites spawning the player and spawning the starting mobs and setting the score 20 are all the things that we do when we start a new game so what I'm gonna do is I'm gonna cut that and I'm gonna paste it right here so when we come back from the game over screen we're gonna do all of these things that that start a new game okay and then down here when we die when our lives run out right when our lives run out we want to set game over to true now because the game is over but not running equals false because that would make the whole program end okay so that's really all we need to make this happen except now that we need to define what show game over screen does well the shame show game over screen is just gonna have some some text on it and things so I'm gonna define that I'll go up here to where I have my other definitions and we'll go show game over screen okay so what are we gonna do on this screen well we're gonna draw some text so let's draw on to the screen the text we want to draw is will draw the title of our of our game and I think I'll make it LR font size so it stands out and I'm gonna put that at with over two so it's centered on the screen horizontally and I'm loaded at height over four so it's up here at the guy the top quarter of the screen okay then I'm also going to put a here some instructions right because when you start up a game you want to know what the controls are right so we'll tell him that tell the player what they need to do we can make this a little smaller and we're gonna put this at with over two as well but we're going to put the height over two so it's gonna be at the center of the screen here let me do that so you can see the whole line without getting too long and then the last thing that I want to put on the screen is I want to say press a key to begin and that we can make a little smaller even it's still centered but this is going to be at height times three three quarters all right so that way it's towards the bottom of the screen we'll flip the screen so that they can see it and now we need to just wait for them to press a key which means we want to start an infinite loop or I should say a while loop which continues until they press a key so let's set waiting equals true and say while waiting so as long as they're waiting we're gonna go ahead and and use our we'll just use our FPS clock to to control the speed of this loop and then we're just going to check what events have happened okay and the the events we want to check for there's actually two yes we want to wait for the player to press the key but we don't want to nor the clicking the X up in the corner of the window right but otherwise the player is trapped playing this game right down in our original loop we check for the quit event to let you quit out of the game we also want to check for the quit event in our on our game over screen so if the event dot type is PI game dot quit then we want to actually just quit the whole program we don't want to just end the loop and go back into our game ok and now we want the key so now there's a little trick here to now I could do key down like this to say yeah they pressed a key but here's the problem with that let's say that it I can press any key right so if let's say that the key that I pressed down was one of the arrow keys or the space key then I'm gonna push it down this loop is gonna end and the game is gonna start but that's gonna happen pretty quickly and I probably still have the key down so basically my game has started and my key is down so if this is the spacebar I'd already be shooting and what we really like to do is let the player start the controls when they're ready to do it so if we do it on a key up event then when it says press any key to continue and you tap the key we start the game or we end the game over screen I should say by the key going up not the key going down ok so we'll stay waiting equals false ok so let's see how that looks so when we start our game there's our title screen ok we press a key and it begins ok now I'm going to die here so we can make sure that it goes back to the new game properly and resets everything ok game over now notice that I didn't wipe the screen when we when we died and now we have the shmoop title screen and everything on top of the background if we hit start it'll clear again now that is we have an option we could do a couple of things one is we could go down here and we could fill the screen with black but it might look nice if we were to just in our game over screen we were just to blit that background image on there so that when we first start we have the nice starry background and then when we also when we die we'll see that as well always a little hard hard to die when you want to okay there we go now see it drew the background and then the word so that erases whatever sprites were left around there okay so that's our game over screen so this is a pretty simple implementation of the game over screen but it's good enough for our purposes right now so at this point our Moop game is pretty much complete it has all the pieces all the basic pieces it needs to do everything we wanted it to do from the beginning if we look we're at about 373 lines of code not too bad for all the functionality we have there's lots more you could add we haven't made the game very hard yet you could speed up the the meteors or add more of them you can slow the ship down or make the bullets smaller you could add some different kinds of powerups that do they do different things you could add additional kinds of enemies we can have we could have a high score system where you keep track of the highest score that people have achieved and see whether you beat it or not you could have a you know a boss fight so that after a certain amount of time all the meteors disappear and another new type of sprite that's a big giant you know alien spaceship shows up and shoots back at you you could go pretty far with this and I'll leave that to you if you want to add you know try and add some of that stuff I'm going to call this game complete for now at least for the purposes of our of our tutorial here because what I like to do with the next set of videos is start making a different kind of game and then also cover some different techniques that we haven't covered yet in this one that you can always go back and apply to them one of them being to to clean up our code and make it a little more organized and you know break it up into parts that we don't have to scroll through all this graphics loading stuff and and things like that and we'll we'll cover those and you can always come back and once you see how they work add them back into your shmoop game as well alright thanks for watching you