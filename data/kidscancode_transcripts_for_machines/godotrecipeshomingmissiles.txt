welcome back to another good old recipe and this video will be talking about how to make homing missiles that will chase your player wherever they may go all right let's get started so here's how we're gonna start we're gonna soon you've got some sort of character that you can control I'm gonna use this airplane and that you have some kind of enemy that can fire projectiles so in this setup I've got some turrets that can fire projectiles they're instancing them and aiming at a target and these are what I would call dumb projectiles they just travel in a straight line and expire after a certain amount of time and if you need help setting up these things you can see some of my other tutorials for this one we'll be focusing on taking these dumb projectiles and turning them into homing missiles that will chase me no matter what direction I go in so here's our missile or bullet we're using this sprite which is from Kenny's topdown tower defense Art Attack which I'll link to in the comments below and this is an area 2d with our sprite of course which is taken from the art pack a collision shape 2d and a timer called life time which will let us expire this this bullet after a certain amount of time and let's look at the script real quick again this is the dumb script so we have a speed variable which controls how fast this goes we have a start function which we call when we instance it which just gives us a transform so we can set its position and rotation and have it travel in the direction it's pointing and then our physics process is going to update the velocity based on the acceleration which in our case is going to be zero right now so it's constant and updates the position and then I've connected the body entered signal so that if it hits a any kind of body like the player it will delete itself and if it we've also connected the lifetimes timeout which will delete the missile when the time runs out how do we turn this into a heatseeking missile well it really boils down to the acceleration we're gonna want to use our acceleration and remember the definition of acceleration is a change in velocity so by altering our acceleration we can change the direction and speed of our projectile and we don't want that to necessarily be instantaneous which is gonna look a little artificial so we're gonna apply a variable to this i'm going to call this the steer force and that's gonna be how quickly this projectile can turn right the higher this number the more quickly it can make a turn so if you want a missile that has to make a big wide turn to come around you or if you want it to turn really sharply you can adjust that property and then we're also going to add a target which if you leave it null this will continue to be a dumb bullet but if we pass in a target which our turrets are going to do we can add that assigned target so we know we have something to chase so let's look at a diagram to see how this is going to work here's my projectile and the blue vector here is its current velocity it's currently heading in that direction but the target is over here so the projectile wants to go straight towards the target which is this red vector and the difference between those desired minus current gives us this green arrow this is how much we want our velocity to change and so if we change our velocity by that much in one frame this missile would look like it instantaneously turned but we don't want to do that we want to limit the length of this green vector how much the current velocity can bend towards the desired velocity and that's what our steer force variable that we set did the longer the higher that value the longer this vector can be so the quicker the current velocity can change to the desired velocity and so we can make a function for that call this seek so first let's set this steer we'll just call how much we're going to turn to zero so that by default we're not turning now if we have a target then we're going to set that to whatever acceleration we need to pull our velocity towards our desired velocity limited by the given steer force so let's calculate what the desired is the desired velocity is the targets position our position gives us that vector and we want to normalize that I'll zoom in the code here so we want to normalize that times the speed because we want that to be so that's our desired is our maximum speed towards the target that's what we want and then we'll see how close we can get to that by calculating the steer force which is desired velocity just like in the diagram we looked at a moment ago and we'll normalize that and we'll multiply it by the steer force again which limited its length and then we're going to return that value so note that if we didn't have a target we're returning a steer force of zero so we'll continue to be a dumb bullet that moves in a straight line if we don't have a target assigned this is nice because then you can reuse this code for multiple projectiles in your game and just give it a target if you wanted to have one and then in our physics process we just need to apply that acceleration so we're gonna say acceleration plus equals whatever gets returned from seek and that's pretty much it let's take a look at what the result looks like flying towards our turrets right now now you see them bending to come towards me that is all it takes and just for fun here it is with a little more Flair where I've taken the missiles and added some particle smoke and a little explosion animation when they impact me or when they run out they'll explode alright so I hope this was helpful to you and your own projects please feel free to leave your questions and comments in the comment section below and I will see you in a future video this tutorial is part of my nugudo recipes website the goal is to collect all the best tips and lessons to help make you a better at Godot developer if you like this video I hope you'll go and check out the site and make sure to hit subscribe so you'll be notified whenever I release new videos thanks for watching