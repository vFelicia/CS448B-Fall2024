welcome back this is part six of the circle jump Godot mobile game in this video we're gonna add sound to the game and also start working on the system for doing color schemes alright let's get started okay to start with this time around we're gonna add a new script that we're gonna use as an auto loads I'm gonna say new script here I'm going to call this settings this is where we're gonna put all of our settings code for things that we want to enable it startup things like that configuration so since we're gonna be adding some audio we want to be able to enable and disable sound and music and then we're gonna have some gameplay stuff like circles circles per level so you're gonna go up a level every five circles level is basically going to take care of the increasing difficulty so the higher level you get the more often you're gonna get limited circles or removing circles or things like that so let's add some sounds so over here in main we're gonna have an audio stream player I'm gonna call this one music and the asset for that one in the sounds folder I've got a bunch of sound clips in the assets folder for various things some of them we may not use I just grabbed a bunch of likely sounding ones to start with but we're gonna use this music drop that in the stream there and then on the menu screens we're gonna have a another one and this is gonna be a click sound that'll happen when we tap on buttons and the sound for that one is this menu click wave drop that in there it sounds like just a little click and then on the circle I want it to make a sound when the as when the limited timer ticks down right every time the we wrap around one orbit so it's just gonna make a beep sound and that's using this 89 number 89 I can I got these all from a sound pack so they have numbers on them and we're gonna come back we will come back and discard the ones we don't want later okay and then on the jumper I've got some sounds that I want for this one two actually two of them one is gonna be the jump sound when we press the jump button and one is going to be the capture sound okay and the capture sound is 88 that's this okay and the and believe number 70 is the one we want for the jump yeah okay so we have those in there and then this in our settings here these are gonna determine whether the sounds should play or not so we need to put that in our project settings as on autoload which i've done right here already and then we can go into our code so in main when we have a new game we're gonna say if settings dot enable music music play and then we're actually going to do the same thing when the game ends we're going to stop the music and then we can go through our other ones and then when we press a button we just want to say if settings enable sound will play the click sound on our menu on our circle we're gonna play the beep when we tick down an orbit here I'm able to sound we will beep duck play and then grab that and over here on the jumper we're gonna play the jump sound here when we jump and then on the capture when we get captured here we'll play that capture sound so let's try that out and see if we hear our sounds so here in our menu we're hearing the click when we play we've got music we've got the beep ticking down we've got the jump sound ok now we need to connect up those buttons on the settings screen so we can turn on and off the sound so on our screens script we're going to need to change the button appearance because we in our assets folder we've got an appearance on the buttons audio on audio off and music on music off so we're going to want to alternate between those pictures so let's go ahead and load those into a pair of dictionaries so that I will have a link between the state which is true and the button which I can preload the image of easiest way to do that when it's true audio should be on so I'll drag that path in and then do the same for the other ones so I have my sound buttons on my music buttons defined for true and false loading the appropriate texture and then down here when we check our button we're gonna want to tell it to change so right now we're just passing the button name which would make me have to then go and search for the node with that name so I think when we connect up the buttons we're gonna pass the button itself which technically that means we don't have to pass the name right because we pass the button then we get a button and we will match button name and then we need our to button type so if we press the sound button then we want to toggle that so in the settings we're going to change enable sound to not enable sound which will turn it on and off and then we need to change the button so button dot texture normal is going to be equal to sound buttons and then the value of true or false and then we're going to do the same thing for music so I can probably copy and paste this and make this the music button there we go so let's try that out so now if I go into settings I should be able to toggle these things on and off see when I'm off I'm not getting any clicks so that's good alright let's turn off music and play yeah I've got sound effects now but no music so the other thing I'm gonna do is want to start setting up a way for us to do color schemes and so I've added here to the setting script a dictionary with a name for each color scheme and each color scheme is going to be a list of colors for what thing that they're gonna color and so we're gonna have a background color of the game window the players body the players trail and then for the circles Phil is that piyah color that fills in the center and then static circles can be a different color from limited circles so you have a visual distinction and so I've just put some different colors in here and then we'll have a variable that will track what theme we have selected and I'm not gonna worry too much about the UI for that yet let's just get it working first so let's start with we'll just people use that neon 1 1 to start with so now we can go to each object and set its color based on what the theme is set to so on the circle our problem is that the circles are all using the same material which means if we change the color on the material it's going to change on every circle at the same time so we need to make the material unique so we'll do that here we can say sprite material equals sprite material dot duplicate so now it has its own unique copy and then we also want to set the sprite effect to match make sure it uses the same material as the sprite does and then we can set its color and we're gonna set its color based on what mode it's set to so in mode static so let's make of our color here so we select the color based on what mode we're in so color will be settings dot theme and then what category we want which is circle static but if we're unlimited then we want it to pick circle limited and then in our material we can set a shader per am color to that variable and then we also want to use in our draw where we're filling in the circle arc and then down here this this color should be whatever the setting for circle fill is and then on the jumper we have a similar situation where we're going to set it in the ready and then we also want to set the trail so the trail points default color that's the line to D equals player trail okay let's make sure that works so we go in and now I've got a different color scheme going and you can go into settings and change it to neon 2 or neon 3 and you'll see the different color schemes showing up so that'll do it for this time around thanks again for watching make sure to subscribe so you can get the next video next time we're going to start working on the level progression so we can select different types of circles as you advance I'll see you then you