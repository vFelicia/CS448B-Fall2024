welcome back to game development with pygame this is part 16 of our zombie topdown shooter game and in this video we're going to be adding items to the game okay so we're gonna start adding some items that we can pick up and so I went on to open game art and I found this this tileset which has some really nice icons for various zombie related things I don't think we'll use all of these probably but I do I did like this little health kit here for this can be our health pickup so this is what this so this image is what we're gonna use for our health item that we're going to spawn okay so we just need to load that picture and so we're gonna go over here to our settings file and we're going to start defining some item properties now eventually you're gonna have different kinds of items that we're gonna spawn so planning ahead for that I'm gonna make a just a dictionary that's gonna list all the different item images that mean we might have so the one for health is going to be a health pack PNG okay and I've put that in the images folder so that we can load it and later we can add other types of item images here and so now we just need to go over into our load data and make sure we load that so we will go and add to our load data here we're gonna say for item in item images oh we need a list to hold them in so this is going to be a dictionary as well okay so we're gonna say item image is item is going to be load and then we're going to paths that join the image folder with the item or sorry with the item name which is in that dictionary . convert okay and then we have what we need okay now we need to go over and define the sprite for this okay we'll start with a generic sprite called item and if you're wondering how I did this this is an atom feature it's just basically got a snippet you can set up little shortcuts that will automatically paste in a chunk of code for you if you ever want to see how that works if you go up to your menu you can look at your snippets and here is where I've defined snippets this just says if I type in the word sprite it's gonna replace it with this code and I'll include a link below to the documentation for how you set up a an atom snippet if you're interested but I'm not going to spend this video talking about that but so we have a so we have an item class and we want that item to let's see we're going to pass it a position so when it finds it in the map file it knows where to spawn it and we're gonna have a type what type of item this is alright is it a health pack is it a weapon something like that and then the groups we're gonna have and game items group which we better go ahead and add while we're thinking about it so in def new we can create our items group oops and then now we can set our image and our image is just going to be the matching image for whatever type we're using we're gonna store what type we have so we can keep that handy hope I just noticed I didn't do let's see where do I want to put this except a game whose game I want to have that there all right we've got our type we're gonna set our rec center at the position that we said to put it out and I think that is it to start with okay so now we can go over to our tile map loading code and create one of these things whenever we detect one of them in the tile map so if we go over to there so here's where we're finding our players and our walls and our obstacles and so on and actually let's go over to our town map our tiled map for a second first so here we're just going to add another object to our obstacles layer and we're gonna make that be where we want our health pack to spawn so I'm just gonna copy this player one for the moment I just want to make my I'm just gonna make the health pack spawn right here right by where we we spawn because I want to be able to test out and this isn't gonna be a good permanent location for it but it's good enough so we're gonna call this health so now we know we're going to spawn a health right here in this square so now we can go back over to here and we can look for spawning it but before we do that I want to point out one other thing if you notice when we run this game see how the player is spawning right there but in the map I have them centered on this square that's because when we read the map file we're defining the x and y of the object that's this corner right here right so if I want the player centered in the square I can do that right or to be a little bit cleaner we can say use we can change it so we're using the center of the box like when we spawn the zombie over here and anything else that way I can know that I'm going to be standing where I expect it to be or where it looks like I am when it's drawn on the map so let's go over here and set our we're gonna calculate the object center okay and that's just going to be the tile object x plus its width divided by two and then the tile objects y plus the height divided by two okay so we do that and let's make this a little cleaner there we go now we can just spawn it at the object center instead of right so it just follow this at the object center X&Y and we spawn the zombie at the object center dot Y okay x and y I mean so that's a little better so now when we run it yeah see I'm standing at the center of the square okay so let's spawn our health item so here if it's a tile object name and I'm going to list in here it's it's in this list of items that it could be so we'll just add other types of items that we might find okay so but if it's a health then we're gonna spawn an item and pass it the game the position is just going to be objects enter and the type is going to be Talib duck named right so the name is health it's going to pass it health as the type and when it spawns the item over here type will be set to health it'll load the health picture so there we go okay so there's the little health pack ready for us to go and pick up so I just noticed one other things we want to do is let's add an items layer for where we're gonna draw the items so we make sure that they're being drawn below the player so we can go here to our class item another little thing that I need to so layer you those items layer okay so that way we're sure that when we draw things the player will be above the item and so will the zombies nothing that we cover it up by the items okay let's pick it up so down here we're going to add a collision check player hits items so we're going to use sprite collide here between the self dot player items and now should we do true or false well you'd think we might want to do true here because when we run over the sprite we want to pick it up so we're gonna want to delete it but what if our health is full your health is full I don't want to pick up the health pack I wanted to stay there so if I have health lesson zero I'm going to leave it so let's not delete it here what we'll do is say if we hit one so if hit dot type equals health so if we hit a health pack and our and the players health is less than whatever its maximum is okay so if we have less than maximum health then we'll delete it and we will add to the players health so I'm gonna make a function in the player called add health and it's going to add however much a health pack is worth health pack amount so we go over here and set that let's say 20 ok so we're going to add health 20 so we'll go over to sprites here and in the player we're going to add a function for that for whatever amount so we're going to take our health plus equals amount but if health is greater than our maximum health then we're going to cap it at that okay so if we get too much that way now oops gonna go over to the main my health is full I should not be able to pick it up but I'll let the zombie hit me a couple of times now I picked it up and I'm healed okay very nice let's look at that again now one thing we might want to do or one thing else that we might want to do with items is make them stand out a little bit more right now they're sort of they could blend into the background depending on where they are if they're in a busy room or something they might be hard to spot that they're not part of the background so what I'd like to do is make the health items just Bob up and down a little bit but for that we need to tackle a new topic called easing and we're already getting kind of long for this video so I will take that to the next video as always thanks so much for watching and subscribing if you hit the like button below I'd really appreciate it and helps us find more subscribers and get more people learning PI game thanks and I'll see you in the next video you