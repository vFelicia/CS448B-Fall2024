welcome back to know your nodes this is the series of Godot game engine videos where we take a single node type and show how it's used this time around we're going to be talking about a very popular node that a lot of people have trouble with it's the tile map node time app games are really common they're used for all kinds of styles of games like dungeon crawlers Legend of Zelda style RPGs strategy games even sidescrolling platformers like Megaman use tiles to design their levels sometimes it's obvious that the game is using tiles and sometimes they're not very visible at all but they're still being used behind the scenes basically all it means is that a grid of tiles is being used to layout the game world the graphics the map the movement of this price everything is based on an underlying grid and Godot has all sorts of tools to help you build out your tile map and interact with it as you're making your game so let's get started the first thing you need for your tile map is you need a tile set a tile set is a collection of the images that you're going to use to draw your map with so I have here a art pack for a topdown towerdefense style game that's made up of 64 by 64 tiles and also two different colors and that's what we're going to use to make our map with Sol so start a new scene and just add a node 2d for your root node I'm just calling this tile fit top down and then you're going to add a sprite and this sprite is going to be a tile so we're going to drop the texture in there turn on regen and then the texture region region that we want to use is going to be one of these 64 by 64 sections and so it's very useful to turn on the grid snap so that you can only select exactly 64 by 64 segments and you will make sure you get the tile sliced out correctly so there we go there's our is our first tile we're going to turn on snapping and the grid on the screen here too just because it's easier to place things around so this grid is very useful you can you just turn on the snap turn on the show and under configure you can set how you want it to look alright so here's our first tile and you're just going to do that with all the tiles you want to use now I'm going to skip that part because this can get kind of repetitive but you can just going to add another sprite like if i duplicate it throw another one over here we're going to just change the texture region and say we were using that one for example and you just keep doing that process for all the tiles that you want to use okay here's our top set after I've sliced out a bunch of the tiles and I'm just using the ones for creating the the roads and things and and leaving out a lot of the other ones because I didn't feel like doing them but here's my pal set and I've just kind of grouped them together together visually the order that they are in in the inspector here is the order they're going to show up in your tile map as well so when you're drawing with them if you place them in some sort of order they'll remain organized in that in that order as well so so this scene now has just a bunch of sprites in it that define the tiles that I want to use for my map so then you're going to click on scene and you can say convert to tile set and when you do that you're going to save it as a TR es or a text resource file and you can place that wherever you want to place it and then you just hit save now we're ready to start making a tile map so I'm adding a new scene here and I'm going to add a tile map node okay and then this time I've node you see we'll have a bunch of properties the most important one is what mode you want so if you see here you can have a square map which is a bunch of squares you can have isometric which means you're going to have that skewed perspective where you're looking down at things from the side and then you can also put custom here and customize how you want your map to be deformed from square we're going to leave this as square for our top down because that's the format the tiles are in make sure you set your cell size to the same size as your tiles quadrants size we don't need to worry about that the performance that the performance setting it just breaks up large maps into quadrants and only load them a bit at a time and then we can talk about these other ones after we have started drawing so we just need to set our tile set here so click load and select that tough that you just made and now over here on the side you will see all of your tiles showing up and you can you can zoom them in and out make them whatever size you want to look at them in and this pane will drag side to side as well if you want it to be a bunch of tiles at once and you're ready to start drawing so select a tile you want click out here and start drawing and then there you go you have some tiles and there's a couple of useful shortcuts as well these buttons over here are mirror in the X in the ydirection the shortcuts for those are a and F so for example if I've got this one here if I click a do the tile it's flipping back and forth when if I click S its flipping up and down these four buttons here will rotate the tile by 90 degrees so rotate rotate rotate and you can then go along and draw things however you want to draw them you probably want this one here let's rotate this that way there's some shortcuts here under the top menu here the bucket tool is useful you want to fill in some empty space you click that and it will fill in in paint bucket style that area you can the control is a shortcut for pick tile so if you want to draw some more of this tile for example and you don't want to go over here and find it in your time app just hold down ctrl and click on it and you'll pick up that tile again notice as I'm moving around up here is showing what my tile coordinates are right the origin right here is zero zero and you see the X increasing in this direction the Y increasing in this direction and when you hover over a tile it'll also tell you what tile number that is so that's tile number eight right here Tom number eight a couple of other things if you want to erase tiles just use the right mouse button and that will delete the tile if you have drawn a particular shape and you're wanting to duplicate it you can click on Tom up here and say select and that will let you drag a selection box around a group of tiles and then duplicate selection will duplicate that and the shortcuts for those are listed right next to the commands so here's a simple map maybe for a tower defense game where you have some mobs coming in and let's say you want to play some objects on this so I've got another house idea that has some rocks and trees and things and I want to place those in my map and I didn't make them part of the original tile set because I want them to be laid on top and so if you want to have layers of Tom Maps you can have as many as you want you can just add another tile map this might be for objects and then we're just going to load that tile set so we're going to load that tile set here the objects tile set and then you can just kind of sprinkle these around wherever you want there to be some trees and rocks and things and that's how you would do your various decorations and things and that's the basics of using a tile map but what if you want some of these tiles to be interactive you want the them to be part of the environment and when the player moves around or other objects move around you want them to be we want them to have collision on them or various other things well you have a few options there so when you're creating your tiles you can attach to these sprites three different things you can cut you can attach a static body which means it's going to have a collision shape so you can define that you can use a collision shape or a collision polygon which we'll see in a second you can attach a navigation polygon which will allow it to be part of a navigation layer if you want to use pathfinding on your map and you can also attach a light occluder 2d so that you can make all or part of your tile block light when you have lighting on your 2d map so the most common one is to put collisions on right very often need to do that and to do that let's take a look at making a 2d platformer out of tiles okay for this example I'm going to be using this sprite sheet which has buncha tiles for making different types of platforms and ramps and things for a 2d platformer so here's my sprite that I've made using one of those tiles and I'm going to attach to that sprite a static body 2d and this static body 2d is going to have a collision we can use a collision shape where we can use a Cochin polygon I'm going to use a collision polygon and I'll show you why so if we zoom in on this right and we set use pixel snap I want to make sure I'm snapping to the pixel as I draw the polygon okay drawing a polygon is very easy you click on the little pencil here and you just start clicking locations where you want corners and then when you click back you have now connected up and made a polygon if we zoom in you can click on this button right here to adjust the positioning of your polygon and this is this is just a plain old square tile so you see I was off down here in the corner a little bit so I'll move that one over this is a plain old square tile so we're just going to have a square collision now you want to make sure that you're very careful about getting the edges of your collision polygon lined up with the edges of the tile so that when you place these in the map there won't be there won't be gaps if you have another tile next to it and you had a problem like this then the next tile over would not connect up exactly and when your player walks along you're going to get stuck on little corners and have all sorts of strange collisions happening so make sure you have everything lined up just right so here's a bunch of other tiles that I've added and some of these tiles have curved corners so we can see if we look at this one this collision polygon I've added some corners here to give it a little bit of a rounded edge and you can do that we've got triangular ones here here's kind of like the top of a column that has two rounded sides and I've just sort of rounded those out a little bit so now this is my tile set and I just save this as a tile set to use in my map and when you draw your map you're going to draw it out the same way we did with the topdown map place the tiles where you want them rotate them around whatever and then just to show you what it looks like with a in action with a player I've just made a little level here with the map and a player sprite that I've made from another project and if we hit play on this you'll see that there's the sprite and I can move around and I have collision everywhere that I drew it on each tile if you look at if you turn on collision shapes you can see that each of these polygons is being blended together and we don't see any gaps which is which is good that's what we wanted to see so I hope this video helps you when you're making your own tile maps in Godot there's actually a lot more that you can do with time apps this video is getting kind of long so I'm going to break this into a second installment and in the next one I will talk about how you can interact with tile Maps through GD script so that you can make dynamic maps you can make animated tiles lots of different things thanks for watching and I'll see you next time you