welcome back to game development pygame this is part 8 of the platformer and we're gonna add a little bit of visual appeal by creating a scrolling background technically not a background but we're gonna add some clouds alright our platformer is looking pretty good we've got some good jump inning happening and we've got our enemies but our background is kind of dull I'd like to add some appeal now a lot of platformers will have a scrolling background where you see some trees or mountains in the background going by behind the player we can't really do that or it doesn't really make sense to do that since we're scrolling vertically any nice mountains or anything that we have are gonna go scroll off the bottom and not be visible but we can jazz up the background a little bit by giving it a little more appeal with some clouds okay so I've got some cloud images that I also got from kinney game art and I'll link down below and we're just going to use those to spawn some clouds that we're going to show in the background and since we have our layers set up we can go over to our settings where we set the layers for everything and we can make a cloud layer that's gonna be layer 0 so it'll be all the way in the back behind everything else alright so we need to make a new sprite okay so we're gonna grab some of this code and paste it in here and call this a cloud now the clouds are just gonna spawn up above the top of the screen and they're gonna come scrolling down below it so we don't need to specify where they spawn but they're gonna use the cloud layer and they're going to be and the I'm gonna put them in the clouds group because what we're gonna do is we're gonna make a group for the cloud so that we can scroll them at a different speed from the speed we're scrolling everything else and that's gonna allow us to make it look like the clouds aren't scrolling by you the clouds are in the distance and we could even vary it a little bit okay so we have that our sprite also is going to need an image so we're gonna go to our again we're gonna load our cloud images now I have a few of them so that we can give it again some variety okay so this is for the cloud images now those are now I'm gonna make a list to put them in there happen to be named one through three so I'm going to count from one to three autocomplete I'm gonna count from one to three and then for each one I'm just going to append to the cloud images of an append to the cloud images the image that I'm going to load each image dot load join I put them in the image folder just like everything else this is maybe a cloud number whatever dot PNG so it's cloud one cloud two and cloud three we're just gonna insert the number there and then we have all of our stuff and we can dot convert it and then we'll have all of our cloud images so over here on our sprite we can just tell it to pick a we can just tell it just pick one of those randomly so the image is going to be choice from the game cloud images we'll set the color key and we will create the rect sorry guys I have a new keyboard so it's typing a little weird for me today okay and now we just need to pick a spawn location and we're just gonna pick a we're gonna pick a random x position that's just going to be between 0 and with however wide our cloud image is and the Y is just going to be off the top of the screen and I'm going to spread them out so that they're nice and distant now all we need to do for our update is kill it if it gets past the top the bottom of the screen right I left out my if and then we'll have that so that's our so that's going to be our sprite our clouds bright nice and simple and now over here in the in the game loop we need to tell the clouds how to behave so we're gonna have to move them and we're gonna have to also spawn them so first of all here where we here's where we're scrolling the screen right where if the player gets up in the top corner we're gonna scroll it well this is where we're gonna move the cloud and we can also just start spawning them here because I want them to be you know random kind of spread out occasionally occasionally spawning so we can just in here whenever we scroll there's a chance of spotting one so if we import ran range up here I just imported random so we'll just say random so all we're gonna do is just give a very small percentage chance of finding a cloud whenever we scroll remember they spawn up high so they're gonna be a quick way to spawn one now we also need to scroll the clouds but I want to scroll the clouds at a different speed so that's why I put them in a separate group from the mobs and the platforms and again this is some of you may be thinking that there's probably a more efficient way to do this and there definitely is this is more because we've been adding this stuff one one piece at a time that we're doing that we're doing this in this order like this so I'm going to take the player's velocity and divide by two and then we're going to pick the max of that and then that should move them down at half the speed so they look like they're scrolling by slowly so let's take a look and see what we see okay well I got a typo here I forgot to put dot append all right let's try this now and let's see if we see some cloud spawning now we started out spawning them off the screen there we go all right so you can see how they're scrolling slower and they're nice and and behind all of our other sprites so they don't get in the way although I suppose you could also put them in front of the player if you wanted to have clouds that block your visibility right and add a little extra challenge so what else could we do well we could make them one thing we could do is maybe make them slightly more frequent well this isn't bad but it would also be nice if see when I fall I don't fall into an empty sky so what we can do close this is we can also let them go farther down before we delete them so let's just let them go to screen heights down before they get deleted that way when we do die and we scroll down we'll see some more okay one other thing I want to do is I want to change the image size on the clouds so that we get some randomness in there too so once we load the image I want to scale it I want to use the PI game I want to use the PI game transform dot scale right the image PG transform dot scale and we're going to scale it by some size right and so let's pick a random number for that and I want this scale to be I don't want it to be getting any bigger so the maximum should be one but maybe anywhere between half and one which means I need a random number between 0.5 and 1 well an easy way to do that is I could just say R and range remember R and range gives integers whole numbers so I need to pick around a number between 50 and 100 and divide by a hundred and then I will get and actually technically that needs to be 101 and then I'll get 0.5 up to a hundred and then what we're going to do is we're going to multiply the rect width times scale this up the rect with time scale and we're gonna also multiply the height times scale and that would be fine except we have one other small problem which is that we also are need to round these two integers because the scale command is resizing an image to pixels and so it's going to want the right number are just going to want that to be an integer okay all right so that should scale us to the size we want now let's go over here and I'm going to set this number to really large so I'm gonna spawn tons of clouds because I just want to see how they look when I have lots of them on the screen and see if I'm getting all sorts of different sizes all right so here comes some clouds we can see yeah all sorts of different sizes actually doesn't look too bad with a whole bunch of clouds on here does it yeah I kind of like that alright let's just spawn a few and I new here let's just fun a few clouds on our Start screen so I'm gonna spawn 10 see how that works so I'm just gonna spawn a cloud but then they spawn off the top of the screen so I'm gonna re set the Y of the cloud and I'm just gonna add 500 to it so since they spawn up to 500 pixels off I'm just spawning a batch of them and moving them down and I don't know I don't know if 10 is good or 8 is good let's give it a try there we go so there's our starting screen and now we can start jumping up and seeing more and more clouds I kind of like it with a lot of clouds like this ok that'll do it for this video if you want a little bit of homework try going down here too where we move the clouds downwards and try randomizing this number so that it varies for each cloud so then the clouds are gonna move downwards at different speeds and so you'll get much more of an impression of depth because some of them will seem like they're farther away and moving slower and some are closer I'm moving faster but I'll leave that for you to try as always thanks for watching I hope you're enjoying making this game it's coming along pretty far please press the like button and help other people find this and I look forward to seeing you guys next time thanks you