welcome back to game development with Peggy this is part 11 of our tile based topdown shooter game and in this video we're going to be talking about a map editor called tiled which is a really powerful way to build your game maps and levels so we have our game working pretty well now the zombies they they move towards the player but they're not particularly smart about it and you know they will go on top of each other like that if they get stuck in a corner they'll just you know be right on top of each other there's lots of stuff we could still do can shoot them through here which is nice but before we go into improving our mob behavior and in doing any more graphical improvements I want to talk about our map right and so our map file if you remember looks like this and this is really great for games where you have not a lot of variety or or detail in your map and and to get an idea of what I mean by that let's look at the the art pack we're using right this is the the Kenny game art pack that we took our player and our zombies from and it comes with all this great art for making walls and furniture and all that kind of stuff and if you look at the sprite sheet it looks like this right there's a lot of tiles here and so if you imagine trying to lay out a map made of these tiles in this kind of style you would have to assign a different letter or a different character to each one of these right and every where you put that you put here it would look like a big jumbled mess would be really hard to keep track of what goes where and what it looks like and on top of all that things like this like when you want to put the the couch here alright the couch is not square right so it has some transparent portions to it where you see the floor below it so you have to have a floor tile with a couch tile on top of it so you need to have layers in your map and it all starts to get kind of complicated well that's where we can turn to some tools to help us out and what a lot of game developers will do if they're if you're working on a really big project is they'll build their own map editor program to use to lay out all their maps and place tiles where they want and while that's a that's a fun project on its own we can turn to the Internet to solve our problem and so we're looking at a program called tiled okay it's at map editor org and this is an open source tile map tool that is really popular really widely used it's supported in lots of different game engines and it's very powerful but it's also pretty easy to get started with so you want to go to map editor org if you click on download here you'll see that they have downloads for whatever operating system you're on so go ahead and pause the video and go and download this program because we're going to talk about how we work with it okay when you open up tiled this is what you're going to see and so the first thing we want to do is we want to make a new map and so you can go up to file new or you can just click on the new map icon right here if we click on that we have some choices to make now tiled will do isometric and hexagonal shaped tiles which is something for another game series we're going to stick to orthogonal which means straight up and down our grid is a topdown view so we're gonna use an orthogonal grid you don't need to worry about the layer format and the render order you can leave those as they are but what we want to talk about is the tile and map size so the tile size you want to set to what you want the tile size in your game to be right and we've been using 64 by 64 tiles so we're gonna set that and then you need to set how big your map is right how many tiles across and how many tiles down well I'm gonna do 50 by 30 se which means my full map is gonna be 3,200 pixels wide and 1920 pixels tall right which is much bigger than our game screen but we already have the scrolling camera so we're gonna be in good shape so that's our map so if we hit okay now we're gonna have a nice blank map of a 64 by 64 tiles okay now we want to import our tile sheet into here so we have all the graphics now very important that before you do this you move your spreadsheet file to the place where you want to have it before you start working with it in tiled because if you move it after you've made the map and saved it it becomes kind of a pain to get everything to get the the locations of the files right so I'm putting it in my image folder where my other graphics are all right this is the same spreadsheet we were looking at before okay and so over here in this window is where the tile sets are and it's blank because there aren't any well just like with the new map there's a button down here at the bottom that says new tile set and if I click on that I'm gonna get some more options so we can give this tile set a name because you might have more than one you might be using more than one tile set you can give them different names I'm just gonna call this the Kinney top down can you top down fat because that's what it comes from and then we need to browse to the location so we're just gonna hit browse and go into our image folder where we put the tile sheet and we open that up and it will automatically have put 64 by 64 in here assuming that we're going to use tiles that are the same size as our map which is usually what you want to do but if for some reason it doesn't say 64 by 64 here you're gonna fix those and then if you remember from looking at from actually looking at our map this this sprite sheet the tiles have this gap in between them right they're all spaced out and so that is what we set here in the spacing so turns out those are 10 pixels you can go look at the image and measure them but I already did and there are 10 pixels apart ok so then I'm gonna click OK and there we go it is now over here in this window loaded all those tiles and put them in a grid and see I can click on different ones now if you didn't get the spacing right you'll see it won't have chopped them up properly and the tiles won't be looking correct you only get half of the chair or something so you should see the right spacing of all these things and like the big tree takes up 4 tiles because it's large that kind of thing ok you can also over here on the right hand side there is a zoom dropdown so you can zoom in and look at the tiles up close or zoom out and look at them from far away whatever is more convenient for you and the same thing with your map here this bottom right hand corner here is showing you the zoom level of your map right and so you'll zoom in on your squares now let's start with this green grass tile in the upper left hand corner of the top map ok if I go out here on the map and click you'll see I can place every time I click and I can actually just click and drag as well and I can paint my map with those grass tiles that's a really slow way of filling it all in so we could also click on the paint bucket tool here if I click on the paint bucket tool I can come out here and click and now you'll see if i zoom out my full map is filled in with grass and that's a pretty good way to start although it's very boring and it all looks the same right because every one of these tiles you can see that if you look close you can see the repeating pattern of grass well turns out there are multiple graph styles here so one thing I can do is I could highlight all of these grass tiles so let me do I'm going to hit undo this button right here to undo all that painting that we did go back to the blank map now if I go back to and I highlight these four grass styles then you can see I can stamp them all at once so that's another way to get a large bunch of tiles out there at once okay but that's not what I want to do either you can also highlight multiple tiles like this right so I select the four grass styles and I'm going to click on the whole picture of the dice here that puts it in random mode so now every time I click it's going to pick one of those four randomly so every time I click it's filling in differently so as I paint or fill it will randomly choose from those alright so I can go to the paint bucket and fill and now I have random bits of grass tiles all over the place okay and so my map is full of green grass let me zoom out all the way so we can see it there's my map full of green grass now what happens if we want to place a tree let's just put one tree on so I'm going to zoom back in and since we're gonna start in the upper right hand corner I'm gonna zoom I'm I'm I scroll up to the upper right hand corner let's say we want to put a tree well the trees were over here and let's see let's grab one of these small trees okay so here's a tree I want to put a tree well if I put the tree this happens because you see the tree tile its corners are a transparent so we've now replaced the tile of grass with the tile of it that's the tree but that's not really what we want what we want is we want that tree tile to be on top of the grass and that's where layers come in okay this first layer where we painted all of the grass I'm gonna click on the name here and I'm going to call this the ground because one of the really powerful things that tiled lets you do is draw everything with multiple layers right so if I add a new layer here again the little new button looks just the same I'm going to add another tile layer we're going to talk about what these other layers are for later but we're gonna add another tile layer okay and that tile layer we're gonna call trees okay so now I can click on either one trees is above ground and the lists so ground will be on the bottom so now if I click on trees and I click and place a tree now that tree I'll zoom in so you can see it better those in a little bit more now you can see that these trees are being placed and they're not removing the ground because they're on a separate layer that's being drawn on top of the ground and you can turn on and off different layers so you can see them better you can change their order obviously if I move the ground up on top of the trees you won't be able to see the trees because the ground will be on top of them so we definitely want the ground to be at the bottom but there are my trees showing up so I'm gonna save this and what I'm gonna do is I'm actually going to make a new folder called maps that we're gonna store all of our game maps in and you can see this is going to save in the TMX format that's tiled the format the tiled save things saves things in all right so let's just call this tiled one this is not going to be our game map this is just a test so we're just gonna call it that okay so now it's saved and ready for us to start talking about how we load it into our game so in the next video we'll talk about how you go about loading this tiled map into your game and using it as your game map in the meantime practice with tiled experiment a little bit see what you can draw using this great Kenny art pack and in the meantime if you would need some inspiration or you want to use my map I have made this map which is a little map where I drew for for my first level it's gonna be a little house where maybe this is where you start and the zombies start invading I haven't decided yet but I've decorated it a little bit it's got four layers okay so I'll show you we have a ground layer it's just the the bottom of everything right then we have the walls and that is going to be the walls of the house and any other objects and then I added some items in to make things look interesting and then for the very top layer I have a decorations layer which is just some more little frills and things to add to make things look a little more interesting so this is something you can start with I'm not totally finished with it yet I'm still deciding what to put over here on this side I was thinking of maybe a police station or something like that so we have our little town that you're starting out in or that your player lives in so this is going to be a map that we can use but go ahead and feel free to draw your own the techniques we'll use will be based on this one but you can do the same kind of thing with your own map alright and I will see you in the next video as always please go ahead and hit that like button and if you haven't subscribed already subscribe to the channel so you will get the videos as as I release them thanks you