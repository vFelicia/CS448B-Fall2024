as you might have seen on the news recently it's been ridiculously hot in vancouver it's pretty much unbearable so i wanted to get an ac but i couldn't find it in any stores so i decided to write a simple python script to check if any ese's are available like every five minutes so that it can let me know when something is available so in this video i'm going to show you how i made this whole thing just in case you want some inspiration for a new project or you want to follow along with something like this to practice your coding skills so let's get started now the first thing i want to mention is that i'm going to have links to two sets of code in the description the first one is this complete code that i'm actually running right now to look for acs for me and the second one is the starter code which i'm going to use in this video this has you know a bunch of boilerplate code to get started with this whole project and i'm going to use this one uh in this video just to show you the whole process the first thing i want to do is i want to show you the exact task i want this script to do so i was looking at this particular ac in best buy and i wanted to see if it's sold out in nearby stores near vancouver so that you know whenever it's not sold out i can make an order and i can pick it up in a store and i decided to use slack for the notification part just because you know i'm kind of used to using slack but feel free to use whatever you feel comfortable with whether it's email or telegram or discord or whatever if you decided to follow this with me and for the library initially i was trying to use beautiful soup for this but it didn't work for this particular page and i think the reason is you know beautiful soup works well with plain html pages like wikipedia but it doesn't work well with more dynamic pages for example if they're written in react so then i ended up trying selenium which is more advanced i guess and it worked perfectly so that's what i'm gonna use in this video okay so let's now just dive into our starter code if you open it you'll see that i have some code to set up selenium at the beginning and then i have some code for slack which we're going to use later for the selenium code let me first show you what it does you know by running the code depending on the environment you're using you might need to install selenium with you know pip install selling or something like that but anyway once you set up everything and once you run it you should see something like this so you can see that we have a browser here chromium to be exact that opened up the page that i was just looking at and the way i did it is i have some you know set up code for selenium here and then i said driver dot get or driver open this page and then the url okay and the next step after that is i want to be able to have selenium and this script find the exact text that i wanted to check and that's this text right here and to do that i'm going to use a css selector so let me show you how you know you might go about finding the exact selector for that so first inspect elements you see that this is in a span this span right here with this class actually i tried using this particular class to find this span but it didn't work because it turned out this class is not unique so then the next thing i did is i looked at the html around this span and i looked at in particular this spans parent's parent so that would be this div with this class right here and it turned out this class is actually unique for this div so all i need to do is first find this parent's parent div and then say okay i want to find this divs child divs span so let me show you how i would go about doing that first find that particular div with this so find something with that particular class and then say i want to find the child of that i think we're supposed to find div first and then that span so right there this is the css selector that we need to use and now that we have this css selector we can just copy and paste this into our selenium python code so what i'm going to do here is i'm going to say driver dot i think it's find element by css selector right there and then just do that and i'm going to call this result let's just say e here and i'm going to run this again this whole thing once this is complete i should be able to jump into you know this line of code right here in the console just by typing e here you know if you're using a different environment you might want to use a debugger here anyway it looks like we were able to find an element i'm not sure if it's the right element yet but at least some element and i should be able to say e dot text here and this is exactly the text that we wanted and the next step after that is i want to be able to say something like if the current text that we're examining is still this text then do nothing uh to be precise i'm gonna send a message on slack without pinging me and then i'll say else um ping me on slack so i'm gonna show you how to do this in a second but first let me comment out everything i wrote so far for selenium to show you how i set up slack and using a slack bot from python is actually pretty simple the only thing you need to do before running this code is you need to make sure that you have your environment variable set up correctly i'm calling mine slack token and inside this variable i put the slack api key for using our slack bot and once you set up in whatever environment you're using you should be able to just to import slack import os and then set up the client and once you have the client you should be able to send a message to slack through that bot with this function i'm going to send it to this channel bought test2 with this text hello and before running it you'll actually need to install a slack client manually with pip install slack client or pip3 install slack client and once you've done that you should be able to just run this code and that should work so let's see let's just go to slack and this is uh what i'm getting hello and here i'm you know this particular bot is called weekly wins just because i'm kind of hijacking somebody else's bot that was being used for a different purpose but it works anyway now that we have these two components selenium and slack we just need to combine them together and we're going to have our but so let's do that right here just by first uncommenting the stuff that we wrote for selenium and then i'm gonna move things around a little bit and here what i want to do is i'm gonna write a while loop with while true and then i'll say check the website and after that sleep for 5 minutes or 300 seconds and just keep repeating that and to do that sleep i'll need to import time and then say time dot sleep the first thing i'm actually going to do in this while loop is i'm going to make sure the browser is refreshed so that we can get the new information and then i'm going to say this thing to find the right element and then i'm gonna use this code right here actually what i'm gonna do is i'm gonna put this in a new variable called let's say text if text is this one then send that on slack just that text without pinging me and else i'm gonna send whatever that text is in the slack but i also want to be able to ping myself and to do that i'll just need to do text plus space and this code right here my slack id is this one so let me just copy that over there and this should work let's see it looks like it's refreshing the page right now and it should have been able to check the right element so let's go over to slack and it looks like i got the right text and available for store pickup sadly and after this i made sure this line for picking myself works and in a minute i'm gonna explain how to make this code work more consistently so it will pretty much never crash but before that i wanted to mention a few things first of all if you want to make sure that this code never stops and if you choose to use replica for it you might need to use what's called always on i'm going to put some info in the description about how to use it second i know i haven't been making that many videos recently on this channel but i have been making and editing some videos on replace channel and i thought you might like some of the videos there for example this one about why you might want to switch from webpack to vt and this one about coding bootcamps anyway back to the video if you look at my final code i think you'll notice a few differences between this final code from the one we were just looking at first of all i changed the organization of the code a little bit so some stuff is in separate files and some stuff is in functions and functionally the biggest difference is this statement right here try and accept i need to use this just because sometimes when selenium tries to find this element rarely actually it's not able to find it for whatever reason so i want to be able to find that case and to do that i'm catching that error here and then throwing it here as e and once i catch it i convert it to a string and then i send it over to slack that rare case looks kind of like this and with that it looks like this spot is actually able to run pretty much indefinitely it's pretty sad to look at it you know it's it's always unable unavailable for still pick up but at least it's working and i can't wait for this spot to ping me alright so that's pretty much it for this video i hope you learned something from it and i hope you are staying safe wherever you are and if you have any questions about this or anything else let me know in the comment section below okay bye guys