so in this video we're going to be building a tab panel using jQuery uh similar to the ones you've seen around the internet U basically I want to be able to click on these different tabs and see different kinds of content so here's how you would lay that out um in the HTML um I've kind of got this whole thing which is my tab panels and then I've built a UL With An Li and that is these panels up here kind of like you would a navigation on a web page and then I've got a bunch of divs here each with an ID of 1 2 3 4 and so I've set up a couple CSS rules here is by default any div with a class of panel is going to be hidden um but then if I also add a class of active then it's going to have it goes from display none to display block so here's my tab panels panel is display none and then tab panels panel active is display block so the one that has active is the one that'll get seen I've kind of done the same thing for my li here is whichever one has the class of active is a darker color also anything you hover on gets a darker color so if I add that class over here then panel two looks like it's the one that's selected so now I need to write the jQuery that when I click on this it's going to move the active class to the correct one and it's going to find the correct one of these uh it's going to hide the one that's shown now and then it's going to show the one that I want to show and it's going to add the active class to it so let's go ahead get into jQuery and make this happen so I'm going to come down here at the bottom of my page where my JavaScript is loaded you see I'm loading jQuery and then after jQuery um it's important that it's after I'm going to start doing my JavaScript um which you know usually you'll want in your own Javascript file but for the sake of this example we're just going to do it right here I'm going to do a document ready function which you should know by now um basically that just waits till the whole HTML document is loaded before we start doing any jQuery um and so then what I'm going to do is I'm going to listen for clicks on these guys so let me see that's tab panels UL class tabs Lis okay so I'm going to go tab panels tabs Li on click and so then one way that's easy for me especially when you're starting out with JavaScript I'll do comments for what I know needs to happen figure out which panel to show hide current panel and these can happen probably in a couple different orders show new panel so that's kind of what I need to do here let's figure out how to do this I need to figure out by clicking on An Li I need to know which um div I'm going to show so I'm going to add an a here equals panel one so that way I know that to look for ID number number one ID panel one and we'll get that guy real equals panel 2 uh ra equals if you're not going to use real then you can come up with anything you want you can go data panel ID or something like that you just need to make sure you start it off with data but real is one of the HTML attributes that you can use in a case like this so now I just need to grab that real attribute and I know that when I click on this guy that I need to grab panel number one which will be this guy so let's go this if you remember from other tutorials I've done whenever something gets clicked on or whenever an action takes place this is the thing that got clicked on so it's basically the same as this selector or in this case there's multiple tab Lis so it's the tab Li that got the click event um so I'm going to go over there panel to show equals this. HTTR so now I should be grabbing that let me alert that just so we can kind of test this here so now I click panel one this should say panel two panel two yep excellent so now I know I need to find the ID of panel to show so let me go ahead and hide the current panel that will be easy I'm just going to go tab panels and then these are all class of panel right yep so I'm just going to find the one that has class of panel active panel. active just like I would in CSS hide I'll actually make it slide up 300 so there we go so now whenever I click yep the existing one slides up so no matter which button I click the existing one slides up great that's a good start um and I also I accidentally removed my class equals active for my first one there you go we want to make sure we start off on panel one so that first one is done great now I need to show the new panel but I only want to show it after this one's done sliding up so I can add a function almost anything you can do in jcer you can add a function to the end of it which is what's called our call back which means that it's going to wait till it has slid up for 300 milliseconds and then it's going to fire our function which is great uh so if I just show you in alert here um you're going to notice it'll wait for 300 milliseconds while the other slides up and then it's going to fire my alert slide up and then alert there we go I'll show you again slide up then alert so that's what's called a callback JavaScript can be running something and it can know what to do but wait for the right moment to do it that's called a call back so um once I have slidden up my old one then I'm going to go it's an ID so I'm going to start with that and then I'm going to go panel to show and then this will slide down 300 so once that's done sliding up it's going to fire this function which is going to find the ID of panel to show and it's going to slide it down so let's see if this works great and you'll notice that it doesn't know how to keep going because it doesn't uh I didn't change my class now so it doesn't know which one to slide up so I need to add another callback function once it's slid down all the way let's add class of active so now this no longer is the LI that was clicked this is in a callback function to panel to show so this is panel to show this is one of the most confusing things about JavaScript and especially jQuery is when you start getting callbacks and then callbacks within callback you get what the developers I guess like to call call back hell um where it just becomes very messy very quickly so by the end of this video we're going to have that corrected but for now here's what's going on uh the LI got clicked so we're running all the code within that function anywhere in this code this refers to the LI that got clicked so now we're going to run we're going to find the active panel and slide it up and we have a callback function for the slide up so anywhere inside of this function if I were to do this right now this would be the panel active that we selected if that makes sense so this would no longer refer to the LI tab so that's one thing that people very quickly get confused on in jQuery you have to know where you are because this will change based off of what's going on and so now we're going to find the panel to show slide it down and now this refer refers to panel to show because it's happening inside of that so once the panel to show has sliden down all the way we're going to add the class active to our panel so that'll get us most of the way there we're almost done so now it slides down now we have the active and now you can still see it's doing some weird stuff I'm not really sure what's going on it's kind of acting weird and you know what's going on is is we're never removing the active class from the one that we're sliding up so the first thing we want to do here then is go this. remove class if you haven't gotten completely lost um this is our panel we're done it's complete we're finished so here's kind of how we had to do it we had to figure out which panel to show that's the easy part and then we have to slide this one up and as soon as it's slid up we're going to remove the class of active this is pointing to this the active panel that we've selected and then once we've removed our active class we're going to slide down our new one and once it's all the way done then we're going to fire this function and add the class of active to it so this goes up active class is gone the next one comes down and then the active class gets add it so one more thing we have to do is you notice our panel isn't changing either that's a very easy thing to do we're just going to go this add class active so now this gets the active class and we also want to find the LI that has the active class and we're going to want to remove that first there we go so whenever we click on the lii the first thing we do is we find the one that's active remove that class and then add that class to me and then go and do the rest of our panel let's see what we got there we go it's working just fine working just fine working just fine okay so here's our functioning panel um but there's a problem here uh we have some call once again it's called call back hell that's kind of actually an official term whenever callbacks get Beyond one or two levels they call it call back hell I'm not trying to offend anyone um but that's just what it's called so um we want to try to get rid of a little of this so an easy way to do that is to go function let's actually name this function show next panel and now what I can do is I can cut that out and I can put that function down here so now I have function show next panel we can call this at any point in time now so instead of a call back uh a written out call back here I'm just going to go show next panel so now it's a little cleaner looking so now I'm going to hide current panel and then I'm going to show the next panel that's a lot cleaner so now we only have one level of callbacks going on that we're visibly seeing and you know what I'm going to leave that there I don't think this is detailed enough for me to have to pull this function out into its own function so I'm going to leave that there let's verify everything works just as it should everything still looks great okay one more problem here is we are referencing on click we're doing this search right here and we're doing this search right here this is bad for two reasons one every time you click we're having to search the entire web page to find any tab panels with a class of active and they're having to do the whole thing again right here every time you run a jQuery selector like this uh just like you would use CSS it's having to search the whole web page to find your stuff and so that can actually it can slow down your application but it can also cause some problems let me show you why that is I'm going to go ahead and copy and paste let's add another tab panel to our page uh another completely different tab panel and so this one has panel 5678 5678 and you notice the IDS are different 5678 the rails are all different and so now when we run this listener it's going to listen to all eight tab panels and oh no it is hiding our active tab panel no matter where it shows up so when I click here it's going to find any tab panels that are active and it's going to remove the class so you'll notice this will now look like it's turned off and this will now go away okay that's not okay so what we need to do is in order to scale this it's called scaling when something has to move Beyond its initial intention into a more reusable intention uh we actually have to make it smarter we have to have it only operate within the panel that was clicked on within the tab panel that was clicked so here's what we're going to do um we're actually going to go and let let's go ahead and our first order of business will be to find out which panel we are in so we're going to go this so whichever Li was clicked we're going to go closest tab panels so what that's going to do is I'll come back up here to my HTML is whenever you click on An Li it's going to find the closest tab panels that it's a part of and that's going to be what we use for the rest of our plugin so here we go panel is the closest tab panel so now we know which tab panels we're working on and so now what we can do is we can go panel. find and we don't need to find tab panels because we're already within a tab panel we're going to find tabs liactive within the panel that we're part of right now and let's do the same thing here panel. find and we can remove the tab panel that we're part of so now we're just searching within our existing panel to find any Li actives make those changes and now we're going to find any panel actives here's how you know you've done it right is we are not seeing any of these selectors going on inside of our function we're only seeing this selectors which means that we already know we're which one we're working with and we're not doing anything beyond this so this is the only specific one we're doing because we already know which specific panel to go to let's see if that fixed it excellent that fixed it just fine um and kind of one thing that's a good rule to do is whenever a variable is referencing a jQuery selector which is what we're doing here it's a good idea to put Dollar in front of it that way you kind of know this thing represents a jQuery selector um it's not just any old variable so that's how we did it hopefully that made sense to you I tried not to go into too much detail and I tried to not avoid detail so feel free to rewatch it a couple times if you feel like we went through it too quickly once again let's do the final Rec recap on what's going on we're listening to any Li any tab panels tab Lis that get clicked as soon as they get clicked we're going to do find our closest tab panel and save it to this so so we know what panel we're working with and so then we're going to start doing some things we're going to find whichever tab whichever Li is active and we're going to turn that active off and then we're going to add active to whichever one got clicked then we're going to find out which panel to show by list by finding the re to the LI that got clicked that is once again right here if you clicked on this Li we're going to grab this value out of it by looking at the RL attribute so where was okay there we go we found out panel to show and then we're going to hide the current panel so we're going to find within our existing set of panels we're going to find a panel with an active class we're going to slide that up and once that's done we're going to show the next panel showing the next panel is a twopart thing where we are removing the active class from the panel that we're talking to which is this cuz this is happening on this action right here I know that's what gets a little bit confusing about JavaScript you learn to think it but at first it's pretty confusing you're like everything is this how do I know what this is that's one of the things you start running into when you start learning JavaScript is this um and so we've removed the active class from the panel that got hidden we're going to use panel to show and we're going to slide that down and we're going to add the active class once it's done so there you go that's how to build a tab panel um in jQuery hope you enjoyed the lesson