okay so now i have two modules on my page i have my people module and i have my stats module i'm also including pub sub js even though it's not getting used yet so there we go and so you can see whenever i delete something that my people gets updated test test 1 or 21. there you go so people is automatically updating here's how that's happening i have a very basic stats module that basically just has a set people method that it's exposing so set people is right there and whenever set people gets fired it's going to update with the amount of people you have and it's going to render excellent that's also going to console.log i can probably take that out there we go so that's basically what's happening our people module is calling stats.set people whenever it renders so it's calling set people it's passing it the length of people we have it's receiving that setting it up here and then it's going to render which is going to spit out our mustache template okay so that's basically our module so once again we don't want this to be coupled to the stats module we want to decouple that and so now all people has to do is it just has to go events dot emit uh let's go people changed people changed we're gonna emit a people changed event and we're just going to add people.length to it excellent so let's go ahead and pull up our console here and i'm going to now subscribe to that event let's make uh let's go events dot on people change let's just make a function here count and i'll just alert count there we go so now i've subscribed to this event so now we should get an alert whenever this count changes yep now we have one person now we have two people let's go ahead and add another listener here um let's console login let's console.log that account so now when this changes i'm going to alert account yep and then it's going to console log an account yep test2 alert2 and then console.logs2 great so let's go ahead and now all we have to do is go into our stats module and then we can actually forget this whole api we don't have to expose an api anymore all we have to do is bind the event so instead of binding to a dom event we're just going to bind to a pub sub event events on people changed we're going to do set people there we go so now set people will fire i don't need to do the underscore render anymore because basically i have no more api and so now whenever people changed we're going to fire set people and set people is going to fire with the people length that we're emitting so let's go and check this out see if it works uh oh render's not defined yep that's what i get for changing my code on me so look at that it automatically starts up with two if i delete that it goes to one delete that it goes to zero excellent so now what's awesome about this is stats does not know where this event comes from there could be 20 other modules triggering this people changed event and it doesn't matter and people does not care about the stats module it doesn't care about any of the other modules it's just emitting this event with this data and so anybody else can listen to that and let's say later on this stats module you know i actually am going to change my mind i'm going to i'm going to um expose an api here on the stats module i'm going to expose a destroy here so let's go ahead and go return destroy and let's make a destroy function here so now this function this uh module can be destroyed if we want it to and so this is going to be this function here so whenever we call destroy that'll destroy this so what what i'm going to do here is i'm going to let's say i'm going to take that whole stats module and i'm going to remove it and then i'm so that's module's going to poof disappear from my page i'm going to unbind my event events off people change set people so now i'm no longer listening to that event anymore so let's go and check this out it's working it's working and let's destroy this guy stats destroy that's gone and nothing is listening anymore so now my people module is completely working just the same this thing is gone from the page and my people module doesn't blow up it doesn't explode because i'm not listening to that module in the first place i don't care if that module is on the page or not i'm simply emitting events and whether that module is there or not everything's going to work just fine so that's your pub sub pattern that's a great way to scale your apps even further