so in my last video I showed you how to get email sending from your node.js application uh with send grid and it's working great uh but in a real life scenario you'll probably want to send HTML emails Rich HTML emails and that's a little bit more involved one because there's a lot of restrictions um around Rich HTML emails because there's so many mail clients out there and lots of them especially like Outlook are going to handle things really different so I'm going to kind of give you my thoughts on how I would approach rich HTML emails um first off with srid the only thing you've got to do is change text to HTML and then you're done that's all srid cares about now I can send H1s and I can send uh HTML tags of course there's several issues with this one you do not want to be coding HTML straight into a JavaScript string terrible idea you're going to hate your life uh it's also a terrible workflow you can't code in here you don't know what it's going to look like on the other end unless you send yourself a thousand emails while you're developing so we need some kind of workflow around here and then last we we lastly there's some tooling you can use to build responsive emails uh that are a lot more should I say Dependable on how they'll display in different clients so let's get into that workflow and then into some tooling first thing I'm going to do is I'm going to go I'm going to make myself a preview route router. get preview and I'm just going to send myself an email template so res. send uh res. render email and let's send it say my first name so I want it to render myself an email from the email template now I don't have an email template yet so let's go ahead and save I generated this Express app with the express generator and I use let's see here I used Express and I use the Hogan flag which is basically mustache um so Hogan we're using Hogan templates here you can use Jade you can use whatever you like but I'm showing you Hogan for this example so email. hjs so now this is my email template here let's get rid ahead we don't need that and let's get rid of this and let's just say I don't know you signed up for something so thanks first name thanks okay so now that's going to render let me go start my note up again and npm start and I should be able to go to SL preview not found okay let's see what's up with that I didn't save my file reboot my Express app there you go so that says thanks will let's say I coded and coded and coded and this is exactly what I wanted it to do so let's get this instead of rendering to my response let's get this rendering we just want the string output so Express comes with hjs which is Hogan for Express so we actually want to do this Hogan compiling manually so we're going to go npm install flag s Hogan JS and so that's installing Hogan JS so now we can go there Hogan equals require Hogan JS it's going to give me the Hogan JS library and I also want to access the file system CU I want to grab that file directly ver FS equals require FS which is the file system node.js module that comes baked into node so we're going to do is we're going to get the file compile the template we're going to do those outside of the route because we want to do these once the once the application boots up we don't want to have to get the file and compile the template every single request so we're going to bump those up here and then right here we are going to render the template so let's go and get file ver template equals fs. read file sync views email. hjs and you also I'll go full screen here you also need to do utf8 which is what you want to do if you ever want to get the contents out of a file and pass them into a variable so now we want to compile the template very compiled equals hogan. compile there we go so now I've compiled the template uh you don't really have to know what that does you can look it up and see um and so now I can run my compiled templates so I can go compiled templates. render that could be that could come from query prams we could look this up in a database whatever I'm just going to print that object there so now we should be good let me restart my nodejs app no not npm install npm start of course I did something wrong what did I do I put a semicolon there npm starts and let's just go to Roots so it should send me an HTML email says woohoo let's see if I got one one two three 4 ah about four or five seconds thanks will yippe so that came through it templated my name in and it sent me an HTML email okay so that's a basic HTML email example now how do I do two things one how do I code this thing for um for all the email clients and then how do I also tool this to make the workflow a little better let's tackle the coding issue I like using ink by zerb if you go to zb.com in zerb is the people that make Foundation zerb are the people that make Foundation uh which is kind of a bootstrap competitor and they have ink which is this cool email service for you so a couple rules with emails is one you actually can't Define Styles like this and have it be compliant across devices uh you also can't do classes you can't define a class like an H1 say special class assign that to here and have those Styles make it you have to inline all of your Styles which means you can't go font weight bold you have to go style font weight bold so you have to inline them like that now you don't want to have to do that yourself you want to let an inliner do it for you so let's strike that let's say I did all my coding just the way I did before um I can actually copy this out and what Inc is going to provide you is they're going to provide you three things they're going to give you some builtin templates they're going to give you responsive class passes and they're going to give you an inliner that'll convert all that for you so I can actually paste any old HTML in here and just use the inliner if I want you can see it struck out my style tag and now the style is printed in line nice so that'll work that'll be a lot more cross client compliant uh and so let's also look at their email templates super nice let's preview this sidebar hero one this is a nice responsive email template it's also got responsive images which which is super cool so those images are going to resize for me and so I want to use this guy let's view the source and one other terrible thing you're going to notice is tables yes you have to code in tables if you want a goodlooking HTML email I'm so sorry I didn't create it please forgive whoever did so let's copy this guy out real quick real quick and you can also see here's some of the here's some of the uh classes that they give you six columns 12 columns so it's pretty similar if you're used to bootstrap it feels a lot like that you can read the docs and find out more I suggest just starting off with a template that you like and going from there so I can actually use this guy do the inliner let's paste my HTML there let's convert it and look at this horrid thing it made for me look how many styles you have to have inline on every single tag just to make it work well so that's that let's uh am I still running here yeah I'm still running let's go ahead and resend this to myself and see what that responsive template looks like in my email client should come in any second there we go ah I forgot to reboot my app always forget to do that there you go reboot my app send it again there'll be a couple more seconds here and once again this is not super fun to maintain I still don't want to go this workflow so I'll show you a great tool here in a second there you go I got this nice responsive o images grow and Shrink it's lots of fun as I grow that out more it'll all look nice so and by the way if I did not run this through the inliner this would not look good so what kind of tooling can I do to help my workflow out well once again zerb has this great tool and it's called generator zerb Inc which is for yman if if you don't know what Yen is you're going to want to stop right now and watch my video on yman I think a lot of you guys have probably seen it so let's go ahead and install that um the command would be npm install dasg generator generator zerb Inc so that's going to install it I already have it installed so I'm not going to run that and then let's make a directory CD Inc and now I can just go yo Zer Inc there we go and it lets you pick one of the templates which are those ones we saw so I had picked sidebar hero let's pick sidebar hero this is going to take I don't know about 20 seconds so I'm going to let it run I'll be right back okay I'm back that probably took about 25 seconds um and let's look what it generated for me slime let's open you up so I have this whole index.html here's the entire template that I got in it P pulled out all of zerbs ink Styles into a file that I no longer need and it also pulled Styles into a style CSS so now I can build like I would with a normal web page you could add as many styles in there as you want and you can do your HTML and it feels a lot more like good development only thing I have to run before I use it this is important is you got to run Bower install because for whatever reason the generator doesn't run that for you so I ran Bower install and now I can just do gulp it uses gulp instead of grunt and you can see I'm listening on port 8080 so let's go a and grab that so now I have a live reload workflow for my HTML email designing there we go let's see I don't want to welcome Daniel olivan I'll welcome will there we go and so of course I'm actually going to mustache this into first name there you go say let's say I tweaked it let's say I added a bunch of great stuff I'm saving it now now that I'm done I just run gulp build and that's going to do all the inlining for me super fast and now I can look at build index HTML here's my fully inlined mess of an email and it kept all the mustache let's see it kept all the mustache insert points there and so now I can just copy that out paste it into my finished template and I'm done so that is is how I will do responsive uh cross device cross email client rich HTML emails gosh that's a mouthful I could barely get it out hope that helped you out have an excellent day and I'll catch you around