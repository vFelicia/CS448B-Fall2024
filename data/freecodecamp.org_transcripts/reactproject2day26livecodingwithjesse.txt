00:05 - hey everybody its Jesse and the good
00:08 - morning if you're in the time zone close
00:11 - to mine it's 10:00 a.m. here and I have
00:17 - to do an interview later on during my
00:21 - normal time so hopefully this time is
00:25 - okay for for most of you and maybe some
00:28 - of you who don't normally get to watch
00:29 - live will get to watch it live now so I
00:33 - think it'll probably work out alright
00:38 - I'm going to wait just a minute my
00:42 - analytics are probably just a little bit
00:45 - slow right now but it's showing no
00:48 - viewers which I know it can't be right
00:51 - because I have at least six people
00:52 - waiting all right so I guess let me
01:02 - check the the live chat okay so we do
01:06 - have some people in the live chat so
01:08 - there we go the analytics finally caught
01:10 - up okay Wow okay everybody in the live
01:17 - chat says it's 43 it's showing me 21
01:20 - right now in the analytics and it was
01:22 - showing zero and so just a few seconds
01:24 - ago so hey everyone hey all right we got
01:34 - some first-timers welcome welcome
01:38 - Sebastian I just saw the that pool
01:40 - request right before I started so I'll
01:43 - check that out later on
01:49 - all right so today we're gonna keep
01:52 - going with our file our file uploader
01:57 - and yesterday we were trying to do some
02:03 - we're trying to put some security
02:06 - measures in place so we had a whitelist
02:08 - for files file types and we wanted to
02:12 - set a max file size so let me show you
02:18 - what I've done so far and this is now on
02:23 - github but it's under the the branch
02:29 - I always forget the name of the branch
02:31 - file type check is the name of the
02:34 - branch so it's not merged into master
02:36 - yet but you can see I've replaced we had
02:47 - kind of some really long ugly stuff
02:52 - going on here in our if statement
02:54 - yesterday two checks I've replaced that
02:56 - with a regular expression that goes
02:59 - through a lot of different file types I
03:06 - think this is all we'll want maybe now
03:13 - just looking at it I could see like
03:17 - maybe we want that too
03:20 - okay so basically all this does is it's
03:24 - it's just checking all of these and it's
03:27 - case insensitive so if the file type
03:33 - matches any one of these then it's a-ok
03:36 - to download this isn't the only check I
03:39 - want to do but we have this in place now
03:42 - and definitely better than it was
03:44 - yesterday so yesterday we left off and I
03:49 - was considering so we figured out a way
03:54 - to get the total size of the form so
03:58 - everything coming in from the form input
04:01 - fields files
04:03 - the whole thing what we wanted to be
04:09 - able to do was set a file size limit per
04:12 - file but I think so I've thought about
04:18 - it this morning
04:19 - and I think it's going to be okay server
04:22 - side to have a total limit so I think
04:27 - we're not gonna have to switch I was
04:29 - thinking about switching to two Moltar
04:32 - instead of formidable to handle the form
04:35 - data because it's it's easier with
04:38 - Moltar to do the checks for file size
04:42 - but this is what I'm thinking have it
04:45 - clear on the client side what size we
04:53 - can accept so even we could even set a
04:57 - file size limit client side even if
05:03 - technically it still could go through if
05:05 - it was a little bit bigger
05:06 - we could still set one and then we could
05:11 - check it client side knowing that people
05:15 - could get around that but that
05:18 - ultimately when it comes server side
05:20 - even if if they get through the client
05:23 - side stuff and try to send a huge file
05:26 - or a ton of files it's still gonna it's
05:30 - not gonna go through so that'll offer us
05:32 - protection from a lot of small files or
05:37 - a huge file either away just with the
05:41 - one check so let me know if that makes
05:45 - sense
05:46 - that sounds alright
05:50 - I wish see I think I did get rid of all
05:54 - the code that we'd used before
06:02 - and I wish I hadn't because it would
06:06 - have been helpful since now I've decided
06:08 - that I want to use it and I yeah we
06:12 - never committed that or anything so I'm
06:15 - not gonna be able to get that back but
06:18 - it shouldn't be too hard I guess I could
06:21 - have just watched my video from
06:22 - yesterday I always I I it sounds weird
06:27 - but I always forget that I think I
06:36 - frequently think like oh man I wish I
06:38 - remembered what I did you know last week
06:41 - or something like that and then it hits
06:43 - me like oh wait like I can just watch
06:45 - the video and see what I did
06:52 - oh yeah Samuel thank you for pointing
06:55 - that out yeah I am I didn't mean that
06:59 - the P is optional okay
07:06 - I'll double-check that Sam hold on a
07:08 - second let me double check and make sure
07:20 - cuz I'm not really great with regex so I
07:25 - want to double check to make sure that
07:28 - I've put that in correctly
07:43 - let's see on my other screen I had to
07:48 - look it up and the first link was not
07:50 - very helpful
08:21 - Jax
08:25 - all right thanks Samuel I'm uh I'm gonna
08:28 - check this out so basically if anybody's
08:39 - not sure what's going on here I just
08:40 - want to know in this context I put this
08:44 - question mark in here the goal is that I
08:47 - want to be able to allow if the
08:51 - extension is jpg or jpg so that was my
08:56 - intention but I'm not sure that I did it
09:03 - correctly
09:36 - Samuel says I can replace this this
09:40 - stock with just dark X because there's
09:43 - no other actually isn't the old the old
09:45 - file type is just doc right
09:56 - haha yeah you're right yeah so bah bah
10:05 - bah Kumaran says can't you just
10:07 - basically just write both out yes I
10:10 - definitely could okay so it seems like
10:18 - the question mark should work so I'll
10:21 - leave that in there for now
10:22 - maybe I'll double-check later on I'm not
10:24 - worried about it I can always just try
10:26 - to upload both versions and see if it
10:31 - works
10:37 - let's uh let's get started and I want to
10:44 - put in place first that max size check
10:50 - and we're gonna I guess what we'll do is
10:57 - we'll stop so yesterday we ended up
11:04 - putting it inside do we put it inside
11:11 - here
11:17 - I have to look actually now that I think
11:19 - about it I believe that the code was
11:23 - pasted into the live chat so let me go
11:26 - back to yesterday's live chat and just
11:28 - grab that code
11:43 - there we go
11:47 - that was it was on progress
12:00 - I said this when I grabbed let's see
12:14 - all right so let me
12:26 - cease
12:28 - let me double-check I know we did this
12:31 - yesterday and I pretty much just want to
12:34 - recreate the point we were at yesterday
12:36 - and then actually finish it today okay
12:45 - and let me bring over this over I'll
12:53 - make it a lot bigger that's really small
13:07 - okay
13:09 - what did I do have crash waiting for
13:12 - file to use oh okay
13:30 - as this
13:38 - well that's why
13:45 - wait oh sorry everybody it's so trouble
13:56 - the syntax okay alright so what I'm
14:07 - looking for basically is just to make
14:09 - sure that this is giving us some values
14:14 - when we try to upload something so I
14:21 - have of the form open on another screen
14:26 - so I just clicked upload and there we go
14:29 - so the first number is bytes or C the
14:32 - second number is expected
14:35 - so you see the expected stays the same
14:36 - and then finally it they're equal so
14:41 - we've gotten everything okay good so
14:44 - that's what I want so the first check
14:46 - we're gonna do is the bytes expected if
14:53 - bytes expected is too big right off the
14:58 - bat we know that we can't accept it
15:02 - and
15:07 - then after that we'll keep checking just
15:11 - to be sure I've never seen so far it
15:16 - exceed the bytes expected but I'm just
15:19 - kind of assuming that there's maybe some
15:22 - way to fake the bytes expected somehow
15:28 - and try to get past it so I'll do both
15:32 - checks just in case
15:42 - okay so what we'll need to do
16:00 - all right we need to figure out how
16:02 - you're supposed to stop a form from
16:05 - being submitted in formidable so I
16:16 - assume that there's
16:35 - I really just do
17:07 - all right let me check I want to check
17:09 - the light check quickly I see some
17:11 - things in here that might be helpful
17:26 - okay I'm glad I checked this so Samuel
17:30 - is saying in regard to dock the dock axe
17:33 - thing that the way I have it set up
17:36 - currently this would match doc or docx
17:44 - but also anything else that starts with
17:47 - duck his example is docked or so yeah I
17:52 - definitely don't want to match other
17:53 - words like that so although I guess it
17:59 - doesn't really matter
18:04 - yeah now that I think about it yeah
18:07 - you're you are right about that I'm glad
18:08 - you brought it up because I haven't even
18:10 - thought about it but since I'm checking
18:13 - this against the file type if I was
18:16 - checking it against the file name I
18:18 - would be a lot more worried about that
18:21 - but I'm checking against the file type
18:24 - so the type is not I mean it's not
18:30 - likely to be be anything other than
18:33 - regular file types so anyway if someone
18:41 - has some more insight into that let me
18:45 - know but I'm pretty sure it should be
18:49 - okay like that but you all you are right
18:51 - and I'm so if you're going to do some
18:54 - checking like particularly if you were
18:56 - going to use something like this but you
18:57 - were going to check against the file
18:59 - name then you probably don't want to do
19:02 - this you'd want to maybe write out you
19:10 - know everything and not not use the
19:14 - asterisk of probably for anything
19:22 - okay let's go back to our own progress
19:29 - all right so here's what I'm trying to
19:30 - do at some point it within this progress
19:36 - updates the the progress update I want
19:39 - to be able to just end the upload so I'm
19:47 - not sure
20:06 - so maybe it's farther up
20:50 - yeah
20:53 - all right so I'm not seeing any way to
20:56 - do this
21:14 - so maybe I'll have to go
21:23 - let's check if we can do this in Express
22:29 - yes
22:45 - all right I had just figured that there
22:48 - would be some easy way to do this enough
22:50 - not finding it
23:31 - all right I'm wondering so we can
23:33 - obviously if there's an error it ends
23:36 - I'm wondering how we could throw an
23:38 - error let's see what we're doing already
23:54 - and let's see I I forgot to start my
24:00 - timer but I am checking the time so in a
24:05 - few minutes I'm gonna go back to the
24:06 - live chat and catch up on what's going
24:09 - on there all right so let's see
24:27 - okay
25:46 - okay let's
25:55 - I don't really know if this will work
25:57 - but I think is worth the try so let's
26:07 - say
26:13 - i'ts expected is greater than let's just
26:17 - try it which I something really low this
26:21 - time just to see if we can make it work
26:23 - alright so what I'm trying to do then is
26:25 - just send back a bad status request
26:33 - immediately on what I want to see is if
26:36 - this actually will end the upload
26:44 - alright save that make sure you don't
26:48 - get any errors cool no errors all right
26:52 - so I want to upload something that we
26:54 - don't have already ok cool we got an
27:04 - error but
27:15 - my mine is a
27:21 - 31
27:24 - okay let's get rid of that
27:51 - let's try that again
28:07 - okay
28:15 - get a new air this time
28:34 - all right so good and bad news on that
28:38 - so one thing that I noticed is that this
28:41 - did fire before the file got uploaded
28:45 - now obviously we set it so low it's
28:49 - gonna it's gonna go off
28:53 - you know pretty early on but uh hold on
28:58 - a second I got a knock at the door
29:57 - all right I'm back sorry about that that
30:00 - was my boss so in case you don't case
30:07 - you're not familiar with the show this
30:10 - is me doing my everyday work so
30:11 - interruptions and mistakes are
30:13 - definitely included and so what happens
30:17 - from time to time not often but since
30:21 - this is my not my normal time more
30:24 - likely to get interruptions otherwise
30:26 - everybody around here pretty much knows
30:29 - what my normal stream time is and they
30:32 - leave me alone but uh all right so let's
30:36 - get back to this so I was just trying
30:39 - out some things just to see if we could
30:42 - you know get away with this and have it
30:44 - work the goal here is to end the forum
30:52 - handling as soon as as soon as we
30:55 - realize that there's too much data
31:03 - and we we've got this error now
31:20 - actually was I trying I was trying to
31:23 - upload a file types it's not very file
31:27 - type anyway so I wanted to try it with
31:34 - something that was it was a correct file
31:39 - type so I'll switch it up and try it
31:42 - with a correct file outside next time
31:44 - but for now but see if we can figure out
31:48 - another way we could do this
32:45 - I guess if we if we did check for at
32:57 - least four bites expected here and made
33:02 - that a part of of what we check for we
33:05 - could stop downloading anything if the
33:08 - bytes expected is too large
33:21 - well that would be that would be the
33:24 - first step we'll give it a shot it won't
33:29 - solve all the problems but so in here
33:33 - this is where we're actually uploading
33:36 - the files so then we know that this
33:39 - already works in regard to file types so
33:42 - let's try this let's see what I think I
33:57 - can just get that with without having to
34:00 - be in the progress see 4 bytes fights
34:09 - expected ok
34:20 - less than three all right so with this
34:27 - what I hope that this does is if the
34:31 - file type is correct then it'll go on
34:35 - and check to check on the total number
34:40 - of bytes expected and it anything pretty
34:44 - much should get rejected at this point
34:45 - since we're checking for 3 bytes so I'm
34:52 - gonna try to upload a pain that's
34:56 - definitely more than 3 bytes and it
34:58 - should get rejected so it's alright
35:09 - this is
35:21 - that is a
35:25 - okay so it did not get uploaded even
35:28 - though I know this says that we just
35:29 - never corrected that but okay I see why
35:35 - it's saying that I never I didn't change
35:37 - this so anyway so this did work as
35:41 - expected we just have the wrong wording
35:46 - in the console look but we can double
35:50 - check this by setting this I don't know
35:53 - like what's I don't know how big this
35:56 - file is let's uh let's check it out
36:11 - [Music]
36:12 - 250 guys
36:20 - all right so let's just set this to how
36:24 - they normally do it like whoops not plus
36:33 - hundred times that's how you usually see
36:36 - it done like and that's a lot easier to
36:40 - reason about then than having like a big
36:49 - long numbers
37:01 - actually let's see
37:29 - there's actually a cool converter built
37:33 - right into Google search so if you have
37:39 - if you want to check kilobytes and
37:42 - megabytes and all that it is pretty
37:48 - useful
37:59 - huh
38:17 - hm
38:25 - sorry I was I was just messing around
38:28 - with the converter there's actually a
38:31 - lot I'm just gonna bring this over
38:35 - because I think it's cool just for a
38:37 - second
38:39 - so I didn't realize that they actually
38:44 - measure up it's probably hard to see cuz
38:46 - it's small
38:47 - I wonder if I can ever make it bigger so
38:54 - you up to up up heavy bite anyway it's
39:00 - really matter but that's crazy
39:19 - all right
39:24 - so basically if we set this at that
39:46 - like sorry I'm trying to find that file
39:48 - size again all right 250 kilobytes
39:51 - that's what I thought so let's just go
40:03 - 300 lets you work yeah there's gonna be
40:11 - some extra data well I'm not really
40:15 - putting that much else in the form so
40:16 - but this should work
40:17 - I see let me know
40:25 - I've stopped getting anything in the
40:28 - live chat so I haven't gotten anything
40:29 - in there for about 20 minutes which is
40:31 - weird
40:32 - so I don't try typing something into the
40:38 - live chat so I can see if I don't see
40:40 - anything in a few minutes then I'll know
40:41 - something is something is wrong with the
40:43 - live chat okay awesome it works great
40:50 - haha everybody's just quiet
40:57 - alright cool thank you for the prompt
41:00 - response okay so let's try this again
41:08 - and submit there we go okay so just
41:13 - submitted and you see it was uploaded
41:16 - just uploaded successfully
41:20 - alright so cool so this works for bites
41:24 - expected so I guess what's a reasonable
41:28 - amount of bites expected should we set
41:31 - it should we limit it to like 10
41:35 - megabytes
41:48 - I'm better saying for ya I'm thinking so
41:56 - remember this will be total so people
41:58 - are sometimes gonna upload multiple
42:00 - files let me think of what normally is
42:03 - so the mostly what gets uploaded are
42:10 - PDFs Word documents and images so I'm
42:19 - not worried about file size on anything
42:22 - really except for the images so I could
42:29 - see maybe an image getting big
42:37 - I'll set it I'm gonna set it to 10 and
42:45 - that should be that should be good I
42:48 - think
42:56 - it's actually
43:06 - let's do it like that
43:20 - wait a second
43:26 - that is not what I meant to do all right
43:29 - suit
43:37 - times yeah so I for a second my brain
43:45 - didn't work and I forgot that I had to
43:49 - do that in megabytes okay so that should
43:54 - give us about 10 megabytes which that
44:00 - should be fine I mean we can ten
44:04 - megabytes is not a lot so we can
44:07 - definitely handle that and if anybody I
44:14 - wonder if I should split this out the
44:19 - I'm not really
44:34 - did we get a success
44:40 - I think we may have gotten a success
44:42 - message
45:02 - all right actually you know what I'm I'm
45:05 - thinking too much into this right now
45:07 - we're not worried about sending messages
45:09 - back to the user from here this is
45:12 - protection for people who are trying to
45:15 - circumvent our client side stuff so
45:17 - client side stuff will catch it and will
45:20 - give the right feedback to the user I
45:21 - don't really care and in fact it's
45:25 - probably better if someone is
45:27 - maliciously trying to do something that
45:29 - we don't even send an error message back
45:31 - to them yeah that that's better okay so
45:42 - because what this is doing is it's not
45:46 - sending an error it's just not uploading
45:49 - that file so everything else is going on
45:53 - you know as it normally would so here's
45:58 - another concern so this is just dealing
46:00 - with the file uploads potentially I
46:04 - don't I don't know that this is possible
46:07 - this would be kind of weird potentially
46:09 - could someone put so much text in a text
46:14 - input field that it would be it would go
46:18 - over the data limit because they
46:22 - wouldn't we could check for it here but
46:25 - it wouldn't matter because there's not
46:27 - going to be files
46:46 - all right and I have had said that I was
46:49 - going to stop and check the live chat
46:52 - and that was a long time ago and I've
46:53 - forgotten so let me stop and check the
46:55 - live chat now it's not a bad place
46:58 - because we got step one of this finished
47:01 - and working so let me scroll up and a
47:04 - live chat I'll take any questions you
47:06 - have now for about about five minutes
47:10 - I'll set the timer
47:12 - I might go a little over five since I
47:14 - skipped I skipped ahead and did more
47:19 - coding
47:33 - all right cool so we have Vinicio since
47:39 - a little from Brazil awesome welcome
47:44 - Sean says it's first time from Phoenix
47:46 - Arizona hey Sean welcome really glad you
47:49 - could join us for the first time feel
47:51 - free to ask any questions or putting
47:55 - comments in the live chat
48:07 - oh cool err drifter says I'm done with
48:10 - HTML and CSS tutorials awesome
48:13 - congratulations assuming now you'll
48:17 - you'll start getting into JavaScript
48:20 - stuff so if you have any problems and
48:23 - want any help let us know in the live
48:27 - chat or message me or something I'd be
48:30 - happy to get some advice if if you need
48:33 - it and if I get a chance to
48:47 - Slick Rick asks what are you coding he
48:50 - asked us a while ago so he or she asked
48:52 - us a while ago I am not sure if you're
48:58 - still still around watching and you've
49:00 - probably got it already but um it's a
49:02 - file upload we're handling file uploads
49:06 - in node we're using formidable as our
49:11 - package or another package to help us
49:15 - handle those we have the file uploads
49:18 - working but now we want to try to rule
49:20 - out which uploads we want to actually
49:23 - which files we actually want to upload
49:24 - and which ones we want to reject based
49:27 - on what type of file they are and how
49:29 - big the files are
49:54 - okay
49:58 - all right so krill ik has a question
50:04 - I guess so is it fine to render or not a
50:08 - component depending on the state of
50:11 - another component in react for example I
50:14 - have a navigation component with filter
50:17 - component inside and I render filter
50:19 - only if navigation he's a state state is
50:28 - home is true okay so only if navigation
50:35 - state is I was true yeah
50:51 - yeah I think that's fine so basically so
50:55 - you have you have navigation as your
50:58 - parent component then filter is being
51:03 - rendered inside navigation you have a
51:09 - state of his home when it's set to true
51:14 - you want to render filter so yeah
51:17 - definitely I would just put it put it in
51:20 - a ternary so let's um let's bring up I
51:31 - guess let me bring up a javascript file
51:34 - so we'll get the syntax highlighting
51:35 - here but let me go down here so within
51:38 - your render or you know you return
51:43 - you'll probably want to do something
51:46 - like this so this state is is home and
51:59 - then you can since you're just checking
52:01 - if it's true or false you can actually
52:03 - just short circuit with an and then
52:06 - after that you can put your what was it
52:16 - called filter
52:20 - so you could do something like this
52:21 - right so this would check it would check
52:26 - the state if the state is true it's
52:28 - gonna filter if it's not true it's not
52:30 - going to do anything so let me know if
52:32 - that's helpful or if that fits your use
52:34 - case or if I'm misunderstanding what's
52:38 - going on there
52:40 - but if anyone else has any input into
52:42 - this you know please please weigh in
52:46 - here but as I understand the question
52:50 - this should work so we're doing this a
52:54 - lot between this project and the last
52:56 - project we've we've used pretty much
53:00 - this exact set up somewhat frequently
53:17 - okay so we did have my timer went up but
53:20 - there's only a few more questions so I'm
53:22 - just going to do them to get to the
53:25 - bottom of the chat here so techie Tintin
53:29 - says what does the jape JPEG with a
53:32 - question mark in the middle mean
53:33 - so let me I'm gonna get rid of this
53:36 - hopefully it was the hopefully kerlick
53:42 - had a chance to check that out I just
53:45 - don't want to leave that in there and
53:47 - accidentally I wouldn't really be able
53:49 - to accidentally save that cuz I would
53:52 - get an error but rather just take it out
53:55 - now so this part here is is what you're
53:59 - asking about
54:00 - what it what I'm intending this to do
54:03 - and I haven't tested it yet is to take
54:05 - either jpg or jpe G so basically the
54:13 - question mark here means the e would be
54:16 - optional
54:24 - but originally so recently I did have it
54:27 - like this and then Samuel said that he
54:31 - thought it should be like that so I
54:34 - started to look it up but then I figured
54:36 - like I'm not gonna spend the livestream
54:39 - trying to look this up I'll just look it
54:41 - up later so definitely before you try to
54:45 - use this test it or look it up because
54:47 - I'm not a hundred percent sure what it
54:51 - is I'm just I don't really use regex
54:52 - often enough to memorize what all these
54:55 - things mean so I just look it up every
54:57 - time so I need to verify that this is
55:03 - correct
55:18 - okay so when I had said I asked earlier
55:22 - about would it be possible for somebody
55:24 - to put so much text in a text input that
55:28 - it would exceed our max limit for size
55:32 - and Umberto's has potentially yes unless
55:36 - you're only getting the first you know X
55:38 - characters from the text box of this so
55:40 - there's some character limit yeah that
55:45 - sounds like a good idea and I could do
55:47 - that
56:00 - I'm thinking can I do that client-side I
56:09 - mean obviously I can set limits
56:11 - client-side but I'm thinking for
56:14 - somebody who's gonna try to get around
56:15 - that could I send could I only send a
56:21 - certain amount off to check it out I
56:23 - don't think I'm gonna do any client side
56:25 - stuff today I'll say that I'll probably
56:27 - work on it myself later on I was just
56:29 - going to do some server-side stuff but
56:33 - that's that's a good point thanks
56:35 - somebody to techie Tintin says you rock
56:39 - bro first time here awesome
56:41 - I'm glad glad you think that and so
56:48 - hopefully hopefully you stick around and
56:52 - I are able to watch some some shows in
56:56 - the future and I contribute in the live
56:58 - chat or ask questions okay
57:07 - Mei has Mei Mei HFR I'm sorry I'm
57:12 - probably mispronouncing that but I'm
57:14 - trying trying Mei hitch flora says hey
57:17 - hey hi Jesse what time do you come live
57:20 - usually usually it's 2 p.m. Eastern Time
57:25 - but occasionally I have to switch that
57:27 - up depending on what I'm going on
57:35 - haha nobody says a few weeks ago I
57:37 - didn't know JSON at all it's cool I can
57:40 - watch this stream and understand what
57:42 - node1 is doing that's awesome
57:46 - he also says hey Jesse this might be a
57:48 - sidetrack but would love to know your
57:50 - thoughts on node.js if you have any
57:52 - experience yes so I'm a big fan of
58:00 - server-side JavaScript because it allows
58:05 - well it allows someone like me to do
58:08 - full tactful stack type of stuff without
58:12 - having to learn another language which
58:14 - is cool there's nothing wrong with
58:16 - knowing more than one language and
58:19 - that's awesome if you do but there's
58:21 - only so many hours in the day and so
58:23 - much time you can dedicate to learning
58:25 - so if I can dedicate all my time to
58:27 - JavaScript then I'll get better at that
58:30 - then if I was learning more than one
58:32 - language
58:32 - so the general concept of it I'm really
58:36 - a fan of I don't have I wouldn't say I
58:39 - have a ton of experience actually doing
58:42 - server-side JavaScript with node I do
58:48 - stuff like this like we've been doing
58:51 - you know just some I don't know I guess
58:55 - this is basic stuff file upload things
58:58 - some routing so I I hope to do more with
59:05 - it and yes so that's my I guess I don't
59:12 - know if that's what you what you wanted
59:14 - in terms of an opinion but I just think
59:17 - it's it's really really cool to be able
59:19 - to use client-side and server-side
59:22 - JavaScript and then it allows you to do
59:25 - other stuff like people are doing
59:26 - Internet of Things with JavaScript it's
59:33 - like everything that you can do with
59:34 - other languages it seems like people
59:36 - have figured out how to make it happen
59:39 - with JavaScript and I don't know that's
59:44 - really cool it's not like I think
59:46 - JavaScript the greatest language in the
59:48 - world I don't think I've been
59:49 - supposed to enough languages to really
59:50 - make a decision like that but it's what
59:54 - I know the best so the fact that you can
59:57 - use it so many places means that I could
59:59 - potentially code those different things
60:01 - and that seems really cool and fun for
60:05 - me let's see
60:17 - all right so I've got through all the
60:20 - questions let's go back let me set my
60:24 - timer this time so we'll definitely do
60:27 - yeah we'll probably do one more Pomodoro
60:30 - session and then the to finish up I'll
60:34 - answer any questions you all have if you
60:36 - haven't seen this this stream before the
60:40 - end is saved for question-and-answer
60:42 - from the live chat so stick around for
60:47 - that if you do have questions or if
60:49 - you'd like to stick around and help
60:50 - answer that would be awesome as well
60:53 - this stream benefits greatly from the
60:56 - expertise of everyone who's watching and
61:00 - contributing if it was just based on my
61:03 - expertise it would not be nearly as
61:06 - helpful to you all okay so yeah so this
61:14 - is working now we want to yeah the
61:22 - second step was to check the bytes
61:24 - received and then stop hmm stop it based
61:35 - on bytes received this is going to be a
61:37 - little bit more tricky
61:47 - so here's why if I try to look at bytes
61:52 - received here in file begin it's gonna
61:59 - say zero or at least for the first time
62:06 - that that runs it's going to say zero so
62:12 - there's going to be stuff already
62:13 - getting uploaded which I guess is fine
62:23 - yeah that's probably fine because what I
62:27 - want to do is just cut it off at some
62:28 - point okay so let's try it out let's
62:33 - just console.log it first to see what we
62:38 - get and let's get rid of this
62:58 - okay and I'm gonna have to upload
63:01 - multiple files to really see this in
63:05 - action now the what this isn't really
63:11 - going to protect against I suppose is
63:14 - one really big file so I guess I'll
63:20 - still have to find some way and there
63:23 - may not be a way with formidable to do
63:25 - that
63:26 - I mean progress those go with chunks all
63:37 - right let's just try this first and then
63:41 - we can worry about the other stuff okay
63:49 - so let's see what we have okay yeah
63:55 - definitely so we did get we actually did
63:57 - get a value for the first time which is
64:00 - cool when we tried it before I think I
64:06 - think we tried it yesterday we did get
64:07 - zero at first so
64:15 - that might actually be useful let's try
64:18 - it with one file and see what we get
64:32 - okay so here's my bytes received okay
64:37 - this might actually work then if we if
64:40 - we are actually getting some something
64:43 - here this will be somewhat more useful
64:45 - than I thought it would be so let's just
64:56 - I guess put in
65:16 - okay so
65:25 - one if I can try let me try so I'm gonna
65:28 - try to upload a really big file so I
65:31 - think I do have some videos recorded at
65:35 - pretty high quality that will definitely
65:38 - be more than what do we have ten
65:41 - megabytes so let's try that
66:12 - okay let's see here we go here's a 40
66:18 - megabyte one
66:26 - all right here we go yours there's a 500
66:29 - big one alright so I'm gonna try to
66:31 - upload this 500 megabyte file and let's
66:34 - see what happens
66:58 - Wow well I've never seen the loading
67:04 - modal before because everything's
67:06 - uploaded so fast but I finally saw it
67:08 - and it looks great
67:10 - so that's good so I I did it on my other
67:13 - screen but let's see all right let's see
67:22 - what value we got oh no it got rejected
67:30 - because of the file types and QuickTime
67:35 - oh I'm gonna have to rethink how I'm
67:42 - checking these file size
67:49 - okay cool so this this wasn't the result
67:53 - I was looking for but I'm glad it
67:55 - happened because this uncovered a bug
67:59 - that this could have been really bad so
68:05 - what it looks like though is at least
68:09 - for this file is that would have gotten
68:12 - through I mean assuming that I could
68:14 - have faked the bytes received thing
68:17 - there the the bytes expected thing this
68:20 - would have gotten through because that
68:22 - that first time that fired you can see
68:25 - it's it's only registering 16,000 bytes
68:30 - so yeah so that's not going to protect
68:35 - us from huge files trying to get
68:37 - uploaded but the problem is excuse me
68:45 - it's yawning the problem is I pulled
68:50 - this from one of my previous projects
68:52 - and in that project I was actually
68:54 - checking the file name and not the file
69:00 - type so these aren't gonna work for
69:05 - everything so I you can see that I'm
69:13 - allowing the MOV extension but that's
69:17 - not what came up as the type the type
69:20 - and was QuickTime so I'm gonna have to
69:23 - get another list I'm not gonna search
69:26 - for a list right now during the stream
69:27 - but I'm gonna try to search for a list
69:30 - of common file types and I'm gonna I'm
69:36 - gonna replace what I have now with that
69:38 - list
69:48 - okay
69:51 - I'm gonna keep this in here because it
69:53 - still could have some use but I don't
70:04 - know I guess we'll have to find I'll
70:11 - have to think of some other way
70:13 - so for right now we are protected from
70:16 - lots of smaller files being uploaded so
70:28 - that's good I mean that's better that's
70:32 - better than nothing at this point that's
70:34 - a step forward I still would like at the
70:39 - very least I would like some sort of
70:42 - protection from very long file input
70:46 - values and from someone trying to upload
70:52 - one very large file and the the final
70:59 - thing is assuming that the bytes
71:02 - expected could be faked to make it
71:05 - appear less than it really is
71:08 - which I'm not sure if that's possible or
71:12 - not if I find out that that's not
71:15 - possible then we're fine but I don't
71:20 - know you never know people come up with
71:21 - all kinds of ways to get around things
71:26 - all right so I'm gonna commit this and
71:31 - then push that to get up and see how
71:34 - much time we have left
71:40 - Oh straight here okay all right so we
71:50 - checked in what we changed good only the
71:53 - server J s has changed which is what we
71:55 - expect we're committing with the am flag
72:01 - which means we're adding and putting a
72:03 - message in at the same time we're
72:04 - committing let me say
72:25 - okay that works yeah
72:34 - okay so a lot of our tests are running
72:38 - now if you have a project without tests
72:42 - on it that will have a pre-commit hook
72:45 - that run on a pre-commit hook then
72:48 - you're not going to see this and it's
72:50 - going to be a lot faster but if you do
72:55 - download this repo you're gonna see
72:57 - something like this so now you won't be
73:02 - freaked out when you see it I guess and
73:12 - remember if you do want to check out
73:14 - what we've been doing you have to switch
73:16 - to the file type check branch and if
73:20 - this code is not on the master branch
73:23 - okay so twelve minutes left in this
73:27 - moment or a cycle I'm not sure that it's
73:32 - worth it to try something else
73:34 - the odds of me actually getting
73:36 - something else to work in ten minutes
73:39 - are small especially since I'm not
73:42 - really sure what I want to do next so
73:47 - this might be a good time to take
73:49 - questions
74:21 - yeah so I'm gonna go to the live chat
74:24 - now I'm gonna scroll up to where I left
74:26 - off at there's not a whole lot in the
74:30 - live chat so it shouldn't take me too
74:31 - long so if you do have any questions
74:33 - please get them in there quickly so that
74:37 - I can answer them otherwise if you don't
74:43 - if you can't stick around for the
74:45 - question answer session and you're just
74:48 - here for the code thank you so much for
74:50 - watching please watch again sometime if
74:54 - you can and let's let's go to the lodge
75:01 - where did I stop
75:03 - alright so I'm scrolling up to the live
75:05 - chat that has the timestamp of around
75:07 - 11:00 a.m. okay cool so no D had asked
75:14 - the question about nodejs
75:15 - and in response he says make sense been
75:22 - trying to learn it the past few weeks
75:26 - cool
75:28 - yeah I I think it's definitely worth
75:33 - while there's so much you can do with
75:35 - node nowadays so if you're if you're not
75:41 - sure what what to learn and you're
75:43 - looking for something to try out
75:45 - I think Note is a good route to go right
75:49 - now
75:55 - okay so Bastian says that I shouldn't be
75:59 - looking at bytes received through the
76:01 - air if the bytes expected or bigger than
76:04 - what you want okay and I'm there too
76:14 - saying but I'm also checking to make
76:15 - sure bytes received is less than by it's
76:17 - expected to separate checks yeah that's
76:20 - that's what I was trying to do Sebastian
76:22 - says I may be wrong but if you stop and
76:25 - upload based on what it's already
76:27 - uploaded you might end up with filled
76:30 - halfway uploaded aka useless files yes
76:36 - so what I guess I'm not so much worried
76:45 - about useless files so potentially so
76:49 - there's going to be client-side checks
76:50 - in place so people who are genuinely
76:56 - trying to use this for what's an intent
76:58 - it's intended to be used for are going
77:01 - to be stops client-side from uploading
77:04 - anything that they shouldn't be
77:05 - uploading in terms of type or size what
77:11 - I'm worried about on the server side are
77:13 - people that have circumvented our
77:15 - client-side protections so I don't
77:18 - really want their files anyway so if I
77:21 - only get a half a file and it's useless
77:23 - I'm fine with that
77:25 - I would I would prefer getting nothing
77:30 - but if I if I need to stop it in the
77:34 - middle that's fine with me
77:36 - as well
77:56 - okay umberto says
78:06 - that he would send a message back to the
78:10 - client indicating the upload failed and
78:14 - the case that receives is greater than
78:17 - expected yet anyway um I'm not I'm not
78:29 - sure if you sent that message before
78:30 - after I explain my reasoning why so I'll
78:35 - just reiterate it again for anybody that
78:37 - wasn't around when I did explain that so
78:39 - normally I would want to send back a
78:41 - message but in this case as I said the
78:45 - user if if that occurs it's likely that
78:52 - the user is trying to do something
78:57 - malicious I don't really care about
78:59 - sending them back anything telling them
79:03 - that it failed I would almost I would
79:06 - rather have them think it succeeded and
79:10 - then have them know that it failed and
79:14 - try something DIF
79:27 - African flight star says this is really
79:30 - cool for a newbie coder like me to
79:32 - actually watch live how the experts do
79:34 - it very helpful
79:36 - thanks for saying putting me in the
79:40 - category of expert I appreciate that I
79:44 - don't know that I would put myself in
79:45 - that category but I'm at least expert
79:49 - enough so that people pay me to do this
79:56 - anyway
79:58 - hopefully you do get something good out
79:59 - of this and if if you're new to coding
80:03 - and you have any questions definitely
80:05 - let me know in the live chat or you can
80:08 - message me on Twitter or some other
80:09 - social media platform Dave says sorry if
80:19 - I if asked only just been sent tuned
80:24 - into what program alright so profuse
80:29 - assists
80:30 - okay so the question from Davis is
80:33 - basically what programs do you use dave
80:38 - is just starting to learn again on free
80:40 - code camp if you're just starting on
80:43 - free code camp you won't really need any
80:45 - separate programs at first once you
80:47 - start to get into some of the projects
80:49 - some of the later projects you'll need
80:51 - it so I use the adam text editor that's
80:54 - 8000m it's free our side code editor and
80:59 - for my terminal I use I term - I think
81:03 - that's Mac only for Windows I think I
81:06 - use Commander it's a Cmdr I'm pretty
81:10 - sure that's what I use I haven't used it
81:11 - in quite a while though so I can't
81:12 - remember for sure I think that's that's
81:19 - it for you know any special programs I
81:22 - mean other than what I have you know so
81:24 - I have no js' installed on my computer
81:27 - and NPM and then I install my packages
81:32 - through that so but that's probably if
81:33 - you're just starting in with free code
81:34 - camp that's a little bit more than
81:36 - need to worry about right now I would do
81:39 - your free code camp things and when you
81:40 - get to that point where you really start
81:42 - you need to develop things locally on
81:44 - your own computer you know then you know
81:47 - get into some of you know learn get
81:51 - learn how to use NPM kind of easier way
81:55 - into it sometimes it is helpful to be
81:58 - able to start with somebody else's
81:59 - project and kind of see how they have it
82:01 - set up as long as it's not too complex
82:05 - but anyway you will get a lot of you'll
82:10 - see a lot of how that works on these
82:12 - streams it's not really a tutorial but
82:14 - at least you get to see it in action and
82:16 - I'll do my best to explain it and feel
82:18 - free to ask any questions along the way
82:20 - if I'm going too fast or something
82:22 - you're not sure how something-something
82:25 - works okay cool African flight starts
82:29 - says just signed up with free code camp
82:31 - and I'm looking forward to diving in
82:32 - that's awesome that's really great seems
82:35 - like the last few streams I've had a lot
82:37 - of people say that they're just starting
82:39 - with free code camp and that's great
82:40 - it's good to hear that a lot of people
82:42 - are getting into that I think it's a
82:44 - great resource thing I mentioned before
82:47 - but my wife actually just started I
82:49 - think she's only on her second week of
82:53 - doing free code camp but that's kind of
82:56 - cool now I can talk about coding stuff
83:01 - with my wife and she understands me
83:04 - so anyway Dave said thank thank you for
83:09 - the info but you're welcome hopefully
83:11 - it's it's helpful to you all right so
83:15 - I've gotten to the end of the live chat
83:17 - and I think we're actually we're
83:19 - actually going to be finished in under
83:21 - an hour and a half which that may seem
83:23 - like a long time to you but compared to
83:27 - some of the other streams we've done
83:28 - this is one of the shorter ones so I
83:33 - will be back tomorrow I will just lose
83:41 - today Wednesday tomorrow's Thursday
83:42 - yes it's Morris Thursday I should be
83:44 - good to go at the same normal time yeah
83:47 - so probably expect the stream to
83:49 - 2:30 p.m. normal time Friday extreme
83:53 - will probably be a little bit earlier
83:55 - than normal as well but I'll let you
83:56 - know more about that tomorrow and on
83:58 - Friday morning but until then thank you
84:05 - for watching thank you for helping out
84:07 - in the live chat all your contributions
84:09 - I really appreciate it and have have a
84:14 - great day