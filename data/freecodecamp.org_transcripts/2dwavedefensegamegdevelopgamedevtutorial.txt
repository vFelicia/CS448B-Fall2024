00:00 - learn how to create a wave defense game
00:02 - without coding using gdevelop gdevelop
00:05 - is a no code open source game engine
00:08 - this beginner tutorial covers player
00:10 - movement firing a bullet enemy logic
00:12 - spawning enemies and more there's a link
00:14 - in the description to download all the
00:16 - free assets used in this game in this
00:19 - video I'm going to go over how to make a
00:21 - wave defense game with gdevelop the no
00:24 - code open source game engine
00:27 - so here I've created a blank project
00:31 - no events no objects no nothing
00:34 - the first thing I need to do
00:36 - is change the properties
00:39 - because the assets I'm using are
00:40 - designed
00:42 - for 768
00:44 - by 432.
00:48 - now the first thing I'm going to do is
00:50 - set up the area we'll be playing in
00:52 - this is going to be a wave defense game
00:54 - starting out on a single screen
00:57 - so I'll create the Sprite object for the
00:59 - floor
01:02 - all right
01:03 - now I'm going to go to the event sheet
01:06 - and at the beginning of scene
01:11 - I'm going to zoom the camera in and then
01:14 - Center that camera on the object
01:19 - foreign
01:22 - and there we go
01:25 - I just realized I need to change the
01:27 - properties for importing assets
01:30 - if you saw the image was a little blurry
01:32 - because it's pixel art
01:35 - and so now that I've imported that image
01:36 - in I need to change the smoothing
01:41 - all right there we go
01:42 - nice and crisp
01:45 - so now that I have the room I'm going to
01:48 - add the Sprite object for the player
01:50 - character
01:54 - one animation being for run
01:58 - and the other being a single frame for
02:00 - idle
02:02 - I'll put the idle animation first so
02:04 - it's the first one that plays
02:06 - now for the Running Animation I'll need
02:08 - to set this to Loop
02:11 - and find a speed that makes sense
02:15 - yeah there we go
02:17 - I'll press apply
02:19 - and now I've got a little armless
02:21 - character in scene
02:24 - to get it to move around I need to give
02:25 - it the top down movement Behavior
02:28 - which is right here
02:30 - I'll leave all of its variables alone
02:33 - oh wait nope
02:35 - I need to change that variable
02:39 - rotate object needs to be turned off
02:43 - there we go
02:45 - now to animate that character I need to
02:47 - go to the event sheet where I'm going to
02:49 - use two different events where if the
02:52 - character is moving we'll change the
02:54 - animation
02:57 - [Music]
03:00 - and if it's not we'll change it to idle
03:04 - so now if the character is moving
03:07 - the animation will play running
03:10 - and if it's not moving it'll be idle
03:14 - here we go
03:17 - now the next thing for a wave defense
03:19 - game is the gun
03:21 - so I'm going to add the gun in as a
03:23 - separate object
03:26 - [Music]
03:27 - and put it into the scene
03:30 - next I'll need to go to the player
03:32 - and give it a point
03:35 - I'll just call it gun
03:37 - and then move that point down to the
03:39 - center ish where the hands would be
03:41 - that's good for now
03:45 - and now I've got to go to the event
03:46 - sheet and tell the gun to be positioned
03:48 - at that point
03:53 - so to get that point I'll type in player
03:57 - point
03:58 - quotations
03:59 - and then I can select gun
04:02 - alternatively I could do this
04:08 - y position of point
04:10 - select the player
04:12 - and then select gun
04:15 - it's the same way to get it but once you
04:17 - get used to typing it in you just do
04:18 - that
04:21 - and we also want the gun to rotate
04:23 - towards the mouse
04:26 - so I'll use the cursor X
04:30 - and the cursor y
04:32 - and the speed will be zero so it happens
04:34 - immediately
04:36 - and now if I preview the game
04:38 - you'll see the gun is rotating towards
04:40 - the mouse
04:41 - but the position is a little bit off
04:44 - and the reason for that is simple
04:47 - the origin point of the gun is in the
04:50 - top left so if I'm positioning the gun
04:52 - on that point on the character it should
04:54 - be in the center
04:57 - which in this case is 14x8
05:01 - here we go
05:02 - gun is in the center
05:07 - now the next thing I want to do is have
05:08 - the character flip
05:10 - so to do that we'll set it up so that if
05:12 - the mouse is on the right hand side of
05:14 - the character
05:15 - they'll look right and if they're on the
05:16 - left hand side of the character they'll
05:18 - look left
05:19 - [Music]
05:23 - so we need to check if the mouse is
05:25 - above or below the X position of the
05:29 - character
05:30 - so on the right or the left
05:32 - [Music]
05:39 - okay let's see if I did that right
05:44 - nope that's backwards
05:48 - there we go now for the gun
05:54 - now the gun will want to do the opposite
05:56 - four because it's already rotating
05:58 - towards the mouse we need to flip it
06:00 - vertically for it to make sense
06:03 - and there we go
06:05 - character moves is animated and the gun
06:07 - follows the mouse
06:10 - the next thing to do is firing a bullet
06:14 - so we thankfully have a wonderful
06:16 - extension in gdevelop
06:18 - if I go to the behaviors and go to
06:20 - search for new behaviors I can look for
06:22 - the
06:24 - fire bullet extension
06:27 - and add that
06:30 - it comes with a lot of great things but
06:32 - we don't need any of it right now
06:34 - we just need to add a bullet object
06:36 - which is just another Sprite object
06:40 - and then add an event for firing the
06:42 - bullet when I release the left Mouse
06:44 - button
06:46 - [Music]
06:56 - and I find for this it's best to have it
06:59 - so that the bullet Fires at the angle
07:01 - the gun is facing
07:06 - [Music]
07:10 - so we'll be creating a bullet
07:12 - but we need an X and Y position to
07:14 - create the bullet at
07:16 - so for that we'll go to the gun and add
07:18 - another point
07:19 - and we'll drag it right there
07:23 - if I go back in I can use the Expression
07:25 - Builder
07:29 - and get the X point
07:33 - and get the Y point
07:36 - we'll angle the bullet at the same angle
07:37 - as the gun
07:42 - and set it to go at a speed of 100.
07:47 - oh there we go
07:50 - it's a little bit off but that's because
07:51 - we haven't set the center point
07:56 - [Music]
07:58 - there we go
08:00 - [Music]
08:02 - now I just need to set it up so that it
08:05 - only happens when I release the left
08:06 - Mouse button
08:08 - all right
08:10 - and now for the sake of performance
08:12 - we'll make it so that the bullets delete
08:13 - after they get off screen
08:15 - and there is an extension for this but I
08:18 - found it's easier to just use the
08:20 - distance from the player if the camera
08:22 - follows the player then once the bullet
08:23 - gets a certain distance away from the
08:24 - player it's off screen
08:26 - [Music]
08:28 - whoops
08:29 - [Music]
08:32 - this event needs to be inverted in order
08:34 - to work
08:36 - there we go you see it gets deleted once
08:39 - it gets a certain distance away from the
08:40 - player
08:48 - [Music]
08:51 - there we go
08:54 - object picking
08:56 - so now we need to change that so it's
08:59 - wider than the screen
09:03 - and that'll do it
09:06 - now for enemies I'll create another
09:08 - Sprite object for the enemy
09:10 - [Music]
09:15 - okay then I'll add the health behavior
09:18 - to the enemy so we can easily kill it
09:22 - I need to search this one up with the
09:23 - extensions again
09:25 - and just like firing a bullet there's
09:27 - lots of variables in there to play with
09:29 - but we just need the health and that's
09:30 - it
09:31 - so I'll set the starting Health to three
09:34 - and the maximum as well
09:36 - and now in the event sheet
09:42 - we'll set it up so that if the bullet is
09:44 - in collision with the Enemy
09:46 - foreign
09:47 - we delete the bullet
09:48 - and then subtract one Health from the
09:52 - enemy
09:52 - by using the apply damage to an enemy
09:55 - action
09:58 - there we go and the last thing we do is
10:00 - check if the enemy is dead and if they
10:02 - are dead delete them
10:04 - there we go
10:06 - one two three
10:10 - now we'll want to change the Collision
10:12 - masks on these two objects
10:14 - so that they fit the image more
10:17 - [Music]
10:25 - foreign
10:29 - and that just makes more sense
10:35 - and now the next thing I'm going to do
10:37 - is have the enemies spawn outside of
10:40 - screen and come in and we'll have them
10:42 - do that towards some Center object in
10:44 - the middle whether it be a baby or a pet
10:47 - rabbit or whatever
10:49 - I'm gonna be doing the spawning with
10:50 - spawn points as points for the enemies
10:53 - to spawn at
10:57 - and now in the events I need to set up a
11:00 - timer that will repeat and when it
11:02 - finishes repeating it will pick one of
11:04 - these points and spawn an enemy there
11:07 - [Music]
11:08 - foreign
11:09 - [Music]
11:20 - so to make this spawn at a different
11:22 - point each time
11:24 - we need to add the condition pick a
11:26 - random object
11:29 - and now every time that timer hits one
11:31 - second it will pick a random spawn point
11:33 - and create the enemy at that point and
11:35 - then we need to reset the timer
11:39 - okay we can't see it so hold on
11:42 - here we go
11:43 - one two
11:46 - three four
11:51 - okay now the enemies need to spawn and
11:54 - move towards the center object so we're
11:56 - going to apply a permanent Force to get
11:57 - them there
11:59 - making sure not to use the physics Force
12:01 - because we're not using the physics
12:03 - engine
12:04 - [Music]
12:10 - so now we have the enemy moving towards
12:12 - the
12:15 - center with a permanent force of 20
12:17 - pixels per second
12:19 - there we go
12:23 - [Music]
12:26 - and now to give the game a fail State
12:28 - we'll set it so that when the ghost is
12:30 - in collision with that Center Point the
12:31 - game scene restarts
12:36 - and we're doing that by just changing
12:37 - the game scene to what it is already
12:42 - so if we start it and they run into the
12:44 - center point the game will just restart
12:50 - oh that's something to fix
12:53 - gonna set it so that the
12:55 - screen doesn't expand
12:59 - and there we go that's the beginnings of
13:01 - a wave defense game
13:04 - and now with the basic setup done we're
13:06 - going to move on to some game polish
13:08 - fixing up some of the weaker points of
13:11 - the game adding some sound effects and
13:13 - shake and all of the things that make a
13:14 - game feel good to play the first thing I
13:17 - need to do though is go to the event
13:19 - sheet and organize a little bit because
13:21 - this is going to get a bit chaotic if we
13:23 - don't organize from the beginning
13:25 - [Music]
13:39 - always check to make sure things are
13:41 - still working the way they're supposed
13:42 - to
13:46 - yep good now we can begin so the first
13:49 - thing that we're going to do is deal
13:50 - with Z ordering and the position of the
13:52 - enemies because we want our enemies to
13:54 - be looking at the position they're going
13:56 - to rather than just off in the distance
13:59 - so for Z ordering we're going to do
14:00 - something that makes a lot more sense
14:02 - when you see it in the action
14:04 - so we're going to go to The Ghost and
14:06 - move its origin Point down to the center
14:08 - bottom right there this is going to be
14:11 - the point where Z ordering kicks in and
14:13 - determines whether the ghost will be in
14:15 - front of or behind other objects in the
14:17 - scene
14:18 - and we'll do the same thing for the
14:19 - player as well
14:23 - [Music]
14:28 - now there is an extension for Z ordering
14:31 - but I personally don't like it because
14:33 - it means you have to add the behavior to
14:34 - every single enemy or object that needs
14:37 - to be affected personally I just like to
14:39 - put things into a group and use that
14:41 - group for the ordering
14:50 - okay so now that we have this and all
14:53 - the points have been changed and
14:55 - everything is in a group we just need a
14:57 - single action for Z ordering where we
15:00 - tell the Z order of the player and the
15:02 - other objects to be equal to their y
15:04 - position which is the Y position of
15:06 - their origin point which is now at their
15:08 - feet
15:09 - [Music]
15:16 - and that's it
15:18 - now when I press preview and the go
15:20 - start to show in nope uh one second
15:24 - [Music]
15:30 - there we go I had to change the gun Z
15:33 - order to be one above the player so it
15:34 - doesn't go behind them
15:37 - all right now as the ghosts spawn in
15:39 - I'll be able to walk up to them and show
15:42 - you the Z ordering happening and you can
15:44 - already see it with these two ghosts the
15:45 - one that's lowered down is behind the
15:47 - one that's ahead of it
15:49 - but if I go to this ghost I'll be hot
15:52 - nope
15:53 - one second
15:55 - okay if I go to this ghost
15:56 - and behind it now and now I'm in front
15:59 - of it behind in front behind in front
16:02 - behind in front and it's gonna happen
16:04 - for all the ghosts in the scene to help
16:05 - give the game depth so things look like
16:08 - they make sense
16:10 - all right now I want to make it so that
16:12 - the ghosts are facing towards the center
16:15 - point so they're not going backwards
16:22 - [Music]
16:27 - okay so I've set it up so that if the
16:30 - enemy is
16:31 - to the right of the center point
16:35 - it'll flip and it's to the left it won't
16:38 - flip
16:39 - so that way when they spawn in from the
16:41 - spawning action
16:42 - it'll check this and then flip them
16:45 - accordingly
16:47 - and there we go now they're all looking
16:49 - at the center point when they spawn in
16:51 - so they're not going in backwards like
16:53 - they were before
16:55 - the next thing I would like to do is
16:56 - give them health bars
16:58 - and there are a lot of ways to do this
17:01 - like you could use the prefab objects
17:03 - that we already have in game and that's
17:04 - a great option but I'd probably use that
17:06 - for the player because the player is
17:09 - going to need to adjust for different
17:10 - things and get healed and so on but just
17:12 - for an enemy health bar you can just use
17:14 - a Sprite object
17:17 - [Music]
17:22 - actually it's probably better to use a
17:24 - tiled Sprite for this
17:30 - you got to put in the size of your
17:32 - object or the image
17:35 - [Music]
17:38 - and now we'll want to spawn these in
17:39 - over the ghosts whenever we spawn in a
17:42 - ghost
17:54 - so we'll be creating the health bar when
17:56 - we create a ghost object
17:58 - and then we'll be using the action to
18:00 - link that health bar to the ghost which
18:03 - will let us do something later
18:05 - and because The Ghost and the health bar
18:08 - created at the same time when we tell it
18:10 - to link it's going to link two of those
18:12 - objects together because they've already
18:13 - been picked and it will ignore all of
18:15 - the other ones in scene
18:17 - so now that it's linked I can make an
18:19 - event that positions
18:22 - [Music]
18:28 - ah shoot you know what this is actually
18:31 - easier with a Sprite object because a
18:32 - Sprite object you can change the center
18:34 - point hold on
18:36 - foreign
18:40 - [Music]
18:44 - first because it will get rid of the
18:46 - events in the event sheet we just need
18:49 - to change it to
18:51 - the new object
18:54 - and now delete the old one
18:59 - okay there we go now
19:01 - we want to position the object using
19:03 - both the X and Y positions
19:07 - and we actually want to use a point on
19:09 - the ghost object
19:11 - so we need to put that point in call
19:13 - this health bar
19:15 - and we want that to be above the ghost
19:18 - in the center
19:19 - I should probably do it and we want to
19:22 - change the health bars origin to the
19:24 - center
19:25 - depending on the kind of game that
19:26 - you're working on this may be a thing
19:28 - you need to do all the time or not at
19:30 - all
19:32 - so now that we have the point somebody
19:34 - asked about this in the last video so
19:36 - I'm going to show you
19:37 - this is just a regular position action
19:39 - it's not a position to a point or
19:42 - anything like that it's just a regular
19:43 - position action in the position section
19:46 - of the actions
19:49 - and then here we can press on the
19:51 - Expression Builder
19:52 - search point
19:55 - click on the X position of a point
19:57 - select the ghost enemy object
20:00 - Select Health bar
20:02 - because that's the point that we just
20:03 - made
20:06 - and then do the same thing for the Y
20:08 - position
20:11 - so now we have the X and Y position of
20:13 - that point
20:14 - so the health bar will be positioned at
20:17 - The X and Y position of that point on
20:20 - the enemy object
20:21 - but to make sure it picks the right
20:23 - ghost to be above we need to use the
20:25 - condition take into account linked
20:28 - objects
20:32 - and there we go
20:34 - now let's see if that worked
20:37 - it should be cut oh no no health bars
20:42 - no health bars
20:44 - let's see what's going wrong
20:46 - we'll just disable that
20:50 - oh
20:52 - the other ones are being left behind one
20:54 - enemy has their health bar
20:56 - okay
20:58 - [Music]
21:05 - there we go okay so now we have each
21:09 - health bar following each ghost
21:11 - what I had to do was use the repeat for
21:14 - each instance of enemy or whatever
21:16 - object you want event
21:18 - so this way for every single ghost on
21:20 - the scene
21:21 - it's going to take into account if the
21:23 - health bar is linked with the Enemy and
21:25 - then position that health bar on top of
21:28 - that enemy
21:29 - so before it was doing it for one enemy
21:31 - and because it was doing it and doing it
21:33 - for one enemy it was content because it
21:35 - was doing what it was supposed to do I
21:37 - didn't tell it to do it multiple times
21:39 - so it did it once and it was okay
21:42 - and now we're going to need to delete
21:43 - those health bars because otherwise
21:45 - they're going to get left behind when
21:46 - the ghost dies
21:48 - watch
21:51 - now just floats there
21:53 - so when the ghost is dead
21:56 - take into account the link
21:59 - and delete
22:01 - the health bar
22:04 - and
22:07 - didn't work
22:14 - there we go no no I deleted all of them
22:20 - [Music]
22:23 - okay there we go
22:25 - don't judge me I've only had three
22:27 - coffees
22:29 - let me just link that object picking
22:31 - video again up in the top corner
22:34 - so now
22:36 - the health bar deletes when the enemy
22:38 - does part of the problem was if I put it
22:40 - up here
22:43 - yeah
22:45 - so if I put the enemy above the event
22:48 - then this happens first
22:50 - and there's no enemy to check
22:52 - for this action
22:56 - if I put it down here then the health
22:58 - bar gets deleted first and then the
23:00 - enemy
23:03 - now we're gonna do a hit animation and
23:05 - we're going to start by giving the ghost
23:06 - a knockback animation
23:08 - we'll call the first one walking
23:11 - and the next one
23:13 - hurt
23:20 - there we go now when the enemy gets hit
23:23 - with a bullet will change their
23:25 - animation to hurt
23:27 - [Music]
23:29 - change it by name
23:33 - and
23:36 - we'll make an event that checks to see
23:38 - if the enemy's animation is hurt and if
23:40 - it's finished
23:42 - and if that's the case we'll change this
23:44 - animation back to walking or floating I
23:47 - guess but we're gonna make other enemies
23:49 - and it's going to make more sense then
23:53 - okay and the last thing we're going to
23:55 - do is make it so that if the enemy is
23:57 - hurt they stop walking which actually
24:00 - means that we need to change the way
24:01 - enemies go towards the center point so
24:03 - instead of moving them with the
24:04 - permanent Force
24:06 - we're going to change this so that if
24:08 - the enemy's animation is not hurt
24:15 - so if the enemy's animation is not hurt
24:19 - we'll use an instant Force instead to
24:21 - move the enemy
24:24 - there we go
24:27 - let me just fix the zoom
24:29 - not disabled anymore
24:31 - there we go
24:36 - oh whoops
24:39 - So currently when you add a new
24:41 - animation to an object it has those
24:43 - original origin points because it
24:45 - doesn't want to conflict with the
24:47 - existing ones
24:49 - so we can go to the animations go to
24:51 - hurt
24:52 - just use the same points as the
24:53 - animations
24:55 - nope not this one hold on hold on
24:58 - I need to go to walking
25:00 - flip this switch
25:01 - turn it on there we go
25:03 - and now this one has it if I done it the
25:05 - other way around it would have applied
25:07 - this image's points to the other one
25:11 - which this one only had its origin point
25:13 - and Center so that would have been a bad
25:15 - thing
25:16 - cool so now both animations have the
25:18 - same points and can be used as we want
25:21 - them to
25:22 - here we go so shoot it
25:24 - hurt
25:25 - hurt
25:27 - dead
25:29 - hurt
25:31 - hurt
25:41 - okay so you might have seen there that
25:44 - when I shot a ghost and it was already
25:45 - in her animation it didn't change or
25:48 - react and so now I've changed it so that
25:50 - when that animation triggers it's
25:52 - actually going to set the frame to zero
25:54 - so if it's already in that animation
25:56 - it's going to restart it
25:59 - so I said three one two three
26:02 - one two
26:04 - I'll try to show a good example of it
26:06 - happening
26:15 - and I noticed the Z order for the health
26:17 - bars were kind of off so we need to fix
26:19 - that too
26:22 - [Music]
26:24 - so we'll change the Z order for the
26:25 - health barriers to be equal to the
26:29 - enemies Z order
26:32 - uh Plus
26:35 - one sure
26:37 - actually if we make it even then it will
26:39 - be like a flat image and that will work
26:40 - out better
26:42 - let's see if that worked
26:44 - no it it didn't work
26:48 - it doesn't know which one to check
26:51 - [Music]
26:55 - okay
27:01 - [Music]
27:03 - now this isn't a big deal but for
27:07 - performance I should probably do this
27:09 - that way we don't have the same event
27:10 - triggering twice checking every single
27:12 - enemy
27:14 - so now within a single event where we're
27:17 - checking to see if the enemies are
27:18 - linked to the health bar
27:20 - and then changing the position and
27:21 - changing the z-order
27:22 - [Music]
27:29 - [Music]
27:30 - so first we need to make the health bar
27:33 - represent the actual health of the ghost
27:36 - so when they get hit
27:37 - [Music]
27:39 - take into account the link
27:42 - and we don't need the four each for this
27:43 - one because we've already got the ghost
27:45 - picked
27:47 - and we'll change the width of the
27:48 - sprayed object to equal the current
27:51 - health divided by the max Health times
27:53 - the original size
27:55 - and to get that we can use the
27:56 - Expression Builder
27:58 - this is using the health extension so if
28:01 - you haven't got that extension installed
28:02 - this won't be there so the health points
28:04 - of the enemy that's the current health
28:08 - divided by
28:10 - maximum health
28:13 - of the enemy
28:15 - times the original width which is 12
28:17 - pixels
28:21 - because if we go back to the object
28:23 - and open it with piscal
28:25 - we can see it's 12 pixels wide
28:28 - so it's the current divided by Max times
28:31 - 12.
28:33 - and we'll see how that works
28:42 - there we go
28:44 - one shot left boom gone
28:48 - [Music]
28:52 - so now that the health bar is working
28:54 - I'm going to adjust the speed and
28:57 - everything of the character and that's
28:59 - in the top down Behavior
29:01 - because that's what we're using to move
29:03 - the character
29:04 - [Music]
29:14 - all right
29:15 - next I'll add the collisions for the
29:17 - walls because someone asked for that in
29:18 - the comments
29:20 - I'm going to add a sprayed object for
29:22 - that and just spread it out over the
29:24 - walls
29:29 - [Music]
29:37 - okay now I can go to the event sheet
29:41 - and go to the players group
29:44 - ment
29:47 - and make it so the player gets separated
29:50 - from the wall
29:51 - and the player is the first object so
29:53 - that it gets moved and not the wall when
29:55 - separating the two objects
29:57 - all right now when I go in
30:00 - I cannot walk past the walls
30:04 - [Music]
30:07 - there we go now it looks like I can walk
30:10 - up to the wall
30:12 - but I get stopped down here
30:15 - I could have gone into the room itself
30:18 - gone to the Collision mask
30:20 - and added in several different kinds of
30:22 - collision masks for the walls
30:24 - which I've done before but honestly it's
30:26 - a slow way to do it
30:28 - if you're just using a single room like
30:30 - this or something static it's just
30:31 - easier to build out a collision mask
30:34 - like this with a separate object
30:37 - it just means that at the beginning of
30:38 - scene you need to hide it
30:42 - and it's gone but I still can't walk
30:44 - past him the player just can't see it
30:48 - and while we're doing collisions we
30:50 - should probably also do the ghost enemy
30:54 - foreign
30:56 - so here in the ghost enemy object we can
30:59 - make a new event and then use the action
31:00 - to separate two objects to make it so
31:03 - that the enemy
31:04 - is separated from the group entities
31:07 - [Music]
31:12 - yeah there we go
31:14 - so you can see they're pushing away from
31:16 - each other
31:19 - I just noticed actually hold on
31:21 - I never changed the Collision mask
31:24 - so I go to this one yeah it's the full
31:26 - size of the image
31:29 - so I need to go to this one which is the
31:31 - Collision mask that I once shared
31:33 - and toggle it on
31:35 - and this will share same Collision masks
31:37 - for all animations which means if I go
31:39 - to this one it'll be that
31:42 - so now when I shoot them it doesn't push
31:44 - them all away they do stop though
31:45 - because there's something in front of
31:46 - them trying to stop them from moving
31:49 - and that way they won't be able to
31:50 - overlap and group up like they did
31:52 - before
31:54 - and now up to this point I've been able
31:56 - to
31:57 - spam the bullet as fast as I can click
31:59 - it'll spawn
32:03 - well if we go to the gun and go to the
32:05 - fire bullet Behavior you can see that
32:07 - the cooldown is 0.1 seconds and we can
32:10 - just change that to 0.5 or something
32:12 - like that
32:14 - foreign
32:20 - and because there's a cool down on there
32:22 - we can change this to actually be Mouse
32:25 - button is pressed instead
32:27 - so that way we can hold on to the button
32:29 - and it'll fire at that fire rate
32:34 - you don't want to go too fast with
32:36 - bullets because there's a chance for
32:37 - them to clip through the object
32:39 - before it gets recognized as a collision
32:42 - but that's pretty good
32:46 - and now for firing a bullet let's add a
32:48 - sound effect
32:49 - we can use the condition has just fired
32:52 - for the gun to play a sound
32:55 - I don't have one picked yet so I'm going
32:57 - to go to create one
32:59 - and I'm just going to pick something
33:00 - randomly until I get something good
33:16 - so we'll call that gun
33:18 - save
33:21 - volume and
33:23 - of course randomized pitch
33:29 - because if you have a sound that plays
33:31 - repeatedly you need to make sure that it
33:32 - randomizes so it doesn't drive your
33:33 - player nuts
33:36 - so 0.8 to 1 means it'll be a little bit
33:39 - less or exactly the pitch of what it was
33:42 - before
33:46 - all right now there's a secret weapon
33:48 - for all game devs out there who might
33:50 - want this
33:52 - camera Shake
33:53 - [Music]
33:58 - and now we can go into the events and
34:01 - add in screen shake when the bullet has
34:03 - been fired
34:04 - [Music]
34:14 - it's a bit too intense
34:16 - so we need to change the settings to
34:17 - make it a little bit less annoying and
34:20 - we do this by going in and having an
34:21 - action
34:22 - and we do this by going in and using the
34:24 - action to change certain aspects of the
34:27 - shake
34:31 - [Music]
34:40 - alright so now that we've set up the
34:42 - camera settings using the actions at the
34:45 - beginning of scene
34:48 - we have something that's pretty okay
34:51 - to cover up those edges we're going to
34:53 - change the background color
34:56 - so we'll go to piscal
34:57 - use the Color Picker tool to get the
35:00 - color
35:02 - and then apply that color to the
35:03 - background
35:06 - and there we go now when the screen
35:08 - shakes you can't see those edges anymore
35:13 - now one more thing that we can add in is
35:15 - some object shake for the gun
35:18 - and that again is an extension called
35:20 - shake shake object
35:23 - put that on the gun
35:27 - and then in the event sheet at the point
35:29 - where the gun is fired we'll set it so
35:31 - the gun shakes along with the screen to
35:33 - add to the effect
35:35 - [Music]
35:47 - and let's see what that looks like
35:55 - okay now one more thing I'm going to add
35:57 - in is my secret weapon so I'm going to
36:00 - add in a vignette
36:03 - turn the grid back on so it goes in
36:06 - place properly
36:08 - and to make sure the vignette stays
36:10 - above everything I'm going to put it on
36:11 - a different layer
36:13 - select the vignette go to properties and
36:16 - change the layer to vignette
36:19 - now I will need to zoom in because
36:20 - otherwise it will do this
36:22 - because the main game Zooms in and the
36:24 - vignette doesn't
36:30 - and there we go so now on the edges of
36:33 - the screen the character is a little bit
36:34 - darker
36:35 - and on the inside it's a little brighter
36:37 - and now that we've brought the game up
36:38 - to a certain level of Polish we're going
36:41 - to add menus and settings to the game to
36:43 - make it a more complete package
36:46 - so let's get started
36:48 - so the first thing we need to do is go
36:50 - to another scene for the main menu
36:55 - I'll start by adding a bitmap text
36:58 - because the resolution of this game is a
37:00 - little bit smaller than you would
37:01 - normally make
37:02 - the regular text object would look
37:04 - blurry in this setting so you really
37:06 - want to use a bitmap text if you're
37:08 - using any resolution that's not at least
37:10 - 1280.
37:12 - for bitmap text you need the bitmap font
37:14 - and an atlas image
37:17 - and the font basically tells the engine
37:19 - how to break up the image to turn it
37:21 - into a font and the image can actually
37:23 - be edited with any kind of image editing
37:26 - software
37:27 - so you can make some pretty fancy custom
37:29 - text with bitmap text
37:32 - and now I'll just copy that to make some
37:34 - extra buttons for the menu
37:40 - [Music]
37:43 - before I make the rest of the text
37:44 - objects I'm going to install the
37:46 - extension button States
37:51 - and add it to the play text object
37:53 - because then I can use that as a button
37:56 - [Music]
37:58 - in the event sheet I can use is clicked
38:01 - as a condition for future events
38:09 - now I'm going to create a marker object
38:12 - that I can use to Center the camera on
38:15 - [Music]
38:21 - and I'm going to create two of these so
38:24 - that when I press settings I can tween
38:26 - over to the next section of the menu and
38:28 - show the settings
38:30 - so I've got the main menu part and the
38:33 - settings part
38:35 - [Music]
38:44 - and from here I can use the user
38:46 - interface objects like the toggle switch
38:49 - buttons and Sliders to create my
38:51 - settings menu
38:53 - and I'm going to start with the sliders
38:57 - [Music]
39:05 - [Music]
39:12 - [Music]
39:20 - all right and from here when I press
39:23 - settings it's going to Tween the camera
39:25 - over to the settings menu
39:31 - [Music]
39:41 - okay animated settings marker object
39:44 - because otherwise I would need to use
39:45 - variables to decide which one was which
39:47 - and this is less complicated
39:50 - so we'll be tweening between the marker
39:53 - for the main menu and the marker for the
39:55 - settings menu
39:57 - [Music]
40:06 - and there we go
40:07 - so we're tweening to the center X of
40:11 - this bar
40:12 - and the camera's Center y position which
40:14 - is already at
40:16 - so that won't change and now I'm going
40:18 - to set it up so that when I press back
40:19 - we go back to that original menu
40:21 - [Music]
40:27 - and there we go
40:29 - and actually I'm going to set it up so
40:31 - that the title stays in place while the
40:33 - menu changes just as a personal
40:35 - preference
40:37 - so I'm going to make a new layer called
40:38 - title and then put that title object on
40:41 - that layer so it won't be affected when
40:42 - the camera tweens
40:48 - all right
40:51 - next I'm going to hide those bars
40:53 - [Music]
40:57 - okay
40:58 - [Music]
41:00 - and now the rest of the buttons
41:02 - [Music]
41:09 - thank you
41:11 - so now when the play button is clicked
41:13 - it will change the scene to the Untitled
41:15 - scene which is our original game scene
41:17 - and when the back button is clicked
41:19 - we'll quit the game
41:23 - here we go
41:26 - and
41:29 - [Music]
41:32 - when the quit button is clicked we'll
41:34 - quit the game
41:37 - [Music]
41:39 - there we go
41:41 - so now all the buttons do something
41:44 - now let's make the settings do something
41:49 - so we're going to create some Global
41:50 - variables
41:52 - we'll make a structure
41:54 - call this settings
41:57 - make one for Sound and Music
42:01 - all right
42:02 - now go back into the event sheet and
42:05 - make it so that the value of the sound
42:07 - bar or the music bar dictates that
42:10 - variable
42:16 - and we'll use the Expression Builder to
42:17 - get the value for that bar
42:21 - okay so when the sound slider bar is
42:25 - being dragged
42:26 - we change the global variable
42:29 - sound settings that we just made to
42:32 - equal the value of that bar
42:37 - and we'll do the same thing for music
42:42 - alright so now when the music slider is
42:44 - being dragged it'll change that value
42:48 - and if there is music being currently
42:49 - played or sounds being played while that
42:53 - slider is being moved and you want them
42:56 - to dynamically shift you'll need to
42:58 - change that as well
43:00 - using one of the actions for volume of
43:02 - the music or Sound on that channel
43:08 - so you'd slap that in right here
43:11 - but for sound effects
43:13 - we'll use this setting when playing
43:15 - those
43:16 - so if we go back into the main game
43:19 - and find the point where the sound for
43:21 - the gun is played
43:24 - will change the volume
43:26 - to equal that Global variable
43:30 - so now when we change that setting it's
43:32 - going to affect this sound when it gets
43:34 - played
43:37 - so now if I open the menu
43:39 - and go to settings
43:41 - I can change sounds to be up here at 100
43:45 - go back
43:47 - press play
43:51 - you can hear the sound played
43:54 - but if I go to the menu
43:57 - go to settings
43:59 - change the sound down low
44:02 - to just above zero
44:06 - it's been turned down
44:09 - but every time I go into the game it's
44:11 - going to be back at that same level
44:12 - again
44:13 - so we need to save and load that in and
44:16 - it's been a little while since I've done
44:17 - this so bear with me
44:23 - so we'll be writing a text and we'll be
44:25 - writing that entire setting structure
44:28 - into a save file outside of the game
44:31 - so settings
44:32 - so when we click back it's going to
44:34 - write settings into an external folder
44:36 - or external file outside of the game
44:45 - [Music]
44:47 - and then at the beginning of the scene
44:49 - we'll read this text settings from the
44:51 - storage settings and store it as a
44:54 - temporary settings text
44:56 - and then we can add the action to parse
44:58 - or convert this text into our Global
45:02 - variables
45:05 - so we select the settings structure
45:10 - and then we're going to change the
45:11 - position of that slider bar based on the
45:14 - new value
45:17 - [Music]
45:24 - so we're setting the sound slider and
45:27 - music slider to the global variables
45:29 - that we just read into the engine
45:31 - and converted two Global variables
45:34 - because they come in as scene variables
45:37 - and then we use those global variables
45:38 - to set the value on those slider bars
45:41 - so let's try that out
45:45 - okay now press back and that's going to
45:48 - be where we save the settings
45:51 - so now they're saved
45:53 - so if I exit
45:55 - and preview it again and go to settings
46:02 - they didn't save
46:05 - [Music]
46:09 - okay I know what I was doing wrong
46:12 - so it's not just a string of the
46:14 - structure
46:18 - you need to actually convert the global
46:20 - variable to a Json
46:22 - first
46:23 - now slight settings
46:25 - apply
46:26 - so now it's saved as a Json then it's
46:29 - going to get read back in and yeah okay
46:32 - preview
46:35 - settings
46:37 - set the settings
46:39 - back
46:42 - quit
46:43 - preview
46:45 - settings and there where they were
46:48 - before awesome okay so now the settings
46:51 - are saved
46:53 - when we come back in
46:56 - same thing when we go play the game
46:58 - if I skip back to here
47:00 - settings they're saved okay
47:05 - great so they save
47:07 - as a Json
47:09 - here
47:10 - and then the red back into the engine as
47:12 - a temporary file
47:14 - in the scene variables and then they get
47:17 - converted from that Json to a readable
47:21 - Global variable in settings
47:24 - cool
47:26 - and then these two actions change the
47:28 - sliders to represent what they actually
47:29 - are
47:31 - cool
47:33 - cool cool
47:35 - now the next thing is highlighting
47:38 - so when you hover over a button it
47:40 - lights up
47:41 - if you have a button object this will
47:43 - happen the way it does already it just
47:45 - changes the animation for the object one
47:47 - of these objects here the panel Sprite
47:49 - buttons
47:51 - but if you're using text like this
47:53 - you instead need to add an effect to it
47:56 - so we'll just add this to all of our
47:58 - buttons
48:00 - [Music]
48:05 - and then we'll create a group and call
48:08 - it buttons
48:11 - [Music]
48:14 - and we'll add two events one for if the
48:16 - button is hovered then the effect is on
48:19 - and if the button is not hovered then
48:20 - the effect is off
48:22 - we'll use the group
48:23 - okay
48:27 - all right so if the button is hovered
48:29 - it's on and if the button is not hovered
48:31 - it is off
48:34 - [Music]
48:43 - and if the button is not hovered it is
48:45 - off
48:48 - here we go
48:51 - all right now just make this blend in
48:54 - with the actual game itself
48:55 - we'll snag this color
48:58 - and drop it in here there we go now
49:01 - really quickly the last thing I want to
49:03 - do is add a transition really quickly so
49:06 - for this we're going to go to the
49:07 - extension list and add an extension for
49:09 - transition
49:13 - and with that installed we're going to
49:14 - add a paint shaper object
49:17 - change the fill color to Black
49:20 - and I'll put it in the scene so it's
49:22 - there
49:23 - now
49:26 - we need to give it the behavior first
49:30 - so now when the play button is clicked
49:35 - [Music]
49:37 - thank you
49:40 - okay and we'll change this so that when
49:42 - the transition finishes
49:47 - then we will change scenes
49:52 - we'll want to put this on the
49:55 - title layer so it's above everything
49:57 - else above the title specifically
50:02 - okay
50:03 - and you'll notice on the edges
50:05 - it doesn't reach the edges before the
50:08 - transition happens
50:11 - I've noticed that to be a thing that can
50:13 - be tweaked
50:14 - so we're going to go to add layer
50:17 - call this transition
50:21 - transition layer
50:24 - and then at the beginning of scene Zoom
50:27 - camera
50:29 - transition layer
50:31 - by 1.5
50:36 - now it goes to the edge of the screen
50:38 - and then for the other side
50:41 - we'll do the same thing
50:43 - so we can just set this to be a global
50:45 - object
50:47 - awesome
50:49 - go over here place this into scene
50:52 - add a transition layer
50:55 - put this onto it
50:58 - and then do the same thing
51:03 - the only difference is that we need to
51:04 - do the reverse now for the transition so
51:06 - it shrinks instead of expands
51:11 - so we'll set this to Circular again
51:14 - and backwards this time instead of
51:16 - forwards
51:18 - so when this scene starts
51:24 - nope oh
51:26 - this is in seconds one second
51:31 - there we go okay
51:33 - so
51:34 - now when we press play
51:36 - does this and then this and we're into
51:39 - the game
51:40 - now with the menus and settings done
51:42 - we're going to move on to some more game
51:44 - mechanics and we're starting with
51:46 - leveling up
51:48 - the very first thing that we need is a
51:50 - leveling bar and thankfully G develop
51:52 - has one in the asset store that will
51:54 - match this game's style already
52:00 - we just need to put it on a different
52:02 - layer
52:03 - so it's above all of the gameplay
52:06 - [Music]
52:18 - alright now we need to make some scene
52:20 - variables for leveling up
52:24 - the first one's of course being the
52:25 - current and maximum experience for
52:27 - leveling up and then all of the stats we
52:30 - want to actually level up
52:34 - [Music]
52:40 - start with something small for the
52:41 - maximum experience points
52:45 - and now we need to link the resource bar
52:47 - object with those stats
52:49 - [Music]
53:00 - [Music]
53:08 - and there we go now it's 0 out of 10
53:11 - because 10 was the amount of experience
53:13 - you need to actually level up but now we
53:15 - need experience points
53:18 - and for that I'm going to create a new
53:19 - Sprite object and just make a little
53:22 - white dot to use as the experience point
53:24 - [Music]
53:30 - that is way too big
53:34 - [Music]
53:40 - that's much better okay
53:42 - and now we'll make it so that the ghosts
53:44 - drop these whenever they die
53:47 - [Music]
53:57 - there we go and then we need to be able
54:00 - to pick them up to use them as EXP
54:04 - [Music]
54:09 - foreign
54:11 - [Music]
54:14 - let's see if that worked
54:20 - there we go
54:21 - now when we kill a ghost
54:26 - and get close enough to the
54:29 - experience point it adds it to our scene
54:31 - variable which is used to control the
54:34 - EXP bar
54:35 - but running this every single frame
54:37 - would be a lot so we're going to change
54:38 - this to this
54:40 - and this
54:42 - so it's only doing that whenever we
54:44 - actually run into any XP point
54:46 - and to fix this at the beginning of
54:48 - scene I'm just going to change the
54:49 - default values of the bar
54:53 - so now they line up
54:59 - but that's not very fun to look at so
55:02 - we're going to change this so that the
55:03 - points go to you whenever you get close
55:05 - enough and then when they get really
55:06 - close to you they'll actually get picked
55:08 - up
55:10 - [Music]
55:19 - thank you
55:22 - and there we go
55:24 - maybe a little faster though
55:31 - so now we're able to level up
55:34 - but what happens when we actually reach
55:36 - the max level
55:37 - currently nothing
55:39 - but I'm going to create a new layer with
55:42 - some buttons on it to spend points
55:44 - whenever we level up
55:53 - [Music]
56:01 - [Music]
56:06 - again adding the bitmap font that I
56:08 - added in earlier
56:10 - and because people have been asking this
56:12 - font plus all the assets will be
56:15 - available in a folder in the description
56:17 - from now on so you can actually follow
56:19 - along yourself
56:24 - [Music]
56:35 - thank you
56:37 - [Music]
56:45 - [Music]
56:57 - thank you
56:58 - [Music]
57:15 - all right so now we have a text object
57:17 - that says power fire rate and accuracy
57:19 - that we can modify when we update the
57:22 - stats and buttons that we can actually
57:24 - use for those stats
57:26 - one for power one for fire rate and then
57:29 - one for accuracy
57:32 - and then for accuracy we actually need
57:34 - to tank the accuracy to make it make
57:37 - sense
57:38 - we'll change this to
57:40 - 20 and see how that does
57:42 - zero would be perfect accuracy 20 is off
57:45 - by an angle of 20.
57:50 - that might be a bit too much but it's
57:52 - fine for now
57:54 - alright so we'll hide the level up layer
57:57 - and then in the event sheet make it so
58:00 - that when the current exp level hits the
58:03 - max we'll pause the game show that layer
58:06 - and then when they spend their point on
58:08 - that thing go back to the game again
58:14 - I always set it to greater than or equal
58:16 - to or less than or equal to just in case
58:19 - something happens where you pick up two
58:20 - with the exact same frame or something
58:22 - like that
58:23 - it's just safer that way
58:26 - [Music]
58:37 - all right so now when we hit the maximum
58:40 - number for the XP we'll set the time
58:42 - scale to zero
58:44 - show the level up layer
58:46 - and then set the current exp back to
58:48 - zero so we start over again
58:50 - and while we're doing this it's a good
58:52 - idea to have the scaling happen here
58:56 - so we'll change the scene variable for
58:58 - the max exp to something like
59:02 - twice of what it currently is
59:04 - there we go so now when this happens
59:07 - well let me just show you actually
59:12 - oh
59:15 - I need to be good at the game to
59:16 - actually show you I guess
59:19 - [Music]
59:20 - and there we go now we've
59:23 - now the game is frozen and this should
59:26 - fix itself once that's done
59:28 - and we can press on these buttons
59:32 - no we can't we can't do that yet
59:35 - um
59:37 - okay so we need to add this part into
59:39 - the actual event sheet and while I'm at
59:41 - it I need to add a darkening layer here
59:42 - so it's not
59:44 - this bright
59:46 - [Music]
59:54 - [Music]
60:03 - okay so I used a
60:06 - shape painter object to make a black
60:08 - rectangle the size of the screen and
60:10 - then change its the order to be lower
60:12 - than everything else on that layer
60:16 - and we'll change this to 180
60:21 - and that way it won't be completely
60:23 - black it'll be transparent and you'll be
60:26 - able to see the background
60:31 - so the next thing we'll do is make it so
60:33 - that the buttons actually do something
60:34 - and when you press them you go back to
60:37 - the game with the improved stats
60:40 - I'll put all of the buttons into a group
60:43 - to make it easier
60:45 - [Music]
60:51 - [Music]
60:53 - now because we have the button State
60:55 - Extension installed
60:57 - you can see two of them but this is for
60:59 - the panel spray buttons and this is for
61:01 - the button State Extension
61:07 - [Music]
61:16 - [Music]
61:24 - [Music]
61:26 - so now when one of these buttons gets
61:28 - pressed we'll hide the level player
61:31 - change the scale back to one
61:34 - and then update the bar
61:39 - but now for the actual leveling up part
61:44 - so because we have the
61:47 - nope
61:49 - the gun object with the behavior on it
61:51 - for fire bullet this is what we'll be
61:53 - updating
61:54 - so we'll be changing the fire cooldown
61:57 - rate
61:58 - and the angle variance whenever we
62:01 - change the level of the stat
62:04 - but also we're going to do that for when
62:07 - we hit the enemy
62:09 - so right now it's applying one point of
62:10 - damage to the enemy but we're going to
62:12 - change that to the stat for power so
62:15 - that when they get hit they take more
62:16 - than one hit worth of damage
62:21 - [Music]
62:26 - thank you
62:29 - [Music]
62:42 - so for the accuracy I've changed the
62:45 - angle variance which is how much it'll
62:46 - Miss by by multiplying it by the angle
62:49 - variance which I got using the
62:51 - Expression Builder times 0.9
62:55 - so each time this gets picked it's going
62:57 - to hack off 10 percent of the current
63:00 - value which means as this level gets
63:02 - higher the accuracy getting added to it
63:05 - is going to be less and less as it gets
63:07 - closer and closer to zero which is
63:09 - perfect accuracy
63:11 - foreign
63:17 - [Music]
63:20 - and then I did the same thing for the
63:22 - firing cooldown which is the fire rate
63:25 - so we'll be changing the stat number in
63:28 - the scene variables
63:29 - so we can use that for displaying it but
63:32 - the actual change is happening
63:34 - here in this second action
63:36 - whereas for the power variable we're
63:38 - actually going to change that up above
63:41 - so right here where the enemies are
63:42 - taking damage
63:45 - get rid of that one and change it to
63:49 - scene variable
63:53 - for power
63:54 - so now they'll be taking the power as
63:56 - your
63:57 - damage instead of one
64:00 - and the last thing I want to do is
64:01 - change it so that the stats actually
64:03 - changed in the level up page
64:06 - so for that I'm going to go here again
64:10 - copy this
64:14 - come back here and go to bitmap
64:20 - to change the text of the bitmap object
64:24 - stats equal
64:26 - quotations
64:28 - and this is going to get a little messy
64:30 - but bear with me
64:32 - so the one
64:35 - quotations
64:37 - power
64:38 - so we got the power stat Plus
64:45 - power
64:46 - so now it's going to show Power to here
64:50 - plus this variable for power
64:54 - and then we'll add a plus here
64:56 - and another quotation
64:58 - [Music]
64:59 - there we go
65:00 - and so now it's this and then down here
65:04 - we'll do the same thing
65:06 - I'll just copy all of this
65:08 - paste it
65:11 - paste it
65:13 - get rid of the Plus on this end because
65:15 - this will be the end of it
65:16 - and the coordination
65:18 - and then this will be changed to
65:22 - this is the fire rate
65:24 - and the accuracy is being changed to the
65:27 - accuracy there we go so now power fire
65:30 - rates accuracy
65:32 - showing the variables for power fire
65:35 - rate and accuracy
65:37 - let's see if that worked
65:39 - [Music]
65:49 - um
65:52 - [Music]
65:54 - that is not how it's supposed to go
65:58 - that accuracy is quite a bit worse
66:00 - okay
66:02 - ah
66:05 - setu and
66:08 - set to
66:10 - there we go okay
66:13 - let's try that
66:16 - okay yeah there we go
66:19 - oh
66:20 - and the power is by default at zero so
66:25 - let's change that as well
66:28 - we'll set all of these to one to start
66:29 - with
66:31 - okay and I'm actually gonna add a cheat
66:33 - down here
66:34 - I usually put my cheats down in the
66:36 - bottom of the screen so I'll change it
66:38 - so that if the K key is pressed we'll
66:42 - change the current
66:45 - variable two variable
66:49 - scene variable Max exp so we'll just set
66:54 - it straight to Max exp when I press k
66:57 - okay
66:58 - so when the game starts I'll pick
66:59 - accuracy press k
67:03 - and we'll level up instantly
67:05 - I'll press fire rate and now it's
67:07 - changed to 20. so on the second level
67:09 - it'll take 20 to level up
67:11 - I'll press K again
67:13 - upgrade power
67:16 - 40
67:17 - announce two two and two
67:20 - upgrade power again
67:22 - and when I shoot this ghost it should
67:24 - die in one hit
67:25 - yeah
67:28 - and that's because now the power is
67:29 - level three so we're doing three points
67:31 - of damage when we hit them
67:33 - and the fire rate should be up let's try
67:35 - to crank that up
67:37 - oh yeah that's way faster
67:42 - accuracy is a little bit too much I
67:45 - think though
67:46 - I may need to turn that down a bit more
67:48 - [Music]
68:01 - okay I just noticed that the background
68:04 - darkening layer isn't showing up so I
68:07 - need to fix that and the problem is that
68:11 - it's drawing it right here
68:13 - but it's only doing that once because
68:15 - this is only true for one frame
68:17 - and if we go to the paint shaper object
68:21 - no not for transition for darken
68:24 - uh it is clearing the rendered image
68:27 - between each frame so it's only doing it
68:29 - once for a single frame and then
68:30 - disappearing so I'm going to turn this
68:32 - off
68:34 - and turn that off
68:36 - because I don't want it relative to the
68:38 - actual position of the object in scene
68:40 - and
68:42 - I'm going to change this to be at the
68:43 - beginning of scene instead so it does it
68:45 - once at the beginning of scene and then
68:47 - doesn't clear it away afterwards
68:49 - and we'll see if that works
68:52 - so now if I press k
69:00 - huh
69:02 - oh
69:04 - because the base layer is zoomed in and
69:06 - this is zero so that's why it's pulled
69:08 - over to the left okay so I need to
69:10 - change this to the
69:13 - level up layer
69:16 - there we go
69:18 - because there's two different cameras
69:19 - the base layer is zoomed in and the
69:21 - level of layer is not zoomed in
69:24 - there we go so now it's the whole size
69:27 - of the level up layers camera
69:29 - and if I press power it goes away
69:32 - and level up again it's there great
69:36 - I might change this to be down here
69:38 - though
69:42 - my changes to here
69:44 - instead of here
69:48 - so when I level up
69:51 - yeah it does it automatically and it's
69:52 - already down to zero
69:55 - yeah there we go
69:57 - now that leveling up is done we're going
69:59 - to go ahead and add some more enemies to
70:00 - the game to give it some more variety
70:02 - we'll stick with basic enemy behaviors
70:04 - for now but we'll add some more
70:06 - interesting behaviors later
70:09 - so let's get started currently there's
70:11 - just the one enemy type so I'm going to
70:13 - add two more Sprite objects with the
70:15 - same kind of animations and variables to
70:18 - go along with it
70:19 - so I'm just going to copy this one and
70:21 - change out the images
70:22 - [Music]
70:34 - foreign
70:35 - [Music]
70:40 - [Music]
70:52 - [Music]
70:59 - [Music]
71:03 - foreign
71:09 - [Music]
71:15 - I'm going to put them all into a group
71:18 - and I'm going to call it enemies
71:26 - the game they should react just like
71:30 - oh no wait hold on
71:32 - okay so in the event sheet I can swap
71:35 - out anything that was called ghost enemy
71:38 - and change it to enemies the group
71:41 - make sure that's the right spelling
71:45 - all right and if I press replace
71:47 - all of these points here should all be
71:50 - changed to enemies of the group instead
71:51 - [Music]
71:53 - just need to double check that it
71:55 - actually worked
71:56 - okay now if I start the game
72:02 - they're getting hurt they're going
72:03 - towards it
72:06 - obviously the health bar is breaking
72:08 - because they weren't supposed to have
72:09 - that
72:10 - there we go
72:12 - okay
72:14 - so that worked out now we need to be
72:16 - able to spawn those enemies in separate
72:19 - from the way that we spawn in ghosts and
72:21 - for that I'm actually going to implement
72:23 - a wave system
72:24 - so I'm going to add a text object
72:28 - called a wave number
72:31 - uh pick the same font I guess
72:37 - and we'll put it on the UI layer
72:40 - there we go
72:42 - and now we'll create a new timer
72:46 - call it wave
72:48 - and then add an event
72:52 - where we check if the timer is above
72:54 - let's try five seconds just for testing
72:59 - and we'll create a scene variable
73:04 - call it wave as well have it start at
73:06 - one
73:08 - and we'll change this to one
73:11 - okay
73:16 - and add the action to change the scene
73:18 - variable
73:19 - Wave by adding one to it
73:24 - all right there we go
73:27 - and we'll change the enemy's spawning
73:28 - rate to equal the wave so the higher the
73:32 - wave is the faster enemies will spawn
73:35 - let's say three seconds
73:37 - divided by the variable of wave
73:42 - variable is just the scene variable
73:45 - of wave
73:47 - so every five seconds that will go up
73:48 - and we will
73:51 - modify the text of the wave number to
73:54 - equal in quotations wave
73:58 - Plus
74:01 - that
74:03 - um
74:03 - oh it needs to be a text variable so
74:06 - we will change this to we'll search
74:08 - through the Expression Builder to get it
74:10 - because it's easier
74:13 - scene variable
74:15 - number
74:17 - wave
74:19 - there we go it adds the tostring for us
74:22 - to make it a text instead of a number
74:26 - okay
74:28 - now let's try that
74:33 - [Music]
74:35 - all right so one enemy spawned
74:40 - because we're on Wave one so it's three
74:41 - divided by one so it's three seconds
74:48 - this didn't change
74:51 - uh they seem to be coming in faster
74:54 - oh no they no they're not
74:58 - need to reset this
75:01 - and change the scene variable to be
75:04 - equal to one
75:10 - this needs to be wave as well
75:13 - wave
75:15 - there we go okay now try this
75:19 - okay so there's one enemy we're on Wave
75:21 - three now
75:22 - so I should get one every second
75:25 - from wave four so I should get one every
75:28 - three-fourths of a second
75:31 - and it's going to speed up to the point
75:33 - where it's Gonna Get Ridiculous
75:37 - Okay cool so that works but we'll change
75:40 - this to something more reasonable like
75:42 - 30 seconds
75:46 - now on top of this I'm going to change
75:47 - this to the health of the enemies is
75:50 - going to actually change along with it
75:52 - so when we're here and we create the
75:54 - enemy
75:56 - we'll change the health
76:00 - of that enemies group to equal
76:03 - 3 plus
76:08 - that wave variable
76:11 - divided by three
76:16 - and rounded down
76:19 - okay so floral rounded down if it's less
76:23 - than a whole number so when we're on
76:25 - Wave three the enemies will have four
76:27 - health because it'll be three plus one
76:30 - and then it won't go up again until we
76:32 - reach wave six when they'll have five
76:34 - health and so on and so on
76:36 - okay
76:38 - change that there we want to change the
76:40 - maximum and their current health as well
76:43 - change their health points to equal
76:44 - their Max health
76:46 - [Music]
76:47 - okay
76:49 - now let's try that out so we need to get
76:51 - to wave four to see this work in action
76:55 - oh
76:57 - we'll change this to five again
77:00 - and do that
77:02 - [Music]
77:04 - one two three
77:06 - one two three one two three
77:11 - wave four
77:12 - one two three four one two three four
77:16 - one two three four
77:18 - one two three
77:21 - oh there we go okay
77:23 - you get the idea
77:25 - so when this enemy is created
77:27 - their Max health and current health get
77:29 - changed based on the wave variable
77:33 - and now to make it so that the enemies
77:35 - spawn at different wave levels
77:38 - to do this we'll add another scene
77:39 - variable
77:42 - properties scene variable
77:45 - add
77:47 - I'll just call it random enemy
77:52 - and then when enemies get spawned I'll
77:55 - use an event to change that number so it
77:57 - picks a different enemy
78:00 - nope
78:05 - so we use random in range
78:08 - so it'll pick a whole number
78:10 - zero two and we'll need a little bit of
78:13 - algebra for this if we want a new enemy
78:16 - to show up every three waves then we can
78:18 - do it the same way that we did it for
78:20 - the health so let's go there
78:23 - maximum health
78:25 - we'll steal this
78:28 - copy
78:30 - okay paste in here so now
78:37 - when an enemy gets created this scene
78:40 - variable is going to change from zero
78:42 - to whatever this will be
78:45 - so if we're below the third wave it will
78:48 - be less than a whole number so it'll get
78:50 - rounded down to zero so this will be
78:52 - zero zero
78:54 - if we're at wave three to six or three
78:57 - to five this will round down to one so
78:59 - it'll be zero to one
79:01 - and then if we're on wave six or above
79:03 - or six to eight this will round down to
79:07 - two so it'll be zero two so it'll be
79:10 - zero one or two
79:13 - and then we want to stop there because
79:15 - if we go beyond that we'll have more
79:17 - numbers than we have enemies for
79:19 - so for that
79:22 - we'll use min
79:24 - which is another expression that's
79:26 - wonderful to have
79:28 - uh we need a comma right
79:32 - here yep there we go and then two
79:35 - nope
79:38 - what
79:45 - um
79:50 - ah there we go okay brackets okay so now
79:54 - it's zero or
79:57 - the wave variable divided by three
79:59 - rounded down
80:01 - and then
80:04 - Min so it'll pick the smallest number
80:06 - out of the two options which is either
80:09 - this or two which means if the variable
80:13 - forward the wave goes above nine which
80:17 - would turn this into
80:19 - three which is more enemies than we
80:21 - actually have
80:22 - Instead This Min expression will change
80:26 - this to two so it'll pick two instead of
80:29 - the three because it's the smaller
80:30 - number okay
80:32 - so this is either 0 or whatever Enemy
80:35 - Number we're at
80:38 - and now we need to modify this quite a
80:41 - bit by moving all of this down here
80:46 - we'll use the scene variable
80:48 - as the condition
80:52 - scene variable for random enemy
80:55 - and if it equals zero
80:58 - we'll spawn
81:01 - the ghost enemy
81:04 - and since it's already at zero by
81:06 - default then it's going to pick the
81:08 - ghost enemy for the first three waves
81:13 - and then on the
81:16 - if it picks one
81:18 - will spawn oh
81:20 - will spawn the spider
81:24 - and if it picks three
81:26 - or two sorry
81:30 - we'll spawn the Imp
81:33 - okay we'll see if this works
81:37 - so we should only see ghosts for the
81:39 - first three waves
81:42 - oh
81:45 - there's a spider the spider stole the
81:48 - health bar
81:52 - ah this should be changed to enemies
81:58 - it must not have been changed with the
82:00 - search bar
82:01 - okay so now I need to make these apply
82:03 - to each enemy type so I'm going to
82:05 - shuffle these around and change the
82:07 - names so they work with each enemy as
82:09 - they spawn
82:12 - and now I can copy this down for each
82:14 - enemy
82:15 - [Music]
82:25 - okay so now when the number gets picked
82:28 - for the enemy
82:29 - it creates the enemy object
82:31 - and then applies the health and creates
82:34 - the health bar and links it to that
82:36 - specific enemy
82:37 - and it'll do that for each one
82:40 - and then regardless of which one gets
82:41 - picked it's going to reset the timer
82:44 - and pick a new number so the next time
82:47 - it'll be a new number and we get a
82:49 - different enemy
82:50 - now let's see if that worked
82:55 - here come the ghosts and the first three
82:57 - waves
83:02 - more ghosts oh they're spiders
83:10 - or spiders
83:13 - they each have individual health bars
83:17 - and Chris power
83:22 - it's hard to tell but also they they
83:25 - also have higher health
83:29 - and there comes the imps
83:31 - yeah there we go yeah
83:33 - so their health was going up so the Imp
83:35 - at the end had five health because I
83:37 - shot it twice with an attack that had
83:39 - two power and it still had one Health
83:40 - left so now to make a little bit of
83:43 - variation there I'm going to change the
83:45 - base health of the spiders and imps so
83:48 - they'll operate differently
83:51 - there he goes now the spiders will have
83:53 - two Health the imps will have four and
83:55 - the ghost will have three and then that
83:57 - will just scale up as they go
83:59 - but to make them also a little more
84:01 - different I'm going to change how they
84:02 - move
84:04 - so I'm going to affect this event here
84:07 - and change this to imp ghost
84:12 - and spider
84:14 - oh that is the wrong event
84:19 - here here we go
84:22 - so I'll make three different versions
84:23 - for this
84:26 - change this to ghost
84:28 - change this to spider
84:30 - and change this to imp
84:32 - okay
84:33 - so now the Imp
84:35 - will move towards the center at a speed
84:38 - of eight so it's a little slower but it
84:41 - has more health
84:43 - and then the spider will do 12.
84:46 - [Music]
84:50 - let's see how much of a difference that
84:52 - is
84:53 - see if we want more or less
84:55 - [Music]
84:59 - maybe we need a little bit more of a
85:01 - difference
85:07 - [Music]
85:11 - yeah there we go
85:13 - that should be enough
85:15 - [Music]
85:20 - oh you're not stopping
85:24 - oh
85:29 - had these backwards
85:35 - there we go
85:36 - yeah
85:38 - great so now we have three different
85:40 - enemies in game that are a little
85:43 - different from each other
85:45 - spawn based on the number of the wave
85:46 - that we're in and how difficult the game
85:48 - is
85:49 - have their health scale to go along with
85:52 - the difficulty of the game
85:53 - and it's all working as intended
85:57 - and now that we have the basic enemies
85:58 - in the game we're gonna go make each one
86:00 - seem more unique and then at the very
86:03 - end of the video we're going to add
86:05 - mobile controls so then you'll be able
86:07 - to release this game on desktop or
86:09 - mobile devices
86:12 - so let's jump in
86:13 - now the quickest way to give your
86:15 - enemies some movement is to use the
86:17 - Boyd's extension which I kind of overuse
86:20 - but it's really good for giving basic
86:23 - enemies some more interesting movement
86:26 - so we'll just give that behavior to the
86:29 - ghost enemy
86:31 - there we go
86:34 - and now go to enemies
86:36 - and instead of telling it to move I'm
86:38 - going to tell it to go towards the
86:40 - center using the Boyd's extension
86:42 - I'm going to tell it to go towards an
86:44 - object
86:45 - and the object is the center
86:49 - decision wait we'll just start with 10
86:51 - and see how that works
86:52 - and now we'll preview the game
86:58 - okay that's way too fast and they were
87:00 - rotating
87:02 - so let's turn off rotation
87:04 - and turn down the max speed a lot
87:11 - and let's see how that works out
87:15 - there it comes
87:17 - still too fast
87:21 - and it's kind of beelining for the
87:23 - center
87:25 - so we need to change that as well
87:28 - let's change the decision weight down to
87:30 - two and see what that does
87:35 - [Music]
87:38 - change it to 0.5
87:40 - see if that helps
87:45 - oh there we go
87:48 - now we're getting that
87:51 - kind of I'll be there eventually
87:52 - Behavior
87:54 - that's what I want
87:57 - I'm gonna tweak the values a little bit
87:59 - and then come back
88:02 - [Music]
88:18 - [Music]
88:27 - [Music]
88:42 - okay there we go so I have tweaked the
88:45 - speeds a little bit and I've changed it
88:47 - so that now the ghost tries to avoid the
88:50 - player so when you're playing the game
88:51 - you can try to chase them off away from
88:53 - the center
88:54 - which makes them a much more interesting
88:56 - and kind of dynamic enemy but also makes
88:58 - them a little random so
89:01 - if you get your hands on this game you
89:03 - might want to tweak the values on these
89:04 - things
89:06 - all right now I'm going to do the same
89:08 - thing to the Imp but I'm going to make
89:10 - it different on how they approach the
89:11 - center
89:13 - I'll give them the same behavior
89:16 - leave all that alone
89:19 - I want them to be even slower than the
89:21 - ghost
89:24 - not rotate
89:26 - [Music]
89:31 - I don't want them to be afraid of the
89:33 - player
89:37 - okay and now I'm also going to give them
89:39 - the fire bullet extension as well
89:43 - so they can fire at the center
89:45 - [Music]
89:48 - there we go
89:50 - let's make their firing cool down every
89:54 - four seconds
89:57 - put one into the scene
90:01 - going to create a new object Sprite
90:12 - [Music]
90:14 - thank you
90:20 - okay so we'll go here
90:22 - make a new group
90:28 - imp
90:29 - [Music]
90:30 - and we'll make it so that when the Imp
90:33 - is
90:39 - no
90:41 - we changed the fire rate in the
90:43 - extension itself or the behavior itself
90:45 - to four seconds so we need to make it
90:47 - shoot
90:49 - or fire bullet
90:53 - towards a position
90:56 - from the Imp
90:58 - oh no wait
90:59 - fire the bullet
91:02 - nope here
91:04 - to fire the bullet
91:08 - from the Imp
91:12 - and we'll go from the Imp Center
91:18 - X and Y
91:21 - to the center objects
91:25 - Center
91:27 - X and Y
91:31 - and make it go at 50 I guess
91:35 - okay and we'll see if that works
91:39 - it should fire up there it is yeah okay
91:42 - great
91:44 - uh the
91:46 - bullets a little bit out of alignment
91:48 - because I haven't changed the points
91:50 - changes origin to its Center
91:55 - now see how it looks
92:02 - there we go great
92:05 - and now we'll change this down to 40
92:10 - and we'll change the imps movement speed
92:11 - down slower
92:13 - go 10 and 10.
92:18 - all right now I want to make this so
92:20 - that you can block these bullets with
92:22 - your own body
92:23 - because why not I can do what I want to
92:27 - and you can change this if you uh open
92:30 - the example later and
92:31 - want a different thing
92:33 - [Music]
92:35 - so let's create a new event here
92:38 - if the enemy bullet is in collision with
92:41 - the player
92:45 - delete
92:47 - enemy bullet
92:49 - so that way you have a way to combat
92:51 - these bullets when they fly in
92:55 - so when they shoot the bullet
92:57 - yeah I can run into it and stop it
93:01 - all right
93:03 - I will want to change the player's
93:06 - Collision mask I think a little bit
93:09 - yep
93:11 - let's bring this down
93:15 - okay
93:17 - all right and that is the Imp done
93:21 - and now for the spider I'm not going to
93:23 - use boys movement for the spider because
93:25 - that gives like a floating effect
93:26 - instead I'm going to use points and
93:29 - spawn the spider and use the movement
93:30 - paper that we've already got set up
93:32 - so I'm going to duplicate this and call
93:35 - this
93:36 - the spider spawn
93:40 - and put a couple points in here
93:42 - foreign
93:47 - maybe a couple
93:49 - more
93:51 - there we go okay and I'm going to add
93:53 - another object in
93:57 - call this shadow
93:59 - if you've ever seen those hand enemies
94:01 - the evil hand enemies from Zelda back in
94:04 - the day this is what I'm doing
94:08 - adding a new Sprite object call this
94:10 - drop
94:16 - great change the center point to the
94:18 - center
94:21 - oh wait no no no it needs to be the same
94:23 - as the spider
94:25 - so spider's points
94:28 - its origin is 12 22.
94:32 - cancel
94:34 - Shadow points
94:37 - 12 22.
94:40 - and the drop object
94:43 - 12 22.
94:47 - and this is only going to work because
94:48 - the shadow image and the drop image are
94:50 - both the exact same size as the spider
94:52 - image the full size of it
94:54 - thank you
94:57 - and now we go to the spawning
95:03 - and we're going to create both of those
95:06 - objects shadow
95:09 - and the drop
95:14 - move the spider down here
95:18 - add a weight action
95:21 - let's say one second
95:27 - and I need to give both of these objects
95:29 - the tween Behavior
95:34 - tween
95:36 - wait
95:38 - not between Z order
95:41 - just a normal tween
95:43 - okay
95:45 - drop
95:47 - add the
95:49 - tween Behavior
95:53 - there it is
95:57 - all right and then tween
96:01 - uh y position
96:03 - [Music]
96:08 - now we'll start with scale
96:12 - foreign
96:17 - grow and we'll go to full scale
96:21 - easing can be linear I guess
96:24 - again this can be changed because it's
96:26 - not a big deal
96:27 - 1000 milliseconds and then
96:31 - destroy
96:34 - I'm not going to scale from the center
96:36 - I'm going to scale from the origin I
96:38 - believe
96:40 - move this here
96:41 - [Music]
96:44 - we're going to change the spot that this
96:46 - spawns at to the spider spawn point
96:49 - and the same thing for
96:52 - the drop object
96:57 - we'll pick a random
97:01 - spider spawn point
97:03 - and we'll do another tween
97:06 - for the Y position
97:11 - of the drop object
97:15 - and call this drop
97:23 - and we'll go down
97:25 - we'll go down a hundred so we fall down
97:27 - a hundred
97:28 - and again we'll stick with linear
97:31 - a thousand milliseconds destroy object
97:33 - when it's done
97:36 - all right so these here are here
97:38 - now we need to spawn a
97:41 - Bove the spider spawn point
97:44 - 100 pixels so that way when we drop we
97:47 - go
97:48 - hold on
97:50 - negative negative is up
97:52 - and so that way when we drop we go from
97:55 - 100 Above Down
97:58 - to the actual position itself
98:00 - [Music]
98:02 - also spawn at the same spider spawner
98:07 - what's gonna happen is we're going to
98:09 - spawn these objects between them to the
98:11 - right position
98:13 - and then have the spider spawn at those
98:16 - positions when they get destroyed
98:19 - by the tweening event
98:24 - I'm going to change this to zero for
98:25 - right now to make it Force the spiders
98:27 - to spawn first
98:34 - hey there's one
98:36 - okay all right
98:39 - so they are dropping
98:42 - not exactly greatly but they're dropping
98:44 - properly
98:45 - what's not happening is a scale event
98:51 - so we'll scale the Sprite object
98:55 - of The Shadow
98:59 - to zero
99:03 - so then it's going to start at zero and
99:04 - go to Tween up so let's try that
99:11 - oh there we go
99:14 - there's another one
99:17 - so that looks like they're falling from
99:18 - the ceiling
99:22 - I'm going to change the position of that
99:24 - spawning point though because that's a
99:26 - bit weird let's change the spawning
99:28 - point to the center
99:30 - there we go and
99:32 - [Music]
99:43 - perfect
99:45 - [Music]
99:50 - oh I'm going to actually beginning of
99:53 - scene
99:55 - hide those spider spawners
99:59 - so they're still there we just can't see
100:00 - them
100:01 - okay cool
100:04 - and now you can see the spiders are
100:05 - dropping
100:08 - and because the object that's dropping
100:10 - is not the spider itself I can't shoot
100:12 - it
100:14 - all right great so now we have three
100:17 - unique enemies that all act differently
100:20 - the ghost kind of hovers around and the
100:22 - Enders its way to the center the spider
100:24 - runs towards the center after dropping
100:26 - from the ceiling and the Imp will
100:29 - actually fire a fireball that I didn't
100:31 - code properly
100:33 - hold on
100:35 - okay game over
100:40 - we'll also add if the enemy bullet hits
100:43 - the center game over so we need to use
100:46 - or
100:51 - and then put this inside of the ore
100:53 - condition
100:54 - so now
100:55 - if the enemy gets to the center or if
100:58 - the enemy bullet gets to the center it's
101:00 - game over and we start over
101:06 - now let me just play test that to make
101:08 - sure it actually works
101:13 - and as a nice twist the ghosts now being
101:16 - afraid of you means that they won't go
101:18 - towards the center so you'll kind of
101:20 - have an ever increasing swarm of ghosts
101:22 - around the center until you choose to
101:24 - run off and grab the experience points
101:26 - or run off to try to protect the center
101:28 - from one of the Fireballs
101:29 - now there's one thing I did notice
101:32 - though
101:33 - and that's that these enemies aren't
101:35 - necessarily looking the right way
101:36 - anymore because the code has changed for
101:39 - how they spawn
101:40 - so
101:41 - I'm going to need to change this
101:45 - forever so they won't just do it when
101:47 - they spawn they'll do it always
101:50 - okay now I need to fix a bug that
101:54 - somebody mentioned in one of the earlier
101:56 - comments
101:58 - um the
101:59 - leveling up layer exists whether or not
102:04 - you can see it
102:06 - so even during gameplay if you click
102:08 - where that button is on screen you will
102:10 - get that level up without the experience
102:13 - points required
102:15 - okay so the buttons clicked so we need
102:17 - to add a second condition here for
102:21 - um
102:23 - if the layer is currently visible
102:27 - so we can search for visibility
102:30 - visibility of a layer the leveling up
102:32 - layer
102:34 - so we will only be able to click on the
102:36 - button if the leveling up layer is
102:38 - actually showing
102:40 - so that bug is now fixed
102:44 - great now the last thing I want to do in
102:46 - this video before I run out of time is
102:48 - ADD mobile controls because people have
102:50 - been asking for that and it's really
102:51 - quick so watch this
102:54 - joystick
102:57 - I like these joysticks
103:01 - okay we'll create another layer call
103:04 - this mobile controls
103:10 - uh we'll call this
103:14 - movement
103:17 - plop this down shrink it down a little
103:19 - bit because it's a bit big
103:23 - you can find the size you want
103:25 - maybe a little bigger there we go
103:27 - and then I will duplicate this
103:32 - and call it aiming
103:35 - all right so now movement and aiming
103:39 - for the player I'm going to go to
103:40 - behaviors
103:42 - add a behavior and once you've added a
103:45 - joystick you should have
103:50 - top down multi-touch controller mapper
103:53 - top down movement analog great
103:56 - so I've added the behavior to the player
103:58 - I press preview
104:01 - ah
104:03 - I've got to put the object on the layer
104:05 - right
104:07 - mobile controls okay preview
104:12 - down Behavior plus this plus the mapper
104:15 - behavior and it works
104:17 - now for aiming let's plop this one down
104:21 - make it the same size so 96 by 96
104:26 - and roughly the same spot
104:30 - okay all right now for this it's going
104:33 - to be a little bit trickier but
104:36 - we'll collapse all of this go to the
104:38 - player go to gun
104:42 - check if this is a mobile device
104:45 - and change this to not
104:49 - make a new action move that there
104:53 - all right so if it's not a mobile device
104:55 - we will rotate the gun towards the
104:57 - cursor
104:58 - if it is a mobile device we will rotate
104:59 - the gun towards the angle
105:03 - angular speed zero
105:06 - angle of that joystick so joystick
105:12 - stick angle
105:14 - I think it's
105:16 - two
105:18 - and secondary
105:20 - we will make sure that's right so we go
105:22 - to here
105:23 - go to aiming
105:25 - change this to 2 and make this secondary
105:29 - all right
105:31 - and so now
105:33 - because I'm on a laptop and this is not
105:35 - a mobile device
105:37 - I'm going to just remove that condition
105:39 - really quickly and disable that
105:42 - just for testing
105:45 - huh
105:47 - and put this on the mobile control layer
105:50 - [Music]
105:52 - there we go so now the gun AIMS in the
105:55 - direction of the joystick
105:57 - great
106:01 - [Music]
106:09 - [Music]
106:18 - [Music]
106:27 - okay so this will work it's just
106:31 - the problem is that it's fighting two
106:33 - conflicting orders so
106:38 - we will copy these
106:43 - [Music]
106:44 - and disable both of these right now
106:47 - just for testing
106:49 - and there we go now the gun and the
106:51 - player rotate with the joystick
106:59 - because we're using the condition
107:00 - joystick pushed in a direction and then
107:03 - using the proper number and joystick
107:06 - name
107:07 - and then the direction
107:09 - so if it's pushing right it's going to
107:11 - not flip and if it's pushing left it
107:12 - will flip
107:14 - just like when the cursor was on one
107:15 - side or the other of the player
107:18 - and now we will use the condition
107:21 - mobile device
107:29 - and again but inverted
107:31 - [Music]
107:36 - all right
107:38 - and then put this here and
107:42 - we are good so if it's not a mobile
107:44 - device it's going to use
107:46 - the cursor's position if it is a mobile
107:48 - device
107:49 - it will rotate towards the joysticks
107:52 - angle
107:55 - and then for the flipping this will
107:57 - happen
107:58 - we do need to change it though so that
108:04 - or
108:06 - two here
108:09 - either the left joystick
108:11 - or Mouse button is down
108:15 - no hold on
108:18 - and
108:23 - okay
108:24 - back to the mobile device thing
108:27 - so if it's not a mobile device this is
108:29 - an and condition
108:31 - if the left Mouse button is pushed down
108:33 - and it's not a mobile device
108:36 - then this will be true
108:38 - this is an ore condition
108:40 - so if that is true or
108:46 - the joystick is pushed down
108:54 - let's try that okay so if it's above
108:56 - zero if the force on the joystick is
108:58 - above zero so it's being moved at all
109:01 - yeah so when I'm clicking anywhere else
109:03 - doesn't work holding the joystick does
109:05 - work
109:06 - so I've got movement and joystick
109:10 - we'll change that back to not a mobile
109:11 - device
109:12 - and we have our controls all set up
109:16 - sorry if it looks a little bit
109:17 - complicated but you need to have
109:18 - separate controls for mobile and not
109:20 - mobile so
109:23 - all right
109:24 - that's the game
109:26 - we'll move this down below the
109:27 - transition so you can't see it when you
109:29 - first start the game
109:31 - and we will set it up so that
109:34 - copy this
109:42 - if it is not a mobile device
109:46 - we will just delete the mobile controls
109:50 - which are movement
109:54 - and aiming
109:57 - so now when I start the game and it's
109:58 - not a mobile device because it's my
110:00 - laptop
110:01 - they're gone and the game plays normally
110:06 - all right
110:08 - and that has been the entire series I'm
110:11 - making a wave defense game