With timestamps:

00:01 - hello everyone if you can see us
00:03 - say hello in the chat on youtube
00:06 - um we are gonna get started in just a
00:09 - minute
00:10 - but uh we we like to wait a little bit
00:13 - because we don't know how quickly we
00:15 - actually go live
00:16 - so say hello let us know that you can
00:19 - see
00:19 - us
00:26 - is that oops
00:30 - oh people are saying hi in the chat hey
00:32 - jamie
00:33 - do you have the youtube video open on
00:36 - your computer
00:38 - uh i don't but i can check i can hear
00:42 - myself
00:45 - which is
00:51 - um i don't have it open on my computer
01:08 - sorry guys technical difficulties
01:13 - where am i hearing this from
01:23 - can you hear it jamie um
01:26 - i cannot i like sort of hear it in the
01:30 - background of your um
01:48 - in the chat can anybody
01:51 - let me know if you can like hear me in
01:54 - double
01:54 - basically
01:59 - oh i think i got it now it stopped
02:02 - whoo all right sorry for the technical
02:06 - difficulties everyone
02:08 - um i i hope everyone is having a nice
02:12 - tuesday
02:12 - it just started snowing here i was
02:14 - telling jamie
02:15 - uh so hopefully we stay online the whole
02:18 - time
02:19 - and no more technical difficulties
02:22 - um this is the third week
02:26 - of the stats live stream series oh
02:29 - everyone is saying everything was fine
02:31 - um i think it was something wrong with
02:34 - my audio
02:34 - my audio and these things are i've had a
02:37 - few
02:38 - issues so i'm glad that everything is
02:40 - fine for everyone else
02:42 - um so this is our third our third week
02:44 - of the stats livestream
02:46 - series um i'm sophie if you haven't
02:48 - attended yet
02:49 - and i'm here this week with my colleague
02:51 - jamie um
02:53 - so jamie do you want to say hello to
02:55 - everyone and introduce yourself quickly
02:57 - hi everyone i'm jamie um i'm also a
02:59 - curriculum developer at code county with
03:01 - sophie
03:02 - um this is the first live stream i'm
03:04 - doing for the
03:05 - stats live streams that sophie set up
03:07 - i'm really excited to be here
03:09 - uh you may have seen me on a couple past
03:11 - live streams
03:12 - with some uh things we did before um
03:15 - yeah and i'll be answering some
03:17 - questions in the chat um
03:19 - and monitoring it as sophie leads us
03:21 - through associations
03:23 - with variables awesome
03:26 - um so yeah with that in mind i think
03:28 - we're streaming on a few different
03:30 - platforms but we are keeping an eye
03:32 - primarily on the youtube chat
03:34 - um so if you're on facebook or twitch
03:38 - or any of the other platforms we're on
03:40 - um
03:41 - come on over to youtube if you'd like to
03:44 - chat along with us
03:45 - and just as a reminder these are always
03:47 - posted after the fact so you can always
03:50 - um watch them afterwards and you can
03:52 - post questions
03:53 - in the comments on the youtube video
03:55 - we're happy to answer more questions
03:57 - uh if you're not able to come to the
04:00 - live sessions so with that said
04:03 - i am going to get us started um
04:08 - if you've been following along um we
04:12 - have been working off of some
04:14 - code that is available on github for
04:16 - download
04:17 - um i know jamie if you
04:20 - uh if you're able could you maybe post
04:23 - the link to that github
04:25 - um in the chat and i think uh it
04:29 - it should be in the youtube link as well
04:32 - um and in the meantime i am going to
04:35 - share my screen
04:38 - share hopefully you guys can all see
04:42 - that um jamie can you see my screen
04:46 - okay see uh yes i see it
04:49 - awesome okay so uh if you downloaded
04:53 - the code from github we are currently in
04:57 - the week three folder so that that will
04:59 - be codecademy live stats number three
05:02 - um and i'm going to start with this
05:03 - starting code file
05:05 - uh but you can also take a look at the
05:08 - ending the final code
05:09 - it might not be exactly identical to
05:11 - what we get to in this live stream but
05:13 - it should give you an idea of the kinds
05:15 - of things that are covered here
05:17 - so with that said i'm just going to get
05:19 - started because we always
05:21 - uh we always run out of time in these
05:23 - live streams somehow
05:25 - we uh we have lots to say so
05:29 - uh with that said um today's focus like
05:32 - jamie said
05:33 - is really about looking at associations
05:36 - between
05:37 - variables and really what that means is
05:40 - we're looking at in a data set again um
05:43 - this is the same data set that we used
05:45 - last week but
05:47 - i'll just show everyone this data set
05:50 - again
05:51 - um so this is a data set from street
05:53 - easy that has some information about
05:55 - apartments in new york city
05:57 - and if we're asking about associations
05:59 - between variables we're asking about the
06:01 - relationships between these different
06:02 - columns so things like
06:04 - rent the number of bedrooms the number
06:06 - of bathrooms
06:08 - the size and square feet and a whole
06:10 - bunch of other
06:11 - um things that we know about each of the
06:13 - apartments in this data
06:16 - so jamie can you like think of a
06:19 - question that
06:20 - might focus on
06:23 - an association between two variables
06:26 - like what question might might be asked
06:28 - that
06:28 - has something to do with whether or not
06:29 - two variables are associated
06:32 - well i actually feel like this is very
06:33 - relevant to me because i will soon
06:35 - hopefully be looking for apartments in
06:37 - new york
06:38 - um and i will care about more most is
06:41 - price of those apartments um so i might
06:44 - think about
06:45 - you know how does the amount of bedrooms
06:48 - or how does the square footage or the
06:50 - minutes of subway
06:51 - associate with the price of said
06:54 - apartment
06:54 - in new york so that might be something i
06:56 - personally might look at
06:57 - but there are a lot of different
06:58 - associations you can look at between
07:00 - these variables
07:01 - yeah i think that's a
07:04 - perfect point so um i think probably
07:08 - what many of us are drawn to about this
07:11 - data set i know it was the thing that
07:13 - drew me to this data set
07:15 - is trying to figure out based off of
07:18 - this information that we have about
07:19 - apartments in new york city
07:21 - can we kind of predict or guess what a
07:24 - fair
07:25 - rent would be for a particular apartment
07:27 - that has
07:28 - certain qualities so that's a particular
07:31 - size that has a particular number of
07:32 - bedrooms and bathrooms
07:34 - that has certain amenities or does not
07:36 - have those amenities
07:38 - and all of the questions that we might
07:40 - ask about how rent is related to other
07:43 - things that could be true about an
07:45 - apartment
07:46 - um those are all questions about
07:49 - associations between variables
07:51 - um one thing that i would like to
07:55 - kind of point out is that um
07:58 - an association is different from a
08:00 - causal relationship
08:02 - and i think uh a lot of us have kind of
08:06 - heard this before like a lot of people
08:08 - have heard the saying correlation is not
08:11 - causation
08:12 - um and i think i have also seen
08:16 - i i don't know if you've seen this jamie
08:17 - like the spurious correlations blog
08:20 - or we can if you're interested
08:24 - you should definitely take a look at
08:25 - spurious correlations um
08:27 - of things that are clear that seem to be
08:30 - clearly related to each other
08:31 - but there's no way that one thing could
08:33 - cause the other
08:35 - um and so like for example
08:38 - um if we find that there's a
08:41 - relationship
08:42 - between the square footage of an
08:44 - apartment and the rent so like
08:46 - you might guess right bigger apartments
08:48 - can go for more money
08:50 - that doesn't necessarily mean that if we
08:52 - added more square footage to an existing
08:55 - apartment
08:55 - that then people would pay more we might
08:58 - think that that's true but this data is
09:01 - not going to tell us anything about that
09:03 - because in this data we only have
09:05 - each row is an apartment and we don't
09:07 - have any data about what happens to
09:09 - apartments if we change them so we don't
09:11 - have
09:12 - a bunch of data for the same apartment
09:13 - at different time points when
09:15 - it was made bigger like it had an
09:18 - addition
09:18 - another wall was put up to add another
09:20 - bedroom nothing like that
09:22 - so we can't really say anything about
09:24 - what happens with changes
09:26 - but oh thank you for sending this
09:28 - furious correlations length that's great
09:31 - um but with that said it's still really
09:34 - important
09:36 - for example um for janie if he wants to
09:38 - go out and find an apartment in new york
09:40 - city
09:41 - and he's looking at different apartments
09:43 - and he's
09:44 - you know i want two bedrooms but
09:47 - i really want to have a roof deck or
09:50 - some outdoor space
09:51 - and so like maybe i'm willing to go down
09:54 - to one bedroom
09:56 - and so one of my roommates will sleep on
09:59 - the
09:59 - sofa just to have that outdoor space
10:04 - especially in the time of coven so um
10:07 - so if jamie wants to answer kind of the
10:10 - question what is a fair rental price or
10:12 - what departments like
10:13 - this go for um or what can i afford
10:16 - given
10:16 - these things that i want to definitely
10:18 - have then he's really
10:20 - gonna be interested in trying to
10:22 - understand some of these relationships
10:24 - okay enough rambling from me um
10:27 - i did see some questions in the chat
10:29 - about uh
10:30 - people wanting to learn how to code and
10:32 - like set up a python project
10:34 - and i would really encourage you if
10:36 - you're one of those people to uh
10:39 - take a look at the first live stream
10:41 - series in this um
10:43 - in this see or the first live stream in
10:46 - this series
10:47 - because we kind of go through the full
10:48 - step all the steps of setting up
10:50 - your local environment and there's
10:52 - information on the blog on how to
10:53 - download anaconda to make things really
10:55 - easy
10:56 - and i think that will really help and
10:59 - now we'll get into the coding
11:00 - um the other thing is i put this kind of
11:04 - data cleaning step in from before
11:06 - there's this is not something that i
11:08 - would normally do
11:10 - to a data set jamie made a good point
11:12 - about this um
11:13 - i wouldn't normally just like change all
11:15 - ones and zeros to yeses and no's
11:17 - um but it it does make uh it a lot
11:20 - easier to make some of these
11:23 - visualizations and do some
11:24 - of the analyses that we'd like to do so
11:27 - with that said um okay so let's get
11:30 - started
11:31 - uh i think i like to break down
11:36 - thinking about associations between
11:38 - variables into
11:39 - the types of variable into sets based on
11:42 - the types of variables that you're
11:43 - trying to
11:44 - look at an association between so in
11:47 - this data set we have
11:49 - some quantitative variables um so the
11:52 - quantitative variables here are kind of
11:54 - the things that can be numerically
11:56 - represented like
11:57 - rent the number of bedrooms the number
11:59 - of bathrooms
12:01 - the square feet minutes to subway and
12:04 - floor
12:04 - i would also i would say that all of
12:06 - those are quantitative variables
12:07 - um oh and building asian years all of
12:10 - these
12:11 - uh the like all the ones that start with
12:13 - has
12:14 - and then the no fee column as well as
12:17 - as um neighborhood sub market and
12:19 - borough
12:20 - those ones are all categorical so
12:24 - you could represent them with numbers
12:26 - like these are ones and zeros but
12:28 - it's really about a category right like
12:31 - either there's a gym or there's no gym
12:34 - um and so
12:35 - we're going to break this down into the
12:36 - types of variables that you're looking
12:38 - at an association between so
12:40 - we'll start it doesn't matter which one
12:42 - we start with but we'll start with um
12:45 - one quantitative variable and one
12:47 - categorical variable
12:49 - just for fun so um
12:52 - we're gonna stick with rent i guess for
12:54 - the quantitative variable to start
12:56 - because i think that's
12:57 - an interesting one and then we can look
12:59 - at a couple of different
13:01 - categorical variables to that end
13:04 - um okay so last week we started talking
13:08 - about
13:09 - the uh central tendency
13:12 - of a quantitative variable and we talked
13:14 - about mean
13:15 - and median and mode um so i'm going to
13:18 - start with
13:19 - a summary statistic that's a lot like
13:23 - that
13:24 - but now we're going to kind of combine
13:25 - two variables at once
13:27 - so in our data set we've got
13:31 - i've named our data rentals
13:34 - and then the rent variable is run
13:37 - and one thing we can do
13:41 - is we can calculate
13:44 - let's say let's say we're interested in
13:46 - an association between
13:48 - rent and
13:52 - and burrow
13:55 - we then could calculate that at least
13:58 - some sort of central tendency statistic
14:01 - for
14:01 - the rent in each borough and that would
14:04 - give us a sense whether
14:05 - there are differences by borough so is
14:08 - the average rent for example higher in
14:10 - manhattan's
14:11 - manhattan than it is in brooklyn um
14:15 - so one thing i like to do is
14:18 - uh you can calculate this kind of
14:21 - separately you could pull out
14:23 - one column at a time filter and then
14:26 - calculate the mean um and that's how we
14:28 - teach it
14:29 - i think in the codecademy lessons just
14:32 - because it's a little bit
14:34 - simpler to see the full process but in
14:36 - this live stream we're going to go
14:39 - one step further and try something new
14:42 - because it's fun
14:43 - um and we're going to try a group by um
14:48 - basically all that does is it says i
14:50 - want to calculate
14:51 - some statistic or yeah some statistic
14:54 - for particular groups within my data
14:58 - and so i'm going to group by borrow here
15:02 - and actually um and then i'm going to
15:04 - calculate the mean
15:06 - of and eventually i want to calculate
15:08 - the mean of rent
15:09 - but i just want to show you what this
15:12 - does
15:12 - right off the bat so
15:16 - if i just say group by boro and
15:18 - calculate the mean
15:19 - it's going to pull out all the
15:21 - quantitative variables
15:23 - by separate them by burrow and it's
15:26 - going to calculate the mean for each one
15:28 - so this is kind of a nice way to quickly
15:30 - kind of pull out
15:33 - these summary statistics by burrow
15:36 - really really easily and then we can
15:40 - also specify so if we want to then pull
15:42 - out just the rent variable
15:44 - uh we can add that to the end here and
15:47 - then
15:48 - now we've just got mean rental prices
15:51 - for each of the boroughs
15:54 - um another thing we could do is
15:56 - calculate median
15:58 - rental prices for each of the boroughs
16:00 - so i'll do that as well and then we'll
16:01 - take a look at these
16:04 - so jamie what
16:07 - can we take away do you think from or
16:09 - what can we learn from these summaries
16:12 - or do you have any thoughts about them
16:15 - so
16:15 - one thing i'm noticing well first of all
16:17 - manhattan is expensive
16:20 - um another thing i'm noticing is that if
16:23 - we look at the mean
16:24 - rent prices versus the median rent
16:26 - prices there is
16:27 - something i know i'm noticing across
16:29 - each borough and that is that the mean
16:32 - i think in every bro yeah every row the
16:34 - mean in every borough is
16:35 - greater than the median um and i believe
16:39 - that would show us that the like
16:42 - the rent prices is skewed right yeah
16:46 - yeah exactly we actually looked i think
16:48 - last week at a histogram of the rental
16:50 - prices
16:51 - and we'll do that again in a minute but
16:53 - it that's exactly true so
16:55 - um i think there's a couple different
16:58 - visualizations we can use to take a look
17:00 - at this um in more context
17:04 - so jamie made a really good point that
17:07 - taking a look at these can give us some
17:09 - hints
17:09 - uh but sometimes it's really hard to
17:13 - look at numbers visually compare like i
17:15 - know as jamie was saying that that's
17:17 - true in all of them right he was kind of
17:18 - going through like checking them one by
17:20 - one
17:21 - um and that is a lot faster to do when
17:24 - you have a
17:25 - visualization so um let's make a
17:27 - visualization there's a couple that
17:30 - i think are good for this kind of an
17:31 - association
17:33 - um i'm going to start with a box plot
17:37 - because that's maybe the the simplest of
17:40 - all
17:41 - um and then i'm going to plot
17:44 - uh so i'm gonna plot rent by
17:47 - burrow um and let me just
17:51 - make sure okay so on my x-axis
17:55 - i want to have the burrow
17:59 - that an apartment is in on my y-axis
18:03 - i want to have the rent of that
18:06 - apartment
18:08 - and my data is called rentals
18:12 - i think that is all i need
18:16 - let's see there we go
18:19 - that looks interesting okay so this
18:21 - tells us a little bit
18:22 - um we see just like jamie said right
18:26 - that these are pretty skewed
18:28 - so these outliers i sent these so
18:31 - these diamond shapes are outliers um
18:35 - in the box plot and we can see that
18:39 - in manhattan and brooklyn especially
18:42 - we've got part apartments that are
18:44 - renting for up to
18:45 - 20 000 a month which is
18:49 - crazy um and so
18:52 - uh when we calculate the mean
18:56 - all of those really large numbers are
18:58 - getting added into the numerator that we
19:00 - use to calculate
19:01 - the mean when we calculate the median it
19:03 - doesn't matter whether this is 20 000
19:05 - or 10 000 or 7500
19:09 - it counts just as much because it's as
19:12 - long as it's on the high end
19:13 - um it's not gonna be the median
19:17 - um or it's gonna contribute to i like to
19:20 - think of it as like crossing off the
19:21 - large and small values it's going to get
19:23 - crossed off no matter what
19:25 - and so a lot of times you see exactly
19:27 - this that the median is smaller than the
19:29 - mean
19:30 - if there are a lot of large outliers um
19:33 - so we so we do get a sense of this this
19:35 - picture is basically telling me
19:37 - that the median and and the boxes again
19:41 - they ca
19:42 - they cover the middle 50 percent of the
19:44 - data so
19:46 - um the middle 50 of manhattan apartments
19:49 - seem to be
19:50 - roughly between like 3 000
19:54 - a month and 6
19:57 - 000 ish
20:00 - um and then we're looking at queens
20:03 - queens is
20:04 - much more squashed this middle 50 is
20:07 - kind of squished around 2500 it looks
20:10 - like
20:11 - and then brooklyn is also
20:14 - much more squished than manhattan it
20:16 - looks like and
20:17 - a little higher than queens but
20:21 - not considerably higher but with a long
20:24 - tale of
20:25 - um of outliers over here
20:29 - so we've learned some things from this i
20:32 - think that this
20:33 - personally this this graph is a little
20:36 - hard to look at for me because
20:38 - these outliers are kind of squishing the
20:40 - boxes where i can't really see the boxes
20:42 - themselves
20:44 - super well so this is not so much a
20:46 - focus of today but
20:48 - i think it's useful to see how like you
20:49 - might alter some of these
20:52 - the visualizations to get a better sense
20:54 - of things
20:55 - um and so what i'm gonna do right now is
20:57 - i'm actually gonna
20:58 - just filter my rentals data for um
21:03 - rentals that have a rent that's
21:06 - let's say less than
21:11 - what do you think jamie um i guess we
21:14 - can do like less than like
21:16 - 12 000 or 10 000 or so yeah i was
21:19 - thinking
21:20 - 12 yeah then it basically cuts off most
21:23 - of the outliers for uh
21:24 - manhattan let's try that i'm just
21:27 - curious
21:28 - whoop i think you did
21:31 - 1200 oh i did
21:35 - oh my god
21:39 - that's what i would like to pay um
21:43 - yes 12 000. that's a lot easier for me
21:46 - to see
21:46 - and generally when i'm looking at this
21:48 - i'm looking to see how much these boxes
21:50 - overlap um and the fact that these boxes
21:52 - don't overlap very much at all
21:54 - is kind of an indication to me that
21:56 - these are pretty highly
21:58 - associated variables there seems to be
22:01 - a clear indication that or it's clear to
22:04 - me that if i know
22:05 - what boro an apartment is in it gives me
22:09 - some information
22:10 - about what the rent is more or less
22:13 - likely to be
22:15 - so that's useful um i think maybe it's
22:18 - fun
22:19 - to try a couple more of these uh with
22:22 - different
22:24 - different categorical variables what do
22:28 - you think jamie is there any that you're
22:29 - interested in
22:30 - like what would you like in your
22:32 - apartment like in my apartment
22:35 - oh so many things all these things where
22:37 - it's like has i just like want them to
22:39 - have them but you know
22:40 - um i know i feel like for me the washer
22:44 - dryer
22:44 - is i mean it's hard to find in new york
22:47 - city but
22:48 - does that mean like it has like a washer
22:50 - dryer built in to
22:53 - like it's like in your apartment like
22:55 - like it's in the apartment building you
22:57 - know i mean like i don't know
22:58 - i don't know actually that's a good
23:00 - question
23:02 - at least one or the other is pretty
23:04 - important to me
23:05 - yeah as i don't like going to a
23:08 - laundromat
23:09 - but you know let's try it sometimes you
23:10 - have to okay
23:14 - let's see
23:18 - someone is asking us also uh so if
23:21 - someone asked me
23:21 - in the chat what's the thing you googled
23:23 - last time i don't know if it was from
23:25 - like a previous live stream
23:26 - i think uh we definitely did some
23:29 - googling of
23:31 - um of functions we looked at some
23:33 - function documentation
23:35 - i think we looked at the function
23:37 - documentation
23:38 - for um for a trimmed mean
23:42 - like the the trim mean function um
23:45 - yeah we can definitely demo some
23:47 - documentation like function
23:49 - documentation
23:50 - again so i think it's really useful to
23:52 - take a look at
23:53 - um as you're trying to navigate python
23:56 - um or any coding language for that
23:58 - matter but especially
24:00 - if you're interested in data analysis
24:01 - you're using python and
24:05 - you know that requires loading a lot of
24:07 - different libraries
24:09 - um then it can be really useful to know
24:11 - how to like look at the different
24:12 - libraries look up the functions that
24:13 - exist
24:14 - and um and read that documentation
24:18 - um interesting so these are closer than
24:22 - i would have guessed jamie but they
24:23 - are um it definitely seems like if it
24:26 - has a washer dryer
24:27 - the rent is gonna be higher
24:29 - unfortunately i'm sorry
24:31 - sad um but
24:34 - not by too much you can definitely
24:36 - there's some overlap here
24:38 - these are all expensive apartments but
24:40 - it doesn't look like the median is that
24:42 - different that's the thing that's
24:43 - surprising me like
24:44 - this the scale is so hard though yes
24:47 - like
24:48 - the scale goes all the way up to twenty
24:50 - thousand so like
24:52 - this much difference could be like five
24:54 - hundred
24:55 - thousand i don't know here we can do um
24:58 - we can trim it
25:00 - you can do like median and do
25:04 - with has washer dryer
25:08 - and see what it actually is okay it's
25:10 - makeup
25:11 - 600 yeah 600 difference
25:15 - um that's too bad we have another
25:17 - interesting question um
25:19 - is it possible to take a look at the
25:21 - rent for apartments with all those
25:22 - features
25:24 - washer dryer uh gym etc
25:27 - yeah so i think there's two there's
25:30 - actually like two good questions on that
25:32 - um one is so you could create like a new
25:37 - dummy variable um so you could say
25:41 - okay i want to create a new variable
25:44 - that is equal to one
25:45 - or yes if all of these things are equal
25:49 - to one
25:50 - or yes um and then
25:53 - zero otherwise um there's a
25:57 - a few different ways to do that maybe
25:59 - this is a good
26:00 - uh i'm trying to think of like this is a
26:03 - good use of our time to look up some
26:05 - function documentation um or if it's
26:08 - gonna take us a while but
26:10 - but essentially right like you could
26:12 - create a new variable
26:14 - based off of some combination of
26:16 - existing variables to say like if all of
26:18 - these things are ones
26:19 - this new variable is going to be a one
26:21 - if any of these variables are not a one
26:24 - then this is going to be a zero and then
26:27 - you could
26:28 - split based on something based on a new
26:31 - variable that says like whether
26:33 - all of those things are true or at least
26:36 - one of them is false
26:37 - you could certainly do that if you're
26:39 - interested in
26:41 - kind of the relationships between all of
26:43 - these different variables at once so
26:45 - like
26:46 - for example just among apartments that
26:49 - have
26:50 - a elevator is there a difference between
26:54 - apartments that do and don't have a
26:55 - washer dryer or just among
26:57 - apartments that have an elevator and a
26:59 - dishwasher
27:01 - and a doorman because those are like
27:04 - maybe those are
27:05 - non-negotiables for you if you want to
27:07 - like subset your
27:08 - your search even further um those would
27:11 - be hard
27:12 - a hard set of non-negotiables to have
27:14 - i'm just saying but
27:15 - if if they were then you could subset
27:18 - your
27:18 - data to just include um apartments that
27:22 - met that criteria and then you could
27:23 - look at this
27:24 - um at this breakdown again
27:27 - and kind of see uh whether the
27:29 - relationships
27:31 - still exist after you've kind of
27:33 - controlled for these other things
27:34 - and that's actually what um linear
27:37 - regression will do for you as well
27:40 - cool and then i don't know if it's
27:44 - impossible this data set but someone's
27:45 - asking is the price less
27:47 - for a high floor with no elevator
27:51 - sure let's see um what do we
27:56 - i mean we could definitely look at that
27:58 - so we could say
28:00 - like rentals high
28:03 - floor or actually
28:06 - we'll just
28:13 - do like this
28:18 - um i also see somebody asking about a
28:21 - case when situation or if then logic
28:24 - yeah that sounds that sounds right to me
28:28 - um i again like i come from an
28:32 - r world where i would do like i would do
28:34 - like a mutate
28:36 - function and d ply or if anyone's coming
28:38 - from r
28:39 - um where i would say like i want to
28:41 - create a new variable based on these
28:43 - other variables
28:44 - and then um and then do that but you
28:47 - could definitely use like
28:49 - a loop or i'm sure there's a pandas
28:52 - function
28:53 - you could yep you could technically use
28:55 - the all function with maybe some
28:56 - pre-processing yeah
28:58 - yep i would agree
29:02 - yeah i bet if we have some extra time at
29:04 - the end i think it would be a cool thing
29:06 - for us to like try to do that live
29:09 - but i want to make sure we get through
29:10 - some more stuff so i'm gonna leave that
29:11 - towards the end but i think like
29:14 - these are really great questions and i
29:16 - think that um
29:18 - i think that this is the kind of thing
29:20 - that like
29:21 - is great practice if you have some extra
29:23 - time on your own
29:25 - if you want to try to like figure them
29:27 - out yourself just takes a little bit of
29:29 - googling
29:29 - and and i feel like that's how i learn
29:32 - best is i just
29:34 - um try to answer questions for myself
29:36 - that i'm interested in and then as you
29:37 - google more you
29:39 - pick up more and more syntax um okay so
29:42 - we were going to do like
29:44 - rentals dot floor
29:47 - greater than it's a high floor
29:50 - like 30.
29:53 - yeah i don't know still seems to be
29:58 - a difference oh and actually they were
30:01 - asking about
30:02 - elevator i could try that too
30:06 - there's lots of lots of things that you
30:08 - could look at oh
30:10 - those look uh similar i guess um
30:14 - i guess if you're on a high floor then
30:17 - you probably live
30:18 - in an apartment that has an elevator
30:20 - like it surprises me that there's
30:23 - so much of a box here like how many
30:26 - apartments are there
30:27 - where the floor is greater than 30 and
30:30 - there's no elevator
30:32 - that seems uh well that seems like
30:35 - another
30:36 - potential data issue that
30:39 - i'm not quite sure how to
30:42 - oh hi alex this is exciting
30:46 - um okay so anyway
30:49 - i think this is a good place to stop
30:51 - with with all these visualizations but
30:53 - um i did want to show one more so we've
30:56 - been looking at side-by-side box plots
30:58 - another great visualization for a
31:01 - quantitative and a categorical variable
31:03 - is an overlaid histogram
31:06 - for the sake of time i'm going to just
31:08 - grab some code from
31:10 - my answer key
31:13 - but i do want to talk about one thing so
31:16 - um
31:17 - the p the histogram function from
31:20 - matplotlib
31:21 - um pi plot is just a function that
31:24 - creates a histogram
31:25 - and all i'm doing here is i'm splitting
31:28 - up
31:28 - uh by burrow so first i'm plotting a
31:31 - histogram of
31:32 - all the apartments in manhattan then in
31:34 - brooklyn then in queens and then i'm
31:36 - labeling them
31:38 - um giving them a number of bins and then
31:41 - the alpha
31:42 - thing is just making them see through so
31:44 - we can see all of them together
31:46 - um one thing i want to demo though
31:48 - before we
31:50 - do this is this density equals true
31:54 - piece here the other thing i'll say is
31:56 - this looks really
31:58 - ugly um there's a new
32:01 - in the newest version of seaborne
32:03 - there's a
32:04 - like um seaborne.histplot function
32:08 - that's gonna or that exists in the
32:10 - newest version
32:11 - um for some reason my computer like
32:13 - freaked out when i tried to update it
32:15 - this morning
32:16 - so um i did not get it updated in time
32:19 - but uh that will make this much easier
32:22 - it'll make it as simple as this where
32:24 - you say like what you want to divide by
32:27 - um but you'll see that if i print this
32:29 - without
32:30 - the density equals true um
32:34 - this like queen's histogram is super
32:36 - super tiny
32:38 - and this manhattan histogram is super
32:41 - super
32:41 - large um jamie do you have any
32:44 - like thoughts i'm putting you on the
32:46 - spot here would you have any thoughts
32:47 - about
32:48 - why that's happening um
32:52 - okay so let's see we're showing rental
32:54 - prices and then it's number
32:56 - oh is it just because there's many more
32:58 - apartments
32:59 - in manhattan than there are in queens
33:01 - and brooklyn
33:03 - yeah that's exactly right so by default
33:06 - the histogram
33:07 - is plotting um like a frequency so we
33:09 - talked a little bit about this last time
33:11 - where like
33:11 - each of these bars represents the number
33:14 - of apartments
33:15 - that have a rent in that range so like
33:18 - this first bar
33:19 - or i don't know it's hard to read this
33:21 - uh scale but like this first bar
33:24 - let's say it's between um 2000
33:27 - and 250 and there's
33:31 - like just under 100 apartments that are
33:33 - in that range according to this
33:35 - um because in our data set there's just
33:38 - so many more apartments in manhattan
33:41 - um this histogram is just going to be
33:44 - bigger no matter what
33:46 - and there's so many fewer apartments in
33:48 - queens this
33:49 - histogram is going to be smaller no
33:51 - matter what so a way to fix that
33:53 - is to say i want the density um
33:57 - or if you've seen like a kde
34:00 - plot basically this what this does
34:04 - is it normalizes this so that the area
34:07 - of each of these things has to be the
34:09 - same um
34:11 - so that technically the area of all of
34:13 - these histograms the green one the
34:15 - orange one and the blue one
34:16 - now has to be equal to one um
34:19 - and that just means that now all of
34:21 - these histograms are on the same scale
34:23 - now we can kind of look at them and we
34:25 - see um this distribution
34:27 - of histogram or of apartments and queens
34:31 - the apartment prices are like squished
34:33 - down at the lower end
34:35 - and then you see in brooklyn it's like a
34:38 - little more
34:39 - elongated with a longer tail kind of
34:42 - there's more
34:43 - of these mid-range apartments and then
34:45 - the manhattan ones
34:46 - um like this peak of the blue is
34:49 - happening
34:50 - the furthest to the right with the
34:52 - longest kind of
34:53 - tail out to the right as well
34:57 - cool all right so we finished one
35:00 - set of variables great
35:04 - um okay i think now is a good time to
35:07 - move on to
35:08 - a different set so what do you want to
35:10 - do next jamie do you want to do
35:12 - two quantitative variables or do you
35:14 - think we should do
35:15 - two categorical variables so we've been
35:18 - doing
35:19 - categorical variables with quantitative
35:22 - variables
35:24 - so well with the quantitative variable
35:25 - hmm
35:27 - i think i don't know maybe we could do
35:31 - two uh quantity variables this time okay
35:34 - that i'm on board i feel like this is
35:37 - maybe
35:38 - the other one that's the most intuitive
35:41 - at least
35:42 - so like square footage with um
35:46 - rental price yeah or something totally
35:49 - yeah so let's figure out like what yeah
35:52 - let's figure out
35:52 - what um what square footage you can
35:56 - afford jamie
36:01 - that the tail on manhattan is
36:03 - interesting lots of super expensive
36:04 - apartments in manhattan
36:06 - uh yes i noticed that too alex yeah
36:10 - lots of expensive ones so many
36:13 - uh let's see what do we want on the
36:14 - x-axis i think
36:16 - it's the highest square feet and then
36:20 - rentals wrench and
36:29 - there we go okay so um
36:34 - i guess last time we started with a
36:35 - summary statistic this time i'm starting
36:37 - with the visualization
36:38 - in real life i will say i almost always
36:41 - start with visualizations
36:42 - before ever calculating summary
36:44 - statistics because
36:45 - it's just so much easier to tell to just
36:47 - like feel like you understand what's
36:48 - going on if you can just look at a
36:50 - picture
36:51 - um and so this looks you know pretty
36:53 - much like i would expect
36:56 - so we see i don't know you could kind of
36:58 - draw a line through this
37:00 - where the apartments that are
37:03 - and i guess we should add some labels i
37:05 - forget that i think it's like plt dot
37:09 - x label x
37:13 - i remember if it's underscore or not
37:16 - let's just try it
37:20 - x label x oh maybe it's without the
37:23 - underscore
37:24 - we're gonna try oh yeah
37:28 - and then we'll try
37:31 - my label so we can see what's going on
37:36 - and yeah so we see like the the super
37:39 - small apartments
37:40 - um are the least expensive ones
37:44 - and in general apartments that tend to
37:46 - be bigger
37:48 - tend to cost more although there are
37:50 - some kind of outliers here like
37:52 - there's this one where this looks like
37:54 - it's a pretty big apartment but it's
37:56 - um a little less expensive this one
37:59 - looks like it's a more is that the
38:03 - apartment you'd like to rent jamie
38:05 - that's the apartment i have lots of
38:06 - questions about that it's
38:09 - oh yeah i guess so expensive
38:13 - yeah it's very very expensive but pretty
38:16 - small
38:17 - um must be a very nice small apartment i
38:19 - don't know probably has a gym
38:21 - and a doorman and an elevator and a
38:24 - patio
38:25 - and whatever other kind of everything
38:27 - yeah washer dryer
38:29 - yeah exactly um so
38:32 - so this is a really helpful picture i
38:34 - think in terms of summary statistics
38:36 - that can be used to kind of describe
38:38 - this all at once
38:40 - the most common one is the pearson
38:43 - correlation or the correlation
38:45 - there are different kinds of
38:46 - correlations that you can calculate
38:48 - um but i think
38:51 - so depending on what your data looks
38:53 - like you might choose different ones
38:55 - but i think the most common that i've
38:57 - seen is the pearson correlation which
39:00 - essentially
39:01 - it's it gives you a number between
39:03 - negative one and one
39:05 - that tells you how strong of a linear
39:07 - relationship there is between two
39:09 - variables
39:10 - and by linear i mean whether you could
39:13 - draw a line through those two variables
39:15 - or not
39:16 - so um so two variables could be related
39:20 - in some other way like they could
39:22 - you could imagine a plot where maybe
39:23 - like as the square feet increases the
39:25 - rent goes up
39:26 - and then as it increases even more it
39:28 - goes down that
39:30 - obviously isn't the case here but like
39:32 - if you saw
39:33 - the dots doing some sort of u-shape that
39:35 - would be a non-linear relationship
39:37 - i would still say that there's a clear
39:39 - association between those two variables
39:41 - there's a clear pattern there
39:43 - but something like a correlation
39:45 - wouldn't pick up that pattern
39:47 - or as a statistic the correlation
39:50 - wouldn't pick up that pattern
39:52 - but it's still a really useful statistic
39:55 - for understanding
39:57 - at least the linear relationships
39:58 - between two variables so anyone
40:00 - any set of variables where as one
40:02 - increases
40:03 - or i don't like to use that word i
40:05 - should stop
40:07 - the where larger values of one variable
40:10 - are associated with larger variables or
40:13 - smaller variables of the other
40:15 - in kind of this like where you could
40:17 - imagine drawing a line through it
40:20 - so i think it's useful to calculate the
40:22 - correlation
40:23 - there's a few different ways you can do
40:25 - it um there's a there's a function from
40:27 - scipy
40:28 - stats um
40:34 - import pearson r
40:37 - and you can calculate um
40:40 - like the the pearson correlation of
40:43 - these two
40:48 - and it should be yeah it's pretty high
40:50 - so
40:51 - one would be a perfect correlation
40:54 - negative
40:54 - or a perfect positive correlation
40:56 - negative one
40:57 - would be a perfect negative correlation
41:00 - so
41:01 - you could draw a line with like a a
41:03 - negative slope going down instead of
41:05 - this which is going up
41:07 - um and uh 0.8
41:10 - would be considered like a very strong
41:13 - positive correlation
41:14 - this number is a p-value and we're going
41:16 - to get to that later
41:18 - so you don't have to worry about it the
41:20 - other way to calculate a correlation
41:23 - and i think this is kind of fun to
41:25 - explore for a minute
41:26 - is that you can do the
41:30 - dot core function on the entire
41:33 - or method on the entire data frame
41:37 - and what that will do is it'll calculate
41:39 - what's called a correlation matrix
41:42 - between in this case it knows um
41:45 - that this is kind of part of the reason
41:47 - why i made all of the categorical
41:49 - variables yes
41:50 - or no because um now it knows that those
41:53 - are categorical variables not numerical
41:55 - variables
41:56 - and so it's got all of the all of my
41:57 - numerical variables
41:59 - in this kind of matrix where it says
42:02 - okay
42:02 - the correlation between rent and
42:05 - bedrooms is 0.53
42:07 - the correlation between rent and
42:09 - bathrooms is 0.73
42:12 - and so i can see all of my different
42:14 - pairs of variables
42:16 - um and another like useful thing to do
42:21 - because again i think numbers are really
42:23 - hard to see
42:25 - and spot like relationships really fast
42:28 - so i'm gonna pull this over and i'll
42:30 - just
42:31 - describe what this code does um
42:36 - so this is a way that we can kind of
42:38 - visualize
42:39 - this matrix of values um this
42:43 - diverging palette thing basically each
42:46 - of these
42:46 - numbers corresponds to a color and all
42:49 - i'm
42:49 - doing is i'm creating like a color
42:51 - palette that starts at one color
42:54 - and gradually turns into another color
42:58 - and then what this is gonna do is it's
43:01 - gonna create
43:02 - a heat map um with those colors
43:05 - it's gonna center it at zero so exactly
43:08 - in between
43:09 - in the two colors is gonna be a
43:10 - correlation of 0
43:12 - which means there's no relationship or
43:14 - no linear relationship at least between
43:16 - those two variables
43:17 - um and i'm just making the this is just
43:20 - making the font size a little bit bigger
43:22 - and what this is going to do is
43:25 - translate these
43:26 - numbers into colored squares that
43:29 - match the correlations so now we've got
43:32 - like dark purple is a correlation of one
43:36 - obviously each uh each variable these
43:39 - super dark purple squares
43:40 - down the diagonal jamie do you want to
43:42 - explain why
43:44 - like the correlations are one all along
43:46 - this diagonal
43:47 - oh yeah so if you like look along the
43:48 - diagonal it's basically saying
43:50 - like the top left one is basically
43:52 - saying rent
43:53 - correlates perfectly with rent which
43:56 - makes sense because
43:58 - they're like the same like variable um
44:00 - so like
44:01 - whenever you make one of these like heat
44:03 - matrix matrices
44:05 - like you'll just see the diagonal is
44:06 - just like all perfectly correlated
44:09 - variables because it's just showing the
44:10 - correlation
44:11 - of one variable with itself exactly
44:14 - yeah if we i think it's like it's
44:16 - helpful sometimes to look at the picture
44:18 - like if we were to um
44:21 - just like plot rent against itself
44:24 - yeah rent first rent which is obviously
44:26 - not something we would
44:27 - want to do in real life but why not we
44:30 - have this perfect line
44:32 - and that's what a correlation of one
44:33 - means like a perfect line
44:36 - um is a correlation of one and a
44:39 - correlation of negative one
44:40 - would look like this
44:46 - um yeah okay
44:49 - uh that's on the side so now looking at
44:51 - this i don't know what are
44:53 - it doesn't look like we have very many
44:55 - things that are highly negatively
44:57 - correlated because we've got like
44:58 - the largest negative correlation that
45:01 - seems to be on here is like
45:02 - negative point three maybe
45:05 - um but we could take a look yeah
45:09 - we'll take a look yeah it looks like
45:13 - [Music]
45:17 - so let's take a look at that one um
45:20 - floor
45:20 - and building age years
45:27 - and floor
45:38 - what did i do
45:45 - today oh building age
45:50 - years okay
45:53 - okay so i guess we kind of see what this
45:56 - looks like like
45:57 - it's kind of a mess of points and you'd
45:59 - almost draw like a straight line through
46:01 - it
46:02 - but it does seem like on the lower
46:05 - floors
46:06 - there's a bigger range um
46:10 - i'm sorry are these floors no i'm uh
46:13 - y-axis is floors x label
46:17 - yeah age
46:24 - yeah i feel like this makes sense
46:25 - because it's basically saying the older
46:26 - buildings
46:28 - are less likely to have more floors
46:33 - right oops i meant to say water label
46:35 - there
46:37 - so yeah seeing the older the building
46:40 - like the older buildings have on in
46:42 - general
46:43 - like less than 20 floors except for this
46:46 - one building over here
46:48 - if it's if the building is 175 years old
46:51 - there's no way that it has
46:53 - more than a few floors but if the
46:55 - building is
46:56 - brand new it seems like there's a much
46:59 - bigger range there's up to like 80
47:01 - something floors
47:02 - um so that makes sense
47:05 - yeah so you would you could imagine that
47:08 - if you're going to draw a line through
47:09 - these points you probably wouldn't but
47:11 - if you were going to
47:12 - it would probably be like a slightly
47:14 - negatively sloped line like you cut
47:16 - kind of go like this um so that gives
47:19 - you a sense of what these
47:20 - what these colors kind of represent
47:24 - cool um are there any other ones
47:27 - you want to take a look at should we
47:28 - take a look at one that has like a
47:29 - correlation of zero maybe
47:31 - yeah so that would be like minutes to
47:33 - subway and
47:34 - square feet or like floor and minutes to
47:38 - subway
47:39 - yeah let's try square feet and minutes
47:41 - to subway maybe
47:45 - and then we'll move on
47:48 - size feet and what was it
47:53 - min 2 subway
47:58 - i don't know you could do this forever
48:00 - there's also um
48:02 - something called like pear plot i think
48:04 - in the uh
48:07 - seabourn library
48:11 - that's right oh yeah so now we see
48:15 - almost it looks like maybe there's a
48:17 - slight negative correlation but
48:19 - not really um so yeah the less of a
48:22 - pattern you can discern in this
48:24 - graph the less i would say that there's
48:26 - an association between those variables
48:30 - yeah i think we can just try this i
48:32 - don't think it's going to work but
48:34 - there's something called pear plot in
48:36 - the seabourn library
48:39 - that just like
48:45 - oh is it gonna do it it might just be
48:48 - going slow
48:51 - oh yeah here it is wow so this like
48:54 - simultaneously did all of them uh so you
48:57 - can kind of see
48:58 - like quickly visualize all of these this
49:00 - one seems to be the clearest
49:03 - and then something like floor and rent
49:08 - maybe a slight negative correlation
49:10 - [Music]
49:11 - yeah some of these it looks like there's
49:13 - really nothing going on here
49:15 - so yeah super interesting
49:19 - um okay i guess we've got
49:22 - 10 minutes to do the last uh the last
49:26 - one which is talking about
49:27 - um two categorical variables at once i
49:30 - think we actually can get through this
49:32 - this is very exciting might be the first
49:34 - time ever
49:36 - um okay so let's
49:39 - pick uh now that we can't really think
49:42 - about
49:43 - rent anymore and we want to pick two
49:46 - categorical variables look at the same
49:47 - time
49:48 - um i think in the final let's see in the
49:51 - final code
49:52 - i did has elevator and has gym to start
49:55 - so maybe we'll start there but we can
49:58 - um do any other ones that other people
50:02 - are interested in
50:03 - um so the first thing that i like to do
50:06 - in order to look at an association
50:08 - between two categorical variables
50:10 - is i like to look at a um
50:14 - either like it's called either a two-way
50:16 - table or a cross-tabulation or a
50:18 - contingency table
50:19 - all words for the exact same thing all
50:22 - that basically means is
50:25 - basically a grid showing the all
50:28 - possible
50:29 - combinations of categories for a
50:31 - categorical variable
50:33 - and in that grid you can either have
50:34 - frequencies or proportions so
50:37 - i'm going to pull the crosstab function
50:39 - from pandas
50:41 - and i'm going to look at uh
50:44 - rentals has elevator
50:49 - and rentals.hats gym
50:53 - um and print that out and we can take a
50:55 - look at it
50:56 - so all this did was on this column i
51:00 - have
51:01 - yes and no to has an elevator and then
51:05 - um and then sorry
51:08 - the rows are no elevator
51:11 - yes elevator the columns are no gem
51:15 - yes jim and we can kind of look at this
51:18 - and think about what we would expect
51:20 - if there was no association between
51:22 - these variables
51:23 - what i'm noticing right off the bat is
51:26 - that
51:27 - if we look among let's say the
51:29 - apartments that
51:30 - haven't uh have no elevator
51:33 - so just in this top row um we'll notice
51:37 - that
51:37 - if the elevator or if the apartment does
51:40 - not have an
51:41 - elevator it's like pretty likely to not
51:45 - have a gym as well like if you look at
51:46 - this out of the
51:49 - you know close to 4 000 apartments or
51:52 - 3 800 apartments exactly in this row
51:57 - 3748 of them like a huge proportion of
52:00 - them
52:01 - don't have a gym um whereas here if you
52:04 - look at apartments that do have an
52:06 - elevator
52:06 - it's a lot more evenly split like half
52:09 - just
52:10 - under half don't have a gym just under
52:12 - half
52:13 - do have a gym and so then that would
52:15 - suggest that there is some relationship
52:17 - here
52:18 - um again this is all well and good we
52:22 - can look at this picture
52:24 - but maybe we want either a visualization
52:27 - or
52:28 - a summary statistic to help us
52:29 - understand this a little bit better um
52:32 - let's do let's do a visualization first
52:35 - so
52:36 - um i think the easiest visualization for
52:38 - this
52:39 - is kind of a um
52:42 - a slightly altered version of a a bar
52:45 - plot
52:47 - so i'm going to i'll pull over
52:51 - or we'll use seaborne count block
52:54 - amy has some thoughts about all the
52:57 - different bar plot functions
53:00 - uh jamie just wrote if you're interested
53:04 - jamie just wrote a new lesson on using
53:07 - bar plots and pie charts
53:08 - and we spent some time thinking about
53:11 - which uh
53:12 - which functions to use here or on
53:14 - codecademy and
53:16 - uh we both just decided that
53:19 - seabourn is just so much nicer uh
53:23 - or just makes things so much easier so
53:24 - i'm gonna make a a bar plot with has
53:27 - elevator as the x
53:30 - um so i want i want to split based on
53:34 - whether or not an apartment has that
53:36 - has an elevator on the x-axis which is
53:38 - that horizontal axis
53:40 - and then on the y-axis i want to know um
53:44 - the actually
53:47 - it's automatically going to do count on
53:49 - the y-axis so i don't actually have to
53:50 - say anything
53:52 - because it's count plot but it's really
53:54 - a bar plot and then
53:56 - i'm going to say hue equals
53:59 - has jim so what that's going to do
54:02 - is it's going to divide each bar into
54:06 - a different a separate bar depending on
54:08 - whether or not the apartment has a gym
54:10 - and it's gonna hue is just another word
54:12 - for color right so it's gonna like
54:13 - color it color the bar based on whether
54:16 - or not it has a gym
54:18 - and then my data is rentals and then plt
54:25 - and i think this this kind of
54:27 - illuminates what we saw
54:29 - in here a little bit more clearly where
54:31 - we now see
54:33 - among the apartments that do have an
54:35 - elevator these bars are
54:36 - pretty close to equal right but over
54:40 - here if the apartment doesn't have an
54:41 - elevator we see this like
54:43 - huge discrepancy like if it doesn't have
54:45 - an elevator
54:46 - it almost certainly uh
54:50 - oh this is interesting so it only almost
54:52 - certainly does have a gym
54:54 - if it doesn't have an elevator so if it
54:57 - that surprises me so if it
55:01 - has an oh if it doesn't have an elevator
55:04 - no i think it's still saying that it's
55:06 - oh it almost certainly does not have a
55:08 - gym
55:09 - sorry oh my god my brain on a tuesday
55:11 - afternoon you guys
55:13 - it has been a long day yes if it doesn't
55:16 - have an elevator then it almost
55:18 - certainly does not have a gym
55:20 - so you can kind of visualize these
55:21 - numbers a little bit more clearly
55:23 - um in the next module
55:26 - or the next couple of live streams i
55:29 - think it's a few live streams away
55:31 - we're going to talk about hypothesis
55:32 - testing um
55:34 - and we'll talk about some ways of like
55:36 - testing a theory
55:37 - about whether or not two variables are
55:39 - related um
55:40 - at a population level but there's a
55:43 - function from there that i think is also
55:44 - useful in this context so
55:46 - i'm gonna pull that out as well um
55:50 - so it's from scipy stats again
55:54 - um this kai to contingency function
55:58 - and if we create
56:02 - so here we have this cross tab
56:05 - i'm gonna say i'm gonna save it as
56:07 - something
56:09 - and then i'm gonna run chi to
56:12 - contingency on the cross tabulation
56:19 - one of the things that does so you'll
56:20 - see there's a bunch of
56:22 - outputs and you can kind of ignore the
56:24 - first three outputs
56:25 - for right now but i think the
56:28 - last output is interesting and this is
56:31 - the last thing i'll go over today
56:33 - um but this
56:36 - matrix is kind of of it's basically like
56:39 - a version
56:40 - of this matrix except that in this one
56:44 - it's the expected values
56:47 - that would exist here if there was no
56:49 - relationship between these two variables
56:52 - so it seems a little confusing like you
56:56 - might think
56:57 - um you might think that like if there's
56:59 - no relationship between whether or not
57:01 - an apartment has a gym and whether or
57:03 - not an apartment has an elevator
57:05 - that there would be like a quarter of
57:09 - the observations in each of these
57:13 - boxes like at least that was my first
57:15 - intuition whenever when
57:16 - i first learned about contingency tables
57:19 - and
57:19 - that actually is not true because
57:23 - you can see if you just ignore the that
57:25 - i'm putting my hand over it but
57:26 - i'm not realizing no one can see that um
57:29 - if you just ignore
57:30 - the whole has elevator thing you just
57:32 - look at whether or not an apartment has
57:34 - a gym
57:35 - you'll see right that like there are a
57:37 - lot more apartments that don't have a
57:39 - gym
57:40 - than that do have a gym and that's
57:42 - perfectly reasonable so like
57:44 - by random chance we would expect more
57:47 - like more
57:48 - observations in this first column than
57:50 - we would expect in that second column
57:52 - and we could give that like the
57:54 - probability i guess
57:55 - of a of whether or not an apartment has
57:57 - a gym
57:59 - as as a value right and we could also
58:01 - say we could also give it a pro
58:03 - give a probability for whether or not an
58:06 - apartment has an elevator
58:08 - and then we could use those two
58:10 - probabilities to
58:11 - get values of these numbers if there was
58:14 - no association
58:15 - and it's not going to be just like 25 25
58:18 - 25
58:18 - 25 this function
58:22 - does it for you in um our content we
58:25 - actually go through the process of
58:27 - calculating it for yourself so you can
58:28 - think about it
58:29 - um a little bit more deeply but i think
58:32 - it's useful to take a look at this
58:34 - and be able to compare it to the
58:36 - observation
58:37 - and of course like the further away
58:39 - these numbers are from the observed
58:41 - numbers
58:42 - the stronger the association there and
58:44 - here we see like
58:45 - in this top right corner if there was no
58:48 - association we'd
58:50 - expect 546 apartments in the
58:53 - has no elevator and has gym
58:56 - combination but instead we see only 52
58:59 - that's pretty far
59:00 - off so it's suggesting a pretty strong
59:02 - association
59:04 - awesome okay we are like right at five
59:07 - i feel super good about that that is
59:10 - very exciting
59:11 - um i'm really glad that all of you
59:13 - joined us today and i hope that more of
59:15 - you will watch this
59:16 - later on um we'll be back next week
59:19 - starting our discussion of the central
59:21 - limit theorem and i am like
59:23 - beyond excited for it this is this is
59:26 - gonna be my favorite live stream maybe
59:28 - of the whole series
59:30 - after well maybe my favorite will be
59:32 - going over the simulation of the
59:33 - binomial test but like this is my second
59:35 - favorite
59:36 - um and i feel like this is where we
59:38 - we're going to get
59:39 - more into programming and more into like
59:42 - conceptual ideas
59:43 - um and it's going gonna be really really
59:45 - fun so it's one of those things can be
59:47 - tricky and it's gonna be like thought
59:49 - provoking
59:50 - but i really would love to have lots of
59:53 - people there to like ask questions and
59:55 - slow me down
59:56 - and um and and
59:59 - also get excited about it like we are uh
60:03 - that is it for today um definitely
60:07 - join us next week post comments uh
60:10 - feedback
60:11 - anything you want to ask as well in the
60:13 - youtube video
60:14 - content comments or even on the
60:16 - codecademy forums
60:18 - we'd love to hear from you see you guys
60:21 - next time

Cleaned transcript:

hello everyone if you can see us say hello in the chat on youtube um we are gonna get started in just a minute but uh we we like to wait a little bit because we don't know how quickly we actually go live so say hello let us know that you can see us is that oops oh people are saying hi in the chat hey jamie do you have the youtube video open on your computer uh i don't but i can check i can hear myself which is um i don't have it open on my computer sorry guys technical difficulties where am i hearing this from can you hear it jamie um i cannot i like sort of hear it in the background of your um in the chat can anybody let me know if you can like hear me in double basically oh i think i got it now it stopped whoo all right sorry for the technical difficulties everyone um i i hope everyone is having a nice tuesday it just started snowing here i was telling jamie uh so hopefully we stay online the whole time and no more technical difficulties um this is the third week of the stats live stream series oh everyone is saying everything was fine um i think it was something wrong with my audio my audio and these things are i've had a few issues so i'm glad that everything is fine for everyone else um so this is our third our third week of the stats livestream series um i'm sophie if you haven't attended yet and i'm here this week with my colleague jamie um so jamie do you want to say hello to everyone and introduce yourself quickly hi everyone i'm jamie um i'm also a curriculum developer at code county with sophie um this is the first live stream i'm doing for the stats live streams that sophie set up i'm really excited to be here uh you may have seen me on a couple past live streams with some uh things we did before um yeah and i'll be answering some questions in the chat um and monitoring it as sophie leads us through associations with variables awesome um so yeah with that in mind i think we're streaming on a few different platforms but we are keeping an eye primarily on the youtube chat um so if you're on facebook or twitch or any of the other platforms we're on um come on over to youtube if you'd like to chat along with us and just as a reminder these are always posted after the fact so you can always um watch them afterwards and you can post questions in the comments on the youtube video we're happy to answer more questions uh if you're not able to come to the live sessions so with that said i am going to get us started um if you've been following along um we have been working off of some code that is available on github for download um i know jamie if you uh if you're able could you maybe post the link to that github um in the chat and i think uh it it should be in the youtube link as well um and in the meantime i am going to share my screen share hopefully you guys can all see that um jamie can you see my screen okay see uh yes i see it awesome okay so uh if you downloaded the code from github we are currently in the week three folder so that that will be codecademy live stats number three um and i'm going to start with this starting code file uh but you can also take a look at the ending the final code it might not be exactly identical to what we get to in this live stream but it should give you an idea of the kinds of things that are covered here so with that said i'm just going to get started because we always uh we always run out of time in these live streams somehow we uh we have lots to say so uh with that said um today's focus like jamie said is really about looking at associations between variables and really what that means is we're looking at in a data set again um this is the same data set that we used last week but i'll just show everyone this data set again um so this is a data set from street easy that has some information about apartments in new york city and if we're asking about associations between variables we're asking about the relationships between these different columns so things like rent the number of bedrooms the number of bathrooms the size and square feet and a whole bunch of other um things that we know about each of the apartments in this data so jamie can you like think of a question that might focus on an association between two variables like what question might might be asked that has something to do with whether or not two variables are associated well i actually feel like this is very relevant to me because i will soon hopefully be looking for apartments in new york um and i will care about more most is price of those apartments um so i might think about you know how does the amount of bedrooms or how does the square footage or the minutes of subway associate with the price of said apartment in new york so that might be something i personally might look at but there are a lot of different associations you can look at between these variables yeah i think that's a perfect point so um i think probably what many of us are drawn to about this data set i know it was the thing that drew me to this data set is trying to figure out based off of this information that we have about apartments in new york city can we kind of predict or guess what a fair rent would be for a particular apartment that has certain qualities so that's a particular size that has a particular number of bedrooms and bathrooms that has certain amenities or does not have those amenities and all of the questions that we might ask about how rent is related to other things that could be true about an apartment um those are all questions about associations between variables um one thing that i would like to kind of point out is that um an association is different from a causal relationship and i think uh a lot of us have kind of heard this before like a lot of people have heard the saying correlation is not causation um and i think i have also seen i i don't know if you've seen this jamie like the spurious correlations blog or we can if you're interested you should definitely take a look at spurious correlations um of things that are clear that seem to be clearly related to each other but there's no way that one thing could cause the other um and so like for example um if we find that there's a relationship between the square footage of an apartment and the rent so like you might guess right bigger apartments can go for more money that doesn't necessarily mean that if we added more square footage to an existing apartment that then people would pay more we might think that that's true but this data is not going to tell us anything about that because in this data we only have each row is an apartment and we don't have any data about what happens to apartments if we change them so we don't have a bunch of data for the same apartment at different time points when it was made bigger like it had an addition another wall was put up to add another bedroom nothing like that so we can't really say anything about what happens with changes but oh thank you for sending this furious correlations length that's great um but with that said it's still really important for example um for janie if he wants to go out and find an apartment in new york city and he's looking at different apartments and he's you know i want two bedrooms but i really want to have a roof deck or some outdoor space and so like maybe i'm willing to go down to one bedroom and so one of my roommates will sleep on the sofa just to have that outdoor space especially in the time of coven so um so if jamie wants to answer kind of the question what is a fair rental price or what departments like this go for um or what can i afford given these things that i want to definitely have then he's really gonna be interested in trying to understand some of these relationships okay enough rambling from me um i did see some questions in the chat about uh people wanting to learn how to code and like set up a python project and i would really encourage you if you're one of those people to uh take a look at the first live stream series in this um in this see or the first live stream in this series because we kind of go through the full step all the steps of setting up your local environment and there's information on the blog on how to download anaconda to make things really easy and i think that will really help and now we'll get into the coding um the other thing is i put this kind of data cleaning step in from before there's this is not something that i would normally do to a data set jamie made a good point about this um i wouldn't normally just like change all ones and zeros to yeses and no's um but it it does make uh it a lot easier to make some of these visualizations and do some of the analyses that we'd like to do so with that said um okay so let's get started uh i think i like to break down thinking about associations between variables into the types of variable into sets based on the types of variables that you're trying to look at an association between so in this data set we have some quantitative variables um so the quantitative variables here are kind of the things that can be numerically represented like rent the number of bedrooms the number of bathrooms the square feet minutes to subway and floor i would also i would say that all of those are quantitative variables um oh and building asian years all of these uh the like all the ones that start with has and then the no fee column as well as as um neighborhood sub market and borough those ones are all categorical so you could represent them with numbers like these are ones and zeros but it's really about a category right like either there's a gym or there's no gym um and so we're going to break this down into the types of variables that you're looking at an association between so we'll start it doesn't matter which one we start with but we'll start with um one quantitative variable and one categorical variable just for fun so um we're gonna stick with rent i guess for the quantitative variable to start because i think that's an interesting one and then we can look at a couple of different categorical variables to that end um okay so last week we started talking about the uh central tendency of a quantitative variable and we talked about mean and median and mode um so i'm going to start with a summary statistic that's a lot like that but now we're going to kind of combine two variables at once so in our data set we've got i've named our data rentals and then the rent variable is run and one thing we can do is we can calculate let's say let's say we're interested in an association between rent and and burrow we then could calculate that at least some sort of central tendency statistic for the rent in each borough and that would give us a sense whether there are differences by borough so is the average rent for example higher in manhattan's manhattan than it is in brooklyn um so one thing i like to do is uh you can calculate this kind of separately you could pull out one column at a time filter and then calculate the mean um and that's how we teach it i think in the codecademy lessons just because it's a little bit simpler to see the full process but in this live stream we're going to go one step further and try something new because it's fun um and we're going to try a group by um basically all that does is it says i want to calculate some statistic or yeah some statistic for particular groups within my data and so i'm going to group by borrow here and actually um and then i'm going to calculate the mean of and eventually i want to calculate the mean of rent but i just want to show you what this does right off the bat so if i just say group by boro and calculate the mean it's going to pull out all the quantitative variables by separate them by burrow and it's going to calculate the mean for each one so this is kind of a nice way to quickly kind of pull out these summary statistics by burrow really really easily and then we can also specify so if we want to then pull out just the rent variable uh we can add that to the end here and then now we've just got mean rental prices for each of the boroughs um another thing we could do is calculate median rental prices for each of the boroughs so i'll do that as well and then we'll take a look at these so jamie what can we take away do you think from or what can we learn from these summaries or do you have any thoughts about them so one thing i'm noticing well first of all manhattan is expensive um another thing i'm noticing is that if we look at the mean rent prices versus the median rent prices there is something i know i'm noticing across each borough and that is that the mean i think in every bro yeah every row the mean in every borough is greater than the median um and i believe that would show us that the like the rent prices is skewed right yeah yeah exactly we actually looked i think last week at a histogram of the rental prices and we'll do that again in a minute but it that's exactly true so um i think there's a couple different visualizations we can use to take a look at this um in more context so jamie made a really good point that taking a look at these can give us some hints uh but sometimes it's really hard to look at numbers visually compare like i know as jamie was saying that that's true in all of them right he was kind of going through like checking them one by one um and that is a lot faster to do when you have a visualization so um let's make a visualization there's a couple that i think are good for this kind of an association um i'm going to start with a box plot because that's maybe the the simplest of all um and then i'm going to plot uh so i'm gonna plot rent by burrow um and let me just make sure okay so on my xaxis i want to have the burrow that an apartment is in on my yaxis i want to have the rent of that apartment and my data is called rentals i think that is all i need let's see there we go that looks interesting okay so this tells us a little bit um we see just like jamie said right that these are pretty skewed so these outliers i sent these so these diamond shapes are outliers um in the box plot and we can see that in manhattan and brooklyn especially we've got part apartments that are renting for up to 20 000 a month which is crazy um and so uh when we calculate the mean all of those really large numbers are getting added into the numerator that we use to calculate the mean when we calculate the median it doesn't matter whether this is 20 000 or 10 000 or 7500 it counts just as much because it's as long as it's on the high end um it's not gonna be the median um or it's gonna contribute to i like to think of it as like crossing off the large and small values it's going to get crossed off no matter what and so a lot of times you see exactly this that the median is smaller than the mean if there are a lot of large outliers um so we so we do get a sense of this this picture is basically telling me that the median and and the boxes again they ca they cover the middle 50 percent of the data so um the middle 50 of manhattan apartments seem to be roughly between like 3 000 a month and 6 000 ish um and then we're looking at queens queens is much more squashed this middle 50 is kind of squished around 2500 it looks like and then brooklyn is also much more squished than manhattan it looks like and a little higher than queens but not considerably higher but with a long tale of um of outliers over here so we've learned some things from this i think that this personally this this graph is a little hard to look at for me because these outliers are kind of squishing the boxes where i can't really see the boxes themselves super well so this is not so much a focus of today but i think it's useful to see how like you might alter some of these the visualizations to get a better sense of things um and so what i'm gonna do right now is i'm actually gonna just filter my rentals data for um rentals that have a rent that's let's say less than what do you think jamie um i guess we can do like less than like 12 000 or 10 000 or so yeah i was thinking 12 yeah then it basically cuts off most of the outliers for uh manhattan let's try that i'm just curious whoop i think you did 1200 oh i did oh my god that's what i would like to pay um yes 12 000. that's a lot easier for me to see and generally when i'm looking at this i'm looking to see how much these boxes overlap um and the fact that these boxes don't overlap very much at all is kind of an indication to me that these are pretty highly associated variables there seems to be a clear indication that or it's clear to me that if i know what boro an apartment is in it gives me some information about what the rent is more or less likely to be so that's useful um i think maybe it's fun to try a couple more of these uh with different different categorical variables what do you think jamie is there any that you're interested in like what would you like in your apartment like in my apartment oh so many things all these things where it's like has i just like want them to have them but you know um i know i feel like for me the washer dryer is i mean it's hard to find in new york city but does that mean like it has like a washer dryer built in to like it's like in your apartment like like it's in the apartment building you know i mean like i don't know i don't know actually that's a good question at least one or the other is pretty important to me yeah as i don't like going to a laundromat but you know let's try it sometimes you have to okay let's see someone is asking us also uh so if someone asked me in the chat what's the thing you googled last time i don't know if it was from like a previous live stream i think uh we definitely did some googling of um of functions we looked at some function documentation i think we looked at the function documentation for um for a trimmed mean like the the trim mean function um yeah we can definitely demo some documentation like function documentation again so i think it's really useful to take a look at um as you're trying to navigate python um or any coding language for that matter but especially if you're interested in data analysis you're using python and you know that requires loading a lot of different libraries um then it can be really useful to know how to like look at the different libraries look up the functions that exist and um and read that documentation um interesting so these are closer than i would have guessed jamie but they are um it definitely seems like if it has a washer dryer the rent is gonna be higher unfortunately i'm sorry sad um but not by too much you can definitely there's some overlap here these are all expensive apartments but it doesn't look like the median is that different that's the thing that's surprising me like this the scale is so hard though yes like the scale goes all the way up to twenty thousand so like this much difference could be like five hundred thousand i don't know here we can do um we can trim it you can do like median and do with has washer dryer and see what it actually is okay it's makeup 600 yeah 600 difference um that's too bad we have another interesting question um is it possible to take a look at the rent for apartments with all those features washer dryer uh gym etc yeah so i think there's two there's actually like two good questions on that um one is so you could create like a new dummy variable um so you could say okay i want to create a new variable that is equal to one or yes if all of these things are equal to one or yes um and then zero otherwise um there's a a few different ways to do that maybe this is a good uh i'm trying to think of like this is a good use of our time to look up some function documentation um or if it's gonna take us a while but but essentially right like you could create a new variable based off of some combination of existing variables to say like if all of these things are ones this new variable is going to be a one if any of these variables are not a one then this is going to be a zero and then you could split based on something based on a new variable that says like whether all of those things are true or at least one of them is false you could certainly do that if you're interested in kind of the relationships between all of these different variables at once so like for example just among apartments that have a elevator is there a difference between apartments that do and don't have a washer dryer or just among apartments that have an elevator and a dishwasher and a doorman because those are like maybe those are nonnegotiables for you if you want to like subset your your search even further um those would be hard a hard set of nonnegotiables to have i'm just saying but if if they were then you could subset your data to just include um apartments that met that criteria and then you could look at this um at this breakdown again and kind of see uh whether the relationships still exist after you've kind of controlled for these other things and that's actually what um linear regression will do for you as well cool and then i don't know if it's impossible this data set but someone's asking is the price less for a high floor with no elevator sure let's see um what do we i mean we could definitely look at that so we could say like rentals high floor or actually we'll just do like this um i also see somebody asking about a case when situation or if then logic yeah that sounds that sounds right to me um i again like i come from an r world where i would do like i would do like a mutate function and d ply or if anyone's coming from r um where i would say like i want to create a new variable based on these other variables and then um and then do that but you could definitely use like a loop or i'm sure there's a pandas function you could yep you could technically use the all function with maybe some preprocessing yeah yep i would agree yeah i bet if we have some extra time at the end i think it would be a cool thing for us to like try to do that live but i want to make sure we get through some more stuff so i'm gonna leave that towards the end but i think like these are really great questions and i think that um i think that this is the kind of thing that like is great practice if you have some extra time on your own if you want to try to like figure them out yourself just takes a little bit of googling and and i feel like that's how i learn best is i just um try to answer questions for myself that i'm interested in and then as you google more you pick up more and more syntax um okay so we were going to do like rentals dot floor greater than it's a high floor like 30. yeah i don't know still seems to be a difference oh and actually they were asking about elevator i could try that too there's lots of lots of things that you could look at oh those look uh similar i guess um i guess if you're on a high floor then you probably live in an apartment that has an elevator like it surprises me that there's so much of a box here like how many apartments are there where the floor is greater than 30 and there's no elevator that seems uh well that seems like another potential data issue that i'm not quite sure how to oh hi alex this is exciting um okay so anyway i think this is a good place to stop with with all these visualizations but um i did want to show one more so we've been looking at sidebyside box plots another great visualization for a quantitative and a categorical variable is an overlaid histogram for the sake of time i'm going to just grab some code from my answer key but i do want to talk about one thing so um the p the histogram function from matplotlib um pi plot is just a function that creates a histogram and all i'm doing here is i'm splitting up uh by burrow so first i'm plotting a histogram of all the apartments in manhattan then in brooklyn then in queens and then i'm labeling them um giving them a number of bins and then the alpha thing is just making them see through so we can see all of them together um one thing i want to demo though before we do this is this density equals true piece here the other thing i'll say is this looks really ugly um there's a new in the newest version of seaborne there's a like um seaborne.histplot function that's gonna or that exists in the newest version um for some reason my computer like freaked out when i tried to update it this morning so um i did not get it updated in time but uh that will make this much easier it'll make it as simple as this where you say like what you want to divide by um but you'll see that if i print this without the density equals true um this like queen's histogram is super super tiny and this manhattan histogram is super super large um jamie do you have any like thoughts i'm putting you on the spot here would you have any thoughts about why that's happening um okay so let's see we're showing rental prices and then it's number oh is it just because there's many more apartments in manhattan than there are in queens and brooklyn yeah that's exactly right so by default the histogram is plotting um like a frequency so we talked a little bit about this last time where like each of these bars represents the number of apartments that have a rent in that range so like this first bar or i don't know it's hard to read this uh scale but like this first bar let's say it's between um 2000 and 250 and there's like just under 100 apartments that are in that range according to this um because in our data set there's just so many more apartments in manhattan um this histogram is just going to be bigger no matter what and there's so many fewer apartments in queens this histogram is going to be smaller no matter what so a way to fix that is to say i want the density um or if you've seen like a kde plot basically this what this does is it normalizes this so that the area of each of these things has to be the same um so that technically the area of all of these histograms the green one the orange one and the blue one now has to be equal to one um and that just means that now all of these histograms are on the same scale now we can kind of look at them and we see um this distribution of histogram or of apartments and queens the apartment prices are like squished down at the lower end and then you see in brooklyn it's like a little more elongated with a longer tail kind of there's more of these midrange apartments and then the manhattan ones um like this peak of the blue is happening the furthest to the right with the longest kind of tail out to the right as well cool all right so we finished one set of variables great um okay i think now is a good time to move on to a different set so what do you want to do next jamie do you want to do two quantitative variables or do you think we should do two categorical variables so we've been doing categorical variables with quantitative variables so well with the quantitative variable hmm i think i don't know maybe we could do two uh quantity variables this time okay that i'm on board i feel like this is maybe the other one that's the most intuitive at least so like square footage with um rental price yeah or something totally yeah so let's figure out like what yeah let's figure out what um what square footage you can afford jamie that the tail on manhattan is interesting lots of super expensive apartments in manhattan uh yes i noticed that too alex yeah lots of expensive ones so many uh let's see what do we want on the xaxis i think it's the highest square feet and then rentals wrench and there we go okay so um i guess last time we started with a summary statistic this time i'm starting with the visualization in real life i will say i almost always start with visualizations before ever calculating summary statistics because it's just so much easier to tell to just like feel like you understand what's going on if you can just look at a picture um and so this looks you know pretty much like i would expect so we see i don't know you could kind of draw a line through this where the apartments that are and i guess we should add some labels i forget that i think it's like plt dot x label x i remember if it's underscore or not let's just try it x label x oh maybe it's without the underscore we're gonna try oh yeah and then we'll try my label so we can see what's going on and yeah so we see like the the super small apartments um are the least expensive ones and in general apartments that tend to be bigger tend to cost more although there are some kind of outliers here like there's this one where this looks like it's a pretty big apartment but it's um a little less expensive this one looks like it's a more is that the apartment you'd like to rent jamie that's the apartment i have lots of questions about that it's oh yeah i guess so expensive yeah it's very very expensive but pretty small um must be a very nice small apartment i don't know probably has a gym and a doorman and an elevator and a patio and whatever other kind of everything yeah washer dryer yeah exactly um so so this is a really helpful picture i think in terms of summary statistics that can be used to kind of describe this all at once the most common one is the pearson correlation or the correlation there are different kinds of correlations that you can calculate um but i think so depending on what your data looks like you might choose different ones but i think the most common that i've seen is the pearson correlation which essentially it's it gives you a number between negative one and one that tells you how strong of a linear relationship there is between two variables and by linear i mean whether you could draw a line through those two variables or not so um so two variables could be related in some other way like they could you could imagine a plot where maybe like as the square feet increases the rent goes up and then as it increases even more it goes down that obviously isn't the case here but like if you saw the dots doing some sort of ushape that would be a nonlinear relationship i would still say that there's a clear association between those two variables there's a clear pattern there but something like a correlation wouldn't pick up that pattern or as a statistic the correlation wouldn't pick up that pattern but it's still a really useful statistic for understanding at least the linear relationships between two variables so anyone any set of variables where as one increases or i don't like to use that word i should stop the where larger values of one variable are associated with larger variables or smaller variables of the other in kind of this like where you could imagine drawing a line through it so i think it's useful to calculate the correlation there's a few different ways you can do it um there's a there's a function from scipy stats um import pearson r and you can calculate um like the the pearson correlation of these two and it should be yeah it's pretty high so one would be a perfect correlation negative or a perfect positive correlation negative one would be a perfect negative correlation so you could draw a line with like a a negative slope going down instead of this which is going up um and uh 0.8 would be considered like a very strong positive correlation this number is a pvalue and we're going to get to that later so you don't have to worry about it the other way to calculate a correlation and i think this is kind of fun to explore for a minute is that you can do the dot core function on the entire or method on the entire data frame and what that will do is it'll calculate what's called a correlation matrix between in this case it knows um that this is kind of part of the reason why i made all of the categorical variables yes or no because um now it knows that those are categorical variables not numerical variables and so it's got all of the all of my numerical variables in this kind of matrix where it says okay the correlation between rent and bedrooms is 0.53 the correlation between rent and bathrooms is 0.73 and so i can see all of my different pairs of variables um and another like useful thing to do because again i think numbers are really hard to see and spot like relationships really fast so i'm gonna pull this over and i'll just describe what this code does um so this is a way that we can kind of visualize this matrix of values um this diverging palette thing basically each of these numbers corresponds to a color and all i'm doing is i'm creating like a color palette that starts at one color and gradually turns into another color and then what this is gonna do is it's gonna create a heat map um with those colors it's gonna center it at zero so exactly in between in the two colors is gonna be a correlation of 0 which means there's no relationship or no linear relationship at least between those two variables um and i'm just making the this is just making the font size a little bit bigger and what this is going to do is translate these numbers into colored squares that match the correlations so now we've got like dark purple is a correlation of one obviously each uh each variable these super dark purple squares down the diagonal jamie do you want to explain why like the correlations are one all along this diagonal oh yeah so if you like look along the diagonal it's basically saying like the top left one is basically saying rent correlates perfectly with rent which makes sense because they're like the same like variable um so like whenever you make one of these like heat matrix matrices like you'll just see the diagonal is just like all perfectly correlated variables because it's just showing the correlation of one variable with itself exactly yeah if we i think it's like it's helpful sometimes to look at the picture like if we were to um just like plot rent against itself yeah rent first rent which is obviously not something we would want to do in real life but why not we have this perfect line and that's what a correlation of one means like a perfect line um is a correlation of one and a correlation of negative one would look like this um yeah okay uh that's on the side so now looking at this i don't know what are it doesn't look like we have very many things that are highly negatively correlated because we've got like the largest negative correlation that seems to be on here is like negative point three maybe um but we could take a look yeah we'll take a look yeah it looks like so let's take a look at that one um floor and building age years and floor what did i do today oh building age years okay okay so i guess we kind of see what this looks like like it's kind of a mess of points and you'd almost draw like a straight line through it but it does seem like on the lower floors there's a bigger range um i'm sorry are these floors no i'm uh yaxis is floors x label yeah age yeah i feel like this makes sense because it's basically saying the older buildings are less likely to have more floors right oops i meant to say water label there so yeah seeing the older the building like the older buildings have on in general like less than 20 floors except for this one building over here if it's if the building is 175 years old there's no way that it has more than a few floors but if the building is brand new it seems like there's a much bigger range there's up to like 80 something floors um so that makes sense yeah so you would you could imagine that if you're going to draw a line through these points you probably wouldn't but if you were going to it would probably be like a slightly negatively sloped line like you cut kind of go like this um so that gives you a sense of what these what these colors kind of represent cool um are there any other ones you want to take a look at should we take a look at one that has like a correlation of zero maybe yeah so that would be like minutes to subway and square feet or like floor and minutes to subway yeah let's try square feet and minutes to subway maybe and then we'll move on size feet and what was it min 2 subway i don't know you could do this forever there's also um something called like pear plot i think in the uh seabourn library that's right oh yeah so now we see almost it looks like maybe there's a slight negative correlation but not really um so yeah the less of a pattern you can discern in this graph the less i would say that there's an association between those variables yeah i think we can just try this i don't think it's going to work but there's something called pear plot in the seabourn library that just like oh is it gonna do it it might just be going slow oh yeah here it is wow so this like simultaneously did all of them uh so you can kind of see like quickly visualize all of these this one seems to be the clearest and then something like floor and rent maybe a slight negative correlation yeah some of these it looks like there's really nothing going on here so yeah super interesting um okay i guess we've got 10 minutes to do the last uh the last one which is talking about um two categorical variables at once i think we actually can get through this this is very exciting might be the first time ever um okay so let's pick uh now that we can't really think about rent anymore and we want to pick two categorical variables look at the same time um i think in the final let's see in the final code i did has elevator and has gym to start so maybe we'll start there but we can um do any other ones that other people are interested in um so the first thing that i like to do in order to look at an association between two categorical variables is i like to look at a um either like it's called either a twoway table or a crosstabulation or a contingency table all words for the exact same thing all that basically means is basically a grid showing the all possible combinations of categories for a categorical variable and in that grid you can either have frequencies or proportions so i'm going to pull the crosstab function from pandas and i'm going to look at uh rentals has elevator and rentals.hats gym um and print that out and we can take a look at it so all this did was on this column i have yes and no to has an elevator and then um and then sorry the rows are no elevator yes elevator the columns are no gem yes jim and we can kind of look at this and think about what we would expect if there was no association between these variables what i'm noticing right off the bat is that if we look among let's say the apartments that haven't uh have no elevator so just in this top row um we'll notice that if the elevator or if the apartment does not have an elevator it's like pretty likely to not have a gym as well like if you look at this out of the you know close to 4 000 apartments or 3 800 apartments exactly in this row 3748 of them like a huge proportion of them don't have a gym um whereas here if you look at apartments that do have an elevator it's a lot more evenly split like half just under half don't have a gym just under half do have a gym and so then that would suggest that there is some relationship here um again this is all well and good we can look at this picture but maybe we want either a visualization or a summary statistic to help us understand this a little bit better um let's do let's do a visualization first so um i think the easiest visualization for this is kind of a um a slightly altered version of a a bar plot so i'm going to i'll pull over or we'll use seaborne count block amy has some thoughts about all the different bar plot functions uh jamie just wrote if you're interested jamie just wrote a new lesson on using bar plots and pie charts and we spent some time thinking about which uh which functions to use here or on codecademy and uh we both just decided that seabourn is just so much nicer uh or just makes things so much easier so i'm gonna make a a bar plot with has elevator as the x um so i want i want to split based on whether or not an apartment has that has an elevator on the xaxis which is that horizontal axis and then on the yaxis i want to know um the actually it's automatically going to do count on the yaxis so i don't actually have to say anything because it's count plot but it's really a bar plot and then i'm going to say hue equals has jim so what that's going to do is it's going to divide each bar into a different a separate bar depending on whether or not the apartment has a gym and it's gonna hue is just another word for color right so it's gonna like color it color the bar based on whether or not it has a gym and then my data is rentals and then plt and i think this this kind of illuminates what we saw in here a little bit more clearly where we now see among the apartments that do have an elevator these bars are pretty close to equal right but over here if the apartment doesn't have an elevator we see this like huge discrepancy like if it doesn't have an elevator it almost certainly uh oh this is interesting so it only almost certainly does have a gym if it doesn't have an elevator so if it that surprises me so if it has an oh if it doesn't have an elevator no i think it's still saying that it's oh it almost certainly does not have a gym sorry oh my god my brain on a tuesday afternoon you guys it has been a long day yes if it doesn't have an elevator then it almost certainly does not have a gym so you can kind of visualize these numbers a little bit more clearly um in the next module or the next couple of live streams i think it's a few live streams away we're going to talk about hypothesis testing um and we'll talk about some ways of like testing a theory about whether or not two variables are related um at a population level but there's a function from there that i think is also useful in this context so i'm gonna pull that out as well um so it's from scipy stats again um this kai to contingency function and if we create so here we have this cross tab i'm gonna say i'm gonna save it as something and then i'm gonna run chi to contingency on the cross tabulation one of the things that does so you'll see there's a bunch of outputs and you can kind of ignore the first three outputs for right now but i think the last output is interesting and this is the last thing i'll go over today um but this matrix is kind of of it's basically like a version of this matrix except that in this one it's the expected values that would exist here if there was no relationship between these two variables so it seems a little confusing like you might think um you might think that like if there's no relationship between whether or not an apartment has a gym and whether or not an apartment has an elevator that there would be like a quarter of the observations in each of these boxes like at least that was my first intuition whenever when i first learned about contingency tables and that actually is not true because you can see if you just ignore the that i'm putting my hand over it but i'm not realizing no one can see that um if you just ignore the whole has elevator thing you just look at whether or not an apartment has a gym you'll see right that like there are a lot more apartments that don't have a gym than that do have a gym and that's perfectly reasonable so like by random chance we would expect more like more observations in this first column than we would expect in that second column and we could give that like the probability i guess of a of whether or not an apartment has a gym as as a value right and we could also say we could also give it a pro give a probability for whether or not an apartment has an elevator and then we could use those two probabilities to get values of these numbers if there was no association and it's not going to be just like 25 25 25 25 this function does it for you in um our content we actually go through the process of calculating it for yourself so you can think about it um a little bit more deeply but i think it's useful to take a look at this and be able to compare it to the observation and of course like the further away these numbers are from the observed numbers the stronger the association there and here we see like in this top right corner if there was no association we'd expect 546 apartments in the has no elevator and has gym combination but instead we see only 52 that's pretty far off so it's suggesting a pretty strong association awesome okay we are like right at five i feel super good about that that is very exciting um i'm really glad that all of you joined us today and i hope that more of you will watch this later on um we'll be back next week starting our discussion of the central limit theorem and i am like beyond excited for it this is this is gonna be my favorite live stream maybe of the whole series after well maybe my favorite will be going over the simulation of the binomial test but like this is my second favorite um and i feel like this is where we we're going to get more into programming and more into like conceptual ideas um and it's going gonna be really really fun so it's one of those things can be tricky and it's gonna be like thought provoking but i really would love to have lots of people there to like ask questions and slow me down and um and and also get excited about it like we are uh that is it for today um definitely join us next week post comments uh feedback anything you want to ask as well in the youtube video content comments or even on the codecademy forums we'd love to hear from you see you guys next time
