With timestamps:

00:00 - okay so welcome to the tutorial on how
00:02 - to build the story game now before we
00:05 - begin just remember that if you would
00:07 - like to get full access to the finished
00:10 - project so you'll have all of the code
00:12 - written and the game will be functional
00:15 - and you'll just be able to take it
00:17 - and without having to copy any of the
00:18 - code from this tutorial you can become a
00:21 - channel member and you'll need to become
00:23 - a premium member to do that you can
00:25 - click on the join button which is below
00:28 - this video next the subscribe button and
00:31 - it just is a great way to support the
00:33 - channel and as well as that like i said
00:35 - you get access to the source code from
00:38 - the video but if you don't want that
00:40 - don't worry you can just follow along
00:42 - copy the code as i do but just a quick
00:45 - word from me if the game doesn't work
00:48 - for some reason if the code that you've
00:49 - written isn't working and it's not like
00:52 - mine then what you should do is try to
00:55 - debug it because most of the time i get
00:58 - people telling me that it doesn't work
01:00 - but actually it does and they've just
01:01 - made a mistake when they've copied out
01:03 - the code so i'd say 99 of the time if it
01:06 - doesn't work for you it's because you've
01:08 - done something wrong you've copied it
01:10 - wrong you've forgotten to add a line of
01:13 - code that i did for example you've made
01:15 - a typo etc and a lot of the time you
01:18 - it's hard to notice these things so you
01:20 - could be looking over your code for a
01:21 - while you could be like oh it's not
01:23 - working it's not working
01:24 - and not realize that it's actually you
01:26 - that has done something wrong so i'm
01:28 - just outlining that at the start
01:30 - if you do
01:31 - whilst you're watching this tutorial at
01:32 - any point if you do find out or realize
01:34 - that your code isn't working that your
01:36 - game isn't working like mine don't worry
01:38 - pause it have a look through try to make
01:40 - sure see you've not done anything
01:42 - stupid like a typo or something but
01:44 - there are places you can go to get help
01:46 - you can use the roblox dev forum it's a
01:48 - great place to upload your code and to
01:50 - ask for help if it's not working just
01:52 - make sure to explain what's not working
01:54 - in detail and there'll be people who
01:57 - will help you without further ado let's
02:00 - get into the tutorial so we're going to
02:03 - click on the base plate template here
02:05 - and just load into a simple base plate
02:08 - and i'm going to go into the workspace
02:10 - over here and i'm going to click on the
02:11 - base plate click on the spawn location
02:13 - in the explorer panel and just delete it
02:16 - okay
02:17 - now i'm going to do is i'm going to use
02:19 - the kit so i've created a kit which will
02:23 - insert all of the important things you
02:25 - need for your story game so we're just
02:26 - going to skip the building of the lobby
02:29 - and the map because you might want to
02:31 - build your lobby
02:32 - a different in a different way you might
02:34 - want to make it look different to mine
02:35 - and since everybody's might be different
02:37 - we're just going to use a pre-made kit
02:39 - which i've created in advance that you
02:42 - can use for free to just give us a bit
02:43 - of a kick start get us a bit of a head
02:45 - start
02:46 - on the tutorial so that we don't have to
02:48 - waste time with the building when the
02:50 - thing that matters is the coding right
02:52 - we want to make sure that the code is in
02:53 - there and then once the game's completed
02:55 - you can go on and then change uh your
02:58 - your lobby your map etc so i'm going to
03:00 - click on the toolbox
03:02 - and we're going gonna click on
03:04 - uh well actually you need to get the
03:05 - model first so i'll leave a link to the
03:07 - description where you'll find a link to
03:09 - the model so if you click on that link
03:11 - and then just click on get or take just
03:14 - make sure that you you you
03:16 - buy or access the model it's free and
03:19 - that will just put it into your toolbox
03:21 - so once you've gone ahead and done that
03:23 - go to your uh your model section click
03:26 - on this little icon here and then it
03:28 - should be here look story game kit and
03:30 - then i'm going to click on that and it
03:32 - will insert everything we need for the
03:33 - lobby into our game so i'm going to just
03:35 - close down the toolbox here
03:37 - and what we've got is we've got the
03:39 - little spawn area over here we've got
03:41 - the two lanes for our trucks and then
03:43 - we've got a dark zone and this is where
03:45 - the trucks will will move into and it'll
03:48 - get darker and darker and then we will
03:50 - teleport them so what we need to do
03:52 - first is just move some of these assets
03:54 - around because they're not in the right
03:55 - place so we're going to take the exit
03:57 - gui now this is the thing that will show
04:00 - up on the screen when you get in a truck
04:02 - because you might want to actually get
04:03 - out of the truck before it leaves so we
04:05 - give the player an option to do that so
04:07 - if we take this exit gui and we just
04:09 - drop it into the starter gui here okay
04:12 - so once it's in the starter gui we're
04:14 - just going to leave it there
04:15 - and then the two remote events here
04:18 - called leave truck and show exit gui
04:21 - we're going to select those and we're
04:23 - going to just drag them into the
04:24 - replicated storage down here okay so
04:27 - we've got the grass spawn area and truck
04:30 - lanes in the workspace anything that's
04:32 - in the workspace uh can be seen in the
04:35 - viewport here so we can see our trucks
04:37 - we can see our grass we can see the
04:38 - spawn area etc
04:40 - so that's everything we need now once
04:43 - we've done that we need to start coding
04:45 - these trucks because they won't do
04:47 - anything for now so we need to make it
04:49 - so that when you walk up to the truck
04:51 - you sit in it and you might be able to
04:54 - see here that if we go into
04:57 - the
04:58 - let's see we go into the if you press
05:00 - alt here
05:02 - press down alt or option if you're on a
05:04 - mac and you hover over you can see that
05:06 - there's a part here and this is like a
05:09 - wall and when we touch this wall we are
05:11 - going to put the user into the truck so
05:13 - we've got we've got a wall for each side
05:16 - and we're going to create some scripts
05:17 - we're going to write some code which
05:18 - will detect when you touch one of these
05:20 - walls and when you do that we're going
05:22 - to put the user uh into the truck and
05:26 - they will sit in the truck here and then
05:28 - this will count down from 30 seconds i
05:31 - know it says 10 seconds but we can
05:32 - change that and when it gets to zero the
05:34 - truck is going to move all the way down
05:37 - here into the dark zone and then we will
05:39 - teleport the users so not too
05:43 - much uh coding will be used in this
05:45 - episode it's going to be fairly short
05:47 - and then we'll be able to move on to
05:49 - creating the story
05:51 - so let's get started so if we go and
05:54 - click on those walls again by pressing
05:57 - alt or option on a mac you'll see that
06:00 - we've got lane one detector in the lane
06:02 - one model inside the truck lanes and
06:05 - we've got lane two detector now both of
06:07 - these have scripts inside of them called
06:10 - detector script and i've written these
06:13 - already just to speed things up so we
06:15 - can move on to coding the truck
06:18 - but i just wanted to explain what this
06:20 - does because i want to make sure you're
06:21 - understanding the code i want to make
06:23 - sure that you know you're learning how
06:25 - to become a roblox developer because
06:27 - this stuff is quite important so this
06:29 - script is inside a part
06:31 - and that means that we can say script
06:33 - dot parents so the parent is the thing
06:36 - that the script is inside so in this
06:38 - case we're talking about the lane one
06:40 - detector when we say script dot parents
06:43 - and since the lane one detector is a
06:45 - part it has some events and this is a
06:48 - touched event so a touched event will
06:51 - trigger when a player touches the part
06:54 - so when the player goes up close to the
06:57 - wall and touches it then we are
06:59 - connecting
07:00 - that event trigger to this function and
07:02 - a function is just some pre-written code
07:06 - that we can run
07:07 - at a certain point so we are running
07:10 - this code when a player
07:12 - or an object touches the lane one
07:14 - detector but the problem is anything
07:17 - could touch the lane one detector it
07:19 - doesn't have to be a player it could be
07:21 - the truck might accidentally touch it or
07:24 - um you know another part might touch the
07:27 - lane one detector and that's obviously
07:29 - not a player so we only want to
07:32 - put the player in the truck if they are
07:34 - a player we don't want to go and put um
07:36 - let's say for example we don't want to
07:38 - put this sign in the tr in the truck if
07:41 - it accidentally touches this wall
07:42 - because it's quite close to it or if
07:44 - something accidentally falls from the
07:46 - sky or you know you get the idea right
07:48 - so we are just checking to make sure
07:50 - that the hit the thing that hits the
07:53 - lane detector
07:54 - is stored in
07:56 - within this function it's called an
07:58 - argument so this hit you can kind of
08:00 - think of it as like a substitute so if
08:02 - we were to substitute the hit with the
08:05 - actual part that touches the brick
08:07 - because we don't know what is going to
08:08 - touch this lane one detector so we're
08:10 - just using this hit argument as like a
08:14 - just like it was something that we can
08:16 - substitute in later to be the actual
08:18 - thing that touches it so anything that
08:20 - we do to the hit will be done to any
08:23 - object that touches our lane one
08:25 - detector
08:26 - so we're just calling a function in in
08:28 - the game.player service called get
08:31 - player from character and we're using
08:33 - the parents of the thing that hit the
08:35 - brick because the thing that's going to
08:37 - touch it if it's a player it's going to
08:38 - be one of their body parts so it could
08:40 - be their left arm their right arm their
08:42 - right leg their left leg for example so
08:46 - and you can actually see if we play the
08:47 - game
08:49 - you'll see that in your roblox character
08:51 - which spawns in the explorer you'll see
08:54 - that you've got a left foot left hand
08:55 - left lower arm so when you touch this
08:58 - detector brick it's not going to be your
09:00 - player that touches it it's going to be
09:02 - one of your body parts so it could be
09:04 - your left lower arm your left lower leg
09:06 - so if my left arm
09:08 - touched that invisible part then the hit
09:12 - would be my left arm it wouldn't be my
09:14 - player
09:15 - and the the body parts are inside of my
09:17 - character model so the parent of that
09:20 - body part will be my character model so
09:22 - we're just doing a check here to make
09:25 - sure that there is actually a player
09:27 - uh attributed to my character and this
09:30 - will either be true or false so this
09:33 - function which is a built-in function to
09:35 - roblox it's already pre-coded by roblox
09:38 - it just allows us to do a simple check
09:40 - to see if there is a player linked to
09:42 - this character or this model
09:45 - so for example if a part like that sign
09:48 - touched it then its parent would be the
09:50 - model of the sign probably so it would
09:53 - probably be this sign model here and
09:55 - this function would just tell you that
09:57 - no that is not a player so it would
09:59 - return false and then we're just storing
10:01 - that in a variable for now so that we
10:03 - can reference it later on a variable is
10:05 - just a
10:07 - a piece of data piece of information
10:09 - that can be stored under a name like plr
10:12 - or player that's what it's short for and
10:15 - that will hold the true or false value
10:18 - so if it is a player then this if
10:21 - statement is going to run it's going to
10:23 - execute any code inside of it so if the
10:25 - player is true so if player then is the
10:27 - same thing as saying if the player
10:29 - variable is equal to true so if it is
10:31 - true then we're going to find them a
10:33 - seat on our truck and to do that we are
10:36 - going to say script dot parent dot
10:38 - parent so you can see the script here
10:40 - the first parent is the lane one
10:41 - detector the second parent is the thing
10:43 - that the lane one detector is inside of
10:45 - and the lane one detector is inside of a
10:48 - model called lane one you can see if we
10:50 - collapse and expand you can see it's
10:51 - inside of it and then the parent of that
10:54 - lane one is the truck lanes right so
10:57 - inside of the truck lanes
11:00 - sorry no if we it would be lane one
11:02 - because we're going back one step two
11:04 - step so look detective script is where
11:07 - we start off the script we go back a
11:09 - step to the parent which is laying on
11:11 - the detector and then we go back another
11:13 - step to the parent of that which is the
11:14 - lane one and inside the lane one which
11:17 - is the equivalent of script or parent
11:18 - apparent we have a truck and inside this
11:21 - truck you can see here this is the truck
11:23 - inside this truck we have another model
11:26 - called seats and inside the seats model
11:28 - we have a load of seats here and what we
11:31 - can do is we can go to our detector
11:32 - scripts and we say colon get children so
11:36 - we are just getting all of these seats
11:37 - here and we're adding them to a table a
11:39 - table is just a set of data or a set of
11:42 - objects that we can loop through so
11:45 - we're going to loop through all of those
11:47 - truck seats and we're going to
11:51 - put the player into the seat if it's not
11:54 - already occupied so v is each individual
11:57 - seat that we look through so it would be
11:59 - this seat then v would be the next one
12:01 - and the next one and the next one and
12:03 - the next one and the next one until it's
12:04 - looped through every single seat so for
12:06 - every single seat in the truck we're
12:09 - checking to make sure it's not already
12:10 - occupied because each seat has a
12:13 - property
12:14 - called occupied oh sorry occupant so
12:17 - it's going to be the object of the
12:18 - player that's sitting in it so we can
12:20 - say if not veda occupant and that's the
12:23 - same thing as saying if there is no
12:25 - occupant of the seat then it's empty
12:27 - and we only want to put them in the seat
12:29 - if it's empty so this if statement will
12:32 - only run if the seat is empty and then
12:34 - we can call a function on the seat
12:37 - called sit and then we just put the
12:39 - character's humanoid in there the
12:41 - humanoid is an object attributed to the
12:43 - sorry inside the player's character
12:46 - which um gives them the ability to walk
12:49 - and move and it makes them a player
12:50 - pretty much and so what we can do is we
12:53 - can
12:54 - specify that players humanoid the player
12:57 - who touched the brick and that will sit
12:59 - them in the seat and then we're going to
13:00 - set their jump power
13:02 - to be zero that's a property of their
13:04 - humanoid again another thing that just
13:06 - makes the player work and act like a
13:08 - player
13:10 - it has a property called jump power and
13:12 - if that's set to zero it means that they
13:14 - can't press the space bar and jump out
13:16 - instead we want to show that gui which
13:19 - will let them click exit and then if
13:22 - they do click on that then they will be
13:24 - teleported back to the spawn area
13:26 - so we're just firing a remote event to
13:29 - that player which will
13:32 - enable
13:33 - that gui to appear and we'll talk more
13:35 - about that in a little bit but then we
13:37 - just break out of this for loop because
13:39 - we found a seat for them
13:41 - all that this for loop did was just loop
13:44 - through each seat until we found one
13:46 - that wasn't occupied now it could be
13:48 - that all of the seats are empty and the
13:49 - first one that we looped through was not
13:51 - occupied and we didn't have to go
13:53 - through any more or it could have been
13:54 - that we looped through every single one
13:56 - until we got to the end and the last one
13:58 - was was empty so we could put them in
14:00 - that one
14:01 - so that's what we're using the loop for
14:03 - but if we go and play the game you'll
14:04 - see that uh if we roll up to one of
14:07 - these detectors
14:09 - over here
14:12 - and you can see it sits us in the seat
14:14 - and the leaf button appears on the
14:15 - screen and if we click on the leave
14:17 - button uh nothing happens right now but
14:19 - that is because we haven't coded it yet
14:21 - so let's go ahead and look at the code
14:23 - for that now
14:26 - now if we go into the started gui and we
14:29 - look at our exit gui you can see you've
14:31 - got the exit button and there's a
14:34 - property of that called visible and
14:35 - that's what makes the gui appear or not
14:37 - now all we're going to focus on is this
14:39 - client exit button because i've already
14:42 - put this in the gui and i've written
14:44 - some code which will make it appear when
14:47 - that show exit gui remote events is
14:49 - fired that's what we fired from our
14:51 - detector script here we're picking it up
14:53 - in our local script and we're making the
14:55 - exit button visible
14:57 - now i also have another event for when
14:59 - you click on the exit button so when the
15:01 - exit button gets clicked we're
15:03 - connecting it to another function and
15:05 - the code that will run when you click on
15:06 - this button is it will make the button
15:09 - invisible again but it will also fire
15:11 - the remote event called leave truck
15:14 - we haven't coded that remote event on
15:16 - the server yet so nothing's happening
15:19 - when we're firing this event but we want
15:21 - to
15:22 - pick up this remote event and when a
15:24 - player does fire this leaf truck remote
15:27 - event on the server we can teleport them
15:31 - back to the spawn area so what i'm going
15:32 - to do is i'm going to click on the plus
15:36 - next to server script service and i'm
15:37 - going to insert a script i want to call
15:40 - this script leave truck
15:42 - okay so call it leave truck and put it
15:44 - in the server script service
15:45 - now all we're going to do is we're going
15:47 - to say
15:48 - game dot replicated storage dot
15:51 - leave truck dot on server event
15:54 - colon connect and then inside of these
15:57 - brackets we're gonna write function
15:59 - we're gonna then put another pair of
16:00 - brackets like this we're gonna drop a
16:03 - line
16:04 - and we should just have this end with a
16:05 - closing bracket added on here and then
16:08 - inside of these brackets
16:10 - next to function we can put player
16:13 - because this is going to be the player
16:14 - who fires the remote event so it gives
16:17 - us another reference to them we don't
16:18 - know who it's going to be but we can use
16:20 - this player argument so that anything we
16:22 - do to the player within this script will
16:25 - be done to any player who fires the
16:26 - event and we just want to check to make
16:28 - sure that the player is still in the
16:30 - game so if player
16:32 - then we can say player colon load
16:35 - character like this okay so we do a
16:38 - player colon load character and then a
16:40 - pair of brackets because this is calling
16:42 - a function and this function will
16:44 - respawn the player and it will put them
16:46 - back on a spawn point okay so let's play
16:51 - the game again and see the changes that
16:53 - we've made
16:55 - so we're going to walk over
16:57 - to our truck
16:58 - we get placed into the seat we click on
17:01 - leave
17:02 - and our player gets respawned so we're
17:04 - now out of the truck
17:06 - okay and again
17:07 - boom you see how it works
17:10 - so
17:10 - next we need to make our trucks move
17:13 - because currently the sign is counting
17:15 - down but when it gets down to zero
17:18 - nothing's happening
17:20 - and also i'll walk through the code for
17:22 - the signs as well only one of them is
17:24 - working at the moment but don't worry
17:26 - we'll make both of them work i'll just
17:27 - give you an overview of the code so if
17:30 - we go into our truck lanes over here and
17:32 - we click on lane two
17:34 - and we click on the truck you'll see
17:37 - that there is a script within this truck
17:39 - and this is the script which is going to
17:42 - make the
17:43 - countdown on the sign
17:45 - the reserving of the server for the
17:47 - story game
17:48 - and making the truck move it that's
17:50 - what's going to control all of this now
17:53 - it's only in
17:54 - the truck on the right side okay that's
17:57 - why the sign on the right side was
17:59 - counting down but the one on the left
18:01 - wasn't and that's fine we can duplicate
18:03 - this script and put it into the other
18:05 - truck and once you've gone through it
18:07 - but i just wanted to explain line by
18:09 - line what's going on in this script
18:12 - so firstly let's just focus on this wild
18:14 - true do loop so a while true do loop
18:17 - will run any code inside of it forever
18:19 - and ever and ever as long as the
18:21 - condition in the middle is true so it
18:24 - could be a check such as while two plus
18:26 - two is equal to four or while uh my
18:29 - variable is equal to true whatever but
18:32 - if we just want it to run regardless of
18:34 - the condition we can say while true do
18:36 - and this will make a repeating loop
18:38 - which just repeats over and over again
18:41 - and it won't ever be stopped until the
18:43 - server is shut down
18:44 - so this will just keep on making the
18:46 - trucks leave and then they'll come back
18:48 - and then they'll leave come back
18:50 - teleporting people to and from the story
18:52 - game forever and ever whilst people are
18:54 - still in the game
18:55 - so what we're doing first is we are
18:57 - creating a for loop and a for loop is
19:00 - used to count down or count up but in
19:03 - this case we're counting down from 15
19:05 - seconds down to zero and we're going
19:07 - from so look we're going from 15 down to
19:09 - zero and we're counting down by minus
19:12 - one each time that's all that we're
19:15 - doing here and then the value from 15
19:18 - down to zero gets stored in this
19:20 - variable called i so we can refer to the
19:22 - number of seconds to left by saying i
19:25 - and then what we're doing is we're
19:26 - getting the sign
19:28 - and the wooden sign which is here
19:30 - getting that wooden sign and we're
19:31 - saying by saying script
19:33 - dot parent which is the truck and we're
19:35 - saying dot parent which is lane two
19:38 - we're getting the sign which is inside
19:40 - of it and inside of the sign there is a
19:42 - part called top which is the top part
19:45 - that's got a surface gui inside of it
19:48 - and inside a surface gui which basically
19:50 - projects a gui onto a surface like this
19:54 - there's a text label and that text label
19:56 - has some text so we could write whatever
19:58 - we want on this sign such as subscribe
20:01 - to alvin blocks if you haven't done that
20:03 - already i do recommend it so you can
20:06 - write whatever you want on this sign but
20:08 - we can also update it via a script so
20:10 - every second we're going to update it to
20:12 - say leaving in 10 leaving in 9 leaving
20:15 - an 8 etc so if we go back to our script
20:17 - here in the top you can see that we're
20:19 - just changing the text property to a
20:22 - string
20:22 - and a string is just uh some some
20:25 - information so it's a data type which
20:27 - holds text so if we want to write text
20:30 - we have to write it in a string like
20:31 - that but we also want to include the
20:34 - number of seconds left so what we can do
20:36 - is we can say dot dot
20:38 - outside of our string we close them off
20:40 - with a
20:41 - with speech marks like that or a quote
20:42 - mark we say dot dot i dot dot and then
20:46 - we have another string with a space so
20:49 - that the words are separated from our
20:52 - number and we put seconds like that okay
20:55 - and then we just have a weight one so
20:57 - that it delays from moving on to the
20:59 - next number if we didn't have a weight
21:01 - one it would count down
21:02 - immediately like that it would just go
21:04 - 15 to zero nothing in between because
21:06 - it's going so fast that we can't notice
21:09 - the difference so we have that weight
21:11 - one delay so we can notice the
21:12 - difference as it counts down each second
21:16 - so then once it's counted down to zero
21:19 - if it's out of this for loop because in
21:21 - a for loop it will go okay 15 we'll do
21:24 - the code do the code it gets to the end
21:26 - it will go back to the top 14.
21:28 - do the code to the code back to the top
21:30 - 13 code code you get the idea so once it
21:33 - gets to the bottom to this weight one
21:35 - once that's finished it goes back to the
21:37 - top again and only when it's at zero so
21:40 - when it goes one okay do the code zero
21:43 - okay we're at zero so we're going to
21:44 - stop and then it moves on so it will
21:47 - only move on when the countdown is at
21:49 - zero so at this point and this is a
21:51 - comment by the way if you see two
21:53 - hyphens like this it's just a comment so
21:56 - it's where we can add a note to self or
21:58 - just explain what's going on and the
21:59 - script will ignore it
22:01 - so when it gets to this point in the
22:02 - code the countdown is finished so we
22:05 - want to
22:06 - um get all of the players that are in
22:08 - the truck and we want to
22:10 - um
22:11 - move the truck and put them into the
22:12 - server so what we're doing is we're
22:14 - creating a table to store all of the
22:16 - players that are sitting down
22:18 - and then we're going to our seats
22:20 - um
22:22 - model which is here and we're looping
22:24 - through all of those seats again that
22:26 - are there in that model and for every
22:28 - single seat we're checking to see if
22:30 - that occupant value that occu
22:33 - can't talk occupant value occupant
22:35 - property even we're checking if the
22:38 - occupant property of the seat
22:41 - is
22:42 - it's got something stored in it okay so
22:44 - if there is somebody sitting in this
22:46 - seat we're going to insert them to this
22:48 - table so into the players table we are
22:51 - inserting their player but since it's
22:54 - their character that sat in the seat and
22:57 - not their player which is stored in the
22:59 - player service they're two different
23:01 - things we're getting their player from
23:03 - their character okay if we play the game
23:05 - very quickly you'll see that in the
23:07 - workspace we have the player's character
23:10 - in the players service we actually have
23:11 - their player and the player is where
23:15 - we want to store their player we don't
23:17 - want to store their character so we're
23:18 - calling another function of game dot
23:20 - players called get player from character
23:23 - and we are passing through some
23:24 - information for
23:27 - the occupant
23:28 - um
23:30 - and it's going to be there there the
23:32 - occupant i believe is their humanoid
23:35 - and
23:36 - um the parent will be the character
23:39 - object yes because look the occupant
23:42 - value is the humanoid the inside of the
23:44 - character so like i said earlier the
23:46 - humanoid is that object which all
23:48 - players characters have inside of and
23:51 - when we use the sit function to sit them
23:53 - in the seats we are referring to their
23:56 - humanoid so that will just
23:58 - get all of the players sitting in the
23:59 - truck and it will put them in this table
24:01 - so we now know all of the players who we
24:03 - need to teleport to the server
24:06 - so we can then do a check and if
24:08 - statement to make sure there are
24:09 - actually some players sitting in the
24:11 - truck because there could be no players
24:13 - in the truck and we would loop through
24:15 - all of the seats and find out that
24:16 - there's no occupants so this table could
24:18 - be empty and it would have
24:20 - it would have no data inside of it no
24:22 - elements inside of it
24:24 - so to check
24:25 - how many objects are in a table in this
24:27 - case how many players are in the table
24:29 - we put a hashtag before the table name
24:31 - so hashtag players will return the
24:34 - number of objects in this table
24:36 - and if it's greater than zero so if
24:38 - there's if there is at least one
24:41 - player in this table we will
24:44 - move the truck okay we will move the
24:46 - truck and to do that we're again
24:48 - counting up from zero to 150 we're going
24:50 - up by one each time though
24:53 - okay and this is going to be the number
24:55 - of studs which the
24:57 - truck moves by so i'm going to make the
25:00 - truck move 150 studs
25:04 - in the forward direction
25:05 - so
25:06 - it's going to go from here it's going to
25:08 - go all the way
25:10 - let's use the other truck here it's
25:11 - going to go all the way into them okay
25:13 - and that's about 150 studs away i
25:16 - measured it so we want the truck to move
25:19 - one stud at a time
25:21 - uh to 150 studs away and so what this
25:24 - for loop is going to do is we're going
25:25 - to count it from zero to 150 and i is
25:28 - our variable again the i variable will
25:31 - be that running counter so it will be
25:33 - one the first time then it will be two
25:35 - then it will be three then it will be
25:36 - four stoods and it will be five studs
25:38 - six studs all the way up to 150 studs so
25:41 - every single time this loops through
25:43 - it's going to move
25:46 - the
25:47 - truck
25:48 - forwards okay going to move the truck
25:50 - forwards by about one stood okay that's
25:54 - what a look vector is when we say script
25:56 - dot parent dot hit hit box dot c frame
25:58 - dot look vector that is getting the
26:01 - truck and then it's getting the hitbox
26:03 - part which surrounds it so basically
26:05 - it's just one big part that covers the
26:06 - entire truck
26:08 - and then it's getting its c frame which
26:10 - is its position
26:11 - with rotation so it's getting that and
26:14 - then the look vector gives us the
26:16 - direction that it's currently traveling
26:18 - in so the look vector would be facing in
26:21 - this direction okay and it would just it
26:24 - would be about one stood long so every
26:26 - single time this for loop loops through
26:29 - it's translating the truck so it's
26:32 - essentially moving it in a direction by
26:35 - about one stud each time but when you do
26:37 - that 150 times then it's moving it one
26:39 - stood 150 times and eventually you will
26:42 - get to this dark area and it will look
26:45 - like the truck is moving so essentially
26:47 - it's just moving forward stood order
26:50 - stood forward
26:55 - and we'll keep on doing that until you
26:57 - can see it's starting to you know move
26:59 - away from the truck
27:00 - the truck would be moving with it um
27:03 - but it would move the entire truck to
27:06 - the
27:08 - uh into the darkness here so let's just
27:09 - put that back where it belongs in there
27:13 - there we go so yeah it would move the
27:15 - truck forwards okay and when we move
27:17 - that hitbox
27:19 - because the hitbox is the primary part
27:22 - um when that primary part moves when the
27:24 - hitbox moves the rest of the truck will
27:26 - move with it so if you changed 150 to 30
27:29 - for example it would only go 30 studs
27:31 - forward so the 150 is just how far it's
27:34 - going to go in studs
27:36 - and then once it's got to the darkness
27:39 - we are going to reserve a server for our
27:42 - story game but we haven't made the story
27:44 - game yet so what we need to do is we
27:46 - need to make another place for our story
27:48 - game
27:49 - and you can see that there's an id
27:51 - in the reserve server function here
27:54 - we're going to remove this because this
27:56 - will not work for us we need to
27:58 - create our own place okay that was from
28:02 - my own story game but we need to make
28:04 - our own so what we're going to do is
28:06 - we're going to go to the base plate here
28:07 - and we're going to click on file and
28:10 - then we're going to click on publish to
28:12 - row blocks as
28:14 - uh yeah we're going to produce a relax
28:16 - and then we're going to click on create
28:18 - new game
28:19 - and i'm going to call my game alvin
28:21 - blocks's story game
28:24 - okay
28:24 - i'm going to click on create
28:27 - and once that's created we've now
28:28 - created our games universe so we've
28:31 - published it to roblox and we can create
28:33 - sub places so like i said in the other
28:35 - video we can have one main place and
28:37 - then we can have places attached to it
28:40 - that we can teleport players to so
28:43 - a different place where you can have
28:44 - another server
28:46 - so we're going to click on the view tab
28:48 - i'm going to click on asset manager
28:50 - then we're going to click on places
28:52 - and you can see there's no places here
28:54 - so i'm going to right click and i'm
28:55 - going to click on add new place okay and
28:58 - it's created alvin block's place number
29:01 - 1017 so i'm going to right click on this
29:03 - i'm going to rename it i'm going to call
29:05 - it story place
29:07 - okay
29:08 - and now we have two different places we
29:10 - have the story game which is this one
29:12 - here this is the lobby area so i'm going
29:14 - to right click and rename this to lobby
29:16 - actually okay but this but this this is
29:18 - what will appear on the roblox game page
29:21 - right so if you wanted your game to have
29:23 - its own name such as like camping then
29:25 - you'd call it camping for example but
29:27 - the story place that doesn't matter
29:29 - because no one's really going to see
29:30 - that
29:31 - because that this is just the place
29:32 - where they're going to get teleported to
29:34 - where the actual game is going to be
29:36 - anyway once you've done that i'm going
29:37 - to right click on my story place and i'm
29:39 - going to copy the id to the clipboard
29:41 - then i'm going to go back to my script
29:43 - and i'm going to paste that id in here
29:45 - okay and this is telling the game
29:48 - telling the script which game which
29:50 - place we want to teleport the users to
29:52 - okay so once we've done that
29:56 - uh we are we are basically calling the
29:58 - teleport service up here at the top and
30:00 - this is the service we need to use in
30:02 - order to be able to teleport players in
30:04 - roblox to a different game so we say
30:07 - teleport service reserve server and then
30:09 - we give the
30:11 - id okay so that's like the access code
30:14 - to get in
30:17 - so we've basically said look hey roblox
30:19 - i want to teleport all of these players
30:22 - to
30:22 - my story place can you give me an access
30:25 - code so that i can let them in and then
30:27 - it will return the access code in the
30:30 - server data here and then all we need to
30:32 - do is say teleport service colon
30:34 - teleport a private server so it's going
30:36 - to create it's created this this is
30:39 - going to create this new server for our
30:40 - players with the place id so we're
30:42 - telling the game which place we want to
30:45 - take them to we've got the access code
30:47 - from the server data which we've just
30:49 - which we've just accessed by saying
30:51 - reserve server so we've reserved a
30:52 - server for our players to go to a nice
30:55 - private server for them to all be
30:57 - together we've got the access code for
30:59 - it and then we're passing that to our
31:01 - teleport as a private server function
31:03 - and we're also giving the list of
31:05 - players who we want to take with us okay
31:07 - so that's why we need to get the players
31:09 - earlier because we needed to have a list
31:11 - of all the players that are going to
31:12 - come with us because not all players
31:14 - that are in the lobby are going to be
31:15 - going to the story place because some
31:17 - might have just joined some might be in
31:19 - a different truck some might just be
31:20 - hanging out in the lobby etc and once
31:23 - we've teleported them we can return the
31:25 - trucks back to where they belong at this
31:27 - at the top of the lobby here so we want
31:29 - to bring them back so to do that we can
31:31 - count down
31:33 - we can count down again well we're
31:34 - counting up really from zero to 150 but
31:37 - we're just translating it by a negative
31:39 - value this time so when we translate it
31:41 - by a negative number such as negative
31:42 - 150 it's going to come backwards in the
31:45 - same direction
31:46 - and again we're using a weight 0.01 just
31:50 - so that each time that the eye changes
31:53 - to a different number you can see
31:56 - the car moving we have that slight delay
31:58 - so you can see it moving between each
32:00 - stud otherwise it would just move from
32:03 - the start to the end straight away and
32:05 - you wouldn't notice it
32:06 - so
32:07 - let's publish our game and let's go and
32:09 - try it out so i'm going to go and right
32:11 - click so i click on file and click
32:12 - publish to roblox
32:14 - and then i'm going to go to home i'm
32:16 - going to click on game settings and i go
32:18 - to security
32:19 - oh sorry i'm going to go to
32:22 - permissions and i'm going to set it to
32:24 - public
32:25 - or friends you can set it to friends if
32:26 - you want i mean it depends if you want
32:28 - your friends to be able to play it
32:29 - uh or just anyone on roadblock so i'm
32:31 - going to click on public and then click
32:33 - on save
32:34 - and then i'm going to click on this
32:36 - little link icon over here
32:38 - and if it doesn't give you it's not
32:41 - working for some reason but it should
32:42 - give you a link to your game
32:44 - if you don't manage to get the link like
32:46 - i haven't you can go to your web browser
32:48 - and you can go to the create tab on
32:51 - roblox i'll show you now and there'll be
32:53 - a link to your game
32:56 - so here we are in the roblox website so
32:59 - if you click on create in the top corner
33:01 - in the top middle or you go to
33:03 - roblox.com develop and you click on my
33:06 - creations you should see your lobby here
33:08 - so i'm going to click on the start place
33:11 - and i'm then going to click on play
33:15 - okay so here we go we have joined the
33:17 - place again you can see only the right
33:19 - side is working for now that's because
33:21 - we haven't put the script in the other
33:22 - truck but i can join my truck here it's
33:26 - going to leave in three two one
33:29 - and then
33:30 - the truck begins to move one step at a
33:32 - time
33:34 - and we're going into the darkness and
33:36 - then it's going back
33:37 - don't worry um we do stay in the truck
33:40 - but not for long
33:41 - maybe we should have a delay in there
33:43 - for about 10 seconds just to make sure
33:44 - the players get teleported but then you
33:46 - can see i get teleported to my lobby
33:49 - place so this is where we're going to
33:51 - have the story game where we're going to
33:52 - have the scripts contr control the story
33:54 - etc and that's what we will be looking
33:56 - at
33:57 - in the next video so if you want to go
34:00 - ahead and check that video out you can
34:02 - do so now the thumbnail is on the screen
34:04 - or the link is in the description for
34:05 - you don't forget if you want to become a
34:07 - channel member you can uh you can go
34:10 - ahead and just click on the drawing
34:12 - button otherwise let's just quickly add
34:15 - that script back to the
34:18 - uh of the truck and then we'll be ready
34:19 - to move on
34:22 - so back here in studio i'm just gonna go
34:24 - into the lane two into the truck i'm
34:26 - gonna take the script right click copy
34:29 - i'm gonna go to lane one
34:31 - into the truck i'm gonna paste it in
34:32 - there and it will do the exact same
34:34 - thing on the left side
34:38 - there you go you can see the left side
34:39 - is working as well so i'll see you in
34:42 - the next video

Cleaned transcript:

okay so welcome to the tutorial on how to build the story game now before we begin just remember that if you would like to get full access to the finished project so you'll have all of the code written and the game will be functional and you'll just be able to take it and without having to copy any of the code from this tutorial you can become a channel member and you'll need to become a premium member to do that you can click on the join button which is below this video next the subscribe button and it just is a great way to support the channel and as well as that like i said you get access to the source code from the video but if you don't want that don't worry you can just follow along copy the code as i do but just a quick word from me if the game doesn't work for some reason if the code that you've written isn't working and it's not like mine then what you should do is try to debug it because most of the time i get people telling me that it doesn't work but actually it does and they've just made a mistake when they've copied out the code so i'd say 99 of the time if it doesn't work for you it's because you've done something wrong you've copied it wrong you've forgotten to add a line of code that i did for example you've made a typo etc and a lot of the time you it's hard to notice these things so you could be looking over your code for a while you could be like oh it's not working it's not working and not realize that it's actually you that has done something wrong so i'm just outlining that at the start if you do whilst you're watching this tutorial at any point if you do find out or realize that your code isn't working that your game isn't working like mine don't worry pause it have a look through try to make sure see you've not done anything stupid like a typo or something but there are places you can go to get help you can use the roblox dev forum it's a great place to upload your code and to ask for help if it's not working just make sure to explain what's not working in detail and there'll be people who will help you without further ado let's get into the tutorial so we're going to click on the base plate template here and just load into a simple base plate and i'm going to go into the workspace over here and i'm going to click on the base plate click on the spawn location in the explorer panel and just delete it okay now i'm going to do is i'm going to use the kit so i've created a kit which will insert all of the important things you need for your story game so we're just going to skip the building of the lobby and the map because you might want to build your lobby a different in a different way you might want to make it look different to mine and since everybody's might be different we're just going to use a premade kit which i've created in advance that you can use for free to just give us a bit of a kick start get us a bit of a head start on the tutorial so that we don't have to waste time with the building when the thing that matters is the coding right we want to make sure that the code is in there and then once the game's completed you can go on and then change uh your your lobby your map etc so i'm going to click on the toolbox and we're going gonna click on uh well actually you need to get the model first so i'll leave a link to the description where you'll find a link to the model so if you click on that link and then just click on get or take just make sure that you you you buy or access the model it's free and that will just put it into your toolbox so once you've gone ahead and done that go to your uh your model section click on this little icon here and then it should be here look story game kit and then i'm going to click on that and it will insert everything we need for the lobby into our game so i'm going to just close down the toolbox here and what we've got is we've got the little spawn area over here we've got the two lanes for our trucks and then we've got a dark zone and this is where the trucks will will move into and it'll get darker and darker and then we will teleport them so what we need to do first is just move some of these assets around because they're not in the right place so we're going to take the exit gui now this is the thing that will show up on the screen when you get in a truck because you might want to actually get out of the truck before it leaves so we give the player an option to do that so if we take this exit gui and we just drop it into the starter gui here okay so once it's in the starter gui we're just going to leave it there and then the two remote events here called leave truck and show exit gui we're going to select those and we're going to just drag them into the replicated storage down here okay so we've got the grass spawn area and truck lanes in the workspace anything that's in the workspace uh can be seen in the viewport here so we can see our trucks we can see our grass we can see the spawn area etc so that's everything we need now once we've done that we need to start coding these trucks because they won't do anything for now so we need to make it so that when you walk up to the truck you sit in it and you might be able to see here that if we go into the let's see we go into the if you press alt here press down alt or option if you're on a mac and you hover over you can see that there's a part here and this is like a wall and when we touch this wall we are going to put the user into the truck so we've got we've got a wall for each side and we're going to create some scripts we're going to write some code which will detect when you touch one of these walls and when you do that we're going to put the user uh into the truck and they will sit in the truck here and then this will count down from 30 seconds i know it says 10 seconds but we can change that and when it gets to zero the truck is going to move all the way down here into the dark zone and then we will teleport the users so not too much uh coding will be used in this episode it's going to be fairly short and then we'll be able to move on to creating the story so let's get started so if we go and click on those walls again by pressing alt or option on a mac you'll see that we've got lane one detector in the lane one model inside the truck lanes and we've got lane two detector now both of these have scripts inside of them called detector script and i've written these already just to speed things up so we can move on to coding the truck but i just wanted to explain what this does because i want to make sure you're understanding the code i want to make sure that you know you're learning how to become a roblox developer because this stuff is quite important so this script is inside a part and that means that we can say script dot parents so the parent is the thing that the script is inside so in this case we're talking about the lane one detector when we say script dot parents and since the lane one detector is a part it has some events and this is a touched event so a touched event will trigger when a player touches the part so when the player goes up close to the wall and touches it then we are connecting that event trigger to this function and a function is just some prewritten code that we can run at a certain point so we are running this code when a player or an object touches the lane one detector but the problem is anything could touch the lane one detector it doesn't have to be a player it could be the truck might accidentally touch it or um you know another part might touch the lane one detector and that's obviously not a player so we only want to put the player in the truck if they are a player we don't want to go and put um let's say for example we don't want to put this sign in the tr in the truck if it accidentally touches this wall because it's quite close to it or if something accidentally falls from the sky or you know you get the idea right so we are just checking to make sure that the hit the thing that hits the lane detector is stored in within this function it's called an argument so this hit you can kind of think of it as like a substitute so if we were to substitute the hit with the actual part that touches the brick because we don't know what is going to touch this lane one detector so we're just using this hit argument as like a just like it was something that we can substitute in later to be the actual thing that touches it so anything that we do to the hit will be done to any object that touches our lane one detector so we're just calling a function in in the game.player service called get player from character and we're using the parents of the thing that hit the brick because the thing that's going to touch it if it's a player it's going to be one of their body parts so it could be their left arm their right arm their right leg their left leg for example so and you can actually see if we play the game you'll see that in your roblox character which spawns in the explorer you'll see that you've got a left foot left hand left lower arm so when you touch this detector brick it's not going to be your player that touches it it's going to be one of your body parts so it could be your left lower arm your left lower leg so if my left arm touched that invisible part then the hit would be my left arm it wouldn't be my player and the the body parts are inside of my character model so the parent of that body part will be my character model so we're just doing a check here to make sure that there is actually a player uh attributed to my character and this will either be true or false so this function which is a builtin function to roblox it's already precoded by roblox it just allows us to do a simple check to see if there is a player linked to this character or this model so for example if a part like that sign touched it then its parent would be the model of the sign probably so it would probably be this sign model here and this function would just tell you that no that is not a player so it would return false and then we're just storing that in a variable for now so that we can reference it later on a variable is just a a piece of data piece of information that can be stored under a name like plr or player that's what it's short for and that will hold the true or false value so if it is a player then this if statement is going to run it's going to execute any code inside of it so if the player is true so if player then is the same thing as saying if the player variable is equal to true so if it is true then we're going to find them a seat on our truck and to do that we are going to say script dot parent dot parent so you can see the script here the first parent is the lane one detector the second parent is the thing that the lane one detector is inside of and the lane one detector is inside of a model called lane one you can see if we collapse and expand you can see it's inside of it and then the parent of that lane one is the truck lanes right so inside of the truck lanes sorry no if we it would be lane one because we're going back one step two step so look detective script is where we start off the script we go back a step to the parent which is laying on the detector and then we go back another step to the parent of that which is the lane one and inside the lane one which is the equivalent of script or parent apparent we have a truck and inside this truck you can see here this is the truck inside this truck we have another model called seats and inside the seats model we have a load of seats here and what we can do is we can go to our detector scripts and we say colon get children so we are just getting all of these seats here and we're adding them to a table a table is just a set of data or a set of objects that we can loop through so we're going to loop through all of those truck seats and we're going to put the player into the seat if it's not already occupied so v is each individual seat that we look through so it would be this seat then v would be the next one and the next one and the next one and the next one and the next one until it's looped through every single seat so for every single seat in the truck we're checking to make sure it's not already occupied because each seat has a property called occupied oh sorry occupant so it's going to be the object of the player that's sitting in it so we can say if not veda occupant and that's the same thing as saying if there is no occupant of the seat then it's empty and we only want to put them in the seat if it's empty so this if statement will only run if the seat is empty and then we can call a function on the seat called sit and then we just put the character's humanoid in there the humanoid is an object attributed to the sorry inside the player's character which um gives them the ability to walk and move and it makes them a player pretty much and so what we can do is we can specify that players humanoid the player who touched the brick and that will sit them in the seat and then we're going to set their jump power to be zero that's a property of their humanoid again another thing that just makes the player work and act like a player it has a property called jump power and if that's set to zero it means that they can't press the space bar and jump out instead we want to show that gui which will let them click exit and then if they do click on that then they will be teleported back to the spawn area so we're just firing a remote event to that player which will enable that gui to appear and we'll talk more about that in a little bit but then we just break out of this for loop because we found a seat for them all that this for loop did was just loop through each seat until we found one that wasn't occupied now it could be that all of the seats are empty and the first one that we looped through was not occupied and we didn't have to go through any more or it could have been that we looped through every single one until we got to the end and the last one was was empty so we could put them in that one so that's what we're using the loop for but if we go and play the game you'll see that uh if we roll up to one of these detectors over here and you can see it sits us in the seat and the leaf button appears on the screen and if we click on the leave button uh nothing happens right now but that is because we haven't coded it yet so let's go ahead and look at the code for that now now if we go into the started gui and we look at our exit gui you can see you've got the exit button and there's a property of that called visible and that's what makes the gui appear or not now all we're going to focus on is this client exit button because i've already put this in the gui and i've written some code which will make it appear when that show exit gui remote events is fired that's what we fired from our detector script here we're picking it up in our local script and we're making the exit button visible now i also have another event for when you click on the exit button so when the exit button gets clicked we're connecting it to another function and the code that will run when you click on this button is it will make the button invisible again but it will also fire the remote event called leave truck we haven't coded that remote event on the server yet so nothing's happening when we're firing this event but we want to pick up this remote event and when a player does fire this leaf truck remote event on the server we can teleport them back to the spawn area so what i'm going to do is i'm going to click on the plus next to server script service and i'm going to insert a script i want to call this script leave truck okay so call it leave truck and put it in the server script service now all we're going to do is we're going to say game dot replicated storage dot leave truck dot on server event colon connect and then inside of these brackets we're gonna write function we're gonna then put another pair of brackets like this we're gonna drop a line and we should just have this end with a closing bracket added on here and then inside of these brackets next to function we can put player because this is going to be the player who fires the remote event so it gives us another reference to them we don't know who it's going to be but we can use this player argument so that anything we do to the player within this script will be done to any player who fires the event and we just want to check to make sure that the player is still in the game so if player then we can say player colon load character like this okay so we do a player colon load character and then a pair of brackets because this is calling a function and this function will respawn the player and it will put them back on a spawn point okay so let's play the game again and see the changes that we've made so we're going to walk over to our truck we get placed into the seat we click on leave and our player gets respawned so we're now out of the truck okay and again boom you see how it works so next we need to make our trucks move because currently the sign is counting down but when it gets down to zero nothing's happening and also i'll walk through the code for the signs as well only one of them is working at the moment but don't worry we'll make both of them work i'll just give you an overview of the code so if we go into our truck lanes over here and we click on lane two and we click on the truck you'll see that there is a script within this truck and this is the script which is going to make the countdown on the sign the reserving of the server for the story game and making the truck move it that's what's going to control all of this now it's only in the truck on the right side okay that's why the sign on the right side was counting down but the one on the left wasn't and that's fine we can duplicate this script and put it into the other truck and once you've gone through it but i just wanted to explain line by line what's going on in this script so firstly let's just focus on this wild true do loop so a while true do loop will run any code inside of it forever and ever and ever as long as the condition in the middle is true so it could be a check such as while two plus two is equal to four or while uh my variable is equal to true whatever but if we just want it to run regardless of the condition we can say while true do and this will make a repeating loop which just repeats over and over again and it won't ever be stopped until the server is shut down so this will just keep on making the trucks leave and then they'll come back and then they'll leave come back teleporting people to and from the story game forever and ever whilst people are still in the game so what we're doing first is we are creating a for loop and a for loop is used to count down or count up but in this case we're counting down from 15 seconds down to zero and we're going from so look we're going from 15 down to zero and we're counting down by minus one each time that's all that we're doing here and then the value from 15 down to zero gets stored in this variable called i so we can refer to the number of seconds to left by saying i and then what we're doing is we're getting the sign and the wooden sign which is here getting that wooden sign and we're saying by saying script dot parent which is the truck and we're saying dot parent which is lane two we're getting the sign which is inside of it and inside of the sign there is a part called top which is the top part that's got a surface gui inside of it and inside a surface gui which basically projects a gui onto a surface like this there's a text label and that text label has some text so we could write whatever we want on this sign such as subscribe to alvin blocks if you haven't done that already i do recommend it so you can write whatever you want on this sign but we can also update it via a script so every second we're going to update it to say leaving in 10 leaving in 9 leaving an 8 etc so if we go back to our script here in the top you can see that we're just changing the text property to a string and a string is just uh some some information so it's a data type which holds text so if we want to write text we have to write it in a string like that but we also want to include the number of seconds left so what we can do is we can say dot dot outside of our string we close them off with a with speech marks like that or a quote mark we say dot dot i dot dot and then we have another string with a space so that the words are separated from our number and we put seconds like that okay and then we just have a weight one so that it delays from moving on to the next number if we didn't have a weight one it would count down immediately like that it would just go 15 to zero nothing in between because it's going so fast that we can't notice the difference so we have that weight one delay so we can notice the difference as it counts down each second so then once it's counted down to zero if it's out of this for loop because in a for loop it will go okay 15 we'll do the code do the code it gets to the end it will go back to the top 14. do the code to the code back to the top 13 code code you get the idea so once it gets to the bottom to this weight one once that's finished it goes back to the top again and only when it's at zero so when it goes one okay do the code zero okay we're at zero so we're going to stop and then it moves on so it will only move on when the countdown is at zero so at this point and this is a comment by the way if you see two hyphens like this it's just a comment so it's where we can add a note to self or just explain what's going on and the script will ignore it so when it gets to this point in the code the countdown is finished so we want to um get all of the players that are in the truck and we want to um move the truck and put them into the server so what we're doing is we're creating a table to store all of the players that are sitting down and then we're going to our seats um model which is here and we're looping through all of those seats again that are there in that model and for every single seat we're checking to see if that occupant value that occu can't talk occupant value occupant property even we're checking if the occupant property of the seat is it's got something stored in it okay so if there is somebody sitting in this seat we're going to insert them to this table so into the players table we are inserting their player but since it's their character that sat in the seat and not their player which is stored in the player service they're two different things we're getting their player from their character okay if we play the game very quickly you'll see that in the workspace we have the player's character in the players service we actually have their player and the player is where we want to store their player we don't want to store their character so we're calling another function of game dot players called get player from character and we are passing through some information for the occupant um and it's going to be there there the occupant i believe is their humanoid and um the parent will be the character object yes because look the occupant value is the humanoid the inside of the character so like i said earlier the humanoid is that object which all players characters have inside of and when we use the sit function to sit them in the seats we are referring to their humanoid so that will just get all of the players sitting in the truck and it will put them in this table so we now know all of the players who we need to teleport to the server so we can then do a check and if statement to make sure there are actually some players sitting in the truck because there could be no players in the truck and we would loop through all of the seats and find out that there's no occupants so this table could be empty and it would have it would have no data inside of it no elements inside of it so to check how many objects are in a table in this case how many players are in the table we put a hashtag before the table name so hashtag players will return the number of objects in this table and if it's greater than zero so if there's if there is at least one player in this table we will move the truck okay we will move the truck and to do that we're again counting up from zero to 150 we're going up by one each time though okay and this is going to be the number of studs which the truck moves by so i'm going to make the truck move 150 studs in the forward direction so it's going to go from here it's going to go all the way let's use the other truck here it's going to go all the way into them okay and that's about 150 studs away i measured it so we want the truck to move one stud at a time uh to 150 studs away and so what this for loop is going to do is we're going to count it from zero to 150 and i is our variable again the i variable will be that running counter so it will be one the first time then it will be two then it will be three then it will be four stoods and it will be five studs six studs all the way up to 150 studs so every single time this loops through it's going to move the truck forwards okay going to move the truck forwards by about one stood okay that's what a look vector is when we say script dot parent dot hit hit box dot c frame dot look vector that is getting the truck and then it's getting the hitbox part which surrounds it so basically it's just one big part that covers the entire truck and then it's getting its c frame which is its position with rotation so it's getting that and then the look vector gives us the direction that it's currently traveling in so the look vector would be facing in this direction okay and it would just it would be about one stood long so every single time this for loop loops through it's translating the truck so it's essentially moving it in a direction by about one stud each time but when you do that 150 times then it's moving it one stood 150 times and eventually you will get to this dark area and it will look like the truck is moving so essentially it's just moving forward stood order stood forward and we'll keep on doing that until you can see it's starting to you know move away from the truck the truck would be moving with it um but it would move the entire truck to the uh into the darkness here so let's just put that back where it belongs in there there we go so yeah it would move the truck forwards okay and when we move that hitbox because the hitbox is the primary part um when that primary part moves when the hitbox moves the rest of the truck will move with it so if you changed 150 to 30 for example it would only go 30 studs forward so the 150 is just how far it's going to go in studs and then once it's got to the darkness we are going to reserve a server for our story game but we haven't made the story game yet so what we need to do is we need to make another place for our story game and you can see that there's an id in the reserve server function here we're going to remove this because this will not work for us we need to create our own place okay that was from my own story game but we need to make our own so what we're going to do is we're going to go to the base plate here and we're going to click on file and then we're going to click on publish to row blocks as uh yeah we're going to produce a relax and then we're going to click on create new game and i'm going to call my game alvin blocks's story game okay i'm going to click on create and once that's created we've now created our games universe so we've published it to roblox and we can create sub places so like i said in the other video we can have one main place and then we can have places attached to it that we can teleport players to so a different place where you can have another server so we're going to click on the view tab i'm going to click on asset manager then we're going to click on places and you can see there's no places here so i'm going to right click and i'm going to click on add new place okay and it's created alvin block's place number 1017 so i'm going to right click on this i'm going to rename it i'm going to call it story place okay and now we have two different places we have the story game which is this one here this is the lobby area so i'm going to right click and rename this to lobby actually okay but this but this this is what will appear on the roblox game page right so if you wanted your game to have its own name such as like camping then you'd call it camping for example but the story place that doesn't matter because no one's really going to see that because that this is just the place where they're going to get teleported to where the actual game is going to be anyway once you've done that i'm going to right click on my story place and i'm going to copy the id to the clipboard then i'm going to go back to my script and i'm going to paste that id in here okay and this is telling the game telling the script which game which place we want to teleport the users to okay so once we've done that uh we are we are basically calling the teleport service up here at the top and this is the service we need to use in order to be able to teleport players in roblox to a different game so we say teleport service reserve server and then we give the id okay so that's like the access code to get in so we've basically said look hey roblox i want to teleport all of these players to my story place can you give me an access code so that i can let them in and then it will return the access code in the server data here and then all we need to do is say teleport service colon teleport a private server so it's going to create it's created this this is going to create this new server for our players with the place id so we're telling the game which place we want to take them to we've got the access code from the server data which we've just which we've just accessed by saying reserve server so we've reserved a server for our players to go to a nice private server for them to all be together we've got the access code for it and then we're passing that to our teleport as a private server function and we're also giving the list of players who we want to take with us okay so that's why we need to get the players earlier because we needed to have a list of all the players that are going to come with us because not all players that are in the lobby are going to be going to the story place because some might have just joined some might be in a different truck some might just be hanging out in the lobby etc and once we've teleported them we can return the trucks back to where they belong at this at the top of the lobby here so we want to bring them back so to do that we can count down we can count down again well we're counting up really from zero to 150 but we're just translating it by a negative value this time so when we translate it by a negative number such as negative 150 it's going to come backwards in the same direction and again we're using a weight 0.01 just so that each time that the eye changes to a different number you can see the car moving we have that slight delay so you can see it moving between each stud otherwise it would just move from the start to the end straight away and you wouldn't notice it so let's publish our game and let's go and try it out so i'm going to go and right click so i click on file and click publish to roblox and then i'm going to go to home i'm going to click on game settings and i go to security oh sorry i'm going to go to permissions and i'm going to set it to public or friends you can set it to friends if you want i mean it depends if you want your friends to be able to play it uh or just anyone on roadblock so i'm going to click on public and then click on save and then i'm going to click on this little link icon over here and if it doesn't give you it's not working for some reason but it should give you a link to your game if you don't manage to get the link like i haven't you can go to your web browser and you can go to the create tab on roblox i'll show you now and there'll be a link to your game so here we are in the roblox website so if you click on create in the top corner in the top middle or you go to roblox.com develop and you click on my creations you should see your lobby here so i'm going to click on the start place and i'm then going to click on play okay so here we go we have joined the place again you can see only the right side is working for now that's because we haven't put the script in the other truck but i can join my truck here it's going to leave in three two one and then the truck begins to move one step at a time and we're going into the darkness and then it's going back don't worry um we do stay in the truck but not for long maybe we should have a delay in there for about 10 seconds just to make sure the players get teleported but then you can see i get teleported to my lobby place so this is where we're going to have the story game where we're going to have the scripts contr control the story etc and that's what we will be looking at in the next video so if you want to go ahead and check that video out you can do so now the thumbnail is on the screen or the link is in the description for you don't forget if you want to become a channel member you can uh you can go ahead and just click on the drawing button otherwise let's just quickly add that script back to the uh of the truck and then we'll be ready to move on so back here in studio i'm just gonna go into the lane two into the truck i'm gonna take the script right click copy i'm gonna go to lane one into the truck i'm gonna paste it in there and it will do the exact same thing on the left side there you go you can see the left side is working as well so i'll see you in the next video
