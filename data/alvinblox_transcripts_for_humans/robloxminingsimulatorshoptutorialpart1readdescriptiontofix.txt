With timestamps:

00:00 - in this video I'm going to be showing
00:02 - you how to create a mining simulator
00:04 - shop on a roblox so that you can enter
00:07 - the shop like this and be able to buy
00:11 - different items in your game and equip
00:15 - them
00:18 - if you need to much on all make sure to
00:20 - subscribe and click on the notification
00:22 - bell so you never miss out when I upload
00:26 - a brand new video okay so let's get
00:29 - started now I might have a few things
00:32 - which you might not be able to access in
00:35 - your studio and this is because I have
00:37 - quite a few plugins installed to my
00:39 - roblox studio for example this time
00:41 - tracker and I also have some other ones
00:43 - which we might be using in this tutorial
00:45 - so I recommend you download some of them
00:47 - and I will be letting you know when we
00:49 - use them just so that the tutorial can
00:52 - be a little bit quicker and we can have
00:54 - this mining simulator shop made in much
00:58 - faster time so let's begin the first
01:01 - thing that we're going to do is we're
01:03 - going to create a backdrop and this is
01:05 - the backdrop that you're going to see
01:06 - when you enter the shop where all the
01:08 - items are so let's insert a part and
01:11 - let's just call it backdrop
01:14 - and once you've done that we're just
01:17 - going to make the backdrop quite long
01:20 - and we're going to just make it wide
01:24 - enough so we can have some boxes on it
01:26 - and then we're gonna want to copy and
01:29 - paste or duplicate this part and we're
01:32 - gonna just resize it so that it's a back
01:35 - wall just like this so when we open the
01:39 - shop what we're going to do we're going
01:40 - to position our camera so that the
01:42 - camera is looking at the wall like this
01:44 - and then we will have a box in the
01:47 - middle of our screen containing the item
01:49 - so let's go and select these two items
01:54 - these two parts let's make sure that
01:56 - they're anchored in the properties
01:58 - window you need to open up the
02:00 - properties window the Explorer window
02:01 - now you don't need to open the game
02:03 - panel and you also will need to open up
02:06 - the output when we do the scripting so
02:08 - once we've done that we can give it some
02:10 - color I'm gonna make mine grey and you
02:14 - want to make sure that they're called
02:15 - backdrop then you can anchor the tank
02:19 - group the two parts together by pressing
02:21 - ctrl G and we can call this model
02:24 - backdrop you need to call your models
02:27 - exactly the same as what I call them
02:29 - else the script might not work we're
02:32 - then going to want to start designing
02:33 - our box now we're gonna have to actually
02:37 - create our box now what I'm going to do
02:39 - is I'm just going to copy this box in
02:42 - from the place file so you can see what
02:44 - it looks like so this is what we're
02:46 - gonna be making it's a box
02:48 - so it's got its got one two three four
02:51 - five sides including the bottom so five
02:56 - different parts and in the middle we've
02:58 - got a box or part called the hip box
03:01 - this is where the tool is going to go in
03:04 - so if we want to buy a gun and the gun
03:06 - is going to go inside this hip box or in
03:09 - the hitboxes position and then we've got
03:12 - another part called the cam part and
03:13 - this is where the camera is going to be
03:16 - looking so you can see the parts here so
03:18 - the camera is going to be looking this
03:21 - way okay where where the blue circle is
03:24 - so the camera view will look like this
03:27 - so we're going to take this
03:28 - box and we're gonna position it over
03:31 - here at the start and we're just going
03:34 - to rotate it so that the camper is
03:37 - looking directly at the gray wall like
03:42 - this so this is what the camera will be
03:46 - looking like when we go into the shop
03:47 - now we're just going to extend the
03:50 - backdrop a little bit further so that we
03:53 - can actually see the wall instead of the
03:56 - rest of the world so if we go and have a
03:59 - look now you can see we just see the
04:01 - backdrop and it's starting to look more
04:03 - like a mining simulator shop as you'd
04:06 - see in a hit game so what we're gonna do
04:09 - now what's gonna happen is we're gonna
04:12 - have this box I'm gonna create a script
04:15 - which will take this box and duplicate
04:18 - it for however many boxes or items we
04:22 - have in the game so what we're gonna do
04:24 - is we're gonna take this box 0 and it's
04:27 - very important that it's called box 0
04:28 - and it has all of these different parts
04:30 - in it you have to have a hit box and you
04:32 - have to have a camp art now I would
04:34 - suggest you just take the model which
04:36 - will be in the description and you add
04:38 - this into your game just so that it
04:40 - saves time and you know what you're
04:41 - doing because once you have my model you
04:43 - can change it however however you want
04:45 - it to to be and it will still work so
04:48 - we're gonna take the box 0 and the
04:50 - backdrop and we're going to just group
04:52 - these together so now we've got one big
04:55 - model and we can call this model the
04:57 - item roller okay make sure to spell it
05:01 - just as I do and now that is the first
05:04 - part of the video done the main part
05:06 - where the boxes are going to go so what
05:09 - we can do is we can insert a script and
05:11 - we can begin working on on scripting it
05:14 - so that it inserts enough boxes for each
05:17 - item in the game so let's go into
05:21 - service script service here and insert a
05:24 - script and we shall get to the scripting
05:27 - part so if we just go into the script
05:31 - make a little bit bigger and what we
05:34 - want to do is we want to get the number
05:38 - of tools that we're gonna sell in the
05:40 - game
05:41 - so in the server storage what we're
05:43 - gonna do is we're going to I don't mind
05:46 - this folder it's just because I've got a
05:48 - plug-in in studio we're going to do is
05:51 - we're going to insert a folder in fact
05:55 - we're going to insert a few folders
05:57 - while we're at it
05:59 - they'll eat this one we're gonna insert
06:02 - a folder called tools we're gonna insert
06:10 - another one which is called player tools
06:13 - and another one which we're going to
06:18 - call tool models this will all make
06:22 - sense in a minute and that's all we need
06:26 - we just need one folder cool tools
06:28 - uncle tool models and another one called
06:31 - player tools so what we're gonna do with
06:34 - these folders for player tools we're
06:39 - going to store all of the tools which
06:41 - the player has so it will be their
06:43 - inventory so that we can equip and
06:45 - unequip certain tools from this
06:47 - inventory the tool models is where we're
06:50 - going to store the actual tool objects
06:52 - and the tools folder is going to what
06:56 - actually the tools folder is where all
06:59 - of the tools are going to be stored
07:00 - which the player will be able to equip
07:02 - the tool models is where we're going to
07:05 - just put the the model or the handle of
07:08 - the tool so it's not going to be an
07:09 - actual working tool it's just going to
07:11 - be how the model of what the the part
07:14 - which which you'll see so the actual
07:16 - tool so that we can put it in these
07:18 - boxes and then the as we said the player
07:23 - tools will just be like their inventory
07:25 - for each player and then we use saving
07:27 - to save the players tools and load them
07:30 - in when they rejoin the game so what
07:33 - we're going to do we're going to insert
07:34 - some tools into our game now I've got
07:37 - some tools over here which I am going to
07:39 - use so we've got four drills okay and
07:44 - let's just insert them into the
07:46 - workspace now I'm going to do is I'm
07:48 - just gonna move these tools over here
07:50 - but we should have four different tools
07:52 - they're just all in the same position
07:54 - okay so let's just move them out here
07:59 - this okay so we have got a so we've got
08:03 - four drills one of them is called the
08:05 - normal power drill one is called super
08:07 - power drill one is called better power
08:09 - drill and one is called normal power
08:12 - drill so these different tools will be
08:15 - what we're gonna sell now if you have
08:17 - more tools then you're just going to do
08:19 - the same of what we do now and just
08:21 - replicate the process for every new tool
08:23 - that you add and I might go over that at
08:26 - the end if you have more more tools
08:28 - because obviously you're gonna have
08:29 - different tools to me which you want to
08:31 - sell in your game so what we're going to
08:33 - do is we're going to take these tools
08:37 - and just put them into the tools folder
08:42 - just like that what we're going to do
08:45 - now is we're going to want to make
08:49 - copies of these tools
08:52 - so copy them and we want to paste this
08:55 - into tool models okay tool models is
08:57 - where we're going to just have the
09:00 - handle or the parts so what it looks
09:02 - like
09:02 - no scripts or anything so we want to
09:06 - convert this tool into a model what you
09:10 - want to do is you just want to take
09:11 - everything inside of each tool
09:16 - cut it and then insert a model and paste
09:21 - those objects into that model and just
09:24 - give it the same name as the tool which
09:26 - you copied them from so this will become
09:28 - the better power drill model and we can
09:32 - do the same with the epic power drill
09:35 - duplicate it so duplicate everything
09:39 - inside so cut it and then insert a model
09:43 - called epic power drill
09:48 - and we can just insert the children so
09:55 - you get the idea I'm just gonna keep
09:57 - doing this until we have done all of the
09:59 - four tools
10:01 - okay so all of the parts inside of the
10:04 - tools have been converted to models and
10:06 - so now we've got the models of the tools
10:08 - so that we can display them in these
10:11 - boxes so we can now write a script which
10:14 - will take all of these tools and put
10:16 - them up for sale in the shop so to do
10:20 - this we're going to want to create a
10:23 - variable which is going to be where
10:26 - these tools are stored so the tool model
10:28 - section so what we can do is we can go
10:32 - into our script here delete this print
10:34 - hello world and we're gonna say the we
10:37 - want to generate the blocks here so
10:39 - generate blocks now I am using the dark
10:42 - theme in studio you can turn on in
10:44 - settings so we're going to say local
10:47 - number of blocks equals and then we need
10:52 - ooh a hashtag and then we want to have a
10:56 - table after this okay so we're gonna put
10:58 - into a table all of these two models
11:01 - here so we can say game get service and
11:07 - we say server storage
11:10 - and then we can say come on wait for
11:12 - child tall models get children hey so
11:19 - what we're doing here is we are getting
11:22 - server storage which is where the two
11:24 - models folder is waiting for the child
11:27 - to models to be added and we're getting
11:29 - everything inside of two models so every
11:33 - single model here it will become a table
11:37 - now if you don't know what tables are
11:39 - basically looks like this so we've got a
11:43 - variable and then we have all of our
11:44 - different objects here in a table so we
11:48 - would have super power drill example and
11:52 - then for the better power drill
11:54 - epic power drill normal power drill so
12:00 - it's all on the table and it basically
12:01 - allows us to loop through each item on
12:05 - the table and do something for each item
12:08 - so for example we want to create a new
12:11 - box for every item and put that item
12:13 - inside of the box so that we can see
12:16 - it's for sale in the shop and we can
12:17 - move between it so that is a table and
12:20 - what we've done is you've just defined a
12:23 - table here so when you do get children
12:25 - it puts all of your items into a table
12:27 - and then we do the hash tag so that you
12:30 - can see how many items are in that table
12:33 - okay so now we've done that we want to
12:36 - have a stood gap so between each box we
12:40 - want a gap between them okay so the gap
12:43 - is going to be around about nine or ten
12:46 - stood okay so i've tested this out and
12:48 - the gap between this box okay and say if
12:52 - we had another box a gap would be about
12:55 - this much so that it's enough for us to
12:59 - be able to click a button and move on to
13:02 - the next one like this so let's just
13:04 - delete this box
13:09 - and let's go back into the script I want
13:12 - to do local stood gap equal to nine
13:15 - so this is gonna be the gap between each
13:18 - box all right
13:21 - so we want to get our first box so we're
13:24 - gonna do a for loop soon to loop through
13:27 - the number of things for sale I'm gonna
13:29 - clone this box okay so we want to create
13:34 - a variable for this box because I'm
13:35 - gonna be using it quite often so just
13:37 - that we don't have to keep saying you
13:39 - know gained or service storage dots so
13:43 - again it works based on box zero clone
13:46 - we can just have variable for that box
13:48 - so you can say local box equals and game
13:53 - got workspace Curran wait for child
13:58 - item holder box zero ok so we're waiting
14:04 - for this box as this item holder model
14:07 - to be added to the workspace and then we
14:09 - say box zero to get the box template and
14:13 - then we're going to our for loop which
14:15 - creates all of the boxes so if we add
14:18 - another item for sale the script is
14:21 - going to add another box automatically
14:23 - do the positioning and it will put that
14:26 - item into the shop so this tutorial with
14:31 - this this shop is gonna work no matter
14:33 - how many items you have in your game you
14:37 - could start off with one you could then
14:39 - add a 500 different items with their for
14:41 - sale into your game and there would be
14:44 - 500 boxes created
14:48 - so to do this we need a four loop so we
14:50 - can say for now I equals 1 comma number
14:55 - of blocks
14:58 - negative one one do this all makes sense
15:03 - in a moment I'll explain it so what
15:05 - we're doing is we are looping through
15:09 - every single box okay so good so we've
15:15 - got the number of locks here so because
15:19 - we've got this table of blocks we are
15:21 - basically getting a number of how many
15:25 - items are in this table okay so if
15:27 - there's five items in the table number
15:29 - of blocks is going to be five now
15:31 - because we've already got one box added
15:34 - in which isn't going to be added by the
15:35 - scripts because it's already there we're
15:37 - gonna put our first item into box zero
15:41 - okay so the way we're going to do this
15:43 - is we're gonna use this for loop and I
15:46 - is going to be the number of the box
15:48 - which we're currently looping through so
15:50 - on the first time it will be looking for
15:52 - box and then because I is equal to 1
15:55 - we'll have box 1 but because the
15:59 - template box is called box 0 we want to
16:02 - do we want to start off at zero so we
16:05 - can say number of blocks negative one so
16:09 - we're starting off at 1 Brasi was
16:11 - starting for 0 because we're doing
16:13 - number of blocks minus 1 so what we can
16:18 - do is we can say new box equals box :
16:22 - clone new box and now we want to
16:26 - position the bottom of the box so to
16:28 - move it 9 studs away from the last one
16:31 - we can do new box : set primary part C
16:36 - frame and then in brackets we can do new
16:40 - box primary part up C frame x C frame
16:46 - new
16:49 - and then we can do 16 x i00
16:55 - now
16:57 - the reason that we're doing this is
17:00 - let's change this yeah so we're taking
17:04 - the current C frame of the primary part
17:06 - so the box here has to have a primary
17:09 - partner because it's a model you can't
17:11 - just say model dot position you have to
17:13 - get the primary part and whenever you
17:15 - move the primary part everything else in
17:18 - the model will move according to how far
17:21 - the primary parts moved so if the
17:22 - primary part has moved to stood to the
17:24 - left everything else is going to move to
17:26 - stood to the left as well so we are
17:29 - taking the currency frame value and
17:31 - we're just multiplying it on the x-axis
17:35 - so we're basically moving it to the
17:37 - right by 16 stud snow I think we won't
17:42 - use the stud gap actually I think I
17:44 - changed it so that we used 16 which is
17:47 - why might not need to use it so we're
17:51 - moving it 16 studs multiplied by I so if
17:54 - we're on the second box obviously we
17:56 - don't want to move it to the same place
17:59 - as the last box so we remove it by 16
18:02 - times I so four on second box it's going
18:04 - to move 32 studs from the original box
18:07 - and if it's the third box it's gonna
18:11 - move 48 studs from the first box so you
18:15 - can see as we add more boxes the the
18:19 - increment here is going to be increasing
18:22 - to run our 500th box
18:24 - what's that 500 times 16 is I don't know
18:29 - it's gonna be a long way away from the
18:31 - origin right which is the first box
18:33 - position so that's what we're doing
18:35 - we're just moving this box away from the
18:38 - origin and then we want to give this box
18:40 - and name so it's a new box name equals
18:44 - box now we want to name it box so if
18:49 - it's box 0 the next box is gonna be
18:50 - called box 1 or box 2 or box 3 or box
18:53 - for box 5 so we do dot I and this
18:57 - concatenates the string so you have box
19:02 - and then you add on the number which
19:04 - were currently on and obviously that's
19:07 - going to change so we say I
19:11 - and then what we're going to do is we're
19:13 - gonna just set the parent of this box to
19:16 - put it into the item or roller swings a
19:18 - new box but parent equals game dot work
19:22 - space dot item or roll-up just like that
19:25 - so there we go we have now set up the
19:29 - code which is going to add the number of
19:33 - blocks for us now let's go and test this
19:35 - out and see if it works now it might not
19:38 - work because this is the first time
19:40 - we've ever done it but if it does I'll
19:44 - be very good so let's just wait for it
19:45 - to load up and okay so it did not work
19:48 - so let's go have a look maybe we missed
19:51 - out something
19:53 - okay so we've got an error and it says
19:56 - infinite yield or it's not really an
19:58 - error it's a warning but what this means
20:00 - is that there is an infinite yield on
20:02 - item holder so this means it could be
20:05 - waiting forever force for item all dirt
20:11 - mmm sour look it's on on high so I put
20:18 - item holder instead of item roller it
20:20 - should be item roller and if we go and
20:24 - run it again boxes should be created so
20:27 - there we go you can see it has created
20:29 - four boxes each with a stood gap of 16
20:33 - it's I think soon see first box here box
20:38 - one is 16 studs away from ox 0 box 2 is
20:44 - 32 studs away from the origin and box 3
20:48 - well the fourth box because this one
20:50 - started at 0 is 48 stood away from the
20:53 - origin because it's the third one from
20:57 - box 0 so there we go that's the first
21:00 - part done we have got our boxes being
21:03 - made and now we just need to code it so
21:07 - that the items get added in to the the
21:12 - boxes all right so let's continue so
21:17 - what we want to do now is you want to
21:18 - loop through all of these 2 models in
21:20 - server storage and we want to create a
21:23 - clone of each model and we want to put
21:27 - this clone we want to put the clone into
21:31 - the boxes ok so if we had say we had 500
21:38 - models ok we want to loop through
21:40 - obviously putting each model into a new
21:43 - box is gonna be really inefficient ok so
21:46 - if you were just putting it in one by
21:47 - one and updating the game that is not
21:50 - very good at all because say you wanted
21:52 - to take you want to devote an item or
21:55 - take out your game or I don't know
21:57 - change the way it looks you have to you
22:00 - have to move everything else down along
22:02 - so we can just get a script to do this
22:05 - for us so let's go back into our main
22:07 - script and let's just do a in pairs loop
22:11 - so for I comma V in pairs and say game
22:16 - dot server storage
22:18 - and then we say dots tall models held on
22:25 - get children do okay so we're looping
22:32 - through everything inside the tool
22:34 - modules folder I is going to be the
22:36 - number of times it's looped through and
22:38 - V is gonna be the item which we're
22:41 - currently iterating over okay so be
22:43 - could be this one on the first loop on
22:46 - the second loop round it could be this
22:48 - one third time it could be this object
22:50 - on the fourth time it could be this one
22:52 - I'll see on the fifth time it would not
22:54 - run because it's run out of things to
22:56 - loop through so for each item we just
23:00 - want to check to see if there is V so if
23:04 - the items actually there and it hasn't
23:06 - been mysteriously deleted we can say new
23:10 - equals V :
23:12 - clone cloning the model and we can set
23:16 - the primary part C frame of that tool
23:18 - new set primary part C frame game dot
23:27 - workspace dot item roller and then in
23:31 - square brackets we want to get the name
23:33 - of the box so we say box dot I minus one
23:38 - now remember because we're starting off
23:41 - at one but remember the boxes start off
23:44 - at box zero and then it goes to box one
23:46 - so we're saying I minus one and then we
23:50 - say got hit box dot C frame just like
23:57 - this
23:58 - so we're setting the primary part I
24:00 - never want to parent this so noodle
24:03 - parent equals game but workspace dot
24:06 - item roll-up
24:09 - and then in square brackets we can say
24:11 - in box dot I minus one so what we're
24:16 - doing is we're putting the model into
24:19 - the item roller inside of each box model
24:22 - so as I said earlier we start enough at
24:26 - one so you have to do I minus one to
24:29 - allow it to cater for box zero now if we
24:34 - check this out what should happen is
24:37 - each tool model should be added into its
24:41 - box and it doesn't because it's an error
24:43 - let's have a look
24:44 - so the error says
24:48 - model set privacy frame failed because
24:51 - no primary part has been set or primary
24:54 - part no longer exists now this is a
24:56 - common error and this is because we did
24:59 - not set a primary part to set a primary
25:01 - part of a model if you want to move it
25:04 - you have to click on your model and you
25:07 - have to then click on primary part in
25:10 - properties and select which one you want
25:13 - to be your primary part now in our case
25:16 - with our drills we're gonna set the
25:18 - primary part as base ok it doesn't
25:21 - really matter but we're just gonna set
25:23 - ours to base for each model whenever you
25:27 - add a new tool model you should be doing
25:29 - this so we're gonna do primary part base
25:33 - this one primary part base and on the
25:37 - last one primary part base you've run
25:40 - the game again hopefully all the tours
25:43 - been added but we do have another error
25:46 - and we also can see that the drills have
25:51 - fallen down so we'll have to fix that as
25:54 - well so let's go and stop this and let's
25:57 - have a look so these issues are actually
25:59 - part of of my tool nothing to do with
26:02 - the shop so that's all good the only
26:04 - issue is we just need to make sure that
26:06 - it is anchored so we need to select
26:08 - everything inside each tool
26:12 - this go into properties and set anchored
26:15 - to truth try again this time there we go
26:20 - we've got our models in each box um now
26:23 - this is now when we code our main GUI
26:29 - can we're scripting it's gonna we can
26:31 - click a button and it will move on to
26:33 - the next one click a button it go on to
26:35 - the next one you can see where she's
26:36 - going we've now got all of our items
26:38 - programmed to automatically go into
26:41 - boxes and of course if we add more tools
26:47 - then more box isn't going to be created
26:50 - and it is much more efficient than doing
26:52 - it manually so there we go good progress
26:55 - so far and let's keep going
26:59 - I guess another thing we can do before
27:01 - you start scripting the rest of it the
27:03 - mainframe is we can actually create our
27:06 - shopkeeper in the area which is going to
27:09 - trigger the shop to open when we step on
27:12 - it so what I've done is I have just
27:14 - created a little worktop with a good
27:18 - friend of mine on it so we've got our
27:21 - friend Albert over here also known as an
27:24 - e-coat and we're just gonna put him on
27:27 - the floor here and he is our shopkeeper
27:30 - now what I've got is I've got a
27:32 - character with some props and I've got a
27:36 - work top here and you see I've got this
27:39 - really nice little union which is a
27:42 - semicircle and inside that semicircle
27:44 - I've got another union and this is going
27:48 - to trigger early shops open so we're
27:51 - going to code that later on let's delete
27:53 - that script and I'm just gonna select
27:55 - everything over here and group it to
27:57 - grow that did not that should not happen
28:00 - all right we won't group it together
28:02 - we'll just keep it over here but you can
28:04 - design yours however you want it to to
28:06 - be you just need to have this one part
28:08 - and which is going to trigger the shop
28:10 - to open so we'll get to that later on
28:12 - but there we go so let's continue
28:17 - so we've done the part where we actually
28:19 - show the items which have a sale in our
28:23 - shop the next things that we need to do
28:25 - is we need to design a GUI so that the
28:27 - players can actually click through each
28:30 - item we also need to code their camera
28:33 - so that we can set the camera to look at
28:37 - each box and we also need to create the
28:40 - scripts which will handle the
28:42 - transaction so when you want to try and
28:44 - buy an item we need to do that on the
28:47 - server to make sure that they don't AK
28:49 - and we also need to code saving and we
28:54 - also need to code in equipping system so
28:56 - there's quite a long way to go yet
28:58 - but we've made some good progress so far
29:00 - we've got the boxes so far and the next
29:04 - few bits are kind of moderately advanced
29:07 - it will involve quite a lot of remote
29:10 - events and functions to make it
29:12 - compliant with filtering enabled and
29:14 - they'll also be quite a bit of client
29:18 - scripting as well because we have to
29:20 - loop through each box when we click it
29:23 - and we also need to keep track of which
29:26 - item they're currently looking at
29:33 - [Music]

Cleaned transcript:

in this video I'm going to be showing you how to create a mining simulator shop on a roblox so that you can enter the shop like this and be able to buy different items in your game and equip them if you need to much on all make sure to subscribe and click on the notification bell so you never miss out when I upload a brand new video okay so let's get started now I might have a few things which you might not be able to access in your studio and this is because I have quite a few plugins installed to my roblox studio for example this time tracker and I also have some other ones which we might be using in this tutorial so I recommend you download some of them and I will be letting you know when we use them just so that the tutorial can be a little bit quicker and we can have this mining simulator shop made in much faster time so let's begin the first thing that we're going to do is we're going to create a backdrop and this is the backdrop that you're going to see when you enter the shop where all the items are so let's insert a part and let's just call it backdrop and once you've done that we're just going to make the backdrop quite long and we're going to just make it wide enough so we can have some boxes on it and then we're gonna want to copy and paste or duplicate this part and we're gonna just resize it so that it's a back wall just like this so when we open the shop what we're going to do we're going to position our camera so that the camera is looking at the wall like this and then we will have a box in the middle of our screen containing the item so let's go and select these two items these two parts let's make sure that they're anchored in the properties window you need to open up the properties window the Explorer window now you don't need to open the game panel and you also will need to open up the output when we do the scripting so once we've done that we can give it some color I'm gonna make mine grey and you want to make sure that they're called backdrop then you can anchor the tank group the two parts together by pressing ctrl G and we can call this model backdrop you need to call your models exactly the same as what I call them else the script might not work we're then going to want to start designing our box now we're gonna have to actually create our box now what I'm going to do is I'm just going to copy this box in from the place file so you can see what it looks like so this is what we're gonna be making it's a box so it's got its got one two three four five sides including the bottom so five different parts and in the middle we've got a box or part called the hip box this is where the tool is going to go in so if we want to buy a gun and the gun is going to go inside this hip box or in the hitboxes position and then we've got another part called the cam part and this is where the camera is going to be looking so you can see the parts here so the camera is going to be looking this way okay where where the blue circle is so the camera view will look like this so we're going to take this box and we're gonna position it over here at the start and we're just going to rotate it so that the camper is looking directly at the gray wall like this so this is what the camera will be looking like when we go into the shop now we're just going to extend the backdrop a little bit further so that we can actually see the wall instead of the rest of the world so if we go and have a look now you can see we just see the backdrop and it's starting to look more like a mining simulator shop as you'd see in a hit game so what we're gonna do now what's gonna happen is we're gonna have this box I'm gonna create a script which will take this box and duplicate it for however many boxes or items we have in the game so what we're gonna do is we're gonna take this box 0 and it's very important that it's called box 0 and it has all of these different parts in it you have to have a hit box and you have to have a camp art now I would suggest you just take the model which will be in the description and you add this into your game just so that it saves time and you know what you're doing because once you have my model you can change it however however you want it to to be and it will still work so we're gonna take the box 0 and the backdrop and we're going to just group these together so now we've got one big model and we can call this model the item roller okay make sure to spell it just as I do and now that is the first part of the video done the main part where the boxes are going to go so what we can do is we can insert a script and we can begin working on on scripting it so that it inserts enough boxes for each item in the game so let's go into service script service here and insert a script and we shall get to the scripting part so if we just go into the script make a little bit bigger and what we want to do is we want to get the number of tools that we're gonna sell in the game so in the server storage what we're gonna do is we're going to I don't mind this folder it's just because I've got a plugin in studio we're going to do is we're going to insert a folder in fact we're going to insert a few folders while we're at it they'll eat this one we're gonna insert a folder called tools we're gonna insert another one which is called player tools and another one which we're going to call tool models this will all make sense in a minute and that's all we need we just need one folder cool tools uncle tool models and another one called player tools so what we're gonna do with these folders for player tools we're going to store all of the tools which the player has so it will be their inventory so that we can equip and unequip certain tools from this inventory the tool models is where we're going to store the actual tool objects and the tools folder is going to what actually the tools folder is where all of the tools are going to be stored which the player will be able to equip the tool models is where we're going to just put the the model or the handle of the tool so it's not going to be an actual working tool it's just going to be how the model of what the the part which which you'll see so the actual tool so that we can put it in these boxes and then the as we said the player tools will just be like their inventory for each player and then we use saving to save the players tools and load them in when they rejoin the game so what we're going to do we're going to insert some tools into our game now I've got some tools over here which I am going to use so we've got four drills okay and let's just insert them into the workspace now I'm going to do is I'm just gonna move these tools over here but we should have four different tools they're just all in the same position okay so let's just move them out here this okay so we have got a so we've got four drills one of them is called the normal power drill one is called super power drill one is called better power drill and one is called normal power drill so these different tools will be what we're gonna sell now if you have more tools then you're just going to do the same of what we do now and just replicate the process for every new tool that you add and I might go over that at the end if you have more more tools because obviously you're gonna have different tools to me which you want to sell in your game so what we're going to do is we're going to take these tools and just put them into the tools folder just like that what we're going to do now is we're going to want to make copies of these tools so copy them and we want to paste this into tool models okay tool models is where we're going to just have the handle or the parts so what it looks like no scripts or anything so we want to convert this tool into a model what you want to do is you just want to take everything inside of each tool cut it and then insert a model and paste those objects into that model and just give it the same name as the tool which you copied them from so this will become the better power drill model and we can do the same with the epic power drill duplicate it so duplicate everything inside so cut it and then insert a model called epic power drill and we can just insert the children so you get the idea I'm just gonna keep doing this until we have done all of the four tools okay so all of the parts inside of the tools have been converted to models and so now we've got the models of the tools so that we can display them in these boxes so we can now write a script which will take all of these tools and put them up for sale in the shop so to do this we're going to want to create a variable which is going to be where these tools are stored so the tool model section so what we can do is we can go into our script here delete this print hello world and we're gonna say the we want to generate the blocks here so generate blocks now I am using the dark theme in studio you can turn on in settings so we're going to say local number of blocks equals and then we need ooh a hashtag and then we want to have a table after this okay so we're gonna put into a table all of these two models here so we can say game get service and we say server storage and then we can say come on wait for child tall models get children hey so what we're doing here is we are getting server storage which is where the two models folder is waiting for the child to models to be added and we're getting everything inside of two models so every single model here it will become a table now if you don't know what tables are basically looks like this so we've got a variable and then we have all of our different objects here in a table so we would have super power drill example and then for the better power drill epic power drill normal power drill so it's all on the table and it basically allows us to loop through each item on the table and do something for each item so for example we want to create a new box for every item and put that item inside of the box so that we can see it's for sale in the shop and we can move between it so that is a table and what we've done is you've just defined a table here so when you do get children it puts all of your items into a table and then we do the hash tag so that you can see how many items are in that table okay so now we've done that we want to have a stood gap so between each box we want a gap between them okay so the gap is going to be around about nine or ten stood okay so i've tested this out and the gap between this box okay and say if we had another box a gap would be about this much so that it's enough for us to be able to click a button and move on to the next one like this so let's just delete this box and let's go back into the script I want to do local stood gap equal to nine so this is gonna be the gap between each box all right so we want to get our first box so we're gonna do a for loop soon to loop through the number of things for sale I'm gonna clone this box okay so we want to create a variable for this box because I'm gonna be using it quite often so just that we don't have to keep saying you know gained or service storage dots so again it works based on box zero clone we can just have variable for that box so you can say local box equals and game got workspace Curran wait for child item holder box zero ok so we're waiting for this box as this item holder model to be added to the workspace and then we say box zero to get the box template and then we're going to our for loop which creates all of the boxes so if we add another item for sale the script is going to add another box automatically do the positioning and it will put that item into the shop so this tutorial with this this shop is gonna work no matter how many items you have in your game you could start off with one you could then add a 500 different items with their for sale into your game and there would be 500 boxes created so to do this we need a four loop so we can say for now I equals 1 comma number of blocks negative one one do this all makes sense in a moment I'll explain it so what we're doing is we are looping through every single box okay so good so we've got the number of locks here so because we've got this table of blocks we are basically getting a number of how many items are in this table okay so if there's five items in the table number of blocks is going to be five now because we've already got one box added in which isn't going to be added by the scripts because it's already there we're gonna put our first item into box zero okay so the way we're going to do this is we're gonna use this for loop and I is going to be the number of the box which we're currently looping through so on the first time it will be looking for box and then because I is equal to 1 we'll have box 1 but because the template box is called box 0 we want to do we want to start off at zero so we can say number of blocks negative one so we're starting off at 1 Brasi was starting for 0 because we're doing number of blocks minus 1 so what we can do is we can say new box equals box clone new box and now we want to position the bottom of the box so to move it 9 studs away from the last one we can do new box set primary part C frame and then in brackets we can do new box primary part up C frame x C frame new and then we can do 16 x i00 now the reason that we're doing this is let's change this yeah so we're taking the current C frame of the primary part so the box here has to have a primary partner because it's a model you can't just say model dot position you have to get the primary part and whenever you move the primary part everything else in the model will move according to how far the primary parts moved so if the primary part has moved to stood to the left everything else is going to move to stood to the left as well so we are taking the currency frame value and we're just multiplying it on the xaxis so we're basically moving it to the right by 16 stud snow I think we won't use the stud gap actually I think I changed it so that we used 16 which is why might not need to use it so we're moving it 16 studs multiplied by I so if we're on the second box obviously we don't want to move it to the same place as the last box so we remove it by 16 times I so four on second box it's going to move 32 studs from the original box and if it's the third box it's gonna move 48 studs from the first box so you can see as we add more boxes the the increment here is going to be increasing to run our 500th box what's that 500 times 16 is I don't know it's gonna be a long way away from the origin right which is the first box position so that's what we're doing we're just moving this box away from the origin and then we want to give this box and name so it's a new box name equals box now we want to name it box so if it's box 0 the next box is gonna be called box 1 or box 2 or box 3 or box for box 5 so we do dot I and this concatenates the string so you have box and then you add on the number which were currently on and obviously that's going to change so we say I and then what we're going to do is we're gonna just set the parent of this box to put it into the item or roller swings a new box but parent equals game dot work space dot item or rollup just like that so there we go we have now set up the code which is going to add the number of blocks for us now let's go and test this out and see if it works now it might not work because this is the first time we've ever done it but if it does I'll be very good so let's just wait for it to load up and okay so it did not work so let's go have a look maybe we missed out something okay so we've got an error and it says infinite yield or it's not really an error it's a warning but what this means is that there is an infinite yield on item holder so this means it could be waiting forever force for item all dirt mmm sour look it's on on high so I put item holder instead of item roller it should be item roller and if we go and run it again boxes should be created so there we go you can see it has created four boxes each with a stood gap of 16 it's I think soon see first box here box one is 16 studs away from ox 0 box 2 is 32 studs away from the origin and box 3 well the fourth box because this one started at 0 is 48 stood away from the origin because it's the third one from box 0 so there we go that's the first part done we have got our boxes being made and now we just need to code it so that the items get added in to the the boxes all right so let's continue so what we want to do now is you want to loop through all of these 2 models in server storage and we want to create a clone of each model and we want to put this clone we want to put the clone into the boxes ok so if we had say we had 500 models ok we want to loop through obviously putting each model into a new box is gonna be really inefficient ok so if you were just putting it in one by one and updating the game that is not very good at all because say you wanted to take you want to devote an item or take out your game or I don't know change the way it looks you have to you have to move everything else down along so we can just get a script to do this for us so let's go back into our main script and let's just do a in pairs loop so for I comma V in pairs and say game dot server storage and then we say dots tall models held on get children do okay so we're looping through everything inside the tool modules folder I is going to be the number of times it's looped through and V is gonna be the item which we're currently iterating over okay so be could be this one on the first loop on the second loop round it could be this one third time it could be this object on the fourth time it could be this one I'll see on the fifth time it would not run because it's run out of things to loop through so for each item we just want to check to see if there is V so if the items actually there and it hasn't been mysteriously deleted we can say new equals V clone cloning the model and we can set the primary part C frame of that tool new set primary part C frame game dot workspace dot item roller and then in square brackets we want to get the name of the box so we say box dot I minus one now remember because we're starting off at one but remember the boxes start off at box zero and then it goes to box one so we're saying I minus one and then we say got hit box dot C frame just like this so we're setting the primary part I never want to parent this so noodle parent equals game but workspace dot item rollup and then in square brackets we can say in box dot I minus one so what we're doing is we're putting the model into the item roller inside of each box model so as I said earlier we start enough at one so you have to do I minus one to allow it to cater for box zero now if we check this out what should happen is each tool model should be added into its box and it doesn't because it's an error let's have a look so the error says model set privacy frame failed because no primary part has been set or primary part no longer exists now this is a common error and this is because we did not set a primary part to set a primary part of a model if you want to move it you have to click on your model and you have to then click on primary part in properties and select which one you want to be your primary part now in our case with our drills we're gonna set the primary part as base ok it doesn't really matter but we're just gonna set ours to base for each model whenever you add a new tool model you should be doing this so we're gonna do primary part base this one primary part base and on the last one primary part base you've run the game again hopefully all the tours been added but we do have another error and we also can see that the drills have fallen down so we'll have to fix that as well so let's go and stop this and let's have a look so these issues are actually part of of my tool nothing to do with the shop so that's all good the only issue is we just need to make sure that it is anchored so we need to select everything inside each tool this go into properties and set anchored to truth try again this time there we go we've got our models in each box um now this is now when we code our main GUI can we're scripting it's gonna we can click a button and it will move on to the next one click a button it go on to the next one you can see where she's going we've now got all of our items programmed to automatically go into boxes and of course if we add more tools then more box isn't going to be created and it is much more efficient than doing it manually so there we go good progress so far and let's keep going I guess another thing we can do before you start scripting the rest of it the mainframe is we can actually create our shopkeeper in the area which is going to trigger the shop to open when we step on it so what I've done is I have just created a little worktop with a good friend of mine on it so we've got our friend Albert over here also known as an ecoat and we're just gonna put him on the floor here and he is our shopkeeper now what I've got is I've got a character with some props and I've got a work top here and you see I've got this really nice little union which is a semicircle and inside that semicircle I've got another union and this is going to trigger early shops open so we're going to code that later on let's delete that script and I'm just gonna select everything over here and group it to grow that did not that should not happen all right we won't group it together we'll just keep it over here but you can design yours however you want it to to be you just need to have this one part and which is going to trigger the shop to open so we'll get to that later on but there we go so let's continue so we've done the part where we actually show the items which have a sale in our shop the next things that we need to do is we need to design a GUI so that the players can actually click through each item we also need to code their camera so that we can set the camera to look at each box and we also need to create the scripts which will handle the transaction so when you want to try and buy an item we need to do that on the server to make sure that they don't AK and we also need to code saving and we also need to code in equipping system so there's quite a long way to go yet but we've made some good progress so far we've got the boxes so far and the next few bits are kind of moderately advanced it will involve quite a lot of remote events and functions to make it compliant with filtering enabled and they'll also be quite a bit of client scripting as well because we have to loop through each box when we click it and we also need to keep track of which item they're currently looking at
