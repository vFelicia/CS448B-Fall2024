With timestamps:

00:00 - hi everyone in this video I'm gonna show
00:02 - you how I made a to-do app with Django
00:04 - and the reason I wanted to you know
00:06 - start with a simple app like a to-do app
00:09 - it's just because I think it's a good
00:11 - way to learn a new piece of technology
00:12 - so let's get started by you know first
00:15 - showing you the final result I got okay
00:17 - here's what I have as you can see that
00:19 - UI is super simple we have the header
00:21 - that says my to-do app and then we have
00:24 - a list of to-do items for example get a
00:27 - haircut
00:27 - learn Django and what's crazy which
00:30 - agents and if you want to add a to-do
00:32 - item here you can just click here and
00:35 - then you know type in your to-do item
00:37 - for example let's say to do or new to-do
00:41 - item and click Add and then it gets
00:44 - added right here if you want to mark
00:47 - some to-do items as done you can just
00:50 - click this one delete to delete these
00:53 - items and that's basically all we have
00:56 - now I'm going to show you how I made
00:58 - this really simple web app but let me
01:00 - just quickly recap the setup process
01:02 - first just in case you haven't seen the
01:04 - first two videos in the series so first
01:07 - we used pip3 to install pip m and then
01:11 - we use spit m to install jungle 2.1 and
01:14 - we did that in this folder called edit
01:16 - dojo and of course that's just the name
01:19 - of our project and after that we typed
01:22 - pip m shell to go into the virtual
01:25 - environment and then used this command
01:28 - right here to create a new jungle
01:30 - project after you go through all of that
01:33 - you should be able to just type in
01:34 - python manage pi run server to make sure
01:38 - everything worked so just copy and paste
01:40 - this URL in your browser you should be
01:43 - able to see either this or a for for
01:47 - error like this one actually either one
01:50 - is okay for now you're gonna see one or
01:52 - the other depending on you know your
01:54 - progress in this project
01:55 - okay so whichever one you see here let's
01:58 - get started with our to-do app by
02:00 - creating a new app so to do that create
02:03 - a new tab in your terminal app or a new
02:06 - window in your terminal app and then go
02:09 - into the virtual environment by tapping
02:11 - in pip M
02:13 - sell and then create a new app with
02:16 - Python - the pie starts up and let's
02:21 - call this app to do after you run this
02:24 - command if you run LS you should be able
02:26 - to see this new directory to do and then
02:28 - to install this app to do in this jungle
02:31 - project just go to your text editor open
02:34 - settings stop PI within edit dollar
02:37 - project within edit dojo find installed
02:40 - apps that's right here and then add to
02:44 - do at the end of this list
02:46 - okay next let's create a view for this
02:49 - app so go to a 2d folder and then open
02:53 - views up pi and here right this first
02:56 - from django HTTP import HTTP response
03:03 - and then you can create your view here
03:06 - by writing def to the view we quests :
03:12 - return HTTP response and let's just say
03:16 - hello this is 2d view and then let's
03:20 - connect this to a specific URL by going
03:23 - to URL stop i within a dojo project and
03:27 - import the view that we just created by
03:30 - writing from to diffuse import to the
03:35 - view and then in your l patterns right
03:38 - path to do slash and then to do view if
03:44 - you go back to your browser and then
03:46 - type in the root URL slash
03:48 - to do you should now see this hello this
03:51 - is to the view so this is exactly the
03:53 - same as what we did in the last video
03:55 - for our hello world project
03:57 - okay so right now what we're doing is
04:00 - we're using a view to show a text or a
04:04 - string but that's not very useful is it
04:06 - you know we want to be able to show more
04:08 - complex information and that's where the
04:10 - concept of templates comes in so
04:13 - templates are basically sort of like a
04:14 - combination of HTML and python and you
04:18 - can use templates to show more complex
04:20 - information and you see an example of
04:23 - that in a minute okay so to demonstrate
04:25 - how you can use
04:26 - template let me just create a template
04:29 - here to do the first create a new folder
04:32 - within our root directory edit dojo by
04:35 - typing in mkdir templates and then go
04:40 - into your text editor find the folder
04:42 - that users created templates and then
04:45 - create a new file here we're gonna call
04:47 - this file to do dot HTML and this is
04:50 - gonna be our first template we're gonna
04:52 - keep it really simple for now so within
04:54 - this file just write h 1 this is the to
04:59 - do page and then close h 1 and in this
05:04 - video I'm just gonna assume that you're
05:05 - already familiar with HTML s and once
05:08 - you save this file go back to the 2d
05:11 - folder and then find visit up pi again
05:13 - and here instead of using this simple
05:17 - text to create an HTTP response to send
05:20 - back to the browser we can use that
05:22 - template to create an HTTP response as
05:25 - well and that's going to be more
05:27 - convenient as you'll see later
05:28 - so to do that instead of using this
05:31 - function HTTP response we're gonna use
05:34 - this function instead render so make
05:36 - sure you have this line to import this
05:39 - function render and then into the view
05:41 - write return render requests and then to
05:46 - do dot HTML okay so once you have this
05:49 - if you go back to the browser you should
05:52 - see the content of to do dot HTML right
05:54 - well actually not quite you should
05:58 - actually get this error template does
06:00 - not exist and that's just because a
06:03 - jungle by default doesn't know that it
06:06 - should look for you know templates in
06:07 - this directory templates so we need to
06:10 - tell Django about that and we can do
06:12 - that by going into settings top pie
06:15 - within a dojo project and then in this
06:18 - file find this one templates and then
06:22 - find this section ders so this is going
06:25 - to be the directories Django is going to
06:27 - look for for templates so here just
06:30 - right Oeste path dot join bass der comma
06:37 - templates and this is
06:40 - just concatenating the base directory of
06:42 - this project with this folder templates
06:44 - and once you have that save this file
06:47 - and then go back to your browser and
06:49 - refresh this page you should see this
06:52 - this is the to do page and if you
06:55 - remember this is the content of 2d HTML
06:58 - now to make this you know page more like
07:01 - a to-do list let's add a list we can do
07:04 - that by going into to the HTML and by
07:08 - writing this so here I created a new UL
07:15 - tag and then within that I created to Li
07:19 - tags with these strengths or text
07:23 - temporary to-do item a and temporary to
07:26 - the item B once you save this file and
07:28 - go back to the browser you should be
07:31 - able to see something like this the
07:33 - header waist the list okay after that
07:36 - the next step is going to be to create
07:38 - something called a model models are
07:41 - basically jungle's way of interacting
07:43 - your database and just a quick note here
07:46 - that we're gonna be using SQLite here
07:49 - and to use SQLite you don't have to do
07:51 - anything here because Django you know
07:54 - sets up SQLite by default and here we're
07:58 - gonna create a model representing each
08:00 - to-do item to do that go back to your
08:03 - text editor and then go to the 2d folder
08:06 - and find model pi and here just write
08:10 - class to the item models the model and
08:16 - then content equals models dot text
08:21 - field so this creates a special type of
08:24 - class called to the item and this
08:27 - represents each to-do item in our
08:30 - database and we're going to be able to
08:32 - use this class to interact with the data
08:35 - in our database right now this class
08:38 - only has one attribute can't call the
08:40 - content but it could have you know
08:42 - multiple attributes for example content
08:44 - to represent the content of each item
08:48 - which is gonna be text we could have
08:51 - let's say
08:52 - date created to represent when this item
08:56 - was created and maybe author to
08:59 - represent who created this item but for
09:02 - now let's keep it simple and only have
09:05 - content here okay once you have this in
09:08 - models up PI and once you save this file
09:10 - you're actually not done yet because you
09:12 - still need to tell jungle to make
09:15 - changes to our database so that our
09:18 - database essentially knows about this
09:20 - class we can do that in terminal or
09:23 - shell to do that first write this Python
09:27 - manage that PI make migrations and this
09:32 - creates something called a migration
09:34 - file and once we execute this file we're
09:39 - going to be able to migrate our database
09:41 - to a new state and a migration is
09:44 - basically a term that's used for
09:46 - changing the configurations of our
09:49 - database so this is basically going to
09:51 - tell the database that we have this new
09:54 - model called to-do item to execute it
09:57 - just right manage the PI migrate and
10:00 - then you'll see that at the last slide
10:03 - here applying to the 0 0 0 1 initial
10:07 - that's the migration file that we
10:09 - created and you see a bunch of you know
10:12 - other migrations before that but you can
10:14 - you know just ignore them because
10:15 - they're basically a default migrations
10:18 - from Django and once you run these two
10:22 - commands Python manage the PI Mike make
10:25 - migrations and Python manage the PI
10:27 - migrate you are now ready to start
10:29 - interacting with this model to do that
10:32 - going to our Python shell by typing in
10:37 - Python managed by shell and once you're
10:42 - in this show you need to import our
10:44 - class or our model with from to do the
10:48 - models import to the item and then if
10:53 - you just write to-do item here you see
10:57 - this and this just says you know this is
11:00 - a class that's called to do model start
11:03 - to the item
11:04 - and then to interact with the database
11:06 - you can write for example to the to the
11:09 - item dot objects dot R and this shows
11:15 - all the to-do item objects that exist in
11:20 - our database but none exists right now
11:23 - so you should see something like this
11:25 - this just says it's empty so how can we
11:29 - create to the item objects Python
11:31 - objects and say them save them into our
11:34 - database let me show you here so to
11:37 - create a to-do item object you can write
11:40 - to-do item content equals let's call
11:46 - this permanent to-do item sorry I
11:50 - misspelled permanent permanent to the
11:53 - item a let's just use a single quotes
11:58 - here and this object has been created so
12:03 - if you write a you should see something
12:05 - like this it's a to-do item object but
12:09 - here actually it's not being saved to
12:11 - the database yet to do that you need to
12:13 - write a dot save and this way this
12:18 - object a has been saved to our database
12:20 - let's do the same thing for two more
12:23 - objects
12:27 - okay so here I created two more objects
12:31 - B and C which have the contents
12:34 - permanent to the item B and permanent to
12:36 - the item C and I saved them into the
12:40 - database and I'm calling this permanent
12:42 - because they're gonna be in the database
12:44 - permanently so at this point if you use
12:48 - this command that we saw earlier
12:50 - again you should see something like this
12:53 - you see three objects and this one this
12:57 - one and this one what if we wanted to
13:01 - retrieve one specific object from this
13:04 - set well you can do that by first
13:08 - storing the results of this query into a
13:12 - variable let's say all to do items and
13:16 - then if you write all to do items square
13:21 - bracket 0 this is going to retrieve the
13:24 - first object in this query set so write
13:27 - that and press Enter
13:28 - you should see this but you know it's
13:31 - kind of hard to see which one we are
13:33 - referring to right so to find that you
13:36 - can just do all to the items square
13:39 - bracket 0 dot content to show the
13:42 - content of this particular object and
13:44 - this is permanent to-do item a let's do
13:48 - the same thing for the two other items
13:50 - so if we do square brackets 1 dot
13:54 - content you should see this and if you
13:58 - do to that content you should see this
14:01 - permanent to-do item C okay and what if
14:04 - we wanted to delete one of these objects
14:07 - from our database for example at this
14:09 - one permanent to-do item C or all to the
14:12 - items square brackets - well tilde you
14:15 - can use the delete function just like
14:18 - that after running that if you run you
14:23 - know this command again you should only
14:26 - see these two objects because one of
14:29 - them has been deleted now you know in
14:32 - the results of this command to do items
14:34 - or objects that all you see these write
14:37 - to-do item to-do item object
14:39 - parentheses one but what's this number
14:42 - well it's the unique ID for each object
14:45 - that jungle automatically creates for
14:49 - each object so if you retrieve you know
14:52 - the first object right here by writing
14:54 - this one that we used earlier all to the
14:57 - item square bracket zero you can
14:59 - retrieve attributes from it just like
15:01 - that for example the content attribute
15:04 - but another attribute that Django
15:07 - automatically creates for this object is
15:09 - ID it's one as you can see right here
15:13 - using this ID actually there's a way to
15:17 - retrieve a specific object from our
15:21 - database using an ID so if you wanna for
15:25 - example retrieve the to-do item object
15:28 - with the ID one you can write to do item
15:32 - dot objects dot get ID equals one and
15:38 - this is actually gonna create a query to
15:41 - access this particular object in our
15:44 - database and the result is this and then
15:48 - if you store this result and let's say
15:52 - temp for temporary and then if you type
15:56 - temp dot content you see that it's
16:00 - permanent to do item a now I think
16:03 - watching you know just this video is
16:06 - potentially confusing you know just
16:08 - looking at these commands so it's really
16:10 - best to you know create try creating a
16:12 - bunch of objects yourself and try saving
16:15 - them and you know try deleting some of
16:17 - them and you know try to get a feel of
16:20 - how this whole thing works anyway in my
16:24 - particular environment we have two
16:26 - objects in our database stored their IDs
16:30 - are one and two but their contents are
16:33 - permanent to do item a and permanent to
16:36 - do item B okay and what if we wanted to
16:39 - show all of those items you know these
16:41 - two items in our website well to do that
16:44 - we need to go back to the view stop pie
16:48 - file that we were editing earlier it's
16:50 - view stop pie within that 2d folder
16:53 - in this file first at this line from the
16:58 - models import to-do item and just in
17:03 - case you're not familiar with the syntax
17:05 - dot models just means that we want to
17:09 - import
17:09 - you know this function to do this class
17:11 - to the item from this file model stop PI
17:15 - within the same folder as this well
17:18 - visit up PI and then once you import
17:21 - that in the view function we're gonna
17:25 - say once we get this requests then first
17:29 - retrieve all the to-do items from our
17:32 - database to do that of course we can
17:34 - write to the item the objects that are
17:37 - and then we're going to store the result
17:40 - of that query into this variable called
17:44 - all to-do items and then we want to be
17:49 - able to pass this information pass this
17:52 - list of to-do items into the render
17:56 - function you can do that by adding a
17:59 - third argument to this function and that
18:02 - third argument is gonna be this as you
18:06 - can see this is a dictionary whose key
18:09 - is the string or items and value is all
18:14 - to-do items this is basically saying we
18:17 - want to pass this information all to-do
18:20 - items into the render function we're
18:23 - gonna call that all items and here's
18:26 - another way to think about it
18:28 - conceptually we're passing you know this
18:31 - information all to-do items into our
18:34 - template to do the HTML so that the
18:37 - template has visibility over that
18:40 - information and then when we refer to
18:42 - that item or you know this list of items
18:45 - we're gonna use this name that we gave
18:47 - ourselves all items okay once you have
18:50 - that we want to be able to show the list
18:53 - of to-do items in our template so go to
18:56 - the template file to do the HTML in the
18:59 - template folder and then let's comment
19:02 - out the list we had earlier and then
19:06 - create a new list
19:07 - year create ul tag and then within this
19:11 - ul tag write this so here I wrote curly
19:19 - brackets percentage for to-do item in
19:21 - all items so like we saw earlier all
19:24 - items is what we are using here to refer
19:27 - to the list of items that we retrieved
19:29 - earlier from our database so we're
19:32 - essentially running a type of for loop
19:34 - here but in a special way so here we're
19:37 - saying you know for each to-do item in
19:39 - all items create this tag at this Li tag
19:43 - and the content of this tag is gonna be
19:45 - this to-do item content and note that we
19:49 - are using double curly brackets here and
19:52 - then the for loop here so this way we
19:56 - should be able to show what we saw
19:57 - earlier in our terminal per min to the
20:00 - RMA and permanent to the item B so let's
20:03 - see if it works go back to your browser
20:06 - and then go to the URL that we saw
20:08 - earlier and refresh it okay it worked it
20:11 - says permanent to-do item a and
20:13 - permanent to do to the item B okay the
20:16 - next step is to add a form for adding a
20:18 - new to-do item right over here to do
20:21 - that go back to to the HTML and then add
20:25 - this
20:30 - okay so as you can see I added a bunch
20:33 - of stuff here let me try and explain it
20:35 - carefully first of all I added a new
20:38 - form a new form tag here and then this
20:41 - form tag is gonna go to this URL and the
20:45 - root URL slash ad to do slash so this is
20:49 - basically gonna send an HTTP request to
20:53 - this URL and then there are two major
20:55 - types of HTTP requests get and post but
20:59 - when we want to you know create
21:00 - something in our database we need to use
21:03 - post here and not get and this tag right
21:07 - here is what we need to add in jungle
21:11 - for just for security purposes and then
21:14 - in the form tag we have two input tags
21:17 - the first one is the texts type because
21:21 - we need to type in text to specify you
21:23 - know what we want to put into our new
21:25 - to-do item and we're calling this item
21:28 - we're calling this input content and
21:31 - then the next input tag the type of this
21:35 - one is gonna be submit this is gonna be
21:37 - the submit button and then it's gonna
21:39 - have the add value because it's gonna
21:42 - have you know the text that says add on
21:44 - the button so just to clarify this a
21:47 - little bit more when the user submits
21:49 - this form that you're gonna see you
21:51 - later the users browser sends a post
21:55 - request to this URL the root URL slash
21:59 - add to this slash with the data inside
22:02 - this form and you know this particular
22:04 - data has only one attribute here content
22:07 - that's gonna be texts so let's see how
22:10 - this form actually looks on our browser
22:12 - by going back to the browser or saving
22:15 - the file go back to the browser and then
22:17 - refresh the browser you should see
22:20 - something like this and actually you
22:22 - know you are able to submit it already
22:24 - but when you're submitted you're just
22:26 - gonna get an error because you know
22:28 - jungle doesn't know how to deal with
22:30 - this particular request so let's go back
22:33 - let's go to view stop pie to handle that
22:37 - so this is again Vista pie within a 2d
22:40 - folder so to handle that post
22:43 - we're gonna create a new view here we're
22:46 - gonna call it add to do so just like
22:49 - before take requests as the input and
22:51 - then what we want to do here is we want
22:54 - to create a new to-do item object and
22:58 - then we want to save it and once you
23:01 - save that object we want to redirect the
23:04 - browser to the original URL that the
23:07 - user came from and that's gonna be slash
23:10 - to do slash so let's do it 1.1 first we
23:14 - need to retrieve the content from the
23:17 - post request the user sent us we can do
23:20 - that with this requests that posts
23:24 - square brackets contents so this says in
23:28 - the post requests that we received find
23:31 - the attribute that has the name content
23:34 - so we can save this in a new variable
23:37 - let's call it C and then using this we
23:40 - can create a new item let's call it a
23:43 - new item and then we can create it with
23:46 - to-do item content equals C like we saw
23:51 - earlier actually since this is pretty
23:55 - short you know these two statements we
23:57 - can combine them just like that and
24:00 - after that save this item with new item
24:03 - save and then the last step is you know
24:07 - redirect the browser 2/2 2/1 do this
24:11 - with returned HTTP response redirect
24:17 - parenthesis / to the slash and actually
24:21 - we don't have this function imported in
24:24 - this particular file yet so do that with
24:27 - this from Django the HTTP import HTTP
24:32 - response and HTTP response redirect
24:35 - actually we're not using HTTP response
24:39 - functional here so let's just delete
24:41 - that and then we have just this and
24:44 - after creating this view we need to map
24:47 - the URL this post request will be sent
24:51 - to this view let's do that in our URL
24:55 - stub pie file
24:56 - so in your patterns create a new path so
24:59 - we're gonna map add to do to the add to
25:04 - do function and also import the add to
25:08 - the function here actually since we're
25:10 - you know sort of repeating ourselves I
25:12 - think we can just combine these two
25:15 - statements to just this let's see if it
25:19 - works so you know make sure you save all
25:22 - the files go back to the browser refresh
25:25 - the page
25:26 - oops I think I made a mistake somewhere
25:29 - let's see if we can find that mistake so
25:33 - what I would do in this situation is I
25:35 - would just go back to the terminal and
25:37 - you know find a tab that's running the
25:39 - server and you know find the relevant
25:41 - part of this error you know there's a
25:44 - lot of stuff here but I think it's this
25:46 - one from Django the HTTP import HTTP
25:50 - response redirect cannot import name
25:53 - this from Django HTTP so maybe I you
25:59 - know I spelled it wrong or something let
26:01 - me just copy this and then you know just
26:04 - cool it okay so just looking at you know
26:08 - this part of the Google result page you
26:10 - can see that I probably a miss type this
26:13 - somewhere oh yeah instead of writing
26:16 - HTTP response redirect I wrote HTTP
26:20 - response redirect let's fix that and see
26:24 - if that fixes everything
26:27 - go back to you know the editor go to
26:30 - view stop I think and then fix that and
26:35 - then fix this part too okay hopefully
26:38 - that's gonna work let's see refresh the
26:41 - to do page and then okay that's that's
26:45 - working and then try adding a new item
26:47 - here that's it let's say new item see
26:51 - click add and it's working new item has
26:55 - me added that's add new item again Urd
26:59 - and you
27:01 - you item ah all right it's all working
27:07 - okay once that's working the next step
27:10 - after this actually the final step is to
27:12 - add the delete button for each to-do
27:15 - item and this is actually going to be
27:17 - kind of similar to this ad form you see
27:20 - why in a second so go back to our editor
27:24 - and then go to to do the HTML let's just
27:27 - you know sort of use this as a template
27:30 - for our delete form so in this you know
27:34 - for loop we're creating the Li tags
27:37 - within this Li tag this form and then we
27:43 - don't need the text input because we
27:46 - only need to say delete you know it's
27:49 - gonna have a single button here
27:50 - so change the add value to delete and
27:54 - then change the action or that URL that
27:57 - this request is going to be sent to to
28:00 - delete to do and jungle will need to
28:04 - know which item that we want to delete
28:07 - we can tell Django about that by writing
28:10 - this so delete to do slash to do item
28:16 - dot ID and again this is in double
28:20 - square brackets so this part is going to
28:23 - be replaced with this particular to-do
28:26 - items ID so for example if this to-do
28:29 - items ID is one this request is gonna be
28:33 - sent to slash delete to do slash one and
28:36 - then I think I should add a slash at the
28:39 - end to the method is still gonna be
28:41 - posts we're still gonna have this CRF
28:44 - token for security purposes and then the
28:47 - input type is the same submit and the
28:50 - value is going to be delete so let's
28:52 - first see how this looks by saving this
28:54 - file going back to the same page
28:57 - refreshing the page and this is pretty
29:01 - ugly let's fix that by fixing the style
29:05 - of this form so what I would do here is
29:08 - I would add a you know break line here
29:11 - just to make it easier to look
29:13 - and then I would add a style eCos
29:18 - display:inline so just to make sure that
29:21 - style echoes display column inline
29:24 - semicolon and this should fix the style
29:27 - issue go back to the page refresh yeah
29:31 - it's much better now and if I click this
29:34 - you know it's gonna give us an error
29:35 - again because jungle doesn't know how to
29:37 - handle this particular URL yet
29:40 - for example delete to do this last one
29:42 - okay let's fix that by first going to
29:45 - URL stop I within any dojo project so
29:49 - add a new pass here after add to do
29:52 - we're gonna call this delete to do for
29:57 - the URL and here what we want to say is
30:00 - we want to say if we get a delete to
30:03 - this slash one you know send that
30:06 - information to the delete to the
30:09 - function that we're gonna create later
30:11 - and then if we get to send that to the
30:14 - Lee - - - we can do that with this
30:17 - syntax in colon to do ID and then close
30:23 - this so this says look for an integer
30:27 - after delete to do slash and then give
30:31 - that name give that integer a name and
30:33 - that name is going to be to do ID and
30:36 - then we're gonna send that information
30:37 - to the delete to do view or the delete
30:41 - to the function that we're gonna create
30:43 - later we're gonna create it in view stop
30:46 - PI and to do so we're gonna import it
30:48 - here - so once you have that go to views
30:52 - that PI and then create a new function
30:55 - here and that's gonna be called of
30:57 - course delete to do and here let's go
31:01 - back to URL stop by for a second like we
31:04 - saw earlier we had you know delete to do
31:06 - slash an integer which we called to do
31:09 - ID and actually we can use this name to
31:13 - do ID in our function we have access to
31:17 - this integer as one of the arguments in
31:20 - the delay to the function essentially so
31:24 - once you have that the first step is
31:26 - to select or retrieve the 2d item object
31:30 - with this ID to do ID we can do that
31:34 - with to-do item dot objects dark get ID
31:40 - equals to do ID and then let's save this
31:45 - item in a variable called let's say item
31:48 - to delete and since we want to delete
31:52 - that will just write item to delete that
31:56 - delete parenthesis and after that just
32:00 - redirect the browser to the original URL
32:02 - slash to do slash okay so if I typed
32:06 - everything correctly this time you know
32:08 - everything should work fine so let's see
32:10 - if it works go back to the browser of
32:12 - course and they refresh let's click this
32:15 - delete button okay it looks like it's
32:19 - working it's deleting these items and
32:21 - then I can add more items more sorry
32:27 - more and then even more and delete any
32:32 - of these items pretty neat right so
32:35 - obviously you know this to-do app has a
32:39 - lot of problems for example you know it
32:41 - doesn't have any sense of users so all
32:43 - the users share the you know single
32:45 - to-do app which is kind of stupid and
32:48 - also there is no error handling here and
32:51 - actually when you add an item or when
32:54 - you delete an item it refreshes you know
32:58 - the whole page which is you know kind of
33:00 - wasteful so you know obviously there are
33:03 - a lot of problems but I think I wanted
33:06 - to you know start with this project
33:07 - because I wanted to give you sort of an
33:09 - idea of how to you know start working
33:11 - with Django and I wanted to give you
33:13 - sort of an overview of how junk works
33:16 - okay and that's pretty much all I wanted
33:19 - to show in this video in the next video
33:21 - I'm thinking of implementing you know
33:23 - the signing with Twitter function but
33:25 - we'll see and if you're looking for you
33:28 - know extra resources for jungle I
33:29 - recommend to one is you know something I
33:33 - already mentioned in my previous videos
33:35 - it's called jungle for beginners it's a
33:38 - book that
33:39 - recommend it's at CS no soda io / DJ you
33:45 - can also find the free sample chapters
33:48 - at Django for beginners calm and then
33:51 - another piece of resource that I highly
33:53 - recommend you know which is a little bit
33:55 - more advanced I would say is the
33:57 - official and Django tutorial on poles
34:00 - you can just look for it by I think just
34:04 - by searching for Django tutorial maybe
34:08 - poles you can see you know I'm not good
34:11 - at spelling here but Google knows and
34:15 - then just click this link and you know
34:19 - it's really good it's actually um kind
34:22 - of slow and it goes through a lot of
34:24 - stuff but I like how you know they break
34:27 - down things you know to smaller
34:29 - components as opposed to actually this
34:31 - book Django for beginners but I think
34:34 - the best way to learn something you know
34:36 - not just jungle but any technology is to
34:39 - use you know a combination of multiple
34:42 - resources like my videos and maybe this
34:45 - book and maybe this tutorial so that's
34:48 - how I would you know go about learning
34:49 - Django and you know another thing I
34:52 - wanted to mention is first of all
34:54 - actually two things I want to mention
34:56 - first of all if you get stuck you know
34:59 - at any point in this video you know if
35:02 - you try to follow it you should go to
35:04 - siesta io / edit to join our slack
35:07 - channel to ask each other questions I
35:10 - think if you ask you no questions in the
35:12 - comment section you might get an answer
35:14 - but you know it's much more likely to
35:17 - get an answer if you ask questions on
35:19 - the slack Channel and the second thing I
35:21 - wanted to mention is that this video is
35:24 - actually part of a series of videos I
35:26 - recently started where I try to you know
35:29 - actually start an actual startup you can
35:32 - find you know the whole playlist at CS
35:35 - da da da io /
35:36 - start or in the description below in
35:38 - case you're curious anyway thank you
35:41 - guys always for watching my videos and
35:43 - I'll see you guys in the next one

Cleaned transcript:

hi everyone in this video I'm gonna show you how I made a todo app with Django and the reason I wanted to you know start with a simple app like a todo app it's just because I think it's a good way to learn a new piece of technology so let's get started by you know first showing you the final result I got okay here's what I have as you can see that UI is super simple we have the header that says my todo app and then we have a list of todo items for example get a haircut learn Django and what's crazy which agents and if you want to add a todo item here you can just click here and then you know type in your todo item for example let's say to do or new todo item and click Add and then it gets added right here if you want to mark some todo items as done you can just click this one delete to delete these items and that's basically all we have now I'm going to show you how I made this really simple web app but let me just quickly recap the setup process first just in case you haven't seen the first two videos in the series so first we used pip3 to install pip m and then we use spit m to install jungle 2.1 and we did that in this folder called edit dojo and of course that's just the name of our project and after that we typed pip m shell to go into the virtual environment and then used this command right here to create a new jungle project after you go through all of that you should be able to just type in python manage pi run server to make sure everything worked so just copy and paste this URL in your browser you should be able to see either this or a for for error like this one actually either one is okay for now you're gonna see one or the other depending on you know your progress in this project okay so whichever one you see here let's get started with our todo app by creating a new app so to do that create a new tab in your terminal app or a new window in your terminal app and then go into the virtual environment by tapping in pip M sell and then create a new app with Python the pie starts up and let's call this app to do after you run this command if you run LS you should be able to see this new directory to do and then to install this app to do in this jungle project just go to your text editor open settings stop PI within edit dollar project within edit dojo find installed apps that's right here and then add to do at the end of this list okay next let's create a view for this app so go to a 2d folder and then open views up pi and here right this first from django HTTP import HTTP response and then you can create your view here by writing def to the view we quests return HTTP response and let's just say hello this is 2d view and then let's connect this to a specific URL by going to URL stop i within a dojo project and import the view that we just created by writing from to diffuse import to the view and then in your l patterns right path to do slash and then to do view if you go back to your browser and then type in the root URL slash to do you should now see this hello this is to the view so this is exactly the same as what we did in the last video for our hello world project okay so right now what we're doing is we're using a view to show a text or a string but that's not very useful is it you know we want to be able to show more complex information and that's where the concept of templates comes in so templates are basically sort of like a combination of HTML and python and you can use templates to show more complex information and you see an example of that in a minute okay so to demonstrate how you can use template let me just create a template here to do the first create a new folder within our root directory edit dojo by typing in mkdir templates and then go into your text editor find the folder that users created templates and then create a new file here we're gonna call this file to do dot HTML and this is gonna be our first template we're gonna keep it really simple for now so within this file just write h 1 this is the to do page and then close h 1 and in this video I'm just gonna assume that you're already familiar with HTML s and once you save this file go back to the 2d folder and then find visit up pi again and here instead of using this simple text to create an HTTP response to send back to the browser we can use that template to create an HTTP response as well and that's going to be more convenient as you'll see later so to do that instead of using this function HTTP response we're gonna use this function instead render so make sure you have this line to import this function render and then into the view write return render requests and then to do dot HTML okay so once you have this if you go back to the browser you should see the content of to do dot HTML right well actually not quite you should actually get this error template does not exist and that's just because a jungle by default doesn't know that it should look for you know templates in this directory templates so we need to tell Django about that and we can do that by going into settings top pie within a dojo project and then in this file find this one templates and then find this section ders so this is going to be the directories Django is going to look for for templates so here just right Oeste path dot join bass der comma templates and this is just concatenating the base directory of this project with this folder templates and once you have that save this file and then go back to your browser and refresh this page you should see this this is the to do page and if you remember this is the content of 2d HTML now to make this you know page more like a todo list let's add a list we can do that by going into to the HTML and by writing this so here I created a new UL tag and then within that I created to Li tags with these strengths or text temporary todo item a and temporary to the item B once you save this file and go back to the browser you should be able to see something like this the header waist the list okay after that the next step is going to be to create something called a model models are basically jungle's way of interacting your database and just a quick note here that we're gonna be using SQLite here and to use SQLite you don't have to do anything here because Django you know sets up SQLite by default and here we're gonna create a model representing each todo item to do that go back to your text editor and then go to the 2d folder and find model pi and here just write class to the item models the model and then content equals models dot text field so this creates a special type of class called to the item and this represents each todo item in our database and we're going to be able to use this class to interact with the data in our database right now this class only has one attribute can't call the content but it could have you know multiple attributes for example content to represent the content of each item which is gonna be text we could have let's say date created to represent when this item was created and maybe author to represent who created this item but for now let's keep it simple and only have content here okay once you have this in models up PI and once you save this file you're actually not done yet because you still need to tell jungle to make changes to our database so that our database essentially knows about this class we can do that in terminal or shell to do that first write this Python manage that PI make migrations and this creates something called a migration file and once we execute this file we're going to be able to migrate our database to a new state and a migration is basically a term that's used for changing the configurations of our database so this is basically going to tell the database that we have this new model called todo item to execute it just right manage the PI migrate and then you'll see that at the last slide here applying to the 0 0 0 1 initial that's the migration file that we created and you see a bunch of you know other migrations before that but you can you know just ignore them because they're basically a default migrations from Django and once you run these two commands Python manage the PI Mike make migrations and Python manage the PI migrate you are now ready to start interacting with this model to do that going to our Python shell by typing in Python managed by shell and once you're in this show you need to import our class or our model with from to do the models import to the item and then if you just write todo item here you see this and this just says you know this is a class that's called to do model start to the item and then to interact with the database you can write for example to the to the item dot objects dot R and this shows all the todo item objects that exist in our database but none exists right now so you should see something like this this just says it's empty so how can we create to the item objects Python objects and say them save them into our database let me show you here so to create a todo item object you can write todo item content equals let's call this permanent todo item sorry I misspelled permanent permanent to the item a let's just use a single quotes here and this object has been created so if you write a you should see something like this it's a todo item object but here actually it's not being saved to the database yet to do that you need to write a dot save and this way this object a has been saved to our database let's do the same thing for two more objects okay so here I created two more objects B and C which have the contents permanent to the item B and permanent to the item C and I saved them into the database and I'm calling this permanent because they're gonna be in the database permanently so at this point if you use this command that we saw earlier again you should see something like this you see three objects and this one this one and this one what if we wanted to retrieve one specific object from this set well you can do that by first storing the results of this query into a variable let's say all to do items and then if you write all to do items square bracket 0 this is going to retrieve the first object in this query set so write that and press Enter you should see this but you know it's kind of hard to see which one we are referring to right so to find that you can just do all to the items square bracket 0 dot content to show the content of this particular object and this is permanent todo item a let's do the same thing for the two other items so if we do square brackets 1 dot content you should see this and if you do to that content you should see this permanent todo item C okay and what if we wanted to delete one of these objects from our database for example at this one permanent todo item C or all to the items square brackets well tilde you can use the delete function just like that after running that if you run you know this command again you should only see these two objects because one of them has been deleted now you know in the results of this command to do items or objects that all you see these write todo item todo item object parentheses one but what's this number well it's the unique ID for each object that jungle automatically creates for each object so if you retrieve you know the first object right here by writing this one that we used earlier all to the item square bracket zero you can retrieve attributes from it just like that for example the content attribute but another attribute that Django automatically creates for this object is ID it's one as you can see right here using this ID actually there's a way to retrieve a specific object from our database using an ID so if you wanna for example retrieve the todo item object with the ID one you can write to do item dot objects dot get ID equals one and this is actually gonna create a query to access this particular object in our database and the result is this and then if you store this result and let's say temp for temporary and then if you type temp dot content you see that it's permanent to do item a now I think watching you know just this video is potentially confusing you know just looking at these commands so it's really best to you know create try creating a bunch of objects yourself and try saving them and you know try deleting some of them and you know try to get a feel of how this whole thing works anyway in my particular environment we have two objects in our database stored their IDs are one and two but their contents are permanent to do item a and permanent to do item B okay and what if we wanted to show all of those items you know these two items in our website well to do that we need to go back to the view stop pie file that we were editing earlier it's view stop pie within that 2d folder in this file first at this line from the models import todo item and just in case you're not familiar with the syntax dot models just means that we want to import you know this function to do this class to the item from this file model stop PI within the same folder as this well visit up PI and then once you import that in the view function we're gonna say once we get this requests then first retrieve all the todo items from our database to do that of course we can write to the item the objects that are and then we're going to store the result of that query into this variable called all todo items and then we want to be able to pass this information pass this list of todo items into the render function you can do that by adding a third argument to this function and that third argument is gonna be this as you can see this is a dictionary whose key is the string or items and value is all todo items this is basically saying we want to pass this information all todo items into the render function we're gonna call that all items and here's another way to think about it conceptually we're passing you know this information all todo items into our template to do the HTML so that the template has visibility over that information and then when we refer to that item or you know this list of items we're gonna use this name that we gave ourselves all items okay once you have that we want to be able to show the list of todo items in our template so go to the template file to do the HTML in the template folder and then let's comment out the list we had earlier and then create a new list year create ul tag and then within this ul tag write this so here I wrote curly brackets percentage for todo item in all items so like we saw earlier all items is what we are using here to refer to the list of items that we retrieved earlier from our database so we're essentially running a type of for loop here but in a special way so here we're saying you know for each todo item in all items create this tag at this Li tag and the content of this tag is gonna be this todo item content and note that we are using double curly brackets here and then the for loop here so this way we should be able to show what we saw earlier in our terminal per min to the RMA and permanent to the item B so let's see if it works go back to your browser and then go to the URL that we saw earlier and refresh it okay it worked it says permanent todo item a and permanent to do to the item B okay the next step is to add a form for adding a new todo item right over here to do that go back to to the HTML and then add this okay so as you can see I added a bunch of stuff here let me try and explain it carefully first of all I added a new form a new form tag here and then this form tag is gonna go to this URL and the root URL slash ad to do slash so this is basically gonna send an HTTP request to this URL and then there are two major types of HTTP requests get and post but when we want to you know create something in our database we need to use post here and not get and this tag right here is what we need to add in jungle for just for security purposes and then in the form tag we have two input tags the first one is the texts type because we need to type in text to specify you know what we want to put into our new todo item and we're calling this item we're calling this input content and then the next input tag the type of this one is gonna be submit this is gonna be the submit button and then it's gonna have the add value because it's gonna have you know the text that says add on the button so just to clarify this a little bit more when the user submits this form that you're gonna see you later the users browser sends a post request to this URL the root URL slash add to this slash with the data inside this form and you know this particular data has only one attribute here content that's gonna be texts so let's see how this form actually looks on our browser by going back to the browser or saving the file go back to the browser and then refresh the browser you should see something like this and actually you know you are able to submit it already but when you're submitted you're just gonna get an error because you know jungle doesn't know how to deal with this particular request so let's go back let's go to view stop pie to handle that so this is again Vista pie within a 2d folder so to handle that post we're gonna create a new view here we're gonna call it add to do so just like before take requests as the input and then what we want to do here is we want to create a new todo item object and then we want to save it and once you save that object we want to redirect the browser to the original URL that the user came from and that's gonna be slash to do slash so let's do it 1.1 first we need to retrieve the content from the post request the user sent us we can do that with this requests that posts square brackets contents so this says in the post requests that we received find the attribute that has the name content so we can save this in a new variable let's call it C and then using this we can create a new item let's call it a new item and then we can create it with todo item content equals C like we saw earlier actually since this is pretty short you know these two statements we can combine them just like that and after that save this item with new item save and then the last step is you know redirect the browser 2/2 2/1 do this with returned HTTP response redirect parenthesis / to the slash and actually we don't have this function imported in this particular file yet so do that with this from Django the HTTP import HTTP response and HTTP response redirect actually we're not using HTTP response functional here so let's just delete that and then we have just this and after creating this view we need to map the URL this post request will be sent to this view let's do that in our URL stub pie file so in your patterns create a new path so we're gonna map add to do to the add to do function and also import the add to the function here actually since we're you know sort of repeating ourselves I think we can just combine these two statements to just this let's see if it works so you know make sure you save all the files go back to the browser refresh the page oops I think I made a mistake somewhere let's see if we can find that mistake so what I would do in this situation is I would just go back to the terminal and you know find a tab that's running the server and you know find the relevant part of this error you know there's a lot of stuff here but I think it's this one from Django the HTTP import HTTP response redirect cannot import name this from Django HTTP so maybe I you know I spelled it wrong or something let me just copy this and then you know just cool it okay so just looking at you know this part of the Google result page you can see that I probably a miss type this somewhere oh yeah instead of writing HTTP response redirect I wrote HTTP response redirect let's fix that and see if that fixes everything go back to you know the editor go to view stop I think and then fix that and then fix this part too okay hopefully that's gonna work let's see refresh the to do page and then okay that's that's working and then try adding a new item here that's it let's say new item see click add and it's working new item has me added that's add new item again Urd and you you item ah all right it's all working okay once that's working the next step after this actually the final step is to add the delete button for each todo item and this is actually going to be kind of similar to this ad form you see why in a second so go back to our editor and then go to to do the HTML let's just you know sort of use this as a template for our delete form so in this you know for loop we're creating the Li tags within this Li tag this form and then we don't need the text input because we only need to say delete you know it's gonna have a single button here so change the add value to delete and then change the action or that URL that this request is going to be sent to to delete to do and jungle will need to know which item that we want to delete we can tell Django about that by writing this so delete to do slash to do item dot ID and again this is in double square brackets so this part is going to be replaced with this particular todo items ID so for example if this todo items ID is one this request is gonna be sent to slash delete to do slash one and then I think I should add a slash at the end to the method is still gonna be posts we're still gonna have this CRF token for security purposes and then the input type is the same submit and the value is going to be delete so let's first see how this looks by saving this file going back to the same page refreshing the page and this is pretty ugly let's fix that by fixing the style of this form so what I would do here is I would add a you know break line here just to make it easier to look and then I would add a style eCos displayinline so just to make sure that style echoes display column inline semicolon and this should fix the style issue go back to the page refresh yeah it's much better now and if I click this you know it's gonna give us an error again because jungle doesn't know how to handle this particular URL yet for example delete to do this last one okay let's fix that by first going to URL stop I within any dojo project so add a new pass here after add to do we're gonna call this delete to do for the URL and here what we want to say is we want to say if we get a delete to this slash one you know send that information to the delete to the function that we're gonna create later and then if we get to send that to the Lee we can do that with this syntax in colon to do ID and then close this so this says look for an integer after delete to do slash and then give that name give that integer a name and that name is going to be to do ID and then we're gonna send that information to the delete to do view or the delete to the function that we're gonna create later we're gonna create it in view stop PI and to do so we're gonna import it here so once you have that go to views that PI and then create a new function here and that's gonna be called of course delete to do and here let's go back to URL stop by for a second like we saw earlier we had you know delete to do slash an integer which we called to do ID and actually we can use this name to do ID in our function we have access to this integer as one of the arguments in the delay to the function essentially so once you have that the first step is to select or retrieve the 2d item object with this ID to do ID we can do that with todo item dot objects dark get ID equals to do ID and then let's save this item in a variable called let's say item to delete and since we want to delete that will just write item to delete that delete parenthesis and after that just redirect the browser to the original URL slash to do slash okay so if I typed everything correctly this time you know everything should work fine so let's see if it works go back to the browser of course and they refresh let's click this delete button okay it looks like it's working it's deleting these items and then I can add more items more sorry more and then even more and delete any of these items pretty neat right so obviously you know this todo app has a lot of problems for example you know it doesn't have any sense of users so all the users share the you know single todo app which is kind of stupid and also there is no error handling here and actually when you add an item or when you delete an item it refreshes you know the whole page which is you know kind of wasteful so you know obviously there are a lot of problems but I think I wanted to you know start with this project because I wanted to give you sort of an idea of how to you know start working with Django and I wanted to give you sort of an overview of how junk works okay and that's pretty much all I wanted to show in this video in the next video I'm thinking of implementing you know the signing with Twitter function but we'll see and if you're looking for you know extra resources for jungle I recommend to one is you know something I already mentioned in my previous videos it's called jungle for beginners it's a book that recommend it's at CS no soda io / DJ you can also find the free sample chapters at Django for beginners calm and then another piece of resource that I highly recommend you know which is a little bit more advanced I would say is the official and Django tutorial on poles you can just look for it by I think just by searching for Django tutorial maybe poles you can see you know I'm not good at spelling here but Google knows and then just click this link and you know it's really good it's actually um kind of slow and it goes through a lot of stuff but I like how you know they break down things you know to smaller components as opposed to actually this book Django for beginners but I think the best way to learn something you know not just jungle but any technology is to use you know a combination of multiple resources like my videos and maybe this book and maybe this tutorial so that's how I would you know go about learning Django and you know another thing I wanted to mention is first of all actually two things I want to mention first of all if you get stuck you know at any point in this video you know if you try to follow it you should go to siesta io / edit to join our slack channel to ask each other questions I think if you ask you no questions in the comment section you might get an answer but you know it's much more likely to get an answer if you ask questions on the slack Channel and the second thing I wanted to mention is that this video is actually part of a series of videos I recently started where I try to you know actually start an actual startup you can find you know the whole playlist at CS da da da io / start or in the description below in case you're curious anyway thank you guys always for watching my videos and I'll see you guys in the next one
