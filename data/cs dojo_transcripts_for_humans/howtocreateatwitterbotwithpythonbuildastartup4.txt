With timestamps:

00:00 - hi everyone in this video I'm gonna show
00:02 - you how to make a Twitter bot with
00:04 - Python first of all let me just show you
00:06 - what the final result is gonna look like
00:08 - so right now I'm in my personal twitter
00:11 - account at YK dojo but the Twitter
00:14 - account we're going to be controlling
00:16 - with python is gonna be this account at
00:18 - edit dojo instead and here's the way
00:22 - this account is gonna work or this spot
00:24 - is gonna work when you tweet at this
00:27 - account at edit dojo
00:29 - you know from either my account or your
00:32 - account with the hashtag hello world
00:36 - it's gonna respond back with the same
00:40 - hashtag within 15 seconds or so so let's
00:44 - just wait for a bit and I think I got a
00:47 - new tweet here let's check if that's the
00:49 - correct one let me just refresh the page
00:51 - here and it's the quick one I get hello
00:55 - world back to you from this account edit
00:57 - dojo so I'm gonna show you how I made
01:00 - this but you know just by changing the
01:02 - implementation a little bit you'll be
01:04 - able to do different things like for
01:06 - example you might say you know if
01:08 - someone admissions me with a certain
01:10 - keyword I'm gonna send them a direct
01:12 - message or if someone I follow mentions
01:16 - a certain topic then I'm gonna you know
01:19 - reply to that message anyway let's get
01:21 - started okay actually the first thing
01:23 - you need to do to follow this tutorial
01:25 - is you need to apply for developer
01:28 - accounts for Twitter to do that you can
01:32 - just you know go to your browser and
01:35 - then search for Twitter developer and by
01:39 - the way you know make sure to sign into
01:42 - your Twitter account first and then you
01:44 - know of course create a Twitter account
01:45 - if you don't have it yet and if you go
01:48 - to developer Twitter comm you see this
01:51 - button at the top that says apply so
01:54 - click that and then just follow
01:56 - everything that says here so choose
02:00 - which Twitter account you want to use
02:02 - here I'm gonna use another Twitter
02:05 - account I have here at CS so 2 4 4 so
02:08 - click continue
02:11 - and then follow everything else here and
02:17 - then once you go through everything you
02:19 - should see Terms of Service so read
02:22 - through it and then check these boxes or
02:25 - you know this first box at least and
02:27 - click submit application and then once
02:33 - you confirm your email address you're
02:35 - done
02:35 - so actually initially I thought there
02:38 - was gonna be a waiting period but it
02:40 - looks like I got the access already you
02:43 - might need to actually you know confirm
02:44 - your phone number - or wait for a few
02:47 - weeks but if you get the access right
02:49 - away you know that's great either way
02:52 - let's just get started with the rest of
02:53 - the process okay the next step is gonna
02:56 - be to create what's called an app within
02:59 - Twitter's developer website I'm gonna
03:01 - switch to firefox here just because you
03:05 - know I want to switch my Twitter
03:06 - accounts on Firefox I'm logged into at
03:09 - edit dojo like I said before we're gonna
03:12 - be controlling this accounts so then I'm
03:15 - just gonna search for Twitter developer
03:17 - on Google and you know find this website
03:21 - again and on the top right corner you
03:24 - should see your name and then when you
03:26 - hover over it you should see this one
03:28 - apps so click that and here you'll be
03:31 - able to create a new app I already have
03:34 - one app here edit dojo but I'm just
03:37 - gonna create a new app just for
03:39 - demonstration I think I'm just gonna
03:41 - call it edit dojo - and then I'll need
03:46 - to you know provide description website
03:48 - URL and so so let me just do that okay I
03:51 - just finished filling in everything here
03:53 - and by the way the reason why this app
03:56 - is called edit dojo is you know as some
03:59 - of you know it's just because I'm
04:01 - working on this project called edit dojo
04:03 - anyway once you finish that click create
04:06 - and then read everything click create
04:10 - and then your app should be created and
04:13 - once your app is created the next step
04:15 - is to check the permissions and make
04:18 - sure you have read and write permission
04:20 - because we're gonna be reading and
04:22 - writing tweets and then go
04:24 - keys and tokens and make sure you have
04:27 - all your keys generated so you should
04:29 - have consumer API keys API key API
04:33 - secret keys and then access token and
04:37 - access token secrets basically these
04:40 - four strings you won't be able to you
04:43 - know use the same keys because I'm gonna
04:45 - destroy these keys later but you should
04:47 - have your own keys here okay after that
04:50 - the next step is to make sure you have
04:52 - Python 3 on your computer because that's
04:55 - what we're gonna use so open your
04:57 - terminal or cell app and then try typing
05:01 - in python 3 - - version you might want
05:04 - to try a python that's just version 2
05:06 - but let me try a python 3 version here
05:09 - you should see something like this if
05:11 - you see python 3 point something then
05:14 - that's good that means you have Python 3
05:15 - installed on your computer now if you
05:17 - don't have python 3 on your system there
05:20 - are a few options here the first one is
05:22 - to obviously you know download and then
05:24 - install python 3 on your system but if
05:27 - you don't want to bother going through
05:29 - the process or if you have you know
05:30 - trouble doing that you can just use this
05:33 - website called python anywhere which you
05:36 - can find at CH dojo io / pi so this is a
05:43 - website where you can create a python
05:45 - script and run them without installing
05:47 - python at all so you can create a file
05:50 - right here in the file section just
05:52 - click open another file and then you
05:56 - know just typing in home / username in
05:59 - my case wacky dojo / let's say my bot
06:03 - dot pi and then click new file you can
06:06 - also run a terminal here or bash just by
06:11 - clicking
06:11 - you know this button right here and I
06:13 - think this website is pretty nice
06:15 - because you know you'll be able to use
06:17 - the free version of their website to
06:20 - follow pretty much everything in this
06:21 - tutorial anyway whether you use
06:24 - something like Python anywhere or your
06:26 - local environment the rest of the steps
06:28 - are going to be pretty much exactly the
06:30 - same so let's go back to our terminal
06:32 - and the next step of this is actually
06:36 - going to be a little bit tricky
06:38 - we're gonna be using this library called
06:40 - a tweet by you know Twitter for Python
06:42 - but the thing is it only works with
06:45 - Python
06:45 - as you can see 2.7 3.4 3.5 and 3.6 so so
06:51 - python 3.7 doesn't work with this
06:54 - library so there are a few options for
06:56 - getting around that issue the first
06:58 - option is to use a previous version of
07:00 - Python for example 3.7 I mean 3.6 but it
07:05 - turns out depending on your environment
07:07 - using a previous version of Python for
07:10 - this particular library is not the
07:13 - easiest option so what I would
07:15 - personally recommend is if you have
07:18 - Python 3 I mean Python 3.7 keep using
07:21 - Python 3.7 but use this particular
07:24 - command that I'm going to show you to
07:27 - find this command I just searched for
07:28 - tweet Pi Python 3.7 and then I found at
07:32 - this issue on github and then what
07:35 - you're gonna have to do is you need to
07:37 - install a particular version of this
07:40 - github repo and to do that you can use
07:44 - this command so I'm just gonna copy and
07:46 - paste it on my terminal but you'll be
07:49 - able to find it at you know either
07:51 - on this issue or at CS Dada io / Twitter
07:54 - anyway copy and paste that command on
07:57 - terminal or in console and then I'm
08:00 - actually gonna replace pip with PIP 3
08:03 - it's you know it really depends on your
08:06 - environment which command you should use
08:08 - so I would try pip 3 first and then if
08:10 - it doesn't work I will try a pip install
08:13 - and so on so let me just try this here
08:16 - and this is gonna install like I said a
08:19 - particular version of tweet PI that
08:22 - should work with Python 3.7 ok so once
08:26 - you see this successfully installed
08:27 - wheat pie three point six point zero
08:29 - that's good go to your let's say this
08:33 - stop and then I create a new directory
08:37 - for this particular project I'm just
08:40 - gonna call it my bot and then go into
08:44 - the folder and after that we're gonna
08:47 - finally start creating our bot here to
08:50 - do that go to your
08:52 - editor I'm gonna use item here or Adam
08:55 - I'm actually not sure how to pronounce
08:57 - it anyway go into that folder that you
09:00 - just created and then create a new file
09:05 - let's call it my Twitter bot pi let's
09:12 - just write print this is my Twitter bot
09:16 - just to get started go back to terminal
09:19 - and then in the same folder type in
09:22 - Python 3 or Python my Twitter pot pie
09:27 - and this should print this this is my
09:30 - Twitter bot okay the next step is to
09:33 - import tweet pipe after installing tweet
09:35 - by you know with the command I showed
09:38 - you earlier you should be able to do
09:39 - that with just this imports tweet pie
09:44 - save this file go back to terminal and
09:47 - then run the same command and if you get
09:50 - no errors then that's good the import
09:52 - was successful after that go back to my
09:55 - Twitter bot pie in your editor and then
09:58 - either type in or copy and paste these
10:01 - commands I'm gonna put my source code in
10:04 - CS those are the io / Twitter so that
10:07 - you know you can just copy and paste
10:08 - these commands and we have as you can
10:11 - see these four variables here consumer
10:14 - key consumer secret access the access
10:17 - key and access secret these are the keys
10:19 - that we saw earlier so copy and paste
10:22 - your particular keys into those I have
10:26 - the consumer API key here and the API
10:31 - secret key here and so on and access key
10:34 - I mean access secret should be right
10:37 - here and once you have this you should
10:41 - have these three commands after that
10:42 - we're setting up this auth object using
10:46 - consumer key and consumer secret and
10:48 - then we set access token on the auth
10:51 - object with access key and access secret
10:53 - don't worry too much about what it's
10:56 - doing right now but the important part
10:58 - is after that we're setting up this
11:00 - object called API and we're going to be
11:03 - using this API object to basically you
11:06 - know
11:06 - talk to Twitter to read data from
11:08 - Twitter and write data into Twitter so
11:11 - save this file and go back to terminal
11:13 - and run this command again and if you
11:17 - get nowhere then that's good again and
11:20 - after that we want to be able to process
11:22 - all the admission tweets direct it for
11:26 - at edit dojo so let me go into my
11:30 - personal Twitter account at YK dojo and
11:34 - then create a bunch of new admissions
11:37 - for editor Jo so let me just write at
11:40 - edit dojo let's say tweet one so this is
11:46 - gonna be the first admission and then
11:49 - I'll say at edit dojo tweet to hashtag
11:55 - HelloWorld and so on let me create five
11:59 - of these okay so as you can see here I
12:02 - ended up creating six of those tweets at
12:05 - tweet one two three four five six and
12:08 - two of these have the hashtag HelloWorld
12:12 - tweet two and tweet six so we want to
12:15 - make our bot so that it responds to only
12:18 - those tweets with the hashtag hello
12:20 - world anyway let's go back to our
12:23 - terminal and I'm gonna start up a new
12:26 - Python shell here just by typing Python
12:29 - three just to test out some stuff in
12:32 - this Python shell copy the commands
12:35 - we've written so far all the commands
12:37 - we've written so far and then paste it
12:41 - here so this way you know we've just
12:43 - created the API object in this Python
12:46 - shell environment if you're typing API
12:48 - you should see something like this now
12:51 - let me go to tweet PI's documentation
12:53 - for a second you can find this page just
12:55 - by searching for to API documentation on
12:58 - Google and here you see this command API
13:03 - dot mentions timeline this is this is
13:06 - going to return all the recent missions
13:08 - for this account so that's what we're
13:11 - gonna use and there are you know
13:13 - different kinds of commands here and for
13:16 - example you have you know home time line
13:18 - if you want to get
13:20 - all the tweets from you know people you
13:22 - follow but here we're gonna use mentions
13:25 - timeline so go back to terminal and then
13:29 - try typing in API dot mentions timeline
13:32 - parentheses and then you should get you
13:37 - know some kind of results like this
13:38 - let's store this in a new variable
13:42 - called dimensions so here if you just
13:45 - print out the results just by typing in
13:48 - missions I think it's really hard to
13:50 - know what's going on because there's a
13:52 - lot of stuff here so what I would do
13:55 - here is I would just say type missions
13:58 - to find the type of this result you see
14:03 - that this is you know this class sweet
14:05 - pie that models that without set so what
14:09 - I actually did is I search for this on
14:11 - Google and then you know I search for
14:14 - like how to extract information from
14:17 - this set basically and then here I found
14:21 - this command or this comment that says
14:25 - tweet point without set is a subclass of
14:27 - pythons lists so I said okay you know
14:30 - it's like a list
14:31 - so maybe what I can do is I can do
14:35 - mentions square bracket zero to find the
14:37 - first tweet and that's actually the case
14:41 - but if you look at this this is still a
14:44 - lot of stuff so I did the same thing
14:47 - okay you know what's the class of this
14:48 - or what's the type of this one so I did
14:51 - that you know type parentheses measuring
14:54 - square bracket zero and then it turns
14:56 - out it's this one three point models
14:58 - that status so I actually went back to
15:01 - Google and did the same thing
15:03 - search for it just like that and
15:06 - actually you know when I search for it I
15:09 - didn't you know find that much useful
15:10 - information but I found that you know I
15:14 - know that this is a class and since this
15:17 - is a class or this is an object of this
15:19 - class and since this is an object we can
15:23 - use this trick to convert this object
15:27 - into a dictionary so type in you know
15:30 - this dots underscore underscore
15:34 - and the score in the score this converts
15:37 - this object into a dictionary and then
15:41 - you see that you know it has a bunch of
15:44 - attributes like API Jason ID ID SDR text
15:50 - and so on it's still kind of hard to see
15:53 - so what I would do here is I would
15:56 - extract all the keys by typing in that
16:00 - keys after the command that we used
16:03 - earlier and then you should see this
16:05 - these are basically the attributes of
16:08 - this particular class and it's much easy
16:10 - you know it's much easier to see you see
16:13 - attributes like created add ID you know
16:17 - this is probably the ID of the tweet and
16:19 - the text of the tweet and so so using
16:23 - this information we'll be able to you
16:25 - know if you wanna extract for example
16:27 - the texts you'll be able to just to
16:30 - mention this square bracket 0 which is
16:32 - an object dot text and this is the last
16:37 - weight that we sent out and then if you
16:39 - want to extract the ID which we're gonna
16:42 - use later you can just replace text with
16:44 - ID and then you get this and this is
16:48 - actually an integer I think by the way
16:50 - yes it is an integer so I think I went
16:54 - through a lot of stuff pretty quickly I
16:56 - really recommend you know that you I try
16:58 - running these same commands yourself and
17:00 - you know see how it goes and try to
17:03 - understand how everything fits together
17:05 - here anyway once you go through that
17:07 - press the up arrow key to find the
17:11 - command we used earlier to find all the
17:13 - mentions it was this one now that we
17:15 - know that this is the right command
17:17 - let's copy this command in our file my
17:22 - twitter bot pi and then let's use this
17:25 - mentions to you know print out all
17:28 - dimensions that we get from this command
17:31 - since this is just like a list you know
17:34 - we can iterate through it just like a
17:35 - list so we can do for mention a mentions
17:39 - and then let's just print the texts of
17:43 - this machine by typing a print
17:47 - mentioned that text and actually the ID
17:52 - is going to be useful later too
17:54 - so let's also type that in here with
17:57 - mention that ID plus mention dot text
18:01 - and since ID is an integer
18:04 - I mentioned that text is a string we
18:07 - can't do this we'll need to convert this
18:10 - ID into a string with the STR function
18:14 - and let's also add you know some spaces
18:17 - and maybe a hyphen here just to make it
18:20 - easier to see and this should print out
18:23 - all the mentions that we get from this
18:26 - command so let's save this file and
18:28 - let's see if that works go back to
18:31 - terminal and then let's keep our Python
18:34 - shell here and then just open a
18:36 - different tab of window and type in
18:39 - Python 3 my twitter bot dot pi let's see
18:44 - if it works okay it looks like it works
18:47 - we see a bunch of you know tweets here
18:49 - and the first six of these are the
18:52 - tweets that we created earlier okay the
18:54 - next thing we want to do is for each of
18:57 - these tweets we want to check if each of
19:00 - these tweets includes the hashtag hello
19:02 - world or not so go back to the Python
19:05 - terminal and then make sure that you
19:08 - still have this variable missions and
19:12 - let's just retrieve one of them mention
19:14 - zero let's just call this one T zero and
19:19 - then to get text we were able to do just
19:21 - teaser text we want to see you know if
19:25 - this includes a hashtag hello world the
19:28 - way I would go about it is I would first
19:30 - convert everything you know this string
19:32 - into lowercase because you know we won't
19:37 - just I think it's actually lower
19:40 - parentheses this text no actually sorry
19:44 - I should be a t 0 dot txt dot lower
19:48 - parenthesis okay so that works and the
19:51 - reason I want to convert it to a
19:53 - lowercase is because you know this
19:56 - hashtag hello world could be in any case
19:58 - right it could be all caps or
20:01 - it could be that you know H and W are
20:04 - capitalized and so or in it could be all
20:06 - lowercase but if we lowercase everything
20:10 - will be able to handle all the whole of
20:12 - those cases and then we want to say that
20:14 - is this lower lowercase version of the
20:18 - text include the hashtag hello world we
20:22 - can do that with this command quotes
20:25 - hello world close the quotes and then in
20:29 - this and this returns true if this
20:33 - hashtag is in there but if it's not in
20:37 - there for example hello world to is not
20:39 - in there it's going to return false so
20:43 - that's what we're going to use in our
20:45 - main file let's just copy this thing
20:48 - into our file here my twitter bot pi and
20:53 - then for mention emissions let's just do
20:56 - if the hashtag hello world is in the
21:01 - tweet instead of T zero use mention then
21:05 - prints will just say found hello world
21:11 - responding back dot dot dot let's see if
21:15 - this works so far by going back to the
21:19 - terminal and go back to the regular
21:21 - terminal or bash and then you know run
21:25 - this command again by three my twitter
21:27 - bot pi and let's see if that worked
21:30 - actually let's see just the top part we
21:36 - see a tweet six found hello world
21:39 - responding back and then we see a bunch
21:41 - of tweets and then tweet to hello world
21:43 - found hello world responding back so
21:46 - that's good it's working so far ok so so
21:49 - far I wanted to you know sort of show
21:51 - you the process by which I go about
21:53 - developing a script like this since this
21:56 - video is getting a little bit long let
21:58 - me just you know develop some more
21:59 - script and then once I'm done
22:02 - let me show you what's going on okay I
22:04 - wrote some more code here and for me to
22:07 - explain some of it you know I'll need to
22:09 - explain the idea of this code first so
22:12 - let's say you have
22:13 - you know these six mentions like we saw
22:17 - earlier
22:17 - tweet-tweet one two three four five six
22:19 - and you know with two tweets with this
22:23 - hashtag hello world now let's say the
22:25 - current time is here so these three
22:28 - tweets have been sent and these three
22:32 - tweets have it and when we run our
22:35 - script you know we're going to take a
22:37 - look at these three tweets right and
22:39 - then after these three tweets have been
22:43 - sent let's say in 15 seconds or in a
22:46 - minute whatever interval that you decide
22:49 - then we'll need to you know run our
22:51 - script again in that case we don't want
22:54 - to you know take a look at these three
22:55 - tweets again because we've already done
22:58 - that we don't want to respond to the
22:59 - same people over and over again so we'll
23:02 - need to make sure to store the ID of the
23:06 - last tweet and that we've seen so that's
23:10 - why I created a new file in the same
23:12 - folder called the last scene ID text so
23:16 - I decided to just store that ID in this
23:18 - file and then retrieve it every time we
23:21 - run our script you know it could be in a
23:23 - database or something but a text file is
23:26 - the simplest solution for this kind of
23:27 - stuff so I wrote these two functions for
23:31 - that retrieve last scene ID and store
23:34 - last scene ID retrieve last scene ID
23:37 - takes the file name you know this file
23:39 - name and then returns the last scene ID
23:43 - so if it takes this filename it's just
23:46 - gonna return this number as an integer
23:48 - and then a store last scene ID is the
23:51 - opposite of that it takes the new last
23:54 - scene ID and the file name and then it's
23:58 - just gonna write that new ID into this
24:02 - text file last scene I did text okay and
24:04 - if you want to play around with these
24:06 - functions and with the rest of the code
24:08 - like I said earlier you can just go to
24:10 - CS dojo da io / Twitter
24:12 - anyway let me just demonstrate to you
24:14 - how this whole thing works actually
24:17 - another thing I changed another major
24:19 - thing I changed is that when I goes
24:23 - through you know these measures I'm
24:25 - reversing
24:27 - lists that's for technical reason too
24:30 - but another reason is that you know it's
24:33 - a more natural way of thinking about it
24:34 - instead of going through you know tweet
24:37 - six to eight five two eight four we're
24:39 - going through you know old tweet firsts
24:41 - or tweets first and then responding to
24:43 - them first so it's gonna be you know to
24:46 - eat one first two three and so on okay
24:49 - and we're using another argument in this
24:53 - mentions timeline function the first
24:56 - argument of this function actually and
24:57 - that's last seen ID this way you know if
25:01 - the last seen ID is let's say you know
25:04 - the ID of this tweet let's say 91 then
25:08 - that API is gonna ignore this tweet and
25:12 - then give us you know these five tweets
25:14 - instead and actually I stored the idea
25:17 - of the first tweet in the comment right
25:20 - here so let me just copy and paste this
25:24 - ID in this you know lasting ID text
25:27 - that's actually what I already had but
25:30 - you know just to make sure we have the
25:31 - right ID and that way we should be able
25:35 - to see you know those five tweets let's
25:38 - see if that works and it does so we see
25:42 - a tweet two three four five and six and
25:45 - as you can see we're you know going to
25:49 - the oldest tweet first and then newest
25:52 - newest tweet last and once this is done
25:55 - you know this ID of tweets six should be
26:00 - in lassen I did that text and that's
26:03 - what we see here and since that's
26:05 - updated if we run point with Python
26:08 - three my Twitter but stop by again we
26:12 - should see no tweets because there have
26:15 - been no mentions you know since and the
26:18 - last tweet tweet six ok so so far all
26:21 - I've been doing is I've been just you
26:23 - know printing out these tweets and these
26:25 - comments
26:26 - we haven't been you know doing anything
26:29 - with those tweets so let me show you how
26:31 - to actually reply to those tweets to do
26:34 - that let me just you know copy the idea
26:37 - of the first tweet that we've seen and
26:40 - and go to our terminal and go to you
26:43 - know the Python shell again and then to
26:46 - respond to the particular tweet you need
26:49 - to use this command API dot update
26:52 - status and then at the username that's
26:57 - actually YK dojo let me just do that and
26:59 - then let's say hello world back to you
27:03 - and this is testing or this is just a
27:07 - test comma and then that ID so this
27:11 - should work let's go back to Twitter and
27:15 - let's see if we got it
27:17 - if we look at tweet one we see this new
27:20 - tweet hello back to you and this is just
27:23 - a test and that's the string that we
27:25 - wrote just earlier and to integrate that
27:28 - in our main code I'm gonna write this so
27:32 - after you know we make sure that
27:34 - HelloWorld is in the mission I'm gonna
27:37 - write API dot update status actually let
27:41 - me just copy and paste the command that
27:44 - we wrote earlier it was this one so copy
27:47 - and then go back to the editor paste it
27:50 - and instead of saying @ YK dojo manually
27:55 - I'm gonna write you know just at and
27:58 - then let's say plus we can actually use
28:03 - this command mention user dot screen
28:08 - underscore name plus and then let's use
28:12 - the hash tag here hello world back to
28:16 - you and then instead of using you know
28:18 - this ID manually I'm gonna write tweet
28:23 - or actually mention that ID so here let
28:27 - me copy the idea of the first tweet to
28:30 - last scene ID text and I save the file
28:34 - and once we run this whole thing this
28:39 - whole thing should work hopefully so
28:41 - let's go back to terminal and then run
28:43 - this again ok so it looks like we
28:47 - responded to tweet six without getting
28:50 - any earth let's check the result on
28:53 - Twitter
28:54 - let me refresh this page and I get hello
28:57 - world back to you
28:59 - that's actually perfect okay and the
29:01 - last step after this is to actually put
29:04 - this whole thing you know retrieving the
29:07 - last scene ID retrieving the missions
29:09 - and replying to some of them in a
29:11 - function and you see why in a second so
29:14 - put this whole thing in a function
29:17 - called reply to tweets just like that
29:21 - and then let's just put print replying
29:25 - to tweets da da da actually let's say
29:29 - retrieving and replying to tweets and
29:33 - then once we have this in a function if
29:36 - we do this it's just gonna be easier to
29:38 - see while true so this is gonna be an
29:42 - infinite loop I'll say we apply to
29:44 - tweets so we apply to tweets and then
29:47 - time that sleep 15 seconds
29:51 - so this stops this process for 15
29:54 - seconds and then we start it after 15
29:57 - seconds so this will we'll be able to
29:59 - you know run this function reply to
30:01 - tweets every 15 seconds and then to use
30:05 - this you need to import the time module
30:09 - at the beginning of this file by writing
30:11 - imports time and here just for testing
30:16 - let's change this to 2 seconds and let's
30:20 - see if it works go back to terminal and
30:22 - then run this file alright it looks like
30:28 - it's working and you know I just press
30:31 - command ctrl C to stop that and here the
30:35 - reason I'm comfortable enough with this
30:37 - code at this point is because you know I
30:40 - already tested everything in the
30:42 - function I just copy and pasted
30:44 - everything so it should work okay so
30:47 - let's change this time back to 15
30:50 - seconds and once you run this in your
30:53 - terminal that's your BOTS but you know
30:56 - there's a problem here right if you just
30:58 - use your terminal as a bot you know
31:00 - you'll never be able to close it you'll
31:02 - never be able to go off the internet and
31:04 - that would be pretty
31:06 - billions so to solve that issue you need
31:09 - to put it online and actually at the
31:11 - easiest way to put it online I think is
31:14 - to use the website I mentioned earlier
31:16 - Python anywhere which again you can find
31:19 - at CSIRO slash PI let me just stop this
31:24 - process for now with ctrl C okay so once
31:27 - you sign up for Python anywhere you know
31:29 - just the free version is fine you'll be
31:32 - able to add files here in the file
31:34 - section so add home /yk dojo that's the
31:39 - home directory slash my Twitter bot dot
31:43 - pi I think that's the that's what the
31:45 - name was and I click new file and then I
31:48 - think there's a way to you know transfer
31:51 - files with git or something but for now
31:54 - you can just copy and paste everything
31:56 - in our file here so copy and paste
31:59 - everything here and then save click save
32:03 - and go back to the dashboard of Python
32:07 - anywhere you need to create another file
32:10 - actually and that was home your username
32:13 - slash last seen ID text so create that
32:17 - file and then copy the ID that you have
32:22 - in your last seen ID file locally click
32:25 - Save here and then go back to dashboard
32:28 - of Python anywhere again okay once you
32:30 - have those two files you can go to the
32:34 - console just click bash here this is
32:37 - just like the local console that we've
32:38 - been using so first type ls' to make
32:42 - sure you have my twitter bot pi and last
32:45 - seen ID text and then use the command
32:48 - that we used earlier you know I think
32:51 - that was a pip you or something and then
32:54 - the get URL to download tweet by and I
32:59 - think I've already done that so after
33:01 - that you can just do my Twitter bot up
33:05 - high and this should just work okay so
33:09 - I've been running a for a while now
33:10 - let's make sure this still works I'm
33:13 - gonna do that by going to Twitter and
33:15 - then by at mentioning a dojo
33:19 - it's dojo and then I'm gonna create two
33:22 - tweets the first one is gonna be tweet a
33:24 - with a hashtag hello world let's all cap
33:28 - here hello world
33:30 - I think that's spelled correctly and
33:32 - then the second tweet is gonna be tweets
33:37 - be without the hashtag let's say hello
33:42 - world okay
33:45 - so let's wait for 15 seconds or so let's
33:49 - see if it works you can actually go back
33:51 - to the console on Python anywhere you
33:55 - see you see that the spot found you know
33:58 - these two missions and then I think it's
34:01 - responding to only the first one tweet a
34:04 - let's wait for a bit and then let's make
34:07 - sure everything is correct on Twitter -
34:09 - yeah it looks like it's everything is
34:12 - correct so I don't see any replies to
34:14 - tweet B and I do see a reply hello world
34:17 - back to you on tweet a okay so this
34:21 - method of using Python anywhere's
34:23 - console works but it turns out you know
34:26 - every half a day or so or maybe maybe
34:29 - every day this console kind of shuts
34:31 - down and then the script just starts
34:34 - stops working and if you don't mind you
34:37 - know restarting it every half a day or
34:39 - so then that's fine but if you don't
34:41 - want to do that there are you know a few
34:43 - ways of going around it one is you know
34:46 - you could try using other cloud services
34:48 - maybe like digital ocean or Heroku or
34:52 - something but another one is actually to
34:55 - use Python
34:56 - anywhere's function called always-on
34:59 - tasks and apparently you know it's a
35:02 - function where you start up a script and
35:06 - then if it crashes it's just gonna you
35:09 - know start it automatically again so it
35:12 - looks like a pretty useful function you
35:14 - know I've been trying it for a while now
35:15 - and it's been working just fine so far
35:18 - but the thing is it's only in the paid
35:20 - option you know you need to pay five
35:22 - dollars a month so if you don't want to
35:24 - do that you know you should look into
35:26 - other options like I mentioned earlier
35:27 - anyway that's pretty much it for this
35:30 - video and I think I'm gonna keep running
35:32 - the script for at least
35:34 - for the next few weeks or so so if you
35:36 - add mission edit dojo with the hashtag
35:38 - hello world the spot might still work
35:41 - anyway thank you as always for watching
35:44 - my videos and I will see you guys in the
35:46 - next one

Cleaned transcript:

hi everyone in this video I'm gonna show you how to make a Twitter bot with Python first of all let me just show you what the final result is gonna look like so right now I'm in my personal twitter account at YK dojo but the Twitter account we're going to be controlling with python is gonna be this account at edit dojo instead and here's the way this account is gonna work or this spot is gonna work when you tweet at this account at edit dojo you know from either my account or your account with the hashtag hello world it's gonna respond back with the same hashtag within 15 seconds or so so let's just wait for a bit and I think I got a new tweet here let's check if that's the correct one let me just refresh the page here and it's the quick one I get hello world back to you from this account edit dojo so I'm gonna show you how I made this but you know just by changing the implementation a little bit you'll be able to do different things like for example you might say you know if someone admissions me with a certain keyword I'm gonna send them a direct message or if someone I follow mentions a certain topic then I'm gonna you know reply to that message anyway let's get started okay actually the first thing you need to do to follow this tutorial is you need to apply for developer accounts for Twitter to do that you can just you know go to your browser and then search for Twitter developer and by the way you know make sure to sign into your Twitter account first and then you know of course create a Twitter account if you don't have it yet and if you go to developer Twitter comm you see this button at the top that says apply so click that and then just follow everything that says here so choose which Twitter account you want to use here I'm gonna use another Twitter account I have here at CS so 2 4 4 so click continue and then follow everything else here and then once you go through everything you should see Terms of Service so read through it and then check these boxes or you know this first box at least and click submit application and then once you confirm your email address you're done so actually initially I thought there was gonna be a waiting period but it looks like I got the access already you might need to actually you know confirm your phone number or wait for a few weeks but if you get the access right away you know that's great either way let's just get started with the rest of the process okay the next step is gonna be to create what's called an app within Twitter's developer website I'm gonna switch to firefox here just because you know I want to switch my Twitter accounts on Firefox I'm logged into at edit dojo like I said before we're gonna be controlling this accounts so then I'm just gonna search for Twitter developer on Google and you know find this website again and on the top right corner you should see your name and then when you hover over it you should see this one apps so click that and here you'll be able to create a new app I already have one app here edit dojo but I'm just gonna create a new app just for demonstration I think I'm just gonna call it edit dojo and then I'll need to you know provide description website URL and so so let me just do that okay I just finished filling in everything here and by the way the reason why this app is called edit dojo is you know as some of you know it's just because I'm working on this project called edit dojo anyway once you finish that click create and then read everything click create and then your app should be created and once your app is created the next step is to check the permissions and make sure you have read and write permission because we're gonna be reading and writing tweets and then go keys and tokens and make sure you have all your keys generated so you should have consumer API keys API key API secret keys and then access token and access token secrets basically these four strings you won't be able to you know use the same keys because I'm gonna destroy these keys later but you should have your own keys here okay after that the next step is to make sure you have Python 3 on your computer because that's what we're gonna use so open your terminal or cell app and then try typing in python 3 version you might want to try a python that's just version 2 but let me try a python 3 version here you should see something like this if you see python 3 point something then that's good that means you have Python 3 installed on your computer now if you don't have python 3 on your system there are a few options here the first one is to obviously you know download and then install python 3 on your system but if you don't want to bother going through the process or if you have you know trouble doing that you can just use this website called python anywhere which you can find at CH dojo io / pi so this is a website where you can create a python script and run them without installing python at all so you can create a file right here in the file section just click open another file and then you know just typing in home / username in my case wacky dojo / let's say my bot dot pi and then click new file you can also run a terminal here or bash just by clicking you know this button right here and I think this website is pretty nice because you know you'll be able to use the free version of their website to follow pretty much everything in this tutorial anyway whether you use something like Python anywhere or your local environment the rest of the steps are going to be pretty much exactly the same so let's go back to our terminal and the next step of this is actually going to be a little bit tricky we're gonna be using this library called a tweet by you know Twitter for Python but the thing is it only works with Python as you can see 2.7 3.4 3.5 and 3.6 so so python 3.7 doesn't work with this library so there are a few options for getting around that issue the first option is to use a previous version of Python for example 3.7 I mean 3.6 but it turns out depending on your environment using a previous version of Python for this particular library is not the easiest option so what I would personally recommend is if you have Python 3 I mean Python 3.7 keep using Python 3.7 but use this particular command that I'm going to show you to find this command I just searched for tweet Pi Python 3.7 and then I found at this issue on github and then what you're gonna have to do is you need to install a particular version of this github repo and to do that you can use this command so I'm just gonna copy and paste it on my terminal but you'll be able to find it at you know either on this issue or at CS Dada io / Twitter anyway copy and paste that command on terminal or in console and then I'm actually gonna replace pip with PIP 3 it's you know it really depends on your environment which command you should use so I would try pip 3 first and then if it doesn't work I will try a pip install and so on so let me just try this here and this is gonna install like I said a particular version of tweet PI that should work with Python 3.7 ok so once you see this successfully installed wheat pie three point six point zero that's good go to your let's say this stop and then I create a new directory for this particular project I'm just gonna call it my bot and then go into the folder and after that we're gonna finally start creating our bot here to do that go to your editor I'm gonna use item here or Adam I'm actually not sure how to pronounce it anyway go into that folder that you just created and then create a new file let's call it my Twitter bot pi let's just write print this is my Twitter bot just to get started go back to terminal and then in the same folder type in Python 3 or Python my Twitter pot pie and this should print this this is my Twitter bot okay the next step is to import tweet pipe after installing tweet by you know with the command I showed you earlier you should be able to do that with just this imports tweet pie save this file go back to terminal and then run the same command and if you get no errors then that's good the import was successful after that go back to my Twitter bot pie in your editor and then either type in or copy and paste these commands I'm gonna put my source code in CS those are the io / Twitter so that you know you can just copy and paste these commands and we have as you can see these four variables here consumer key consumer secret access the access key and access secret these are the keys that we saw earlier so copy and paste your particular keys into those I have the consumer API key here and the API secret key here and so on and access key I mean access secret should be right here and once you have this you should have these three commands after that we're setting up this auth object using consumer key and consumer secret and then we set access token on the auth object with access key and access secret don't worry too much about what it's doing right now but the important part is after that we're setting up this object called API and we're going to be using this API object to basically you know talk to Twitter to read data from Twitter and write data into Twitter so save this file and go back to terminal and run this command again and if you get nowhere then that's good again and after that we want to be able to process all the admission tweets direct it for at edit dojo so let me go into my personal Twitter account at YK dojo and then create a bunch of new admissions for editor Jo so let me just write at edit dojo let's say tweet one so this is gonna be the first admission and then I'll say at edit dojo tweet to hashtag HelloWorld and so on let me create five of these okay so as you can see here I ended up creating six of those tweets at tweet one two three four five six and two of these have the hashtag HelloWorld tweet two and tweet six so we want to make our bot so that it responds to only those tweets with the hashtag hello world anyway let's go back to our terminal and I'm gonna start up a new Python shell here just by typing Python three just to test out some stuff in this Python shell copy the commands we've written so far all the commands we've written so far and then paste it here so this way you know we've just created the API object in this Python shell environment if you're typing API you should see something like this now let me go to tweet PI's documentation for a second you can find this page just by searching for to API documentation on Google and here you see this command API dot mentions timeline this is this is going to return all the recent missions for this account so that's what we're gonna use and there are you know different kinds of commands here and for example you have you know home time line if you want to get all the tweets from you know people you follow but here we're gonna use mentions timeline so go back to terminal and then try typing in API dot mentions timeline parentheses and then you should get you know some kind of results like this let's store this in a new variable called dimensions so here if you just print out the results just by typing in missions I think it's really hard to know what's going on because there's a lot of stuff here so what I would do here is I would just say type missions to find the type of this result you see that this is you know this class sweet pie that models that without set so what I actually did is I search for this on Google and then you know I search for like how to extract information from this set basically and then here I found this command or this comment that says tweet point without set is a subclass of pythons lists so I said okay you know it's like a list so maybe what I can do is I can do mentions square bracket zero to find the first tweet and that's actually the case but if you look at this this is still a lot of stuff so I did the same thing okay you know what's the class of this or what's the type of this one so I did that you know type parentheses measuring square bracket zero and then it turns out it's this one three point models that status so I actually went back to Google and did the same thing search for it just like that and actually you know when I search for it I didn't you know find that much useful information but I found that you know I know that this is a class and since this is a class or this is an object of this class and since this is an object we can use this trick to convert this object into a dictionary so type in you know this dots underscore underscore and the score in the score this converts this object into a dictionary and then you see that you know it has a bunch of attributes like API Jason ID ID SDR text and so on it's still kind of hard to see so what I would do here is I would extract all the keys by typing in that keys after the command that we used earlier and then you should see this these are basically the attributes of this particular class and it's much easy you know it's much easier to see you see attributes like created add ID you know this is probably the ID of the tweet and the text of the tweet and so so using this information we'll be able to you know if you wanna extract for example the texts you'll be able to just to mention this square bracket 0 which is an object dot text and this is the last weight that we sent out and then if you want to extract the ID which we're gonna use later you can just replace text with ID and then you get this and this is actually an integer I think by the way yes it is an integer so I think I went through a lot of stuff pretty quickly I really recommend you know that you I try running these same commands yourself and you know see how it goes and try to understand how everything fits together here anyway once you go through that press the up arrow key to find the command we used earlier to find all the mentions it was this one now that we know that this is the right command let's copy this command in our file my twitter bot pi and then let's use this mentions to you know print out all dimensions that we get from this command since this is just like a list you know we can iterate through it just like a list so we can do for mention a mentions and then let's just print the texts of this machine by typing a print mentioned that text and actually the ID is going to be useful later too so let's also type that in here with mention that ID plus mention dot text and since ID is an integer I mentioned that text is a string we can't do this we'll need to convert this ID into a string with the STR function and let's also add you know some spaces and maybe a hyphen here just to make it easier to see and this should print out all the mentions that we get from this command so let's save this file and let's see if that works go back to terminal and then let's keep our Python shell here and then just open a different tab of window and type in Python 3 my twitter bot dot pi let's see if it works okay it looks like it works we see a bunch of you know tweets here and the first six of these are the tweets that we created earlier okay the next thing we want to do is for each of these tweets we want to check if each of these tweets includes the hashtag hello world or not so go back to the Python terminal and then make sure that you still have this variable missions and let's just retrieve one of them mention zero let's just call this one T zero and then to get text we were able to do just teaser text we want to see you know if this includes a hashtag hello world the way I would go about it is I would first convert everything you know this string into lowercase because you know we won't just I think it's actually lower parentheses this text no actually sorry I should be a t 0 dot txt dot lower parenthesis okay so that works and the reason I want to convert it to a lowercase is because you know this hashtag hello world could be in any case right it could be all caps or it could be that you know H and W are capitalized and so or in it could be all lowercase but if we lowercase everything will be able to handle all the whole of those cases and then we want to say that is this lower lowercase version of the text include the hashtag hello world we can do that with this command quotes hello world close the quotes and then in this and this returns true if this hashtag is in there but if it's not in there for example hello world to is not in there it's going to return false so that's what we're going to use in our main file let's just copy this thing into our file here my twitter bot pi and then for mention emissions let's just do if the hashtag hello world is in the tweet instead of T zero use mention then prints will just say found hello world responding back dot dot dot let's see if this works so far by going back to the terminal and go back to the regular terminal or bash and then you know run this command again by three my twitter bot pi and let's see if that worked actually let's see just the top part we see a tweet six found hello world responding back and then we see a bunch of tweets and then tweet to hello world found hello world responding back so that's good it's working so far ok so so far I wanted to you know sort of show you the process by which I go about developing a script like this since this video is getting a little bit long let me just you know develop some more script and then once I'm done let me show you what's going on okay I wrote some more code here and for me to explain some of it you know I'll need to explain the idea of this code first so let's say you have you know these six mentions like we saw earlier tweettweet one two three four five six and you know with two tweets with this hashtag hello world now let's say the current time is here so these three tweets have been sent and these three tweets have it and when we run our script you know we're going to take a look at these three tweets right and then after these three tweets have been sent let's say in 15 seconds or in a minute whatever interval that you decide then we'll need to you know run our script again in that case we don't want to you know take a look at these three tweets again because we've already done that we don't want to respond to the same people over and over again so we'll need to make sure to store the ID of the last tweet and that we've seen so that's why I created a new file in the same folder called the last scene ID text so I decided to just store that ID in this file and then retrieve it every time we run our script you know it could be in a database or something but a text file is the simplest solution for this kind of stuff so I wrote these two functions for that retrieve last scene ID and store last scene ID retrieve last scene ID takes the file name you know this file name and then returns the last scene ID so if it takes this filename it's just gonna return this number as an integer and then a store last scene ID is the opposite of that it takes the new last scene ID and the file name and then it's just gonna write that new ID into this text file last scene I did text okay and if you want to play around with these functions and with the rest of the code like I said earlier you can just go to CS dojo da io / Twitter anyway let me just demonstrate to you how this whole thing works actually another thing I changed another major thing I changed is that when I goes through you know these measures I'm reversing lists that's for technical reason too but another reason is that you know it's a more natural way of thinking about it instead of going through you know tweet six to eight five two eight four we're going through you know old tweet firsts or tweets first and then responding to them first so it's gonna be you know to eat one first two three and so on okay and we're using another argument in this mentions timeline function the first argument of this function actually and that's last seen ID this way you know if the last seen ID is let's say you know the ID of this tweet let's say 91 then that API is gonna ignore this tweet and then give us you know these five tweets instead and actually I stored the idea of the first tweet in the comment right here so let me just copy and paste this ID in this you know lasting ID text that's actually what I already had but you know just to make sure we have the right ID and that way we should be able to see you know those five tweets let's see if that works and it does so we see a tweet two three four five and six and as you can see we're you know going to the oldest tweet first and then newest newest tweet last and once this is done you know this ID of tweets six should be in lassen I did that text and that's what we see here and since that's updated if we run point with Python three my Twitter but stop by again we should see no tweets because there have been no mentions you know since and the last tweet tweet six ok so so far all I've been doing is I've been just you know printing out these tweets and these comments we haven't been you know doing anything with those tweets so let me show you how to actually reply to those tweets to do that let me just you know copy the idea of the first tweet that we've seen and and go to our terminal and go to you know the Python shell again and then to respond to the particular tweet you need to use this command API dot update status and then at the username that's actually YK dojo let me just do that and then let's say hello world back to you and this is testing or this is just a test comma and then that ID so this should work let's go back to Twitter and let's see if we got it if we look at tweet one we see this new tweet hello back to you and this is just a test and that's the string that we wrote just earlier and to integrate that in our main code I'm gonna write this so after you know we make sure that HelloWorld is in the mission I'm gonna write API dot update status actually let me just copy and paste the command that we wrote earlier it was this one so copy and then go back to the editor paste it and instead of saying @ YK dojo manually I'm gonna write you know just at and then let's say plus we can actually use this command mention user dot screen underscore name plus and then let's use the hash tag here hello world back to you and then instead of using you know this ID manually I'm gonna write tweet or actually mention that ID so here let me copy the idea of the first tweet to last scene ID text and I save the file and once we run this whole thing this whole thing should work hopefully so let's go back to terminal and then run this again ok so it looks like we responded to tweet six without getting any earth let's check the result on Twitter let me refresh this page and I get hello world back to you that's actually perfect okay and the last step after this is to actually put this whole thing you know retrieving the last scene ID retrieving the missions and replying to some of them in a function and you see why in a second so put this whole thing in a function called reply to tweets just like that and then let's just put print replying to tweets da da da actually let's say retrieving and replying to tweets and then once we have this in a function if we do this it's just gonna be easier to see while true so this is gonna be an infinite loop I'll say we apply to tweets so we apply to tweets and then time that sleep 15 seconds so this stops this process for 15 seconds and then we start it after 15 seconds so this will we'll be able to you know run this function reply to tweets every 15 seconds and then to use this you need to import the time module at the beginning of this file by writing imports time and here just for testing let's change this to 2 seconds and let's see if it works go back to terminal and then run this file alright it looks like it's working and you know I just press command ctrl C to stop that and here the reason I'm comfortable enough with this code at this point is because you know I already tested everything in the function I just copy and pasted everything so it should work okay so let's change this time back to 15 seconds and once you run this in your terminal that's your BOTS but you know there's a problem here right if you just use your terminal as a bot you know you'll never be able to close it you'll never be able to go off the internet and that would be pretty billions so to solve that issue you need to put it online and actually at the easiest way to put it online I think is to use the website I mentioned earlier Python anywhere which again you can find at CSIRO slash PI let me just stop this process for now with ctrl C okay so once you sign up for Python anywhere you know just the free version is fine you'll be able to add files here in the file section so add home /yk dojo that's the home directory slash my Twitter bot dot pi I think that's the that's what the name was and I click new file and then I think there's a way to you know transfer files with git or something but for now you can just copy and paste everything in our file here so copy and paste everything here and then save click save and go back to the dashboard of Python anywhere you need to create another file actually and that was home your username slash last seen ID text so create that file and then copy the ID that you have in your last seen ID file locally click Save here and then go back to dashboard of Python anywhere again okay once you have those two files you can go to the console just click bash here this is just like the local console that we've been using so first type ls' to make sure you have my twitter bot pi and last seen ID text and then use the command that we used earlier you know I think that was a pip you or something and then the get URL to download tweet by and I think I've already done that so after that you can just do my Twitter bot up high and this should just work okay so I've been running a for a while now let's make sure this still works I'm gonna do that by going to Twitter and then by at mentioning a dojo it's dojo and then I'm gonna create two tweets the first one is gonna be tweet a with a hashtag hello world let's all cap here hello world I think that's spelled correctly and then the second tweet is gonna be tweets be without the hashtag let's say hello world okay so let's wait for 15 seconds or so let's see if it works you can actually go back to the console on Python anywhere you see you see that the spot found you know these two missions and then I think it's responding to only the first one tweet a let's wait for a bit and then let's make sure everything is correct on Twitter yeah it looks like it's everything is correct so I don't see any replies to tweet B and I do see a reply hello world back to you on tweet a okay so this method of using Python anywhere's console works but it turns out you know every half a day or so or maybe maybe every day this console kind of shuts down and then the script just starts stops working and if you don't mind you know restarting it every half a day or so then that's fine but if you don't want to do that there are you know a few ways of going around it one is you know you could try using other cloud services maybe like digital ocean or Heroku or something but another one is actually to use Python anywhere's function called alwayson tasks and apparently you know it's a function where you start up a script and then if it crashes it's just gonna you know start it automatically again so it looks like a pretty useful function you know I've been trying it for a while now and it's been working just fine so far but the thing is it's only in the paid option you know you need to pay five dollars a month so if you don't want to do that you know you should look into other options like I mentioned earlier anyway that's pretty much it for this video and I think I'm gonna keep running the script for at least for the next few weeks or so so if you add mission edit dojo with the hashtag hello world the spot might still work anyway thank you as always for watching my videos and I will see you guys in the next one
